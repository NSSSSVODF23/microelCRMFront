var HB=Object.defineProperty,VB=Object.defineProperties,zB=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,JB=Object.prototype.hasOwnProperty,QB=Object.prototype.propertyIsEnumerable,_I=(hn,ft,b)=>ft in hn?HB(hn,ft,{enumerable:!0,configurable:!0,writable:!0,value:b}):hn[ft]=b,lb=(hn,ft)=>{for(var b in ft||(ft={}))JB.call(ft,b)&&_I(hn,b,ft[b]);if(ow)for(var b of ow(ft))QB.call(ft,b)&&_I(hn,b,ft[b]);return hn},cb=(hn,ft)=>VB(hn,zB(ft)),Ci=(hn,ft,b)=>(_I(hn,"symbol"!=typeof ft?ft+"":ft,b),b);(self.webpackChunkfront=self.webpackChunkfront||[]).push([[179],{4e3:(hn,ft,b)=>{"use strict";b.d(ft,{Ji:()=>P,PJ:()=>x,S9:()=>d,U1:()=>_,aq:()=>L,ls:()=>u,mo:()=>r,x$:()=>R,zW:()=>f});var e=b(1777);const d=(0,e.X$)("flowInChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateY(-2rem)"}),(0,e.EY)(30,(0,e.jt)(".3s",(0,e.oB)({opacity:1,transform:"translateY(0)"})))],{optional:!0})])]),u=(0,e.X$)("flow",[(0,e.eR)(":enter",[(0,e.oB)({opacity:.6,transform:"translateY(.6rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateY(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateY(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateY(.6rem)"}))])]),f=(0,e.X$)("flowLeft",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(10rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateX(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateX(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateX(10rem)",height:0}))])]),_=(0,e.X$)("fade",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0}))])]),P=(0,e.X$)("fadeIn",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))])]),x=(0,e.X$)("fadeAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:.2})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),r=(0,e.X$)("fadeFullAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:1})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),R=(0,e.X$)("swipeChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(-2rem)"}),(0,e.EY)(85,[(0,e.jt)("250ms",(0,e.oB)({opacity:1,transform:"none"}))])],{optional:!0})])]),L=(0,e.X$)("swipe",[(0,e.SB)("default",(0,e.oB)({opacity:1,transform:"translateX(0)"})),(0,e.SB)("right",(0,e.oB)({opacity:0,transform:"translateX(10%) scale(0.9)",transformOrigin:"center right"})),(0,e.SB)("left",(0,e.oB)({opacity:0,transform:"translateX(-10%) scale(0.9)",transformOrigin:"center left"})),(0,e.eR)("default <=> right",(0,e.jt)("200ms ease-out")),(0,e.eR)("default <=> left",(0,e.jt)("200ms ease-out")),(0,e.eR)("right <=> left",(0,e.jt)("0s"))])},158:(hn,ft,b)=>{"use strict";b.d(ft,{_:()=>_,q:()=>P});var e=b(3470),d=b(5107),u=b(383),f=b(5e3);const _=[{path:"",loadChildren:()=>u.Ke.loadOrDefault("isOffsite",!1)?b.e(31).then(b.bind(b,8031)).then(x=>x.InstallersModule):Promise.resolve().then(b.bind(b,4075)).then(x=>x.MainModule),canActivate:[d.a],canActivateChild:[d.a]},{path:"login",loadChildren:()=>Promise.resolve().then(b.bind(b,975)).then(x=>x.LoginModule)}];let P=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=f.oAB({type:x}),x.\u0275inj=f.cJS({imports:[e.Bz.forRoot(_,{}),e.Bz]}),x})()},6081:(hn,ft,b)=>{"use strict";b.d(ft,{G:()=>bt});var e=b(655),d=b(5677),u=b(7579),f=b(9841),_=b(9300),P=b(8372),x=b(1135),r=b(8675),R=b(4004),L=b(3900),Q=b(8505),N=b(7384),T=b(2382),y=b(5e3),E=b(8738),D=b(8007),U=b(6768),B=b(9783),ce=b(9808),$=b(1874),V=b(3470),k=b(845),O=b(5315),K=b(1424),ue=b(4500),q=b(8952),G=b(1828),ne=b(6847),Ce=b(7514),oe=b(4383);function z(nt,de){1&nt&&(y.ynx(0),y.TgZ(1,"th",28),y._uU(2,"\u041f\u043e\u0440\u0442\u044b "),y._UZ(3,"p-sortIcon",29),y.qZA(),y.BQk())}function te(nt,de){1&nt&&(y.ynx(0),y.TgZ(1,"th"),y._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),y.qZA(),y.TgZ(3,"th",30),y._uU(4,"\u041b\u043e\u0433\u0438\u043d "),y._UZ(5,"p-sortIcon",31),y.qZA(),y.BQk())}function W(nt,de){1&nt&&(y.ynx(0),y.TgZ(1,"th"),y._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),y.qZA(),y.BQk())}function Y(nt,de){1&nt&&(y.TgZ(0,"th"),y._uU(1,"Ping"),y.qZA())}function Ae(nt,de){if(1&nt&&(y.TgZ(0,"tr"),y.YNc(1,z,4,0,"ng-container",15),y.YNc(2,te,6,0,"ng-container",15),y.YNc(3,W,3,0,"ng-container",15),y.TgZ(4,"th",16),y._uU(5,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "),y._UZ(6,"p-sortIcon",17),y.qZA(),y.TgZ(7,"th",18),y._uU(8,"\u0412 \u0441\u0435\u0442\u0438 "),y._UZ(9,"p-sortIcon",19),y.qZA(),y.TgZ(10,"th"),y._uU(11,"\u0410\u0434\u0440\u0435\u0441"),y.qZA(),y.TgZ(12,"th",20),y._uU(13,"IP \u0410\u0434\u0440\u0435\u0441 "),y._UZ(14,"p-sortIcon",21),y.qZA(),y.TgZ(15,"th",22),y._uU(16,"MAC \u0410\u0434\u0440\u0435\u0441 "),y._UZ(17,"p-sortIcon",23),y.qZA(),y.TgZ(18,"th",24),y._uU(19,"VLAN "),y._UZ(20,"p-sortIcon",25),y.qZA(),y.TgZ(21,"th",26),y._uU(22,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),y._UZ(23,"p-sortIcon",27),y.qZA(),y.YNc(24,Y,2,0,"th",15),y.qZA()),2&nt){const Qe=y.oxw();y.xp6(1),y.Q6J("ngIf","commutator"===Qe.filterMode),y.xp6(1),y.Q6J("ngIf","login"!==Qe.filterMode),y.xp6(1),y.Q6J("ngIf","login"===Qe.filterMode),y.xp6(21),y.Q6J("ngIf",Qe.ping)}}function Ee(nt,de){if(1&nt&&(y.ynx(0),y.TgZ(1,"td")(2,"span"),y._uU(3),y.qZA()(),y.BQk()),2&nt){const Qe=y.oxw().$implicit;y.xp6(3),y.Oqu(Qe.portList)}}function qe(nt,de){if(1&nt&&y._UZ(0,"app-colored-tag",41),2&nt){const Qe=de.ngIf;y.Q6J("caption",Qe.statusName)("color",Qe.statusColor)}}function ye(nt,de){1&nt&&y.GkF(0)}const Ge=function(){return{width:"65px"}};function X(nt,de){if(1&nt&&(y.ynx(0),y.YNc(1,ye,1,0,"ng-container",42),y.BQk()),2&nt){y.oxw(4);const Qe=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",y.DdM(2,Ge))}}function be(nt,de){if(1&nt&&(y.ynx(0),y.YNc(1,qe,1,2,"app-colored-tag",40),y.YNc(2,X,2,3,"ng-container",15),y.BQk()),2&nt){const Qe=y.oxw(2).$implicit,ze=y.oxw();y.xp6(1),y.Q6J("ngIf",ze.bindingsUserBriefs[Qe.authName]),y.xp6(1),y.Q6J("ngIf",!ze.bindingsUserBriefs[Qe.authName])}}const we=function(nt){return["/clients","billing","user",nt]};function Ie(nt,de){if(1&nt&&(y.TgZ(0,"span",43),y._uU(1),y.qZA()),2&nt){const Qe=y.oxw(2).$implicit;y.Q6J("routerLink",y.VKq(2,we,Qe.authName)),y.xp6(1),y.hij(" ",Qe.authName," ")}}function ct(nt,de){if(1&nt&&(y.ynx(0),y.TgZ(1,"td"),y.YNc(2,be,3,2,"ng-container",36),y.qZA(),y.TgZ(3,"td",38),y.NdJ("click",function(ze){return ze.stopPropagation()}),y.YNc(4,Ie,2,4,"span",39),y.qZA(),y.BQk()),2&nt){const Qe=y.oxw().$implicit;y.oxw();const ze=y.MAs(17);y.xp6(2),y.Q6J("ngIf",Qe.authName)("ngIfElse",ze),y.xp6(2),y.Q6J("ngIf",Qe.authName)("ngIfElse",ze)}}function dt(nt,de){1&nt&&(y.TgZ(0,"span",44),y._uU(1,"\u041e\u043d\u043b\u0430\u0439\u043d"),y.qZA())}function et(nt,de){1&nt&&(y.TgZ(0,"span",45),y._uU(1,"\u041e\u0444\u043b\u0430\u0439\u043d"),y.qZA())}function vt(nt,de){if(1&nt&&(y.ynx(0),y.TgZ(1,"td"),y.YNc(2,dt,2,0,"span",33),y.YNc(3,et,2,0,"span",34),y.qZA(),y.BQk()),2&nt){const Qe=y.oxw().$implicit;y.xp6(2),y.Q6J("ngIf","ONLINE"===Qe.onlineStatus),y.xp6(1),y.Q6J("ngIf","ONLINE"!==Qe.onlineStatus)}}function ht(nt,de){1&nt&&(y.TgZ(0,"span",44),y._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),y.qZA())}function Rt(nt,de){1&nt&&(y.TgZ(0,"span",45),y._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),y.qZA())}function Nt(nt,de){if(1&nt&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&nt){const Qe=de.ngIf;y.xp6(1),y.hij(" ",Qe.address," ")}}function At(nt,de){1&nt&&y.GkF(0)}const st=function(){return{width:"105px"}};function ot(nt,de){if(1&nt&&(y.ynx(0),y.YNc(1,At,1,0,"ng-container",42),y.BQk()),2&nt){y.oxw(3);const Qe=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",y.DdM(2,st))}}function ge(nt,de){if(1&nt&&(y.ynx(0),y.YNc(1,Nt,2,1,"span",15),y.YNc(2,ot,2,3,"ng-container",15),y.BQk()),2&nt){const Qe=y.oxw().$implicit,ze=y.oxw();y.xp6(1),y.Q6J("ngIf",ze.bindingsUserBriefs[Qe.authName]),y.xp6(1),y.Q6J("ngIf",!ze.bindingsUserBriefs[Qe.authName])}}function ke(nt,de){if(1&nt&&(y.TgZ(0,"td"),y._uU(1),y.qZA()),2&nt){const Qe=y.oxw().$implicit;y.xp6(1),y.Oqu(Qe.macaddr)}}function rt(nt,de){if(1&nt&&(y.TgZ(0,"td"),y._UZ(1,"app-binding-connection-location-view",46),y.qZA()),2&nt){const Qe=y.oxw().$implicit;y.xp6(1),y.Q6J("binding",Qe)}}function yt(nt,de){if(1&nt&&(y.ynx(0),y.TgZ(1,"span",0)(2,"span"),y._uU(3),y.ALo(4,"number"),y.qZA(),y.TgZ(5,"span"),y._uU(6),y.ALo(7,"number"),y.qZA()(),y.BQk()),2&nt){const Qe=de.ngIf;y.xp6(1),y.Q6J("ngClass",Qe.styleClass),y.xp6(2),y.hij(" ",999===Qe.latency?"- ":y.xi3(4,3,Qe.latency,"1.2-2"),"\u043c\u0441 "),y.xp6(3),y.hij(" ",y.xi3(7,6,Qe.loss,"1.2-2"),"% ")}}function Pt(nt,de){1&nt&&y.GkF(0)}const Ht=function(){return{width:"85px"}};function Ot(nt,de){if(1&nt&&(y.ynx(0),y.YNc(1,Pt,1,0,"ng-container",42),y.BQk()),2&nt){y.oxw(4);const Qe=y.MAs(15);y.xp6(1),y.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",y.DdM(2,Ht))}}function Ye(nt,de){if(1&nt&&(y.ynx(0),y.YNc(1,yt,8,9,"ng-container",15),y.ALo(2,"async"),y.YNc(3,Ot,2,3,"ng-container",15),y.ALo(4,"async"),y.BQk()),2&nt){const Qe=y.oxw(2).$implicit,ze=y.oxw();y.xp6(1),y.Q6J("ngIf",y.lcZ(2,2,ze.bindingsPings[Qe.ipaddr])),y.xp6(2),y.Q6J("ngIf",!y.lcZ(4,4,ze.bindingsPings[Qe.ipaddr]))}}function lt(nt,de){if(1&nt&&(y.TgZ(0,"td"),y.YNc(1,Ye,5,6,"ng-container",36),y.qZA()),2&nt){const Qe=y.oxw().$implicit;y.oxw();const ze=y.MAs(17);y.xp6(1),y.Q6J("ngIf",Qe.ipaddr)("ngIfElse",ze)}}function Ke(nt,de){if(1&nt){const Qe=y.EpF();y.TgZ(0,"tr",32),y.NdJ("click",function(kt){const $t=y.CHM(Qe).$implicit,gn=y.oxw(),Gt=y.MAs(6);return y.KtG(gn.selectBinding(kt,$t,Gt))}),y.YNc(1,Ee,4,1,"ng-container",15),y.YNc(2,ct,5,4,"ng-container",15),y.YNc(3,vt,4,2,"ng-container",15),y.TgZ(4,"td"),y.YNc(5,ht,2,0,"span",33),y.YNc(6,Rt,2,0,"span",34),y.qZA(),y.TgZ(7,"td"),y._UZ(8,"app-time-elapsed",35),y.qZA(),y.TgZ(9,"td"),y.YNc(10,ge,3,2,"ng-container",36),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.YNc(13,ke,2,1,"td",15),y.YNc(14,rt,2,1,"td",15),y.TgZ(15,"td"),y._uU(16),y.qZA(),y.TgZ(17,"td")(18,"div",37),y._uU(19),y.qZA()(),y.YNc(20,lt,2,2,"td",15),y.qZA()}if(2&nt){const Qe=de.$implicit,ze=y.oxw(),kt=y.MAs(17);y.xp6(1),y.Q6J("ngIf","commutator"===ze.filterMode),y.xp6(1),y.Q6J("ngIf","login"!==ze.filterMode),y.xp6(1),y.Q6J("ngIf","login"===ze.filterMode),y.xp6(2),y.Q6J("ngIf",Qe.isAuth),y.xp6(1),y.Q6J("ngIf",!Qe.isAuth),y.xp6(2),y.Q6J("startTime",Qe.leaseStart),y.xp6(2),y.Q6J("ngIf",Qe.authName)("ngIfElse",kt),y.xp6(2),y.Oqu(Qe.ipaddr),y.xp6(1),y.Q6J("ngIf","commutator"===ze.filterMode),y.xp6(1),y.Q6J("ngIf","commutator"!==ze.filterMode),y.xp6(2),y.Oqu(Qe.vlanid),y.xp6(3),y.hij(" ",Qe.dhcpHostname," "),y.xp6(1),y.Q6J("ngIf",ze.ping)}}function Tt(nt,de){if(1&nt){const Qe=y.EpF();y.TgZ(0,"p-button",47),y.NdJ("onClick",function(){y.CHM(Qe);const kt=y.oxw();return y.KtG(kt.bindingsUpdator$.next(!0))}),y.qZA()}if(2&nt){const Qe=y.oxw();y.Q6J("disabled",Qe.bindingsLoadingState!==Qe.LoadingState.READY)}}function se(nt,de){1&nt&&y._UZ(0,"p-skeleton",48),2&nt&&y.Q6J("width",de.width)}function Fe(nt,de){1&nt&&(y.TgZ(0,"span",49),y._uU(1," - "),y.qZA())}const he=function(nt){return{"flex flex-grow-1 overflow-hidden border-round border-1 border-bluegray-100":nt}},mt=function(){return[]},cn=function(nt){return{field:"leaseStart",order:nt}},Tn=function(nt){return[nt]},tn=function(){return[10,25,50,100]};let bt=class{constructor(de,Qe,ze,kt){this.api=de,this.rt=Qe,this.blockService=ze,this.toast=kt,this.LoadingState=N.Gu,this.inline=!1,this.ping=!0,this.filterId$=new u.x,this.filterMode$=new u.x,this.bindingsStatus$=new u.x,this.filterOptionsChanged$=(0,f.a)([this.filterId$.pipe((0,_.h)(Ze=>!!Ze)),this.filterMode$.pipe((0,_.h)(Ze=>!!Ze))]).pipe((0,P.b)(1)),this.bindingsLoadingState=N.Gu.LOADING,this.bindingsTableOffset=0,this.bindingsPings={},this.bindingsUserBriefs={},this.bindingContextOptions=[],this.userAuthDialogVisible=!1,this.selectBindingForAuth=null,this.authUserForm=new T.cw({login:new T.NI("",[T.kI.required]),macaddr:new T.NI("",[T.kI.required])}),this.bindingsLazyLoad$=new u.x,this.bindingsUpdator$=new x.X(!0),this.filterData$=(0,f.a)([this.bindingsLazyLoad$,this.bindingsStatus$.pipe((0,r.O)(void 0))]).pipe((0,P.b)(1),(0,R.U)(([{first:Ze,rows:$t,multiSortMeta:gn},Gt])=>({page:Ze/$t,filter:{size:$t,status:Gt,sort:gn}}))),this.bindingRTUpdate$=this.filterOptionsChanged$.pipe((0,L.w)(([Ze,$t])=>this.rt.acpDhcpBindingUpdated().pipe((0,_.h)(gn=>"login"===$t?gn.authName===Ze:"vlan"===$t&&gn.vlanid===Number.parseInt(Ze)))),(0,r.O)(null)),this.bindings$=(0,f.a)([this.filterOptionsChanged$,this.filterData$,this.bindingsUpdator$,this.bindingRTUpdate$]).pipe((0,Q.b)(()=>this.bindingsLoadingState=N.Gu.LOADING),(0,L.w)(([[Ze,$t],{page:gn,filter:Gt}])=>"login"===$t?this.api.getBindingsByLogin(Ze,gn,Gt):"vlan"===$t?this.api.getBindingsByVlan(Number.parseInt(Ze),gn,Gt):"building-by-login"===$t?this.api.getBindingsFromBuildingByLogin(Ze,gn,Gt):"commutator"===$t?this.api.getBindingsByCommutator(Ze,gn,Gt):this.api.getBindingsByBuildingId(Number.parseInt(Ze),gn,Gt)),(0,Q.b)({next:Ze=>{this.bindingsLoadingState=N.Gu.READY,this.bindingsPings={},this.bindingsUserBriefs={};for(const{ipaddr:$t}of Ze.content)$t&&(this.bindingsPings[$t]=this.pingObserver($t));this.api.getBulkUserBriefInfo(Ze.content.filter($t=>$t.authName).map($t=>$t.authName)).subscribe($t=>this.bindingsUserBriefs=$t)},error:()=>this.bindingsLoadingState=N.Gu.ERROR})),this.bindingsPage=null,this.bindingsPageSub=this.bindings$.subscribe(Ze=>this.bindingsPage=Ze)}ngOnInit(){}selectBinding(de,Qe,ze){const{clientX:kt,clientY:Ze}=de,$t=document.createElement("div");$t.className="fixed w-1rem h-1rem pointer-events-none",$t.style.left=kt+"px",$t.style.top=Ze+"px",document.body.appendChild($t),this.bindingContextOptions=[{icon:"mdi-web",label:"\u0423\u0434\u0430\u043b\u0435\u043d\u043a\u0430",disabled:!Qe.ipaddr,command:()=>{this.openWeb(Qe.ipaddr)}},{icon:"mdi-password",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",command:()=>{this.selectBindingForAuth=Qe,this.userAuthDialogVisible=!0,this.authUserForm.reset({login:this.preparedAuthLogin?this.preparedAuthLogin:"",macaddr:Qe.macaddr})}}],ze.show(de),setTimeout(()=>{ze.target=$t,ze.alignOverlay(),document.body.removeChild($t)})}authUser(){const{login:de,macaddr:Qe}=this.authUserForm.value;!de||!Qe||(this.blockService.wait({message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"}),this.api.authDhcpBinding(de,Qe).subscribe({next:()=>{this.blockService.unblock(),this.userAuthDialogVisible=!1},error:()=>this.blockService.unblock()}))}openWeb(de){this.blockService.wait({message:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430"}),this.api.checkRemoteControl(de).subscribe({next:Qe=>{this.blockService.unblock(),Qe.hasAccess&&Qe.webPort?window.open(`http://${de}:${Qe.webPort}`,"_blank"):this.toast.add({detail:"\u041d\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430",severity:"dark",key:"darktoast",icon:"mdi-web",closable:!1})},error:()=>{this.blockService.unblock()}})}pingObserver(de){return this.rt.pingMonitoring(de).pipe((0,R.U)(Qe=>{const ze=100-Qe.reachablePercentage;return{online:Qe.isReachable,latency:Qe.delayAvg,loss:ze,styleClass:ze>0?"text-red-400":"text-green-400"}}))}};bt.\u0275fac=function(de){return new(de||bt)(y.Y36(E.s),y.Y36(D.U),y.Y36(U.A),y.Y36(B.ez))},bt.\u0275cmp=y.Xpm({type:bt,selectors:[["app-bindings-table"]],inputs:{filterId:"filterId",filterMode:"filterMode",bindingsStatus:"bindingsStatus",inline:"inline",preparedAuthLogin:"preparedAuthLogin",ping:"ping"},decls:18,vars:30,consts:[[3,"ngClass"],["styleClass","p-datatable-sm flex-grow-1","dataKey","id","paginatorDropdownAppendTo","body","currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u0441\u0435\u0441\u0441\u0438\u0439","sortMode","multiple",1,"flex-grow-1",3,"value","totalRecords","showCurrentPageReport","multiSortMeta","rowsPerPageOptions","paginator","first","lazy","rows","firstChange","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorright"],["appendTo","body",3,"popup","model"],["bindingContextPanel",""],["header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c","appendTo","body","contentStyleClass","flex flex-column gap-3",3,"visible","modal","draggable","dismissableMask","visibleChange"],["userAuthDialog",""],[1,"font-bold","text-bluegray-500"],[1,"flex","gap-3",3,"formGroup"],["pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","login",1,"flex-grow-1",3,"autofocus"],["pButton","","type","button","label","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c",1,"p-button-success",3,"disabled","click"],["loadingCellTemplate",""],["emptyCellTemplate",""],[4,"ngIf"],["pSortableColumn","authExpire"],["field","authExpire"],["pSortableColumn","leaseStart"],["field","leaseStart"],["pSortableColumn","ipaddr"],["field","ipaddr"],["pSortableColumn","macaddr"],["field","macaddr"],["pSortableColumn","vlanid"],["field","vlanid"],["pSortableColumn","dhcpHostname"],["field","dhcpHostname"],["pSortableColumn","ports"],["field","ports"],["pSortableColumn","authName"],["field","authName"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"click"],["class","font-bold text-green-400",4,"ngIf"],["class","font-bold text-gray-400",4,"ngIf"],["type","short",3,"startTime"],[4,"ngIf","ngIfElse"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[1,"font-bold","text-primary","hover:text-primary-700","cursor-pointer",3,"click"],[3,"routerLink",4,"ngIf","ngIfElse"],[3,"caption","color",4,"ngIf"],[3,"caption","color"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLink"],[1,"font-bold","text-green-400"],[1,"font-bold","text-gray-400"],[3,"binding"],["type","button","icon","mdi-update","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],[3,"width"],[1,"text-bluegray-300","text-xl","font-bold"]],template:function(de,Qe){if(1&de&&(y.TgZ(0,"div",0)(1,"p-table",1),y.NdJ("firstChange",function(kt){return Qe.bindingsTableOffset=kt})("onLazyLoad",function(kt){return Qe.bindingsLazyLoad$.next(kt)}),y.YNc(2,Ae,25,4,"ng-template",2),y.YNc(3,Ke,21,14,"ng-template",3),y.YNc(4,Tt,1,1,"ng-template",4),y.qZA()(),y._UZ(5,"p-menu",5,6),y.TgZ(7,"p-dialog",7,8),y.NdJ("visibleChange",function(kt){return Qe.userAuthDialogVisible=kt}),y.TgZ(9,"span",9),y._uU(10),y.qZA(),y.TgZ(11,"div",10),y._UZ(12,"input",11),y.TgZ(13,"button",12),y.NdJ("click",function(){return Qe.authUser()}),y.qZA()()(),y.YNc(14,se,1,1,"ng-template",null,13,y.W1O),y.YNc(16,Fe,2,0,"ng-template",null,14,y.W1O)),2&de){let ze,kt;y.Q6J("ngClass",y.VKq(22,he,!Qe.inline)),y.xp6(1),y.Q6J("value",null!==(ze=null==Qe.bindingsPage?null:Qe.bindingsPage.content)&&void 0!==ze?ze:y.DdM(24,mt))("totalRecords",null!==(kt=null==Qe.bindingsPage?null:Qe.bindingsPage.totalElements)&&void 0!==kt?kt:0)("showCurrentPageReport",!0)("multiSortMeta",y.VKq(27,Tn,y.VKq(25,cn,-1)))("rowsPerPageOptions",y.DdM(29,tn))("paginator",!0)("first",Qe.bindingsTableOffset)("lazy",!0)("rows",10),y.xp6(4),y.Q6J("popup",!0)("model",Qe.bindingContextOptions),y.xp6(2),y.Q6J("visible",Qe.userAuthDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),y.xp6(3),y.lnq("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 ",null==Qe.selectBindingForAuth?null:Qe.selectBindingForAuth.dhcpHostname," ",null==Qe.selectBindingForAuth?null:Qe.selectBindingForAuth.ipaddr," ",null==Qe.selectBindingForAuth?null:Qe.selectBindingForAuth.macaddr,""),y.xp6(1),y.Q6J("formGroup",Qe.authUserForm),y.xp6(1),y.Q6J("autofocus",!0),y.xp6(1),y.Q6J("disabled",Qe.authUserForm.invalid)}},dependencies:[ce.mk,ce.O5,ce.tP,$.v2,V.rH,k.Hq,k.zx,T.Fj,T.JJ,T.JL,B.jx,O.V,K.o,ue.O,T.sg,T.u,q.iA,q.lQ,q.fz,G.C,ne.j,Ce.x,oe.O,ce.Ov,ce.JJ]}),(0,e.gn)([(0,d.bQ)("filterId")],bt.prototype,"filterId$",void 0),(0,e.gn)([(0,d.bQ)("filterMode")],bt.prototype,"filterMode$",void 0),(0,e.gn)([(0,d.bQ)("bindingsStatus")],bt.prototype,"bindingsStatus$",void 0),bt=(0,e.gn)([(0,d.kG)()],bt)},9706:(hn,ft,b)=>{"use strict";b.d(ft,{J:()=>oe});var e=b(4004),d=b(2382),u=b(5e3),f=b(8028),_=b(3470),P=b(8738),x=b(9744),r=b(9808),R=b(1874),L=b(845),Q=b(4036),N=b(9783),T=b(5315),y=b(85),E=b(3877),D=b(5072),U=b(3460);const B=["menu"];function ce(z,te){1&z&&u.GkF(0)}function $(z,te){if(1&z){const W=u.EpF();u.ynx(0),u.TgZ(1,"p-button",26),u.NdJ("onClick",function(Ae){u.CHM(W),u.oxw(2);const Ee=u.MAs(19);return u.KtG(Ee.toggle(Ae))}),u.qZA(),u.YNc(2,ce,1,0,"ng-container",27),u.BQk()}if(2&z){const W=u.oxw(2),Y=u.MAs(23),Ae=u.MAs(21);u.xp6(2),u.Q6J("ngIf",W.notifyService.isHasUnread)("ngIfThen",Y)("ngIfElse",Ae)}}function V(z,te){if(1&z&&(u.ynx(0),u._UZ(1,"app-avatar",21),u.TgZ(2,"div",22)(3,"span",23),u._uU(4),u.qZA(),u.TgZ(5,"span",24),u._uU(6),u.qZA()(),u.YNc(7,$,3,3,"ng-container",25),u.BQk()),2&z){const W=te.ngIf;u.oxw();const Y=u.MAs(25);u.xp6(1),u.Q6J("name",W.fullName)("size",3)("src",W.avatar),u.xp6(3),u.Oqu(W.fullName),u.xp6(2),u.Oqu(null==W.position?null:W.position.name),u.xp6(1),u.Q6J("ngIf",!W.offsite)("ngIfElse",Y)}}function k(z,te){1&z&&(u.TgZ(0,"div",28),u._UZ(1,"i",29),u.qZA())}function O(z,te){if(1&z&&u._UZ(0,"img",30),2&z){const W=u.oxw();u.Q6J("src",W.croppedImage,u.LSH)}}const K=function(){return[]};function ue(z,te){if(1&z){const W=u.EpF();u._UZ(0,"p-dropdown",31),u.ALo(1,"async"),u.TgZ(2,"p-button",32),u.NdJ("onClick",function(){u.CHM(W);const Ae=u.oxw();return u.KtG(Ae.bindPhone())}),u.qZA()}if(2&z){const W=u.oxw();let Y;u.Q6J("options",null!==(Y=u.lcZ(1,4,W.phones$))&&void 0!==Y?Y:u.DdM(6,K))("formControl",W.phyPhoneControl)("disabled",W.isPhyPhoneIsBinding),u.xp6(2),u.Q6J("loading",W.isPhyPhoneIsBinding)}}function q(z,te){if(1&z){const W=u.EpF();u.TgZ(0,"p-button",33),u.NdJ("onClick",function(){u.CHM(W);const Ae=u.oxw();return u.KtG(Ae.notifyService.showSideBar())}),u.qZA()}}function G(z,te){if(1&z){const W=u.EpF();u.TgZ(0,"span",34)(1,"p-button",35),u.NdJ("onClick",function(){u.CHM(W);const Ae=u.oxw();return u.KtG(Ae.notifyService.showSideBar())}),u.qZA()()}if(2&z){const W=u.oxw();u.Q6J("value",W.notifyService.unreadCount.toString())}}function ne(z,te){if(1&z){const W=u.EpF();u.TgZ(0,"p-button",36),u.NdJ("onClick",function(){u.CHM(W);const Ae=u.oxw();return u.KtG(Ae.exitFromAccount())}),u.qZA()}}const Ce=function(){return{maxWidth:"40vw",minWidth:"15rem",height:"fit-content"}};let oe=(()=>{class z{constructor(W,Y,Ae,Ee){this.personality=W,this.router=Y,this.api=Ae,this.notifyService=Ee,this.avatarChangeDialogVisible=!1,this.phyPhoneSelectionDialogVisible=!1,this.phyPhoneControl=new d.NI(null),this.isPhyPhoneIsBinding=!1,this.controls=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",command:()=>this.avatarChangeDialogVisible=!0},{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d",command:()=>this.openPhyPhoneSelectionDialog()},{label:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",command:this.exitFromAccount.bind(this)}],this.imageChangedEvent="",this.croppedImage="",this.avatarUpload=!1,this.phones$=this.api.getPhyPhoneList().pipe((0,e.U)(qe=>[{label:"\u0411\u0435\u0437 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:null},...qe]))}ngOnInit(){}exitFromAccount(){this.api.signOut().subscribe(()=>{this.router.navigate(["/login"]).then()})}openPhyPhoneSelectionDialog(){var W,Y;this.personality.me&&this.phyPhoneControl.setValue(null!==(Y=null===(W=this.personality.me.phyPhoneInfo)||void 0===W?void 0:W.phyPhoneInfoId)&&void 0!==Y?Y:null),this.phyPhoneSelectionDialogVisible=!0}imageCropped(W){this.croppedImage=W.base64}imageLoaded(W){}cropperReady(){}loadImageFailed(){}saveAvatar(){!this.croppedImage||(this.avatarUpload=!0,this.api.setAvatar(this.croppedImage).subscribe({next:()=>{this.avatarUpload=!1,this.avatarChangeDialogVisible=!1,this.imageChangedEvent=void 0},error:()=>{this.avatarUpload=!1}}))}selectFile(W){W.click()}bindPhone(){this.isPhyPhoneIsBinding=!0,this.api.setPhyPhoneBind(this.phyPhoneControl.value).subscribe({next:()=>{this.isPhyPhoneIsBinding=!1,this.phyPhoneSelectionDialogVisible=!1},error:()=>{this.isPhyPhoneIsBinding=!1}})}ngOnDestroy(){}}return z.\u0275fac=function(W){return new(W||z)(u.Y36(f.F),u.Y36(_.F0),u.Y36(P.s),u.Y36(x.T))},z.\u0275cmp=u.Xpm({type:z,selectors:[["app-account-panel"]],viewQuery:function(W,Y){if(1&W&&u.Gf(B,5),2&W){let Ae;u.iGM(Ae=u.CRH())&&(Y.accountPanelMenu=Ae.first)}},decls:26,vars:31,consts:[[1,"flexed","hcenter","gap5","wrapper"],[4,"ngIf"],["appendTo","body","header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],[1,"avatar-change-content"],[1,"flexed","gap10","p5","hcenter","vcenter"],[1,"preview-wrapper"],["class","preview unselect",4,"ngIf"],["class","preview","alt","",3,"src",4,"ngIf"],[1,"flexed","column","gap5"],["label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-image","styleClass","p-button-text p-button-secondary",3,"disabled","onClick"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-upload",3,"loading","disabled","onClick"],["type","file","accept","image/jpeg, image/png, image/jpg, image/bmp",3,"change"],["fileInput",""],["format","png",3,"aspectRatio","cropperMinWidth","cropperMinHeight","imageChangedEvent","maintainAspectRatio","cropperReady","imageCropped","imageLoaded","loadImageFailed"],["appendTo","body","header","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d","contentStyleClass","flex gap-3 align-items-center pt-1",3,"visible","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["appendTo","body","appCloseIfScroll","",3,"model","popup","baseZIndex","isVisible","alignFn"],["menu",""],["emptyNoti",""],["fullNoti",""],["logoutButtonTemp",""],[3,"name","size","src"],[1,"flexed","column","account"],[1,"account-name"],[1,"account-position"],[4,"ngIf","ngIfElse"],["icon","mdi-more_vert","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"preview","unselect"],[1,"mdi-image"],["alt","",1,"preview",3,"src"],["appendTo","body",3,"options","formControl","disabled"],["label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c",3,"loading","onClick"],["icon","mdi-notifications_none","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["pBadge","","severity","warning",3,"value"],["icon","mdi-notifications_active","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["label","\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430","icon","mdi-logout","styleClass","p-button-text p-button-secondary",3,"onClick"]],template:function(W,Y){if(1&W){const Ae=u.EpF();u.TgZ(0,"div",0),u.YNc(1,V,8,7,"ng-container",1),u.qZA(),u.TgZ(2,"p-dialog",2),u.NdJ("visibleChange",function(qe){return Y.avatarChangeDialogVisible=qe}),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5),u.YNc(6,k,2,0,"div",6),u.YNc(7,O,1,1,"img",7),u.TgZ(8,"span"),u._uU(9," \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),u.qZA()(),u.TgZ(10,"div",8)(11,"p-button",9),u.NdJ("onClick",function(){u.CHM(Ae);const qe=u.MAs(14);return u.KtG(Y.selectFile(qe))}),u.qZA(),u.TgZ(12,"p-button",10),u.NdJ("onClick",function(){return Y.saveAvatar()}),u.qZA()(),u.TgZ(13,"input",11,12),u.NdJ("change",function(qe){return Y.imageChangedEvent=qe}),u.qZA()(),u.TgZ(15,"image-cropper",13),u.NdJ("cropperReady",function(){return Y.cropperReady()})("imageCropped",function(qe){return Y.imageCropped(qe)})("imageLoaded",function(qe){return Y.imageLoaded(qe)})("loadImageFailed",function(){return Y.loadImageFailed()}),u.qZA()()(),u.TgZ(16,"p-dialog",14),u.NdJ("visibleChange",function(qe){return Y.phyPhoneSelectionDialogVisible=qe}),u.YNc(17,ue,3,7,"ng-template",15),u.qZA(),u._UZ(18,"p-menu",16,17),u.YNc(20,q,1,0,"ng-template",null,18,u.W1O),u.YNc(22,G,2,1,"ng-template",null,19,u.W1O),u.YNc(24,ne,1,0,"ng-template",null,20,u.W1O)}if(2&W){const Ae=u.MAs(19);u.xp6(1),u.Q6J("ngIf",Y.personality.me),u.xp6(1),u.Q6J("visible",Y.avatarChangeDialogVisible)("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),u.xp6(4),u.Q6J("ngIf",!Y.croppedImage),u.xp6(1),u.Q6J("ngIf",Y.croppedImage),u.xp6(4),u.Q6J("disabled",Y.avatarUpload),u.xp6(1),u.Q6J("loading",Y.avatarUpload)("disabled",!Y.croppedImage),u.xp6(1),u.Udp("display","none"),u.xp6(2),u.Akn(u.DdM(30,Ce)),u.Q6J("aspectRatio",1)("cropperMinWidth",64)("cropperMinHeight",64)("imageChangedEvent",Y.imageChangedEvent)("maintainAspectRatio",!0),u.xp6(1),u.Q6J("visible",Y.phyPhoneSelectionDialogVisible)("draggable",!0)("modal",!0)("resizable",!1)("dismissableMask",!0),u.xp6(2),u.Q6J("model",Y.controls)("popup",!0)("baseZIndex",2e3)("isVisible",Ae.visible)("alignFn",Ae.alignOverlay.bind(Ae))}},dependencies:[r.O5,R.v2,L.zx,d.JJ,Q.Lt,N.jx,T.V,y.lM,E.ap,d.oH,D.A,U.j,r.Ov],styles:[".avatar-change-content[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]{display:grid;gap:1rem}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.preview-wrapper[_ngcontent-%COMP%]{display:grid;gap:.5rem;background-color:var(--bgc-100);border-radius:1rem;color:var(--tc-600);justify-items:center;padding:1rem;font-weight:700}.preview-wrapper[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:6rem;height:6rem;border-radius:50%;object-fit:cover;object-position:center}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]{background-color:var(--bgc-400);border:1px solid var(--bgc-500);color:#fff;font-size:1.5rem;position:relative}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;transform-origin:center;top:50%;left:50%;transform:translate(-50%,-50%)}.account-name[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1.1rem;white-space:nowrap}.account-position[_ngcontent-%COMP%]{color:var(--tc-500);font-size:.9rem}.cropper-style[_ngcontent-%COMP%]{min-width:20rem;min-height:20rem;max-width:50vw;max-height:50vh;border:1px solid var(--bgc-300);border-radius:.5rem;overflow:hidden}.avatar-preview[_ngcontent-%COMP%]{width:10rem;height:10rem;margin-top:.5rem;overflow:hidden;border-radius:50%;display:grid;grid:1fr/1fr;outline:var(--bgc-300) solid 2px;outline-offset:1px}.avatar-preview[_ngcontent-%COMP%] > .ph[_ngcontent-%COMP%]{background-color:var(--bgc-500);color:#fff;font-weight:500}.avatar-preview[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:inherit;height:inherit}.avatar-preview-image[_ngcontent-%COMP%]{width:inherit;height:inherit;z-index:1}.noti[_ngcontent-%COMP%]{margin:0}"]}),z})()},9138:(hn,ft,b)=>{"use strict";b.d(ft,{N:()=>T});var e=b(5e3),d=b(2382),u=b(7579),f=b(8372),_=b(3900),P=b(599),x=b(4782),r=b(383),R=b(8738),L=b(2145),Q=b(9808);const N=function(){return[]};let T=(()=>{class y{constructor(D){this.api=D,this.control=new d.NI(null),this.queryInput=new u.x,this.suggestions$=this.queryInput.pipe((0,f.b)(500),(0,_.w)(U=>this.api.getBuildings(U)),(0,P.r)(),(0,x.d)(1)),this.subscriptions=new r.xf,this.onChange=U=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("chng",this.control.valueChanges.subscribe(D=>{this.onChange(D)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(D){this.onChange=D}registerOnTouched(D){this.onTouched=D}setDisabledState(D){D?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}writeValue(D){this.control.patchValue(D)}}return y.\u0275fac=function(D){return new(D||y)(e.Y36(R.s))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-acp-house-input"]],features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>y),multi:!0}])],decls:2,vars:9,consts:[["emptyMessage","\u0410\u0434\u0440\u0435\u0441\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","field","fullName","placeholder","\u0410\u0434\u0440\u0435\u0441...","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","onClear","onBlur","completeMethod"]],template:function(D,U){if(1&D&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onClear",function(){return U.control.patchValue(null)})("onBlur",function(){return U.onTouched()})("completeMethod",function(ce){return U.queryInput.next(ce.query)}),e.ALo(1,"async"),e.qZA()),2&D){let B;e.Q6J("formControl",U.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",null!==(B=e.lcZ(1,6,U.suggestions$))&&void 0!==B?B:e.DdM(8,N))("forceSelection",!1)("completeOnFocus",!0)}},dependencies:[d.JJ,d.oH,L.Qc,Q.Ov]}),y})()},1179:(hn,ft,b)=>{"use strict";b.d(ft,{r:()=>et});var Ce,e=b(655),d=b(4707),u=b(3900),f=b(4326),_=b(1135),P=b(8372),x=b(9841),r=b(4004),R=b(8675),L=b(8505),Q=b(7579),N=b(9646),T=b(2382),y=b(5677),E=b(5e3),D=b(8738),U=b(9783),B=b(6768),ce=b(9808),$=b(845),V=b(7010),k=b(5315),O=b(1424),K=b(2537),ue=b(3640),q=b(2145),G=b(242),ne=b(9138);const oe=["houseControl"],z=["houseNotFoundPanel"],te=["isApartmentHousePanel"];function W(vt,ht){if(1&vt){const Rt=E.EpF();E.TgZ(0,"input",22,23),E.NdJ("focus",function(){E.CHM(Rt);const At=E.oxw();return E.KtG(At.isHouseControlFocused$.next(!0))})("blur",function(){E.CHM(Rt);const At=E.oxw();return E.KtG(At.isHouseControlFocused$.next(!1))})("input",function(){E.CHM(Rt);const At=E.MAs(1),st=E.oxw();return E.KtG(st.houseInputChange$.next(At.value))})("ngModelChange",function(At){E.CHM(Rt);const st=E.oxw();return E.KtG(st.selectedHouse=At)}),E.ALo(2,"async"),E.qZA()}if(2&vt){const Rt=E.oxw();E.Q6J("ngClass",E.lcZ(2,3,Rt.houseInputClasses$))("size",16)("ngModel",Rt.selectedHouse)}}function Y(vt,ht){if(1&vt){const Rt=E.EpF();E.TgZ(0,"span",28),E.NdJ("click",function(){const st=E.CHM(Rt).$implicit,ot=E.oxw(3);return E.KtG(ot.forcedAddress$.next(st))}),E._uU(1),E.qZA()}if(2&vt){const Rt=ht.$implicit;E.xp6(1),E.hij(" ",Rt.tailPart," ")}}function Ae(vt,ht){if(1&vt&&(E.TgZ(0,"div",25)(1,"span",26),E._uU(2,"\u0418\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445:"),E.qZA(),E.TgZ(3,"div",25),E.YNc(4,Y,2,1,"span",27),E.qZA()()),2&vt){const Rt=E.oxw().ngIf;E.xp6(4),E.Q6J("ngForOf",Rt.foundAddresses)}}function Ee(vt,ht){if(1&vt&&(E.ynx(0),E.YNc(1,Ae,5,1,"div",24),E.BQk()),2&vt){const Rt=ht.ngIf;let Nt;E.xp6(1),E.Q6J("ngIf",(null!==(Nt=null==Rt.foundAddresses?null:Rt.foundAddresses.length)&&void 0!==Nt?Nt:0)>0)}}function qe(vt,ht){if(1&vt){const Rt=E.EpF();E.ynx(0),E.TgZ(1,"div",5)(2,"span",6),E._uU(3,"\u0414\u043e\u043c \u043d\u0435 \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439"),E.qZA(),E.TgZ(4,"p-button",29),E.NdJ("onClick",function(){const st=E.CHM(Rt).ngIf,ot=E.oxw();return E.KtG(ot.confirmMakeTheHouseAnApartmentBuilding(st))}),E.qZA()(),E.BQk()}}const ye=function(){return[]},Ge="^(?<houseNum>\\d{1,6})(\\/(?<fraction>\\d{1,3}))?(?<letter>[\u0430-\u044f]{1})?((_| \u0441\u0442?\u0440?\\.?)(?<build>\\d{1,2}))?",X=["(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))?( (\u043f\\.?|\u043f\u043e\u0434\\.?|\u043f\u043e\u0434\u044a\u0435\u0437\u0434) ?(?<entrance>\\d{1,3}))( (\u044d\\.?|\u044d\u0442\\.?|\u044d\u0442\u0430\u0436) ?(?<floor>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?","(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))?( (\u044d\\.?|\u044d\u0442\\.?|\u044d\u0442\u0430\u0436) ?(?<floor>\\d{1,3}))( (\u043f.?|\u043f\u043e\u0434\\.?|\u043f\u043e\u0434\u044a\u0435\u0437\u0434) ?(?<entrance>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?","(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))?( (\u043f\\.?|\u043f\u043e\u0434\\.?|\u043f\u043e\u0434\u044a\u0435\u0437\u0434) ?(?<entrance>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?","(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))?( (\u044d\\.?|\u044d\u0442\\.?|\u044d\u0442\u0430\u0436) ?(?<floor>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?","(( |-| \u043a\u0432.)(?<apartmentNum>\\d{1,3}))( \\((?<apartmentMod>[\u0430-\u044f]+)\\))?"];var be=(()=>{return(vt=be||(be={}))[vt.NotFound=0]="NotFound",vt[vt.NotApartment=1]="NotApartment",vt[vt.NotParsed=2]="NotParsed",be;var vt})();function we(vt){return{city:{cityId:vt.cityId},street:{streetId:vt.streetId},houseNum:null,fraction:null,letter:null,build:null,entrance:null,floor:null,apartmentNum:null,apartmentMod:null}}function Ie(vt,ht){return!(vt.entrance==ht.entrance&&vt.floor==ht.floor&&vt.apartmentNum==ht.apartmentNum&&vt.apartmentMod==ht.apartmentMod)}function dt(vt){var ht,Rt;for(let At of X){const ot=null===(ht=new RegExp(Ge+At).exec(vt))||void 0===ht?void 0:ht.groups;if(ot)return ot}return null===(Rt=new RegExp(Ge).exec(vt))||void 0===Rt?void 0:Rt.groups}let et=Ce=class{constructor(ht,Rt,Nt){this.api=ht,this.confirmation=Rt,this.blockService=Nt,this.isAcpConnected=null,this.isHouseOnly=!1,this.inputClasses={},this.inputClassesChange=new d.t(1),this.selectedStreet=null,this.selectedHouse="",this.streetInputChange$=new d.t(1),this.streetSuggestions$=this.streetInputChange$.pipe((0,u.w)(At=>this.api.getStreetSuggestions(At))),this.streetSelect$=new d.t(1),this.focusHouseControlSub=this.streetSelect$.pipe((0,f.g)(100)).subscribe(At=>{var st;At?null===(st=this.houseControl)||void 0===st||st.nativeElement.focus():(this.selectedStreet=null,this.selectedHouse="")}),this.houseInputChange$=new d.t(1),this.isHouseControlFocused$=new _.X(!1),this.houseChangeDebounce$=this.houseInputChange$.pipe((0,P.b)(500)),this.houseError$=new d.t(1),this.houseInputClasses$=(0,x.a)([this.inputClassesChange,this.houseError$]).pipe((0,r.U)(([At,st])=>Object.assign(Object.assign({},At),{"text-red-500":null!==st})),(0,R.O)(this.inputClasses)),this.notFoundPanelSub=(0,x.a)([this.houseError$,this.isHouseControlFocused$]).pipe((0,P.b)(100),(0,L.b)(([At,st])=>{if(null!==At&&At.type===be.NotFound){let ot={isApartmentHouse:!1},ge=dt(At.houseInput);ge&&(ot=Object.assign(Object.assign({},ge),{isApartmentHouse:!1})),this.createHouseForm.reset(ot)}})).subscribe(([At,st])=>{if(At&&st)switch(At.type){case be.NotFound:this.houseNotFoundPanel.show(null,this.houseControl.nativeElement);break;case be.NotApartment:this.isApartmentHousePanel.show(null,this.houseControl.nativeElement)}else this.houseNotFoundPanel.hide(),this.isApartmentHousePanel.hide()}),this.forcedAddress$=new _.X(null),this.address$=new Q.x,this.addressSub=this.address$.subscribe(At=>{this.onChange&&this.onChange(At)}),this.inputAddressSub=(0,x.a)([this.streetSelect$,this.houseChangeDebounce$]).pipe((0,P.b)(100),(0,L.b)(()=>{this.houseError$.next(null)}),(0,u.w)(([At,st])=>At&&st?this.api.getAddressSuggestionsAlt(At.streetId,st,this.isAcpConnected,this.isHouseOnly).pipe((0,r.U)(ot=>{var ge,ke;if(0===ot.length)return this.houseError$.next({type:be.NotFound,houseInput:st,houseId:null,foundAddresses:null}),we(At);if(1===ot.length){const rt=dt(st);return rt?Ie(ot[0],rt)?(this.houseError$.next({type:be.NotApartment,houseInput:st,houseId:null!==(ge=ot[0].houseId)&&void 0!==ge?ge:null,foundAddresses:ot}),we(At)):ot[0]:we(At)}{const rt=dt(st);if(!rt)return we(At);let yt=ot.find(Pt=>function ct(vt,ht){return vt.houseNum==(null==ht?void 0:ht.houseNum)&&vt.fraction==(null==ht?void 0:ht.fraction)&&vt.letter==(null==ht?void 0:ht.letter)&&vt.build==(null==ht?void 0:ht.build)}(Pt,rt));return yt?Ie(yt,rt)?(this.houseError$.next({type:be.NotApartment,houseInput:st,houseId:null!==(ke=yt.houseId)&&void 0!==ke?ke:null,foundAddresses:ot}),we(At)):yt:(this.houseError$.next({type:be.NotFound,houseInput:st,houseId:null,foundAddresses:ot}),we(At))}})):(0,N.of)(At?we(At):null))).subscribe(this.address$),this.setAddressSub=this.forcedAddress$.pipe((0,L.b)(At=>{var st,ot;this.houseError$.next(null),At&&At.street&&At.city&&(console.log("Forced address",At),this.selectedStreet={cityId:At.city.cityId,streetId:At.street.streetId,name:null!==(st=At.streetNamePart)&&void 0!==st?st:"\u041f\u043b\u043e\u0445\u043e"},this.streetSelect$.next({cityId:At.city.cityId,streetId:At.street.streetId,name:null!==(ot=At.streetNamePart)&&void 0!==ot?ot:"\u041f\u043b\u043e\u0445\u043e"}),At.tailPart&&(this.selectedHouse=At.tailPart,this.houseInputChange$.next(At.tailPart)))})).subscribe(this.address$),this.isDisabled=!1,this.createHouseVisible=!1,this.isHouseCreating=!1,this.createHouseForm=new T.cw({houseNum:new T.NI(null,[T.kI.required,T.kI.min(1),T.kI.max(999999)]),letter:new T.NI(null,[T.kI.maxLength(1)]),fraction:new T.NI(null,[T.kI.min(1),T.kI.max(999)]),build:new T.NI(null,[T.kI.min(1),T.kI.max(99)]),isApartmentHouse:new T.NI(!1),acpHouseBind:new T.NI(null)}),this.createHouseResponseHandler={next:At=>{this.createHouseVisible=!1,this.isHouseCreating=!1,this.houseInputChange$.next(this.selectedHouse)},error:()=>{this.isHouseCreating=!1}},this.onChange=At=>{},this.onTouched=()=>{}}writeValue(ht){this.forcedAddress$.next(ht)}registerOnChange(ht){this.onChange=ht}registerOnTouched(ht){this.onTouched=ht}setDisabledState(ht){this.isDisabled=ht}ngOnInit(){}showCreateHouseDialog(){this.createHouseVisible=!0}createHouse(){this.selectedStreet&&(this.isHouseCreating=!0,this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).subscribe(this.createHouseResponseHandler))}confirmMakeTheHouseAnApartmentBuilding(ht){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043e\u043c \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u043c?",accept:()=>{!ht.houseId||(this.blockService.wait({message:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."}),this.api.makeHouseAnApartmentsBuilding(ht.houseId).subscribe({next:()=>{this.blockService.unblock(),this.houseInputChange$.next(this.selectedHouse)},error:()=>{this.blockService.unblock()}}))}})}};et.\u0275fac=function(ht){return new(ht||et)(E.Y36(D.s),E.Y36(U.YP),E.Y36(B.A))},et.\u0275cmp=E.Xpm({type:et,selectors:[["app-address-input-alt"]],viewQuery:function(ht,Rt){if(1&ht&&(E.Gf(oe,5),E.Gf(z,5),E.Gf(te,5)),2&ht){let Nt;E.iGM(Nt=E.CRH())&&(Rt.houseControl=Nt.first),E.iGM(Nt=E.CRH())&&(Rt.houseNotFoundPanel=Nt.first),E.iGM(Nt=E.CRH())&&(Rt.isApartmentHousePanel=Nt.first)}},inputs:{isAcpConnected:"isAcpConnected",isHouseOnly:"isHouseOnly",inputClasses:"inputClasses"},features:[E._Bn([{provide:T.JU,useExisting:Ce,multi:!0}])],decls:43,vars:30,consts:[[1,"flex","align-items-center","gap-1",3,"focusin"],["appendTo","body","placeholder","\u0423\u043b\u0438\u0446\u0430","field","name","emptyMessage","\u0423\u043b\u0438\u0446 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",3,"ngClass","size","delay","showClear","showEmptyMessage","ngModel","forceSelection","autoHighlight","suggestions","ngModelChange","completeMethod","onSelect","onClear"],["pInputText","","class","flipleft animation-duration-150","placeholder","\u0414\u043e\u043c \u041a\u0432.",3,"ngClass","size","ngModel","focus","blur","input","ngModelChange",4,"ngIf"],["appendTo","body"],["houseNotFoundPanel",""],[1,"flex","flex-column","gap-2"],[1,"text-orange-500","font-bold"],["pButton","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043c",1,"p-button-success","p-button-sm",3,"click"],[4,"ngIf"],["isApartmentHousePanel",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","dismissableMask","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],["formControlName","isApartmentHouse"],[1,"flex","gap-1","flex-column"],["formControlName","acpHouseBind"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["pInputText","","placeholder","\u0414\u043e\u043c \u041a\u0432.",1,"flipleft","animation-duration-150",3,"ngClass","size","ngModel","focus","blur","input","ngModelChange"],["houseControl",""],["class","flex flex-column gap-1",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"font-bold","text-bluegray-400"],["class","px-2 py-1 bg-bluegray-50 text-bluegray-400 cursor-pointer select-none hover:text-primary hover:bg-primary-50 border-round",3,"click",4,"ngFor","ngForOf"],[1,"px-2","py-1","bg-bluegray-50","text-bluegray-400","cursor-pointer","select-none","hover:text-primary","hover:bg-primary-50","border-round",3,"click"],["label","\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u043c","styleClass","p-button-success p-button-sm",3,"onClick"]],template:function(ht,Rt){if(1&ht&&(E.TgZ(0,"div",0),E.NdJ("focusin",function(){return Rt.onTouched()}),E.TgZ(1,"p-autoComplete",1),E.NdJ("ngModelChange",function(At){return Rt.selectedStreet=At})("completeMethod",function(At){return Rt.streetInputChange$.next(At.query)})("onSelect",function(At){return Rt.streetSelect$.next(At)})("onClear",function(){return Rt.streetSelect$.next(null)}),E.ALo(2,"async"),E.qZA(),E.YNc(3,W,3,5,"input",2),E.qZA(),E.TgZ(4,"p-overlayPanel",3,4)(6,"div",5)(7,"span",6),E._uU(8,"\u0414\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),E.qZA(),E.TgZ(9,"button",7),E.NdJ("click",function(){return Rt.showCreateHouseDialog()}),E.qZA(),E.YNc(10,Ee,2,1,"ng-container",8),E.ALo(11,"async"),E.qZA()(),E.TgZ(12,"p-overlayPanel",3,9),E.YNc(14,qe,5,0,"ng-container",8),E.ALo(15,"async"),E.qZA(),E.TgZ(16,"p-dialog",10),E.NdJ("visibleChange",function(At){return Rt.createHouseVisible=At}),E.TgZ(17,"div",11)(18,"div",12)(19,"label",13),E._uU(20,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),E.qZA(),E._UZ(21,"p-inputNumber",14),E.qZA(),E.TgZ(22,"div",12)(23,"label",13),E._uU(24,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),E.qZA(),E._UZ(25,"p-inputNumber",15),E.qZA(),E.TgZ(26,"div",12)(27,"label",13),E._uU(28,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),E.qZA(),E._UZ(29,"p-inputMask",16),E.qZA(),E.TgZ(30,"div",12)(31,"label",13),E._uU(32,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),E.qZA(),E._UZ(33,"p-inputNumber",17),E.qZA(),E.TgZ(34,"div",12)(35,"label",13),E._uU(36,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),E.qZA(),E._UZ(37,"p-inputSwitch",18),E.qZA(),E.TgZ(38,"div",19)(39,"label",13),E._uU(40,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),E.qZA(),E._UZ(41,"app-acp-house-input",20),E.qZA(),E.TgZ(42,"p-button",21),E.NdJ("onClick",function(){return Rt.createHouse()}),E.qZA()()()),2&ht){let Nt;E.xp6(1),E.Q6J("ngClass",Rt.inputClasses)("size",30)("delay",500)("showClear",!0)("showEmptyMessage",!0)("ngModel",Rt.selectedStreet)("forceSelection",!1)("autoHighlight",!0)("suggestions",null!==(Nt=E.lcZ(2,23,Rt.streetSuggestions$))&&void 0!==Nt?Nt:E.DdM(29,ye)),E.xp6(2),E.Q6J("ngIf",!!Rt.selectedStreet),E.xp6(7),E.Q6J("ngIf",E.lcZ(11,25,Rt.houseError$)),E.xp6(4),E.Q6J("ngIf",E.lcZ(15,27,Rt.houseError$)),E.xp6(2),E.Q6J("modal",!0)("resizable",!1)("draggable",!1)("dismissableMask",!0)("visible",Rt.createHouseVisible),E.xp6(1),E.Q6J("formGroup",Rt.createHouseForm),E.xp6(8),E.Q6J("min",1)("max",999),E.xp6(8),E.Q6J("min",1)("max",99),E.xp6(9),E.Q6J("disabled",!Rt.createHouseForm.valid)}},dependencies:[ce.mk,ce.sg,ce.O5,$.Hq,$.zx,T.Fj,T.JJ,T.JL,T.On,V.Rn,k.V,O.o,K.vy,ue.T,T.sg,T.u,q.Qc,G.Ql,ne.N,ce.Ov]}),(0,e.gn)([(0,y.bQ)("inputClasses")],et.prototype,"inputClassesChange",void 0),et=Ce=(0,e.gn)([(0,y.kG)()],et)},7092:(hn,ft,b)=>{"use strict";b.d(ft,{_:()=>f});var e=b(5e3),d=b(8738);function u(_,P){1&_&&e._UZ(0,"app-employee-label",1),2&_&&e.Q6J("employee",P.$implicit)("inline",!0)}let f=(()=>{class _{constructor(x){this.api=x,this.workLog={}}set logId(x){this.api.getWorkLog(x,!0).subscribe(r=>{this.workLog=r})}ngOnInit(){}static createElement(x){const r=document.createElement("appointed-installers-element");return r.logId=x,r}}return _.\u0275fac=function(x){return new(x||_)(e.Y36(d.s))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-appointed-installers"]],inputs:{logId:"logId"},decls:1,vars:1,consts:[[3,"employee","inline",4,"ngFor","ngForOf"],[3,"employee","inline"]],template:function(x,r){1&x&&e.YNc(0,u,1,2,"app-employee-label",0),2&x&&e.Q6J("ngForOf",r.workLog.employees)},styles:["[_nghost-%COMP%]{display:inline-flex;flex-wrap:wrap;gap:.5rem}"]}),_})()},7231:(hn,ft,b)=>{"use strict";b.d(ft,{D:()=>E});var e=b(1135),d=b(8372),u=b(383),f=b(5e3),_=b(3064),P=b(9808),x=b(3640),r=b(7514);const R=["overlayPanelEl"];function L(D,U){1&D&&f.GkF(0)}function Q(D,U){if(1&D&&(f.TgZ(0,"a",6),f.YNc(1,L,1,0,"ng-container",7),f.qZA()),2&D){const B=f.oxw(),ce=f.MAs(3);f.Q6J("download",B.download())("href",B.url(),f.LSH),f.xp6(1),f.Q6J("ngTemplateOutlet",ce)}}function N(D,U){1&D&&f.GkF(0)}function T(D,U){if(1&D){const B=f.EpF();f.TgZ(0,"div",8),f.NdJ("click",function(){f.CHM(B);const $=f.oxw();return f.KtG($.attachmentOpen())})("mouseenter",function($){f.CHM(B);const V=f.oxw();return f.KtG(V.showPreview($))})("mouseleave",function(){f.CHM(B);const $=f.oxw();return f.KtG($.hidePreview())}),f.YNc(1,N,1,0,"ng-container",7),f.qZA()}if(2&D){f.oxw();const B=f.MAs(3);f.xp6(1),f.Q6J("ngTemplateOutlet",B)}}function y(D,U){if(1&D&&(f.TgZ(0,"span",9),f._uU(1),f.qZA(),f.TgZ(2,"span",10),f._uU(3),f.qZA(),f.TgZ(4,"span",11),f._uU(5),f.qZA()),2&D){const B=f.oxw();let ce;f.Udp("font-size","1.4rem"),f.xp6(1),f.hij(" ",B.attachmentIconName()," "),f.xp6(2),f.hij(" ",null==B.attachment?null:B.attachment.name," "),f.xp6(2),f.hij(" ",((null!==(ce=null==B.attachment?null:B.attachment.size)&&void 0!==ce?ce:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442 ")}}let E=(()=>{class D{constructor(B){this.mediaViewer=B,this.previewVisibleSubject=new e.X(null),this.previewVisible$=this.previewVisibleSubject.pipe((0,d.b)(300)),this.previewLoading=!1,this.subscriptions=new u.xf}get previewSrcUrl(){return this.attachment?"workLogTargetFileId"in this.attachment?"/api/private/work-log/thumbnail/"+this.attachment.workLogTargetFileId:"/api/private/thumbnail/"+this.attachment.name:""}ngOnInit(){this.subscriptions.addSubscription("previewVisible",this.previewVisible$.subscribe(B=>{var ce,$;B?null===($=this.overlayPanelEl)||void 0===$||$.show(B):(this.previewLoading=!1,null===(ce=this.overlayPanelEl)||void 0===ce||ce.hide())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}attachmentIconName(){var B;switch(null===(B=this.attachment)||void 0===B?void 0:B.type){case"PHOTO":return"image";case"VIDEO":return"movie";case"AUDIO":return"music_note";case"DOCUMENT":return"picture_as_pdf";case"FILE":return"description";default:return"question_mark"}}url(){var B;return"FILE"==(null===(B=this.attachment)||void 0===B?void 0:B.type)?"/api/private/attachment/":""}download(){var B;return"FILE"==(null===(B=this.attachment)||void 0===B?void 0:B.type)?this.attachment.name:""}attachmentOpen(){var B;switch(null===(B=this.attachment)||void 0===B?void 0:B.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewer.showMedia(this.attachment);break;case"DOCUMENT":window.open("/api/private/attachment/"+this.attachment.name,"_blank")}this.previewLoading=!1}showPreview(B){var ce,$;("PHOTO"===(null===(ce=this.attachment)||void 0===ce?void 0:ce.type)||"VIDEO"===(null===($=this.attachment)||void 0===$?void 0:$.type))&&this.previewVisibleSubject.next(B)}hidePreview(){this.previewVisibleSubject.next(null)}align(B){setTimeout(()=>{B.overlayVisible&&B.align()},100)}}return D.\u0275fac=function(B){return new(B||D)(f.Y36(_.E))},D.\u0275cmp=f.Xpm({type:D,selectors:[["app-attachment-link"]],viewQuery:function(B,ce){if(1&B&&f.Gf(R,5),2&B){let $;f.iGM($=f.CRH())&&(ce.overlayPanelEl=$.first)}},inputs:{attachment:"attachment"},decls:7,vars:3,consts:[["class","attachment-wrapper",3,"download","href",4,"ngIf"],["class","attachment-wrapper",3,"click","mouseenter","mouseleave",4,"ngIf"],["content",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["overlayPanelEl",""],[1,"preview-image",3,"src","load"],[1,"attachment-wrapper",3,"download","href"],[4,"ngTemplateOutlet"],[1,"attachment-wrapper",3,"click","mouseenter","mouseleave"],[1,"material-icons-round"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],[1,"caption","size-small","wt-bold","f-color-500"]],template:function(B,ce){if(1&B){const $=f.EpF();f.YNc(0,Q,2,3,"a",0),f.YNc(1,T,2,1,"div",1),f.YNc(2,y,6,5,"ng-template",null,2,f.W1O),f.TgZ(4,"p-overlayPanel",3,4)(6,"img",5),f.NdJ("load",function(){f.CHM($);const k=f.MAs(5);return f.KtG(ce.align(k))}),f.qZA()()}2&B&&(f.Q6J("ngIf","FILE"===(null==ce.attachment?null:ce.attachment.type)),f.xp6(1),f.Q6J("ngIf","FILE"!==(null==ce.attachment?null:ce.attachment.type)),f.xp6(5),f.Q6J("src",ce.previewSrcUrl,f.LSH))},dependencies:[P.O5,P.tP,x.T,r.x],styles:[".attachment-wrapper[_ngcontent-%COMP%]{display:flex;gap:.3rem;align-items:center;color:var(--tc-600);font-weight:500;font-size:.9rem;cursor:pointer;transition:color .2s ease-out;text-decoration:none!important;width:max-content}.attachment-wrapper[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.photo-preview-panel[_ngcontent-%COMP%]{position:absolute;display:grid;grid:1fr/1fr;padding:.7rem;border-radius:.5rem;background-color:#fff;box-shadow:0 0 2px #0003,0 4px 8px #0000000d;width:max-content;height:max-content;max-width:21rem;min-width:8rem;min-height:8rem;align-items:center;justify-content:center;z-index:3;overflow:hidden;transform:translate(100%,-50%)}.preview-image[_ngcontent-%COMP%]{border-radius:.4rem;width:100%;height:100%;min-width:5rem;min-height:5rem;max-height:21rem}.preview-loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-area:1/1/2/2;width:100%;height:100%}"]}),D})()},5072:(hn,ft,b)=>{"use strict";b.d(ft,{A:()=>Q});var e=b(383),d=b(7384),u=b(5e3),f=b(9808);const _=["wrapperEl"],P=["captionEl"];function x(N,T){1&N&&u._UZ(0,"i",8)}function r(N,T){if(1&N&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&N){const y=u.oxw();u.xp6(1),u.Oqu(y.getInitials())}}function R(N,T){if(1&N){const y=u.EpF();u.TgZ(0,"img",9),u.NdJ("load",function(){u.CHM(y);const D=u.oxw();return u.KtG(D.isLoad=!0)}),u.qZA()}if(2&N){const y=u.oxw();u.Q6J("src","api/private/avatar/"+y.src,u.LSH)}}function L(N,T){if(1&N&&u._UZ(0,"div",10),2&N){const y=u.oxw();u.Akn(y.indicatorStyle)}}let Q=(()=>{class N{constructor(){this.size=3.5,this.deleted=!1,this.shape="circle",this.isLoad=!1}get captionStyle(){return{}}get wrapperStyle(){return{borderRadius:"circle"===this.shape?"999px":"25%",width:this.size+"rem",height:this.size+"rem",fontSize:this.size+"rem",background:this.isLoad?"transparent":this.deleted?"var(--bgc-500)":this.colorize()}}get indicatorStyle(){const y={};switch("square"===this.shape&&(y.transform="translate(25%, -25%)"),this.status){case d.LE.ONLINE:y.backgroundColor="#36ff3b";break;case d.LE.AWAY:y.backgroundColor="#ffc107";break;case d.LE.OFFLINE:y.backgroundColor="#d5dde1"}return y}ngOnInit(){}getInitials(){if(this.name){const y=this.name.trim();return(y.charAt(0)+(y.indexOf(" ")>=0?y.charAt(y.indexOf(" ")+1):"")).toUpperCase()}return"?"}colorize(){var y;return e.cQ.stringToGradient(null!==(y=this.name)&&void 0!==y?y:"?")}ngOnChanges(y){this.isLoad=!1}}return N.\u0275fac=function(y){return new(y||N)},N.\u0275cmp=u.Xpm({type:N,selectors:[["app-avatar"]],viewQuery:function(y,E){if(1&y&&(u.Gf(_,5),u.Gf(P,5)),2&y){let D;u.iGM(D=u.CRH())&&(E.wrapperEl=D.first),u.iGM(D=u.CRH())&&(E.captionEl=D.first)}},inputs:{size:"size",deleted:"deleted",src:"src",name:"name",status:"status",shape:"shape"},features:[u.TTD],decls:8,vars:8,consts:[[1,"avatar","select-none"],["wrapperEl",""],[1,"avatar-caption"],["captionEl",""],["class","mdi-person_off",4,"ngIf"],[4,"ngIf"],["alt","avatar","class","avatar-image",3,"src","load",4,"ngIf"],["class","status-indicator",3,"style",4,"ngIf"],[1,"mdi-person_off"],["alt","avatar",1,"avatar-image",3,"src","load"],[1,"status-indicator"]],template:function(y,E){1&y&&(u.TgZ(0,"div",0,1)(2,"div",2,3),u.YNc(4,x,1,0,"i",4),u.YNc(5,r,2,1,"span",5),u.qZA(),u.YNc(6,R,1,1,"img",6),u.YNc(7,L,1,2,"div",7),u.qZA()),2&y&&(u.Akn(E.wrapperStyle),u.xp6(2),u.Akn(E.captionStyle),u.xp6(2),u.Q6J("ngIf",E.deleted),u.xp6(1),u.Q6J("ngIf",!E.deleted),u.xp6(1),u.Q6J("ngIf",null!=E.src),u.xp6(1),u.Q6J("ngIf",E.status))},dependencies:[f.O5],styles:["[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.avatar[_ngcontent-%COMP%]{position:relative;aspect-ratio:1;border-radius:50%;overflow:hidden}.avatar-caption[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-47%,-47%);transform-origin:center;text-transform:uppercase;color:#fff;font-size:.38em}.avatar-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;top:0;left:0}.status-indicator[_ngcontent-%COMP%]{width:30%;aspect-ratio:1;border-radius:999px;background-color:#1aff12;box-shadow:0 0 1px 1px #00000040,0 1px 10px #00000020;position:absolute;top:0;right:0}"]}),N})()},446:(hn,ft,b)=>{"use strict";b.d(ft,{r:()=>L});var e=b(5e3),d=b(9808),u=b(845),f=b(9783);function _(Q,N){if(1&Q&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&Q){const T=e.oxw(3);e.xp6(1),e.Oqu(T.icon)}}function P(Q,N){if(1&Q&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&Q){const T=e.oxw(3);e.xp6(1),e.Oqu(T.icon)}}function x(Q,N){if(1&Q&&(e.TgZ(0,"div",5),e.YNc(1,_,2,1,"span",6),e._uU(2),e.YNc(3,P,2,1,"span",7),e.qZA()),2&Q){const T=e.oxw(2);e.xp6(1),e.Q6J("ngIf",T.icon&&"left"===T.iconPos),e.xp6(1),e.hij(" ",T.label," "),e.xp6(1),e.Q6J("ngIf",T.icon&&"right"===T.iconPos)}}function r(Q,N){if(1&Q&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"div"),e.qZA()()),2&Q){const T=e.oxw(2);e.xp6(2),e.Tol("loading-indicator__spinner "+T.model)}}function R(Q,N){if(1&Q&&(e.YNc(0,x,4,3,"div",3),e.YNc(1,r,3,2,"div",4)),2&Q){const T=e.oxw();e.Q6J("ngIf",!T.loading),e.xp6(1),e.Q6J("ngIf",T.loading)}}let L=(()=>{class Q{constructor(){this.disabled=!1,this.iconPos="left",this.onClick=new e.vpe,this.loading=!1}ngOnInit(){}}return Q.\u0275fac=function(T){return new(T||Q)},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-button"]],inputs:{model:"model",icon:"icon",label:"label",disabled:"disabled",iconPos:"iconPos",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:2,consts:[[3,"styleClass","disabled","onClick"],["button",""],["pTemplate","content"],["class","flexed hcenter gap1 button-content",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"flexed","hcenter","gap1","button-content"],["class","material-icons-round left",4,"ngIf"],["class","material-icons-round right",4,"ngIf"],[1,"material-icons-round","left"],[1,"material-icons-round","right"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(T,y){1&T&&(e.TgZ(0,"p-button",0,1),e.NdJ("onClick",function(D){return!y.loading&&y.onClick.emit(D)}),e.YNc(2,R,2,2,"ng-template",2),e.qZA()),2&T&&e.Q6J("styleClass","button "+y.model)("disabled",y.disabled)},dependencies:[d.O5,u.zx,f.jx],styles:[".button-content[_ngcontent-%COMP%]{font-size:1.1rem;white-space:nowrap}.button-content[_ngcontent-%COMP%] > span.left[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(-.3rem)}.button-content[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(.3rem)}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.p-button-text.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.p-button-text.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.p-button-text.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.p-button-text.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.p-button-text.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.p-button-text.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.p-button-text.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),Q})()},6890:(hn,ft,b)=>{"use strict";b.d(ft,{K:()=>R});var e=b(7384),d=b(5e3),u=b(8738),f=b(9014),_=b(9808);function P(L,Q){if(1&L){const N=d.EpF();d.TgZ(0,"span",4),d.NdJ("click",function(){d.CHM(N);const y=d.oxw();return d.KtG(y.openChat())}),d._uU(1),d.qZA()}if(2&L){const N=d.oxw();d.xp6(1),d.Oqu(null==N.chat?null:N.chat.title)}}function x(L,Q){1&L&&(d.TgZ(0,"span",5),d._uU(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),d.qZA())}function r(L,Q){1&L&&(d.TgZ(0,"span",6),d._uU(1,"\u041e\u0448\u0438\u0431\u043a\u0430"),d.qZA())}let R=(()=>{class L{constructor(N,T){this.api=N,this.chatService=T,this.loadingState=e.Gu.LOADING}set chatId(N){this.loadingState=e.Gu.LOADING,this.api.getChat(N).subscribe({next:T=>{this._chat=T,this.loadingState=e.Gu.READY},error:()=>this.loadingState=e.Gu.ERROR})}get chat(){return this._chat}ngOnInit(){}static createElement(N){const T=document.createElement("chat-link-element");return T.chatId=N,T}openChat(){this.chat&&this.chatService.open.emit(this.chat.chatId)}}return L.\u0275fac=function(N){return new(N||L)(d.Y36(u.s),d.Y36(f.a))},L.\u0275cmp=d.Xpm({type:L,selectors:[["app-chat-link"]],inputs:{chatId:"chatId"},decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-primary cursor-pointer hover:text-primary-600",3,"click",4,"ngSwitchCase"],["class","text-primary",4,"ngSwitchCase"],["class","text-red-400",4,"ngSwitchCase"],[1,"text-primary","cursor-pointer","hover:text-primary-600",3,"click"],[1,"text-primary"],[1,"text-red-400"]],template:function(N,T){1&N&&(d.ynx(0,0),d.YNc(1,P,2,1,"span",1),d.YNc(2,x,2,0,"span",2),d.YNc(3,r,2,0,"span",3),d.BQk()),2&N&&(d.Q6J("ngSwitch",T.loadingState),d.xp6(1),d.Q6J("ngSwitchCase","READY"),d.xp6(1),d.Q6J("ngSwitchCase","LOADING"),d.xp6(1),d.Q6J("ngSwitchCase","ERROR"))},dependencies:[_.RF,_.n9]}),L})()},1828:(hn,ft,b)=>{"use strict";b.d(ft,{C:()=>f});var e=b(383),d=b(5e3);const u=["wrapper"];let f=(()=>{class _{constructor(){}ngAfterViewInit(){this.colorize()}ngOnInit(){}colorize(){!this.wrapper||(this.color?this.wrapper.nativeElement.style.background=this.color:this.captionForColor?this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.captionForColor):this.caption&&(this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.caption)))}ngOnChanges(x){this.colorize()}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=d.Xpm({type:_,selectors:[["app-colored-tag"]],viewQuery:function(x,r){if(1&x&&d.Gf(u,5),2&x){let R;d.iGM(R=d.CRH())&&(r.wrapper=R.first)}},inputs:{caption:"caption",captionForColor:"captionForColor",color:"color"},features:[d.TTD],decls:3,vars:1,consts:[[1,"tag"],["wrapper",""]],template:function(x,r){1&x&&(d.TgZ(0,"span",0,1),d._uU(2),d.qZA()),2&x&&(d.xp6(2),d.hij(" ",r.caption,"\n"))},styles:[".tag[_ngcontent-%COMP%]{display:inline-block;color:#fff;text-align:center;min-width:2rem;font-size:.85rem;font-weight:700;padding:.15rem .4rem;border-radius:999px;line-height:normal}"]}),_})()},7805:(hn,ft,b)=>{"use strict";b.d(ft,{y:()=>E});var e=b(5e3),d=b(8738);const u=["preview"];function f(D,U){1&D&&e.GkF(0)}function _(D,U){1&D&&e.GkF(0)}function P(D,U){if(1&D&&(e.ynx(0),e._uU(1),e.BQk()),2&D){const B=e.oxw(2);e.xp6(1),e.hij("$",B._departmentId,"")}}function x(D,U){if(1&D&&(e.TgZ(0,"span",7),e.YNc(1,f,1,0,"ng-container",8),e.YNc(2,_,1,0,"ng-container",8),e.YNc(3,P,2,1,"ng-container",1),e.qZA()),2&D){const B=e.oxw(),ce=e.MAs(5),$=e.MAs(3);e.xp6(1),e.Q6J("ngIf",B.department&&(null==B.department?null:B.department.departmentId))("ngIfThen",ce),e.xp6(1),e.Q6J("ngIf",!(B.department&&null!=B.department&&B.department.departmentId||B.failed))("ngIfThen",$),e.xp6(1),e.Q6J("ngIf",B.failed)}}function r(D,U){if(1&D){const B=e.EpF();e.TgZ(0,"span",11),e.NdJ("mouseenter",function($){e.CHM(B);const V=e.oxw(2);return e.KtG(V.showPreview($))})("mouseleave",function(){e.CHM(B);const $=e.oxw(2);return e.KtG($.hidePreview())}),e._uU(1),e.qZA()}if(2&D){const B=e.oxw(2);e.xp6(1),e.Oqu(B.department.name)}}function R(D,U){if(1&D&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&D){const B=e.oxw(2);e.xp6(1),e.hij(" ",B._departmentId," ")}}function L(D,U){1&D&&e._UZ(0,"p-skeleton",12)}function Q(D,U){if(1&D&&(e.ynx(0),e.YNc(1,r,2,1,"span",9),e.YNc(2,R,2,1,"span",1),e.YNc(3,L,1,0,"p-skeleton",10),e.BQk()),2&D){const B=e.oxw();e.xp6(1),e.Q6J("ngIf",B.department&&(null==B.department?null:B.department.name)),e.xp6(1),e.Q6J("ngIf",B.failed),e.xp6(1),e.Q6J("ngIf",!(B.department&&null!=B.department&&B.department.name||B.failed))}}function N(D,U){if(1&D&&e._UZ(0,"p-skeleton",13)(1,"p-skeleton",14),2&D){const B=e.oxw();e.Q6J("shape",B.inline?"square":"circle")}}function T(D,U){if(1&D&&(e._UZ(0,"app-avatar",15),e.TgZ(1,"span",16),e._uU(2),e.qZA()),2&D){const B=e.oxw();e.Q6J("name",null==B.department?null:B.department.name)("size",B.size)("shape",B.inline?"square":"circle"),e.xp6(2),e.hij(" ",null==B.department?null:B.department.name," ")}}function y(D,U){if(1&D&&(e.TgZ(0,"div",17),e._UZ(1,"app-avatar",18),e.TgZ(2,"div",19),e._uU(3),e.qZA(),e.TgZ(4,"div",20),e._uU(5),e.qZA()()),2&D){const B=e.oxw();e.xp6(1),e.Q6J("size",6)("deleted",null==B.department?null:B.department.deleted)("name",null==B.department?null:B.department.name),e.xp6(2),e.hij(" ",null==B.department?null:B.department.name," "),e.xp6(2),e.Oqu(null==B.department?null:B.department.description)}}let E=(()=>{class D{constructor(B){this.api=B,this.department={},this.size=1.7,this.inline=!1,this.failed=!1}set departmentId(B){this._departmentId=B,this.api.getDepartment(B,!0).subscribe({next:ce=>this.department=ce,error:()=>this.failed=!0})}static createElement(B,ce){const $=document.createElement("department-label-element");return $.departmentId=B,$.inline=ce,$}ngOnInit(){}showPreview(B){this.preview&&this.preview.show(B)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}}return D.\u0275fac=function(B){return new(B||D)(e.Y36(d.s))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-department-label"]],viewQuery:function(B,ce){if(1&B&&e.Gf(u,5),2&B){let $;e.iGM($=e.CRH())&&(ce.preview=$.first)}},inputs:{department:"department",size:"size",inline:"inline",departmentId:"departmentId"},decls:9,vars:2,consts:[["class","flexed gap2 one-line hcenter",4,"ngIf"],[4,"ngIf"],["loading",""],["info",""],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap2","one-line","hcenter"],[4,"ngIf","ngIfThen"],["class","like-link",3,"mouseenter","mouseleave",4,"ngIf"],["height",".9rem","width","5rem",4,"ngIf"],[1,"like-link",3,"mouseenter","mouseleave"],["height",".9rem","width","5rem"],["size","1.7rem",3,"shape"],["width","8rem","height",".8rem"],[3,"name","size","shape"],[1,"caption","size-small"],[1,"department-preview"],["shape","square",1,"avatar",3,"size","deleted","name"],[1,"name","caption","size-big"],[1,"description","caption","size-small","f-color-500"]],template:function(B,ce){1&B&&(e.YNc(0,x,4,5,"span",0),e.YNc(1,Q,4,3,"ng-container",1),e.YNc(2,N,2,1,"ng-template",null,2,e.W1O),e.YNc(4,T,3,4,"ng-template",null,3,e.W1O),e.TgZ(6,"p-overlayPanel",4,5),e.YNc(8,y,6,5,"ng-template",6),e.qZA()),2&B&&(e.Q6J("ngIf",!ce.inline),e.xp6(1),e.Q6J("ngIf",ce.inline))},styles:['.department-preview[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar description";column-gap:1rem}.department-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.department-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.department-preview[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;max-width:20rem;display:-webkit-box;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical}']}),D})()},4304:(hn,ft,b)=>{"use strict";b.d(ft,{h:()=>L});var e=b(5e3),d=b(9808),u=b(2382),f=b(9618),_=b(5651);function P(Q,N){if(1&Q&&(e.ynx(0),e._uU(1),e.BQk()),2&Q){const T=e.oxw();e.xp6(1),e.Oqu(T.caption)}}function x(Q,N){if(1&Q){const T=e.EpF();e.TgZ(0,"input",5),e.NdJ("blur",function(){e.CHM(T);const E=e.oxw();return e.KtG(E.stopEditing())})("keyup",function(E){e.CHM(T);const D=e.oxw();return e.KtG(D.stopEditing(E))})("ngModelChange",function(E){e.CHM(T);const D=e.oxw();return e.KtG(D.captionChange.emit(E))})("ngModelChange",function(E){e.CHM(T);const D=e.oxw();return e.KtG(D.caption=E)}),e.qZA()}if(2&Q){const T=e.oxw();e.Q6J("ngModel",T.caption)("autofocus",!0)}}function r(Q,N){if(1&Q){const T=e.EpF();e.TgZ(0,"app-icon-button",6),e.NdJ("click",function(){e.CHM(T);const E=e.oxw();return e.KtG(E.editing=!0)}),e.qZA()}2&Q&&e.Q6J("size",1.2)}function R(Q,N){if(1&Q){const T=e.EpF();e.TgZ(0,"app-icon-button",7),e.NdJ("click",function(){e.CHM(T);const E=e.oxw();return e.KtG(E.stopEditing())}),e.qZA()}2&Q&&e.Q6J("size",1.2)}let L=(()=>{class Q{constructor(){this.editing=!1,this.caption="",this.captionChange=new e.vpe,this.onStopEditing=new e.vpe}ngOnInit(){}stopEditing(T){if(!T)return this.editing=!1,void this.onStopEditing.emit(this.caption);("Enter"===T.key||"Escape"===T.key)&&(this.editing=!1,this.onStopEditing.emit(this.caption))}}return Q.\u0275fac=function(T){return new(T||Q)},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-editing-caption"]],inputs:{caption:"caption"},outputs:{captionChange:"captionChange",onStopEditing:"onStopEditing"},decls:6,vars:4,consts:[[1,"flexed","hcenter","gap2"],[4,"ngIf"],["class","caption-input","pAutoFocus","","type","text",3,"ngModel","autofocus","blur","keyup","ngModelChange",4,"ngIf"],["icon","edit",3,"size","click",4,"ngIf"],["icon","check",3,"size","click",4,"ngIf"],["pAutoFocus","","type","text",1,"caption-input",3,"ngModel","autofocus","blur","keyup","ngModelChange"],["icon","edit",3,"size","click"],["icon","check",3,"size","click"]],template:function(T,y){1&T&&(e.TgZ(0,"div",0)(1,"span"),e.YNc(2,P,2,1,"ng-container",1),e.YNc(3,x,1,2,"input",2),e.qZA(),e.YNc(4,r,1,1,"app-icon-button",3),e.YNc(5,R,1,1,"app-icon-button",4),e.qZA()),2&T&&(e.xp6(2),e.Q6J("ngIf",!y.editing),e.xp6(1),e.Q6J("ngIf",y.editing),e.xp6(1),e.Q6J("ngIf",!y.editing),e.xp6(1),e.Q6J("ngIf",y.editing))},dependencies:[d.O5,u.Fj,u.JJ,u.On,f.P,_.r],styles:[".caption-input[_ngcontent-%COMP%]{outline:0;border:0}"]}),Q})()},1110:(hn,ft,b)=>{"use strict";b.d(ft,{x:()=>k});var e=b(7384),d=b(417),u=b(5e3),f=b(8738),_=b(8007);const P=["preview"];function x(O,K){if(1&O&&u._UZ(0,"app-avatar",11),2&O){const ue=u.oxw(3);let q;u.Q6J("deleted",null==ue._employee?null:ue._employee.deleted)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("shape","circle")("size",ue.size)("src",null==ue._employee?null:ue._employee.avatar)("status",null==ue._employee?null:ue._employee.status)}}function r(O,K){if(1&O&&u._UZ(0,"app-avatar",12),2&O){const ue=u.oxw(3);let q;u.Q6J("deleted",null==ue._employee?null:ue._employee.deleted)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("shape","circle")("size",ue.size)("src",null==ue._employee?null:ue._employee.avatar)}}function R(O,K){if(1&O&&(u.ynx(0),u.YNc(1,x,1,6,"app-avatar",8),u.YNc(2,r,1,5,"app-avatar",9),u.TgZ(3,"span",10),u._uU(4),u.qZA(),u.BQk()),2&O){const ue=u.oxw(2);u.xp6(1),u.Q6J("ngIf",ue.showStatus),u.xp6(1),u.Q6J("ngIf",!ue.showStatus),u.xp6(2),u.hij(" ",null==ue._employee?null:ue._employee.fullName," ")}}function L(O,K){if(1&O&&(u.ynx(0),u._UZ(1,"p-skeleton",13)(2,"p-skeleton",14),u.BQk()),2&O){const ue=u.oxw(2);u.xp6(1),u.Q6J("shape","circle")("size",ue.size+"rem")}}function Q(O,K){1&O&&(u.ynx(0),u.TgZ(1,"span",15),u._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),u.qZA(),u.BQk())}function N(O,K){1&O&&u.GkF(0)}function T(O,K){if(1&O&&(u.TgZ(0,"span",5),u.ynx(1,6),u.YNc(2,R,5,3,"ng-container",7),u.YNc(3,L,3,2,"ng-container",7),u.YNc(4,Q,3,0,"ng-container",7),u.YNc(5,N,1,0,"ng-container",7),u.BQk(),u.qZA()),2&O){const ue=u.oxw();u.xp6(1),u.Q6J("ngSwitch",ue.loadStatus),u.xp6(1),u.Q6J("ngSwitchCase","ready"),u.xp6(1),u.Q6J("ngSwitchCase","loading"),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","empty")}}function y(O,K){if(1&O){const ue=u.EpF();u.ynx(0),u.TgZ(1,"span",16),u.NdJ("mouseenter",function(G){u.CHM(ue);const ne=u.oxw(2);return u.KtG(ne.showPreview(G))})("mouseleave",function(){u.CHM(ue);const G=u.oxw(2);return u.KtG(G.hidePreview())}),u._uU(2),u.qZA(),u.BQk()}if(2&O){const ue=u.oxw(2);u.xp6(2),u.Oqu(null==ue._employee?null:ue._employee.fullName)}}function E(O,K){1&O&&(u.ynx(0),u._UZ(1,"p-skeleton",17),u.BQk()),2&O&&(u.xp6(1),u.Udp("display","inline-block"))}function D(O,K){1&O&&(u.ynx(0),u.TgZ(1,"span",15),u._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),u.qZA(),u.BQk())}function U(O,K){1&O&&u.GkF(0)}function B(O,K){if(1&O&&(u.ynx(0)(1,6),u.YNc(2,y,3,1,"ng-container",7),u.YNc(3,E,2,2,"ng-container",7),u.YNc(4,D,3,0,"ng-container",7),u.YNc(5,U,1,0,"ng-container",7),u.BQk()()),2&O){const ue=u.oxw();u.xp6(1),u.Q6J("ngSwitch",ue.loadStatus),u.xp6(1),u.Q6J("ngSwitchCase","ready"),u.xp6(1),u.Q6J("ngSwitchCase","loading"),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","empty")}}function ce(O,K){if(1&O&&(u.TgZ(0,"span",26),u._uU(1),u.qZA()),2&O){const ue=u.oxw(2);u.Akn(ue.statusStyle),u.xp6(1),u.Oqu(ue.status)}}function $(O,K){1&O&&(u.TgZ(0,"span",27),u._uU(1,"(\u0443\u0434\u0430\u043b\u0435\u043d)"),u.qZA())}function V(O,K){if(1&O&&(u.TgZ(0,"div",18),u._UZ(1,"app-avatar",19),u.TgZ(2,"div",20),u._uU(3),u.qZA(),u.TgZ(4,"div",21),u.YNc(5,ce,2,3,"span",22),u.YNc(6,$,2,0,"span",23),u.qZA(),u.TgZ(7,"div",24),u._uU(8),u.qZA(),u.TgZ(9,"div",25),u._uU(10),u.qZA()()),2&O){const ue=u.oxw();let q;u.xp6(1),u.Q6J("size",6)("deleted",null==ue._employee?null:ue._employee.deleted)("src",null==ue._employee?null:ue._employee.avatar)("name",null!==(q=null==ue._employee?null:ue._employee.fullName)&&void 0!==q?q:"")("status",null==ue._employee?null:ue._employee.status),u.xp6(2),u.hij(" ",null==ue._employee?null:ue._employee.fullName," "),u.xp6(2),u.Q6J("ngIf",ue.status),u.xp6(1),u.Q6J("ngIf",null==ue._employee?null:ue._employee.deleted),u.xp6(2),u.Oqu(null==ue._employee||null==ue._employee.department?null:ue._employee.department.name),u.xp6(2),u.Oqu(null==ue._employee||null==ue._employee.position?null:ue._employee.position.name)}}let k=(()=>{class O{constructor(ue,q){this.api=ue,this.rt=q,this.size=1.7,this.inline=!1,this.showStatus=!1,this.loadStatus="loading"}get statusStyle(){var ue;const q={};switch(null===(ue=this._employee)||void 0===ue?void 0:ue.status){case e.LE.ONLINE:q.color="#36ff3b";break;case e.LE.AWAY:q.color="#ffc107";break;case e.LE.OFFLINE:q.color="#d5dde1"}return q}get status(){var ue,q;switch(null===(ue=this._employee)||void 0===ue?void 0:ue.status){case e.LE.ONLINE:return"\u0412 \u0441\u0435\u0442\u0438";case e.LE.AWAY:return"\u041e\u0442\u043e\u0448\u0435\u043b";case e.LE.OFFLINE:return(new d.t).transform(null===(q=this._employee)||void 0===q?void 0:q.lastSeen,"\u0411\u044b\u043b(\u0430) \u0432 \u0441\u0435\u0442\u0438 "," \u043d\u0430\u0437\u0430\u0434");default:return""}}static createElement(ue,q){const G=document.createElement("employee-label-element");return G.employee=ue,G.inline=q,G}ngOnInit(){this.loadingEmployee()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}showPreview(ue){this.preview&&this.preview.show(ue)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}ngOnChanges(ue){const q=ue.employee;q&&q.currentValue&&this.loadingEmployee()}loadingEmployee(){this.employee?"string"==typeof this.employee?this.api.getEmployee(this.employee,!0).subscribe({next:ue=>{this._employee=ue,this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(q=>{this._employee=q}),this.loadStatus="ready"},error:()=>{this.loadStatus="error"}}):(this._employee=this.employee,this.loadStatus="ready",this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(ue=>{this._employee=ue})):this.loadStatus="empty"}}return O.\u0275fac=function(ue){return new(ue||O)(u.Y36(f.s),u.Y36(_.U))},O.\u0275cmp=u.Xpm({type:O,selectors:[["app-employee-label"]],viewQuery:function(ue,q){if(1&ue&&u.Gf(P,5),2&ue){let G;u.iGM(G=u.CRH())&&(q.preview=G.first)}},inputs:{size:"size",inline:"inline",showStatus:"showStatus",employee:"employee"},features:[u.TTD],decls:5,vars:2,consts:[["class","flexed gap4 hcenter",4,"ngIf"],[4,"ngIf"],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap4","hcenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"deleted","name","shape","size","src","status",4,"ngIf"],[3,"deleted","name","shape","size","src",4,"ngIf"],[1,"caption","size-small","one-line"],[3,"deleted","name","shape","size","src","status"],[3,"deleted","name","shape","size","src"],[3,"shape","size"],["height",".8rem","width","8rem"],[1,""],[1,"like-link",3,"mouseenter","mouseleave"],["height",".8rem","width","5rem"],[1,"employee-preview"],["shape","square",1,"avatar",3,"size","deleted","src","name","status"],[1,"name","caption","size-big"],[1,"status"],["class","caption size-small wt-bold f-color-500",3,"style",4,"ngIf"],["class","caption size-small",4,"ngIf"],[1,"department","caption","size-small","f-color-500"],[1,"position","caption","size-small","f-color-500"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small"]],template:function(ue,q){1&ue&&(u.YNc(0,T,6,5,"span",0),u.YNc(1,B,6,5,"ng-container",1),u.TgZ(2,"p-overlayPanel",2,3),u.YNc(4,V,11,10,"ng-template",4),u.qZA()),2&ue&&(u.Q6J("ngIf",!q.inline),u.xp6(1),u.Q6J("ngIf",q.inline))},styles:['.employee-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar status" "avatar department" "avatar position";column-gap:1rem}.employee-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.employee-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.employee-preview[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{grid-area:status}.employee-preview[_ngcontent-%COMP%]   .department[_ngcontent-%COMP%]{grid-area:department}.employee-preview[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{grid-area:position}']}),O})()},6288:(hn,ft,b)=>{"use strict";b.d(ft,{Y:()=>T});var e=b(5e3),d=b(2382),u=b(9783),f=b(9808),_=b(1874),P=b(4119),x=b(845),r=b(85);const R=["fileManager"],L=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function Q(y,E){if(1&y&&e._UZ(0,"p-badge",7),2&y){const D=e.oxw();e.Akn(e.DdM(3,L)),e.Q6J("value",D.filesLoaded.toString())}}let T=(()=>{class y{constructor(D){this.toast=D,this.files=[],this.short=!1,this.filesChange=new e.vpe,this.filesCatching=0,this.filesLoaded=0,this.loading=!1,this.disabled=!1,this.menuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",command:this.openFileManager.bind(this)},{label:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",icon:"mdi-highlight_off",command:this.clear.bind(this)}],this.onChange=U=>{},this.onTouched=()=>{}}get hasFiles(){return this.files.length>0}get style(){return this.short?"p-button-text p-button-icon p-button-rounded"+(this.hasFiles?" p-button-info":" p-button-secondary"):"p-button-text"+(this.hasFiles?" p-button-info":" p-button-secondary")}get label(){return this.short?"":"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}ngOnInit(){}openFileManager(){this.clear(),this.fileManager.nativeElement.click()}clear(){this.filesCatching=0,this.filesLoaded=0,this.files=[],this.filesChange.emit([]),this.onChange([]),this.fileManager.nativeElement.value=""}catchFiles(D){var U;if(0===D.target.files.length)return;this.loading=!0,this.filesCatching=0,this.filesLoaded=0;const B=Object.values(null!==(U=this.fileManager.nativeElement.files)&&void 0!==U?U:{});this.loadFiles(B)}appendFiles(D){if(!D.clipboardData)return;this.loading=!0,this.filesCatching+=D.clipboardData.files.length;const U=[];for(let B=0;B<D.clipboardData.files.length;B++)U.push(D.clipboardData.files[B]);this.loadFiles(U)}loadFiles(D){this.filesCatching=D.length+this.files.length;for(const U of D){if(U.size>20971520){this.toast.add({severity:"warn",summary:"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430",detail:`\u0424\u0430\u0439\u043b ${U.name} \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${(U.size/1048576).toFixed(2)} \u041c\u0431\u0430\u0439\u0442 \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b \u043b\u0438\u043c\u0438\u0442 \u0432 ${20..toFixed(2)} \u041c\u0431\u0430\u0439\u0442`}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1);continue}const B=new FileReader;B.onload=ce=>{var $;const V=null===($=ce.target)||void 0===$?void 0:$.result;V instanceof ArrayBuffer&&(Array.isArray(this.files)||(this.files=[]),this.files.push({name:U.name,modified:U.lastModified,data:Object.values(new Uint8Array(V)),type:U.type}),this.lastFileName=U.name,this.filesLoaded=this.files.length,this.filesChange.emit(this.files),this.onChange(this.files),this.filesLoaded===this.filesCatching&&(this.loading=!1))},B.onerror=ce=>{this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430",detail:ce.type}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1)},B.readAsArrayBuffer(U)}}ngOnDestroy(){}registerOnChange(D){this.onChange=D}registerOnTouched(D){this.onTouched=D}setDisabledState(D){this.disabled=D}writeValue(D){this.files=D,this.filesChange.emit(this.files)}}return y.\u0275fac=function(D){return new(D||y)(e.Y36(u.ez))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-file-input"]],viewQuery:function(D,U){if(1&D&&e.Gf(R,5),2&D){let B;e.iGM(B=e.CRH())&&(U.fileManager=B.first)}},inputs:{files:"files",short:"short",disabled:"disabled"},outputs:{filesChange:"filesChange"},features:[e._Bn([{provide:d.JU,useExisting:y,multi:!0}])],decls:7,vars:11,consts:[["tooltipPosition","left",1,"button-wrapper",3,"pTooltip","tooltipDisabled"],["icon","mdi-attach_file",3,"disabled","label","styleClass","onClick"],["class","ur-badge",3,"style","value",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],["type","file",3,"multiple","change"],["fileManager",""],[1,"ur-badge",3,"value"]],template:function(D,U){if(1&D){const B=e.EpF();e.TgZ(0,"div",0)(1,"p-button",1),e.NdJ("onClick",function($){e.CHM(B);const V=e.MAs(4);return e.KtG(U.hasFiles?V.toggle($):U.openFileManager())}),e.qZA(),e.YNc(2,Q,1,4,"p-badge",2),e._UZ(3,"p-menu",3,4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("change",function($){return U.catchFiles($)}),e.qZA()}2&D&&(e.Q6J("pTooltip","\u0424\u0430\u0439\u043b\u043e\u0432 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e "+U.filesLoaded+"/"+U.filesCatching+"\n\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0439: \n"+U.lastFileName)("tooltipDisabled",!U.hasFiles),e.xp6(1),e.Q6J("disabled",U.disabled||U.loading)("label",U.label)("styleClass",U.style),e.xp6(1),e.Q6J("ngIf",U.hasFiles),e.xp6(1),e.Q6J("model",U.menuItems)("popup",!0),e.xp6(2),e.Udp("display","none"),e.Q6J("multiple",!0))},dependencies:[f.O5,_.v2,P.u,x.zx,r.Ct],styles:[".button-wrapper[_ngcontent-%COMP%]{position:relative}"]}),y})()},5651:(hn,ft,b)=>{"use strict";b.d(ft,{r:()=>P});var e=b(5e3),d=b(9808);function u(x,r){if(1&x&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&x){const R=e.oxw();e.Udp("font-size",R.size+"rem"),e.xp6(1),e.Oqu(R.icon)}}function f(x,r){if(1&x&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"div"),e.qZA()()),2&x){const R=e.oxw();e.xp6(2),e.Tol("loading-indicator__spinner "+R.model)}}const _=function(x){return{disabled:x}};let P=(()=>{class x{constructor(){this.icon="",this.size=1.9,this.disabled=!1,this.onClick=new e.vpe,this.model="primary",this.loading=!1}ngOnInit(){}clickHandler(R){this.disabled||this.onClick.emit(R)}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-icon-button"]],inputs:{icon:"icon",size:"size",disabled:"disabled",model:"model",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:7,consts:[[3,"ngClass","click"],["class","material-icons-round",3,"font-size",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"material-icons-round"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(R,L){1&R&&(e.TgZ(0,"div",0),e.NdJ("click",function(N){return L.clickHandler(N)}),e.YNc(1,u,2,3,"span",1),e.YNc(2,f,3,2,"div",2),e.qZA()),2&R&&(e.Tol("button "+L.model),e.Q6J("ngClass",e.VKq(5,_,L.disabled)),e.xp6(1),e.Q6J("ngIf",!L.loading),e.xp6(1),e.Q6J("ngIf",L.loading))},dependencies:[d.mk,d.O5],styles:[".button[_ngcontent-%COMP%]{display:flex;padding:.2rem;-webkit-user-select:none;user-select:none;cursor:pointer;border-radius:.4rem;transition:color .2s ease-out}.button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{line-height:normal!important}.button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.button.primary[_ngcontent-%COMP%]:hover{color:#2542a4}.button.danger[_ngcontent-%COMP%]{color:#ef4444}.button.danger[_ngcontent-%COMP%]:hover{color:#b73030}.button.success[_ngcontent-%COMP%]{color:#22c55e}.button.success[_ngcontent-%COMP%]:hover{color:#1ba94f}.button.secondary[_ngcontent-%COMP%]{color:#64748b}.button.secondary[_ngcontent-%COMP%]:hover{color:#4d5a6c}.button.info[_ngcontent-%COMP%]{color:#3b82f6}.button.info[_ngcontent-%COMP%]:hover{color:#2c61b7}.button.warning[_ngcontent-%COMP%]{color:#f59e0b}.button.warning[_ngcontent-%COMP%]:hover{color:#c07d09}.button.help[_ngcontent-%COMP%]{color:#a855f7}.button.help[_ngcontent-%COMP%]:hover{color:#7b3db6}.button.light[_ngcontent-%COMP%]{color:var(--tc-100)}.button.light[_ngcontent-%COMP%]:hover{color:var(--tc-300)}.disabled[_ngcontent-%COMP%]{color:var(--bgc-300)!important;cursor:default}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),x})()},1560:(hn,ft,b)=>{"use strict";b.d(ft,{_:()=>f});var e=b(5e3),d=b(9808);const u=["*"];let f=(()=>{class _{constructor(){this.label=""}ngOnInit(){}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-label"]],inputs:{label:"label",styleClass:"styleClass"},ngContentSelectors:u,decls:4,vars:2,consts:[[1,"input-label-wrapper"],[3,"ngClass"]],template:function(x,r){1&x&&(e.F$t(),e.TgZ(0,"span",0)(1,"label",1),e._uU(2),e.qZA(),e.Hsn(3),e.qZA()),2&x&&(e.xp6(1),e.Q6J("ngClass",r.styleClass),e.xp6(1),e.Oqu(r.label))},dependencies:[d.mk]}),_})()},8508:(hn,ft,b)=>{"use strict";b.d(ft,{Z:()=>P});var e=b(5e3),d=b(2382),u=b(4004),f=b(9808);let _=(()=>{class x{constructor(R){this.el=R,this.dfPlaceholder="",this.itemToMeasure=document.createElement("span")}set update(R){this.adjust(this.el.nativeElement)}onInput(R){this.adjust(R.target)}onBlur(R){setTimeout(()=>this.adjust(R.target))}onFocus(R){this.adjust(R.target)}ngOnInit(){const R=getComputedStyle(this.el.nativeElement);this.itemToMeasure.style.fontSize=R.fontSize,this.itemToMeasure.style.fontFamily=R.fontFamily,this.itemToMeasure.style.fontWeight=R.fontWeight,this.itemToMeasure.style.fontStyle=R.fontStyle,this.itemToMeasure.style.visibility="hidden",this.itemToMeasure.style.position="fixed",this.itemToMeasure.style.whiteSpace="nowrap",this.el.nativeElement.style.transition="width .2s ease-in-out",this.el.nativeElement.style.boxSizing="content-box",this.el.nativeElement.placeholder=this.dfPlaceholder,document.body.append(this.itemToMeasure),this.adjust(this.el.nativeElement)}ngOnDestroy(){document.body.removeChild(this.itemToMeasure)}ngOnChanges(R){R.dfPlaceholder&&(this.itemToMeasure.innerText=R.dfPlaceholder.currentValue,this.el.nativeElement.placeholder=R.dfPlaceholder.currentValue),this.adjust(this.el.nativeElement)}adjust(R){this.itemToMeasure.innerText=R.value?R.value:this.dfPlaceholder;const{width:L}=this.itemToMeasure.getBoundingClientRect();R.style.width=`${L}px`}}return x.\u0275fac=function(R){return new(R||x)(e.Y36(e.SBq))},x.\u0275dir=e.lG2({type:x,selectors:[["","appAdjustInputWidth",""]],hostBindings:function(R,L){1&R&&e.NdJ("input",function(N){return L.onInput(N)})("blur",function(N){return L.onBlur(N)})("focus",function(N){return L.onFocus(N)})},inputs:{dfPlaceholder:"dfPlaceholder",update:"update"},features:[e.TTD]}),x})(),P=(()=>{class x{constructor(){this.inputClasses={},this.onBlur=new e.vpe,this.control1=new d.NI(0),this.control2=new d.NI(0),this.control3=new d.NI(0),this.control4=new d.NI(0),this.formGroup=new d.cw({octets:new d.Oe([this.control1,this.control2,this.control3,this.control4])}),this.updateValue="",this.onChange=R=>{},this.onTouch=()=>{}}setDisabledState(R){R?this.formGroup.disable({emitEvent:!1}):this.formGroup.enable({emitEvent:!1})}parseString(R){return R?R.trim().split(".").map(L=>{let Q=parseInt(L.replace(/\D/g,""));return isNaN(Q)?0:Q}).slice(0,4):[0,0,0,0]}registerOnChange(R){this.onChange=R}registerOnTouched(R){this.onTouch=R}writeValue(R){R&&("string"==typeof R&&(R=this.parseString(R)),4!==R.length&&(R=[0,0,0,0]),this.formGroup.patchValue({octets:this.mapOctets(R)}),this.updateValue=R.join("."))}mapOctets(R){return R.map(L=>"number"!=typeof(L=parseInt(L))||isNaN(L)?0:Math.min(Math.max(0,L),255))}octetFocus(R){R.target.select()}ngOnInit(){this.subscription=this.formGroup.valueChanges.pipe((0,u.U)(R=>{let L=R.octets;return void 0===L?(this.formGroup.patchValue({octets:[0,0,0,0]},{emitEvent:!1}),"0.0.0.0"):(L=this.mapOctets(L),this.formGroup.patchValue({octets:L},{emitEvent:!1,onlySelf:!0}),L.join("."))})).subscribe(R=>{this.onChange("0.0.0.0"===R?null:R)})}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}focusNext(R,L){3===R.target.value.length&&L.focus()}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-ip-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>x),multi:!0}])],decls:15,vars:12,consts:[[1,"flex","gap-1","p-component","p-inputtext","p-element","error-border",3,"ngClass","formGroup","click"],["appAdjustInputWidth","",1,"octet-input","text-bluegray-600",3,"formControl","update","click","focus","blur","input"],["octOne",""],["octTwo",""],["octThree",""],["appAdjustInputWidth","",1,"octet-input","text-bluegray-600",3,"formControl","update","click","focus","blur"],["octFour",""]],template:function(R,L){if(1&R){const Q=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(){e.CHM(Q);const T=e.MAs(2);return e.KtG(T.focus())}),e.TgZ(1,"input",1,2),e.NdJ("click",function(T){return T.stopPropagation()})("focus",function(T){return L.octetFocus(T)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(T){e.CHM(Q);const y=e.MAs(6);return e.KtG(L.focusNext(T,y))}),e.qZA(),e.TgZ(3,"span"),e._uU(4,"."),e.qZA(),e.TgZ(5,"input",1,3),e.NdJ("click",function(T){return T.stopPropagation()})("focus",function(T){return L.octetFocus(T)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(T){e.CHM(Q);const y=e.MAs(10);return e.KtG(L.focusNext(T,y))}),e.qZA(),e.TgZ(7,"span"),e._uU(8,"."),e.qZA(),e.TgZ(9,"input",1,4),e.NdJ("click",function(T){return T.stopPropagation()})("focus",function(T){return L.octetFocus(T)})("blur",function(){return L.onBlur.emit(),L.onTouch()})("input",function(T){e.CHM(Q);const y=e.MAs(14);return e.KtG(L.focusNext(T,y))}),e.qZA(),e.TgZ(11,"span"),e._uU(12,"."),e.qZA(),e.TgZ(13,"input",5,6),e.NdJ("click",function(T){return T.stopPropagation()})("focus",function(T){return L.octetFocus(T)})("blur",function(){return L.onBlur.emit(),L.onTouch()}),e.qZA()()}2&R&&(e.Udp("cursor","text"),e.Q6J("ngClass",L.inputClasses)("formGroup",L.formGroup),e.xp6(1),e.Q6J("formControl",L.control1)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control2)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control3)("update",L.updateValue),e.xp6(4),e.Q6J("formControl",L.control4)("update",L.updateValue))},dependencies:[f.mk,d.Fj,d.JJ,d.JL,d.oH,d.sg,_],styles:[".octet-input[_ngcontent-%COMP%]{padding:0;border:none;outline:none;width:3rem;text-align:center;font-size:1.1rem}"]}),x})()},2777:(hn,ft,b)=>{"use strict";b.d(ft,{U:()=>T});var e=b(1135),d=b(8372),u=b(5e3),f=b(8738);const _=["previewConnectedTask"],P=function(y){return["/task",y]};function x(y,E){if(1&y){const D=u.EpF();u.TgZ(0,"span",6),u.NdJ("click",function(){u.CHM(D);const B=u.oxw();return u.KtG(B.panelShowSubject.next(null))})("mouseenter",function(B){u.CHM(D);const ce=u.oxw();return u.KtG(ce.panelShowSubject.next(B))})("mouseleave",function(){u.CHM(D);const B=u.oxw();return u.KtG(B.panelShowSubject.next(null))}),u._uU(1),u.qZA()}if(2&y){const D=u.oxw();u.Q6J("routerLink",u.VKq(2,P,null==D.task?null:D.task.taskId)),u.xp6(1),u.hij("#",null==D.task?null:D.task.taskId,"")}}function r(y,E){1&y&&u._UZ(0,"p-skeleton",7),2&y&&u.Udp("display","inline-block")}function R(y,E){if(1&y&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&y){const D=u.oxw();u.xp6(1),u.hij("#",D._taskId,"")}}const L=function(){return{width:"40vw",minWidth:"min-content"}};function Q(y,E){if(1&y&&u._UZ(0,"app-task-list-element",9),2&y){const D=u.oxw(2);u.Akn(u.DdM(5,L)),u.Q6J("isHover",!1)("item",D.task)("inlined",!0)}}function N(y,E){if(1&y&&u.YNc(0,Q,1,6,"app-task-list-element",8),2&y){const D=u.oxw();u.Q6J("ngIf",null==D.task?null:D.task.taskId)}}let T=(()=>{class y{constructor(D){this.api=D,this.failed=!1,this.panelShowSubject=new e.X(null),this.panelShow$=this.panelShowSubject.pipe((0,d.b)(500))}set taskId(D){0!==D&&(this._taskId=D,this.api.getTask(this._taskId,!0).subscribe({next:U=>this.task=U,error:()=>this.failed=!0}))}static createElement(D){const U=document.createElement("task-link-element");return U.taskId=D,U}ngOnInit(){this.panelShowSub=this.panelShow$.subscribe(D=>{D?this.showPreview(D):this.hidePreview()})}ngOnDestroy(){var D;null===(D=this.panelShowSub)||void 0===D||D.unsubscribe()}showPreview(D){this.previewConnectedTask&&this.previewConnectedTask.show(D)}hidePreview(){setTimeout(()=>{this.previewConnectedTask&&this.previewConnectedTask.hide()})}}return y.\u0275fac=function(D){return new(D||y)(u.Y36(f.s))},y.\u0275cmp=u.Xpm({type:y,selectors:[["app-task-link"]],viewQuery:function(D,U){if(1&D&&u.Gf(_,5),2&D){let B;u.iGM(B=u.CRH())&&(U.previewConnectedTask=B.first)}},inputs:{task:"task",taskId:"taskId"},decls:6,vars:3,consts:[["class","like-link",3,"routerLink","click","mouseenter","mouseleave",4,"ngIf"],["width","4rem","height",".8rem",3,"display",4,"ngIf"],[4,"ngIf"],["appendTo","body"],["previewConnectedTask",""],["pTemplate","content"],[1,"like-link",3,"routerLink","click","mouseenter","mouseleave"],["width","4rem","height",".8rem"],[3,"isHover","item","inlined","style",4,"ngIf"],[3,"isHover","item","inlined"]],template:function(D,U){1&D&&(u.YNc(0,x,2,4,"span",0),u.YNc(1,r,1,2,"p-skeleton",1),u.YNc(2,R,2,1,"span",2),u.TgZ(3,"p-overlayPanel",3,4),u.YNc(5,N,1,1,"ng-template",5),u.qZA()),2&D&&(u.Q6J("ngIf",0!==(null==U.task?null:U.task.taskId)),u.xp6(1),u.Q6J("ngIf",0===(null==U.task?null:U.task.taskId)&&!U.failed),u.xp6(1),u.Q6J("ngIf",U.failed))}}),y})()},1403:(hn,ft,b)=>{"use strict";b.d(ft,{a:()=>O});var e=b(5e3),d=b(2382),u=b(1135),f=b(9841),_=b(4004),P=b(8738),x=b(9808),r=b(9783),R=b(3640),L=b(5055),Q=b(7433);function N(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){e.CHM(q);const ne=e.oxw().$implicit,Ce=e.oxw(2);return e.KtG(Ce.removeTag(ne))}),e.qZA()}}function T(K,ue){if(1&K&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2),e.qZA(),e.YNc(3,N,1,0,"span",12),e.qZA()),2&K){const q=ue.$implicit,G=e.oxw(2);e.Udp("background-color",q.color),e.xp6(2),e.hij(" ",q.name," "),e.xp6(1),e.Q6J("ngIf",G.isEdit)}}function y(K,ue){1&K&&(e.TgZ(0,"div",14),e._uU(1," \u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432 "),e.qZA())}function E(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(ne){e.CHM(q);const Ce=e.oxw(2),oe=e.MAs(4);return e.KtG(Ce.editTags(ne,oe,Ce.element.nativeElement))}),e.TgZ(1,"span",16),e._uU(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),e.qZA()()}}const D=function(){return{"z-index":2101}};function U(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(ne){return ne.stopPropagation()})("mouseenter",function(){e.CHM(q);const ne=e.oxw();return e.KtG(ne.isWrapperHovered=!0)})("mouseleave",function(){e.CHM(q);const ne=e.oxw();return e.KtG(ne.isWrapperHovered=!1)}),e.YNc(1,T,4,4,"div",7),e.YNc(2,y,2,0,"div",8),e.YNc(3,E,3,0,"div",9),e.qZA()}if(2&K){const q=e.oxw();e.Akn(q.isEdit?e.DdM(5,D):null),e.xp6(1),e.Q6J("ngForOf",q.tags),e.xp6(1),e.Q6J("ngIf",0===q.tags.length),e.xp6(1),e.Q6J("ngIf",!q.isEdit&&q.isWrapperHovered)}}function B(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(ne){e.CHM(q);const Ce=e.oxw(),oe=e.MAs(4);return e.KtG(Ce.editTags(ne,oe,Ce.element.nativeElement))}),e._uU(1," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433\u0438 "),e.qZA()}}function ce(K,ue){if(1&K&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&K){const q=ue.$implicit;e.Udp("color",q.value.color),e.xp6(1),e.Oqu(q.label)}}const $=function(){return[]},V=function(){return{"max-height":"35vh"}};function k(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"p-listbox",18),e.NdJ("onChange",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.appendTag(ne.value))}),e.ALo(1,"async"),e.YNc(2,ce,2,3,"ng-template",19),e.qZA()}if(2&K){const q=e.oxw();let G;e.Q6J("options",null!==(G=e.lcZ(1,3,q.loadedTags$))&&void 0!==G?G:e.DdM(5,$))("filter",!0)("listStyle",e.DdM(6,V))}}let O=(()=>{class K{constructor(q,G){this.api=q,this.element=G,this.isEdit=!1,this.isDisabled=!1,this.isWrapperHovered=!1,this.tags=[],this.selectedTagsSubject=new u.X(this.tags),this.alreadySelected$=this.selectedTagsSubject.asObservable(),this.loadedTags$=(0,f.a)([this.api.getTaskTags(null,!1),this.alreadySelected$]).pipe((0,_.U)(([ne,Ce])=>ne.filter(oe=>!Ce.find(z=>z.taskTagId===oe.taskTagId)).map(oe=>({label:oe.name,value:oe})))),this.initialTags=[],this.onShow=new e.vpe,this.onHide=new e.vpe,this.onChange=ne=>{},this.onTouched=()=>{}}ngOnInit(){}ngOnDestroy(){}registerOnChange(q){this.onChange=q}registerOnTouched(q){this.onTouched=q}setDisabledState(q){this.isDisabled=q}writeValue(q){if(!q)return this.tags=[],void this.selectedTagsSubject.next(this.tags);this.tags=q,this.selectedTagsSubject.next(this.tags)}appendTag(q){!q||(this.tags.push(q),this.selectedTagsSubject.next(this.tags))}removeTag(q){this.tags.splice(this.tags.indexOf(q),1),this.selectedTagsSubject.next(this.tags)}initializeTags(){this.initialTags=[...this.tags]}isHasChanges(){return!(this.tags.length===this.initialTags.length&&!this.tags.some(q=>this.initialTags.every(G=>G.taskTagId!==q.taskTagId))&&!this.initialTags.some(q=>this.tags.every(G=>q.taskTagId!==G.taskTagId)))}changeTags(){this.isEdit=!1,this.onHide.emit(),this.isHasChanges()&&this.onChange(this.tags)}editTags(q,G,ne){q.stopPropagation(),this.isEdit=!0,this.initializeTags(),G.toggle(q,ne),this.onShow.emit()}}return K.\u0275fac=function(q){return new(q||K)(e.Y36(P.s),e.Y36(e.SBq))},K.\u0275cmp=e.Xpm({type:K,selectors:[["app-task-tag-inline-selector"]],outputs:{onShow:"onShow",onHide:"onHide"},features:[e._Bn([{provide:d.JU,multi:!0,useExisting:K}])],decls:7,vars:5,consts:[["class","flex gap-2 align-items-center flex-wrap user-select-none relative w-fit",3,"style","click","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["emptyTagsTemplate",""],["appendTo","body","styleClass","overlay-panel-unpadding",3,"onHide"],["appendTagPanel",""],["pTemplate","content"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","gap-2","align-items-center","flex-wrap","user-select-none","relative","w-fit",3,"click","mouseenter","mouseleave"],["class","flex align-items-center px-3 py-2 text-white flex border-round-3xl gap-1 cursor-default",3,"background-color",4,"ngFor","ngForOf"],["class","text-bluegray-300 font-bold px-2 py-1",4,"ngIf"],["class","absolute flex min-w-max w-full h-full align-items-center justify-content-center cursor-pointer\n          border-round-xl py-2 px-4 back-blured border-1 border-orange-500",3,"click",4,"ngIf"],[1,"flex","align-items-center","px-3","py-2","text-white","flex","border-round-3xl","gap-1","cursor-default"],[1,"white-space-nowrap"],["class","mdi-cancel cursor-pointer hover:text-red-100",3,"click",4,"ngIf"],[1,"mdi-cancel","cursor-pointer","hover:text-red-100",3,"click"],[1,"text-bluegray-300","font-bold","px-2","py-1"],[1,"absolute","flex","min-w-max","w-full","h-full","align-items-center","justify-content-center","cursor-pointer","border-round-xl","py-2","px-4","back-blured","border-1","border-orange-500",3,"click"],[1,"text-orange-500"],[1,"text-primary","px-3","py-2","border-round-3xl","border-1","border-primary","w-fit","hover:bg-primary","hover:text-white","cursor-pointer",3,"click"],["filterBy","name",3,"options","filter","listStyle","onChange"],["pTemplate","item"]],template:function(q,G){if(1&q&&(e.YNc(0,U,4,6,"div",0),e.YNc(1,B,2,0,"ng-template",null,1,e.W1O),e.TgZ(3,"p-overlayPanel",2,3),e.NdJ("onHide",function(){return G.changeTags()}),e.YNc(5,k,3,7,"ng-template",4),e.qZA(),e._UZ(6,"p-blockUI",5)),2&q){const ne=e.MAs(2);e.Q6J("ngIf",G.tags.length>0||G.isEdit)("ngIfElse",ne),e.xp6(6),e.Q6J("blocked",G.isEdit)("autoZIndex",!1)("baseZIndex",1101)}},dependencies:[x.sg,x.O5,r.jx,R.T,L.Ri,Q.b,x.Ov]}),K})()},5834:(hn,ft,b)=>{"use strict";b.d(ft,{E:()=>we});var e=b(5e3),d=b(2382),u=b(8738);function f(Ie,ct){1&Ie&&e.GkF(0)}const _=function(){return{label:"\u0414\u0430",value:!0}},P=function(){return{label:"\u041d\u0435\u0442",value:!1}},x=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},r=function(Ie,ct,dt){return[Ie,ct,dt]};function R(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,f,1,0,"ng-container",6),e._UZ(2,"p-dropdown",7),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt),e.xp6(1),e.Q6J("options",e.kEZ(5,r,e.DdM(2,_),e.DdM(3,P),e.DdM(4,x)))}}function L(Ie,ct){1&Ie&&e.GkF(0)}function Q(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,L,1,0,"ng-container",6),e._UZ(2,"input",8),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function N(Ie,ct){1&Ie&&e.GkF(0)}function T(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,N,1,0,"ng-container",6),e._UZ(2,"input",8),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function y(Ie,ct){1&Ie&&e.GkF(0)}function E(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,y,1,0,"ng-container",6),e._UZ(2,"p-inputNumber",9),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function D(Ie,ct){1&Ie&&e.GkF(0)}function U(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,D,1,0,"ng-container",6),e._UZ(2,"p-inputNumber",10),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt),e.xp6(1),e.Q6J("minFractionDigits",1)}}function B(Ie,ct){1&Ie&&e.GkF(0)}function ce(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"div",5),e.YNc(1,B,1,0,"ng-container",6),e.TgZ(2,"app-address-input-alt",11),e.NdJ("onBlur",function(){e.CHM(dt);const vt=e.oxw(2);return e.KtG(vt.onTouched())}),e.qZA()()}if(2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function $(Ie,ct){1&Ie&&e.GkF(0)}function V(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,$,1,0,"ng-container",6),e._UZ(2,"input",12),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function k(Ie,ct){1&Ie&&e.GkF(0)}const O=function(){return[]};function K(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"div",5),e.YNc(1,k,1,0,"ng-container",6),e.TgZ(2,"p-dropdown",13),e.NdJ("onBlur",function(){e.CHM(dt);const vt=e.oxw(2);return e.KtG(vt.onTouched())}),e.ALo(3,"async"),e.qZA()()}if(2&Ie){const dt=e.oxw(2),et=e.MAs(2);let vt;e.xp6(1),e.Q6J("ngTemplateOutlet",et),e.xp6(1),e.Q6J("options",null!==(vt=e.lcZ(3,3,dt.adSources$))&&void 0!==vt?vt:e.DdM(5,O))("showClear",!0)}}function ue(Ie,ct){1&Ie&&e.GkF(0)}function q(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,ue,1,0,"ng-container",6),e._UZ(2,"input",12),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function G(Ie,ct){1&Ie&&e.GkF(0)}function ne(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,G,1,0,"ng-container",6),e._UZ(2,"input",14),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function Ce(Ie,ct){1&Ie&&e.GkF(0)}function oe(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",5),e.YNc(1,Ce,1,0,"ng-container",6),e._UZ(2,"app-equipments-field-filter",9),e.qZA()),2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function z(Ie,ct){1&Ie&&e.GkF(0)}function te(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"div",5),e.YNc(1,z,1,0,"ng-container",6),e.TgZ(2,"app-connection-services-input",11),e.NdJ("onBlur",function(){e.CHM(dt);const vt=e.oxw(2);return e.KtG(vt.onTouched())}),e.qZA()()}if(2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function W(Ie,ct){1&Ie&&e.GkF(0)}function Y(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"div",5),e.YNc(1,W,1,0,"ng-container",6),e.TgZ(2,"p-dropdown",15),e.NdJ("onBlur",function(){e.CHM(dt);const vt=e.oxw(2);return e.KtG(vt.onTouched())}),e.ALo(3,"async"),e.qZA()()}if(2&Ie){const dt=e.oxw(2),et=e.MAs(2);let vt;e.xp6(1),e.Q6J("ngTemplateOutlet",et),e.xp6(1),e.Q6J("options",null!==(vt=e.lcZ(3,3,dt.connectionTypes$))&&void 0!==vt?vt:e.DdM(5,O))("showClear",!0)}}function Ae(Ie,ct){1&Ie&&e.GkF(0)}function Ee(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"div",5),e.YNc(1,Ae,1,0,"ng-container",6),e.TgZ(2,"input",16),e.NdJ("blur",function(){e.CHM(dt);const vt=e.oxw(2);return e.KtG(vt.onTouched())}),e.qZA()()}if(2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function qe(Ie,ct){1&Ie&&e.GkF(0)}function ye(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"div",5),e.YNc(1,qe,1,0,"ng-container",6),e.TgZ(2,"input",17),e.NdJ("blur",function(){e.CHM(dt);const vt=e.oxw(2);return e.KtG(vt.onTouched())}),e.qZA()()}if(2&Ie){e.oxw(2);const dt=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",dt)}}function Ge(Ie,ct){1&Ie&&e._UZ(0,"div"),2&Ie&&e.Udp("background-color","red")}function X(Ie,ct){if(1&Ie&&(e.ynx(0,2),e.YNc(1,R,3,9,"div",3),e.YNc(2,Q,3,1,"div",3),e.YNc(3,T,3,1,"div",3),e.YNc(4,E,3,1,"div",3),e.YNc(5,U,3,2,"div",3),e.YNc(6,ce,3,1,"div",3),e.YNc(7,V,3,1,"div",3),e.YNc(8,K,4,6,"div",3),e.YNc(9,q,3,1,"div",3),e.YNc(10,ne,3,1,"div",3),e.YNc(11,oe,3,1,"div",3),e.YNc(12,te,3,1,"div",3),e.YNc(13,Y,4,6,"div",3),e.YNc(14,Ee,3,1,"div",3),e.YNc(15,ye,3,1,"div",3),e.YNc(16,Ge,1,2,"div",4),e.BQk()),2&Ie){const dt=e.oxw();e.Q6J("ngSwitch",dt.field.value.wireframeFieldType)("formGroup",dt.field),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"),e.xp6(1),e.Q6J("ngSwitchCase","COUNTING_LIVES")}}function be(Ie,ct){if(1&Ie&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&Ie){const dt=e.oxw();e.xp6(1),e.hij(" ",null==dt.field?null:dt.field.value.name," ")}}let we=(()=>{class Ie{constructor(dt){this.api=dt,this.connectionTypes$=this.api.getConnectionTypesList(),this.adSources$=this.api.getAdSourcesList(),this.onChange=et=>{},this.onTouched=()=>{}}ngOnInit(){}registerOnChange(dt){this.onChange=dt}registerOnTouched(dt){this.onTouched=dt}writeValue(dt){this.controlValue=dt}}return Ie.\u0275fac=function(dt){return new(dt||Ie)(e.Y36(u.s))},Ie.\u0275cmp=e.Xpm({type:Ie,selectors:[["app-task-template-filter-input"]],inputs:{field:"field"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>Ie),multi:!0}])],decls:3,vars:1,consts:[[3,"ngSwitch","formGroup",4,"ngIf"],["label",""],[3,"ngSwitch","formGroup"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],["formControlName","value",3,"options"],["formControlName","value","pInputText",""],["formControlName","value"],["formControlName","value",3,"minFractionDigits"],["formControlName","value",3,"onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$"],["placeholder","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a","appendTo","body","formControlName","value",3,"options","showClear","onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[\\d\\.]+$"],["formControlName","value","placeholder","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","appendTo","body",3,"options","showClear","onBlur"],["formControlName","value","appRegexPatternChecker","","pInputText","","patternRx","^[1-9]\\d{0,10}$",3,"blur"],["formControlName","value","pInputText","",3,"blur"]],template:function(dt,et){1&dt&&(e.YNc(0,X,17,17,"ng-container",0),e.YNc(1,be,2,1,"ng-template",null,1,e.W1O)),2&dt&&e.Q6J("ngIf",et.field)}}),Ie})()},6502:(hn,ft,b)=>{"use strict";b.d(ft,{o:()=>Rt});var e=b(5e3),d=b(7384),u=b(2382),f=b(8738);function _(Nt,At){1&Nt&&e.GkF(0)}const P=function(){return{label:"\u0414\u0430",value:!0}},x=function(){return{label:"\u041d\u0435\u0442",value:!1}},r=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},R=function(Nt,At,st){return[Nt,At,st]};function L(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,_,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",8),e.NdJ("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("ngModel",st.controlValue)("ngClass",st.classes)("options",e.kEZ(8,R,e.DdM(5,P),e.DdM(6,x),e.DdM(7,r)))("disabled",st.disable)}}function Q(Nt,At){1&Nt&&e.GkF(0)}function N(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Q,1,0,"ng-container",7),e.TgZ(2,"input",9),e.NdJ("blur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("disabled",st.disable)("ngClass",st.classes)("ngModel",st.controlValue)}}function T(Nt,At){1&Nt&&e.GkF(0)}function y(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,T,1,0,"ng-container",7),e.TgZ(2,"textarea",10),e.NdJ("blur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("ngModel",st.controlValue)("autoResize",!0)("disabled",st.disable)("ngClass",st.classes)("rows",7)}}function E(Nt,At){1&Nt&&e.GkF(0)}function D(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,E,1,0,"ng-container",7),e.TgZ(2,"app-counting-lives-input",11),e.NdJ("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("inputClasses",st.classes)("ngModel",st.controlValue)("disabled",st.disable)}}function U(Nt,At){1&Nt&&e.GkF(0)}function B(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,U,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",12),e.NdJ("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("disabled",st.disable)("ngClass",st.classes)("ngModel",st.controlValue)}}function ce(Nt,At){1&Nt&&e.GkF(0)}function $(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ce,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",13),e.NdJ("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("ngModel",st.controlValue)("ngClass",st.classes)("disabled",st.disable)("minFractionDigits",1)}}function V(Nt,At){1&Nt&&e.GkF(0)}function k(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,V,1,0,"ng-container",7),e.TgZ(2,"app-address-input-alt",14),e.NdJ("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("focusin",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("inputClasses",st.classes)("disabled",st.disable)("ngModel",st.controlValue)}}function O(Nt,At){1&Nt&&e.GkF(0)}function K(Nt,At){if(1&Nt&&e._UZ(0,"p-contextMenu",18),2&Nt){e.oxw();const st=e.MAs(3),ot=e.oxw();e.Q6J("target",st)("model",ot.loginInputContextMenuModel)}}function ue(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,O,1,0,"ng-container",7),e.TgZ(2,"input",15,16),e.NdJ("blur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA(),e.YNc(4,K,1,2,"p-contextMenu",17),e.qZA()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("ngModel",st.controlValue)("disabled",st.disable)("ngClass",st.classes),e.xp6(2),e.Q6J("ngIf",st.isHasModelItemId&&!st.controlValue)}}function q(Nt,At){1&Nt&&e.GkF(0)}const G=function(){return[]};function ne(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,q,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",19),e.NdJ("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.ALo(3,"async"),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);let ge;e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("ngModel",st.controlValue)("disabled",st.disable)("options",null!==(ge=e.lcZ(3,5,st.adSources$))&&void 0!==ge?ge:e.DdM(7,G))("ngClass",st.classes)}}function Ce(Nt,At){1&Nt&&e.GkF(0)}function oe(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Ce,1,0,"ng-container",7),e.TgZ(2,"input",15),e.NdJ("blur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("ngModel",st.controlValue)("disabled",st.disable)("ngClass",st.classes)}}function z(Nt,At){1&Nt&&e.GkF(0)}function te(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,z,1,0,"ng-container",7),e.TgZ(2,"app-ip-input",20),e.NdJ("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("inputClasses",st.classes)("disabled",st.disable)("ngModel",st.controlValue)}}function W(Nt,At){1&Nt&&e.GkF(0)}function Y(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,W,1,0,"ng-container",7),e.TgZ(2,"app-client-equipment-list-input",21),e.NdJ("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("disabled",st.disable)("ngModel",st.controlValue)("inputClasses",st.classes)}}function Ae(Nt,At){1&Nt&&e.GkF(0)}function Ee(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Ae,1,0,"ng-container",7),e.TgZ(2,"app-connection-services-input",22),e.NdJ("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("isDisabled",st.disable)("ngModel",st.controlValue)("inputClasses",st.classes)}}function qe(Nt,At){1&Nt&&e.GkF(0)}function ye(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6),e.YNc(1,qe,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",23),e.NdJ("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.ALo(3,"async"),e.qZA()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);let ge;e.xp6(1),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("ngModel",st.controlValue)("disabled",st.disable)("options",null!==(ge=e.lcZ(3,5,st.connectionTypes$))&&void 0!==ge?ge:e.DdM(7,G))("ngClass",st.classes)}}function Ge(Nt,At){1&Nt&&e.GkF(0)}function X(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",24)(2,"legend"),e.YNc(3,Ge,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-phone-list-input",25),e.NdJ("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)}),e.qZA()()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngClass",st.classes),e.xp6(2),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("disabled",st.disable)("ngModel",st.controlValue)}}function be(Nt,At){1&Nt&&e.GkF(0)}function we(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",24)(2,"legend"),e.YNc(3,be,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-passport-details-input",26),e.NdJ("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.onChange(ge))})("ngModelChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.controlValue=ge)})("onBlur",function(){e.CHM(st);const ge=e.oxw();return e.KtG(ge.onTouched())}),e.qZA()()()}if(2&Nt){const st=e.oxw(),ot=e.MAs(23);e.xp6(1),e.Q6J("ngClass",st.classes),e.xp6(2),e.Q6J("ngTemplateOutlet",ot),e.xp6(1),e.Q6J("ngModel",st.controlValue)}}function Ie(Nt,At){1&Nt&&e._UZ(0,"div"),2&Nt&&e.Udp("background-color","red")}function ct(Nt,At){if(1&Nt){const st=e.EpF();e.TgZ(0,"label",27)(1,"app-editing-caption",28),e.NdJ("captionChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.setName(ge))}),e.qZA(),e.TgZ(2,"app-input-variation-selector",29),e.NdJ("valueChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.currentVariation=ge)}),e.qZA(),e.TgZ(3,"app-input-variation-selector",29),e.NdJ("valueChange",function(ge){e.CHM(st);const ke=e.oxw();return e.KtG(ke.currentDisplayType=ge)}),e.ALo(4,"async"),e.qZA()()}if(2&Nt){const st=e.oxw();let ot;e.xp6(1),e.Q6J("caption",null==st.field?null:st.field.name),e.xp6(1),e.Q6J("variationList",st.currentVariationsList)("value",st.currentVariation),e.xp6(1),e.Q6J("variationList",null!==(ot=e.lcZ(4,5,st.displayTypeOptions$))&&void 0!==ot?ot:e.DdM(7,G))("value",st.currentDisplayType)}}function dt(Nt,At){1&Nt&&(e.TgZ(0,"span",31),e._uU(1,"*"),e.qZA())}function et(Nt,At){if(1&Nt&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,dt,2,0,"span",30),e.qZA()),2&Nt){const st=e.oxw();e.xp6(1),e.hij(" ",null==st.field?null:st.field.name," "),e.xp6(1),e.Q6J("ngIf","OPTIONAL"!==st.currentVariation)}}function vt(Nt,At){1&Nt&&e.GkF(0)}function ht(Nt,At){if(1&Nt&&e.YNc(0,vt,1,0,"ng-container",32),2&Nt){const st=e.oxw(),ot=e.MAs(19),ge=e.MAs(21);e.Q6J("ngIf",st.isExample)("ngIfThen",ot)("ngIfElse",ge)}}let Rt=(()=>{class Nt{constructor(st,ot){this.api=st,this.el=ot,this.isExample=!1,this.disable=!1,this.connectionTypes$=this.api.getConnectionTypesList(),this.adSources$=this.api.getAdSourcesList(),this.displayTypeOptions$=this.api.getFieldDisplayTypes(),this.onChange=ge=>{},this.onTouched=()=>{},this.loginInputContextMenuModel=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043d",command:()=>{this.field&&"modelItemId"in this.field&&this.field.modelItemId&&this.api.createUserInBilling(this.field.modelItemId).subscribe()}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c BIZ \u043b\u043e\u0433\u0438\u043d",command:()=>{this.field&&"modelItemId"in this.field&&this.field.modelItemId&&this.api.createUserInBilling(this.field.modelItemId,!0).subscribe()}}]}get classes(){const st=this.el.nativeElement;return{"ng-dirty":st.classList.contains("ng-touched"),"ng-invalid":st.classList.contains("ng-invalid")}}get type(){return this.field?"type"in this.field?this.field.type:"wireframeFieldType"in this.field?this.field.wireframeFieldType:"":""}get currentVariationsList(){if(!this.field)return[];if("type"in this.field)switch(this.field.type){case d._r.SMALL_TEXT:case d._r.LARGE_TEXT:case d._r.BOOLEAN:case d._r.INTEGER:case d._r.FLOAT:case d._r.LOGIN:case d._r.IP:case d._r.CONNECTION_TYPE:case d._r.CONNECTION_SERVICES:case d._r.EQUIPMENTS:case d._r.PHONE_ARRAY:case d._r.AD_SOURCE:case d._r.REQUEST_INITIATOR:case d._r.COUNTING_LIVES:case d._r.PASSPORT_DETAILS:return[{value:"MANDATORY",label:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},{value:"OPTIONAL",label:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}];case d._r.ADDRESS:return[{value:"ALL",label:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},{value:"APARTMENT_ONLY",label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"},{value:"HOUSE_ONLY",label:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"},{value:"OPTIONAL",label:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}];default:return[]}return[]}get currentVariation(){var st;return this.field&&"variation"in this.field&&null!==(st=this.field.variation)&&void 0!==st?st:""}set currentVariation(st){!this.field||"type"in this.field&&(this.field.variation=st)}get currentDisplayType(){var st;return this.field?"displayType"in this.field?null!==(st=this.field.displayType)&&void 0!==st?st:"LIST_AND_TELEGRAM":"":"LIST_AND_TELEGRAM"}set currentDisplayType(st){!this.field||"displayType"in this.field&&(this.field.displayType=st)}get isHasModelItemId(){return this.field&&"modelItemId"in this.field&&this.field.modelItemId}registerOnChange(st){this.onChange=st}registerOnTouched(st){this.onTouched=st}writeValue(st){this.controlValue=st}setDisabledState(st){this.disable=st}ngOnInit(){}isName(st){return"name"in st}setName(st){this.field&&"name"in this.field&&(this.field.name=st)}}return Nt.\u0275fac=function(st){return new(st||Nt)(e.Y36(f.s),e.Y36(e.SBq))},Nt.\u0275cmp=e.Xpm({type:Nt,selectors:[["app-task-template-input"]],inputs:{field:"field",isExample:"isExample"},features:[e._Bn([{provide:u.JU,useExisting:(0,e.Gpc)(()=>Nt),multi:!0}])],decls:24,vars:17,consts:[[3,"ngSwitch"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],["editedLabel",""],["staticLabel",""],["label",""],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],[3,"ngModel","ngClass","options","disabled","ngModelChange","onBlur"],["pInputText","",3,"disabled","ngClass","ngModel","blur","ngModelChange"],["pInputTextarea","",3,"ngModel","autoResize","disabled","ngClass","rows","blur","ngModelChange"],[3,"inputClasses","ngModel","disabled","onBlur","ngModelChange"],[3,"disabled","ngClass","ngModel","ngModelChange","onBlur"],[3,"ngModel","ngClass","disabled","minFractionDigits","ngModelChange","onBlur"],[3,"inputClasses","disabled","ngModel","ngModelChange","focusin"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$",3,"ngModel","disabled","ngClass","blur","ngModelChange"],["loginInput",""],["appendTo","body",3,"target","model",4,"ngIf"],["appendTo","body",3,"target","model"],["placeholder","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a","appendTo","body",3,"ngModel","disabled","options","ngClass","onBlur","ngModelChange"],[3,"inputClasses","disabled","ngModel","ngModelChange","onBlur"],[3,"disabled","ngModel","inputClasses","ngModelChange","onBlur"],[3,"isDisabled","ngModel","inputClasses","onBlur","ngModelChange"],["placeholder","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f","appendTo","body",3,"ngModel","disabled","options","ngClass","onBlur","ngModelChange"],[1,"node","flexed","gap5","column",3,"ngClass"],[3,"disabled","ngModel","ngModelChange","onBlur"],[3,"ngModel","ngModelChange","onBlur"],[1,"flexed","hcenter","gap5"],[3,"caption","captionChange"],[3,"variationList","value","valueChange"],["class","text-red-400 text-xs",4,"ngIf"],[1,"text-red-400","text-xs"],[4,"ngIf","ngIfThen","ngIfElse"]],template:function(st,ot){1&st&&(e.ynx(0,0),e.YNc(1,L,3,12,"div",1),e.YNc(2,N,3,4,"div",1),e.YNc(3,y,3,6,"div",1),e.YNc(4,D,3,4,"div",1),e.YNc(5,B,3,4,"div",1),e.YNc(6,$,3,5,"div",1),e.YNc(7,k,3,4,"div",1),e.YNc(8,ue,5,5,"div",1),e.YNc(9,ne,4,8,"div",1),e.YNc(10,oe,3,4,"div",1),e.YNc(11,te,3,4,"div",1),e.YNc(12,Y,3,4,"div",1),e.YNc(13,Ee,3,4,"div",1),e.YNc(14,ye,4,8,"div",1),e.YNc(15,X,5,4,"div",1),e.YNc(16,we,5,3,"div",1),e.YNc(17,Ie,1,2,"div",2),e.BQk(),e.YNc(18,ct,5,8,"ng-template",null,3,e.W1O),e.YNc(20,et,3,2,"ng-template",null,4,e.W1O),e.YNc(22,ht,1,3,"ng-template",null,5,e.W1O)),2&st&&(e.Q6J("ngSwitch",ot.type),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","COUNTING_LIVES"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"),e.xp6(1),e.Q6J("ngSwitchCase","PASSPORT_DETAILS"))}}),Nt})()},6847:(hn,ft,b)=>{"use strict";b.d(ft,{j:()=>f});var e=b(383),d=b(7445),u=b(5e3);let f=(()=>{class _{constructor(){this.type="long",this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434",this.subscriptions=new e.xf}set timePeriod(x){this.startTime=x?Date.now()-1e3*x:void 0}ngOnInit(){this.subscriptions.addSubscription("time",(0,d.F)(100).subscribe(this.updateTime.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}updateTime(){if(!this.startTime)return void(this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434");let x=0;x=this.startTime instanceof Date?this.startTime.getTime():"string"==typeof this.startTime?new Date(this.startTime).getTime():this.startTime;const r=(new Date).getTime()-x,R=Math.floor(r/1e3)%60,L=e.cQ.declineOfNumber(R,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]),Q=Math.floor(r/6e4)%60,N=e.cQ.declineOfNumber(Q,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]),T=Math.floor(r/36e5)%24,y=e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]),E=Math.floor(r/864e5),D=e.cQ.declineOfNumber(E,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);if(E||T||Q||R)switch(this.type){case"short":E>0?this.value=`${E} ${D}`:T>0?this.value=`${T} ${y}`:Q>0?this.value=`${Q} ${N}`:R>0&&(this.value=`${R} ${L}`);break;case"long":this.value="",E>0&&(this.value+=`${E} ${D}`),T>0&&(E>0&&(this.value+=" "),this.value+=`${T} ${y}`),Q>0&&((T>0||E>0)&&(this.value+=" "),this.value+=`${Q} ${N}`),R>0&&0===E&&0===T&&0===Q&&((Q>0||T>0||E>0)&&(this.value+=" "),this.value+=`${R} ${L}`)}else this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434"}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=u.Xpm({type:_,selectors:[["app-time-elapsed"]],inputs:{type:"type",startTime:"startTime",timePeriod:"timePeriod"},decls:2,vars:1,template:function(x,r){1&x&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&x&&(u.xp6(1),u.hij(" ",r.value,"\n"))}}),_})()},3078:(hn,ft,b)=>{"use strict";b.d(ft,{g:()=>P});var e=b(5e3),d=b(9808);function u(x,r){if(1&x&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&x){const R=e.oxw();e.xp6(1),e.Oqu(R.icon)}}function f(x,r){if(1&x&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&x){const R=e.oxw();e.xp6(1),e.Oqu(R.label)}}const _=function(x,r){return{disabled:x,iconed:r}};let P=(()=>{class x{constructor(){this.disabled=!1,this.size=1,this.model="primary",this.onClick=new e.vpe}ngOnInit(){}clickHandler(R){this.disabled||this.onClick.emit(R)}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-tiny-button"]],inputs:{icon:"icon",label:"label",disabled:"disabled",size:"size",model:"model"},outputs:{onClick:"onClick"},decls:3,vars:10,consts:[[3,"ngClass","click"],["class","material-icons-round t-button-icon",4,"ngIf"],["class","t-button-label",4,"ngIf"],[1,"material-icons-round","t-button-icon"],[1,"t-button-label"]],template:function(R,L){1&R&&(e.TgZ(0,"div",0),e.NdJ("click",function(N){return L.clickHandler(N)}),e.YNc(1,u,2,1,"span",1),e.YNc(2,f,2,1,"span",2),e.qZA()),2&R&&(e.Tol("t-button "+L.model),e.Udp("font-size",L.size+"rem"),e.Q6J("ngClass",e.WLB(7,_,L.disabled,L.icon&&L.label)),e.xp6(1),e.Q6J("ngIf",L.icon),e.xp6(1),e.Q6J("ngIf",L.label))},dependencies:[d.mk,d.O5],styles:[".t-button[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;padding:.3rem;transition:background-color .2s ease-in;cursor:pointer;color:var(--mc-500);font-weight:700;border-radius:.3rem}.t-button.disabled[_ngcontent-%COMP%]{cursor:default;background-color:var(--bgc-200)!important;color:var(--tc-400)!important}.t-button.iconed[_ngcontent-%COMP%]{padding-right:.6rem}.t-button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.t-button.primary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.secondary[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.t-button.secondary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.success[_ngcontent-%COMP%]{color:var(--green-500)}.t-button.success[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--green-100)}.t-button.danger[_ngcontent-%COMP%]{color:#ef4444}.t-button.danger[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--red-100)}.t-button.warn[_ngcontent-%COMP%]{color:#f59e0b}.t-button.warn[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--yellow-100)}.t-button.info[_ngcontent-%COMP%]{color:var(--blue-500)}.t-button.info[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--blue-100)}.t-button[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button-icon[_ngcontent-%COMP%]{color:inherit;font-size:1.3em}.t-button-label[_ngcontent-%COMP%]{color:inherit;font-size:inherit;line-height:normal;white-space:nowrap}"]}),x})()},1787:(hn,ft,b)=>{"use strict";b.d(ft,{k:()=>y});var e=b(383),d=b(1135),u=b(8372),f=b(5e3),_=b(9808),P=b(8050),x=b(9783),r=b(5072),R=b(1110);function L(E,D){if(1&E&&f._UZ(0,"app-avatar",5),2&E){const U=D.$implicit,B=D.index,ce=f.oxw();f.Akn(ce.avatarStyle(B)),f.Q6J("deleted",U.deleted)("name",U.fullName)("size",ce.size)("src",U.avatar)}}function Q(E,D){if(1&E&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&E){const U=f.oxw();f.xp6(1),f.hij(" +",U.numberOfOverflowed," ")}}function N(E,D){1&E&&f._UZ(0,"app-employee-label",8),2&E&&f.Q6J("employee",D.$implicit)}function T(E,D){if(1&E&&(f.TgZ(0,"div",6),f.YNc(1,N,1,1,"app-employee-label",7),f.qZA()),2&E){const U=f.oxw();f.xp6(1),f.Q6J("ngForOf",U.employees)("ngForTrackBy",U.trackByEmployee)}}let y=(()=>{class E{constructor(){this.employees=[],this.size=2,this.vertical=!1,this.visibleSubject=new d.X(!1),this.visible$=this.visibleSubject.pipe((0,u.b)(300)),this.subscriptions=new e.xf}avatarStyle(U){const B={mask:U<this.sliced.length-1?this.mask:"",webkitMask:U<this.sliced.length-1?this.mask:""};return this.vertical?B.marginBottom=U>0?this.margin+"rem":"":B.marginRight=this.margin+"rem",B}get margin(){return-2*(.2+this.shift())}get mask(){return this.vertical?`radial-gradient(circle at 50% ${this.size-(this.size+this.size/2+this.margin)}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`:`radial-gradient(circle at ${this.size+this.size/2+this.margin}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`}get sliced(){return this.employees.slice(0,6)}get numberOfOverflowed(){let U=this.employees.length-6;return U<0&&(U=0),U}trackByEmployee(U,B){return B.login}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}shift(){let U=.05*this.sliced.length;return U>.3&&(U=.3),U}}return E.\u0275fac=function(U){return new(U||E)},E.\u0275cmp=f.Xpm({type:E,selectors:[["app-avatar-list"]],inputs:{employees:"employees",size:"size",vertical:"vertical"},decls:6,vars:9,consts:[[1,"avatars",3,"ngClass","mouseenter","mouseleave"],[3,"deleted","name","size","src","style",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["appendTo","body",3,"visible","autoZIndex","baseZIndex"],["pTemplate","content"],[3,"deleted","name","size","src"],[1,"employees-overlay-list"],[3,"employee",4,"ngFor","ngForOf","ngForTrackBy"],[3,"employee"]],template:function(U,B){if(1&U&&(f.TgZ(0,"div",0),f.NdJ("mouseenter",function(){return B.visibleSubject.next(!0)})("mouseleave",function(){return B.visibleSubject.next(!1)}),f.YNc(1,L,1,6,"app-avatar",1),f.YNc(2,Q,2,1,"span",2),f.qZA(),f.TgZ(3,"p-overlay",3),f.ALo(4,"async"),f.YNc(5,T,2,2,"ng-template",4),f.qZA()),2&U){let ce;f.Q6J("ngClass",B.vertical?"flex-column-reverse":""),f.xp6(1),f.Q6J("ngForOf",B.sliced)("ngForTrackBy",B.trackByEmployee),f.xp6(1),f.Q6J("ngIf",B.numberOfOverflowed>0),f.xp6(1),f.Q6J("visible",null!==(ce=f.lcZ(4,7,B.visible$))&&void 0!==ce&&ce)("autoZIndex",!1)("baseZIndex",3500)}},dependencies:[_.mk,_.sg,_.O5,P.aV,x.jx,r.A,R.x,_.Ov],styles:[".avatars[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;cursor:default;-webkit-user-select:none;user-select:none;padding:.1rem}.avatars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);margin-left:.2rem}.employees-overlay-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-radius:.5rem;background-color:#fff;padding:.7rem;height:max-content;width:-moz-fit-content;width:fit-content;box-shadow:0 .2px .7px #00000006,0 .6px 1.9px #00000009,0 1.5px 4.5px #0000000c,0 5px 15px #00000012}"]}),E})()},4383:(hn,ft,b)=>{"use strict";b.d(ft,{O:()=>D});var e=b(1135),d=b(8372),u=b(5e3),f=b(8738),_=b(9808),P=b(4119),x=b(8050),r=b(6198),R=b(6847);function L(U,B){if(1&U&&u._UZ(0,"span",10),2&U){const ce=u.oxw();u.Q6J("ngClass",ce.binding.lastConnectionLocation.isHasLink?"text-green-400":"text-red-400")}}function Q(U,B){if(1&U){const ce=u.EpF();u.TgZ(0,"span",11),u.NdJ("click",function(V){u.CHM(ce);const k=u.oxw();return u.KtG(k.refreshConnectionLocation(V,null==k.binding?null:k.binding.vlanid))}),u.qZA()}}function N(U,B){1&U&&u._UZ(0,"p-progressSpinner",12)}function T(U,B){if(1&U&&(u.TgZ(0,"div",13)(1,"div",14)(2,"span",15),u._uU(3),u.qZA(),u.TgZ(4,"span",15),u._uU(5),u.qZA(),u.TgZ(6,"span",16),u._uU(7),u.qZA()(),u.TgZ(8,"div",14)(9,"span"),u._uU(10),u.qZA(),u.TgZ(11,"span"),u._uU(12),u.qZA()(),u.TgZ(13,"div",17)(14,"span"),u._uU(15,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d:"),u.qZA(),u._UZ(16,"app-time-elapsed",18),u.TgZ(17,"span"),u._uU(18,"\u043d\u0430\u0437\u0430\u0434"),u.qZA()()()),2&U){const ce=u.oxw();let $;u.xp6(3),u.Oqu(ce.binding.lastConnectionLocation.commutatorName),u.xp6(2),u.hij("",ce.binding.lastConnectionLocation.portName," \u043f\u043e\u0440\u0442"),u.xp6(1),u.Q6J("ngClass",ce.binding.lastConnectionLocation.isHasLink?"text-green-400":"text-red-400"),u.xp6(1),u.Oqu(ce.binding.lastConnectionLocation.isHasLink?"\u0415\u0441\u0442\u044c \u043b\u0438\u043d\u043a":"\u041d\u0435\u0442 \u043b\u0438\u043d\u043a\u0430"),u.xp6(3),u.hij("IP: ",ce.binding.lastConnectionLocation.commutatorIp,""),u.xp6(2),u.hij("\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",null!==($=ce.binding.lastConnectionLocation.portSpeed)&&void 0!==$?$:"-",""),u.xp6(4),u.Q6J("startTime",ce.binding.lastConnectionLocation.lastPortCheck)}}function y(U,B){1&U&&u._UZ(0,"span",19)}function E(U,B){1&U&&(u.TgZ(0,"div",20),u._UZ(1,"span",21),u.TgZ(2,"span",22),u._uU(3," \u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043c\u0435\u0441\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c "),u.qZA()()),2&U&&(u.xp6(1),u.Udp("font-size","3rem"))}let D=(()=>{class U{constructor(ce){this.api=ce,this.overlayVisibleChange=new e.X(!1),this.overlayVisible=this.overlayVisibleChange.pipe((0,d.b)(200)),this.isLocationRefreshing=!1}ngOnInit(){}refreshConnectionLocation(ce,$){ce.stopPropagation(),$&&(this.isLocationRefreshing=!0,this.api.commutatorRemoteUpdateByVlan($).subscribe({next:()=>this.isLocationRefreshing=!1,error:()=>this.isLocationRefreshing=!1}))}}return U.\u0275fac=function(ce){return new(ce||U)(u.Y36(f.s))},U.\u0275cmp=u.Xpm({type:U,selectors:[["app-binding-connection-location-view"]],inputs:{binding:"binding"},decls:14,vars:13,consts:[[1,"flex","align-items-center","font-bold","text-bluegray-400","w-fit","border-1","border-bluegray-100","bg-white","border-round-md",3,"mouseenter","mouseleave"],["class","mdi-dns text-sm p-2 terminator-right",3,"ngClass",4,"ngIf","ngIfElse"],[1,"px-2","border-right-1","border-bluegray-100","text-sm"],[3,"ngSwitch"],["class","mdi-refresh text-sm p-2 cursor-pointer text-primary-400 hover:text-primary","pTooltip","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",3,"click",4,"ngSwitchCase"],["class","custom-spinner custom-spinner-primary custom-spinner-sm m-2","strokeWidth","2",4,"ngSwitchCase"],["appendTo","body","contentStyleClass","overlay",3,"visible"],["class","p-3 flex flex-column gap-2 text-sm text-bluegray-400 fit-content",4,"ngIf","ngIfElse"],["notFinded",""],["notFindedOverlay",""],[1,"mdi-dns","text-sm","p-2","terminator-right",3,"ngClass"],["pTooltip","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",1,"mdi-refresh","text-sm","p-2","cursor-pointer","text-primary-400","hover:text-primary",3,"click"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-sm","m-2"],[1,"p-3","flex","flex-column","gap-2","text-sm","text-bluegray-400","fit-content"],[1,"flex","align-items-center","gap-2"],[1,"font-bold"],[1,"font-bold",3,"ngClass"],[1,"flex","align-items-center","gap-1","justify-content-end","text-xs","text-bluegray-300"],["type","short",3,"startTime"],[1,"mdi-check_box_outline_blank","text-sm","p-2","terminator-right"],[1,"text-sm","text-bluegray-300","font-bold","flex","flex-column","align-items-center","justify-content-center","p-3"],[1,"mds-dns"],[1,"text-center","max-w-20rem"]],template:function(ce,$){if(1&ce&&(u.TgZ(0,"div",0),u.NdJ("mouseenter",function(){return $.overlayVisibleChange.next(!0)})("mouseleave",function(){return $.overlayVisibleChange.next(!1)}),u.YNc(1,L,1,1,"span",1),u.TgZ(2,"span",2),u._uU(3),u.qZA(),u.ynx(4,3),u.YNc(5,Q,1,0,"span",4),u.YNc(6,N,1,0,"p-progressSpinner",5),u.BQk(),u.qZA(),u.TgZ(7,"p-overlay",6),u.ALo(8,"async"),u.YNc(9,T,19,7,"div",7),u.qZA(),u.YNc(10,y,1,0,"ng-template",null,8,u.W1O),u.YNc(12,E,4,2,"ng-template",null,9,u.W1O)),2&ce){const V=u.MAs(11),k=u.MAs(13);let O;u.Udp("cursor","default"),u.xp6(1),u.Q6J("ngIf",$.binding&&$.binding.lastConnectionLocation)("ngIfElse",V),u.xp6(2),u.hij(" ",null==$.binding?null:$.binding.macaddr," "),u.xp6(1),u.Q6J("ngSwitch",$.isLocationRefreshing),u.xp6(1),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("visible",null!==(O=u.lcZ(8,11,$.overlayVisible))&&void 0!==O&&O),u.xp6(2),u.Q6J("ngIf",$.binding&&$.binding.lastConnectionLocation)("ngIfElse",k)}},dependencies:[_.mk,_.O5,_.RF,_.n9,P.u,x.aV,r.G,R.j,_.Ov]}),U})()},8322:(hn,ft,b)=>{"use strict";b.d(ft,{S:()=>Ge});var e=b(7384),d=b(1135),u=b(8505),f=b(3900),_=b(9646),P=b(5625),x=b(5e3),r=b(8738);const R=["macPanel"],L=function(X){return{"border-2 border-primary-400":X}};function Q(X,be){if(1&X){const we=x.EpF();x.TgZ(0,"div",25),x.NdJ("click",function(){const dt=x.CHM(we).$implicit,et=x.oxw(5);return x.KtG(et.selectPort(dt))}),x.ALo(1,"async"),x.TgZ(2,"span",26),x._uU(3),x.qZA(),x.TgZ(4,"span",26),x._uU(5),x.qZA()()}if(2&X){const we=be.$implicit,Ie=x.oxw(5);let ct;x.Tol("w-3rem h-2rem border-round-lg cursor-pointer user-select-none flex flex-column align-items-center justify-content-center "+Ie.portStatusStyle(we)),x.Q6J("ngClass",x.VKq(7,L,(null==(ct=x.lcZ(1,5,Ie.selectPortChange$))?null:ct.portInfoId)===we.portInfoId)),x.xp6(3),x.Oqu(we.name),x.xp6(2),x.Oqu(Ie.portSpeedName(we))}}const N=function(){return[]};function T(X,be){if(1&X&&(x.TgZ(0,"div",23),x.YNc(1,Q,6,9,"div",24),x.qZA()),2&X){const we=x.oxw(4);let Ie;x.xp6(1),x.Q6J("ngForOf",null!==(Ie=we.commutator.additionalInfo.ports)&&void 0!==Ie?Ie:x.DdM(1,N))}}function y(X,be){1&X&&(x.TgZ(0,"tr")(1,"th"),x._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),x.qZA(),x.TgZ(3,"th"),x._uU(4,"VID"),x.qZA(),x.TgZ(5,"th"),x._uU(6,"\u0418\u043c\u044f vlan"),x.qZA(),x.TgZ(7,"th"),x._uU(8,"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439"),x.qZA(),x.TgZ(9,"th"),x._uU(10,"\u0421\u0435\u0441\u0441\u0438\u044f"),x.qZA()())}function E(X,be){if(1&X&&(x.TgZ(0,"tr")(1,"td"),x._uU(2),x.qZA(),x.TgZ(3,"td"),x._uU(4),x.qZA(),x.TgZ(5,"td"),x._uU(6),x.qZA(),x.TgZ(7,"td"),x._uU(8),x.qZA(),x.TgZ(9,"td"),x._uU(10),x.qZA()()),2&X){const we=be.$implicit;x.xp6(2),x.Oqu(we.mac),x.xp6(2),x.Oqu(we.vid),x.xp6(2),x.Oqu(we.vlanName),x.xp6(2),x.Oqu(we.dynamic),x.xp6(2),x.Oqu(null==we.dhcpBinding?null:we.dhcpBinding.authName)}}function D(X,be){1&X&&(x.TgZ(0,"div",33),x._UZ(1,"span",34),x.TgZ(2,"span"),x._uU(3,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430"),x.qZA()())}function U(X,be){1&X&&(x.TgZ(0,"div",35),x._UZ(1,"span",36),x.TgZ(2,"span"),x._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"),x.qZA()())}function B(X,be){if(1&X&&(x.TgZ(0,"div")(1,"p-table",27),x.ALo(2,"async"),x.YNc(3,y,11,0,"ng-template",28),x.YNc(4,E,11,5,"ng-template",29),x.qZA(),x.ynx(5,30),x.YNc(6,D,4,0,"div",31),x.YNc(7,U,4,0,"div",32),x.BQk(),x.qZA()),2&X){const we=x.oxw(4);let Ie;x.xp6(1),x.Q6J("hidden","EMPTY"==we.fdbTableLoadingState||"ERROR"==we.fdbTableLoadingState)("loading","LOADING"===we.fdbTableLoadingState)("scrollable",!0)("value",null!==(Ie=x.lcZ(2,7,we.fdbTable$))&&void 0!==Ie?Ie:x.DdM(9,N)),x.xp6(4),x.Q6J("ngSwitch",we.fdbTableLoadingState),x.xp6(1),x.Q6J("ngSwitchCase","EMPTY"),x.xp6(1),x.Q6J("ngSwitchCase","ERROR")}}function ce(X,be){if(1&X){const we=x.EpF();x.ynx(0),x.TgZ(1,"div",14)(2,"span"),x._uU(3," \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d: "),x.qZA(),x._UZ(4,"app-time-elapsed",15),x.TgZ(5,"app-tiny-button",16),x.NdJ("onClick",function(){x.CHM(we);const ct=x.oxw(3);return x.KtG(ct.refresh())}),x.qZA()(),x.TgZ(6,"div",17)(7,"div",18)(8,"span"),x._uU(9),x.qZA(),x.TgZ(10,"span",19),x._uU(11),x.qZA(),x.TgZ(12,"span",20)(13,"span"),x._uU(14,"\u0410\u043f\u0442\u0430\u0439\u043c"),x.qZA(),x._UZ(15,"app-time-elapsed",15),x.qZA()(),x.YNc(16,T,2,2,"div",21),x.qZA(),x.YNc(17,B,8,10,"div",13),x.ALo(18,"async"),x._UZ(19,"app-bindings-table",22),x.BQk()}if(2&X){const we=x.oxw(3);x.xp6(4),x.Q6J("startTime",we.commutator.additionalInfo.systemInfo.lastUpdate),x.xp6(1),x.Q6J("disabled",we.isUpdating),x.xp6(4),x.AsE(" ",we.commutator.additionalInfo.systemInfo.device," ",we.commutator.additionalInfo.systemInfo.hwVersion," "),x.xp6(2),x.hij(" FW: ",we.commutator.additionalInfo.systemInfo.fwVersion," "),x.xp6(4),x.Q6J("startTime",we.uptime),x.xp6(1),x.Q6J("ngIf",we.commutator.additionalInfo),x.xp6(1),x.Q6J("ngIf",x.lcZ(18,10,we.selectPortChange$)),x.xp6(2),x.Q6J("filterId",we.commutator.id)("ping",!1)}}function $(X,be){if(1&X&&(x.TgZ(0,"div",12),x.YNc(1,ce,20,12,"ng-container",13),x.qZA()),2&X){const we=x.oxw(2);x.xp6(1),x.Q6J("ngIf",we.commutator.additionalInfo)}}function V(X,be){if(1&X&&(x.TgZ(0,"div",39)(1,"span",40),x._uU(2),x.qZA(),x.TgZ(3,"span",41),x._uU(4),x.ALo(5,"date"),x.qZA()()),2&X){const we=be.$implicit;x.xp6(1),x.Q6J("ngClass",we.isError?"text-red-400":"text-green-400"),x.xp6(1),x.hij(" ",we.message," "),x.xp6(2),x.hij(" ",x.xi3(5,3,we.timestamp,"dd.MM.yyyy HH:mm:ss")," ")}}function k(X,be){if(1&X&&(x.TgZ(0,"div",37),x.YNc(1,V,6,6,"div",38),x.qZA()),2&X){const we=x.oxw(2);x.Udp("overscroll-behavior","contain"),x.xp6(1),x.Q6J("ngForOf",null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.remoteUpdateLogs)("ngForTrackBy",we.trackByLog)}}function O(X,be){if(1&X&&(x.TgZ(0,"p-tabView",7)(1,"p-tabPanel",8),x.YNc(2,$,2,1,"div",9),x.qZA(),x.TgZ(3,"p-tabPanel",10),x.YNc(4,k,2,4,"div",11),x.qZA()()),2&X){const we=x.oxw(),Ie=x.MAs(8),ct=x.MAs(6);x.xp6(2),x.Q6J("ngIf",we.commutator&&we.commutator.additionalInfo&&we.commutator.additionalInfo.systemInfo)("ngIfElse",Ie),x.xp6(2),x.Q6J("ngIf",null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.remoteUpdateLogs?null:we.commutator.additionalInfo.remoteUpdateLogs.length)("ngIfElse",ct)}}const K=function(X){return[X,"","",!1,!0]};function ue(X,be){if(1&X&&(x._UZ(0,"span",51),x.ALo(1,"elapsedTime")),2&X){const we=x.oxw(2);x.Q6J("pTooltip",x.G7q(1,1,x.VKq(7,K,we.uptime)))}}const q=function(){return{fontSize:"0.5rem"}};function G(X,be){if(1&X){const we=x.EpF();x.TgZ(0,"div",25),x.NdJ("click",function(ct){const et=x.CHM(we).$implicit,vt=x.oxw(3),ht=x.MAs(3);return vt.selectPortChange$.next(et),x.KtG(ht.show(ct))}),x.ALo(1,"async"),x.TgZ(2,"span",53),x._uU(3),x.qZA()()}if(2&X){const we=be.$implicit,Ie=x.oxw(3);let ct;x.Tol("w-2rem h-1rem border-round-lg cursor-pointer user-select-none flex flex-column align-items-center justify-content-center "+Ie.portStatusStyle(we)),x.Q6J("ngClass",x.VKq(8,L,(null==(ct=x.lcZ(1,6,Ie.selectPortChange$))?null:ct.portInfoId)===we.portInfoId)),x.xp6(2),x.Akn(x.DdM(10,q)),x.xp6(1),x.Oqu(we.name)}}function ne(X,be){if(1&X&&(x.TgZ(0,"div",52),x.YNc(1,G,4,11,"div",24),x.qZA()),2&X){const we=x.oxw(2);let Ie;x.xp6(1),x.Q6J("ngForOf",null!==(Ie=null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.ports)&&void 0!==Ie?Ie:x.DdM(1,N))}}function Ce(X,be){if(1&X&&x._UZ(0,"span",54),2&X){const we=x.oxw(2);let Ie;x.Q6J("pTooltip",null!==(Ie=null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.lastErrorMessage)&&void 0!==Ie?Ie:"")}}function oe(X,be){if(1&X){const we=x.EpF();x.TgZ(0,"div",42)(1,"div",18)(2,"span",19),x._uU(3),x.qZA(),x.TgZ(4,"div",43),x.YNc(5,ue,2,9,"span",44),x.TgZ(6,"span",45),x._uU(7),x.qZA(),x.TgZ(8,"span",46),x._uU(9),x.qZA()()(),x.YNc(10,ne,2,2,"div",47),x._UZ(11,"div",48),x.YNc(12,Ce,1,1,"span",49),x.TgZ(13,"app-tiny-button",50),x.NdJ("onClick",function(){x.CHM(we);const ct=x.oxw();return x.KtG(ct.refresh())}),x.ALo(14,"titlecase"),x.ALo(15,"date"),x.qZA()()}if(2&X){const we=x.oxw();let Ie;x.xp6(3),x.hij(" ",null==we.commutator?null:we.commutator.name," "),x.xp6(2),x.Q6J("ngIf",(null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.available)&&(null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.systemInfo?null:we.commutator.additionalInfo.systemInfo.uptime)),x.xp6(1),x.Q6J("ngClass",null!=we.commutator&&null!=we.commutator.additionalInfo&&we.commutator.additionalInfo.available?"text-green-400":"text-red-400"),x.xp6(1),x.hij(" ",null!=we.commutator&&null!=we.commutator.additionalInfo&&we.commutator.additionalInfo.available?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438"," "),x.xp6(2),x.hij(" ",null==we.commutator?null:we.commutator.ipaddr," "),x.xp6(1),x.Q6J("ngIf",null==we.commutator?null:we.commutator.additionalInfo),x.xp6(2),x.Q6J("ngIf",null==we.commutator||null==we.commutator.additionalInfo?null:we.commutator.additionalInfo.isLastUpdateError),x.xp6(1),x.Q6J("disabled",we.isUpdating)("pTooltip",null!==(Ie=x.lcZ(14,9,x.xi3(15,11,null==we.commutator||null==we.commutator.additionalInfo||null==we.commutator.additionalInfo.systemInfo?null:we.commutator.additionalInfo.systemInfo.lastUpdate,"dd MMMM yyyy HH:mm")))&&void 0!==Ie?Ie:"")}}function z(X,be){1&X&&(x.TgZ(0,"tr")(1,"th"),x._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),x.qZA(),x.TgZ(3,"th"),x._uU(4,"VID"),x.qZA(),x.TgZ(5,"th"),x._uU(6,"\u0418\u043c\u044f vlan"),x.qZA(),x.TgZ(7,"th"),x._uU(8,"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439"),x.qZA(),x.TgZ(9,"th"),x._uU(10,"\u0421\u0435\u0441\u0441\u0438\u044f"),x.qZA()())}function te(X,be){if(1&X&&(x.TgZ(0,"tr")(1,"td"),x._uU(2),x.qZA(),x.TgZ(3,"td"),x._uU(4),x.qZA(),x.TgZ(5,"td"),x._uU(6),x.qZA(),x.TgZ(7,"td"),x._uU(8),x.qZA(),x.TgZ(9,"td"),x._uU(10),x.qZA()()),2&X){const we=be.$implicit;x.xp6(2),x.Oqu(we.mac),x.xp6(2),x.Oqu(we.vid),x.xp6(2),x.Oqu(we.vlanName),x.xp6(2),x.Oqu(we.dynamic),x.xp6(2),x.Oqu(null==we.dhcpBinding?null:we.dhcpBinding.authName)}}function W(X,be){1&X&&(x.TgZ(0,"tr")(1,"td",58),x._uU(2,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 MAC-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430"),x.qZA()()),2&X&&(x.xp6(1),x.uIk("colspan",5))}function Y(X,be){if(1&X&&(x.TgZ(0,"p-table",56),x.YNc(1,z,11,0,"ng-template",28),x.YNc(2,te,11,5,"ng-template",29),x.YNc(3,W,3,1,"ng-template",57),x.qZA()),2&X){const we=x.oxw().ngIf,Ie=x.oxw(2);x.Q6J("loading","LOADING"===Ie.fdbTableLoadingState)("scrollable",!0)("value",we)}}function Ae(X,be){if(1&X&&(x.ynx(0),x.YNc(1,Y,4,3,"p-table",55),x.BQk()),2&X){const we=x.oxw(2);x.xp6(1),x.Q6J("ngIf","ERROR"!==we.fdbTableLoadingState)}}function Ee(X,be){if(1&X&&(x.YNc(0,Ae,2,1,"ng-container",13),x.ALo(1,"async")),2&X){const we=x.oxw();x.Q6J("ngIf",x.lcZ(1,1,we.fdbTable$))}}function qe(X,be){1&X&&(x.TgZ(0,"div",59),x._UZ(1,"span",60),x.TgZ(2,"span"),x._uU(3,"\u041d\u0435\u0442 \u043b\u043e\u0433\u043e\u0432"),x.qZA()())}function ye(X,be){if(1&X){const we=x.EpF();x.TgZ(0,"div",61),x._UZ(1,"span",62),x.TgZ(2,"span"),x._uU(3,"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"),x.qZA(),x.TgZ(4,"p-button",63),x.NdJ("onClick",function(){x.CHM(we);const ct=x.oxw();return x.KtG(ct.refresh())}),x.qZA()()}if(2&X){const we=x.oxw();x.xp6(4),x.Q6J("disabled",we.isUpdating)}}let Ge=(()=>{class X{constructor(we){this.api=we,this.tiny=!1,this.isUpdating=!1,this.lastSelectedPortId=null,this.selectPortChange$=new d.X(null),this.fdbTableLoadingState=e.Gu.LOADING,this.fdbTable$=this.selectPortChange$.pipe((0,u.b)(()=>this.fdbTableLoadingState=e.Gu.LOADING),(0,f.w)(Ie=>Ie?this.api.fdbTableByPort(Ie.portInfoId):(0,_.of)(null)),(0,u.b)({next:Ie=>{this.fdbTableLoadingState=Ie&&Ie.length>0?e.Gu.READY:e.Gu.EMPTY},error:Ie=>{var ct;this.fdbTableLoadingState=e.Gu.ERROR,null===(ct=this.macPanel)||void 0===ct||ct.hide()}}),(0,P.X)()),this.changeMacPanelVisible$=new d.X([null,null]),this.overlayPanelPort=null,this.trackByLog=(Ie,ct)=>ct.remoteUpdateLogId}get uptime(){return this.commutator&&this.commutator.additionalInfo&&this.commutator.additionalInfo.systemInfo&&this.commutator.additionalInfo.systemInfo.uptime?new Date(this.commutator.additionalInfo.systemInfo.lastUpdate).getTime()-1e3*this.commutator.additionalInfo.systemInfo.uptime:0}ngOnInit(){this.fdbTable$.subscribe(()=>{setTimeout(()=>{var we;null!==(we=this.macPanel)&&void 0!==we&&we.overlayVisible&&this.macPanel.align()},100)})}portSpeedName(we){switch(null==we?void 0:we.speed){case"HALF10":return"10H";case"FULL10":return"10F";case"HALF100":return"100H";case"FULL100":return"100F";case"HALF1000":return"1000H";case"FULL1000":return"1000F"}return""}portStatusStyle(we){if(!we)return"";switch(we.status){case"UP":return"bg-green-400";case"DOWN":return"bg-bluegray-100";case"ADMIN_DOWN":return"bg-red-400";case"PREPARE":return"bg-yellow-400"}return""}refresh(){!this.commutator||(this.isUpdating=!0,this.api.commutatorRemoteUpdate(this.commutator.id).subscribe({next:()=>this.isUpdating=!1,error:()=>this.isUpdating=!1}))}selectPort(we){if(we.portInfoId===this.lastSelectedPortId)return this.lastSelectedPortId=null,void this.selectPortChange$.next(null);this.lastSelectedPortId=we.portInfoId,this.selectPortChange$.next(we)}loadingFdbTable(){this.selectPortChange$.next(this.overlayPanelPort)}}return X.\u0275fac=function(we){return new(we||X)(x.Y36(r.s))},X.\u0275cmp=x.Xpm({type:X,selectors:[["app-commutator-view"]],viewQuery:function(we,Ie){if(1&we&&x.Gf(R,5),2&we){let ct;x.iGM(ct=x.CRH())&&(Ie.macPanel=ct.first)}},inputs:{commutator:"commutator",tiny:"tiny"},decls:9,vars:2,consts:[["styleClass","border-round-lg border-bluegray-100 border-1 overflow-hidden",4,"ngIf"],["class","flex align-items-center gap-2 p-2 border-1 border-bluegray-100 border-round-md",4,"ngIf"],["appendTo","body",3,"onHide"],["macPanel",""],["pTemplate","content"],["notags",""],["noinfo",""],["styleClass","border-round-lg border-bluegray-100 border-1 overflow-hidden"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],["class","flex flex-column gap-2",4,"ngIf","ngIfElse"],["header","\u041b\u043e\u0433\u0438"],["class","flex flex-column-reverse overflow-y-auto max-h-20rem",3,"overscroll-behavior",4,"ngIf","ngIfElse"],[1,"flex","flex-column","gap-2"],[4,"ngIf"],[1,"flex","gap-1","align-items-center","text-xs","text-bluegray-300","font-bold","justify-content-end"],[3,"startTime"],["icon","refresh",3,"disabled","onClick"],[1,"flex","gap-3"],[1,"flex","flex-column","text-bluegray-400"],[1,"text-sm"],[1,"text-xs","font-bold","text-bluegray-300"],["class","port-grille",4,"ngIf"],["filterMode","commutator",3,"filterId","ping"],[1,"port-grille"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"text-white","text-xs","font-bold"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"hidden","loading","scrollable","value"],["pTemplate","header"],["pTemplate","body"],[3,"ngSwitch"],["class","flex flex-column align-items-center justify-content-center p-3 text-bluegray-300 font-bold",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center p-3 text-red-400 font-bold",4,"ngSwitchCase"],[1,"flex","flex-column","align-items-center","justify-content-center","p-3","text-bluegray-300","font-bold"],[1,"mds-dns"],[1,"flex","flex-column","align-items-center","justify-content-center","p-3","text-red-400","font-bold"],[1,"mds-error"],[1,"flex","flex-column-reverse","overflow-y-auto","max-h-20rem"],["class","flex flex-column p-2 text-xs split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","p-2","text-xs","split-line"],[1,"font-bold",3,"ngClass"],[1,"align-self-end","text-bluegray-300"],[1,"flex","align-items-center","gap-2","p-2","border-1","border-bluegray-100","border-round-md"],[1,"flex","align-items-center","gap-1"],["class","mdi-schedule text-green-400 text-sm",3,"pTooltip",4,"ngIf"],[1,"text-xs","font-bold",3,"ngClass"],[1,"text-xs","font-bold","text-bluegray-400"],["class","port-grille-tiny",4,"ngIf"],[1,"flex-grow-1"],["class","mdi-warning text-red-400",3,"pTooltip",4,"ngIf"],["icon","refresh",3,"disabled","pTooltip","onClick"],[1,"mdi-schedule","text-green-400","text-sm",3,"pTooltip"],[1,"port-grille-tiny"],[1,"text-white","font-bold"],[1,"mdi-warning","text-red-400",3,"pTooltip"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"loading","scrollable","value",4,"ngIf"],["scrollHeight","30rem","styleClass","p-datatable-sm border-1 border-round-md border-bluegray-100 overflow-hidden",3,"loading","scrollable","value"],["pTemplate","emptymessage"],[1,"text-center","font-bold","text-bluegray-300"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-300","font-bold","text-sm"],[1,"mds-list"],[1,"flex","flex-column","align-items-center","text-bluegray-300","font-bold","text-sm"],[1,"mds-visibility_off"],["icon","mdi-refresh","label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-outlined p-button-warning mt-3",3,"disabled","onClick"]],template:function(we,Ie){1&we&&(x.YNc(0,O,5,4,"p-tabView",0),x.YNc(1,oe,16,14,"div",1),x.TgZ(2,"p-overlayPanel",2,3),x.NdJ("onHide",function(){return Ie.selectPortChange$.next(null)}),x.YNc(4,Ee,2,3,"ng-template",4),x.qZA(),x.YNc(5,qe,4,0,"ng-template",null,5,x.W1O),x.YNc(7,ye,5,1,"ng-template",null,6,x.W1O)),2&we&&(x.Q6J("ngIf",!Ie.tiny),x.xp6(1),x.Q6J("ngIf",Ie.tiny))},styles:[".port-grille[_ngcontent-%COMP%]{display:grid;grid:2rem 2rem/auto-flow 3rem;gap:.5rem}.port-grille-tiny[_ngcontent-%COMP%]{display:grid;grid:1rem 1rem/auto-flow 2rem;gap:.2rem}"]}),X})()},5948:(hn,ft,b)=>{"use strict";b.d(ft,{h:()=>xn});var e=b(4004),d=b(4782),u=b(9814),f=b(6309),_=b(5e3),P=b(8738),x=b(3470),r=b(8028);function R(Zt,bn){1&Zt&&_.GkF(0)}function L(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,R,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function Q(Zt,bn){1&Zt&&_.GkF(0)}function N(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,Q,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(15);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function T(Zt,bn){1&Zt&&_.GkF(0)}function y(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,T,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(17);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function E(Zt,bn){1&Zt&&_.GkF(0)}function D(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,E,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(25);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function U(Zt,bn){1&Zt&&_.GkF(0)}function B(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,U,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(27);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function ce(Zt,bn){1&Zt&&_.GkF(0)}function $(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,ce,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(29);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function V(Zt,bn){1&Zt&&_.GkF(0)}function k(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,V,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(19);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function O(Zt,bn){1&Zt&&_.GkF(0)}function K(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,O,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(21);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function ue(Zt,bn){1&Zt&&_.GkF(0)}function q(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,ue,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(23);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}function G(Zt,bn){1&Zt&&_.GkF(0)}function ne(Zt,bn){if(1&Zt&&(_.ynx(0),_.YNc(1,G,1,0,"ng-container",14),_.BQk()),2&Zt){_.oxw();const yn=_.MAs(13);_.xp6(1),_.Q6J("ngTemplateOutlet",yn)}}const Ce=function(){return["/clients","billing","search"]};function oe(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",25),2&Zt&&_.Q6J("link",_.DdM(1,Ce))}const z=function(){return["/addresses","list"]};function te(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",26),2&Zt&&_.Q6J("link",_.DdM(1,z))}const W=function(){return["/topology","houses"]};function Y(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",27),2&Zt&&_.Q6J("link",_.DdM(1,W))}const Ae=function(){return["/employees"]};function Ee(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",28),2&Zt&&_.Q6J("link",_.DdM(1,Ae))}const qe=function(){return["/salary","table"]};function ye(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",29),2&Zt&&_.Q6J("link",_.DdM(1,qe))}const Ge=function(){return["/contracts","inspection"]};function X(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",30),2&Zt&&_.Q6J("link",_.DdM(1,Ge))}const be=function(){return["/statistics","employee-works"]};function we(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",31),2&Zt&&_.Q6J("link",_.DdM(1,be))}const Ie=function(){return["/files"]};function ct(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",32),2&Zt&&_.Q6J("link",_.DdM(1,Ie))}const dt=function(){return["/system","billing"]};function et(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",33),2&Zt&&_.Q6J("link",_.DdM(1,dt))}const vt=function(){return["/tasks","catalog"]};function ht(Zt,bn){if(1&Zt&&(_._UZ(0,"app-extended-menu-item",15),_.ALo(1,"async"),_.YNc(2,oe,1,2,"app-extended-menu-item",16),_.YNc(3,te,1,2,"app-extended-menu-item",17),_.YNc(4,Y,1,2,"app-extended-menu-item",18),_.YNc(5,Ee,1,2,"app-extended-menu-item",19),_.YNc(6,ye,1,2,"app-extended-menu-item",20),_.YNc(7,X,1,2,"app-extended-menu-item",21),_.YNc(8,we,1,2,"app-extended-menu-item",22),_.YNc(9,ct,1,2,"app-extended-menu-item",23),_.YNc(10,et,1,2,"app-extended-menu-item",24)),2&Zt){const yn=_.oxw();let Wn;_.Q6J("link",null!==(Wn=_.lcZ(1,10,yn.lastCatalogRoute$))&&void 0!==Wn?Wn:_.DdM(12,vt)),_.xp6(2),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.BILLING)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.EDIT_ADDRESS_BOOK,yn.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.VIEW_SWITCH,yn.AccessFlag.EDIT_SWITCH)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.MANAGE_EMPLOYEES,yn.AccessFlag.MANAGE_DEPARTMENTS,yn.AccessFlag.MANAGE_POSITIONS)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.COUNT_SALARY,yn.AccessFlag.EDIT_PRICE)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.MANAGE_CONTRACTS_TYPES,yn.AccessFlag.VIEW_CONTRACTS)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.VIEW_STATISTICS)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.READ_WRITE_FILES)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.MANAGE_SYSTEM_SETTINGS))}}function Rt(Zt,bn){1&Zt&&_.GkF(0)}const Nt=function(){return["/tasks","templates"]};function At(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",39),2&Zt&&_.Q6J("link",_.DdM(1,Nt))}const st=function(){return{name:"\u0417\u0430\u0434\u0430\u0447\u0438"}},ot=function(){return["/tasks","registry"]},ge=function(){return["/tasks","calendar"]};function ke(Zt,bn){if(1&Zt&&(_.YNc(0,Rt,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",35),_.ALo(2,"async"),_._UZ(3,"app-extended-menu-item",36)(4,"app-extended-menu-item",37),_.YNc(5,At,1,2,"app-extended-menu-item",38)),2&Zt){const yn=_.oxw(),Wn=_.MAs(31);let si;_.Q6J("ngTemplateOutlet",Wn)("ngTemplateOutletContext",_.DdM(8,st)),_.xp6(1),_.Q6J("link",null!==(si=_.lcZ(2,6,yn.lastCatalogRoute$))&&void 0!==si?si:_.DdM(9,vt)),_.xp6(2),_.Q6J("link",_.DdM(10,ot)),_.xp6(1),_.Q6J("link",_.DdM(11,ge)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.EDIT_TASK_TEMPLATES,yn.AccessFlag.EDIT_TASK_TAGS,yn.AccessFlag.EDIT_DEVICES))}}function rt(Zt,bn){1&Zt&&_.GkF(0)}function yt(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",45),2&Zt&&_.Q6J("link",_.DdM(1,qe))}const Pt=function(){return["/salary","estimation"]};function Ht(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",46),2&Zt&&_.Q6J("link",_.DdM(2,Pt))("exact",!0)}const Ot=function(){return["/salary","estimation","bypass"]};function Ye(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",47),2&Zt&&_.Q6J("link",_.DdM(1,Ot))}const lt=function(){return["/salary","works"]};function Ke(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",48),2&Zt&&_.Q6J("link",_.DdM(1,lt))}const Tt=function(){return["/salary","paid-actions"]};function se(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",49),2&Zt&&_.Q6J("link",_.DdM(1,Tt))}const Fe=function(){return{name:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}};function he(Zt,bn){if(1&Zt&&(_.YNc(0,rt,1,0,"ng-container",34),_.YNc(1,yt,1,2,"app-extended-menu-item",40),_.YNc(2,Ht,1,3,"app-extended-menu-item",41),_.YNc(3,Ye,1,2,"app-extended-menu-item",42),_.YNc(4,Ke,1,2,"app-extended-menu-item",43),_.YNc(5,se,1,2,"app-extended-menu-item",44)),2&Zt){const yn=_.oxw(),Wn=_.MAs(31);_.Q6J("ngTemplateOutlet",Wn)("ngTemplateOutletContext",_.DdM(7,Fe)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.COUNT_SALARY)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.EDIT_PRICE)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.EDIT_PRICE))}}function mt(Zt,bn){1&Zt&&_.GkF(0)}const cn=function(){return{name:"\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b"}},Tn=function(){return["/clients","sessions"]};function tn(Zt,bn){if(1&Zt&&(_.YNc(0,mt,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",50)(2,"app-extended-menu-item",51)),2&Zt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(4,cn)),_.xp6(1),_.Q6J("link",_.DdM(5,Ce)),_.xp6(1),_.Q6J("link",_.DdM(6,Tn))}}function bt(Zt,bn){1&Zt&&_.GkF(0)}function nt(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",54),2&Zt&&_.Q6J("link",_.DdM(1,Ge))}const de=function(){return["/contracts","types"]};function Qe(Zt,bn){1&Zt&&_._UZ(0,"app-extended-menu-item",55),2&Zt&&_.Q6J("link",_.DdM(1,de))}const ze=function(){return{name:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b"}};function kt(Zt,bn){if(1&Zt&&(_.YNc(0,bt,1,0,"ng-container",34),_.YNc(1,nt,1,2,"app-extended-menu-item",52),_.YNc(2,Qe,1,2,"app-extended-menu-item",53)),2&Zt){const yn=_.oxw(),Wn=_.MAs(31);_.Q6J("ngTemplateOutlet",Wn)("ngTemplateOutletContext",_.DdM(4,ze)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.VIEW_CONTRACTS)),_.xp6(1),_.Q6J("ngIf",yn.personality.isHasAccess(yn.AccessFlag.MANAGE_CONTRACTS_TYPES))}}function Ze(Zt,bn){1&Zt&&_.GkF(0)}const $t=function(){return{name:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}};function gn(Zt,bn){if(1&Zt&&(_.YNc(0,Ze,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",56)),2&Zt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(3,$t)),_.xp6(1),_.Q6J("link",_.DdM(4,be))}}function Gt(Zt,bn){1&Zt&&_.GkF(0)}const Mn=function(){return{name:"\u0410\u0434\u0440\u0435\u0441\u0430"}},Ut=function(){return["/addresses","schemes"]};function rn(Zt,bn){if(1&Zt&&(_.YNc(0,Gt,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",57)(2,"app-extended-menu-item",58)),2&Zt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(4,Mn)),_.xp6(1),_.Q6J("link",_.DdM(5,z)),_.xp6(1),_.Q6J("link",_.DdM(6,Ut))}}function Bn(Zt,bn){1&Zt&&_.GkF(0)}const Vn=function(){return{name:"\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f"}},ai=function(){return["/topology","commutators"]},vi=function(){return["/topology","nets"]},Ji=function(){return["/topology","sessions"]};function Qi(Zt,bn){if(1&Zt&&(_.YNc(0,Bn,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",59)(2,"app-extended-menu-item",60)(3,"app-extended-menu-item",61)(4,"app-extended-menu-item",51)),2&Zt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(6,Vn)),_.xp6(1),_.Q6J("link",_.DdM(7,W)),_.xp6(1),_.Q6J("link",_.DdM(8,ai)),_.xp6(1),_.Q6J("link",_.DdM(9,vi)),_.xp6(1),_.Q6J("link",_.DdM(10,Ji))}}function Vo(Zt,bn){1&Zt&&_.GkF(0)}const zt=function(){return{name:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430"}},Je=function(){return["/system","telegram"]},xe=function(){return["/system","acp"]};function He(Zt,bn){if(1&Zt&&(_.YNc(0,Vo,1,0,"ng-container",34),_._UZ(1,"app-extended-menu-item",62)(2,"app-extended-menu-item",63)(3,"app-extended-menu-item",64)),2&Zt){_.oxw();const yn=_.MAs(31);_.Q6J("ngTemplateOutlet",yn)("ngTemplateOutletContext",_.DdM(5,zt)),_.xp6(1),_.Q6J("link",_.DdM(6,dt)),_.xp6(1),_.Q6J("link",_.DdM(7,Je)),_.xp6(1),_.Q6J("link",_.DdM(8,xe))}}const pt=function(){return["/"]};function dn(Zt,bn){if(1&Zt&&(_.TgZ(0,"div")(1,"div",65),_._UZ(2,"span",66),_.TgZ(3,"span"),_._uU(4),_.qZA()(),_._UZ(5,"div",67),_.qZA()),2&Zt){const yn=bn.name;_.xp6(1),_.Q6J("routerLink",_.DdM(4,pt)),_.xp6(3),_.Oqu(yn),_.xp6(1),_.Udp("margin",".7rem 1rem 1rem 1rem")}}let xn=(()=>{class Zt{constructor(yn,Wn,si,gi){this.api=yn,this.route=Wn,this.personality=si,this.taskCatalogCache=gi,this.AccessFlag=f.j,this.stagesMenuItems=[],this.stageMenuExtended=!1,this.stagesLoaded=!1,this.category="main",this.incomingCount$=this.api.getCountIncomingTasks().pipe((0,e.U)(ii=>ii.toString()),(0,d.d)(1)),this.lastCatalogRoute$=this.taskCatalogCache.lastRoute$.pipe((0,e.U)(ii=>u.d.convertToPath(ii,!0)),(0,e.U)(ii=>["/tasks","catalog",...ii]))}ngOnInit(){this.route.url.pipe((0,e.U)(yn=>yn.map(Wn=>Wn.path))).subscribe(yn=>{this.category=yn[0],this.stagesLoaded||this.api.getWireframesNames().subscribe(Wn=>{Wn.forEach(si=>{const gi=["/tasks/stages",si.wireframeId.toString()];this.stagesMenuItems=[...this.stagesMenuItems,{label:si.name,link:gi,extended:!1}],"/"+yn.join("/")===gi.join("/")&&(this.stageMenuExtended=!0)}),this.stagesLoaded=!0})})}}return Zt.\u0275fac=function(yn){return new(yn||Zt)(_.Y36(P.s),_.Y36(x.gz),_.Y36(r.F),_.Y36(u.d))},Zt.\u0275cmp=_.Xpm({type:Zt,selectors:[["app-main-menu-panel"]],decls:32,vars:10,consts:[[1,"menu-panel"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["main",""],["tasks",""],["salary",""],["clients",""],["contracts",""],["statistics",""],["addresses",""],["topology",""],["system",""],["backButton",""],[4,"ngTemplateOutlet"],["caption","\u0417\u0430\u0434\u0430\u0447\u0438","icon","mdi-task",3,"link"],["caption","\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b","icon","mdi-group",3,"link",4,"ngIf"],["caption","\u0410\u0434\u0440\u0435\u0441\u0430","icon","mdi-home_work",3,"link",4,"ngIf"],["caption","\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f","icon","mdi-hub",3,"link",4,"ngIf"],["caption","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","icon","mdi-account_circle",3,"link",4,"ngIf"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430","icon","mdi-currency_ruble",3,"link",4,"ngIf"],["caption","\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b","icon","mdi-description",3,"link",4,"ngIf"],["caption","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","icon","mdi-analytics",3,"link",4,"ngIf"],["caption","\u0424\u0430\u0439\u043b\u044b","icon","mdi-insert_drive_file",3,"link",4,"ngIf"],["caption","\u0421\u0438\u0441\u0442\u0435\u043c\u0430","icon","mdi-settings",3,"link",4,"ngIf"],["caption","\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b","icon","mdi-group",3,"link"],["caption","\u0410\u0434\u0440\u0435\u0441\u0430","icon","mdi-home_work",3,"link"],["caption","\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f","icon","mdi-hub",3,"link"],["caption","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","icon","mdi-account_circle",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430","icon","mdi-currency_ruble",3,"link"],["caption","\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u044b","icon","mdi-description",3,"link"],["caption","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","icon","mdi-analytics",3,"link"],["caption","\u0424\u0430\u0439\u043b\u044b","icon","mdi-insert_drive_file",3,"link"],["caption","\u0421\u0438\u0441\u0442\u0435\u043c\u0430","icon","mdi-settings",3,"link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["caption","\u041a\u0430\u0442\u0430\u043b\u043e\u0433","icon","mdi-inventory_2",3,"link"],["caption","\u0420\u0435\u0435\u0441\u0442\u0440","icon","mdi-format_list_bulleted",3,"link"],["caption","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c","icon","mdi-calendar_month",3,"link"],["caption","\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b","icon","mdi-ballot",3,"link",4,"ngIf"],["caption","\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b","icon","mdi-ballot",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430","icon","mdi-table_chart",3,"link",4,"ngIf"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442","icon","mdi-exposure_plus_2",3,"link","exact",4,"ngIf"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 (\u0430\u043b\u044c\u0442.)","icon","mdi-auto_awesome",3,"link",4,"ngIf"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442","icon","mdi-construction",3,"link",4,"ngIf"],["caption","\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","icon","mdi-toc",3,"link",4,"ngIf"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430","icon","mdi-table_chart",3,"link"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442","icon","mdi-exposure_plus_2",3,"link","exact"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 (\u0430\u043b\u044c\u0442.)","icon","mdi-auto_awesome",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442","icon","mdi-construction",3,"link"],["caption","\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","icon","mdi-toc",3,"link"],["caption","\u0411\u0438\u043b\u043b\u0438\u043d\u0433","icon","mdi-manage_accounts",3,"link"],["caption","\u0421\u0435\u0441\u0441\u0438\u0438","icon","mdi-stream",3,"link"],["caption","\u041f\u0440\u0438\u0435\u043c\u043a\u0430","icon","mdi-verified",3,"link",4,"ngIf"],["caption","\u0422\u0438\u043f\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","icon","mdi-plagiarism",3,"link",4,"ngIf"],["caption","\u041f\u0440\u0438\u0435\u043c\u043a\u0430","icon","mdi-verified",3,"link"],["caption","\u0422\u0438\u043f\u044b \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","icon","mdi-plagiarism",3,"link"],["caption","\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a/\u0420\u0430\u0431\u043e\u0442\u0430","icon","mdi-work_history",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a","icon","mdi-view_list",3,"link"],["caption","\u0421\u0445\u0435\u043c\u044b \u0434\u043e\u043c\u043e\u0432","icon","mdi-schema",3,"link"],["caption","\u0414\u043e\u043c\u0430","icon","mdi-maps_home_work",3,"link"],["caption","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b","icon","mdi-dns",3,"link"],["caption","\u0421\u0435\u0442\u0438","icon","mdi-lan",3,"link"],["caption","\u0411\u0438\u043b\u043b\u0438\u043d\u0433","icon","mdi-person_search",3,"link"],["caption","Telegram","icon","pi pi-telegram text-2xl",3,"link"],["caption","ACP","icon","mdi-developer_board",3,"link"],[1,"back-button",3,"routerLink"],[1,"mdi-navigate_before"],[1,"border-bottom-1","border-bluegray-100"]],template:function(yn,Wn){1&yn&&(_.TgZ(0,"div",0),_.ynx(1,1),_.YNc(2,L,2,1,"ng-container",2),_.YNc(3,N,2,1,"ng-container",2),_.YNc(4,y,2,1,"ng-container",2),_.YNc(5,D,2,1,"ng-container",2),_.YNc(6,B,2,1,"ng-container",2),_.YNc(7,$,2,1,"ng-container",2),_.YNc(8,k,2,1,"ng-container",2),_.YNc(9,K,2,1,"ng-container",2),_.YNc(10,q,2,1,"ng-container",2),_.YNc(11,ne,2,1,"ng-container",3),_.BQk(),_.qZA(),_.YNc(12,ht,11,13,"ng-template",null,4,_.W1O),_.YNc(14,ke,6,12,"ng-template",null,5,_.W1O),_.YNc(16,he,6,8,"ng-template",null,6,_.W1O),_.YNc(18,tn,3,7,"ng-template",null,7,_.W1O),_.YNc(20,kt,3,5,"ng-template",null,8,_.W1O),_.YNc(22,gn,2,5,"ng-template",null,9,_.W1O),_.YNc(24,rn,3,7,"ng-template",null,10,_.W1O),_.YNc(26,Qi,5,11,"ng-template",null,11,_.W1O),_.YNc(28,He,4,9,"ng-template",null,12,_.W1O),_.YNc(30,dn,6,5,"ng-template",null,13,_.W1O)),2&yn&&(_.xp6(1),_.Q6J("ngSwitch",Wn.category),_.xp6(1),_.Q6J("ngSwitchCase","main"),_.xp6(1),_.Q6J("ngSwitchCase","tasks"),_.xp6(1),_.Q6J("ngSwitchCase","salary"),_.xp6(1),_.Q6J("ngSwitchCase","addresses"),_.xp6(1),_.Q6J("ngSwitchCase","topology"),_.xp6(1),_.Q6J("ngSwitchCase","system"),_.xp6(1),_.Q6J("ngSwitchCase","clients"),_.xp6(1),_.Q6J("ngSwitchCase","contracts"),_.xp6(1),_.Q6J("ngSwitchCase","statistics"))},styles:[".menu-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:var(--shadow-0);background-color:#fff;border-radius:var(--br-200);height:-moz-fit-content;height:fit-content;min-width:20rem;padding:1rem;gap:1rem;position:sticky;top:calc(var(--top-panel-height) + 1.5rem)}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:.5rem;color:var(--tc-800);font-size:1.2rem;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.back-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.back-button[_ngcontent-%COMP%]:active{color:var(--mc-0);background-color:var(--mc-300)}"]}),Zt})()},4881:(hn,ft,b)=>{"use strict";b.d(ft,{E:()=>Tn});var e=b(5e3),d=b(7384),u=b(383),f=b(2382),_=b(4004),P=b(4488),x=b(8738),r=b(8007),R=b(963);const L=["tagsPreview"],Q=["typeChangePanel"],N=["categoryChangePanel"],T=["contextMenuPanel"];function y(tn,bt){if(1&tn){const nt=e.EpF();e.TgZ(0,"p-checkbox",43),e.NdJ("click",function(Qe){return Qe.stopPropagation()})("ngModelChange",function(Qe){e.CHM(nt);const ze=e.oxw();return e.KtG(ze.checkChange.emit(Qe))})("ngModelChange",function(Qe){e.CHM(nt);const ze=e.oxw();return e.KtG(ze.check=Qe)}),e.qZA()}if(2&tn){const nt=e.oxw();e.Q6J("ngModel",nt.check)("name",nt.checkGroup)("value",null==nt.item?null:nt.item.taskId)}}function E(tn,bt){1&tn&&e.GkF(0)}function D(tn,bt){1&tn&&e.GkF(0)}function U(tn,bt){1&tn&&e.GkF(0)}const B=function(tn){return{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:tn}};function ce(tn,bt){if(1&tn){const nt=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(Qe){e.CHM(nt),e.oxw();const ze=e.MAs(48),kt=e.MAs(45);return Qe.stopPropagation(),ze.toggle(Qe),e.KtG(kt.hide())}),e.YNc(1,U,1,0,"ng-container",5),e.qZA()}if(2&tn){const nt=e.oxw(),de=e.MAs(39);let Qe;e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,B,null!==(Qe=null==nt.item||null==nt.item.currentDirectory?null:nt.item.currentDirectory.name)&&void 0!==Qe?Qe:"\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"))}}function $(tn,bt){1&tn&&e.GkF(0)}const V=function(tn){return{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430",value:tn}};function k(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,$,1,0,"ng-container",5),e.ALo(2,"date"),e.BQk()),2&tn){const nt=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(5,V,e.xi3(2,2,null==nt.item?null:nt.item.actualFrom,"dd/MM/yyyy HH:mm")))}}function O(tn,bt){1&tn&&e.GkF(0)}const K=function(tn,bt){return{label:tn,value:bt}};function ue(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,O,1,0,"ng-container",5),e.ALo(2,"date"),e.BQk()),2&tn){const nt=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.WLB(5,K,nt.isExpired?"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u0430":"\u0421\u0440\u043e\u043a",e.xi3(2,2,null==nt.item?null:nt.item.actualTo,"dd/MM/yyyy HH:mm")))}}function q(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,k,3,7,"ng-container",8),e.YNc(2,ue,3,8,"ng-container",8),e.BQk()),2&tn){const nt=e.oxw();e.xp6(1),e.Q6J("ngIf",null==nt.item?null:nt.item.actualFrom),e.xp6(1),e.Q6J("ngIf",(null==nt.item?null:nt.item.actualTo)&&!(null!=nt.item&&nt.item.actualFrom))}}function G(tn,bt){if(1&tn){const nt=e.EpF();e.TgZ(0,"app-task-tag-inline-selector",45),e.NdJ("onShow",function(){e.CHM(nt);const Qe=e.oxw();return e.KtG(Qe.onStartEdit.emit(Qe.item))})("onHide",function(){e.CHM(nt);const Qe=e.oxw();return e.KtG(Qe.onStopEdit.emit(Qe.item))}),e.qZA()}if(2&tn){const nt=e.oxw();e.Q6J("formControl",nt.tagsControl)}}function ne(tn,bt){1&tn&&e.GkF(0)}function Ce(tn,bt){1&tn&&e.GkF(0)}const oe=function(tn){return{$implicit:tn}};function z(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,Ce,1,0,"ng-container",5),e.BQk()),2&tn){const nt=bt.$implicit;e.oxw(2);const de=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,oe,nt))}}function te(tn,bt){if(1&tn&&(e.TgZ(0,"div",46),e.YNc(1,z,2,4,"ng-container",47),e.qZA()),2&tn){const nt=e.oxw();e.xp6(1),e.Q6J("ngForOf",nt.item.lastComments)}}function W(tn,bt){if(1&tn){const nt=e.EpF();e.TgZ(0,"div",48),e.NdJ("dragstart",function(Qe){return Qe.stopPropagation(),Qe.preventDefault()}),e.TgZ(1,"textarea",49),e.NdJ("keydown.control.enter",function(){e.CHM(nt);const Qe=e.oxw();return e.KtG(Qe.sendComment())})("focus",function(){e.CHM(nt);const Qe=e.oxw();return e.KtG(Qe.onStartEdit.emit(Qe.item))})("blur",function(){e.CHM(nt);const Qe=e.oxw();return e.KtG(Qe.onStopEdit.emit(Qe.item))})("click",function(Qe){return Qe.stopPropagation()}),e.qZA(),e.TgZ(2,"p-button",50),e.NdJ("onClick",function(Qe){e.CHM(nt);const ze=e.oxw();return Qe.stopPropagation(),e.KtG(ze.sendComment())}),e.qZA()()}if(2&tn){const nt=e.oxw();e.Q6J("draggable",!0),e.xp6(1),e.Q6J("autoResize",!0)("rows",1)("formControl",nt.commentInputControl)("readonly",nt.commentSending),e.xp6(1),e.Q6J("loading",nt.commentSending)}}function Y(tn,bt){if(1&tn){const nt=e.EpF();e.TgZ(0,"div",51),e.NdJ("click",function(Qe){e.CHM(nt);const ze=e.oxw();return Qe.stopPropagation(),e.KtG(ze.openTaskInOldTracker(null==ze.item?null:ze.item.oldTrackerTaskId))}),e._UZ(1,"span",52),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&tn){const nt=e.oxw();e.xp6(3),e.Oqu(null==nt.item?null:nt.item.oldTrackerTaskId)}}const Ae=function(){return{whiteSpace:"pre-wrap",wordWrap:"break-word",textAlign:"left"}};function Ee(tn,bt){if(1&tn&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",55),e._uU(5),e.qZA(),e.TgZ(6,"div",56),e._uU(7),e.qZA()()),2&tn){const nt=bt.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,5,nt.created,"dd-MM-yyyy HH:mm")," "),e.xp6(3),e.hij(" ",null==nt.creator?null:nt.creator.fullName,": "),e.xp6(1),e.Akn(e.DdM(8,Ae)),e.xp6(1),e.hij(" ",nt.simpleText," ")}}function qe(tn,bt){if(1&tn&&(e.TgZ(0,"div",60),e._uU(1),e.qZA()),2&tn){const nt=bt.$implicit;e.Udp("background-color",nt.color),e.xp6(1),e.Oqu(nt.name)}}function ye(tn,bt){if(1&tn){const nt=e.EpF();e.TgZ(0,"div",61),e.NdJ("mouseenter",function(Qe){e.CHM(nt);const ze=e.oxw(2);return e.KtG(ze.tagsPreviewShow(Qe))})("mouseleave",function(){e.CHM(nt);const Qe=e.oxw(2);return e.KtG(Qe.tagsPreviewHide())}),e._uU(1),e.qZA()}if(2&tn){const nt=e.oxw(2);e.xp6(1),e.hij("",nt.remainingNumberOfTags,"+ ")}}function Ge(tn,bt){if(1&tn&&(e.TgZ(0,"div",57),e.YNc(1,qe,2,3,"div",58),e.ALo(2,"slice"),e.YNc(3,ye,2,1,"div",59),e.qZA()),2&tn){const nt=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,null==nt.item?null:nt.item.tags,0,4))("ngForTrackBy",nt.trackByTag),e.xp6(2),e.Q6J("ngIf",nt.isMoreTags)}}function X(tn,bt){if(1&tn&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&tn){const nt=bt.$implicit;e.Udp("background-color",nt.color),e.xp6(1),e.Oqu(nt.name)}}function be(tn,bt){if(1&tn&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&tn){const nt=e.oxw().$implicit;e.xp6(1),e.Oqu(null==nt?null:nt.textRepresentation)}}function we(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,be,2,1,"span",8),e.BQk()),2&tn){const nt=bt.index,de=e.oxw(3);e.xp6(1),e.Q6J("ngIf",nt<de.fieldCountArray.length)}}function Ie(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,we,2,1,"ng-container",64),e.BQk()),2&tn){const nt=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==nt.item?null:nt.item.listItemFields)("ngForTrackBy",nt.trackByField)}}function ct(tn,bt){if(1&tn){const nt=e.EpF();e.ynx(0),e.TgZ(1,"app-select-field-to-view-button",65),e.NdJ("selectView",function(Qe){e.CHM(nt);const ze=e.oxw(3);return e.KtG(ze.selectFieldToView.emit(Qe))}),e.qZA(),e.BQk()}if(2&tn){const nt=bt.$implicit,de=e.oxw(3);e.xp6(1),e.Q6J("fields",de.wireframeFieldsList)("index",nt)}}function dt(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,ct,2,2,"ng-container",64),e.BQk()),2&tn){const nt=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",nt.fieldCountArray)("ngForTrackBy",nt.trackByIndex)}}function et(tn,bt){if(1&tn&&(e.TgZ(0,"div",63),e.YNc(1,Ie,2,2,"ng-container",8),e.YNc(2,dt,2,2,"ng-container",8),e.qZA()),2&tn){const nt=e.oxw();e.Q6J("ngClass",null==nt.item||null==nt.item.modelWireframe?null:nt.item.modelWireframe.listViewType),e.xp6(1),e.Q6J("ngIf",!nt.viewExample),e.xp6(1),e.Q6J("ngIf",nt.viewExample)}}function vt(tn,bt){if(1&tn&&(e.TgZ(0,"span",66)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",67),e._uU(4),e.qZA()()),2&tn){const nt=bt.label,de=bt.value,Qe=e.oxw();e.xp6(2),e.Oqu(nt),e.xp6(1),e.Q6J("ngClass",Qe.statusColor),e.xp6(1),e.Oqu(de)}}function ht(tn,bt){1&tn&&e.GkF(0)}const Rt=function(tn){return{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",value:tn}};function Nt(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,ht,1,0,"ng-container",5),e.BQk()),2&tn){const nt=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,Rt,null==nt.item||null==nt.item.responsible?null:nt.item.responsible.fullName))}}function At(tn,bt){if(1&tn&&e.YNc(0,Nt,2,4,"ng-container",8),2&tn){const nt=e.oxw();e.Q6J("ngIf",null==nt.item?null:nt.item.responsible)}}function st(tn,bt){1&tn&&e.GkF(0)}const ot=function(tn){return{label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",value:tn}};function ge(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,st,1,0,"ng-container",5),e.BQk()),2&tn){const nt=e.oxw(2),de=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.VKq(2,ot,nt.actualWorkLogWorkers))}}function ke(tn,bt){if(1&tn&&e.YNc(0,ge,2,4,"ng-container",8),2&tn){const nt=e.oxw();e.Q6J("ngIf",nt.actualWorkLogWorkers)}}function rt(tn,bt){if(1&tn&&(e.ynx(0),e._UZ(1,"p-menu",69),e.BQk()),2&tn){const nt=e.oxw().ngIf;e.xp6(1),e.Q6J("model",nt)}}function yt(tn,bt){1&tn&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432"),e.qZA(),e.BQk())}function Pt(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,rt,2,1,"ng-container",8),e.YNc(2,yt,3,0,"ng-container",8),e.BQk()),2&tn){const nt=bt.ngIf;e.xp6(1),e.Q6J("ngIf",nt&&nt.length>0),e.xp6(1),e.Q6J("ngIf",nt&&0===nt.length)}}function Ht(tn,bt){if(1&tn&&(e.YNc(0,Pt,3,2,"ng-container",68),e.ALo(1,"async")),2&tn){const nt=e.oxw(),de=e.MAs(59);e.Q6J("ngIf",e.lcZ(1,2,nt.typesMenuModel$))("ngIfElse",de)}}function Ot(tn,bt){if(1&tn&&(e.ynx(0),e._UZ(1,"p-menu",69),e.BQk()),2&tn){const nt=e.oxw().ngIf;e.xp6(1),e.Q6J("model",nt)}}function Ye(tn,bt){1&tn&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"),e.qZA(),e.BQk())}function lt(tn,bt){if(1&tn&&(e.ynx(0),e.YNc(1,Ot,2,1,"ng-container",8),e.YNc(2,Ye,3,0,"ng-container",8),e.BQk()),2&tn){const nt=bt.ngIf;e.xp6(1),e.Q6J("ngIf",nt&&nt.length>0),e.xp6(1),e.Q6J("ngIf",nt&&0===nt.length)}}function Ke(tn,bt){if(1&tn&&(e.YNc(0,lt,3,2,"ng-container",68),e.ALo(1,"async")),2&tn){const nt=e.oxw(),de=e.MAs(59);e.Q6J("ngIf",e.lcZ(1,2,nt.categoryMenuModel$))("ngIfElse",de)}}function Tt(tn,bt){if(1&tn&&e._UZ(0,"p-menu",69),2&tn){const nt=e.oxw();e.Q6J("model",nt.contextMenuModel)}}function se(tn,bt){1&tn&&e._UZ(0,"p-progressSpinner",71)}const Fe=function(tn,bt,nt){return{processing:tn,inlined:bt,hovered:nt}},he=function(tn){return["/task",tn]},mt=function(tn){return{label:"\u041a\u043b\u0430\u0441\u0441",value:tn}},cn=function(tn){return{label:"\u0422\u0438\u043f",value:tn}};let Tn=(()=>{class tn{constructor(nt,de,Qe,ze){this.taskService=nt,this.api=de,this.rt=Qe,this.commentCachingService=ze,this.viewExample=!1,this.wireframeFieldsList=[],this.checkChange=new e.vpe,this.checkGroup="task",this.selectFieldToView=new e.vpe,this.isHover=!0,this.inlined=!1,this.onClick=new e.vpe,this.customClickHandler=!1,this.isCommentInput=!1,this.onStartEdit=new e.vpe,this.onStopEdit=new e.vpe,this.isWide$=(0,u.cy)("(min-width: 1024px)"),this.statusClass={},this.itemClass={},this.commentInputControl=new f.NI(""),this.commentSending=!1,this.dotAnimation=u.xn,this.tagsControl=new f.NI([]),this.isBlockBackground=!1,this.contextMenuModel=[],this.contextMenuTargetX=0,this.contextMenuTargetY=0,this.isAppointInstallersDialogVisible=!1,this.isShowEditTaskDialogVisible=!1,this.isShowTaskSchedulingDialogVisible=!1,this.taskSchedulingType="from",this.subscription=new u.xf}get contextMenuTargetStyle(){return{top:this.contextMenuTargetY+"px",left:this.contextMenuTargetX+"px"}}get fieldCountArray(){var nt,de;switch(null===(de=null===(nt=this.item)||void 0===nt?void 0:nt.modelWireframe)||void 0===de?void 0:de.listViewType){case"SIMPLE":return[1];case"COMPOSITE":return[1,2];case"DETAILED":return[1,2,3];default:return[]}}get statusColor(){var nt,de,Qe;return{"text-primary":(null===(nt=this.item)||void 0===nt?void 0:nt.taskStatus)===d.hY.ACTIVE,"text-orange-400":(null===(de=this.item)||void 0===de?void 0:de.taskStatus)===d.hY.PROCESSING,"text-bluegray-200":(null===(Qe=this.item)||void 0===Qe?void 0:Qe.taskStatus)===d.hY.CLOSE}}get isExpired(){let nt=!1;return this.item&&this.item.actualTo&&(nt=new Date(this.item.actualTo).getTime()<(new Date).getTime()),nt}get statusBgColor(){if(this.item){const{taskStatus:nt}=this.item;return{"bg-red-500":nt===d.hY.ACTIVE&&this.isExpired,"bg-primary":nt===d.hY.ACTIVE&&!this.isExpired,"bg-orange-500":nt===d.hY.PROCESSING,"bg-bluegray-200":nt===d.hY.CLOSE}}return null}get taskFields(){var nt,de,Qe,ze,kt,Ze;const $t=["LARGE_TEXT","COUNTING_LIVES"];return{inline:null!==(Qe=null===(de=null===(nt=this.item)||void 0===nt?void 0:nt.fields)||void 0===de?void 0:de.filter(gn=>!$t.includes(gn.wireframeFieldType)))&&void 0!==Qe?Qe:[],block:null!==(Ze=null===(kt=null===(ze=this.item)||void 0===ze?void 0:ze.fields)||void 0===kt?void 0:kt.filter(gn=>$t.includes(gn.wireframeFieldType)))&&void 0!==Ze?Ze:[]}}get isMoreTags(){var nt;return!(null===(nt=this.item)||void 0===nt||!nt.tags)&&this.item.tags.length>4}get remainingNumberOfTags(){var nt;return null!==(nt=this.item)&&void 0!==nt&&nt.tags?this.item.tags.length-2:0}get bodyClass(){var nt,de,Qe,ze,kt,Ze;return{simple:"SIMPLE"===(null===(de=null===(nt=this.item)||void 0===nt?void 0:nt.modelWireframe)||void 0===de?void 0:de.listViewType),composite:"COMPOSITE"===(null===(ze=null===(Qe=this.item)||void 0===Qe?void 0:Qe.modelWireframe)||void 0===ze?void 0:ze.listViewType),detailed:"DETAILED"===(null===(Ze=null===(kt=this.item)||void 0===kt?void 0:kt.modelWireframe)||void 0===Ze?void 0:Ze.listViewType)}}get actualWorkLogWorkers(){var nt,de;return null!==(de=null===(nt=this.actualWorkLog)||void 0===nt?void 0:nt.employees.map(Qe=>Qe.fullName).join(", "))&&void 0!==de?de:""}trackByIndex(nt,de){return nt}trackByTag(nt,de){return de.taskTagId+de.name+de.color}trackByField(nt,de){return de?de.id+de.name+de.textRepresentation:""}ngOnInit(){var nt,de,Qe;!(null===(nt=this.item)||void 0===nt)&&nt.taskStatus&&(this.statusClass={active:this.item.taskStatus===d.hY.ACTIVE,processed:this.item.taskStatus===d.hY.PROCESSING,close:this.item.taskStatus===d.hY.CLOSE}),this.updateActualWorkLog(),this.itemClass=Object.assign({"view-example":this.viewExample,hovered:this.isHover,selected:this.check},this.statusClass),!(null===(de=this.item)||void 0===de)&&de.taskId&&this.commentInputControl.setValue(this.commentCachingService.read(null===(Qe=this.item)||void 0===Qe?void 0:Qe.taskId)),this.subscription.addSubscription("comInp",this.commentInputControl.valueChanges.subscribe(ze=>{var kt;null!==(kt=this.item)&&void 0!==kt&&kt.taskId&&this.commentCachingService.write(this.item.taskId,null!=ze?ze:"")}))}tagsPreviewShow(nt){var de;null===(de=this.tagsPreview)||void 0===de||de.show(nt)}tagsPreviewHide(){setTimeout(()=>{var nt;null===(nt=this.tagsPreview)||void 0===nt||nt.hide()})}getFieldValue(nt){return this.item&&null!=this.item.listItemFields[nt]?this.item.listItemFields[nt].textRepresentation:""}ngOnChanges(nt){const{item:de,externalUpdater:Qe}=nt;de&&de.currentValue&&(this.tagsControl.setValue(de.currentValue.tags,{emitEvent:!1}),this.typesMenuModel$=this.api.getAvailableTaskTypesToChange(de.currentValue.taskId).pipe((0,_.U)(ze=>ze.map(kt=>({label:kt.label,command:()=>{var Ze;this.api.changeTaskStage(de.currentValue.taskId,kt.stageId).subscribe(),null===(Ze=this.typeChangePanel)||void 0===Ze||Ze.hide()}})))),this.categoryMenuModel$=this.api.getAvailableDirectoriesToChange(de.currentValue.taskId).pipe((0,_.U)(ze=>ze.map(kt=>({label:kt.name,command:()=>{var Ze;this.api.moveTaskToDirectory([de.currentValue.taskId],kt.taskTypeDirectoryId).subscribe(),null===(Ze=this.categoryChangePanel)||void 0===Ze||Ze.hide()}})))),this.contextMenuModel=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",disabled:de.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var ze;this.isShowEditTaskDialogVisible=!0,null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-event_available",disabled:de.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var ze;this.isShowTaskSchedulingDialogVisible=!0,this.taskSchedulingType="from",null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-event_available",disabled:de.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var ze;this.isShowTaskSchedulingDialogVisible=!0,this.taskSchedulingType="to",null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}},{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",disabled:de.currentValue.taskStatus!==d.hY.ACTIVE,command:()=>{var ze;this.isAppointInstallersDialogVisible=!0,null===(ze=this.contextMenuPanel)||void 0===ze||ze.hide()}}],this.updateActualWorkLog(),this.subscription.addSubscription("updateObs",Qe&&Qe.currentValue?Qe.currentValue.subscribe(kt=>this.item=kt):this.rt.taskUpdated(de.currentValue.taskId).subscribe(ze=>this.item=ze)),this.subscription.addSubscription("chTags",this.tagsControl.valueChanges.subscribe(ze=>this.api.setTaskTags(de.currentValue.taskId,null!=ze?ze:[]).subscribe())))}ngOnDestroy(){this.subscription.unsubscribeAll()}sendComment(){var nt,de;null===(nt=this.item)||void 0===nt||!nt.taskId||""===this.commentInputControl.value||(this.commentSending=!0,this.api.createComment(this.commentInputControl.value,null===(de=this.item)||void 0===de?void 0:de.taskId,null).subscribe({next:()=>{var Qe,ze;this.commentSending=!1,this.commentInputControl.setValue(""),null!==(Qe=this.item)&&void 0!==Qe&&Qe.taskId&&this.commentCachingService.flush(null===(ze=this.item)||void 0===ze?void 0:ze.taskId)},error:()=>this.commentSending=!1}))}callToPhone(nt){this.api.callToPhone(nt.value).subscribe({})}openTaskInOldTracker(nt){nt&&window.open(`http://tracker.vdonsk.ru/main.php?mode=show_obji&obji=${nt}&from_cat=1`,"_blank")}positioningContextMenuTarget(nt){nt.preventDefault(),this.contextMenuTargetX=nt.clientX,this.contextMenuTargetY=nt.clientY}startEdit(){this.isBlockBackground=!0,this.onStartEdit.emit(this.item)}stopEdit(){this.isBlockBackground=!1,!this.isAppointInstallersDialogVisible&&!this.isShowEditTaskDialogVisible&&!this.isShowTaskSchedulingDialogVisible&&this.onStopEdit.emit(this.item)}updateActualWorkLog(){var nt;(null===(nt=this.item)||void 0===nt?void 0:nt.taskStatus)===d.hY.PROCESSING&&this.api.getActiveWorkLogByTaskId(this.item.taskId).subscribe({next:de=>{this.actualWorkLog=de}})}}return tn.\u0275fac=function(nt){return new(nt||tn)(e.Y36(P.U),e.Y36(x.s),e.Y36(r.U),e.Y36(R.f))},tn.\u0275cmp=e.Xpm({type:tn,selectors:[["app-task-list-element"]],viewQuery:function(nt,de){if(1&nt&&(e.Gf(L,5),e.Gf(Q,5),e.Gf(N,5),e.Gf(T,5)),2&nt){let Qe;e.iGM(Qe=e.CRH())&&(de.tagsPreview=Qe.first),e.iGM(Qe=e.CRH())&&(de.typeChangePanel=Qe.first),e.iGM(Qe=e.CRH())&&(de.categoryChangePanel=Qe.first),e.iGM(Qe=e.CRH())&&(de.contextMenuPanel=Qe.first)}},inputs:{item:"item",viewExample:"viewExample",wireframeFieldsList:"wireframeFieldsList",check:"check",checkGroup:"checkGroup",isHover:"isHover",inlined:"inlined",customClickHandler:"customClickHandler",isCommentInput:"isCommentInput",externalUpdater:"externalUpdater"},outputs:{checkChange:"checkChange",selectFieldToView:"selectFieldToView",onClick:"onClick",onStartEdit:"onStartEdit",onStopEdit:"onStopEdit"},features:[e.TTD],decls:62,vars:60,consts:[[1,"flex","flex-column","bg-white","outline-none","cursor-pointer","hover:bg-gray-50","relative","pl-1",3,"ngClass","routerLink","click","contextmenu"],["taskWrapper",""],[1,"absolute","top-0","left-0","h-full","opacity-50",3,"ngClass"],[1,"flex","gap-3","p-3","border-bottom-1","border-bluegray-50","align-items-center"],[3,"ngModel","name","value","click","ngModelChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["class","hover:text-orange-500",3,"click",4,"ngIf"],[4,"ngIf"],[3,"formControl","onShow","onHide",4,"ngIf"],[1,"stretched"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"task","isTaskBody"],["class","border-top-1 border-bottom-1 border-bluegray-100 p-3 gap-1 flex flex-column",4,"ngIf"],["class","flex relative",3,"draggable","dragstart",4,"ngIf"],[1,"flex","p-3","gap-2"],["class","flex align-items-center gap-1 text-bluegray-400 hover:text-primary text-sm",3,"click",4,"ngIf"],[1,"flex-grow-1"],[1,"text-bluegray-500","text-sm","font-semibold"],[1,"font-semibold","text-sm",3,"ngClass"],["lastCommentTemplate",""],["statusTags",""],["hideTransitionOptions","0ms","showTransitionOptions","0ms",3,"appendTo"],["tagsPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["bodyView",""],["headerItem",""],["responsibleEmployee",""],["workersEmployee",""],["appendTo","body","styleClass","overlay-panel-unpadding",3,"onShow","onHide"],["typeChangePanel",""],["pTemplate","content"],["categoryChangePanel",""],[1,"fixed","max-w-0","max-h-0","pointer-events-none"],["contextMenuTarget",""],[3,"visible","taskId","visibleChange"],[3,"visible","task","visibleChange"],[3,"visible","schedulingType","taskId","visibleChange"],["contextMenuPanel",""],["loadingTemplate",""],[3,"blocked","baseZIndex","autoZIndex"],[1,"w-full","h-full",3,"contextmenu"],[3,"ngModel","name","value","click","ngModelChange"],[1,"hover:text-orange-500",3,"click"],[3,"formControl","onShow","onHide"],[1,"border-top-1","border-bottom-1","border-bluegray-100","p-3","gap-1","flex","flex-column"],[4,"ngFor","ngForOf"],[1,"flex","relative",3,"draggable","dragstart"],["pInputTextarea","","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",1,"mt-2","mx-3","flex-grow-1",3,"autoResize","rows","formControl","readonly","keydown.control.enter","focus","blur","click"],["icon","mdi-send","styleClass","p-button-text p-button-icon",1,"absolute","bottom-0","right-0","mr-3",3,"loading","onClick"],[1,"flex","align-items-center","gap-1","text-bluegray-400","hover:text-primary","text-sm",3,"click"],[1,"mdi-sync"],[1,"flex","gap-2"],[1,"text-sm","white-space-nowrap","text-bluegray-400","line-height-4"],[1,"text-sm","white-space-nowrap","text-primary-600","line-height-4"],[1,"text-bluegray-500"],[1,"tags-view"],["class","tags-view-item small",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item small",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-item","small"],[1,"tags-view-item","small",3,"mouseenter","mouseleave"],[1,"tags-view-item"],[1,"task-item-body",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"fields","index","selectView"],[1,"flex","flex-column","text-sm"],[1,"font-semibold",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"model"],[1,"p-4","text-bluegray-300","font-bold"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"]],template:function(nt,de){if(1&nt){const Qe=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("click",function(){return de.onClick.emit(de.item)})("contextmenu",function(kt){e.CHM(Qe);const Ze=e.MAs(51),$t=e.MAs(56);return de.positioningContextMenuTarget(kt),e.KtG($t.toggle(kt,Ze))}),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,y,1,3,"p-checkbox",4),e.YNc(5,E,1,0,"ng-container",5),e.TgZ(6,"div",6),e.NdJ("click",function(kt){e.CHM(Qe);const Ze=e.MAs(45),$t=e.MAs(48);return kt.stopPropagation(),"CLOSE"!==(null==de.item?null:de.item.taskStatus)&&Ze.toggle(kt),e.KtG($t.hide())}),e.YNc(7,D,1,0,"ng-container",5),e.qZA(),e.YNc(8,ce,2,4,"div",7),e.YNc(9,q,3,2,"ng-container",8),e.YNc(10,G,1,1,"app-task-tag-inline-selector",9),e._UZ(11,"div",10),e.YNc(12,ne,1,0,"ng-container",11),e.qZA(),e._UZ(13,"app-task-fields-table-view",12),e.YNc(14,te,2,1,"div",13),e.YNc(15,W,3,6,"div",14),e.TgZ(16,"div",15),e.YNc(17,Y,4,1,"div",16),e._UZ(18,"div",17),e.TgZ(19,"span",18),e._uU(20),e.qZA(),e.TgZ(21,"span",19),e._uU(22),e.ALo(23,"taskStatus"),e.qZA(),e.TgZ(24,"span",18),e._uU(25),e.ALo(26,"date"),e.qZA()()(),e.YNc(27,Ee,8,9,"ng-template",null,20,e.W1O),e.YNc(29,Ge,4,7,"ng-template",null,21,e.W1O),e.TgZ(31,"p-overlayPanel",22,23)(33,"div",24),e.YNc(34,X,2,3,"div",25),e.ALo(35,"slice"),e.qZA()(),e.YNc(36,et,3,3,"ng-template",null,26,e.W1O),e.YNc(38,vt,5,3,"ng-template",null,27,e.W1O),e.YNc(40,At,1,1,"ng-template",null,28,e.W1O),e.YNc(42,ke,1,1,"ng-template",null,29,e.W1O),e.TgZ(44,"p-overlayPanel",30,31),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(46,Ht,2,4,"ng-template",32),e.qZA(),e.TgZ(47,"p-overlayPanel",30,33),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(49,Ke,2,4,"ng-template",32),e.qZA(),e._UZ(50,"div",34,35),e.TgZ(52,"app-appoint-installers-dialog",36),e.NdJ("visibleChange",function(kt){return de.isAppointInstallersDialogVisible=kt})("visibleChange",function(kt){return!kt&&de.stopEdit()}),e.qZA(),e.TgZ(53,"app-edit-task-dialog",37),e.NdJ("visibleChange",function(kt){return de.isShowEditTaskDialogVisible=kt})("visibleChange",function(kt){return!kt&&de.stopEdit()}),e.qZA(),e.TgZ(54,"app-task-scheduling-dialog",38),e.NdJ("visibleChange",function(kt){return de.isShowTaskSchedulingDialogVisible=kt})("visibleChange",function(kt){return!kt&&de.stopEdit()}),e.qZA(),e.TgZ(55,"p-overlayPanel",30,39),e.NdJ("onShow",function(){return de.startEdit()})("onHide",function(){return de.stopEdit()}),e.YNc(57,Tt,1,1,"ng-template",32),e.qZA(),e.YNc(58,se,1,0,"ng-template",null,40,e.W1O),e.TgZ(60,"p-blockUI",41)(61,"div",42),e.NdJ("contextmenu",function(kt){return kt.stopPropagation(),kt.preventDefault()}),e.qZA()()}if(2&nt){const Qe=e.MAs(39),ze=e.MAs(41),kt=e.MAs(43);e.Q6J("ngClass",e.kEZ(50,Fe,"PROCESSING"===(null==de.item?null:de.item.taskStatus),de.inlined,de.isHover))("routerLink",de.viewExample||de.customClickHandler?null:e.VKq(54,he,null==de.item?null:de.item.taskId)),e.xp6(2),e.Udp("width",".3rem"),e.Q6J("ngClass",de.statusBgColor),e.xp6(2),e.Q6J("ngIf",de.check),e.xp6(1),e.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",e.VKq(56,mt,null==de.item||null==de.item.modelWireframe?null:de.item.modelWireframe.name)),e.xp6(1),e.Tol("CLOSE"!==(null==de.item?null:de.item.taskStatus)?"hover:text-orange-500":null),e.xp6(1),e.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",e.VKq(58,cn,null==de.item||null==de.item.currentStage?null:de.item.currentStage.label)),e.xp6(1),e.Q6J("ngIf","ACTIVE"===(null==de.item?null:de.item.taskStatus)),e.xp6(1),e.Q6J("ngIf",(null==de.item?null:de.item.actualFrom)||(null==de.item?null:de.item.actualTo)),e.xp6(1),e.Q6J("ngIf",!de.inlined),e.xp6(2),e.Q6J("ngIf","PROCESSING"===(null==de.item?null:de.item.taskStatus))("ngIfThen",kt)("ngIfElse",ze),e.xp6(1),e.Q6J("task",de.item)("isTaskBody",!1),e.xp6(1),e.Q6J("ngIf",de.item&&de.item.lastComments&&de.item.lastComments.length>0&&!de.inlined),e.xp6(1),e.Q6J("ngIf",de.isCommentInput&&"CLOSE"!==(null==de.item?null:de.item.taskStatus)),e.xp6(2),e.Q6J("ngIf",null==de.item?null:de.item.oldTrackerTaskId),e.xp6(3),e.hij("\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",null==de.item||null==de.item.creator?null:de.item.creator.fullName,""),e.xp6(1),e.Q6J("ngClass",de.statusColor),e.xp6(1),e.Oqu(e.lcZ(23,42,de.item)),e.xp6(3),e.Oqu(e.xi3(26,44,null==de.item?null:de.item.created,"dd-MM-yyyy HH:mm")),e.xp6(6),e.Q6J("appendTo","body"),e.xp6(3),e.Q6J("ngForOf",e.xi3(35,47,null==de.item?null:de.item.tags,2))("ngForTrackBy",de.trackByTag),e.xp6(16),e.Akn(de.contextMenuTargetStyle),e.xp6(2),e.Q6J("visible",de.isAppointInstallersDialogVisible)("taskId",null==de.item?null:de.item.taskId),e.xp6(1),e.Q6J("visible",de.isShowEditTaskDialogVisible)("task",de.item),e.xp6(1),e.Q6J("visible",de.isShowTaskSchedulingDialogVisible)("schedulingType",de.taskSchedulingType)("taskId",null==de.item?null:de.item.taskId),e.xp6(6),e.Q6J("blocked",de.isBlockBackground)("baseZIndex",1101)("autoZIndex",!1)}},styles:["[_nghost-%COMP%]{width:100%;display:block;text-align:initial}.task-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:1rem;gap:.5rem;transition:box-shadow .1s ease-in-out;cursor:pointer;background-color:#fff;outline-offset:-1px}.task-item[_ngcontent-%COMP%]:not(.inlined){border:1px solid var(--bgc-300);border-radius:var(--br-200)}.task-item.inlined[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-300)}.task-item.checking[_ngcontent-%COMP%]{grid:auto-flow/min-content 1fr}.task-item.hovered[_ngcontent-%COMP%]:not(.inlined):hover{box-shadow:0 0 .3rem var(--mc-200)}.task-item.hovered.inlined[_ngcontent-%COMP%]:hover{outline:1px solid var(--mc-200)}.task-item[_ngcontent-%COMP%]:active{background-color:var(--bgc-001)}.task-item.processing[_ngcontent-%COMP%]{border:1px solid var(--warm-400)}.task-item-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.task-item-header[_ngcontent-%COMP%]   .status-caption[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.task-item-header[_ngcontent-%COMP%]   .status-caption.active[_ngcontent-%COMP%]{color:var(--mc-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.processing[_ngcontent-%COMP%]{color:var(--warm-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.close[_ngcontent-%COMP%]{color:var(--tc-400)}.task-item-body[_ngcontent-%COMP%]{row-gap:.3rem;column-gap:.8rem;font-size:.9rem;color:var(--tc-700);margin:0 1rem}.task-item-body.SIMPLE[_ngcontent-%COMP%]{display:flex}.task-item-body.COMPOSITE[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/1fr}.task-item-body.COMPOSITE[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}.task-item-body.DETAILED[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/fit-content(50%) 1fr}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child){display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3;grid-area:2/1/3/3}.task-item-last-comment[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:.4rem .8rem;gap:.5rem;font-size:.9rem;color:var(--tc-600);margin:0 1rem;border-radius:.8rem;background-color:var(--bgc-200)}.task-item-last-comment[_ngcontent-%COMP%] > .autor[_ngcontent-%COMP%]{color:var(--tc-500);white-space:nowrap}.task-item-last-comment[_ngcontent-%COMP%] > .comment[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.with-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;height:min-content;font-size:.9rem;font-weight:600;color:var(--tc-600)}.with-label[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2rem}.with-label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{margin-left:1.5rem;color:var(--tc-700)}"]}),tn})()},1819:(hn,ft,b)=>{"use strict";b.d(ft,{g:()=>x});var e=b(5e3),d=b(9808),u=b(1874);const f=["menu"];function _(r,R){if(1&r){const L=e.EpF();e.TgZ(0,"span",4),e.NdJ("click",function(N){e.CHM(L);const T=e.oxw();return e.KtG(T.openContextMenu(N))}),e._uU(1," \u0412\u044b\u0431\u0440\u0430\u0442\u044c\n"),e.qZA()}}function P(r,R){if(1&r){const L=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(N){e.CHM(L);const T=e.oxw();return e.KtG(T.openContextMenu(N))}),e._uU(1),e.qZA()}if(2&r){const L=e.oxw();e.Tol(L.classes+" highlight"),e.xp6(1),e.hij(" ",L.selectedField.label,"\n")}}let x=(()=>{class r{constructor(){this.selectView=new e.vpe}openContextMenu(L){this.fields=this.fields.map(Q=>(Q.command=()=>{this.selectedField=Q,Q.listViewIndex=this.index,this.selectView.emit({id:Q.id,index:this.index})},Q)),this.selectingField(),this.menu.toggle(L)}ngOnInit(){this.selectingField()}ngAfterViewInit(){}selectingField(){var L;null===(L=this.fields)||void 0===L||L.forEach(Q=>{Q.listViewIndex&&Q.listViewIndex===this.index&&(this.selectedField=Q)})}}return r.\u0275fac=function(L){return new(L||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-select-field-to-view-button"]],viewQuery:function(L,Q){if(1&L&&e.Gf(f,5),2&L){let N;e.iGM(N=e.CRH())&&(Q.menu=N.first)}},inputs:{classes:"classes",index:"index",fields:"fields"},outputs:{selectView:"selectView"},decls:4,vars:4,consts:[["class","caption highlight",3,"click",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"model","popup"],["menu",""],[1,"caption","highlight",3,"click"],[3,"click"]],template:function(L,Q){1&L&&(e.YNc(0,_,2,0,"span",0),e.YNc(1,P,2,3,"span",1),e._UZ(2,"p-menu",2,3)),2&L&&(e.Q6J("ngIf",!Q.selectedField),e.xp6(1),e.Q6J("ngIf",Q.selectedField),e.xp6(1),e.Q6J("model",Q.fields)("popup",!0))},dependencies:[d.O5,u.v2],styles:[".highlight[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease-out}.highlight[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"]}),r})()},6501:(hn,ft,b)=>{"use strict";b.d(ft,{g:()=>et});var e=b(5e3),d=b(8738),u=b(2382),f=b(4036),_=b(9783),P=b(3407),x=b(5315),r=b(1208),R=b(5132),L=b(446),Q=b(6288),N=b(1110),T=b(7579),y=b(8372),E=b(3900),D=b(4782),U=b(1135),B=b(9808),ce=b(3640),$=b(2145);const V=["photoPreviewPanel"];function k(vt,ht){1&vt&&e.GkF(0)}const O=function(vt){return{$implicit:vt}};function K(vt,ht){if(1&vt&&e.YNc(0,k,1,0,"ng-container",9),2&vt){const Rt=ht.$implicit;e.oxw();const Nt=e.MAs(5);e.Q6J("ngTemplateOutlet",Nt)("ngTemplateOutletContext",e.VKq(2,O,Rt))}}function ue(vt,ht){1&vt&&e.GkF(0)}function q(vt,ht){if(1&vt&&e.YNc(0,ue,1,0,"ng-container",9),2&vt){const Rt=ht.$implicit;e.oxw();const Nt=e.MAs(7);e.Q6J("ngTemplateOutlet",Nt)("ngTemplateOutletContext",e.VKq(2,O,Rt))}}function G(vt,ht){1&vt&&e.GkF(0)}function ne(vt,ht){if(1&vt){const Rt=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(At){const ot=e.CHM(Rt).$implicit,ge=e.oxw();return e.KtG(ge.preview(ot,At))})("mouseleave",function(){e.CHM(Rt);const At=e.oxw();return e.KtG(At.hidePreview())}),e.YNc(1,G,1,0,"ng-container",9),e.TgZ(2,"span",11),e._uU(3),e.qZA()()}if(2&vt){const Rt=ht.$implicit;e.oxw();const Nt=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",Nt)("ngTemplateOutletContext",e.VKq(3,O,Rt.type)),e.xp6(2),e.hij(" ",Rt.name," ")}}function Ce(vt,ht){1&vt&&e.GkF(0)}function oe(vt,ht){if(1&vt&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&vt){const Rt=e.oxw().$implicit;e.xp6(1),e.hij(" ",Rt.path," ")}}function z(vt,ht){if(1&vt){const Rt=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(At){const ot=e.CHM(Rt).$implicit,ge=e.oxw();return e.KtG(ge.preview(ot,At))})("mouseleave",function(){e.CHM(Rt);const At=e.oxw();return e.KtG(At.hidePreview())}),e.YNc(1,Ce,1,0,"ng-container",9),e.TgZ(2,"div",12),e.YNc(3,oe,2,1,"span",13),e.TgZ(4,"span",11),e._uU(5),e.qZA()()()}if(2&vt){const Rt=ht.$implicit;e.oxw();const Nt=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",Nt)("ngTemplateOutletContext",e.VKq(4,O,Rt.type)),e.xp6(2),e.Q6J("ngIf",Rt.path),e.xp6(2),e.hij(" ",Rt.name," ")}}function te(vt,ht){1&vt&&e._UZ(0,"span",20)}function W(vt,ht){1&vt&&e._UZ(0,"span",21)}function Y(vt,ht){1&vt&&e._UZ(0,"span",22)}function Ae(vt,ht){1&vt&&e._UZ(0,"span",23)}function Ee(vt,ht){1&vt&&e._UZ(0,"span",24)}function qe(vt,ht){1&vt&&(e.ynx(0,14),e.YNc(1,te,1,0,"span",15),e.YNc(2,W,1,0,"span",16),e.YNc(3,Y,1,0,"span",17),e.YNc(4,Ae,1,0,"span",18),e.YNc(5,Ee,1,0,"span",19),e.BQk()),2&vt&&(e.Q6J("ngSwitch",ht.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","PHOTO"),e.xp6(1),e.Q6J("ngSwitchCase","VIDEO"),e.xp6(1),e.Q6J("ngSwitchCase","AUDIO"),e.xp6(1),e.Q6J("ngSwitchCase","DOCUMENT"))}const ye=function(){return[]};let Ge=(()=>{class vt{constructor(Rt){this.api=Rt,this.control=new u.NI([]),this.controlChange$=this.control.valueChanges,this.onChange=Nt=>{},this.onTouched=()=>{},this.isDisabled=!1,this.querySubject=new T.x,this.queryChange$=this.querySubject.pipe((0,y.b)(1e3)),this.suggestions$=this.queryChange$.pipe((0,E.w)(Nt=>this.api.getFilesSuggestions(Nt)),(0,D.d)(1)),this.previewVisibleSubject=new U.X(null),this.previewVisible$=this.previewVisibleSubject.pipe((0,y.b)(300)),this.previewUrl="",this.imageLoaded=!1}writeValue(Rt){this.control.setValue(Rt||[])}registerOnChange(Rt){this.onChange=Rt}registerOnTouched(Rt){this.onTouched=Rt}setDisabledState(Rt){this.isDisabled=Rt}ngOnInit(){this.previewSubscription=this.previewVisible$.subscribe(Rt=>{Rt?this.photoPreviewPanel.overlayVisible?(this.photoPreviewPanel.target=Rt.target,this.photoPreviewPanel.align()):this.photoPreviewPanel.show(Rt):this.photoPreviewPanel.hide()}),this.controlChangeSubscription=this.controlChange$.subscribe(Rt=>{this.onChange(null!=Rt?Rt:[])})}ngOnDestroy(){var Rt,Nt;null===(Rt=this.previewSubscription)||void 0===Rt||Rt.unsubscribe(),null===(Nt=this.controlChangeSubscription)||void 0===Nt||Nt.unsubscribe()}preview(Rt,Nt){"PHOTO"===Rt.type?(this.previewUrl="/api/private/file-thumbnail/"+Rt.id,this.imageLoaded=!1,this.previewVisibleSubject.next(Nt)):(this.previewUrl="",this.imageLoaded=!1,this.previewVisibleSubject.next(null))}hidePreview(){this.previewUrl="",this.imageLoaded=!1,this.previewVisibleSubject.next(null)}}return vt.\u0275fac=function(Rt){return new(Rt||vt)(e.Y36(d.s))},vt.\u0275cmp=e.Xpm({type:vt,selectors:[["app-server-documents-input"]],viewQuery:function(Rt,Nt){if(1&Rt&&e.Gf(V,5),2&Rt){let At;e.iGM(At=e.CRH())&&(Nt.photoPreviewPanel=At.first)}},features:[e._Bn([{provide:u.JU,useExisting:vt,multi:!0}])],decls:13,vars:7,consts:[["placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430...","appendTo","body",3,"formControl","multiple","suggestions","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],["documentTemplate",""],["suggestionTemplate",""],["fileIcon",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["photoPreviewPanel",""],["alt","",1,"max-w-20rem","border-round","absolute",3,"src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-1","align-items-center","text-bluegray-500",3,"mouseenter","mouseleave"],[1,"text-sm"],[1,"flex"],["class","text-sm",4,"ngIf"],[3,"ngSwitch"],["class","mdi-image",4,"ngSwitchCase"],["class","mdi-videocam",4,"ngSwitchCase"],["class","mdi-audiotrack",4,"ngSwitchCase"],["class","mdi-picture_as_pdf",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchDefault"],[1,"mdi-image"],[1,"mdi-videocam"],[1,"mdi-audiotrack"],[1,"mdi-picture_as_pdf"],[1,"mdi-insert_drive_file"]],template:function(Rt,Nt){if(1&Rt&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("completeMethod",function(st){return Nt.querySubject.next(st.query)}),e.ALo(1,"async"),e.YNc(2,K,1,4,"ng-template",1),e.YNc(3,q,1,4,"ng-template",2),e.qZA(),e.YNc(4,ne,4,5,"ng-template",2,3,e.W1O),e.YNc(6,z,6,6,"ng-template",2,4,e.W1O),e.YNc(8,qe,6,5,"ng-template",null,5,e.W1O),e.TgZ(10,"p-overlayPanel",6,7),e._UZ(12,"img",8),e.qZA()),2&Rt){let At;e.Q6J("formControl",Nt.control)("multiple",!0)("suggestions",null!==(At=e.lcZ(1,4,Nt.suggestions$))&&void 0!==At?At:e.DdM(6,ye)),e.xp6(12),e.Q6J("src",Nt.previewUrl,e.LSH)}},dependencies:[B.O5,B.tP,B.RF,B.n9,B.ED,u.JJ,_.jx,ce.T,u.oH,$.Qc,B.Ov]}),vt})();function X(vt,ht){if(1&vt&&(e.TgZ(0,"div",19),e._UZ(1,"app-employee-label",20),e.qZA()),2&vt){const Rt=ht.$implicit;e.xp6(1),e.Q6J("employee",Rt)("size",1.9)}}const be=function(){return{height:"40vh",maxHeight:"15rem"}},we=function(){return{minHeight:"8rem"}};function Ie(vt,ht){if(1&vt){const Rt=e.EpF();e.TgZ(0,"p-pickList",2),e.NdJ("onMoveAllToSource",function(){e.CHM(Rt);const At=e.oxw();return e.KtG(At.updateGangLeaders())})("onMoveAllToTarget",function(){e.CHM(Rt);const At=e.oxw();return e.KtG(At.updateGangLeaders())})("onMoveToSource",function(){e.CHM(Rt);const At=e.oxw();return e.KtG(At.updateGangLeaders())})("onMoveToTarget",function(){e.CHM(Rt);const At=e.oxw();return e.KtG(At.updateGangLeaders())}),e.YNc(1,X,2,2,"ng-template",3),e.qZA(),e.TgZ(2,"div",4)(3,"div",5)(4,"div",6),e._uU(5,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0446\u0435\u043b\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"),e.qZA(),e.TgZ(6,"textarea",7),e.NdJ("ngModelChange",function(At){e.CHM(Rt);const st=e.oxw();return e.KtG(st.targetDescription=At)})("paste",function(At){e.CHM(Rt);const st=e.MAs(10);return e.KtG(st.appendFiles(At))}),e.qZA()(),e.TgZ(7,"div",8)(8,"app-server-documents-input",9),e.NdJ("ngModelChange",function(At){e.CHM(Rt);const st=e.oxw();return e.KtG(st.serverFiles=At)}),e.qZA(),e.TgZ(9,"app-file-input",10,11),e.NdJ("filesChange",function(At){e.CHM(Rt);const st=e.oxw();return e.KtG(st.loadingFiles=At)}),e.qZA()()(),e.TgZ(11,"div",12)(12,"div",13)(13,"label"),e._uU(14,"\u0411\u0440\u0438\u0433\u0430\u0434\u0438\u0440"),e.qZA(),e.TgZ(15,"p-dropdown",14),e.NdJ("ngModelChange",function(At){e.CHM(Rt);const st=e.oxw();return e.KtG(st.gangLeader=At)}),e.qZA()(),e.TgZ(16,"div",15)(17,"span"),e._uU(18,"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043e\u0442\u0447\u0435\u0442"),e.qZA(),e.TgZ(19,"p-checkbox",16),e.NdJ("ngModelChange",function(At){e.CHM(Rt);const st=e.oxw();return e.KtG(st.deferredReport=At)}),e.qZA()(),e.TgZ(20,"app-button",17),e.NdJ("onClick",function(){e.CHM(Rt);const At=e.oxw();return e.KtG(At.resetListAppointedInstallers())}),e.qZA(),e.TgZ(21,"app-button",18),e.NdJ("onClick",function(){e.CHM(Rt);const At=e.oxw();return e.KtG(At.sendListAppointedInstallers())}),e.qZA()()}if(2&vt){const Rt=e.oxw();e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("sourceStyle",e.DdM(21,be))("source",Rt.sourceInstallers)("targetStyle",e.DdM(22,be))("target",Rt.targetInstallers),e.xp6(2),e.Akn(e.DdM(23,we)),e.xp6(4),e.Q6J("ngModel",Rt.targetDescription)("autoResize",!0)("rows",3),e.xp6(2),e.Q6J("ngModel",Rt.serverFiles),e.xp6(1),e.Q6J("files",Rt.loadingFiles),e.xp6(6),e.Q6J("ngModel",Rt.gangLeader)("options",Rt.gangLeaders),e.xp6(4),e.Q6J("ngModel",Rt.deferredReport)("binary",!0),e.xp6(1),e.Q6J("disabled",0===Rt.targetInstallers.length||Rt.appointmentRequested),e.xp6(1),e.Q6J("disabled",0===Rt.targetInstallers.length)("loading",Rt.appointmentRequested)}}const ct=function(){return{width:"50vw"}},dt=function(){return{"960px":"75vw","640px":"100vw"}};let et=(()=>{class vt{constructor(Rt){this.api=Rt,this.visible=!1,this.visibleChange=new e.vpe,this.sourceInstallers=[],this.targetInstallers=[],this.targetDescription="",this.deferredReport=!1,this.gangLeaders=[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null}],this.appointmentRequested=!1,this.loadingFiles=[],this.serverFiles=[]}ngOnInit(){}setVisible(Rt=!1){this.visible=Rt,this.visibleChange.emit(Rt)}loadAppointInstallers(){this.api.getInstallersEmployees().subscribe(Rt=>{this.sourceInstallers=Rt,this.targetInstallers=[]})}updateGangLeaders(){setTimeout(()=>{this.gangLeaders=this.targetInstallers.length>1?[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null},...this.targetInstallers.map(Rt=>{var Nt;return{label:null!==(Nt=Rt.fullName)&&void 0!==Nt?Nt:Rt.login,value:Rt.login}})]:[{label:"\u0411\u0435\u0437 \u0431\u0440\u0438\u0433\u0430\u0434\u0438\u0440\u0430",value:null}]})}resetListAppointedInstallers(){this.sourceInstallers=[...this.sourceInstallers,...this.targetInstallers],this.targetInstallers=[]}clearAppointInstallers(){this.targetDescription="",this.targetInstallers=[],this.gangLeader=void 0,this.deferredReport=!1}sendListAppointedInstallers(){!this.taskId||(this.appointmentRequested=!0,this.api.assignInstallersToTask(this.taskId,{installers:this.targetInstallers,description:this.targetDescription,gangLeader:this.gangLeader,deferredReport:this.deferredReport,files:this.loadingFiles,serverFiles:this.serverFiles}).subscribe({next:()=>{this.appointmentRequested=!1,this.setVisible(!1)},error:()=>this.appointmentRequested=!1}))}}return vt.\u0275fac=function(Rt){return new(Rt||vt)(e.Y36(d.s))},vt.\u0275cmp=e.Xpm({type:vt,selectors:[["app-appoint-installers-dialog"]],inputs:{taskId:"taskId",visible:"visible"},outputs:{visibleChange:"visibleChange"},decls:2,vars:12,consts:[["appendTo","body","contentStyleClass","flex flex-column gap-3","header","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","autoZIndex","baseZIndex","onHide","visibleChange","onShow"],["pTemplate","content"],["sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435","targetHeader","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435",3,"dragdrop","showSourceControls","showTargetControls","sourceStyle","source","targetStyle","target","onMoveAllToSource","onMoveAllToTarget","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-500","text-sm"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange","paste"],[1,"flex","gap-2","align-items-center","justify-content-end"],[3,"ngModel","ngModelChange"],[3,"files","filesChange"],["fileInputComponent",""],[1,"flex","gap-3","align-items-end","justify-content-end"],[1,"input-label-wrapper"],["appendTo","body",3,"ngModel","options","ngModelChange"],[1,"flex","gap-2","text-bluegray-500","font-bold","align-items-center","h-3rem"],[3,"ngModel","binary","ngModelChange"],["icon","delete","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"disabled","onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","align-items-center","gap-2"],[3,"employee","size"]],template:function(Rt,Nt){1&Rt&&(e.TgZ(0,"p-dialog",0),e.NdJ("onHide",function(){return Nt.clearAppointInstallers()})("visibleChange",function(st){return Nt.visible=st})("visibleChange",function(st){return Nt.visibleChange.emit(st)})("onShow",function(){return Nt.loadAppointInstallers()}),e.YNc(1,Ie,22,24,"ng-template",1),e.qZA()),2&Rt&&(e.Akn(e.DdM(10,ct)),e.Q6J("visible",Nt.visible)("breakpoints",e.DdM(11,dt))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("autoZIndex",!1)("baseZIndex",2101))},dependencies:[u.Fj,u.JJ,u.On,f.Lt,_.jx,P.g,x.V,r.XZ,R.G,L.r,Q.Y,N.x,Ge]}),vt})()},1318:(hn,ft,b)=>{"use strict";b.d(ft,{s:()=>T});var e=b(5e3),d=b(2382),u=b(383),f=b(4280),_=b(8738),P=b(9808),x=b(5315),r=b(446),R=b(6502);function L(y,E){if(1&y&&e._UZ(0,"app-task-template-input",7),2&y){const D=E.$implicit;e.Q6J("field",D)("formControlName",D.modelItemId)}}const Q=function(){return{width:"50vw",maxHeight:"70vh"}},N=function(){return{"960px":"75vw","640px":"100vw"}};let T=(()=>{class y{constructor(D){this.api=D,this.visible=!1,this.visibleChange=new e.vpe,this.editTaskForm=new d.cw({}),this.editBlocked=!1}setVisible(D){this.visible=D,this.visibleChange.emit(D)}get taskFields(){var D,U;return this.visible&&null!==(U=null===(D=this.task)||void 0===D?void 0:D.fields)&&void 0!==U?U:[]}ngOnInit(){}ngOnChanges(D){const U=D.task;U&&U.currentValue&&this.showEditTaskDialog()}doEditTask(){var D,U;if(null!==(D=this.task)&&void 0!==D&&D.modelWireframe){if(!this.editTaskForm.valid)return void this.editTaskForm.markAllAsTouched();this.editBlocked=!0,this.api.editTask(this.task.taskId,u.PU.editExisting(this.editTaskForm.getRawValue(),null!==(U=this.task.fields)&&void 0!==U?U:[])).subscribe({next:()=>{this.editBlocked=!1,this.setVisible(!1)},error:()=>{this.editBlocked=!1}})}}showEditTaskDialog(){var D;this.editTaskForm=new d.cw(null!==(D=this.task)&&void 0!==D&&D.fields?this.task.fields.reduce((U,B)=>Object.assign(Object.assign({},U),{[B.modelItemId]:new d.NI(u.cQ.getValueFromModelItem(B),f.d.taskInput(B.wireframeFieldType,B.variation))}),{}):{})}}return y.\u0275fac=function(D){return new(D||y)(e.Y36(_.s))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-edit-task-dialog"]],inputs:{task:"task",visible:"visible"},outputs:{visibleChange:"visibleChange"},features:[e.TTD],decls:7,vars:15,consts:[["appendTo","body","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","autoZIndex","baseZIndex","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flex","flex-column","gap-3"],[1,"flex","flex-column","gap-2",3,"formGroup"],["class","flex-grow-1",3,"field","formControlName",4,"ngFor","ngForOf"],[1,"flex-grow-1"],[1,"flexed","vend","hcenter","sticky","bottom0"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],[1,"flex-grow-1",3,"field","formControlName"]],template:function(D,U){1&D&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(ce){return U.visible=ce})("visibleChange",function(ce){return U.visibleChange.emit(ce)}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,L,1,2,"app-task-template-input",3),e.qZA(),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"app-button",6),e.NdJ("onClick",function(){return U.doEditTask()}),e.qZA()()()()),2&D&&(e.Akn(e.DdM(13,Q)),e.Q6J("visible",U.visible)("breakpoints",e.DdM(14,N))("autoZIndex",!1)("baseZIndex",2101)("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("formGroup",U.editTaskForm),e.xp6(1),e.Q6J("ngForOf",U.taskFields),e.xp6(3),e.Q6J("loading",U.editBlocked))},dependencies:[P.sg,d.JJ,d.JL,x.V,d.sg,d.u,r.r,R.o]}),y})()},6083:(hn,ft,b)=>{"use strict";b.d(ft,{j:()=>L});var e=b(5e3),d=b(8738),u=b(845),f=b(2382),_=b(9783),P=b(3407),x=b(5315);function r(Q,N){if(1&Q){const T=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e.TgZ(4,"textarea",4),e.NdJ("ngModelChange",function(E){e.CHM(T);const D=e.oxw();return e.KtG(D.reason=E)}),e.qZA()(),e.TgZ(5,"div",5)(6,"p-button",6),e.NdJ("onClick",function(){e.CHM(T);const E=e.oxw();return E.setVisible(!1),e.KtG(E.reason="")}),e.qZA(),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){e.CHM(T);const E=e.oxw();return e.KtG(E.forceCloseWorkLog())}),e.qZA()()()}if(2&Q){const T=e.oxw();e.xp6(4),e.Q6J("ngModel",T.reason)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",T.requestRunning),e.xp6(1),e.Q6J("disabled",!T.reason)("loading",T.requestRunning)}}const R=function(){return{width:"50vw",minWidth:"fit-content"}};let L=(()=>{class Q{constructor(T){this.api=T,this.visible=!1,this.visibleChange=new e.vpe,this.reason="",this.requestRunning=!1}ngOnInit(){}setVisible(T){this.visible=T,this.visibleChange.emit(T)}forceCloseWorkLog(){!this.taskId||this.api.forceCloseWorkLog(this.taskId,this.reason).subscribe({next:()=>{this.setVisible(!1),this.reason="",this.requestRunning=!1},error:()=>this.requestRunning=!1})}}return Q.\u0275fac=function(T){return new(T||Q)(e.Y36(d.s))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-force-close-dialog"]],inputs:{visible:"visible",taskId:"taskId"},outputs:{visibleChange:"visibleChange"},decls:2,vars:8,consts:[["header","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0436\u0443\u0440\u043d\u0430\u043b \u0440\u0430\u0431\u043e\u0442?","appendTo","body",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"]],template:function(T,y){1&T&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(D){return y.visibleChange.emit(D)}),e.YNc(1,r,8,6,"ng-template",1),e.qZA()),2&T&&(e.Akn(e.DdM(7,R)),e.Q6J("visible",y.visible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[u.zx,f.Fj,f.JJ,f.On,_.jx,P.g,x.V]}),Q})()},3435:(hn,ft,b)=>{"use strict";b.d(ft,{M:()=>R});var e=b(655),d=b(5e3),u=b(2382),f=b(5677),_=b(8675),P=b(8505),x=b(8738);function r(L,Q){if(1&L){const N=d.EpF();d._UZ(0,"span")(1,"p-calendar",2)(2,"app-time-picker",3),d.TgZ(3,"app-button",4),d.NdJ("onClick",function(){d.CHM(N);const y=d.oxw();return d.KtG(y.setDateTimeOfTaskRelevance())}),d.ALo(4,"date"),d.qZA()}if(2&L){const N=d.oxw();d.xp6(1),d.Q6J("firstDayOfWeek",1)("formControl",N.dateControl)("inline",!0)("selectOtherMonths",!0),d.xp6(1),d.Q6J("formControl",N.dateTimeControl),d.xp6(1),d.Q6J("loading",N.changingTaskDateTime)("label",N.buttonLabel+d.xi3(4,7,N.dateTimeControl.value,"dd-MM-yyyy HH:mm"))}}let R=class{constructor(Q){this.api=Q,this.visible=!1,this.visibleChange=new d.vpe,this.schedulingType="from",this.dateControl=new u.NI(new Date),this.dateTimeControl=new u.NI(new Date),this.dateTimeUpdateSub=this.dateControl.valueChanges.pipe((0,_.O)(new Date),(0,P.b)(N=>{if(0===(null==N?void 0:N.getHours()))null==N||N.setHours(8,0,0,0);else{const T=((null==N?void 0:N.getMinutes())||0)%10;let y=(null==N?void 0:N.getHours())||0,E=(null==N?void 0:N.getMinutes())||0;T>0&&(E+=10-T),null==N||N.setHours(y+1,E,0,0)}})).subscribe(N=>this.dateTimeControl.setValue(N)),this.changingTaskDateTime=!1}get title(){return"from"===this.schedulingType?"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f"}get buttonLabel(){return"from"===this.schedulingType?"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c c ":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0434\u043e "}ngOnInit(){}setVisible(Q){this.visible=Q,this.visibleChange.emit(Q)}setDateTimeOfTaskRelevance(){!this.taskId||null==this.dateControl.value||(this.changingTaskDateTime=!0,"from"===this.schedulingType?this.changeTaskActualFrom():"to"===this.schedulingType&&this.changeTaskActualTo())}resetDate(){this.dateControl.reset(new Date)}changeTaskActualFrom(){!this.taskId||null==this.dateTimeControl.value||this.api.changeTaskActualFrom(this.taskId,this.dateTimeControl.value).subscribe({next:()=>{this.changingTaskDateTime=!1,this.setVisible(!1)},error:()=>{this.changingTaskDateTime=!1}})}changeTaskActualTo(){!this.taskId||null==this.dateTimeControl.value||this.api.changeTaskActualTo(this.taskId,this.dateTimeControl.value).subscribe({next:()=>{this.changingTaskDateTime=!1,this.setVisible(!1)},error:()=>{this.changingTaskDateTime=!1}})}};R.\u0275fac=function(Q){return new(Q||R)(d.Y36(x.s))},R.\u0275cmp=d.Xpm({type:R,selectors:[["app-task-scheduling-dialog"]],inputs:{visible:"visible",schedulingType:"schedulingType",taskId:"taskId"},outputs:{visibleChange:"visibleChange"},decls:2,vars:6,consts:[["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","dismissableMask","draggable","modal","resizable","header","visibleChange","onHide"],["pTemplate","content"],[1,"w-fit","align-self-center",3,"firstDayOfWeek","formControl","inline","selectOtherMonths"],[3,"formControl"],[3,"loading","label","onClick"]],template:function(Q,N){1&Q&&(d.TgZ(0,"p-dialog",0),d.NdJ("visibleChange",function(y){return N.visible=y})("visibleChange",function(y){return N.visibleChange.emit(y)})("onHide",function(){return N.resetDate()}),d.YNc(1,r,5,10,"ng-template",1),d.qZA()),2&Q&&d.Q6J("visible",N.visible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("header",N.title)}}),R=(0,e.gn)([(0,f.kG)()],R)},6759:(hn,ft,b)=>{"use strict";b.d(ft,{C:()=>N});var e=b(383),d=b(5e3),u=b(9783);function f(T,y){if(1&T&&d._UZ(0,"app-billing-login",12),2&T){const E=d.oxw().$implicit;d.Q6J("loginData",E.stringData)}}function _(T,y){if(1&T&&(d.TgZ(0,"span",13),d._UZ(1,"app-dial-buttons-list",14),d.qZA()),2&T){const E=d.oxw().$implicit;d.xp6(1),d.Q6J("phoneData",E.phoneData)}}function P(T,y){if(1&T&&(d.TgZ(0,"span",15),d._uU(1),d.qZA()),2&T){const E=d.oxw().$implicit;d.xp6(1),d.hij(" ",E.textRepresentation," ")}}function x(T,y){if(1&T&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&T){const E=d.oxw().$implicit;d.xp6(1),d.Oqu(E.textRepresentation)}}function r(T,y){if(1&T){const E=d.EpF();d.TgZ(0,"div",4)(1,"span",5),d.NdJ("click",function(U){const ce=d.CHM(E).$implicit,$=d.oxw(2);return U.stopPropagation(),d.KtG($.copyField(ce))}),d._uU(2),d.qZA(),d.TgZ(3,"span",6),d.ynx(4,7),d.YNc(5,f,1,1,"app-billing-login",8),d.YNc(6,_,2,1,"span",9),d.YNc(7,P,2,1,"span",10),d.YNc(8,x,2,1,"span",11),d.BQk(),d.qZA()()}if(2&T){const E=y.$implicit;d.xp6(1),d.Q6J("pTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+E.name),d.xp6(1),d.Oqu(E.name),d.xp6(2),d.Q6J("ngSwitch",E.wireframeFieldType),d.xp6(1),d.Q6J("ngSwitchCase","LOGIN"),d.xp6(1),d.Q6J("ngSwitchCase","PHONE_ARRAY"),d.xp6(1),d.Q6J("ngSwitchCase","ADDRESS")}}function R(T,y){if(1&T&&(d.ynx(0),d.TgZ(1,"div",2),d.YNc(2,r,9,6,"div",3),d.qZA(),d.BQk()),2&T){const E=d.oxw();d.xp6(2),d.Q6J("ngForOf",E.taskFields.inline)("ngForTrackBy",E.trackByField)}}function L(T,y){if(1&T){const E=d.EpF();d.TgZ(0,"div",4)(1,"span",5),d.NdJ("click",function(U){const ce=d.CHM(E).$implicit,$=d.oxw(2);return U.stopPropagation(),d.KtG($.copyField(ce))}),d._uU(2),d.qZA(),d.TgZ(3,"span",6)(4,"span"),d._uU(5),d.qZA()()()}if(2&T){const E=y.$implicit;d.xp6(1),d.Q6J("pTooltip","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+E.name),d.xp6(1),d.Oqu(E.name),d.xp6(3),d.Oqu(null==E?null:E.textRepresentation)}}function Q(T,y){if(1&T&&(d.ynx(0),d.TgZ(1,"div",16),d.YNc(2,L,6,3,"div",3),d.qZA(),d.BQk()),2&T){const E=d.oxw();d.xp6(2),d.Q6J("ngForOf",E.taskFields.block)("ngForTrackBy",E.trackByField)}}let N=(()=>{class T{constructor(E){this.toast=E,this.isTaskBody=!0}get taskFields(){var E,D,U,B,ce;const{fields:$,modelWireframe:V}=null!==(E=this.task)&&void 0!==E?E:{};if(!$||!V)return{inline:[],block:[]};const k=["LARGE_TEXT","COUNTING_LIVES"],O=["LIST_ONLY","LIST_AND_TELEGRAM","EXCEPT_THE_REGISTRY",null,void 0];return this.isTaskBody?{inline:null!==(D=$.filter(K=>!k.includes(K.wireframeFieldType)))&&void 0!==D?D:[],block:null!==(U=$.filter(K=>k.includes(K.wireframeFieldType)))&&void 0!==U?U:[]}:{inline:null!==(B=$.filter(K=>O.includes(this.getDisplayType(K.id))).filter(K=>!k.includes(K.wireframeFieldType)))&&void 0!==B?B:[],block:null!==(ce=$.filter(K=>O.includes(this.getDisplayType(K.id))).filter(K=>k.includes(K.wireframeFieldType)))&&void 0!==ce?ce:[]}}getDisplayType(E){var D,U,B,ce,$;return null!==($=null===(ce=null===(B=null===(U=null===(D=this.task)||void 0===D?void 0:D.modelWireframe)||void 0===U?void 0:U.allFields)||void 0===B?void 0:B.find(V=>V.id===E))||void 0===ce?void 0:ce.displayType)&&void 0!==$?$:null}trackByField(E,D){return D?D.id+D.name+D.textRepresentation:""}ngOnInit(){}copyField(E){var D;e.cQ.copyToClipboard(null!==(D=E.textRepresentation)&&void 0!==D?D:"",this.toast,"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "+E.name)}}return T.\u0275fac=function(E){return new(E||T)(d.Y36(u.ez))},T.\u0275cmp=d.Xpm({type:T,selectors:[["app-task-fields-table-view"]],inputs:{task:"task",isTaskBody:"isTaskBody"},decls:3,vars:2,consts:[[1,"p-3","flex","flex-column","gap-2"],[4,"ngIf"],[1,"flex","flex-wrap","gap-4"],["class","flex flex-column gap-1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","gap-1"],["tooltipPosition","bottom",1,"text-bluegray-500","font-bold","hover:text-primary","w-fit",3,"pTooltip","click"],[1,"text-bluegray-600","text-xl"],[3,"ngSwitch"],[3,"loginData",4,"ngSwitchCase"],["class","flex flex-column",4,"ngSwitchCase"],["class","font-bold",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"loginData"],[1,"flex","flex-column"],[3,"phoneData"],[1,"font-bold"],[1,"flex","flex-column","gap-2"]],template:function(E,D){1&E&&(d.TgZ(0,"div",0),d.YNc(1,R,3,2,"ng-container",1),d.YNc(2,Q,3,2,"ng-container",1),d.qZA()),2&E&&(d.xp6(1),d.Q6J("ngIf",D.taskFields.inline.length>0),d.xp6(1),d.Q6J("ngIf",D.taskFields.block.length>0))}}),T})()},4280:(hn,ft,b)=>{"use strict";b.d(ft,{d:()=>d});var e=b(7384);class d{static taskInput(f,_){if("OPTIONAL"===_)return null;switch(f){case e._r.BOOLEAN:return P=>d.isValueEmpty(P.value)?{required:!0}:!0===P.value||!1===P.value?null:{required:!0};case e._r.IP:return P=>d.isValueEmpty(P.value)||"0.0.0.0"===P.value?{required:!0}:null;case e._r.AD_SOURCE:case e._r.FLOAT:case e._r.INTEGER:case e._r.LOGIN:case e._r.LARGE_TEXT:case e._r.CONNECTION_TYPE:case e._r.COUNTING_LIVES:case e._r.REQUEST_INITIATOR:case e._r.SMALL_TEXT:return P=>d.isValueEmpty(P.value)?{required:!0}:null;case e._r.CONNECTION_SERVICES:case e._r.EQUIPMENTS:return P=>d.isValueEmpty(P.value)?{required:!0}:Array.isArray(P.value)&&0!==P.value.length?null:{required:!0};case e._r.PHONE_ARRAY:return P=>d.isValueEmpty(P.value)||Array.isArray(P.value)&&0===P.value.length||Object.keys(P.value).some(x=>!d.isValidUUID(x))||Object.values(P.value).some(x=>!d.isValidPhone(x))?{required:!0}:null;case e._r.ADDRESS:return P=>{var x,r,R,L,Q,N;const T=P.value;if(d.isValueEmpty(T))return{required:!0};switch(_){case"APARTMENT_ONLY":if(d.isValueEmpty(null===(x=T.city)||void 0===x?void 0:x.cityId)||d.isValueEmpty(null===(r=T.street)||void 0===r?void 0:r.streetId)||d.isValueEmpty(T.houseNum)||d.isValueEmpty(T.apartmentNum))return{required:!0};break;case"HOUSE_ONLY":if(d.isValueEmpty(null===(R=T.city)||void 0===R?void 0:R.cityId)||d.isValueEmpty(null===(L=T.street)||void 0===L?void 0:L.streetId)||d.isValueEmpty(T.houseNum))return{required:!0};break;case"ALL":if(d.isValueEmpty(null===(Q=T.city)||void 0===Q?void 0:Q.cityId)||d.isValueEmpty(null===(N=T.street)||void 0===N?void 0:N.streetId)||d.isValueEmpty(T.houseNum)||d.isValueEmpty(T.entrance)||d.isValueEmpty(T.floor)||d.isValueEmpty(T.apartmentNum))return{required:!0};break;default:return null}return null};case e._r.PASSPORT_DETAILS:return P=>{const x=P.value;return x?d.isValueEmpty(x.passportSeries)||d.isValueEmpty(x.passportNumber)||d.isValueEmpty(x.passportIssuedBy)||d.isValueEmpty(x.passportIssuedDate)?{required:!0}:null:{required:!0}};default:return P=>d.isValueEmpty(P.value)?{required:!0}:null}}static notEmpty(f){return d.isValueEmpty(f.value)||Array.isArray(f.value)&&0===f.value.length?{required:!0}:null}static isValueEmpty(f){return null==f||""===f}static isValidUUID(f){return"string"==typeof f&&/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(f)}static isValidPhone(f){return"string"==typeof f&&/^8 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(f)}static typeIsSwitchWithAddress(){return f=>!f||"commutator"in f.value&&f.value.commutator?null:{typized:!0}}}},5677:(hn,ft,b)=>{"use strict";b.d(ft,{GU:()=>L,Hw:()=>R,_P:()=>r,bQ:()=>Q,kG:()=>N,v4:()=>x});var e=b(7579),d=b(4968),u=b(9300),f=b(4004),_=b(1884),P=b(727);function x(T,y){return function(E,D){const U=E.ngAfterViewInit?E.ngAfterViewInit:()=>{},B=E.ngOnDestroy?E.ngOnDestroy:()=>{},ce=new e.x;let $;Object.defineProperty(E,D,{value:ce.asObservable()}),E.ngAfterViewInit=function(){const V=document.getElementById(T);if(!V)throw new Error(`Element with id ${T} not found`);$=(0,d.R)(V,y).subscribe(ce),U.apply(this,arguments)},E.ngOnDestroy=function(){null==$||$.unsubscribe(),B.apply(this,arguments)}}}function r(T){return function(y,E,D){const U=y.ngAfterViewInit?y.ngAfterViewInit:()=>{};y.ngAfterViewInit=function(){const B=document.getElementById(T);B&&D.value.call(this,B),U.apply(this,arguments)}}}function R(T){return function(y,E){const D=y.ngAfterViewInit?y.ngAfterViewInit:()=>{};y.ngAfterViewInit=function(){this.route.params.pipe((0,u.h)(U=>void 0!==U[T||E]),(0,f.U)(U=>U[T||E]),(0,_.x)()).subscribe(this[E]),D.apply(this,arguments)}}}function L(T){return function(y,E,D){const U=y.ngOnChanges?y.ngOnChanges:()=>{};y.ngOnChanges=function(B){B[T]&&D.value.call(this,B[T].currentValue),U.apply(this,arguments)}}}function Q(T){return function(y,E){const D=y.ngOnChanges?y.ngOnChanges:()=>{};y.ngOnChanges=function(U){U[T]&&this[E].next(U[T].currentValue),D.apply(this,arguments)}}}function N(){return function(T){const y=T.prototype.ngOnDestroy?T.prototype.ngOnDestroy:()=>{};T.prototype.ngOnDestroy=function(){for(let E in this)this[E]instanceof P.w0&&this[E].unsubscribe();y.apply(this,arguments)}}}},3460:(hn,ft,b)=>{"use strict";b.d(ft,{j:()=>d});var e=b(5e3);let d=(()=>{class u{constructor(){this.isVisible=!1}onScrollEvent(_){this.isVisible&&this.alignFn&&this.alignFn()}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=e.lG2({type:u,selectors:[["","appCloseIfScroll",""]],hostBindings:function(_,P){1&_&&e.NdJ("scroll",function(r){return P.onScrollEvent(r)},!1,e.Jf7)},inputs:{isVisible:"isVisible",alignFn:"alignFn"}}),u})()},1886:(hn,ft,b)=>{"use strict";b.d(ft,{k:()=>d});var e=b(5e3);let d=(()=>{class u{constructor(){}letterChange(_){!_.ctrlKey&&this.patternRx&&!new RegExp(this.patternRx).test(_.target.value+_.key)&&!["Enter","Space","Tab","Backspace"].some(r=>r===_.key)&&_.preventDefault()}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=e.lG2({type:u,selectors:[["","appRegexPatternChecker",""]],hostBindings:function(_,P){1&_&&e.NdJ("keydown",function(r){return P.letterChange(r)})},inputs:{patternRx:"patternRx"}}),u})()},2716:(hn,ft,b)=>{"use strict";b.d(ft,{J:()=>x});var e=b(2777),d=b(1110),u=b(7805),f=b(7092),_=b(6890),P=b(5e3);let x=(()=>{class r{constructor(L,Q,N){this.element=L,this.viewContainerRef=Q,this.componentFactoryResolver=N,this.arrayOfSubstitutions=[],this.loaded=!1}set value(L){!this.loaded||(this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents())}ngAfterViewInit(){this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents(),this.loaded=!0}ngOnInit(){}findTagsAndReplaceToPlaceholders(){const L=this.element.nativeElement;L.innerHTML=L.innerHTML.replaceAll(/\B#(\d+)/g,(D,U)=>(this.arrayOfSubstitutions.push({data:parseInt(U),type:"task"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B@([A-z\d.\-_]+)/g,(D,U)=>(this.arrayOfSubstitutions.push({data:U,type:"employee"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B\$(\d+)/g,(D,U)=>(this.arrayOfSubstitutions.push({data:parseInt(U),type:"department"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),L.innerHTML=L.innerHTML.replaceAll(/\B\^\((\d+)\)/g,(D,U)=>(this.arrayOfSubstitutions.push({data:parseInt(U),type:"appointedInstallers"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`)),L.innerHTML=L.innerHTML.replaceAll(/#CHAT\((\d+)\)/g,(D,U)=>(this.arrayOfSubstitutions.push({data:parseInt(U),type:"chat"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`))}replacePlaceholdersToComponents(){this.arrayOfSubstitutions.forEach((L,Q)=>{const T=this.element.nativeElement.querySelector(`#replace${Q}`);switch(L.type){case"task":T.replaceWith(e.U.createElement(parseInt(L.data)));break;case"employee":T.replaceWith(d.x.createElement(L.data,!0));break;case"department":T.replaceWith(u.y.createElement(L.data,!0));break;case"appointedInstallers":T.replaceWith(f._.createElement(L.data));break;case"chat":T.replaceWith(_.K.createElement(L.data))}})}}return r.\u0275fac=function(L){return new(L||r)(P.Y36(P.SBq),P.Y36(P.s_b),P.Y36(P._Vd))},r.\u0275dir=P.lG2({type:r,selectors:[["","appTextRevival",""]],inputs:{value:"value"}}),r})()},7514:(hn,ft,b)=>{"use strict";b.d(ft,{x:()=>T});var e=b(7445),d=b(2529),u=b(8505),f=b(2035),_=b(9646),P=b(4326),x=b(4482),r=b(5403),L=b(3900),Q=b(599),N=b(5e3);let T=(()=>{class y{constructor(D){this.elementRef=D}ngOnInit(){const D=this.elementRef.nativeElement,U=(0,e.F)(60).pipe((0,d.o)(()=>D.scrollWidth>D.scrollLeft+D.clientWidth),(0,u.b)(()=>{let B=Math.floor((D.scrollWidth-D.clientWidth)/55);B<1&&(B=1),D.scrollBy({left:B})}),(0,f.h)(1));this.subscription=(0,_.of)(null).pipe((0,P.g)(1e3),function R(y){return(0,x.e)((E,D)=>{let U=!1,B=0;E.subscribe(new r.Q(D,ce=>(U||(U=!y(ce,B++)))&&D.next(ce)))})}(()=>D.scrollWidth<=D.clientWidth),(0,L.w)(()=>U),(0,P.g)(1e3),(0,u.b)(()=>D.scrollTo({left:0})),(0,Q.r)()).subscribe()}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}}return y.\u0275fac=function(D){return new(D||y)(N.Y36(N.SBq))},y.\u0275dir=N.lG2({type:y,selectors:[["","appTicker",""]]}),y})()},5107:(hn,ft,b)=>{"use strict";b.d(ft,{a:()=>x});var e=b(3470),d=b(262),u=b(9646),f=b(4004),_=b(5e3),P=b(8738);let x=(()=>{class r{constructor(L,Q){this.api=L,this.router=Q}canActivate(L,Q){return this.api.authCheckout().pipe((0,d.K)((N,T)=>(0,u.of)(this.router.createUrlTree(["/login"]))),(0,f.U)(N=>!(N instanceof e.lo)||N))}canActivateChild(L,Q){return this.api.authCheckout().pipe((0,d.K)((N,T)=>(0,u.of)(this.router.createUrlTree(["/login"]))),(0,f.U)(N=>!(N instanceof e.lo)||N))}}return r.\u0275fac=function(L){return new(L||r)(_.LFG(P.s),_.LFG(e.F0))},r.\u0275prov=_.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},4087:(hn,ft,b)=>{"use strict";b.d(ft,{U:()=>Ic});var e=b(9808),d=b(9706),u=b(5072),f=b(446),_=b(4304),P=b(655),x=b(5677),r=b(5e3),R=b(3470);const L=["titleElem"],Q=["wrapperElem"],N=["childElem"];function T(Se,Bt){if(1&Se&&r._UZ(0,"app-colored-tag",9),2&Se){const j=r.oxw();r.Q6J("caption",j.badge)}}const y=function(Se){return{rotated:Se}};function E(Se,Bt){if(1&Se&&(r.TgZ(0,"span",10),r._uU(1,"expand_more"),r.qZA()),2&Se){const j=r.oxw();r.Q6J("ngClass",r.VKq(1,y,j._isExtended))}}function D(Se,Bt){if(1&Se&&r._UZ(0,"app-sub-extended-menu-item",11),2&Se){const j=Bt.$implicit;r.Q6J("caption",j.label)("children",j.children)("isExtended",j.extended)("link",j.link)("nLevel",j.nestingLevel)}}const U=function(Se){return{exact:Se}};class B{constructor(Bt){this.route=Bt,this.extendable=!1,this.icon="",this.caption="",this.elements=[],this.exact=!1,this._isExtended=!1,this.contextOptions=[]}set isExtended(Bt){this.extendable&&(this._isExtended=Bt,this.extending())}linkChanged(Bt){this.contextOptions=Bt&&Bt.length>0?[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435",icon:"mdi-open_in_new",command:()=>window.open(Bt.join("/"),"_blank")},{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435",icon:"mdi-web_asset",command:()=>window.open(Bt.join("/"),"_blank","popup")}]:[]}ngAfterViewInit(){this.extendable&&this.extending()}ngOnInit(){}toggle(){!this.hasChild()||(this.isExtended=!this._isExtended)}hasChild(){return this.elements&&this.elements.length>0}extending(){!this.wrapperElem||!this.titleElem||(this._isExtended?(this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.wrapperElem.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",setTimeout(()=>{this.wrapperElem.nativeElement.style.height=this.titleElem.nativeElement.offsetHeight+"px"})))}}B.\u0275fac=function(Bt){return new(Bt||B)(r.Y36(R.gz))},B.\u0275cmp=r.Xpm({type:B,selectors:[["app-extended-menu-item"]],viewQuery:function(Bt,j){if(1&Bt&&(r.Gf(L,5),r.Gf(Q,5),r.Gf(N,5)),2&Bt){let je;r.iGM(je=r.CRH())&&(j.titleElem=je.first),r.iGM(je=r.CRH())&&(j.wrapperElem=je.first),r.iGM(je=r.CRH())&&(j.childElem=je.first)}},inputs:{extendable:"extendable",icon:"icon",caption:"caption",elements:"elements",link:"link",badge:"badge",exact:"exact",isExtended:"isExtended"},decls:11,vars:12,consts:[[1,"flexed","column","wrapper"],["wrapperElem",""],["routerLinkActive","active",1,"title","flexed","gap6","hcenter",3,"routerLink","routerLinkActiveOptions","click"],["titleElem",""],[1,"stretched"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["class","material-icons-round title-expanded-icon",3,"ngClass",4,"ngIf"],[3,"caption","children","isExtended","link","nLevel",4,"ngFor","ngForOf"],["appendTo","body",3,"model","target"],["color","var(--mc-500)",3,"caption"],[1,"material-icons-round","title-expanded-icon",3,"ngClass"],[3,"caption","children","isExtended","link","nLevel"]],template:function(Bt,j){if(1&Bt&&(r.TgZ(0,"div",0,1)(2,"div",2,3),r.NdJ("click",function(){return j.toggle()}),r._UZ(4,"span"),r._uU(5),r._UZ(6,"div",4),r.YNc(7,T,1,1,"app-colored-tag",5),r.YNc(8,E,2,3,"span",6),r.qZA(),r.YNc(9,D,1,5,"app-sub-extended-menu-item",7),r.qZA(),r._UZ(10,"p-contextMenu",8)),2&Bt){const je=r.MAs(1);r.xp6(2),r.Q6J("routerLink",j.link)("routerLinkActiveOptions",r.VKq(10,U,j.exact)),r.xp6(2),r.Tol(j.icon),r.xp6(1),r.hij(" ",j.caption," "),r.xp6(2),r.Q6J("ngIf",j.badge),r.xp6(1),r.Q6J("ngIf",j.hasChild()),r.xp6(1),r.Q6J("ngForOf",j.elements),r.xp6(1),r.Q6J("model",j.contextOptions)("target",je)}},styles:[".wrapper[_ngcontent-%COMP%]{overflow:hidden;transition:height .2s ease-out;border-radius:.5rem}.title[_ngcontent-%COMP%]{padding:.7rem;font-size:1.2rem;color:var(--tc-700);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.title.active[_ngcontent-%COMP%]{color:var(--mc-0);background-color:var(--mc-500);cursor:default}.title[_ngcontent-%COMP%]:not(.active):hover{color:var(--mc-500)}.title[_ngcontent-%COMP%]:not(.active):active{color:var(--mc-500);background-color:var(--mc-0)}.title-icon[_ngcontent-%COMP%]{font-size:1.5rem}.title-expanded-icon[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(1,-.6,0,1.65)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}"]}),(0,P.gn)([(0,x.GU)("link")],B.prototype,"linkChanged",null);const ce=["parentWrapper"],$=["titleElement"],V=function(Se){return{rotated:Se}};function k(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"span",8),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw();return r.KtG(qt.toggleExtend())}),r._uU(1,"expand_more"),r.qZA()}if(2&Se){const j=r.oxw();r.Q6J("ngClass",r.VKq(1,V,j._isExtended))}}function O(Se,Bt){if(1&Se&&r._UZ(0,"app-sub-extended-menu-item",9),2&Se){const j=Bt.$implicit;let je;r.Q6J("caption",j.label)("link",j.link)("children",j.children)("nLevel",(null!==(je=j.nestingLevel)&&void 0!==je?je:0)+1)}}const K=function(Se){return{"can-extend":Se}},ue=function(Se){return{show:Se}},q=function(){return[]};let G=(()=>{class Se{constructor(j){this.route=j,this.caption="",this._isExtended=!1}set isExtended(j){this._isExtended=j,this.extending()}ngOnInit(){}ngAfterViewInit(){!this.hasElements()||this.extending()}toggleExtend(){!this.hasElements()||(this.isExtended=!this._isExtended)}extending(){var j;null===(j=this.parentWrapper)||void 0===j||!j.nativeElement||(this._isExtended?(this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.parentWrapper.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",setTimeout(()=>{this.parentWrapper.nativeElement.style.height=this.titleElement.nativeElement.offsetHeight+"px"})))}hasElements(){return this.parentWrapper&&this.titleElement}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(R.gz))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-sub-extended-menu-item"]],viewQuery:function(j,je){if(1&j&&(r.Gf(ce,5),r.Gf($,5)),2&j){let qt;r.iGM(qt=r.CRH())&&(je.parentWrapper=qt.first),r.iGM(qt=r.CRH())&&(je.titleElement=qt.first)}},inputs:{caption:"caption",link:"link",children:"children",nLevel:"nLevel",isExtended:"isExtended"},decls:9,vars:11,consts:[[1,"parent-wrapper"],["parentWrapper",""],[1,"flexed","title",3,"ngClass"],["class","material-icons-round title-expanded-icon",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active",1,"item",3,"routerLink"],["titleElement",""],[1,"child-wrapper",3,"ngClass"],[3,"caption","link","children","nLevel",4,"ngFor","ngForOf"],[1,"material-icons-round","title-expanded-icon",3,"ngClass","click"],[3,"caption","link","children","nLevel"]],template:function(j,je){if(1&j&&(r.TgZ(0,"div",0,1)(2,"div",2),r.YNc(3,k,2,3,"span",3),r.TgZ(4,"div",4,5),r._uU(6),r.qZA()(),r.TgZ(7,"div",6),r.YNc(8,O,1,4,"app-sub-extended-menu-item",7),r.qZA()()),2&j){let qt;r.xp6(2),r.Q6J("ngClass",r.VKq(6,K,je.children)),r.xp6(1),r.Q6J("ngIf",je.children),r.xp6(1),r.Q6J("routerLink",je.link),r.xp6(2),r.hij(" ",je.caption," "),r.xp6(1),r.Q6J("ngClass",r.VKq(8,ue,je._isExtended)),r.xp6(1),r.Q6J("ngForOf",null!==(qt=je.children)&&void 0!==qt?qt:r.DdM(10,q))}},dependencies:[e.mk,e.sg,e.O5,R.rH,R.Od,Se],styles:[".item[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);padding:.2rem 0;transition:color .2s ease-out;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.item.active[_ngcontent-%COMP%]{color:var(--mc-500)}.item.can-extend[_ngcontent-%COMP%]{transform:translate(-.8rem)}.title-expanded-icon[_ngcontent-%COMP%]{color:var(--bgc-400);cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(1,-.6,0,1.65),color .2s ease-out;transform:rotate(270deg)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(0);color:var(--mc-500)}.title-expanded-icon[_ngcontent-%COMP%]:hover{color:var(--bgc-600)}.item[_ngcontent-%COMP%]:hover{color:var(--tc-700)}.parent-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;overflow:hidden;padding-left:1.5rem;transition:height .2s ease-out}.child-wrapper[_ngcontent-%COMP%]{padding-left:2rem;opacity:0;transition:opacity .3s ease-out}.child-wrapper.show[_ngcontent-%COMP%]{opacity:1}"]}),Se})();var ne=b(6502),Ce=b(5948),oe=b(4e3),z=b(3064),te=b(6198),W=b(9936);function Y(Se,Bt){1&Se&&r.GkF(0)}function Ae(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",4),r.NdJ("click",function(qt){r.CHM(j);const En=r.oxw();return r.KtG(En.hide(qt))}),r.YNc(1,Y,1,0,"ng-container",5),r.qZA()}if(2&Se){r.oxw();const j=r.MAs(2);r.xp6(1),r.Q6J("ngTemplateOutlet",j)}}function Ee(Se,Bt){1&Se&&(r.TgZ(0,"div",13),r._UZ(1,"p-progressSpinner",14),r.qZA())}function qe(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",15),r.NdJ("mouseenter",function(){r.CHM(j);const qt=r.oxw(3);return r.KtG(qt.showNavigation="unfade")})("mouseleave",function(){r.CHM(j);const qt=r.oxw(3);return r.KtG(qt.showNavigation="fade")}),r.TgZ(1,"div",16),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(3);return r.KtG(qt.goPrev())}),r.TgZ(2,"span",17),r._uU(3,"arrow_back_ios"),r.qZA()(),r.TgZ(4,"div",18),r._uU(5),r.qZA(),r.TgZ(6,"div",19),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(3);return r.KtG(qt.goNext())}),r.TgZ(7,"span",17),r._uU(8,"arrow_forward_ios"),r.qZA()()()}if(2&Se){const j=r.oxw(3);r.xp6(1),r.Q6J("@fadeAlt",j.showNavigation),r.xp6(3),r.Q6J("@fadeFullAlt",j.showNavigation),r.xp6(1),r.AsE(" ",j.albumIndex+1," / ",j.mediaAlbum.length," "),r.xp6(1),r.Q6J("@fadeAlt",j.showNavigation)}}function ye(Se,Bt){1&Se&&r._UZ(0,"ng-component")}function Ge(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",9),r.YNc(1,Ee,2,0,"div",10),r.TgZ(2,"img",11),r.NdJ("error",function(qt){r.CHM(j);const En=r.oxw(2);return r.KtG(En.imageLoadError(qt))})("load",function(qt){r.CHM(j);const En=r.oxw(2);return r.KtG(En.imageLoad(qt))}),r.qZA(),r.YNc(3,qe,9,5,"div",12),r.YNc(4,ye,1,0,"ng-component",5),r.qZA()}if(2&Se){const j=r.oxw(2),je=r.MAs(4);r.xp6(1),r.Q6J("ngIf",j.imageLoadingIndicator),r.xp6(1),r.Q6J("src",j.url,r.LSH),r.xp6(1),r.Q6J("ngIf",j.mediaAlbum&&j.mediaAlbum.length>1),r.xp6(1),r.Q6J("ngTemplateOutlet",je)}}function X(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",24)(1,"div",25),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(3);return r.KtG(qt.goPrev())}),r.TgZ(2,"span",17),r._uU(3,"arrow_back_ios"),r.qZA()(),r.TgZ(4,"div",26),r._uU(5),r.qZA(),r.TgZ(6,"div",27),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(3);return r.KtG(qt.goNext())}),r.TgZ(7,"span",17),r._uU(8,"arrow_forward_ios"),r.qZA()()()}if(2&Se){const j=r.oxw(3);r.xp6(5),r.AsE(" ",j.albumIndex+1," / ",j.mediaAlbum.length," ")}}function be(Se,Bt){1&Se&&r._UZ(0,"ng-component")}const we=function(Se){return{"controls-out":Se}};function Ie(Se,Bt){if(1&Se&&(r.TgZ(0,"div",20)(1,"div",21),r._UZ(2,"video",22),r.YNc(3,X,9,2,"div",23),r.qZA(),r.YNc(4,be,1,0,"ng-component",5),r.qZA()),2&Se){const j=r.oxw(2),je=r.MAs(4);r.xp6(2),r.Q6J("ngClass",r.VKq(5,we,!(j.mediaAlbum&&j.mediaAlbum.length>1)))("controls",!0)("src",j.url,r.LSH),r.xp6(1),r.Q6J("ngIf",j.mediaAlbum&&j.mediaAlbum.length>1),r.xp6(1),r.Q6J("ngTemplateOutlet",je)}}function ct(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",31)(1,"div",32),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(3);return r.KtG(qt.goPrev())}),r.TgZ(2,"span",17),r._uU(3,"arrow_back_ios"),r.qZA()(),r.TgZ(4,"div",33),r._uU(5),r.qZA(),r.TgZ(6,"div",34),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(3);return r.KtG(qt.goNext())}),r.TgZ(7,"span",17),r._uU(8,"arrow_forward_ios"),r.qZA()()()}if(2&Se){const j=r.oxw(3);r.xp6(5),r.AsE(" ",j.albumIndex+1," / ",j.mediaAlbum.length," ")}}function dt(Se,Bt){1&Se&&r._UZ(0,"ng-component")}function et(Se,Bt){if(1&Se&&(r.TgZ(0,"div",28),r._UZ(1,"audio",29),r.YNc(2,ct,9,2,"div",30),r.YNc(3,dt,1,0,"ng-component",5),r.qZA()),2&Se){const j=r.oxw(2),je=r.MAs(4);r.xp6(1),r.Q6J("controls",!0)("src",j.url,r.LSH),r.xp6(1),r.Q6J("ngIf",j.mediaAlbum&&j.mediaAlbum.length>1),r.xp6(1),r.Q6J("ngTemplateOutlet",je)}}function vt(Se,Bt){1&Se&&(r.YNc(0,Ge,5,4,"div",6),r.YNc(1,Ie,5,7,"div",7),r.YNc(2,et,4,4,"div",8)),2&Se&&(r.Q6J("ngSwitchCase","PHOTO"),r.xp6(1),r.Q6J("ngSwitchCase","VIDEO"),r.xp6(1),r.Q6J("ngSwitchCase","AUDIO"))}function ht(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",35)(1,"span",36),r._uU(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435"),r.qZA(),r.TgZ(3,"div",37)(4,"div",38)(5,"span",39),r._uU(6,"\u0418\u043c\u044f"),r.qZA(),r.TgZ(7,"span",40),r._uU(8),r.qZA()(),r.TgZ(9,"div",38)(10,"span",39),r._uU(11,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430"),r.qZA(),r.TgZ(12,"span",40),r._uU(13),r.qZA()(),r.TgZ(14,"div",38)(15,"span",39),r._uU(16,"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),r.qZA(),r.TgZ(17,"span",40),r._uU(18),r.ALo(19,"date"),r.qZA()()(),r._UZ(20,"div",41),r.TgZ(21,"app-button",42),r.NdJ("onClick",function(){r.CHM(j);const qt=r.MAs(23);return r.KtG(qt.click())}),r.qZA(),r._UZ(22,"a",43,44),r.qZA()}if(2&Se){const j=r.oxw();let je;r.xp6(8),r.Oqu(null==j.media?null:j.media.name),r.xp6(5),r.hij("",((null!==(je=null==j.media?null:j.media.size)&&void 0!==je?je:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442"),r.xp6(5),r.Oqu(r.lcZ(19,7,null==j.media?null:j.media.createdAt)),r.xp6(4),r.Udp("display","none"),r.Q6J("download",null==j.media?null:j.media.name)("href",j.url,r.LSH)}}let Rt=(()=>{class Se{constructor(j){this.service=j,this.showFullscreen=!1,this.albumIndex=0,this.showNavigation="fade",this.imageLoadingIndicator=!0}get url(){return this.media?"fileSystemItemId"in this.media?"/api/private/file/"+this.media.fileSystemItemId:"workLogTargetFileId"in this.media?"/api/private/work-log/target-file/"+this.media.workLogTargetFileId:"/api/private/attachment/"+this.media.name:null}ngOnInit(){this.service.media().subscribe({next:j=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.media=j,this.albumIndex=0,this.mediaAlbum=void 0}}),this.service.mediaAlbum().subscribe({next:j=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.albumIndex=j.index,this.mediaAlbum=j.album,this.media=this.mediaAlbum[this.albumIndex]}})}hide(j){j.target===j.currentTarget&&(this.showFullscreen=!1)}imageLoad(j){this.imageLoadingIndicator=!1}imageLoadError(j){}goPrev(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex>0?this.media=this.mediaAlbum[--this.albumIndex]:(this.albumIndex=this.mediaAlbum.length-1,this.media=this.mediaAlbum[this.albumIndex]))}goNext(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex<this.mediaAlbum.length-1?this.media=this.mediaAlbum[++this.albumIndex]:(this.albumIndex=0,this.media=this.mediaAlbum[this.albumIndex]))}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(z.E))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-media-viewer"]],decls:5,vars:2,consts:[["class","page-cover",3,"click",4,"ngIf"],[3,"ngSwitch"],["content",""],["metadata",""],[1,"page-cover",3,"click"],[4,"ngTemplateOutlet"],["class","photo-view",4,"ngSwitchCase"],["class","video-view",4,"ngSwitchCase"],["class","audio-view",4,"ngSwitchCase"],[1,"photo-view"],["class","image-loading-indicator",4,"ngIf"],[3,"src","error","load"],["class","navigation",3,"mouseenter","mouseleave",4,"ngIf"],[1,"image-loading-indicator"],[1,"white-spinner"],[1,"navigation",3,"mouseenter","mouseleave"],[1,"navigation-button","back",3,"click"],[1,"material-icons-round"],[1,"navigation-counter"],[1,"navigation-button","forward",3,"click"],[1,"video-view"],[1,"video-wrapper"],[3,"ngClass","controls","src"],["class","video-navigation",4,"ngIf"],[1,"video-navigation"],[1,"video-navigation-button","back",3,"click"],[1,"video-navigation-counter"],[1,"video-navigation-button","forward",3,"click"],[1,"audio-view"],[3,"controls","src"],["class","audio-navigation",4,"ngIf"],[1,"audio-navigation"],[1,"audio-navigation-button","back",3,"click"],[1,"audio-navigation-counter"],[1,"audio-navigation-button","forward",3,"click"],[1,"metadata"],[1,"caption","size-big"],[1,"flexed","column","gap3","p5"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small","f-inline"],[1,"stretched"],["icon","download","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[3,"download","href"],["downloadLink",""]],template:function(j,je){1&j&&(r.YNc(0,Ae,2,1,"div",0),r.YNc(1,vt,3,3,"ng-template",1,2,r.W1O),r.YNc(3,ht,24,9,"ng-template",null,3,r.W1O)),2&j&&(r.Q6J("ngIf",je.showFullscreen),r.xp6(1),r.Q6J("ngSwitch",null==je.media?null:je.media.type))},dependencies:[e.mk,e.O5,e.tP,e.RF,e.n9,R.fw,te.G,f.r,W.h,e.uU],styles:[".page-cover[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000b3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:4201}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .image-loading-indicator[_ngcontent-%COMP%]{min-width:50vw;min-height:40vh;width:100%;height:100%;background-color:var(--bgc-200);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:2rem;grid-area:1/1/2/2;border-radius:.5rem 0 0 .5rem}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;object-fit:cover;object-position:center}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:calc(100% - 4rem);background-color:#000}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video.controls-out[_ngcontent-%COMP%]{height:100%!important}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;height:4rem;background-color:#fff}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]{display:flex;padding-top:1rem;gap:.5rem;flex-direction:column;align-items:center;width:max-content;height:max-content;background-color:#fff;border-radius:1rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation[_ngcontent-%COMP%]{display:flex;flex:1;padding:.5rem;align-self:stretch;align-items:center}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.navigation[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;grid-area:1/1/2/2}.navigation-counter[_ngcontent-%COMP%]{color:var(--tc-100);width:max-content;height:max-content;align-self:flex-end;margin-bottom:2rem;font-size:1.2rem;font-weight:500;text-shadow:0 0 4px rgba(0,0,0,.3)}.navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;opacity:.2;transition:opacity .2s ease-out;color:var(--tc-100)}.navigation-button[_ngcontent-%COMP%]:hover{opacity:1!important}.navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end;background:linear-gradient(90deg,rgba(0,0,0,0),rgba(0,0,0,.15))}.navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start;background:linear-gradient(270deg,rgba(0,0,0,0),rgba(0,0,0,.15))}"],data:{animation:[oe.PJ,oe.mo]}}),Se})();var Nt=b(4881),At=b(1819),st=b(1874),ot=b(845),ge=b(2382),ke=b(4036),rt=b(7010),yt=b(3407),Pt=b(5315),Ht=b(3725),Ot=b(85),Ye=b(7773),lt=b(1424),Ke=b(2537),Tt=b(9925),se=b(3877),Fe=b(4500),he=b(1886),mt=b(8508),cn=b(1828),Tn=b(1208),tn=b(9354),bt=b(3640),nt=b(6073),de=b(2340);function ze(){const Se=new nt.f;return Se.configure((()=>{var Se;return{brokerURL:de.N.wsHost,connectHeaders:{passcode:"guest",login:null!==(Se=localStorage.getItem("token"))&&void 0!==Se?Se:""},heartbeatIncoming:0,heartbeatOutgoing:2e4,reconnectDelay:200,debug:Bt=>{}}})()),Se.activate(),Se}var kt=b(3078),Ze=b(2777),$t=b(6526),gn=b(7307),Gt=b(6888),Mn=b(9618),Ut=b(5834),rn=b(1588);let Bn=(()=>{class Se{constructor(j){this.hostElement=j,this.focusAfterInit=!0}ngAfterViewInit(){this.focusAfterInit&&setTimeout(()=>this.hostElement.focus())}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Ke.vy))},Se.\u0275dir=r.lG2({type:Se,selectors:[["","focusAfterInit",""]],inputs:{focusAfterInit:"focusAfterInit"}}),Se})();const Vn=function(){return{width:"100%"}};function ai(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",3)(1,"p-inputMask",4),r.NdJ("ngModelChange",function(qt){const $n=r.CHM(j).$implicit,Ui=r.oxw();return r.KtG(Ui.controlValue[$n.key]=qt)})("ngModelChange",function(qt){const $n=r.CHM(j).$implicit,Ui=r.oxw();return Ui.controlValue[$n.key]=qt,r.KtG(Ui.onChange(Ui.controlValue))})("onBlur",function(){r.CHM(j);const qt=r.oxw();return r.KtG(qt.onBlur.emit())}),r.qZA(),r.TgZ(2,"button",5),r.NdJ("click",function(){const En=r.CHM(j).$implicit,$n=r.oxw();return r.KtG($n.removePhone(En.key))}),r.qZA()()}if(2&Se){const j=Bt.$implicit,je=r.oxw();r.xp6(1),r.Akn(r.DdM(6,Vn)),r.Q6J("ngModel",je.controlValue[j.key])("focusAfterInit",!0)("disabled",je.disable),r.xp6(1),r.Q6J("disabled",je.count<2||je.disable)}}let vi=(()=>{class Se{constructor(){this.controlValue={},this.disable=!1,this.autoFocusFlag=!1,this.inputClasses={},this.onBlur=new r.vpe,this.onChange=j=>{},this.onTouched=()=>{}}get count(){return this.controlValue?Object.keys(this.controlValue).length:0}setDisabledState(j){this.disable=j}ngAfterViewInit(){}ngOnInit(){}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}writeValue(j){this.controlValue=j}appendPhone(){this.controlValue||(this.controlValue={});const j=(0,rn.Z)();this.controlValue[j]="",this.onChange(this.controlValue)}removePhone(j){!this.controlValue||(delete this.controlValue[j],this.onChange(this.controlValue))}valuesTrack(j,je){return je.key}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-phone-list-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[r._Bn([{provide:ge.JU,useExisting:(0,r.Gpc)(()=>Se),multi:!0}])],decls:4,vars:5,consts:[[1,"flexed","gap5","column"],["class","p-inputgroup",4,"ngFor","ngForOf","ngForTrackBy"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440",3,"disabled","onClick"],[1,"p-inputgroup"],["mask","8 (999) 999-99-99",3,"ngModel","focusAfterInit","disabled","ngModelChange","onBlur"],["icon","pi pi-trash","pButton","","type","button",1,"p-button-danger",3,"disabled","click"]],template:function(j,je){1&j&&(r.TgZ(0,"div",0),r.YNc(1,ai,3,7,"div",1),r.ALo(2,"keyvalue"),r.TgZ(3,"app-button",2),r.NdJ("onClick",function(){return je.appendPhone()}),r.qZA()()),2&j&&(r.xp6(1),r.Q6J("ngForOf",r.lcZ(2,3,je.controlValue))("ngForTrackBy",je.valuesTrack),r.xp6(2),r.Q6J("disabled",je.disable))},dependencies:[e.sg,ot.Hq,ge.JJ,ge.On,Ke.vy,f.r,Bn,e.Nd]}),Se})();var Ji=b(1110),Qi=b(5787);let ki=(()=>{class Se{}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275mod=r.oAB({type:Se}),Se.\u0275inj=r.cJS({imports:[e.ez,Qi.T]}),Se})();var qi=b(9744),Oo=b(2716);const li=function(Se){return{unread:Se}};let ho=(()=>{class Se{constructor(j){this.notifyService=j,this.notification={}}ngOnInit(){}getIcon(j){return this.notifyService.icons[j]+" icon header"}getTitle(j){return this.notifyService.titles[j]}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(qi.T))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-notification-item"]],inputs:{notification:"notification"},decls:9,vars:11,consts:[[1,"notification",3,"ngClass"],[1,"title","header"],["appTextRevival","",1,"description","indent05"],[1,"timestamp"]],template:function(j,je){1&j&&(r.TgZ(0,"div",0),r._UZ(1,"i"),r.TgZ(2,"span",1),r._uU(3),r.qZA(),r.TgZ(4,"div",2),r._uU(5),r.qZA(),r.TgZ(6,"span",3),r._uU(7),r.ALo(8,"date"),r.qZA()()),2&j&&(r.Q6J("ngClass",r.VKq(9,li,je.notification.unread)),r.xp6(1),r.Tol(je.getIcon(je.notification.type)),r.xp6(2),r.hij(" ",je.getTitle(je.notification.type)," "),r.xp6(2),r.hij(" ",je.notification.message," "),r.xp6(2),r.hij(" ",r.xi3(8,6,je.notification.created,"dd MMMM yyyy HH:mm")," "))},dependencies:[e.mk,Oo.J,e.uU],styles:['[_nghost-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}[_nghost-%COMP%]{flex:1}.notification[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;align-items:center;opacity:.5;transition:opacity .2s ease-in-out;cursor:default;grid:repeat(3,min-content)/repeat(2,min-content);grid-template-areas:"icon title title" ". description description" "timestamp timestamp timestamp"}.notification[_ngcontent-%COMP%]:hover, .notification.unread[_ngcontent-%COMP%]{opacity:1}.notification.unread[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--mc-400)}.notification[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{grid-area:icon}.notification[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-area:title}.notification[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;font-weight:500;font-size:.9rem;color:var(--tc-700);white-space:pre-line}.notification[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{grid-area:timestamp;font-size:.8rem;font-weight:700;place-self:flex-end;color:var(--tc-300)}.header[_ngcontent-%COMP%]{color:var(--tc-600)}.header.icon[_ngcontent-%COMP%]{font-size:1.4rem}.header.title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}']}),Se})();var Go=b(8913),Wo=b(3460),vo=b(9955),Xi=b(7805),os=b(7092),us=b(4132),_s=b(5055),uo=b(5652),Io=b(7433),Di=b(1777),Cs=b(5730),po=b(9783),lo=b(5921);function $o(Se,Bt){1&Se&&r.GkF(0)}function Us(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"button",8),r.NdJ("click",function(qt){r.CHM(j);const En=r.oxw(2);return r.KtG(En.close(qt))})("keydown.enter",function(qt){r.CHM(j);const En=r.oxw(2);return r.KtG(En.close(qt))}),r._UZ(1,"span",9),r.qZA()}if(2&Se){const j=r.oxw(2);r.uIk("aria-label",j.ariaCloseLabel)}}function Ss(Se,Bt){1&Se&&r.GkF(0)}function Hs(Se,Bt){1&Se&&r.GkF(0)}const ds=function(Se,Bt,j,je,qt,En){return{"p-sidebar":!0,"p-sidebar-active":Se,"p-sidebar-left":Bt,"p-sidebar-right":j,"p-sidebar-top":je,"p-sidebar-bottom":qt,"p-sidebar-full":En}},br=function(Se,Bt){return{transform:Se,transition:Bt}},fa=function(Se){return{value:"visible",params:Se}};function yr(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",1,2),r.NdJ("@panelState.start",function(qt){r.CHM(j);const En=r.oxw();return r.KtG(En.onAnimationStart(qt))})("@panelState.done",function(qt){r.CHM(j);const En=r.oxw();return r.KtG(En.onAnimationEnd(qt))}),r.TgZ(2,"div",3),r.YNc(3,$o,1,0,"ng-container",4),r.YNc(4,Us,2,1,"button",5),r.qZA(),r.TgZ(5,"div",6),r.Hsn(6),r.YNc(7,Ss,1,0,"ng-container",4),r.qZA(),r.TgZ(8,"div",7),r.YNc(9,Hs,1,0,"ng-container",4),r.qZA()()}if(2&Se){const j=r.oxw();r.Tol(j.styleClass),r.Q6J("ngClass",r.HTZ(10,ds,j.visible,"left"===j.position&&!j.fullScreen,"right"===j.position&&!j.fullScreen,"top"===j.position&&!j.fullScreen,"bottom"===j.position&&!j.fullScreen,j.fullScreen))("@panelState",r.VKq(20,fa,r.WLB(17,br,j.transformOptions,j.transitionOptions)))("ngStyle",j.style),r.uIk("aria-modal",j.modal),r.xp6(3),r.Q6J("ngTemplateOutlet",j.headerTemplate),r.xp6(1),r.Q6J("ngIf",j.showCloseIcon),r.xp6(3),r.Q6J("ngTemplateOutlet",j.contentTemplate),r.xp6(2),r.Q6J("ngTemplateOutlet",j.footerTemplate)}}const xr=["*"],wa=(0,Di.oQ)([(0,Di.oB)({transform:"{{transform}}",opacity:0}),(0,Di.jt)("{{transition}}")]),vs=(0,Di.oQ)([(0,Di.jt)("{{transition}}",(0,Di.oB)({transform:"{{transform}}",opacity:0}))]);let ua=(()=>{class Se{constructor(j,je,qt,En){this.el=j,this.renderer=je,this.cd=qt,this.config=En,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new r.vpe,this.onHide=new r.vpe,this.visibleChange=new r.vpe,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates.forEach(j=>{switch(j.getType()){case"content":default:this.contentTemplate=j.template;break;case"header":this.headerTemplate=j.template;break;case"footer":this.footerTemplate=j.template}})}get visible(){return this._visible}set visible(j){this._visible=j}get position(){return this._position}set position(j){switch(this._position=j,j){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(j){this._fullScreen=j,j&&(this.transformOptions="none")}show(){this.autoZIndex&&lo.P9.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(j){this.hide(),this.visibleChange.emit(!1),j.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),Cs.p.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",j=>{this.dismissible&&this.close(j)})),document.body.appendChild(this.mask),this.blockScroll&&Cs.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Cs.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyModal(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&Cs.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(j){"visible"===j.toState&&(this.container=j.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(j){"void"===j.toState&&(this.hide(),lo.P9.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Cs.p.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",je=>{27==je.which&&parseInt(this.container.style.zIndex)===lo.P9.get(this.container)&&this.close(je)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&lo.P9.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(po.b4))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["p-sidebar"]],contentQueries:function(j,je,qt){if(1&j&&r.Suo(qt,po.jx,4),2&j){let En;r.iGM(En=r.CRH())&&(je.templates=En)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:xr,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],[4,"ngTemplateOutlet"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[1,"p-sidebar-footer"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(j,je){1&j&&(r.F$t(),r.YNc(0,yr,10,22,"div",0)),2&j&&r.Q6J("ngIf",je.visible)},dependencies:[e.mk,e.O5,e.tP,e.PC,Qi.H],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[(0,Di.X$)("panelState",[(0,Di.eR)("void => visible",[(0,Di._7)(wa)]),(0,Di.eR)("visible => void",[(0,Di._7)(vs)])])]},changeDetection:0}),Se})(),Ks=(()=>{class Se{}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275mod=r.oAB({type:Se}),Se.\u0275inj=r.cJS({imports:[e.ez,Qi.T]}),Se})(),Nr=(()=>{class Se{constructor(){this.onScrollToBottom=new r.vpe}onScroll(j){j.target.scrollHeight-Math.abs(j.target.scrollTop)-j.target.clientHeight<25&&this.onScrollToBottom.emit()}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275dir=r.lG2({type:Se,selectors:[["","appScrollToBottomEmitter",""]],hostBindings:function(j,je){1&j&&r.NdJ("scroll",function(En){return je.onScroll(En)})},outputs:{onScrollToBottom:"onScrollToBottom"}}),Se})();function Fr(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",1),r.NdJ("mouseleave",function(){const En=r.CHM(j).$implicit,$n=r.oxw();return r.KtG($n.notifyService.resumeClosure(En.notificationId))})("mouseenter",function(){const En=r.CHM(j).$implicit,$n=r.oxw();return r.KtG($n.notifyService.suspendClosing(En.notificationId))}),r._UZ(1,"app-notification-item",2),r.TgZ(2,"div",3),r.NdJ("click",function(){const En=r.CHM(j).$implicit,$n=r.oxw();return r.KtG($n.notifyService.close(En.notificationId))}),r.qZA()()}if(2&Se){const j=Bt.$implicit;r.Q6J("@flowLeft",void 0),r.xp6(1),r.Q6J("notification",j)}}let Eo=(()=>{class Se{constructor(j){this.notifyService=j}ngOnInit(){}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(qi.T))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-notifications-popup-panel"]],decls:1,vars:1,consts:[["class","notification-wrapper",3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],[1,"notification-wrapper",3,"mouseleave","mouseenter"],[3,"notification"],[1,"close-button","mdi-close",3,"click"]],template:function(j,je){1&j&&r.YNc(0,Fr,3,2,"div",0),2&j&&r.Q6J("ngForOf",je.notifyService.receivedNotifications)},dependencies:[e.sg,ho],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:max-content;min-width:25rem;max-width:30vw;height:auto;max-height:70vh;position:fixed;top:100px;right:1rem;z-index:1010;gap:1rem;transition:all .5s ease-in-out}.notification-wrapper[_ngcontent-%COMP%]{display:flex;background-color:#fff;box-shadow:0 0 1px 1px #0000001a,0 .1rem 1rem #0000000d;border-radius:.5rem;padding:.3rem .6rem;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:.7rem;cursor:pointer;transition:all .2s ease-in-out;color:var(--tc-500)}.close-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"],data:{animation:[oe.zW]}}),Se})();var ei=b(383),Ii=b(8050);const nr=["contextMenu"];function Ir(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",4),r.NdJ("click",function(){const En=r.CHM(j).$implicit;r.oxw();const $n=r.MAs(1);return En.command(),r.KtG($n.hide())}),r._UZ(1,"i"),r.TgZ(2,"span"),r._uU(3),r.qZA()()}if(2&Se){const j=Bt.$implicit;r.Tol("context-button "+j.style),r.xp6(1),r.Tol(j.icon),r.xp6(2),r.Oqu(j.label)}}const As=function(){return{minWidth:"max-content",transform:"translate(1rem, .3rem)"}};var ir=(()=>((ir||(ir={})).DANGER="danger",ir))();let $i=(()=>{class Se{constructor(){this.contextMenuVisible=!1,this.contextButtons=[],this.onShow=new r.vpe,this.onHide=new r.vpe}ngOnInit(){}show(j,je){!this.contextMenu||(j.preventDefault(),this.contextButtons=je,this.contextMenu.target=j.target,this.contextMenuVisible?this.contextMenu.alignOverlay():setTimeout(()=>{!this.contextMenu||this.contextMenu.show()}))}onScrollEvent(j){!this.contextMenu||this.contextMenu.visible&&this.contextMenu.alignOverlay()}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-context-menu"]],viewQuery:function(j,je){if(1&j&&r.Gf(nr,5),2&j){let qt;r.iGM(qt=r.CRH())&&(je.contextMenu=qt.first)}},hostBindings:function(j,je){1&j&&r.NdJ("scroll",function(En){return je.onScrollEvent(En)},!1,r.Jf7)},outputs:{onShow:"onShow",onHide:"onHide"},decls:4,vars:5,consts:[["appendTo","body",3,"visible","visibleChange","onShow","onHide"],["contextMenu",""],[1,"context-body"],["pRipple","",3,"class","click",4,"ngFor","ngForOf"],["pRipple","",3,"click"]],template:function(j,je){1&j&&(r.TgZ(0,"p-overlay",0,1),r.NdJ("visibleChange",function(En){return je.contextMenuVisible=En})("onShow",function(){return je.onShow.emit()})("onHide",function(){return je.onHide.emit()}),r.TgZ(2,"div",2),r.YNc(3,Ir,4,5,"div",3),r.qZA()()),2&j&&(r.Akn(r.DdM(4,As)),r.Q6J("visible",je.contextMenuVisible),r.xp6(3),r.Q6J("ngForOf",je.contextButtons))},dependencies:[e.sg,Ii.aV,Qi.H],styles:[".context-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;background-color:#fff;overflow:hidden;box-shadow:0 0 .8px #00000006,0 0 2.1px #00000009,0 0 5.1px #0000000c,0 0 17px #00000012}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:min-content;padding:.7rem 1.4rem .7rem 1.2rem;cursor:pointer;gap:.3rem;transition:all .15s ease-in-out;font-size:1rem;color:var(--tc-600);-webkit-user-select:none;user-select:none}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]{color:var(--danger-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-100);color:var(--danger-800)}"]}),Se})();var ss=b(8505),bs=b(8372),cr=b(8028),Xo=b(8738),Tr=b(9014),rs=b(8007),go=b(4968),ys=b(4482),xs=b(5403),ws=b(8421),Vs=b(5032);function Ar(Se){return(0,ys.e)((Bt,j)=>{let je=!1;const qt=new xs.Q(j,()=>{null==qt||qt.unsubscribe(),je=!0},Vs.Z);(0,ws.Xf)(Se).subscribe(qt),Bt.subscribe(new xs.Q(j,En=>je&&j.next(En)))})}var wr=b(2722),Br=b(599),Er=b(8185),ps=b(4776);let Yo=(()=>{class Se{transform(j){return null!=j||null!=j?Math.floor("string"==typeof j?parseFloat(j):j):null}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275pipe=r.Yjl({name:"floor",type:Se,pure:!0}),Se})();const Sr=["player"],kr=["volumeOverlay"],Et=["durationControl"],pn=["timeOverlay"];function ie(Se,Bt){1&Se&&r._UZ(0,"i",28)}function Le(Se,Bt){1&Se&&r._UZ(0,"i",29)}function It(Se,Bt){1&Se&&r._UZ(0,"i",30)}function Jt(Se,Bt){1&Se&&r._UZ(0,"i",31)}function Pn(Se,Bt){if(1&Se&&r._UZ(0,"div",32),2&Se){const j=r.oxw();r.Udp("left",j.markerPosition+"px")}}function qn(Se,Bt){1&Se&&r._UZ(0,"i",33)}function fi(Se,Bt){1&Se&&r._UZ(0,"i",34)}function Zi(Se,Bt){1&Se&&r._UZ(0,"i",35)}function Ni(Se,Bt){1&Se&&r._UZ(0,"i",36)}const Si=function(Se){return{disabled:Se}},hs=function(){return{height:".7rem"}},qs=function(){return{transform:"translate(-25%, 1rem)"}};var jo=(()=>{return(Se=jo||(jo={})).Paused="Paused",Se.Playing="Playing",Se.Loading="Loading",Se.Error="Error",jo;var Se})();let bo=(()=>{class Se{constructor(){this.playerState=jo.Loading,this.currentTime=0,this.totalTime=0,this.subscriptions=new ei.xf,this.showVolumeLevel=!1,this.showTimeMarker=!1}get markerPosition(){return this.totalTime&&this.durationControl?this.currentTime/this.totalTime*this.durationControl.nativeElement.clientWidth:0}get totalMinutes(){return Math.floor(this.totalTime/60).toString().padStart(2,"0")}get totalSeconds(){return Math.floor(this.totalTime%60).toString().padStart(2,"0")}get currentMinutes(){return Math.floor(this.currentTime/60).toString().padStart(2,"0")}get currentSeconds(){return Math.floor(this.currentTime%60).toString().padStart(2,"0")}ngOnInit(){}ngAfterViewInit(){if(this.player){const j=this.player.nativeElement;this.subscriptions.addSubscription("onLoad",(0,go.R)(j,"loadeddata",{capture:!0}).subscribe(()=>{this.playerState=jo.Paused})),this.subscriptions.addSubscription("onPlay",(0,go.R)(j,"play",{capture:!0}).subscribe(()=>{this.playerState=jo.Playing})),this.subscriptions.addSubscription("onPause",(0,go.R)(j,"pause",{capture:!0}).subscribe(()=>{this.playerState=jo.Paused})),this.subscriptions.addSubscription("onAbort",(0,go.R)(j,"abort",{capture:!0}).subscribe(()=>{this.playerState=jo.Error})),this.subscriptions.addSubscription("onError",(0,go.R)(j,"error",{capture:!0}).subscribe(()=>{this.playerState=jo.Error})),this.subscriptions.addSubscription("onEmptied",(0,go.R)(j,"emptied",{capture:!0}).subscribe(()=>{this.playerState=jo.Error})),this.subscriptions.addSubscription("onTimeupdate",(0,go.R)(j,"timeupdate",{capture:!0}).subscribe(()=>{this.currentTime=j.currentTime})),this.subscriptions.addSubscription("onDurationchange",(0,go.R)(j,"durationchange",{capture:!0}).subscribe(()=>{this.totalTime=j.duration}))}if(this.player&&this.durationControl){const j=this.player.nativeElement,je=this.durationControl.nativeElement,qt=(0,go.R)(document,"mousemove"),En=(0,go.R)(je,"mousedown").pipe((0,ss.b)(()=>{j.pause(),this.showTimeMarker=!0})),$n=(0,go.R)(document,"mouseup").pipe(Ar(En),(0,ss.b)(this.calculateTime.bind(this)),(0,ss.b)(()=>{this.playerState=jo.Loading}),(0,ss.b)(this.changeTime.bind(this))),Ui=qt.pipe(Ar(En),(0,wr.R)($n),(0,Br.r)()).subscribe(this.calculateTime.bind(this));this.subscriptions.addSubscription("mouseMove",Ui)}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}calculateTime(j){var je;if(this.player&&this.durationControl){const En=this.durationControl.nativeElement,$n=this.player.nativeElement;let ha=(j.clientX-En.getBoundingClientRect().left)/En.clientWidth;ha<0?ha=0:ha>1&&(ha=1),this.currentTime=ha*$n.duration,null===(je=this.timeOverlay)||void 0===je||je.alignOverlay()}}changeTime(j){if(this.showTimeMarker=!1,this.player){const je=this.player.nativeElement;je.currentTime=this.currentTime,je.play()}}playerButtonClick(){var j,je;switch(this.playerState){case jo.Playing:null===(j=this.player)||void 0===j||j.nativeElement.pause();break;case jo.Paused:null===(je=this.player)||void 0===je||je.nativeElement.play()}}changeVolume(j){this.player&&(this.player.nativeElement.volume=j.value)}openVolumeOverlay(){this.showVolumeLevel=!0}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-audio-player"]],viewQuery:function(j,je){if(1&j&&(r.Gf(Sr,5),r.Gf(kr,5),r.Gf(Et,5),r.Gf(pn,5)),2&j){let qt;r.iGM(qt=r.CRH())&&(je.player=qt.first),r.iGM(qt=r.CRH())&&(je.volumeOverlay=qt.first),r.iGM(qt=r.CRH())&&(je.durationControl=qt.first),r.iGM(qt=r.CRH())&&(je.timeOverlay=qt.first)}},inputs:{url:"url"},decls:33,vars:39,consts:[[1,"flexed","hend","full-width","gap5"],[1,"play-button",3,"ngClass","click"],[3,"ngSwitch"],["class","mdi-play_arrow",4,"ngSwitchCase"],["class","mdi-pause",4,"ngSwitchCase"],["class","mdi-downloading",4,"ngSwitchCase"],["class","mdi-warning",4,"ngSwitchCase"],[1,"flexed","column","stretched","gap3"],[1,"timeline"],["durationControl",""],[3,"showValue","value"],["class","timeline-marker",3,"left",4,"ngIf"],["appendTo","body",3,"visible"],["timeOverlay",""],[1,"time-overlay"],[1,"flexed","hcenter","gap10"],[1,"duration"],[1,"volume-button",3,"click"],["class","mdi-volume_up",4,"ngIf"],["class","mdi-volume_down",4,"ngIf"],["class","mdi-volume_mute",4,"ngIf"],["class","mdi-volume_off",4,"ngIf"],["appendTo","body",3,"visible","visibleChange"],[1,"volume-level"],["volumeOverlay",""],["orientation","vertical",3,"min","max","step","ngModel","onChange"],[3,"src"],["player",""],[1,"mdi-play_arrow"],[1,"mdi-pause"],[1,"mdi-downloading"],[1,"mdi-warning"],[1,"timeline-marker"],[1,"mdi-volume_up"],[1,"mdi-volume_down"],[1,"mdi-volume_mute"],[1,"mdi-volume_off"]],template:function(j,je){if(1&j&&(r.TgZ(0,"div",0)(1,"div",1),r.NdJ("click",function(){return je.playerButtonClick()}),r.ynx(2,2),r.YNc(3,ie,1,0,"i",3),r.YNc(4,Le,1,0,"i",4),r.YNc(5,It,1,0,"i",5),r.YNc(6,Jt,1,0,"i",6),r.BQk(),r.qZA(),r.TgZ(7,"div",7)(8,"div",8,9),r._UZ(10,"p-progressBar",10),r.YNc(11,Pn,1,2,"div",11),r.TgZ(12,"p-overlay",12,13)(14,"div",14),r._uU(15),r.qZA()()(),r.TgZ(16,"div",15)(17,"span",16),r._uU(18),r.qZA(),r.TgZ(19,"div",17),r.NdJ("click",function(){return je.openVolumeOverlay()}),r.YNc(20,qn,1,0,"i",18),r.YNc(21,fi,1,0,"i",19),r.YNc(22,Zi,1,0,"i",20),r.YNc(23,Ni,1,0,"i",21),r.qZA(),r.TgZ(24,"p-overlay",22),r.NdJ("visibleChange",function(En){return je.showVolumeLevel=En}),r.TgZ(25,"div",23,24)(27,"p-slider",25),r.NdJ("onChange",function(En){return je.changeVolume(En)}),r.qZA(),r.TgZ(28,"div"),r._uU(29),r.ALo(30,"floor"),r.qZA()()()()()(),r._UZ(31,"audio",26,27)),2&j){const qt=r.MAs(32);r.Udp("user-select","none"),r.xp6(1),r.Q6J("ngClass",r.VKq(35,Si,!je.url||"Loading"===je.playerState||"Error"===je.playerState)),r.xp6(1),r.Q6J("ngSwitch",je.playerState),r.xp6(1),r.Q6J("ngSwitchCase","Paused"),r.xp6(1),r.Q6J("ngSwitchCase","Playing"),r.xp6(1),r.Q6J("ngSwitchCase","Loading"),r.xp6(1),r.Q6J("ngSwitchCase","Error"),r.xp6(4),r.Akn(r.DdM(37,hs)),r.Q6J("showValue",!1)("value",je.currentTime/je.totalTime*100),r.xp6(1),r.Q6J("ngIf",je.showTimeMarker),r.xp6(1),r.Akn(r.DdM(38,qs)),r.Q6J("visible",je.showTimeMarker),r.xp6(3),r.AsE(" ",je.currentMinutes,":",je.currentSeconds," "),r.xp6(3),r.HOy("",je.currentMinutes,":",je.currentSeconds," / ",je.totalMinutes,":",je.totalSeconds,""),r.xp6(2),r.Q6J("ngIf",qt.volume>.8),r.xp6(1),r.Q6J("ngIf",qt.volume<=.8&&qt.volume>.5),r.xp6(1),r.Q6J("ngIf",qt.volume<=.5&&qt.volume>0),r.xp6(1),r.Q6J("ngIf",0===qt.volume),r.xp6(1),r.Q6J("visible",je.showVolumeLevel),r.xp6(3),r.Q6J("min",0)("max",1)("step",.05)("ngModel",qt.volume),r.xp6(2),r.hij("",r.lcZ(30,33,100*qt.volume),"%"),r.xp6(2),r.Q6J("src",je.url,r.LSH)}},dependencies:[e.mk,e.O5,e.RF,e.n9,ge.JJ,ge.On,Ii.aV,Er.k,ps.iR,Yo],styles:[".play-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s}.play-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.play-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}.volume-button[_ngcontent-%COMP%]{color:var(--tc-500);cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative}.volume-level[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1.2rem .7rem .5rem;box-shadow:0 .4px .4px #00000005,0 1px 1px #00000007,0 1.9px 1.9px #00000009,0 3.4px 3.4px #0000000b,0 6.3px 6.3px #0000000d,0 15px 15px #00000012}.volume-level[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:var(--tc-500)}.timeline[_ngcontent-%COMP%]{position:relative}.timeline-marker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:translate(-50%,-.25rem);width:1.2rem;height:1.2rem;border-radius:50%;background-color:var(--mc-300);box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}.time-overlay[_ngcontent-%COMP%]{border-radius:.3rem;padding:.5rem;background-color:#fff;box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}"]}),Se})(),So=(()=>{class Se{constructor(j){this.element=j}ngAfterViewInit(){const j=this.element.nativeElement;j.innerHTML=j.innerHTML.replace(new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"g"),'<span class="emoji">$&</span>')}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(r.SBq))},Se.\u0275dir=r.lG2({type:Se,selectors:[["","appEmojiStyleApply",""]]}),Se})();function ks(Se,Bt){1&Se&&r._UZ(0,"i",10)}function Mi(Se,Bt){1&Se&&r._UZ(0,"i",11)}function es(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",6),r.NdJ("click",function(qt){r.CHM(j);const En=r.oxw();return r.KtG(En.open(qt))}),r.ynx(1,7),r.YNc(2,ks,1,0,"i",8),r.YNc(3,Mi,1,0,"i",9),r.BQk(),r.qZA()}if(2&Se){const j=r.oxw();r.xp6(1),r.Q6J("ngSwitch",j.attachmentType),r.xp6(1),r.Q6J("ngSwitchCase","DOCUMENT"),r.xp6(1),r.Q6J("ngSwitchCase","FILE")}}function Bo(Se,Bt){1&Se&&(r.TgZ(0,"div",12),r._UZ(1,"i",13),r.qZA())}let Zr=(()=>{class Se{constructor(j){this.router=j,this.baseUrl="/api/private/attachment/"}get hasAttachment(){return!!this.attachment}get attachmentType(){var j,je;return null!==(je=null===(j=this.attachment)||void 0===j?void 0:j.type)&&void 0!==je?je:"unknown"}get name(){var j,je;return null!==(je=null===(j=this.attachment)||void 0===j?void 0:j.name)&&void 0!==je?je:"\u041d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"}get size(){return this.attachment&&this.attachment.size?this.attachment.size>1e6?(this.attachment.size/1e6).toFixed(2)+" MByte":this.attachment.size>1e3?(this.attachment.size/1e3).toFixed(2)+" KByte":this.attachment.size+" byte":"-- byte"}ngOnInit(){}open(j){this.attachment&&window.open(this.baseUrl+this.attachment.name,"_blank")}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(R.F0))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-file-attachment"]],inputs:{attachment:"attachment"},decls:8,vars:6,consts:[[1,"flexed","hend","full-width","gap5"],["class","file-button",3,"click",4,"ngIf"],["class","file-button disabled",4,"ngIf"],[1,"flexed","column","stretched","gap3"],[1,"caption","one-line"],[1,"caption","size-small","f-color-500"],[1,"file-button",3,"click"],[3,"ngSwitch"],["class","mdi-description",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchCase"],[1,"mdi-description"],[1,"mdi-insert_drive_file"],[1,"file-button","disabled"],[1,"mdi-warning"]],template:function(j,je){1&j&&(r.TgZ(0,"div",0),r.YNc(1,es,4,3,"div",1),r.YNc(2,Bo,2,0,"div",2),r.TgZ(3,"div",3)(4,"span",4),r._uU(5),r.qZA(),r.TgZ(6,"span",5),r._uU(7),r.qZA()()()),2&j&&(r.Udp("user-select","none"),r.xp6(1),r.Q6J("ngIf",je.hasAttachment),r.xp6(1),r.Q6J("ngIf",!je.hasAttachment),r.xp6(3),r.Oqu(je.name),r.xp6(2),r.Oqu(je.size))},dependencies:[e.O5,e.RF,e.n9],styles:[".file-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1rem;cursor:pointer;transition:all .3s}.file-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.file-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}"]}),Se})();var Po=b(1787);const To=["messageInput"],Li=["contextMenu"],ur=function(){return[]};function ma(Se,Bt){if(1&Se&&(r.TgZ(0,"div",7)(1,"span",8),r._UZ(2,"i",9),r._uU(3),r.qZA(),r._UZ(4,"app-avatar-list",10),r.qZA()),2&Se){const j=r.oxw();let je;r.xp6(3),r.hij(" ",null==j.currentChat?null:j.currentChat.title,""),r.xp6(1),r.Q6J("employees",null!==(je=null==j.currentChat?null:j.currentChat.members)&&void 0!==je?je:r.DdM(2,ur))}}function Qn(Se,Bt){1&Se&&r.GkF(0)}const Ri=function(Se){return{shaded:Se}},zs=function(Se){return{$implicit:Se}};function Yr(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",21),r.NdJ("contextmenu",function(qt){const $n=r.CHM(j).$implicit,Ui=r.oxw(3);return r.KtG(Ui.showContext(qt,$n))}),r._UZ(1,"app-avatar",22),r.YNc(2,Qn,1,0,"ng-container",23),r.qZA()}if(2&Se){const j=Bt.$implicit,je=r.oxw(3),qt=r.MAs(6);r.Q6J("@fade",void 0)("ngClass",r.VKq(9,Ri,je.messageContexted===j.superMessageId)),r.uIk("data-msg",je.getMessagesIds(j)),r.xp6(1),r.Q6J("deleted",j.author.deleted)("name",j.author.fullName)("size",2.3)("src",j.author.avatar),r.xp6(1),r.Q6J("ngTemplateOutlet",qt)("ngTemplateOutletContext",r.VKq(11,zs,j))}}function eo(Se,Bt){1&Se&&(r.TgZ(0,"div",25),r._UZ(1,"p-skeleton",26)(2,"p-skeleton",27),r.qZA())}function Xr(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,eo,3,0,"div",24),r.BQk()),2&Se){const j=r.oxw(3);r.xp6(1),r.Q6J("ngForOf",j.loadingsStubs)}}function dr(Se,Bt){if(1&Se&&r._UZ(0,"div",28),2&Se){r.oxw();const j=r.MAs(1);r.Udp("transform","translateY("+j.scrollTop+"px)"),r.Q6J("@fade",void 0)}}const Ds=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function da(Se,Bt){if(1&Se&&r._UZ(0,"p-badge",32),2&Se){const j=r.oxw(4);r.Akn(r.DdM(3,Ds)),r.Q6J("value",j.unreadCount.toString())}}function Is(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",29),r.NdJ("click",function(){r.CHM(j),r.oxw();const qt=r.MAs(1);return r.KtG(qt.scrollTo({top:0,behavior:"smooth"}))}),r.YNc(1,da,1,4,"p-badge",30),r._UZ(2,"i",31),r.qZA()}if(2&Se){r.oxw();const j=r.MAs(1),je=r.oxw(2);r.Udp("transform","translateY("+j.scrollTop+"px)"),r.Q6J("@fade",void 0),r.xp6(1),r.Q6J("ngIf",je.unreadCount>0)}}const Js=function(Se){return{unread:Se}};function jr(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",13,14),r.NdJ("onScrollToBottom",function(){r.CHM(j);const qt=r.oxw(2);return r.KtG(qt.loadMessages())})("scroll",function(){r.CHM(j);const qt=r.oxw(2);return r.KtG(qt.startButtonVisibleEmitter.emit())}),r.YNc(2,Yr,3,13,"div",15),r.YNc(3,Xr,2,1,"ng-container",16),r.YNc(4,dr,1,3,"div",17),r.TgZ(5,"app-context-menu",18,19),r.NdJ("onHide",function(){r.CHM(j);const qt=r.oxw(2);return r.KtG(qt.shaderVisible=!1)})("onShow",function(){r.CHM(j);const qt=r.oxw(2);return r.KtG(qt.shaderVisible=!0)}),r.qZA(),r.YNc(7,Is,3,4,"div",20),r.qZA()}if(2&Se){const j=r.MAs(1),je=r.oxw(2);r.Udp("overflow",je.shaderVisible?"hidden":""),r.Q6J("ngClass",r.VKq(8,Js,je.unreadCount>0)),r.xp6(2),r.Q6J("ngForOf",je.messages)("ngForTrackBy",je.trackMessages),r.xp6(1),r.Q6J("ngIf",je.isLoading),r.xp6(1),r.Q6J("ngIf",je.shaderVisible),r.xp6(3),r.Q6J("ngIf",j.scrollTop<-100&&je.startButtonVisible&&!je.shaderVisible)}}function it(Se,Bt){1&Se&&(r.TgZ(0,"div",33),r._UZ(1,"i",9),r.TgZ(2,"span"),r._uU(3," \u0427\u0430\u0442 \u043f\u0443\u0441\u0442 "),r.qZA()())}function Ue(Se,Bt){if(1&Se&&(r.YNc(0,jr,8,10,"div",11),r.YNc(1,it,4,0,"div",12)),2&Se){const j=r.oxw();r.Q6J("ngIf",j.isLoading||j.messages.length>0),r.xp6(1),r.Q6J("ngIf",!j.isLoading&&0===j.messages.length)}}function De(Se,Bt){if(1&Se&&(r.TgZ(0,"div",34),r._UZ(1,"app-avatar",35),r.TgZ(2,"span",36),r._uU(3),r.qZA(),r.TgZ(4,"span",37),r._uU(5),r.qZA()()),2&Se){const j=Bt.$implicit;r.xp6(1),r.Q6J("name",j.author.fullName)("size",1.7)("src",j.author.avatar),r.xp6(2),r.Oqu(j.author.fullName),r.xp6(2),r.Oqu(j.text)}}function Mt(Se,Bt){1&Se&&r.GkF(0)}function Ln(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,Mt,1,0,"ng-container",23),r.BQk()),2&Se){const j=r.oxw(2).$implicit;r.oxw();const je=r.MAs(8);r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(2,zs,j.replyTo))}}function mi(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",49),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw().$implicit,En=r.oxw(5);return r.KtG(En.mediaViewer.showMedia(qt))}),r._UZ(1,"img",50),r.qZA()}if(2&Se){const j=r.oxw().$implicit,je=r.oxw(5);r.xp6(1),r.Q6J("src",je.thumbnailUrl+j.name,r.LSH)}}function Gi(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",51),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw().$implicit,En=r.oxw(5);return r.KtG(En.mediaViewer.showMedia(qt))}),r._UZ(1,"img",50),r.TgZ(2,"div",52),r._UZ(3,"i",53),r.qZA()()}if(2&Se){const j=r.oxw().$implicit,je=r.oxw(5);r.xp6(1),r.Q6J("src",je.thumbnailUrl+j.name,r.LSH)}}function _o(Se,Bt){if(1&Se&&(r.TgZ(0,"div",43),r.YNc(1,mi,2,1,"div",47),r.YNc(2,Gi,4,1,"div",48),r.qZA()),2&Se){const j=Bt.$implicit;r.Tol("media-item i"+Bt.index),r.Q6J("ngSwitch",j.type),r.xp6(1),r.Q6J("ngSwitchCase","PHOTO"),r.xp6(1),r.Q6J("ngSwitchCase","VIDEO")}}function Lo(Se,Bt){if(1&Se&&(r.TgZ(0,"div"),r.YNc(1,_o,3,5,"div",46),r.qZA()),2&Se){const j=r.oxw(3).$implicit,je=r.oxw();r.Tol("media-grid g"+j.attachments.length),r.xp6(1),r.Q6J("ngForOf",j.attachments)("ngForTrackBy",je.trackAttachment)}}function gs(Se,Bt){if(1&Se&&r._UZ(0,"app-audio-player",56),2&Se){const j=Bt.$implicit,je=r.oxw(5);r.Q6J("url",je.fileUrl+j.name)}}function $s(Se,Bt){if(1&Se&&(r.TgZ(0,"div",54),r.YNc(1,gs,1,1,"app-audio-player",55),r.qZA()),2&Se){const j=r.oxw(3).$implicit;r.xp6(1),r.Q6J("ngForOf",j.attachments)}}function pr(Se,Bt){1&Se&&r._UZ(0,"app-file-attachment",58),2&Se&&r.Q6J("attachment",Bt.$implicit)}function Dr(Se,Bt){if(1&Se&&(r.TgZ(0,"div",54),r.YNc(1,pr,1,1,"app-file-attachment",57),r.qZA()),2&Se){const j=r.oxw(3).$implicit;r.xp6(1),r.Q6J("ngForOf",j.attachments)}}function Kr(Se,Bt){if(1&Se&&(r.ynx(0,43),r.YNc(1,Lo,2,4,"div",44),r.YNc(2,$s,2,1,"div",45),r.YNc(3,Dr,2,1,"div",45),r.BQk()),2&Se){const j=r.oxw(2).$implicit;r.Q6J("ngSwitch",j.attachmentType),r.xp6(1),r.Q6J("ngSwitchCase","VISUAL"),r.xp6(1),r.Q6J("ngSwitchCase","AUDIO"),r.xp6(1),r.Q6J("ngSwitchCase","FILE")}}const hr=function(Se,Bt){return{my:Se,reply:Bt}};function or(Se,Bt){if(1&Se&&(r.ynx(0),r.TgZ(1,"div",38),r.YNc(2,Ln,2,4,"ng-container",16),r.TgZ(3,"div",39),r._uU(4),r.qZA(),r.YNc(5,Kr,4,4,"ng-container",40),r.TgZ(6,"div",37)(7,"span",41),r._uU(8),r.qZA(),r.TgZ(9,"div",42)(10,"span"),r._uU(11),r.ALo(12,"date"),r.qZA()()()(),r.BQk()),2&Se){const j=r.oxw().$implicit,je=r.oxw();r.xp6(1),r.Q6J("ngClass",r.WLB(9,hr,je.isMy(j.author),j.replyTo)),r.xp6(1),r.Q6J("ngIf",j.replyTo),r.xp6(2),r.hij(" ",j.author.fullName," "),r.xp6(1),r.Q6J("ngIf",j.mediaGroup),r.xp6(3),r.Oqu(j.text),r.xp6(3),r.Oqu(r.xi3(12,6,j.sendAt,"HH:mm"))}}function Ur(Se,Bt){1&Se&&r.GkF(0)}function gr(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,Ur,1,0,"ng-container",23),r.BQk()),2&Se){const j=r.oxw(2).$implicit;r.oxw();const je=r.MAs(8);r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(2,zs,j.replyTo))}}function _a(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",49),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(2).$implicit,En=r.oxw();return r.KtG(En.mediaViewer.showMedia(qt.attachments[0]))}),r._UZ(1,"img",50),r.qZA()}if(2&Se){const j=r.oxw(2).$implicit,je=r.oxw();r.xp6(1),r.Q6J("src",je.thumbnailUrl+j.attachments[0].name,r.LSH)}}function Ma(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",51),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(2).$implicit,En=r.oxw();return r.KtG(En.mediaViewer.showMedia(qt.attachments[0]))}),r._UZ(1,"img",50),r.TgZ(2,"div",52),r._UZ(3,"i",53),r.qZA()()}if(2&Se){const j=r.oxw(2).$implicit,je=r.oxw();r.xp6(1),r.Q6J("src",je.thumbnailUrl+j.attachments[0].name,r.LSH)}}function Ha(Se,Bt){if(1&Se&&(r.TgZ(0,"div",62),r._UZ(1,"app-audio-player",56),r.qZA()),2&Se){const j=r.oxw(2).$implicit,je=r.oxw();r.xp6(1),r.Q6J("url",je.fileUrl+j.attachments[0].name)}}function Pe(Se,Bt){if(1&Se&&(r.TgZ(0,"div",63),r._UZ(1,"app-file-attachment",58),r.qZA()),2&Se){const j=r.oxw(2).$implicit;r.xp6(1),r.Q6J("attachment",j.attachments[0])}}function gt(Se,Bt){if(1&Se&&(r.ynx(0),r.TgZ(1,"div",59),r.YNc(2,gr,2,4,"ng-container",16),r.TgZ(3,"div",39),r._uU(4),r.qZA(),r.ynx(5,43),r.YNc(6,_a,2,1,"div",47),r.YNc(7,Ma,4,1,"div",48),r.YNc(8,Ha,2,1,"div",60),r.YNc(9,Pe,2,1,"div",61),r.BQk(),r.TgZ(10,"div",37)(11,"span",41),r._uU(12),r.qZA(),r.TgZ(13,"div",42)(14,"span"),r._uU(15),r.ALo(16,"date"),r.qZA()()()(),r.BQk()),2&Se){const j=r.oxw().$implicit,je=r.oxw();r.xp6(1),r.Q6J("ngClass",r.WLB(12,hr,je.isMy(j.author),j.replyTo)),r.xp6(1),r.Q6J("ngIf",j.replyTo),r.xp6(2),r.hij(" ",j.author.fullName," "),r.xp6(1),r.Q6J("ngSwitch",j.attachments[0].type),r.xp6(1),r.Q6J("ngSwitchCase","PHOTO"),r.xp6(1),r.Q6J("ngSwitchCase","VIDEO"),r.xp6(1),r.Q6J("ngSwitchCase","AUDIO"),r.xp6(4),r.Oqu(j.text),r.xp6(3),r.Oqu(r.xi3(16,9,j.sendAt,"HH:mm"))}}function Ve(Se,Bt){1&Se&&r.GkF(0)}function Dt(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,Ve,1,0,"ng-container",23),r.BQk()),2&Se){const j=r.oxw(2).$implicit;r.oxw();const je=r.MAs(8);r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(2,zs,j.replyTo))}}function on(Se,Bt){if(1&Se&&(r.ynx(0),r.TgZ(1,"div",64),r.YNc(2,Dt,2,4,"ng-container",16),r.TgZ(3,"div",39),r._uU(4),r.qZA(),r.TgZ(5,"div",37)(6,"span",41),r._uU(7),r.qZA(),r.TgZ(8,"div",42)(9,"span"),r._uU(10),r.ALo(11,"date"),r.qZA()()()(),r.BQk()),2&Se){const j=r.oxw().$implicit,je=r.oxw();r.xp6(1),r.Q6J("ngClass",r.WLB(8,hr,je.isMy(j.author),j.replyTo)),r.xp6(1),r.Q6J("ngIf",j.replyTo),r.xp6(2),r.hij(" ",j.author.fullName," "),r.xp6(3),r.Oqu(j.text),r.xp6(3),r.Oqu(r.xi3(11,5,j.sendAt,"HH:mm"))}}function Dn(Se,Bt){if(1&Se&&(r.YNc(0,or,13,12,"ng-container",16),r.YNc(1,gt,17,15,"ng-container",16),r.YNc(2,on,12,11,"ng-container",16)),2&Se){const j=Bt.$implicit;r.Q6J("ngIf",j.attachments.length>1),r.xp6(1),r.Q6J("ngIf",1===j.attachments.length),r.xp6(1),r.Q6J("ngIf",0===j.attachments.length)}}function Nn(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",49),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(2).$implicit,En=r.oxw();return r.KtG(En.mediaViewer.showMedia(qt.attachments[0]))}),r._UZ(1,"img",50),r.qZA()}if(2&Se){const j=r.oxw(2).$implicit,je=r.oxw();r.xp6(1),r.Q6J("src",je.thumbnailUrl+j.attachments[0].name,r.LSH)}}function ui(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",51),r.NdJ("click",function(){r.CHM(j);const qt=r.oxw(2).$implicit,En=r.oxw();return r.KtG(En.mediaViewer.showMedia(qt.attachments[0]))}),r._UZ(1,"video",66),r.TgZ(2,"div",52),r._UZ(3,"i",53),r.qZA()()}if(2&Se){const j=r.oxw(2).$implicit,je=r.oxw();r.xp6(1),r.Q6J("controls",!1)("src",je.thumbnailUrl+j.attachments[0].name,r.LSH)}}function to(Se,Bt){if(1&Se&&(r.TgZ(0,"div",62),r._UZ(1,"app-audio-player",56),r.qZA()),2&Se){const j=r.oxw(2).$implicit,je=r.oxw();r.xp6(1),r.Q6J("url",je.fileUrl+j.attachments[0].name)}}function co(Se,Bt){if(1&Se&&(r.TgZ(0,"div",63),r._UZ(1,"app-file-attachment",58),r.qZA()),2&Se){const j=r.oxw(2).$implicit;r.xp6(1),r.Q6J("attachment",j.attachments[0])}}function fo(Se,Bt){if(1&Se&&(r.ynx(0)(1,43),r.YNc(2,Nn,2,1,"div",47),r.YNc(3,ui,4,2,"div",48),r.YNc(4,to,2,1,"div",60),r.YNc(5,co,2,1,"div",61),r.BQk()()),2&Se){const j=r.oxw().$implicit;r.xp6(1),r.Q6J("ngSwitch",j.attachments[0].type),r.xp6(1),r.Q6J("ngSwitchCase","PHOTO"),r.xp6(1),r.Q6J("ngSwitchCase","VIDEO"),r.xp6(1),r.Q6J("ngSwitchCase","AUDIO")}}function ji(Se,Bt){if(1&Se&&(r.TgZ(0,"div",65)(1,"div",39),r._uU(2),r.qZA(),r.YNc(3,fo,6,4,"ng-container",16),r.TgZ(4,"div",37)(5,"span",41),r._uU(6),r.qZA()()()),2&Se){const j=Bt.$implicit;r.xp6(2),r.hij(" ",j.author.fullName," "),r.xp6(1),r.Q6J("ngIf",j.attachments&&1===j.attachments.length),r.xp6(3),r.Oqu(j.text)}}function mo(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"span",67),r._uU(1),r.qZA(),r.TgZ(2,"textarea",68),r.NdJ("ngModelChange",function(qt){r.CHM(j);const En=r.oxw();return r.KtG(En.attDescription=qt)}),r.qZA(),r.TgZ(3,"div",69)(4,"p-button",70),r.NdJ("onClick",function(){r.CHM(j);const qt=r.oxw();return r.KtG(qt.sendATT())}),r.qZA()()}if(2&Se){const j=r.oxw();r.xp6(1),r.hij("\u0412 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043a \u0437\u0430\u0434\u0430\u0447\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043e ",j.attFilesCount," \u0444\u0430\u0439\u043b\u043e\u0432"),r.xp6(1),r.Q6J("autoResize",!0)("cols",50)("rows",4)("ngModel",j.attDescription),r.xp6(2),r.Q6J("loading",j.attRequestBegin)}}const yi=function(){return{width:"min-content",height:"50vh",minWidth:"27rem",minHeight:"15rem",maxWidth:"70vw",maxHeight:"90vh"}},Co=function(){return{display:"grid",padding:"0",height:"100%",grid:"1fr min-content / 1fr"}};let Xs=(()=>{class Se{constructor(j,je,qt,En,$n){this.personality=j,this.api=je,this.mediaViewer=qt,this.chatService=En,this.rt=$n,this.chatId=0,this.isShow=!1,this.thumbnailUrl="/api/private/thumbnail/",this.fileUrl="/api/private/attachment/",this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.unreadCount=0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.shaderVisible=!1,this.messageContexted=-1,this.startButtonVisibleEmitter=new r.vpe,this.startButtonVisible=!0,this.loadingsStubs=Array(5).fill(null),this.subscriptions=new ei.xf,this.attDialogVisible=!1,this.attDescription="",this.attRequestBegin=!1,this.attFilesCount=0,this.attMessageId=null}get isNotReady(){return 0===this.sendingText.trim().length&&0===this.sendingFiles.length}trackAttachment(j,je){return je.name}isMy(j){var je;return(null===(je=this.personality.me)||void 0===je?void 0:je.login)===j.login}ngOnInit(){}ngAfterViewInit(){const j=this.startButtonVisibleEmitter.pipe((0,ss.b)(()=>this.startButtonVisible=!1),(0,bs.b)(300));this.subscriptions.addSubscription("startButton",j.subscribe(()=>this.startButtonVisible=!0))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}show(j){const je=this.chatId!==j;if(this.chatId=j,this.isShow&&je)return this.isShow=!1,void setTimeout(()=>{this.isShow=!0},500);this.isShow=!0}trackMessages(j,je){return je.superMessageId+je.text}loadChat(){this.api.getChat(this.chatId).subscribe({next:j=>{this.currentChat=j,this.chatService.currentOpenChat=j.chatId}}),this.api.getCountOfUnreadMessages(this.chatId).subscribe(j=>this.unreadCount=j),this.subscriptions.addSubscription("chatUpd",this.rt.chatUpdated().subscribe(this.updateChat.bind(this)))}loadMessages(){!this.isEnd&&!this.isLoading&&(this.isLoading=!0,this.api.getChatMessages(this.chatId,this.first,25).subscribe({next:j=>{this.first=this.first+j.size,this.totalMessages=j.totalElements,this.isEnd=j.last,this.isLoading=!1,this.messages=[...this.messages,...j.content]},error:()=>{this.isLoading=!1}}))}sendMessage(){var j;this.isBeginSending=!0,this.editMessage?this.api.editChatMessage(this.editMessage.superMessageId,this.sendingText).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.editMessage=void 0,setTimeout(()=>{var je;null===(je=this.messageInput)||void 0===je||je.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var je;null===(je=this.messageInput)||void 0===je||je.nativeElement.focus()})}}):this.api.sendChatMessage(this.chatId,this.sendingText,this.sendingFiles,null===(j=this.replyMessage)||void 0===j?void 0:j.superMessageId).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,setTimeout(()=>{var je;null===(je=this.messageInput)||void 0===je||je.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var je;null===(je=this.messageInput)||void 0===je||je.nativeElement.focus()})}})}messageInputKeyDown(j){var je,qt;if("Enter"===j.key)if(j.ctrlKey||this.isNotReady){const En=j.target,$n=En.selectionStart,Ui=En.selectionEnd;En.value=En.value.substring(0,null!=$n?$n:-1)+"\n"+En.value.substring(null!=Ui?Ui:-1),this.sendingText=En.value,En.selectionStart=null!==(je=$n+1)&&void 0!==je?je:0,En.selectionEnd=null!==(qt=$n+1)&&void 0!==qt?qt:0}else j.preventDefault(),this.sendMessage()}insertEmoji(j){var je,qt,En;if(null===(je=this.messageInput)||void 0===je||!je.nativeElement)return;const $n=this.messageInput.nativeElement;$n.focus();const Ui=$n.selectionStart,ar=$n.selectionEnd;$n.value=$n.value.substring(0,null!=Ui?Ui:-1)+j+$n.value.substring(null!=ar?ar:-1),$n.selectionStart=null!==(qt=Ui+1)&&void 0!==qt?qt:0,$n.selectionEnd=null!==(En=Ui+1)&&void 0!==En?En:0,this.sendingText=$n.value}whenOpenPanel(){var j,je;this.loadChat(),this.loadMessages(),this.subscriptions.addSubscription("msgCr",this.rt.chatMessageCreatedByChat(this.chatId).subscribe(this.createMessage.bind(this))),this.subscriptions.addSubscription("msgUpd",this.rt.chatMessageUpdated(this.chatId).subscribe(this.updateMessage.bind(this))),this.subscriptions.addSubscription("msgDel",this.rt.chatMessageDeleted(this.chatId).subscribe(this.deleteMessage.bind(this))),this.subscriptions.addSubscription("unreadCount",this.rt.updateCountUnreadMessages(null!==(je=null===(j=this.personality.me)||void 0===j?void 0:j.login)&&void 0!==je?je:"").subscribe(qt=>{this.chatId===qt.chatId&&(this.unreadCount=qt.count)}))}flushMessages(){this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.chatService.currentOpenChat=void 0,this.subscriptions.unsubscribeAll()}getMessagesIds(j){return j.includedMessages?JSON.stringify(j.includedMessages):"[]"}showContext(j,je){if(!this.contextMenu)return;this.messageContexted=je.superMessageId;const qt=[{label:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",icon:"mdi-reply",command:()=>{var En;this.replyMessage=je,null===(En=this.messageInput)||void 0===En||En.nativeElement.focus()}}];je.attachments.length>0&&qt.push({label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u0434\u0430\u0447\u0435",icon:"mdi-add_link",command:()=>{this.attFilesCount=je.attachments.length,this.attDialogVisible=!0,this.attMessageId=je.superMessageId}}),this.isMy(je.author)&&qt.push({label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>{var En;this.editMessage=je,this.sendingText=je.text,null===(En=this.messageInput)||void 0===En||En.nativeElement.focus()}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",style:ir.DANGER,command:()=>{this.api.deleteChatMessage(this.chatId,je.superMessageId).subscribe()}}),this.contextMenu.show(j,qt)}clearReplyMessage(){this.replyMessage=void 0}clearEditMessage(){this.editMessage=void 0,this.sendingText=""}sendATT(){this.attMessageId&&(this.attRequestBegin=!0,this.api.attachToTask(this.attMessageId,this.chatId,this.attDescription).subscribe({next:()=>this.clearATT(),error:()=>this.attRequestBegin=!1}))}clearATT(){this.attRequestBegin=!1,this.attDialogVisible=!1,this.attDescription="",this.attMessageId=null,this.attFilesCount=0}createMessage(j){this.messages=[j,...this.messages],this.first++,this.totalMessages++}updateMessage(j){const je=this.messages.findIndex(qt=>qt.superMessageId===j.superMessageId);-1!=je&&this.messages.splice(je,1,j)}deleteMessage(j){this.messages=this.messages.filter(je=>je.superMessageId!==j.superMessageId)}updateChat(j){j.chatId===this.chatId&&(this.currentChat=j)}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(cr.F),r.Y36(Xo.s),r.Y36(z.E),r.Y36(Tr.a),r.Y36(rs.U))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-chat-panel"]],viewQuery:function(j,je){if(1&j&&(r.Gf(To,5),r.Gf(Li,5)),2&j){let qt;r.iGM(qt=r.CRH())&&(je.messageInput=qt.first),r.iGM(qt=r.CRH())&&(je.contextMenu=qt.first)}},decls:11,vars:12,consts:[["appendTo","body","position","bottom-right",3,"visible","contentStyle","dismissableMask","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["editMessagePreview",""],["messageBody",""],["replyMessageTemp",""],["appendTo","body","contentStyleClass","flex flex-column gap-2",3,"header","dismissableMask","visible","modal","draggable","visibleChange","onHide"],[1,"flexed","hcenter","gap5"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-chat"],[3,"employees"],["appScrollToBottomEmitter","","class","chat-view",3,"ngClass","overflow","onScrollToBottom","scroll",4,"ngIf"],["class","chat-view empty caption size-big wt-bold f-color-500",4,"ngIf"],["appScrollToBottomEmitter","",1,"chat-view",3,"ngClass","onScrollToBottom","scroll"],["list",""],["class","message-wrapper",3,"ngClass","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","shader",3,"transform",4,"ngIf"],[3,"onHide","onShow"],["contextMenu",""],["class","scroll-to-start-button",3,"transform","click",4,"ngIf"],[1,"message-wrapper",3,"ngClass","contextmenu"],[3,"deleted","name","size","src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","message-wrapper",4,"ngFor","ngForOf"],[1,"message-wrapper"],["size","2.3rem","shape","circle"],["width","15rem","height","5rem","borderRadius","1rem 1rem 1rem .3rem"],[1,"shader"],[1,"scroll-to-start-button",3,"click"],["class","ur-badge","severity","warning",3,"style","value",4,"ngIf"],[1,"mdi-arrow_downward"],["severity","warning",1,"ur-badge",3,"value"],[1,"chat-view","empty","caption","size-big","wt-bold","f-color-500"],[1,"message-preview"],["shape","square",1,"avatar",3,"name","size","src"],[1,"author-name"],[1,"message-text"],[1,"chat-message","media-group",3,"ngClass"],[1,"message-header"],[3,"ngSwitch",4,"ngIf"],["appEmojiStyleApply","",1,"content"],[1,"message-footer"],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],["class","flexed column gap5",4,"ngSwitchCase"],[3,"class","ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","img-container",3,"click",4,"ngSwitchCase"],["class","vid-container",3,"click",4,"ngSwitchCase"],[1,"img-container",3,"click"],["alt","",3,"src"],[1,"vid-container",3,"click"],[1,"play-icon"],[1,"mdi-play_arrow"],[1,"flexed","column","gap5"],[3,"url",4,"ngFor","ngForOf"],[3,"url"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"],[1,"chat-message","single-media",3,"ngClass"],["class","aud-container",4,"ngSwitchCase"],["class","file-container",4,"ngSwitchDefault"],[1,"aud-container"],[1,"file-container"],[1,"chat-message",3,"ngClass"],[1,"reply-message"],[3,"controls","src"],[1,"text-lg","font-semibold","text-bluegray-400"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0444\u0430\u0439\u043b\u0430\u043c...",3,"autoResize","cols","rows","ngModel","ngModelChange"],[1,"flex","gap-3","justify-content-end"],["label","\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c","icon","mdi-add_link",3,"loading","onClick"]],template:function(j,je){1&j&&(r.TgZ(0,"p-dialog",0),r.NdJ("onHide",function(){return je.flushMessages()})("onShow",function(){return je.whenOpenPanel()})("visibleChange",function(En){return je.isShow=En}),r.YNc(1,ma,5,3,"ng-template",1),r.YNc(2,Ue,2,2,"ng-template",2),r.qZA(),r.YNc(3,De,6,5,"ng-template",null,3,r.W1O),r.YNc(5,Dn,3,3,"ng-template",null,4,r.W1O),r.YNc(7,ji,7,3,"ng-template",null,5,r.W1O),r.TgZ(9,"p-dialog",6),r.NdJ("visibleChange",function(En){return je.attDialogVisible=En})("onHide",function(){return je.clearATT()}),r.YNc(10,mo,5,6,"ng-template",2),r.qZA()),2&j&&(r.Akn(r.DdM(10,yi)),r.Q6J("visible",je.isShow)("contentStyle",r.DdM(11,Co))("dismissableMask",!0),r.xp6(9),r.Q6J("header","\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043a \u0437\u0430\u0434\u0430\u0447\u0435")("dismissableMask",!0)("visible",je.attDialogVisible)("modal",!0)("draggable",!1))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.RF,e.n9,e.ED,ot.zx,ge.Fj,ge.JJ,ge.On,po.jx,yt.g,Pt.V,Ot.Ct,Fe.O,u.A,Nr,bo,So,Zr,Po.k,$i,e.uU],styles:['.chat-view[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column-reverse;position:relative;gap:.5rem;overflow-y:auto;overflow-x:hidden;padding:.5rem 1rem 1.5rem;overscroll-behavior-y:none;background-color:var(--bgc-001);border-top:1px solid var(--bgc-200)}.chat-view.empty[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;align-items:center;justify-content:center;height:100%;width:100%}.chat-view.unread[_ngcontent-%COMP%]{box-shadow:inset 0 0 2px var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{display:grid;grid:100%/min-content 1fr;gap:.5rem;width:100%;align-items:flex-end;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper.shaded[_ngcontent-%COMP%]{z-index:1}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr;padding:.7rem 1rem;background-color:var(--bgc-200);box-shadow:0 0 1px 1px var(--tc-300);border-radius:1rem 1rem 1rem .3rem;width:-moz-fit-content;width:fit-content;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.reply[_ngcontent-%COMP%]{grid:min-content min-content 1fr/1fr}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]{background-color:var(--mc-0);box-shadow:0 0 1px 1px var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--mc-400)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--mc-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]{background-color:var(--warm-100);box-shadow:0 0 1px 1px var(--warm-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--warm-700)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]{overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]{padding:.4rem;display:grid;gap:.3rem;width:100%;height:100%;max-width:20rem;top:0;left:0}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g[_ngcontent-%COMP%]{width:100%;height:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g2[_ngcontent-%COMP%]{grid-template-areas:"a b"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g3[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g4[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b c d"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g5[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c" "d e"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g6[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b b c" "d e f"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g7[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d d" "e f g"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g8[_ngcontent-%COMP%]{grid-template-areas:"a b" "c d" "e f" "g h"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g9[_ngcontent-%COMP%]{grid-template-areas:"a a b" "c d e" "f g g" "h h i"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g10[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d e" "f g h" "i j j"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:.3rem;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i0[_ngcontent-%COMP%]{grid-area:a}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i1[_ngcontent-%COMP%]{grid-area:b}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i2[_ngcontent-%COMP%]{grid-area:c}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i3[_ngcontent-%COMP%]{grid-area:d}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i4[_ngcontent-%COMP%]{grid-area:e}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i5[_ngcontent-%COMP%]{grid-area:f}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i6[_ngcontent-%COMP%]{grid-area:g}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i7[_ngcontent-%COMP%]{grid-area:h}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i8[_ngcontent-%COMP%]{grid-area:i}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i9[_ngcontent-%COMP%]{grid-area:j}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{padding:.4rem;position:relative;width:100%;height:100%;max-width:20rem;min-width:5rem;aspect-ratio:1;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .aud-container[_ngcontent-%COMP%]{padding:.4rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--tc-600);font-size:.85rem;font-weight:700;margin-bottom:.2rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1rem;display:flex;flex-wrap:wrap;justify-content:flex-end;overflow-wrap:break-word;white-space:pre-wrap;overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{display:flex;transform:translateY(.3rem);align-items:flex-end;color:var(--tc-400);font-size:.8rem;font-weight:700;margin-left:.5rem}.scroll-to-start-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:.5rem;z-index:1;cursor:pointer;color:#fff;background-color:var(--bgc-400);width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:.7;font-size:1.2rem;box-shadow:0 0 .7px #00000006,0 0 1.9px #00000009,0 0 4.5px #0000000c,0 0 15px #00000012;transition:all .2s ease-in-out}.scroll-to-start-button[_ngcontent-%COMP%]:hover{opacity:1}.message-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"avatar name" "avatar message";height:max-content;row-gap:0;column-gap:.5rem;flex:1;margin-left:.7rem}.message-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.message-preview[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{grid-area:name;font-size:.8rem;font-weight:700;color:var(--tc-600)}.message-preview[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{grid-area:message;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;color:var(--tc-700);font-size:.9rem;font-weight:500}.chat-input[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;height:max-content;z-index:1;box-shadow:0 0 .3px #00000005,0 0 .8px #00000007,0 0 1.5px #00000009,0 0 2.7px #0000000b,0 0 5px #0000000d,0 0 12px #00000012}.chat-input[_ngcontent-%COMP%]   .preview-message-wrapper[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.chat-input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.3rem;height:max-content}.chat-input.unread[_ngcontent-%COMP%]{box-shadow:0 0 .3px #ff961f05,0 0 .8px #ff961f07,0 0 1.5px #ff961f09,0 0 2.7px #ff961f0b,0 0 5px #ff961f0d,0 0 12px #ff961f12}.chat-input[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem}.shader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;pointer-events:none}.play-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00000080;border-radius:50%;width:2rem;height:2rem;font-size:1rem;display:flex;justify-content:center;align-items:center;color:#fff}.reply-message[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;border-left:2px solid var(--mc-300);padding:.1rem .5rem;border-radius:.2rem;margin-bottom:.4rem}'],data:{animation:[oe.U1]}}),Se})();var as=b(9114);let xt=(()=>{class Se{}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275mod=r.oAB({type:Se}),Se.\u0275inj=r.cJS({}),Se})();var Qt=b(6954),un=b(6847);function _n(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"span",4),r.NdJ("click",function(qt){r.CHM(j),r.oxw();const En=r.MAs(2);return r.KtG(En.toggle(qt))}),r.TgZ(1,"span"),r._uU(2),r.qZA(),r._UZ(3,"i",5),r.qZA()}if(2&Se){const j=r.oxw();r.xp6(2),r.Oqu(j.currentName)}}function Sn(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",7),r.NdJ("click",function(){const En=r.CHM(j).$implicit,$n=r.oxw(2),Ui=r.MAs(2);return $n.onChange(En.value),r.KtG(Ui.hide())}),r._uU(1),r.qZA()}if(2&Se){const j=Bt.$implicit;r.xp6(1),r.hij(" ",j.label," ")}}function zn(Se,Bt){if(1&Se&&r.YNc(0,Sn,2,1,"div",6),2&Se){const j=r.oxw();r.Q6J("ngForOf",j.variationList)("ngForTrackBy",j.trackByVariation)}}let Yt=(()=>{class Se{constructor(){this.variationList=[],this.value="",this.valueChange=new r.vpe}get currentName(){var j,je;return this.value&&null!==(je=null===(j=this.variationList.find(qt=>qt.value===this.value))||void 0===j?void 0:j.label)&&void 0!==je?je:""}trackByVariation(j,je){return je.value}ngOnInit(){}ngOnChanges(j){const je=j.value;je&&!je.currentValue&&this.variationList&&this.variationList.length&&this.onChange(this.variationList[0].value)}onChange(j){this.value=j,this.valueChange.emit(j)}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-input-variation-selector"]],inputs:{variationList:"variationList",value:"value"},outputs:{valueChange:"valueChange"},features:[r.TTD],decls:4,vars:1,consts:[["class","caption size-small wt-bold f-color-primary flexed hstart input-field",3,"click",4,"ngIf"],["styleClass","no-paddings"],["overlayPanelEl",""],["pTemplate","content"],[1,"caption","size-small","wt-bold","f-color-primary","flexed","hstart","input-field",3,"click"],[1,"mdi-arrow_drop_down"],["pRipple","","class","list-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["pRipple","",1,"list-item",3,"click"]],template:function(j,je){1&j&&(r.YNc(0,_n,4,1,"span",0),r.TgZ(1,"p-overlayPanel",1,2),r.YNc(3,zn,1,2,"ng-template",3),r.qZA()),2&j&&r.Q6J("ngIf",je.variationList&&je.variationList.length)},dependencies:[e.sg,e.O5,po.jx,bt.T,Qi.H],styles:[".input-field[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:opacity .15s ease-in-out}.input-field[_ngcontent-%COMP%]:hover{opacity:.8}.list-item[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .15s ease-in-out;color:var(--tc-600);padding:.5rem .9rem}.list-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),Se})();var Ne=b(7102),Be=b(2145),_t=b(8952),Ft=b(4496),an=b(9873),An=b(7575),On=b(7579),ti=b(5577),Yn=b(4004);function Ai(Se,Bt){if(1&Se&&(r.TgZ(0,"span",3),r._uU(1),r.qZA()),2&Se){const j=Bt.$implicit;r.xp6(1),r.Oqu(j.label)}}function yo(Se,Bt){if(1&Se&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&Se){const j=Bt.$implicit;r.xp6(1),r.hij(" ",j.label," ")}}const ts=function(){return[]};let qo=(()=>{class Se{constructor(j){this.api=j,this.control=new ge.NI([]),this.connectionServicesSuggestions=new On.x,this.connectionServices$=this.connectionServicesSuggestions.pipe((0,bs.b)(500),(0,ti.z)(je=>je?this.api.getConnectionServicesSuggestionsList(je):this.api.getConnectionServicesList())),this.isDisabled=!1,this.inputClasses={},this.changeIsDisabled=new r.vpe,this.onBlur=new r.vpe,this.onChange=je=>{},this.onTouched=()=>{}}ngOnInit(){this.changeValueSubscription=this.control.valueChanges.pipe((0,Yn.U)(j=>j?j.map(je=>({connectionService:je.value})):[])).subscribe(j=>this.onChange(j))}ngOnDestroy(){var j;null===(j=this.changeValueSubscription)||void 0===j||j.unsubscribe()}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.isDisabled=j}writeValue(j){this.api.getConnectionServicesList().pipe((0,Yn.U)(je=>j?j.map(qt=>je.find(En=>En.value===qt.connectionService)).filter(qt=>void 0!==qt):[])).subscribe(je=>{this.control.setValue(je)})}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Xo.s))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-connection-services-input"]],inputs:{isDisabled:"isDisabled",inputClasses:"inputClasses"},outputs:{changeIsDisabled:"changeIsDisabled",onBlur:"onBlur"},features:[r._Bn([{provide:ge.JU,useExisting:(0,r.Gpc)(()=>Se),multi:!0}])],decls:4,vars:8,consts:[["placeholder","\u0423\u0441\u043b\u0443\u0433\u0438","styleClass","w-full block transparent-ac-token","inputStyleClass","w-5rem","appendTo","body",3,"ngClass","suggestions","formControl","multiple","completeOnFocus","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"px-2","py-1","bg-primary-50","text-primary-400","border-round-md","font-bold","text-xs"]],template:function(j,je){if(1&j&&(r.TgZ(0,"p-autoComplete",0),r.NdJ("onBlur",function(){return je.onTouched(),je.onBlur.emit()})("completeMethod",function(En){return je.connectionServicesSuggestions.next(En.query)}),r.ALo(1,"async"),r.YNc(2,Ai,2,1,"ng-template",1),r.YNc(3,yo,2,1,"ng-template",2),r.qZA()),2&j){let qt;r.Q6J("ngClass",je.inputClasses)("suggestions",null!==(qt=r.lcZ(1,5,je.connectionServices$))&&void 0!==qt?qt:r.DdM(7,ts))("formControl",je.control)("multiple",!0)("completeOnFocus",!0)}},dependencies:[e.mk,ge.JJ,po.jx,ge.oH,Be.Qc,e.Ov]}),Se})();var oo=b(7384),ls=b(8675),Zo=b(1884),er=b(4782),Mr=b(9300),Hr=b(1135),cs=b(3900),Ca=b(590);let xi=(()=>{class Se{constructor(){this.control=new ge.NI(0),this.onZero=new r.vpe,this.subscriptions=new ei.xf,this.onChange=j=>{},this.onTouched=()=>{}}add(j=1){var je;this.control.setValue((null!==(je=this.control.value)&&void 0!==je?je:0)+j)}remove(j=1){var je;this.control.setValue((null!==(je=this.control.value)&&void 0!==je?je:0)-j)}ngOnInit(){this.subscriptions.addSubscription("cgVl",this.control.valueChanges.pipe((0,Yn.U)(j=>"number"==typeof j&&!isNaN(j)&&j>=0?j:(this.control.setValue(0,{emitEvent:!1}),0)),(0,ss.b)(j=>0===j&&this.onZero.emit())).subscribe(j=>this.onChange(j)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){j?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}writeValue(j){null==j||"number"!=typeof j||isNaN(j)?this.control.setValue(0,{emitEvent:!1}):this.control.setValue(j,{emitEvent:!1})}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-count-input"]],outputs:{onZero:"onZero"},features:[r._Bn([{provide:ge.JU,useExisting:(0,r.Gpc)(()=>Se),multi:!0}])],decls:4,vars:1,consts:[[1,"flex","align-items-center","border-1","border-round-md","border-bluegray-100","text-xs","overflow-hidden"],[1,"mdi-remove","p-1","cursor-pointer","hover:text-red-400","hover:bg-red-50",3,"click"],[1,"block","appearance-none","border-x-1","border-y-none","border-bluegray-100","outline-none","w-2rem","text-sm","text-center",3,"formControl"],[1,"mdi-add","p-1","cursor-pointer","hover:text-green-400","hover:bg-green-50",3,"click"]],template:function(j,je){1&j&&(r.TgZ(0,"span",0)(1,"span",1),r.NdJ("click",function(){return je.remove()}),r.qZA(),r._UZ(2,"input",2),r.TgZ(3,"span",3),r.NdJ("click",function(){return je.add()}),r.qZA()()),2&j&&(r.xp6(2),r.Q6J("formControl",je.control))},dependencies:[ge.Fj,ge.JJ,ge.oH]}),Se})();const wi=["overlayPanel"];function Oi(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",8)(1,"span",9),r._uU(2),r.qZA(),r.TgZ(3,"app-count-input",10),r.NdJ("onZero",function(){const En=r.CHM(j).index,$n=r.oxw();return r.KtG($n.removeEquipment.next(En))}),r.qZA()()}if(2&Se){const j=Bt.$implicit;r.Q6J("formGroup",j),r.xp6(2),r.Oqu(null==j.value.equipment?null:j.value.equipment.name)}}function no(Se,Bt){1&Se&&(r.TgZ(0,"div",21),r._UZ(1,"span",22),r.TgZ(2,"span"),r._uU(3,"\u041f\u0443\u0441\u0442\u043e"),r.qZA()())}function zo(Se,Bt){1&Se&&(r.TgZ(0,"div",23),r._UZ(1,"span",24),r.TgZ(2,"span"),r._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),r.qZA()())}function Ro(Se,Bt){1&Se&&(r.TgZ(0,"div",25),r._UZ(1,"p-progressSpinner",26),r.qZA())}const Ms=function(Se){return{"bg-primary-50":Se}};function fr(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",28),r.NdJ("mouseenter",function(){const En=r.CHM(j).index,$n=r.oxw(4);return r.KtG($n.selectedAvailableEquipmentsIndex.next(En))})("mouseleave",function(){r.CHM(j);const qt=r.oxw(4);return r.KtG(qt.selectedAvailableEquipmentsIndex.next(-1))})("click",function(){const En=r.CHM(j).index,$n=r.oxw(4);return r.KtG($n.selectAvailableEquipment.next(En))}),r.ALo(1,"async"),r.TgZ(2,"span",29),r.ALo(3,"async"),r._uU(4),r.qZA(),r.TgZ(5,"span",30),r.ALo(6,"async"),r._uU(7),r.qZA()()}if(2&Se){const j=Bt.$implicit,je=Bt.index,qt=r.oxw(4);r.Q6J("ngClass",r.VKq(11,Ms,r.lcZ(1,5,qt.selectedAvailableEquipments$)===je)),r.xp6(2),r.Q6J("ngClass",r.lcZ(3,7,qt.selectedAvailableEquipments$)===je?"text-primary-400":"text-bluegray-600"),r.xp6(2),r.hij(" ",j.name," "),r.xp6(1),r.Q6J("ngClass",r.lcZ(6,9,qt.selectedAvailableEquipments$)===je?"text-primary-400":"text-bluegray-400"),r.xp6(2),r.hij(" ",j.price," \u0440\u0443\u0431. ")}}function Ao(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,fr,8,13,"div",27),r.BQk()),2&Se){const j=r.oxw().ngIf;r.xp6(1),r.Q6J("ngForOf",j.value)}}function ea(Se,Bt){if(1&Se&&(r.TgZ(0,"div",16),r.YNc(1,no,4,0,"div",17),r.YNc(2,zo,4,0,"div",18),r.YNc(3,Ro,2,0,"div",19),r.YNc(4,Ao,2,1,"ng-container",20),r.qZA()),2&Se){const j=Bt.ngIf,je=r.oxw(2);r.Udp("max-height","20rem"),r.Q6J("ngSwitch",j.loadingState),r.xp6(1),r.Q6J("ngSwitchCase",je.LoadingState.EMPTY),r.xp6(1),r.Q6J("ngSwitchCase",je.LoadingState.ERROR),r.xp6(1),r.Q6J("ngSwitchCase",je.LoadingState.LOADING),r.xp6(1),r.Q6J("ngSwitchCase",je.LoadingState.READY)}}function sl(Se,Bt){if(1&Se&&(r.TgZ(0,"div",11)(1,"span",12),r._UZ(2,"i",13)(3,"input",14),r.qZA(),r.YNc(4,ea,5,7,"div",15),r.ALo(5,"async"),r.qZA()),2&Se){const j=r.oxw();r.xp6(3),r.Q6J("formControl",j.queryFilterControl),r.xp6(1),r.Q6J("ngIf",r.lcZ(5,2,j.equipments$))}}let No=(()=>{class Se{constructor(j){this.api=j,this.equipmentsList=new ge.Oe([]),this.availableEquipmentsLoadingState=oo.Gu.LOADING,this.queryFilterControl=new ge.NI(""),this.openAvailableEquipmentsView=new On.x,this.openAvailableEquipmentsView$=this.openAvailableEquipmentsView.pipe((0,ss.b)(()=>{this.availableEquipmentsLoadingState=oo.Gu.LOADING,this.selectedAvailableEquipmentsIndex.next(-1)})),this.closeAvailableEquipmentsView$=new On.x,this.filterChange$=this.queryFilterControl.valueChanges.pipe((0,ls.O)(""),(0,bs.b)(500),(0,Zo.x)(),(0,Yn.U)(je=>[je])),this.LoadingState=oo.Gu,this.selectAvailableEquipment=new On.x,this.removeEquipment=new On.x,this.equipments$=ei.aN.ofAltAll(this.filterChange$,this.api.getClientEquipments.bind(this.api),[this.selectAvailableEquipment.asObservable(),this.removeEquipment.asObservable()]).pipe((0,Yn.U)(je=>(je.value=je.value.filter(qt=>this.equipmentsList.value.map(En=>En.equipment).every(En=>(null==En?void 0:En.clientEquipmentId)!==qt.clientEquipmentId)),je)),(0,er.d)(1)),this.keysControl$=(0,go.R)(document.body,"keydown").pipe(Ar(this.openAvailableEquipmentsView$),(0,Mr.h)(je=>["ArrowDown","ArrowUp","Enter"].includes(je.key)),(0,Yn.U)(je=>(je.preventDefault(),je.stopPropagation(),je.key)),(0,wr.R)(this.closeAvailableEquipmentsView$),(0,Br.r)()),this.selectedAvailableEquipmentsIndex=new Hr.X(-1),this.selectedAvailableEquipments$=this.selectedAvailableEquipmentsIndex.pipe((0,cs.w)(je=>this.equipments$.pipe((0,Yn.U)(qt=>-2===je?qt.value.length-1:je>qt.value.length-1?-1:Math.min(qt.value.length-1,Math.max(-1,je))))),(0,er.d)(1)),this.selectAvailableEquipment$=this.selectAvailableEquipment.pipe((0,cs.w)(je=>this.equipments$.pipe((0,Ca.P)(),(0,Yn.U)(qt=>-1===je?null:qt.value[je]))),(0,Mr.h)(je=>null!==je),(0,Yn.U)(je=>new ge.cw({equipment:new ge.NI(je),count:new ge.NI(1)})),(0,ss.b)(()=>{var je;return null===(je=this.overlayPanel)||void 0===je?void 0:je.hide()})),this.subscriptions=new ei.xf,this.onChange=je=>{},this.onTouch=()=>{},this.isDisabled=!1,this.inputClasses={},this.onBlur=new r.vpe}ngOnInit(){this.subscriptions.addSubscription("kctrl",this.keysControl$.pipe((0,cs.w)(j=>this.selectedAvailableEquipments$.pipe((0,Ca.P)(),(0,Yn.U)(je=>({key:j,index:je}))))).subscribe(({key:j,index:je})=>{switch(j){case"ArrowDown":this.selectedAvailableEquipmentsIndex.next(je+1);break;case"ArrowUp":this.selectedAvailableEquipmentsIndex.next(je-1);break;case"Enter":this.selectAvailableEquipment.next(je)}})),this.subscriptions.addSubscription("slctrl",this.selectAvailableEquipment$.subscribe(j=>this.equipmentsList.push(j))),this.subscriptions.addSubscription("chng",this.equipmentsList.valueChanges.subscribe(j=>this.onChange(j))),this.subscriptions.addSubscription("removeEq",this.removeEquipment.subscribe(j=>{this.equipmentsList.removeAt(j),this.onTouch(),this.onBlur.emit()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouch=j}setDisabledState(j){this.isDisabled=j,j?this.equipmentsList.disable({emitEvent:!1}):this.equipmentsList.enable({emitEvent:!1})}writeValue(j){if(null!=j)for(let je of j)null===je.equipment||null===je.count||this.equipmentsList.push(new ge.cw({equipment:new ge.NI(je.equipment),count:new ge.NI(je.count)}));else this.equipmentsList.clear()}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Xo.s))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-client-equipment-list-input"]],viewQuery:function(j,je){if(1&j&&r.Gf(wi,5),2&j){let qt;r.iGM(qt=r.CRH())&&(je.overlayPanel=qt.first)}},inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[r._Bn([{provide:ge.JU,useExisting:(0,r.Gpc)(()=>Se),multi:!0}])],decls:8,vars:3,consts:[[1,"flex","flex-column","border-1","border-round-md","border-bluegray-100","overflow-x-auto","bg-white","w-fit","error-border",3,"ngClass","blur"],[1,"flex","flex-column","flex-grow-1"],["class","flex align-items-center gap-2 p-3 split-line",3,"formGroup",4,"ngFor","ngForOf"],[1,"flex","p-3"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","icon","mdi-add",3,"disabled","onClick"],[3,"onHide","onShow"],["overlayPanel",""],["pTemplate","content"],[1,"flex","align-items-center","gap-2","p-3","split-line",3,"formGroup"],[1,"flex-grow-1"],["formControlName","count",3,"onZero"],[1,"flex","flex-column","gap-3"],[1,"p-input-icon-left"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl"],["class","flex flex-column border-1 border-bluegray-50 border-round-md overflow-y-auto overflow-x-hidden",3,"max-height","ngSwitch",4,"ngIf"],[1,"flex","flex-column","border-1","border-bluegray-50","border-round-md","overflow-y-auto","overflow-x-hidden",3,"ngSwitch"],["class","flex flex-column py-8 align-items-center text-bluegray-600",4,"ngSwitchCase"],["class","flex flex-column py-8 align-items-center text-red-600",4,"ngSwitchCase"],["class","flex py-8 justify-content-center",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-column","py-8","align-items-center","text-bluegray-600"],[1,"mds-router"],[1,"flex","flex-column","py-8","align-items-center","text-red-600"],[1,"mds-error"],[1,"flex","py-8","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-6xl"],["class","flex align-items-baseline gap-2 p-2 split-line cursor-pointer user-select-none",3,"ngClass","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"flex","align-items-baseline","gap-2","p-2","split-line","cursor-pointer","user-select-none",3,"ngClass","mouseenter","mouseleave","click"],[3,"ngClass"],[1,"text-xs","font-bold",3,"ngClass"]],template:function(j,je){if(1&j){const qt=r.EpF();r.TgZ(0,"div",0),r.NdJ("blur",function(){return je.onBlur.emit()}),r.TgZ(1,"div",1),r.YNc(2,Oi,4,2,"div",2),r.qZA(),r.TgZ(3,"div",3)(4,"p-button",4),r.NdJ("onClick",function($n){return r.CHM(qt),r.MAs(6).show($n),je.onTouch(),r.KtG(je.onBlur.emit())}),r.qZA()()(),r.TgZ(5,"p-overlayPanel",5,6),r.NdJ("onHide",function(){return je.closeAvailableEquipmentsView$.next(null)})("onShow",function(){return je.openAvailableEquipmentsView.next(je.queryFilterControl.value)}),r.YNc(7,sl,6,4,"ng-template",7),r.qZA()}2&j&&(r.Q6J("ngClass",je.inputClasses),r.xp6(2),r.Q6J("ngForOf",je.equipmentsList.controls),r.xp6(2),r.Q6J("disabled",je.isDisabled))},dependencies:[e.mk,e.sg,e.O5,e.RF,e.n9,ot.zx,ge.Fj,ge.JJ,ge.JL,po.jx,te.G,lt.o,bt.T,ge.oH,ge.sg,ge.u,xi,e.Ov]}),Se})();var Vr=b(8322);function Qs(Se,Bt){if(1&Se&&(r.TgZ(0,"span",3),r._uU(1),r.qZA()),2&Se){const j=Bt.$implicit;r.xp6(1),r.Oqu(j.label)}}function va(Se,Bt){if(1&Se&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&Se){const j=Bt.$implicit;r.xp6(1),r.hij(" ",j.label," ")}}const Ea=function(){return[]};let Oa=(()=>{class Se{constructor(j){this.api=j,this.control=new ge.NI([]),this.clientEquipmentSuggestion=new On.x,this.clientEquipments$=this.clientEquipmentSuggestion.pipe((0,bs.b)(500),(0,ti.z)(je=>je?this.api.getClientEquipmentsSuggestions(je):this.api.getClientEquipmentsSuggestions())),this.isDisabled=!1,this.changeIsDisabled=new r.vpe,this.onBlur=new r.vpe,this.onChange=je=>{},this.onTouched=()=>{}}ngOnInit(){this.changeValueSubscription=this.control.valueChanges.pipe((0,Yn.U)(j=>j?j.map(je=>({equipmentRealization:parseInt(je.value)})):[])).subscribe(j=>this.onChange(j))}ngOnDestroy(){var j;null===(j=this.changeValueSubscription)||void 0===j||j.unsubscribe()}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.isDisabled=j}writeValue(j){this.api.getClientEquipmentsSuggestions().pipe((0,Yn.U)(je=>j?j.map(qt=>je.find(En=>parseInt(En.value)===qt.equipmentRealization)).filter(qt=>void 0!==qt):[])).subscribe(je=>{this.control.setValue(je)})}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Xo.s))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-equipments-field-filter"]],inputs:{isDisabled:"isDisabled"},outputs:{changeIsDisabled:"changeIsDisabled",onBlur:"onBlur"},features:[r._Bn([{provide:ge.JU,multi:!0,useExisting:(0,r.Gpc)(()=>Se)}])],decls:4,vars:7,consts:[["placeholder","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","styleClass","w-full block transparent-ac-token","inputStyleClass","w-10rem","appendTo","body",3,"suggestions","formControl","multiple","completeOnFocus","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"px-2","py-1","bg-primary-50","text-primary-400","border-round-md","font-bold","text-xs"]],template:function(j,je){if(1&j&&(r.TgZ(0,"p-autoComplete",0),r.NdJ("onBlur",function(){return je.onTouched()})("completeMethod",function(En){return je.clientEquipmentSuggestion.next(En.query)}),r.ALo(1,"async"),r.YNc(2,Qs,2,1,"ng-template",1),r.YNc(3,va,2,1,"ng-template",2),r.qZA()),2&j){let qt;r.Q6J("suggestions",null!==(qt=r.lcZ(1,4,je.clientEquipments$))&&void 0!==qt?qt:r.DdM(6,Ea))("formControl",je.control)("multiple",!0)("completeOnFocus",!0)}},dependencies:[ge.JJ,po.jx,ge.oH,Be.Qc,e.Ov]}),Se})();var rl=b(657);let rr=(()=>{class Se{constructor(j){this.api=j,this.addressCounterLivesForm=new ge.cw({address:new ge.NI(null,ge.kI.required),startApart:new ge.NI(null,ge.kI.required),endApart:new ge.NI(null,ge.kI.required)}),this.control=new ge.NI(""),this.isDisabled=!1,this.isLoading=!1,this.inputClasses={},this.onBlur=new r.vpe,this.subscriptions=new ei.xf,this.onChange=je=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("chng",this.control.valueChanges.subscribe(j=>{this.onChange(null!=j?j:""),this.onTouched()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.isDisabled=j}writeValue(j){!j||this.control.setValue(j)}getCalculation(){this.addressCounterLivesForm.invalid||(this.isLoading=!0,this.api.getCountingLivesCalculation(this.addressCounterLivesForm.value).subscribe({next:j=>{this.isLoading=!1,this.control.setValue(this.control.value+" "+j.result)},error:()=>{this.isLoading=!1}}))}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Xo.s))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-counting-lives-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[r._Bn([{provide:ge.JU,useExisting:(0,r.Gpc)(()=>Se),multi:!0}])],decls:7,vars:17,consts:[[1,"flex","flex-column","gap-1"],[1,"flex","gap-1",3,"formGroup"],["formControlName","address",3,"isHouseOnly"],["placeholder","\u0421 \u043a\u0432.","formControlName","startApart",3,"useGrouping","min","max","size","keyup.enter"],["placeholder","\u041f\u043e \u043a\u0432.","formControlName","endApart",3,"useGrouping","min","max","size","keyup.enter"],["icon","mdi-people","styleClass","p-button-icon",3,"disabled","loading","onClick"],["pInputTextarea","",3,"formControl","autoResize","disabled","ngClass","rows","blur","ngModelChange"]],template:function(j,je){1&j&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"app-address-input-alt",2),r.TgZ(3,"p-inputNumber",3),r.NdJ("keyup.enter",function(){return!je.isLoading&&je.getCalculation()}),r.qZA(),r.TgZ(4,"p-inputNumber",4),r.NdJ("keyup.enter",function(){return!je.isLoading&&je.getCalculation()}),r.qZA(),r.TgZ(5,"p-button",5),r.NdJ("onClick",function(){return je.getCalculation()}),r.qZA()(),r.TgZ(6,"textarea",6),r.NdJ("blur",function(){return je.onTouched(),je.onBlur.emit()})("ngModelChange",function(En){return je.onChange(En)}),r.qZA()()),2&j&&(r.xp6(1),r.Q6J("formGroup",je.addressCounterLivesForm),r.xp6(1),r.Q6J("isHouseOnly",!0),r.xp6(1),r.Q6J("useGrouping",!1)("min",0)("max",999)("size",4),r.xp6(1),r.Q6J("useGrouping",!1)("min",0)("max",999)("size",4),r.xp6(1),r.Q6J("disabled",je.isDisabled)("loading",je.isLoading),r.xp6(1),r.Q6J("formControl",je.control)("autoResize",!0)("disabled",je.isDisabled)("ngClass",je.inputClasses)("rows",5))}}),Se})();var Pa=b(2629),La=b(7658),Ra=b(7172);function ba(Se,Bt){1&Se&&r.GkF(0)}function al(Se,Bt){1&Se&&r.GkF(0)}function Ul(Se,Bt){if(1&Se&&r.YNc(0,al,1,0,"ng-container",0),2&Se){const j=r.oxw(),je=r.MAs(4),qt=r.MAs(6);r.Q6J("ngIf",j.phone)("ngIfThen",je)("ngIfElse",qt)}}function mc(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"span",5),r.NdJ("click",function(qt){r.CHM(j);const En=r.oxw();return qt.stopPropagation(),r.KtG(En.callToPhone())}),r._uU(1),r.qZA()}if(2&Se){const j=r.oxw();r.xp6(1),r.hij(" ",j.phone," ")}}function Fo(Se,Bt){1&Se&&(r.TgZ(0,"span",6),r._uU(1," \u041d\u0435\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 "),r.qZA())}function _c(Se,Bt){1&Se&&(r.TgZ(0,"span",7),r._UZ(1,"span",8),r.TgZ(2,"span"),r._uU(3,"\u041d\u0430\u0431\u043e\u0440"),r.qZA()())}let Yc=(()=>{class Se{constructor(j){this.api=j,this.isCalling=!1,this.dotAnimation=ei.xn}ngOnInit(){}callToPhone(){this.phone&&(this.isCalling=!0,this.api.callToPhone(this.phone).subscribe({next:()=>{setTimeout(()=>{this.isCalling=!1},2e3)},error:()=>{this.isCalling=!1}}))}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Xo.s))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-dial-button"]],inputs:{phone:"phone"},decls:9,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["phoneTemp",""],["fullNumber",""],["emptyNumber",""],["callingTemp",""],[1,"text-primary","font-semibold","cursor-pointer","hover:text-primary-700",3,"click"],[1,"text-bluegray-300","font-semibold"],[1,"text-green-500","font-semibold","flex","align-items-center","gap-1"],[1,"mdi-phone","phone"]],template:function(j,je){if(1&j&&(r.YNc(0,ba,1,0,"ng-container",0),r.YNc(1,Ul,1,3,"ng-template",null,1,r.W1O),r.YNc(3,mc,2,1,"ng-template",null,2,r.W1O),r.YNc(5,Fo,2,0,"ng-template",null,3,r.W1O),r.YNc(7,_c,4,0,"ng-template",null,4,r.W1O)),2&j){const qt=r.MAs(2),En=r.MAs(8);r.Q6J("ngIf",je.isCalling)("ngIfThen",En)("ngIfElse",qt)}},dependencies:[e.O5],styles:[".phone[_ngcontent-%COMP%]{animation:callAnimate 2s ease 0s infinite normal forwards}@keyframes callAnimate{0%,to{transform:rotate(0);transform-origin:50% 50%}10%{transform:rotate(8deg)}20%,40%,60%{transform:rotate(-10deg)}30%,50%,70%{transform:rotate(10deg)}80%{transform:rotate(-8deg)}90%{transform:rotate(8deg)}}"]}),Se})();function zu(Se,Bt){1&Se&&r._UZ(0,"app-dial-button",2),2&Se&&r.Q6J("phone",Bt.$implicit)}let Cc=(()=>{class Se{constructor(){}get phones(){return this.phoneData?Object.values(this.phoneData):[]}ngOnInit(){}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-dial-buttons-list"]],inputs:{phoneData:"phoneData"},decls:2,vars:1,consts:[[1,"flex","flex-column"],[3,"phone",4,"ngFor","ngForOf"],[3,"phone"]],template:function(j,je){1&j&&(r.TgZ(0,"div",0),r.YNc(1,zu,1,1,"app-dial-button",1),r.qZA()),2&j&&(r.xp6(1),r.Q6J("ngForOf",je.phones))},dependencies:[e.sg,Yc]}),Se})();var Tl=b(4707);const Ju=function(Se){return["/clients","billing","user",Se]};let Or=class{constructor(Bt){this.api=Bt,this.loginChange$=new Tl.t(1),this.loginColor$=this.loginChange$.pipe((0,cs.w)(j=>this.api.getActiveBindingByLogin(j)),(0,Yn.U)(j=>null===j?"text-gray-400":"ONLINE"===j.onlineStatus?"text-green-400":"text-red-400"))}ngOnInit(){}};Or.\u0275fac=function(Bt){return new(Bt||Or)(r.Y36(Xo.s))},Or.\u0275cmp=r.Xpm({type:Or,selectors:[["app-billing-login"]],inputs:{loginData:"loginData"},decls:3,vars:7,consts:[[1,"select-none","cursor-pointer","hover:text-primary-700","no-underline",3,"ngClass","routerLink","contextmenu","click"]],template:function(Bt,j){1&Bt&&(r.TgZ(0,"a",0),r.NdJ("contextmenu",function(qt){return qt.stopPropagation()})("click",function(qt){return qt.stopPropagation()}),r.ALo(1,"async"),r._uU(2),r.qZA()),2&Bt&&(r.Q6J("ngClass",r.lcZ(1,3,j.loginColor$))("routerLink",r.VKq(5,Ju,j.loginData)),r.xp6(2),r.Oqu(j.loginData))},dependencies:[e.mk,R.yS,e.Ov]}),(0,P.gn)([(0,x.bQ)("loginData")],Or.prototype,"loginChange$",void 0),Or=(0,P.gn)([(0,x.kG)()],Or);var ll=b(6759);let jc=(()=>{class Se{constructor(){this.inputClasses={},this.onBlur=new r.vpe,this.dataForm=new ge.cw({passportSeries:new ge.NI(""),passportNumber:new ge.NI(""),passportIssuedDate:new ge.NI(null),passportIssuedBy:new ge.NI(""),departmentCode:new ge.NI(""),registrationAddress:new ge.NI("")}),this.disabled=!1,this.onChange=j=>{},this.onTouched=()=>{}}ngOnInit(){this.changeSubscription=this.dataForm.valueChanges.subscribe(j=>this.onChange(j))}ngOnDestroy(){var j;null===(j=this.changeSubscription)||void 0===j||j.unsubscribe()}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.disabled=j}writeValue(j){var je,qt,En,$n,Ui;this.dataForm.patchValue(j?{passportSeries:null!==(je=j.passportSeries)&&void 0!==je?je:"",passportNumber:null!==(qt=j.passportNumber)&&void 0!==qt?qt:"",passportIssuedBy:null!==(En=j.passportIssuedBy)&&void 0!==En?En:"",passportIssuedDate:j.passportIssuedDate?new Date(j.passportIssuedDate):null,departmentCode:null!==($n=j.departmentCode)&&void 0!==$n?$n:"",registrationAddress:null!==(Ui=j.registrationAddress)&&void 0!==Ui?Ui:""}:{passportSeries:"",passportNumber:"",passportIssuedBy:"",passportIssuedDate:null,departmentCode:"",registrationAddress:""})}}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-passport-details-input"]],inputs:{inputClasses:"inputClasses"},outputs:{onBlur:"onBlur"},features:[r._Bn([{provide:ge.JU,useExisting:Se,multi:!0}])],decls:10,vars:14,consts:[[1,"flex","flex-column","gap-2",3,"formGroup","ngClass"],["pInputText","","formControlName","passportSeries","placeholder","0000","pKeyFilter","pint",3,"maxlength","disabled","size","blur"],["pInputText","","formControlName","passportNumber","placeholder","000000","pKeyFilter","pint",3,"maxlength","disabled","size","blur"],["pInputText","","formControlName","passportIssuedBy","placeholder","\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d",3,"disabled","blur"],[1,"flex","gap-2"],["formControlName","passportIssuedDate","placeholder","\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438",3,"disabled","firstDayOfWeek","blur"],["formControlName","departmentCode","placeholder","\u041a\u043e\u0434 \u043f\u043e\u0434\u0440.","mask","999-999",3,"disabled","size","blur"],["pInputText","","formControlName","registrationAddress","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",3,"disabled","blur"]],template:function(j,je){1&j&&(r.TgZ(0,"div",0)(1,"div")(2,"input",1),r.NdJ("blur",function(){return je.onTouched(),je.onBlur.emit()}),r.qZA(),r._uU(3," - "),r.TgZ(4,"input",2),r.NdJ("blur",function(){return je.onTouched(),je.onBlur.emit()}),r.qZA()(),r.TgZ(5,"input",3),r.NdJ("blur",function(){return je.onTouched(),je.onBlur.emit()}),r.qZA(),r.TgZ(6,"div",4)(7,"p-calendar",5),r.NdJ("blur",function(){return je.onTouched(),je.onBlur.emit()}),r.qZA(),r.TgZ(8,"p-inputMask",6),r.NdJ("blur",function(){return je.onTouched(),je.onBlur.emit()}),r.qZA()(),r.TgZ(9,"input",7),r.NdJ("blur",function(){return je.onTouched(),je.onBlur.emit()}),r.qZA()()),2&j&&(r.Q6J("formGroup",je.dataForm)("ngClass",je.inputClasses),r.xp6(2),r.Q6J("maxlength",4)("disabled",je.disabled)("size",4),r.xp6(2),r.Q6J("maxlength",6)("disabled",je.disabled)("size",6),r.xp6(1),r.Q6J("disabled",je.disabled),r.xp6(2),r.Q6J("disabled",je.disabled)("firstDayOfWeek",1),r.xp6(1),r.Q6J("disabled",je.disabled)("size",7),r.xp6(1),r.Q6J("disabled",je.disabled))},dependencies:[e.mk,ge.Fj,ge.JJ,ge.JL,ge.nD,lt.o,Ke.vy,ge.sg,ge.u,uo.f,rl.Fr]}),Se})();var Qu=b(1403),Os=b(6501),Al=b(5132),Va=b(1318),Kc=b(3435),Hl=b(1179),zr=b(242),mr=b(330);let Na=(()=>{class Se{constructor(j,je,qt,En){this.api=j,this.rt=je,this.router=qt,this.personality=En,this.afterWorks$=this.personality.userLogin$.pipe((0,cs.w)($n=>ei.aN.of(this.api.getAfterWorkList(),"workLogId",this.rt.afterWorksAppend($n),null,this.rt.afterWorksRemoved($n).pipe((0,Yn.U)(Ui=>({workLogId:Ui})))))),this._isEmpty=!0,this.afterWorks$.subscribe($n=>this._isEmpty=!$n.value||0===$n.value.length)}get isEmpty(){return this._isEmpty}markAsCompleted(j,je){return this.api.markWorkLogAsCompleted(j.workLogId,null!=je?je:void 0)}markAsUncompleted(j,je=!1){this.api.markWorkLogAsUncompleted(j.workLogId).subscribe(()=>{je&&this.openTask(j)})}closeAndMarkAsUncompleted(j){this.api.markWorkLogAsUncompletedAndClose(j.workLogId).subscribe()}openTask(j){this.router.navigate(["/task",j.task.taskId])}}return Se.\u0275fac=function(j){return new(j||Se)(r.LFG(Xo.s),r.LFG(rs.U),r.LFG(R.F0),r.LFG(cr.F))},Se.\u0275prov=r.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),za=(()=>{class Se{constructor(j,je){this.api=j,this.rt=je,this._isEmpty=!0,this.employeeWorkLogs$=ei.aN.ofAll(this.api.getEmployeeWorkLogs(),[this.rt.workLogCreated(),this.rt.workLogClosed(),this.rt.workLogUpdated()]).pipe((0,ss.b)({next:qt=>{this._isEmpty=!(qt.value.length>0)},error:()=>{this._isEmpty=!0}}),(0,er.d)(1))}get isEmpty(){return this._isEmpty}}return Se.\u0275fac=function(j){return new(j||Se)(r.LFG(Xo.s),r.LFG(rs.U))},Se.\u0275prov=r.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),Ps=(()=>{class Se{constructor(j,je){this.elementRef=j,this.document=je,this.subscriptions=[]}ngOnInit(){this.element=this.elementRef.nativeElement,this.initDrag()}initDrag(){const j=(0,go.R)(this.dragHandle?this.dragHandle:this.element,"mousedown"),je=(0,go.R)(this.document,"mouseup"),qt=(0,go.R)(this.document,"mousemove").pipe((0,wr.R)(je));let En,$n,ha,Ui=0,ar=0;const jl=j.subscribe($u=>{En=$u.clientX-Ui,$n=$u.clientY-ar,this.element.classList.add("free-dragging"),ha=qt.subscribe(Xu=>{Xu.preventDefault(),Ui=Xu.clientX-En,ar=Xu.clientY-$n,this.element.style.transform="translate3d("+Ui+"px, "+ar+"px, 0)"})}),Kl=je.subscribe(()=>{En=Ui,$n=ar,this.element.classList.remove("free-dragging"),ha&&ha.unsubscribe()});this.subscriptions.push.apply(this.subscriptions,[jl,ha,Kl])}ngOnDestroy(){this.subscriptions.forEach(j=>null==j?void 0:j.unsubscribe())}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(r.SBq),r.Y36(e.K0))},Se.\u0275dir=r.lG2({type:Se,selectors:[["","appFreeDrag",""]],inputs:{dragHandle:"dragHandle"}}),Se})();var me=b(7231),ve=b(1560),le=b(6083);function Me(Se,Bt){if(1&Se&&r._UZ(0,"p-badge",12),2&Se){const j=r.oxw().$implicit;r.Q6J("value",j.unactive.length+"")}}function tt(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",9)(1,"app-avatar",10),r.NdJ("click",function(qt){const $n=r.CHM(j).$implicit,Ui=r.oxw(),ar=r.MAs(3);return r.KtG(Ui.openPanel(qt,ar,$n))}),r.qZA(),r.YNc(2,Me,1,1,"p-badge",11),r.qZA()}if(2&Se){const j=Bt.$implicit;r.xp6(1),r.Q6J("name",j.employees[0].fullName)("size",3)("src",j.employees[0].avatar),r.xp6(1),r.Q6J("ngIf",!j.active)}}function St(Se,Bt){1&Se&&r.GkF(0)}const en=function(Se){return{activeWorkLog:Se}};function sn(Se,Bt){if(1&Se&&(r.TgZ(0,"div",14)(1,"span",15),r._uU(2,"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f "),r._UZ(3,"app-time-elapsed",16),r.qZA(),r.YNc(4,St,1,0,"ng-container",17),r.qZA()),2&Se){const j=r.oxw(2),je=r.MAs(6);r.xp6(3),r.Q6J("startTime",j.activeWorkLog.lastAcceptedTimestamp),r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(3,en,j.activeWorkLog))}}function wn(Se,Bt){1&Se&&r.GkF(0)}const oi=function(Se){return{workLog:Se}};function bi(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,wn,1,0,"ng-container",17),r.BQk()),2&Se){const j=Bt.$implicit;r.oxw(3);const je=r.MAs(8);r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(2,oi,j))}}function pi(Se,Bt){if(1&Se&&(r.TgZ(0,"div",14)(1,"span",18),r._uU(2,"\u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435"),r.qZA(),r.TgZ(3,"div",0),r.YNc(4,bi,2,4,"ng-container",19),r.qZA()()),2&Se){const j=r.oxw(2);r.xp6(4),r.Q6J("ngForOf",j.unactiveWorkLogs)("ngForTrackBy",j.trackByWorkLog)}}function Ki(Se,Bt){if(1&Se&&(r.YNc(0,sn,5,5,"div",13),r.YNc(1,pi,5,2,"div",13)),2&Se){const j=r.oxw();r.Q6J("ngIf",j.activeWorkLog),r.xp6(1),r.Q6J("ngIf",j.unactiveWorkLogs.length>0)}}function so(Se,Bt){1&Se&&r.GkF(0)}function Gs(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",20)(1,"div",21),r._UZ(2,"app-task-link",22),r.TgZ(3,"app-label",23),r._UZ(4,"app-avatar-list",24),r.qZA(),r.TgZ(5,"app-label",25)(6,"span"),r._uU(7),r.ALo(8,"date"),r.qZA()()(),r.YNc(9,so,1,0,"ng-container",17),r._UZ(10,"div",26),r.TgZ(11,"p-button",27),r.NdJ("onClick",function(){const En=r.CHM(j).activeWorkLog,$n=r.oxw();return r.KtG($n.forceCloseWorkLog(En.task.taskId))}),r.qZA()()}if(2&Se){const j=Bt.activeWorkLog;r.oxw();const je=r.MAs(10);r.xp6(2),r.Q6J("task",j.task),r.xp6(2),r.Q6J("employees",j.employees)("size",2),r.xp6(3),r.Oqu(r.xi3(8,6,j.created,"dd-MM-yyyy HH:mm")),r.xp6(2),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(9,oi,j))}}function Jr(Se,Bt){1&Se&&r.GkF(0)}function ta(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",20)(1,"div",21),r._UZ(2,"app-task-link",22),r.TgZ(3,"app-label",23),r._UZ(4,"app-avatar-list",24),r.qZA(),r.TgZ(5,"app-label",25)(6,"span"),r._uU(7),r.ALo(8,"date"),r.qZA()()(),r.YNc(9,Jr,1,0,"ng-container",17),r._UZ(10,"div",26),r.TgZ(11,"p-button",27),r.NdJ("onClick",function(){const En=r.CHM(j).workLog,$n=r.oxw();return r.KtG($n.forceCloseWorkLog(En.task.taskId))}),r.qZA()()}if(2&Se){const j=Bt.workLog;r.oxw();const je=r.MAs(10);r.xp6(2),r.Q6J("task",j.task),r.xp6(2),r.Q6J("employees",j.employees)("size",2),r.xp6(3),r.Oqu(r.xi3(8,6,j.created,"dd-MM-yyyy HH:mm")),r.xp6(2),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(9,oi,j))}}function na(Se,Bt){1&Se&&r._UZ(0,"app-attachment-link",32),2&Se&&r.Q6J("attachment",Bt.$implicit)}function pa(Se,Bt){if(1&Se&&(r.TgZ(0,"app-label",29)(1,"div",30)(2,"span"),r._uU(3),r.qZA(),r.TgZ(4,"div",14),r.YNc(5,na,1,1,"app-attachment-link",31),r.qZA()()()),2&Se){const j=r.oxw().workLog;r.xp6(3),r.Oqu(j.targetDescription),r.xp6(2),r.Q6J("ngForOf",j.targetImages)}}function Vl(Se,Bt){if(1&Se&&r.YNc(0,pa,6,2,"app-label",28),2&Se){const j=Bt.workLog;r.Q6J("ngIf",j.targetDescription||j.targetImages.length>0)}}let _r=(()=>{class Se{constructor(j){this.service=j,this.workLogs=[],this.unactiveWorkLogs=[],this.forceCloseDialogVisible=!1}ngOnInit(){}ngOnDestroy(){}trackByWorkLog(j,je){return je.workLogId+JSON.stringify(je.whoAccepted)+JSON.stringify(je.workReports)}openPanel(j,je,qt){je.toggle(j),this.activeWorkLog=qt.active,this.unactiveWorkLogs=qt.unactive}forceCloseWorkLog(j){this.targetTaskId=j,this.forceCloseDialogVisible=!0}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(za))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-active-work-logs-panel"]],inputs:{workLogs:"workLogs"},decls:12,vars:4,consts:[[1,"flex","flex-column","gap-3"],["class","relative w-fit p-overlay-badge",4,"ngFor","ngForOf"],["appendTo","body","styleClass","flex flex-column gap-2",3,"baseZIndex"],["overlayPanelEl",""],["pTemplate","content"],["activeWorkLogTemplate",""],["unactiveWorkLogTemplate",""],["targetDescriptionTemplate",""],[3,"taskId","visible","visibleChange"],[1,"relative","w-fit","p-overlay-badge"],[1,"cursor-pointer",3,"name","size","src","click"],["severity","danger",3,"value",4,"ngIf"],["severity","danger",3,"value"],["class","flex flex-column",4,"ngIf"],[1,"flex","flex-column"],[1,"font-bold","text-orange-400","text-lg"],[3,"startTime"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"font-bold","text-bluegray-400","text-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","terminated","p-3"],[1,"flex","flex-column","gap-2"],[3,"task"],["label","\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438","styleClass","translate-x-0"],[3,"employees","size"],["label","\u041e\u0442\u0434\u0430\u043d\u0430","styleClass","translate-x-0"],[1,"flex-grow-1"],["label","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c","styleClass","p-button-danger p-button-outlined",1,"ml-3",3,"onClick"],["label","\u0426\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438","class","ml-3","styleClass","translate-x-0",4,"ngIf"],["label","\u0426\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438","styleClass","translate-x-0",1,"ml-3"],[1,"max-w-30rem","flex","flex-column","gap-2"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"]],template:function(j,je){1&j&&(r.TgZ(0,"div",0),r.YNc(1,tt,3,4,"div",1),r.qZA(),r.TgZ(2,"p-overlayPanel",2,3),r.YNc(4,Ki,2,2,"ng-template",4),r.qZA(),r.YNc(5,Gs,12,11,"ng-template",null,5,r.W1O),r.YNc(7,ta,12,11,"ng-template",null,6,r.W1O),r.YNc(9,Vl,1,1,"ng-template",null,7,r.W1O),r.TgZ(11,"app-force-close-dialog",8),r.NdJ("visibleChange",function(En){return je.forceCloseDialogVisible=En}),r.qZA()),2&j&&(r.xp6(1),r.Q6J("ngForOf",je.workLogs),r.xp6(1),r.Q6J("baseZIndex",2e3),r.xp6(9),r.Q6J("taskId",je.targetTaskId)("visible",je.forceCloseDialogVisible))},dependencies:[e.sg,e.O5,e.tP,ot.zx,po.jx,Ot.Ct,bt.T,me.D,u.A,Ze.U,Po.k,un.j,ve._,le.j,e.uU],styles:[".title[_ngcontent-%COMP%]{padding-bottom:.3rem;border-bottom:1px solid var(--bgc-200)}.work-log-item[_ngcontent-%COMP%]{display:grid;grid:min-content/max-content max-content 1fr;gap:.5rem;padding:.5rem;align-items:center}.work-log-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}"]}),Se})();var zl=b(4326);const vc=function(){return[]};let ya=(()=>{class Se{constructor(j){this.api=j,this.querySubject=new On.x,this.typesOfContracts$=this.querySubject.pipe((0,cs.w)(je=>this.api.getContractTypesSuggestionList(je))),this.control=new ge.NI([]),this.isDisabled=!1,this.subscriptions=new ei.xf,this.onAfterChange=new r.vpe,this.onChange=je=>{},this.onTouched=()=>{}}ngOnInit(){this.subscriptions.addSubscription("ch",this.control.valueChanges.subscribe(j=>this.onChange(null!=j?j:[]))),this.subscriptions.addSubscription("ach",this.control.valueChanges.pipe((0,zl.g)(100)).subscribe(j=>this.onAfterChange.emit(null!=j?j:[])))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(j){this.onChange=j}registerOnTouched(j){this.onTouched=j}setDisabledState(j){this.isDisabled=j}writeValue(j){Array.isArray(j)?this.control.setValue(j||[]):this.control.setValue([])}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Xo.s))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-types-contracts-multi-selector"]],outputs:{onAfterChange:"onAfterChange"},features:[r._Bn([{provide:ge.JU,useExisting:Se,multi:!0}])],decls:2,vars:12,consts:[["appendTo","body","dataKey","value","field","label","emptyMessage","\u0422\u0438\u043f\u043e\u0432 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430...",3,"autoHighlight","forceSelection","formControl","unique","dropdown","multiple","showEmptyMessage","suggestions","delay","completeMethod"]],template:function(j,je){if(1&j&&(r.TgZ(0,"p-autoComplete",0),r.NdJ("completeMethod",function(En){return je.querySubject.next(En.query)}),r.ALo(1,"async"),r.qZA()),2&j){let qt;r.Q6J("autoHighlight",!0)("forceSelection",!1)("formControl",je.control)("unique",!1)("dropdown",!0)("multiple",!0)("showEmptyMessage",!0)("suggestions",null!==(qt=r.lcZ(1,9,je.typesOfContracts$))&&void 0!==qt?qt:r.DdM(11,vc))("delay",500)}},dependencies:[ge.JJ,ge.oH,Be.Qc,e.Ov]}),Se})();function qd(Se,Bt){1&Se&&r.GkF(0)}const qc=function(Se){return{workLog:Se}};function Gu(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,qd,1,0,"ng-container",21),r.BQk()),2&Se){const j=Bt.$implicit;r.oxw();const je=r.MAs(12);r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(2,qc,j))}}function Ls(Se,Bt){if(1&Se&&(r.TgZ(0,"div",22),r._uU(1),r.qZA()),2&Se){const j=r.oxw();r.Udp("translate","-100% -25%")("min-width","1.8rem"),r.xp6(1),r.hij(" ",j.afterWorks.length," ")}}function Qr(Se,Bt){1&Se&&(r.TgZ(0,"div",36),r._UZ(1,"span",37),r.TgZ(2,"span"),r._uU(3,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),r.qZA()())}function bc(Se,Bt){1&Se&&r.GkF(0)}function Ws(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,bc,1,0,"ng-container",21),r.BQk()),2&Se){const j=r.oxw().workLog;r.oxw();const je=r.MAs(16);r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(2,qc,j))}}function $c(Se,Bt){1&Se&&r.GkF(0)}function Xc(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,$c,1,0,"ng-container",21),r.BQk()),2&Se){const j=r.oxw().workLog;r.oxw();const je=r.MAs(14);r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(2,qc,j))}}function yc(Se,Bt){if(1&Se&&(r.TgZ(0,"div",23)(1,"div",24)(2,"div",25),r._UZ(3,"app-task-link",26)(4,"app-avatar-list",27),r.TgZ(5,"app-label",28)(6,"div",29)(7,"span",30),r._uU(8),r.ALo(9,"date"),r.qZA(),r.TgZ(10,"span"),r._uU(11,"-"),r.qZA(),r.TgZ(12,"span",30),r._uU(13),r.ALo(14,"date"),r.qZA()()()(),r.YNc(15,Qr,4,0,"div",31),r.TgZ(16,"app-label",32)(17,"span"),r._uU(18),r.qZA()()(),r._UZ(19,"div",33),r.TgZ(20,"div",34),r.YNc(21,Ws,2,4,"ng-container",35),r.YNc(22,Xc,2,4,"ng-container",35),r.qZA()()),2&Se){const j=Bt.workLog;r.xp6(3),r.Q6J("task",j.task),r.xp6(1),r.Q6J("employees",j.employees),r.xp6(4),r.Oqu(r.xi3(9,8,j.created,"dd-MM-yyyy HH:mm")),r.xp6(5),r.Oqu(r.xi3(14,11,j.closed,"dd-MM-yyyy HH:mm")),r.xp6(2),r.Q6J("ngIf",j.isForceClosed),r.xp6(3),r.Oqu(j.report),r.xp6(3),r.Q6J("ngIf",j.isForceClosed),r.xp6(1),r.Q6J("ngIf",!j.isForceClosed)}}function cl(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"p-button",38),r.NdJ("onClick",function(qt){const $n=r.CHM(j).workLog,Ui=r.oxw();return r.MAs(18).toggle(qt),r.KtG(Ui.targetWorkLog=$n)}),r.qZA(),r.TgZ(1,"p-button",39),r.NdJ("onClick",function(){const En=r.CHM(j).workLog,$n=r.oxw();return r.KtG($n.afterWorkService.markAsUncompleted(En,!0))}),r.qZA()}}function $d(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"p-button",40),r.NdJ("onClick",function(){const En=r.CHM(j).workLog,$n=r.oxw();return r.KtG($n.afterWorkService.markAsUncompleted(En))}),r.qZA(),r.TgZ(1,"p-button",41),r.NdJ("onClick",function(qt){const $n=r.CHM(j).workLog,Ui=r.oxw();return r.MAs(18).toggle(qt),r.KtG(Ui.targetWorkLog=$n)}),r.qZA(),r.TgZ(2,"p-button",42),r.NdJ("onClick",function(){const En=r.CHM(j).workLog,$n=r.oxw();return r.KtG($n.afterWorkService.closeAndMarkAsUncompleted(En))}),r.qZA()}}let Xd=(()=>{class Se{constructor(j){this.afterWorkService=j,this.afterWorks=[],this.panelVisible=!1,this.concludedContractsControl=new ge.NI([],[ge.kI.required]),this.isRequestInProcess=!1}ngOnInit(){}toggle(){this.panelVisible=!this.panelVisible}markAsCompleted(j){!this.targetWorkLog||(this.isRequestInProcess=!0,this.afterWorkService.markAsCompleted(this.targetWorkLog,this.concludedContractsControl.value).subscribe(()=>j.hide()))}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Na))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-after-work-panel"]],inputs:{afterWorks:"afterWorks"},decls:27,vars:10,consts:[["pRipple","",1,"bg-white","text-primary","border-circle","shadow-3","p-3","flex","relative","cursor-pointer","transition-colors","transition-duration-150","hover:bg-primary","hover:text-white",3,"click"],[1,"mds-work","text-4xl"],["appendTo","body","styleClass","overlay-panel-unpadding",3,"dismissable","showCloseIcon"],["workPanel",""],[1,"p-4","surface-overlay","shadow-2","border-round","flex","flex-column","gap-3"],[1,"text-bluegray-500","font-bold"],[1,"flex","flex-column","overflow-y-auto","overflow-x-hidden","max-h-30rem","w-fit","overscroll-none"],[4,"ngFor","ngForOf"],["class","absolute flex justify-content-center bg-primary border-round-3xl p-2 line-height-1 text-xs font-semibold top-0 left-100 pointer-events-none",3,"translate","min-width",4,"ngIf"],["workLogItemTemplate",""],["normalButtonsTemplate",""],["forceClosedButtonsTemplate",""],["styleClass","flex flex-column gap-3",3,"dismissable","onShow"],["contractsOverlay",""],[1,"flex","flex-column","gap-4","max-w-30rem",3,"click"],[1,"text-bluegray-500","text-lg","font-semibold"],[1,"flex","flex-column","gap-2"],[3,"formControl","onAfterChange"],[1,"flex","gap-3"],["label","\u041f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435","styleClass","p-button-success w-full",1,"flex-grow-1",3,"disabled","onClick"],["label","\u0411\u0435\u0437 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432","styleClass","p-button-info w-full",1,"flex-grow-1",3,"disabled","onClick"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","flex","justify-content-center","bg-primary","border-round-3xl","p-2","line-height-1","text-xs","font-semibold","top-0","left-100","pointer-events-none"],[1,"flex","align-items-center","gap-1","terminated","p-3"],[1,"flex","flex-column","gap-2","w-min"],[1,"flex","justify-content-between","align-items-center","gap-3"],[3,"task"],[3,"employees"],["label","\u041e\u0442\u0434\u0430\u043d\u0430/\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430","styleClass","font-bold translate-x-0"],[1,"flex","align-items-center","gap-1","white-space-nowrap"],[1,"white-space-nowrap"],["class","flex align-items-center gap-1 text-orange-400 font-bold",4,"ngIf"],["label","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u0441 \u043e\u0442\u0447\u0435\u0442\u043e\u043c","styleClass","font-bold translate-x-0"],[1,"flex-grow-1"],[1,"flex","flex-column","gap-3"],[4,"ngIf"],[1,"flex","align-items-center","gap-1","text-orange-400","font-bold"],[1,"mdi-warning"],["label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438","styleClass","p-button-sm p-button-secondary p-button-outlined",3,"onClick"],["label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm p-button-warning p-button-outlined",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0443\u044e","styleClass","p-button-sm p-button-secondary p-button-outlined",3,"onClick"]],template:function(j,je){if(1&j){const qt=r.EpF();r.TgZ(0,"div",0),r.NdJ("click",function($n){r.CHM(qt);const Ui=r.MAs(3);return r.KtG(Ui.toggle($n))}),r._UZ(1,"span",1),r.qZA(),r.TgZ(2,"p-overlayPanel",2,3)(4,"div",4)(5,"span",5),r._uU(6,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),r.qZA(),r.TgZ(7,"div",6),r.YNc(8,Gu,2,4,"ng-container",7),r.qZA()()(),r.ynx(9),r.YNc(10,Ls,2,5,"div",8),r.BQk(),r.YNc(11,yc,23,14,"ng-template",null,9,r.W1O),r.YNc(13,cl,2,0,"ng-template",null,10,r.W1O),r.YNc(15,$d,3,0,"ng-template",null,11,r.W1O),r.TgZ(17,"p-overlayPanel",12,13),r.NdJ("onShow",function(){return je.concludedContractsControl.reset([])}),r.TgZ(19,"div",14),r.NdJ("click",function($n){return $n.stopPropagation()}),r.TgZ(20,"span",15),r._uU(21,"\u041a\u0430\u043a\u0438\u0435 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u044b \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u0434\u0430\u0442\u044c \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),r.qZA(),r.TgZ(22,"div",16)(23,"app-types-contracts-multi-selector",17),r.NdJ("onAfterChange",function(){r.CHM(qt);const $n=r.MAs(18);return r.KtG($n.overlayVisible&&$n.align())}),r.qZA(),r.TgZ(24,"div",18)(25,"p-button",19),r.NdJ("onClick",function(){r.CHM(qt);const $n=r.MAs(18);return r.KtG(je.markAsCompleted($n))}),r.qZA(),r.TgZ(26,"p-button",20),r.NdJ("onClick",function(){r.CHM(qt);const $n=r.MAs(18);return r.KtG(je.markAsCompleted($n))}),r.qZA()()()()()}2&j&&(r.xp6(2),r.Q6J("dismissable",!1)("showCloseIcon",!0),r.xp6(5),r.Udp("max-width","60vw"),r.xp6(1),r.Q6J("ngForOf",je.afterWorks),r.xp6(2),r.Q6J("ngIf",je.afterWorks.length>0),r.xp6(7),r.Q6J("dismissable",!0),r.xp6(6),r.Q6J("formControl",je.concludedContractsControl),r.xp6(2),r.Q6J("disabled",je.concludedContractsControl.invalid),r.xp6(1),r.Q6J("disabled",!je.concludedContractsControl.invalid))},dependencies:[e.sg,e.O5,e.tP,ot.zx,ge.JJ,bt.T,ge.oH,Qi.H,Ze.U,Po.k,ve._,ya,e.uU],styles:["[_nghost-%COMP%]{display:flex;position:relative}"]}),Se})();function Jl(Se,Bt){if(1&Se&&r._UZ(0,"app-active-work-logs-panel",8),2&Se){const j=r.oxw().ngIf;r.Q6J("workLogs",j.value)}}function xc(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,Jl,1,1,"app-active-work-logs-panel",7),r.BQk()),2&Se){const j=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!j.isActiveWorkEmpty)}}function Ql(Se,Bt){if(1&Se&&r._UZ(0,"app-after-work-panel",10),2&Se){const j=r.oxw().ngIf;r.Q6J("afterWorks",j.value)}}function Wu(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,Ql,1,1,"app-after-work-panel",9),r.BQk()),2&Se){const j=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!j.isAfterWorkEmpty)}}function Gl(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",1),r.NdJ("mouseenter",function(){r.CHM(j);const qt=r.oxw();return r.KtG(qt.dockPanelHover())})("mouseleave",function(){r.CHM(j);const qt=r.oxw();return r.KtG(qt.dockPanelUnhover())}),r._UZ(1,"div",2)(2,"span",3,4),r.TgZ(4,"div",5),r.YNc(5,xc,2,1,"ng-container",6),r.ALo(6,"async"),r.YNc(7,Wu,2,1,"ng-container",6),r.ALo(8,"async"),r.qZA()()}if(2&Se){const j=r.MAs(3),je=r.oxw();r.Q6J("dragHandle",j),r.xp6(1),r.Udp("opacity",je.dockPanelHovered?"1":"0"),r.xp6(1),r.Udp("opacity",je.dockPanelHovered?"1":".1"),r.xp6(2),r.Udp("opacity",je.dockPanelHovered?"1":".5"),r.xp6(1),r.Q6J("ngIf",r.lcZ(6,9,je.activeWorkLogService.employeeWorkLogs$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(8,11,je.afterWorkService.afterWorks$))}}let ep=(()=>{class Se{constructor(j,je){this.afterWorkService=j,this.activeWorkLogService=je,this.dockPanelHovered=!1}get isActiveWorkEmpty(){return this.activeWorkLogService.isEmpty}get isAfterWorkEmpty(){return this.afterWorkService.isEmpty}get isAllEmpty(){return this.isAfterWorkEmpty&&this.isActiveWorkEmpty}ngOnInit(){}dockPanelHover(){this.dockPanelHovered=!0}dockPanelUnhover(){this.dockPanelHovered=!1}}return Se.\u0275fac=function(j){return new(j||Se)(r.Y36(Na),r.Y36(za))},Se.\u0275cmp=r.Xpm({type:Se,selectors:[["app-float-dock-panel"]],decls:1,vars:1,consts:[["class","fixed bottom-0 right-0 mb-8 mr-5 p-3 flex flex-column gap-3 border-round-xl","appFreeDrag","",3,"dragHandle","mouseenter","mouseleave",4,"ngIf"],["appFreeDrag","",1,"fixed","bottom-0","right-0","mb-8","mr-5","p-3","flex","flex-column","gap-3","border-round-xl",3,"dragHandle","mouseenter","mouseleave"],[1,"absolute","top-0","left-0","w-full","h-full","border-round-xl","border-1","border-bluegray-300","transition-all","transition-duration-150"],[1,"mdi-drag_indicator","align-self-end","cursor-move","border-bluegray-300","transition-all","transition-duration-150","z-1"],["draghandle",""],[1,"flex","flex-column","gap-3","transition-all","transition-duration-150","align-items-center"],[4,"ngIf"],[3,"workLogs",4,"ngIf"],[3,"workLogs"],[3,"afterWorks",4,"ngIf"],[3,"afterWorks"]],template:function(j,je){1&j&&r.YNc(0,Gl,9,13,"div",0),2&j&&r.Q6J("ngIf",!je.isAllEmpty)},dependencies:[e.O5,Ps,_r,Xd,e.Ov]}),Se})();class qr{constructor(){this.initialDate=new Date,this.timeOffset=0,this.value=0,this.thumbStyle={},this.isDisabled=!1,this.onChange=Bt=>{},this.onTouched=()=>{}}get time(){const Bt=Math.floor(this.value/36e5),j=Math.floor((this.value-36e5*Bt)/6e4);return`${Bt<10?"0"+Bt:Bt}:${j<10?"0"+j:j}`}writeValue(Bt){this.initialDate=Bt||new Date,this.updateDate()}registerOnChange(Bt){this.onChange=Bt}registerOnTouched(Bt){this.onTouched=Bt}setDisabledState(Bt){this.isDisabled=Bt}ngOnInit(){}wrapperInit(Bt){this.wrapper=Bt,this.updateThumbStyle(this.value)}changeValue(Bt){const j=this.value%6e5;j>0&&(this.value+=6e5-j),this.changeTime()}updateDate(){this.timeOffset=this.initialDate.getTime()%864e5,this.value=this.timeOffset+108e5,this.changeTime()}changeTime(){this.onChange(new Date(this.initialDate.getTime()-(this.timeOffset+108e5)+this.value)),this.updateThumbStyle(this.value)}updateThumbStyle(Bt){if(!this.wrapper)return;const{width:j}=this.wrapper.getBoundingClientRect();this.thumbStyle={bottom:"1rem",left:Bt/8634e4*j+"px",transform:"translateX(-50%)"}}}qr.\u0275fac=function(Bt){return new(Bt||qr)},qr.\u0275cmp=r.Xpm({type:qr,selectors:[["app-time-picker"]],features:[r._Bn([{provide:ge.JU,useExisting:qr,multi:!0}])],decls:5,vars:7,consts:[["id","wrapper",1,"flex","flex-column","gap-2","w-25rem","pt-6","relative"],["wrapper",""],[1,"font-semibold","absolute","bg-primary","text-white","border-round-2xl","shadow-1","p-2"],["styleClass","h-1rme",3,"ngModel","disabled","max","step","ngModelChange","onChange"]],template:function(Bt,j){1&Bt&&(r.TgZ(0,"div",0,1)(2,"span",2),r._uU(3),r.qZA(),r.TgZ(4,"p-slider",3),r.NdJ("ngModelChange",function(qt){return j.value=qt})("onChange",function(qt){return j.changeValue(qt.value)}),r.qZA()()),2&Bt&&(r.xp6(2),r.Akn(j.thumbStyle),r.xp6(1),r.Oqu(j.time),r.xp6(1),r.Q6J("ngModel",j.value)("disabled",j.isDisabled)("max",8634e4)("step",6e5))},dependencies:[ge.JJ,ge.On,ps.iR]}),(0,P.gn)([(0,x._P)("wrapper")],qr.prototype,"wrapperInit",null);var Wl=b(6451),Yu=b(9664);function tp(Se,Bt){1&Se&&r.GkF(0)}const np=function(Se){return{session:Se}};function Gr(Se,Bt){if(1&Se&&(r.ynx(0),r.YNc(1,tp,1,0,"ng-container",4),r.BQk()),2&Se){const j=Bt.$implicit;r.oxw();const je=r.MAs(4);r.xp6(1),r.Q6J("ngTemplateOutlet",je)("ngTemplateOutletContext",r.VKq(2,np,j))}}function Yl(Se,Bt){if(1&Se){const j=r.EpF();r.TgZ(0,"div",5),r.NdJ("click",function(){const En=r.CHM(j).session,$n=r.oxw();return r.KtG($n.service.openTerminalDialog(En))}),r.TgZ(1,"span",6),r._uU(2),r.qZA(),r.TgZ(3,"span",7),r.NdJ("click",function(qt){const $n=r.CHM(j).session,Ui=r.oxw();return qt.stopPropagation(),r.KtG(Ui.service.removeSession($n.sessionId))}),r.qZA()()}if(2&Se){const j=Bt.session,je=r.oxw();r.Q6J("ngClass",je.service.isDialogOpen(j.sessionId)?"border-primary text-white bg-primary cursor-default":"border-bluegray-500 cursor-pointer hover:bg-bluegray-50"),r.xp6(2),r.hij(" ",j.name," ")}}const ip=function(Se,Bt){return{flex:Se,hidden:Bt}};let Ja=class{constructor(Bt){this.service=Bt,this.panelPosition={transform:"translate(-50%, 75%)",opacity:"0.5"},this.panelSub=(0,Wl.T)(this.panelMouseEnter$.pipe((0,Yn.U)(()=>!0)),(0,Wl.T)(this.panelMouseEnter$.pipe((0,Yn.U)(()=>!0)),this.panelMouseLeave$.pipe((0,Yn.U)(()=>!1))).pipe((0,bs.b)(1e3),(0,Mr.h)(j=>!j))).pipe().subscribe(j=>{j?(this.panelPosition.transform="translate(-50%, 0%)",this.panelPosition.opacity="1"):(this.panelPosition.transform="translate(-50%, 75%)",this.panelPosition.opacity="0.5")})}ngOnInit(){}};Ja.\u0275fac=function(Bt){return new(Bt||Ja)(r.Y36(Yu.M))},Ja.\u0275cmp=r.Xpm({type:Ja,selectors:[["app-terminal-float-panel"]],decls:5,vars:6,consts:[["id","wrapper-panel",1,"flex","p-2","gap-2","bg-white","border-1","border-primary-300","border-round-top-lg","shadow-2","w-fit","align-items-center","fixed","bottom-0","left-50","text-bluegray-500","transition-all","transition-duration-300",3,"ngClass","ngStyle"],[1,"mds-terminal","text-5xl"],[4,"ngFor","ngForOf"],["panelItemTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2","px-2","py-1","border-round-lg","border-1","align-items-center","select-none",3,"ngClass","click"],[1,"font-bold"],[1,"mdi-close","text-lg","hover:text-primary-700","cursor-pointer",3,"click"]],template:function(Bt,j){1&Bt&&(r.TgZ(0,"div",0),r._UZ(1,"span",1),r.YNc(2,Gr,2,4,"ng-container",2),r.qZA(),r.YNc(3,Yl,4,2,"ng-template",null,3,r.W1O)),2&Bt&&(r.Q6J("ngClass",r.WLB(3,ip,j.service.sessions.length>0,0===j.service.sessions.length))("ngStyle",j.panelPosition),r.xp6(2),r.Q6J("ngForOf",j.service.sessions))},dependencies:[e.mk,e.sg,e.tP,e.PC]}),(0,P.gn)([(0,x.v4)("wrapper-panel","mouseenter")],Ja.prototype,"panelMouseEnter$",void 0),(0,P.gn)([(0,x.v4)("wrapper-panel","mouseleave")],Ja.prototype,"panelMouseLeave$",void 0),Ja=(0,P.gn)([(0,x.kG)()],Ja);var eu=b(5330),op=b(430),ju=b(6081),sp=b(7728),Ku=b(4119),qu=b(417);let Ic=(()=>{class Se{}return Se.\u0275fac=function(j){return new(j||Se)},Se.\u0275mod=r.oAB({type:Se}),Se.\u0275inj=r.cJS({providers:[{provide:nt.f,useFactory:ze},eu.xA],imports:[Tt.z,e.ez,st.$9,ot.hJ,ge.u5,ke.kW,rt.L$,yt.A,Pt.S,Ht.LU,Ot.TX,te.L,Ye.EV,lt.j,Ke.zz,se.QG,Fe.m,Tn.nD,tn.JP,bt.y,$t.q4,gn.n,Gt.e4,Mn.E,ge.UX,ki,Go.qH,vo.l,us.U,_s.ON,uo._8,Io.u,Ks,as.D,Er.q,ps.JH,xt,Qi.T,Qt.x,Ne.Qy,Be.WN,_t.U$,Ft.ce,an._t,An.S,rl.kK,Pa.xc,La.w,Ra.W6,Al.f,zr.Iu,mr.vI,eu.DL,op.qZ]}),Se})();r.B6R(B,[e.mk,e.sg,e.O5,R.rH,R.Od,mr.xV,G,cn.C],[]),r.B6R(ne.o,[e.mk,e.O5,e.tP,e.RF,e.n9,e.ED,ge.Fj,ge.JJ,ge.On,ke.Lt,rt.Rn,yt.g,lt.o,mr.xV,_.h,he.k,mt.Z,vi,Yt,qo,No,rr,jc,Hl.r],[e.Ov]),r.B6R(Ce.h,[e.O5,e.tP,e.RF,e.n9,e.ED,R.rH,B],[e.Ov]),r.B6R(Nt.E,[e.mk,e.sg,e.O5,e.tP,st.v2,R.rH,ot.zx,ge.Fj,ge.JJ,ge.On,po.jx,yt.g,te.G,Tn.XZ,bt.T,ge.oH,Io.b,At.g,ll.C,Qu.a,Os.g,Va.s,Kc.M],[sp.A,e.Ov,e.OU,e.uU]),r.B6R(W.h,[e.mk,e.sg,e.O5,e.tP,R.lC,R.rH,ot.zx,Ii.aV,po.jx,Ot.Ct,te.G,Ye.FN,Io.b,ua,as.Q,d.J,f.r,Rt,ho,Wo.j,Nr,Eo,Xs,ep,Ja],[e.Ov]),r.B6R(Ze.U,[e.O5,R.rH,po.jx,Fe.O,bt.T,Nt.E],[]),r.B6R(Ut.E,[e.O5,e.tP,e.RF,e.n9,e.ED,ge.Fj,ge.JJ,ge.JL,ke.Lt,rt.Rn,lt.o,ge.sg,ge.u,he.k,qo,Oa,Hl.r],[e.Ov]),r.B6R(Ji.x,[e.O5,e.RF,e.n9,po.jx,Fe.O,bt.T,u.A],[]),r.B6R(Xi.y,[e.O5,po.jx,Fe.O,bt.T,u.A],[]),r.B6R(os._,[e.sg,Ji.x],[]),r.B6R(Vr.S,[e.mk,e.sg,e.O5,e.RF,e.n9,Ku.u,ot.zx,po.jx,Ht.xf,Ht.x4,bt.T,_t.iA,kt.g,un.j,ju.G],[qu.t,e.Ov,e.rS,e.uU]),r.B6R(rr,[e.mk,ot.zx,ge.Fj,ge.JJ,ge.JL,rt.Rn,yt.g,ge.oH,ge.sg,ge.u,Hl.r],[]),r.B6R(ll.C,[e.sg,e.O5,e.RF,e.n9,e.ED,Ku.u,Cc,Or],[]),r.B6R(Kc.M,[ge.JJ,po.jx,Pt.V,ge.oH,uo.f,f.r,qr],[e.uU])},9925:(hn,ft,b)=>{"use strict";b.d(ft,{z:()=>u});var e=b(9808),d=b(5e3);let u=(()=>{class f{}return f.\u0275fac=function(P){return new(P||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[e.ez]}),f})()},975:(hn,ft,b)=>{"use strict";b.r(ft),b.d(ft,{LoginModule:()=>qe});var e=b(3470),d=b(2382),u=b(4e3),f=b(158),_=b(5e3),P=b(8738),x=b(8028),r=b(1424),R=b(9808),L=b(845);function Q(ye,Ge){1&ye&&(_.TgZ(0,"span",9),_._uU(1,"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0435\u0440\u043d\u044b"),_.qZA()),2&ye&&_.Q6J("@fade",void 0)}const T=[{path:"",component:(()=>{class ye{constructor(X,be,we){this.api=X,this.personalityService=be,this.router=we,this.loginForm=new d.cw({login:new d.NI("",d.kI.required),password:new d.NI("",d.kI.required)}),this.isWrongCredentials=!1,this.isLogining=!1}ngOnInit(){}setWrongCredentials(){this.wrongCredentialsTimer&&clearTimeout(this.wrongCredentialsTimer),this.isWrongCredentials=!0,this.wrongCredentialsTimer=setTimeout(()=>this.isWrongCredentials=!1,3e3)}signIn(){!this.loginForm.valid||(this.isLogining=!0,this.api.signIn(this.loginForm.getRawValue()).subscribe({next:X=>{this.personalityService.updateMe().subscribe(),this.router.resetConfig(f._),setTimeout(()=>this.router.navigate(["/"]).then(()=>this.isLogining=!1),100)},error:X=>{this.setWrongCredentials(),this.isLogining=!1}}))}}return ye.\u0275fac=function(X){return new(X||ye)(_.Y36(P.s),_.Y36(x.F),_.Y36(e.F0))},ye.\u0275cmp=_.Xpm({type:ye,selectors:[["ng-component"]],decls:15,vars:5,consts:[[1,"page-wrapper"],[1,"login-panel",3,"formGroup","keyup.enter"],[1,"caption"],["src","assets/logo-dark.svg"],[1,"input-label-wrapper","full-width"],["formControlName","login","pInputText","",3,"autocomplete"],["formControlName","password","pInputText","","type","password",3,"autocomplete"],["styleClass","b-stretched p-button-outlined","icon","mdi-login","label","\u0412\u043e\u0439\u0442\u0438",3,"loading","onClick"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(X,be){1&X&&(_.TgZ(0,"div",0)(1,"form",1),_.NdJ("keyup.enter",function(){return be.signIn()}),_.TgZ(2,"span",2),_._UZ(3,"img",3),_.qZA(),_.TgZ(4,"span",4)(5,"label"),_._uU(6,"\u041b\u043e\u0433\u0438\u043d"),_.qZA(),_._UZ(7,"input",5),_.qZA(),_.TgZ(8,"span",4)(9,"label"),_._uU(10,"\u041f\u0430\u0440\u043e\u043b\u044c"),_.qZA(),_._UZ(11,"input",6),_.qZA(),_._UZ(12,"span"),_.TgZ(13,"p-button",7),_.NdJ("onClick",function(){return be.signIn()}),_.qZA()(),_.YNc(14,Q,2,1,"span",8),_.qZA()),2&X&&(_.xp6(1),_.Q6J("formGroup",be.loginForm),_.xp6(6),_.Q6J("autocomplete","off"),_.xp6(4),_.Q6J("autocomplete","off"),_.xp6(2),_.Q6J("loading",be.isLogining),_.xp6(1),_.Q6J("ngIf",be.isWrongCredentials))},dependencies:[r.o,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,R.O5,L.zx],styles:[".page-wrapper[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.page-wrapper[_ngcontent-%COMP%]   .login-panel[_ngcontent-%COMP%]{width:max-content;height:max-content;min-width:27rem;display:flex;flex-direction:column;gap:1rem;padding:2rem;border-radius:1rem;background-color:#fff;box-shadow:var(--shadow-200)}.error-message[_ngcontent-%COMP%]{position:absolute;background-color:#f56262;color:#fff;border-radius:.5rem;padding:.7rem 1rem;font-size:.9rem;font-weight:700;bottom:10%}"],data:{animation:[u.U1]}}),ye})()}];let y=(()=>{class ye{}return ye.\u0275fac=function(X){return new(X||ye)},ye.\u0275mod=_.oAB({type:ye}),ye.\u0275inj=_.cJS({imports:[e.Bz.forChild(T),e.Bz]}),ye})();var E=b(1777),D=b(5730),U=b(9783),B=b(5921);const ce=["input"];function $(ye,Ge){if(1&ye){const X=_.EpF();_.TgZ(0,"i",5),_.NdJ("click",function(){_.CHM(X);const we=_.oxw();return _.KtG(we.clear())}),_.qZA()}}function V(ye,Ge){if(1&ye){const X=_.EpF();_.TgZ(0,"i",6),_.NdJ("click",function(){_.CHM(X);const we=_.oxw();return _.KtG(we.onMaskToggle())}),_.ALo(1,"mapper"),_.qZA()}if(2&ye){const X=_.oxw();_.Q6J("ngClass",_.xi3(1,1,X.unmasked,X.toggleIconClass))}}function k(ye,Ge){1&ye&&_.GkF(0)}function O(ye,Ge){1&ye&&_.GkF(0)}function K(ye,Ge){if(1&ye&&(_.ynx(0),_.YNc(1,O,1,0,"ng-container",8),_.BQk()),2&ye){const X=_.oxw(2);_.xp6(1),_.Q6J("ngTemplateOutlet",X.contentTemplate)}}const ue=function(ye){return{width:ye}};function q(ye,Ge){if(1&ye&&(_.TgZ(0,"div",11),_._UZ(1,"div",0),_.ALo(2,"mapper"),_.qZA(),_.TgZ(3,"div",12),_._uU(4),_.qZA()),2&ye){const X=_.oxw(2);_.xp6(1),_.Q6J("ngClass",_.xi3(2,3,X.meter,X.strengthClass))("ngStyle",_.VKq(6,ue,X.meter?X.meter.width:"")),_.xp6(3),_.Oqu(X.infoText)}}function G(ye,Ge){1&ye&&_.GkF(0)}const ne=function(ye,Ge){return{showTransitionParams:ye,hideTransitionParams:Ge}},Ce=function(ye){return{value:"visible",params:ye}};function oe(ye,Ge){if(1&ye){const X=_.EpF();_.TgZ(0,"div",6,7),_.NdJ("click",function(we){_.CHM(X);const Ie=_.oxw();return _.KtG(Ie.onOverlayClick(we))})("@overlayAnimation.start",function(we){_.CHM(X);const Ie=_.oxw();return _.KtG(Ie.onAnimationStart(we))})("@overlayAnimation.done",function(we){_.CHM(X);const Ie=_.oxw();return _.KtG(Ie.onAnimationEnd(we))}),_.YNc(2,k,1,0,"ng-container",8),_.YNc(3,K,2,1,"ng-container",9),_.YNc(4,q,5,8,"ng-template",null,10,_.W1O),_.YNc(6,G,1,0,"ng-container",8),_.qZA()}if(2&ye){const X=_.MAs(5),be=_.oxw();_.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",_.VKq(9,Ce,_.WLB(6,ne,be.showTransitionOptions,be.hideTransitionOptions))),_.xp6(2),_.Q6J("ngTemplateOutlet",be.headerTemplate),_.xp6(1),_.Q6J("ngIf",be.contentTemplate)("ngIfElse",X),_.xp6(3),_.Q6J("ngTemplateOutlet",be.footerTemplate)}}let te=(()=>{class ye{transform(X,be,...we){return be(X,...we)}}return ye.\u0275fac=function(X){return new(X||ye)},ye.\u0275pipe=_.Yjl({name:"mapper",type:ye,pure:!0}),ye})();const W={provide:d.JU,useExisting:(0,_.Gpc)(()=>Y),multi:!0};let Y=(()=>{class ye{constructor(X,be,we,Ie){this.cd=X,this.config=be,this.el=we,this.overlayService=Ie,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new _.vpe,this.onBlur=new _.vpe,this.onClear=new _.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(X=>{switch(X.getType()){case"content":default:this.contentTemplate=X.template;break;case"header":this.headerTemplate=X.template;break;case"footer":this.footerTemplate=X.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(X){switch(X.toState){case"visible":this.overlay=X.element,B.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(X){"void"===X.toState&&B.P9.clear(X.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=D.p.getOuterWidth(this.input.nativeElement)+"px",D.p.absolutePosition(this.overlay,this.input.nativeElement)):D.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(X){this.value=X.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(X){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(X)}onInputBlur(X){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(X)}onKeyDown(X){"Escape"===X.key&&(this.overlayVisible=!1)}onKeyUp(X){this.feedback&&(this.updateUI(X.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(X){let be=null,we=null;switch(this.testStrength(X)){case 1:be=this.weakText(),we={strength:"weak",width:"33.33%"};break;case 2:be=this.mediumText(),we={strength:"medium",width:"66.66%"};break;case 3:be=this.strongText(),we={strength:"strong",width:"100%"};break;default:be=this.promptText(),we=null}this.meter=we,this.infoText=be}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(X){this.overlayService.add({originalEvent:X,target:this.el.nativeElement})}testStrength(X){let be=0;return this.strongCheckRegExp.test(X)?be=3:this.mediumCheckRegExp.test(X)?be=2:X.length&&(be=1),be}writeValue(X){this.value=void 0===X?null:X,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(X){this.onModelChange=X}registerOnTouched(X){this.onModelTouched=X}setDisabledState(X){this.disabled=X}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new D.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!D.p.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(X){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":X}}inputFieldClass(X){return{"p-password-input":!0,"p-disabled":X}}toggleIconClass(X){return X?"pi pi-eye-slash":"pi pi-eye"}strengthClass(X){return`p-password-strength ${X?X.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(U.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(U.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(U.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(U.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(X){return X?"text":"password"}getTranslation(X){return this.config.getTranslation(X)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(B.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return ye.\u0275fac=function(X){return new(X||ye)(_.Y36(_.sBO),_.Y36(U.b4),_.Y36(_.SBq),_.Y36(U.F0))},ye.\u0275cmp=_.Xpm({type:ye,selectors:[["p-password"]],contentQueries:function(X,be,we){if(1&X&&_.Suo(we,U.jx,4),2&X){let Ie;_.iGM(Ie=_.CRH())&&(be.templates=Ie)}},viewQuery:function(X,be){if(1&X&&_.Gf(ce,5),2&X){let we;_.iGM(we=_.CRH())&&(be.input=we.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(X,be){2&X&&_.ekj("p-inputwrapper-filled",be.filled())("p-inputwrapper-focus",be.focused)("p-password-clearable",be.showClear)("p-password-mask",be.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[_._Bn([W])],decls:9,vars:27,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(X,be){1&X&&(_.TgZ(0,"div",0),_.ALo(1,"mapper"),_.TgZ(2,"input",1,2),_.NdJ("input",function(Ie){return be.onInput(Ie)})("focus",function(Ie){return be.onInputFocus(Ie)})("blur",function(Ie){return be.onInputBlur(Ie)})("keyup",function(Ie){return be.onKeyUp(Ie)})("keydown",function(Ie){return be.onKeyDown(Ie)}),_.ALo(4,"mapper"),_.ALo(5,"mapper"),_.qZA(),_.YNc(6,$,1,0,"i",3),_.YNc(7,V,2,4,"i",4),_.YNc(8,oe,7,11,"div",4),_.qZA()),2&X&&(_.Tol(be.styleClass),_.Q6J("ngClass",_.xi3(1,18,be.toggleMask,be.containerClass))("ngStyle",be.style),_.xp6(2),_.Tol(be.inputStyleClass),_.Q6J("ngClass",_.xi3(4,21,be.disabled,be.inputFieldClass))("ngStyle",be.inputStyle)("value",be.value),_.uIk("label",be.label)("aria-label",be.ariaLabel)("aria-labelledBy",be.ariaLabelledBy)("id",be.inputId)("type",_.xi3(5,24,be.unmasked,be.inputType))("placeholder",be.placeholder),_.xp6(4),_.Q6J("ngIf",be.showClear&&null!=be.value),_.xp6(1),_.Q6J("ngIf",be.toggleMask),_.xp6(1),_.Q6J("ngIf",be.overlayVisible))},dependencies:[R.mk,R.O5,R.tP,R.PC,r.o,te],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,E.X$)("overlayAnimation",[(0,E.eR)(":enter",[(0,E.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,E.jt)("{{showTransitionParams}}")]),(0,E.eR)(":leave",[(0,E.jt)("{{hideTransitionParams}}",(0,E.oB)({opacity:0}))])])]},changeDetection:0}),ye})(),Ae=(()=>{class ye{}return ye.\u0275fac=function(X){return new(X||ye)},ye.\u0275mod=_.oAB({type:ye}),ye.\u0275inj=_.cJS({imports:[R.ez,r.j,U.m8]}),ye})();var Ee=b(4087);let qe=(()=>{class ye{}return ye.\u0275fac=function(X){return new(X||ye)},ye.\u0275mod=_.oAB({type:ye}),ye.\u0275inj=_.cJS({imports:[y,r.j,Ae,Ee.U,d.UX,L.hJ]}),ye})()},4075:(hn,ft,b)=>{"use strict";b.r(ft),b.d(ft,{MainModule:()=>ZB});var e=b(5e3),d=b(3470),u=b(4e3),f=b(2382),_=b(383),P=b(4280),x=b(4968),r=b(9300),R=b(3900),L=b(8738),Q=b(8028),N=b(9783),T=b(2248),y=b(5072),E=b(446),D=b(6502);let U=(()=>{class n{constructor(t){this.host=t,this.limited=!1,this.shift=0,"complete"===document.readyState&&setTimeout(this.onResize.bind(this),0)}onLoad(){}onResize(){const{y:t}=this.host.element.nativeElement.getBoundingClientRect(),i=window.innerHeight;this.limited||(this.host.element.nativeElement.style.minHeight=i-(t<0?0:t)-this.shift+"px"),this.limited&&(this.host.element.nativeElement.style.height=i-(t<0?0:t)-this.shift+"px")}onScroll(t){this.onResize()}ngAfterViewInit(){this.onResize()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","appExtendPageHeight",""]],hostBindings:function(t,i){1&t&&e.NdJ("load",function(){return i.onLoad()},!1,e.Jf7)("resize",function(){return i.onResize()},!1,e.Jf7)("scroll",function(p){return i.onScroll(p)},!1,e.Jf7)},inputs:{limited:"limited",shift:"shift"}}),n})();var B=b(2145);function ce(n,o){if(1&n&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function $(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}let V=(()=>{class n{constructor(t){this.api=t,this.control=new f.NI([]),this.suggestions=[],this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(t=>{this.onChange(null!=t?t:[])})}search(t){this.api.getAvailableObserversSuggestions(t.query).subscribe(i=>{this.suggestions=i})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-observer-selector-input"]],features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:3,vars:7,consts:[["emptyMessage","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","styleClass","w-full block transparent-ac-token","inputStyleClass","w-7rem","field","name","placeholder","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","multiple","onBlur","completeMethod"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"text-xs","text-primary-400","px-2","py-1","bg-primary-50","border-round-md","font-bold"]],template:function(t,i){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return i.onTouched()})("completeMethod",function(p){return i.search(p)}),e.YNc(1,ce,2,1,"ng-template",1),e.YNc(2,$,2,1,"ng-template",2),e.qZA()),2&t&&e.Q6J("formControl",i.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",i.suggestions)("forceSelection",!1)("completeOnFocus",!0)("multiple",!0)},dependencies:[f.JJ,N.jx,f.oH,B.Qc],styles:["[_nghost-%COMP%]{display:flex}"]}),n})();var k=b(9808),O=b(845),K=b(8050);const ue=["inputEl"];function q(n,o){1&n&&(e.TgZ(0,"span",7),e._uU(1,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433\u0438..."),e.qZA())}function G(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("mouseenter",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.extraPreviewVisible=!0)})("mouseleave",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.extraPreviewVisible=!1)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" +",t.control.value.length-2," ")}}function Ce(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}const oe=function(n){return{disabled:n}};function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.focusing())}),e.YNc(1,q,2,0,"span",3),e.YNc(2,G,2,3,"span",4),e.ALo(3,"slice"),e.YNc(4,ne,2,1,"span",5),e.TgZ(5,"p-overlay",6),e.NdJ("visibleChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.extraPreviewVisible=s)}),e.YNc(6,Ce,2,3,"span",4),e.ALo(7,"slice"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(15,oe,t.control.disabled)),e.xp6(1),e.Q6J("ngIf",0===(null==t.control.value?null:t.control.value.length)),e.xp6(1),e.Q6J("ngForOf",e.Dn7(3,8,t.control.value,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2),e.xp6(1),e.Q6J("visible",t.extraPreviewVisible),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,12,t.control.value,2))("ngForTrackBy",t.trackByTaskTag)}}function te(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function W(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function Y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.accept())}),e.qZA()}}function Ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"p-autoComplete",11,12),e.NdJ("completeMethod",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.search(s))}),e.YNc(3,te,2,3,"ng-template",13),e.YNc(4,W,2,3,"ng-template",14),e.qZA(),e.YNc(5,Y,1,0,"button",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.control)("suggestions",t.suggestions)("multiple",!0)("completeOnFocus",!0),e.xp6(4),e.Q6J("ngIf",!t.autoAccept)}}let Ee=(()=>{class n{constructor(t){this.api=t,this._autoAccept=!1,this.control=new f.NI([]),this.suggestions=[],this.focused=!1,this.extraPreviewVisible=!1,this.previousVariableValue="",this.onChange=i=>{},this.onTouched=()=>{}}set autoAccept(t){var i;this._autoAccept=t,t&&(null===(i=this.changeSubscription)||void 0===i||i.unsubscribe(),this.changeSubscription=this.control.valueChanges.subscribe(s=>{this.onChange(s)}))}get autoAccept(){return this._autoAccept}search(t){this.api.getTaskTags(t.query).subscribe(i=>{this.suggestions=i.filter(s=>{var p;return!(null!==(p=this.control.value)&&void 0!==p&&p.some(w=>s.taskTagId===w.taskTagId))})})}trackByTaskTag(t,i){return i.taskTagId+i.name+i.color}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?(this.control.disable({emitEvent:!1}),this.focused=!1):this.control.enable({emitEvent:!1})}writeValue(t){this.control.setValue(t),this.previousVariableValue=JSON.stringify(t)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.changeSubscription)||void 0===t||t.unsubscribe()}accept(){JSON.stringify(this.control.value)!==this.previousVariableValue&&this.onChange(this.control.value),this.focused=!1}focusing(){this.control.disabled||(this.previousVariableValue=JSON.stringify(this.control.value),this.focused=!0,this.onTouched(),setTimeout(()=>{var t,i;null===(i=null===(t=this.inputEl)||void 0===t?void 0:t.multiInputEL)||void 0===i||i.nativeElement.focus()}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-selector"]],viewQuery:function(t,i){if(1&t&&e.Gf(ue,5),2&t){let s;e.iGM(s=e.CRH())&&(i.inputEl=s.first)}},inputs:{autoAccept:"autoAccept"},features:[e._Bn([{provide:f.JU,multi:!0,useExisting:n}])],decls:2,vars:2,consts:[["class","p-component p-inputtext wrapper",3,"ngClass","click",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],[1,"p-component","p-inputtext","wrapper",3,"ngClass","click"],["class","placeholder-text",4,"ngIf"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],["contentStyleClass","overlay flexed wrapped p10 gap5","showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"visible","visibleChange"],[1,"placeholder-text"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"],[1,"p-inputgroup"],["styleClass","transparent-ac-token w-full","inputStyleClass","w-full","appendTo","body",3,"formControl","suggestions","multiple","completeOnFocus","completeMethod"],["inputEl",""],["pTemplate","selectedItem"],["pTemplate","item"],["pButton","","icon","mdi-save",3,"click",4,"ngIf"],["pButton","","icon","mdi-save",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,z,8,17,"div",0),e.YNc(1,Ae,6,5,"div",1)),2&t&&(e.Q6J("ngIf",!(i.focused||0===(null==i.control.value?null:i.control.value.length)&&i.control.disabled)),e.xp6(1),e.Q6J("ngIf",i.focused))},dependencies:[k.mk,k.sg,k.O5,O.Hq,f.JJ,K.aV,N.jx,f.oH,B.Qc,k.OU],styles:[".placeholder-text[_ngcontent-%COMP%]{color:var(--tc-400)}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;cursor:text}.wrapper.disabled[_ngcontent-%COMP%]{cursor:default}.wrapper[_ngcontent-%COMP%]:not(.disabled):hover{border-color:var(--mc-500)}"]}),n})();var qe=b(4036),ye=b(5787);const Ge=function(n,o){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":o}};function X(n,o){if(1&n&&e._UZ(0,"span",3),2&n){const t=e.oxw();e.Tol(t.checked?t.onIcon:t.offIcon),e.Q6J("ngClass",e.WLB(3,Ge,"left"===t.iconPos,"right"===t.iconPos))}}const be=function(n,o,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":o,"p-disabled":t}},we={provide:f.JU,useExisting:(0,e.Gpc)(()=>Ie),multi:!0};let Ie=(()=>{class n{constructor(t){this.cd=t,this.iconPos="left",this.onChange=new e.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[e._Bn([we])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(p){return i.toggle(p)})("keydown.enter",function(p){return i.toggle(p)}),e.YNc(1,X,1,6,"span",1),e.TgZ(2,"span",2),e._uU(3),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(8,be,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style),e.uIk("tabindex",i.disabled?null:"0")("aria-checked",i.checked),e.xp6(1),e.Q6J("ngIf",i.onIcon||i.offIcon),e.xp6(2),e.Oqu(i.checked?i.hasOnLabel?i.onLabel:"":i.hasOffLabel?i.offLabel:""))},dependencies:[k.mk,k.O5,k.PC,ye.H],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}'],changeDetection:0}),n})(),ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,ye.T]}),n})();var dt=b(3407),et=b(6198);function vt(n,o){1&n&&e.GkF(0)}function ht(n,o){if(1&n&&(e.ynx(0),e.YNc(1,vt,1,0,"ng-container",7),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(8),s=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.isTemplateSelected)("ngIfThen",i)("ngIfElse",s)}}function Rt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-template-input",23),e.NdJ("focusin",function(){const p=e.CHM(t).index,w=e.oxw(2);return e.KtG(w.currentFieldFocus=p)})("focusout",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentFieldFocus=void 0)}),e.qZA()}if(2&n){const t=o.$implicit;e.Q6J("formControlName",t.id)("field",t)}}function Nt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"p-dropdown",24),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.type=s)})("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.changeTaskType(s))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.types)("ngModel",t.type)}}function At(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(3,"p-dropdown",25),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.directory=s)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.directories)("ngModel",t.directory)}}function st(n,o){1&n&&(e.TgZ(0,"span",26),e._UZ(1,"span",27),e.TgZ(2,"span"),e._uU(3," \u0414\u043b\u044f \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0443 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0442\u0430\u0440\u044b\u0438\u0306 \u0442\u0440\u0435\u043a\u0435\u0440 "),e.qZA()())}function ot(n,o){if(1&n&&e._UZ(0,"app-avatar",28),2&n){const t=e.oxw(2);e.Q6J("name",t.personality.me.fullName)("src",t.personality.me.avatar)("size",3)}}function ge(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e.YNc(2,Rt,1,2,"app-task-template-input",10),e.qZA(),e.TgZ(3,"div",11)(4,"div",12),e.YNc(5,Nt,4,2,"div",13),e.YNc(6,At,4,2,"div",13),e.TgZ(7,"p-toggleButton",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.isDuplicateInOldTracker=s)}),e.qZA(),e.YNc(8,st,4,0,"span",15),e.qZA(),e.TgZ(9,"div",16)(10,"span",17),e._uU(11,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438"),e.qZA(),e.TgZ(12,"app-observer-selector-input",18),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.initialObservers=s)}),e.qZA()(),e.TgZ(13,"div",16)(14,"span",17),e._uU(15,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(16,"app-task-tag-selector",19),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.initialTags=s)}),e.qZA()(),e.TgZ(17,"div",16)(18,"span",17),e._uU(19,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA(),e.TgZ(20,"div",20),e.YNc(21,ot,1,3,"app-avatar",21),e.TgZ(22,"textarea",22),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.initialComment=s)}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("@flow",void 0),e.xp6(1),e.Q6J("@swipeChild",t.currentStepFields.length)("formGroup",t.currentStepForm),e.xp6(1),e.Q6J("ngForOf",t.currentStepFields),e.xp6(3),e.Q6J("ngIf",t.types.length>0),e.xp6(1),e.Q6J("ngIf",t.directories.length>0),e.xp6(1),e.Q6J("ngModel",t.isDuplicateInOldTracker)("disabled",!t.isCurrentTypeHasBind||!t.isUserHasOldTrackerCredentials),e.xp6(1),e.Q6J("ngIf",!t.isUserHasOldTrackerCredentials),e.xp6(4),e.Q6J("ngModel",t.initialObservers),e.xp6(4),e.Q6J("autoAccept",!0)("ngModel",t.initialTags),e.xp6(5),e.Q6J("ngIf",t.personality.me),e.xp6(1),e.Q6J("autoResize",!0)("rows",5)("ngModel",t.initialComment)}}function ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);let i;e.xp6(2),e.Q6J("label",null!==(i=t.nextStepName)&&void 0!==i?i:"\u0414\u0430\u043b\u0435\u0435")}}function rt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",32),e.TgZ(3,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);let i,s;e.xp6(1),e.Q6J("label",null!==(i=t.prevStepName)&&void 0!==i?i:"\u041d\u0430\u0437\u0430\u0434"),e.xp6(2),e.Q6J("label",null!==(s=t.nextStepName)&&void 0!==s?s:"\u0414\u0430\u043b\u0435\u0435")}}function yt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",32),e.TgZ(3,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTaskAndClose())}),e.qZA(),e.TgZ(4,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTask())}),e.qZA()()}if(2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("label",null!==(i=t.prevStepName)&&void 0!==i?i:"\u041d\u0430\u0437\u0430\u0434")}}function Pt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"p-button",35),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTaskAndClose())}),e.qZA(),e.TgZ(3,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createTask())}),e.qZA()()}}function Ht(n,o){if(1&n&&(e.ynx(0,29),e.YNc(1,ke,3,1,"div",30),e.YNc(2,rt,4,2,"div",30),e.YNc(3,yt,5,1,"div",30),e.YNc(4,Pt,4,0,"div",30),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.controlsType()),e.xp6(1),e.Q6J("ngSwitchCase","NEXT_ONLY"),e.xp6(1),e.Q6J("ngSwitchCase","BOTH"),e.xp6(1),e.Q6J("ngSwitchCase","PREV_FIN"),e.xp6(1),e.Q6J("ngSwitchCase","FIN_ONLY")}}const Ot=function(){return[]};function Ye(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"span",38),e._uU(2,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"div",39)(4,"p-dropdown",40),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectedTemplate=s)}),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"app-button",41),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectTemplateForTask())}),e.qZA()()()}if(2&n){const t=e.oxw();let i;e.xp6(4),e.Q6J("ngModel",t.selectedTemplate)("disabled",t.isTemplateSelected)("options",null!==(i=e.lcZ(5,4,t.templateOptionsList$))&&void 0!==i?i:e.DdM(6,Ot)),e.xp6(2),e.Q6J("disabled",t.isTemplateSelected)}}function lt(n,o){1&n&&e.GkF(0)}function Ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"span",44),e._uU(3,"\u041a\u043b\u0430\u0441\u0441"),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.qZA()(),e.TgZ(6,"app-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.unselectTemplateForTask())}),e.qZA(),e._UZ(7,"div",47),e.YNc(8,lt,1,0,"ng-container",48),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(4);e.xp6(5),e.Oqu(null==t.selectedTemplate?null:t.selectedTemplate.name),e.xp6(1),e.Q6J("disabled",!t.isTemplateSelected),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function Tt(n,o){1&n&&(e.TgZ(0,"div",49),e._UZ(1,"p-progressSpinner",50),e.qZA())}var se=(()=>{return(n=se||(se={})).NEXT_ONLY="NEXT_ONLY",n.BOTH="BOTH",n.PREV_FIN="PREV_FIN",n.FIN_ONLY="FIN_ONLY",n.NONE="NONE",se;var n})();let Fe=(()=>{class n{constructor(t,i,s,p,w){this.api=t,this.route=i,this.personality=s,this.toast=p,this.taskCreation=w,this.templateOptionsList$=this.api.getWireframes(),this.isTemplateSelected=!1,this.currentStep=0,this.isCreatedTask=!1,this.taskCreationForm=new f.Oe([]),this.openMode="standard",this.subscriptions=new _.xf,this.initialObservers=[],this.initialTags=[],this.types=[],this.directories=[],this.isDuplicateInOldTracker=!0,this.enterPressed$=(0,x.R)(document.body,"keydown").pipe((0,r.h)(J=>"Tab"===J.key),(0,r.h)(()=>this.controlsType()===se.NEXT_ONLY||this.controlsType()===se.BOTH),(0,r.h)(()=>this.isValidCurrentStep),(0,r.h)(()=>this.currentStepFields.length-1===this.currentFieldFocus)),this._selectedTemplate=null,this.openBillingCreationWindowHandle={next:J=>{this.selectedTemplate=J,this.selectTemplateForTask()},error:()=>{window.close()}},document.body.classList.add("whited")}get selectedTemplate(){return this._selectedTemplate}set selectedTemplate(t){var i,s;this._selectedTemplate=t,null!=t&&t.stages?(this.types=null!==(i=t.stages.sort((p,w)=>p.orderIndex-w.orderIndex))&&void 0!==i?i:[],this.type=this.types[0].stageId,this.directories=this.types[0].directories?this.types[0].directories:[],this.directory=null===(s=this.directories[0])||void 0===s?void 0:s.taskTypeDirectoryId,this.isDuplicateInOldTracker=!!this.types[0].oldTrackerBind&&this.isUserHasOldTrackerCredentials):(this.types=[],this.type=void 0,this.directories=[],this.directory=void 0,this.isDuplicateInOldTracker=!1)}get nextStepName(){var t,i;return null===(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep+1])||void 0===i?void 0:i.name}get prevStepName(){var t,i;return null===(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep-1])||void 0===i?void 0:i.name}changeTaskType(t){t||(this.isDuplicateInOldTracker=!1);const i=this.types.find(s=>s.stageId===t);if(i)return this.isDuplicateInOldTracker=!!i.oldTrackerBind&&this.isUserHasOldTrackerCredentials,void(this.directories=i.directories);this.directories=[],this.isDuplicateInOldTracker=!1}get isUserHasOldTrackerCredentials(){var t;const i=null===(t=this.personality.me)||void 0===t?void 0:t.oldTrackerCredentials;return!!i&&!!i.username&&!!i.password}get currentStepFields(){var t,i;return this.isTemplateSelected&&null!==(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep].fields)&&void 0!==i?i:[]}get currentStepForm(){return this.taskCreationForm.at(this.currentStep)}get isValidCurrentStep(){return this.currentStepForm.valid}get taskCreationBody(){if(!this.selectedTemplate)return null;const t=this.taskCreationForm.getRawValue().reduce((i,s)=>Object.assign(Object.assign({},i),s),{});return{wireframeId:this.selectedTemplate.wireframeId,childId:this.childId,parentId:this.parentId,fields:_.PU.convert(t,this.selectedTemplate),initialComment:this.initialComment,tags:this.initialTags,observers:this.initialObservers,type:this.type,directory:this.directory,isDuplicateInOldTracker:this.isDuplicateInOldTracker}}ngOnInit(){this.subscriptions.addSubscription("nextStep",this.enterPressed$.subscribe(()=>this.changeCreationStep(1))),window.addEventListener("message",t=>{const i=t.data;switch(this.openMode=i.mode,i.mode){case"standard":break;case"parent":this.parentId=i.dependencyIdentifier;break;case"child":this.childId=i.dependencyIdentifier;break;case"billing":i.wireframeId?(this.defaultValues=i.billingInfo,this.api.getWireframe(i.wireframeId).subscribe(this.openBillingCreationWindowHandle)):window.close()}},!1)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplateForTask(){var t;!this.selectedTemplate||(this.isTemplateSelected=!0,this.initialObservers=null!==(t=this.selectedTemplate.defaultObservers)&&void 0!==t?t:[],this.taskCreationForm=new f.Oe(this.selectedTemplate.steps.map(i=>new f.cw(i.fields.reduce((s,p)=>{let w=null;if(this.defaultValues)switch(p.name.toLowerCase()){case"\u043b\u043e\u0433\u0438\u043d":w=this.defaultValues.login;break;case"\u0430\u0434\u0440\u0435\u0441":w=this.defaultValues.address}return Object.assign(Object.assign({},s),{[p.id]:new f.NI(w,P.d.taskInput(p.type,p.variation))})},{})))))}unselectTemplateForTask(){this.selectedTemplate=null,this.isTemplateSelected=!1,this.currentStep=0,this.isTemplateSelected=!1}changeCreationStep(t=0){!this.isValidCurrentStep&&t>0?this.currentStepForm.markAllAsTouched():this.currentStep+=t}controlsType(){return this.selectedTemplate?0===this.currentStep?this.selectedTemplate.steps.length>1?se.NEXT_ONLY:se.FIN_ONLY:this.selectedTemplate.steps.length-1===this.currentStep?se.PREV_FIN:se.BOTH:se.NONE}get isCurrentTypeHasBind(){if(!this.type)return!1;const t=this.types.find(i=>i.stageId===this.type);return!!t&&!!t.oldTrackerBind}createTask(){this.taskCreationBody?this.taskCreationForm.valid?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).subscribe({next:()=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.taskCreationForm.markAllAsTouched():this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}createTaskAndClose(){this.taskCreationBody?this.taskCreationForm.valid?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).pipe((0,R.w)(t=>this.api.closeTask(t.taskId))).subscribe({next:t=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.taskCreationForm.markAllAsTouched():this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(d.gz),e.Y36(Q.F),e.Y36(N.ez),e.Y36(T.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:6,consts:[["appExtendPageHeight","",1,"flexed","gap10","column"],[4,"ngIf","ngIfElse"],["class","stage-view",4,"ngIf"],["controls",""],["unselectedTemplatePanel",""],["selectedTemplatePanel",""],["class","stub-when-creating-a-task",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"stage-view"],[1,"flex","flex-column","p-3","gap-3",3,"formGroup"],["class","flex-grow-1",3,"formControlName","field","focusin","focusout",4,"ngFor","ngForOf"],[1,"flex","flex-column","gap-3","mt-3"],[1,"flex","flex-wrap","gap-3","align-items-end"],["class","flex flex-column gap-1",4,"ngIf"],["onLabel","\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440","offLabel","\u041d\u0435 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440","styleClass","white-space-nowrap",3,"ngModel","disabled","ngModelChange"],["class","font-bold text-sm text-orange-400 flex gap-2 align-items-center",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"font-semibold","text-lg","text-bluegray-400"],[3,"ngModel","ngModelChange"],[3,"autoAccept","ngModel","ngModelChange"],[1,"flex","gap-2"],[3,"name","src","size",4,"ngIf"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"flex-grow-1",3,"autoResize","rows","ngModel","ngModelChange"],[1,"flex-grow-1",3,"formControlName","field","focusin","focusout"],["optionValue","stageId",3,"options","ngModel","ngModelChange"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0430\u043b\u043e\u0433","optionLabel","name","optionValue","taskTypeDirectoryId",3,"options","ngModel","ngModelChange"],[1,"font-bold","text-sm","text-orange-400","flex","gap-2","align-items-center"],[1,"mdi-warning"],[3,"name","src","size"],[3,"ngSwitch"],["class","flex gap-3",4,"ngSwitchCase"],[1,"flex","gap-3"],[1,"stretched"],["icon","navigate_next","iconPos","right",3,"label","onClick"],["icon","navigate_before","model","p-button-text p-button-secondary",3,"label","onClick"],["icon","mdi-add_circle_outline","styleClass","p-button-secondary p-button-outlined","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onClick"],["icon","mdi-add_circle_outline","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],[1,"flexed","gap10","column"],[1,"header400"],[1,"flexed","gap5","hcenter"],["optionLabel","name","placeholder","\u041a\u043b\u0430\u0441\u0441\u044b \u0437\u0430\u0434\u0430\u0447",3,"ngModel","disabled","options","ngModelChange"],["icon","done","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","model","fit-content p-button-success",3,"disabled","onClick"],[1,"flex","align-items-center","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-500"],[1,"text-bluegray-500","text-lg","font-bold"],["icon","published_with_changes","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440","model","p-button-text p-button-danger fit-content",3,"disabled","onClick"],[1,"flex-grow-1"],[4,"ngTemplateOutlet"],[1,"stub-when-creating-a-task"],[1,"white-spinner"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,ht,2,3,"ng-container",1),e.YNc(2,ge,23,16,"div",2),e.qZA(),e.YNc(3,Ht,5,5,"ng-template",null,3,e.W1O),e.YNc(5,Ye,7,7,"ng-template",null,4,e.W1O),e.YNc(7,Ke,9,3,"ng-template",null,5,e.W1O),e.YNc(9,Tt,2,0,"div",6)),2&t){const s=e.MAs(8);e.Udp("padding","0 2rem 2rem 2rem"),e.xp6(1),e.Q6J("ngIf","billing"!=i.openMode)("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",i.isTemplateSelected),e.xp6(7),e.Q6J("ngIf",i.isCreatedTask)}},dependencies:[y.A,E.r,D.o,U,V,Ee,f.Fj,f.JJ,f.JL,f.On,k.sg,f.sg,f.u,qe.Lt,Ie,k.O5,dt.g,O.zx,k.tP,k.RF,k.n9,et.G,k.Ov],styles:[".stage-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:0 2rem;width:100%;max-width:54rem;align-self:center}.stub-when-creating-a-task[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:10000;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"],data:{animation:[u.U1,u.ls,u.x$]}}),n})();var he=b(7384),mt=b(4004),cn=b(4782),Tn=b(9646),tn=b(4326),bt=b(9014),nt=b(1514),de=b(8007),Qe=b(963);const ze=["filesInput"],kt=["taskActualDateSetPanel"],Ze=["commentEditor"],$t=["taskLinkingDialog"],gn=["workLogsDialogEl"],Gt=["fileInput"],Mn=["oldTrackerPanel"];function Ut(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-progressSpinner",49),e.BQk())}function rn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",50)(2,"div",51),e._UZ(3,"span",52),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.customNav.backOrDefault(["/tasks","catalog"]))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" \u0417\u0430\u0434\u0430\u0447\u0438 #",t.taskId," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 ")}}function Bn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"p-button",79),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.customNav.backOrDefault(["/tasks","catalog"]))}),e.qZA(),e.TgZ(2,"div",80)(3,"span",81),e._uU(4),e.qZA(),e.TgZ(5,"div",82)(6,"span"),e._uU(7,"\u0422\u0438\u043f:"),e.qZA(),e.TgZ(8,"app-tiny-button",83),e.NdJ("onClick",function(s){e.CHM(t),e.oxw(2);const p=e.MAs(57);return e.KtG(p.toggle(s))}),e.qZA()()()()}if(2&n){const t=e.oxw(2);let i,s;e.xp6(4),e.Oqu(null!==(i=null==t.currentTask||null==t.currentTask.modelWireframe?null:t.currentTask.modelWireframe.name)&&void 0!==i?i:""),e.xp6(4),e.Q6J("disabled",!(null!=t.currentTask&&t.currentTask.currentStage)||"CLOSE"===(null==t.currentTask?null:t.currentTask.taskStatus))("label",null!==(s=null==t.currentTask||null==t.currentTask.currentStage?null:t.currentTask.currentStage.label)&&void 0!==s?s:"\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430")("size",.9)}}function Vn(n,o){1&n&&e.GkF(0)}function ai(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Vn,1,0,"ng-container",85),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(3),i=e.MAs(62),s=e.MAs(64);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,t.isBeforeActualFrom$))("ngIfThen",i)("ngIfElse",s)}}function vi(n,o){if(1&n&&(e.YNc(0,ai,3,5,"ng-container",84),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",(null==t.currentTask?null:t.currentTask.actualTo)||(null==t.currentTask?null:t.currentTask.actualFrom)&&e.lcZ(1,1,t.isBeforeActualFrom$))}}function Ji(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",89),e._UZ(1,"i",90),e.TgZ(2,"div",80),e._UZ(3,"app-employee-label",91),e.TgZ(4,"div",92),e._uU(5),e.qZA()(),e._UZ(6,"div",93),e.TgZ(7,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.replyComment=void 0)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(3),e.Q6J("employee",t.replyComment.creator)("size",2),e.xp6(2),e.hij(" ",t.replyComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function Qi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",89),e._UZ(1,"i",95),e.TgZ(2,"div",96)(3,"span"),e._uU(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"div",97),e._uU(6),e.qZA()(),e._UZ(7,"div",93),e.TgZ(8,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return s.editComment=void 0,e.KtG(s.commentInputForm.reset({text:"",files:[]}))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(6),e.hij(" ",t.editComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function Vo(n,o){1&n&&e._UZ(0,"app-file-input",103,104),2&n&&e.Q6J("short",!0)}function zt(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",98)(2,"p-button",99),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.commentEditorMode="extended")}),e.qZA(),e.TgZ(3,"textarea",100),e.NdJ("keydown",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.sendCommentByEnter(s))})("paste",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.pasteFiles(s))}),e.qZA(),e.YNc(4,Vo,2,1,"app-file-input",101),e.TgZ(5,"p-button",102),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.sendComment())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding",".5rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("disabled",t.isTaskClose()),e.xp6(1),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled)}}function Je(n,o){1&n&&e._UZ(0,"app-file-input",112,104)}const xe=function(){return{maxHeight:"30vh",minHeight:"10rem",overflow:"auto"}};function He(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",105)(2,"span",106)(3,"p-button",107),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return s.commentEditorMode="simple",e.KtG(s.clearCommentText())}),e.qZA(),e._UZ(4,"div",93),e.YNc(5,Je,2,0,"app-file-input",108),e.TgZ(6,"p-button",109),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.sendComment())}),e.qZA()(),e.TgZ(7,"quill-editor",110,111),e.NdJ("keydown",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.sendCommentByEnter(s))})("onContentChanged",function(s){e.CHM(t),e.oxw(4);const p=e.MAs(60);return e.KtG(p.setQuillEvent(s))})("paste",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.pasteFiles(s))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding","1rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(2),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("disabled",t.isTaskClose())("formats",t.quillFormats)("modules",t.quillModules)("styles",e.DdM(10,xe))}}function pt(n,o){if(1&n&&(e.ynx(0,1),e.YNc(1,zt,6,7,"ng-container",2),e.YNc(2,He,9,11,"ng-container",2),e.BQk()),2&n){const t=e.oxw(3);e.Q6J("ngSwitch",t.commentEditorMode),e.xp6(1),e.Q6J("ngSwitchCase","simple"),e.xp6(1),e.Q6J("ngSwitchCase","extended")}}function dn(n,o){if(1&n&&(e.TgZ(0,"div",86),e.YNc(1,Ji,8,6,"div",87),e.YNc(2,Qi,9,4,"div",87),e.YNc(3,pt,3,3,"ng-container",88),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("formGroup",t.commentInputForm),e.xp6(1),e.Q6J("ngIf",t.replyComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose())}}function xn(n,o){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70),e._UZ(2,"span",72),e.TgZ(3,"span"),e._uU(4," \u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 "),e.qZA()(),e.TgZ(5,"span"),e._UZ(6,"app-employee-label",73),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("employee",null==t.currentTask?null:t.currentTask.responsible)}}function Zt(n,o){1&n&&e._UZ(0,"app-employee-label",73),2&n&&e.Q6J("employee",o.$implicit)}function bn(n,o){if(1&n&&(e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",114),e.TgZ(3,"span"),e._uU(4," \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 "),e.qZA()(),e.TgZ(5,"span",115),e.YNc(6,Zt,1,1,"app-employee-label",116),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.activeWorkLog.employees)}}function yn(n,o){1&n&&e._UZ(0,"app-department-label",118),2&n&&e.Q6J("department",o.$implicit)}function Wn(n,o){1&n&&e._UZ(0,"app-employee-label",73),2&n&&e.Q6J("employee",o.$implicit)}function si(n,o){if(1&n&&(e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",114),e.TgZ(3,"span"),e._uU(4," \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 "),e.qZA()(),e.TgZ(5,"span",115),e.YNc(6,yn,1,1,"app-department-label",117),e.YNc(7,Wn,1,1,"app-employee-label",116),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.departmentsObservers),e.xp6(1),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.employeesObservers)}}function gi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-tiny-button",128),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(4);return e.KtG(s.unlinkParentTask())}),e.qZA()}}function ii(n,o){if(1&n&&(e.TgZ(0,"div",124)(1,"span",125),e._uU(2,"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f:"),e.qZA(),e._UZ(3,"app-task-link",126),e.YNc(4,gi,1,0,"app-tiny-button",127),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(3),e.Q6J("taskId",null!==(i=null==t.currentTask?null:t.currentTask.parent)&&void 0!==i?i:0),e.xp6(1),e.Q6J("ngIf",!(null==t.currentTask||!t.currentTask.parent))}}function ki(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",131),e._UZ(1,"app-task-link",61),e.TgZ(2,"app-tiny-button",128),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(4);return e.KtG(w.unlinkParentTask(p.taskId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("task",t)}}function qi(n,o){if(1&n&&(e.TgZ(0,"div",129)(1,"span"),e._uU(2,"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435:"),e.qZA(),e.TgZ(3,"div",96),e.YNc(4,ki,3,1,"span",130),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.children)}}function Oo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",113)(1,"div",70),e._UZ(2,"span",119),e.TgZ(3,"span"),e._uU(4," \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA(),e.TgZ(5,"app-tiny-button",120),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openTaskChainDialog())}),e.qZA()(),e.TgZ(6,"span",121),e.YNc(7,ii,5,2,"div",122),e.YNc(8,qi,5,1,"div",123),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.isTaskHasParent()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasChilds())}}const li=function(){return{border:"none"}};function ho(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",54)(2,"p-menubar",55),e.YNc(3,Bn,9,4,"ng-template",56),e.YNc(4,vi,2,3,"ng-template",57),e.qZA(),e.TgZ(5,"div",58)(6,"div",54)(7,"div",59)(8,"label"),e._uU(9,"\u0422\u0435\u0433\u0438"),e.qZA(),e._UZ(10,"app-task-tag-inline-selector",60),e.qZA(),e._UZ(11,"app-task-fields-table-view",61),e.qZA()(),e.TgZ(12,"div",62)(13,"span",63)(14,"span"),e._uU(15," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 "),e.qZA(),e.TgZ(16,"p-dropdown",64),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.taskJournalSorting=s)}),e.qZA(),e.TgZ(17,"p-toggleButton",65),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.taskEventsVisible=s)}),e.qZA()(),e.TgZ(18,"app-task-journal",66),e.NdJ("editCommentChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.editCommentChanged(s))})("onFirstLoad",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.journalVisible=s)})("editCommentChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.editComment=s)})("replyCommentChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.replyComment=s)}),e.qZA()(),e.YNc(19,dn,4,4,"div",67),e.qZA(),e.TgZ(20,"div",68)(21,"div",69)(22,"div",70),e._UZ(23,"span",71),e.TgZ(24,"span"),e._uU(25," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.qZA()(),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"taskStatus"),e.qZA()(),e.TgZ(29,"div",69)(30,"div",70),e._UZ(31,"span",72),e.TgZ(32,"span"),e._uU(33," \u0410\u0432\u0442\u043e\u0440 "),e.qZA()(),e.TgZ(34,"span"),e._UZ(35,"app-employee-label",73),e.qZA()(),e.TgZ(36,"div",69)(37,"div",70),e._UZ(38,"span",74),e.TgZ(39,"span"),e._uU(40," \u0421\u043e\u0437\u0434\u0430\u043d\u0430 "),e.qZA()(),e.TgZ(41,"span",75),e._uU(42),e.ALo(43,"titlecase"),e.ALo(44,"date"),e.qZA()(),e.YNc(45,xn,7,1,"div",76),e.YNc(46,bn,7,1,"div",77),e.YNc(47,si,8,2,"div",77),e.YNc(48,Oo,9,2,"div",77),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Akn(e.DdM(33,li)),e.Q6J("model",t.managementMenu),e.xp6(8),e.Q6J("formControl",t.installedTags),e.xp6(1),e.Q6J("task",t.currentTask),e.xp6(1),e.Q6J("hidden",!t.journalVisible),e.xp6(4),e.Q6J("ngModel",t.taskJournalSorting)("options",t.taskJournalSortingOptions),e.xp6(1),e.Q6J("ngModel",t.taskEventsVisible),e.xp6(1),e.Q6J("editComment",t.editComment)("replyComment",t.replyComment)("showEvents",t.taskEventsVisible)("sortingType",t.taskJournalSorting)("taskId",t.taskId),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose()),e.xp6(1),e.Udp("top","10rem"),e.xp6(6),e.Tol(t.taskStatusColor),e.xp6(1),e.hij(" ",e.lcZ(28,26,t.currentTask)," "),e.xp6(8),e.Q6J("employee",null==t.currentTask?null:t.currentTask.creator),e.xp6(7),e.hij(" ",e.lcZ(43,28,e.xi3(44,30,null==t.currentTask?null:t.currentTask.created,"dd MMM yyyy HH:mm"))," "),e.xp6(3),e.Q6J("ngIf",null==t.currentTask?null:t.currentTask.responsible),e.xp6(1),e.Q6J("ngIf",t.activeWorkLog),e.xp6(1),e.Q6J("ngIf",t.isTaskHasObservers()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasParent()||t.isTaskHasChilds())}}function Go(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",132)(1,"p-checkbox",133),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectedDepartmentObservers=s)}),e.qZA(),e.TgZ(2,"span",134),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedDepartmentObservers)("value",t.departmentId),e.xp6(2),e.Oqu(t.name)}}function Wo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",132)(1,"p-checkbox",135),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectedEmployeeObservers=s)}),e.qZA(),e._UZ(2,"app-employee-label",91),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedEmployeeObservers)("value",t.login),e.xp6(1),e.Q6J("employee",t)("size",2.3)}}function vo(n,o){1&n&&(e.TgZ(0,"span",140),e._uU(1,"(\u0412\u044b\u0431\u0440\u0430\u043d)"),e.qZA())}const Xi=function(n){return{selected:n}};function os(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",136),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.selectedEmployeeAsResponsible=p)}),e._UZ(1,"app-avatar",137),e.TgZ(2,"div",80)(3,"span",97),e._uU(4),e.qZA(),e.TgZ(5,"span",138),e._uU(6),e.qZA()(),e.YNc(7,vo,2,0,"span",139),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(7,Xi,(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)),e.xp6(1),e.Q6J("name",t.fullName)("size",2.3)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Oqu(null==t.department?null:t.department.name),e.xp6(1),e.Q6J("ngIf",(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)}}const us=function(){return{maxWidth:"45rem",minWidth:"35rem"}};function _s(n,o){if(1&n&&e._UZ(0,"app-task-list-element",141),2&n){const t=o.$implicit;e.Akn(e.DdM(3,us)),e.Q6J("item",t.data)}}function uo(n,o){if(1&n&&(e.TgZ(0,"div",142)(1,"span",124),e._uU(2," \u0412\u0440\u0435\u043c\u044f: "),e.TgZ(3,"span",143),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"span",144),e._uU(7," \u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440: "),e._UZ(8,"app-employee-label",73),e.qZA(),e.TgZ(9,"span",143),e._uU(10),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.xi3(5,4,t.editTaskSnapshots[t.indexEditSnapshot].whenEdited,"dd MMMM yyyy HH:mm")," "),e.xp6(4),e.Q6J("employee",t.editTaskSnapshots[t.indexEditSnapshot].whoEdited),e.xp6(2),e.AsE(" \u0421\u043d\u0438\u043c\u043e\u043a ",t.indexEditSnapshot+1," \u0438\u0437 ",t.editTaskSnapshots.length," ")}}function Io(n,o){1&n&&(e.TgZ(0,"span",147),e._uU(1,"keyboard_double_arrow_right"),e.qZA())}function Di(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"span",145),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.YNc(7,Io,2,0,"span",146),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(3),e.hij(" ",t.before.name," "),e.xp6(2),e.hij(" ",t.before.textRepresentation," "),e.xp6(2),e.Q6J("ngIf",!i.areFieldsEqual(t.before,t.after)),e.xp6(2),e.hij(" ",t.after.textRepresentation," ")}}function Cs(n,o){if(1&n&&(e.TgZ(0,"div",148),e.ALo(1,"date"),e._UZ(2,"i",149),e.TgZ(3,"span"),e._uU(4," \u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#f7ce2a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualFrom,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualFromTime$)," ")}}function po(n,o){if(1&n&&(e.TgZ(0,"div",148),e.ALo(1,"date"),e._UZ(2,"i",149),e.TgZ(3,"span"),e._uU(4," \u0421\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#ff512a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualTo,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualToTime$)," ")}}function lo(n,o){if(1&n&&(e.TgZ(0,"div",158)(1,"span",159),e._uU(2,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447 \u0432 \u0441\u0442\u0430\u0440\u043e\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u0435"),e.qZA(),e.TgZ(3,"span",160),e._uU(4),e.qZA()()),2&n){const t=o.ngIf;e.xp6(4),e.Oqu(t.name)}}function $o(n,o){if(1&n&&(e.TgZ(0,"span",161),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0),e.xp6(1),e.hij(" ",t.oldTrackerBindInfoForm.controls.id.errors.error," ")}}function Us(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",162),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.bindTaskToTask())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0)("disabled",t.oldTrackerBindInfoForm.controls.id.invalid||t.oldTrackerBindInfoForm.controls.id.pending)("loading",t.isTaskInConnectionProcess)}}function Ss(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",163),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.changeTaskStageInOldTracker())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("@fadeIn",void 0)("loading",t.isTaskInStageChangeProcess)}}const Hs=function(){return[]};function ds(n,o){if(1&n&&(e.TgZ(0,"div",150),e.YNc(1,lo,5,1,"div",151),e.ALo(2,"async"),e.TgZ(3,"div",152)(4,"label"),e._uU(5,"ID \u0417\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(6,"input",153),e.YNc(7,$o,2,2,"span",154),e.qZA(),e.YNc(8,Us,1,3,"p-button",155),e.TgZ(9,"div",152)(10,"label"),e._uU(11,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(12,"p-dropdown",156),e.ALo(13,"async"),e.qZA(),e.YNc(14,Ss,1,2,"p-button",157),e.qZA()),2&n){const t=e.oxw();let i;e.Q6J("formGroup",t.oldTrackerBindInfoForm),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,7,t.currentOldTrackerClass$)),e.xp6(5),e.Q6J("readonly",t.isChangeOldTrackerBindDisabled),e.xp6(1),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.id.errors),e.xp6(1),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.id.dirty&&t.oldTrackerBindInfoForm.value.id&&!t.isChangeOldTrackerBindDisabled),e.xp6(4),e.Q6J("options",null!==(i=e.lcZ(13,9,t.oldTrackerStageOptions$))&&void 0!==i?i:e.DdM(11,Hs)),e.xp6(2),e.Q6J("ngIf",t.oldTrackerBindInfoForm.controls.taskStageId.dirty&&t.oldTrackerBindInfoForm.value.taskStageId&&t.isChangeOldTrackerBindDisabled)}}function br(n,o){1&n&&(e.TgZ(0,"div",164),e._UZ(1,"span",165),e.TgZ(2,"span"),e._uU(3," \u0414\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0443 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA()())}const fa=function(){return{width:"50vw"}},yr=function(){return{"960px":"75vw","640px":"100vw"}},xr=function(){return{width:"35rem",height:"50vh"}},wa=function(){return{"960px":"50vw","640px":"100vw"}},vs=function(){return{width:"60vw"}},ua=function(){return{overflow:"auto",minHeight:"100%"}},Ks=function(){return{width:"75vw",maxHeight:"70vh"}},Nr=function(){return{"960px":"85vw","640px":"100vw"}};let Fr=(()=>{class n{constructor(t,i,s,p,w,J,_e,$e,Xe){this.api=t,this.route=i,this.chatService=s,this.confirmation=p,this.toast=w,this.customNav=J,this.rt=_e,this.taskCreator=$e,this.commentCachingService=Xe,this.loadingState=he.Gu.LOADING,this.commentSending=!1,this.quillModules=_.tg,this.attachedFiles=[],this.countAllAttachments=0,this.showFilesHistory=!1,this.stageMenuItems=[],this.showAppointInstallersMenu=!1,this.showChangeObserversDialog=!1,this.showTaskLinkingDialog=!1,this.taskLinkingType="parent",this.isLinkingBegin=!1,this.listOfChildTaskLinking=[],this.departmentList=[],this.employeeList=[],this.selectedDepartmentObservers=[],this.selectedEmployeeObservers=[],this.changingTaskObservers=!1,this.employees$=this.api.getEmployeesOptionsList(),this.linkingTaskSkeletonArray=Array.from({length:50}),this.subscriptions=new _.xf,this.taskChain=[],this.showTaskChainDialog=!1,this.listOfExistingTasksToLink=[],this.totalExistingTasksToLink=0,this.loadingExistingTasksToLink=!1,this.globalTaskSearchString="",this.taskCreationDateFilterForLinking=[],this.taskAuthorEmployeeFilter="",this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1,this.schedulingTaskDialogVisible=!1,this.schedulingTaskType="from",this.showChatHistory=!1,this.isShowEditTaskDialog=!1,this.isShowEditHistoryDialog=!1,this.editTaskSnapshots=[],this.indexEditSnapshot=0,this.managementMenu=[],this.forceCloseWorkLogDialogVisible=!1,this.isForceClosingWorkLog=!1,this.commentInputForm=new f.cw({text:new f.NI(""),files:new f.NI([])}),this.commentEditorMode="simple",this.taskEventsVisible=!0,this.journalVisible=!1,this.installedTags=new f.NI([]),this.actualFromDurationCounter=new _.pd,this.actualFromTime$=this.actualFromDurationCounter.observer.pipe((0,mt.U)(Xt=>Xt.actualLabel)),this.isBeforeActualFrom$=this.actualFromDurationCounter.observer.pipe((0,mt.U)(Xt=>"before"==Xt.mode)),this.actualToDurationCounter=new _.pd,this.actualToTime$=this.actualToDurationCounter.observer.pipe((0,mt.U)(Xt=>"after"===Xt.mode?"-"+Xt.actualLabel:Xt.actualLabel)),this.oldTrackerBindInfoForm=new f.cw({id:new f.NI(null,[],[this.compatibilityTaskValidator()]),taskClassId:new f.NI(null),taskStageId:new f.NI(null)}),this.oldTrackerClassOptions$=this.api.getOldTrackerClasses().pipe((0,cn.d)(1)),this.currentOldTrackerClass$=this.oldTrackerClassOptions$.pipe((0,mt.U)(Xt=>Xt.find(jt=>{var Wt,fn,Rn;return jt.id===(null===(Rn=null===(fn=null===(Wt=this.currentTask)||void 0===Wt?void 0:Wt.currentStage)||void 0===fn?void 0:fn.oldTrackerBind)||void 0===Rn?void 0:Rn.classId)}))),this.oldTrackerStageOptions$=this.oldTrackerBindInfoForm.controls.taskClassId.valueChanges.pipe((0,R.w)(Xt=>this.oldTrackerClassOptions$.pipe((0,mt.U)(jt=>{var Wt,fn;return null!==(fn=null===(Wt=jt.find(Rn=>Rn.id===Xt))||void 0===Wt?void 0:Wt.stages)&&void 0!==fn?fn:[]}))),(0,cn.d)(1)),this.isChangeOldTrackerBindDisabled=!1,this.isTaskInConnectionProcess=!1,this.isTaskInStageChangeProcess=!1,this._taskId=0,this.quillFormats=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula"],this.taskJournalSorting=_.Ke.loadOrDefault("taskJournalSortingType",he.Rh.CREATE_DATE_DESC),this.taskJournalSortingOptions=[{label:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",value:he.Rh.CREATE_DATE_DESC},{label:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435",value:he.Rh.CREATE_DATE_ASC}]}compatibilityTaskValidator(){return t=>this._taskId&&t.value?(0,Tn.of)(t.value).pipe((0,tn.g)(1500),(0,R.w)(i=>this.api.checkCompatibility(this._taskId,i))):(0,Tn.of)({})}get taskStatusColor(){if(this.currentTask)switch(this.currentTask.taskStatus){case"ACTIVE":return"text-primary";case"PROCESSING":return"text-orange-400";case"CLOSE":return"text-bluegray-300"}return""}get taskId(){return this._taskId}set taskId(t){this._taskId=t,this.api.getTask(this._taskId).subscribe({next:i=>{var s;this.currentTask=i,this.loadingState=i.deleted?he.Gu.ERROR:he.Gu.READY,this.installedTags.setValue(null!==(s=i.tags)&&void 0!==s?s:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.subscriptions.addSubscription("edTaskTg",this.installedTags.valueChanges.subscribe(p=>{!p||this.api.setTaskTags(i.taskId,p).subscribe()})),this.api.getActiveWorkLogByTaskId(i.taskId).subscribe(p=>{this.activeWorkLog=p}),this.orderFields(),this.stageMenuItems=this.getStageMenuItems(),this.subscriptions.addSubscription("taskUpd",this.rt.taskUpdated(t).subscribe(p=>{var w;this.currentTask=p,this.installedTags.setValue(null!==(w=p.tags)&&void 0!==w?w:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.stageMenuItems=this.getStageMenuItems(),this.orderFields(),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()})),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()},error:()=>{this.loadingState=he.Gu.ERROR}})}get excludedTasks(){if(!this.currentTask)return[];const t=[];return this.currentTask.children&&this.currentTask.children.forEach(i=>t.push(i.taskId)),this.currentTask.parent&&t.push(this.currentTask.parent),t.push(this._taskId),t}trackSnapshotPair(t,i){return i.before.modelItemId}snapshotFieldPairs(t){if(!t)return[];const i=[];return t.beforeEditing.forEach(s=>{const p=t.afterEditing.find(w=>w.id===s.id);p&&i.push({before:s,after:p})}),i}areFieldsEqual(t,i){return JSON.stringify(t)===JSON.stringify(i)}ngOnInit(){this.route.params.subscribe(t=>{this.taskId=parseInt(t.id),this.api.getCountAllTaskAttachments(this._taskId).subscribe(i=>this.countAllAttachments=i),this.updateObservableList()}),this.commentInputForm.patchValue({text:this.commentCachingService.read(this.taskId)}),this.subscriptions.addSubscription("wlCrd",this.rt.workLogCreated().subscribe(this.workLogCreated.bind(this))),this.subscriptions.addSubscription("wlCls",this.rt.workLogClosed().subscribe(this.workLogClosed.bind(this))),this.subscriptions.addSubscription("comCh",this.commentInputForm.controls.text.valueChanges.subscribe(t=>{this.commentCachingService.write(this.taskId,null!=t?t:"")}))}updateObservableList(){this.api.getDepartments().subscribe(t=>{var i,s,p;this.departmentList=t,this.selectedDepartmentObservers=[];for(const w of t)w.departmentId&&null!==(p=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.departmentsObservers)||void 0===s?void 0:s.some(J=>J.departmentId===w.departmentId))&&void 0!==p&&p&&this.selectedDepartmentObservers.push(w.departmentId)}),this.api.getEmployees(void 0,!1,!1).subscribe(t=>{var i,s,p;this.employeeList=t,this.selectedEmployeeObservers=[];for(const w of t)w.login&&null!==(p=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers)||void 0===s?void 0:s.some(J=>J.login===w.login))&&void 0!==p&&p&&this.selectedEmployeeObservers.push(w.login)})}sendComment(){var t,i,s;const p=this.commentInputForm.getRawValue();if(0!==(null===(t=p.text)||void 0===t?void 0:t.trim().length)||0!==(null===(i=p.files)||void 0===i?void 0:i.length)){if(this.commentInputForm.disable({emitEvent:!1}),this.editComment){if(null===p.text||0===p.text.trim().length||p.text===this.editComment.message)return;return this.editComment.message=p.text,void this.api.updateComment(this.editComment).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.editComment=void 0},error:()=>this.commentInputForm.enable({emitEvent:!1})})}this.api.createComment(p.text,this._taskId,p.files,null===(s=this.replyComment)||void 0===s?void 0:s.commentId).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.replyComment=void 0,this.commentCachingService.flush(this.taskId)},error:()=>this.commentInputForm.enable({emitEvent:!1})})}}sendCommentByEnter(t){"Enter"===t.key&&t.ctrlKey&&this.sendComment()}deleteTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>this.api.deleteTask(this._taskId).subscribe()})}getStageMenuItems(){var t,i;return null!==(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)&&void 0!==i&&i.stages?this.currentTask.modelWireframe.stages.sort((s,p)=>s.orderIndex-p.orderIndex).map(s=>{var p,w,J,_e;return s.stageId==(null===(w=null===(p=this.currentTask)||void 0===p?void 0:p.currentStage)||void 0===w?void 0:w.stageId)?{label:null!==(J=`${s.label}`)&&void 0!==J?J:"",disabled:!0,icon:"pi pi-fw pi-check"}:{label:null!==(_e=s.label)&&void 0!==_e?_e:"",command:()=>this.api.changeTaskStage(this.taskId,s.stageId).subscribe(),icon:"pi pi-fw pi-chevron-circle-right"}}):[]}moveToNextStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const s=this.currentTask.modelWireframe.stages.sort((w,J)=>w.orderIndex-J.orderIndex),p=s.findIndex(w=>{var J,_e;return w.stageId===(null===(_e=null===(J=this.currentTask)||void 0===J?void 0:J.currentStage)||void 0===_e?void 0:_e.stageId)});p<s.length-1&&this.api.changeTaskStage(this.taskId,s[p+1].stageId).subscribe()}isLastStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const s=this.currentTask.modelWireframe.stages.sort((w,J)=>w.orderIndex-J.orderIndex);return s.findIndex(w=>{var J,_e;return w.stageId===(null===(_e=null===(J=this.currentTask)||void 0===J?void 0:J.currentStage)||void 0===_e?void 0:_e.stageId)})===s.length-1}editCommentChanged(t){this.commentInputForm.patchValue({text:t.message})}ngOnDestroy(){this.subscriptions.unsubscribeAll()}sendObservableList(){this.changingTaskObservers=!0,this.api.changeTaskObservers(this._taskId,this.selectedDepartmentObservers,this.selectedEmployeeObservers).subscribe({next:()=>{this.showChangeObserversDialog=!1,this.changingTaskObservers=!1},error:()=>{this.changingTaskObservers=!1}})}createLinkedTask(t){window.open(`/task/create?${t}=${this._taskId}`,"_blank",`popup=yes,width=800,height=800,left=${screen.width/2-400},top=${screen.height/2-400}`)}unlinkParentTask(t){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.unlinkParentTask(t||this._taskId).subscribe()}})}openTaskChainDialog(){var t,i;this.taskChain=[],null!==(t=this.currentTask)&&void 0!==t&&t.taskId&&this.api.getRootTask(null===(i=this.currentTask)||void 0===i?void 0:i.taskId).subscribe(s=>{this.taskChain=[{data:s,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(s)}],this.showTaskChainDialog=!0})}changeTaskListPageToLink(t){var i,s,p,w;this.loadingExistingTasksToLink=!0;const J=[this._taskId,...null!==(p=null===(s=null===(i=this.currentTask)||void 0===i?void 0:i.children)||void 0===s?void 0:s.map(_e=>_e.taskId))&&void 0!==p?p:[]];!(null===(w=this.currentTask)||void 0===w)&&w.parent&&J.push(this.currentTask.parent),this.api.getPageOfTasks(t.page,{status:[he.hY.ACTIVE,he.hY.PROCESSING,he.hY.CLOSE],searchPhrase:this.globalTaskSearchString,author:this.taskAuthorEmployeeFilter,exclusionIds:J}).subscribe({next:_e=>{this.applyPageOfTasks(_e),this.loadingExistingTasksToLink=!1},error:()=>{this.loadingExistingTasksToLink=!1}})}applyPageOfTasks(t){this.listOfExistingTasksToLink=t.content,this.totalExistingTasksToLink=t.totalElements}filteringTasksToLink(){setTimeout(()=>{this.changeTaskListPageToLink({page:0})})}openChangeResponsibleDialog(){var t;this.showChangeResponsibleDialog=!0,this.selectedEmployeeAsResponsible=null===(t=this.currentTask)||void 0===t?void 0:t.responsible}changeResponsible(){!this.selectedEmployeeAsResponsible||(this.selectingResponsible=!0,this.api.changeTaskResponsible(this._taskId,this.selectedEmployeeAsResponsible).subscribe({next:()=>{this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1},error:()=>{this.selectingResponsible=!1}}))}confirmUnbindResponsible(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0431\u0440\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e?",accept:()=>{this.api.unbindResponsible(this._taskId).subscribe()}})}openChangeObserversDialog(){this.showChangeObserversDialog=!0,this.updateObservableList()}removeActualFromDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430?",accept:()=>{this.api.clearActualFromDate(this._taskId).subscribe()}})}removeActualToDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0438?",accept:()=>{this.api.clearActualToDate(this._taskId).subscribe()}})}closeTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.closeTask(this._taskId).subscribe()}})}isTaskActive(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===he.hY.ACTIVE}isTaskProcessing(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===he.hY.PROCESSING}isTaskClose(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===he.hY.CLOSE}reopenTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.reopenTask(this._taskId).subscribe()}})}showEditHistoryDialog(){this.api.getEditTaskSnapshots(this._taskId).subscribe(t=>{this.editTaskSnapshots=t,this.indexEditSnapshot=0,this.isShowEditHistoryDialog=!0})}changeCurrentSnapshot(t){this.indexEditSnapshot+=t,this.indexEditSnapshot>this.editTaskSnapshots.length-1?this.indexEditSnapshot=0:this.indexEditSnapshot<0&&(this.indexEditSnapshot=this.editTaskSnapshots.length-1)}isTaskHasParent(){var t;return"number"==typeof(null===(t=this.currentTask)||void 0===t?void 0:t.parent)}isTaskHasChilds(){var t,i;return(null===(t=this.currentTask)||void 0===t?void 0:t.children)&&(null===(i=this.currentTask)||void 0===i?void 0:i.children.length)>0}isTaskHasObservers(){var t,i,s,p;return(null===(t=this.currentTask)||void 0===t?void 0:t.employeesObservers)&&(null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers.length)>0||(null===(s=this.currentTask)||void 0===s?void 0:s.departmentsObservers)&&(null===(p=this.currentTask)||void 0===p?void 0:p.departmentsObservers.length)>0}insertEmployeeToCommentEditor(t){setTimeout(()=>{var i,s;const p=null===(i=this.commentEditor)||void 0===i?void 0:i.quillEditor;if(!p)return;const w=p.getSelection(!0),J=null!==(s=t.login+" ")&&void 0!==s?s:"";p.insertText(w.index,J,"user"),p.setSelection(w.index+J.length,0)},100)}forceFocusCommentInput(){var t;null===(t=this.commentEditor)||void 0===t||t.quillEditor.focus()}linkToParentTask(t){!t||this.api.changeLinkToParentTask(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}linkToChildTasks(t){!t||0===t.length||this.api.appendLinksToChildrenTasks(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}clearCommentText(){let t=this.commentInputForm.value.text;t&&(t=t.replace(/<\/?[^>]+(>|$)/g,"")),this.commentInputForm.patchValue({text:t})}workLogCreated(t){t.task.taskId===this._taskId&&(this.activeWorkLog=t)}workLogClosed(t){t.task.taskId===this._taskId&&(this.activeWorkLog=void 0)}openWorkLogsDialog(){!this.workLogsDialogEl||this.workLogsDialogEl.open(this._taskId)}taskManagementMenu(){var t,i,s,p;const w=null!==(p=null===(s=null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i?void 0:i.documentTemplates)||void 0===s?void 0:s.map(J=>({label:J.name,command:()=>{var _e;window.open(`api/private/document-template?taskId=${null===(_e=this.currentTask)||void 0===_e?void 0:_e.taskId}&documentTemplateId=${J.documentTemplateId}`)}})))&&void 0!==p?p:[];return[{icon:"mdi-task",label:"\u0417\u0430\u0434\u0430\u0447\u0430",items:[{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",icon:"mdi-history",command:this.showEditHistoryDialog.bind(this)},{label:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b",icon:"mdi-document_scanner",disabled:0===w.length,items:w},{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",icon:"mdi-person",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:this.openChangeResponsibleDialog.bind(this)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c",icon:"mdi-close",command:this.confirmUnbindResponsible.bind(this)}],disabled:this.isTaskClose()},{label:"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438",icon:"mdi-groups",items:[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:this.openChangeObserversDialog.bind(this)}],disabled:this.isTaskClose()},{label:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",icon:"mdi-link",items:[{label:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f",icon:"mdi-call_merge",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("child",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var J;null===(J=this.taskLinkingDialog)||void 0===J||J.open("single")}}]},{label:"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435",icon:"mdi-call_split",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("parent",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var J;null===(J=this.taskLinkingDialog)||void 0===J||J.open("multiply")}}]}]},{label:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",icon:"mdi-schedule",items:[{label:"\u041d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-pending_actions",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>{this.schedulingTaskDialogVisible=!0,this.schedulingTaskType="from"}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("from")}]},{label:"\u041a\u043e\u043d\u0435\u0446",icon:"mdi-today",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>{this.schedulingTaskDialogVisible=!0,this.schedulingTaskType="to"}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("to")}]}],disabled:this.isTaskClose()},{label:"\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_up_alt",command:this.reopenTask.bind(this),visible:this.isTaskClose()},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_down_alt",command:this.closeTask.bind(this),visible:this.isTaskActive()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:this.deleteTask.bind(this),disabled:!this.isTaskActive()}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-edit",command:()=>this.isShowEditTaskDialog=!0,disabled:this.isTaskClose()},{icon:"mdi-engineering",label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",items:[{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",command:()=>this.showAppointInstallersMenu=!0,visible:this.isTaskActive()},{label:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c",icon:"mdi-assignment_return",command:()=>this.forceCloseWorkLogDialogVisible=!0,visible:this.isTaskProcessing()},{label:"\u041e\u0442\u0447\u0435\u0442\u044b",icon:"mdi-history_edu",command:this.openWorkLogsDialog.bind(this)}]},{icon:"mdi-inventory_2",label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b",command:()=>this.showFilesHistory=!0},{icon:"mdi-sync",label:"\u0421\u0442\u0430\u0440\u044b\u0439 \u0442\u0440\u0435\u043a\u0435\u0440",command:J=>{this.openOldTrackerDialog(J.originalEvent)}}]}updateTaskActualTimers(){var t,i;this.actualFromDurationCounter.setTime(null===(t=this.currentTask)||void 0===t?void 0:t.actualFrom),this.actualToDurationCounter.setTime(null===(i=this.currentTask)||void 0===i?void 0:i.actualTo)}orderFields(){var t,i,s,p;const w=[];null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||i.steps.forEach(J=>J.fields.forEach(_e=>w.push(_e))),null===(p=null===(s=this.currentTask)||void 0===s?void 0:s.fields)||void 0===p||p.sort((J,_e)=>{var $e,Xe,Xt,jt;return(null!==(Xe=null===($e=w.find(Rn=>Rn.id===J.id))||void 0===$e?void 0:$e.orderPosition)&&void 0!==Xe?Xe:0)-(null!==(jt=null===(Xt=w.find(Rn=>Rn.id===_e.id))||void 0===Xt?void 0:Xt.orderPosition)&&void 0!==jt?jt:0)})}recursivelyCreatingChainOfTasks(t){var i,s;return t&&null!==(s=null===(i=t.children)||void 0===i?void 0:i.map(p=>({data:p,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(p)})))&&void 0!==s?s:[]}confirmUnbindDate(t){this.confirmation.confirm("from"===t?{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0434\u0430\u0442\u0443?",accept:()=>this.api.clearActualFromDate(this.taskId).subscribe()}:{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f?",accept:()=>this.api.clearActualToDate(this.taskId).subscribe()})}pasteFiles(t){var i;null===(i=this.fileInput)||void 0===i||i.appendFiles(t)}openOldTrackerDialog(t){var i,s,p;this.oldTrackerPanel&&this.currentTask&&(this.isChangeOldTrackerBindDisabled=!!this.currentTask.oldTrackerTaskId,this.isChangeOldTrackerBindDisabled&&this.oldTrackerBindInfoForm.setValue({id:null!==(i=this.currentTask.oldTrackerTaskId)&&void 0!==i?i:null,taskClassId:null!==(s=this.currentTask.oldTrackerTaskClassId)&&void 0!==s?s:null,taskStageId:null!==(p=this.currentTask.oldTrackerCurrentStageId)&&void 0!==p?p:null}),this.oldTrackerPanel.show(t))}bindTaskToTask(){this.currentTask&&this.oldTrackerBindInfoForm.value.id&&this.oldTrackerBindInfoForm.controls.id.valid&&!this.oldTrackerBindInfoForm.controls.id.pending&&(this.isTaskInConnectionProcess=!0,this.api.connectToOldTracker(this.currentTask.taskId,this.oldTrackerBindInfoForm.value.id).subscribe({next:()=>{var t;this.isTaskInConnectionProcess=!1,null===(t=this.oldTrackerPanel)||void 0===t||t.hide()},error:()=>{this.isTaskInConnectionProcess=!1}}))}changeTaskStageInOldTracker(){this.currentTask&&this.oldTrackerBindInfoForm.value.taskStageId&&(this.isTaskInStageChangeProcess=!0,this.api.changeTaskStageInOldTracker(this.currentTask.taskId,this.oldTrackerBindInfoForm.value.taskStageId).subscribe({next:()=>{var t;this.isTaskInStageChangeProcess=!1,null===(t=this.oldTrackerPanel)||void 0===t||t.hide()},error:()=>{this.isTaskInStageChangeProcess=!1}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(d.gz),e.Y36(bt.a),e.Y36(N.YP),e.Y36(N.ez),e.Y36(nt.r),e.Y36(de.U),e.Y36(T.e),e.Y36(Qe.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ze,5),e.Gf(kt,5),e.Gf(Ze,5),e.Gf($t,5),e.Gf(gn,5),e.Gf(Gt,5),e.Gf(Mn,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.filesInput=s.first),e.iGM(s=e.CRH())&&(i.taskActualDateSetPanel=s.first),e.iGM(s=e.CRH())&&(i.commentEditor=s.first),e.iGM(s=e.CRH())&&(i.taskLinkingDialog=s.first),e.iGM(s=e.CRH())&&(i.workLogsDialogEl=s.first),e.iGM(s=e.CRH())&&(i.fileInput=s.first),e.iGM(s=e.CRH())&&(i.oldTrackerPanel=s.first)}},decls:70,vars:79,consts:[["appExtendPageHeight","",1,"flex","gap-5","px-5"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"show","taskId","showChange"],[3,"visible","taskId","visibleChange"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],["header","\u041e\u0442\u0434\u0435\u043b\u044b"],[1,"list-view"],["class","list-view-item bordered flexed hcenter gap10",4,"ngFor","ngForOf"],["header","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"],[1,"flexed","gap10","hcenter","vend"],["icon","cancel","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","full-height"],[1,"list-view","stretched","p5","gap5"],["class","list-view-item hovered bordered flexed hcenter gap10",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flexed","vend","hcenter","gap10"],["icon","check","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438",3,"excludedTasks","onMultiplySelected","onSelected"],["taskLinkingDialog",""],["header","\u0426\u0435\u043f\u043e\u0447\u043a\u0430 \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","dismissableMask","draggable","maximizable","modal","resizable","visibleChange"],["appDragScrolling",""],[3,"value"],["pTemplate","task"],[3,"visible","task","visibleChange"],["header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10"],[1,"flexed","hcenter","vcenter","gap20","p5"],["icon","chevron_left","label","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439","model","p-button-text",3,"onClick"],["class","flexed column hcenter vcenter gap5",4,"ngIf"],["icon","chevron_right","iconPos","right","label","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439","model","p-button-text",3,"onClick"],[1,"change-comparison-table"],[1,"one-line"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"visible","schedulingType","taskId","visibleChange"],[3,"taskId","visible","visibleChange"],["workLogsDialogEl",""],["appendTo","body",3,"model","popup"],["stageMenu",""],["key","popup"],[3,"onReturnFocus","onSelect"],["empInsertPanel",""],["actualFromLabel",""],["actualToLabel",""],["appendTo","body",3,"dismissable"],["oldTrackerPanel",""],["class","flex flex-column gap-3",3,"formGroup",4,"ngIf","ngIfElse"],["oldTrackerBindWarningTemp",""],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-page"],[1,"panel","flexed","column","hcenter","vcenter","gap15","p20","caption","size-big","wt-bold","f-color-danger","responsive-wrapper"],[1,"flexed","column","hcenter"],[1,"mds-error"],["icon","mdi-chevron_left","label","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430\u0437\u0430\u0434","styleClass","p-button-outlined",3,"onClick"],[1,"flex","flex-column","flex-grow-1","gap-3"],["styleClass","bg-transparent p-0",3,"model"],["pTemplate","start"],["pTemplate","end"],[1,"flex","gap-3"],[1,"input-label-wrapper","w","max-fit"],[3,"formControl"],[3,"task"],[1,"flex","flex-column","gap-4","mb-8",3,"hidden"],[1,"text-bluegray-400","text-3xl","font-semibold","flex","gap-3","align-items-center"],[3,"ngModel","options","ngModelChange"],["offIcon","mdi-visibility_off","offLabel","C\u043e\u0431\u044b\u0442\u0438\u044f","onIcon","mdi-visibility","onLabel","C\u043e\u0431\u044b\u0442\u0438\u044f",3,"ngModel","ngModelChange"],[1,"indent1",3,"editComment","replyComment","showEvents","sortingType","taskId","editCommentChange","onFirstLoad","replyCommentChange"],["class","fixed left-0 bottom-0 flex flex-column gap-3 justify-content-center w-full",3,"formGroup",4,"ngIf"],[1,"flex","flex-column","gap-3","text-bluegray-500","font-bold","sticky","h-fit"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],[1,"mdi-flag"],[1,"mdi-person"],[3,"employee"],[1,"mdi-event"],[1,"white-space-nowrap"],["class","flex align-items-center gap-2",4,"ngIf"],["class","flex flex-column gap-2",4,"ngIf"],[1,"flexed","gap10","p5","indent1","hcenter"],["icon","mdi-arrow_back","pTooltip","\u041d\u0430\u0437\u0430\u0434","styleClass","p-button-icon p-button-text","tooltipPosition","bottom",3,"onClick"],[1,"flexed","column"],[1,"header400"],[1,"flex","align-items-baseline","gap-2","text-bluegray-500"],["pTooltip","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","tooltipPosition","bottom",3,"disabled","label","size","onClick"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"fixed","left-0","bottom-0","flex","flex-column","gap-3","justify-content-center","w-full",3,"formGroup"],["class","flexed hcenter gap15 panel caption size-small wt-bold f-color-primary mx-3",3,"padding",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[1,"flexed","hcenter","gap15","panel","caption","size-small","wt-bold","f-color-primary","mx-3"],[1,"mdi-reply"],[3,"employee","size"],[1,"caption","indent2"],[1,"stretched"],["icon","mdi-cancel","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],[1,"mdi-edit"],[1,"flexed","column","gap3"],[1,"caption"],[1,"flex","align-items-center","gap-2","shadow-1","bg-white"],["icon","mdi-text_fields","pTooltip","\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["appTextareaAutoresize","","formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"borderless-text-field","stretched",3,"disabled","keydown","paste"],["formControlName","files",3,"short",4,"ngIf"],["icon","mdi-send","styleClass","p-button-icon p-button-text p-button-rounded",3,"disabled","onClick"],["formControlName","files",3,"short"],["fileInput",""],[1,"flex","flex-column","gap-2","shadow-1","bg-white"],[1,"flexed","hcenter","gap5"],["icon","mdi-short_text","label","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","pTooltip","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["formControlName","files",4,"ngIf"],["icon","mdi-send","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass"," p-button-text",3,"disabled","onClick"],["formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"input",3,"disabled","formats","modules","styles","keydown","onContentChanged","paste"],["commentEditor",""],["formControlName","files"],[1,"flex","flex-column","gap-2"],[1,"mdi-groups"],[1,"ml-4","flex","flex-column","gap-2"],[3,"employee",4,"ngFor","ngForOf"],[3,"department",4,"ngFor","ngForOf"],[3,"department"],[1,"mdi-account_tree"],["icon","account_tree","pTooltip","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u0443","tooltipPosition","bottom",3,"onClick"],[1,"ml-4"],["class","flexed hcenter gap3",4,"ngIf"],["class","flexed gap5 caption size-small f-color-500",4,"ngIf"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"taskId"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick",4,"ngIf"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick"],[1,"flexed","gap5","caption","size-small","f-color-500"],["class","flexed gap3 hcenter",4,"ngFor","ngForOf"],[1,"flexed","gap3","hcenter"],[1,"list-view-item","bordered","flexed","hcenter","gap10"],["name","dep",3,"ngModel","value","ngModelChange"],["appColorize","",1,"caption"],["name","emp",3,"ngModel","value","ngModelChange"],[1,"list-view-item","hovered","bordered","flexed","hcenter","gap10",3,"ngClass","click"],[3,"name","size","src"],[1,"caption","size-small","wt-bold","f-color-500"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],[3,"item"],[1,"flexed","column","hcenter","vcenter","gap5"],[1,"caption","size-small"],[1,"flexed","hcenter","gap6"],[1,"caption","size-big","one-line"],["class","material-icons-round caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"material-icons-round","caption","size-small","wt-bold","f-color-primary"],["tooltipPosition","bottom",1,"flexed","gap3","caption","hcenter","p10",3,"pTooltip"],[1,"mdi-today","parent-inherit"],[1,"flex","flex-column","gap-3",3,"formGroup"],["class","flex flex-column gap-1",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","id","pInputText","","pKeyFilter","pint",3,"readonly"],["class","text-red-400 text-xs font-bold w-15rem",4,"ngIf"],["icon","mdi-add_link","label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c","styleClass","p-button-success w-full",3,"disabled","loading","onClick",4,"ngIf"],["appendTo","body","formControlName","taskStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options"],["icon","mdi-redo","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0430\u043f","styleClass","p-button-success w-full",3,"loading","onClick",4,"ngIf"],[1,"flex","flex-column","gap-1"],[1,"text-bluegray-400","text-sm","font-bold"],[1,"text-primary"],[1,"text-red-400","text-xs","font-bold","w-15rem"],["icon","mdi-add_link","label","\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c","styleClass","p-button-success w-full",3,"disabled","loading","onClick"],["icon","mdi-redo","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044d\u0442\u0430\u043f","styleClass","p-button-success w-full",3,"loading","onClick"],[1,"flex","gap-2","align-items-center","text-orange-400","font-bold","w-20rem"],[1,"mdi-warning"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,Ut,2,0,"ng-container",2),e.YNc(3,rn,7,1,"ng-container",2),e.YNc(4,ho,49,34,"ng-container",2),e.BQk(),e.qZA(),e.TgZ(5,"app-attachments-history-dialog",3),e.NdJ("showChange",function(p){return i.showFilesHistory=p}),e.qZA(),e.TgZ(6,"app-appoint-installers-dialog",4),e.NdJ("visibleChange",function(p){return i.showAppointInstallersMenu=p}),e.qZA(),e.TgZ(7,"p-dialog",5),e.NdJ("visibleChange",function(p){return i.showChangeObserversDialog=p}),e.TgZ(8,"p-tabView")(9,"p-tabPanel",6)(10,"div",7),e.YNc(11,Go,4,3,"div",8),e.qZA()(),e.TgZ(12,"p-tabPanel",9)(13,"div",7),e.YNc(14,Wo,3,4,"div",8),e.qZA()()(),e.TgZ(15,"div",10)(16,"app-button",11),e.NdJ("onClick",function(){return i.updateObservableList()}),e.qZA(),e.TgZ(17,"app-button",12),e.NdJ("onClick",function(){return i.sendObservableList()}),e.qZA()()(),e.TgZ(18,"p-dialog",13),e.NdJ("visibleChange",function(p){return i.showChangeResponsibleDialog=p}),e.TgZ(19,"div",14)(20,"div",15),e.YNc(21,os,8,9,"div",16),e.qZA(),e.TgZ(22,"div",17)(23,"app-button",18),e.NdJ("onClick",function(){return i.changeResponsible()}),e.qZA()()()(),e.TgZ(24,"app-task-selecting-dialog",19,20),e.NdJ("onMultiplySelected",function(p){return i.linkToChildTasks(p)})("onSelected",function(p){return i.linkToParentTask(p)}),e.qZA(),e.TgZ(26,"p-dialog",21),e.NdJ("visibleChange",function(p){return i.showTaskChainDialog=p}),e.TgZ(27,"div",22)(28,"p-organizationChart",23),e.YNc(29,_s,1,4,"ng-template",24),e.qZA()()(),e.TgZ(30,"app-edit-task-dialog",25),e.NdJ("visibleChange",function(p){return i.isShowEditTaskDialog=p}),e.qZA(),e.TgZ(31,"p-dialog",26),e.NdJ("visibleChange",function(p){return i.isShowEditHistoryDialog=p}),e.TgZ(32,"div",27)(33,"div",28)(34,"app-button",29),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(-1)}),e.qZA(),e.YNc(35,uo,11,7,"div",30),e.TgZ(36,"app-button",31),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(1)}),e.qZA()(),e.TgZ(37,"table",32)(38,"thead")(39,"tr")(40,"th")(41,"span",33),e._uU(42," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "),e.qZA()(),e.TgZ(43,"th")(44,"span",33),e._uU(45," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e "),e.qZA()(),e._UZ(46,"th"),e.TgZ(47,"th")(48,"span",33),e._uU(49," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 "),e.qZA()()()(),e.TgZ(50,"tbody"),e.YNc(51,Di,10,4,"tr",34),e.qZA()()()(),e.TgZ(52,"app-task-scheduling-dialog",35),e.NdJ("visibleChange",function(p){return i.schedulingTaskDialogVisible=p}),e.qZA(),e.TgZ(53,"app-force-close-dialog",36),e.NdJ("visibleChange",function(p){return i.forceCloseWorkLogDialogVisible=p}),e.qZA(),e._UZ(54,"app-work-logs-dialog",null,37)(56,"p-menu",38,39)(58,"p-confirmPopup",40),e.TgZ(59,"app-employee-insert-panel",41,42),e.NdJ("onReturnFocus",function(){return i.forceFocusCommentInput()})("onSelect",function(p){return i.insertEmployeeToCommentEditor(p)}),e.qZA(),e.YNc(61,Cs,8,9,"ng-template",null,43,e.W1O),e.YNc(63,po,8,9,"ng-template",null,44,e.W1O),e.TgZ(65,"p-overlayPanel",45,46),e.YNc(67,ds,15,12,"div",47),e.qZA(),e.YNc(68,br,4,0,"ng-template",null,48,e.W1O)),2&t){const s=e.MAs(69);e.xp6(1),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("show",i.showFilesHistory)("taskId",i.taskId),e.xp6(1),e.Q6J("visible",i.showAppointInstallersMenu)("taskId",i.taskId),e.xp6(1),e.Akn(e.DdM(70,fa)),e.Q6J("visible",i.showChangeObserversDialog)("breakpoints",e.DdM(71,yr))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.departmentList),e.xp6(2),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.employeeList),e.xp6(3),e.Q6J("loading",i.changingTaskObservers),e.xp6(1),e.Akn(e.DdM(72,xr)),e.Q6J("visible",i.showChangeResponsibleDialog)("breakpoints",e.DdM(73,wa))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngForOf",i.employeeList),e.xp6(2),e.Q6J("disabled",!i.selectedEmployeeAsResponsible)("loading",i.selectingResponsible),e.xp6(1),e.Q6J("excludedTasks",i.excludedTasks),e.xp6(2),e.Akn(e.DdM(74,vs)),e.Q6J("visible",i.showTaskChainDialog)("breakpoints",e.DdM(75,yr))("dismissableMask",!0)("draggable",!1)("maximizable",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn(e.DdM(76,ua)),e.xp6(1),e.Q6J("value",i.taskChain),e.xp6(2),e.Q6J("visible",i.isShowEditTaskDialog)("task",i.currentTask),e.xp6(1),e.Akn(e.DdM(77,Ks)),e.Q6J("visible",i.isShowEditHistoryDialog)("breakpoints",e.DdM(78,Nr))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(4),e.Q6J("ngIf",null==i.editTaskSnapshots?null:i.editTaskSnapshots.length),e.xp6(16),e.Q6J("ngForOf",i.snapshotFieldPairs(i.editTaskSnapshots[i.indexEditSnapshot]))("ngForTrackBy",i.trackSnapshotPair),e.xp6(1),e.Q6J("visible",i.schedulingTaskDialogVisible)("schedulingType",i.schedulingTaskType)("taskId",i.taskId),e.xp6(1),e.Q6J("taskId",i.taskId)("visible",i.forceCloseWorkLogDialogVisible),e.xp6(3),e.Q6J("model",i.stageMenuItems)("popup",!0),e.xp6(9),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",!(null==i.currentTask||null==i.currentTask.currentStage||!i.currentTask.currentStage.oldTrackerBind))("ngIfElse",s)}},styles:['.comment-panel[_ngcontent-%COMP%]{margin:.5rem 0}.status.ACTIVE[_ngcontent-%COMP%]{color:var(--mc-400)}.status.PROCESSING[_ngcontent-%COMP%]{color:var(--warm-400)}.status.CLOSE[_ngcontent-%COMP%]{color:var(--tc-400)}.stage-button[_ngcontent-%COMP%]{color:var(--mc-500);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .2s ease-out}.stage-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}.next-stage-button[_ngcontent-%COMP%]{color:var(--green-400);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;font-size:.85rem;font-weight:700;transition:color .2s ease-out}.next-stage-button[_ngcontent-%COMP%] > .material-icons-round[_ngcontent-%COMP%]{font-size:.95rem!important}.next-stage-button[_ngcontent-%COMP%]:hover{color:var(--green-600)}.text-preview[_ngcontent-%COMP%]{padding:1rem;background-color:var(--bgc-100)}.task-control-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.task-control-panel-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:max-content;gap:.2rem}.task-control-panel-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.task-control-panel-item-name[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700}.task-control-panel-item-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;margin-left:.5rem;font-size:1.1rem;color:var(--tc-700);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:.2rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700;flex:1}.dedicated-panel[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem;margin-left:2rem}.reply-comment-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"icon name cancel" "icon message cancel";column-gap:1rem;row-gap:.3rem;align-items:center;padding:1rem 1.2rem;border:1px solid var(--bgc-300);border-bottom:none}.reply-comment-preview[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{grid-area:icon;color:var(--bgc-600);font-size:2.5rem;line-height:normal}.reply-comment-preview[_ngcontent-%COMP%]   .whose-comment[_ngcontent-%COMP%]{grid-area:name;color:var(--tc-800);font-size:1.1rem;line-height:normal;font-weight:600}.reply-comment-preview[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{grid-area:message;color:var(--tc-700);font-size:1rem;line-height:normal;font-weight:400}.reply-comment-preview[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{grid-area:cancel}.comment-input-wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:1rem}.flow-button[_ngcontent-%COMP%]{position:absolute;transform:translateY(-110%);right:0}.global-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;position:sticky;top:0;padding:1rem 0;z-index:1;background-color:#ffffff80;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.linked-tasks-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;height:60vh;overflow-y:auto}.linked-task-skeleton[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:1rem}.tasks-loading-panel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;grid-area:1/1/-1/-1;display:flex;align-items:center;justify-content:center;background-color:#00000030;z-index:2}.change-comparison-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5rem 1rem}'],data:{animation:[u.U1,u.Ji]}}),n})();var Eo=b(6451),ei=b(8505),Ii=b(6309);function nr(n,o){1&n&&e.GkF(0)}function Ir(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function As(n,o){1&n&&e.GkF(0)}const ir=function(n){return{$implicit:n}};function $i(n,o){if(1&n&&(e.ynx(0),e.YNc(1,As,1,0,"ng-container",30),e.BQk()),2&n){const t=o.$implicit;e.oxw(4);const i=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ir,t))}}function ss(n,o){if(1&n&&(e.ynx(0),e.YNc(1,$i,2,4,"ng-container",29),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.templateItems)("ngForTrackBy",t.trackByTemplate)}}function bs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}function cr(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}const Xo=function(){return["constructor"]};function Tr(n,o){if(1&n&&(e.TgZ(0,"p-tabPanel",21)(1,"div",22),e._UZ(2,"p-button",23)(3,"p-toggleButton",24),e.qZA(),e.ynx(4,25),e.YNc(5,Ir,3,0,"ng-container",26),e.YNc(6,ss,2,2,"ng-container",26),e.YNc(7,bs,5,0,"ng-container",26),e.YNc(8,cr,5,0,"ng-container",26),e.BQk(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("padding-bottom","1rem"),e.xp6(1),e.Q6J("routerLink",e.DdM(9,Xo)),e.xp6(1),e.Q6J("formControl",t.deletedTemplatesSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function rs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function go(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-tag-list-item",38),e.NdJ("onEditTag",function(s){e.CHM(t);const p=e.oxw(4);return e.KtG(p.openEditTagDialog(s))}),e.qZA()}2&n&&e.Q6J("tag",o.$implicit)}function ys(n,o){if(1&n&&(e.ynx(0),e.YNc(1,go,1,1,"app-task-tag-list-item",37),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.availableTags)("ngForTrackBy",t.trackByTag)}}function xs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}function ws(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"i",32),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}function Vs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel",34)(1,"div",35)(2,"p-button",36),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openCreateTagDialog())}),e.qZA(),e._UZ(3,"p-toggleButton",24),e.qZA(),e.ynx(4,25),e.YNc(5,rs,3,0,"ng-container",26),e.YNc(6,ys,2,2,"ng-container",26),e.YNc(7,xs,5,0,"ng-container",26),e.YNc(8,ws,5,0,"ng-container",26),e.BQk(),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formControl",t.deletedTagsSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.tagLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function Ar(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",46),e._UZ(2,"p-progressSpinner",28),e.qZA(),e.BQk())}function wr(n,o){1&n&&e._UZ(0,"span",55)}function Br(n,o){if(1&n&&(e.TgZ(0,"span",56),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function Er(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"p-button",58),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw(5);return e.KtG(p.openEditEquipmentDialog(s))}),e.qZA(),e.TgZ(2,"p-button",59),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw().$implicit,w=e.oxw(5);return e.KtG(w.confirmDeleteEquipment(s,p))}),e.qZA()()}}function ps(n,o){1&n&&e._UZ(0,"div")}const Yo=function(n){return{"opacity-80":n}};function Sr(n,o){if(1&n&&(e.TgZ(0,"div",48)(1,"div",49)(2,"div",50),e.YNc(3,wr,1,0,"span",51),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",52),e._uU(7),e.qZA()(),e.YNc(8,Br,2,1,"span",53),e.qZA(),e.YNc(9,Er,3,0,"div",54),e.YNc(10,ps,1,0,"div",45),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(9,Yo,t.deleted)),e.xp6(3),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Tol(t.deleted?"text-bluegray-300":"text-bluegray-600"),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.hij("",t.price,"\u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(1),e.Q6J("ngIf",t.deleted)}}function kr(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Sr,11,11,"div",47),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i.trackByClientEquipment)}}function Et(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"i",61),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.BQk())}function pn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",62),e._UZ(2,"i",63),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.BQk())}function ie(n,o){if(1&n&&(e.ynx(0)(1,25),e.YNc(2,Ar,3,0,"ng-container",26),e.YNc(3,kr,2,2,"ng-container",26),e.YNc(4,Et,5,0,"ng-container",26),e.YNc(5,pn,5,0,"ng-container",26),e.BQk()()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngSwitch",t.equipmentLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function Le(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel",39)(1,"div",35)(2,"p-button",36),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openCreateEquipmentDialog())}),e.qZA(),e.ynx(3,40),e._UZ(4,"p-toggleButton",41),e.TgZ(5,"span",42),e._UZ(6,"i",43)(7,"input",44),e.qZA(),e.BQk(),e.qZA(),e.YNc(8,ie,6,5,"ng-container",45),e.ALo(9,"async"),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formGroup",t.equipmentsFilterForm),e.xp6(5),e.Q6J("ngIf",e.lcZ(9,2,t.equipments$))}}function It(n,o){if(1&n&&(e.TgZ(0,"p-tabView"),e.YNc(1,Tr,9,10,"p-tabPanel",18),e.YNc(2,Vs,9,6,"p-tabPanel",19),e.YNc(3,Le,10,4,"p-tabPanel",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_TASK_TEMPLATES)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_TASK_TAGS)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_DEVICES))}}function Jt(n,o){1&n&&e._UZ(0,"i",72)}function Pn(n,o){if(1&n&&(e.TgZ(0,"span",73),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}const qn=function(n){return{editingId:n}};function fi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"span",66),e.YNc(3,Jt,1,0,"i",67),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",68),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.YNc(9,Pn,2,1,"span",69),e.qZA(),e._UZ(10,"p-button",70),e.TgZ(11,"p-button",71),e.NdJ("onClick",function(s){const w=e.CHM(t).$implicit,J=e.oxw();return e.KtG(J.confirmDeleteWireframe(s,w.wireframeId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("opacity",t.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" \u0421\u043e\u0437\u0434\u0430\u043d\u0430: ",e.xi3(8,10,t.created,"dd MMMM yyyy HH:mm")," "),e.xp6(2),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("disabled",t.deleted)("queryParams",e.VKq(13,qn,t.wireframeId))("routerLink",e.DdM(15,Xo)),e.xp6(1),e.Q6J("disabled",t.deleted)}}function Zi(n,o){1&n&&e.GkF(0)}function Ni(n,o){if(1&n){const t=e.EpF();e.YNc(0,Zi,1,0,"ng-container",3),e.TgZ(1,"app-button",74),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createTag())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(30);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",t.tagDialogForm.invalid)("loading",t.isTagSaving)}}function Si(n,o){1&n&&e.GkF(0)}function hs(n,o){if(1&n){const t=e.EpF();e.YNc(0,Si,1,0,"ng-container",3),e.TgZ(1,"app-button",75),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editTag())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(30);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",t.tagDialogForm.invalid)("loading",t.isTagSaving)}}function qs(n,o){if(1&n&&(e.TgZ(0,"div",76)(1,"span",11)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430"),e.qZA(),e._UZ(4,"input",77),e.qZA(),e.TgZ(5,"span",11)(6,"label"),e._uU(7,"\u0424\u043e\u043d \u0442\u0435\u0433\u0430"),e.qZA(),e._UZ(8,"p-colorPicker",78),e.qZA(),e.TgZ(9,"span",11)(10,"label"),e._uU(11,"\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e._UZ(12,"p-inputSwitch",79),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.tagDialogForm)}}const jo=function(){return{width:"max-content"}},bo=function(){return{"960px":"75vw"}},So=function(){return{width:"450px"}},ks=function(){return{"960px":"450px"}};let Mi=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.personality=s,this.confirmation=p,this.AccessFlag=Ii.j,this.templateItems=[],this.availableTags=[],this.createTagDialogVisible=!1,this.editTagDialogVisible=!1,this.tagDialogForm=new f.cw({id:new f.NI(null),name:new f.NI("",f.kI.required),color:new f.NI("",f.kI.required),unbindAfterClose:new f.NI(!1)}),this.isTagSaving=!1,this.subscription=new _.xf,this.deletedTemplatesSwitcher=new f.NI(!1),this.deletedTagsSwitcher=new f.NI(!1),this.templateLoadingState=he.Gu.LOADING,this.tagLoadingState=he.Gu.LOADING,this.equipmentLoadingState=he.Gu.LOADING,this.templateLoadingHandler={next:w=>{this.templateLoadingState=w.length>0?he.Gu.READY:he.Gu.EMPTY,this.templateItems=w},error:()=>{this.templateLoadingState=he.Gu.ERROR}},this.tagLoadingHandler={next:w=>{this.tagLoadingState=w.length>0?he.Gu.READY:he.Gu.EMPTY,this.availableTags=w},error:()=>{this.tagLoadingState=he.Gu.ERROR}},this.equipmentsFilterForm=new f.cw({query:new f.NI(""),isDeleted:new f.NI(!1)}),this.changeEquipmentFilters$=this.equipmentsFilterForm.valueChanges.pipe((0,cn.d)(1)),this.equipmentsLoading$=(0,Eo.T)(this.changeEquipmentFilters$,(0,Tn.of)({query:"",isDeleted:!1})).pipe((0,ei.b)(()=>this.equipmentLoadingState=he.Gu.LOADING),(0,R.w)(w=>this.api.getClientEquipments(w.query,w.isDeleted)),(0,ei.b)({next:w=>this.equipmentLoadingState=w.length>0?he.Gu.READY:he.Gu.EMPTY,error:()=>this.equipmentLoadingState=he.Gu.ERROR}),(0,cn.d)(1)),this.equipmentsCreating$=this.rt.clientEquipmentsCreated().pipe((0,R.w)(w=>this.equipmentsLoading$.pipe((0,mt.U)(J=>(-1===J.findIndex($e=>$e.clientEquipmentId===w.clientEquipmentId)&&J.unshift(w),J))))),this.equipmentsUpdating$=this.rt.clientEquipmentsUpdated().pipe((0,R.w)(w=>this.equipmentsLoading$.pipe((0,mt.U)(J=>{const _e=J.findIndex($e=>$e.clientEquipmentId===w.clientEquipmentId);return-1!==_e&&(J[_e]=w),J})))),this.equipmentDeleting$=this.rt.clientEquipmentsDeleted().pipe((0,R.w)(w=>this.equipmentsLoading$.pipe((0,mt.U)(J=>{const _e=J.findIndex($e=>$e.clientEquipmentId===w.clientEquipmentId);return this.equipmentsFilterForm.value.isDeleted?J[_e]=w:-1!==_e&&J.splice(_e,1),J})))),this.equipments$=(0,Eo.T)(this.equipmentsLoading$,this.equipmentsCreating$,this.equipmentsUpdating$,this.equipmentDeleting$).pipe((0,cn.d)(1)),this.showEquipmentDialog=!1,this.isEquipmentCreating=!1,this.equipmentForm=new f.cw({name:new f.NI("",[f.kI.required]),description:new f.NI(""),price:new f.NI(0,[f.kI.required])})}ngOnInit(){this.subscription.addSubscription("crTag",this.rt.taskTagCreated().subscribe(this.tagCreated.bind(this))),this.subscription.addSubscription("updTag",this.rt.taskTagUpdated().subscribe(this.tagUpdated.bind(this))),this.subscription.addSubscription("delTag",this.rt.taskTagDeleted().subscribe(this.tagDeleted.bind(this))),this.subscription.addSubscription("crTemp",this.rt.wireframeCreated().subscribe(this.templateCreated.bind(this))),this.subscription.addSubscription("updTemp",this.rt.wireframeUpdated().subscribe(this.templateUpdated.bind(this))),this.subscription.addSubscription("delTemp",this.rt.wireframeDeleted().subscribe(this.templateDeleted.bind(this))),this.api.getWireframes(!1).subscribe(this.templateLoadingHandler),this.subscription.addSubscription("swDelTemp",this.deletedTemplatesSwitcher.valueChanges.subscribe(t=>{this.templateLoadingState=he.Gu.LOADING,this.api.getWireframes(null!=t&&t).subscribe(this.templateLoadingHandler)})),this.api.getTaskTags().subscribe(this.tagLoadingHandler),this.subscription.addSubscription("swDelTag",this.deletedTagsSwitcher.valueChanges.subscribe(t=>{this.tagLoadingState=he.Gu.LOADING,this.api.getTaskTags(null,null!=t&&t).subscribe(this.tagLoadingHandler)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}tagCreated(t){this.availableTags.some(i=>i.taskTagId===t.taskTagId)||this.availableTags.unshift(t)}tagUpdated(t){const i=this.availableTags.findIndex(s=>s.taskTagId===t.taskTagId);i>=0&&(this.availableTags[i]=t)}tagDeleted(t){const i=this.availableTags.findIndex(s=>s.taskTagId===t.taskTagId);if(i>=0){if(t.deleted&&this.deletedTagsSwitcher.value)return void(this.availableTags[i].deleted=!0);this.availableTags.splice(i,1)}}templateCreated(t){this.templateItems.some(i=>i.wireframeId===t.wireframeId)||this.templateItems.unshift(t)}templateUpdated(t){const i=this.templateItems.findIndex(s=>s.wireframeId===t.wireframeId);i>=0&&(this.templateItems[i]=t)}templateDeleted(t){const i=this.templateItems.findIndex(s=>s.wireframeId===t.wireframeId);if(i>=0){if(t.deleted&&this.deletedTemplatesSwitcher.value)return void(this.templateItems[i].deleted=!0);this.templateItems.splice(i,1)}}createTag(){this.isTagSaving=!0,this.api.createTaskTag(this.tagDialogForm.value).subscribe({next:()=>{this.isTagSaving=!1,this.createTagDialogVisible=!1},error:()=>{this.isTagSaving=!1}})}editTag(){this.isTagSaving=!0,this.api.modifyTaskTag(this.tagDialogForm.value).subscribe({next:()=>{this.isTagSaving=!1,this.editTagDialogVisible=!1},error:()=>{this.isTagSaving=!1}})}openCreateTagDialog(){this.tagDialogForm.setValue({id:null,name:"",color:this.generateRandomHslColor(),unbindAfterClose:!1}),this.createTagDialogVisible=!0,this.isTagSaving=!1}openEditTagDialog(t){this.tagDialogForm.setValue({id:t.taskTagId,name:t.name,color:t.color,unbindAfterClose:t.unbindAfterClose}),this.editTagDialogVisible=!0,this.isTagSaving=!1}openCreateEquipmentDialog(){this.equipmentForm.reset(),this.showEquipmentDialog=!0,this.editionEquipmentId=void 0}openEditEquipmentDialog(t){this.equipmentForm.patchValue(t),this.showEquipmentDialog=!0,this.editionEquipmentId=t.clientEquipmentId}confirmDeleteWireframe(t,i){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d?",accept:()=>this.api.deleteWireframe(i).subscribe()})}trackByTemplate(t,i){return i.wireframeId+i.name+i.description}trackByTag(t,i){return i.taskTagId+i.name+i.color}trackByClientEquipment(t,i){return i.clientEquipmentId+i.name+i.description+i.price}createEquipment(){this.isEquipmentCreating=!0,this.api.createClientEquipment(this.equipmentForm.value).subscribe({next:()=>{this.isEquipmentCreating=!1,this.showEquipmentDialog=!1},error:()=>{this.isEquipmentCreating=!1}})}editEquipment(){!this.editionEquipmentId||(this.isEquipmentCreating=!0,this.api.editClientEquipment(this.editionEquipmentId,this.equipmentForm.value).subscribe({next:()=>{this.isEquipmentCreating=!1,this.showEquipmentDialog=!1},error:()=>{this.isEquipmentCreating=!1}}))}confirmDeleteEquipment(t,i){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435?",accept:()=>this.api.deleteClientEquipment(i.clientEquipmentId).subscribe()})}hslToHex(t,i,s){let p,w,J;if(t/=360,s/=100,0==(i/=100))p=w=J=s;else{const $e=(jt,Wt,fn)=>(fn<0&&(fn+=1),fn>1&&(fn-=1),fn<.16666666666666666?jt+6*(Wt-jt)*fn:fn<.5?Wt:fn<.6666666666666666?jt+(Wt-jt)*(.6666666666666666-fn)*6:jt),Xe=s<.5?s*(1+i):s+i-s*i,Xt=2*s-Xe;p=$e(Xt,Xe,t+1/3),w=$e(Xt,Xe,t),J=$e(Xt,Xe,t-1/3)}const _e=$e=>{const Xe=Math.round(255*$e).toString(16);return 1===Xe.length?"0"+Xe:Xe};return`#${_e(p)}${_e(w)}${_e(J)}`}generateRandomHslColor(t=50,i=60,s=50,p=60){let w=Math.floor(360*Math.random()),J=Math.floor(Math.random()*(i-t)+t),_e=Math.floor(Math.random()*(p-s)+s);return this.hslToHex(w,J,_e)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(Q.F),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:31,vars:41,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","gap-3","shadow-1","overflow-hidden"],[4,"ngTemplateOutlet"],["tabview",""],["templateItem",""],["header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0433","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","breakpoints","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0433","contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","breakpoints","draggable","modal","resizable","dismissableMask","visibleChange"],[3,"visible","breakpoints","draggable","dismissableMask","header","modal","resizable","visibleChange"],[1,"flex","flex-column","gap-3","p-1",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText",""],["formControlName","description","pInputTextarea","",3,"autoResize"],["currency","RUB","formControlName","price","locale","ru-RU","mode","currency"],[1,"flex","justify-content-end"],["icon","mdi-add","styleClass","p-button-success",3,"disabled","label","loading","onClick"],["tagFormTemplate",""],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt",4,"ngIf"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer",4,"ngIf"],["header","\u0410\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","leftIcon","mdi-router",4,"ngIf"],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt"],[1,"flex","gap-3"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"routerLink"],["offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",3,"formControl"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","align-items-center","justify-content-center","p-5"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","align-items-center","justify-content-center","p-5","text-5xl","font-bold","text-red-400"],[1,"mdi-alert"],[1,"flex","align-items-center","justify-content-center","p-5","text-5xl","font-bold","text-bluegray-300"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer"],[1,"flex","gap-3","pb-3"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"click"],[3,"tag","onEditTag",4,"ngFor","ngForOf","ngForTrackBy"],[3,"tag","onEditTag"],["header","\u0410\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","leftIcon","mdi-router"],[3,"formGroup"],["formControlName","isDeleted","offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e..."],[4,"ngIf"],[1,"flex","align-items-center","justify-content-center","py-8"],["class","flex p-3 gap-3 split-line",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","p-3","gap-3","split-line",3,"ngClass"],[1,"flex","flex-column","justify-content-center","gap-1","flex-grow-1"],[1,"flex","gap-2","align-items-baseline"],["class","mdi-not_interested text-bluegray-300 text-sm",4,"ngIf"],[1,"text-primary-400","text-sm"],["class","text-bluegray-300 text-sm font-bold",4,"ngIf"],["class","flex",4,"ngIf"],[1,"mdi-not_interested","text-bluegray-300","text-sm"],[1,"text-bluegray-300","text-sm","font-bold"],[1,"flex"],["icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-text",3,"onClick"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-danger p-button-text",3,"onClick"],[1,"flex","flex-column","py-8","align-items-center","font-bold","text-red-400","text-lg"],[1,"mds-error"],[1,"flex","flex-column","py-8","align-items-center","font-bold","text-bluegray-400","text-lg"],[1,"mds-router"],[1,"template-item","flex","align-items-center","gap-2"],[1,"flex","flex-column","gap-2","flex-grow-1"],[1,"flex","align-items-center","flex-grow-1","gap-1"],["class","mdi-not_interested",4,"ngIf"],[1,"caption","size-tiny","wt-bold","f-color-500","indent1"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],["icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-text",3,"disabled","queryParams","routerLink"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-danger p-button-text",3,"disabled","onClick"],[1,"mdi-not_interested"],[1,"caption","size-small","wt-bold","f-color-500"],["icon","check","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","flex-column","gap-2",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","color","appendTo","body"],["formControlName","unbindAfterClose",1,"w-fit","h-fit"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,nr,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,It,4,3,"ng-template",null,4,e.W1O),e.YNc(7,fi,12,16,"ng-template",null,5,e.W1O),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(p){return i.createTagDialogVisible=p}),e.YNc(10,Ni,2,3,"ng-template",7),e.qZA(),e.TgZ(11,"p-dialog",8),e.NdJ("visibleChange",function(p){return i.editTagDialogVisible=p}),e.YNc(12,hs,2,3,"ng-template",7),e.qZA(),e.TgZ(13,"p-dialog",9),e.NdJ("visibleChange",function(p){return i.showEquipmentDialog=p}),e.TgZ(14,"div",10)(15,"div",11)(16,"label"),e._uU(17,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(18,"input",12),e.qZA(),e.TgZ(19,"div",11)(20,"label"),e._uU(21,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(22,"textarea",13),e.qZA(),e.TgZ(23,"div",11)(24,"label"),e._uU(25,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e._UZ(26,"p-inputNumber",14),e.qZA(),e.TgZ(27,"div",15)(28,"p-button",16),e.NdJ("onClick",function(){return i.editionEquipmentId?i.editEquipment():i.createEquipment()}),e.qZA()()()(),e.YNc(29,qs,13,1,"ng-template",null,17,e.W1O)),2&t){const s=e.MAs(6);e.xp6(3),e.Udp("margin-bottom","1rem"),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(5),e.Akn(e.DdM(35,jo)),e.Q6J("visible",i.createTagDialogVisible)("breakpoints",e.DdM(36,bo))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),e.xp6(2),e.Akn(e.DdM(37,jo)),e.Q6J("visible",i.editTagDialogVisible)("breakpoints",e.DdM(38,bo))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0),e.xp6(2),e.Akn(e.DdM(39,So)),e.Q6J("visible",i.showEquipmentDialog)("breakpoints",e.DdM(40,ks))("draggable",!1)("dismissableMask",!0)("header",i.editionEquipmentId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435")("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",i.equipmentForm),e.xp6(8),e.Udp("min-height","5rem"),e.Q6J("autoResize",!0),e.xp6(6),e.Q6J("disabled",!i.equipmentForm.valid)("label",i.editionEquipmentId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")("loading",i.isEquipmentCreating)}},styles:[".templates-scroller[_ngcontent-%COMP%]{height:100%}.template-item[_ngcontent-%COMP%]{padding:.8rem .8rem 1.1rem 1.1rem;font-size:1.2rem;color:var(--tc-700);transition:background-color .2s ease-out}.template-item-main-info-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-500)}.template-item-created-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);display:flex;flex-direction:column;align-items:flex-end}.title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:300;color:var(--tc-600)}.task-tags-list[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;overflow-y:auto}.append-tag-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1rem;font-weight:700;padding:1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .1s ease-out}.append-tag-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.template-create-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1.2rem;font-weight:700;padding:2rem 1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease-out}.template-create-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),n})();var es=b(1588),Bo=b(9841),Zr=b(4304),Po=b(1819),To=b(5315),Li=b(1777);function ur(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.uIk("id",t.id+"_header"),e.xp6(1),e.Oqu(t.header)}}function ma(n,o){1&n&&e.GkF(0)}function Qn(n,o){}function Ri(n,o){1&n&&e.YNc(0,Qn,0,0,"ng-template")}function zs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onIconClick(s))})("keydown.enter",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onIconClick(s))}),e._UZ(1,"span"),e.qZA()}if(2&n){const t=e.oxw(2);e.uIk("aria-label","collapse button")("id",t.id+"-label")("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),e.xp6(1),e.Tol(t.collapsed?t.expandIcon:t.collapseIcon)}}const Yr=function(n,o,t){return{"p-panel-icons-start":n,"p-panel-icons-end":o,"p-panel-icons-center":t}};function eo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onHeaderClick(s))}),e.YNc(1,ur,2,2,"span",7),e.Hsn(2,1),e.YNc(3,ma,1,0,"ng-container",4),e.TgZ(4,"div",8),e.YNc(5,Ri,1,0,null,4),e.YNc(6,zs,2,6,"button",9),e.qZA()()}if(2&n){const t=e.oxw();e.uIk("id",t.id+"-titlebar"),e.xp6(1),e.Q6J("ngIf",t.header),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngClass",e.kEZ(6,Yr,"start"===t.iconPos,"end"===t.iconPos,"center"===t.iconPos)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.iconTemplate),e.xp6(1),e.Q6J("ngIf",t.toggleable)}}function Xr(n,o){1&n&&e.GkF(0)}function dr(n,o){1&n&&e.GkF(0)}function Ds(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,2),e.YNc(2,dr,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const da=["*",[["p-header"]],[["p-footer"]]],Is=function(n,o){return{"p-panel p-component":!0,"p-panel-toggleable":n,"p-panel-expanded":o}},Js=function(n){return{transitionParams:n,height:"0",opacity:"0"}},jr=function(n){return{value:"hidden",params:n}},it=function(n){return{transitionParams:n,height:"*",opacity:"1"}},Ue=function(n){return{value:"visible",params:n}},De=["*","p-header","p-footer"];let Mt=0,Ln=(()=>{class n{constructor(t){this.el=t,this.collapsed=!1,this.iconPos="end",this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new e.vpe,this.onBeforeToggle=new e.vpe,this.onAfterToggle=new e.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+Mt++}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"icons":this.iconTemplate=t.template}})}onHeaderClick(t){"header"===this.toggler&&this.toggle(t)}onIconClick(t){"icon"===this.toggler&&this.toggle(t)}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(t):this.collapse(t)),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1,this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-panel"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,N.$_,5),e.Suo(s,N.jx,4)),2&t){let p;e.iGM(p=e.CRH())&&(i.footerFacet=p.first),e.iGM(p=e.CRH())&&(i.templates=p)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:De,decls:7,vars:23,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],["role","tablist",1,"p-panel-icons",3,"ngClass"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(t,i){1&t&&(e.F$t(da),e.TgZ(0,"div",0),e.YNc(1,eo,7,10,"div",1),e.TgZ(2,"div",2),e.NdJ("@panelContent.done",function(p){return i.onToggleDone(p)}),e.TgZ(3,"div",3),e.Hsn(4),e.YNc(5,Xr,1,0,"ng-container",4),e.qZA(),e.YNc(6,Ds,3,1,"div",5),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(12,Is,i.toggleable,!i.collapsed&&i.toggleable))("ngStyle",i.style),e.uIk("id",i.id),e.xp6(1),e.Q6J("ngIf",i.showHeader),e.xp6(1),e.Q6J("@panelContent",i.collapsed?e.VKq(17,jr,e.VKq(15,Js,i.animating?i.transitionOptions:"0ms")):e.VKq(21,Ue,e.VKq(19,it,i.animating?i.transitionOptions:"0ms"))),e.uIk("id",i.id+"-content")("aria-hidden",i.collapsed)("aria-labelledby",i.id+"-titlebar"),e.xp6(3),e.Q6J("ngTemplateOutlet",i.contentTemplate),e.xp6(1),e.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[k.mk,k.O5,k.tP,k.PC,ye.H],styles:[".p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded .p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,Li.X$)("panelContent",[(0,Li.SB)("hidden",(0,Li.oB)({height:"0"})),(0,Li.SB)("void",(0,Li.oB)({height:"{{height}}"}),{params:{height:"0"}}),(0,Li.SB)("visible",(0,Li.oB)({height:"*"})),(0,Li.eR)("visible <=> hidden",[(0,Li.jt)("{{transitionParams}}")]),(0,Li.eR)("void => hidden",(0,Li.jt)("{{transitionParams}}")),(0,Li.eR)("void => visible",(0,Li.jt)("{{transitionParams}}"))])]},changeDetection:0}),n})(),mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,N.m8,ye.T,N.m8]}),n})();var Gi=b(4119),_o=b(5730),Lo=b(5921),gs=b(5573);const $s=["listelement"],pr=["filter"];function Dr(n,o){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.header)}}function Kr(n,o){1&n&&e.GkF(0)}function hr(n,o){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,Dr,2,1,"div",14),e.YNc(2,Kr,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function or(n,o){1&n&&e.GkF(0)}const Ur=function(n){return{options:n}};function gr(n,o){if(1&n&&(e.ynx(0),e.YNc(1,or,1,0,"ng-container",20),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,Ur,t.filterOptions))}}function _a(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("keyup",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onFilterKeyup(s))}),e.qZA(),e._UZ(3,"span",24),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)}}function Ma(n,o){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,gr,2,4,"ng-container",18),e.YNc(2,_a,4,3,"ng-template",null,19,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.filterTemplate)("ngIfElse",t)}}function Ha(n,o){1&n&&e.GkF(0)}const Pe=function(n,o){return{"p-highlight":n,"p-disabled":o}},gt=function(n,o){return{$implicit:n,index:o}};function Ve(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",26),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(),w=p.$implicit,J=p.index,_e=e.oxw();return e.KtG(_e.onItemClick(s,w,J))})("touchend",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onItemTouchEnd())})("keydown",function(s){e.CHM(t);const p=e.oxw(),w=p.$implicit,J=p.index,_e=e.oxw();return e.KtG(_e.onItemKeydown(s,w,J))}),e.YNc(1,Ha,1,0,"ng-container",20),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,s=t.index,p=e.oxw();e.Q6J("ngClass",e.WLB(6,Pe,p.isSelected(i),p.disabled))("cdkDragData",i)("cdkDragDisabled",!p.dragdrop),e.uIk("aria-selected",p.isSelected(i)),e.xp6(1),e.Q6J("ngTemplateOutlet",p.itemTemplate)("ngTemplateOutletContext",e.WLB(9,gt,i,s))}}function Dt(n,o){if(1&n&&e.YNc(0,Ve,2,12,"li",25),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t))}}function on(n,o){1&n&&e.GkF(0)}function Dn(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,on,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function Nn(n,o){1&n&&e.GkF(0)}function ui(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,Nn,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageTemplate)}}function to(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Dn,2,1,"li",27),e.YNc(2,ui,2,1,"li",27),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValue||!t.emptyFilterMessageTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValue)}}const co=function(n,o,t){return{"p-orderlist p-component":!0,"p-orderlist-striped":n,"p-orderlist-controls-left":o,"p-orderlist-controls-right":t}};let fo=(()=>{class n{constructor(t,i,s){this.el=t,this.cd=i,this.filterService=s,this.metaKeySelection=!0,this.dragdrop=!1,this.controlsPosition="left",this.filterMatchMode="contains",this.breakpoint="960px",this.disabled=!1,this.selectionChange=new e.vpe,this.trackBy=(p,w)=>w,this.onReorder=new e.vpe,this.onSelectionChange=new e.vpe,this.onFilterEvent=new e.vpe,this._selection=[],this.id=(0,Lo.Th)()}get selection(){return this._selection}set selection(t){this._selection=t}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterKeyup(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"emptyfilter":this.emptyFilterMessageTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"header":this.headerTemplate=t.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let i,t=_o.p.find(this.listViewChild.nativeElement,"li.p-highlight");t.length>0&&(i=this.movedUp?t[0]:t[t.length-1],_o.p.scrollInView(this.listViewChild.nativeElement,i)),this.movedUp=!1,this.movedDown=!1}}get value(){return this._value}set value(t){this._value=t,this.filterValue&&this.filter()}onItemClick(t,i,s){this.itemTouched=!1;let p=Lo.gb.findIndexInList(i,this.selection),w=-1!=p;if(!this.itemTouched&&this.metaKeySelection){let _e=t.metaKey||t.ctrlKey||t.shiftKey;w&&_e?this._selection=this._selection.filter(($e,Xe)=>Xe!==p):(this._selection=_e&&this._selection?[...this._selection]:[],Lo.gb.insertIntoOrderedArray(i,s,this._selection,this.value))}else w?this._selection=this._selection.filter((_e,$e)=>$e!==p):(this._selection=this._selection?[...this._selection]:[],Lo.gb.insertIntoOrderedArray(i,s,this._selection,this.value));this.selectionChange.emit(this._selection),this.onSelectionChange.emit({originalEvent:t,value:this._selection})}onFilterKeyup(t){this.filterValue=t.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:t,value:this.visibleOptions})}filter(){let t=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,t,this.filterValue,this.filterMatchMode,this.filterLocale)}resetFilter(){this.filterValue=null,this.filterViewChild&&(this.filterViewChild.nativeElement.value="")}isItemVisible(t){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(let i=0;i<this.visibleOptions.length;i++)if(t==this.visibleOptions[i])return!0}onItemTouchEnd(){this.itemTouched=!0}isSelected(t){return-1!=Lo.gb.findIndexInList(t,this.selection)}isEmpty(){return this.filterValue?!this.visibleOptions||0===this.visibleOptions.length:!this.value||0===this.value.length}moveUp(){if(this.selection){for(let t=0;t<this.selection.length;t++){let s=Lo.gb.findIndexInList(this.selection[t],this.value);if(0==s)break;{let w=this.value[s-1];this.value[s-1]=this.value[s],this.value[s]=w}}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}}moveTop(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let s=Lo.gb.findIndexInList(this.selection[t],this.value);if(0==s)break;{let p=this.value.splice(s,1)[0];this.value.unshift(p)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=0}}moveDown(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let s=Lo.gb.findIndexInList(this.selection[t],this.value);if(s==this.value.length-1)break;{let w=this.value[s+1];this.value[s+1]=this.value[s],this.value[s]=w}}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}}moveBottom(){if(this.selection){for(let t=0;t<this.selection.length;t++){let s=Lo.gb.findIndexInList(this.selection[t],this.value);if(s==this.value.length-1)break;{let p=this.value.splice(s,1)[0];this.value.push(p)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=this.listViewChild.nativeElement.scrollHeight}}onDrop(t){let i=t.previousIndex,s=t.currentIndex;i!==s&&(this.visibleOptions&&(this.filterValue&&(i=Lo.gb.findIndexInList(t.item.data,this.value),s=Lo.gb.findIndexInList(this.visibleOptions[s],this.value)),(0,gs.bA)(this.visibleOptions,t.previousIndex,t.currentIndex)),(0,gs.bA)(this.value,i,s),this.onReorder.emit([t.item.data]))}onItemKeydown(t,i,s){let p=t.currentTarget;switch(t.which){case 40:var w=this.findNextItem(p);w&&w.focus(),t.preventDefault();break;case 38:var J=this.findPrevItem(p);J&&J.focus(),t.preventDefault();break;case 13:this.onItemClick(t,i,s),t.preventDefault()}}findNextItem(t){let i=t.nextElementSibling;return i?!_o.p.hasClass(i,"p-orderlist-item")||_o.p.isHidden(i)?this.findNextItem(i):i:null}findPrevItem(t){let i=t.previousElementSibling;return i?!_o.p.hasClass(i,"p-orderlist-item")||_o.p.isHidden(i)?this.findPrevItem(i):i:null}moveDisabled(){if(this.disabled||!this.selection.length)return!0}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n                @media screen and (max-width: ${this.breakpoint}) {\n                    .p-orderlist[${this.id}] {\n                        flex-direction: column;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls {\n                        padding: var(--content-padding);\n                        flex-direction: row;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button {\n                        margin-right: var(--inline-spacing);\n                        margin-bottom: 0;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button:last-child {\n                        margin-right: 0;\n                    }\n                }\n            `)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(N.iZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-orderList"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,N.jx,4),2&t){let p;e.iGM(p=e.CRH())&&(i.templates=p)}},viewQuery:function(t,i){if(1&t&&(e.Gf($s,5),e.Gf(pr,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.listViewChild=s.first),e.iGM(s=e.CRH())&&(i.filterViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",style:"style",styleClass:"styleClass",listStyle:"listStyle",responsive:"responsive",filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",controlsPosition:"controlsPosition",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",disabled:"disabled",trackBy:"trackBy",selection:"selection",value:"value"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent"},decls:13,vars:18,consts:[[3,"ngClass","ngStyle"],[1,"p-orderlist-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-orderlist-list-container"],["class","p-orderlist-header",4,"ngIf"],["class","p-orderlist-filter-container",4,"ngIf"],["cdkDropList","",1,"p-orderlist-list",3,"ngStyle","cdkDropListDropped"],["listelement",""],["ngFor","",3,"ngForTrackBy","ngForOf"],[4,"ngIf"],[1,"p-orderlist-header"],["class","p-orderlist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-orderlist-title"],[1,"p-orderlist-filter-container"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-orderlist-filter"],["type","text","role","textbox",1,"p-orderlist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["filter",""],[1,"p-orderlist-filter-icon","pi","pi-search"],["class","p-orderlist-item","tabindex","0","cdkDrag","","pRipple","","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown",4,"ngIf"],["tabindex","0","cdkDrag","","pRipple","","role","option",1,"p-orderlist-item",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown"],["class","p-orderlist-empty-message",4,"ngIf"],[1,"p-orderlist-empty-message"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.moveUp()}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.moveTop()}),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return i.moveDown()}),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return i.moveBottom()}),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,hr,3,2,"div",7),e.YNc(8,Ma,4,2,"div",8),e.TgZ(9,"ul",9,10),e.NdJ("cdkDropListDropped",function(p){return i.onDrop(p)}),e.YNc(11,Dt,1,1,"ng-template",11),e.YNc(12,to,3,2,"ng-container",12),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(14,co,i.stripedRows,"left"===i.controlsPosition,"right"===i.controlsPosition))("ngStyle",i.style),e.xp6(2),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(2),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy),e.xp6(1),e.Q6J("ngStyle",i.listStyle),e.xp6(2),e.Q6J("ngForTrackBy",i.trackBy)("ngForOf",i.value),e.xp6(1),e.Q6J("ngIf",i.isEmpty()&&(i.emptyMessageTemplate||i.emptyFilterMessageTemplate)))},dependencies:[k.mk,k.sg,k.O5,k.tP,k.PC,O.Hq,ye.H,gs.Wj,gs.Zt],styles:[".p-orderlist{display:flex}.p-orderlist-controls{display:flex;flex-direction:column;justify-content:center}.p-orderlist-list-container{flex:1 1 auto}.p-orderlist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-orderlist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-orderlist-item:not(.cdk-drag-disabled){cursor:move}.p-orderlist-item.cdk-drag-placeholder{opacity:0}.p-orderlist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-orderlist.p-state-disabled .p-orderlist-item,.p-orderlist.p-state-disabled .p-button{cursor:default}.p-orderlist.p-state-disabled .p-orderlist-list{overflow:hidden}.p-orderlist-filter{position:relative}.p-orderlist-filter-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-orderlist-filter-input{width:100%}.p-orderlist-controls-right .p-orderlist-controls{order:2}.p-orderlist-controls-right .p-orderlist-list-container{order:1}.p-orderlist-list.cdk-drop-list-dragging .p-orderlist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),n})(),ji=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,O.hJ,N.m8,ye.T,gs._t,N.m8,gs._t]}),n})();var mo=b(1874),yi=b(1424),Co=b(5055),Ko=b(9873);const Xs=["stepsContextMenuElem"];function as(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",55),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index,p=e.oxw(2);return e.KtG(p.removeStep(s))}),e.qZA()}}const sr=function(n,o){return{"cursor-pointer hover:text-primary-400":n,"cursor-default font-bold":o}},Ct=function(n){return{"bg-primary":n}};function ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){const p=e.CHM(t).index,w=e.oxw(2);return e.KtG(w.activeStepIndex!==p&&(w.activeStepIndex=p))}),e.TgZ(1,"div",51),e._uU(2),e.qZA(),e.TgZ(3,"div",52)(4,"span"),e._uU(5),e.qZA(),e.YNc(6,as,1,0,"span",53),e.qZA(),e.TgZ(7,"div",54),e.NdJ("onDragEnter",function(s){const w=e.CHM(t).index,J=e.oxw(2);return e.KtG(J.dragEnterStage(s,w))})("onDragLeave",function(s){const w=e.CHM(t).index,J=e.oxw(2);return e.KtG(J.dragLeaveStage(s,w))})("onDrop",function(s){const w=e.CHM(t).index,J=e.oxw(2);return e.KtG(J.dropToStage(s,w))}),e.qZA()()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw(2);e.Q6J("ngClass",e.WLB(5,sr,s.activeStepIndex!==i,s.activeStepIndex===i)),e.xp6(2),e.Oqu(i+1),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf",i>0),e.xp6(1),e.Q6J("ngClass",e.VKq(8,Ct,s.stageHoverTarget===i))}}const pe=function(n){return{"pointer-events-none":n}};function We(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62),e.NdJ("onDrop",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.drop(s,p,"up"))})("onDragEnter",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.dragEnter(s,p,"top"))})("onDragLeave",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.dragLeave(s,p,"top"))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Udp("height","50%"),e.Q6J("ngClass",e.VKq(3,pe,!t.draggedField))}}function xt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",63),e.NdJ("onDrop",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.drop(s,p,"down"))})("onDragEnter",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.dragEnter(s,p,"bottom"))})("onDragLeave",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw(2);return e.KtG(w.dragLeave(s,p,"bottom"))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Udp("height","50%"),e.Q6J("ngClass",e.VKq(3,pe,!t.draggedField))}}const Qt=function(n){return{"opacity-50":n}};function un(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("onDragStart",function(s){const w=e.CHM(t).$implicit,J=e.oxw(2);return e.KtG(J.dragStart(s,w))})("onDrag",function(s){const w=e.CHM(t).$implicit,J=e.oxw(2);return e.KtG(J.drag(s,w))})("onDragEnd",function(s){const w=e.CHM(t).$implicit,J=e.oxw(2);return e.KtG(J.dragEnd(s,w))}),e.YNc(1,We,1,5,"div",57),e._UZ(2,"span",58)(3,"app-task-template-input",59),e.TgZ(4,"p-button",60),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.deleteField(p.id))}),e.qZA(),e.YNc(5,xt,1,5,"div",61),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.VKq(5,Qt,i.draggedField===t)),e.xp6(1),e.Q6J("ngIf",i.draggedField!==t),e.xp6(2),e.Q6J("field",t)("isExample",!0),e.xp6(2),e.Q6J("ngIf",i.draggedField!==t)}}function _n(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"p-button",30),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.nav.backOrDefault(["/"]))}),e.qZA(),e.TgZ(4,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.changeStagesSettingsStep())}),e.qZA()(),e.TgZ(5,"div",32)(6,"div",33)(7,"label"),e._uU(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(9,"input",34),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.wireframe.name=s)}),e.qZA()()(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),e.qZA(),e.TgZ(13,"app-observer-selector-input",35),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.wireframe.defaultObservers=s)}),e.qZA()(),e.TgZ(14,"div",36)(15,"div",37)(16,"label"),e._uU(17,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(18,"textarea",38),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.wireframe.description=s)}),e.qZA()()(),e.TgZ(19,"p-button",39),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createStep())}),e.qZA(),e.TgZ(20,"div",40),e.YNc(21,ae,8,10,"div",41),e.qZA()(),e.TgZ(22,"div",42)(23,"div",43)(24,"div",44)(25,"span",45),e._uU(26),e.qZA(),e.TgZ(27,"app-editing-caption",46),e.NdJ("captionChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.stepsPanelCaptionUpdate(s))})("onStopEditing",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.fillingEmptyStepName())})("captionChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.wireframe.steps[p.activeStepIndex].name=s)}),e.qZA()(),e.TgZ(28,"div",47),e.YNc(29,un,6,7,"div",48),e.TgZ(30,"app-button",49),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.chooseFieldTypeDialogVisible=!0)}),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("ngModel",t.wireframe.name)("disabled",void 0!==t.editingId),e.xp6(4),e.Q6J("ngModel",t.wireframe.defaultObservers),e.xp6(5),e.Q6J("ngModel",t.wireframe.description)("autoResize",!0),e.xp6(3),e.Q6J("ngForOf",t.stepsArray)("ngForTrackBy",t.trackByStep),e.xp6(2),e.Udp("min-width","40rem"),e.xp6(3),e.hij("\u042d\u0442\u0430\u043f ",t.activeStepIndex+1,":"),e.xp6(1),e.Q6J("caption",t.wireframe.steps[t.activeStepIndex].name),e.xp6(2),e.Q6J("ngForOf",t.wireframe.steps[t.activeStepIndex].fields)}}function Sn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"span",74),e._uU(2,"drag_indicator"),e.qZA(),e.TgZ(3,"span",75),e._uU(4),e.qZA(),e.TgZ(5,"input",76,77),e.NdJ("mousedown",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.mouseDown(s))})("focus",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.select())})("ngModelChange",function(s){const w=e.CHM(t).$implicit;return e.KtG(w.label=s)}),e.qZA(),e._UZ(7,"div",78),e.TgZ(8,"p-button",79),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openTaskTypeDirectoriesDialog(p))})("mousedown",function(s){return s.stopPropagation()}),e.qZA(),e.TgZ(9,"p-button",80),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openOldTrackerStageBind(p))})("mousedown",function(s){return s.stopPropagation()}),e.qZA(),e.TgZ(10,"p-button",81),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.removeStage(p.stageId))})("mousedown",function(s){return s.stopPropagation()}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("",t.orderIndex+1,"."),e.xp6(1),e.Q6J("ngModel",t.label)}}const zn=function(){return[]};function Yt(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",64)(2,"div",65)(3,"app-button",66),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.constructStage="FIELDS")}),e.qZA(),e.TgZ(4,"app-button",67),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.changeViewSettingsStep())}),e.qZA()()(),e.TgZ(5,"div",68)(6,"p-panel",69)(7,"div",64)(8,"app-button",70),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createStage())}),e.qZA(),e.TgZ(9,"p-orderList",71),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reorderStages())}),e.YNc(10,Sn,11,2,"ng-template",72),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("dragdrop",!0)("value",null!==(i=t.wireframe.stages)&&void 0!==i?i:e.DdM(4,zn))}}function Ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",92),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createWireframe())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.wireframe.name)}}function Be(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",93),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateWireframe())}),e.qZA()}}function _t(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function Ft(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",94),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openAppendDocumentDialog())}),e.qZA()}}function an(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",95)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"p-button",96),e.NdJ("mousedown",function(s){return s.stopPropagation()})("onClick",function(s){const w=e.CHM(t).index,J=e.oxw(2);return s.stopPropagation(),e.KtG(J.deleteDocumentTemplate(w))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name)}}function An(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u041d\u0435\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA())}function On(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",82)(2,"div",83)(3,"app-button",66),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.constructStage="STAGES")}),e.qZA(),e.YNc(4,Ne,1,1,"app-button",84),e.YNc(5,Be,1,0,"app-button",85),e.qZA(),e.TgZ(6,"div",86)(7,"span",87),e._uU(8," \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043f\u043e\u043b\u0435\u0439 "),e.qZA(),e.TgZ(9,"div",88)(10,"p-orderList",71),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reorderFields())}),e.YNc(11,_t,2,1,"ng-template",72),e.qZA()()(),e.TgZ(12,"div",86)(13,"span",87),e._uU(14," \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f "),e.qZA(),e.TgZ(15,"div",88)(16,"p-listbox",89),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.openEditDocumentDialog(s.option))}),e.YNc(17,Ft,1,0,"ng-template",90),e.YNc(18,an,4,1,"ng-template",72),e.YNc(19,An,2,0,"ng-template",91),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("ngIf",void 0===t.editingId),e.xp6(1),e.Q6J("ngIf",void 0!==t.editingId),e.xp6(5),e.Q6J("dragdrop",!0)("value",t.wireframeFieldsList),e.xp6(6),e.Q6J("options",null!==(i=t.wireframe.documentTemplates)&&void 0!==i?i:e.DdM(6,zn))}}function ti(n,o){1&n&&e.GkF(0)}const Yn=function(n){return{$implicit:n}};function Ai(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ti,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t.documentDialogForm))}}function yo(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",102),e._UZ(2,"span",103),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),e.qZA()(),e.BQk())}function ts(n,o){1&n&&e.GkF(0)}function qo(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ts,1,0,"ng-container",104),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(7),s=e.MAs(9);e.xp6(1),e.Q6J("ngIf","new"===t.documentDialogMode)("ngIfThen",i)("ngIfElse",s)}}function oo(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2,"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),e.qZA(),e._UZ(3,"p-dropdown",97),e.ALo(4,"async"),e.qZA(),e.ynx(5,98),e.YNc(6,Ai,2,4,"ng-container",1),e.YNc(7,yo,5,0,"ng-container",99),e.YNc(8,qo,2,3,"ng-container",100),e.BQk()),2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("options",null!==(i=e.lcZ(4,5,t.documentTypesOptions$))&&void 0!==i?i:e.DdM(7,zn))("disabled","edit"===t.documentDialogMode),e.xp6(2),e.Q6J("ngSwitch",t.documentDialogForm.value.type),e.xp6(1),e.Q6J("ngSwitchCase","ConnectionAgreementTemplate"),e.xp6(2),e.Q6J("ngIf",t.documentDialogForm.value.type)}}function ls(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",105),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createDocumentTemplate())}),e.qZA()}}function Zo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",106),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.editDocumentTemplate())}),e.qZA()}}function er(n,o){if(1&n&&(e.TgZ(0,"div",107)(1,"div",108)(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),e.qZA(),e._UZ(5,"p-dropdown",109),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),e.qZA(),e._UZ(9,"p-dropdown",110),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u0424\u0418\u041e"),e.qZA(),e._UZ(13,"p-dropdown",111),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(17,"p-dropdown",112),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u0440\u0435\u0433\u0438\u043e\u043d \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(21,"p-dropdown",113),e.qZA()(),e.TgZ(22,"div",108)(23,"div",33)(24,"label"),e._uU(25,"\u041f\u043e\u043b\u0435 \u0433\u043e\u0440\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(26,"p-dropdown",114),e.qZA(),e.TgZ(27,"div",33)(28,"label"),e._uU(29,"\u041f\u043e\u043b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(30,"p-dropdown",115),e.qZA(),e.TgZ(31,"div",33)(32,"label"),e._uU(33,"\u041f\u043e\u043b\u0435 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(34,"p-dropdown",116),e.qZA(),e.TgZ(35,"div",33)(36,"label"),e._uU(37,"\u041f\u043e\u043b\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e._UZ(38,"p-dropdown",117),e.qZA(),e.TgZ(39,"div",33)(40,"label"),e._uU(41,"\u041f\u043e\u043b\u0435 \u0442\u0430\u0440\u0438\u0444"),e.qZA(),e._UZ(42,"p-dropdown",118),e.qZA()()()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("formGroup",t),e.xp6(5),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(5),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList),e.xp6(4),e.Q6J("options",i.wireframeFieldsList)}}function Mr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",119)(1,"p-dropdown",120),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.createFieldType=s)}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"app-button",121),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createField(s.createFieldType))}),e.qZA()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngModel",t.createFieldType)("options",null!==(i=e.lcZ(2,2,t.fieldTypeOptions))&&void 0!==i?i:e.DdM(4,zn))}}function Hr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA(),e._UZ(2,"div",78),e.TgZ(3,"div",29),e._UZ(4,"app-avatar",125),e.TgZ(5,"span",126),e._uU(6,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("size",1.8)}}function cs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",127)(2,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA(),e.TgZ(3,"app-select-field-to-view-button",128),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA()(),e._UZ(4,"div",78),e.TgZ(5,"div",29),e._UZ(6,"app-avatar",125),e.TgZ(7,"span",126),e._uU(8,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(3),e.Q6J("size",1.8)}}function Ca(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",127)(2,"div",129)(3,"app-select-field-to-view-button",124),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA(),e.TgZ(4,"span",126),e._uU(5,"-"),e.qZA(),e.TgZ(6,"app-select-field-to-view-button",130),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA()(),e.TgZ(7,"app-select-field-to-view-button",128),e.NdJ("selectView",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectFieldToView(s))}),e.qZA()(),e._UZ(8,"div",78),e.TgZ(9,"div",29),e._UZ(10,"app-avatar",125),e.TgZ(11,"span",126),e._uU(12,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",3),e.xp6(3),e.Q6J("size",1.8)}}function xi(n,o){if(1&n&&(e.ynx(0,98),e.YNc(1,Hr,7,3,"div",122),e.YNc(2,cs,9,5,"div",122),e.YNc(3,Ca,13,7,"div",122),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.wireframe.listViewType),e.xp6(1),e.Q6J("ngSwitchCase","SIMPLE"),e.xp6(1),e.Q6J("ngSwitchCase","COMPOSITE"),e.xp6(1),e.Q6J("ngSwitchCase","DETAILED")}}function wi(n,o){1&n&&e.GkF(0)}function Oi(n,o){if(1&n&&(e.TgZ(0,"div",133),e._UZ(1,"span",134),e.TgZ(2,"span",135),e._uU(3,"\u041d\u0435\u0442 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438\u0306 \u0432 \u044d\u0442\u043e\u043c \u0442\u0438\u043f\u0435 \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,wi,1,0,"ng-container",136),e.qZA()),2&n){e.oxw(2);const t=e.MAs(23);e.xp6(4),e.Q6J("ngTemplateOutlet",t)}}function no(n,o){}function zo(n,o){1&n&&e.YNc(0,no,0,0,"ng-template")}function Ro(n,o){1&n&&e.GkF(0)}function Ms(n,o){if(1&n&&e.YNc(0,Ro,1,0,"ng-container",101),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(21);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}const fr=function(){return{"max-height":"35rem"}};function Ao(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,zo,1,0,null,136),e.TgZ(2,"p-orderList",137),e.NdJ("onReorder",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.reorderTaskTypeDirectories())}),e.YNc(3,Ms,1,4,"ng-template",72),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2),i=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("value",t.taskTypeDirectoriesList)("dragdrop",!0)("trackBy",t.trackByTaskTypeDirectories)("listStyle",e.DdM(5,fr))}}function ea(n,o){if(1&n){const t=e.EpF();e.YNc(0,Oi,5,1,"div",131),e.YNc(1,Ao,4,6,"ng-container",100),e.TgZ(2,"p-button",132),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveTaskTypeDirectories())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngIf",0===t.taskTypeDirectoriesFormArray.controls.length),e.xp6(1),e.Q6J("ngIf",t.taskTypeDirectoriesFormArray.controls.length>0),e.xp6(1),e.Q6J("disabled",t.taskTypeDirectoriesFormArray.invalid||!t.taskTypeDirectoriesFormArray.dirty)}}function sl(n,o){1&n&&e.GkF(0)}function No(n,o){if(1&n&&(e.TgZ(0,"div",138)(1,"div",139)(2,"div",33)(3,"label"),e._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438"),e.qZA(),e._UZ(5,"input",140),e.qZA(),e.YNc(6,sl,1,0,"ng-container",101),e.qZA(),e.TgZ(7,"div",33)(8,"label"),e._uU(9,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(10,"textarea",141),e.qZA()()),2&n){const t=o.$implicit;e.oxw();const i=e.MAs(25);e.Q6J("formGroup",t),e.xp6(5),e.Q6J("size",32),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(7,Yn,t.value.taskTypeDirectoryId)),e.xp6(4),e.Q6J("autoResize",!0)("rows",3)("cols",60)}}function Vr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",142),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addTaskTypeDirectory())}),e.qZA()}}function Qs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",143),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.removeTaskTypeDirectory(p))})("mousedown",function(s){return s.stopPropagation()}),e.qZA()}}function va(n,o){1&n&&e.GkF(0)}function Ea(n,o){if(1&n&&(e.ynx(0),e.YNc(1,va,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}function Oa(n,o){1&n&&e.GkF(0)}function rl(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Oa,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}function rr(n,o){1&n&&e.GkF(0)}function Pa(n,o){if(1&n&&(e.ynx(0),e.YNc(1,rr,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(43);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}function La(n,o){1&n&&e.GkF(0)}function Ra(n,o){if(1&n&&(e.ynx(0),e.YNc(1,La,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(45);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}function ba(n,o){1&n&&e.GkF(0)}function al(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ba,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(47);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}function Ul(n,o){1&n&&e.GkF(0)}function mc(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ul,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(49);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}function Fo(n,o){1&n&&e.GkF(0)}function _c(n,o){1&n&&e.GkF(0)}function Yc(n,o){1&n&&e.GkF(0)}function zu(n,o){1&n&&e.GkF(0)}function Cc(n,o){if(1&n&&(e.ynx(0),e.YNc(1,zu,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}function Tl(n,o){1&n&&e.GkF(0)}function Ju(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Tl,1,0,"ng-container",101),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw(3);const i=e.MAs(41);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Yn,t))}}function Or(n,o){1&n&&(e.ynx(0,98),e.YNc(1,Ea,2,4,"ng-container",1),e.YNc(2,rl,2,4,"ng-container",1),e.YNc(3,Pa,2,4,"ng-container",1),e.YNc(4,Ra,2,4,"ng-container",1),e.YNc(5,al,2,4,"ng-container",1),e.YNc(6,mc,2,4,"ng-container",1),e.YNc(7,Fo,1,0,"ng-container",1),e.YNc(8,_c,1,0,"ng-container",1),e.YNc(9,Yc,1,0,"ng-container",1),e.YNc(10,Cc,2,4,"ng-container",1),e.YNc(11,Ju,2,4,"ng-container",1),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.value.type),e.xp6(1),e.Q6J("ngSwitchCase","AddressFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","PassportDetailsFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","AdSourceFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","ConnectionTypeFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DateFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DateTimeFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","DefaultFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","InstallersHardAssignFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","InstallersSimpleAssignFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","TextFieldDataBind"),e.xp6(1),e.Q6J("ngSwitchCase","FullNameFieldDataBind"))}function ll(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",108)(2,"div",33)(3,"label"),e._uU(4,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u044d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(5,"p-dropdown",145),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"),e.qZA(),e._UZ(9,"p-dropdown",146),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0440\u044b\u0442 \u0432 \u0440\u0443\u0447\u043d\u0443\u044e"),e.qZA(),e._UZ(13,"p-dropdown",147),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u042d\u0442\u0430\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0440\u044b\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"),e.qZA(),e._UZ(17,"p-dropdown",148),e.qZA()(),e.TgZ(18,"div",149)(19,"p-button",150),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openAppendBindToIntegrationDialog())}),e.qZA(),e.TgZ(20,"div",64),e.YNc(21,Or,12,12,"ng-container",151),e.qZA()(),e.TgZ(22,"p-button",152),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveOldTrackerIntegration())}),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(5),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("options",t.stages),e.xp6(4),e.Q6J("ngForOf",i.oldTrackerIntegrationForm.controls.fieldDataBinds.controls)}}function jc(n,o){if(1&n&&(e.TgZ(0,"div",33)(1,"label"),e._uU(2,"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u043a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(3,"p-dropdown",144),e.ALo(4,"async"),e.qZA(),e.YNc(5,ll,23,5,"ng-container",100),e.ALo(6,"async")),2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("options",null!==(i=e.lcZ(4,2,t.oldTrackerTaskClasses$))&&void 0!==i?i:e.DdM(6,zn)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,4,t.selectedTaskClass$))}}function Qu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",153),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectedDataBind=s)}),e.qZA(),e.TgZ(1,"p-button",154),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.appendBindToIntegration())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.dataBindFieldOptions)("ngModel",t.selectedDataBind)}}function Os(n,o){if(1&n&&(e.TgZ(0,"div",155)(1,"label"),e._uU(2,"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e._UZ(3,"p-dropdown",156),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("formGroup",t),e.xp6(3),e.Q6J("options",i.wireframeFieldsList)}}function Al(n,o){if(1&n){const t=e.EpF();e._UZ(0,"div",157),e.TgZ(1,"p-button",158),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.removeBind(p))}),e.qZA()}}function Va(n,o){1&n&&e.GkF(0)}function Kc(n,o){1&n&&e.GkF(0)}function Hl(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Va,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0442\u0440\u0435\u043a\u0435\u0440\u0430"),e.qZA(),e._UZ(5,"p-dropdown",161),e.qZA(),e.YNc(6,Kc,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,Yn,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(8,Yn,i))}}function zr(n,o){if(1&n&&(e.YNc(0,Hl,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function mr(n,o){1&n&&e.GkF(0)}function Na(n,o){1&n&&e.GkF(0)}function za(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,mr,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(5,"p-dropdown",162),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(9,"p-dropdown",163),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"),e.qZA(),e._UZ(13,"p-dropdown",164),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u043e\u0434\u044a\u0435\u0437\u0434\u0430"),e.qZA(),e._UZ(17,"p-dropdown",165),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u044d\u0442\u0430\u0436\u0430"),e.qZA(),e._UZ(21,"p-dropdown",166),e.qZA(),e.TgZ(22,"div",33)(23,"label"),e._uU(24,"\u0417\u0430\u043f\u0430\u0441\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.qZA(),e._UZ(25,"p-dropdown",167),e.qZA(),e.YNc(26,Na,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(11,Yn,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(13,Yn,i))}}function Ps(n,o){if(1&n&&(e.YNc(0,za,27,15,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function me(n,o){1&n&&e.GkF(0)}function ve(n,o){1&n&&e.GkF(0)}function le(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,me,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0441\u0435\u0440\u0438\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(5,"p-dropdown",168),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(9,"p-dropdown",169),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043a\u0435\u043c \u0432\u044b\u0434\u0430\u043d \u043f\u0430\u0441\u043f\u043e\u0440\u0442"),e.qZA(),e._UZ(13,"p-dropdown",170),e.qZA(),e.TgZ(14,"div",33)(15,"label"),e._uU(16,"\u041f\u043e\u043b\u0435 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e._UZ(17,"p-dropdown",171),e.qZA(),e.TgZ(18,"div",33)(19,"label"),e._uU(20,"\u041f\u043e\u043b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e._UZ(21,"p-dropdown",172),e.qZA(),e.YNc(22,ve,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(10,Yn,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(12,Yn,i))}}function Me(n,o){if(1&n&&(e.YNc(0,le,23,14,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function tt(n,o){1&n&&e.GkF(0)}function St(n,o){1&n&&e.GkF(0)}function en(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,tt,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u0438"),e.qZA(),e._UZ(5,"p-dropdown",173),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u0438\u043c\u0435\u043d\u0438"),e.qZA(),e._UZ(9,"p-dropdown",174),e.qZA(),e.TgZ(10,"div",33)(11,"label"),e._uU(12,"\u041f\u043e\u043b\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u0430"),e.qZA(),e._UZ(13,"p-dropdown",175),e.qZA(),e.YNc(14,St,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(8,Yn,i)),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(10,Yn,i))}}function sn(n,o){if(1&n&&(e.YNc(0,en,15,12,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function wn(n,o){1&n&&e.GkF(0)}function oi(n,o){1&n&&e.GkF(0)}function bi(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,wn,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0433\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430"),e.qZA(),e._UZ(5,"p-dropdown",176),e.qZA(),e.YNc(6,oi,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,Yn,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(8,Yn,i))}}function pi(n,o){if(1&n&&(e.YNc(0,bi,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function Ki(n,o){1&n&&e.GkF(0)}function so(n,o){1&n&&e.GkF(0)}function Gs(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,Ki,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432"),e.qZA(),e._UZ(5,"p-dropdown",177),e.qZA(),e.TgZ(6,"div",33)(7,"label"),e._uU(8,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0442\u0438\u043f\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(9,"p-dropdown",178),e.qZA(),e.YNc(10,so,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit,s=e.oxw(),p=e.MAs(31),w=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(7,Yn,i)),e.xp6(4),e.Q6J("options",s.wireframeFieldsList),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(9,Yn,i))}}function Jr(n,o){if(1&n&&(e.YNc(0,Gs,11,11,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function ta(n,o){1&n&&e.GkF(0)}function na(n,o){1&n&&e.GkF(0)}function pa(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,ta,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b"),e.qZA(),e._UZ(5,"p-dropdown",179),e.qZA(),e.YNc(6,na,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,Yn,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(8,Yn,i))}}function Vl(n,o){if(1&n&&(e.YNc(0,pa,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}function _r(n,o){1&n&&e.GkF(0)}function zl(n,o){1&n&&e.GkF(0)}function vc(n,o){if(1&n&&(e.TgZ(0,"div",160),e.YNc(1,_r,1,0,"ng-container",101),e.TgZ(2,"div",33)(3,"label"),e._uU(4,"\u041f\u043e\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438"),e.qZA(),e._UZ(5,"p-dropdown",180),e.qZA(),e.YNc(6,zl,1,0,"ng-container",101),e.qZA()),2&n){const t=o.ngIf,i=e.oxw().$implicit;e.oxw();const s=e.MAs(31),p=e.MAs(33);e.Q6J("formGroup",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(6,Yn,i)),e.xp6(4),e.Q6J("options",t),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(8,Yn,i))}}function ya(n,o){if(1&n&&(e.YNc(0,vc,7,10,"div",159),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedClassFields$))}}const qd=function(){return{width:"30vw"}},qc={id:0,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[]};let Gu=(()=>{class n{constructor(t,i,s){this.api=t,this.route=i,this.nav=s,this.activeStepIndex=0,this.stepsArray=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:()=>this.selectStep(0)}],this.wireframeFieldsList=[],this.stepsContextMenu=[],this.chooseFieldTypeDialogVisible=!1,this.fieldTypeOptions=this.api.getWireframeFieldTypesList(),this.createFieldType=he._r.SMALL_TEXT,this.constructStage="FIELDS",this.listItemViewOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439",value:"SIMPLE"},{label:"\u0421\u043e\u0441\u0442\u0430\u0432\u043d\u043e\u0439",value:"COMPOSITE"},{label:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439",value:"DETAILED"}],this.stageHoverTarget=null,this.oldTrackerIntegrationDialogVisible=!1,this.oldTrackerTaskClasses$=this.api.getOldTrackerClasses(),this.oldTrackerIntegrationForm=new f.cw({classId:new f.NI(null,[f.kI.required]),initialStageId:new f.NI(null,[f.kI.required]),processingStageId:new f.NI(null,[f.kI.required]),manualCloseStageId:new f.NI(null,[f.kI.required]),autoCloseStageId:new f.NI(null,[f.kI.required]),fieldDataBinds:new f.Oe([])}),this.taskTypeDirectoriesDialogVisible=!1,this.taskTypeDirectoriesFormArray=new f.Oe([]),this.taskTypeDirectoriesList=[],this.selectedTaskClass$=(0,Bo.a)([this.oldTrackerIntegrationForm.controls.classId.valueChanges,this.oldTrackerTaskClasses$]).pipe((0,ei.b)(console.log),(0,mt.U)(([p,w])=>{var J;return null!==(J=null==w?void 0:w.find(_e=>_e.id===p))&&void 0!==J?J:null}),(0,cn.d)(1)),this.selectedClassFields$=this.selectedTaskClass$.pipe((0,mt.U)(p=>{var w;return[{label:"\u041d\u0435\u0442",value:null},...null!==(w=null==p?void 0:p.fields.map(J=>({label:J.name,value:J.id})))&&void 0!==w?w:[]]}),(0,cn.d)(1)),this.appendBindToIntegrationDialogVisible=!1,this.dataBindFieldOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0442\u0435\u043a\u0441\u0442",value:this.simpleTextFieldFormGroup},{label:"\u0424\u0418\u041e",value:this.fullNameFieldFormGroup},{label:"\u0410\u0434\u0440\u0435\u0441",value:this.addressFieldFormGroup},{label:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",value:this.adSourceFieldFormGroup},{label:"\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",value:this.connectionTypeFieldFormGroup},{label:"\u0414\u0430\u0442\u0430",value:this.dateFieldFormGroup},{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f",value:this.dateTimeFieldFormGroup},{label:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:this.passportFieldFormGroup}],this.documentDialogVisible=!1,this.documentDialogMode="new",this.documentTypesOptions$=this.api.getDocumentTemplateTypes().pipe((0,cn.d)(1)),this.documentDialogForm=new f.cw({temporalId:new f.NI(null),documentTemplateId:new f.NI(null),type:new f.NI(null,[f.kI.required]),name:new f.NI(""),loginFieldId:new f.NI(null),fullNameFieldId:new f.NI(null),dateOfBirthFieldId:new f.NI(null),regionOfBirthFieldId:new f.NI(null),cityOfBirthFieldId:new f.NI(null),passportDetailsFieldId:new f.NI(null),addressFieldId:new f.NI(null),phoneFieldId:new f.NI(null),passwordFieldId:new f.NI(null),tariffFieldId:new f.NI(null)}),this.subscriptions=new _.xf,this._wireframe={wireframeId:0,created:"",deleted:!1,name:"",description:"",creator:{login:"admin"},wireframeType:he.Ez.MODEL,steps:[qc],defaultObservers:[],stages:[{label:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0442\u0438\u043f",stageId:(0,es.Z)(),orderIndex:0,directories:[]}],listViewType:"SIMPLE"},this.trackByStep=(p,w)=>{var J;return p+(null!==(J=w.label)&&void 0!==J?J:"")}}get documentDialogHeader(){return"new"===this.documentDialogMode?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}get wireframe(){return this._wireframe}set wireframe(t){this._wireframe=t,this.wireframeFieldsList=this.fieldsLabelsList()}getTaskTypeDirectoryFormTemplate(t,i,s,p){return new f.cw({taskTypeDirectoryId:new f.NI(t||(0,es.Z)()),name:new f.NI(null!=i?i:"",[f.kI.required,f.kI.minLength(3)]),description:new f.NI(null!=s?s:""),orderIndex:new f.NI(p)})}addTaskTypeDirectory(){this.taskTypeDirectoriesFormArray.push(this.getTaskTypeDirectoryFormTemplate(void 0,void 0,void 0,this.taskTypeDirectoriesFormArray.controls.length)),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}removeTaskTypeDirectory(t){this.taskTypeDirectoriesFormArray.removeAt(this.taskTypeDirectoriesFormArray.controls.findIndex(i=>i.value.taskTypeDirectoryId===t)),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}reorderTaskTypeDirectories(){this.taskTypeDirectoriesFormArray.markAsDirty(),this.taskTypeDirectoriesList.forEach((t,i)=>t.patchValue({orderIndex:i}))}trackByTaskTypeDirectories(t,i){return i.value.taskTypeDirectoryId}simpleTextFieldFormGroup(){return new f.cw({type:new f.NI("TextFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),textFieldId:new f.NI(null,[f.kI.required])})}fullNameFieldFormGroup(){return new f.cw({type:new f.NI("FullNameFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),lastNameFieldId:new f.NI(null,[f.kI.required]),firstNameFieldId:new f.NI(null,[f.kI.required]),patronymicFieldId:new f.NI(null,[f.kI.required])})}addressFieldFormGroup(){return new f.cw({type:new f.NI("AddressFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),streetFieldId:new f.NI(null,[f.kI.required]),houseFieldId:new f.NI(null),apartmentFieldId:new f.NI(null),entranceFieldId:new f.NI(null),floorFieldId:new f.NI(null),backupFieldId:new f.NI(null)})}adSourceFieldFormGroup(){return new f.cw({type:new f.NI("AdSourceFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),adSourceFieldId:new f.NI(null,[f.kI.required])})}connectionTypeFieldFormGroup(){return new f.cw({type:new f.NI("ConnectionTypeFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),connectionServicesInnerFieldId:new f.NI(null,[f.kI.required]),ctFieldDataBindId:new f.NI(null,[f.kI.required])})}dateFieldFormGroup(){return new f.cw({type:new f.NI("DateFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),dateFieldDataBind:new f.NI(null,[f.kI.required])})}dateTimeFieldFormGroup(){return new f.cw({type:new f.NI("DateTimeFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),dateTimeFieldDataBind:new f.NI(null,[f.kI.required])})}passportFieldFormGroup(){return new f.cw({type:new f.NI("PassportDetailsFieldDataBind"),fieldDataBindId:new f.NI(null),fieldItemId:new f.NI(null,[f.kI.required]),passportSeriesFieldId:new f.NI(null),passportNumberFieldId:new f.NI(null),passportIssuedByFieldId:new f.NI(null),passportIssuedDateFieldId:new f.NI(null),registrationAddressFieldId:new f.NI(null)})}ngOnInit(){this.route.queryParams.subscribe(t=>{t.editingId&&(this.editingId=t.editingId,this.api.getWireframe(t.editingId).subscribe(i=>{var s;this.wireframe=i,this.fillingSteps(i.steps),null===(s=this.wireframe.stages)||void 0===s||s.sort((p,w)=>p.orderIndex-w.orderIndex),this.wireframe=this.wireframe}))}),this.subscriptions.addSubscription("docNameUpd",this.documentDialogForm.controls.type.valueChanges.pipe((0,R.w)(t=>this.documentTypesOptions$.pipe((0,mt.U)(i=>{var s,p;return null!==(p=null===(s=i.find(w=>w.value===t))||void 0===s?void 0:s.label)&&void 0!==p?p:""})))).subscribe(t=>this.documentDialogForm.controls.name.setValue(t)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createDocumentTemplate(){this.documentDialogForm.valid&&(this.wireframe.documentTemplates||(this.wireframe.documentTemplates=[]),this.wireframe.documentTemplates.push(this.documentDialogForm.value),this.wireframe.documentTemplates=[...this.wireframe.documentTemplates],this.documentDialogVisible=!1)}editDocumentTemplate(){if(this.documentDialogForm.valid&&this.wireframe.documentTemplates){const t=this.wireframe.documentTemplates.findIndex(i=>i.temporalId===this.documentDialogForm.value.temporalId);t>-1&&(this.wireframe.documentTemplates[t]=this.documentDialogForm.value,this.wireframe.documentTemplates=[...this.wireframe.documentTemplates]),this.documentDialogVisible=!1}}deleteDocumentTemplate(t){var i;null===(i=this.wireframe.documentTemplates)||void 0===i||i.splice(t,1)}createField(t){const i=(0,es.Z)(),s=this.wireframe.steps.find(p=>p.id===this.activeStepIndex);s?s.fields.push({name:"\u0418\u043c\u044f \u043f\u043e\u043b\u044f",id:i,type:t,variation:"MANDATORY",displayType:"LIST_AND_TELEGRAM"}):console.error("\u042d\u0442\u0430\u043f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}deleteField(t){const i=this.wireframe.steps.find(s=>s.id===this.activeStepIndex);i&&(i.fields=i.fields.filter(s=>s.id!==t))}createStep(){const t=this.stepsArray.length;this.stepsArray.push({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:i=>this.openStepContextMenu(t,i.originalEvent)}),this.wireframe.steps.push({name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[],id:t}),this.selectStep(t)}selectStep(t){this.activeStepIndex=t}removeStep(t){this.activeStepIndex>=t&&this.selectStep(this.activeStepIndex-1),this.stepsArray.splice(t,1),this.wireframe.steps.splice(t,1),this.wireframe.steps=this.wireframe.steps.map((i,s)=>(i.id=s,i))}openStepContextMenu(t,i){this.stepsContextMenu=[{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",command:this.selectStep.bind(this,t)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:this.removeStep.bind(this,t)}],this.stepsContextMenuElem&&this.stepsContextMenuElem.toggle(i)}stepsPanelCaptionUpdate(t){this.stepsArray[this.activeStepIndex].label=t,this.stepsArray=[...this.stepsArray]}fillingEmptyStepName(){this.wireframe.steps[this.activeStepIndex]&&""===this.wireframe.steps[this.activeStepIndex].name&&(this.wireframe.steps[this.activeStepIndex].name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray[this.activeStepIndex].label="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray=[...this.stepsArray])}createWireframe(){this.api.createWireframe(this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fillingSteps(t){this.stepsArray=t.map((i,s)=>({label:i.name,command:0===s?()=>this.selectStep(i.id):p=>this.openStepContextMenu(i.id,p.originalEvent)}))}updateWireframe(){this.api.updateWireframe(this.wireframe.wireframeId,this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fieldsLabelsList(){const t=[];return this.wireframe.steps.forEach(i=>{i.fields.forEach(s=>{t.push({label:s.name,id:s.id,listViewIndex:s.listViewIndex,orderPosition:s.orderPosition})})}),t.sort((i,s)=>i.orderPosition-s.orderPosition),t}selectFieldToView(t){this._wireframe.steps.forEach(i=>{i.fields.forEach(s=>{s.id===t.id?s.listViewIndex=t.index:s.listViewIndex===t.index&&(s.listViewIndex=void 0)})})}reorderFields(){this.wireframeFieldsList.forEach((t,i)=>{this.wireframe.steps.forEach(s=>{s.fields.forEach(p=>{p.id===t.id&&(p.orderPosition=i)})})})}changeStagesSettingsStep(){this.constructStage="STAGES",this.wireframe=this.wireframe,this.reorderFields()}changeViewSettingsStep(){this.constructStage="VIEW"}taskItemForView(){return{taskId:0,modelWireframe:this.wireframe,listItemFields:[],allEmployeesObservers:[]}}createStage(){var t,i,s;this.wireframe.stages=[...null!==(t=this.wireframe.stages)&&void 0!==t?t:[],{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0437\u0430\u0434\u0430\u0447\u0438",stageId:(0,es.Z)(),orderIndex:null!==(s=null===(i=this.wireframe.stages)||void 0===i?void 0:i.length)&&void 0!==s?s:0,directories:[]}]}removeStage(t){var i;this.wireframe.stages=null===(i=this.wireframe.stages)||void 0===i?void 0:i.filter(s=>s.stageId!==t).map((s,p)=>(s.orderIndex=p,s))}mouseDown(t){t.stopPropagation()}reorderStages(){var t;this.wireframe.stages=null===(t=this.wireframe.stages)||void 0===t?void 0:t.map((i,s)=>(i.orderIndex=s,i))}dragStart(t,i){this.draggedField=i}drag(t,i){}dragEnd(t,i){this.draggedField=void 0}drop(t,i,s){if(t.target.classList.remove("border-top-2","border-bottom-2","border-primary"),this.draggedField){const w=this.wireframe.steps[this.activeStepIndex].fields,J=w.findIndex(_e=>_e===this.draggedField);J<i&&"up"===s?i--:J>i&&"down"===s&&i++,w.splice(J,1),w.splice(i,0,this.draggedField)}}dragEnter(t,i,s){t.target.classList.add("border-"+s+"-2","border-primary")}dragLeave(t,i,s){t.target.classList.remove("border-"+s+"-2","border-primary")}dropToStage(t,i){if(this.stageHoverTarget=null,i!==this.activeStepIndex){const s=this.wireframe.steps.find(w=>w.id===this.activeStepIndex),p=this.wireframe.steps.find(w=>w.id===i);s&&p&&this.draggedField&&(s.fields.splice(s.fields.findIndex(w=>w===this.draggedField),1),p.fields.unshift(this.draggedField),this.draggedField=void 0)}}dragEnterStage(t,i){i!==this.activeStepIndex&&(this.stageHoverTarget=i)}dragLeaveStage(t,i){this.stageHoverTarget=null}openOldTrackerStageBind(t){this.oldTrackerIntegrationDialogVisible=!0,this.selectedStageForIntegration=t,setTimeout(()=>{var i,s,p,w,J,_e,$e,Xe,Xt,jt,Wt;this.oldTrackerIntegrationForm.patchValue({classId:null!==(s=null===(i=t.oldTrackerBind)||void 0===i?void 0:i.classId)&&void 0!==s?s:null,initialStageId:null!==(w=null===(p=t.oldTrackerBind)||void 0===p?void 0:p.initialStageId)&&void 0!==w?w:null,processingStageId:null!==(_e=null===(J=t.oldTrackerBind)||void 0===J?void 0:J.processingStageId)&&void 0!==_e?_e:null,manualCloseStageId:null!==(Xe=null===($e=t.oldTrackerBind)||void 0===$e?void 0:$e.manualCloseStageId)&&void 0!==Xe?Xe:null,autoCloseStageId:null!==(jt=null===(Xt=t.oldTrackerBind)||void 0===Xt?void 0:Xt.autoCloseStageId)&&void 0!==jt?jt:null}),this.oldTrackerIntegrationForm.controls.fieldDataBinds.clear(),null===(Wt=t.oldTrackerBind)||void 0===Wt||Wt.fieldDataBinds.forEach(fn=>this.oldTrackerIntegrationForm.controls.fieldDataBinds.push(new f.cw({type:new f.NI(fn.type),fieldDataBindId:new f.NI(fn.fieldDataBindId),fieldItemId:new f.NI(fn.fieldItemId),streetFieldId:new f.NI(fn.streetFieldId),houseFieldId:new f.NI(fn.houseFieldId),apartmentFieldId:new f.NI(fn.apartmentFieldId),entranceFieldId:new f.NI(fn.entranceFieldId),floorFieldId:new f.NI(fn.floorFieldId),adSourceFieldId:new f.NI(fn.adSourceFieldId),connectionServicesInnerFieldId:new f.NI(fn.connectionServicesInnerFieldId),ctFieldDataBind:new f.NI(fn.ctFieldDataBind),dateFieldDataBind:new f.NI(fn.dateFieldDataBind),dateTimeFieldDataBind:new f.NI(fn.dateTimeFieldDataBind),defaultFieldId:new f.NI(fn.defaultFieldId),hardAssignTimeFieldId:new f.NI(fn.hardAssignTimeFieldId),hardAssignNamesFieldId:new f.NI(fn.hardAssignNamesFieldId),simpleAssignFieldId:new f.NI(fn.simpleAssignFieldId),textFieldId:new f.NI(fn.textFieldId),lastNameFieldId:new f.NI(fn.lastNameFieldId),firstNameFieldId:new f.NI(fn.firstNameFieldId),patronymicFieldId:new f.NI(fn.patronymicFieldId),backupFieldId:new f.NI(fn.backupFieldId),passportSeriesFieldId:new f.NI(fn.passportSeriesFieldId),passportNumberFieldId:new f.NI(fn.passportNumberFieldId),passportIssuedByFieldId:new f.NI(fn.passportIssuedByFieldId),passportIssuedDateFieldId:new f.NI(fn.passportIssuedDateFieldId),registrationAddressFieldId:new f.NI(fn.registrationAddressFieldId)})))},100)}openTaskTypeDirectoriesDialog(t){var i;this.taskTypeDirectoriesDialogVisible=!0,this.selectedStageForDirectoriesSetup=t,this.taskTypeDirectoriesFormArray.clear(),null===(i=t.directories)||void 0===i||i.sort((s,p)=>{var w,J;return(null!==(w=s.orderIndex)&&void 0!==w?w:0)-(null!==(J=p.orderIndex)&&void 0!==J?J:0)}).forEach((s,p)=>{var w;this.taskTypeDirectoriesFormArray.push(this.getTaskTypeDirectoryFormTemplate(s.taskTypeDirectoryId,s.name,s.description,null!==(w=s.orderIndex)&&void 0!==w?w:p))}),this.taskTypeDirectoriesList=[...this.taskTypeDirectoriesFormArray.controls]}saveTaskTypeDirectories(){this.selectedStageForDirectoriesSetup&&this.taskTypeDirectoriesFormArray.valid&&(this.selectedStageForDirectoriesSetup.directories=this.taskTypeDirectoriesFormArray.controls.map(({value:t})=>("string"==typeof t.taskTypeDirectoryId&&(t.taskTypeDirectoryId=null),t)),this.taskTypeDirectoriesDialogVisible=!1)}appendBindToIntegration(){this.selectedDataBind&&(this.oldTrackerIntegrationForm.controls.fieldDataBinds.push(this.selectedDataBind()),this.appendBindToIntegrationDialogVisible=!1)}openAppendBindToIntegrationDialog(){this.appendBindToIntegrationDialogVisible=!0}saveOldTrackerIntegration(){this.selectedStageForIntegration&&(this.selectedStageForIntegration.oldTrackerBind=this.oldTrackerIntegrationForm.value)}removeBind(t){this.oldTrackerIntegrationForm.controls.fieldDataBinds.removeAt(this.oldTrackerIntegrationForm.controls.fieldDataBinds.controls.indexOf(t))}openAppendDocumentDialog(){this.clearDocumentDialogForm(),this.documentDialogVisible=!0,this.documentDialogMode="new"}openEditDocumentDialog(t){this.clearDocumentDialogForm(),this.documentDialogVisible=!0,this.documentDialogMode="edit",this.documentDialogForm.patchValue(t)}clearDocumentDialogForm(){this.documentDialogForm.reset({temporalId:(0,es.Z)(),documentTemplateId:null,name:"",type:null,addressFieldId:null,regionOfBirthFieldId:null,cityOfBirthFieldId:null,dateOfBirthFieldId:null,fullNameFieldId:null,loginFieldId:null,passportDetailsFieldId:null,passwordFieldId:null,phoneFieldId:null,tariffFieldId:null})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(d.gz),e.Y36(nt.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-wireframe-constructor-page"]],viewQuery:function(t,i){if(1&t&&e.Gf(Xs,5),2&t){let s;e.iGM(s=e.CRH())&&(i.stepsContextMenuElem=s.first)}},decls:50,vars:30,consts:[["appExtendPageHeight","",1,"flex","flex-column","align-items-center","gap-4",3,"ngSwitch"],[4,"ngSwitchCase"],["contentStyleClass","flex flex-column gap-3 pt-1",3,"visible","modal","dismissableMask","header","visibleChange"],["pTemplate","content",3,"formGroup"],["createDocumentButtonTemplate",""],["editDocumentButtonTemplate",""],["connectionAgreementFieldsTemplate",""],[3,"model","popup"],["stepsContextMenuElem",""],["header","\u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",3,"visible","modal","dismissableMask","visibleChange"],["pTemplate","content"],["listElementTemplate",""],["contentStyleClass","flex flex-column gap-3 pt-2","header","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0437\u0430\u0434\u0430\u0447","appendTo","body",3,"visible","modal","dismissableMask","autoZIndex","visibleChange"],["taskTypeDirectoryTemplate",""],["appendDirectoryButtonTemplate",""],["removeDirectoryButtonTemplate",""],["contentStyleClass","flex flex-column gap-3 pt-1","header","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c",3,"visible","modal","dismissableMask","visibleChange"],["contentStyleClass","flex flex-column gap-3 pt-1","header","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435",3,"visible","modal","dismissableMask","visibleChange"],["fieldSelectorTemp",""],["removeButtonTemp",""],["simpleTextBindTemp",""],["addressBindTemp",""],["passportBindTemp",""],["fullNameBindTemp",""],["adSourceBindTemp",""],["connectionTypeBindTemp",""],["dateBindTemp",""],["dateTimeBindTemp",""],[1,"flexed","column","gap10","panel","p10"],[1,"flexed","gap5"],["label","\u0412\u044b\u0439\u0442\u0438","icon","mdi-close","styleClass","p-button-secondary p-button-text",3,"onClick"],["label","\u0414\u0430\u043b\u0435\u0435: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0442\u0430\u0434\u0438\u0439 \u0437\u0430\u0434\u0430\u0447\u0438","icon","mdi-navigate_next",3,"disabled","onClick"],[1,"gap10","flexed","hend"],[1,"input-label-wrapper"],["pInputText","",3,"ngModel","disabled","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"flexed"],[1,"input-label-wrapper","stretched"],["pInputTextarea","",3,"ngModel","autoResize","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0430\u043f","icon","mdi-add","styleClass","p-button-success",1,"self-center",3,"onClick"],[1,"flex","justify-content-around","align-items-center","gap-3"],["class","flex flex-column align-items-center justify-content-center gap-1 relative p-2 border-round-lg overflow-hidden",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-column","align-items-center","flex-grow-1","bg-white"],[1,"w-max","border-round-lg","shadow-5"],[1,"flex","p-3","gap-2","align-items-center","border-bottom-1","border-bluegray-100"],[1,"font-bold","text-bluegray-400"],[1,"font-bold","text-bluegray-400",3,"caption","captionChange","onStopEditing"],[1,"flex","flex-column","px-3","pt-1","pb-3"],["class","flex gap-2 align-items-center relative py-2","pDraggable","field","dragHandle",".dg","dragEffect","linkMove",3,"ngClass","onDragStart","onDrag","onDragEnd",4,"ngFor","ngForOf"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435","model","p-button-success",1,"pt-2",3,"onClick"],[1,"flex","flex-column","align-items-center","justify-content-center","gap-1","relative","p-2","border-round-lg","overflow-hidden",3,"ngClass","click"],[1,"flex","align-items-center","justify-content-center","border-circle","border-1","border-bluegray-100","text-lg","w-2rem","h-2rem"],[1,"flex","align-items-center","gap-1"],["class","mdi-close text-red-400 hover:text-red-600 cursor-pointer text-lg z-1",3,"click",4,"ngIf"],["pDroppable","field",1,"opacity-25","absolute","top-0","left-0","w-full","h-full",3,"ngClass","onDragEnter","onDragLeave","onDrop"],[1,"mdi-close","text-red-400","hover:text-red-600","cursor-pointer","text-lg","z-1",3,"click"],["pDraggable","field","dragHandle",".dg","dragEffect","linkMove",1,"flex","gap-2","align-items-center","relative","py-2",3,"ngClass","onDragStart","onDrag","onDragEnd"],["class","absolute w-full top-0 z-1","pDroppable","field",3,"ngClass","height","onDrop","onDragEnter","onDragLeave",4,"ngIf"],[1,"mdi-drag_indicator","text-4xl","text-bluegray-400","mt-4","dg","cursor-move"],[1,"stretched",3,"field","isExample"],["styleClass","p-button-text p-button-danger mt-4","icon","mdi-delete",3,"click"],["class","absolute w-full bottom-0 z-1","pDroppable","field",3,"ngClass","height","onDrop","onDragEnter","onDragLeave",4,"ngIf"],["pDroppable","field",1,"absolute","w-full","top-0","z-1",3,"ngClass","onDrop","onDragEnter","onDragLeave"],["pDroppable","field",1,"absolute","w-full","bottom-0","z-1",3,"ngClass","onDrop","onDragEnter","onDragLeave"],[1,"flex","flex-column","gap-3"],[1,"gap15","flexed","hend","panel","p10"],["icon","arrow_back_ios","label","\u041d\u0430\u0437\u0430\u0434","model","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","navigate_next","label","\u0414\u0430\u043b\u0435\u0435: \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f",3,"disabled","onClick"],[1,"flex","flex-column","flex-grow-1","align-items-center"],["header","\u0422\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447\u0438",1,"stage-list-panel"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f","model","p-button-success",3,"onClick"],[3,"dragdrop","value","onReorder"],["pTemplate","item"],[1,"flex","align-items-center","gap-2","text-bluegray-500"],[1,"material-icons-round","drag-icon"],[1,"caption","size-small","f-color-500"],[1,"inline-input",3,"ngModel","mousedown","focus","ngModelChange"],["taskTypeInput",""],[1,"stretched"],["icon","mdi-folder","styleClass","p-button-warning p-button-icon p-button-text","pTooltip","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438",3,"onClick","mousedown"],["icon","mdi-link","styleClass","p-button-warning p-button-icon p-button-text","pTooltip","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044e \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c \u0442\u0440\u0435\u043a\u0435\u0440\u043e\u043c",3,"onClick","mousedown"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-text","pTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick","mousedown"],[1,"flexed","column","gap20","panel","p10"],[1,"gap15","flexed","hend","vend"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick",4,"ngIf"],[1,"flex","flex-column","p-3","gap-2"],[1,"header400"],[1,"flex","flex-column","overflow-hidden","gap-2"],["dataKey","temporalId",3,"options","onClick"],["pTemplate","header"],["pTemplate","empty"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick"],["icon","mdi-add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"flex","justify-content-between","align-items-center","w-full"],["icon","mdi-delete","styleClass","p-button-icon p-button-text p-button-danger",3,"mousedown","onClick"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","formControlName","type","appendTo","body",3,"options","disabled"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-30rem","h-20rem","flex","flex-column","align-items-center","justify-content-center","text-3xl","text-bluegray-300","font-bold"],[1,"mds-check_circle"],[4,"ngIf","ngIfThen","ngIfElse"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",1,"align-self-end",3,"onClick"],["label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",1,"align-self-end",3,"onClick"],[1,"flex","flex-column","gap-3","px-3",3,"formGroup"],[1,"flex","gap-3"],["appendTo","body","formControlName","loginFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","passwordFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","fullNameFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","dateOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","regionOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","cityOfBirthFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","passportDetailsFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","addressFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","phoneFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","tariffFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],[1,"flexed","column","p10","gap10"],["appendTo","body","styleClass","full-width",3,"ngModel","options","ngModelChange"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],["class","flexed p8 hcenter item-example",4,"ngSwitchCase"],[1,"flexed","p8","hcenter","item-example"],["classes","caption",3,"fields","index","selectView"],[3,"size"],[1,"caption"],[1,"flexed","column","gap5"],["classes","caption size-small wt-bold f-color-500",3,"fields","index","selectView"],[1,"flexed","gap5","hcenter"],["classes","caption size-small",3,"fields","index","selectView"],["class","flex flex-column align-items-center justify-content-center text-bluegray-400 text-2xl w-full h-full p-8",4,"ngIf"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-save",1,"align-self-end",3,"disabled","onClick"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","text-2xl","w-full","h-full","p-8"],[1,"mds-folder_open"],[1,"mb-3"],[4,"ngTemplateOutlet"],[3,"value","dragdrop","trackBy","listStyle","onReorder"],[1,"flex","flex-column","gap-2",3,"formGroup"],[1,"flex","flex","gap-2","align-items-end"],["type","text","pInputText","","formControlName","name",3,"size"],["pInputTextarea","","formControlName","description",3,"autoResize","rows","cols"],["icon","mdi-add","styleClass","p-button-success p-button-outlined","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-outlined","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"onClick","mousedown"],["formControlName","classId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","initialStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","processingStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","manualCloseStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],["formControlName","autoCloseStageId","optionLabel","name","optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options"],[1,"flex","flex-column","gap-2","px-3"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435","styleClass","p-button-success p-button-outlined","icon","mdi-add",1,"align-self-center",3,"onClick"],[3,"ngSwitch",4,"ngFor","ngForOf"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-save",1,"align-self-end",3,"onClick"],["appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],[1,"input-label-wrapper",3,"formGroup"],["appendTo","body","formControlName","fieldItemId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],[1,"flex-grow-1"],["icon","mdi-delete","styleClass","p-button-danger p-button-outlined p-button-icon",1,"align-self-end",3,"onClick"],["class","flex gap-3",3,"formGroup",4,"ngIf"],[1,"flex","gap-3",3,"formGroup"],["appendTo","body","formControlName","textFieldId",3,"options"],["appendTo","body","formControlName","streetFieldId",3,"options"],["appendTo","body","formControlName","houseFieldId",3,"options"],["appendTo","body","formControlName","apartmentFieldId",3,"options"],["appendTo","body","formControlName","entranceFieldId",3,"options"],["appendTo","body","formControlName","floorFieldId",3,"options"],["appendTo","body","formControlName","backupFieldId",3,"options"],["appendTo","body","formControlName","passportSeriesFieldId",3,"options"],["appendTo","body","formControlName","passportNumberFieldId",3,"options"],["appendTo","body","formControlName","passportIssuedByFieldId",3,"options"],["appendTo","body","formControlName","passportIssuedDateFieldId",3,"options"],["appendTo","body","formControlName","registrationAddressFieldId",3,"options"],["appendTo","body","formControlName","lastNameFieldId",3,"options"],["appendTo","body","formControlName","firstNameFieldId",3,"options"],["appendTo","body","formControlName","patronymicFieldId",3,"options"],["appendTo","body","formControlName","adSourceFieldId",3,"options"],["appendTo","body","formControlName","connectionServicesInnerFieldId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","optionValue","id",3,"options"],["appendTo","body","formControlName","ctFieldDataBind",3,"options"],["appendTo","body","formControlName","dateFieldDataBind",3,"options"],["appendTo","body","formControlName","dateTimeFieldDataBind",3,"options"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,_n,31,13,"ng-container",1),e.YNc(2,Yt,11,5,"ng-container",1),e.YNc(3,On,20,7,"ng-container",1),e.qZA(),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(p){return i.documentDialogVisible=p}),e.YNc(5,oo,9,8,"ng-template",3),e.qZA(),e.YNc(6,ls,1,0,"ng-template",null,4,e.W1O),e.YNc(8,Zo,1,0,"ng-template",null,5,e.W1O),e.YNc(10,er,43,11,"ng-template",null,6,e.W1O),e._UZ(12,"p-menu",7,8),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(p){return i.chooseFieldTypeDialogVisible=p}),e.YNc(15,Mr,4,5,"ng-template",10),e.qZA(),e.YNc(16,xi,4,4,"ng-template",null,11,e.W1O),e.TgZ(18,"p-dialog",12),e.NdJ("visibleChange",function(p){return i.taskTypeDirectoriesDialogVisible=p}),e.YNc(19,ea,3,3,"ng-template",10),e.qZA(),e.YNc(20,No,11,9,"ng-template",null,13,e.W1O),e.YNc(22,Vr,1,0,"ng-template",null,14,e.W1O),e.YNc(24,Qs,1,0,"ng-template",null,15,e.W1O),e.TgZ(26,"p-dialog",16),e.NdJ("visibleChange",function(p){return i.oldTrackerIntegrationDialogVisible=p}),e.YNc(27,jc,7,7,"ng-template",3),e.qZA(),e.TgZ(28,"p-dialog",17),e.NdJ("visibleChange",function(p){return i.appendBindToIntegrationDialogVisible=p}),e.YNc(29,Qu,2,2,"ng-template",10),e.qZA(),e.YNc(30,Os,4,2,"ng-template",null,18,e.W1O),e.YNc(32,Al,2,0,"ng-template",null,19,e.W1O),e.YNc(34,zr,2,3,"ng-template",null,20,e.W1O),e.YNc(36,Ps,2,3,"ng-template",null,21,e.W1O),e.YNc(38,Me,2,3,"ng-template",null,22,e.W1O),e.YNc(40,sn,2,3,"ng-template",null,23,e.W1O),e.YNc(42,pi,2,3,"ng-template",null,24,e.W1O),e.YNc(44,Jr,2,3,"ng-template",null,25,e.W1O),e.YNc(46,Vl,2,3,"ng-template",null,26,e.W1O),e.YNc(48,ya,2,3,"ng-template",null,27,e.W1O)),2&t&&(e.Udp("padding-bottom","2rem"),e.Q6J("ngSwitch",i.constructStage),e.xp6(1),e.Q6J("ngSwitchCase","FIELDS"),e.xp6(1),e.Q6J("ngSwitchCase","STAGES"),e.xp6(1),e.Q6J("ngSwitchCase","VIEW"),e.xp6(1),e.Q6J("visible",i.documentDialogVisible)("modal",!0)("dismissableMask",!0)("header",i.documentDialogHeader),e.xp6(1),e.Q6J("formGroup",i.documentDialogForm),e.xp6(7),e.Q6J("model",i.stepsContextMenu)("popup",!0),e.xp6(2),e.Akn(e.DdM(29,qd)),e.Q6J("visible",i.chooseFieldTypeDialogVisible)("modal",!0)("dismissableMask",!0),e.xp6(4),e.Q6J("visible",i.taskTypeDirectoriesDialogVisible)("modal",!0)("dismissableMask",!0)("autoZIndex",!1),e.xp6(8),e.Q6J("visible",i.oldTrackerIntegrationDialogVisible)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formGroup",i.oldTrackerIntegrationForm),e.xp6(1),e.Q6J("visible",i.appendBindToIntegrationDialogVisible)("modal",!0)("dismissableMask",!0))},dependencies:[y.A,E.r,Zr.h,D.o,Po.g,U,V,f.Fj,f.JJ,f.JL,f.On,N.jx,k.sg,To.V,f.sg,f.u,qe.Lt,Ln,k.O5,dt.g,O.zx,k.tP,k.RF,k.n9,k.ED,Gi.u,fo,mo.v2,yi.o,k.mk,Co.Ri,Ko._l,Ko.bK,k.Ov],styles:[".item-example[_ngcontent-%COMP%]{box-shadow:0 0 2px #0003,0 .5rem 1rem #0000001a}.step-enumerator-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:min-content;min-width:40rem}.stage-list-panel[_ngcontent-%COMP%]{min-width:30rem}.inline-input[_ngcontent-%COMP%]{border:0;outline:0;background-color:transparent;color:var(--tc-600);transition:color .2s ease-in-out}.inline-input[_ngcontent-%COMP%]:hover{color:var(--tc-900)}.drag-icon[_ngcontent-%COMP%]{color:var(--tc-300)}"]}),n})();var Ls=b(8372),Qr=b(1884);function bc(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3," \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 "),e.qZA()())}function Ws(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"app-avatar",26),e.TgZ(2,"div",13)(3,"span",27),e._uU(4),e.qZA(),e.TgZ(5,"div",28)(6,"span",29),e._uU(7),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.qZA()()(),e._UZ(10,"div",30),e.TgZ(11,"p-button",31),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openEmployeeEditor(p.login))}),e.qZA(),e.TgZ(12,"p-button",32),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.employeeDeleteConfirm(p))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s,p,w;e.xp6(1),e.Q6J("deleted",null!==(s=t.deleted)&&void 0!==s&&s)("name",t.fullName)("size",2.5)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(3),e.hij(" ",null==t.department?null:t.department.name," "),e.xp6(2),e.hij(" ",null==t.position?null:t.position.name," "),e.xp6(2),e.Q6J("disabled",null!==(p=t.deleted)&&void 0!==p&&p),e.xp6(1),e.Q6J("disabled",null!==(w=t.deleted)&&void 0!==w&&w)("loading",!!t.login&&i.isBeingDeleteEmployee[t.login])}}const $c=function(){return{lineHeight:"0"}};function Xc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,bc,4,0,"ng-template",12),e.TgZ(2,"div",13)(3,"div",14)(4,"span",15),e._UZ(5,"i",16)(6,"input",17),e.qZA(),e.TgZ(7,"span",18),e._UZ(8,"p-inputSwitch",19),e._uU(9," \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435? "),e.qZA(),e.TgZ(10,"span")(11,"app-button",20),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openEmployeeCreator())}),e.qZA()()(),e.TgZ(12,"div",21),e.YNc(13,Ws,13,10,"div",22),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.employeeFiltrationForm),e.xp6(5),e.Q6J("falseValue",!1)("ngStyle",e.DdM(6,$c))("trueValue",!0),e.xp6(5),e.Q6J("ngForOf",t.employees)("ngForTrackBy",t.trackByEmployee)}}function yc(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",37),e.TgZ(2,"span"),e._uU(3," \u041e\u0442\u0434\u0435\u043b\u044b "),e.qZA()())}const cl=function(){return{maxWidth:"20rem",marginLeft:".5rem"}};function $d(n,o){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,cl)),e.xp6(1),e.hij(" ",t.description," ")}}function Xd(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.qZA(),e.YNc(4,$d,2,4,"div",41),e.qZA(),e._UZ(5,"div",30),e.TgZ(6,"p-button",31),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);let J;return e.KtG(w.openDepartmentEditor(p.name,null!==(J=p.description)&&void 0!==J?J:"",p.departmentId))}),e.qZA(),e.TgZ(7,"p-button",42),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.departmentDeleteConfirm(p))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s;e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(s=t.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("loading",!!t.departmentId&&i.isBeginDeleteDepartment[t.departmentId])}}function Jl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,yc,4,0,"ng-template",12),e.TgZ(2,"div",33)(3,"div")(4,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDepartmentCreator())}),e.qZA()(),e.TgZ(5,"div",35),e.YNc(6,Xd,8,4,"div",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.departments)("ngForTrackBy",t.trackByDepartment)}}function xc(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"i",45),e.TgZ(2,"span"),e._uU(3," \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438 "),e.qZA()())}function Ql(n,o){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,cl)),e.xp6(1),e.hij(" ",t.description," ")}}function Wu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.qZA(),e.YNc(4,Ql,2,4,"div",41),e.qZA(),e._UZ(5,"div",30),e.TgZ(6,"p-button",31),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);let J;return e.KtG(w.openPositionEditor(p.name,null!==(J=p.description)&&void 0!==J?J:"",null!==(J=p.access)&&void 0!==J?J:0,p.positionId))}),e.qZA(),e.TgZ(7,"p-button",42),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.positionDeleteConfirm(p))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);let s;e.xp6(3),e.hij(" ",null==t?null:t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(s=t.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("loading",!!t.positionId&&i.isBeginDeletePosition[t.positionId])}}function Gl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,xc,4,0,"ng-template",12),e.TgZ(2,"div",44)(3,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openPositionCreator())}),e.qZA(),e.TgZ(4,"div",35),e.YNc(5,Wu,8,4,"div",36),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.positions)("ngForTrackBy",t.trackByPosition)}}function ep(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",46)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.departmentCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginCreatingDepartment)}}function Fa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",46)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.departmentEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginEditingDepartment)}}function qr(n,o){if(1&n&&e._UZ(0,"p-checkbox",57),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("label",t.name)("value",t.value)("formControl",i.positionForm.controls.access)}}function Wl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"p-panel",53)(10,"p-toggleButton",54),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.checkAllAccessPosition(s))}),e.qZA(),e.TgZ(11,"div",55),e.YNc(12,qr,1,3,"p-checkbox",56),e.qZA()(),e.TgZ(13,"app-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.positionCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("max-width","40rem"),e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(4),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginCreatingPosition)}}function Yu(n,o){if(1&n&&e._UZ(0,"p-checkbox",57),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("label",t.name)("value",t.value)("formControl",i.positionForm.controls.access)}}function tp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"span",47)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",48),e.qZA(),e.TgZ(5,"span",47)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",49),e.qZA(),e.TgZ(9,"p-panel",53)(10,"p-toggleButton",54),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.checkAllAccessPosition(s))}),e.qZA(),e.TgZ(11,"div",55),e.YNc(12,Yu,1,3,"p-checkbox",56),e.qZA()(),e.TgZ(13,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.positionEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("max-width","40rem"),e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(4),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginEditingPosition)}}function np(n,o){1&n&&e.GkF(0)}function Gr(n,o){if(1&n){const t=e.EpF();e.YNc(0,np,1,0,"ng-container",58),e.TgZ(1,"app-button",59),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.employeeCreate())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(20);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)("loading",t.isBeingCreatingEmployee)}}function Yl(n,o){1&n&&e.GkF(0)}function ip(n,o){if(1&n){const t=e.EpF();e.YNc(0,Yl,1,0,"ng-container",58),e.TgZ(1,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.employeeEdit())}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(20);e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)("loading",t.isBeingEditingEmployee)}}function Ja(n,o){if(1&n&&(e.TgZ(0,"div",93),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.Oqu(t.name)}}function eu(n,o){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function op(n,o){if(1&n&&(e.TgZ(0,"div",93),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function ju(n,o){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function sp(n,o){if(1&n&&(e.TgZ(0,"span",61)(1,"label"),e._uU(2,"ID \u0420\u0430\u0431\u043e\u0447\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u044b"),e.qZA(),e._UZ(3,"input",94),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function Ku(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"app-label",82),e._UZ(2,"input",83),e.qZA(),e.TgZ(3,"app-label",84),e._UZ(4,"input",85),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function qu(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"app-label",95),e._UZ(2,"input",96),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee)}}function Ic(n,o){if(1&n&&e._UZ(0,"p-checkbox",98),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("label",t.name)("value",t.value)("disabled",i.isBeingCreatingEmployee||i.isBeingEditingEmployee)("formControl",i.employeeForm.controls.access)}}function Se(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Ic,1,4,"p-checkbox",97),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag)}}const Bt=function(){return{standalone:!0}};function j(n,o){if(1&n&&e._UZ(0,"p-checkbox",100),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("disabled",i.isBeingCreatingEmployee||i.isBeingEditingEmployee||!0)("label",t.name)("ngModelOptions",e.DdM(5,Bt))("ngModel",i.accessOfSelectedPosition)("value",t.value)}}function je(n,o){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,j,1,6,"p-checkbox",99),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.AccessFlag.trackByFlag)}}function qt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",52)(1,"div",60)(2,"span",61)(3,"label"),e._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(5,"input",62),e.qZA(),e.TgZ(6,"span",61)(7,"label"),e._uU(8,"\u0418\u043c\u044f"),e.qZA(),e._UZ(9,"input",63),e.qZA(),e.TgZ(10,"span",61)(11,"label"),e._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(13,"input",64),e.qZA()(),e.TgZ(14,"div",60)(15,"span",61)(16,"label"),e._uU(17,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(18,"input",65),e.qZA(),e.TgZ(19,"span",61)(20,"label"),e._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(22,"input",66),e.qZA()(),e.TgZ(23,"div",60)(24,"span",61)(25,"label"),e._uU(26,"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(27,"input",67),e.qZA(),e.TgZ(28,"span",61)(29,"label"),e._uU(30,"Telegram ID"),e.qZA(),e._UZ(31,"input",68),e.qZA()(),e.TgZ(32,"div",60)(33,"span",47)(34,"label"),e._uU(35,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(36,"p-dropdown",69),e.YNc(37,Ja,2,2,"ng-template",70),e.YNc(38,eu,2,1,"ng-template",71),e.qZA()(),e.TgZ(39,"span",47)(40,"label"),e._uU(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(42,"p-dropdown",72),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.positionSelecting(s))}),e.YNc(43,op,2,2,"ng-template",70),e.YNc(44,ju,2,1,"ng-template",71),e.qZA()(),e.TgZ(45,"span",73)(46,"label"),e._uU(47,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),e.qZA(),e._UZ(48,"p-inputSwitch",74),e.qZA(),e.YNc(49,sp,4,1,"span",75),e.qZA(),e.TgZ(50,"p-panel",76)(51,"div",77)(52,"div",78)(53,"span",79),e._uU(54,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0442 \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0442\u0440\u0435\u043a\u0435\u0440\u0430"),e.qZA(),e.TgZ(55,"div",80),e.YNc(56,Ku,5,2,"ng-container",3),e.YNc(57,qu,3,1,"ng-container",3),e.qZA()(),e.TgZ(58,"div",78)(59,"span",79),e._uU(60,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 1785"),e.qZA(),e.TgZ(61,"div",81)(62,"app-label",82),e._UZ(63,"input",83),e.qZA(),e.TgZ(64,"app-label",84),e._UZ(65,"input",85),e.qZA()()(),e.TgZ(66,"div",78)(67,"span",79),e._uU(68,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 781"),e.qZA(),e.TgZ(69,"div",86)(70,"app-label",82),e._UZ(71,"input",83),e.qZA(),e.TgZ(72,"app-label",84),e._UZ(73,"input",85),e.qZA()()(),e.TgZ(74,"div",78)(75,"span",79),e._uU(76,"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0430 1783"),e.qZA(),e.TgZ(77,"div",87)(78,"app-label",82),e._UZ(79,"input",83),e.qZA(),e.TgZ(80,"app-label",84),e._UZ(81,"input",85),e.qZA()()()()(),e.TgZ(82,"p-panel",88)(83,"div",89)(84,"div",60)(85,"p-toggleButton",90),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.checkAllAccessEmployee(s))}),e.qZA(),e.TgZ(86,"p-toggleButton",91),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.accessOverrideChange(s))})("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.isAccessOverride=s)}),e.qZA()(),e.YNc(87,Se,2,2,"div",92),e.YNc(88,je,2,2,"div",92),e.qZA()()()}if(2&n){const t=e.oxw();e.Udp("max-width","55rem"),e.Q6J("formGroup",t.employeeForm),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee||t.showEditEmployeeDialog),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(4),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(5),e.Q6J("options",t.departments)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("options",t.positions)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("falseValue",!1)("ngStyle",e.DdM(37,$c))("trueValue",!0)("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("ngIf",t.employeeForm.value.offsite),e.xp6(1),e.Q6J("toggleable",!0)("collapsed",!0),e.xp6(6),e.Q6J("ngIf",!t.employeeForm.value.offsite),e.xp6(1),e.Q6J("ngIf",t.employeeForm.value.offsite),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(6),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(2),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("toggleable",!0)("collapsed",!0),e.xp6(3),e.Q6J("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee||!t.isAccessOverride),e.xp6(1),e.Q6J("ngModel",t.isAccessOverride)("ngModelOptions",e.DdM(38,Bt))("disabled",t.isBeingCreatingEmployee||t.isBeingEditingEmployee),e.xp6(1),e.Q6J("ngIf",t.isAccessOverride),e.xp6(1),e.Q6J("ngIf",!t.isAccessOverride)}}let En=(()=>{class n{constructor(t,i,s,p){this.api=t,this.confirm=i,this.personality=s,this.rt=p,this.AccessFlag=Ii.j,this.employees=[],this.departments=[],this.positions=[],this.showCreateDepartmentDialog=!1,this.showEditDepartmentDialog=!1,this.isBeginCreatingDepartment=!1,this.isBeginEditingDepartment=!1,this.isBeginDeleteDepartment={},this.departmentForm=new f.cw({id:new f.NI(null),name:new f.NI("",f.kI.required),description:new f.NI("")}),this.positionForm=new f.cw({id:new f.NI(null),name:new f.NI("",f.kI.required),description:new f.NI(""),access:new f.NI([])}),this.showCreatePositionDialog=!1,this.showEditPositionDialog=!1,this.isBeginCreatingPosition=!1,this.isBeginEditingPosition=!1,this.isBeginDeletePosition={},this.showCreateEmployeeDialog=!1,this.showEditEmployeeDialog=!1,this.employeeFiltrationForm=new f.cw({query:new f.NI(""),showDeleted:new f.NI(!1)}),this.employeeForm=new f.cw({lastName:new f.NI(""),firstName:new f.NI("",f.kI.required),secondName:new f.NI(""),internalPhoneNumber:new f.NI(null),access:new f.NI([]),login:new f.NI("",[f.kI.required,f.kI.minLength(4)]),password:new f.NI("",f.kI.required),telegramUserId:new f.NI(""),telegramGroupChatId:new f.NI(null),department:new f.NI(null,f.kI.required),position:new f.NI(null,f.kI.required),offsite:new f.NI(!1),oldTrackerCredentials:new f.cw({username:new f.NI(""),password:new f.NI(""),installerId:new f.NI("")}),base1785Credentials:new f.cw({username:new f.NI(""),password:new f.NI("")}),base781Credentials:new f.cw({username:new f.NI(""),password:new f.NI("")}),base1783Credentials:new f.cw({username:new f.NI(""),password:new f.NI("")})}),this.isAccessOverride=!1,this.accessOfSelectedPosition=[],this.isBeingDeleteEmployee={},this.isBeingCreatingEmployee=!1,this.isBeingEditingEmployee=!1,this.subscriptions=new _.xf}trackByEmployee(t,i){return i.login+i.fullName+JSON.stringify(i.position)+JSON.stringify(i.department)+i.deleted+i.avatar+i.deleted}trackByPosition(t,i){return i.positionId+i.name+i.description+i.deleted}trackByDepartment(t,i){return i.departmentId+i.name+i.description+i.deleted}ngOnDestroy(){this.subscriptions.unsubscribeAll()}ngOnInit(){this.api.getEmployees(void 0,!1).subscribe(t=>this.employees=t),this.api.getDepartments().subscribe(t=>this.departments=t),this.api.getPositions().subscribe(t=>this.positions=t),this.subscriptions.addSubscription("empUpd",this.rt.employeeUpdated().subscribe(t=>{const i=this.employees.findIndex(s=>s.login===t.login);i>=0&&(this.employees[i]=t)})),this.subscriptions.addSubscription("empCr",this.rt.employeeCreated().subscribe(t=>{this.employees.push(t)})),this.subscriptions.addSubscription("empDel",this.rt.employeeDeleted().subscribe(t=>{const i=this.employees.findIndex(s=>s.login===t.login);i>=0&&this.employees.splice(i,1)})),this.subscriptions.addSubscription("depUpd",this.rt.departmentUpdated().subscribe(t=>{const i=this.departments.findIndex(s=>s.departmentId===t.departmentId);i>=0&&(this.departments[i]=t),this.employees.filter(s=>{var p;return(null===(p=s.department)||void 0===p?void 0:p.departmentId)===t.departmentId}).forEach(s=>{s.department=t})})),this.subscriptions.addSubscription("depCr",this.rt.departmentCreated().subscribe(t=>{this.departments.push(t)})),this.subscriptions.addSubscription("depDel",this.rt.departmentDeleted().subscribe(t=>{const i=this.departments.findIndex(s=>s.departmentId===t.departmentId);i>=0&&this.departments.splice(i,1)})),this.subscriptions.addSubscription("posUpd",this.rt.positionUpdated().subscribe(t=>{const i=this.positions.findIndex(s=>s.positionId===t.positionId);i>=0&&(this.positions[i]=t),this.employees.filter(s=>{var p;return(null===(p=s.position)||void 0===p?void 0:p.positionId)===t.positionId}).forEach(s=>{s.position=t})})),this.subscriptions.addSubscription("posCr",this.rt.positionCreated().subscribe(t=>{this.positions.push(t)})),this.subscriptions.addSubscription("posDel",this.rt.positionDeleted().subscribe(t=>{const i=this.positions.findIndex(s=>s.positionId===t.positionId);i>=0&&this.positions.splice(i,1)})),this.subscriptions.addSubscription("empSearch",this.employeeFiltrationForm.valueChanges.pipe((0,Ls.b)(1e3),(0,Qr.x)()).subscribe(t=>{var i,s;this.employeeFiltrationForm.disable({emitEvent:!1}),this.api.getEmployees(null!==(i=t.query)&&void 0!==i?i:void 0,null!==(s=t.showDeleted)&&void 0!==s?s:void 0).subscribe({next:p=>{this.employees=p,this.employeeFiltrationForm.enable({emitEvent:!1})},error:()=>this.employeeFiltrationForm.enable({emitEvent:!1})})}))}departmentCreate(){this.isBeginCreatingDepartment=!0,this.api.createDepartment(this.departmentForm.getRawValue()).subscribe({complete:()=>{this.isBeginCreatingDepartment=!1,this.showCreateDepartmentDialog=!1},error:()=>{this.isBeginCreatingDepartment=!1}})}departmentDelete(t){"number"==typeof t&&(this.isBeginDeleteDepartment[t]=!0,this.api.deleteDepartment(t).subscribe({complete:()=>{delete this.isBeginDeleteDepartment[t]},error:()=>{delete this.isBeginDeleteDepartment[t]}}))}departmentDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b: "+t.name+"?",accept:()=>{this.departmentDelete(t.departmentId)}})}departmentEdit(){const t=this.departmentForm.value.id;"number"==typeof t&&(this.isBeginEditingDepartment=!0,this.api.editDepartment(this.departmentForm.getRawValue(),t).subscribe({complete:()=>{this.isBeginEditingDepartment=!1,this.showEditDepartmentDialog=!1},error:()=>{this.isBeginEditingDepartment=!1}}))}openDepartmentEditor(t,i,s){"number"==typeof s&&(this.showEditDepartmentDialog=!0,this.departmentForm.setValue({id:s,name:t,description:i}))}openDepartmentCreator(){this.showCreateDepartmentDialog=!0,this.departmentForm.reset()}openPositionCreator(){this.showCreatePositionDialog=!0,this.positionForm.reset()}openPositionEditor(t,i,s,p){"number"==typeof p&&(this.showEditPositionDialog=!0,this.positionForm.setValue({id:p,name:t,description:i,access:Ii.j.read(s)}))}accessFlags(){return Ii.j.flagList()}positionCreate(){var t,i;this.isBeginCreatingPosition=!0;const s={name:this.positionForm.value.name,description:this.positionForm.value.description,access:null!==(i=null===(t=this.positionForm.value.access)||void 0===t?void 0:t.reduce((p,w)=>p+w,0))&&void 0!==i?i:0};this.api.createPosition(s).subscribe({complete:()=>{this.isBeginCreatingPosition=!1,this.showCreatePositionDialog=!1},error:()=>{this.isBeginCreatingPosition=!1}})}positionEdit(){var t,i;if("number"!=typeof this.positionForm.value.id)return;this.isBeginEditingPosition=!0;const s={name:this.positionForm.value.name,description:this.positionForm.value.description,access:null!==(i=null===(t=this.positionForm.value.access)||void 0===t?void 0:t.reduce((p,w)=>p+w,0))&&void 0!==i?i:0};this.api.editPosition(s,this.positionForm.value.id).subscribe({complete:()=>{this.isBeginEditingPosition=!1,this.showEditPositionDialog=!1},error:()=>{this.isBeginEditingPosition=!1}})}positionDelete(t){"number"==typeof t&&(this.isBeginDeletePosition[t]=!0,this.api.deletePosition(t).subscribe({complete:()=>{delete this.isBeginDeletePosition[t]},error:()=>{delete this.isBeginDeletePosition[t]}}))}positionDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: "+t.name+"?",accept:()=>{this.positionDelete(t.positionId)}})}openEmployeeCreator(){this.showCreateEmployeeDialog=!0,this.employeeForm.reset({login:"",password:"",access:[],department:null,position:null,secondName:"",firstName:"",lastName:"",internalPhoneNumber:"",telegramUserId:"",offsite:!1})}accessOverrideChange(t){t||this.employeeForm.patchValue({access:[]})}positionSelecting(t){const i=this.positions.find(s=>s.positionId===t.value);i&&i.access&&(this.accessOfSelectedPosition=Ii.j.read(i.access))}checkAllAccessEmployee(t){const{checked:i}=t;this.employeeForm.patchValue(i?{access:Ii.j.array()}:{access:[]})}checkAllAccessPosition(t){const{checked:i}=t;this.positionForm.patchValue(i?{access:Ii.j.array()}:{access:[]})}employeeCreate(){const t=this.employeeForm.getRawValue();this.isBeingCreatingEmployee=!0;let i=0;Array.isArray(t.access)&&(i=t.access.reduce((s,p)=>s+p,0)),this.api.createEmployee(Object.assign(Object.assign({},t),{access:i})).subscribe({complete:()=>{this.isBeingCreatingEmployee=!1,this.showCreateEmployeeDialog=!1},error:()=>{this.isBeingCreatingEmployee=!1}})}employeeDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+t.login+"?",accept:()=>{this.employeeDelete(t.login)}})}employeeDelete(t){"string"==typeof t&&(this.isBeingDeleteEmployee[t]=!0,this.api.deleteEmployee(t).subscribe({complete:()=>{delete this.isBeingDeleteEmployee[t]},error:()=>{delete this.isBeingDeleteEmployee[t]}}))}employeeEdit(){const t=this.employeeForm.getRawValue();if("string"!=typeof t.login)return;this.isBeingEditingEmployee=!0;let i=0;Array.isArray(t.access)&&(i=t.access.reduce((s,p)=>s+p,0)),this.api.editEmployee(Object.assign(Object.assign({},t),{access:i}),t.login).subscribe({complete:()=>{this.isBeingEditingEmployee=!1,this.showEditEmployeeDialog=!1},error:()=>{this.isBeingEditingEmployee=!1}})}openEmployeeEditor(t){"string"==typeof t&&this.api.getEmployee(t).subscribe({next:i=>{var s,p,w,J,_e,$e,Xe,Xt,jt,Wt,fn,Rn,Fn,jn,Ti,io,zi,wo,ms,Zs,Mo,Zl;this.employeeForm.patchValue({login:i.login,password:"password",access:Ii.j.read(null!==(s=i.access)&&void 0!==s?s:0),department:null===(p=i.department)||void 0===p?void 0:p.departmentId,position:null===(w=i.position)||void 0===w?void 0:w.positionId,secondName:i.secondName,firstName:i.firstName,lastName:i.lastName,internalPhoneNumber:i.internalPhoneNumber,telegramUserId:i.telegramUserId,telegramGroupChatId:i.telegramGroupChatId,offsite:i.offsite,oldTrackerCredentials:{username:null!==(_e=null===(J=i.oldTrackerCredentials)||void 0===J?void 0:J.username)&&void 0!==_e?_e:"",password:null!==(Xe=null===($e=i.oldTrackerCredentials)||void 0===$e?void 0:$e.password)&&void 0!==Xe?Xe:"",installerId:null!==(jt=null===(Xt=i.oldTrackerCredentials)||void 0===Xt?void 0:Xt.installerId)&&void 0!==jt?jt:""},base1785Credentials:{username:null!==(fn=null===(Wt=i.base1785Credentials)||void 0===Wt?void 0:Wt.username)&&void 0!==fn?fn:"",password:null!==(Fn=null===(Rn=i.base1785Credentials)||void 0===Rn?void 0:Rn.password)&&void 0!==Fn?Fn:""},base781Credentials:{username:null!==(Ti=null===(jn=i.base781Credentials)||void 0===jn?void 0:jn.username)&&void 0!==Ti?Ti:"",password:null!==(zi=null===(io=i.base781Credentials)||void 0===io?void 0:io.password)&&void 0!==zi?zi:""},base1783Credentials:{username:null!==(ms=null===(wo=i.base1783Credentials)||void 0===wo?void 0:wo.username)&&void 0!==ms?ms:"",password:null!==(Mo=null===(Zs=i.base1783Credentials)||void 0===Zs?void 0:Zs.password)&&void 0!==Mo?Mo:""}}),this.positionSelecting({value:null===(Zl=i.position)||void 0===Zl?void 0:Zl.positionId}),this.showEditEmployeeDialog=!0},error:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N.YP),e.Y36(Q.F),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:21,vars:29,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"stretched","panel","overflow"],[4,"ngIf"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","dismissableMask","resizable","visibleChange"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","dismissableMask","resizable","visibleChange"],["contentStyleClass","flex flex-column gap-3","header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["contentStyleClass","flex flex-column gap-3","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","dismissableMask","resizable","visibleChange"],["employeeFormTemplate",""],["pTemplate","header"],[1,"flexed","column"],[1,"flexed","gap10","vcenter","hcenter",3,"formGroup"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text"],[1,"caption","size-small","f-color-500","flexed","column","hcenter"],["formControlName","showDeleted",3,"falseValue","ngStyle","trueValue"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-text p-button-success",3,"onClick"],[1,"employee-list"],["class","employee-list-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","hcenter"],[1,"mdi-person"],[1,"employee-list-item"],[3,"deleted","name","size","src"],[1,"caption"],[1,"flexed","gap5","hcenter"],["appColorize",""],[1,"stretched"],["icon","mdi-edit","styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"disabled","onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flexed","column","gap10"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[1,"list-view"],["class","list-view-item bordered",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mdi-groups"],[1,"list-view-item","bordered"],[1,"flexed","column","gap5"],["appColorize","",1,"caption","size-small","f-color-500"],["class","caption size-small",3,"style",4,"ngIf"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"loading","onClick"],[1,"caption","size-small"],[1,"flexed","gap10","column"],[1,"mdi-badge"],[1,"flexed","column","gap5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText","","type","text"],["formControlName","description","pInputTextarea","",3,"autoResize","cols","rows"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","flex-column","gap-2",3,"formGroup"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"onChange"],[1,"flex","gap-3","flex-wrap","max-h-15rem","p-2","overflow-y-auto"],["name","access",3,"label","value","formControl",4,"ngFor","ngForOf","ngForTrackBy"],["name","access",3,"label","value","formControl"],[4,"ngTemplateOutlet"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],[1,"flex","gap-3","align-items-center"],[1,"input-label-wrapper","full-width"],["appRegexPatternChecker","","patternRx","^[\u0410-\u044f]+$","formControlName","lastName","pInputText","","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","firstName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","secondName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","login","pInputText","","patternRx","^[\\w\\.]+$$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[\\w\\.]+$$","type","password",3,"disabled"],["appRegexPatternChecker","","formControlName","internalPhoneNumber","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["appRegexPatternChecker","","formControlName","telegramUserId","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["formControlName","department","optionLabel","name","optionValue","departmentId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","disabled"],["pTemplate","selectedItem"],["pTemplate","item"],["formControlName","position","optionLabel","name","optionValue","positionId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","disabled","onChange"],[1,"input-label-wrapper","flexed","vcenter"],["formControlName","offsite",3,"falseValue","ngStyle","trueValue","disabled"],["class","input-label-wrapper full-width",4,"ngIf"],["header","\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",3,"toggleable","collapsed"],[1,"flex","flex-column","gap-2"],[1,"flex","flex-column"],[1,"text-bluegray-400","font-bold"],["formGroupName","oldTrackerCredentials",1,"flex","gap-3","align-items-center"],["formGroupName","base1785Credentials",1,"flex","gap-3","align-items-center"],["label","\u041b\u043e\u0433\u0438\u043d"],["appRegexPatternChecker","","formControlName","username","pInputText","","patternRx","^[\\w\\.]+$","type","text",3,"disabled"],["label","\u041f\u0430\u0440\u043e\u043b\u044c"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[\\w\\.]+$","type","text",3,"disabled"],["formGroupName","base781Credentials",1,"flex","gap-3","align-items-center"],["formGroupName","base1783Credentials",1,"flex","gap-3","align-items-center"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430",3,"toggleable","collapsed"],[1,"flex","gap-3","flex-column"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"disabled","onChange"],["offLabel","\u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c","onLabel","\u0418\u0437 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["class","flex gap-3 flex-wrap max-h-15rem p-2 overflow-y-auto",4,"ngIf"],["appColorize","",3,"colorString"],["appRegexPatternChecker","","formControlName","telegramGroupChatId","pInputText","","patternRx","^\\d+$","type","text",3,"disabled"],["label","ID \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430 \u0432 \u0442\u0440\u0435\u043a\u0435\u0440\u0435"],["appRegexPatternChecker","","formControlName","installerId","pInputText","","patternRx","^[\\d]+$","type","text",3,"disabled"],["name","access",3,"label","value","disabled","formControl",4,"ngFor","ngForOf","ngForTrackBy"],["name","access",3,"label","value","disabled","formControl"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value",4,"ngFor","ngForOf","ngForTrackBy"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"p-tabView",2),e.YNc(4,Xc,14,7,"p-tabPanel",3),e.YNc(5,Jl,7,2,"p-tabPanel",3),e.YNc(6,Gl,6,2,"p-tabPanel",3),e.qZA()()(),e.TgZ(7,"p-dialog",4),e.NdJ("visibleChange",function(p){return i.showCreateDepartmentDialog=p}),e.YNc(8,ep,10,6,"ng-template",5),e.qZA(),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(p){return i.showEditDepartmentDialog=p}),e.YNc(10,Fa,10,6,"ng-template",5),e.qZA(),e.TgZ(11,"p-dialog",7),e.NdJ("visibleChange",function(p){return i.showCreatePositionDialog=p}),e.YNc(12,Wl,14,10,"ng-template",5),e.qZA(),e.TgZ(13,"p-dialog",8),e.NdJ("visibleChange",function(p){return i.showEditPositionDialog=p}),e.YNc(14,tp,14,10,"ng-template",5),e.qZA(),e.TgZ(15,"p-dialog",9),e.NdJ("visibleChange",function(p){return i.showCreateEmployeeDialog=p}),e.YNc(16,Gr,2,3,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",10),e.NdJ("visibleChange",function(p){return i.showEditEmployeeDialog=p}),e.YNc(18,ip,2,3,"ng-template",5),e.qZA(),e.YNc(19,qt,89,39,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(1),e.Udp("padding-bottom","2rem"),e.xp6(3),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_EMPLOYEES)),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_DEPARTMENTS)),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_POSITIONS)),e.xp6(1),e.Q6J("visible",i.showCreateDepartmentDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditDepartmentDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreatePositionDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditPositionDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreateEmployeeDialog)("modal",!0)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditEmployeeDialog)("modal",!0)("dismissableMask",!0)("resizable",!1))},styles:[".employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.employee-list-item[_ngcontent-%COMP%]{display:flex;cursor:pointer;padding:1rem;gap:1rem;align-items:center;transition:background-color .2s ease-out}.employee-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.department-menu[_ngcontent-%COMP%]{border-left:1px solid var(--bgc-300)}"]}),n})();var $n=b(9936);function Ui(n,o){1&n&&e._UZ(0,"app-dashboard-task-statistic-panel",6),2&n&&e.Q6J("wireframe",o.$implicit)}function ar(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ui,1,1,"app-dashboard-task-statistic-panel",5),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function ha(n,o){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"span",8),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0437\u0430\u0434\u0430\u0447"),e.qZA()())}let jl=(()=>{class n{constructor(t){this.api=t,this.wireframes$=this.api.getWireframes()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:4,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"grid","h-fit","w-full"],[4,"ngIf","ngIfElse"],["empty",""],["class","col-4",3,"wireframe",4,"ngFor","ngForOf"],[1,"col-4",3,"wireframe"],[1,"flex","flex-column","flex-grow-1","w-full","align-items-center","justify-content-center","p-5","text-bluegray-400","text-4xl","font-light"],[1,"mds-frame_source"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,ar,2,1,"ng-container",3),e.ALo(5,"async"),e.qZA()()(),e.YNc(6,ha,4,0,"ng-template",null,4,e.W1O)),2&t){const s=e.MAs(7);e.xp6(4),e.Q6J("ngIf",e.lcZ(5,2,i.wireframes$))("ngIfElse",s)}}}),n})();var Kl=b(9751),$u=b(515),Y_=b(727),j_=b(4482),K_=b(5403),Sh=b(8737),rp=b(4986),ed=b(3269),ap=b(9672);let Tc=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.personality=s,this.taskCreatorService=p,this.items=[],this.AccessFlag=Ii.j,this.fields=[{name:"\u0411\u0443\u043b\u0435\u0432\u043e",id:(0,es.Z)(),type:he._r.BOOLEAN,orderPosition:1,listViewIndex:1},{name:"\u0418\u043d\u0442\u0435\u0433\u0435\u0440",id:(0,es.Z)(),type:he._r.INTEGER,orderPosition:1,listViewIndex:1},{name:"\u0424\u043b\u043e\u0430\u0442",id:(0,es.Z)(),type:he._r.FLOAT,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043a\u0441\u0442",id:(0,es.Z)(),type:he._r.LARGE_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0421\u0442\u0440\u043e\u043a\u0430",id:(0,es.Z)(),type:he._r.SMALL_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0410\u0434\u0440\u0435\u0441",id:(0,es.Z)(),type:he._r.ADDRESS,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",id:(0,es.Z)(),type:he._r.PHONE_ARRAY,orderPosition:1,listViewIndex:1}],this.ips$=function Xu(n,o,t){if(null==o&&(o=n,n=0),o<=0)return $u.E;const i=o+n;return new Kl.y(t?s=>{let p=n;return t.schedule(function(){p<i?(s.next(p++),this.schedule()):s.complete()})}:s=>{let p=n;for(;p<i&&!s.closed;)s.next(p++);s.complete()})}(1,150).pipe((0,mt.U)(w=>`10.163.35.${w}`),function lp(n,...o){var t,i;const s=null!==(t=(0,ed.yG)(o))&&void 0!==t?t:rp.z,p=null!==(i=o[0])&&void 0!==i?i:null,w=o[1]||1/0;return(0,j_.e)((J,_e)=>{let $e=[],Xe=!1;const Xt=fn=>{const{buffer:Rn,subs:Fn}=fn;Fn.unsubscribe(),(0,Sh.P)($e,fn),_e.next(Rn),Xe&&jt()},jt=()=>{if($e){const fn=new Y_.w0;_e.add(fn);const Fn={buffer:[],subs:fn};$e.push(Fn),(0,ap.f)(fn,s,()=>Xt(Fn),n)}};null!==p&&p>=0?(0,ap.f)(_e,s,jt,p,!0):Xe=!0,jt();const Wt=new K_.Q(_e,fn=>{const Rn=$e.slice();for(const Fn of Rn){const{buffer:jn}=Fn;jn.push(fn),w<=jn.length&&Xt(Fn)}},()=>{for(;null!=$e&&$e.length;)_e.next($e.shift().buffer);null==Wt||Wt.unsubscribe(),_e.complete(),_e.unsubscribe()},void 0,()=>$e=null);J.subscribe(Wt)})}(1e3)),this.form=new f.cw({}),this.employees$=this.api.getEmployees(),this.users=[],this.filterForm=new f.cw({mode:new f.NI("login"),query:new f.NI("")}),this.filterChange$=this.filterForm.valueChanges.pipe((0,Ls.b)(1e3),(0,Qr.x)(),(0,R.w)(w=>{if(!w.query)return(0,Tn.of)([]);switch(w.mode){case"login":return this.api.getBillingUsersByLogin(w.query,!0);case"fio":return this.api.getBillingUsersByFio(w.query,!0);case"address":return this.api.getBillingUsersByAddress(w.query,!0)}return(0,Tn.of)([])})),this.filterModeItems=[{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"},{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"}],this.usersHandler={next:w=>{this.users=w}},this.ips=["10.163.35.26"],this.workPickerControl=new f.NI(null),this.unsub=!0,this.control=new f.NI([{equipment:{clientEquipmentId:2,name:"\u0420\u043e\u0443\u0442\u0435\u0440 5",description:"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440",price:2e3,created:"2023-08-16T07:12:42.701+00:00",creator:{login:"admin",department:{departmentId:1,name:"\u0422\u041f",description:null,deleted:!1,created:"2023-05-02T13:35:15.746+00:00"},position:{positionId:1,name:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f",description:null,access:0,created:"2023-05-02T13:40:51.279+00:00",deleted:!1},avatar:"9599810d-5d86-4aba-b71b-83fa120ace9c.png",secondName:"\u0410\u043d\u0434\u0440\u0435\u0435\u0432\u0438\u0447",firstName:"\u041c\u0430\u043a\u0441\u0438\u043c",lastName:"\u0423\u0448\u0430\u043a\u043e\u0432",internalPhoneNumber:"",access:0,created:"2023-05-01T15:53:59.919+00:00",telegramUserId:"",offsite:!1,deleted:!1,status:"ONLINE",lastSeen:"2023-08-16T13:08:43.102+00:00",fullName:"\u041c\u0430\u043a\u0441\u0438\u043c \u0423\u0448\u0430\u043a\u043e\u0432"},editedBy:[],deleted:!1,lastEdit:null},count:1}]),this.ctrl$=this.control.valueChanges.pipe((0,cn.d)(1)),this.value=new Date,this.testControl=new f.NI(null,P.d.taskInput(he._r.ADDRESS,"APARTMENT_ONLY")),this.sessionId=(0,es.Z)(),this.telnetCon$=this.rt.remoteTelnetConnection("10.100.164.62",this.sessionId).pipe((0,mt.U)(w=>w.data))}telnetSendData(t){"\x7f"!==t?this.api.sendDataToTelnetSession(this.sessionId,t).subscribe():this.api.sendDataToTelnetSession(this.sessionId,"\b").subscribe()}ngOnInit(){for(let t=0;t<1e4;t++)this.generateRandomString();for(const t of this.fields)this.form.addControl(t.id,new f.NI(null));this.filterChange$.subscribe(this.usersHandler)}valueChange(t){}generateRandomString(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";const s=t.length;for(let p=0;p<5;p++)i+=t.charAt(Math.floor(Math.random()*s));this.items.push(i)}loadDocument(){}ngAfterContentInit(){}createTask(){this.api.convertBillingAddress("\u041a.\u041c 44-118 (4.7)").subscribe(t=>{this.taskCreatorService.wireframe(7,{login:"16111630",address:t})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(Q.F),e.Y36(T.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[["appExtendPageHeight","",1,"flex","flex-column","p-3","w-full","align-items-center","justify-content-center"],["pButton","","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-address-input-alt"),e.TgZ(2,"button",1),e.NdJ("click",function(){return i.createTask()}),e.qZA()())},styles:[".hovered[_ngcontent-%COMP%]{background-color:#fff;transition:background-color .2s ease-in-out;cursor:pointer}.hovered[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();var ia,Pi,kh,oa,Qa,Dh,Mh,Oh,Ga={},tu=[],kf=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Rs(n,o){for(var t in o)n[t]=o[t];return n}function wl(n){var o=n.parentNode;o&&o.removeChild(n)}function ln(n,o,t){var i,s,p,w={};for(p in o)"key"==p?i=o[p]:"ref"==p?s=o[p]:w[p]=o[p];if(arguments.length>2&&(w.children=arguments.length>3?ia.call(arguments,2):t),"function"==typeof n&&null!=n.defaultProps)for(p in n.defaultProps)void 0===w[p]&&(w[p]=n.defaultProps[p]);return ql(n,w,i,s,null)}function ql(n,o,t,i,s){var p={type:n,props:o,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++kh:s};return null==s&&null!=Pi.vnode&&Pi.vnode(p),p}function ko(n){return n.children}function Lh(n,o,t){"-"===o[0]?n.setProperty(o,null==t?"":t):n[o]=null==t?"":"number"!=typeof t||kf.test(o)?t:t+"px"}function Ac(n,o,t,i,s){var p;e:if("style"===o)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(o in i)t&&o in t||Lh(n.style,o,"");if(t)for(o in t)i&&t[o]===i[o]||Lh(n.style,o,t[o])}else if("o"===o[0]&&"n"===o[1])p=o!==(o=o.replace(/Capture$/,"")),o=o.toLowerCase()in n?o.toLowerCase().slice(2):o.slice(2),n.l||(n.l={}),n.l[o+p]=t,t?i||n.addEventListener(o,p?Rh:cp,p):n.removeEventListener(o,p?Rh:cp,p);else if("dangerouslySetInnerHTML"!==o){if(s)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==o&&"height"!==o&&"href"!==o&&"list"!==o&&"form"!==o&&"tabIndex"!==o&&"download"!==o&&o in n)try{n[o]=null==t?"":t;break e}catch(w){}"function"==typeof t||(null==t||!1===t&&-1==o.indexOf("-")?n.removeAttribute(o):n.setAttribute(o,t))}}function cp(n){oa=!0;try{return this.l[n.type+!1](Pi.event?Pi.event(n):n)}finally{oa=!1}}function Rh(n){oa=!0;try{return this.l[n.type+!0](Pi.event?Pi.event(n):n)}finally{oa=!1}}function sa(n,o){this.props=n,this.context=o}function nu(n,o){if(null==o)return n.__?nu(n.__,n.__.__k.indexOf(n)+1):null;for(var t;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e)return t.__e;return"function"==typeof n.type?nu(n):null}function up(n){var o,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,o=0;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return up(n)}}function El(n){oa?setTimeout(n):Mh(n)}function td(n){(!n.__d&&(n.__d=!0)&&Qa.push(n)&&!ul.__r++||Dh!==Pi.debounceRendering)&&((Dh=Pi.debounceRendering)||El)(ul)}function ul(){var n,o,t,i,s,p,w,J;for(Qa.sort(function(_e,$e){return _e.__v.__b-$e.__v.__b});n=Qa.shift();)n.__d&&(o=Qa.length,i=void 0,s=void 0,w=(p=(t=n).__v).__e,(J=t.__P)&&(i=[],(s=Rs({},p)).__v=p.__v+1,ou(J,p,s,t.__n,void 0!==J.ownerSVGElement,null!=p.__h?[w]:null,i,null==w?nu(p):w,p.__h),Fh(i,p),p.__e!=w&&up(p)),Qa.length>o&&Qa.sort(function(_e,$e){return _e.__v.__b-$e.__v.__b}));ul.__r=0}function iu(n,o,t,i,s,p,w,J,_e,$e){var Xe,Xt,jt,Wt,fn,Rn,Fn,jn=i&&i.__k||tu,Ti=jn.length;for(t.__k=[],Xe=0;Xe<o.length;Xe++)if(null!=(Wt=t.__k[Xe]=null==(Wt=o[Xe])||"boolean"==typeof Wt?null:"string"==typeof Wt||"number"==typeof Wt||"bigint"==typeof Wt?ql(null,Wt,null,null,Wt):Array.isArray(Wt)?ql(ko,{children:Wt},null,null,null):Wt.__b>0?ql(Wt.type,Wt.props,Wt.key,Wt.ref?Wt.ref:null,Wt.__v):Wt)){if(Wt.__=t,Wt.__b=t.__b+1,null===(jt=jn[Xe])||jt&&Wt.key==jt.key&&Wt.type===jt.type)jn[Xe]=void 0;else for(Xt=0;Xt<Ti;Xt++){if((jt=jn[Xt])&&Wt.key==jt.key&&Wt.type===jt.type){jn[Xt]=void 0;break}jt=null}ou(n,Wt,jt=jt||Ga,s,p,w,J,_e,$e),fn=Wt.__e,(Xt=Wt.ref)&&jt.ref!=Xt&&(Fn||(Fn=[]),jt.ref&&Fn.push(jt.ref,null,Wt),Fn.push(Xt,Wt.__c||fn,Wt)),null!=fn?(null==Rn&&(Rn=fn),"function"==typeof Wt.type&&Wt.__k===jt.__k?Wt.__d=_e=dl(Wt,_e,n):_e=Nh(n,Wt,jt,jn,fn,_e),"function"==typeof t.type&&(t.__d=_e)):_e&&jt.__e==_e&&_e.parentNode!=n&&(_e=nu(jt))}for(t.__e=Rn,Xe=Ti;Xe--;)null!=jn[Xe]&&("function"==typeof t.type&&null!=jn[Xe].__e&&jn[Xe].__e==t.__d&&(t.__d=wc(i).nextSibling),Sc(jn[Xe],jn[Xe]));if(Fn)for(Xe=0;Xe<Fn.length;Xe++)Ec(Fn[Xe],Fn[++Xe],Fn[++Xe])}function dl(n,o,t){for(var i,s=n.__k,p=0;s&&p<s.length;p++)(i=s[p])&&(i.__=n,o="function"==typeof i.type?dl(i,o,t):Nh(t,i,i,s,i.__e,o));return o}function Wa(n,o){return o=o||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(t){Wa(t,o)}):o.push(n)),o}function Nh(n,o,t,i,s,p){var w,J,_e;if(void 0!==o.__d)w=o.__d,o.__d=void 0;else if(null==t||s!=p||null==s.parentNode)e:if(null==p||p.parentNode!==n)n.appendChild(s),w=null;else{for(J=p,_e=0;(J=J.nextSibling)&&_e<i.length;_e+=1)if(J==s)break e;n.insertBefore(s,p),w=p}return void 0!==w?w:s.nextSibling}function wc(n){var o,t,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(o=n.__k.length-1;o>=0;o--)if((t=n.__k[o])&&(i=wc(t)))return i;return null}function ou(n,o,t,i,s,p,w,J,_e){var $e,Xe,Xt,jt,Wt,fn,Rn,Fn,jn,Ti,io,zi,wo,ms,Zs,Mo=o.type;if(void 0!==o.constructor)return null;null!=t.__h&&(_e=t.__h,J=o.__e=t.__e,o.__h=null,p=[J]),($e=Pi.__b)&&$e(o);try{e:if("function"==typeof Mo){if(Fn=o.props,jn=($e=Mo.contextType)&&i[$e.__c],Ti=$e?jn?jn.props.value:$e.__:i,t.__c?Rn=(Xe=o.__c=t.__c).__=Xe.__E:("prototype"in Mo&&Mo.prototype.render?o.__c=Xe=new Mo(Fn,Ti):(o.__c=Xe=new sa(Fn,Ti),Xe.constructor=Mo,Xe.render=q_),jn&&jn.sub(Xe),Xe.props=Fn,Xe.state||(Xe.state={}),Xe.context=Ti,Xe.__n=i,Xt=Xe.__d=!0,Xe.__h=[],Xe._sb=[]),null==Xe.__s&&(Xe.__s=Xe.state),null!=Mo.getDerivedStateFromProps&&(Xe.__s==Xe.state&&(Xe.__s=Rs({},Xe.__s)),Rs(Xe.__s,Mo.getDerivedStateFromProps(Fn,Xe.__s))),jt=Xe.props,Wt=Xe.state,Xe.__v=o,Xt)null==Mo.getDerivedStateFromProps&&null!=Xe.componentWillMount&&Xe.componentWillMount(),null!=Xe.componentDidMount&&Xe.__h.push(Xe.componentDidMount);else{if(null==Mo.getDerivedStateFromProps&&Fn!==jt&&null!=Xe.componentWillReceiveProps&&Xe.componentWillReceiveProps(Fn,Ti),!Xe.__e&&null!=Xe.shouldComponentUpdate&&!1===Xe.shouldComponentUpdate(Fn,Xe.__s,Ti)||o.__v===t.__v){for(o.__v!==t.__v&&(Xe.props=Fn,Xe.state=Xe.__s,Xe.__d=!1),o.__e=t.__e,o.__k=t.__k,o.__k.forEach(function(Zl){Zl&&(Zl.__=o)}),io=0;io<Xe._sb.length;io++)Xe.__h.push(Xe._sb[io]);Xe._sb=[],Xe.__h.length&&w.push(Xe);break e}null!=Xe.componentWillUpdate&&Xe.componentWillUpdate(Fn,Xe.__s,Ti),null!=Xe.componentDidUpdate&&Xe.__h.push(function(){Xe.componentDidUpdate(jt,Wt,fn)})}if(Xe.context=Ti,Xe.props=Fn,Xe.__P=n,zi=Pi.__r,wo=0,"prototype"in Mo&&Mo.prototype.render){for(Xe.state=Xe.__s,Xe.__d=!1,zi&&zi(o),$e=Xe.render(Xe.props,Xe.state,Xe.context),ms=0;ms<Xe._sb.length;ms++)Xe.__h.push(Xe._sb[ms]);Xe._sb=[]}else do{Xe.__d=!1,zi&&zi(o),$e=Xe.render(Xe.props,Xe.state,Xe.context),Xe.state=Xe.__s}while(Xe.__d&&++wo<25);Xe.state=Xe.__s,null!=Xe.getChildContext&&(i=Rs(Rs({},i),Xe.getChildContext())),Xt||null==Xe.getSnapshotBeforeUpdate||(fn=Xe.getSnapshotBeforeUpdate(jt,Wt)),Zs=null!=$e&&$e.type===ko&&null==$e.key?$e.props.children:$e,iu(n,Array.isArray(Zs)?Zs:[Zs],o,t,i,s,p,w,J,_e),Xe.base=o.__e,o.__h=null,Xe.__h.length&&w.push(Xe),Rn&&(Xe.__E=Xe.__=null),Xe.__e=!1}else null==p&&o.__v===t.__v?(o.__k=t.__k,o.__e=t.__e):o.__e=function dp(n,o,t,i,s,p,w,J){var _e,$e,Xe,Xt=t.props,jt=o.props,Wt=o.type,fn=0;if("svg"===Wt&&(s=!0),null!=p)for(;fn<p.length;fn++)if((_e=p[fn])&&"setAttribute"in _e==!!Wt&&(Wt?_e.localName===Wt:3===_e.nodeType)){n=_e,p[fn]=null;break}if(null==n){if(null===Wt)return document.createTextNode(jt);n=s?document.createElementNS("http://www.w3.org/2000/svg",Wt):document.createElement(Wt,jt.is&&jt),p=null,J=!1}if(null===Wt)Xt===jt||J&&n.data===jt||(n.data=jt);else{if(p=p&&ia.call(n.childNodes),$e=(Xt=t.props||Ga).dangerouslySetInnerHTML,Xe=jt.dangerouslySetInnerHTML,!J){if(null!=p)for(Xt={},fn=0;fn<n.attributes.length;fn++)Xt[n.attributes[fn].name]=n.attributes[fn].value;(Xe||$e)&&(Xe&&($e&&Xe.__html==$e.__html||Xe.__html===n.innerHTML)||(n.innerHTML=Xe&&Xe.__html||""))}if(function Ph(n,o,t,i,s){var p;for(p in t)"children"===p||"key"===p||p in o||Ac(n,p,null,t[p],i);for(p in o)s&&"function"!=typeof o[p]||"children"===p||"key"===p||"value"===p||"checked"===p||t[p]===o[p]||Ac(n,p,o[p],t[p],i)}(n,jt,Xt,s,J),Xe)o.__k=[];else if(fn=o.props.children,iu(n,Array.isArray(fn)?fn:[fn],o,t,i,s&&"foreignObject"!==Wt,p,w,p?p[0]:t.__k&&nu(t,0),J),null!=p)for(fn=p.length;fn--;)null!=p[fn]&&wl(p[fn]);J||("value"in jt&&void 0!==(fn=jt.value)&&(fn!==n.value||"progress"===Wt&&!fn||"option"===Wt&&fn!==Xt.value)&&Ac(n,"value",fn,Xt.value,!1),"checked"in jt&&void 0!==(fn=jt.checked)&&fn!==n.checked&&Ac(n,"checked",fn,Xt.checked,!1))}return n}(t.__e,o,t,i,s,p,w,_e);($e=Pi.diffed)&&$e(o)}catch(Zl){o.__v=null,(_e||null!=p)&&(o.__e=J,o.__h=!!_e,p[p.indexOf(J)]=null),Pi.__e(Zl,o,t)}}function Fh(n,o){Pi.__c&&Pi.__c(o,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Pi.__e(i,t.__v)}})}function Ec(n,o,t){try{"function"==typeof n?n(o):n.current=o}catch(i){Pi.__e(i,t)}}function Sc(n,o,t){var i,s;if(Pi.unmount&&Pi.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||Ec(i,null,o)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(p){Pi.__e(p,o)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(s=0;s<i.length;s++)i[s]&&Sc(i[s],o,t||"function"!=typeof n.type);t||null==n.__e||wl(n.__e),n.__=n.__e=n.__d=void 0}function q_(n,o,t){return this.constructor(n,t)}function ra(n,o,t){var i,s,p;Pi.__&&Pi.__(n,o),s=(i="function"==typeof t)?null:t&&t.__k||o.__k,p=[],ou(o,n=(!i&&t||o).__k=ln(ko,null,[n]),s||Ga,Ga,void 0!==o.ownerSVGElement,!i&&t?[t]:s?null:o.firstChild?ia.call(o.childNodes):null,p,!i&&t?t:s?s.__e:o.firstChild,i),Fh(p,n)}ia=tu.slice,Pi={__e:function(n,o,t,i){for(var s,p,w;o=o.__;)if((s=o.__c)&&!s.__)try{if((p=s.constructor)&&null!=p.getDerivedStateFromError&&(s.setState(p.getDerivedStateFromError(n)),w=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(n,i||{}),w=s.__d),w)return s.__E=s}catch(J){n=J}throw n}},kh=0,oa=!1,sa.prototype.setState=function(n,o){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Rs({},this.state),"function"==typeof n&&(n=n(Rs({},t),this.props)),n&&Rs(t,n),null!=n&&this.__v&&(o&&this._sb.push(o),td(this))},sa.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),td(this))},sa.prototype.render=ko,Qa=[],Mh="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ul.__r=0,Oh=0;var Ts,gp,Bh,Zh=[],nd=[],fp=Pi.__b,id=Pi.__r,od=Pi.diffed,ru=Pi.__c,Uh=Pi.unmount;function Cp(){for(var n;n=Zh.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(tc),n.__H.__h.forEach(ld),n.__H.__h=[]}catch(o){n.__H.__h=[],Pi.__e(o,n.__v)}}Pi.__b=function(n){Ts=null,fp&&fp(n)},Pi.__r=function(n){id&&id(n);var o=(Ts=n.__c).__H;o&&(gp===Ts?(o.__h=[],Ts.__h=[],o.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=nd,t.__N=t.i=void 0})):(o.__h.forEach(tc),o.__h.forEach(ld),o.__h=[])),gp=Ts},Pi.diffed=function(n){od&&od(n);var o=n.__c;o&&o.__H&&(o.__H.__h.length&&(1!==Zh.push(o)&&Bh===Pi.requestAnimationFrame||((Bh=Pi.requestAnimationFrame)||ad)(Cp)),o.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==nd&&(t.__=t.__V),t.i=void 0,t.__V=nd})),gp=Ts=null},Pi.__c=function(n,o){o.some(function(t){try{t.__h.forEach(tc),t.__h=t.__h.filter(function(i){return!i.__||ld(i)})}catch(i){o.some(function(s){s.__h&&(s.__h=[])}),o=[],Pi.__e(i,t.__v)}}),ru&&ru(n,o)},Pi.unmount=function(n){Uh&&Uh(n);var o,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{tc(i)}catch(s){o=s}}),t.__H=void 0,o&&Pi.__e(o,t.__v))};var vp="function"==typeof requestAnimationFrame;function ad(n){var o,t=function(){clearTimeout(i),vp&&cancelAnimationFrame(o),setTimeout(n)},i=setTimeout(t,100);vp&&(o=requestAnimationFrame(t))}function tc(n){var o=Ts,t=n.__c;"function"==typeof t&&(n.__c=void 0,t()),Ts=o}function ld(n){var o=Ts;n.__c=n.__(),Ts=o}function nc(n,o){for(var t in n)if("__source"!==t&&!(t in o))return!0;for(var i in o)if("__source"!==i&&n[i]!==o[i])return!0;return!1}function dd(n){this.props=n}(dd.prototype=new sa).isPureReactComponent=!0,dd.prototype.shouldComponentUpdate=function(n,o){return nc(this.props,n)||nc(this.state,o)};var Jh=Pi.__b;Pi.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Jh&&Jh(n)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ic=Pi.__e;Pi.__e=function(n,o,t,i){if(n.then)for(var s,p=o;p=p.__;)if((s=p.__c)&&s.__c)return null==o.__e&&(o.__e=t.__e,o.__k=t.__k),s.__c(n,o);ic(n,o,t,i)};var Ip=Pi.unmount;function Qh(n,o,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){"function"==typeof i.__c&&i.__c()}),n.__c.__H=null),null!=(n=function ud(n,o){for(var t in o)n[t]=o[t];return n}({},n)).__c&&(n.__c.__P===t&&(n.__c.__P=o),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return Qh(i,o,t)})),n}function Gh(n,o,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return Gh(i,o,t)}),n.__c&&n.__c.__P===o&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function gd(){this.__u=0,this.t=null,this.__b=null}function fd(n){var o=n.__.__c;return o&&o.__a&&o.__a(n)}function oc(){this.u=null,this.o=null}Pi.unmount=function(n){var o=n.__c;o&&o.__R&&o.__R(),o&&!0===n.__h&&(n.type=null),Ip&&Ip(n)},(gd.prototype=new sa).__c=function(n,o){var t=o.__c,i=this;null==i.t&&(i.t=[]),i.t.push(t);var s=fd(i.__v),p=!1,w=function(){p||(p=!0,t.__R=null,s?s(J):J())};t.__R=w;var J=function(){if(!--i.__u){if(i.state.__a){var $e=i.state.__a;i.__v.__k[0]=Gh($e,$e.__c.__P,$e.__c.__O)}var Xe;for(i.setState({__a:i.__b=null});Xe=i.t.pop();)Xe.forceUpdate()}},_e=!0===o.__h;i.__u++||_e||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(w,w)},gd.prototype.componentWillUnmount=function(){this.t=[]},gd.prototype.render=function(n,o){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Qh(this.__b,t,i.__O=i.__P)}this.__b=null}var s=o.__a&&ln(ko,null,n.fallback);return s&&(s.__h=null),[ln(ko,null,o.__a?null:n.children),s]};var cu=function(n,o,t){if(++t[1]===t[0]&&n.o.delete(o),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Tp(n){return this.getChildContext=function(){return n.context},n.children}function md(n){var o=this,t=n.i;o.componentWillUnmount=function(){ra(null,o.l),o.l=null,o.i=null},o.i&&o.i!==t&&o.componentWillUnmount(),n.__v?(o.l||(o.i=t,o.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),o.i.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),o.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),o.i.removeChild(i)}}),ra(ln(Tp,{context:o.context},n.__v),o.l)):o.l&&o.componentWillUnmount()}(oc.prototype=new sa).__a=function(n){var o=this,t=fd(o.__v),i=o.o.get(n);return i[0]++,function(s){var p=function(){o.props.revealOrder?(i.push(s),cu(o,n,i)):s()};t?t(p):p()}},oc.prototype.render=function(n){this.u=null,this.o=new Map;var o=Wa(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&o.reverse();for(var t=o.length;t--;)this.o.set(o[t],this.u=[1,0,this.u]);return n.children},oc.prototype.componentDidUpdate=oc.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(o,t){cu(n,t,o)})};var wp="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ja=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Pf="undefined"!=typeof document,uu=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};sa.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(sa.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(o){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:o})}})});var Wh=Pi.event;function qa(){}function Dc(){return this.cancelBubble}function Lf(){return this.defaultPrevented}Pi.event=function(n){return Wh&&(n=Wh(n)),n.persist=qa,n.isPropagationStopped=Dc,n.isDefaultPrevented=Lf,n.nativeEvent=n};var Ep={configurable:!0,get:function(){return this.class}},jh=Pi.vnode;Pi.vnode=function(n){var o=n.type,t=n.props,i=t;if("string"==typeof o){var s=-1===o.indexOf("-");for(var p in i={},t){var w=t[p];Pf&&"children"===p&&"noscript"===o||"value"===p&&"defaultValue"in t&&null==w||("defaultValue"===p&&"value"in t&&null==t.value?p="value":"download"===p&&!0===w?w="":/ondoubleclick/i.test(p)?p="ondblclick":/^onchange(textarea|input)/i.test(p+o)&&!uu(t.type)?p="oninput":/^onfocus$/i.test(p)?p="onfocusin":/^onblur$/i.test(p)?p="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(p)?p=p.toLowerCase():s&&ja.test(p)?p=p.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===w&&(w=void 0),/^oninput$/i.test(p)&&(p=p.toLowerCase(),i[p]&&(p="oninputCapture")),i[p]=w)}"select"==o&&i.multiple&&Array.isArray(i.value)&&(i.value=Wa(t.children).forEach(function(J){J.props.selected=-1!=i.value.indexOf(J.props.value)})),"select"==o&&null!=i.defaultValue&&(i.value=Wa(t.children).forEach(function(J){J.props.selected=i.multiple?-1!=i.defaultValue.indexOf(J.props.value):i.defaultValue==J.props.value})),n.props=i,t.class!=t.className&&(Ep.enumerable="className"in t,null!=t.className&&(i.class=t.className),Object.defineProperty(i,"className",Ep))}n.$$typeof=wp,jh&&jh(n)};var Kh=Pi.__r;Pi.__r=function(n){Kh&&Kh(n)};const pu=[],hu=new Map,kp=" fullcalendar styles ";function hl(n){pu.push(n),hu.forEach(o=>{ag(n,o)})}function Dp(n,o=n,t=o.firstChild){if(!hu.has(n)){const i=document.createComment(kp),s=document.createComment(` END${kp}`);o.insertBefore(s,t),o.insertBefore(i,s),hu.set(n,s),function rg(n){for(const o of pu)ag(o,n)}(s)}}function ag(n,o){const t=document.createElement("style"),i=function Mc(){return void 0===Cd&&(Cd=function vd(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const o=document.querySelector("script[nonce]");return o&&o.nonce||""}()),Cd}();i&&(t.nonce=i),t.innerText=n,o.parentNode.insertBefore(t,o)}let Cd;function bd(n){n.parentNode&&n.parentNode.removeChild(n)}function xo(n,o){if(n.closest)return n.closest(o);if(!document.documentElement.contains(n))return null;do{if(Op(n,o))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function Op(n,o){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,o)}"undefined"!=typeof document&&Dp(document,document.head,document.head.querySelector("script,link,style")),hl(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const cg=/(top|left|right|bottom|width|height)$/i;function gu(n,o){for(let t in o)ug(n,t,o[t])}function ug(n,o,t){n.style[o]=null==t?"":"number"==typeof t&&cg.test(o)?`${t}px`:t}function dg(n){var o,t;return null!==(t=null===(o=n.composedPath)||void 0===o?void 0:o.call(n)[0])&&void 0!==t?t:n.target}let pg=0;function kl(){return pg+=1,"fc-dom-"+pg}function yd(n){n.preventDefault()}function Oc(n,o,t,i){let s=function X_(n,o){return t=>{let i=xo(t.target,n);i&&o.call(i,t,i)}}(t,i);return n.addEventListener(o,s),()=>{n.removeEventListener(o,s)}}const Pc=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function xd(n){return Object.assign({onClick:n},Pp(n))}function Pp(n){return{tabIndex:0,onKeyDown(o){("Enter"===o.key||" "===o.key)&&(n(o),o.preventDefault())}}}let Id=0;function Dl(){return Id+=1,String(Id)}function fu(){document.body.classList.add("fc-not-allowed")}function Lp(){document.body.classList.remove("fc-not-allowed")}function Rp(n,o,t){return t.func?t.func(n,o):function Ad(n,o){return n||o?null==o?-1:null==n?1:"string"==typeof n||"string"==typeof o?String(n).localeCompare(String(o)):n-o:0}(n[t.field],o[t.field])*(t.order||1)}function Rc(n,o){let t=String(n);return"000".substr(0,o-t.length)+t}function ac(n,o,t){return"function"==typeof n?n(...o):"string"==typeof n?o.reduce((i,s,p)=>i.replace("$"+p,s||""),n):t}function m(n,o){return n-o}function c(n){return n%1==0}function g(n){let o=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!o)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-o.getBoundingClientRect().width+t.getBoundingClientRect().width}const C=["years","months","days","milliseconds"],I=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function M(n,o){return"string"==typeof n?function H(n){let o=I.exec(n);if(o){let t=o[1]?-1:1;return{years:0,months:0,days:t*(o[2]?parseInt(o[2],10):0),milliseconds:t*(60*(o[3]?parseInt(o[3],10):0)*60*1e3+60*(o[4]?parseInt(o[4],10):0)*1e3+1e3*(o[5]?parseInt(o[5],10):0)+(o[6]?parseInt(o[6],10):0))}}return null}(n):"object"==typeof n&&n?ee(n):"number"==typeof n?ee({[o||"milliseconds"]:n}):null}function ee(n){let o={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:60*(n.hours||n.hour||0)*60*1e3+60*(n.minutes||n.minute||0)*1e3+1e3*(n.seconds||n.second||0)+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(o.days+=7*t,o.specifiedWeeks=!0),o}function at(n,o){return{years:n.years+o.years,months:n.months+o.months,days:n.days+o.days,milliseconds:n.milliseconds+o.milliseconds}}function Cn(n){return Hn(n)/864e5}function Hn(n){return 31536e6*n.years+2592e6*n.months+864e5*n.days+n.milliseconds}function Xn(n,o){let t=null;for(let i=0;i<C.length;i+=1){let s=C[i];if(o[s]){let p=n[s]/o[s];if(!c(p)||null!==t&&t!==p)return null;t=p}else if(n[s])return null}return t}function ni(n){let o=n.milliseconds;if(o){if(o%1e3!=0)return{unit:"millisecond",value:o};if(o%6e4!=0)return{unit:"second",value:o/1e3};if(o%36e5!=0)return{unit:"minute",value:o/6e4};if(o)return{unit:"hour",value:o/36e5}}return n.days?n.specifiedWeeks&&n.days%7==0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}const{hasOwnProperty:Gn}=Object.prototype;function ci(n,o){let t={};if(o)for(let i in o)if(o[i]===Bc){let s=[];for(let p=n.length-1;p>=0;p-=1){let w=n[p][i];if("object"==typeof w&&w)s.unshift(w);else if(void 0!==w){t[i]=w;break}}s.length&&(t[i]=ci(s))}for(let i=n.length-1;i>=0;i-=1){let s=n[i];for(let p in s)p in t||(t[p]=s[p])}return t}function di(n,o){let t={};for(let i in n)o(n[i],i)&&(t[i]=n[i]);return t}function hi(n,o){let t={};for(let i in n)t[i]=o(n[i],i);return t}function Fi(n){let o={};for(let t of n)o[t]=!0;return o}function ro(n){let o=[];for(let t in n)o.push(n[t]);return o}function Wi(n,o){if(n===o)return!0;for(let t in n)if(Gn.call(n,t)&&!(t in o))return!1;for(let t in o)if(Gn.call(o,t)&&n[t]!==o[t])return!1;return!0}const Do=/^on[A-Z]/;function la(n,o){let t=[];for(let i in n)Gn.call(n,i)&&(i in o||t.push(i));for(let i in o)Gn.call(o,i)&&n[i]!==o[i]&&t.push(i);return t}function Uo(n,o,t={}){if(n===o)return!0;for(let i in o)if(!(i in n)||!fs(n[i],o[i],t[i]))return!1;for(let i in n)if(!(i in o))return!1;return!0}function fs(n,o,t){return n===o||!0===t||!!t&&t(n,o)}function ns(n,o,t){if(n===o)return!0;let s,i=n.length;if(i!==o.length)return!1;for(s=0;s<i;s+=1)if(!(t?t(n[s],o[s]):n[s]===o[s]))return!1;return!0}const lc=["sun","mon","tue","wed","thu","fri","sat"];function _u(n,o){let t=Fc(n);return t[2]+=7*o,Ys(t)}function Ns(n,o){let t=Fc(n);return t[2]+=o,Ys(t)}function ka(n,o){let t=Fc(n);return t[6]+=o,Ys(t)}function xa(n,o){return(o.valueOf()-n.valueOf())/864e5}function Zf(n,o){return uc(n)===uc(o)?Math.round(xa(n,o)):null}function Es(n){return Ys([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function hg(n,o,t,i){let s=Ys([o,0,1+pb(o,t,i)]),p=Es(n),w=Math.round(xa(s,p));return Math.floor(w/7)+1}function pb(n,o,t){let i=7+o-t;return-(7+Ys([n,0,i]).getUTCDay()-o)%7+i-1}function Uf(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function n0(n){return new Date(n[0],n[1]||0,null==n[2]?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Fc(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Ys(n){return 1===n.length&&(n=n.concat([0])),new Date(Date.UTC(...n))}function o0(n){return!isNaN(n.valueOf())}function uc(n){return 1e3*n.getUTCHours()*60*60+1e3*n.getUTCMinutes()*60+1e3*n.getUTCSeconds()+n.getUTCMilliseconds()}function s0(n,o,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==o?i=i.replace("Z",""):0!==o&&(i=i.replace("Z",gg(o,!0)))),i}function Np(n){return n.toISOString().replace(/T.*$/,"")}function gb(n){return Rc(n.getUTCHours(),2)+":"+Rc(n.getUTCMinutes(),2)+":"+Rc(n.getUTCSeconds(),2)}function gg(n,o=!1){let t=n<0?"-":"+",i=Math.abs(n),s=Math.floor(i/60),p=Math.round(i%60);return o?`${t+Rc(s,2)}:${Rc(p,2)}`:`GMT${t}${s}${p?`:${Rc(p,2)}`:""}`}function Hi(n,o,t){let i,s;return function(...p){if(i){if(!ns(i,p)){t&&t(s);let w=n.apply(this,p);(!o||!o(w,s))&&(s=w)}}else s=n.apply(this,p);return i=p,s}}function fg(n,o,t){let i,s;return p=>{if(i){if(!Wi(i,p)){t&&t(s);let w=n.call(this,p);(!o||!o(w,s))&&(s=w)}}else s=n.call(this,p);return i=p,s}}const Hf={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Fp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Bp=/\s*([ap])\.?m\.?/i,fb=/,/g,mb=/\s+/g,r0=/\u200e/g,_b=/UTC|GMT/;class a0{constructor(o){let t={},i={},s=0;for(let p in o)p in Hf?(i[p]=o[p],s=Math.max(Hf[p],s)):(t[p]=o[p],p in Fp&&(s=Math.max(Fp[p],s)));this.standardDateProps=t,this.extendedSettings=i,this.severity=s,this.buildFormattingFunc=Hi(l0)}format(o,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(o)}formatRange(o,t,i,s){let{standardDateProps:p,extendedSettings:w}=this,J=function vb(n,o,t){return t.getMarkerYear(n)!==t.getMarkerYear(o)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(o)?4:t.getMarkerDay(n)!==t.getMarkerDay(o)?2:uc(n)!==uc(o)?1:0}(o.marker,t.marker,i.calendarSystem);if(!J)return this.format(o,i);let _e=J;_e>1&&("numeric"===p.year||"2-digit"===p.year)&&("numeric"===p.month||"2-digit"===p.month)&&("numeric"===p.day||"2-digit"===p.day)&&(_e=1);let $e=this.format(o,i),Xe=this.format(t,i);if($e===Xe)return $e;let Xt=function Vf(n,o){let t={};for(let i in n)(!(i in Fp)||Fp[i]<=o)&&(t[i]=n[i]);return t}(p,_e),jt=l0(Xt,w,i),Wt=jt(o),fn=jt(t),Rn=function zf(n,o,t,i){let s=0;for(;s<n.length;){let p=n.indexOf(o,s);if(-1===p)break;let w=n.substr(0,p);s=p+o.length;let J=n.substr(s),_e=0;for(;_e<t.length;){let $e=t.indexOf(i,_e);if(-1===$e)break;let Xe=t.substr(0,$e);_e=$e+i.length;let Xt=t.substr(_e);if(w===Xe&&J===Xt)return{before:w,after:J}}}return null}($e,Wt,Xe,fn),Fn=w.separator||s||i.defaultSeparator||"";return Rn?Rn.before+Wt+Fn+fn+Rn.after:$e+Fn+Xe}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function l0(n,o,t){let i=Object.keys(n).length;return 1===i&&"short"===n.timeZoneName?s=>gg(s.timeZoneOffset):0===i&&o.week?s=>function vu(n,o,t,i,s){let p=[];return"long"===s?p.push(t):("short"===s||"narrow"===s)&&p.push(o),("long"===s||"short"===s)&&p.push(" "),p.push(i.simpleNumberFormat.format(n)),"rtl"===i.options.direction&&p.reverse(),p.join("")}(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,o.week):function Cb(n,o,t){n=Object.assign({},n),o=Object.assign({},o),function yI(n,o){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),"long"===n.timeZoneName&&(n.timeZoneName="short"),o.omitZeroMinute&&(n.second||n.millisecond)&&delete o.omitZeroMinute}(n,o),n.timeZone="UTC";let s,i=new Intl.DateTimeFormat(t.locale.codes,n);if(o.omitZeroMinute){let p=Object.assign({},n);delete p.minute,s=new Intl.DateTimeFormat(t.locale.codes,p)}return p=>{let J,{marker:w}=p;return J=s&&!w.getUTCMinutes()?s:i,function c0(n,o,t,i,s){return n=n.replace(r0,""),"short"===t.timeZoneName&&(n=function u0(n,o){let t=!1;return n=n.replace(_b,()=>(t=!0,o)),t||(n+=` ${o}`),n}(n,"UTC"===s.timeZone||null==o.timeZoneOffset?"UTC":gg(o.timeZoneOffset))),i.omitCommas&&(n=n.replace(fb,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),!1===i.meridiem?n=n.replace(Bp,"").trim():"narrow"===i.meridiem?n=n.replace(Bp,(p,w)=>w.toLocaleLowerCase()):"short"===i.meridiem?n=n.replace(Bp,(p,w)=>`${w.toLocaleLowerCase()}m`):"lowercase"===i.meridiem&&(n=n.replace(Bp,p=>p.toLocaleLowerCase())),(n=n.replace(mb," ")).trim()}(J.format(w),p,n,o,t)}}(n,o,t)}function d0(n,o){let t=o.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Jf(n,o,t,i){let s=d0(n,t.calendarSystem);return{date:s,start:s,end:o?d0(o,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class xI{constructor(o){this.cmdStr=o}format(o,t,i){return t.cmdFormatter(this.cmdStr,Jf(o,null,t,i))}formatRange(o,t,i,s){return i.cmdFormatter(this.cmdStr,Jf(o,t,i,s))}}class II{constructor(o){this.func=o}format(o,t,i){return this.func(Jf(o,null,t,i))}formatRange(o,t,i,s){return this.func(Jf(o,t,i,s))}}function Fs(n){return"object"==typeof n&&n?new a0(n):"string"==typeof n?new xI(n):"function"==typeof n?new II(n):null}const Qf={navLinkDayClick:Un,navLinkWeekClick:Un,duration:M,bootstrapFontAwesome:Un,buttonIcons:Un,customButtons:Un,defaultAllDayEventDuration:M,defaultTimedEventDuration:M,nextDayThreshold:M,scrollTime:M,scrollTimeReset:Boolean,slotMinTime:M,slotMaxTime:M,dayPopoverFormat:Fs,slotDuration:M,snapDuration:M,headerToolbar:Un,footerToolbar:Un,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Fs,dayHeaderClassNames:Un,dayHeaderContent:Un,dayHeaderDidMount:Un,dayHeaderWillUnmount:Un,dayCellClassNames:Un,dayCellContent:Un,dayCellDidMount:Un,dayCellWillUnmount:Un,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Un,weekNumbers:Boolean,weekNumberClassNames:Un,weekNumberContent:Un,weekNumberDidMount:Un,weekNumberWillUnmount:Un,editable:Boolean,viewClassNames:Un,viewDidMount:Un,viewWillUnmount:Un,nowIndicator:Boolean,nowIndicatorClassNames:Un,nowIndicatorContent:Un,nowIndicatorDidMount:Un,nowIndicatorWillUnmount:Un,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Un,locale:Un,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Un,eventOrder:function gl(n){let i,s,o=[],t=[];for("string"==typeof n?t=n.split(/\s*,\s*/):"function"==typeof n?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)s=t[i],"string"==typeof s?o.push("-"===s.charAt(0)?{field:s.substring(1),order:-1}:{field:s,order:1}):"function"==typeof s&&o.push({func:s});return o},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Un,contentHeight:Un,direction:String,weekNumberFormat:Fs,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Un,initialDate:Un,now:Un,eventDataTransform:Un,stickyHeaderDates:Un,stickyFooterScrollbar:Un,viewHeight:Un,defaultAllDay:Boolean,eventSourceFailure:Un,eventSourceSuccess:Un,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Un,eventConstraint:Un,eventAllow:Un,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Un,eventContent:Un,eventDidMount:Un,eventWillUnmount:Un,selectConstraint:Un,selectOverlap:Un,selectAllow:Un,droppable:Boolean,unselectCancel:String,slotLabelFormat:Un,slotLaneClassNames:Un,slotLaneContent:Un,slotLaneDidMount:Un,slotLaneWillUnmount:Un,slotLabelClassNames:Un,slotLabelContent:Un,slotLabelDidMount:Un,slotLabelWillUnmount:Un,dayMaxEvents:Un,dayMaxEventRows:Un,dayMinWidth:Number,slotLabelInterval:M,allDayText:String,allDayClassNames:Un,allDayContent:Un,allDayDidMount:Un,allDayWillUnmount:Un,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Fs,rerenderDelay:Number,moreLinkText:Un,moreLinkHint:Un,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Un,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:M,hiddenDays:Un,fixedWeekCount:Boolean,validRange:Un,visibleRange:Un,titleFormat:Un,eventInteractive:Boolean,noEventsText:String,viewHint:Un,navLinkHint:Un,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Un,moreLinkClassNames:Un,moreLinkContent:Un,moreLinkDidMount:Un,moreLinkWillUnmount:Un,monthStartFormat:Fs,handleCustomRendering:Un,customRenderingMetaMap:Un,customRenderingReplacesEl:Boolean},mg={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},p0={datesSet:Un,eventsSet:Un,eventAdd:Un,eventChange:Un,eventRemove:Un,windowResize:Un,eventClick:Un,eventMouseEnter:Un,eventMouseLeave:Un,select:Un,unselect:Un,loading:Un,_unmount:Un,_beforeprint:Un,_afterprint:Un,_noEventDrop:Un,_noEventResize:Un,_resize:Un,_scrollRequest:Un},bu={buttonText:Un,buttonHints:Un,views:Un,plugins:Un,initialEvents:Un,events:Un,eventSources:Un},yu={headerToolbar:Bc,footerToolbar:Bc,buttonText:Bc,buttonHints:Bc,buttonIcons:Bc,dateIncrement:Bc,plugins:xu,events:xu,eventSources:xu,resources:xu};function Bc(n,o){return"object"==typeof n&&"object"==typeof o&&n&&o?Wi(n,o):n===o}function xu(n,o){return Array.isArray(n)&&Array.isArray(o)?ns(n,o):n===o}const bb={type:String,component:Un,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Un,usesMinMaxTime:Boolean,classNames:Un,content:Un,didMount:Un,willUnmount:Un};function _g(n){return ci(n,yu)}function Cg(n,o){let t={},i={};for(let s in o)s in n&&(t[s]=o[s](n[s]));for(let s in n)s in o||(i[s]=n[s]);return{refined:t,extra:i}}function Un(n){return n}function Gf(n,o,t,i){return{instanceId:Dl(),defId:n,range:o,forcedStartTzo:null==t?null:t,forcedEndTzo:null==i?null:i}}function Iu(n,o,t){let{dateEnv:i,pluginHooks:s,options:p}=t,{defs:w,instances:J}=n;J=di(J,_e=>!w[_e.defId].recurringDef);for(let _e in w){let $e=w[_e];if($e.recurringDef){let{duration:Xe}=$e.recurringDef;Xe||(Xe=$e.allDay?p.defaultAllDayEventDuration:p.defaultTimedEventDuration);let Xt=h0($e,Xe,o,i,s.recurringTypes);for(let jt of Xt){let Wt=Gf(_e,{start:jt,end:i.add(jt,Xe)});J[Wt.instanceId]=Wt}}}return{defs:w,instances:J}}function h0(n,o,t,i,s){let w=s[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,o),end:t.end},i);return n.allDay&&(w=w.map(Es)),w}function Zp(n,o,t,i,s,p){let w={defs:{},instances:{}},J=g0(t);for(let _e of n){let $e=qf(_e,o,t,i,J,s,p);$e&&vg($e,w)}return w}function vg(n,o={defs:{},instances:{}}){return o.defs[n.def.defId]=n.def,n.instance&&(o.instances[n.instance.instanceId]=n.instance),o}function bg(n,o){let t=n.instances[o];if(t){let i=n.defs[t.defId],s=yg(n,p=>function Wf(n,o){return Boolean(n.groupId&&n.groupId===o.groupId)}(i,p));return s.defs[i.defId]=i,s.instances[t.instanceId]=t,s}return{defs:{},instances:{}}}function Up(n,o){return{defs:Object.assign(Object.assign({},n.defs),o.defs),instances:Object.assign(Object.assign({},n.instances),o.instances)}}function yg(n,o){let t=di(n.defs,o),i=di(n.instances,s=>t[s.defId]);return{defs:t,instances:i}}function Yf(n){return Array.isArray(n)?n:"string"==typeof n?n.split(/\s+/):[]}const Hp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Un,overlap:Un,allow:Un,className:Yf,classNames:Yf,color:String,backgroundColor:String,borderColor:String,textColor:String},xg={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Da(n,o){let t=function Ed(n,o){return Array.isArray(n)?Zp(n,null,o,!0):"object"==typeof n&&n?Zp([n],null,o,!0):null!=n?String(n):null}(n.constraint,o);return{display:n.display||null,startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=t?[t]:[],overlap:null!=n.overlap?n.overlap:null,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function jf(n){return n.reduce(xb,xg)}function xb(n,o){return{display:null!=o.display?o.display:n.display,startEditable:null!=o.startEditable?o.startEditable:n.startEditable,durationEditable:null!=o.durationEditable?o.durationEditable:n.durationEditable,constraints:n.constraints.concat(o.constraints),overlap:"boolean"==typeof o.overlap?o.overlap:n.overlap,allows:n.allows.concat(o.allows),backgroundColor:o.backgroundColor||n.backgroundColor,borderColor:o.borderColor||n.borderColor,textColor:o.textColor||n.textColor,classNames:n.classNames.concat(o.classNames)}}const Sd={id:String,groupId:String,title:String,url:String,interactive:Boolean},Ml={start:Un,end:Un,date:Un,allDay:Boolean},Kf=Object.assign(Object.assign(Object.assign({},Sd),Ml),{extendedProps:Un});function qf(n,o,t,i,s=g0(t),p,w){let{refined:J,extra:_e}=Ig(n,t,s),$e=function Ag(n,o){let t=null;return n&&(t=n.defaultAllDay),null==t&&(t=o.options.defaultAllDay),t}(o,t),Xe=function yb(n,o,t,i){for(let s=0;s<i.length;s+=1){let p=i[s].parse(n,t);if(p){let{allDay:w}=n;return null==w&&(w=o,null==w&&(w=p.allDayGuess,null==w&&(w=!1))),{allDay:w,duration:p.duration,typeData:p.typeData,typeId:s}}}return null}(J,$e,t.dateEnv,t.pluginHooks.recurringTypes);if(Xe){let jt=Tg(J,_e,o?o.sourceId:"",Xe.allDay,Boolean(Xe.duration),t,p);return jt.recurringDef={typeId:Xe.typeId,typeData:Xe.typeData,duration:Xe.duration},{def:jt,instance:null}}let Xt=function AI(n,o,t,i){let p,_e,{allDay:s}=n,w=null,J=!1,$e=null;if(p=t.dateEnv.createMarkerMeta(null!=n.start?n.start:n.date),p)w=p.marker;else if(!i)return null;return null!=n.end&&(_e=t.dateEnv.createMarkerMeta(n.end)),null==s&&(s=null!=o?o:(!p||p.isTimeUnspecified)&&(!_e||_e.isTimeUnspecified)),s&&w&&(w=Es(w)),_e&&($e=_e.marker,s&&($e=Es($e)),w&&$e<=w&&($e=null)),$e?J=!0:i||(J=t.options.forceEventDuration||!1,$e=t.dateEnv.add(w,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:J,range:{start:w,end:$e},forcedStartTzo:p?p.forcedTzo:null,forcedEndTzo:_e?_e.forcedTzo:null}}(J,$e,t,i);if(Xt){let jt=Tg(J,_e,o?o.sourceId:"",Xt.allDay,Xt.hasEnd,t,p),Wt=Gf(jt.defId,Xt.range,Xt.forcedStartTzo,Xt.forcedEndTzo);return w&&jt.publicId&&w[jt.publicId]&&(Wt.instanceId=w[jt.publicId]),{def:jt,instance:Wt}}return null}function Ig(n,o,t=g0(o)){return Cg(n,t)}function g0(n){return Object.assign(Object.assign(Object.assign({},Hp),Kf),n.pluginHooks.eventRefiners)}function Tg(n,o,t,i,s,p,w){let J={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(w&&n.id?w[n.id]:"")||Dl(),sourceId:t,allDay:i,hasEnd:s,interactive:n.interactive,ui:Da(n,p),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),o)};for(let _e of p.pluginHooks.eventDefMemberAdders)Object.assign(J,_e(n));return Object.freeze(J.ui.classNames),Object.freeze(J.extendedProps),J}const wg={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Eg(n){let o=Math.floor(xa(n.start,n.end))||1,t=Es(n.start);return{start:t,end:Ns(t,o)}}function f0(n,o=M(0)){let t=null,i=null;if(n.end){i=Es(n.end);let s=n.end.valueOf()-i.valueOf();s&&s>=Hn(o)&&(i=Ns(i,1))}return n.start&&(t=Es(n.start),i&&i<=t&&(i=Ns(t,1))),{start:t,end:i}}function kd(n,o,t,i){return"year"===i?M(t.diffWholeYears(n,o),"year"):"month"===i?M(t.diffWholeMonths(n,o),"month"):function ub(n,o){let t=Es(n),i=Es(o);return{years:0,months:0,days:Math.round(xa(t,i)),milliseconds:o.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}(n,o)}function Tb(n,o){return n.left>=o.left&&n.left<o.right&&n.top>=o.top&&n.top<o.bottom}function m0(n,o){let t={left:Math.max(n.left,o.left),right:Math.min(n.right,o.right),top:Math.max(n.top,o.top),bottom:Math.min(n.bottom,o.bottom)};return t.left<t.right&&t.top<t.bottom&&t}let Sg;function em(){return null==Sg&&(Sg=function Eb(){if("undefined"==typeof document)return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}()),Sg}const Vp={defs:{},instances:{}};function kI(n,o,t){let i=[];n&&i.push(n),o&&i.push(o);let s={"":jf(i)};return t&&Object.assign(s,t),s}function Sb(n,o){let s,p,t=[],{start:i}=o;for(n.sort(MI),s=0;s<n.length;s+=1)p=n[s],p.start>i&&t.push({start:i,end:p.start}),p.end>i&&(i=p.end);return i<o.end&&t.push({start:i,end:o.end}),t}function MI(n,o){return n.start.valueOf()-o.start.valueOf()}function Tu(n,o){let{start:t,end:i}=n,s=null;return null!==o.start&&(t=null===t?o.start:new Date(Math.max(t.valueOf(),o.start.valueOf()))),null!=o.end&&(i=null===i?o.end:new Date(Math.min(i.valueOf(),o.end.valueOf()))),(null===t||null===i||t<i)&&(s={start:t,end:i}),s}function _0(n,o){return(null===n.end||null===o.start||n.end>o.start)&&(null===n.start||null===o.end||n.start<o.end)}function tm(n,o){return(null===n.start||null!==o.start&&o.start>=n.start)&&(null===n.end||null!==o.end&&o.end<=n.end)}function Zc(n,o){return(null===n.start||o>=n.start)&&(null===n.end||o<n.end)}function zp(n,o,t,i){return{dow:n.getUTCDay(),isDisabled:Boolean(i&&!Zc(i.activeRange,n)),isOther:Boolean(i&&!Zc(i.currentRange,n)),isToday:Boolean(o&&Zc(o,n)),isPast:Boolean(t?n<t:!!o&&n<o.start),isFuture:Boolean(t?n>t:!!o&&n>=o.end)}}function kg(n,o){let t=["fc-day",`fc-day-${lc[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(o.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const nm=Fs({year:"numeric",month:"long",day:"numeric"}),C0=Fs({week:"long"});function Hc(n,o,t="day",i=!0){const{dateEnv:s,options:p,calendarApi:w}=n;let J=s.format(o,"week"===t?C0:nm);if(p.navLinks){let _e=s.toDate(o);const $e=Xe=>{let Xt="day"===t?p.navLinkDayClick:"week"===t?p.navLinkWeekClick:null;"function"==typeof Xt?Xt.call(w,s.toDate(o),Xe):("string"==typeof Xt&&(t=Xt),w.zoomTo(o,t))};return Object.assign({title:ac(p.navLinkHint,[J,_e],J),"data-navlink":""},i?xd($e):{onClick:$e})}return{"aria-label":J}}let om,im=null;function y0(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function Dg(n,o=!1,t){let i=t?n.getBoundingClientRect():zc(n),s=function Mb(n,o=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,p=parseInt(t.borderTopWidth,10)||0,w=parseInt(t.borderBottomWidth,10)||0,J=y0(n),_e=J.y-i-s,Xe={borderLeft:i,borderRight:s,borderTop:p,borderBottom:w,scrollbarBottom:J.x-p-w,scrollbarLeft:0,scrollbarRight:0};return function Vc(){return null===im&&(im=function v0(){let n=document.createElement("div");gu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return bd(n),t}()),im}()&&"rtl"===t.direction?Xe.scrollbarLeft=_e:Xe.scrollbarRight=_e,o&&(Xe.paddingLeft=parseInt(t.paddingLeft,10)||0,Xe.paddingRight=parseInt(t.paddingRight,10)||0,Xe.paddingTop=parseInt(t.paddingTop,10)||0,Xe.paddingBottom=parseInt(t.paddingBottom,10)||0),Xe}(n,o),p={left:i.left+s.borderLeft+s.scrollbarLeft,right:i.right-s.borderRight-s.scrollbarRight,top:i.top+s.borderTop,bottom:i.bottom-s.borderBottom-s.scrollbarBottom};return o&&(p.left+=s.paddingLeft,p.right-=s.paddingRight,p.top+=s.paddingTop,p.bottom-=s.paddingBottom),p}function zc(n){let o=n.getBoundingClientRect();return{left:o.left+window.pageXOffset,top:o.top+window.pageYOffset,right:o.right+window.pageXOffset,bottom:o.bottom+window.pageYOffset}}function Au(n){let o=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&o.push(n),n=n.parentNode}return o}class wu{constructor(){this.handlers={},this.thisContext=null}setThisContext(o){this.thisContext=o}setOptions(o){this.options=o}on(o,t){!function x0(n,o,t){(n[o]||(n[o]=[])).push(t)}(this.handlers,o,t)}off(o,t){!function I0(n,o,t){t?n[o]&&(n[o]=n[o].filter(i=>i!==t)):delete n[o]}(this.handlers,o,t)}trigger(o,...t){let p=[].concat(this.options&&this.options[o]||[],this.handlers[o]||[]);for(let w of p)w.apply(this.thisContext,t)}hasHandlers(o){return Boolean(this.handlers[o]&&this.handlers[o].length||this.options&&this.options[o])}}class Jc{constructor(o,t,i,s){this.els=t;let p=this.originClientRect=o.getBoundingClientRect();i&&this.buildElHorizontals(p.left),s&&this.buildElVerticals(p.top)}buildElHorizontals(o){let t=[],i=[];for(let s of this.els){let p=s.getBoundingClientRect();t.push(p.left-o),i.push(p.right-o)}this.lefts=t,this.rights=i}buildElVerticals(o){let t=[],i=[];for(let s of this.els){let p=s.getBoundingClientRect();t.push(p.top-o),i.push(p.bottom-o)}this.tops=t,this.bottoms=i}leftToIndex(o){let p,{lefts:t,rights:i}=this,s=t.length;for(p=0;p<s;p+=1)if(o>=t[p]&&o<i[p])return p}topToIndex(o){let p,{tops:t,bottoms:i}=this,s=t.length;for(p=0;p<s;p+=1)if(o>=t[p]&&o<i[p])return p}getWidth(o){return this.rights[o]-this.lefts[o]}getHeight(o){return this.bottoms[o]-this.tops[o]}similarTo(o){return Dd(this.tops||[],o.tops||[])&&Dd(this.bottoms||[],o.bottoms||[])&&Dd(this.lefts||[],o.lefts||[])&&Dd(this.rights||[],o.rights||[])}}function Dd(n,o){const t=n.length;if(t!==o.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(o[i]))return!1;return!0}class Mg{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class am extends Mg{constructor(o){super(),this.el=o}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(o){this.el.scrollTop=o}setScrollLeft(o){this.el.scrollLeft=o}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Ob extends Mg{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(o){window.scroll(window.pageXOffset,o)}setScrollLeft(o){window.scroll(o,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Og{constructor(o){this.iconOverrideOption&&this.setIconOverride(o[this.iconOverrideOption])}setIconOverride(o){let t,i;if("object"==typeof o&&o){for(i in t=Object.assign({},this.iconClasses),o)t[i]=this.applyIconOverridePrefix(o[i]);this.iconClasses=t}else!1===o&&(this.iconClasses={})}applyIconOverridePrefix(o){let t=this.iconOverridePrefix;return t&&0!==o.indexOf(t)&&(o=t+o),o}getClass(o){return this.classes[o]||""}getIconClass(o,t){let i;return i=t&&this.rtlIconClasses&&this.rtlIconClasses[o]||this.iconClasses[o],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(o){let t;return this.iconOverrideCustomButtonOption&&(t=o[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function T0(n){n();let o=Pi.debounceRendering,t=[];for(Pi.debounceRendering=function i(s){t.push(s)},ra(ln(A0,{}),document.createElement("div"));t.length;)t.shift()();Pi.debounceRendering=o}Og.prototype.classes={},Og.prototype.iconClasses={},Og.prototype.baseIconClass="",Og.prototype.iconOverridePrefix="";class A0 extends sa{render(){return ln("div",{})}componentDidMount(){this.setState({})}}function w0(n){let o=function hp(n,o){var t={__c:o="__cC"+Oh++,__:n,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,p;return this.getChildContext||(s=[],(p={})[o]=this,this.getChildContext=function(){return p},this.shouldComponentUpdate=function(w){this.props.value!==w.value&&s.some(function(J){J.__e=!0,td(J)})},this.sub=function(w){s.push(w);var J=w.componentWillUnmount;w.componentWillUnmount=function(){s.splice(s.indexOf(w),1),J&&J.call(w)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}(n),t=o.Provider;return o.Provider=function(){let i=!this.getChildContext,s=t.apply(this,arguments);if(i){let p=[];this.shouldComponentUpdate=w=>{this.props.value!==w.value&&p.forEach(J=>{J.context=w.value,J.forceUpdate()})},this.sub=w=>{p.push(w);let J=w.componentWillUnmount;w.componentWillUnmount=()=>{p.splice(p.indexOf(w),1),J&&J.call(w)}}}return s},o}class E0{constructor(o,t,i,s){this.execFunc=o,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=s,this.handleScrollRequest=p=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},p),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(o){o&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ol=w0({});function Pb(n,o,t,i,s,p,w,J,_e,$e,Xe,Xt,jt){return{dateEnv:s,options:t,pluginHooks:w,emitter:$e,dispatch:J,getCurrentData:_e,calendarApi:Xe,viewSpec:n,viewApi:o,dateProfileGenerator:i,theme:p,isRtl:"rtl"===t.direction,addResizeHandler(Wt){$e.on("_resize",Wt)},removeResizeHandler(Wt){$e.off("_resize",Wt)},createScrollResponder:Wt=>new E0(Wt,$e,M(t.scrollTime),t.scrollTimeReset),registerInteractiveComponent:Xt,unregisterInteractiveComponent:jt}}let ga=(()=>{class n extends sa{shouldComponentUpdate(t,i){return this.debug&&console.log(la(t,this.props),la(i,this.state)),!Uo(this.props,t,this.propEquality)||!Uo(this.state,i,this.stateEquality)}safeSetState(t){Uo(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=Lb,n.addStateEquality=PI,n.contextType=Ol,n})();ga.prototype.propEquality={},ga.prototype.stateEquality={};let is=(()=>{class n extends ga{}return n.contextType=Ol,n})();function Lb(n){let o=Object.create(this.prototype.propEquality);Object.assign(o,n),this.prototype.propEquality=o}function PI(n){let o=Object.create(this.prototype.stateEquality);Object.assign(o,n),this.prototype.stateEquality=o}function dc(n,o){"function"==typeof n?n(o):n&&(n.current=o)}class Za extends is{constructor(){super(...arguments),this.uid=Dl()}prepareHits(){}queryHit(o,t,i,s){return null}isValidSegDownEl(o){return!this.props.eventDrag&&!this.props.eventResize&&!xo(o,".fc-event-mirror")}isValidDateDownEl(o){return!(xo(o,".fc-event:not(.fc-bg-event)")||xo(o,".fc-more-link")||xo(o,"a[data-navlink]")||xo(o,".fc-popover"))}}function Jp(n,o){return"function"==typeof n&&(n=n()),null==n?o.createNowMarker():o.createMarker(n)}class k0{constructor(o){this.props=o,this.nowDate=Jp(o.nowInput,o.dateEnv),this.initHiddenDays()}buildPrev(o,t,i){let{dateEnv:s}=this.props,p=s.subtract(s.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(p,-1,i)}buildNext(o,t,i){let{dateEnv:s}=this.props,p=s.add(s.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(p,1,i)}build(o,t,i=!0){let p,w,J,_e,$e,Xe,{props:s}=this;return p=this.buildValidRange(),p=this.trimHiddenDays(p),i&&(o=function Uc(n,o){return null!=o.start&&n<o.start?o.start:null!=o.end&&n>=o.end?new Date(o.end.valueOf()-1):n}(o,p)),w=this.buildCurrentRangeInfo(o,t),J=/^(year|month|week|day)$/.test(w.unit),_e=this.buildRenderRange(this.trimHiddenDays(w.range),w.unit,J),_e=this.trimHiddenDays(_e),$e=_e,s.showNonCurrentDates||($e=Tu($e,w.range)),$e=this.adjustActiveRange($e),$e=Tu($e,p),Xe=_0(w.range,p),Zc(_e,o)||(o=_e.start),{currentDate:o,validRange:p,currentRange:w.range,currentRangeUnit:w.unit,isRangeAllDay:J,activeRange:$e,renderRange:_e,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:Xe,dateIncrement:this.buildDateIncrement(w.duration)}}buildValidRange(){let o=this.props.validRangeInput,t="function"==typeof o?o.call(this.props.calendarApi,this.nowDate):o;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(o,t){let J,{props:i}=this,s=null,p=null,w=null;return i.duration?(s=i.duration,p=i.durationUnit,w=this.buildRangeFromDuration(o,t,s,p)):(J=this.props.dayCount)?(p="day",w=this.buildRangeFromDayCount(o,t,J)):(w=this.buildCustomVisibleRange(o))?p=i.dateEnv.greatestWholeUnit(w.start,w.end).unit:(s=this.getFallbackDuration(),p=ni(s).unit,w=this.buildRangeFromDuration(o,t,s,p)),{duration:s,unit:p,range:w}}getFallbackDuration(){return M({day:1})}adjustActiveRange(o){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:s,slotMaxTime:p}=this.props,{start:w,end:J}=o;return i&&(Cn(s)<0&&(w=Es(w),w=t.add(w,s)),Cn(p)>1&&(J=Es(J),J=Ns(J,-1),J=t.add(J,p))),{start:w,end:J}}buildRangeFromDuration(o,t,i,s){let J,_e,$e,{dateEnv:p,dateAlignment:w}=this.props;if(!w){let{dateIncrement:Xt}=this.props;w=Xt&&Hn(Xt)<Hn(i)?ni(Xt).unit:s}function Xe(){J=p.startOf(o,w),_e=p.add(J,i),$e={start:J,end:_e}}return Cn(i)<=1&&this.isHiddenDay(J)&&(J=this.skipHiddenDays(J,t),J=Es(J)),Xe(),this.trimHiddenDays($e)||(o=this.skipHiddenDays(o,t),Xe()),$e}buildRangeFromDayCount(o,t,i){let _e,{dateEnv:s,dateAlignment:p}=this.props,w=0,J=o;p&&(J=s.startOf(J,p)),J=Es(J),J=this.skipHiddenDays(J,t),_e=J;do{_e=Ns(_e,1),this.isHiddenDay(_e)||(w+=1)}while(w<i);return{start:J,end:_e}}buildCustomVisibleRange(o){let{props:t}=this,i=t.visibleRangeInput,s="function"==typeof i?i.call(t.calendarApi,t.dateEnv.toDate(o)):i,p=this.refineRange(s);return!p||null!=p.start&&null!=p.end?p:null}buildRenderRange(o,t,i){return o}buildDateIncrement(o){let i,{dateIncrement:t}=this.props;return t||((i=this.props.dateAlignment)?M(1,i):o||M({days:1}))}refineRange(o){if(o){let t=function DI(n,o){let t=null,i=null;return n.start&&(t=o.createMarker(n.start)),n.end&&(i=o.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}(o,this.props.dateEnv);return t&&(t=f0(t)),t}return null}initHiddenDays(){let s,o=this.props.hiddenDays||[],t=[],i=0;for(!1===this.props.weekends&&o.push(0,6),s=0;s<7;s+=1)(t[s]=-1!==o.indexOf(s))||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(o){let{start:t,end:i}=o;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),null==t||null==i||t<i?{start:t,end:i}:null}isHiddenDay(o){return o instanceof Date&&(o=o.getUTCDay()),this.isHiddenDayHash[o]}skipHiddenDays(o,t=1,i=!1){for(;this.isHiddenDayHash[(o.getUTCDay()+(i?t:0)+7)%7];)o=Ns(o,t);return o}}function lm(n,o,t){t.emitter.trigger("select",Object.assign(Object.assign({},Pg(n,t)),{jsEvent:o?o.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function Pg(n,o){let t={};for(let i of o.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,o));return Object.assign(t,function Bg(n,o){return Object.assign(Object.assign({},Pd(n.range,o,n.allDay)),{allDay:n.allDay})}(n,o.dateEnv)),t}function D0(n,o,t){let{dateEnv:i,options:s}=t,p=o;return n?(p=Es(p),p=i.add(p,s.defaultAllDayEventDuration)):p=i.add(p,s.defaultTimedEventDuration),p}function cm(n,o,t,i){let s=Rg(n.defs,o),p={defs:{},instances:{}};for(let w in n.defs)p.defs[w]=M0(n.defs[w],s[w],t,i);for(let w in n.instances){let J=n.instances[w];p.instances[w]=O0(J,p.defs[J.defId],s[J.defId],t,i)}return p}function M0(n,o,t,i){let s=t.standardProps||{};null==s.hasEnd&&o.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let p=Object.assign(Object.assign(Object.assign({},n),s),{ui:Object.assign(Object.assign({},n.ui),s.ui)});t.extendedProps&&(p.extendedProps=Object.assign(Object.assign({},p.extendedProps),t.extendedProps));for(let w of i.pluginHooks.eventDefMutationAppliers)w(p,t,i);return!p.hasEnd&&i.options.forceEventDuration&&(p.hasEnd=!0),p}function O0(n,o,t,i,s){let{dateEnv:p}=s,w=i.standardProps&&!0===i.standardProps.allDay,J=i.standardProps&&!1===i.standardProps.hasEnd,_e=Object.assign({},n);return w&&(_e.range=Eg(_e.range)),i.datesDelta&&t.startEditable&&(_e.range={start:p.add(_e.range.start,i.datesDelta),end:p.add(_e.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(_e.range={start:p.add(_e.range.start,i.startDelta),end:_e.range.end}),i.endDelta&&t.durationEditable&&(_e.range={start:_e.range.start,end:p.add(_e.range.end,i.endDelta)}),J&&(_e.range={start:_e.range.start,end:D0(o.allDay,_e.range.start,s)}),o.allDay&&(_e.range={start:Es(_e.range.start),end:Es(_e.range.end)}),_e.range.end<_e.range.start&&(_e.range.end=D0(o.allDay,_e.range.start,s)),_e}class Md{constructor(o,t){this.context=o,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Qo{constructor(o,t,i){this._context=o,this._def=t,this._instance=i||null}setProp(o,t){if(o in Ml)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===o)t=Sd[o](t),this.mutate({standardProps:{publicId:t}});else if(o in Sd)t=Sd[o](t),this.mutate({standardProps:{[o]:t}});else if(o in Hp){let i=Hp[o](t);i="color"===o?{backgroundColor:t,borderColor:t}:"editable"===o?{startEditable:t,durationEditable:t}:{[o]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${o}'. Use setExtendedProp instead.`)}setExtendedProp(o,t){this.mutate({extendedProps:{[o]:t}})}setStart(o,t={}){let{dateEnv:i}=this._context,s=i.createMarker(o);if(s&&this._instance){let w=kd(this._instance.range.start,s,i,t.granularity);this.mutate(t.maintainDuration?{datesDelta:w}:{startDelta:w})}}setEnd(o,t={}){let s,{dateEnv:i}=this._context;if((null==o||(s=i.createMarker(o),s))&&this._instance)if(s){let p=kd(this._instance.range.end,s,i,t.granularity);this.mutate({endDelta:p})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(o,t,i={}){let J,{dateEnv:s}=this._context,p={allDay:i.allDay},w=s.createMarker(o);if(w&&(null==t||(J=s.createMarker(t),J))&&this._instance){let _e=this._instance.range;!0===i.allDay&&(_e=Eg(_e));let $e=kd(_e.start,w,s,i.granularity);if(J){let Xe=kd(_e.end,J,s,i.granularity);!function fe(n,o){return n.years===o.years&&n.months===o.months&&n.days===o.days&&n.milliseconds===o.milliseconds}($e,Xe)?this.mutate({startDelta:$e,endDelta:Xe,standardProps:p}):this.mutate({datesDelta:$e,standardProps:p})}else p.hasEnd=!1,this.mutate({datesDelta:$e,standardProps:p})}}moveStart(o){let t=M(o);t&&this.mutate({startDelta:t})}moveEnd(o){let t=M(o);t&&this.mutate({endDelta:t})}moveDates(o){let t=M(o);t&&this.mutate({datesDelta:t})}setAllDay(o,t={}){let i={allDay:o},{maintainDuration:s}=t;null==s&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==o&&(i.hasEnd=s),this.mutate({standardProps:i})}formatRange(o){let{dateEnv:t}=this._context,i=this._instance,s=Fs(o);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,s,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,s,{forcedTzo:i.forcedStartTzo})}mutate(o){let t=this._instance;if(t){let i=this._def,s=this._context,{eventStore:p}=s.getCurrentData(),w=bg(p,t.instanceId);w=cm(w,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},o,s);let _e=new Qo(s,i,t);this._def=w.defs[i.defId],this._instance=w.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:w}),s.emitter.trigger("eventChange",{oldEvent:_e,event:this,relatedEvents:Eu(w,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:p})}})}}remove(){let o=this._context,t=Lg(this);o.dispatch({type:"REMOVE_EVENTS",eventStore:t}),o.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:o}=this._def;return o?new Md(this._context,this._context.getCurrentData().eventSources[o]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let o=this._instance;return o?this._context.dateEnv.formatIso(o.range.start,{omitTime:this._def.allDay,forcedTzo:o.forcedStartTzo}):""}get endStr(){let o=this._instance;return o&&this._def.hasEnd?this._context.dateEnv.formatIso(o.range.end,{omitTime:this._def.allDay,forcedTzo:o.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(o={}){let t=this._def,{ui:i}=t,{startStr:s,endStr:p}=this,w={allDay:t.allDay};return t.title&&(w.title=t.title),s&&(w.start=s),p&&(w.end=p),t.publicId&&(w.id=t.publicId),t.groupId&&(w.groupId=t.groupId),t.url&&(w.url=t.url),i.display&&"auto"!==i.display&&(w.display=i.display),o.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?w.color=i.backgroundColor:(i.backgroundColor&&(w.backgroundColor=i.backgroundColor),i.borderColor&&(w.borderColor=i.borderColor)),i.textColor&&(w.textColor=i.textColor),i.classNames.length&&(w.classNames=i.classNames),Object.keys(t.extendedProps).length&&(o.collapseExtendedProps?Object.assign(w,t.extendedProps):w.extendedProps=t.extendedProps),w}toJSON(){return this.toPlainObject()}}function Lg(n){let o=n._def,t=n._instance;return{defs:{[o.defId]:o},instances:t?{[t.instanceId]:t}:{}}}function Eu(n,o,t){let{defs:i,instances:s}=n,p=[],w=t?t.instanceId:"";for(let J in s){let _e=s[J],$e=i[_e.defId];_e.instanceId!==w&&p.push(new Qo(o,$e,_e))}return p}function um(n,o,t,i){let s={},p={},w={},J=[],_e=[],$e=Rg(n.defs,o);for(let Xe in n.defs){let Xt=n.defs[Xe];"inverse-background"===$e[Xt.defId].display&&(Xt.groupId?(s[Xt.groupId]=[],w[Xt.groupId]||(w[Xt.groupId]=Xt)):p[Xe]=[])}for(let Xe in n.instances){let Xt=n.instances[Xe],jt=n.defs[Xt.defId],Wt=$e[jt.defId],fn=Xt.range,Rn=!jt.allDay&&i?f0(fn,i):fn,Fn=Tu(Rn,t);Fn&&("inverse-background"===Wt.display?jt.groupId?s[jt.groupId].push(Fn):p[Xt.defId].push(Fn):"none"!==Wt.display&&("background"===Wt.display?J:_e).push({def:jt,ui:Wt,instance:Xt,range:Fn,isStart:Rn.start&&Rn.start.valueOf()===Fn.start.valueOf(),isEnd:Rn.end&&Rn.end.valueOf()===Fn.end.valueOf()}))}for(let Xe in s){let jt=Sb(s[Xe],t);for(let Wt of jt){let fn=w[Xe];J.push({def:fn,ui:$e[fn.defId],instance:null,range:Wt,isStart:!1,isEnd:!1})}}for(let Xe in p){let jt=Sb(p[Xe],t);for(let Wt of jt)J.push({def:n.defs[Xe],ui:$e[Xe],instance:null,range:Wt,isStart:!1,isEnd:!1})}return{bg:J,fg:_e}}function dm(n,o){n.fcSeg=o}function Od(n){return n.fcSeg||n.parentNode.fcSeg||null}function Rg(n,o){return hi(n,t=>P0(t,o))}function P0(n,o){let t=[];return o[""]&&t.push(o[""]),o[n.defId]&&t.push(o[n.defId]),t.push(n.ui),jf(t)}function Qp(n,o){let t=n.map(Fb);return t.sort((i,s)=>function Bf(n,o,t){let i,s;for(i=0;i<t.length;i+=1)if(s=Rp(n,o,t[i]),s)return s;return 0}(i,s,o)),t.map(i=>i._seg)}function Fb(n){let{eventRange:o}=n,t=o.def,i=o.instance?o.instance.range:o.range,s=i.start?i.start.valueOf():0,p=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:p,duration:p-s,allDay:Number(t.allDay),_seg:n})}function Bb(n,o){let{pluginHooks:t}=o,i=t.isDraggableTransformers,{def:s,ui:p}=n.eventRange,w=p.startEditable;for(let J of i)w=J(w,s,p,o);return w}function Ng(n,o){return n.isStart&&n.eventRange.ui.durationEditable&&o.options.eventResizableFromStart}function Qc(n,o,t,i,s,p,w){let{dateEnv:J,options:_e}=t,{displayEventTime:$e,displayEventEnd:Xe}=_e,Xt=n.eventRange.def,jt=n.eventRange.instance;null==$e&&($e=!1!==i),null==Xe&&(Xe=!1!==s);let Wt=jt.range.start,fn=jt.range.end,Rn=p||n.start||n.eventRange.range.start,Fn=w||n.end||n.eventRange.range.end,jn=Es(Wt).valueOf()===Es(Rn).valueOf(),Ti=Es(ka(fn,-1)).valueOf()===Es(ka(Fn,-1)).valueOf();return $e&&!Xt.allDay&&(jn||Ti)?(Rn=jn?Wt:Rn,Fn=Ti?fn:Fn,Xe&&Xt.hasEnd?J.formatRange(Rn,Fn,o,{forcedStartTzo:p?null:jt.forcedStartTzo,forcedEndTzo:w?null:jt.forcedEndTzo}):J.format(Rn,o,{forcedTzo:p?null:jt.forcedStartTzo})):""}function Gc(n,o,t){let i=n.eventRange.range;return{isPast:i.end<(t||o.start),isFuture:i.start>=(t||o.end),isToday:o&&Zc(o,i.start)}}function hm(n){let o=["fc-event"];return n.isMirror&&o.push("fc-event-mirror"),n.isDraggable&&o.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&o.push("fc-event-resizable"),n.isDragging&&o.push("fc-event-dragging"),n.isResizing&&o.push("fc-event-resizing"),n.isSelected&&o.push("fc-event-selected"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),n.isPast&&o.push("fc-event-past"),n.isToday&&o.push("fc-event-today"),n.isFuture&&o.push("fc-event-future"),o}function Zb(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function Fg(n,o){let{def:t,instance:i}=n.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:p,options:w}=o,{eventInteractive:J}=w;return null==J&&(J=t.interactive,null==J&&(J=Boolean(p.hasHandlers("eventClick")))),J?Pp(_e=>{p.trigger("eventClick",{el:_e.target,event:new Qo(o,t,i),jsEvent:_e,view:o.viewApi})}):{}}const L0={start:Un,end:Un,allDay:Boolean};function Gp(n,o,t){return Object.assign(Object.assign({},Pd(n,o,t)),{timeZone:o.timeZone})}function Pd(n,o,t){return{start:o.toDate(n.start),end:o.toDate(n.end),startStr:o.formatIso(n.start,{omitTime:t}),endStr:o.formatIso(n.end,{omitTime:t})}}let Zg={};!function F0(n,o){Zg[n]=o}("gregory",class Vb{getMarkerYear(o){return o.getUTCFullYear()}getMarkerMonth(o){return o.getUTCMonth()}getMarkerDay(o){return o.getUTCDate()}arrayToMarker(o){return Ys(o)}markerToArray(o){return Fc(o)}});const Wp=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class RI{constructor(o){let t=this.timeZone=o.timeZone,i="local"!==t&&"UTC"!==t;o.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new o.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=function Hb(n){return new Zg[n]}(o.calendarSystem),this.locale=o.locale,this.weekDow=o.locale.week.dow,this.weekDoy=o.locale.week.doy,"ISO"===o.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof o.firstDay&&(this.weekDow=o.firstDay),"function"==typeof o.weekNumberCalculation&&(this.weekNumberFunc=o.weekNumberCalculation),this.weekText=null!=o.weekText?o.weekText:o.locale.options.weekText,this.weekTextLong=(null!=o.weekTextLong?o.weekTextLong:o.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=o.cmdFormatter,this.defaultSeparator=o.defaultSeparator}createMarker(o){let t=this.createMarkerMeta(o);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Ys(Uf(new Date))}createMarkerMeta(o){if("string"==typeof o)return this.parse(o);let t=null;return"number"==typeof o?t=this.timestampToMarker(o):o instanceof Date?(o=o.valueOf(),isNaN(o)||(t=this.timestampToMarker(o))):Array.isArray(o)&&(t=Ys(o)),null!==t&&o0(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(o){let t=function zb(n){let o=Wp.exec(n);if(o){let t=new Date(Date.UTC(Number(o[1]),o[3]?Number(o[3])-1:0,Number(o[5]||1),Number(o[7]||0),Number(o[8]||0),Number(o[10]||0),o[12]?1e3*Number(`0.${o[12]}`):0));if(o0(t)){let i=null;return o[13]&&(i=("-"===o[15]?-1:1)*(60*Number(o[16]||0)+Number(o[18]||0))),{marker:t,isTimeUnspecified:!o[6],timeZoneOffset:i}}}return null}(o);if(null===t)return null;let{marker:i}=t,s=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-60*t.timeZoneOffset*1e3):s=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(o){return this.calendarSystem.getMarkerYear(o)}getMonth(o){return this.calendarSystem.getMarkerMonth(o)}getDay(o){return this.calendarSystem.getMarkerDay(o)}add(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(o,t){let i=this.calendarSystem.markerToArray(o);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(o,t){let{calendarSystem:i}=this;return uc(o)===uc(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)&&i.getMarkerMonth(o)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(o):null}diffWholeMonths(o,t){let{calendarSystem:i}=this;return uc(o)===uc(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(o)+12*(i.getMarkerYear(t)-i.getMarkerYear(o)):null}greatestWholeUnit(o,t){let i=this.diffWholeYears(o,t);return null!==i?{unit:"year",value:i}:(i=this.diffWholeMonths(o,t),null!==i?{unit:"month",value:i}:(i=function db(n,o){let t=Zf(n,o);return null!==t&&t%7==0?t/7:null}(o,t),null!==i?{unit:"week",value:i}:(i=Zf(o,t),null!==i?{unit:"day",value:i}:(i=function Cu(n,o){return(o.valueOf()-n.valueOf())/36e5}(o,t),c(i)?{unit:"hour",value:i}:(i=function wd(n,o){return(o.valueOf()-n.valueOf())/6e4}(o,t),c(i)?{unit:"minute",value:i}:(i=function cc(n,o){return(o.valueOf()-n.valueOf())/1e3}(o,t),c(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-o.valueOf()}))))))}countDurationsBetween(o,t,i){let s;return i.years&&(s=this.diffWholeYears(o,t),null!==s)?s/function nn(n){return Cn(n)/365}(i):i.months&&(s=this.diffWholeMonths(o,t),null!==s)?s/function mn(n){return Cn(n)/30}(i):i.days&&(s=Zf(o,t),null!==s)?s/Cn(i):(t.valueOf()-o.valueOf())/Hn(i)}startOf(o,t){return"year"===t?this.startOfYear(o):"month"===t?this.startOfMonth(o):"week"===t?this.startOfWeek(o):"day"===t?Es(o):"hour"===t?function e0(n){return Ys([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}(o):"minute"===t?function CI(n){return Ys([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}(o):"second"===t?function t0(n){return Ys([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}(o):null}startOfYear(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o)])}startOfMonth(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o)])}startOfWeek(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o),o.getUTCDate()-(o.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(o){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(o)):function vI(n,o,t){let i=n.getUTCFullYear(),s=hg(n,i,o,t);if(s<1)return hg(n,i-1,o,t);let p=hg(n,i+1,o,t);return p>=1?Math.min(s,p):s}(o,this.weekDow,this.weekDoy)}format(o,t,i={}){return t.format({marker:o,timeZoneOffset:null!=i.forcedTzo?i.forcedTzo:this.offsetForMarker(o)},this)}formatRange(o,t,i,s={}){return s.isEndExclusive&&(t=ka(t,-1)),i.formatRange({marker:o,timeZoneOffset:null!=s.forcedStartTzo?s.forcedStartTzo:this.offsetForMarker(o)},{marker:t,timeZoneOffset:null!=s.forcedEndTzo?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(o,t={}){let i=null;return t.omitTimeZoneOffset||(i=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(o)),s0(o,i,t.omitTime)}timestampToMarker(o){return"local"===this.timeZone?Ys(Uf(new Date(o))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Ys(this.namedTimeZoneImpl.timestampToArray(o)):new Date(o)}offsetForMarker(o){return"local"===this.timeZone?-n0(Fc(o)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Fc(o)):null}toDate(o,t){return"local"===this.timeZone?n0(Fc(o)):"UTC"===this.timeZone?new Date(o.valueOf()):this.namedTimeZoneImpl?new Date(o.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Fc(o))*60):new Date(o.valueOf()-(t||0))}}class Jb{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(o){let t=[];for(let i of o)this.insertEntry(i,t);return t}insertEntry(o,t){let i=this.findInsertion(o);return this.isInsertionValid(i,o)?(this.insertEntryAt(o,i),1):this.handleInvalidInsertion(i,o,t)}isInsertionValid(o,t){return(-1===this.maxCoord||o.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||o.stackCnt<this.maxStackCnt)}handleInvalidInsertion(o,t,i){return this.allowReslicing&&o.touchingEntry?this.splitEntry(t,o.touchingEntry,i):(i.push(t),0)}splitEntry(o,t,i){let s=0,p=[],w=o.span,J=t.span;return w.start<J.start&&(s+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:w.start,end:J.start}},p)),w.end>J.end&&(s+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:J.end,end:w.end}},p)),s?(i.push({index:o.index,thickness:o.thickness,span:Yp(J,w)},...p),s):(i.push(o),0)}insertEntryAt(o,t){let{entriesByLevel:i,levelCoords:s}=this;-1===t.lateral?(mm(s,t.level,t.levelCoord),mm(i,t.level,[o])):mm(i[t.level],t.lateral,o),this.stackCnts[Su(o)]=t.stackCnt}findInsertion(o){let{levelCoords:t,entriesByLevel:i,strictOrder:s,stackCnts:p}=this,w=t.length,J=0,_e=-1,$e=-1,Xe=null,Xt=0;for(let fn=0;fn<w;fn+=1){let Rn=t[fn];if(!s&&Rn>=J+o.thickness)break;let jn,Fn=i[fn],Ti=jp(Fn,o.span.start,fm),io=Ti[0]+Ti[1];for(;(jn=Fn[io])&&jn.span.start<o.span.end;){let zi=Rn+jn.thickness;zi>J&&(J=zi,Xe=jn,_e=fn,$e=io),zi===J&&(Xt=Math.max(Xt,p[Su(jn)]+1)),io+=1}}let jt=0;if(Xe)for(jt=_e+1;jt<w&&t[jt]<J;)jt+=1;let Wt=-1;return jt<w&&t[jt]===J&&(Wt=jp(i[jt],o.span.end,fm)[0]),{touchingLevel:_e,touchingLateral:$e,touchingEntry:Xe,stackCnt:Xt,levelCoord:J,level:jt,lateral:Wt}}toRects(){let{entriesByLevel:o,levelCoords:t}=this,i=o.length,s=[];for(let p=0;p<i;p+=1){let w=o[p],J=t[p];for(let _e of w)s.push(Object.assign(Object.assign({},_e),{levelCoord:J}))}return s}}function fm(n){return n.span.end}function Su(n){return n.index+":"+n.span.start}function B0(n,o){return{start:Math.min(n.start,o.start),end:Math.max(n.end,o.end)}}function Yp(n,o){let t=Math.max(n.start,o.start),i=Math.min(n.end,o.end);return t<i?{start:t,end:i}:null}function mm(n,o,t){n.splice(o,0,t)}function jp(n,o,t){let i=0,s=n.length;if(!s||o<t(n[i]))return[0,0];if(o>t(n[s-1]))return[s,0];for(;i<s;){let p=Math.floor(i+(s-i)/2),w=t(n[p]);if(o<w)s=p;else{if(!(o>w))return[p,1];i=p+1}}return[i,0]}class Ld{constructor(o){this.component=o.component,this.isHitComboAllowed=o.isHitComboAllowed||null}destroy(){}}function _m(n){return{[n.component.uid]:n}}const Cm={},vm={};Boolean;class FI extends is{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:o}=this,{options:t}=o,{forPrint:i}=this.state,s=i||"auto"===t.height||"auto"===t.contentHeight,p=s||null==t.height?"":t.height,w=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,o.theme.getClass("root")];return em()||w.push("fc-liquid-hack"),o.children(w,p,s,i)}componentDidMount(){let{emitter:o}=this.props;o.on("_beforeprint",this.handleBeforePrint),o.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:o}=this.props;o.off("_beforeprint",this.handleBeforePrint),o.off("_afterprint",this.handleAfterPrint)}}const Z0="fc-col-header-cell";function U0(n){return n.text}class qp extends is{constructor(){super(...arguments),this.id=Dl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=o=>{this.props.elRef&&dc(this.props.elRef,o)}}render(){const{props:o,context:t}=this,{options:i}=t,{customGenerator:s,defaultGenerator:p,renderProps:w}=o,J=fl(o);let $e,Xt,_e=!1,Xe=[];if(null!=s){const jt="function"==typeof s?s(w,ln):s;if(!0===jt)_e=!0;else{const Wt=jt&&"object"==typeof jt;Wt&&"html"in jt?J.dangerouslySetInnerHTML={__html:jt.html}:Wt&&"domNodes"in jt?Xe=Array.prototype.slice.call(jt.domNodes):Wt||"function"==typeof jt?Xt=jt:$e=jt}}else _e=!H0(o.generatorName,i);return _e&&p&&($e=p(w)),this.queuedDomNodes=Xe,this.currentGeneratorMeta=Xt,ln(o.elTag,J,$e)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(o){var t;const{props:i,context:s}=this,{handleCustomRendering:p,customRenderingMetaMap:w}=s.options;if(p){const J=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==w?void 0:w[i.generatorName];J&&p(Object.assign(Object.assign({id:this.id,isActive:o,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:J},i),{elClasses:(i.elClasses||[]).filter($p)}))}}applyQueueudDomNodes(){const{queuedDomNodes:o,currentDomNodes:t}=this,i=this.base;if(!ns(o,t)){t.forEach(bd);for(let s of o)i.appendChild(s);this.currentDomNodes=o}}}function H0(n,o){var t;return Boolean(o.handleCustomRendering&&n&&(null===(t=o.customRenderingMetaMap)||void 0===t?void 0:t[n]))}function fl(n,o){const t=Object.assign(Object.assign({},n.elAttrs),{ref:n.elRef});return(n.elClasses||o)&&(t.className=(n.elClasses||[]).concat(o||[]).concat(t.className||[]).filter(Boolean).join(" ")),n.elStyle&&(t.style=n.elStyle),t}function $p(n){return Boolean(n)}qp.addPropsEquality({elClasses:ns,elStyle:Wi,elAttrs:function Pr(n,o){const t=la(n,o);for(let i of t)if(!Do.test(i))return!1;return!0},renderProps:Wi});const ca=w0(0);let Cr=(()=>{class n extends sa{constructor(){super(...arguments),this.InnerContent=Hg.bind(void 0,this),this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&dc(this.props.elRef,t)}}render(){const{props:t}=this,i=function Xa(n,o){const t="function"==typeof n?n(o):n||[];return"string"==typeof t?[t]:t}(t.classNameGenerator,t.renderProps);if(t.children){const s=fl(t,i),p=t.children(this.InnerContent,t.renderProps,s);return t.elTag?ln(t.elTag,s,p):p}return ln(qp,Object.assign(Object.assign({},t),{elRef:this.handleRootEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;null===(i=(t=this.props).didMount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var t,i;null===(i=(t=this.props).willUnmount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}return n.contextType=ca,n})();function Hg(n,o){const t=n.props;return ln(qp,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},o))}class bm extends is{render(){let{dateEnv:o,options:t,theme:i,viewApi:s}=this.context,{props:p}=this,{date:w,dateProfile:J}=p,_e=zp(w,p.todayRange,null,J),$e=[Z0].concat(kg(_e,i)),Xe=o.format(w,p.dayHeaderFormat),Xt=!_e.isDisabled&&p.colCnt>1?Hc(this.context,w):{},jt=Object.assign(Object.assign(Object.assign({date:o.toDate(w),view:s},p.extraRenderProps),{text:Xe}),_e);return ln(Cr,{elTag:"th",elClasses:$e,elAttrs:Object.assign({role:"columnheader",colSpan:p.colSpan,"data-date":_e.isDisabled?void 0:Np(w)},p.extraDataAttrs),renderProps:jt,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:U0,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},Wt=>ln("div",{className:"fc-scrollgrid-sync-inner"},!_e.isDisabled&&ln(Wt,{elTag:"a",elAttrs:Xt,elClasses:["fc-col-header-cell-cushion",p.isSticky&&"fc-sticky"]})))}}const Nd=Fs({weekday:"long"});class Fd extends is{render(){let{props:o}=this,{dateEnv:t,theme:i,viewApi:s,options:p}=this.context,w=Ns(new Date(2592e5),o.dow),J={dow:o.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},_e=t.format(w,o.dayHeaderFormat),$e=Object.assign(Object.assign(Object.assign(Object.assign({date:w},J),{view:s}),o.extraRenderProps),{text:_e});return ln(Cr,{elTag:"th",elClasses:[Z0,...kg(J,i),...o.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan},o.extraDataAttrs),renderProps:$e,generatorName:"dayHeaderContent",customGenerator:p.dayHeaderContent,defaultGenerator:U0,classNameGenerator:p.dayHeaderClassNames,didMount:p.dayHeaderDidMount,willUnmount:p.dayHeaderWillUnmount},Xe=>ln("div",{className:"fc-scrollgrid-sync-inner"},ln(Xe,{elTag:"a",elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(w,Nd)}})))}}let Pl=(()=>{class n extends sa{constructor(t,i){super(t,i),this.initialNowDate=Jp(i.options.now,i.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:i}=this,s=ka(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),p=i.dateEnv.startOf(s,t.unit),w=i.dateEnv.add(p,M(1,t.unit)),J=w.valueOf()-s.valueOf();return J=Math.min(864e5,J),{currentState:{nowDate:p,todayRange:ku(p)},nextState:{nowDate:w,todayRange:ku(w)},waitMs:J}}setTimeout(){let{nextState:t,waitMs:i}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},i)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=Ol,n})();function ku(n){let o=Es(n);return{start:o,end:Ns(o,1)}}class Du extends is{constructor(){super(...arguments),this.createDayHeaderFormatter=Hi(Bd)}render(){let{context:o}=this,{dates:t,dateProfile:i,datesRepDistinctDays:s,renderIntro:p}=this.props,w=this.createDayHeaderFormatter(o.options.dayHeaderFormat,s,t.length);return ln(Pl,{unit:"day"},(J,_e)=>ln("tr",{role:"row"},p&&p("day"),t.map($e=>s?ln(bm,{key:$e.toISOString(),date:$e,dateProfile:i,todayRange:_e,colCnt:t.length,dayHeaderFormat:w}):ln(Fd,{key:$e.getUTCDay(),dow:$e.getUTCDay(),dayHeaderFormat:w}))))}}function Bd(n,o,t){return n||function Kp(n,o){return Fs(!n||o>10?{weekday:"short"}:o>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(o,t)}class Mu{constructor(o,t){let i=o.start,{end:s}=o,p=[],w=[],J=-1;for(;i<s;)t.isHiddenDay(i)?p.push(J+.5):(J+=1,p.push(J),w.push(i)),i=Ns(i,1);this.dates=w,this.indices=p,this.cnt=w.length}sliceRange(o){let t=this.getDateDayIndex(o.start),i=this.getDateDayIndex(Ns(o.end,-1)),s=Math.max(0,t),p=Math.min(this.cnt-1,i);return s=Math.ceil(s),p=Math.floor(p),s<=p?{firstIndex:s,lastIndex:p,isStart:t===s,isEnd:i===p}:null}getDateDayIndex(o){let{indices:t}=this,i=Math.floor(xa(this.dates[0],o));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class Ou{constructor(o,t){let s,p,w,{dates:i}=o;if(t){for(p=i[0].getUTCDay(),s=1;s<i.length&&i[s].getUTCDay()!==p;s+=1);w=Math.ceil(i.length/s)}else w=1,s=i.length;this.rowCnt=w,this.colCnt=s,this.daySeries=o,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let o=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let s=0;s<this.colCnt;s+=1)i.push(this.buildCell(t,s));o.push(i)}return o}buildCell(o,t){let i=this.daySeries.dates[o*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let o=[];for(let t=0;t<this.colCnt;t+=1)o.push(this.cells[0][t].date);return o}sliceRange(o){let{colCnt:t}=this,i=this.daySeries.sliceRange(o),s=[];if(i){let{firstIndex:p,lastIndex:w}=i,J=p;for(;J<=w;){let _e=Math.floor(J/t),$e=Math.min((_e+1)*t,w+1);s.push({row:_e,firstCol:J%t,lastCol:($e-1)%t,isStart:i.isStart&&J===p,isEnd:i.isEnd&&$e-1===w}),J=$e}}return s}}class Pu{constructor(){this.sliceBusinessHours=Hi(this._sliceBusinessHours),this.sliceDateSelection=Hi(this._sliceDateSpan),this.sliceEventStore=Hi(this._sliceEventStore),this.sliceEventDrag=Hi(this._sliceInteraction),this.sliceEventResize=Hi(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(o,t,i,s,...p){let{eventUiBases:w}=o,J=this.sliceEventStore(o.eventStore,w,t,i,...p);return{dateSelectionSegs:this.sliceDateSelection(o.dateSelection,t,i,w,s,...p),businessHourSegs:this.sliceBusinessHours(o.businessHours,t,i,s,...p),fgEventSegs:J.fg,bgEventSegs:J.bg,eventDrag:this.sliceEventDrag(o.eventDrag,w,t,i,...p),eventResize:this.sliceEventResize(o.eventResize,w,t,i,...p),eventSelection:o.eventSelection}}sliceNowDate(o,t,i,s,...p){return this._sliceDateSpan({range:{start:o,end:ka(o,1)},allDay:!1},t,i,{},s,...p)}_sliceBusinessHours(o,t,i,s,...p){return o?this._sliceEventStore(Iu(o,Xp(t,Boolean(i)),s),{},t,i,...p).bg:[]}_sliceEventStore(o,t,i,s,...p){if(o){let w=um(o,t,Xp(i,Boolean(s)),s);return{bg:this.sliceEventRanges(w.bg,p),fg:this.sliceEventRanges(w.fg,p)}}return{bg:[],fg:[]}}_sliceInteraction(o,t,i,s,...p){if(!o)return null;let w=um(o.mutatedEvents,t,Xp(i,Boolean(s)),s);return{segs:this.sliceEventRanges(w.fg,p),affectedInstances:o.affectedEvents.instances,isEvent:o.isEvent}}_sliceDateSpan(o,t,i,s,p,...w){if(!o)return[];let J=Xp(t,Boolean(i)),_e=Tu(o.range,J);if(_e){let $e=function Ub(n,o,t){let i=Ig({editable:!1},t),s=Tg(i.refined,i.extra,"",n.allDay,!0,t);return{def:s,ui:P0(s,o),instance:Gf(s.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}(o=Object.assign(Object.assign({},o),{range:_e}),s,p),Xe=this.sliceRange(o.range,...w);for(let Xt of Xe)Xt.eventRange=$e;return Xe}return[]}sliceEventRanges(o,t){let i=[];for(let s of o)i.push(...this.sliceEventRange(s,t));return i}sliceEventRange(o,t){let i=o.range;this.forceDayIfListItem&&"list-item"===o.ui.display&&(i={start:i.start,end:Ns(i.start,1)});let s=this.sliceRange(i,...t);for(let p of s)p.eventRange=o,p.isStart=o.isStart&&p.isStart,p.isEnd=o.isEnd&&p.isEnd;return s}}function Xp(n,o){let t=n.activeRange;return o?t:{start:ka(t.start,n.slotMinTime.milliseconds),end:ka(t.end,n.slotMaxTime.milliseconds-864e5)}}function ym(n,o,t){let i=t.options.eventDataTransform,s=o?o.eventDataTransform:null;return s&&(n=xm(n,s)),i&&(n=xm(n,i)),n}function xm(n,o){let t;if(o){t=[];for(let i of n){let s=o(i);s?t.push(s):null==s&&t.push(i)}}else t=n;return t}function Im(n,o,t){let{defs:i}=n,s=hi(n.instances,p=>i[p.defId].allDay?p:Object.assign(Object.assign({},p),{range:{start:t.createMarker(o.toDate(p.range.start,p.forcedStartTzo)),end:t.createMarker(o.toDate(p.range.end,p.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:p.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:p.forcedEndTzo}));return{defs:i,instances:s}}function Tm(n,o){return yg(n,t=>t.sourceId!==o)}function Am(n,o,t){let{instances:i}=n.mutatedEvents;for(let s in i)if(!tm(o.validRange,i[s].range))return!1;return wm({eventDrag:n},t)}function wm(n,o){let t=o.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(o.pluginHooks.isPropsValid||Em)(i,o)}function Em(n,o,t={},i){return!(n.eventDrag&&!function Sm(n,o,t,i){let s=o.getCurrentData(),p=n.eventDrag,w=p.mutatedEvents,J=w.defs,_e=w.instances,$e=Rg(J,p.isEvent?n.eventUiBases:{"":s.selectionConfig});i&&($e=hi($e,i));let Xe=function Yb(n,o){return{defs:n.defs,instances:di(n.instances,t=>!o[t.instanceId])}}(n.eventStore,p.affectedEvents.instances),Xt=Xe.defs,jt=Xe.instances,Wt=Rg(Xt,n.eventUiBases);for(let fn in _e){let Rn=_e[fn],Fn=Rn.range,jn=$e[Rn.defId],Ti=J[Rn.defId];if(!eh(jn.constraints,Fn,Xe,n.businessHours,o))return!1;let{eventOverlap:io}=o.options,zi="function"==typeof io?io:null;for(let ms in jt){let Zs=jt[ms];if(_0(Fn,Zs.range)&&(!1===Wt[Zs.defId].overlap&&p.isEvent||!1===jn.overlap||zi&&!zi(new Qo(o,Xt[Zs.defId],Zs),new Qo(o,Ti,Rn))))return!1}let wo=s.eventStore;for(let ms of jn.allows){let W_,Zs=Object.assign(Object.assign({},t),{range:Rn.range,allDay:Ti.allDay}),Mo=wo.defs[Ti.defId],Zl=wo.instances[fn];if(W_=Mo?new Qo(o,Mo,Zl):new Qo(o,Ti),!ms(Pg(Zs,o),W_))return!1}}return!0}(n,o,t,i)||n.dateSelection&&!function qb(n,o,t,i){let s=n.eventStore,p=s.defs,w=s.instances,J=n.dateSelection,_e=J.range,{selectionConfig:$e}=o.getCurrentData();if(i&&($e=i($e)),!eh($e.constraints,_e,s,n.businessHours,o))return!1;let{selectOverlap:Xe}=o.options,Xt="function"==typeof Xe?Xe:null;for(let jt in w){let Wt=w[jt];if(_0(_e,Wt.range)&&(!1===$e.overlap||Xt&&!Xt(new Qo(o,p[Wt.defId],Wt),null)))return!1}for(let jt of $e.allows)if(!jt(Pg(Object.assign(Object.assign({},t),J),o),null))return!1;return!0}(n,o,t,i))}function eh(n,o,t,i,s){for(let p of n)if(!$b(Vg(p,o,t,i,s),o))return!1;return!0}function Vg(n,o,t,i,s){return"businessHours"===n?th(Iu(i,o,s)):"string"==typeof n?th(yg(t,p=>p.groupId===n)):"object"==typeof n&&n?th(Iu(n,o,s)):[]}function th(n){let{instances:o}=n,t=[];for(let i in o)t.push(o[i].range);return t}function $b(n,o){for(let t of n)if(tm(t,o))return!0;return!1}class nh extends Error{constructor(o,t){super(o),this.response=t}}class ih{constructor(o){this.drainedOption=o,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(o){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==o?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),o))}pause(o=""){let{pauseDepths:t}=this;t[o]=(t[o]||0)+1,this.clearTimeout()}resume(o="",t){let{pauseDepths:i}=this;o in i&&(t?delete i[o]:(i[o]-=1,i[o]<=0&&delete i[o]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}const oh=/^(visible|hidden)$/;class Jg extends is{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,dc(this.props.elRef,o)}}render(){let{props:o}=this,{liquid:t,liquidIsAbsolute:i}=o,s=t&&i,p=["fc-scroller"];return t&&p.push(i?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),ln("div",{ref:this.handleEl,className:p.join(" "),style:{overflowX:o.overflowX,overflowY:o.overflowY,left:s&&-(o.overcomeLeft||0)||"",right:s&&-(o.overcomeRight||0)||"",bottom:s&&-(o.overcomeBottom||0)||"",marginLeft:!s&&-(o.overcomeLeft||0)||"",marginRight:!s&&-(o.overcomeRight||0)||"",marginBottom:!s&&-(o.overcomeBottom||0)||"",maxHeight:o.maxHeight||""}},o.children)}needsXScrolling(){if(oh.test(this.props.overflowX))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=o;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(oh.test(this.props.overflowY))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=o;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return oh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return oh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ll{constructor(o){this.masterCallback=o,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:s,currentMap:p}=this,w=!1,J=!1;null!==t?(w=i in p,p[i]=t,s[i]=(s[i]||0)+1,J=!0):(s[i]-=1,s[i]||(delete p[i],delete this.callbackMap[i],w=!0)),this.masterCallback&&(w&&this.masterCallback(null,String(i)),J&&this.masterCallback(t,String(i)))}}createRef(o){let t=this.callbackMap[o];return t||(t=this.callbackMap[o]=i=>{this.handleValue(i,String(o))}),t}collect(o,t,i){return function tr(n,o=0,t,i=1){let s=[];null==t&&(t=Object.keys(n).length);for(let p=o;p<t;p+=i){let w=n[p];void 0!==w&&s.push(w)}return s}(this.currentMap,o,t,i)}getAll(){return ro(this.currentMap)}}function Qg(n,o){return n.liquid&&o.liquid}function Y0(n,o){return ns(n,o,Wi)}function j0(n,o){let t=[];for(let i of n){let s=i.span||1;for(let p=0;p<s;p+=1)t.push(ln("col",{style:{width:"shrink"===i.width?K0(o):i.width||"",minWidth:i.minWidth||""}}))}return ln("colgroup",{},...t)}function K0(n){return null==n?4:n}function $0(n,o){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return o&&n.liquid&&null==n.maxHeight&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Gg(n){return ln("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function sh(n){let{stickyHeaderDates:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}function Wg(n){let{stickyFooterScrollbar:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}class Yg extends is{constructor(){super(...arguments),this.processCols=Hi(o=>o,Y0),this.renderMicroColGroup=Hi(j0),this.scrollerRefs=new Ll,this.scrollerElRefs=new Ll(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:o,state:t,context:i}=this,s=o.sections||[],p=this.processCols(o.cols),w=this.renderMicroColGroup(p,t.shrinkWidth),J=function ey(n,o){let t=["fc-scrollgrid",o.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}(o.liquid,i);o.collapsibleWidth&&J.push("fc-scrollgrid-collapsible");let Xe,_e=s.length,$e=0,Xt=[],jt=[],Wt=[];for(;$e<_e&&"header"===(Xe=s[$e]).type;)Xt.push(this.renderSection(Xe,w,!0)),$e+=1;for(;$e<_e&&"body"===(Xe=s[$e]).type;)jt.push(this.renderSection(Xe,w,!1)),$e+=1;for(;$e<_e&&"footer"===(Xe=s[$e]).type;)Wt.push(this.renderSection(Xe,w,!0)),$e+=1;let fn=!em();const Rn={role:"rowgroup"};return ln("table",{role:"grid",className:J.join(" "),style:{height:o.height}},Boolean(!fn&&Xt.length)&&ln("thead",Rn,...Xt),Boolean(!fn&&jt.length)&&ln("tbody",Rn,...jt),Boolean(!fn&&Wt.length)&&ln("tfoot",Rn,...Wt),fn&&ln("tbody",Rn,...Xt,...jt,...Wt))}renderSection(o,t,i){return"outerContent"in o?ln(ko,{key:o.key},o.outerContent):ln("tr",{key:o.key,role:"presentation",className:$0(o,this.props.liquid).join(" ")},this.renderChunkTd(o,t,o.chunk,i))}renderChunkTd(o,t,i,s){if("outerContent"in i)return i.outerContent;let{props:p}=this,{forceYScrollbars:w,scrollerClientWidths:J,scrollerClientHeights:_e}=this.state,$e=function W0(n,o){return null!=o.maxHeight||Qg(n,o)}(p,o),Xe=Qg(p,o),Xt=p.liquid?w?"scroll":$e?"auto":"hidden":"visible",jt=o.key,Wt=function Xb(n,o,t,i){let{expandRows:s}=t;return"function"==typeof o.content?o.content(t):ln("table",{role:"presentation",className:[o.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,ln(i?"thead":"tbody",{role:"presentation"},"function"==typeof o.rowContent?o.rowContent(t):o.rowContent))}(o,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:p.collapsibleWidth||void 0===J[jt]?null:J[jt],clientHeight:void 0!==_e[jt]?_e[jt]:null,expandRows:o.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return ln(s?"th":"td",{ref:i.elRef,role:"presentation"},ln("div",{className:"fc-scroller-harness"+(Xe?" fc-scroller-harness-liquid":"")},ln(Jg,{ref:this.scrollerRefs.createRef(jt),elRef:this.scrollerElRefs.createRef(jt),overflowY:Xt,overflowX:p.liquid?"hidden":"visible",maxHeight:o.maxHeight,liquid:Xe,liquidIsAbsolute:!0},Wt)))}_handleScrollerEl(o,t){let i=function X0(n,o){for(let t of n)if(t.key===o)return t;return null}(this.props.sections,t);i&&dc(i.chunk.scrollerElRef,o)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function q0(n){for(let o of n)if("shrink"===o.width)return!0;return!1}(this.props.cols)?function G0(n){let o=function Nf(n,o){let t=n instanceof HTMLElement?[n]:n,i=[];for(let s=0;s<t.length;s+=1){let p=t[s].querySelectorAll(o);for(let w=0;w<p.length;w+=1)i.push(p[w])}return i}(n,".fc-scrollgrid-shrink"),t=0;for(let i of o)t=Math.max(t,g(i));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let o=function Db(){return om||(om=function b0(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let o=y0(n);return document.body.removeChild(n),o}()),om}(),{scrollerRefs:t,scrollerElRefs:i}=this,s=!1,p={},w={};for(let J in t.currentMap){let _e=t.currentMap[J];if(_e&&_e.needsYScrolling()){s=!0;break}}for(let J of this.props.sections){let _e=J.key,$e=i.currentMap[_e];if($e){let Xe=$e.parentNode;p[_e]=Math.floor(Xe.getBoundingClientRect().width-(s?o.y:0)),w[_e]=Math.floor(Xe.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:p,scrollerClientHeights:w}}}Yg.addStateEquality({scrollerClientWidths:Wi,scrollerClientHeights:Wi});class rh extends is{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,o&&dm(o,this.props.seg)}}render(){const{props:o,context:t}=this,{options:i}=t,{seg:s}=o,{eventRange:p}=s,{ui:w}=p,J={event:new Qo(t,p.def,p.instance),view:t.viewApi,timeText:o.timeText,textColor:w.textColor,backgroundColor:w.backgroundColor,borderColor:w.borderColor,isDraggable:!o.disableDragging&&Bb(s,t),isStartResizable:!o.disableResizing&&Ng(s,t),isEndResizable:!o.disableResizing&&(n=s,n.isEnd&&n.eventRange.ui.durationEditable),isMirror:Boolean(o.isDragging||o.isResizing||o.isDateSelecting),isStart:Boolean(s.isStart),isEnd:Boolean(s.isEnd),isPast:Boolean(o.isPast),isFuture:Boolean(o.isFuture),isToday:Boolean(o.isToday),isSelected:Boolean(o.isSelected),isDragging:Boolean(o.isDragging),isResizing:Boolean(o.isResizing)};var n;return ln(Cr,Object.assign({},o,{elRef:this.handleEl,elClasses:[...hm(J),...s.eventRange.ui.classNames,...o.elClasses||[]],renderProps:J,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:o.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(o){this.el&&this.props.seg!==o.seg&&dm(this.el,this.props.seg)}}class km extends is{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s}=o,{ui:p}=s.eventRange,J=Qc(s,i.eventTimeFormat||o.defaultTimeFormat,t,o.defaultDisplayEventTime,o.defaultDisplayEventEnd);return ln(rh,Object.assign({},o,{elTag:"a",elStyle:{borderColor:p.borderColor,backgroundColor:p.backgroundColor},elAttrs:Fg(s,t),defaultGenerator:eC,timeText:J}),(_e,$e)=>ln(ko,null,ln(_e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:$e.textColor}}),Boolean($e.isStartResizable)&&ln("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean($e.isEndResizable)&&ln("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function eC(n){return ln("div",{className:"fc-event-main-frame"},n.timeText&&ln("div",{className:"fc-event-time"},n.timeText),ln("div",{className:"fc-event-title-container"},ln("div",{className:"fc-event-title fc-sticky"},n.event.title||ln(ko,null,"\xa0"))))}const jg=n=>ln(Ol.Consumer,null,o=>{let{options:t}=o,i={isAxis:n.isAxis,date:o.dateEnv.toDate(n.date),view:o.viewApi};return ln(Cr,Object.assign({},n,{elTag:n.elTag||"div",renderProps:i,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),tC=Fs({day:"numeric"});class Kg extends is{constructor(){super(...arguments),this.refineRenderProps=fg(ty)}render(){let{props:o,context:t}=this,{options:i}=t,s=this.refineRenderProps({date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,isMonthStart:o.isMonthStart||!1,showDayNumber:o.showDayNumber,extraRenderProps:o.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return ln(Cr,Object.assign({},o,{elClasses:[...kg(s,t.theme),...o.elClasses||[]],elAttrs:Object.assign(Object.assign({},o.elAttrs),s.isDisabled?{}:{"data-date":Np(o.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:o.defaultGenerator,classNameGenerator:s.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function nC(n){return Boolean(n.dayCellContent||H0("dayCellContent",n))}function ty(n){let{date:o,dateEnv:t,dateProfile:i,isMonthStart:s}=n,p=zp(o,n.todayRange,null,i),w=n.showDayNumber?t.format(o,s?n.monthStartFormat:tC):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(o),view:n.viewApi},p),{isMonthStart:s,dayNumberText:w}),n.extraRenderProps)}class iC extends is{render(){let{props:o}=this,{seg:t}=o;return ln(rh,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:oC,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:o.isPast,isFuture:o.isFuture,isToday:o.isToday,disableDragging:!0,disableResizing:!0})}}function oC(n){let{title:o}=n.event;return o&&ln("div",{className:"fc-event-title"},n.event.title)}function sC(n){return ln("div",{className:`fc-${n}`})}const Lr=n=>ln(Ol.Consumer,null,o=>{let{dateEnv:t,options:i}=o,{date:s}=n,p=i.weekNumberFormat||n.defaultFormat,w=t.computeWeekNumber(s),J=t.format(s,p);return ln(Cr,Object.assign({},n,{renderProps:{num:w,text:J,date:s},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:rC,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function rC(n){return n.text}class ny extends is{constructor(){super(...arguments),this.state={titleId:kl()},this.handleRootEl=o=>{this.rootEl=o,this.props.elRef&&dc(this.props.elRef,o)},this.handleDocumentMouseDown=o=>{const t=dg(o);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=o=>{"Escape"===o.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:o}=this.props;o&&o()}}render(){let{theme:o,options:t}=this.context,{props:i,state:s}=this,p=["fc-popover",o.getClass("popover")].concat(i.extraClassNames||[]);return function Ap(n,o){var t=ln(md,{__v:n,i:o});return t.containerInfo=o,t}(ln("div",Object.assign({},i.extraAttrs,{id:i.id,className:p.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),ln("div",{className:"fc-popover-header "+o.getClass("popoverHeader")},ln("span",{className:"fc-popover-title",id:s.titleId},i.title),ln("span",{className:"fc-popover-close "+o.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),ln("div",{className:"fc-popover-body "+o.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:o}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:s}=this,p=function sm(n){let o=Au(n),t=n.getBoundingClientRect();for(let i of o){let s=m0(t,i.getBoundingClientRect());if(!s)return null;t=s}return t}(t);if(p){let w=s.getBoundingClientRect(),J=i?xo(t,".fc-scrollgrid").getBoundingClientRect().top:p.top,_e=o?p.right-w.width:p.left;J=Math.max(J,10),_e=Math.min(_e,document.documentElement.clientWidth-10-w.width),_e=Math.max(_e,10);let $e=s.offsetParent.getBoundingClientRect();gu(s,{top:J-$e.top,left:_e-$e.left})}}}class aC extends Za{constructor(){super(...arguments),this.handleRootEl=o=>{this.rootEl=o,o?this.context.registerInteractiveComponent(this,{el:o,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:o,dateEnv:t}=this.context,{props:i}=this,{startDate:s,todayRange:p,dateProfile:w}=i,J=t.format(s,o.dayPopoverFormat);return ln(Kg,{elRef:this.handleRootEl,date:s,dateProfile:w,todayRange:p},(_e,$e,Xe)=>ln(ny,{elRef:Xe.ref,id:i.id,title:J,extraClassNames:["fc-more-popover"].concat(Xe.className||[]),extraAttrs:Xe,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},nC(o)&&ln(_e,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(o,t,i,s){let{rootEl:p,props:w}=this;return o>=0&&o<i&&t>=0&&t<s?{dateProfile:w.dateProfile,dateSpan:Object.assign({allDay:!w.forceTimed,range:{start:w.startDate,end:w.endDate}},w.extraDateSpan),dayEl:p,rect:{left:0,top:0,right:i,bottom:s},layer:1}:null}}class lC extends is{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:kl()},this.handleLinkEl=o=>{this.linkEl=o,this.props.elRef&&dc(this.props.elRef,o)},this.handleClick=o=>{let{props:t,context:i}=this,{moreLinkClick:s}=i.options,p=Mm(t).start;function w(J){let{def:_e,instance:$e,range:Xe}=J.eventRange;return{event:new Qo(i,_e,$e),start:i.dateEnv.toDate(Xe.start),end:i.dateEnv.toDate(Xe.end),isStart:J.isStart,isEnd:J.isEnd}}"function"==typeof s&&(s=s({date:p,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(w),hiddenSegs:t.hiddenSegs.map(w),jsEvent:o,view:i.viewApi})),s&&"popover"!==s?"string"==typeof s&&i.calendarApi.zoomTo(p,s):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:o,state:t}=this;return ln(Ol.Consumer,null,i=>{let{viewApi:s,options:p,calendarApi:w}=i,{moreLinkText:J}=p,{moreCnt:_e}=o,$e=Mm(o),Xe="function"==typeof J?J.call(w,_e):`+${_e} ${J}`,Xt=ac(p.moreLinkHint,[_e],Xe),jt={num:_e,shortText:`+${_e}`,text:Xe,view:s};return ln(ko,null,Boolean(o.moreCnt)&&ln(Cr,{elTag:o.elTag||"a",elRef:this.handleLinkEl,elClasses:[...o.elClasses||[],"fc-more-link"],elStyle:o.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},o.elAttrs),xd(this.handleClick)),{title:Xt,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:jt,generatorName:"moreLinkContent",customGenerator:p.moreLinkContent,defaultGenerator:o.defaultGenerator||cC,classNameGenerator:p.moreLinkClassNames,didMount:p.moreLinkDidMount,willUnmount:p.moreLinkWillUnmount},o.children),t.isPopoverOpen&&ln(aC,{id:t.popoverId,startDate:$e.start,endDate:$e.end,dateProfile:o.dateProfile,todayRange:o.todayRange,extraDateSpan:o.extraDateSpan,parentEl:this.parentEl,alignmentEl:o.alignmentElRef?o.alignmentElRef.current:this.linkEl,alignGridTop:o.alignGridTop,forceTimed:o.forceTimed,onClose:this.handlePopoverClose},o.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=xo(this.linkEl,".fc-view-harness"))}}function cC(n){return n.text}function Mm(n){if(n.allDayDate)return{start:n.allDayDate,end:Ns(n.allDayDate,1)};let{hiddenSegs:o}=n;return{start:Lu(o),end:oy(o)}}function Lu(n){return n.reduce(iy).eventRange.range.start}function iy(n,o){return n.eventRange.range.start<o.eventRange.range.start?n:o}function oy(n){return n.reduce(uC).eventRange.range.end}function uC(n,o){return n.eventRange.range.end>o.eventRange.range.end?n:o}class ah extends is{render(){let{props:o,context:t}=this,{options:i}=t,s={view:t.viewApi};return ln(Cr,Object.assign({},o,{elTag:o.elTag||"div",elClasses:[...Om(o.viewSpec),...o.elClasses||[]],renderProps:s,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>o.children)}}function Om(n){return[`fc-${n.type}-view`,"fc-view"]}const BI={id:String,defaultAllDay:Boolean,url:String,format:String,events:Un,eventDataTransform:Un,success:Un,failure:Un};function qg(n,o,t=$g(o)){let i;if("string"==typeof n?i={url:n}:"function"==typeof n||Array.isArray(n)?i={events:n}:"object"==typeof n&&n&&(i=n),i){let{refined:s,extra:p}=Cg(i,t),w=function ml(n,o){let t=o.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let p=t[i].parseMeta(n);if(p)return{sourceDefId:i,meta:p}}return null}(s,o);if(w)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Dl(),sourceDefId:w.sourceDefId,meta:w.meta,ui:Da(s,o),extendedProps:p}}return null}function $g(n){return Object.assign(Object.assign(Object.assign({},Hp),BI),n.pluginHooks.eventSourceRefiners)}class Rl extends class dC{constructor(){this.handlers=[]}set(o){this.currentValue=o;for(let t of this.handlers)t(o)}subscribe(o){this.handlers.push(o),void 0!==this.currentValue&&o(this.currentValue)}}{constructor(){super(...arguments),this.map=new Map}handle(o){const{map:t}=this;let i=!1;o.isActive?(t.set(o.id,o),i=!0):t.has(o.id)&&(t.delete(o.id),i=!0),i&&this.set(t)}}const _l=[],el={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Pm=Object.assign(Object.assign({},el),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(n,o)=>"day"===o?"Today":`This ${n}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:n=>`Show ${n} more event${1===n?"":"s"}`});function Lm(n){let o=n.length>0?n[0].code:"en",t=_l.concat(n),i={en:Pm};for(let s of t)i[s.code]=s;return{map:i,defaultCode:o}}function Rm(n,o){return"object"!=typeof n||Array.isArray(n)?function ry(n,o){let t=[].concat(n||[]),i=function ay(n,o){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let s=i.length;s>0;s-=1){let p=i.slice(0,s).join("-");if(o[p])return o[p]}}return null}(t,o)||Pm;return pC(n,t,i)}(n,o):pC(n.code,[n.code],n)}function pC(n,o,t){let i=ci([el,t],["buttonText"]);delete i.code;let{week:s}=i;return delete i.week,{codeArg:n,codes:o,week:s,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function tl(n){return{id:Dl(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function hC(n,o){return{premiumReleaseDate:cy(n.premiumReleaseDate,o.premiumReleaseDate),reducers:n.reducers.concat(o.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(o.isLoadingFuncs),contextInit:n.contextInit.concat(o.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),o.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(o.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),o.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(o.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(o.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(o.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(o.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(o.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(o.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),o.views),viewPropsTransformers:n.viewPropsTransformers.concat(o.viewPropsTransformers),isPropsValid:o.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(o.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(o.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(o.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(o.calendarInteractions),componentInteractions:n.componentInteractions.concat(o.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),o.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(o.eventSourceDefs),cmdFormatter:o.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(o.recurringTypes),namedTimeZonedImpl:o.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||o.initialView,elementDraggingImpl:n.elementDraggingImpl||o.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),o.optionChangeHandlers),scrollGridImpl:o.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),o.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),o.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),o.propSetHandlers)}}function cy(n,o){return void 0===n?o:void 0===o?n:new Date(Math.max(n.valueOf(),o.valueOf()))}class hc extends Og{}function Zd(n,o,t,i){if(o[n])return o[n];let s=function uy(n,o,t,i){let s=t[n],p=i[n],w=Xe=>s&&null!==s[Xe]?s[Xe]:p&&null!==p[Xe]?p[Xe]:null,J=w("component"),_e=w("superType"),$e=null;if(_e){if(_e===n)throw new Error("Can't have a custom view type that references itself");$e=Zd(_e,o,t,i)}return!J&&$e&&(J=$e.component),J?{type:n,component:J,defaults:Object.assign(Object.assign({},$e?$e.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},$e?$e.overrides:{}),p?p.rawOptions:{})}:null}(n,o,t,i);return s&&(o[n]=s),s}function Nm(n){return hi(n,fC)}function fC(n){let o="function"==typeof n?{component:n}:n,{component:t}=o;return o.content&&(t=function Fm(n){return o=>ln(Ol.Consumer,null,t=>ln(Cr,{elTag:"div",elClasses:Om(t.viewSpec),renderProps:Object.assign(Object.assign({},o),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}(o)),{superType:o.type,component:t,rawOptions:o}}function Xg(n,o,t,i){let s=Nm(n),p=Nm(o.views),w=function gC(n,o){let i,t={};for(i in n)Zd(i,t,n,o);for(i in o)Zd(i,t,n,o);return t}(s,p);return hi(w,J=>function Bm(n,o,t,i,s){let p=n.overrides.duration||n.defaults.duration||i.duration||t.duration,w=null,J="",_e="",$e={};if(p&&(w=function Zm(n){let o=JSON.stringify(n),t=ef[o];return void 0===t&&(t=M(n),ef[o]=t),t}(p),w)){let jt=ni(w);J=jt.unit,1===jt.value&&(_e=J,$e=o[J]?o[J].rawOptions:{})}let Xe=jt=>{let Wt=jt.buttonText||{},fn=n.defaults.buttonTextKey;return null!=fn&&null!=Wt[fn]?Wt[fn]:null!=Wt[n.type]?Wt[n.type]:null!=Wt[_e]?Wt[_e]:null},Xt=jt=>{let Wt=jt.buttonHints||{},fn=n.defaults.buttonTextKey;return null!=fn&&null!=Wt[fn]?Wt[fn]:null!=Wt[n.type]?Wt[n.type]:null!=Wt[_e]?Wt[_e]:null};return{type:n.type,component:n.component,duration:w,durationUnit:J,singleUnit:_e,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},$e),n.overrides),buttonTextOverride:Xe(i)||Xe(t)||n.overrides.buttonText,buttonTextDefault:Xe(s)||n.defaults.buttonText||Xe(mg)||n.type,buttonTitleOverride:Xt(i)||Xt(t)||n.overrides.buttonHint,buttonTitleDefault:Xt(s)||n.defaults.buttonHint||Xt(mg)}}(J,p,o,t,i))}hc.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},hc.prototype.baseIconClass="fc-icon",hc.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},hc.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},hc.prototype.iconOverrideOption="buttonIcons",hc.prototype.iconOverrideCustomButtonOption="icon",hc.prototype.iconOverridePrefix="fc-icon-";let ef={};function yC(n){for(let o in n)if(n[o].isFetching)return!0;return!1}function xC(n,o,t,i){let s={};for(let p of o)s[p.sourceId]=p;return t&&(s=IC(s,t,i)),Object.assign(Object.assign({},n),s)}function IC(n,o,t){return Um(n,di(n,i=>function hy(n,o,t){return AC(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||o.start<n.fetchRange.start||o.end>n.fetchRange.end:!n.latestFetchId}(i,o,t)),o,!1,t)}function Um(n,o,t,i,s){let p={};for(let w in n){let J=n[w];p[w]=o[w]?gy(J,t,i,s):J}return p}function gy(n,o,t,i){let{options:s,calendarApi:p}=i,w=i.pluginHooks.eventSourceDefs[n.sourceDefId],J=Dl();return w.fetch({eventSource:n,range:o,isRefetch:t,context:i},_e=>{let{rawEvents:$e}=_e;s.eventSourceSuccess&&($e=s.eventSourceSuccess.call(p,$e,_e.response)||$e),n.success&&($e=n.success.call(p,$e,_e.response)||$e),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:J,fetchRange:o,rawEvents:$e})},_e=>{let $e=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(p,_e),$e=!0),n.failure&&(n.failure(_e),$e=!0),$e||console.warn(_e.message,_e),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:J,fetchRange:o,error:_e})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:J})}function TC(n,o){return di(n,t=>AC(t,o))}function AC(n,o){return!o.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function _y(n,o){switch(o.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return o.selection;default:return n}}function Cy(n,o){switch(o.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return o.eventInstanceId;default:return n}}function vy(n,o){let t;switch(o.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function by(n,o){let t;switch(o.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function yy(n,o,t,i,s){return{header:n.headerToolbar?wC(n.headerToolbar,n,o,t,i,s):null,footer:n.footerToolbar?wC(n.footerToolbar,n,o,t,i,s):null}}function wC(n,o,t,i,s,p){let w={},J=[],_e=!1;for(let $e in n){let Xt=EC(n[$e],o,t,i,s,p);w[$e]=Xt.widgets,J.push(...Xt.viewsWithButtons),_e=_e||Xt.hasTitle}return{sectionWidgets:w,viewsWithButtons:J,hasTitle:_e}}function EC(n,o,t,i,s,p){let w="rtl"===o.direction,J=o.customButtons||{},_e=t.buttonText||{},$e=o.buttonText||{},Xe=t.buttonHints||{},Xt=o.buttonHints||{},jt=n?n.split(" "):[],Wt=[],fn=!1;return{widgets:jt.map(Fn=>Fn.split(",").map(jn=>{if("title"===jn)return fn=!0,{buttonName:jn};let Ti,io,zi,wo,ms,Zs;if(Ti=J[jn])zi=Mo=>{Ti.click&&Ti.click.call(Mo.target,Mo,Mo.target)},(wo=i.getCustomButtonIconClass(Ti))||(wo=i.getIconClass(jn,w))||(ms=Ti.text),Zs=Ti.hint||Ti.text;else if(io=s[jn]){Wt.push(jn),zi=()=>{p.changeView(jn)},(ms=io.buttonTextOverride)||(wo=i.getIconClass(jn,w))||(ms=io.buttonTextDefault);let Mo=io.buttonTextOverride||io.buttonTextDefault;Zs=ac(io.buttonTitleOverride||io.buttonTitleDefault||o.viewHint,[Mo,jn],Mo)}else if(p[jn])if(zi=()=>{p[jn]()},(ms=_e[jn])||(wo=i.getIconClass(jn,w))||(ms=$e[jn]),"prevYear"===jn||"nextYear"===jn){let Mo="prevYear"===jn?"prev":"next";Zs=ac(Xe[Mo]||Xt[Mo],[$e.year||"year","year"],$e[jn])}else Zs=Mo=>ac(Xe[jn]||Xt[jn],[$e[Mo]||Mo,Mo],$e[jn]);return{buttonName:jn,buttonClick:zi,buttonIcon:wo,buttonText:ms,buttonHint:Zs}})),viewsWithButtons:Wt,hasTitle:fn}}class SC{constructor(o,t,i){this.type=o,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(o){return this.getCurrentData().options[o]}}function PC(n,o){let t=ro(o.getCurrentData().eventSources);if(1===t.length&&1===n.length&&Array.isArray(t[0]._raw)&&Array.isArray(n[0]))return void o.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});let i=[];for(let s of n){let p=!1;for(let w=0;w<t.length;w+=1)if(t[w]._raw===s){t.splice(w,1),p=!0;break}p||i.push(s)}for(let s of t)o.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of i)o.calendarApi.addEventSource(s)}const LC=[tl({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:n=>Array.isArray(n.events)?n.events:null,fetch(n,o){o({rawEvents:n.eventSource.meta})}}]}),tl({name:"func-event-source",eventSourceDefs:[{parseMeta:n=>"function"==typeof n.events?n.events:null,fetch(n,o,t){const{dateEnv:i}=n.context;!function rm(n,o,t){let i=!1,s=function(J){i||(i=!0,o(J))},p=function(J){i||(i=!0,t(J))},w=n(s,p);w&&"function"==typeof w.then&&w.then(s,p)}(n.eventSource.meta.bind(null,Gp(n.range,i)),p=>o({rawEvents:p}),t)}}]}),tl({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:Un,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:n=>!n.url||"json"!==n.format&&n.format?null:{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam},fetch(n,o,t){const{meta:i}=n.eventSource,s=function OC(n,o,t){let p,w,J,_e,{dateEnv:i,options:s}=t,$e={};return p=n.startParam,null==p&&(p=s.startParam),w=n.endParam,null==w&&(w=s.endParam),J=n.timeZoneParam,null==J&&(J=s.timeZoneParam),_e="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},Object.assign($e,_e),$e[p]=i.formatIso(o.start),$e[w]=i.formatIso(o.end),"local"!==i.timeZone&&($e[J]=i.timeZone),$e}(i,n.range,n.context);(function zg(n,o,t){const i={method:n=n.toUpperCase()};return"GET"===n?o+=(-1===o.indexOf("?")?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(o,i).then(s=>{if(s.ok)return s.json().then(p=>[p,s],()=>{throw new nh("Failure parsing JSON",s)});throw new nh("Request failed",s)})})(i.method,i.url,s).then(([p,w])=>{o({rawEvents:p,response:w})},t)}}]}),tl({name:"simple-recurring-event",recurringTypes:[{parse(n,o){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let i,t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?o.createMarker(n.startRecur):null,endRecur:n.endRecur?o.createMarker(n.endRecur):null};return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=function wt(n,o){return{years:n.years-o.years,months:n.months-o.months,days:n.days-o.days,milliseconds:n.milliseconds-o.milliseconds}}(n.endTime,n.startTime)),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:i,typeData:t}}return null},expand(n,o,t){let i=Tu(o,{start:n.startRecur,end:n.endRecur});return i?function Sy(n,o,t,i){let s=n?Fi(n):null,p=Es(t.start),w=t.end,J=[];for(;p<w;){let _e;(!s||s[p.getUTCDay()])&&(_e=o?i.add(p,o):p,J.push(_e)),p=Ns(p,1)}return J}(n.daysOfWeek,n.startTime,i,t):[]}}],eventRefiners:{daysOfWeek:Un,startTime:M,endTime:M,duration:M,startRecur:Un,endRecur:Un}}),tl({name:"change-handler",optionChangeHandlers:{events(n,o){PC([n],o)},eventSources:PC}}),tl({name:"misc",isLoadingFuncs:[n=>yC(n.eventSources)],propSetHandlers:{dateProfile:function Hm(n,o){o.emitter.trigger("datesSet",Object.assign(Object.assign({},Gp(n.activeRange,o.dateEnv)),{view:o.viewApi}))},eventStore:function ZI(n,o){let{emitter:t}=o;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Eu(n,o))}}})];class RC{constructor(o,t){this.runTaskOption=o,this.drainedOption=t,this.queue=[],this.delayedRunner=new ih(this.drain.bind(this))}request(o,t){this.queue.push(o),this.delayedRunner.request(t)}pause(o){this.delayedRunner.pause(o)}resume(o,t){this.delayedRunner.resume(o,t)}drain(){let{queue:o}=this;for(;o.length;){let i,t=[];for(;i=o.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(o){this.runTaskOption&&this.runTaskOption(o)}drained(o){this.drainedOption&&this.drainedOption(o)}}function UI(n,o,t){let i;return i=/^(year|month)$/.test(n.currentRangeUnit)?n.currentRange:n.activeRange,t.formatRange(i.start,i.end,Fs(o.titleFormat||function Vi(n){let{currentRangeUnit:o}=n;if("year"===o)return{year:"numeric"};if("month"===o)return{year:"numeric",month:"long"};let t=Zf(n.currentRange.start,n.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:o.titleRangeSeparator})}class ky{constructor(o){this.computeCurrentViewData=Hi(this._computeCurrentViewData),this.organizeRawLocales=Hi(Lm),this.buildLocale=Hi(Rm),this.buildPluginHooks=function ly(){let t,n=[],o=[];return(i,s)=>((!t||!ns(i,n)||!ns(s,o))&&(t=function lh(n,o){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(p){for(let w of p){const J=w.name,_e=t[J];void 0===_e?(t[J]=w.id,s(w.deps),i=hC(i,w)):_e!==w.id&&console.warn(`Duplicate plugin '${J}'`)}}return n&&s(n),s(o),i}(i,s)),n=i,o=s,t)}(),this.buildDateEnv=Hi(Dy),this.buildTheme=Hi(My),this.parseToolbars=Hi(yy),this.buildViewSpecs=Hi(Xg),this.buildDateProfileGenerator=fg(Vd),this.buildViewApi=Hi(Oy),this.buildViewUiProps=fg(lr),this.buildEventUiBySource=Hi(tf,Wi),this.buildEventUiBases=Hi(nf),this.parseContextBusinessHours=fg(FC),this.buildTitle=Hi(UI),this.emitter=new wu,this.actionRunner=new RC(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=jt=>{this.actionRunner.request(jt)},this.props=o,this.actionRunner.pause();let t={},i=this.computeOptionsData(o.optionOverrides,t,o.calendarApi),s=i.calendarOptions.initialView||i.pluginHooks.initialView,p=this.computeCurrentViewData(s,i,o.optionOverrides,t);o.calendarApi.currentDataManager=this,this.emitter.setThisContext(o.calendarApi),this.emitter.setOptions(p.options);let w=function Rb(n,o){let t=n.initialDate;return null!=t?o.createMarker(t):Jp(n.now,o)}(i.calendarOptions,i.dateEnv),J=p.dateProfileGenerator.build(w);Zc(J.activeRange,w)||(w=J.currentRange.start);let _e={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let jt of i.pluginHooks.contextInit)jt(_e);let $e=function vC(n,o,t){let i=o?o.activeRange:null;return xC({},function my(n,o){let t=$g(o),i=[].concat(n.eventSources||[]),s=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let p of i){let w=qg(p,o,t);w&&s.push(w)}return s}(n,t),i,t)}(i.calendarOptions,J,_e),Xe={dynamicOptionOverrides:t,currentViewType:s,currentDate:w,dateProfile:J,businessHours:this.parseContextBusinessHours(_e),eventSources:$e,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(_e).selectionConfig},Xt=Object.assign(Object.assign({},_e),Xe);for(let jt of i.pluginHooks.reducers)Object.assign(Xe,jt(null,null,Xt));NC(Xe,_e)&&this.emitter.trigger("loading",!0),this.state=Xe,this.updateData(),this.actionRunner.resume()}resetOptions(o,t){let{props:i}=this;void 0===t?i.optionOverrides=o:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),o),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(o){let{props:t,state:i,emitter:s}=this,p=function _C(n,o){return"SET_OPTION"===o.type?Object.assign(Object.assign({},n),{[o.optionName]:o.rawOptionValue}):n}(i.dynamicOptionOverrides,o),w=this.computeOptionsData(t.optionOverrides,p,t.calendarApi),J=function mC(n,o){return"CHANGE_VIEW_TYPE"===o.type&&(n=o.viewType),n}(i.currentViewType,o),_e=this.computeCurrentViewData(J,w,t.optionOverrides,p);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(_e.options);let $e={dateEnv:w.dateEnv,options:w.calendarOptions,pluginHooks:w.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:Xe,dateProfile:Xt}=i;this.data&&this.data.dateProfileGenerator!==_e.dateProfileGenerator&&(Xt=_e.dateProfileGenerator.build(Xe)),Xe=function S0(n,o){return"CHANGE_DATE"===o.type?o.dateMarker:n}(Xe,o),Xt=function CC(n,o,t,i){let s;switch(o.type){case"CHANGE_VIEW_TYPE":return i.build(o.dateMarker||t);case"CHANGE_DATE":return i.build(o.dateMarker);case"PREV":if(s=i.buildPrev(n,t),s.isValid)return s;break;case"NEXT":if(s=i.buildNext(n,t),s.isValid)return s}return n}(Xt,o,Xe,_e.dateProfileGenerator),("PREV"===o.type||"NEXT"===o.type||!Zc(Xt.currentRange,Xe))&&(Xe=Xt.currentRange.start);let jt=function bC(n,o,t,i){let s=t?t.activeRange:null;switch(o.type){case"ADD_EVENT_SOURCES":return xC(n,o.sources,s,i);case"REMOVE_EVENT_SOURCE":return function py(n,o){return di(n,t=>t.sourceId!==o)}(n,o.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?IC(n,s,i):n;case"FETCH_EVENT_SOURCES":return Um(n,o.sourceIds?Fi(o.sourceIds):TC(n,i),s,o.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function fy(n,o,t,i){let s=n[o];return s&&t===s.latestFetchId?Object.assign(Object.assign({},n),{[o]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:i})}):n}(n,o.sourceId,o.fetchId,o.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}(i.eventSources,o,Xt,$e),Wt=function V0(n,o,t,i,s){switch(o.type){case"RECEIVE_EVENTS":return function z0(n,o,t,i,s,p){if(o&&t===o.latestFetchId){let w=Zp(ym(s,o,p),o,p);return i&&(w=Iu(w,i,p)),Up(Tm(n,o.sourceId),w)}return n}(n,t[o.sourceId],o.fetchId,o.fetchRange,o.rawEvents,s);case"RESET_RAW_EVENTS":return function J0(n,o,t,i,s){const{defIdMap:p,instanceIdMap:w}=function jb(n){const{defs:o,instances:t}=n,i={},s={};for(let p in o){const w=o[p],{publicId:J}=w;J&&(i[J]=p)}for(let p in t){const J=o[t[p].defId],{publicId:_e}=J;_e&&(s[_e]=p)}return{defIdMap:i,instanceIdMap:s}}(n);return Iu(Zp(ym(t,o,s),o,s,!1,p,w),i,s)}(n,t[o.sourceId],o.rawEvents,i.activeRange,s);case"ADD_EVENTS":return function Q0(n,o,t,i){return t&&(o=Iu(o,t,i)),Up(n,o)}(n,o.eventStore,i?i.activeRange:null,s);case"RESET_EVENTS":return o.eventStore;case"MERGE_EVENTS":return Up(n,o.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Iu(n,i.activeRange,s):n;case"REMOVE_EVENTS":return function TI(n,o){let{defs:t,instances:i}=n,s={},p={};for(let w in t)o.defs[w]||(s[w]=t[w]);for(let w in i)!o.instances[w]&&s[i[w].defId]&&(p[w]=i[w]);return{defs:s,instances:p}}(n,o.eventStore);case"REMOVE_EVENT_SOURCE":return Tm(n,o.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return yg(n,p=>!p.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return n}}(i.eventStore,o,jt,Xt,$e),Rn=yC(jt)&&!_e.options.progressiveEventRendering&&i.renderableEventStore||Wt,{eventUiSingleBase:Fn,selectionConfig:jn}=this.buildViewUiProps($e),Ti=this.buildEventUiBySource(jt),zi={dynamicOptionOverrides:p,currentViewType:J,currentDate:Xe,dateProfile:Xt,eventSources:jt,eventStore:Wt,renderableEventStore:Rn,selectionConfig:jn,eventUiBases:this.buildEventUiBases(Rn.defs,Fn,Ti),businessHours:this.parseContextBusinessHours($e),dateSelection:_y(i.dateSelection,o),eventSelection:Cy(i.eventSelection,o),eventDrag:vy(i.eventDrag,o),eventResize:by(i.eventResize,o)},wo=Object.assign(Object.assign({},$e),zi);for(let Mo of w.pluginHooks.reducers)Object.assign(zi,Mo(i,o,wo));let ms=NC(i,$e),Zs=NC(zi,$e);!ms&&Zs?s.trigger("loading",!0):ms&&!Zs&&s.trigger("loading",!1),this.state=zi,t.onAction&&t.onAction(o)}updateData(){let{props:o,state:t}=this,i=this.data,s=this.computeOptionsData(o.optionOverrides,t.dynamicOptionOverrides,o.calendarApi),p=this.computeCurrentViewData(t.currentViewType,s,o.optionOverrides,t.dynamicOptionOverrides),w=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,p.options,s.dateEnv),calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),p),t),J=s.pluginHooks.optionChangeHandlers,_e=i&&i.calendarOptions,$e=s.calendarOptions;if(_e&&_e!==$e){_e.timeZone!==$e.timeZone&&(t.eventSources=w.eventSources=function dy(n,o,t){let i=o?o.activeRange:null;return Um(n,TC(n,t),i,!0,t)}(w.eventSources,t.dateProfile,w),t.eventStore=w.eventStore=Im(w.eventStore,i.dateEnv,w.dateEnv),t.renderableEventStore=w.renderableEventStore=Im(w.renderableEventStore,i.dateEnv,w.dateEnv));for(let Xe in J)(-1!==this.optionsForHandling.indexOf(Xe)||_e[Xe]!==$e[Xe])&&J[Xe]($e[Xe],w)}this.optionsForHandling=[],o.onData&&o.onData(w)}computeOptionsData(o,t,i){if(!this.optionsForRefining.length&&o===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:p,localeDefaults:w,availableLocaleData:J,extra:_e}=this.processRawCalendarOptions(o,t);Vm(_e);let $e=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,p,J,s.defaultRangeSeparator),Xe=this.buildViewSpecs(p.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,w),Xt=this.buildTheme(s,p),jt=this.parseToolbars(s,this.stableOptionOverrides,Xt,Xe,i);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:p,dateEnv:$e,viewSpecs:Xe,theme:Xt,toolbarConfig:jt,localeDefaults:w,availableRawLocales:J.map}}processRawCalendarOptions(o,t){let{locales:i,locale:s}=_g([mg,o,t]),p=this.organizeRawLocales(i),J=this.buildLocale(s||p.defaultCode,p.map).options,_e=this.buildPluginHooks(o.plugins||[],LC),$e=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qf),p0),bu),_e.listenerRefiners),_e.optionRefiners),Xe={},Xt=_g([mg,J,o,t]),jt={},Wt=this.currentCalendarOptionsInput,fn=this.currentCalendarOptionsRefined,Rn=!1;for(let Fn in Xt)-1===this.optionsForRefining.indexOf(Fn)&&(Xt[Fn]===Wt[Fn]||yu[Fn]&&Fn in Wt&&yu[Fn](Wt[Fn],Xt[Fn]))?jt[Fn]=fn[Fn]:$e[Fn]?(jt[Fn]=$e[Fn](Xt[Fn]),Rn=!0):Xe[Fn]=Wt[Fn];return Rn&&(this.currentCalendarOptionsInput=Xt,this.currentCalendarOptionsRefined=jt,this.stableOptionOverrides=o,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:_e,availableLocaleData:p,localeDefaults:J,extra:Xe}}_computeCurrentViewData(o,t,i,s){let p=t.viewSpecs[o];if(!p)throw new Error(`viewType "${o}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:w,extra:J}=this.processRawViewOptions(p,t.pluginHooks,t.localeDefaults,i,s);return Vm(J),{viewSpec:p,options:w,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:p.optionDefaults.dateProfileGeneratorClass,duration:p.duration,durationUnit:p.durationUnit,usesMinMaxTime:p.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:w.slotMinTime,slotMaxTime:w.slotMaxTime,showNonCurrentDates:w.showNonCurrentDates,dayCount:w.dayCount,dateAlignment:w.dateAlignment,dateIncrement:w.dateIncrement,hiddenDays:w.hiddenDays,weekends:w.weekends,nowInput:w.now,validRangeInput:w.validRange,visibleRangeInput:w.visibleRange,fixedWeekCount:w.fixedWeekCount}),viewApi:this.buildViewApi(o,this.getCurrentData,t.dateEnv)}}processRawViewOptions(o,t,i,s,p){let w=_g([mg,o.optionDefaults,i,s,o.optionOverrides,p]),J=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qf),p0),bu),bb),t.listenerRefiners),t.optionRefiners),_e={},$e=this.currentViewOptionsInput,Xe=this.currentViewOptionsRefined,Xt=!1,jt={};for(let Wt in w)w[Wt]===$e[Wt]||yu[Wt]&&yu[Wt](w[Wt],$e[Wt])?_e[Wt]=Xe[Wt]:(w[Wt]===this.currentCalendarOptionsInput[Wt]||yu[Wt]&&yu[Wt](w[Wt],this.currentCalendarOptionsInput[Wt])?Wt in this.currentCalendarOptionsRefined&&(_e[Wt]=this.currentCalendarOptionsRefined[Wt]):J[Wt]?_e[Wt]=J[Wt](w[Wt]):jt[Wt]=w[Wt],Xt=!0);return Xt&&(this.currentViewOptionsInput=w,this.currentViewOptionsRefined=_e),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:jt}}}function Dy(n,o,t,i,s,p,w,J){let _e=Rm(o||w.defaultCode,w.map);return new RI({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:p.namedTimeZonedImpl,locale:_e,weekNumberCalculation:t,firstDay:i,weekText:s,cmdFormatter:p.cmdFormatter,defaultSeparator:J})}function My(n,o){return new(o.themeClasses[n.themeSystem]||hc)(n)}function Vd(n){return new(n.dateProfileGeneratorClass||k0)(n)}function Oy(n,o,t){return new SC(n,o,t)}function tf(n){return hi(n,o=>o.ui)}function nf(n,o,t){let i={"":o};for(let s in n){let p=n[s];p.sourceId&&t[p.sourceId]&&(i[s]=t[p.sourceId])}return i}function lr(n){let{options:o}=n;return{eventUiSingleBase:Da({display:o.eventDisplay,editable:o.editable,startEditable:o.eventStartEditable,durationEditable:o.eventDurationEditable,constraint:o.eventConstraint,overlap:"boolean"==typeof o.eventOverlap?o.eventOverlap:void 0,allow:o.eventAllow,backgroundColor:o.eventBackgroundColor,borderColor:o.eventBorderColor,textColor:o.eventTextColor,color:o.eventColor},n),selectionConfig:Da({constraint:o.selectConstraint,overlap:"boolean"==typeof o.selectOverlap?o.selectOverlap:void 0,allow:o.selectAllow},n)}}function NC(n,o){for(let t of o.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function FC(n){return function $f(n,o){return Zp(function Xf(n){let o;return o=!0===n?[{}]:Array.isArray(n)?n.filter(t=>t.daysOfWeek):"object"==typeof n&&n?[n]:[],o=o.map(t=>Object.assign(Object.assign({},wg),t)),o}(n),null,o)}(n.options.businessHours,n)}function Vm(n,o){for(let t in n)console.warn(`Unknown option '${t}'`+(o?` for view '${o}'`:""))}class Py extends is{render(){return ln("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(t=>this.renderWidgetGroup(t)))}renderWidgetGroup(o){let{props:t}=this,{theme:i}=this.context,s=[],p=!0;for(let w of o){let{buttonName:J,buttonClick:_e,buttonText:$e,buttonIcon:Xe,buttonHint:Xt}=w;if("title"===J)p=!1,s.push(ln("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let jt=J===t.activeButton,Wt=!t.isTodayEnabled&&"today"===J||!t.isPrevEnabled&&"prev"===J||!t.isNextEnabled&&"next"===J,fn=[`fc-${J}-button`,i.getClass("button")];jt&&fn.push(i.getClass("buttonActive")),s.push(ln("button",{type:"button",title:"function"==typeof Xt?Xt(t.navUnit):Xt,disabled:Wt,"aria-pressed":jt,className:fn.join(" "),onClick:_e},$e||(Xe?ln("span",{className:Xe}):"")))}}return s.length>1?ln("div",{className:p&&i.getClass("buttonGroup")||""},...s):s[0]}}class zm extends is{render(){let s,p,{model:o,extraClassName:t}=this.props,i=!1,w=o.sectionWidgets,J=w.center;return w.left?(i=!0,s=w.left):s=w.start,w.right?(i=!0,p=w.right):p=w.end,ln("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",J||[]),this.renderSection("end",p||[]))}renderSection(o,t){let{props:i}=this;return ln(Py,{key:o,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class BC extends is{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=o=>{this.el=o,dc(this.props.elRef,o),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:o,state:t}=this,{aspectRatio:i}=o,p="",w="";return i?null!==t.availableWidth?p=t.availableWidth/i:w=1/i*100+"%":p=o.height||"",ln("div",{"aria-labelledby":o.labeledById,ref:this.handleEl,className:["fc-view-harness",i||o.liquid||o.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:p,paddingBottom:w}},o.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class ZC extends Ld{constructor(o){super(o),this.handleSegClick=(t,i)=>{let{component:s}=this,{context:p}=s,w=Od(i);if(w&&s.isValidSegDownEl(t.target)){let J=xo(t.target,".fc-event-forced-url"),_e=J?J.querySelector("a[href]").href:"";p.emitter.trigger("eventClick",{el:i,event:new Qo(s.context,w.eventRange.def,w.eventRange.instance),jsEvent:t,view:p.viewApi}),_e&&!t.defaultPrevented&&(window.location.href=_e)}},this.destroy=Oc(o.el,"click",".fc-event",this.handleSegClick)}}class UC extends Ld{constructor(o){super(o),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{Od(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=function rc(n,o,t,i){let s;return Oc(n,"mouseover",o,(p,w)=>{if(w!==s){s=w,t(p,w);let J=_e=>{s=null,i(_e,w),w.removeEventListener("mouseleave",J)};w.addEventListener("mouseleave",J)}})}(o.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(o,t,i){let{component:s}=this,{context:p}=s,w=Od(i);(!t||s.isValidSegDownEl(t.target))&&p.emitter.trigger(o,{el:i,event:new Qo(p,w.eventRange.def,w.eventRange.instance),jsEvent:t,view:p.viewApi})}}class Ly extends ga{constructor(){super(...arguments),this.buildViewContext=Hi(Pb),this.buildViewPropTransformers=Hi(Ny),this.buildToolbarProps=Hi(Ry),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:kl()},this.registerInteractiveComponent=(o,t)=>{let i=function Gb(n,o){return{component:n,el:o.el,useEventCenter:null==o.useEventCenter||o.useEventCenter,isHitComboAllowed:o.isHitComboAllowed||null}}(o,t),w=[ZC,UC].concat(this.props.pluginHooks.componentInteractions).map(J=>new J(i));this.interactionsStore[o.uid]=w,Cm[o.uid]=i},this.unregisterInteractiveComponent=o=>{let t=this.interactionsStore[o.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[o.uid]}delete Cm[o.uid]},this.resizeRunner=new ih(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=o=>{let{options:t}=this.props;t.handleWindowResize&&o.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let J,{props:o}=this,{toolbarConfig:t,options:i}=o,s=this.buildToolbarProps(o.viewSpec,o.dateProfile,o.dateProfileGenerator,o.currentDate,Jp(o.options.now,o.dateEnv),o.viewTitle),p=!1,w="";o.isHeightAuto||o.forPrint?w="":null!=i.height?p=!0:null!=i.contentHeight?w=i.contentHeight:J=Math.max(i.aspectRatio,.5);let _e=this.buildViewContext(o.viewSpec,o.viewApi,o.options,o.dateProfileGenerator,o.dateEnv,o.theme,o.pluginHooks,o.dispatch,o.getCurrentData,o.emitter,o.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),$e=t.header&&t.header.hasTitle?this.state.viewLabelId:"";return ln(Ol.Provider,{value:_e},t.header&&ln(zm,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:$e},s)),ln(BC,{liquid:p,height:w,aspectRatio:J,labeledById:$e},this.renderView(o),this.buildAppendContent()),t.footer&&ln(zm,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},s)))}componentDidMount(){let{props:o}=this;this.calendarInteractions=o.pluginHooks.calendarInteractions.map(i=>new i(o)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=o.pluginHooks;for(let i in t)t[i](o[i],o)}componentDidUpdate(o){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let s in i)t[s]!==o[s]&&i[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let o of this.calendarInteractions)o.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:o}=this;return ln(ko,{},...o.pluginHooks.viewContainerAppends.map(i=>i(o)))}renderView(o){let{pluginHooks:t}=o,{viewSpec:i}=o,s={dateProfile:o.dateProfile,businessHours:o.businessHours,eventStore:o.renderableEventStore,eventUiBases:o.eventUiBases,dateSelection:o.dateSelection,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,isHeightAuto:o.isHeightAuto,forPrint:o.forPrint},p=this.buildViewPropTransformers(t.viewPropsTransformers);for(let J of p)Object.assign(s,J.transform(s,o));return ln(i.component,Object.assign({},s))}}function Ry(n,o,t,i,s,p){let w=t.build(s,void 0,!1),J=t.buildPrev(o,i,!1),_e=t.buildNext(o,i,!1);return{title:p,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:w.isValid&&!Zc(o.currentRange,s),isPrevEnabled:J.isValid,isNextEnabled:_e.isValid}}function Ny(n){return n.map(o=>new o)}class ch extends class sy{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(o){this.currentDataManager.dispatch(o)}get view(){return this.getCurrentData().viewApi}batchRendering(o){o()}updateSize(){this.trigger("_resize",!0)}setOption(o,t){this.dispatch({type:"SET_OPTION",optionName:o,rawOptionValue:t})}getOption(o){return this.currentDataManager.currentCalendarOptionsInput[o]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(o,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[o]?i.emitter.on(o,t):console.warn(`Unknown listener name '${o}'`)}off(o,t){this.currentDataManager.emitter.off(o,t)}trigger(o,...t){this.currentDataManager.emitter.trigger(o,...t)}changeView(o,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o})})}zoomTo(o,t){let s;s=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(s?{type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:o}:{type:"CHANGE_DATE",dateMarker:o})}getUnitViewSpec(o){let p,w,{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let J in t)s.push(J);for(p=0;p<s.length;p+=1)if(w=t[s[p]],w&&w.singleUnit===o)return w;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,-1)})}nextYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,1)})}today(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Jp(o.calendarOptions.now,o.dateEnv)})}gotoDate(o){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(o)})}incrementDate(o){let t=this.getCurrentData(),i=M(o);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let o=this.getCurrentData();return o.dateEnv.toDate(o.currentDate)}formatDate(o,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(o),Fs(t))}formatRange(o,t,i){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(o),s.createMarker(t),Fs(i),i)}formatIso(o,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(o),{omitTime:t})}select(o,t){let i;i=null==t?null!=o.start?o:{start:o,end:null}:{start:o,end:t};let s=this.getCurrentData(),p=function R0(n,o,t){let i=function N0(n,o){let{refined:t,extra:i}=Cg(n,L0),s=t.start?o.createMarkerMeta(t.start):null,p=t.end?o.createMarkerMeta(t.end):null,{allDay:w}=t;return null==w&&(w=s&&s.isTimeUnspecified&&(!p||p.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:p?p.marker:null},allDay:w},i)}(n,o),{range:s}=i;if(!s.start)return null;if(!s.end){if(null==t)return null;s.end=o.add(s.start,t)}return i}(i,s.dateEnv,M({days:1}));p&&(this.dispatch({type:"SELECT_DATES",selection:p}),lm(p,null,s))}unselect(o){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function Nb(n,o){o.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:o.viewApi||o.calendarApi.view})}(o,t))}addEvent(o,t){if(o instanceof Qo){let w=o._def,J=o._instance;return this.getCurrentData().eventStore.defs[w.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:vg({def:w,instance:J})}),this.triggerEventAdd(o)),o}let s,i=this.getCurrentData();if(t instanceof Md)s=t.internalEventSource;else if("boolean"==typeof t)t&&([s]=ro(i.eventSources));else if(null!=t){let w=this.getEventSourceById(t);if(!w)return console.warn(`Could not find an event source with ID "${t}"`),null;s=w.internalEventSource}let p=qf(o,s,i,!1);if(p){let w=new Qo(i,p.def,p.def.recurringDef?null:p.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:vg(p)}),this.triggerEventAdd(w),w}return null}triggerEventAdd(o){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:o,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Lg(o)})}})}getEventById(o){let t=this.getCurrentData(),{defs:i,instances:s}=t.eventStore;o=String(o);for(let p in i){let w=i[p];if(w.publicId===o){if(w.recurringDef)return new Qo(t,w,null);for(let J in s){let _e=s[J];if(_e.defId===w.defId)return new Qo(t,w,_e)}}}return null}getEvents(){let o=this.getCurrentData();return Eu(o.eventStore,o)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let o=this.getCurrentData(),t=o.eventSources,i=[];for(let s in t)i.push(new Md(o,t[s]));return i}getEventSourceById(o){let t=this.getCurrentData(),i=t.eventSources;o=String(o);for(let s in i)if(i[s].publicId===o)return new Md(t,i[s]);return null}addEventSource(o){let t=this.getCurrentData();if(o instanceof Md)return t.eventSources[o.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[o.internalEventSource]}),o;let i=qg(o,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Md(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(o){let t=M(o);t&&this.trigger("_scrollRequest",{time:t})}}{constructor(o,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;T0(()=>{ra(ln(FI,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(s,p,w,J)=>(this.setClassNames(s),this.setHeight(p),ln(ca.Provider,{value:this.customContentRenderId},ln(Ly,Object.assign({isHeightAuto:w,forPrint:J},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ra(null,this.el),this.setClassNames([]),this.setHeight(""))},function sc(n){Dp(n.getRootNode())}(o),this.el=o,this.renderRunner=new ih(this.handleRenderRequest),new ky({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let o=this.isRendering;o?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),o&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){T0(()=>{super.updateSize()})}batchRendering(o){this.renderRunner.pause("batchRendering"),o(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(o,t){this.currentDataManager.resetOptions(o,t)}setClassNames(o){if(!ns(o,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of o)t.add(i);this.currentClassNames=o}}setHeight(o){ug(this.el,"height",o)}}function uh(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function sf(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function zd(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}hl(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const Jd=Fs({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function zC(n){let{display:o}=n.eventRange.ui;return"list-item"===o||"auto"===o&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class JC extends is{render(){let{props:o}=this;return ln(km,Object.assign({},o,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Jd,defaultDisplayEventEnd:o.defaultDisplayEventEnd,disableResizing:!o.seg.eventRange.def.allDay}))}}class QC extends is{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s}=o,w=Qc(s,i.eventTimeFormat||Jd,t,!0,o.defaultDisplayEventEnd);return ln(rh,Object.assign({},o,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Fg(o.seg,t),defaultGenerator:GC,timeText:w,isResizing:!1,isDateSelecting:!1}))}}function GC(n){return ln(ko,null,ln("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&ln("div",{className:"fc-event-time"},n.timeText),ln("div",{className:"fc-event-title"},n.event.title||ln(ko,null,"\xa0")))}class WC extends is{constructor(){super(...arguments),this.compileSegs=Hi(YC)}render(){let{props:o}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(o.singlePlacements);return ln(lC,{elClasses:["fc-daygrid-more-link"],dateProfile:o.dateProfile,todayRange:o.todayRange,allDayDate:o.allDayDate,moreCnt:o.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:o.alignmentElRef,alignGridTop:o.alignGridTop,extraDateSpan:o.extraDateSpan,popoverContent:()=>{let s=(o.eventDrag?o.eventDrag.affectedInstances:null)||(o.eventResize?o.eventResize.affectedInstances:null)||{};return ln(ko,null,t.map(p=>{let w=p.eventRange.instance.instanceId;return ln("div",{className:"fc-daygrid-event-harness",key:w,style:{visibility:s[w]?"hidden":""}},zC(p)?ln(QC,Object.assign({seg:p,isDragging:!1,isSelected:w===o.eventSelection,defaultDisplayEventEnd:!1},Gc(p,o.todayRange))):ln(JC,Object.assign({seg:p,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:w===o.eventSelection,defaultDisplayEventEnd:!1},Gc(p,o.todayRange))))}))}})}}function YC(n){let o=[],t=[];for(let i of n)o.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:o,invisibleSegs:t}}const By=Fs({week:"narrow"});class jC extends Za{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:kl()},this.handleRootEl=o=>{dc(this.rootElRef,o),dc(this.props.elRef,o)}}render(){let{context:o,props:t,state:i,rootElRef:s}=this,{options:p,dateEnv:w}=o,{date:J,dateProfile:_e}=t;const $e=t.showDayNumber&&function Uy(n,o,t){const{start:i,end:s}=o,p=ka(s,-1),w=t.getYear(i),J=t.getMonth(i),_e=t.getYear(p),$e=t.getMonth(p);return!(w===_e&&J===$e)&&Boolean(n.valueOf()===i.valueOf()||1===t.getDay(n)&&n.valueOf()<s.valueOf())}(J,_e.currentRange,w);return ln(Kg,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Zy,date:J,dateProfile:_e,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:$e,extraRenderProps:t.extraRenderProps},(Xe,Xt)=>ln("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&ln(Lr,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Hc(o,J,"week"),date:J,defaultFormat:By}),!Xt.isDisabled&&(t.showDayNumber||nC(p)||t.forceDayTop)?ln("div",{className:"fc-daygrid-day-top"},ln(Xe,{elTag:"a",elClasses:["fc-daygrid-day-number",$e&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Hc(o,J)),{id:i.dayNumberId})})):t.showDayNumber?ln("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ln("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,ln("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,ln("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},ln(WC,{allDayDate:J,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),ln("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Zy(n){return n.dayNumberText||ln(ko,null,"\xa0")}function dh(n,o,t,i){if(n.firstCol===o&&n.lastCol===t-1)return n;let s=n.eventRange,p=s.range,w=Tu(p,{start:i[o].date,end:Ns(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:o,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:w},isStart:n.isStart&&w.start.valueOf()===p.start.valueOf(),isEnd:n.isEnd&&w.end.valueOf()===p.end.valueOf()})}class KC extends Jb{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(o){const t=super.addSegs(o),{entriesByLevel:i}=this,s=p=>!this.forceHidden[Su(p)];for(let p=0;p<i.length;p+=1)i[p]=i[p].filter(s);return t}handleInvalidInsertion(o,t,i){const{entriesByLevel:s,forceHidden:p}=this,{touchingEntry:w,touchingLevel:J,touchingLateral:_e}=o;if(this.hiddenConsumes&&w){const $e=Su(w);if(!p[$e])if(this.allowReslicing){const Xe=Object.assign(Object.assign({},w),{span:Yp(w.span,t.span)});p[Su(Xe)]=!0,s[J][_e]=Xe,this.splitEntry(w,t,i)}else p[$e]=!0,i.push(w)}return super.handleInvalidInsertion(o,t,i)}}class ph extends Za{constructor(){super(...arguments),this.cellElRefs=new Ll,this.frameElRefs=new Ll,this.fgElRefs=new Ll,this.segHarnessRefs=new Ll,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=o=>{o&&this.updateSizing(!0)}}render(){let{props:o,state:t,context:i}=this,{options:s}=i,p=o.cells.length,w=sf(o.businessHourSegs,p),J=sf(o.bgEventSegs,p),_e=sf(this.getHighlightSegs(),p),$e=sf(this.getMirrorSegs(),p),{singleColPlacements:Xe,multiColPlacements:Xt,moreCnts:jt,moreMarginTops:Wt}=function zI(n,o,t,i,s,p,w){let J=new KC;J.allowReslicing=!0,J.strictOrder=i,!0===o||!0===t?(J.maxCoord=p,J.hiddenConsumes=!0):"number"==typeof o?J.maxStackCnt=o:"number"==typeof t&&(J.maxStackCnt=t,J.hiddenConsumes=!0);let _e=[],$e=[];for(let jn=0;jn<n.length;jn+=1){let Ti=n[jn],{instanceId:io}=Ti.eventRange.instance,zi=s[io];null!=zi?_e.push({index:jn,thickness:zi,span:{start:Ti.firstCol,end:Ti.lastCol+1}}):$e.push(Ti)}let Xe=J.addSegs(_e),Xt=J.toRects(),{singleColPlacements:jt,multiColPlacements:Wt,leftoverMargins:fn}=function JI(n,o,t){let i=function QI(n,o){let t=[];for(let i=0;i<o;i+=1)t.push([]);for(let i of n)for(let s=i.span.start;s<i.span.end;s+=1)t[s].push(i);return t}(n,t.length),s=[],p=[],w=[];for(let J=0;J<t.length;J+=1){let _e=i[J],$e=[],Xe=0,Xt=0;for(let Wt of _e)$e.push({seg:dh(o[Wt.index],J,J+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:Wt.levelCoord,marginTop:Wt.levelCoord-Xe}),Xe=Wt.levelCoord+Wt.thickness;let jt=[];Xe=0,Xt=0;for(let Wt of _e){let fn=o[Wt.index],Fn=Wt.span.start===J;Xt+=Wt.levelCoord-Xe,Xe=Wt.levelCoord+Wt.thickness,Wt.span.end-Wt.span.start>1?(Xt+=Wt.thickness,Fn&&jt.push({seg:dh(fn,Wt.span.start,Wt.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:Wt.levelCoord,marginTop:0})):Fn&&(jt.push({seg:dh(fn,Wt.span.start,Wt.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:Wt.levelCoord,marginTop:Xt}),Xt=0)}s.push($e),p.push(jt),w.push(Xt)}return{singleColPlacements:s,multiColPlacements:p,leftoverMargins:w}}(Xt,n,w),Rn=[],Fn=[];for(let jn of $e){Wt[jn.firstCol].push({seg:jn,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Ti=jn.firstCol;Ti<=jn.lastCol;Ti+=1)jt[Ti].push({seg:dh(jn,Ti,Ti+1,w),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let jn=0;jn<w.length;jn+=1)Rn.push(0);for(let jn of Xe){let Ti=n[jn.index],io=jn.span;Wt[io.start].push({seg:dh(Ti,io.start,io.end,w),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let zi=io.start;zi<io.end;zi+=1)Rn[zi]+=1,jt[zi].push({seg:dh(Ti,zi,zi+1,w),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let jn=0;jn<w.length;jn+=1)Fn.push(fn[jn]);return{singleColPlacements:jt,multiColPlacements:Wt,moreCnts:Rn,moreMarginTops:Fn}}(Qp(o.fgEventSegs,s.eventOrder),o.dayMaxEvents,o.dayMaxEventRows,s.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,o.cells),fn=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{};return ln("tr",{ref:this.rootElRef,role:"row"},o.renderIntro&&o.renderIntro(),o.cells.map((Rn,Fn)=>{let jn=this.renderFgSegs(Fn,o.forPrint?Xe[Fn]:Xt[Fn],o.todayRange,fn),Ti=this.renderFgSegs(Fn,function Hy(n,o){if(!n.length)return[];let t=function Vy(n){let o={};for(let t of n)for(let i of t)o[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return o}(o);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}($e[Fn],Xt),o.todayRange,{},Boolean(o.eventDrag),Boolean(o.eventResize),!1);return ln(jC,{key:Rn.key,elRef:this.cellElRefs.createRef(Rn.key),innerElRef:this.frameElRefs.createRef(Rn.key),dateProfile:o.dateProfile,date:Rn.date,showDayNumber:o.showDayNumbers,showWeekNumber:o.showWeekNumbers&&0===Fn,forceDayTop:o.showWeekNumbers,todayRange:o.todayRange,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,extraRenderProps:Rn.extraRenderProps,extraDataAttrs:Rn.extraDataAttrs,extraClassNames:Rn.extraClassNames,extraDateSpan:Rn.extraDateSpan,moreCnt:jt[Fn],moreMarginTop:Wt[Fn],singlePlacements:Xe[Fn],fgContentElRef:this.fgElRefs.createRef(Rn.key),fgContent:ln(ko,null,ln(ko,null,jn),ln(ko,null,Ti)),bgContent:ln(ko,null,this.renderFillSegs(_e[Fn],"highlight"),this.renderFillSegs(w[Fn],"non-business"),this.renderFillSegs(J[Fn],"bg-event")),minHeight:o.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(o,t){this.updateSizing(!Wi(o,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:o}=this;return o.eventDrag&&o.eventDrag.segs.length?o.eventDrag.segs:o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:o.dateSelectionSegs}getMirrorSegs(){let{props:o}=this;return o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:[]}renderFgSegs(o,t,i,s,p,w,J){let{context:_e}=this,{eventSelection:$e}=this.props,{framePositions:Xe}=this.state,Xt=1===this.props.cells.length,jt=p||w||J,Wt=[];if(Xe)for(let fn of t){let{seg:Rn}=fn,{instanceId:Fn}=Rn.eventRange.instance,jn=Fn+":"+o,Ti=fn.isVisible&&!s[Fn],io=fn.isAbsolute,zi="",wo="";io&&(_e.isRtl?(wo=0,zi=Xe.lefts[Rn.lastCol]-Xe.lefts[Rn.firstCol]):(zi=0,wo=Xe.rights[Rn.firstCol]-Xe.rights[Rn.lastCol])),Wt.push(ln("div",{className:"fc-daygrid-event-harness"+(io?" fc-daygrid-event-harness-abs":""),key:jn,ref:jt?null:this.segHarnessRefs.createRef(jn),style:{visibility:Ti?"":"hidden",marginTop:io?"":fn.marginTop,top:io?fn.absoluteTop:"",left:zi,right:wo}},zC(Rn)?ln(QC,Object.assign({seg:Rn,isDragging:p,isSelected:Fn===$e,defaultDisplayEventEnd:Xt},Gc(Rn,i))):ln(JC,Object.assign({seg:Rn,isDragging:p,isResizing:w,isDateSelecting:J,isSelected:Fn===$e,defaultDisplayEventEnd:Xt},Gc(Rn,i)))))}return Wt}renderFillSegs(o,t){let{isRtl:i}=this.context,{todayRange:s}=this.props,{framePositions:p}=this.state,w=[];if(p)for(let J of o){let _e=i?{right:0,left:p.lefts[J.lastCol]-p.lefts[J.firstCol]}:{left:0,right:p.rights[J.firstCol]-p.rights[J.lastCol]};w.push(ln("div",{key:Zb(J.eventRange),className:"fc-daygrid-bg-harness",style:_e},"bg-event"===t?ln(iC,Object.assign({seg:J},Gc(J,s))):sC(t)))}return ln(ko,{},...w)}updateSizing(o){let{props:t,state:i,frameElRefs:s}=this;if(!t.forPrint&&null!==t.clientWidth){if(o){let _e=t.cells.map($e=>s.currentMap[$e.key]);if(_e.length){let $e=this.rootElRef.current,Xe=new Jc($e,_e,!0,!1);(!i.framePositions||!i.framePositions.similarTo(Xe))&&this.setState({framePositions:new Jc($e,_e,!0,!1)})}}const p=this.state.eventInstanceHeights,w=this.queryEventInstanceHeights(),J=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},p),w),maxContentHeight:J?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let o=this.segHarnessRefs.currentMap,t={};for(let i in o){let s=Math.round(o[i].getBoundingClientRect().height),p=i.split(":")[0];t[p]=Math.max(t[p]||0,s)}return t}computeMaxContentHeight(){let o=this.props.cells[0].key,i=this.fgElRefs.currentMap[o];return this.cellElRefs.currentMap[o].getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let o=this.cellElRefs.currentMap;return this.props.cells.map(t=>o[t.key])}}ph.addStateEquality({eventInstanceHeights:Wi});class qC extends Za{constructor(){super(...arguments),this.splitBusinessHourSegs=Hi(uh),this.splitBgEventSegs=Hi(uh),this.splitFgEventSegs=Hi(uh),this.splitDateSelectionSegs=Hi(uh),this.splitEventDrag=Hi(zd),this.splitEventResize=Hi(zd),this.rowRefs=new Ll}render(){let{props:o,context:t}=this,i=o.cells.length,s=this.splitBusinessHourSegs(o.businessHourSegs,i),p=this.splitBgEventSegs(o.bgEventSegs,i),w=this.splitFgEventSegs(o.fgEventSegs,i),J=this.splitDateSelectionSegs(o.dateSelectionSegs,i),_e=this.splitEventDrag(o.eventDrag,i),$e=this.splitEventResize(o.eventResize,i),Xe=i>=7&&o.clientWidth?o.clientWidth/t.options.aspectRatio/6:null;return ln(Pl,{unit:"day"},(Xt,jt)=>ln(ko,null,o.cells.map((Wt,fn)=>ln(ph,{ref:this.rowRefs.createRef(fn),key:Wt.length?Wt[0].date.toISOString():fn,showDayNumbers:i>1,showWeekNumbers:o.showWeekNumbers,todayRange:jt,dateProfile:o.dateProfile,cells:Wt,renderIntro:o.renderRowIntro,businessHourSegs:s[fn],eventSelection:o.eventSelection,bgEventSegs:p[fn].filter(hh),fgEventSegs:w[fn],dateSelectionSegs:J[fn],eventDrag:_e[fn],eventResize:$e[fn],dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,clientWidth:o.clientWidth,clientHeight:o.clientHeight,cellMinHeight:Xe,forPrint:o.forPrint}))))}componentDidMount(){const o=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=o?o.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Jc(this.rootEl,this.rowRefs.collect().map(o=>o.getCellEls()[0]),!1,!0),this.colPositions=new Jc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(o,t){let{colPositions:i,rowPositions:s}=this,p=i.leftToIndex(o),w=s.topToIndex(t);if(null!=w&&null!=p){let J=this.props.cells[w][p];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(w,p),allDay:!0},J.extraDateSpan),dayEl:this.getCellEl(w,p),rect:{left:i.lefts[p],right:i.rights[p],top:s.tops[w],bottom:s.bottoms[w]},layer:0}}return null}getCellEl(o,t){return this.rowRefs.currentMap[o].getCellEls()[t]}getCellRange(o,t){let i=this.props.cells[o][t].date;return{start:i,end:Ns(i,1)}}}function hh(n){return n.eventRange.def.allDay}class zy extends Za{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:o}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:s}=o,p=!0===i||!0===t;return p&&!s&&(p=!1,t=null,i=null),ln("div",{ref:this.elRef,className:["fc-daygrid-body",p?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"].join(" "),style:{width:o.clientWidth,minWidth:o.tableMinWidth}},ln("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:o.clientWidth,minWidth:o.tableMinWidth,height:s?o.clientHeight:""}},o.colGroupNode,ln("tbody",{role:"presentation"},ln(qC,{dateProfile:o.dateProfile,cells:o.cells,renderRowIntro:o.renderRowIntro,showWeekNumbers:o.showWeekNumbers,clientWidth:o.clientWidth,clientHeight:o.clientHeight,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:o.forPrint,isHitComboAllowed:o.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(o){o.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const o=function Jy(n,o){let t;return o.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${function hb(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}(o.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Np(o.currentDate)}"]`)),t}(this.elRef.current,this.props.dateProfile);if(o){const t=o.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),s=o.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}class Qy extends Pu{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(o,t){return t.sliceRange(o)}}class $C extends Za{constructor(){super(...arguments),this.slicer=new Qy,this.tableRef={current:null}}render(){let{props:o,context:t}=this;return ln(zy,Object.assign({ref:this.tableRef},this.slicer.sliceProps(o,o.dateProfile,o.nextDayThreshold,t,o.dayTableModel),{dateProfile:o.dateProfile,cells:o.dayTableModel.cells,colGroupNode:o.colGroupNode,tableMinWidth:o.tableMinWidth,renderRowIntro:o.renderRowIntro,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.showWeekNumbers,expandRows:o.expandRows,headerAlignElRef:o.headerAlignElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:o.forPrint}))}}class Wy extends Za{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(o,t){let{props:i,context:s}=this,p=[],w=sh(s.options);return o&&p.push({type:"header",key:"header",isSticky:w,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),p.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),ln(ah,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},ln(Yg,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:p}))}renderHScrollLayout(o,t,i,s){let p=this.context.pluginHooks.scrollGridImpl;if(!p)throw new Error("No ScrollGrid implementation");let{props:w,context:J}=this,_e=!w.forPrint&&sh(J.options),$e=!w.forPrint&&Wg(J.options),Xe=[];return o&&Xe.push({type:"header",key:"header",isSticky:_e,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),Xe.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),$e&&Xe.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Gg}]}),ln(ah,{elClasses:["fc-daygrid"],viewSpec:J.viewSpec},ln(p,{liquid:!w.isHeightAuto&&!w.forPrint,forPrint:w.forPrint,collapsibleWidth:w.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:Xe}))}}function gh(n,o){let t=new Mu(n.renderRange,o);return new Ou(t,/year|month|week/.test(n.currentRangeUnit))}var jy=tl({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class Yy extends Wy{constructor(){super(...arguments),this.buildDayTableModel=Hi(gh),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:o,dateProfileGenerator:t}=this.context,{props:i}=this,s=this.buildDayTableModel(i.dateProfile,t),p=o.dayHeaders&&ln(Du,{ref:this.headerRef,dateProfile:i.dateProfile,dates:s.headerDates,datesRepDistinctDays:1===s.rowCnt}),w=J=>ln($C,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:s,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:o.nextDayThreshold,colGroupNode:J.tableColGroupNode,tableMinWidth:J.tableMinWidth,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:J.clientWidth,clientHeight:J.clientHeight,forPrint:i.forPrint});return o.dayMinWidth?this.renderHScrollLayout(p,w,s.colCnt,o.dayMinWidth):this.renderSimpleLayout(p,w)}},dateProfileGeneratorClass:class Gy extends k0{buildRenderRange(o,t,i){let s=super.buildRenderRange(o,t,i),{props:p}=this;return function XC(n){let p,{dateEnv:o,currentRange:t}=n,{start:i,end:s}=t;if(n.snapToWeek&&(i=o.startOfWeek(i),p=o.startOfWeek(s),p.valueOf()!==s.valueOf()&&(s=_u(p,1))),n.fixedWeekCount){let w=o.startOfWeek(o.startOfMonth(Ns(t.end,-1))),J=Math.ceil(function Nc(n,o){return xa(n,o)/7}(w,s));s=_u(s,6-J)}return{start:i,end:s}}({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:p.fixedWeekCount,dateEnv:p.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class ev extends class SI{constructor(){this.getKeysForEventDefs=Hi(this._getKeysForEventDefs),this.splitDateSelection=Hi(this._splitDateSpan),this.splitEventStore=Hi(this._splitEventStore),this.splitIndividualUi=Hi(this._splitIndividualUi),this.splitEventDrag=Hi(this._splitInteraction),this.splitEventResize=Hi(this._splitInteraction),this.eventUiBuilders={}}splitProps(o){let t=this.getKeyInfo(o),i=this.getKeysForEventDefs(o.eventStore),s=this.splitDateSelection(o.dateSelection),p=this.splitIndividualUi(o.eventUiBases,i),w=this.splitEventStore(o.eventStore,i),J=this.splitEventDrag(o.eventDrag),_e=this.splitEventResize(o.eventResize),$e={};this.eventUiBuilders=hi(t,(Xe,Xt)=>this.eventUiBuilders[Xt]||Hi(kI));for(let Xe in t){let Xt=t[Xe],jt=w[Xe]||Vp;$e[Xe]={businessHours:Xt.businessHours||o.businessHours,dateSelection:s[Xe]||null,eventStore:jt,eventUiBases:(0,this.eventUiBuilders[Xe])(o.eventUiBases[""],Xt.ui,p[Xe]),eventSelection:jt.instances[o.eventSelection]?o.eventSelection:"",eventDrag:J[Xe]||null,eventResize:_e[Xe]||null}}return $e}_splitDateSpan(o){let t={};if(o){let i=this.getKeysForDateSpan(o);for(let s of i)t[s]=o}return t}_getKeysForEventDefs(o){return hi(o.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(o,t){let{defs:i,instances:s}=o,p={};for(let w in i)for(let J of t[w])p[J]||(p[J]={defs:{},instances:{}}),p[J].defs[w]=i[w];for(let w in s){let J=s[w];for(let _e of t[J.defId])p[_e]&&(p[_e].instances[w]=J)}return p}_splitIndividualUi(o,t){let i={};for(let s in o)if(s)for(let p of t[s])i[p]||(i[p]={}),i[p][s]=o[s];return i}_splitInteraction(o){let t={};if(o){let i=this._splitEventStore(o.affectedEvents,this._getKeysForEventDefs(o.affectedEvents)),s=this._getKeysForEventDefs(o.mutatedEvents),p=this._splitEventStore(o.mutatedEvents,s),w=J=>{t[J]||(t[J]={affectedEvents:i[J]||Vp,mutatedEvents:p[J]||Vp,isEvent:o.isEvent})};for(let J in i)w(J);for(let J in p)w(J)}return t}}{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(o){return o.allDay?["allDay"]:["timed"]}getKeysForEventDef(o){return o.allDay?function LI(n){return"background"===n.ui.display||"inverse-background"===n.ui.display}(o)?["timed","allDay"]:["allDay"]:["timed"]}}const Ky=Fs({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Qm(n){let o=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return ln(Ol.Consumer,null,t=>{if(!n.isLabeled)return ln("td",{className:o.join(" "),"data-time":n.isoTimeStr});let{dateEnv:i,options:s,viewApi:p}=t,w=null==s.slotLabelFormat?Ky:Array.isArray(s.slotLabelFormat)?Fs(s.slotLabelFormat[0]):Fs(s.slotLabelFormat),J={level:0,time:n.time,date:i.toDate(n.date),view:p,text:i.format(n.date,w)};return ln(Cr,{elTag:"td",elClasses:o,elAttrs:{"data-time":n.isoTimeStr},renderProps:J,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:qy,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},_e=>ln("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},ln(_e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function qy(n){return n.text}class tv extends is{render(){return this.props.slatMetas.map(o=>ln("tr",{key:o.key},ln(Qm,Object.assign({},o))))}}const $y=Fs({week:"short"});class Xy extends Za{constructor(){super(...arguments),this.allDaySplitter=new ev,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=o=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=o)},this.renderHeadAxis=(o,t="")=>{let{options:i}=this.context,{dateProfile:s}=this.props,p=s.renderRange,J=1===xa(p.start,p.end)?Hc(this.context,p.start,"week"):{};return i.weekNumbers&&"day"===o?ln(Lr,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:p.start,defaultFormat:$y},_e=>ln("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},ln(_e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:J}))):ln("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},ln("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=o=>{let{options:t,viewApi:i}=this.context;return ln(Cr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:i},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:nv,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},p=>ln("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==o?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:o}},ln(p,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=o=>{this.setState({slatCoords:o})}}renderSimpleLayout(o,t,i){let{context:s,props:p}=this,w=[],J=sh(s.options);return o&&w.push({type:"header",key:"header",isSticky:J,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),t&&(w.push({type:"body",key:"all-day",chunk:{content:t}}),w.push({type:"body",key:"all-day-divider",outerContent:ln("tr",{role:"presentation",className:"fc-scrollgrid-section"},ln("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),w.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(s.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),ln(ah,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},ln(Yg,{liquid:!p.isHeightAuto&&!p.forPrint,collapsibleWidth:p.forPrint,cols:[{width:"shrink"}],sections:w}))}renderHScrollLayout(o,t,i,s,p,w,J){let _e=this.context.pluginHooks.scrollGridImpl;if(!_e)throw new Error("No ScrollGrid implementation");let{context:$e,props:Xe}=this,Xt=!Xe.forPrint&&sh($e.options),jt=!Xe.forPrint&&Wg($e.options),Wt=[];o&&Wt.push({type:"header",key:"header",isSticky:Xt,syncRowHeights:!0,chunks:[{key:"axis",rowContent:Rn=>ln("tr",{role:"presentation"},this.renderHeadAxis("day",Rn.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),t&&(Wt.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:Rn=>ln("tr",{role:"presentation"},this.renderTableRowAxis(Rn.rowSyncHeights[0]))},{key:"cols",content:t}]}),Wt.push({key:"all-day-divider",type:"body",outerContent:ln("tr",{role:"presentation",className:"fc-scrollgrid-section"},ln("td",{colSpan:2,className:"fc-timegrid-divider "+$e.theme.getClass("tableCellShaded")}))}));let fn=$e.options.nowIndicator;return Wt.push({type:"body",key:"body",liquid:!0,expandRows:Boolean($e.options.expandRows),chunks:[{key:"axis",content:Rn=>ln("div",{className:"fc-timegrid-axis-chunk"},ln("table",{"aria-hidden":!0,style:{height:Rn.expandRows?Rn.clientHeight:""}},Rn.tableColGroupNode,ln("tbody",null,ln(tv,{slatMetas:w}))),ln("div",{className:"fc-timegrid-now-indicator-container"},ln(Pl,{unit:fn?"minute":"day"},Fn=>{let jn=fn&&J&&J.safeComputeTop(Fn);return"number"==typeof jn?ln(jg,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:jn},isAxis:!0,date:Fn}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),jt&&Wt.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Gg},{key:"cols",content:Gg}]}),ln(ah,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:$e.viewSpec},ln(_e,{liquid:!Xe.isHeightAuto&&!Xe.forPrint,forPrint:Xe.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:p}]}],sections:Wt}))}getAllDayMaxEventProps(){let{dayMaxEvents:o,dayMaxEventRows:t}=this.context.options;return(!0===o||!0===t)&&(o=void 0,t=5),{dayMaxEvents:o,dayMaxEventRows:t}}}function nv(n){return n.text}class iv{constructor(o,t,i){this.positions=o,this.dateProfile=t,this.slotDuration=i}safeComputeTop(o){let{dateProfile:t}=this;if(Zc(t.currentRange,o)){let i=Es(o),s=o.valueOf()-i.valueOf();if(s>=Hn(t.slotMinTime)&&s<Hn(t.slotMaxTime))return this.computeTimeTop(M(s))}return null}computeDateTop(o,t){return t||(t=Es(o)),this.computeTimeTop(M(o.valueOf()-t.valueOf()))}computeTimeTop(o){let w,J,{positions:t,dateProfile:i}=this,s=t.els.length,p=(o.milliseconds-Hn(i.slotMinTime))/Hn(this.slotDuration);return p=Math.max(0,p),p=Math.min(s,p),w=Math.floor(p),w=Math.min(w,s-1),J=p-w,t.tops[w]+t.getHeight(w)*J}}class e4 extends is{render(){let{props:o,context:t}=this,{options:i}=t,{slatElRefs:s}=o;return ln("tbody",null,o.slatMetas.map((p,w)=>{let J={time:p.time,date:t.dateEnv.toDate(p.date),view:t.viewApi};return ln("tr",{key:p.key,ref:s.createRef(p.key)},o.axis&&ln(Qm,Object.assign({},p)),ln(Cr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!p.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":p.isoTimeStr},renderProps:J,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class t4 extends is{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new Ll}render(){let{props:o,context:t}=this;return ln("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},ln("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:o.tableMinWidth,width:o.clientWidth,height:o.minHeight}},o.tableColGroupNode,ln(e4,{slatElRefs:this.slatElRefs,axis:o.axis,slatMetas:o.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:o,props:t}=this;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new iv(new Jc(this.rootElRef.current,function n4(n,o){return o.map(t=>n[t.key])}(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,o.options.slotDuration))}}function Ru(n,o){let i,t=[];for(i=0;i<o;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function ov(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.col].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}class sv extends is{render(){let{props:o}=this;return ln(lC,{elClasses:["fc-timegrid-more-link"],elStyle:{top:o.top,bottom:o.bottom},allDayDate:null,moreCnt:o.hiddenSegs.length,allSegs:o.hiddenSegs,hiddenSegs:o.hiddenSegs,extraDateSpan:o.extraDateSpan,dateProfile:o.dateProfile,todayRange:o.todayRange,popoverContent:()=>dv(o.hiddenSegs,o),defaultGenerator:o4,forceTimed:!0},t=>ln(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function o4(n){return n.shortText}function rv(n,o){if(!n)return[[],0];let{level:t,lateralStart:i,lateralEnd:s}=n,p=i,w=[];for(;p<s;)w.push(o(t,p)),p+=1;return w.sort(a4),[w.map(l4),w[0][1]]}function a4(n,o){return o[1]-n[1]}function l4(n){return n[0]}function av(n){let o=[];const t=rf((s,p,w)=>Su(s),(s,p,w)=>{let J=Object.assign(Object.assign({},s),{levelCoord:p,stackDepth:w,stackForward:0});return o.push(J),J.stackForward=i(s.nextLevelNodes,p+s.thickness,w+1)+1});function i(s,p,w){let J=0;for(let _e of s)J=Math.max(t(_e,p,w),J);return J}return i(n,0,0),o}function rf(n,o){const t={};return(...i)=>{let s=n(...i);return s in t?t[s]:t[s]=o(...i)}}function lv(n,o,t=null,i=0){let s=[];if(t)for(let p=0;p<n.length;p+=1){let w=n[p],J=t.computeDateTop(w.start,o),_e=Math.max(J+(i||0),t.computeDateTop(w.end,o));s.push({start:Math.round(J),end:Math.round(_e)})}return s}const cv=Fs({hour:"numeric",minute:"2-digit",meridiem:!1});class uv extends is{render(){return ln(km,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:cv}))}}class p4 extends is{constructor(){super(...arguments),this.sortEventSegs=Hi(Qp)}render(){let{props:o,context:t}=this,{options:i}=t,s=i.selectMirror,p=o.eventDrag&&o.eventDrag.segs||o.eventResize&&o.eventResize.segs||s&&o.dateSelectionSegs||[],w=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{},J=this.sortEventSegs(o.fgEventSegs,i.eventOrder);return ln(Kg,{elTag:"td",elRef:o.elRef,elClasses:["fc-timegrid-col",...o.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},o.extraDataAttrs),date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraRenderProps:o.extraRenderProps},_e=>ln("div",{className:"fc-timegrid-col-frame"},ln("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(o.businessHourSegs,"non-business"),this.renderFillSegs(o.bgEventSegs,"bg-event"),this.renderFillSegs(o.dateSelectionSegs,"highlight")),ln("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(J,w,!1,!1,!1)),ln("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(p,{},Boolean(o.eventDrag),Boolean(o.eventResize),Boolean(s))),ln("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(o.nowIndicatorSegs)),nC(i)&&ln(_e,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(o,t,i,s,p){let{props:w}=this;return w.forPrint?dv(o,w):this.renderPositionedFgSegs(o,t,i,s,p)}renderPositionedFgSegs(o,t,i,s,p){let{eventMaxStack:w,eventShortHeight:J,eventOrderStrict:_e,eventMinHeight:$e}=this.context.options,{date:Xe,slatCoords:Xt,eventSelection:jt,todayRange:Wt,nowDate:fn}=this.props,Rn=i||s||p,Fn=lv(o,Xe,Xt,$e),{segPlacements:jn,hiddenGroups:Ti}=function d4(n,o,t,i){let s=[],p=[];for(let $e=0;$e<n.length;$e+=1){let Xe=o[$e];Xe?s.push({index:$e,thickness:1,span:Xe}):p.push(n[$e])}let{segRects:w,hiddenGroups:J}=function s4(n,o,t){let i=new Jb;null!=o&&(i.strictOrder=o),null!=t&&(i.maxStackCnt=t);let p=function Qb(n){let o=[];for(let t of n){let i=[],s={span:t.span,entries:[t]};for(let p of o)Yp(p.span,s.span)?s={entries:p.entries.concat(s.entries),span:B0(p.span,s.span)}:i.push(p);i.push(s),o=i}return o}(i.addSegs(n)),w=function r4(n){const{entriesByLevel:o}=n,t=rf((i,s)=>i+":"+s,(i,s)=>{let p=function c4(n,o,t){let{levelCoords:i,entriesByLevel:s}=n,p=s[o][t],w=i[o]+p.thickness,J=i.length,_e=o;for(;_e<J&&i[_e]<w;_e+=1);for(;_e<J;_e+=1){let Xe,$e=s[_e],Xt=jp($e,p.span.start,fm),jt=Xt[0]+Xt[1],Wt=jt;for(;(Xe=$e[Wt])&&Xe.span.start<p.span.end;)Wt+=1;if(jt<Wt)return{level:_e,lateralStart:jt,lateralEnd:Wt}}return null}(n,i,s),w=rv(p,t),J=o[i][s];return[Object.assign(Object.assign({},J),{nextLevelNodes:w[0]}),J.thickness+w[1]]});return rv(o.length?{level:0,lateralStart:0,lateralEnd:o[0].length}:null,t)[0]}(i);return w=function u4(n,o){const t=rf((i,s,p)=>Su(i),(i,s,p)=>{let Xe,{nextLevelNodes:w,thickness:J}=i,_e=J+p,$e=J/_e,Xt=[];if(w.length)for(let Wt of w)if(void 0===Xe){let fn=t(Wt,s,_e);Xe=fn[0],Xt.push(fn[1])}else{let fn=t(Wt,Xe,0);Xt.push(fn[1])}else Xe=o;let jt=(Xe-s)*$e;return[Xe-jt,Object.assign(Object.assign({},i),{thickness:jt,nextLevelNodes:Xt})]});return n.map(i=>t(i,0,0)[1])}(w,1),{segRects:av(w),hiddenGroups:p}}(s,t,i),_e=[];for(let $e of w)_e.push({seg:n[$e.index],rect:$e});for(let $e of p)_e.push({seg:$e,rect:null});return{segPlacements:_e,hiddenGroups:J}}(o,Fn,_e,w);return ln(ko,null,this.renderHiddenGroups(Ti,o),jn.map(io=>{let{seg:zi,rect:wo}=io,ms=zi.eventRange.instance.instanceId,Zs=Rn||Boolean(!t[ms]&&wo),Mo=fh(wo&&wo.span),Zl=!Rn&&wo?this.computeSegHStyle(wo):{left:0,right:0},W_=Boolean(wo)&&wo.stackForward>0,UB=Boolean(wo)&&wo.span.end-wo.span.start<J;return ln("div",{className:"fc-timegrid-event-harness"+(W_?" fc-timegrid-event-harness-inset":""),key:ms,style:Object.assign(Object.assign({visibility:Zs?"":"hidden"},Mo),Zl)},ln(uv,Object.assign({seg:zi,isDragging:i,isResizing:s,isDateSelecting:p,isSelected:ms===jt,isShort:UB},Gc(zi,Wt,fn))))}))}renderHiddenGroups(o,t){let{extraDateSpan:i,dateProfile:s,todayRange:p,nowDate:w,eventSelection:J,eventDrag:_e,eventResize:$e}=this.props;return ln(ko,null,o.map(Xe=>{let Xt=fh(Xe.span),jt=function Wm(n,o){return n.map(t=>o[t.index])}(Xe.entries,t);return ln(sv,{key:s0(Lu(jt)),hiddenSegs:jt,top:Xt.top,bottom:Xt.bottom,extraDateSpan:i,dateProfile:s,todayRange:p,nowDate:w,eventSelection:J,eventDrag:_e,eventResize:$e})}))}renderFillSegs(o,t){let{props:i,context:s}=this,w=lv(o,i.date,i.slatCoords,s.options.eventMinHeight).map((J,_e)=>{let $e=o[_e];return ln("div",{key:Zb($e.eventRange),className:"fc-timegrid-bg-harness",style:fh(J)},"bg-event"===t?ln(iC,Object.assign({seg:$e},Gc($e,i.todayRange,i.nowDate))):sC(t))});return ln(ko,null,w)}renderNowIndicator(o){let{slatCoords:t,date:i}=this.props;return t?o.map((s,p)=>ln(jg,{key:p,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(o){let J,_e,{isRtl:t,options:i}=this.context,s=i.slotEventOverlap,p=o.levelCoord,w=o.levelCoord+o.thickness;s&&(w=Math.min(1,p+2*(w-p))),t?(J=1-w,_e=p):(J=p,_e=1-w);let $e={zIndex:o.stackDepth+1,left:100*J+"%",right:100*_e+"%"};return s&&!o.stackForward&&($e[t?"marginLeft":"marginRight"]=20),$e}}function dv(n,{todayRange:o,nowDate:t,eventSelection:i,eventDrag:s,eventResize:p}){let w=(s?s.affectedInstances:null)||(p?p.affectedInstances:null)||{};return ln(ko,null,n.map(J=>{let _e=J.eventRange.instance.instanceId;return ln("div",{key:_e,style:{visibility:w[_e]?"hidden":""}},ln(uv,Object.assign({seg:J,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:_e===i,isShort:!1},Gc(J,o,t))))}))}function fh(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}class pv extends is{constructor(){super(...arguments),this.splitFgEventSegs=Hi(Ru),this.splitBgEventSegs=Hi(Ru),this.splitBusinessHourSegs=Hi(Ru),this.splitNowIndicatorSegs=Hi(Ru),this.splitDateSelectionSegs=Hi(Ru),this.splitEventDrag=Hi(ov),this.splitEventResize=Hi(ov),this.rootElRef={current:null},this.cellElRefs=new Ll}render(){let{props:o,context:t}=this,i=t.options.nowIndicator&&o.slatCoords&&o.slatCoords.safeComputeTop(o.nowDate),s=o.cells.length,p=this.splitFgEventSegs(o.fgEventSegs,s),w=this.splitBgEventSegs(o.bgEventSegs,s),J=this.splitBusinessHourSegs(o.businessHourSegs,s),_e=this.splitNowIndicatorSegs(o.nowIndicatorSegs,s),$e=this.splitDateSelectionSegs(o.dateSelectionSegs,s),Xe=this.splitEventDrag(o.eventDrag,s),Xt=this.splitEventResize(o.eventResize,s);return ln("div",{className:"fc-timegrid-cols",ref:this.rootElRef},ln("table",{role:"presentation",style:{minWidth:o.tableMinWidth,width:o.clientWidth}},o.tableColGroupNode,ln("tbody",{role:"presentation"},ln("tr",{role:"row"},o.axis&&ln("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},ln("div",{className:"fc-timegrid-col-frame"},ln("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&ln(jg,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:o.nowDate})))),o.cells.map((jt,Wt)=>ln(p4,{key:jt.key,elRef:this.cellElRefs.createRef(jt.key),dateProfile:o.dateProfile,date:jt.date,nowDate:o.nowDate,todayRange:o.todayRange,extraRenderProps:jt.extraRenderProps,extraDataAttrs:jt.extraDataAttrs,extraClassNames:jt.extraClassNames,extraDateSpan:jt.extraDateSpan,fgEventSegs:p[Wt],bgEventSegs:w[Wt],businessHourSegs:J[Wt],nowIndicatorSegs:_e[Wt],dateSelectionSegs:$e[Wt],eventDrag:Xe[Wt],eventResize:Xt[Wt],slatCoords:o.slatCoords,eventSelection:o.eventSelection,forPrint:o.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:o}=this;o.onColCoords&&null!==o.clientWidth&&o.onColCoords(new Jc(this.rootElRef.current,function Ym(n,o){return o.map(t=>n[t.key])}(this.cellElRefs.currentMap,o.cells),!0,!1))}}class h4 extends Za{constructor(){super(...arguments),this.processSlotOptions=Hi(g4),this.state={slatCoords:null},this.handleRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=o=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(o.time){let s=i.computeTimeTop(o.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=o=>{this.colCoords=o},this.handleSlatCoords=o=>{this.setState({slatCoords:o}),this.props.onSlatCoords&&this.props.onSlatCoords(o)}}render(){let{props:o,state:t}=this;return ln("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:o.clientWidth,minWidth:o.tableMinWidth}},ln(t4,{axis:o.axis,dateProfile:o.dateProfile,slatMetas:o.slatMetas,clientWidth:o.clientWidth,minHeight:o.expandRows?o.clientHeight:"",tableMinWidth:o.tableMinWidth,tableColGroupNode:o.axis?o.tableColGroupNode:null,onCoords:this.handleSlatCoords}),ln(pv,{cells:o.cells,axis:o.axis,dateProfile:o.dateProfile,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,todayRange:o.todayRange,nowDate:o.nowDate,nowIndicatorSegs:o.nowIndicatorSegs,clientWidth:o.clientWidth,tableMinWidth:o.tableMinWidth,tableColGroupNode:o.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:o.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(o){this.scrollResponder.update(o.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(o,t){let{dateEnv:i,options:s}=this.context,{colCoords:p}=this,{dateProfile:w}=this.props,{slatCoords:J}=this.state,{snapDuration:_e,snapsPerSlot:$e}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),Xe=p.leftToIndex(o),Xt=J.positions.topToIndex(t);if(null!=Xe&&null!=Xt){let jt=this.props.cells[Xe],Wt=J.positions.tops[Xt],fn=J.positions.getHeight(Xt),Fn=Math.floor((t-Wt)/fn*$e),Ti=this.props.cells[Xe].date,io=at(w.slotMinTime,function Vt(n,o){return{years:n.years*o,months:n.months*o,days:n.days*o,milliseconds:n.milliseconds*o}}(_e,Xt*$e+Fn)),zi=i.add(Ti,io),wo=i.add(zi,_e);return{dateProfile:w,dateSpan:Object.assign({range:{start:zi,end:wo},allDay:!1},jt.extraDateSpan),dayEl:p.els[Xe],rect:{left:p.lefts[Xe],right:p.rights[Xe],top:Wt,bottom:Wt+fn},layer:0}}return null}}function g4(n,o){let t=o||n,i=Xn(n,t);return null===i&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}class jm extends Pu{sliceRange(o,t){let i=[];for(let s=0;s<t.length;s+=1){let p=Tu(o,t[s]);p&&i.push({start:p.start,end:p.end,isStart:p.start.valueOf()===o.start.valueOf(),isEnd:p.end.valueOf()===o.end.valueOf(),col:s})}return i}}class f4 extends Za{constructor(){super(...arguments),this.buildDayRanges=Hi(hv),this.slicer=new jm,this.timeColsRef={current:null}}render(){let{props:o,context:t}=this,{dateProfile:i,dayTableModel:s}=o,{nowIndicator:p,nextDayThreshold:w}=t.options,J=this.buildDayRanges(s,i,t.dateEnv);return ln(Pl,{unit:p?"minute":"day"},(_e,$e)=>ln(h4,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(o,i,null,t,J),{forPrint:o.forPrint,axis:o.axis,dateProfile:i,slatMetas:o.slatMetas,slotDuration:o.slotDuration,cells:s.cells[0],tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,clientWidth:o.clientWidth,clientHeight:o.clientHeight,expandRows:o.expandRows,nowDate:_e,nowIndicatorSegs:p&&this.slicer.sliceNowDate(_e,i,w,t,J),todayRange:$e,onScrollTopRequest:o.onScrollTopRequest,onSlatCoords:o.onSlatCoords})))}}function hv(n,o,t){let i=[];for(let s of n.headerDates)i.push({start:t.add(s,o.slotMinTime),end:t.add(s,o.slotMaxTime)});return i}const Nu=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function gv(n,o,t,i,s){let p=new Date(0),w=n,J=M(0),_e=t||function m4(n){let o,t,i;for(o=Nu.length-1;o>=0;o-=1)if(t=M(Nu[o]),i=Xn(t,n),null!==i&&i>1)return t;return n}(i),$e=[];for(;Hn(w)<Hn(o);){let Xe=s.add(p,w),Xt=null!==Xn(J,_e);$e.push({date:Xe,time:w,key:Xe.toISOString(),isoTimeStr:gb(Xe),isLabeled:Xt}),w=at(w,i),J=at(J,i)}return $e}function fv(n,o){let t=new Mu(n.renderRange,o);return new Ou(t,!1)}hl('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var qm=tl({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class GI extends Xy{constructor(){super(...arguments),this.buildTimeColsModel=Hi(fv),this.buildSlatMetas=Hi(gv)}render(){let{options:o,dateEnv:t,dateProfileGenerator:i}=this.context,{props:s}=this,{dateProfile:p}=s,w=this.buildTimeColsModel(p,i),J=this.allDaySplitter.splitProps(s),_e=this.buildSlatMetas(p.slotMinTime,p.slotMaxTime,o.slotLabelInterval,o.slotDuration,t),{dayMinWidth:$e}=o,Xe=!$e,Xt=$e,jt=o.dayHeaders&&ln(Du,{dates:w.headerDates,dateProfile:p,datesRepDistinctDays:!0,renderIntro:Xe?this.renderHeadAxis:null}),Wt=!1!==o.allDaySlot&&(Rn=>ln($C,Object.assign({},J.allDay,{dateProfile:p,dayTableModel:w,nextDayThreshold:o.nextDayThreshold,tableMinWidth:Rn.tableMinWidth,colGroupNode:Rn.tableColGroupNode,renderRowIntro:Xe?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:Rn.clientWidth,clientHeight:Rn.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),fn=Rn=>ln(f4,Object.assign({},J.timed,{dayTableModel:w,dateProfile:p,axis:Xe,slotDuration:o.slotDuration,slatMetas:_e,forPrint:s.forPrint,tableColGroupNode:Rn.tableColGroupNode,tableMinWidth:Rn.tableMinWidth,clientWidth:Rn.clientWidth,clientHeight:Rn.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:Rn.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return Xt?this.renderHScrollLayout(jt,Wt,fn,w.colCnt,$e,_e,this.state.slatCoords):this.renderSimpleLayout(jt,Wt,fn)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class _4 extends is{constructor(){super(...arguments),this.state={textId:kl()}}render(){let{theme:o,dateEnv:t,options:i,viewApi:s}=this.context,{cellId:p,dayDate:w,todayRange:J}=this.props,{textId:_e}=this.state,$e=zp(w,J),Xe=i.listDayFormat?t.format(w,i.listDayFormat):"",Xt=i.listDaySideFormat?t.format(w,i.listDaySideFormat):"",jt=Object.assign({date:t.toDate(w),view:s,textId:_e,text:Xe,sideText:Xt,navLinkAttrs:Hc(this.context,w),sideNavLinkAttrs:Hc(this.context,w,"day",!1)},$e);return ln(Cr,{elTag:"tr",elClasses:["fc-list-day",...kg($e,o)],elAttrs:{"data-date":Np(w)},renderProps:jt,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:mv,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},Wt=>ln("th",{scope:"colgroup",colSpan:3,id:p,"aria-labelledby":_e},ln(Wt,{elTag:"div",elClasses:["fc-list-day-cushion",o.getClass("tableCellShaded")]})))}}function mv(n){return ln(ko,null,n.text&&ln("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&ln("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const $m=Fs({hour:"numeric",minute:"2-digit",meridiem:"short"});class _v extends is{render(){let{props:o,context:t}=this,{options:i}=t,{seg:s,timeHeaderId:p,eventHeaderId:w,dateHeaderId:J}=o,_e=i.eventTimeFormat||$m;return ln(rh,Object.assign({},o,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function Cv(n,o){let t=Fg(n,o);return ln("a",Object.assign({},t),n.eventRange.def.title)}(s,t),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),($e,Xe)=>ln(ko,null,function vv(n,o,t,i,s){let{options:p}=t;if(!1!==p.displayEventTime){let $e,J=n.eventRange.instance,_e=!1;return n.eventRange.def.allDay?_e=!0:function Ib(n){let o=f0(n);return xa(o.start,o.end)>1}(n.eventRange.range)?n.isStart?$e=Qc(n,o,t,null,null,J.range.start,n.end):n.isEnd?$e=Qc(n,o,t,null,null,n.start,J.range.end):_e=!0:$e=Qc(n,o,t),_e?ln(Cr,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${s}`},renderProps:{text:t.options.allDayText,view:t.viewApi},generatorName:"allDayContent",customGenerator:p.allDayContent,defaultGenerator:bv,classNameGenerator:p.allDayClassNames,didMount:p.allDayDidMount,willUnmount:p.allDayWillUnmount}):ln("td",{className:"fc-list-event-time"},$e)}return null}(s,_e,t,p,J),ln("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},ln("span",{className:"fc-list-event-dot",style:{borderColor:Xe.borderColor||Xe.backgroundColor}})),ln($e,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${w} ${J}`}})))}}function bv(n){return n.text}function v4(n){return n.text}function b4(n){let o=Es(n.renderRange.start),t=n.renderRange.end,i=[],s=[];for(;o<t;)i.push(o),s.push({start:o,end:Ns(o,1)}),o=Ns(o,1);return{dayDates:i,dayRanges:s}}function Xm(n){return!1===n?null:Fs(n)}hl(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var x4=tl({name:"@fullcalendar/list",optionRefiners:{listDayFormat:Xm,listDaySideFormat:Xm,noEventsClassNames:Un,noEventsContent:Un,noEventsDidMount:Un,noEventsWillUnmount:Un},views:{list:{component:class C4 extends Za{constructor(){super(...arguments),this.computeDateVars=Hi(b4),this.eventStoreToSegs=Hi(this._eventStoreToSegs),this.state={timeHeaderId:kl(),eventHeaderId:kl(),dateHeaderIdRoot:kl()},this.setRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:o,context:t}=this,{dayDates:i,dayRanges:s}=this.computeDateVars(o.dateProfile),p=this.eventStoreToSegs(o.eventStore,o.eventUiBases,s);return ln(ah,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},ln(Jg,{liquid:!o.isHeightAuto,overflowX:o.isHeightAuto?"visible":"hidden",overflowY:o.isHeightAuto?"visible":"auto"},p.length>0?this.renderSegList(p,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:o,viewApi:t}=this.context;return ln(Cr,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:o.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:o.noEventsContent,defaultGenerator:v4,classNameGenerator:o.noEventsClassNames,didMount:o.noEventsDidMount,willUnmount:o.noEventsWillUnmount},s=>ln(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(o,t){let{theme:i,options:s}=this.context,{timeHeaderId:p,eventHeaderId:w,dateHeaderIdRoot:J}=this.state,_e=function y4(n){let t,i,o=[];for(t=0;t<n.length;t+=1)i=n[t],(o[i.dayIndex]||(o[i.dayIndex]=[])).push(i);return o}(o);return ln(Pl,{unit:"day"},($e,Xe)=>{let Xt=[];for(let jt=0;jt<_e.length;jt+=1){let Wt=_e[jt];if(Wt){let fn=Np(t[jt]),Rn=J+"-"+fn;Xt.push(ln(_4,{key:fn,cellId:Rn,dayDate:t[jt],todayRange:Xe})),Wt=Qp(Wt,s.eventOrder);for(let Fn of Wt)Xt.push(ln(_v,Object.assign({key:fn+":"+Fn.eventRange.instance.instanceId,seg:Fn,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:p,eventHeaderId:w,dateHeaderId:Rn},Gc(Fn,Xe,$e))))}}return ln("table",{className:"fc-list-table "+i.getClass("table")},ln("thead",null,ln("tr",null,ln("th",{scope:"col",id:p},s.timeHint),ln("th",{scope:"col","aria-hidden":!0}),ln("th",{scope:"col",id:w},s.eventHint))),ln("tbody",null,Xt))})}_eventStoreToSegs(o,t,i){return this.eventRangesToSegs(um(o,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(o,t){let i=[];for(let s of o)i.push(...this.eventRangeToSegs(s,t));return i}eventRangeToSegs(o,t){let J,_e,$e,{dateEnv:i}=this.context,{nextDayThreshold:s}=this.context.options,p=o.range,w=o.def.allDay,Xe=[];for(J=0;J<t.length;J+=1)if(_e=Tu(p,t[J]),_e&&($e={component:this,eventRange:o,start:_e.start,end:_e.end,isStart:o.isStart&&_e.start.valueOf()===p.start.valueOf(),isEnd:o.isEnd&&_e.end.valueOf()===p.end.valueOf(),dayIndex:J},Xe.push($e),!$e.isEnd&&!w&&J+1<t.length&&p.end<i.add(t[J+1].start,s))){$e.end=p.end,$e.isEnd=!0;break}return Xe}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});vm.touchMouseIgnoreWait=500;let e_=0,t_=0,xv=!1;class n_{constructor(o){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function I4(n){return 0===n.button&&!n.ctrlKey}(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,function Iv(){e_+=1,setTimeout(()=>{e_-=1},vm.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.pageXOffset-this.prevScrollX+this.prevPageX,s=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=o,this.emitter=new wu,o.addEventListener("mousedown",this.handleMouseDown),o.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Tv(){t_+=1,1===t_&&window.addEventListener("touchmove",i_,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Av(){t_-=1,t_||window.removeEventListener("touchmove",i_,{passive:!1})}()}tryStart(o){let t=this.querySubjectEl(o);return!(!t||this.handleSelector&&!xo(o.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){xv=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(o){return this.selector?xo(o.target,this.selector):this.containerEl}shouldIgnoreMouse(){return e_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(xv=!0)}initScrollWatch(o){this.shouldWatchScroll&&(this.recordCoords(o),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(o){this.shouldWatchScroll&&(this.prevPageX=o.pageX,this.prevPageY=o.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(o,t){let i=0,s=0;return t?(this.origPageX=o.pageX,this.origPageY=o.pageY):(i=o.pageX-this.origPageX,s=o.pageY-this.origPageY),{origEvent:o,isTouch:!1,subjectEl:this.subjectEl,pageX:o.pageX,pageY:o.pageY,deltaX:i,deltaY:s}}createEventFromTouch(o,t){let s,p,i=o.touches,w=0,J=0;return i&&i.length?(s=i[0].pageX,p=i[0].pageY):(s=o.pageX,p=o.pageY),t?(this.origPageX=s,this.origPageY=p):(w=s-this.origPageX,J=p-this.origPageY),{origEvent:o,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:p,deltaX:w,deltaY:J}}}function i_(n){xv&&n.preventDefault()}class wv{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(o,t,i){this.sourceEl=o,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(o,t){this.deltaX=o-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(o){o?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=o,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=o)}stop(o,t){let i=()=>{this.cleanup(),t()};o&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(o,t){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",gu(i,{left:s.left,top:s.top}),function aa(n,o){let t=i=>{o(i),Pc.forEach(s=>{n.removeEventListener(s,t)})};Pc.forEach(i=>{n.addEventListener(i,t)})}(i,()=>{i.style.transition="",o()})}cleanup(){this.mirrorEl&&(bd(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&gu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let o=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.classList.add("fc-event-dragging"),gu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:o.right-o.left,height:o.bottom-o.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class o_ extends Mg{constructor(o,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=o,this.doesListening=t,this.scrollTop=this.origScrollTop=o.getScrollTop(),this.scrollLeft=this.origScrollLeft=o.getScrollLeft(),this.scrollWidth=o.getScrollWidth(),this.scrollHeight=o.getScrollHeight(),this.clientWidth=o.getClientWidth(),this.clientHeight=o.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(o){this.scrollController.setScrollTop(o),this.doesListening||(this.scrollTop=Math.max(Math.min(o,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(o){this.scrollController.setScrollLeft(o),this.doesListening||(this.scrollLeft=Math.max(Math.min(o,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class s_ extends o_{constructor(o,t){super(new am(o),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Dg(this.scrollController.el)}}class Ev extends o_{constructor(o){super(new Ob,o)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Sv="function"==typeof performance?performance.now:Date.now;class kv{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let o=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(o){let t=Sv();this.handleSide(o,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(o,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(o,t))}handleMove(o,t){if(this.isEnabled){let i=o-window.pageXOffset,s=t-window.pageYOffset,p=null===this.pointerScreenY?0:s-this.pointerScreenY,w=null===this.pointerScreenX?0:i-this.pointerScreenX;p<0?this.everMovedUp=!0:p>0&&(this.everMovedDown=!0),w<0?this.everMovedLeft=!0:w>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Sv()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let o of this.scrollCaches)o.destroy();this.scrollCaches=null}}requestAnimation(o){this.msSinceRequest=o,requestAnimationFrame(this.animate)}handleSide(o,t){let{scrollCache:i}=o,{edgeThreshold:s}=this,p=s-o.distance,w=p*p/(s*s)*this.maxVelocity*t,J=1;switch(o.name){case"left":J=-1;case"right":i.setScrollLeft(i.getScrollLeft()+w*J);break;case"top":J=-1;case"bottom":i.setScrollTop(i.getScrollTop()+w*J)}}computeBestEdge(o,t){let{edgeThreshold:i}=this,s=null,p=this.scrollCaches||[];for(let w of p){let J=w.clientRect,_e=o-J.left,$e=J.right-o,Xe=t-J.top,Xt=J.bottom-t;_e>=0&&$e>=0&&Xe>=0&&Xt>=0&&(Xe<=i&&this.everMovedUp&&w.canScrollUp()&&(!s||s.distance>Xe)&&(s={scrollCache:w,name:"top",distance:Xe}),Xt<=i&&this.everMovedDown&&w.canScrollDown()&&(!s||s.distance>Xt)&&(s={scrollCache:w,name:"bottom",distance:Xt}),_e<=i&&this.everMovedLeft&&w.canScrollLeft()&&(!s||s.distance>_e)&&(s={scrollCache:w,name:"left",distance:_e}),$e<=i&&this.everMovedRight&&w.canScrollRight()&&(!s||s.distance>$e)&&(s={scrollCache:w,name:"right",distance:$e}))}return s}buildCaches(o){return this.queryScrollEls(o).map(t=>t===window?new Ev(!1):new s_(t,!1))}queryScrollEls(o){let t=[];for(let i of this.scrollQuery)"object"==typeof i?t.push(i):t.push(...Array.prototype.slice.call(o.getRootNode().querySelectorAll(i)));return t}}class Nl extends class Wb{constructor(o,t){this.emitter=new wu}destroy(){}setMirrorIsVisible(o){}setMirrorNeedsRevert(o){}setAutoScrollEnabled(o){}}{constructor(o,t){super(o),this.containerEl=o,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,function Ff(n){n.style.userSelect="none",n.addEventListener("selectstart",yd)}(document.body),function Lc(n){n.addEventListener("contextmenu",yd)}(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let w,p=this.minDistance,{deltaX:J,deltaY:_e}=s;w=J*J+_e*_e,w>=p*p&&this.handleDistanceSurpassed(s)}this.isDragging&&("scroll"!==s.origEvent.type&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,function Td(n){n.style.userSelect="",n.removeEventListener("selectstart",yd)}(document.body),function mu(n){n.removeEventListener("contextmenu",yd)}(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new n_(o);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new wv,this.autoScroller=new kv}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(o){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(o)},this.delay):this.handleDelayEnd(o)}handleDelayEnd(o){this.isDelayEnded=!0,this.tryStartDrag(o)}handleDistanceSurpassed(o){this.isDistanceSurpassed=!0,this.tryStartDrag(o)}tryStartDrag(o){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(o.pageX,o.pageY,this.containerEl),this.emitter.trigger("dragstart",o),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(o){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,o))}stopDrag(o){this.isDragging=!1,this.emitter.trigger("dragend",o)}setIgnoreMove(o){this.pointer.shouldIgnoreMove=o}setMirrorIsVisible(o){this.mirror.setIsVisible(o)}setMirrorNeedsRevert(o){this.mirrorNeedsRevert=o}setAutoScrollEnabled(o){this.autoScroller.isEnabled=o}}class Dv{constructor(o){this.origRect=zc(o),this.scrollCaches=Au(o).map(t=>new s_(t,!0))}destroy(){for(let o of this.scrollCaches)o.destroy()}computeLeft(){let o=this.origRect.left;for(let t of this.scrollCaches)o+=t.origScrollLeft-t.getScrollLeft();return o}computeTop(){let o=this.origRect.top;for(let t of this.scrollCaches)o+=t.origScrollTop-t.getScrollTop();return o}isWithinClipping(o,t){let i={left:o,top:t};for(let s of this.scrollCaches)if(!Mv(s.getEventTarget())&&!Tb(i,s.clientRect))return!1;return!0}}function Mv(n){let o=n.tagName;return"HTML"===o||"BODY"===o}class Qd{constructor(o,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("dragmove",this.handleDragMove),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd),this.dragging=o,this.emitter=new wu}processFirstCoord(o){let p,t={left:o.pageX,top:o.pageY},i=t,s=o.subjectEl;s instanceof HTMLElement&&(p=zc(s),i=function wI(n,o){return{left:Math.min(Math.max(n.left,o.left),o.right),top:Math.min(Math.max(n.top,o.top),o.bottom)}}(i,p));let w=this.initialHit=this.queryHitForOffset(i.left,i.top);if(w){if(this.useSubjectCenter&&p){let J=m0(p,w.rect);J&&(i=function wb(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}(J))}this.coordAdjust=function EI(n,o){return{left:n.left-o.left,top:n.top-o.top}}(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(o,t){let i=this.queryHitForOffset(o.pageX+this.coordAdjust.left,o.pageY+this.coordAdjust.top);(t||!mh(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,o))}prepareHits(){this.offsetTrackers=hi(this.droppableStore,o=>(o.component.prepareHits(),new Dv(o.el)))}releaseHits(){let{offsetTrackers:o}=this;for(let t in o)o[t].destroy();this.offsetTrackers={}}queryHitForOffset(o,t){let{droppableStore:i,offsetTrackers:s}=this,p=null;for(let w in i){let J=i[w].component,_e=s[w];if(_e&&_e.isWithinClipping(o,t)){let $e=_e.computeLeft(),Xe=_e.computeTop(),Xt=o-$e,jt=t-Xe,{origRect:Wt}=_e,fn=Wt.right-Wt.left,Rn=Wt.bottom-Wt.top;if(Xt>=0&&Xt<fn&&jt>=0&&jt<Rn){let Fn=J.queryHit(Xt,jt,fn,Rn);Fn&&tm(Fn.dateProfile.activeRange,Fn.dateSpan.range)&&(!p||Fn.layer>p.layer)&&(Fn.componentId=w,Fn.context=J.context,Fn.rect.left+=$e,Fn.rect.right+=$e,Fn.rect.top+=Xe,Fn.rect.bottom+=Xe,p=Fn)}}}return p}}function mh(n,o){return!n&&!o||Boolean(n)===Boolean(o)&&function gm(n,o){return function OI(n,o){return(null===n.start?null:n.start.valueOf())===(null===o.start?null:o.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===o.end?null:o.end.valueOf())}(n.range,o.range)&&n.allDay===o.allDay&&function pc(n,o){for(let t in o)if("range"!==t&&"allDay"!==t&&n[t]!==o[t])return!1;for(let t in n)if(!(t in o))return!1;return!0}(n,o)}(n.dateSpan,o.dateSpan)}function af(n,o){let t={};for(let i of o.pluginHooks.datePointTransforms)Object.assign(t,i(n,o));return Object.assign(t,function Ov(n,o){return{date:o.toDate(n.range.start),dateStr:o.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,o.dateEnv)),t}let r_=(()=>{class n extends Ld{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=J=>{let _e=J.origEvent.target,{component:$e,dragging:Xe}=this,{mirror:Xt}=Xe,{options:jt}=$e.context,Wt=$e.context;this.subjectEl=J.subjectEl;let fn=this.subjectSeg=Od(J.subjectEl),Fn=(this.eventRange=fn.eventRange).instance.instanceId;this.relevantEvents=bg(Wt.getCurrentData().eventStore,Fn),Xe.minDistance=J.isTouch?0:jt.eventDragMinDistance,Xe.delay=J.isTouch&&Fn!==$e.props.eventSelection?function Nv(n){let{options:o}=n.context,t=o.eventLongPressDelay;return null==t&&(t=o.longPressDelay),t}($e):null,Xt.parentNode=jt.fixedMirrorParent?jt.fixedMirrorParent:xo(_e,".fc"),Xt.revertDuration=jt.dragRevertDuration;let jn=$e.isValidSegDownEl(_e)&&!xo(_e,".fc-event-resizer");Xe.setIgnoreMove(!jn),this.isDragging=jn&&J.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=J=>{let _e=this.component.context,$e=this.eventRange,Xe=$e.instance.instanceId;J.isTouch?Xe!==this.component.props.eventSelection&&_e.dispatch({type:"SELECT_EVENT",eventInstanceId:Xe}):_e.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(_e.calendarApi.unselect(J),_e.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Qo(_e,$e.def,$e.instance),jsEvent:J.origEvent,view:_e.viewApi}))},this.handleHitUpdate=(J,_e)=>{if(!this.isDragging)return;let $e=this.relevantEvents,Xe=this.hitDragging.initialHit,Xt=this.component.context,jt=null,Wt=null,fn=null,Rn=!1,Fn={affectedEvents:$e,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(J){jt=J.context;let jn=jt.options;Xt===jt||jn.editable&&jn.droppable?(Wt=function Rv(n,o,t){let i=n.dateSpan,s=o.dateSpan,p=i.range.start,w=s.range.start,J={};i.allDay!==s.allDay&&(J.allDay=s.allDay,J.hasEnd=o.context.options.allDayMaintainDuration,s.allDay&&(p=Es(p)));let _e=kd(p,w,n.context.dateEnv,n.componentId===o.componentId?n.largeUnit:null);_e.milliseconds&&(J.allDay=!1);let $e={datesDelta:_e,standardProps:J};for(let Xe of t)Xe($e,n,o);return $e}(Xe,J,jt.getCurrentData().pluginHooks.eventDragMutationMassagers),Wt&&(fn=cm($e,jt.getCurrentData().eventUiBases,Wt,jt),Fn.mutatedEvents=fn,Am(Fn,J.dateProfile,jt)||(Rn=!0,Wt=null,fn=null,Fn.mutatedEvents={defs:{},instances:{}}))):jt=null}this.displayDrag(jt,Fn),Rn?fu():Lp(),_e||(Xt===jt&&mh(Xe,J)&&(Wt=null),this.dragging.setMirrorNeedsRevert(!Wt),this.dragging.setMirrorIsVisible(!J||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=jt,this.validMutation=Wt,this.mutatedRelevantEvents=fn)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=J=>{if(this.isDragging){let _e=this.component.context,$e=_e.viewApi,{receivingContext:Xe,validMutation:Xt}=this,jt=this.eventRange.def,Wt=this.eventRange.instance,fn=new Qo(_e,jt,Wt),Rn=this.relevantEvents,Fn=this.mutatedRelevantEvents,{finalHit:jn}=this.hitDragging;if(this.clearDrag(),_e.emitter.trigger("eventDragStop",{el:this.subjectEl,event:fn,jsEvent:J.origEvent,view:$e}),Xt){if(Xe===_e){let Ti=new Qo(_e,Fn.defs[jt.defId],Wt?Fn.instances[Wt.instanceId]:null);_e.dispatch({type:"MERGE_EVENTS",eventStore:Fn});let io={oldEvent:fn,event:Ti,relatedEvents:Eu(Fn,_e,Wt),revert(){_e.dispatch({type:"MERGE_EVENTS",eventStore:Rn})}},zi={};for(let wo of _e.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(zi,wo(Xt,_e));_e.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},io),zi),{el:J.subjectEl,delta:Xt.datesDelta,jsEvent:J.origEvent,view:$e})),_e.emitter.trigger("eventChange",io)}else if(Xe){let Ti={event:fn,relatedEvents:Eu(Rn,_e,Wt),revert(){_e.dispatch({type:"MERGE_EVENTS",eventStore:Rn})}};_e.emitter.trigger("eventLeave",Object.assign(Object.assign({},Ti),{draggedEl:J.subjectEl,view:$e})),_e.dispatch({type:"REMOVE_EVENTS",eventStore:Rn}),_e.emitter.trigger("eventRemove",Ti);let zi=Fn.instances[Wt.instanceId],wo=new Qo(Xe,Fn.defs[jt.defId],zi);Xe.dispatch({type:"MERGE_EVENTS",eventStore:Fn});let ms={event:wo,relatedEvents:Eu(Fn,Xe,zi),revert(){Xe.dispatch({type:"REMOVE_EVENTS",eventStore:Fn})}};Xe.emitter.trigger("eventAdd",ms),J.isTouch&&Xe.dispatch({type:"SELECT_EVENT",eventInstanceId:Wt.instanceId}),Xe.emitter.trigger("drop",Object.assign(Object.assign({},af(jn.dateSpan,Xe)),{draggedEl:J.subjectEl,jsEvent:J.origEvent,view:jn.context.viewApi})),Xe.emitter.trigger("eventReceive",Object.assign(Object.assign({},ms),{draggedEl:J.subjectEl,view:jn.context.viewApi}))}}else _e.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:s}=i.context,p=this.dragging=new Nl(t.el);p.pointer.selector=n.SELECTOR,p.touchScrollAllowed=!1,p.autoScroller.isEnabled=s.dragScroll;let w=this.hitDragging=new Qd(this.dragging,Cm);w.useSubjectCenter=t.useEventCenter,w.emitter.on("pointerdown",this.handlePointerDown),w.emitter.on("dragstart",this.handleDragStart),w.emitter.on("hitupdate",this.handleHitUpdate),w.emitter.on("pointerup",this.handlePointerUp),w.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let p=this.receivingContext;p&&p!==t&&p.dispatch(p===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();const Fl={fixedMirrorParent:Un},w4={dateClick:Un,eventDragStart:Un,eventDragStop:Un,eventDrop:Un,eventResizeStart:Un,eventResizeStop:Un,eventResize:Un,drop:Un,eventReceive:Un,eventLeave:Un};vm.dataAttrPrefix="";var k4=tl({name:"@fullcalendar/interaction",componentInteractions:[class T4 extends Ld{constructor(o){super(o),this.handlePointerDown=i=>{let{dragging:s}=this;s.setIgnoreMove(!this.component.isValidDateDownEl(i.origEvent.target))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:p}=this.dragging;if(!p.wasTouchScroll){let{initialHit:w,finalHit:J}=this.hitDragging;if(w&&J&&mh(w,J)){let{context:_e}=s,$e=Object.assign(Object.assign({},af(w.dateSpan,_e)),{dayEl:w.dayEl,jsEvent:i.origEvent,view:_e.viewApi||_e.calendarApi.view});_e.emitter.trigger("dateClick",$e)}}},this.dragging=new Nl(o.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Qd(this.dragging,_m(o));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class jI extends Ld{constructor(o){super(o),this.dragSelection=null,this.handlePointerDown=w=>{let{component:J,dragging:_e}=this,{options:$e}=J.context,Xe=$e.selectable&&J.isValidDateDownEl(w.origEvent.target);_e.setIgnoreMove(!Xe),_e.delay=w.isTouch?function Pv(n){let{options:o}=n.context,t=o.selectLongPressDelay;return null==t&&(t=o.longPressDelay),t}(J):null},this.handleDragStart=w=>{this.component.context.calendarApi.unselect(w)},this.handleHitUpdate=(w,J)=>{let{context:_e}=this.component,$e=null,Xe=!1;if(w){let Xt=this.hitDragging.initialHit;w.componentId===Xt.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(Xt,w)||($e=function Lv(n,o,t){let i=n.dateSpan,s=o.dateSpan,p=[i.range.start,i.range.end,s.range.start,s.range.end];p.sort(m);let w={};for(let J of t){let _e=J(n,o);if(!1===_e)return null;_e&&Object.assign(w,_e)}return w.range={start:p[0],end:p[3]},w.allDay=i.allDay,w}(Xt,w,_e.pluginHooks.dateSelectionTransformers)),(!$e||!function Kb(n,o,t){return!!tm(o.validRange,n.range)&&wm({dateSelection:n},t)}($e,w.dateProfile,_e))&&(Xe=!0,$e=null)}$e?_e.dispatch({type:"SELECT_DATES",selection:$e}):J||_e.dispatch({type:"UNSELECT_DATES"}),Xe?fu():Lp(),J||(this.dragSelection=$e)},this.handlePointerUp=w=>{this.dragSelection&&(lm(this.dragSelection,w,this.component.context),this.dragSelection=null)};let{component:t}=o,{options:i}=t.context,s=this.dragging=new Nl(o.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let p=this.hitDragging=new Qd(this.dragging,_m(o));p.emitter.on("pointerdown",this.handlePointerDown),p.emitter.on("dragstart",this.handleDragStart),p.emitter.on("hitupdate",this.handleHitUpdate),p.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},r_,class _h extends Ld{constructor(o){super(o),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=p=>{let{component:w}=this,_e=Od(this.querySegEl(p)),$e=this.eventRange=_e.eventRange;this.dragging.minDistance=w.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(p.origEvent.target)||p.isTouch&&this.component.props.eventSelection!==$e.instance.instanceId)},this.handleDragStart=p=>{let{context:w}=this.component,J=this.eventRange;this.relevantEvents=bg(w.getCurrentData().eventStore,this.eventRange.instance.instanceId);let _e=this.querySegEl(p);this.draggingSegEl=_e,this.draggingSeg=Od(_e),w.calendarApi.unselect(),w.emitter.trigger("eventResizeStart",{el:_e,event:new Qo(w,J.def,J.instance),jsEvent:p.origEvent,view:w.viewApi})},this.handleHitUpdate=(p,w,J)=>{let{context:_e}=this.component,$e=this.relevantEvents,Xe=this.hitDragging.initialHit,Xt=this.eventRange.instance,jt=null,Wt=null,fn=!1,Rn={affectedEvents:$e,mutatedEvents:{defs:{},instances:{}},isEvent:!0};p&&(p.componentId===Xe.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(Xe,p)||(jt=function A4(n,o,t,i){let s=n.context.dateEnv,J=kd(n.dateSpan.range.start,o.dateSpan.range.start,s,n.largeUnit);if(t){if(s.add(i.start,J)<i.end)return{startDelta:J}}else if(s.add(i.end,J)>i.start)return{endDelta:J};return null}(Xe,p,J.subjectEl.classList.contains("fc-event-resizer-start"),Xt.range))),jt&&(Wt=cm($e,_e.getCurrentData().eventUiBases,jt,_e),Rn.mutatedEvents=Wt,Am(Rn,p.dateProfile,_e)||(fn=!0,jt=null,Wt=null,Rn.mutatedEvents=null)),_e.dispatch(Wt?{type:"SET_EVENT_RESIZE",state:Rn}:{type:"UNSET_EVENT_RESIZE"}),fn?fu():Lp(),w||(jt&&mh(Xe,p)&&(jt=null),this.validMutation=jt,this.mutatedRelevantEvents=Wt)},this.handleDragEnd=p=>{let{context:w}=this.component,J=this.eventRange.def,_e=this.eventRange.instance,$e=new Qo(w,J,_e),Xe=this.relevantEvents,Xt=this.mutatedRelevantEvents;if(w.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:$e,jsEvent:p.origEvent,view:w.viewApi}),this.validMutation){let jt=new Qo(w,Xt.defs[J.defId],_e?Xt.instances[_e.instanceId]:null);w.dispatch({type:"MERGE_EVENTS",eventStore:Xt});let Wt={oldEvent:$e,event:jt,relatedEvents:Eu(Xt,w,_e),revert(){w.dispatch({type:"MERGE_EVENTS",eventStore:Xe})}};w.emitter.trigger("eventResize",Object.assign(Object.assign({},Wt),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||M(0),endDelta:this.validMutation.endDelta||M(0),jsEvent:p.origEvent,view:w.viewApi})),w.emitter.trigger("eventChange",Wt)}else w.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=o,i=this.dragging=new Nl(o.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new Qd(this.dragging,_m(o));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(o){return xo(o.subjectEl,".fc-event")}}],calendarInteractions:[class a_{constructor(o){this.context=o,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,p=dg(i.origEvent);this.matchesCancel=!!xo(p,s),this.matchesEvent=!!xo(p,r_.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:p}=this,w=s.getCurrentData();if(!p.wasTouchScroll){if(w.dateSelection&&!this.isRecentPointerDateSelect){let J=s.options.unselectAuto;J&&(!J||!this.matchesCancel)&&s.calendarApi.unselect(i)}w.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new n_(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),o.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:Nl,optionRefiners:Fl,listenerRefiners:w4});const D4=["taskPanel"],Fv=["eventMenu"],Bv=["scheduleTaskDialog"];function c_(n,o){1&n&&e.GkF(0)}function Zv(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"full-calendar",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("events",t.taskEvent)("options",t.calendarOptions)}}const M4=function(){return{width:"40vw",minWidth:"min-content"}};function O4(n,o){if(1&n&&(e._UZ(0,"app-task-list-element",14),e.ALo(1,"async")),2&n){const t=e.oxw();let i;e.Akn(e.DdM(6,M4)),e.Q6J("isHover",!1)("item",null!==(i=e.lcZ(1,4,t.api.getTask(t.hoveredTask,!0)))&&void 0!==i?i:void 0)}}var nl=(()=>{return(n=nl||(nl={})).RANGE="RANGE",n.START="START",n.END="END",nl;var n})();let uf=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.router=s,this.confirmation=p,this.taskEvent=[],this.hoveredTask=0,this.subscriptionsHolder=new _.xf,this.eventMenuModel=[],this.currentCalendarRange={start:0,end:0},this.calendarOptions={initialView:"dayGridMonth",locale:"ru",aspectRatio:1.5,selectable:!0,nowIndicator:!0,slotEventOverlap:!1,plugins:[jy,qm,x4,k4],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,listWeek,timeGridDay"},editable:!0,eventMouseEnter:this.openPreviewTaskPanel.bind(this),eventMouseLeave:this.hidePreviewTaskPanel.bind(this),eventDrop:this.scheduleMove.bind(this),eventResize:this.scheduleResizing.bind(this),eventClick:this.openContextOfTask.bind(this),select:this.openContextOfSelectDate.bind(this),datesSet:w=>{this.currentCalendarRange.start=w.start.getTime(),this.currentCalendarRange.end=w.end.getTime(),this.api.getScheduledTask(_.cQ.dateFormatTS(w.start),_.cQ.dateFormatTS(w.end)).pipe((0,mt.U)(this.tasksToEvents.bind(this))).subscribe(J=>this.taskEvent=J)},firstDay:1,buttonText:{today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",month:"\u041c\u0435\u0441\u044f\u0446",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c"},allDayText:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c",weekText:"\u041d\u0435\u0434\u0435\u043b\u044f",moreLinkText:"\u0411\u043e\u043b\u044c\u0448\u0435",noEventsText:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442",navLinks:!0},this.scheduleType=nl.RANGE}unscheduleTask(t){this.api.clearActualFromDate(t).subscribe(),this.api.clearActualToDate(t).subscribe()}ngOnInit(){this.subscriptionsHolder.addSubscription("updTsk",this.rt.taskUpdated().subscribe(this.updateCalendar.bind(this))),this.subscriptionsHolder.addSubscription("hidePv",(0,x.R)(window,"mousedown").subscribe(this.hidePreviewTaskPanel.bind(this)))}ngOnDestroy(){this.subscriptionsHolder.unsubscribeAll()}openContextOfTask(t){this.eventMenuModel=[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-open_in_new",command:this.openTask.bind(this,t)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-event_busy",command:this.confirmUnschedulingTask.bind(this,t)}],setTimeout(()=>{var i;null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent)})}openContextOfSelectDate(t){this.eventMenuModel=[{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d",icon:"mdi-date_range",command:this.openSelectTaskDialog.bind(this,t,nl.RANGE)},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-today",command:this.openSelectTaskDialog.bind(this,t,nl.START)},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-free_cancellation",command:this.openSelectTaskDialog.bind(this,t,nl.END)}],setTimeout(()=>{var i;t.jsEvent&&(null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent))})}confirmUnschedulingTask(t){if(!t.event.id)return;const i=parseInt(t.event.id);this.confirmation.confirm({header:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u0437 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f",message:`\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t.event.id}?`,accept:this.unscheduleTask.bind(this,i)})}openSelectTaskDialog(t,i){var s;this.scheduleType=i,this.scheduleDate=t,null===(s=this.scheduleTaskDialog)||void 0===s||s.open("single")}confirmScheduleTask(t){if(!this.scheduleDate)return;let i="";switch(this.scheduleType){case nl.RANGE:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${_.cQ.dateFormatTS(this.scheduleDate.start)} \u043f\u043e ${_.cQ.dateFormatTS(this.scheduleDate.end)}`;break;case nl.START:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${_.cQ.dateFormatTS(this.scheduleDate.start)}`;break;case nl.END:i=`\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0434\u0430\u0447\u0438 #${t} \u043f\u043e ${_.cQ.dateFormatTS(this.scheduleDate.end)}`}this.confirmation.confirm({header:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",message:i,accept:this.scheduleTask.bind(this,t)})}scheduleTask(t){var i,s,p,w;if(this.scheduleDate)switch(this.scheduleType){case nl.RANGE:this.api.changeTaskActualFrom(t,null===(i=this.scheduleDate)||void 0===i?void 0:i.start).subscribe(),this.api.changeTaskActualTo(t,null===(s=this.scheduleDate)||void 0===s?void 0:s.end).subscribe();break;case nl.START:this.api.changeTaskActualFrom(t,null===(p=this.scheduleDate)||void 0===p?void 0:p.start).subscribe();break;case nl.END:this.api.changeTaskActualTo(t,null===(w=this.scheduleDate)||void 0===w?void 0:w.end).subscribe()}}taskToEvent(t){var i,s,p,w,J;const _e={id:t.taskId.toString(),title:(null===(i=t.modelWireframe)||void 0===i?void 0:i.name)+" #"+t.taskId,start:t.actualFrom,end:t.actualTo,backgroundColor:_.cQ.stringToColor(null!==(p=null===(s=t.modelWireframe)||void 0===s?void 0:s.name)&&void 0!==p?p:"",70,95,70,90),borderColor:_.cQ.stringToColor(null!==(J=null===(w=t.modelWireframe)||void 0===w?void 0:w.name)&&void 0!==J?J:"",80,100,30,80)};return t.actualFrom||(_e.start=t.actualTo,_e.borderColor="#ff0000"),_e}tasksToEvents(t){return t.map(this.taskToEvent.bind(this))}openPreviewTaskPanel(t){var i;this.hideTimer&&clearTimeout(this.hideTimer),this.hoveredTask=parseInt(t.event.id),null===(i=this.taskPanel)||void 0===i||i.show(t.jsEvent,t.el)}hidePreviewTaskPanel(){this.hideTimer=setTimeout(()=>{var t;null===(t=this.taskPanel)||void 0===t||t.hide()})}scheduleMove(t){this.api.moveScheduledTask(parseInt(t.event.id),t.delta).subscribe()}scheduleResizing(t){}updateCalendar(t){let i=this.taskEvent.findIndex(w=>parseInt(w.id)===t.taskId),s=!1,p=!1;if(t.actualFrom){const w=new Date(t.actualFrom).getTime();s=this.currentCalendarRange.start<=w&&w<=this.currentCalendarRange.end}if(t.actualTo){const w=new Date(t.actualTo).getTime();p=this.currentCalendarRange.start<=w&&w<=this.currentCalendarRange.end}(s||p)&&-1!==i?(this.taskEvent[i]=this.taskToEvent(t),this.taskEvent=[...this.taskEvent]):(s||p)&&-1===i?this.taskEvent=[...this.taskEvent,this.taskToEvent(t)]:!s&&!p&&-1!==i&&(this.taskEvent.splice(i,1),this.taskEvent=[...this.taskEvent])}openTask(t){this.router.navigate(["/task",t.event.id]).then()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(d.F0),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(D4,5),e.Gf(Fv,5),e.Gf(Bv,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.taskPanel=s.first),e.iGM(s=e.CRH())&&(i.eventMenu=s.first),e.iGM(s=e.CRH())&&(i.scheduleTaskDialog=s.first)}},decls:14,vars:5,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","gap10","stretched"],[4,"ngTemplateOutlet"],["calendar",""],["showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"dismissable"],["taskPanel",""],[3,"style","isHover","item",4,"ngIf"],["appendTo","body",3,"model"],["eventMenu",""],["header","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onlyMy","onSelected"],["scheduleTaskDialog",""],[1,"stretched"],[3,"events","options"],[3,"isHover","item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,c_,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,Zv,2,2,"ng-template",null,4,e.W1O),e.TgZ(7,"p-overlayPanel",5,6),e.YNc(9,O4,2,7,"app-task-list-element",7),e.qZA(),e._UZ(10,"p-contextMenu",8,9),e.TgZ(12,"app-task-selecting-dialog",10,11),e.NdJ("onSelected",function(p){return i.confirmScheduleTask(p)}),e.qZA()),2&t){const s=e.MAs(6);e.xp6(4),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",i.hoveredTask),e.xp6(1),e.Q6J("model",i.eventMenuModel),e.xp6(2),e.Q6J("onlyMy",!0)}}}),n})();const u_=["vs"];function Uv(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}function d_(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"elapsedTime"),e.ALo(3,"elapsedTime"),e.ALo(4,"elapsedTime"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq(" ",e.gM2(2,3,null==t.parserState?null:t.parserState.elapsedTime,"\u041f\u0440\u043e\u0448\u043b\u043e ","",!0)," / ",e.gM2(3,8,null==t.parserState?null:t.parserState.averageTimePerTask,"\u041d\u0430 \u0437\u0430\u0434\u0430\u0447\u0443 ","",!0)," / ",e.gM2(4,13,null==t.parserState?null:t.parserState.remainingTime,"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ","",!0)," ")}}function p_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.startParsing())}),e.qZA()}}function P4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.stopParsing())}),e.qZA()}}function L4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.currentCorrectingStreetAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctStreet(s.streetToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.streetToCorrect[0]),e.xp6(2),e.lnq("",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].streetRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].houseRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].address)}}function R4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.currentCorrectingHouseAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctHouse(s.houseToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.houseToCorrect[0]),e.xp6(2),e.lnq("",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].streetRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].houseRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].address)}}function N4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input-alt",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.currentCorrectingApartAddress=s)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.correctApart(s.apartmentToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.apartmentToCorrect[0]),e.xp6(2),e.lnq("",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].streetRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].houseRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].address)}}let h_=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.settingsForm=new f.cw({startId:new f.NI(0,[f.kI.required]),endId:new f.NI(0,[f.kI.required]),trackerLogin:new f.NI("",[f.kI.required]),trackerPassword:new f.NI("",[f.kI.required]),trackerUrl:new f.NI("",[f.kI.required]),bindings:new f.NI({})}),this.messages=[],this.subscribes=new _.xf,this.currentCorrectingStreetAddress={},this.currentCorrectingHouseAddress={},this.currentCorrectingApartAddress={},this.listOfCorrectedStreets=[],this.listOfCorrectedHouses=[],this.listOfCorrectedApartments=[],this.streetToCorrect=[null,null],this.houseToCorrect=[null,null],this.apartmentToCorrect=[null,null]}get progress(){if(this.parserState){const{startId:t,endId:i}=this.parserState.settings,{currentTask:s}=this.parserState;if(s){const p=(s-t)/(i-t)*100;return p>100?100:parseFloat(p.toFixed(2))}}return 0}ngOnInit(){this.api.getTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this)),this.subscribes.addSubscription("updState",this.rt.updateTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this))),this.subscribes.addSubscription("updMessages",this.rt.parserMessageReceived().subscribe(t=>{this.messages=[...this.messages,t],this.vs&&this.vs.scrollToIndex(this.messages.length,"auto")})),this.settingsForm.valueChanges.subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}ngOnDestroy(){this.subscribes.unsubscribeAll()}submitSaveSettings(){this.api.saveTrackerParserSettings(this.settingsForm.getRawValue()).subscribe()}startParsing(){this.api.startTrackerParser().subscribe()}stopParsing(){this.api.stopTrackerParser().subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}messageClass(t){return"simple-message "+t.severity.toLowerCase()}correctStreet(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(Object.entries(this.addressCorrectingPool).forEach(i=>{const[s,p]=i;null==t[0]||null==t[1]||p.streetRaw===t[1].streetRaw&&(this.addressCorrectingPool&&this.currentCorrectingStreetAddress.street&&(this.addressCorrectingPool[s].address.street=Object.assign({},this.currentCorrectingStreetAddress.street)),this.listOfCorrectedStreets=[...this.listOfCorrectedStreets,s])}),this.sendCorrectedAddress(),this.updateStreetToCorrect())}updateStreetToCorrect(){var t;this.addressCorrectingPool&&(this.streetToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,p]=i;return p.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(s)})[0])&&void 0!==t?t:[null,null])}updateHouseToCorrect(){var t;this.addressCorrectingPool&&(this.houseToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,p]=i;return p.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(s)})[0])&&void 0!==t?t:[null,null])}updateApartmentToCorrect(){var t;this.addressCorrectingPool&&(this.apartmentToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[s,p]=i;return p.types.includes("APART")&&!this.listOfCorrectedApartments.includes(s)})[0])&&void 0!==t?t:[null,null])}setCurrentTrackerParserState(t){this.parserState=t,this.settingsForm.setValue(t.settings)}correctHouse(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.houseNum=this.currentCorrectingHouseAddress.houseNum,this.addressCorrectingPool[t[0]].address.fraction=this.currentCorrectingHouseAddress.fraction,this.addressCorrectingPool[t[0]].address.build=this.currentCorrectingHouseAddress.build,this.addressCorrectingPool[t[0]].address.letter=this.currentCorrectingHouseAddress.letter,this.listOfCorrectedHouses=[...this.listOfCorrectedHouses,t[0]],this.sendCorrectedAddress(),this.updateHouseToCorrect())}correctApart(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.entrance=this.currentCorrectingApartAddress.entrance,this.addressCorrectingPool[t[0]].address.floor=this.currentCorrectingApartAddress.floor,this.addressCorrectingPool[t[0]].address.apartmentNum=this.currentCorrectingApartAddress.apartmentNum,this.addressCorrectingPool[t[0]].address.apartmentMod=this.currentCorrectingApartAddress.apartmentMod,this.listOfCorrectedApartments=[...this.listOfCorrectedApartments,t[0]],this.sendCorrectedAddress(),this.updateApartmentToCorrect())}gettingFullCorrectedAddress(){return this.addressCorrectingPool?Object.entries(this.addressCorrectingPool).filter(t=>{let i=!0,s=!0,p=!0;const[w,J]=t;return J.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(w)&&(i=!1),J.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(w)&&(s=!1),J.types.includes("APART")&&!this.listOfCorrectedApartments.includes(w)&&(p=!1),i&&s&&p}).reduce((t,i)=>{const[s,p]=i;return t[s]=p,t},{}):{}}sendCorrectedAddress(){const t=this.gettingFullCorrectedAddress();this.api.sendCorrectedAddress(t).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(u_,5),2&t){let s;e.iGM(s=e.CRH())&&(i.vs=s.first)}},decls:24,vars:12,consts:[["appExtendPageHeight","",1,"flexed","gap10","p20"],[1,"flexed","column","gap10",3,"formGroup"],["formControlName","trackerUrl","pInputText","","placeholder","Url \u0422\u0440\u0435\u043a\u0435\u0440\u0430","type","text"],["formControlName","trackerLogin","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text"],["formControlName","trackerPassword","pInputText","","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","type","text"],["formControlName","startId","placeholder","\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 id"],["formControlName","endId","placeholder","\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 id"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","onClick"],["formControlName","bindings"],[1,"flexed","column","stretched","gap10"],[1,"console",3,"value","itemSize","scrollHeight"],["vs",""],["pTemplate","item"],[1,"flexed","gap10"],[1,"stretched","flexed","column","gap3","vcenter"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"full-width",3,"value"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick",4,"ngIf"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick",4,"ngIf"],["class","flexed column gap5",3,"width",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick"],[1,"flexed","column","gap5"],[1,"flexed","hcenter","vcenter","caption","size-big"],[1,"flexed","hcenter","vcenter","caption","size-small","wt-bold","f-color-primary"],[3,"ngModel","ngModelChange"],["label","\u041e\u0442\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"input",2)(3,"input",3)(4,"input",4)(5,"p-inputNumber",5)(6,"p-inputNumber",6),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){return i.submitSaveSettings()}),e.qZA(),e._UZ(8,"app-tracker-bindings-input",8),e.qZA(),e.TgZ(9,"div",9)(10,"p-virtualScroller",10,11),e.YNc(12,Uv,2,3,"ng-template",12),e.qZA(),e.TgZ(13,"div",13)(14,"div",14),e.YNc(15,d_,5,18,"span",15),e._UZ(16,"p-progressBar",16),e.qZA(),e.TgZ(17,"span"),e.YNc(18,p_,1,0,"p-button",17),e.YNc(19,P4,1,0,"p-button",18),e.qZA()(),e.TgZ(20,"div",13),e.YNc(21,L4,7,7,"div",19),e.YNc(22,R4,7,7,"div",19),e.YNc(23,N4,7,7,"div",19),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.settingsForm),e.xp6(6),e.Q6J("disabled",!!i.parserState&&i.parserState.isRunning),e.xp6(3),e.Q6J("value",i.messages)("itemSize",29)("scrollHeight","715px"),e.xp6(5),e.Q6J("ngIf",null==i.parserState?null:i.parserState.remainingTime),e.xp6(1),e.Q6J("value",i.progress),e.xp6(2),e.Q6J("ngIf",i.parserState&&!i.parserState.isRunning),e.xp6(1),e.Q6J("ngIf",i.parserState&&i.parserState.isRunning),e.xp6(2),e.Q6J("ngIf",i.streetToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.houseToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.apartmentToCorrect[0]))},styles:[".console[_ngcontent-%COMP%]{border-radius:.3rem;border:1px solid var(--bgc-200)}"]}),n})();const g_=["messageListEl"];function Hv(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}let Vv=(()=>{class n{constructor(t,i){this.rt=t,this.api=i,this.messages=[]}ngOnInit(){this.subscription=this.rt.parserMessageReceived().subscribe(t=>{var i;this.messages.push(t),null!==(i=this.messageListEl)&&void 0!==i&&i.nativeElement&&(this.messageListEl.nativeElement.scrollTop=this.messageListEl.nativeElement.scrollHeight-this.messageListEl.nativeElement.clientHeight)})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}messageClass(t){return"simple-message "+t.severity.toLowerCase()}startParse(){this.api.startAddressParse().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(de.U),e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(g_,5),2&t){let s;e.iGM(s=e.CRH())&&(i.messageListEl=s.first)}},decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flexed","column",3,"limited"],[1,"list-view","p20"],["messageListEl",""],[4,"ngFor","ngForOf"],[1,"flexed","vend","p10"],["styleClass","p-button-success","label","\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0430",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,Hv,3,3,"div",3),e.qZA(),e.TgZ(4,"div",4)(5,"p-button",5),e.NdJ("onClick",function(){return i.startParse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(3),e.Q6J("ngForOf",i.messages))},dependencies:[U,k.sg,O.zx]}),n})();var vh=b(590),Rr=b(7579),Gd=b(5577);let zv=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.filtrationForm=new f.cw({date:new f.NI(new Date),position:new f.NI(null)}),this.accountingMenuItems$=this.filtrationForm.valueChanges.pipe((0,mt.U)(s=>{var p;return[{label:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",url:"/api/private/accounting/monthly-salary-report-table?date="+(null===(p=s.date)||void 0===p?void 0:p.getTime())}]})),this.subscriptions=new _.xf,this.tableLoadingState=he.Gu.LOADING,this.tableLoad$=this.filtrationForm.valueChanges.pipe((0,ei.b)(()=>{this.tableLoadingState=he.Gu.LOADING,this.selectDay(null)}),(0,R.w)(s=>this.api.getSalaryTable(s).pipe((0,mt.U)(p=>({table:p,update:null})))),(0,ei.b)({next:()=>this.tableLoadingState=he.Gu.READY,error:()=>this.tableLoadingState=he.Gu.ERROR}),(0,cn.d)(1)),this.tableUpdate$=this.rt.salaryTableUpdated().pipe((0,R.w)(s=>this.tableLoad$.pipe((0,mt.U)(p=>({table:p.table,update:s}))))),this.salaryTable$=(0,Eo.T)(this.tableLoad$,this.tableUpdate$).pipe((0,mt.U)(s=>{if(s.update){for(let[p,w]of s.update.employees.entries()){const J=s.table.employees.findIndex(_e=>_e.login===w.login);-1!==J&&(s.table.employees[J]=w,s.table.payload[J]=s.update.payload[p],s.table.totalSum[J]=s.update.totalSum[p],s.table.totalSumAllEmployees=s.update.totalSumAllEmployees)}this.selectedDay$.pipe((0,vh.P)()).subscribe(p=>{if(null===p)return;const w=s.update.employees.findIndex(J=>J.login===p.employee.login);if(-1!==w){const J=s.update.payload[w].find(_e=>_e.date===p.date);J&&this.updateDaySubject.next(J)}})}return s.table}),(0,cn.d)(1)),this.ndflSwitch=new f.NI(!1),this.ndflValue$=this.ndflSwitch.valueChanges.pipe((0,cn.d)(1)),this.positions$=this.api.getPositions().pipe((0,mt.U)(s=>[{label:"\u0412\u0441\u0435",value:null},...s.map(({name:p,positionId:w})=>({label:p,value:w}))])),this.selectDaySubject=new Rr.x,this.updateDaySubject=new Rr.x,this.selectedDay$=(0,Eo.T)(this.selectDaySubject.asObservable(),this.updateDaySubject.asObservable()).pipe((0,cn.d)(1)),this.calculatedLoadingState=he.Gu.LOADING,this.workingDay$=this.selectedDay$.pipe((0,mt.U)(s=>s?[new Date(s.date),s.employee.login]:null),(0,ei.b)(()=>this.calculatedLoadingState=he.Gu.LOADING),(0,Gd.z)(s=>s?this.api.getWorkingDay(s[0],s[1]):(0,Tn.of)(null)),(0,ei.b)(()=>{setTimeout(()=>window.scrollTo({top:document.body.scrollHeight}))}),(0,ei.b)({next:s=>this.calculatedLoadingState=null===s?he.Gu.EMPTY:he.Gu.READY,error:()=>this.calculatedLoadingState=he.Gu.ERROR})),setTimeout(()=>{this.filtrationForm.patchValue(this.filtrationForm.value)})}trackByCell(t,i){return null==i?void 0:i.date}selectDay(t,i,s){this.selectDaySubject.next(t),this.highlightedDay=void 0===i||void 0===s?void 0:{row:i,col:s}}getReport(t,i){var s;return t.isForceClosed?t.forceClosedReason:null===(s=t.workReports.find(p=>p.author.login===i))||void 0===s?void 0:s.description}isSelected(t,i){var s,p;return(null===(s=this.highlightedDay)||void 0===s?void 0:s.row)===t&&(null===(p=this.highlightedDay)||void 0===p?void 0:p.col)===i}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s),e.LFG(de.U))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jv(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"span",20),e._UZ(2,"i",21),e.TgZ(3,"span"),e._uU(4,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA()(),e._UZ(5,"p-dropdown",22),e.qZA()),2&n){const t=o.ngIf;e.xp6(5),e.Q6J("options",t)}}function F4(n,o){if(1&n&&(e.TgZ(0,"th",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=o.index,s=e.oxw().$implicit;e.Q6J("frozen",0===i||i===s.length-1)("alignFrozen",i===s.length-1?"right":""),e.xp6(1),e.hij(" ",t," ")}}function Qv(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,F4,2,3,"th",27),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}const Gv=function(n,o){return{"text-bluegray-200":n,"text-primary-400 bg-blue-50":o}};function Ia(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",33),e.NdJ("click",function(){const s=e.CHM(t),p=s.$implicit,w=s.index,J=e.oxw().rowIndex,_e=e.oxw(3);return e.KtG(_e.cache.selectDay(p,J,w))}),e._uU(1),e.ALo(2,"number"),e.ALo(3,"async"),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw().rowIndex,p=e.oxw(3);e.Q6J("ngClass",e.WLB(7,Gv,0===t.sumWithNDFL,p.cache.isSelected(s,i))),e.xp6(1),e.hij(" ",e.xi3(2,2,e.lcZ(3,5,p.cache.ndflValue$)?t.sumWithNDFL:t.sumWithoutNDFL,"1.0-2")," ")}}function Wd(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",29),e._UZ(2,"app-employee-label",30),e.qZA(),e.YNc(3,Ia,4,10,"td",31),e.TgZ(4,"td",32),e._uU(5),e.ALo(6,"async"),e.qZA()()),2&n){const t=o.rowIndex,i=o.$implicit,s=e.oxw(2).ngIf,p=e.oxw();e.xp6(2),e.Q6J("employee",s.employees[t]),e.xp6(1),e.Q6J("ngForOf",i)("ngForTrackBy",p.cache.trackByCell),e.xp6(2),e.hij(" ",e.lcZ(6,4,p.cache.ndflValue$)?s.totalSum[t].sumWithNDFL:s.totalSum[t].sumWithoutNDFL," ")}}function B4(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"p-table",23),e.YNc(2,Qv,2,1,"ng-template",24),e.YNc(3,Wd,7,6,"ng-template",25),e.qZA(),e.TgZ(4,"div",26)(5,"span"),e._uU(6,"\u0418\u0442\u043e\u0433:"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("columns",t.headers)("value",t.payload)("scrollable",!0),e.xp6(7),e.hij("",e.lcZ(9,4,i.cache.ndflValue$)?t.totalSumAllEmployees.sumWithNDFL:t.totalSumAllEmployees.sumWithoutNDFL," \u0440\u0443\u0431.")}}function Z4(n,o){if(1&n&&(e.ynx(0),e.YNc(1,B4,10,6,"ng-container",16),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","READY"===t.cache.tableLoadingState)}}function qI(n,o){1&n&&(e.TgZ(0,"div",36),e._UZ(1,"p-progressSpinner",37),e.qZA()),2&n&&e.Udp("width","64rem")}function $I(n,o){if(1&n&&(e.ynx(0,34),e.YNc(1,qI,2,2,"div",35),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.cache.tableLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function Wv(n,o){1&n&&(e.TgZ(0,"tr",47),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3," \u0418\u0414 "),e.qZA(),e.TgZ(4,"th"),e._uU(5," \u0417\u0430\u0434\u0430\u0447\u0430 "),e.qZA(),e.TgZ(6,"th"),e._uU(7," \u041e\u0442\u0447\u0451\u0442 "),e.qZA(),e.TgZ(8,"th"),e._uU(9," \u0414\u043e\u043b\u044f "),e.qZA(),e.TgZ(10,"th"),e._uU(11," \u0421\u0447\u0438\u0442\u0430\u043b "),e.qZA(),e.TgZ(12,"th"),e._uU(13," \u041f\u043b\u0430\u0442\u043d\u0430\u044f? "),e.qZA(),e.TgZ(14,"th"),e._uU(15," \u0421\u0443\u043c\u043c\u0430 "),e.qZA(),e.TgZ(16,"th"),e._uU(17," \u0421\u0443\u043c\u043c\u0430 \u0431\u0435\u0437 \u041d\u0414\u0424\u041b "),e.qZA(),e.TgZ(18,"th"),e._uU(19," \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c "),e.qZA()())}function Yv(n,o){if(1&n&&e._UZ(0,"button",54),2&n){const t=e.oxw(),s=t.$implicit;e.Q6J("icon",t.expanded?"pi pi-chevron-down":"pi pi-chevron-right")("pRowToggler",s)}}function bh(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.amountOfMoneyTaken,"1.0-2"),"\u0440\u0443\u0431. ")}}function U4(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.sum,"1.0-2"),"\u0440\u0443\u0431. ")}}function f_(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.sumWithoutNDFL,"1.0-2"),"\u0440\u0443\u0431. ")}}const H4=function(n){return{workLogId:n}},jv=function(){return["/salary","estimation"]};function V4(n,o){if(1&n&&(e.TgZ(0,"tr",48)(1,"td"),e.YNc(2,Yv,1,2,"button",49),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"app-task-link",50),e.qZA(),e.TgZ(7,"td")(8,"span",51),e._uU(9),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-employee-label",30),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td",52),e.YNc(18,bh,3,4,"ng-container",16),e.YNc(19,U4,3,4,"ng-container",16),e.qZA(),e.YNc(20,f_,3,4,"td",16),e.TgZ(21,"td"),e._UZ(22,"p-button",53),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw(3).ngIf,s=e.oxw();e.xp6(2),e.Q6J("ngIf",t.lastEdit),e.xp6(2),e.hij(" ",t.workCalculationId," "),e.xp6(2),e.Q6J("task",t.workLog.task),e.xp6(2),e.Udp("max-width","20rem"),e.xp6(1),e.hij(" ",s.cache.getReport(t.workLog,i.employee.login)," "),e.xp6(2),e.hij(" ",e.xi3(12,17,100*t.ratio,"1.2-2"),"% "),e.xp6(3),e.Q6J("employee",t.lastEdit?t.lastEdit.employee:t.creator),e.xp6(2),e.hij(" ",t.isPaidWork?"\u0414\u0430":"\u041d\u0435\u0442"," "),e.xp6(1),e.Udp("text-align",t.isPaidWork?"center":""),e.Q6J("colSpan",t.isPaidWork?2:1),e.xp6(1),e.Q6J("ngIf",t.isPaidWork),e.xp6(1),e.Q6J("ngIf",!t.isPaidWork),e.xp6(1),e.Q6J("ngIf",!t.isPaidWork),e.xp6(2),e.Q6J("queryParams",e.VKq(20,H4,t.workLog.workLogId))("routerLink",e.DdM(22,jv))}}function z4(n,o){if(1&n&&(e.TgZ(0,"div",58)(1,"div",59)(2,"div",60),e._UZ(3,"span",61),e.TgZ(4,"span"),e._uU(5,"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u043d"),e.qZA()(),e.TgZ(6,"span",62),e._uU(7),e.qZA()(),e.TgZ(8,"div",63),e._UZ(9,"app-employee-label",30),e.TgZ(10,"span",64),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(6),e.Udp("max-width","50rem"),e.xp6(1),e.Oqu(t.description),e.xp6(2),e.Q6J("employee",t.employee),e.xp6(2),e.Oqu(e.lcZ(12,5,e.xi3(13,7,t.timestamp,"EEEE, dd MMMM yyyy HH:mm")))}}function J4(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",55)(2,"div",56),e.YNc(3,z4,14,10,"div",57),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(3),e.Q6J("ngForOf",t.editedBy)}}function m_(n,o){if(1&n&&(e.TgZ(0,"p-table",45),e.YNc(1,Wv,20,0,"ng-template",24),e.YNc(2,V4,23,23,"ng-template",25),e.YNc(3,J4,4,1,"ng-template",46),e.qZA()),2&n){const t=e.oxw().ngIf;e.Q6J("value",t.calculations)}}function Kv(n,o){if(1&n&&(e.ynx(0),e.YNc(1,m_,4,1,"p-table",44),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","READY"===t.cache.calculatedLoadingState)}}function qv(n,o){1&n&&e._UZ(0,"p-progressSpinner",37)}function df(n,o){1&n&&(e.TgZ(0,"div",69),e._UZ(1,"span",70),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function __(n,o){1&n&&(e.TgZ(0,"div",71),e._UZ(1,"span",70),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),e.qZA()())}function XI(n,o){if(1&n&&(e.TgZ(0,"div",65),e.ynx(1,34),e.YNc(2,qv,1,0,"p-progressSpinner",66),e.YNc(3,df,4,0,"div",67),e.YNc(4,__,4,0,"div",68),e.BQk(),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",t.cache.calculatedLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function $v(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"app-employee-label",30),e.TgZ(3,"span",40),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"div",41)(8,"span",42),e._uU(9,"\u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.YNc(10,Kv,2,1,"ng-container",16),e.ALo(11,"async"),e.YNc(12,XI,5,4,"div",43),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw();e.xp6(2),e.Q6J("employee",t.employee),e.xp6(2),e.Oqu(e.lcZ(5,4,e.xi3(6,6,t.date,"EEEE, dd MMMM yyyy"))),e.xp6(6),e.Q6J("ngIf",e.lcZ(11,9,i.cache.workingDay$)),e.xp6(2),e.Q6J("ngIf","READY"!==i.cache.calculatedLoadingState)}}const Q4=function(){return{display:"grid",grid:"1fr / min-content 1fr"}},Xv=function(){return[]};let Fu=(()=>{class n{constructor(t){this.cache=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zv))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:23,vars:22,consts:[["appExtendPageHeight","",1,"flex"],[1,"px-3","mb-3","flex-grow-1"],[1,"pt-1"],[1,"flex","flex-column","gap-3","flex-grow-1","p-3","pt-1","overflow-hidden"],[1,"flex","flex-column","panel","overflow-hidden"],[1,"flex","gap-3","p-2",3,"formGroup"],[1,"p-inputgroup","w-max"],[1,"p-inputgroup-addon"],[1,"mdi-calendar_month"],["appendTo","body","dateFormat","MM yy","formControlName","date","inputStyleClass","border-noround-left","view","month",3,"readonlyInput","firstDayOfWeek"],["class","flex gap-2 align-items-center",4,"ngIf"],[1,"flex-grow-1"],["appendTo","body",3,"popup","model"],["otchetMenu",""],["type","button","pButton","","label","\u041e\u0442\u0447\u0435\u0442\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446",3,"click"],["offLabel","\u0411\u0415\u0417 \u041d\u0414\u0424\u041b","onLabel","\u0421 \u041d\u0414\u0424\u041b",3,"formControl"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["class","flex flex-column panel p-3 gap-3",4,"ngIf"],[1,"flex","gap-2","align-items-center"],[1,"caption","wt-black","f-color-500","size-small","with-icon"],[1,"mdi-group"],["appendTo","body","formControlName","position","placeholder","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",3,"options"],["scrollHeight","50rem","scrollDirection","horizontal","styleClass","p-datatable-sm",3,"columns","value","scrollable"],["pTemplate","header"],["pTemplate","body"],[1,"flexed","gap5","vend","caption","size-big","wt-tiny","p10"],["class","caption size-tiny","pFrozenColumn","",3,"frozen","alignFrozen",4,"ngFor","ngForOf"],["pFrozenColumn","",1,"caption","size-tiny",3,"frozen","alignFrozen"],["pFrozenColumn",""],[3,"employee"],["class","caption size-tiny f-inline cursor-pointer hover:text-primary-400",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["pFrozenColumn","","alignFrozen","right",1,"caption","size-tiny"],[1,"caption","size-tiny","f-inline","cursor-pointer","hover:text-primary-400",3,"ngClass","click"],[3,"ngSwitch"],["class","flex align-items-center justify-content-center p-3",3,"width",4,"ngSwitchCase"],[1,"flex","align-items-center","justify-content-center","p-3"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","panel","p-3","gap-3"],[1,"flex","align-items-center","gap-3"],[1,"caption","text-sm","text-bluegray-400"],[1,"flex","flex-column","gap-1"],[1,"text-bluegray-400","text-lg","font-semibold"],["class","flex align-items-center justify-content-center p-3 border-round-md border-1 border-bluegray-100 overflow-hidden",4,"ngIf"],["dataKey","workCalculationId","styleClass","border-round-md border-1 border-bluegray-100 overflow-hidden",3,"value",4,"ngIf"],["dataKey","workCalculationId","styleClass","border-round-md border-1 border-bluegray-100 overflow-hidden",3,"value"],["pTemplate","rowexpansion"],[1,"text-sm"],[1,"text-bluegray-500"],["class","p-button-text p-button-rounded p-button-plain","pButton","","pRipple","","type","button",3,"icon","pRowToggler",4,"ngIf"],[3,"task"],["appTooltip","",1,"text-max-lines-3","text-sm"],[3,"colSpan"],["icon","mdi-edit","styleClass","p-button-icon p-button-warning p-button-text",3,"queryParams","routerLink"],["pButton","","pRipple","","type","button",1,"p-button-text","p-button-rounded","p-button-plain",3,"icon","pRowToggler"],["colspan","9"],[1,"flex","flex-column"],["class","grid split-line py-3",4,"ngFor","ngForOf"],[1,"grid","split-line","py-3"],[1,"col-10","gap-2","flex","flex-column"],[1,"flex","align-items-center","font-bold","text-bluegray-500"],[1,"mdi-autorenew"],[1,"text-sm","text-primary-400","ml-3"],[1,"col-2"],[1,"text-xs","text-bluegray-400","font-semibold"],[1,"flex","align-items-center","justify-content-center","p-3","border-round-md","border-1","border-bluegray-100","overflow-hidden"],["class","custom-spinner custom-spinner-8xl custom-spinner-primary","strokeWidth","1",4,"ngSwitchCase"],["class","flex flex-column text-danger align-items-center text-xl",4,"ngSwitchCase"],["class","flex flex-column text-bluegray-400 align-items-center text-xl",4,"ngSwitchCase"],[1,"flex","flex-column","text-danger","align-items-center","text-xl"],[1,"mds-error"],[1,"flex","flex-column","text-bluegray-400","align-items-center","text-xl"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),e._UZ(8,"i",8),e.qZA(),e._UZ(9,"p-calendar",9),e.qZA(),e.YNc(10,Jv,6,1,"div",10),e.ALo(11,"async"),e._UZ(12,"div",11)(13,"p-menu",12,13),e.ALo(15,"async"),e.TgZ(16,"button",14),e.NdJ("click",function(w){e.CHM(s);const J=e.MAs(14);return e.KtG(J.toggle(w))}),e.qZA(),e._UZ(17,"p-toggleButton",15),e.qZA(),e.YNc(18,Z4,2,1,"ng-container",16),e.ALo(19,"async"),e.YNc(20,$I,2,2,"ng-container",17),e.qZA(),e.YNc(21,$v,13,11,"div",18),e.ALo(22,"async"),e.qZA()()()}if(2&t){let s;e.xp6(1),e.Akn(e.DdM(20,Q4)),e.xp6(4),e.Q6J("formGroup",i.cache.filtrationForm),e.xp6(4),e.Q6J("readonlyInput",!0)("firstDayOfWeek",1),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,12,i.cache.positions$)),e.xp6(3),e.Q6J("popup",!0)("model",null!==(s=e.lcZ(15,14,i.cache.accountingMenuItems$))&&void 0!==s?s:e.DdM(21,Xv)),e.xp6(4),e.Q6J("formControl",i.cache.ndflSwitch),e.xp6(1),e.Q6J("ngIf",e.lcZ(19,16,i.cache.salaryTable$)),e.xp6(2),e.Q6J("ngIf","READY"!==i.cache.tableLoadingState),e.xp6(1),e.Q6J("ngIf",e.lcZ(22,18,i.cache.selectedDay$))}}}),n})();function G4(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," (\u0443\u0434\u0430\u043b\u0435\u043d) "),e.qZA())}function e1(n,o){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function C_(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," \u0411\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f "),e.qZA())}function eT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw(2);return e.KtG(p.openCreationDialog(s))}),e.qZA(),e.TgZ(2,"p-button",32),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw(2);return e.KtG(p.deletePaidAction(s.paidActionId))}),e.qZA()()}}function W4(n,o){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"span",19)(3,"span"),e._uU(4),e.qZA(),e.YNc(5,G4,2,0,"span",20),e.qZA(),e.YNc(6,e1,2,1,"span",21),e.YNc(7,C_,2,0,"span",20),e.qZA(),e.YNc(8,eT,3,0,"div",22),e.TgZ(9,"div",23)(10,"span",24),e._uU(11),e.ALo(12,"currency"),e.ALo(13,"unitName"),e.qZA(),e._UZ(14,"app-employee-label",25)(15,"div",26),e.TgZ(16,"span",27),e._uU(17),e.ALo(18,"date"),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(3),e.AsE(" ",e.xi3(12,9,t.cost,"RUB"),"/",e.lcZ(13,12,t.unit)," "),e.xp6(3),e.Q6J("employee",t.creator),e.xp6(3),e.hij(" ",e.xi3(18,14,t.created,"dd MMMM yyyy HH:mm")," ")}}function tT(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,W4,19,17,"div",16),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",null==t.paidActionsPage?null:t.paidActionsPage.content)("ngForTrackBy",t.trackByPaidAction)}}function Y4(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"p-progressSpinner",34),e.qZA(),e.BQk())}function j4(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function K4(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",37),e._UZ(2,"span",38),e.TgZ(3,"span"),e._uU(4,"\u041f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function t1(n,o){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"unitName"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" \u0411\u0435\u0437 \u041d\u0414\u0424\u041b: ",e.xi3(2,2,t.withoutNDFL,"RUB"),"/",e.lcZ(3,5,t.createForm.value.unit)," ")}}function n1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",49),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function q4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",50),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.editPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function o1(n,o){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"input",40)(2,"textarea",41)(3,"p-inputNumber",42)(4,"p-dropdown",43),e.TgZ(5,"div",44),e.YNc(6,t1,4,7,"span",45),e._UZ(7,"div",26),e.YNc(8,n1,1,3,"p-button",46),e.YNc(9,q4,1,3,"p-button",47),e.qZA()()),2&n){const t=e.oxw();e.Udp("margin-top",".2rem"),e.Q6J("formGroup",t.createForm),e.xp6(2),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("maxFractionDigits",1),e.xp6(1),e.Q6J("options",t.typeOptions),e.xp6(1),e.Q6J("ngSwitch",t.createDialogMode),e.xp6(1),e.Q6J("ngIf",t.withoutNDFL>0&&t.createForm.value.unit),e.xp6(2),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}const s1=function(){return{grid:"1fr min-content/1fr"}},$4=function(){return{width:"40rem"}};let r1=(()=>{class n{constructor(t,i,s,p,w){this.api=t,this.rt=i,this.route=s,this.router=p,this.confirm=w,this.loadingState=he.Gu.LOADING,this.subscriptions=new _.xf,this.filterForm=new f.cw({nameQuery:new f.NI(""),includeDeleted:new f.NI(!1)}),this.page=0,this.createDialogVisible=!1,this.createDialogMode="create",this.createForm=new f.cw({name:new f.NI("",[f.kI.required]),description:new f.NI(""),cost:new f.NI(0,[f.kI.required]),unit:new f.NI("",[f.kI.required])}),this.typeOptions=[{label:"\u0417\u0430 \u0448\u0442\u0443\u043a\u0443",value:he.b9.AMOUNT},{label:"\u0417\u0430 \u043c\u0435\u0442\u0440",value:he.b9.METRES},{label:"\u0417\u0430 \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c",value:he.b9.KILOGRAMS}],this.beginCreate=!1}get withoutNDFL(){return this.createForm.value.cost?Math.round(this.createForm.value.cost-.13*this.createForm.value.cost):0}unitName(t){switch(t){case he.b9.AMOUNT:return"\u0448\u0442.";case he.b9.METRES:return"\u043c\u0435\u0442\u0440";case he.b9.KILOGRAMS:return"\u043a\u0433."}}get createDialogHeader(){return"create"===this.createDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}trackByPaidAction(t,i){return i.paidActionId+i.name+i.description+i.cost+i.unit}ngOnInit(){this.filterForm.valueChanges.pipe((0,Ls.b)(1e3),(0,Qr.x)()).pipe((0,mt.U)(s=>{let p={includeDeleted:s.includeDeleted};return s.nameQuery&&(p.nameQuery=s.nameQuery),this.page=0,p})).subscribe(s=>{this.router.navigate(["."],{relativeTo:this.route,queryParams:s}).then()});const t=this.route.params.pipe((0,Qr.x)()),i=this.route.queryParams.pipe((0,Qr.x)());(0,Bo.a)([t,i]).subscribe(([s,p])=>{var w;this.loadingState=he.Gu.LOADING,this.filterForm.patchValue({nameQuery:null!==(w=p.nameQuery)&&void 0!==w?w:"",includeDeleted:"true"===p.includeDeleted}),this.api.getPageOfPaidActions(s.page-1,p).subscribe({next:J=>{this.loadingState=J.totalElements>0?he.Gu.READY:he.Gu.EMPTY,this.paidActionsPage=J},error:()=>this.loadingState=he.Gu.ERROR,complete:()=>{this.page=s.page||0}})}),this.subscriptions.addSubscription("paCr",this.rt.paidActionCreated().subscribe(s=>{var p,w,J;null!==(p=this.paidActionsPage)&&void 0!==p&&p.content.find($e=>$e.identifier===s.identifier)||(null===(w=this.paidActionsPage)||void 0===w||w.content.unshift(s),this.paidActionsPage&&this.paidActionsPage.content.length>25&&(null===(J=this.paidActionsPage)||void 0===J||J.content.pop()))})),this.subscriptions.addSubscription("paEd",this.rt.paidActionUpdated().subscribe(s=>{if(!this.paidActionsPage)return;const p=this.paidActionsPage.content.findIndex(w=>w.identifier===s.identifier);-1!==p&&(this.paidActionsPage.content[p]=s)})),this.subscriptions.addSubscription("paDe",this.rt.paidActionDeleted().subscribe(s=>{if(!this.paidActionsPage)return;const p=this.paidActionsPage.content.findIndex(w=>w.identifier===s.identifier);-1!==p&&(this.paidActionsPage.content.splice(p,1),this.paidActionsPage.totalElements--)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}changePage(t){this.router.navigate(["/salary","paid-actions",t+1],{queryParamsHandling:"merge"})}openCreationDialog(t){var i;this.createForm.reset(),this.createDialogMode=t?"edit":"create",this.editingPaidActionId=null==t?void 0:t.paidActionId,t&&this.createForm.setValue({name:t.name,description:null!==(i=t.description)&&void 0!==i?i:"",cost:t.cost,unit:t.unit}),this.createDialogVisible=!0}createPaidAction(){this.createForm.valid&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.createPaidAction(this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}editPaidAction(){this.createForm.valid&&this.editingPaidActionId&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.editPaidAction(this.editingPaidActionId,this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}deletePaidAction(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",accept:()=>{this.api.deletePaidAction(t).subscribe()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(d.gz),e.Y36(d.F0),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:23,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","px-3","mb-3"],[1,"grided","gap10","stretched"],[1,"flexed","gap10","panel","p10","vcenter",3,"formGroup"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["formControlName","nameQuery","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","includeDeleted","offIcon","mdi-visibility","offLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onIcon","mdi-visibility_off","onLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"grided","panel","p10",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange"],["appendTo","body",3,"visible","draggable","dismissableMask","header","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column"],["class","flexed p10 gap10 h-fit split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","p10","gap10","h-fit","split-line"],[1,"flexed","column","stretched"],[1,"caption","size-big","flexed","hcenter","gap3"],["class","caption size-small f-color-500",4,"ngIf"],["class","caption size-small",4,"ngIf"],["class","flexed column gap5",4,"ngIf"],[1,"flexed","column","gap5","vend","hstart"],[1,"caption"],[3,"employee"],[1,"stretched"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","f-color-500"],[1,"caption","size-small"],[1,"flexed","column","gap5"],["icon","mdi-edit","styleClass","p-button-warning p-button-icon p-button-outlined",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-outlined",3,"onClick"],[1,"grided","vcenter","hcenter"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-danger","grided","vcenter","hcenter"],[1,"mds-error"],[1,"caption","size-big","wt-bold","f-color-500","grided","vcenter","hcenter"],[1,"mds-search_off"],[1,"grided","gap10",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...",3,"autoResize","cols","rows"],["currency","RUB","formControlName","cost","locale","ru-RU","mode","currency","placeholder","\u0421\u0443\u043c\u043c\u0430...",3,"maxFractionDigits"],["appendTo","body","formControlName","unit","placeholder","\u0422\u0438\u043f",3,"options"],[1,"flexed","hcenter",3,"ngSwitch"],["class","caption size-big f-color-500",4,"ngIf"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],[1,"caption","size-big","f-color-500"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4)(6,"span",5),e._UZ(7,"i",6),e.qZA(),e._UZ(8,"input",7),e.qZA(),e._UZ(9,"p-toggleButton",8),e.TgZ(10,"p-button",9),e.NdJ("onClick",function(){return i.openCreationDialog()}),e.qZA()(),e.TgZ(11,"div",10),e.YNc(12,tT,3,2,"ng-container",11),e.YNc(13,Y4,3,0,"ng-container",11),e.YNc(14,j4,5,0,"ng-container",11),e.YNc(15,K4,5,0,"ng-container",11),e.TgZ(16,"p-paginator",12),e.NdJ("onPageChange",function(p){return i.changePage(p.page)}),e.qZA()()()()(),e.TgZ(17,"p-dialog",13),e.NdJ("visibleChange",function(p){return i.createDialogVisible=p}),e.YNc(18,o1,10,12,"ng-template",14),e.qZA()),2&t){let s;e.xp6(3),e.Udp("grid","min-content 1fr/1fr"),e.xp6(1),e.Q6J("formGroup",i.filterForm),e.xp6(7),e.Akn(e.DdM(21,s1)),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("first",25*(i.page-1))("rows",25)("totalRecords",null!==(s=null==i.paidActionsPage?null:i.paidActionsPage.totalElements)&&void 0!==s?s:0),e.xp6(1),e.Akn(e.DdM(22,$4)),e.Q6J("visible",i.createDialogVisible)("draggable",!1)("dismissableMask",!0)("header",i.createDialogHeader)("modal",!0)("resizable",!1)}}}),n})();var pf=b(2629);const X4=function(){return{padding:"0 0 0 1rem"}};function a1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"span",26),e._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(3,"div",27),e.TgZ(4,"p-button",28),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(17);return e.KtG(p.toggle(s))}),e.qZA()()}2&n&&e.Akn(e.DdM(2,X4))}function l1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",29)(1,"p-button",30),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(19);return e.KtG(p.toggle(s))}),e.qZA()()}}function c1(n,o){1&n&&e.GkF(0)}function u1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,c1,1,0,"ng-container",31),e.BQk()),2&n){e.oxw();const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ex(n,o){1&n&&e.GkF(0)}function tx(n,o){1&n&&e.GkF(0)}function nT(n,o){1&n&&e.GkF(0)}function d1(n,o){1&n&&e.GkF(0)}const yh=function(n){return{$implicit:n}};function iT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,d1,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(4);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,yh,t))}}function oT(n,o){1&n&&e.GkF(0)}function sT(n,o){if(1&n&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),e.qZA(),e.TgZ(3,"span",43),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",t.selectedNodeInTree.data.description," ")}}const nx=function(){return{alignContent:"flex-start"}};function rT(n,o){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,tx,1,0,"ng-container",37),e.TgZ(2,"div",38),e.YNc(3,nT,1,0,"ng-container",31),e.YNc(4,iT,2,4,"ng-container",39),e.YNc(5,oT,1,0,"ng-container",31),e.qZA(),e.YNc(6,sT,5,1,"div",40),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27),s=e.MAs(33),p=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(10,yh,t.selectedNodeInTree)),e.xp6(1),e.Akn(e.DdM(12,nx)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngForOf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.children)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",p),e.xp6(1),e.Q6J("ngIf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.data.description)}}function aT(n,o){1&n&&e.GkF(0)}function lT(n,o){1&n&&e.GkF(0)}function hf(n,o){if(1&n&&(e.ynx(0),e.YNc(1,lT,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function cT(n,o){1&n&&e.GkF(0)}function p1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,cT,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(31);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function gf(n,o){if(1&n&&(e.TgZ(0,"div",47)(1,"span",48),e._uU(2,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"span",51),e._uU(4),e.qZA()()),2&n){const t=e.oxw(5);e.xp6(4),e.Oqu(null==t.currentWork?null:t.currentWork.description)}}function h1(n,o){1&n&&e.GkF(0)}function g1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,h1,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(5);const i=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,yh,t))}}function uT(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.YNc(2,gf,5,1,"div",46),e.TgZ(3,"div",47)(4,"span",48),e._uU(5," \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f "),e.qZA(),e.TgZ(6,"div",47),e.YNc(7,g1,2,4,"ng-container",39),e.qZA(),e._UZ(8,"div",49),e.TgZ(9,"div",50)(10,"span"),e._uU(11,"\u0412\u0441\u0435\u0433\u043e"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",null==t.currentWork?null:t.currentWork.description),e.xp6(5),e.Q6J("ngForOf",null==t.currentWork?null:t.currentWork.actions)("ngForTrackBy",t.trackByAction),e.xp6(6),e.hij("",t.currentWorkActionsSum," \u0440\u0443\u0431")}}function v_(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,aT,1,0,"ng-container",37),e.ynx(2,8),e.YNc(3,hf,2,1,"ng-container",9),e.YNc(4,p1,2,1,"ng-container",9),e.YNc(5,uT,14,4,"ng-container",9),e.BQk(),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(6,yh,t.selectedNodeInTree)),e.xp6(1),e.Q6J("ngSwitch",t.workLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY")}}function f1(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,rT,7,13,"div",34),e.YNc(2,v_,6,8,"div",35),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.selectedNodeInTree.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function ix(n,o){1&n&&e.GkF(0)}function m1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ix,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,yh,t))}}function dT(n,o){1&n&&e.GkF(0)}function ox(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",52)(2,"div",53),e.YNc(3,m1,2,4,"ng-container",39),e.YNc(4,dT,1,0,"ng-container",31),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(35);e.xp6(2),e.Akn(e.DdM(6,nx)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.treeMenuItems)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function sx(n,o){if(1&n&&(e.ynx(0),e.YNc(1,f1,3,3,"ng-container",32),e.YNc(2,ox,5,7,"ng-container",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedNodeInTree),e.xp6(1),e.Q6J("ngIf",!t.selectedNodeInTree)}}function rx(n,o){1&n&&e.GkF(0)}function ff(n,o){1&n&&e.GkF(0)}function ax(n,o){1&n&&e.GkF(0)}function pT(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54),e.YNc(2,rx,1,0,"ng-container",37),e.TgZ(3,"div",53),e.YNc(4,ff,1,0,"ng-container",31),e.YNc(5,ax,1,0,"ng-container",31),e.TgZ(6,"div",55),e._UZ(7,"span",56),e.TgZ(8,"span"),e._uU(9,"\u041d\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(27),s=e.MAs(33),p=e.MAs(35);e.xp6(2),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(4,yh,t.selectedNodeInTree)),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",p)}}function hT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function gT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const _1=function(){return{maxWidth:"15rem"}};function lx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57),e.NdJ("keyup.enter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.enterButtonPress())}),e._UZ(1,"input",58)(2,"textarea",59),e.ynx(3,8),e.YNc(4,hT,1,2,"p-button",60),e.YNc(5,gT,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createGroupForm),e.xp6(1),e.Akn(e.DdM(7,_1)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("ngSwitch",t.createGroupDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function cx(n,o){if(1&n&&(e.TgZ(0,"div",74)(1,"p-inputNumber",75),e.NdJ("mousedown",function(i){return i.stopPropagation()})("dblclick",function(i){return i.stopPropagation()}),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("formGroup",t.control),e.xp6(1),e.Q6J("size",4)("min",.01)("minFractionDigits",0)("maxFractionDigits",2)("max",99999)("allowEmpty",!1)}}function fT(n,o){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70)(2,"span",71),e._uU(3),e.qZA(),e.TgZ(4,"span",72),e._uU(5),e.ALo(6,"unitName"),e.qZA()(),e.YNc(7,cx,2,7,"div",73),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Udp("max-width","15rem"),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431./",e.lcZ(6,6,t.unit)," "),e.xp6(2),e.Q6J("ngIf","select"===t.mode)}}function ux(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function C1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.updateWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const b_=function(){return{height:"30rem"}};function mT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",64),e._UZ(1,"input",65)(2,"textarea",66),e.TgZ(3,"p-pickList",67),e.NdJ("onMoveToSource",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.unselectPaidAction(s))})("onMoveToTarget",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectPaidAction(s))}),e.YNc(4,fT,8,8,"ng-template",68),e.qZA(),e.ynx(5,8),e.YNc(6,ux,1,2,"p-button",60),e.YNc(7,C1,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createWorkForm),e.xp6(1),e.Akn(e.DdM(14,_1)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("source",t.availablePaidActions)("sourceStyle",e.DdM(15,b_))("targetStyle",e.DdM(16,b_))("target",t.selectedPaidActions),e.xp6(2),e.Q6J("ngSwitch",t.createWorkDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function Cl(n,o){if(1&n&&(e.TgZ(0,"div",76)(1,"div",47)(2,"span",77),e._uU(3),e.qZA(),e.TgZ(4,"span",78),e._UZ(5,"span",79),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"unitName"),e.qZA()()(),e._UZ(9,"div",27),e.TgZ(10,"span",80),e._uU(11),e.ALo(12,"unitName"),e.qZA(),e.TgZ(13,"span",81),e._uU(14),e.qZA()()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.action.name," "),e.xp6(4),e.AsE(" ",t.action.cost," \u0440\u0443\u0431/",e.lcZ(8,6,t.action.unit)," "),e.xp6(4),e.AsE(" \u041a\u043e\u043b-\u0432\u043e: ",t.count," ",e.lcZ(12,8,t.action.unit)," "),e.xp6(3),e.hij(" \u0421\u0442\u043e\u0439\u043c\u043e\u0441\u0442\u044c: ",t.action.cost*t.count," \u0440\u0443\u0431 ")}}function dx(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",82)(2,"span"),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",t.data.name," ")}}function y_(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",83)(2,"p-button",84),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.back())}),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"div",27),e.TgZ(6,"p-button",85),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,p=e.oxw();return p.editingWorkId=s.data.id,e.KtG(p.openEditWorkDialog())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" ",t.data.name," ")}}function px(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,dx,4,1,"ng-container",9),e.YNc(2,y_,7,1,"ng-container",9),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function il(n,o){1&n&&e.YNc(0,px,3,3,"ng-container",32),2&n&&e.Q6J("ngIf",o.$implicit)}function hx(n,o){1&n&&(e.TgZ(0,"div",86),e._UZ(1,"p-progressSpinner",87),e.qZA())}function x_(n,o){1&n&&(e.TgZ(0,"div",86)(1,"div",88),e._UZ(2,"span",89),e.TgZ(3,"span"),e._uU(4," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()())}function gx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.back())}),e._UZ(1,"span",92),e.TgZ(2,"span",93),e._uU(3,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()()}}function fx(n,o){if(1&n&&e.YNc(0,gx,4,0,"div",90),2&n){const t=e.oxw();e.Q6J("ngIf",t.selectedNodeInTree)}}function I_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(s){e.CHM(t),e.oxw();const p=e.MAs(19);return e.KtG(p.toggle(s))}),e._UZ(1,"span",94),e.TgZ(2,"span",93),e._uU(3,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),e.qZA()()}}function v1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.selectGroupInView(p))}),e._UZ(1,"span"),e.TgZ(2,"span",95),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Tol("group"===t.type?"mds-folder":"mds-construction"),e.xp6(2),e.Oqu(t.data.name)}}const b1=function(){return{padding:"0"}};let y1=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirmation=s,this.rootContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog()},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog()}],this.treeMenuItems=[],this.createGroupDialogVisible=!1,this.createGroupDialogMode="create",this.createGroupForm=new f.cw({name:new f.NI("",[f.kI.required]),description:new f.NI(""),parentGroupId:new f.NI(null)}),this.treeContextMenuItems=[],this.subscriptions=new _.xf,this.createWorkDialogVisible=!1,this.createWorkDialogMode="create",this.createWorkForm=new f.cw({name:new f.NI("",[f.kI.required]),description:new f.NI(""),parentGroupId:new f.NI(null),actions:new f.Oe([],[P.d.notEmpty])}),this.breadcrumbHome={icon:"mdi-home",command:()=>{this.selectedNodeInTree=void 0,this.changeBreadcrumbs()}},this.breadcrumb=[],this.availablePaidActions=[],this.selectedPaidActions=[],this.loadingTreeState=he.Gu.LOADING,this.workLoadingState=he.Gu.LOADING,this.inViewContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}],pf.mp.prototype.isNodeLeaf=p=>p.leaf}get currentWorkActionsSum(){return this.currentWork?this.currentWork.actions.reduce((t,i)=>t+i.count*i.action.cost,0):0}trackByAction(t,i){return i.paidActionTemplateId+i.count}trackByNode(t,i){var s,p;return null!==(p=null!==(s=i.key)&&void 0!==s?s:""+i.leaf)&&void 0!==p?p:""+i.label+JSON.stringify(i.data)}selectPaidAction(t){t.items.forEach(i=>{i.mode="select",i.controlIndex=this.createWorkForm.controls.actions.length,i.control=new f.cw({actionId:new f.NI(i.paidActionId),count:new f.NI(1)}),this.createWorkForm.controls.actions.push(i.control)})}unselectPaidAction(t){t.items.forEach(i=>{i.mode=void 0,i.control=void 0,this.createWorkForm.controls.actions.removeAt(i.controlIndex)})}unitName(t){switch(t){case he.b9.AMOUNT:return"\u0448\u0442.";case he.b9.METRES:return"\u043c.";case he.b9.KILOGRAMS:return"\u043a\u0433."}}changeContextMenuItems(){var t,i,s;if(this.selectedNodeInTree)switch(this.selectedNodeInTree.type){case"group":this.treeContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",items:[{label:"\u0413\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0420\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditGroupDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteGroup()}];break;case"work":this.treeContextMenuItems=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditWorkDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteWork()}]}"group"===(null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.type)?this.loadOfGroup({node:this.selectedNodeInTree},()=>this.changeBreadcrumbs()):"work"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)&&null!==(s=this.selectedNodeInTree)&&void 0!==s&&s.key&&this.loadWork(this.selectedNodeInTree.key)}changeBreadcrumbs(){if(this.selectedNodeInTree){let t=this.selectedNodeInTree;const i=[];for(;t;){let s=t.key;i.push({label:t.label,key:s,command:()=>{var p;if((null===(p=this.selectedNodeInTree)||void 0===p?void 0:p.key)===s)return;let w;const J=[];for(let _e of this.breadcrumb)if(void 0===w?w=this.treeMenuItems.find($e=>$e.key===_e.key):w.children&&(w=w.children.find($e=>$e.key===_e.key)),J.push(_e),w&&w.key===s)break;this.selectedNodeInTree=w,this.breadcrumb=J}}),t=t.parent}this.breadcrumb=i.reverse()}else this.breadcrumb=[]}openCreateGroupDialog(t){this.createGroupForm.reset(),this.createGroupDialogMode="create",this.createGroupDialogVisible=!0,this.createGroupForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null})}openEditGroupDialog(){var t,i,s,p,w,J,_e,$e,Xe,Xt;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createGroupForm.reset(),this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createGroupDialogMode="edit",this.createGroupDialogVisible=!0,this.createGroupForm.setValue({name:null!==(p=null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.label)&&void 0!==p?p:"",description:null!==(J=null===(w=this.selectedNodeInTree)||void 0===w?void 0:w.data.description)&&void 0!==J?J:"",parentGroupId:null!==($e=null===(_e=this.selectedNodeInTree)||void 0===_e?void 0:_e.parent)&&void 0!==$e&&$e.key?parseInt(null===(Xt=null===(Xe=this.selectedNodeInTree)||void 0===Xe?void 0:Xe.parent)||void 0===Xt?void 0:Xt.key):null}))}openCreateWorkDialog(t){this.createWorkForm.reset(),this.createWorkDialogMode="create",this.createWorkDialogVisible=!0,this.createWorkForm.controls.actions.clear(),this.createWorkForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null}),this.selectedPaidActions=[],this.api.getListAvailablePaidActions().subscribe({next:i=>this.availablePaidActions=i})}openEditWorkDialog(){var t,i,s,p,w,J,_e,$e,Xe,Xt;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createWorkForm.reset(),this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createWorkDialogMode="edit",this.createWorkDialogVisible=!0,this.createWorkForm.patchValue({name:null!==(p=null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.label)&&void 0!==p?p:"",description:null!==(J=null===(w=this.selectedNodeInTree)||void 0===w?void 0:w.data.description)&&void 0!==J?J:"",parentGroupId:null!==($e=null===(_e=this.selectedNodeInTree)||void 0===_e?void 0:_e.parent)&&void 0!==$e&&$e.key?parseInt(null===(Xt=null===(Xe=this.selectedNodeInTree)||void 0===Xe?void 0:Xe.parent)||void 0===Xt?void 0:Xt.key):null}),this.selectedPaidActions=[],this.createWorkForm.controls.actions.clear(),this.api.getListAvailablePaidActions().subscribe({next:jt=>{var Wt;!(null===(Wt=this.selectedNodeInTree)||void 0===Wt)&&Wt.data.actions&&this.selectedNodeInTree.data.actions.forEach(fn=>{let Rn=structuredClone(fn.action);Rn.mode="select",Rn.controlIndex=this.createWorkForm.controls.actions.length,Rn.control=new f.cw({actionId:new f.NI(Rn.paidActionId),count:new f.NI(fn.count)}),this.selectedPaidActions.push(Rn),this.createWorkForm.controls.actions.push(Rn.control)}),this.availablePaidActions=jt.filter(fn=>-1===this.selectedPaidActions.findIndex(Rn=>Rn.paidActionId===fn.paidActionId))}}))}ngOnInit(){this.api.getRootTreeOfWorks().subscribe({next:t=>{this.treeMenuItems=t,this.loadingTreeState=t.length>0?he.Gu.READY:he.Gu.EMPTY},error:()=>{this.loadingTreeState=he.Gu.ERROR}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const i=this.foundNodeByPath(t.sourcePath),s=this.foundNodeByPath(t.targetPath);if(i){if(i.children){const p=i.children.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&i.children.splice(p,1),0===i.children.length&&(i.leaf=!0)}}else{const p=this.treeMenuItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&this.treeMenuItems.splice(p,1)}s?(s.children?-1===s.children.findIndex(w=>w.key===t.object.key&&w.type===t.object.type)&&s.children.push(t.object):(s.children=[],s.children.push(t.object)),s.leaf=!1):-1===this.treeMenuItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type)&&this.treeMenuItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var i,s;const p=this.foundNodeByPath(t.path);if(p&&p.children){const w=null===(i=p.children)||void 0===i?void 0:i.findIndex(J=>J.key===t.object.key&&J.type===t.object.type);w>-1&&(p.children[w]=t.object)}else if(!p){const w=this.treeMenuItems.findIndex(J=>J.key===t.object.key&&J.type===t.object.type);w>-1&&(this.treeMenuItems[w]=t.object)}(null===(s=this.selectedNodeInTree)||void 0===s?void 0:s.key)===t.object.key&&(this.selectedNodeInTree=t.object)})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const i=this.foundNodeByPath(t.path);i?(i.children||(i.children=[]),i.children.push(t.object),i.children.sort((s,p)=>s.position-p.position),i.leaf=!1):(this.treeMenuItems.push(t.object),this.treeMenuItems.sort((s,p)=>s.position-p.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const p=s.children.findIndex(w=>w.key===t.object.key);this.selectedNodeInTree===s.children[p]&&(this.selectedNodeInTree=void 0),p>-1&&(null===(i=s.children)||void 0===i||i.splice(p,1))}else if(!s){const p=this.treeMenuItems.findIndex(w=>w.key===t.object.key);this.selectedNodeInTree===this.treeMenuItems[p]&&(this.selectedNodeInTree=void 0),p>-1&&this.treeMenuItems.splice(p,1)}})),this.subscriptions.addSubscription("workUp",this.rt.paidWorkUpdated().subscribe({next:t=>{var i;(null===(i=this.currentWork)||void 0===i?void 0:i.paidWorkId)===t.paidWorkId&&(this.currentWork=t)}})),this.subscriptions.addSubscription("sort",this.rt.worksTreeReposition().subscribe(t=>{t.forEach(i=>{const s="group"===i.type?"g":"w";if(i.path&&i.path.length>0){const p=this.foundNodeByPath(i.path);p&&p.children&&(p.children.find(J=>J.key===s+i.id).position=i.position,p.children.sort((J,_e)=>J.position-_e.position))}else this.treeMenuItems.find(w=>w.key===s+i.id).position=i.position,this.treeMenuItems.sort((w,J)=>w.position-J.position)})}))}foundNodeByPath(t){var i;if(!t||0===t.length)return null;let s=null,p=this.treeMenuItems;for(let w of t){if(!p)return null;if(s=null!==(i=p.find(J=>J.key==="g"+w))&&void 0!==i?i:null,!s)return null;p=s.children}return s}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createGroup(){this.createGroupForm.valid&&this.api.createPaidWorkGroup(this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}updateGroup(){this.editingGroupId&&this.createGroupForm.valid&&this.api.editPaidWorkGroup(this.editingGroupId,this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}nodeDrop(t){this.api.treeWorksDragDrop(new he.AE(t)).subscribe(),this.api.paidWorkTreeReposition(this.getPositions(t)).subscribe(()=>this.changeBreadcrumbs())}getPositions(t){const i=t.dragNode.parent,s=t.dropNode.parent;let p=[];return i||s?i?s?i===s&&(p=[...i.children.map((w,J)=>({id:w.key.substring(1),type:w.type,position:J}))]):p=[...i.children.map((w,J)=>({id:w.key.substring(1),type:w.type,position:J})),...this.treeMenuItems.map((w,J)=>({id:w.key.substring(1),type:w.type,position:J}))]:p=[...this.treeMenuItems.map((w,J)=>({id:w.key.substring(1),type:w.type,position:J})),...s.children.map((w,J)=>({id:w.key.substring(1),type:w.type,position:J}))]:p=this.treeMenuItems.map((w,J)=>({id:w.key.substring(1),type:w.type,position:J})),p}loadOfGroup(t,i=(()=>{})){"group"!==t.node.type||t.node.children&&t.node.children.length>0?"group"===t.node.type&&(this.loadingTreeState=he.Gu.READY,i()):(this.loadingTreeState=he.Gu.LOADING,this.api.getWorksOfGroup(t.node.key.substring(1)).subscribe({next:s=>{t.node.children=s,this.loadingTreeState=s.length>0?he.Gu.READY:he.Gu.EMPTY,i()},error:()=>{this.loadingTreeState=he.Gu.ERROR}}))}createWork(){this.createWorkForm.valid&&this.api.createPaidWork(this.createWorkForm.value).subscribe({next:()=>{this.createWorkDialogVisible=!1},error:()=>{}})}updateWork(){this.editingWorkId&&this.createWorkForm.valid&&this.api.editPaidWork(this.editingWorkId,this.createWorkForm.value).subscribe(()=>{this.createWorkDialogVisible=!1})}selectNode(t){var i;"group"===t.node.type?this.loadOfGroup(t,()=>this.changeBreadcrumbs()):null!==(i=this.selectedNodeInTree)&&void 0!==i&&i.key&&this.loadWork(this.selectedNodeInTree.key)}selectGroupInView(t){setTimeout(()=>{var i,s;this.selectedNodeInTree&&!this.selectedNodeInTree.leaf&&(this.selectedNodeInTree.expanded=!0),this.selectedNodeInTree=t,"group"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)?this.loadOfGroup({node:t},()=>this.changeBreadcrumbs()):null!==(s=this.selectedNodeInTree)&&void 0!==s&&s.key&&this.loadWork(this.selectedNodeInTree.key)},200)}loadWork(t){this.loadingTreeState=he.Gu.READY,this.workLoadingState=he.Gu.LOADING,this.api.getPaidWorkById(parseInt(t.substring(1))).subscribe({next:i=>{this.currentWork=i,this.workLoadingState=he.Gu.READY,this.changeBreadcrumbs()},error:()=>{this.workLoadingState=he.Gu.ERROR}})}back(){var t;this.loadingTreeState=he.Gu.READY,this.selectedNodeInTree&&(this.selectedNodeInTree.expanded=!1),this.selectedNodeInTree=null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.parent,this.changeBreadcrumbs()}deleteGroup(){var t,i;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0440\u0430\u0431\u043e\u0442? (\u0420\u0430\u0431\u043e\u0442\u044b \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u043d\u0435 \u0431\u0443\u0434\u0443\u0442)",accept:()=>{!this.editingGroupId||this.api.deletePaidWorkGroup(this.editingGroupId).subscribe(()=>{})}}))}deleteWork(){var t,i;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443?",accept:()=>{!this.editingWorkId||this.api.deletePaidWork(this.editingWorkId).subscribe(()=>{})}}))}enterButtonPress(){"create"===this.createGroupDialogMode?this.createGroup():"edit"===this.createGroupDialogMode&&this.updateGroup()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([N.Y])],decls:38,vars:32,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","mb-3","px-3"],[1,"flexed","column","gap10","stretched","panel","p10"],[3,"home","model"],[1,"flexed","gap10","stretched"],["styleClass","work-tree","draggableScope","self","droppableScope","self","selectionMode","single",3,"selection","contextMenu","draggableNodes","droppableNodes","lazy","loading","value","onNodeContextMenuSelect","onNodeDrop","onNodeExpand","onNodeSelect","onNodeUnselect","selectionChange"],["pTemplate","header"],["pTemplate","empty"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appendTo","body",3,"model"],["treeContextMenu",""],[3,"model","popup"],["rootTreeMenu",""],["inViewContextMenu",""],["appendTo","body",3,"visible","dismissableMask","header","resizable","visibleChange"],["pTemplate","content"],[3,"visible","dismissableMask","autoZIndex","baseZIndex","header","resizable","visibleChange"],["workEntryRef",""],["nodeTitleRef",""],["loadingRef",""],["errorRef",""],["backButtonRef",""],["createButtonRef",""],["nodeRef",""],[1,"flexed","hcenter","gap10"],[1,"caption","size-big","f-inline"],[1,"stretched"],["icon","mdi-more_vert","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"flexed","p10","w-full","vcenter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add","styleClass","p-button-secondary p-button-text",3,"onClick"],[4,"ngTemplateOutlet"],[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],["class","flexed column gap10 stretched",4,"ngSwitchCase"],["class","flexed column stretched",4,"ngSwitchCase"],[1,"flexed","column","gap10","stretched"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","wrapped","gap10","stretched"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","group-description",4,"ngIf"],[1,"group-description"],[1,"caption","size-small","f-inline"],[1,"caption"],[1,"flexed","column","stretched"],[1,"flexed","column","gap10","p10"],["class","flexed column",4,"ngIf"],[1,"flexed","column"],[1,"caption","wt-bold","size-big","f-color-500"],[1,"terminator-bottom"],[1,"flexed","gap5","vend","hcenter","caption","wt-tiny","f-color-primary","size-big","p10"],[1,"caption","indent1"],[1,"flexed","column","gap10"],[1,"flexed","wrapped","gap10"],[1,"flexed","column","gap10","relative","stretched"],[1,"center-of-content","flexed","column","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-receipt_long"],[1,"flexed","column","gap10","p1",3,"formGroup","keyup.enter"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","autofocus",""],["cols","50","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","rows","5",3,"autoResize"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],[1,"flexed","column","gap10","p1",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","autofocus",""],["cols","70","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","rows","5",3,"autoResize"],["filterBy","name","sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","targetHeader","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",3,"dragdrop","showSourceControls","showTargetControls","source","sourceStyle","targetStyle","target","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flexed","gap5"],[1,"flexed","column","gap5","stretched"],["appTicker","",1,"caption","white-space-nowrap","overflow-hidden"],[1,"caption","size-small","f-color-500"],["class","w-min z-5",3,"formGroup",4,"ngIf"],[1,"w-min","z-5",3,"formGroup"],["formControlName","count",3,"size","min","minFractionDigits","maxFractionDigits","max","allowEmpty","mousedown","dblclick"],[1,"flexed","gap5","hcenter","p10","split-line"],[1,"caption","size-big","f-color-600"],[1,"caption","with-icon","size-small","f-color-500","wt-black"],[1,"mdi-payments"],[1,"caption","size-big","wt-tiny"],[1,"caption","size-big","f-color-primary","wt-tiny"],[1,"caption","size-huge","f-color-500","wt-bold","f-inline"],[1,"flexed","hcenter","gap5","p3","caption","size-huge","f-color-500","wt-bold","f-inline"],["styleClass","p-button-text p-button-secondary p-button-icon","icon","mdi-arrow_back",3,"onClick"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"onClick"],[1,"relative","stretched"],[1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-content"],[1,"flexed","hcenter","column","caption","size-big","wt-bold","f-color-danger","center-of-content"],[1,"mds-error"],["class","group-list-el primary","pRipple","",3,"click",4,"ngIf"],["pRipple","",1,"group-list-el","primary",3,"click"],[1,"mds-arrow_top_left"],[1,"name"],[1,"mds-add"],["appTicker","",1,"name"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"p-breadcrumb",3),e.TgZ(5,"div",4)(6,"p-tree",5),e.NdJ("onNodeContextMenuSelect",function(){return i.changeContextMenuItems()})("onNodeDrop",function(p){return i.nodeDrop(p)})("onNodeExpand",function(p){return i.loadOfGroup(p)})("onNodeSelect",function(p){return i.selectNode(p)})("onNodeUnselect",function(){return i.changeBreadcrumbs()})("selectionChange",function(p){return i.selectedNodeInTree=p}),e.YNc(7,a1,5,3,"ng-template",6),e.YNc(8,l1,2,0,"ng-template",7),e.qZA(),e.ynx(9,8),e.YNc(10,u1,2,1,"ng-container",9),e.YNc(11,ex,1,0,"ng-container",9),e.YNc(12,sx,3,2,"ng-container",9),e.YNc(13,pT,10,6,"ng-container",9),e.BQk(),e.qZA()()()(),e._UZ(14,"p-contextMenu",10,11)(16,"p-menu",12,13)(18,"p-menu",12,14),e.TgZ(20,"p-dialog",15),e.NdJ("visibleChange",function(p){return i.createGroupDialogVisible=p}),e.YNc(21,lx,6,8,"ng-template",16),e.qZA(),e.TgZ(22,"p-dialog",17),e.NdJ("visibleChange",function(p){return i.createWorkDialogVisible=p}),e.YNc(23,mT,8,17,"ng-template",16),e.qZA(),e.YNc(24,Cl,15,10,"ng-template",null,18,e.W1O),e.YNc(26,il,1,1,"ng-template",null,19,e.W1O),e.YNc(28,hx,2,0,"ng-template",null,20,e.W1O),e.YNc(30,x_,5,0,"ng-template",null,21,e.W1O),e.YNc(32,fx,1,1,"ng-template",null,22,e.W1O),e.YNc(34,I_,4,0,"ng-template",null,23,e.W1O),e.YNc(36,v1,4,3,"ng-template",null,24,e.W1O)),2&t){const s=e.MAs(15);e.xp6(4),e.Q6J("home",i.breadcrumbHome)("model",i.breadcrumb),e.xp6(2),e.Akn(e.DdM(31,b1)),e.Q6J("selection",i.selectedNodeInTree)("contextMenu",s)("draggableNodes",!0)("droppableNodes",!0)("lazy",!0)("loading","LOADING"===i.loadingTreeState)("value",i.treeMenuItems),e.xp6(3),e.Q6J("ngSwitch",i.loadingTreeState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("model",i.treeContextMenuItems),e.xp6(2),e.Q6J("model",i.rootContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("model",i.inViewContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("visible",i.createGroupDialogVisible)("dismissableMask",!0)("header","create"===i.createGroupDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b")("resizable",!1),e.xp6(2),e.Q6J("visible",i.createWorkDialogVisible)("dismissableMask",!0)("autoZIndex",!1)("baseZIndex",4400)("header","create"===i.createWorkDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b")("resizable",!1)}},styles:[".group-list-el[_ngcontent-%COMP%]{cursor:pointer;display:grid;align-items:center;justify-content:center;justify-items:center;padding:.2rem 1rem 1rem;border-radius:.5rem;border:1px solid var(--bgc-200);font-size:.85rem;font-weight:700;color:var(--tc-600);width:min-content;transition:all .1s ease-in-out}.group-list-el[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;width:100%;text-align:center}.group-list-el[_ngcontent-%COMP%]:hover{border-color:var(--mc-100);color:var(--mc-400)}.empty-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.group-description[_ngcontent-%COMP%]{display:grid;border-top:1px solid var(--bgc-200);padding-top:.5rem}"],data:{animation:[u.S9]}}),n})();function x1(n,o){1&n&&e.GkF(0)}function I1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,x1,1,0,"ng-container",10),e.BQk()),2&n){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function mx(n,o){1&n&&e.GkF(0)}function T1(n,o){if(1&n&&(e.ynx(0),e.YNc(1,mx,1,0,"ng-container",10),e.BQk()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function _x(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"span",18),e._uU(3," \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c "),e.qZA(),e.TgZ(4,"p-button",19),e.NdJ("onClick",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(null==s?null:s.equalize())}),e.qZA()(),e.TgZ(5,"app-employee-sum-distribution",20,21),e.NdJ("onRemoveFactorAction",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onRemoveFactorAction(s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("actionPicker",t.worksPickerForm$)("employees",t.selectedWorkLog.employees)("formControl",t.employeeRatioForm)}}function xh(n,o){1&n&&e._UZ(0,"p-inputNumber",22)}function Bl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.sendCalculation())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("loading",t.isSendingCalculation)}}function A1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",26),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.openRecalculationConformationDialog())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("loading",t.isSendingCalculation)}}function T_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Bl,1,1,"p-button",23),e.YNc(2,A1,1,1,"p-button",24),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf","CALCULATE"===t),e.xp6(1),e.Q6J("ngIf","RECALCULATE"===t)}}function gc(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",11),e.YNc(2,_x,7,3,"ng-container",4),e.ALo(3,"async"),e.TgZ(4,"div",12)(5,"div",13)(6,"span",14),e._uU(7,"\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(8,"p-inputSwitch",15),e.YNc(9,xh,1,0,"p-inputNumber",16),e.qZA(),e.YNc(10,T_,3,2,"ng-container",4),e.ALo(11,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,t.worksPickerForm$)),e.xp6(3),e.Q6J("formGroup",t.paidWorkForm),e.xp6(4),e.Q6J("ngIf",t.paidWorkForm.value.isPaidWork),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,6,t.recalculate$))}}function Cx(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30),e._UZ(2,"p-progressSpinner",31),e.qZA(),e.BQk())}function _T(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30)(2,"div",32),e._UZ(3,"span",33),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function vx(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.author.fullName," ")}}function bx(n,o){if(1&n&&(e.ynx(0),e.YNc(1,vx,2,1,"ng-container",4),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.awaitingWriting)}}function yx(n,o){if(1&n&&(e.TgZ(0,"span",48),e._uU(1," \u041d\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u043e\u0442\u0447\u0435\u0442\u044b: "),e.YNc(2,bx,2,1,"ng-container",49),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.workReports)}}function xx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"span",39),e._uU(4),e.qZA(),e.TgZ(5,"span",40),e._uU(6,"\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 "),e._UZ(7,"app-task-link",41),e.qZA()(),e.TgZ(8,"div",38)(9,"span",39),e._uU(10),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.qZA(),e._UZ(13,"app-employee-label",42),e.qZA(),e.TgZ(14,"div",38)(15,"span",39),e._uU(16),e.ALo(17,"titlecase"),e.ALo(18,"date"),e.qZA(),e._UZ(19,"app-avatar-list",43),e.qZA()(),e._UZ(20,"div",44),e.TgZ(21,"div",45),e.YNc(22,yx,3,1,"span",46),e.TgZ(23,"p-button",47),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.selectWork(p))}),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("#",t.workLogId,""),e.xp6(3),e.Q6J("task",t.task),e.xp6(3),e.hij("\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430: ",e.lcZ(11,10,e.xi3(12,12,t.created,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employee",t.creator)("size",1.2),e.xp6(3),e.hij("\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430: ",e.lcZ(17,15,e.xi3(18,17,t.closed,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employees",t.employees)("size",1.2),e.xp6(3),e.Q6J("ngIf",t.isReportsUncompleted),e.xp6(1),e.Q6J("disabled",t.isReportsUncompleted)}}function w1(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",34),e.YNc(2,xx,24,20,"div",35),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.uncalculatedWorkLogs)("ngForTrackBy",t.trackByWorkLog)}}function CT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",30)(2,"div",50),e._UZ(3,"span",51),e.TgZ(4,"span"),e._uU(5,"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA()()(),e.BQk())}function E1(n,o){if(1&n&&(e.TgZ(0,"div",27),e._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445"),e.qZA(),e.ynx(2,28),e.YNc(3,Cx,3,0,"ng-container",29),e.YNc(4,_T,6,0,"ng-container",29),e.YNc(5,w1,3,2,"ng-container",29),e.YNc(6,CT,6,0,"ng-container",29),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function Ix(n,o){1&n&&(e.TgZ(0,"span",70),e._uU(1,"(\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0430)"),e.qZA())}function S1(n,o){1&n&&(e.TgZ(0,"div",60),e._UZ(1,"span",71),e.TgZ(2,"span"),e._uU(3," \u0426\u0435\u043b\u044c "),e.qZA()())}function vT(n,o){if(1&n&&(e.TgZ(0,"div",72),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription," ")}}function A_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.unselectWork())}),e.qZA(),e.TgZ(2,"span",54),e._uU(3),e.qZA(),e.YNc(4,Ix,2,0,"span",55),e.qZA(),e.TgZ(5,"div",56),e._UZ(6,"app-task-fields-table-view",57),e.TgZ(7,"div",37),e.YNc(8,S1,4,0,"div",58),e.YNc(9,vT,2,1,"div",59),e.qZA(),e.TgZ(10,"div",37)(11,"div",60),e._UZ(12,"span",61),e.TgZ(13,"span"),e._uU(14),e.qZA()(),e.TgZ(15,"div",62),e._uU(16),e.qZA()(),e.TgZ(17,"div",63)(18,"app-label",64),e._UZ(19,"app-employee-label",65),e.qZA(),e.TgZ(20,"app-label",66),e._UZ(21,"app-duration",67),e.qZA()(),e._UZ(22,"div",68)(23,"app-works-picker",69),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.isSendingCalculation),e.xp6(2),e.hij("\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 #",null==t.selectedWorkLog||null==t.selectedWorkLog.task?null:t.selectedWorkLog.task.taskId,""),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.isForceClosed),e.xp6(2),e.Q6J("task",null==t.selectedWorkLog?null:t.selectedWorkLog.task)("isTaskBody",!1),e.xp6(2),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(5),e.hij(" ",null!=t.selectedWorkLog&&t.selectedWorkLog.isForceClosed?"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f":"\u041e\u0442\u0447\u0435\u0442"," "),e.xp6(2),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.report," "),e.xp6(3),e.Q6J("employee",null==t.selectedWorkLog?null:t.selectedWorkLog.creator),e.xp6(2),e.Q6J("short",!1)("ms",null==t.selectedWorkLog?null:t.selectedWorkLog.leadTime),e.xp6(2),e.Q6J("employees",null==t.selectedWorkLog?null:t.selectedWorkLog.employees)("formControl",t.worksPickerForm)}}function k1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",75),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.emptyCalculationDescription=s)}),e.qZA()(),e.TgZ(5,"div",76)(6,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.emptyCalculationConformationDialogVisible=!1,e.KtG(s.emptyCalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",78),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendEmptyCalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.emptyCalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.emptyCalculationDescription)("loading",t.isSendingCalculation)}}function D1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",75),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.recalculationDescription=s)}),e.qZA()(),e.TgZ(5,"div",76)(6,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.recalculationConformationDialogVisible=!1,e.KtG(s.recalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",79),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendRecalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.recalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.recalculationDescription)("loading",t.isSendingCalculation)}}const w_=function(){return{width:"50vw",minWidth:"fit-content"}};let E_=(()=>{class n{constructor(t,i,s,p,w,J){this.api=t,this.confirmation=i,this.rt=s,this.router=p,this.route=w,this.nav=J,this.uncalculatedWorkLogs=[],this.loadingState=he.Gu.LOADING,this.actionsTaken=[],this.employeeRatioForm=new f.NI({}),this.factorsActions=[],this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.recalculationConformationDialogVisible=!1,this.recalculationDescription="",this.isSendingCalculation=!1,this.subscriptions=new _.xf,this.removeWorkLogFromListHandler={next:_e=>{this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter($e=>$e.workLogId!==_e.workLogId)}},this.addWorkLogToListHandler={next:_e=>{this.uncalculatedWorkLogs.unshift(_e)}},this.sendingCalculationHandlers={next:()=>{this.isSendingCalculation=!1,this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.recalculationConformationDialogVisible=!1,this.recalculationDescription="",this.resetCalculation(),this.selectedWorkLog&&(this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(_e=>{var $e;return _e.workLogId!==(null===($e=this.selectedWorkLog)||void 0===$e?void 0:$e.workLogId)}),this.uncalculatedWorkLogs.length>0&&this.selectWork(this.uncalculatedWorkLogs[0]))},error:()=>{this.isSendingCalculation=!1}},this.worksPickerForm=new f.NI(null),this.worksPickerForm$=this.worksPickerForm.valueChanges.pipe((0,cn.d)(1)),this.workLogId$=this.route.queryParams.pipe((0,mt.U)(_e=>_e.workLogId)),this.selectedWorkLog$=this.workLogId$.pipe((0,R.w)(_e=>_e?this.api.getWorkLog(_e,!0):(0,Tn.of)(void 0))),this.setupFormValues$=this.selectedWorkLog$.pipe((0,R.w)(_e=>_e?this.api.getAlreadyCalculatedWorkForm(null==_e?void 0:_e.workLogId):(0,Tn.of)(null))),this.recalculate$=this.setupFormValues$.pipe((0,mt.U)(_e=>_e?"RECALCULATE":"CALCULATE")),this.paidWorkForm=new f.cw({isPaidWork:new f.NI(!1),amountOfMoneyTaken:new f.NI(null,[f.kI.min(0),f.kI.required])})}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadUncalculatedWorkLogs(),this.subscriptions.addSubscription("wp",this.worksPickerForm.valueChanges.subscribe(t=>{var i;!t||(this.actionsTaken=t.actionsTaken,this.factorsActions=null!==(i=t.factorsActions)&&void 0!==i?i:[])})),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().subscribe(()=>this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?he.Gu.READY:he.Gu.EMPTY},error:t=>{this.loadingState=he.Gu.ERROR}}))),this.subscriptions.addSubscription("chQue",this.selectedWorkLog$.subscribe(t=>this.selectedWorkLog=t)),this.subscriptions.addSubscription("setupForm",this.setupFormValues$.subscribe(t=>{var i,s;t?(this.worksPickerForm.setValue({actionsTaken:t.actions,factorsActions:t.factorsActions}),this.employeeRatioForm.setValue(t.employeesRatio),this.paidWorkForm.setValue({isPaidWork:null!==(i=t.isPaidWork)&&void 0!==i&&i,amountOfMoneyTaken:null!==(s=t.amountOfMoneyTaken)&&void 0!==s?s:null})):(this.worksPickerForm.reset(),this.employeeRatioForm.reset(),this.paidWorkForm.reset())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadUncalculatedWorkLogs(){this.loadingState=he.Gu.LOADING,this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?he.Gu.READY:he.Gu.EMPTY},error:t=>{this.loadingState=he.Gu.ERROR}}),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().pipe((0,r.h)(t=>t.calculated)).subscribe(this.removeWorkLogFromListHandler)),this.subscriptions.addSubscription("wlCr",this.rt.workLogClosed().pipe((0,r.h)(t=>!t.calculated)).subscribe(this.addWorkLogToListHandler))}selectWork(t){this.router.navigate(["."],{relativeTo:this.route,queryParams:{workLogId:t.workLogId}}).then()}unselectWork(){this.nav.backOrDefault(["/salary","estimation"]),this.resetCalculation()}resetCalculation(){this.worksPickerForm.reset(),this.employeeRatioForm.reset()}sendCalculation(){if(this.paidWorkForm.markAllAsTouched(),!this.paidWorkForm.value.isPaidWork||!this.paidWorkForm.invalid){if(0===this.actionsTaken.length)return void(this.emptyCalculationConformationDialogVisible=!0);this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u0447\u0435\u0442?",accept:()=>{!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers))}})}}openRecalculationConformationDialog(){this.recalculationConformationDialogVisible=!0}sendRecalculation(){this.paidWorkForm.markAllAsTouched(),(!this.paidWorkForm.value.isPaidWork||!this.paidWorkForm.invalid)&&(!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),emptyDescription:0===this.actionsTaken.length?this.recalculationDescription:null,editingDescription:this.recalculationDescription,spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers)))}sendEmptyCalculation(){this.paidWorkForm.value.isPaidWork&&this.paidWorkForm.invalid||!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,emptyDescription:this.emptyCalculationDescription,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandlers))}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.factorsActions=this.factorsActions.filter(i=>i.uuid!==t)}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}onRemoveFactorAction(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N.YP),e.Y36(de.U),e.Y36(d.F0),e.Y36(d.gz),e.Y36(nt.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([N.Y])],decls:16,vars:19,consts:[["appExtendPageHeight","",1,"flex"],[1,"flex","gap-3","flex-grow-1","px-3","mb-3"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","stretched","panel","p10"],[4,"ngIf"],["uncalculatedListTemp",""],["selectedWorkTemp",""],["header","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0440\u0430\u0441\u0447\u0435\u0442?",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],["pTemplate","content"],["header","\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442?",3,"visible","dismissableMask","draggable","modal","resizable","visibleChange"],[4,"ngTemplateOutlet"],[1,"flexed","column","gap15","stretched","panel","p20"],[1,"flex","gap-3","align-items-center","align-self-end"],[1,"flex","gap-2","align-items-center",3,"formGroup"],[1,"text-sm","text-bluegray-400","font-bold","white-space-nowrap"],["formControlName","isPaidWork",1,"line-height-0"],["formControlName","amountOfMoneyTaken","class","touched-error","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",4,"ngIf"],[1,"flexed","gap10","hcenter","spbtw"],[1,"caption","size-huge"],["icon","mdi-equalizer","label","\u0420\u0430\u0432\u043d\u044b\u0435 \u0434\u043e\u043b\u0438","styleClass","p-button-text p-button-secondary",3,"onClick"],[3,"actionPicker","employees","formControl","onRemoveFactorAction"],["sumDistr",""],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",1,"touched-error"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick",4,"ngIf"],["icon","mdi-currency_exchange","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick",4,"ngIf"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],["icon","mdi-currency_exchange","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],[1,"caption","size-huge","wt-tiny","f-color-600"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"stretched","relative"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary","center-of-content"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-danger","wt-bold"],[1,"mds-error"],[1,"flexed","column"],["class","flexed gap3 p10 split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","p10","split-line"],[1,"flexed","column","gap3"],[1,"flexed","gap5","hcenter"],[1,"caption","size-small","wt-bold","f-color-600"],[1,"caption"],[3,"task"],[3,"employee","size"],[3,"employees","size"],[1,"stretched"],[1,"flex","gap-3","align-items-center"],["class","text-red-400 text-sm font-bold",4,"ngIf"],["label","\u0420\u0430\u0441c\u0447\u0438\u0442\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"disabled","onClick"],[1,"text-red-400","text-sm","font-bold"],[4,"ngFor","ngForOf"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-400","wt-bold"],[1,"mds-release_alert"],[1,"flexed","hcenter","gap10"],["icon","mdi-arrow_back","styleClass","p-button-text p-button-icon",3,"disabled","onClick"],[1,"caption","wt-tiny","f-color-600","size-huge"],["class","caption f-color-danger wt-bold size-big",4,"ngIf"],[1,"flexed","column","p-sides-20","gap10"],[3,"task","isTaskBody"],["class","caption f-color-700 size-big with-icon",4,"ngIf"],["class","flexed column p-sides-20",4,"ngIf"],[1,"caption","f-color-700","size-big","with-icon"],[1,"mdi-feed"],[1,"caption","prewrap","p-sides-20"],[1,"flex","flex-column","gap-2"],["label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u043b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432","styleClass","translate-x-0"],[3,"employee"],["label","\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","styleClass","translate-x-0"],[3,"short","ms"],[1,"terminator-bottom"],[1,"mb-4",3,"employees","formControl"],[1,"caption","f-color-danger","wt-bold","size-big"],[1,"mdi-radar"],[1,"flexed","column","p-sides-20"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-success",3,"disabled","loading","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,I1,2,1,"ng-container",4),e.YNc(6,T1,2,1,"ng-container",4),e.qZA(),e.YNc(7,gc,12,8,"ng-container",4),e.qZA()()(),e.YNc(8,E1,7,5,"ng-template",null,5,e.W1O),e.YNc(10,A_,24,14,"ng-template",null,6,e.W1O),e.TgZ(12,"p-dialog",7),e.NdJ("visibleChange",function(p){return i.emptyCalculationConformationDialogVisible=p}),e.YNc(13,k1,8,6,"ng-template",8),e.qZA(),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(p){return i.recalculationConformationDialogVisible=p}),e.YNc(15,D1,8,6,"ng-template",8),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",!i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(5),e.Akn(e.DdM(17,w_)),e.Q6J("visible",i.emptyCalculationConformationDialogVisible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(18,w_)),e.Q6J("visible",i.recalculationConformationDialogVisible)("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1))},styles:[".table-wrapper[_ngcontent-%COMP%]{border:1px solid var(--bgc-300);border-radius:var(--br-200);overflow:hidden}"]}),n})();var Bs=b(8675),mf=b(262);let _f=(()=>{class n{constructor(t){this.api=t,this.users=[],this.page=[],this.first=0,this.PAGE_SIZE=10,this.userLoadingState=he.Gu.EMPTY,this.filtrationForm=new f.cw({mode:new f.NI("address"),query:new f.NI(""),isActive:new f.NI(!0)}),this.changeUsersSubject=new Rr.x,this.changeUsers$=this.changeUsersSubject.asObservable(),this.enterSearch=new Rr.x,this.enterDown$=this.enterSearch.pipe((0,Bs.O)(!0)),this.modeChange$=this.filtrationForm.controls.mode.valueChanges.pipe((0,Bs.O)("address")),this.activeChange$=this.filtrationForm.controls.isActive.valueChanges.pipe((0,Bs.O)(!1)),this.enterSearch$=(0,Bo.a)([this.enterDown$,this.modeChange$,this.activeChange$]).pipe((0,Ls.b)(100),(0,mt.U)(()=>this.filtrationForm.value),(0,mt.U)(i=>(i.query&&(i.query=i.query.trim()),i))),this.users$=this.enterSearch$.pipe((0,ei.b)(i=>{this.userLoadingState=he.Gu.LOADING}),(0,R.w)(i=>{if(!i.query)return(0,Tn.of)([]);switch(i.mode){case"login":return this.api.getBillingUsersByLogin(i.query,!i.isActive);case"fio":return this.api.getBillingUsersByFio(i.query,!i.isActive);case"address":return this.api.getBillingUsersByAddress(i.query,!i.isActive)}return(0,Tn.of)([])}),(0,mf.K)((i,s)=>(this.userLoadingState=he.Gu.ERROR,this.users=[],(0,Tn.of)([])))),this.usersHandler={next:i=>{this.userLoadingState=i&&0!==i.length?he.Gu.READY:he.Gu.EMPTY,this.users=i&&0!==i.length?i.sort((s,p)=>s.addr<p.addr?-1:s.addr>p.addr?1:0):[],this.first=1,this.page=this.users.slice(0,this.PAGE_SIZE)}},this.users$.subscribe(i=>this.changeUsersSubject.next(i)),this.changeUsers$.subscribe(this.usersHandler)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M1(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18),e._UZ(2,"p-progressSpinner",19),e.qZA(),e.BQk())}function Tx(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",20),e._UZ(3,"span",21),e.TgZ(4,"span"),e._uU(5,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()()(),e.BQk())}function O1(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",22),e._UZ(3,"span",23),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function P1(n,o){1&n&&e._UZ(0,"app-colored-tag",39)}function Ax(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",35),e._uU(2," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: "),e.qZA(),e.TgZ(3,"span",40),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.coment," ")}}const wx=function(n){return["/clients","billing","user",n]},bT=function(n){return{"f-color-danger":n}};function yT(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"span",29)(2,"span",30),e._uU(3),e.qZA(),e.TgZ(4,"span",31),e._uU(5),e.qZA(),e._UZ(6,"app-colored-tag",32),e.YNc(7,P1,1,0,"app-colored-tag",33),e._UZ(8,"div",34),e.TgZ(9,"span")(10,"span",35),e._uU(11," \u0422\u0435\u043b\u0435\u0444\u043e\u043d: "),e.qZA(),e.TgZ(12,"span",36),e._uU(13),e.qZA()()(),e.TgZ(14,"span",29)(15,"span")(16,"span",35),e._uU(17," \u0424\u0418\u041e: "),e.qZA(),e.TgZ(18,"span",36),e._uU(19),e.qZA()(),e.TgZ(20,"span")(21,"span",35),e._uU(22," \u0422\u0430\u0440\u0438\u0444: "),e.qZA(),e.TgZ(23,"span",37),e._uU(24),e.qZA()()(),e.YNc(25,Ax,5,1,"span",38),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",e.VKq(11,wx,t.uname)),e.xp6(3),e.Oqu(t.uname),e.xp6(2),e.Oqu(t.addr),e.xp6(1),e.Q6J("caption",t.stateName)("color",t.stateColor),e.xp6(1),e.Q6J("ngIf","11"===t.utype),e.xp6(6),e.hij(" ",t.phone," "),e.xp6(6),e.hij(" ",t.fio," "),e.xp6(4),e.Q6J("ngClass",e.VKq(13,bT,!t.tarif)),e.xp6(1),e.hij(" ",t.tarif?t.tarif:"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"," "),e.xp6(1),e.Q6J("ngIf",t.coment)}}function L1(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"div",25),e.YNc(3,yT,26,15,"div",26),e.qZA(),e.TgZ(4,"p-paginator",27),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.pageChange(s))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.busService.page),e.xp6(1),e.Q6J("first",t.busService.first)("rows",t.busService.PAGE_SIZE)("totalRecords",t.busService.users.length)}}const Ex=function(){return{marginBottom:"1rem"}};let R1=(()=>{class n{constructor(t){this.busService=t,this.filterModeItems=[{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"},{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"}]}ngOnInit(){}pageChange(t){this.busService.first=t.first,this.busService.page=this.busService.users.slice(t.first,t.first+t.rows)}clearSearchQuery(){this.busService.filtrationForm.patchValue({query:""})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:12,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","panel","p10"],[1,"caption","size-big","f-color-500"],[1,"flex","flex-column","gap-1",3,"formGroup"],[1,"flex","gap-3","align-items-end"],[1,"input-label-wrapper"],["formControlName","mode",3,"options"],["formControlName","isActive","offLabel","\u0422\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435","onLabel","\u0412\u0441\u0435"],[1,"input-label-wrapper","stretched"],[1,"p-inputgroup"],["formControlName","query","pInputText","","type","text",3,"appPreventInput","keydown.enter","focus"],["mainInput",""],["icon","mdi-search","pButton","","pRipple","","type","button",3,"click"],["icon","mdi-cancel","label","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-outlined p-button-secondary",3,"disabled","onClick"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flexed","vcenter","hcenter","gap10","stretched","panel","p10"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flexed","column","vcenter","caption","f-color-500","size-huge","wt-tiny"],[1,"mds-person_search"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[1,"flexed","column","gap5","stretched","panel","p10"],[1,"flexed","column","stretched"],["class","subscriber-item split-line",3,"routerLink",4,"ngFor","ngForOf"],[3,"first","rows","totalRecords","onPageChange"],[1,"subscriber-item","split-line",3,"routerLink"],[1,"flexed","gap5","hcenter"],[1,"caption","wt-bold","f-color-600"],[1,"caption","f-color-600"],[3,"caption","color"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)",4,"ngIf"],[1,"stretched"],[1,"caption","wt-black","size-small","f-color-500"],[1,"caption"],[1,"caption",3,"ngClass"],[4,"ngIf"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)"],[1,"caption","size-small"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4),e._uU(6,"\u041f\u043e\u0438\u0441\u043a \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432"),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label"),e._uU(11,"\u0420\u0435\u0436\u0438\u043c \u043f\u043e\u0438\u0441\u043a\u0430"),e.qZA(),e._UZ(12,"p-selectButton",8),e.qZA(),e._UZ(13,"p-toggleButton",9),e.qZA(),e.TgZ(14,"div",6)(15,"div",10)(16,"label"),e._uU(17,"\u0417\u0430\u043f\u0440\u043e\u0441"),e.qZA(),e.TgZ(18,"div",11)(19,"input",12,13),e.NdJ("keydown.enter",function(){return i.busService.enterSearch.next(!0)})("focus",function(){e.CHM(s);const w=e.MAs(20);return e.KtG(w.select())}),e.qZA(),e.TgZ(21,"button",14),e.NdJ("click",function(){return i.busService.enterSearch.next(!0)}),e.qZA()()(),e.TgZ(22,"p-button",15),e.NdJ("onClick",function(){return i.clearSearchQuery()}),e.qZA()()()(),e.ynx(23,16),e.YNc(24,M1,3,0,"ng-container",17),e.YNc(25,Tx,6,0,"ng-container",17),e.YNc(26,O1,6,0,"ng-container",17),e.YNc(27,L1,5,5,"ng-container",17),e.BQk(),e.qZA()()()}2&t&&(e.xp6(1),e.Akn(e.DdM(11,Ex)),e.xp6(6),e.Q6J("formGroup",i.busService.filtrationForm),e.xp6(5),e.Q6J("options",i.filterModeItems),e.xp6(7),e.Q6J("appPreventInput","LOADING"===i.busService.userLoadingState),e.xp6(3),e.Q6J("disabled","LOADING"===i.busService.userLoadingState),e.xp6(1),e.Q6J("ngSwitch",i.busService.userLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"))},styles:[".subscriber-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:.5rem;padding:1rem;cursor:pointer;transition:background-color .1s ease-in-out,color .1s ease-in-out}.subscriber-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}.subscriber-item[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{color:var(--mc-500)}"],data:{animation:[u.S9]}}),n})();var Ua=b(655),ol=b(1135),vl=b(5677),N1=b(6768);function xT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",50),e._UZ(2,"p-progressSpinner",51),e.qZA(),e.BQk())}function IT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",50)(2,"div",52),e._UZ(3,"span",53),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function Sx(n,o){1&n&&e.GkF(0)}function Cf(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Sx,1,0,"ng-container",54),e.BQk()),2&n){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function kx(n,o){1&n&&e.GkF(0)}function Dx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.update$.next(s.currentLogin))}),e.qZA()}}function F1(n,o){1&n&&e.GkF(0)}function Bu(n,o){1&n&&e.GkF(0)}function B1(n,o){1&n&&e.GkF(0)}function S_(n,o){1&n&&e.GkF(0)}function k_(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,e.xi3(3,3,t.state.date,"dd MMMM yyyy")))}}function Mx(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),e.qZA())}function D_(n,o){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,k_,4,6,"span",36),e.YNc(2,Mx,2,0,"span",36),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.isToday(t.state.date)),e.xp6(1),e.Q6J("ngIf",i.isToday(t.state.date))}}function M_(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("-",e.xi3(2,1,t.state.startTime,"HH:mm"),"")}}function vf(n,o){1&n&&e._UZ(0,"span",82)}function TT(n,o){if(1&n&&(e.TgZ(0,"span",83),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Udp("color",t.state.color),e.xp6(1),e.Oqu(t.state.numbers)}}function AT(n,o){if(1&n&&(e.TgZ(0,"div",79)(1,"span")(2,"span"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.YNc(5,M_,3,4,"span",36),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.YNc(8,vf,1,0,"span",80),e.YNc(9,TT,2,3,"span",81),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.state.color),e.xp6(3),e.Oqu(e.xi3(4,7,t.state.endTime,"HH:mm")),e.xp6(2),e.Q6J("ngIf",t.state.startTime!==t.state.endTime),e.xp6(2),e.Oqu(t.state.description),e.xp6(1),e.Q6J("ngIf",t.state.numbers>1),e.xp6(1),e.Q6J("ngIf",t.state.numbers>1)}}function wT(n,o){1&n&&(e.TgZ(0,"div",84)(1,"span"),e._uU(2,"\u041d\u0435\u0442 \u043b\u043e\u0433\u043e\u0432"),e.qZA()())}function ET(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",85),e.NdJ("onClick",function(s){e.CHM(t),e.oxw(2);const p=e.MAs(75);return e.KtG(p.toggle(s))}),e.qZA()}}function Z1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",86),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openPaymentDialog())}),e.qZA()}}function Ox(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",87),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openRecalculationDialog())}),e.qZA()}}function Px(n,o){if(1&n&&(e.TgZ(0,"span",88),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw(2);e.Udp("letter-spacing","2px"),e.xp6(1),e.hij(" \u041a\u0440\u0435\u0434\u0438\u0442: ",e.xi3(2,3,t.creditAmount,"RUB")," ")}}function Lx(n,o){if(1&n&&(e.TgZ(0,"span",96),e._uU(1),e.ALo(2,"decline"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(2,2,t.totalElements,"\u0437\u0430\u0434\u0430\u0447\u0430","\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447")," ")}}function Rx(n,o){if(1&n&&e._UZ(0,"app-task-list-element",100),2&n){const t=o.$implicit;e.Q6J("inlined",!0)("item",t)}}function U1(n,o){if(1&n&&(e.TgZ(0,"div",97)(1,"div",98),e.YNc(2,Rx,1,2,"app-task-list-element",99),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Udp("max-height","30rem"),e.xp6(1),e.Q6J("ngForOf",t.value)}}function H1(n,o){1&n&&(e.TgZ(0,"div",101),e._UZ(1,"p-progressSpinner",51),e.qZA()),2&n&&e.Udp("height","30rem")}function V1(n,o){1&n&&(e.TgZ(0,"div",102)(1,"div",103),e._UZ(2,"span",104),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()())}function Nx(n,o){1&n&&(e.TgZ(0,"div",102)(1,"div",105),e._UZ(2,"span",53),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()())}function Fx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",106),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.changeTaskHistoryPage.next(s.page))}),e.qZA()}if(2&n){const t=e.oxw().ngIf;e.Q6J("first",5*t.pageNumber)("rows",5)("totalRecords",t.totalElements)}}function z1(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",55)(2,"div",89),e._UZ(3,"span",90),e.TgZ(4,"span",82),e._uU(5,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(6,Lx,3,7,"span",91),e.qZA(),e.ynx(7,2),e.YNc(8,U1,3,3,"div",92),e.YNc(9,H1,2,2,"div",93),e.YNc(10,V1,5,0,"div",94),e.YNc(11,Nx,5,0,"div",94),e.BQk(),e.YNc(12,Fx,1,3,"p-paginator",95),e.qZA(),e.BQk()),2&n){const t=o.ngIf;e.xp6(6),e.Q6J("ngIf",t.totalElements>0),e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngIf","READY"===t.loadingState)}}const Ih=function(){return{"max-height":"250px"}},ST=function(n,o){return{"f-color-primary":n,"f-color-danger":o}};function J1(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",56)(2,"p-button",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.customNav.backOrDefault(["/clients","billing","search"]))}),e.qZA(),e.TgZ(3,"span",58),e._UZ(4,"span",59),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.YNc(7,kx,1,0,"ng-container",54),e._UZ(8,"div",60),e.TgZ(9,"span",61),e._uU(10,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e "),e._UZ(11,"app-time-elapsed",62),e._uU(12," \u043d\u0430\u0437\u0430\u0434"),e.qZA(),e.YNc(13,Dx,1,0,"p-button",63),e.qZA(),e.TgZ(14,"div",64)(15,"div",65),e.YNc(16,F1,1,0,"ng-container",54),e.YNc(17,Bu,1,0,"ng-container",54),e.YNc(18,B1,1,0,"ng-container",54),e.qZA(),e.TgZ(19,"div",66),e.YNc(20,S_,1,0,"ng-container",54),e.TgZ(21,"p-listbox",67),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.copyMacAddress(s))})("onScrollDown",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.logsLoad(s.currentLogin))}),e.YNc(22,D_,3,2,"ng-template",68),e.YNc(23,AT,10,10,"ng-template",46),e.YNc(24,wT,3,0,"ng-template",69),e.qZA()()(),e.TgZ(25,"div",70)(26,"p-button",71),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(35);return e.KtG(p.toggle(s))}),e.qZA(),e.YNc(27,ET,1,0,"p-button",72),e.YNc(28,Z1,1,0,"p-button",73),e.YNc(29,Ox,1,0,"p-button",74),e._UZ(30,"div",60),e.YNc(31,Px,3,6,"span",75),e.TgZ(32,"span",76),e._uU(33),e.ALo(34,"currency"),e.qZA()()(),e.YNc(35,z1,13,7,"ng-container",36),e.ALo(36,"async")}if(2&n){const t=e.oxw(),i=e.MAs(9),s=e.MAs(11),p=e.MAs(13),w=e.MAs(15),J=e.MAs(33);e.xp6(6),e.hij(" ",null==t.userInfo?null:t.userInfo.uname," "),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(4),e.Q6J("startTime",t.loadingTimestamp),e.xp6(2),e.Q6J("ngIf",t.currentLogin),e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",p),e.xp6(1),e.Q6J("ngTemplateOutlet",w),e.xp6(2),e.Q6J("ngTemplateOutlet",J),e.xp6(1),e.Q6J("group",!0)("listStyle",e.DdM(25,Ih))("options",t.dhcpLogsGroupedList),e.xp6(6),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_CASH)),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_RECALCULATION)),e.xp6(2),e.Q6J("ngIf",t.creditAmount),e.xp6(1),e.Udp("letter-spacing","2px"),e.Q6J("ngClass",e.WLB(26,ST,t.moneyAmount>=0,t.moneyAmount<0)),e.xp6(1),e.hij(" \u0411\u0430\u043b\u0430\u043d\u0441: ",e.xi3(34,20,t.moneyAmount,"RUB")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(36,23,t.tasks$))}}function O_(n,o){1&n&&e._UZ(0,"app-colored-tag",110)}function Bx(n,o){if(1&n&&(e.TgZ(0,"div",107),e._UZ(1,"app-colored-tag",108),e.YNc(2,O_,1,0,"app-colored-tag",109),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("caption",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.userStatusName)("color",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.userStatusColor),e.xp6(1),e.Q6J("ngIf",t.hasCredit)}}function Zx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",118)(1,"div",119),e._UZ(2,"span",120),e.TgZ(3,"span",121),e._uU(4," \u041b\u043e\u0433\u0438\u043d \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d, \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u041b\u041a \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d "),e.qZA()(),e.TgZ(5,"p-button",122),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.enableLogin())}),e.qZA()()}}function kT(n,o){1&n&&e.GkF(0)}function DT(n,o){1&n&&e.GkF(0)}function Ux(n,o){1&n&&e.GkF(0)}function Hx(n,o){1&n&&e.GkF(0)}function Vx(n,o){1&n&&e.GkF(0)}const MT=function(n){return{label:"\u0410\u0434\u0440\u0435\u0441",value:n}},OT=function(n){return{label:"\u0424\u0418\u041e",value:n}},PT=function(n){return{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:n}},LT=function(n){return{label:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d",value:n}},RT=function(n){return{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:n}};function zx(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",111)(1,"div",112)(2,"span",113),e._uU(3," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(4,"button",114),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openEditUserDialog())}),e.qZA()(),e.TgZ(5,"div",115),e.YNc(6,Zx,6,0,"div",116),e.YNc(7,kT,1,0,"ng-container",117),e.YNc(8,DT,1,0,"ng-container",117),e.YNc(9,Ux,1,0,"ng-container",117),e.YNc(10,Hx,1,0,"ng-container",117),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.YNc(13,Vx,1,0,"ng-container",117),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(17);e.xp6(6),e.Q6J("ngIf",!t.isLoginEnable),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(16,MT,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.addr)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(18,OT,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.fio)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(20,PT,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.phone)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(22,LT,e.lcZ(11,11,e.xi3(12,13,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.ddog,"EEEE dd-MM-yyyy")))),e.xp6(3),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(24,RT,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.coment))}}function NT(n,o){if(1&n&&(e.TgZ(0,"span",125),e._UZ(1,"span",120),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=o.ngIf;e.xp6(3),e.hij(" ",t," ")}}function FT(n,o){1&n&&e.GkF(0)}function BT(n,o){1&n&&e.GkF(0)}function ZT(n,o){1&n&&e.GkF(0)}function UT(n,o){1&n&&e.GkF(0)}const HT=function(n,o){return{label:"\u0421\u0442\u0430\u0442\u0443\u0441",value:n,valueClass:o}},a=function(n){return{label:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",value:n}},l=function(n){return{label:"IP",value:n}},v=function(n){return{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",value:n,help:"\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0443."}};function S(n,o){if(1&n&&(e.TgZ(0,"div",127),e.YNc(1,FT,1,0,"ng-container",117),e.YNc(2,BT,1,0,"ng-container",117),e.YNc(3,ZT,1,0,"ng-container",117),e.YNc(4,UT,1,0,"ng-container",117),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA()),2&n){const t=e.oxw().ngIf;e.oxw(2);const i=e.MAs(17);let s;e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(13,HT,"ONLINE"===t.onlineStatus?"\u041e\u043d\u043b\u0430\u0439\u043d":"\u041e\u0444\u043b\u0430\u0439\u043d","ONLINE"===t.onlineStatus?"text-green-400":"text-red-400")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(16,a,null!==(s=null!==(s=t.dhcpClient)&&void 0!==s?s:""+t.dhcpHostname)&&void 0!==s?s:"")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(18,l,t.ipaddr)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(20,v,e.lcZ(5,8,e.xi3(6,10,t.leaseStart,"dd-MM-yyyy HH:mm:ss"))))}}function F(n,o){if(1&n&&(e.ynx(0),e.YNc(1,S,7,22,"div",126),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t&&t.isAuth)}}function re(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",128),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.isAuthDialogVisible=!0)}),e.qZA()}}function Te(n,o){if(1&n&&(e.TgZ(0,"div",111)(1,"span",113),e._uU(2," \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA(),e.YNc(3,NT,4,1,"span",123),e.ALo(4,"async"),e.YNc(5,F,2,1,"ng-container",36),e.ALo(6,"async"),e.YNc(7,re,1,0,"p-button",124),e.ALo(8,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,t.hardwareEmptyMessage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,5,t.activeBinding$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(8,7,t.activeBinding$))}}function Re(n,o){1&n&&e.GkF(0)}function ut(n,o){1&n&&e.GkF(0)}const Lt=function(n){return{label:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b",template:n}};function Kt(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ut,1,0,"ng-container",117),e.BQk()),2&n){e.oxw(2);const t=e.MAs(19),i=e.MAs(23);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,Lt,i))}}function vn(n,o){1&n&&e.GkF(0)}function kn(n,o){1&n&&e.GkF(0)}function Jn(n,o){1&n&&e.GkF(0)}function ri(n,o){1&n&&e.GkF(0)}function _i(n,o){1&n&&e.GkF(0)}const Ei=function(n){return{label:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439",template:n}},Bi=function(n){return{label:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",value:n}},Kn=function(n){return{label:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c",template:n}},Yi=function(n){return{label:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0442\u0430\u0440\u0438\u0444\u0430",value:n}},Ho=function(n){return[n,"","",!1,!0]},js=function(n){return{label:"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437",value:n}},P_=function(n){return{label:"\u0418\u0437\u043c. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f",value:n,help:"\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430. (\u041f\u0440\u0438\u043c. \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u043e\u0442\u043b. \u043f\u043b\u0430\u0442\u0435\u0436)"}};function L_(n,o){if(1&n&&(e.TgZ(0,"div",111)(1,"span",113),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u044b "),e.qZA(),e.TgZ(3,"div",127),e.YNc(4,Re,1,0,"ng-container",117),e.YNc(5,Kt,2,4,"ng-container",129),e.YNc(6,vn,1,0,"ng-container",117),e.YNc(7,kn,1,0,"ng-container",117),e.YNc(8,Jn,1,0,"ng-container",117),e.ALo(9,"titlecase"),e.ALo(10,"date"),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.YNc(13,ri,1,0,"ng-container",117),e.ALo(14,"elapsedTime"),e.YNc(15,_i,1,0,"ng-container",117),e.ALo(16,"titlecase"),e.ALo(17,"date"),e.qZA()()),2&n){const t=e.oxw(),i=e.MAs(19),s=e.MAs(21),p=e.MAs(27),w=e.MAs(17),J=e.MAs(31);e.xp6(4),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(35,Ei,s)),e.xp6(1),e.Q6J("ngIf",t.services.length>0)("ngIfElse",p),e.xp6(1),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(37,Bi,t.totalCost+" \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434")),e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(39,Kn,J)),e.xp6(1),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(41,Yi,e.lcZ(9,14,e.xi3(10,16,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.hdate,"dd-MM-yyyy HH:mm"))+" \u0434\u043e "+e.lcZ(11,19,e.xi3(12,21,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate,"dd-MM-yyyy HH:mm")))),e.xp6(5),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(45,js,e.G7q(14,24,e.VKq(43,Ho,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate)))),e.xp6(2),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(47,P_,e.lcZ(16,30,e.xi3(17,32,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.endstate,"dd-MM-yyyy HH:mm"))))}}function R_(n,o){if(1&n&&e._UZ(0,"span",134),2&n){const t=e.oxw().help;e.Q6J("pTooltip",t)}}function N_(n,o){if(1&n&&(e.TgZ(0,"span",130)(1,"span",131),e._uU(2),e.qZA(),e.TgZ(3,"span",132),e._uU(4),e.qZA(),e.YNc(5,R_,1,1,"span",133),e.qZA()),2&n){const t=o.help,i=o.label,s=o.value,p=o.valueClass;let w;e.xp6(2),e.hij(" ",i,": "),e.xp6(1),e.Q6J("ngClass",p),e.xp6(1),e.hij(" ",null!==(w=s)&&void 0!==w?w:"-"," "),e.xp6(1),e.Q6J("ngIf",t)}}function F_(n,o){1&n&&e.GkF(0)}function B_(n,o){if(1&n&&(e.TgZ(0,"span",135)(1,"span",131),e._uU(2),e.qZA(),e.TgZ(3,"span",136),e.YNc(4,F_,1,0,"ng-container",54),e.qZA()()),2&n){const t=o.label,i=o.template;e.xp6(2),e.hij(" ",t,": "),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function Z_(n,o){if(1&n&&(e.TgZ(0,"span",140),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.mainTariff?null:t.mainTariff.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 ")}}function U_(n,o){1&n&&e.GkF(0)}const bf=function(){return["text-bluegray-400","hover:text-green-400"]},rw=function(n){return{icon:"mdi-edit",label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",btnClass:n}};function aw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",141),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2),w=e.MAs(67);return e.KtG(p.getTariffList(s,w))}),e.YNc(1,U_,1,0,"ng-container",117),e.qZA()}if(2&n){e.oxw(2);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(3,rw,e.DdM(2,bf)))}}function lw(n,o){if(1&n&&(e.TgZ(0,"span",137)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,Z_,2,1,"span",138),e.YNc(4,aw,2,5,"span",139),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",null!=t.mainTariff&&t.mainTariff.service?null==t.mainTariff?null:t.mainTariff.service:"\u041d\u0435\u0442 \u0442\u0430\u0440\u0438\u0444\u0430"," "),e.xp6(1),e.Q6J("ngIf",null==t.mainTariff?null:t.mainTariff.service),e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS))}}function cw(n,o){1&n&&e.GkF(0)}const uw=function(n){return{service:n}};function dw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,cw,1,0,"ng-container",117),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,uw,t))}}function pw(n,o){1&n&&e.GkF(0)}function hw(n,o){if(1&n&&(e.TgZ(0,"div",142),e.YNc(1,dw,2,4,"ng-container",143),e.YNc(2,pw,1,0,"ng-container",54),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(27);e.xp6(1),e.Q6J("ngForOf",t.services),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function gw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",146),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().service,p=e.oxw();return e.KtG(p.removeService(s.service))}),e.qZA()}}function fw(n,o){if(1&n&&(e.TgZ(0,"div",144)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",140),e._uU(4),e.qZA(),e.YNc(5,gw,1,0,"div",145),e.qZA()),2&n){const t=o.service,i=e.oxw();e.xp6(2),e.hij(" ",t.service," "),e.xp6(2),e.hij(" ",t.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 "),e.xp6(1),e.Q6J("ngIf",i.personality.isHasAccess(i.AccessFlag.MANAGE_SUBSCRIBERS))}}function mw(n,o){1&n&&e.GkF(0)}const _w=function(n){return{icon:"mdi-add",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441",btnClass:n}};function Cw(n,o){if(1&n&&(e.ynx(0),e.YNc(1,mw,1,0,"ng-container",117),e.BQk()),2&n){e.oxw(3);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(3,_w,e.DdM(2,bf)))}}function vw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",141),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2),w=e.MAs(71);return e.KtG(p.getServiceList(s,w))}),e.YNc(1,Cw,2,5,"ng-container",36),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.MANAGE_SUBSCRIBERS))}}function bw(n,o){if(1&n&&e.YNc(0,vw,2,1,"span",139),2&n){const t=e.oxw();e.Q6J("ngIf",!(null==t.mainTariff||!t.mainTariff.service))}}function yw(n,o){if(1&n&&(e.TgZ(0,"span",147),e._UZ(1,"span",148),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const i=o.icon,s=o.label;e.Q6J("ngClass",o.btnClass),e.xp6(1),e.Q6J("ngClass",i),e.xp6(2),e.hij(" ",s," ")}}function xw(n,o){if(1&n&&(e.TgZ(0,"div",149)(1,"span")(2,"span"),e._uU(3," \u041f\u043e \u0442\u0430\u0440\u0438\u0444\u0443 "),e.qZA(),e.TgZ(4,"span",140),e._uU(5),e.qZA()(),e.TgZ(6,"span")(7,"span"),e._uU(8," \u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f "),e.qZA(),e.TgZ(9,"span",140),e._uU(10),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.tspeed," \u041c\u0431\u0438\u0442/\u0441 "),e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.speed," \u041c\u0431\u0438\u0442/\u0441 ")}}function Iw(n,o){if(1&n&&e._UZ(0,"app-bindings-table",157),2&n){const t=e.oxw(2).ngIf,i=e.oxw(2);e.Q6J("filterId",t)("inline",!0)("preparedAuthLogin",i.currentLogin)}}function Tw(n,o){1&n&&(e.TgZ(0,"p-tabPanel",156),e.YNc(1,Iw,1,3,"ng-template",21),e.qZA())}function Aw(n,o){if(1&n&&e._UZ(0,"app-commutators-table",159),2&n){const t=e.oxw(2).ngIf;e.Q6J("buildId",t)("inline",!0)}}function ww(n,o){1&n&&(e.TgZ(0,"p-tabPanel",158),e.YNc(1,Aw,1,2,"ng-template",21),e.qZA())}function Ew(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Tw,2,0,"p-tabPanel",154),e.YNc(2,ww,2,0,"p-tabPanel",155),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",t)}}function Sw(n,o){if(1&n&&(e.TgZ(0,"div",150)(1,"p-tabView",151)(2,"p-tabPanel",152),e._UZ(3,"app-bindings-table",153),e.ALo(4,"async"),e.qZA(),e.YNc(5,Ew,3,2,"ng-container",36),e.ALo(6,"async"),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("filterId",e.lcZ(4,4,t.login$))("inline",!0)("preparedAuthLogin",t.currentLogin),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,6,t.activeBuildingId$))}}function kw(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"MAC-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"IP-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"VLAN"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"\u0421\u043c\u0435\u043d\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f"),e.qZA()(),e.TgZ(17,"tr",168)(18,"th"),e._UZ(19,"input",169),e.qZA(),e.TgZ(20,"th"),e._UZ(21,"input",170),e.qZA(),e._UZ(22,"th")(23,"th"),e.TgZ(24,"th"),e._UZ(25,"app-acp-house-input",171),e.qZA(),e.TgZ(26,"th"),e._UZ(27,"app-ip-input",172),e.qZA(),e.TgZ(28,"th"),e._UZ(29,"p-inputNumber",173),e.qZA(),e._UZ(30,"th"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(17),e.Q6J("formGroup",t.lastBindingsFilterForm),e.xp6(2),e.Q6J("size",14),e.xp6(2),e.Q6J("size",8),e.xp6(8),e.Q6J("max",4096)("size",4)}}function Dw(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dhcpClient," ")}}function Mw(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.dhcpHostname," ")}}function Ow(n,o){1&n&&(e.TgZ(0,"span",179),e._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function Pw(n,o){1&n&&(e.TgZ(0,"span",180),e._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function Lw(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",174),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.authConfirm(p))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",175),e.YNc(7,Dw,2,1,"ng-container",36),e.YNc(8,Mw,2,1,"ng-container",36),e.qZA()(),e.TgZ(9,"td"),e.ynx(10,2),e.YNc(11,Ow,2,0,"span",176),e.YNc(12,Pw,2,0,"span",177),e.BQk(),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._UZ(20,"app-time-elapsed",178),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.macaddr),e.xp6(2),e.Oqu(t.authName),e.xp6(2),e.Udp("max-width","7rem"),e.xp6(1),e.Q6J("ngIf",t.dhcpClient),e.xp6(1),e.Q6J("ngIf",t.dhcpHostname),e.xp6(2),e.Q6J("ngSwitch",t.isAuth),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.AsE("",t.streetName," ",t.houseNum,""),e.xp6(2),e.Oqu(t.ipaddr),e.xp6(2),e.Oqu(t.vlanid),e.xp6(2),e.Q6J("startTime",t.leaseStart)}}function Rw(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",160)(2,"div",161),e._uU(3),e.ALo(4,"decline"),e.qZA(),e._UZ(5,"p-toggleButton",162),e.TgZ(6,"p-button",163),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.lastBindingsFilterForm.reset({state:!0}))}),e.qZA()(),e.TgZ(7,"p-table",164),e.YNc(8,kw,31,5,"ng-template",165),e.YNc(9,Lw,21,14,"ng-template",166),e.qZA(),e.TgZ(10,"p-paginator",167),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.changeLastBindingsPage.next(s.page))}),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(1),e.Q6J("formGroup",i.lastBindingsFilterForm),e.xp6(2),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(4,10,t.totalElements,"\u0441\u0435\u0441\u0441\u0438\u044f","\u0441\u0435\u0441\u0441\u0438\u0438","\u0441\u0435\u0441\u0441\u0438\u0439")," "),e.xp6(2),e.Q6J("disabled",i.isLoadingLastBindings),e.xp6(2),e.Q6J("loading",i.isLoadingLastBindings)("scrollable",!0)("value",t.content),e.xp6(3),e.Q6J("first",15*t.number)("rows",15)("totalRecords",t.totalElements)}}function Nw(n,o){if(1&n&&(e.YNc(0,Rw,11,15,"ng-container",129),e.ALo(1,"async")),2&n){const t=e.oxw(),i=e.MAs(65);e.Q6J("ngIf",e.lcZ(1,2,t.lastBindingsPage$))("ngIfElse",i)}}const Fw=function(){return{width:"20rem",height:"20rem"}};function Bw(n,o){1&n&&(e.TgZ(0,"div",182),e._UZ(1,"p-progressSpinner",183),e.qZA()),2&n&&e.Akn(e.DdM(2,Fw))}function Zw(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306"),e.qZA()())}function Uw(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u041f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",5))}function Hw(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.ptypeColor),e.xp6(1),e.Oqu(t.ptypeName),e.xp6(2),e.Oqu(e.xi3(5,7,t.bmoney,"RUB")),e.xp6(3),e.Oqu(e.lcZ(8,10,e.xi3(9,12,t.pdate,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(t.who),e.xp6(2),e.Oqu(t.cmt)}}function Vw(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),e.qZA()())}function zw(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u0421\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",5))}const Jw=function(n,o){return{"text-green-400":n,"text-red-400":o}};function Qw(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td",189),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.eventColor),e.xp6(1),e.Oqu(t.eventName),e.xp6(2),e.Oqu(e.lcZ(5,8,e.xi3(6,10,t.evTimeStamp,"EEEE, dd MMMM yyyy HH:mm"))),e.xp6(3),e.Q6J("ngClass",e.WLB(16,Jw,t.moneyDirection>0,t.moneyDirection<0)),e.xp6(1),e.Oqu(e.xi3(9,13,t.money,"RUB")),e.xp6(3),e.Oqu(t.info),e.xp6(2),e.Oqu(t.coment)}}function Gw(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0430\u0440\u0438\u0444"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041d\u0430\u0447\u0430\u043b\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435"),e.qZA()())}function Ww(n,o){1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",4))}function Yw(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"date"),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.service),e.xp6(2),e.Oqu(e.xi3(5,4,t.price,"RUB")),e.xp6(3),e.Oqu(e.lcZ(8,7,e.xi3(9,9,t.hdate,"dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(12,12,e.xi3(13,14,t.edate,"dd MMMM yyyy HH:mm")))}}const Q1=function(){return[]};function jw(n,o){if(1&n&&(e.TgZ(0,"p-tabView")(1,"p-tabPanel",184)(2,"p-table",185),e.YNc(3,Zw,11,0,"ng-template",165),e.YNc(4,Uw,3,1,"ng-template",186),e.YNc(5,Hw,14,15,"ng-template",166),e.qZA()(),e.TgZ(6,"p-tabPanel",187)(7,"p-table",185),e.YNc(8,Vw,11,0,"ng-template",165),e.YNc(9,zw,3,1,"ng-template",186),e.YNc(10,Qw,14,19,"ng-template",166),e.qZA()(),e.TgZ(11,"p-tabPanel",188)(12,"p-table",185),e.YNc(13,Gw,9,0,"ng-template",165),e.YNc(14,Ww,3,1,"ng-template",186),e.YNc(15,Yw,14,17,"ng-template",166),e.qZA()()()),2&n){const t=e.oxw(2);let i,s,p;e.xp6(2),e.Q6J("scrollable",!0)("value",null!==(i=null==t.userEvents?null:t.userEvents.pays)&&void 0!==i?i:e.DdM(6,Q1)),e.xp6(5),e.Q6J("scrollable",!0)("value",null!==(s=null==t.userEvents?null:t.userEvents.events)&&void 0!==s?s:e.DdM(7,Q1)),e.xp6(5),e.Q6J("scrollable",!0)("value",null!==(p=null==t.userEvents?null:t.userEvents.tarifs)&&void 0!==p?p:e.DdM(8,Q1))}}function Kw(n,o){if(1&n&&(e.YNc(0,Bw,2,3,"div",181),e.YNc(1,jw,16,9,"p-tabView",36)),2&n){const t=e.oxw();e.Q6J("ngIf","LOADING"===t.userEventsLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===t.userEventsLoadingState)}}const qw=function(n,o,t){return{gridArea:n,backgroundColor:o,border:t}};function $w(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"div",192),e.ALo(2,"titlecase"),e.ALo(3,"date"),e.ALo(4,"titlecase"),e.ALo(5,"date"),e.BQk()),2&n){const t=o.$implicit,i=e.oxw().index;e.xp6(1),e.Akn(e.kEZ(13,qw,i+1+"/"+(t.percentStart+2)+"/"+(i+2)+"/"+(t.percentEnd+2),t.color,"1px solid "+t.borderColor)),e.Q6J("pTooltip","\u041d\u0430\u0447\u0430\u043b\u043e: "+e.lcZ(2,3,e.xi3(3,5,t.timeStart,"EEEE dd MMMM yyyy HH:mm"))+" \u041a\u043e\u043d\u0435\u0446: "+e.lcZ(4,8,e.xi3(5,10,t.timeEnd,"EEEE dd MMMM yyyy HH:mm")))}}const Xw=function(n){return{gridArea:n}};function e3(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",191),e._uU(2),e.qZA(),e.YNc(3,$w,6,17,"ng-container",143),e.BQk()),2&n){const t=o.$implicit,i=o.index,s=e.oxw(2).ngIf;e.xp6(1),e.Akn(e.VKq(4,Xw,i+1+"/1/"+(i+2)+"/2")),e.xp6(1),e.Oqu(t.key),e.xp6(1),e.Q6J("ngForOf",s.nclItems[t.key])}}const t3=function(){return{gridArea:"-1/2/-1/-1"}};function n3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,e3,4,6,"ng-container",143),e.ALo(2,"keyvalue"),e.TgZ(3,"div",190)(4,"span"),e._uU(5),e.ALo(6,"titlecase"),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"titlecase"),e.ALo(11,"date"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,5,t.nclItems)),e.xp6(2),e.Akn(e.DdM(17,t3)),e.xp6(2),e.Oqu(e.lcZ(6,7,e.xi3(7,9,t.from,"EEEE dd MMMM yyyy HH:mm"))),e.xp6(4),e.Oqu(e.lcZ(10,12,e.xi3(11,14,t.to,"EEEE dd MMMM yyyy HH:mm")))}}const Jx=function(){return{gridAreaColumn:"1/-1"}};function o3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",193),e._UZ(2,"p-progressSpinner",183),e.TgZ(3,"span",194),e._uU(4,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Jx)))}function s3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",195),e._UZ(2,"span",53),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Jx)))}function r3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",196),e._UZ(2,"span",197),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),e.qZA()(),e.BQk()),2&n&&(e.xp6(1),e.Akn(e.DdM(2,Jx)))}function a3(n,o){if(1&n&&(e.ynx(0)(1,2),e.YNc(2,n3,12,18,"ng-container",3),e.YNc(3,o3,5,3,"ng-container",3),e.YNc(4,s3,5,3,"ng-container",3),e.YNc(5,r3,5,3,"ng-container",3),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.nclHistoryLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function l3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",198)(1,"form",23),e._UZ(2,"p-dropdown",199),e.ALo(3,"async"),e._UZ(4,"p-inputNumber",200)(5,"textarea",201),e.qZA(),e.TgZ(6,"p-button",202),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendBalance())}),e.qZA()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("formGroup",t.balanceForm),e.xp6(1),e.Q6J("options",null!==(i=e.lcZ(3,6,t.billingPaymentTypes$))&&void 0!==i?i:e.DdM(8,Q1)),e.xp6(3),e.Q6J("autoResize",!0)("cols",40)("rows",3),e.xp6(1),e.Q6J("disabled",!t.balanceForm.valid)}}function c3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",198),e._UZ(1,"textarea",203),e.TgZ(2,"p-button",204),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendBalanceReset())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("autoResize",!0)("cols",40)("formControl",t.balanceResetCommentControl)("rows",3),e.xp6(1),e.Q6J("disabled",!t.balanceResetCommentControl.valid)}}function u3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",205),e._UZ(1,"p-selectButton",206)(2,"input",207),e.qZA(),e._UZ(3,"textarea",201),e.TgZ(4,"p-button",208),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendPayment())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("options",t.paymentModeOptions),e.xp6(1),e.Q6J("size",10),e.xp6(1),e.Q6J("autoResize",!0)("cols",30)("rows",3),e.xp6(1),e.Q6J("disabled",!t.paymentForm.valid)}}function d3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",205),e._UZ(1,"p-selectButton",209)(2,"input",210),e.qZA(),e._UZ(3,"textarea",201),e.TgZ(4,"p-button",211),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendRecalculation())}),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("options",t.recalculationModeOptions),e.xp6(1),e.Q6J("placeholder","DAYS"===t.recalculationForm.value.mode?"\u041a\u043e\u043b-\u0432\u043e \u0434\u043d\u0435\u0439":"\u041a\u043e\u043b-\u0432\u043e \u0440\u0443\u0431\u043b\u0435\u0439")("size",12),e.xp6(1),e.Q6J("autoResize",!0)("cols",30)("rows",3),e.xp6(1),e.Q6J("disabled",!t.recalculationForm.valid)}}function p3(n,o){1&n&&(e.TgZ(0,"div",102),e._UZ(1,"p-progressSpinner",212),e.qZA())}function h3(n,o){if(1&n&&(e.TgZ(0,"div",213)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("pTooltip",t.description)("showDelay",500),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.cost,"RUB")," ")}}function g3(n,o){if(1&n&&(e.TgZ(0,"div",213)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("pTooltip",t.description)("showDelay",500),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(5,4,t.cost,"RUB")," ")}}const f3=function(){return{width:"90rem"}},m3=function(){return{display:"grid",alignItems:"center"}};let Yd=class{constructor(o,t,i,s,p,w,J,_e,$e){this.api=o,this.rt=t,this.route=i,this.customNav=s,this.taskCreation=p,this.toast=w,this.confirm=J,this.blockUiService=_e,this.personality=$e,this.AccessFlag=Ii.j,this.loadingState=he.Gu.LOADING,this.loadingTimestamp=new Date,this.update$=new Rr.x,this.subscriptions=new _.xf,this.userInfoHandler={next:Xe=>{this.userInfo=void 0,setTimeout(()=>{this.userInfo=Xe,this.initControlMenuItems(),this.loadingTimestamp=new Date}),this.loadingState=he.Gu.READY},error:()=>{this.userInfo=void 0,this.loadingState=he.Gu.ERROR}},this.wireframes=[],this.houseBindingsPage=new ol.X(0),this.houseBindingsPage$=this.houseBindingsPage.pipe((0,Bs.O)(0),(0,cn.d)(1)),this.houseBindingsLoadingState=he.Gu.LOADING,this.changeTaskHistoryPage=new ol.X(0),this.bindingContextMenuItems=[],this.isLoadingLastBindings=!0,this.isAuthDialogVisible=!1,this.openAuthDialog=new Rr.x,this.changeLastBindingsPage=new ol.X(0),this.changeLastBindingsPage$=this.changeLastBindingsPage.pipe((0,ei.b)(()=>this.isLoadingLastBindings=!0),(0,cn.d)(1)),this.openAuthDialog$=this.openAuthDialog.pipe((0,ei.b)(()=>{this.isAuthDialogVisible=!0,this.isLoadingLastBindings=!0})),this.lastBindingsFilterForm=new f.cw({state:new f.NI(!0),macaddr:new f.NI(null),login:new f.NI(null),ip:new f.NI(null),vlan:new f.NI(null),buildingId:new f.NI(null)}),this.lastBindingsFilter$=this.lastBindingsFilterForm.valueChanges.pipe((0,Bs.O)(this.lastBindingsFilterForm.value),(0,Ls.b)(1e3),(0,ei.b)(()=>this.isLoadingLastBindings=!0),(0,mt.U)(Xe=>({state:Xe.state?1:0,macaddr:Xe.macaddr,login:Xe.login,ip:Xe.ip,vlan:Xe.vlan,buildingId:Xe.buildingId&&Xe.buildingId.buildingId})),(0,cn.d)(1)),this.lastBindingsPage$=(0,Bo.a)([this.openAuthDialog$,this.changeLastBindingsPage$,this.lastBindingsFilter$]).pipe((0,R.w)(([Xe,Xt,{state:jt,macaddr:Wt,vlan:fn,login:Rn,ip:Fn,buildingId:jn}])=>this.api.getLastBindings(Xt,jt,Wt,Rn,Fn,fn,jn)),(0,ei.b)(()=>this.isLoadingLastBindings=!1),(0,cn.d)(1)),this.isHistoryDialogVisible=!1,this.isNCLHistoryDialogVisible=!1,this.userEventsLoadingState=he.Gu.LOADING,this.billingPaymentTypes$=this.api.getBillingPaymentTypesList(),this.isBalanceDialogVisible=!1,this.isBalanceResetDialogVisible=!1,this.isPaymentDialogVisible=!1,this.balanceResetCommentControl=new f.NI("",[f.kI.required]),this.paymentModeOptions=[{label:"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0435",value:1,icon:"mdi-money"},{label:"\u041a\u0430\u0440\u0442\u0430",value:25,icon:"mdi-credit_card"}],this.isRecalculationDialogVisible=!1,this.recalculationModeOptions=[{label:"\u0412 \u0434\u043d\u044f\u0445",value:"DAYS",icon:"mdi-today"},{label:"\u0412 \u0440\u0443\u0431\u043b\u044f\u0445",value:"MONEY",icon:"mdi-money"}],this.recalculationForm=new f.cw({mode:new f.NI("DAYS",[f.kI.required]),count:new f.NI(null,[f.kI.required]),comment:new f.NI(null,[f.kI.required])}),this.balanceForm=new f.cw({payType:new f.NI(null,[f.kI.required]),sum:new f.NI(null,[f.kI.required]),comment:new f.NI(null,[f.kI.required])}),this.paymentForm=new f.cw({paymentType:new f.NI(1,[f.kI.required]),sum:new f.NI(null,[f.kI.required]),comment:new f.NI(null,[f.kI.required])}),this.controlMenuItems=[],this.pathChange$=this.route.params.pipe((0,ei.b)(Xe=>{this.currentLogin=Xe.login}),(0,mt.U)(Xe=>Xe.login)),this.tasks$=_.aN.ofPage((0,Bo.a)([this.pathChange$,this.changeTaskHistoryPage]),this.api.getTasksByLogin.bind(this.api),"taskId",this.rt.taskCreated().pipe((0,r.h)(Xe=>{var Xt,jt;return null!==(jt=null===(Xt=null==Xe?void 0:Xe.fields)||void 0===Xt?void 0:Xt.some(Wt=>Wt.stringData===this.currentLogin))&&void 0!==jt&&jt})),this.rt.taskUpdated(),this.rt.taskDeleted()),this.login$=(0,Eo.T)(this.pathChange$,this.update$),this.activeBinding$=this.login$.pipe((0,R.w)(Xe=>this.api.getActiveBindingByLogin(Xe))),this.activeBuildingId$=this.activeBinding$.pipe((0,R.w)(Xe=>null!=Xe&&Xe.vlanid?this.api.getBuildingIdByVlan(null==Xe?void 0:Xe.vlanid):(0,Tn.of)(null))),this.loadUser$=this.login$.pipe((0,R.w)(Xe=>this.api.getBillingUserInfo(Xe))),this.updateUser$=this.login$.pipe((0,R.w)(Xe=>this.rt.billingUserUpdated(Xe))),this.isLoginEnable=!0,this.isLoginEnableSub=(0,Eo.T)(this.loadUser$,this.updateUser$).pipe((0,R.w)(Xe=>this.api.isLoginEnable(Xe.uname))).subscribe(Xe=>this.isLoginEnable=Xe),this.loadUserSub=this.loadUser$.subscribe(this.userInfoHandler),this.updateUserSub=this.updateUser$.subscribe(this.userInfoHandler),this.dhcpLogsUpdateSub=this.login$.subscribe(Xe=>{this.dhcpLogsPageNum=0,this.dhcpLogsIsLastPage=!1,this.logsLoad(Xe)}),this.hardwareEmptyMessage$=this.activeBinding$.pipe((0,mt.U)(Xe=>Xe?Xe.isAuth?null:"\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f":"\u041d\u0435\u0442 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f")),this.nclHistory$=new ol.X(null),this.nclHistoryLoadingState=he.Gu.LOADING,this.nclHistoryViewStyle$=this.nclHistory$.pipe((0,mt.U)(Xe=>{if(Xe)try{const Xt=Object.entries(Xe.nclItems).length;return 0===Xt?{display:"grid",alignItems:"center"}:{display:"grid",grid:`repeat(${Xt}, 1.5rem)/max-content repeat(100,1fr)`,alignItems:"center"}}catch(Xt){return{display:"grid",alignItems:"center"}}return{display:"grid",alignItems:"center"}})),this.dhcpLogs=[],this.dhcpLogsGroupedList=[],this.dhcpLogsPageNum=0,this.dhcpLogsLoadingState=he.Gu.READY,this.dhcpLogsIsLastPage=!1,this.tariffList=[],this.serviceList=[],this.selectedServices=[],this.isUserEditDialogVisible=!1,this.userEditForm=new f.cw({address:new f.NI("",[f.kI.required]),fullName:new f.NI("",[f.kI.required]),phone:new f.NI("",[f.kI.required]),comment:new f.NI("")}),this.logsLoadHandler={next:Xe=>{this.dhcpLogsLoadingState=he.Gu.READY,this.dhcpLogs=0===this.dhcpLogsPageNum?[...Xe.logs]:[...this.dhcpLogs,...Xe.logs],this.dhcpLogsIsLastPage=Xe.isLast,this.dhcpLogsGroupedList=this.dhcpLogs.reduce((Xt,jt)=>{var Wt;const fn=new Date(jt.startDatetime).toLocaleDateString(),Rn=Xt.find(Fn=>Fn.label===fn);return Rn?null===(Wt=Rn.items)||void 0===Wt||Wt.push({state:{startTime:jt.startDatetime,endTime:jt.endDatetime,color:this.logColor(jt.type),description:jt.description,numbers:jt.numberRepetitions,macAddresses:jt.macAddresses}}):Xt.push({label:fn,state:{date:jt.startDatetime},items:[{state:{startTime:jt.startDatetime,endTime:jt.endDatetime,color:this.logColor(jt.type),description:jt.description,numbers:jt.numberRepetitions,macAddresses:jt.macAddresses}}]}),Xt},[]),this.dhcpLogsPageNum++},error:()=>{this.dhcpLogsLoadingState=he.Gu.ERROR,this.dhcpLogs=[],this.dhcpLogsGroupedList=[],this.dhcpLogsIsLastPage=!1}}}get isEndTariffDateAfter(){var o,t,i,s;return(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)||void 0===t?void 0:t.edate)&&new Date(null===(s=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)||void 0===s?void 0:s.edate).getTime()>(new Date).getTime()}get isOnline(){var o,t;return 1===(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)||void 0===t?void 0:t.online)}get hasCredit(){var o,t;return(null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.credit)&&this.userInfo.ibase.credit>0}get mainTariff(){var o,t;return null!==(o=this.userInfo)&&void 0!==o&&o.oldTarif[0]?null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif[0]:null}get services(){var o,t,i;return(null===(o=this.userInfo)||void 0===o?void 0:o.oldTarif)&&(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif.length)>0?null===(i=this.userInfo)||void 0===i?void 0:i.oldTarif.slice(1):[]}get totalCost(){var o,t;return(null===(o=this.userInfo)||void 0===o?void 0:o.oldTarif)&&(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif.length)>0?this.userInfo.oldTarif.reduce((i,s)=>i+s.price,0):0}get creditAmount(){var o,t,i;return null!==(i=null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.credit)&&void 0!==i?i:0}get moneyAmount(){var o,t,i;return null!==(i=null===(t=null===(o=this.userInfo)||void 0===o?void 0:o.ibase)||void 0===t?void 0:t.money)&&void 0!==i?i:0}get paymentTypeName(){switch(this.paymentForm.value.paymentType){case 1:return"\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0445";case 25:return"\u043a\u0430\u0440\u0442\u044b"}return null}get recalculationModeName(){switch(this.recalculationForm.value.mode){case"DAYS":return"\u0432 \u0434\u043d\u044f\u0445";case"MONEY":return"\u0432 \u0440\u0443\u0431\u043b\u044f\u0445"}return null}initControlMenuItems(){var o,t,i,s,p,w,J,_e;this.controlMenuItems=[{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439",icon:"mdi-event_note",command:()=>this.openHistoryDialog()},{label:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439",icon:"mdi-more_time",disabled:!(null!==(t=null===(o=this.userInfo)||void 0===o?void 0:o.newTarif)&&void 0!==t&&t.isPossibleEnableDeferredPayment),styleClass:"warning-menu-button",command:()=>this.confirmEnableDeferredPayment()},{label:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",icon:"mdi-account_balance",command:()=>this.openBalanceDialog()},{label:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441",icon:"mdi-exposure_zero",command:()=>this.openBalanceResetDialog()},{label:null!==(s=null===(i=this.userInfo)||void 0===i?void 0:i.newTarif)&&void 0!==s&&s.isServiceSuspended?"\u0412\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435":"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",icon:null!==(w=null===(p=this.userInfo)||void 0===p?void 0:p.newTarif)&&void 0!==w&&w.isServiceSuspended?"mdi-play_arrow":"mdi-pause",styleClass:null!==(_e=null===(J=this.userInfo)||void 0===J?void 0:J.newTarif)&&void 0!==_e&&_e.isServiceSuspended?"success-menu-button":"danger-menu-button",command:()=>this.confirmSuspendService()}]}confirmSuspendService(){var o,t,i;null===(o=this.userInfo)||void 0===o||!o.newTarif||(null!==(i=null===(t=this.userInfo)||void 0===t?void 0:t.newTarif)&&void 0!==i&&i.isServiceSuspended?this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",accept:()=>this.currentLogin&&this.api.startUserService(this.currentLogin).subscribe()}):this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?",accept:()=>this.currentLogin&&this.api.stopUserService(this.currentLogin).subscribe()}))}confirmEnableDeferredPayment(){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436?",accept:()=>{!this.currentLogin||(this.block("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430"),this.api.setDeferredPayment(this.currentLogin).subscribe({next:()=>this.unblock(),error:()=>this.unblock()}))}})}trackByDhcpBinding(o,t){var i;return t.vlanid+t.ipaddr+t.state+t.id+t.isAuth+t.authName+t.authExpire+(null===(i=t.lastConnectionLocation)||void 0===i?void 0:i.checkedAt)}ngOnInit(){this.api.getWireframesNames().subscribe(o=>{this.wireframes=o.map(t=>({label:t.name,command:()=>{var i,s;this.api.convertBillingAddress(null===(s=null===(i=this.userInfo)||void 0===i?void 0:i.ibase)||void 0===s?void 0:s.addr).subscribe(p=>{this.currentLogin?this.taskCreation.wireframe(t.wireframeId,{login:this.currentLogin,address:p}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})})}}))})}logsLoad(o){!this.dhcpLogsIsLastPage&&o&&this.dhcpLogsLoadingState===he.Gu.READY&&(this.dhcpLogsLoadingState=he.Gu.LOADING,this.api.getDhcpLogsByLogin(o,this.dhcpLogsPageNum).subscribe(this.logsLoadHandler))}copyMacAddress(o){o.value&&_.cQ.copyToClipboard(o.value.state.macAddresses,this.toast,"MAC \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u044b","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c MAC \u0430\u0434\u0440\u0435\u0441\u0430")}isToday(o){return new Date(o).toDateString()===(new Date).toDateString()}logColor(o){switch(o){case"SIMPLE_ONLINE":return"#16e116";case"SIMPLE_OFFLINE":return"#db21ec";case"REPEATED":return"#e81f1f";case"EMPTY":return"#838383";case"USER_AUTH":return"#16d0e1";case"USER_AUTH_FAIL":return"#2132ec"}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}checkRemoteControl(o){this.api.checkRemoteControl(o).subscribe({next:t=>{},error:t=>{console.log("Error ",t)}})}openBindingContextMenu(o,t,i){this.bindingContextMenuItems=[{label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c (\u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043b\u043e\u0433\u0438\u043d)",command:()=>this.authCurrentLogin(t.macaddr),disabled:t.isAuth&&t.authName===this.currentLogin},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439",command:()=>this.openNCLHistoryDialog(t)}],i.toggle(o)}authCurrentLogin(o){this.currentLogin?this.api.authDhcpBinding(this.currentLogin,o).subscribe(()=>{this.toast.add({detail:"\u041b\u043e\u0433\u0438\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d",severity:"dark",key:"darktoast",icon:"mdi-verified",closable:!1}),this.currentLogin&&this.update$.next(this.currentLogin)}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})}authConfirm(o){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c "+o.macaddr+" \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c "+this.currentLogin+"?",accept:()=>{this.authCurrentLogin(o.macaddr)}})}getHistory(){!this.currentLogin||(this.userEvents=void 0,this.userEventsLoadingState=he.Gu.LOADING,this.api.getBillingUserEvents(this.currentLogin).subscribe({next:o=>{this.userEvents=o,this.userEventsLoadingState=he.Gu.READY},error:o=>{this.userEventsLoadingState=he.Gu.ERROR}}))}closeHistoryDialog(){this.userEvents=void 0,this.userEventsLoadingState=he.Gu.LOADING}openHistoryDialog(){this.isHistoryDialogVisible=!0}openBalanceDialog(){this.isBalanceDialogVisible=!0}openBalanceResetDialog(){this.isBalanceResetDialogVisible=!0}openPaymentDialog(){this.paymentForm.reset({paymentType:1}),this.isPaymentDialogVisible=!0}openRecalculationDialog(){this.recalculationForm.reset({mode:"DAYS"}),this.isRecalculationDialogVisible=!0}openEditUserDialog(){!this.userInfo||(this.userEditForm.reset({address:this.userInfo.ibase.addr,fullName:this.userInfo.ibase.fio,phone:this.userInfo.ibase.phone,comment:this.userInfo.ibase.coment}),this.isUserEditDialogVisible=!0)}sendBalance(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+" \u043d\u0430 "+this.balanceForm.value.sum+" \u0440\u0443\u0431\u043b\u0435\u0439?",accept:()=>{!this.currentLogin||(this.block("\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0431\u0430\u043b\u0430\u043d\u0441"),this.api.updateBalance(this.currentLogin,this.balanceForm.value).subscribe({next:()=>{this.unblock(),this.isBalanceDialogVisible=!1,this.balanceForm.reset()},error:()=>{this.unblock()}}))}})}sendBalanceReset(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+"?",accept:()=>{!this.currentLogin||!this.balanceResetCommentControl.value||(this.block("\u041e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430"),this.api.balanceReset(this.currentLogin,this.balanceResetCommentControl.value).subscribe({next:()=>{this.unblock(),this.isBalanceResetDialogVisible=!1,this.balanceResetCommentControl.reset("")},error:()=>{this.unblock()}}))}})}enableLogin(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),this.api.enableLogin(this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}sendPayment(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin,message:"\u041f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043e\u043f\u043b\u0430\u0442\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e "+this.paymentTypeName+" \u043d\u0430 "+this.paymentForm.value.sum+" \u0440\u0443\u0431\u043b\u0435\u0439, \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043e\u043f\u043b\u0430\u0442\u0430"),this.api.makePayment(this.currentLogin,this.paymentForm.value).subscribe({next:()=>{this.unblock(),this.isPaymentDialogVisible=!1,this.paymentForm.reset({paymentType:1})},error:()=>{this.unblock()}}))}})}sendRecalculation(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442\u0430 "+this.currentLogin,message:"\u041f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442 "+this.recalculationModeName+". \u041a\u043e\u043b-\u0432\u043e: "+this.recalculationForm.value.count+", \u043d\u0430 \u043b\u043e\u0433\u0438\u043d "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442"),this.api.makeRecalculation(this.currentLogin,this.recalculationForm.value).subscribe({next:()=>{this.unblock(),this.isRecalculationDialogVisible=!1,this.recalculationForm.reset({mode:"DAYS"})},error:()=>{this.unblock()}}))}})}confirmUserEdit(){!this.currentLogin||this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin,message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430 "+this.currentLogin+"?",accept:()=>{!this.currentLogin||(this.block("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u0433\u0438\u043d\u0430"),this.api.editUser(this.currentLogin,this.userEditForm.value).subscribe({next:()=>{this.unblock(),this.isUserEditDialogVisible=!1},error:()=>{this.unblock()}}))}})}openNCLHistoryDialog(o){this.isNCLHistoryDialogVisible=!0,this.nclHistoryLoadingState=he.Gu.LOADING,this.api.getNetworkConnectionLocationHistory(o.id).subscribe({next:t=>{this.nclHistory$.next(t),this.nclHistoryLoadingState=Object.entries(t.nclItems).length?he.Gu.READY:he.Gu.EMPTY},error:()=>this.nclHistoryLoadingState=he.Gu.ERROR})}getTariffList(o,t){this.currentLogin&&(t.toggle(o),this.api.getBillingUserTariffs(this.currentLogin).subscribe(i=>{this.tariffList=i,i.filter(s=>{var p;return(null===(p=this.mainTariff)||void 0===p?void 0:p.service)===s.name}).forEach(s=>s.disabled=!0)}))}getServiceList(o,t){this.currentLogin&&(t.toggle(o),this.api.getBillingUserServices(this.currentLogin).subscribe(i=>{this.serviceList=i,i.filter(s=>this.services.some(p=>p.service===s.name)).forEach(s=>s.disabled=!0)}))}appendService(o){this.currentLogin&&this.confirm.confirm({header:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",message:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 "+o.option.name+" \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0443?",accept:()=>{this.currentLogin&&(this.block("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),this.api.appendServiceToBillingUser(o.value,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}removeService(o){this.currentLogin&&this.confirm.confirm({header:"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",message:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 "+o+"?",accept:()=>{this.currentLogin&&(this.block("\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),this.api.removeServiceFromBillingUser(o,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}changeTariff(o){this.currentLogin&&this.confirm.confirm({header:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u0430",message:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0430\u0440\u0438\u0444 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430 \u043d\u0430 "+o.option.name+"?",accept:()=>{this.currentLogin&&(this.block("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u0430"),this.api.changeTariffInBillingUser(o.value,this.currentLogin).subscribe({next:()=>{this.unblock()},error:()=>{this.unblock()}}))}})}block(o=""){this.blockUiService.wait({message:o})}unblock(){this.blockUiService.unblock()}};Yd.\u0275fac=function(o){return new(o||Yd)(e.Y36(L.s),e.Y36(de.U),e.Y36(d.gz),e.Y36(nt.r),e.Y36(T.e),e.Y36(N.ez),e.Y36(N.YP),e.Y36(N1.A),e.Y36(Q.F))},Yd.\u0275cmp=e.Xpm({type:Yd,selectors:[["ng-component"]],decls:76,vars:64,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"flex","flex-column","flex-grow-1","gap-3","mx-3","mb-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],["infoViewTemp",""],["titleTagsTemp",""],["mainUserInfoTemp",""],["hardwareInfoTemp",""],["tariffInfoTemp",""],["infoRowTemplate",""],["infoRowTemplatedTemplate",""],["mainTariffTemplate",""],["serviceListTemplate",""],["serviceItemTemplate",""],["emptyServicesTemplate",""],["inlineButtonTemplate",""],["speedViewTemplate",""],["acpInfo",""],["appendTo","body",3,"model","popup"],["createTaskMenu",""],["appendTo","body","header","\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",3,"visible","dismissableMask","resizable","onShow","visibleChange"],["pTemplate","content"],["appendTo","body","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",3,"visible","dismissableMask","modal","resizable","draggable","visibleChange"],[1,"flex","flex-column","gap-2",3,"formGroup"],["label","\u0410\u0434\u0440\u0435\u0441"],["pInputText","","formControlName","address"],["label","\u0424\u0418\u041e"],["pInputText","","formControlName","fullName"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d"],["pInputText","","formControlName","phone"],["label","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"],["pInputTextarea","","formControlName","comment"],["pButton","","icon","mdi-check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"mt-2",3,"disabled","click"],["appendTo","body","header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0437\u0430 \u043f\u043e\u043b\u0433\u043e\u0434\u0430",3,"visible","dismissableMask","modal","resizable","onHide","onShow","visibleChange"],["appendTo","body","header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u0439 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439",3,"visible","dismissableMask","modal","resizable","visibleChange"],[1,"p-3","border-1","border-bluegray-100","border-round-lg"],[4,"ngIf"],["appendTo","body","header","\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["appendTo","body","header","\u041e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-2","header","\u041e\u043f\u043b\u0430\u0442\u0430",3,"visible","dismissableMask","modal","resizable","visibleChange"],["pTemplate","content",3,"formGroup"],["appendTo","body","contentStyleClass","flex flex-column gap-3 pt-2","header","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442",3,"visible","dismissableMask","modal","resizable","visibleChange"],["loading",""],["appendTo","body","styleClass","overlay-panel-unpadding"],["tariffsOverlayPanel",""],["emptyFilterMessage","\u0422\u0430\u0440\u0438\u0444\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","emptyMessage","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","filterBy","name","optionLabel","name","optionValue","id",3,"filter","listStyle","options","onClick"],["pTemplate","item"],["servicesOverlayPanel",""],["emptyFilterMessage","\u0414\u043e\u043f. \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","emptyMessage","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","filterBy","name","optionDisabled","disabled","optionLabel","name","optionValue","id",3,"ngModel","filter","listStyle","options","onClick","ngModelChange"],["controlMenu",""],[1,"flexed","hcenter","vcenter","stretched","panel"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1","h-min","panel"],[1,"flexed","gap10","p10","hcenter","terminator-bottom"],["icon","mdi-arrow_back","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"caption","size-huge","wt-tiny","f-color-600","with-icon"],[1,"mds-person","caption","size-xlarge"],[1,"stretched"],[1,"caption","size-tiny","wt-black","f-color-300"],[3,"startTime"],["icon","mdi-refresh","styleClass","p-button-text p-button-icon",3,"onClick",4,"ngIf"],[1,"flex","flex-column","gap-3","p-3","terminator-bottom","flex-grow-1","xl:flex-row"],[1,"flex","flex-row","gap-3","xl:flex-column"],[1,"flex","flex-column","flex-grow-1"],["appListElementLazyScroll","","listStyleClass","simple-list",1,"mt-3",3,"group","listStyle","options","onClick","onScrollDown"],["pTemplate","group"],["pTemplate","empty"],[1,"flexed","gap10","p10","hcenter"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","styleClass","p-button-success p-button-text",3,"onClick"],["icon","mdi-menu","label","\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","styleClass","p-button-info p-button-text",3,"onClick",4,"ngIf"],["icon","mdi-currency_ruble","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-warning p-button-text",3,"onClick",4,"ngIf"],["icon","mdi-restore","label","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442","styleClass","p-button-help p-button-text",3,"onClick",4,"ngIf"],["class","text-red-400 text-xl font-bold",3,"letter-spacing",4,"ngIf"],[1,"text-primary","text-xl","font-bold",3,"ngClass"],["icon","mdi-refresh","styleClass","p-button-text p-button-icon",3,"onClick"],[1,"flex","align-items-center","text-sm"],[1,"flex","flex-grow-1","m-1","px-3","py-2","gap-2","border-round","align-items-center","text-white","font-bold","text-sm"],["class","flex-grow-1",4,"ngIf"],["class","bg-white border-round px-2 py-1 text-xs",3,"color",4,"ngIf"],[1,"flex-grow-1"],[1,"bg-white","border-round","px-2","py-1","text-xs"],[1,"flex","align-items-center","justify-content-center","text-lg","font-bold","text-bluegray-400"],["icon","mdi-menu","label","\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","styleClass","p-button-info p-button-text",3,"onClick"],["icon","mdi-currency_ruble","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-warning p-button-text",3,"onClick"],["icon","mdi-restore","label","\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442","styleClass","p-button-help p-button-text",3,"onClick"],[1,"text-red-400","text-xl","font-bold"],[1,"flex","align-items-center","p-4","gap-2","border-bluegray-50","border-bottom-1","text-lg","font-light","text-bluegray-400"],[1,"mdi-history"],["class","text-sm text-primary-400 font-bold",4,"ngIf"],["class","flex flex-column p-3",4,"ngSwitchCase"],["class","flex justify-content-center align-items-center p-3",3,"height",4,"ngSwitchCase"],["class","flex align-items-center justify-content-center flex-grow-1 py-5",4,"ngSwitchCase"],["class","p-2",3,"first","rows","totalRecords","onPageChange",4,"ngIf"],[1,"text-sm","text-primary-400","font-bold"],[1,"flex","flex-column","p-3"],[1,"overflow-y-auto"],[3,"inlined","item",4,"ngFor","ngForOf"],[3,"inlined","item"],[1,"flex","justify-content-center","align-items-center","p-3"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","py-5"],[1,"flex","flex-column","align-items-center","text-lg","text-bluegray-400"],[1,"mds-task_alt"],[1,"flex","flex-column","align-items-center","text-lg","text-red-400"],[1,"p-2",3,"first","rows","totalRecords","onPageChange"],[1,"flexed","gap5","hcenter"],[3,"caption","color"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)",4,"ngIf"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)"],[1,"flex","flex-column"],[1,"flex","align-items-center","gap-2"],[1,"text-lg","font-bold","text-gray-600"],["pButton","","icon","mdi-edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"p-button-sm","p-button-success","p-button-text",3,"click"],[1,"flex","flex-column","gap-2","p-3","pt-1"],["class","flex gap-2 align-items-center text-red-400",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-2","align-items-center","text-red-400"],[1,"flex","gap-2","align-items-center","max-w-16rem"],[1,"mdi-warning"],[1,"font-bold"],["icon","mdi-account_box","label","\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c","styleClass","p-button-success p-button-sm p-button-outlined",3,"onClick"],["class","flex gap-2 p-3 text-orange-400 font-semibold align-items-center",4,"ngIf"],["class","px-3","icon","mdi-check","label","\u041d\u0430\u0439\u0442\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-outlined",3,"onClick",4,"ngIf"],[1,"flex","gap-2","p-3","text-orange-400","font-semibold","align-items-center"],["class","flex flex-column gap-2 p-3",4,"ngIf"],[1,"flex","flex-column","gap-2","p-3"],["icon","mdi-check","label","\u041d\u0430\u0439\u0442\u0438 \u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c","styleClass","p-button-warning p-button-outlined",1,"px-3",3,"onClick"],[4,"ngIf","ngIfElse"],[1,"flex","align-items-center","gap-1","white-space-nowrap"],[1,"text-bluegray-400","font-bold"],[1,"text-bluegray-500","text-lg","max-w-18rem",3,"ngClass"],["class","mdi-help_outline caption size-big f-color-300",3,"pTooltip",4,"ngIf"],[1,"mdi-help_outline","caption","size-big","f-color-300",3,"pTooltip"],[1,"flex","gap-2","align-items-start"],[1,"flex","flex-column","gap-2"],[1,"text-bluegray-500","text-lg","flex","gap-2","align-items-center"],["class","text-primary text-sm",4,"ngIf"],[3,"click",4,"ngIf"],[1,"text-primary","text-sm"],[3,"click"],[1,"flex","flex-column","gap-1"],[4,"ngFor","ngForOf"],[1,"text-bluegray-500","text-lg","flex","align-items-center","gap-2"],["class","mdi-close text-bluegray-500 hover:text-red-400 text-sm cursor-pointer",3,"click",4,"ngIf"],[1,"mdi-close","text-bluegray-500","hover:text-red-400","text-sm","cursor-pointer",3,"click"],[1,"flex","align-items-center","gap-1","cursor-pointer","w-fit",3,"ngClass"],[1,"text-sm",3,"ngClass"],[1,"flex","flex-column","gap-2","text-bluegray-500","text-lg"],[1,"flex","flex-column","overflow-hidden","border-round-md","border-bluegray-100","border-1"],["styleClass","tabview-unpadding"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430"],["filterMode","login",3,"filterId","inline","preparedAuthLogin"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043c\u0435",4,"ngIf"],["header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b",4,"ngIf"],["header","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043c\u0435"],["filterMode","building","bindingsStatus","online",3,"filterId","inline","preparedAuthLogin"],["header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b"],[3,"buildId","inline"],[1,"flex","py-3","gap-3","align-items-end","justify-content-end",3,"formGroup"],[1,"text-primary-400","font-bold"],["formControlName","state","offIcon","mdi-cancel","offLabel","\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438","onIcon","mdi-check_circle","onLabel","\u0412 \u0441\u0435\u0442\u0438",3,"disabled"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440","styleClass","p-button-secondary p-button-text",3,"onClick"],["dataKey","id","scrollHeight","500px",3,"loading","scrollable","value"],["pTemplate","header"],["pTemplate","body"],[3,"first","rows","totalRecords","onPageChange"],[3,"formGroup"],["formControlName","macaddr","pInputText","","type","text",3,"size"],["formControlName","login","pInputText","","type","text",3,"size"],["formControlName","buildingId"],["formControlName","ip"],["formControlName","vlan",3,"max","size"],[1,"cursor-pointer","hover:bg-primary-50","hover:text-primary-400",3,"click"],["appTicker","",1,"white-space-nowrap","overflow-hidden"],["class","text-bluegray-300",4,"ngSwitchCase"],["class","text-green-400",4,"ngSwitchCase"],["type","short",3,"startTime"],[1,"text-bluegray-300"],[1,"text-green-400"],["class","flex align-items-center justify-content-center",3,"style",4,"ngIf"],[1,"flex","align-items-center","justify-content-center"],[1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],["header","\u041f\u043b\u0430\u0442\u0435\u0436\u0438"],["scrollHeight","30rem","styleClass","p-datatable-sm border-round-lg border-1 border-bluegray-100 overflow-hidden",3,"scrollable","value"],["pTemplate","emptymessage"],["header","\u0421\u043e\u0431\u044b\u0442\u0438\u044f"],["header","\u0422\u0430\u0440\u0438\u0444\u044b"],[3,"ngClass"],[1,"flex","align-items-center","justify-content-between","text-bluegray-400","text-sm","font-bold"],[1,"text-bluegray-400","mr-2","pr-2","border-right-1","border-bluegray-100"],["tooltipPosition","bottom",1,"h-50","mr-1","opacity-70",3,"pTooltip"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"text-bluegray-400","font-bold","text-lg"],[1,"flex","flex-column","align-items-center","justify-content-center","text-red-400","font-bold","text-lg"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","font-bold","text-lg"],[1,"mds-radar"],[1,"flex","flex-column","gap-4","mt-1"],["appendTo","body","formControlName","payType","placeholder","\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430",3,"options"],["formControlName","sum","placeholder","\u0421\u0443\u043c\u043c\u0430"],["formControlName","comment","pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306",3,"autoResize","cols","rows"],["icon","mdi-attach_money","label","\u041e\u043f\u043b\u0430\u0442\u0430","styleClass","p-button-primary",1,"align-self-end",3,"disabled","onClick"],["pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438\u0306 \u043a \u043e\u0431\u043d\u0443\u043b\u0435\u043d\u0438\u044e \u0431\u0430\u043b\u0430\u043d\u0441\u0430...",3,"autoResize","cols","formControl","rows"],["icon","mdi-exposure_zero","label","\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441","styleClass","p-button-primary",1,"align-self-end",3,"disabled","onClick"],[1,"flex","gap-3","align-items-center"],["formControlName","paymentType",3,"options"],["formControlName","sum","pInputText","","pKeyFilter","pint","placeholder","\u0421\u0443\u043c\u043c\u0430",3,"size"],["icon","mdi-attach_money","label","\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c",1,"mt-3","align-self-end",3,"disabled","onClick"],["formControlName","mode",3,"options"],["formControlName","count","pInputText","","pKeyFilter","int",3,"placeholder","size"],["icon","mdi-restore","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",1,"mt-3","align-self-end",3,"disabled","onClick"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"flex","align-items-center","justify-content-between","w-full","h-full",3,"pTooltip","showDelay"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.ynx(2,2),e.YNc(3,xT,3,0,"ng-container",3),e.YNc(4,IT,6,0,"ng-container",3),e.YNc(5,Cf,2,1,"ng-container",3),e.BQk(),e.qZA()(),e.YNc(6,J1,37,29,"ng-template",null,4,e.W1O),e.YNc(8,Bx,3,3,"ng-template",null,5,e.W1O),e.YNc(10,zx,14,26,"ng-template",null,6,e.W1O),e.YNc(12,Te,9,9,"ng-template",null,7,e.W1O),e.YNc(14,L_,18,49,"ng-template",null,8,e.W1O),e.YNc(16,N_,6,4,"ng-template",null,9,e.W1O),e.YNc(18,B_,5,2,"ng-template",null,10,e.W1O),e.YNc(20,lw,5,3,"ng-template",null,11,e.W1O),e.YNc(22,hw,3,2,"ng-template",null,12,e.W1O),e.YNc(24,fw,6,3,"ng-template",null,13,e.W1O),e.YNc(26,bw,1,1,"ng-template",null,14,e.W1O),e.YNc(28,yw,4,3,"ng-template",null,15,e.W1O),e.YNc(30,xw,11,2,"ng-template",null,16,e.W1O),e.YNc(32,Sw,7,8,"ng-template",null,17,e.W1O),e._UZ(34,"p-menu",18,19),e.TgZ(36,"p-dialog",20),e.NdJ("onShow",function(){return t.openAuthDialog.next(null)})("visibleChange",function(s){return t.isAuthDialogVisible=s}),e.YNc(37,Nw,2,4,"ng-template",21),e.qZA(),e.TgZ(38,"p-dialog",22),e.NdJ("visibleChange",function(s){return t.isUserEditDialogVisible=s}),e.TgZ(39,"form",23)(40,"app-label",24),e._UZ(41,"input",25),e.qZA(),e.TgZ(42,"app-label",26),e._UZ(43,"input",27),e.qZA(),e.TgZ(44,"app-label",28),e._UZ(45,"input",29),e.qZA(),e.TgZ(46,"app-label",30),e._UZ(47,"textarea",31),e.qZA(),e.TgZ(48,"button",32),e.NdJ("click",function(){return t.confirmUserEdit()}),e.qZA()()(),e.TgZ(49,"p-dialog",33),e.NdJ("onHide",function(){return t.closeHistoryDialog()})("onShow",function(){return t.getHistory()})("visibleChange",function(s){return t.isHistoryDialogVisible=s}),e.YNc(50,Kw,2,2,"ng-template",21),e.qZA(),e.TgZ(51,"p-dialog",34),e.NdJ("visibleChange",function(s){return t.isNCLHistoryDialogVisible=s}),e.TgZ(52,"div",35),e.ALo(53,"async"),e.YNc(54,a3,6,5,"ng-container",36),e.ALo(55,"async"),e.qZA()(),e.TgZ(56,"p-dialog",37),e.NdJ("visibleChange",function(s){return t.isBalanceDialogVisible=s}),e.YNc(57,l3,7,9,"ng-template",21),e.qZA(),e.TgZ(58,"p-dialog",38),e.NdJ("visibleChange",function(s){return t.isBalanceResetDialogVisible=s}),e.YNc(59,c3,3,5,"ng-template",21),e.qZA(),e.TgZ(60,"p-dialog",39),e.NdJ("visibleChange",function(s){return t.isPaymentDialogVisible=s}),e.YNc(61,u3,5,6,"ng-template",40),e.qZA(),e.TgZ(62,"p-dialog",41),e.NdJ("visibleChange",function(s){return t.isRecalculationDialogVisible=s}),e.YNc(63,d3,5,7,"ng-template",40),e.qZA(),e.YNc(64,p3,2,0,"ng-template",null,42,e.W1O),e.TgZ(66,"p-overlayPanel",43,44)(68,"p-listbox",45),e.NdJ("onClick",function(s){return t.changeTariff(s)}),e.YNc(69,h3,6,7,"ng-template",46),e.qZA()(),e.TgZ(70,"p-overlayPanel",43,47)(72,"p-listbox",48),e.NdJ("onClick",function(s){return t.appendService(s)})("ngModelChange",function(s){return t.selectedServices=s}),e.YNc(73,g3,6,7,"ng-template",46),e.qZA()(),e._UZ(74,"p-menu",18,49)),2&o&&(e.xp6(2),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(29),e.Q6J("model",t.wireframes)("popup",!0),e.xp6(2),e.Q6J("visible",t.isAuthDialogVisible)("dismissableMask",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isUserEditDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1)("draggable",!0),e.xp6(1),e.Q6J("formGroup",t.userEditForm),e.xp6(9),e.Q6J("disabled",t.userEditForm.invalid),e.xp6(1),e.Q6J("visible",t.isHistoryDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(60,f3)),e.Q6J("visible",t.isNCLHistoryDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn("READY"===t.nclHistoryLoadingState?e.lcZ(53,56,t.nclHistoryViewStyle$):e.DdM(61,m3)),e.xp6(2),e.Q6J("ngIf",e.lcZ(55,58,t.nclHistory$)),e.xp6(2),e.Q6J("visible",t.isBalanceDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isBalanceResetDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",t.isPaymentDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.paymentForm),e.xp6(1),e.Q6J("visible",t.isRecalculationDialogVisible)("dismissableMask",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.recalculationForm),e.xp6(5),e.Q6J("filter",!0)("listStyle",e.DdM(62,Ih))("options",t.tariffList),e.xp6(4),e.Q6J("ngModel",t.selectedServices)("filter",!0)("listStyle",e.DdM(63,Ih))("options",t.serviceList),e.xp6(2),e.Q6J("model",t.controlMenuItems)("popup",!0))}}),Yd=(0,Ua.gn)([(0,vl.kG)()],Yd);var Qx=b(5376),_3=b(5625);function C3(n,o){1&n&&e.GkF(0)}function v3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,C3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function b3(n,o){1&n&&e.GkF(0)}function y3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,b3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw();const t=e.MAs(19);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function x3(n,o){1&n&&e.GkF(0)}function I3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,x3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function T3(n,o){1&n&&e.GkF(0)}function A3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,T3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function w3(n,o){1&n&&e.GkF(0)}function E3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,w3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function S3(n,o){1&n&&e.GkF(0)}function k3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,S3,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(15);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function D3(n,o){if(1&n&&(e.ynx(0)(1,3),e.YNc(2,I3,2,1,"ng-container",4),e.YNc(3,A3,2,1,"ng-container",4),e.YNc(4,E3,2,1,"ng-container",4),e.YNc(5,k3,2,1,"ng-container",4),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.viewMode),e.xp6(1),e.Q6J("ngSwitchCase","city"),e.xp6(1),e.Q6J("ngSwitchCase","street"),e.xp6(1),e.Q6J("ngSwitchCase","house"),e.xp6(1),e.Q6J("ngSwitchCase","houseView")}}function M3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.selectCity(p))}),e._UZ(1,"span",44),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.name)}}function O3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",33)(3,"span",34),e._uU(4," \u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b "),e.qZA(),e._UZ(5,"div",35),e.TgZ(6,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateCity())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",37),e.YNc(9,M3,4,1,"div",38),e.qZA()(),e.TgZ(10,"div",39)(11,"div",40),e._UZ(12,"span",41),e.TgZ(13,"span",42),e._uU(14,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442"),e.qZA()()()()}if(2&n){const t=e.oxw();let i;e.xp6(6),e.Q6J("loading",null!==(i=e.lcZ(7,4,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(3),e.Q6J("ngForOf",t.cities)("ngForTrackBy",t.trackByCity)}}function P3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.selectStreet(p))}),e._UZ(1,"span",59),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.nameWithPrefix)}}function L3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveCity())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.cityEditingForm.valid||t.cityEditingForm.pristine)}}const R3=function(n){return{"cover-element":n}};function N3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",45)(3,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",34),e._uU(6," \u0423\u043b\u0438\u0446\u044b "),e.qZA(),e._UZ(7,"div",35),e.TgZ(8,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateStreet())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",47)(11,"div",48)(12,"span",49),e._UZ(13,"span",50),e.qZA(),e._UZ(14,"input",51),e.qZA()(),e.TgZ(15,"div",52),e.YNc(16,P3,4,1,"div",38),e.qZA()(),e.TgZ(17,"div",53)(18,"div",54)(19,"span",34),e._uU(20),e.qZA(),e._UZ(21,"div",55),e.TgZ(22,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteCity())}),e.ALo(23,"async"),e.qZA()(),e.TgZ(24,"div",57)(25,"div",13)(26,"label",14),e._uU(27,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(28,"input",19),e.qZA(),e.YNc(29,L3,2,4,"p-button",58),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,p;e.xp6(3),e.Q6J("loading",null!==(i=e.lcZ(4,13,t.beginRequest$))&&void 0!==i&&i),e.xp6(5),e.Q6J("loading",null!==(s=e.lcZ(9,15,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(6),e.Q6J("appPreventInput",t.streetFiltering)("formControl",t.filterControl),e.xp6(1),e.Q6J("ngClass",e.VKq(19,R3,t.streetFiltering)),e.xp6(1),e.Q6J("ngForOf",t.streets)("ngForTrackBy",t.trackByStreet),e.xp6(4),e.hij(" \u0413\u043e\u0440\u043e\u0434: ",null==t.selectedCity?null:t.selectedCity.name," "),e.xp6(2),e.Q6J("loading",null!==(p=e.lcZ(23,17,t.beginRequest$))&&void 0!==p&&p)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(2),e.Q6J("formGroup",t.cityEditingForm),e.xp6(5),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK))}}function F3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.selectHouse(p))}),e._UZ(1,"span",62),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.houseName)}}function B3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveStreet())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.streetEditingForm.valid||t.streetEditingForm.pristine)}}function Z3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",45)(3,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",34),e._uU(6," \u0414\u043e\u043c\u0430 "),e.qZA(),e._UZ(7,"div",35),e.TgZ(8,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openDialogCreateHouse())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",37),e.YNc(11,F3,4,1,"div",38),e.qZA()(),e.TgZ(12,"div",53)(13,"div",54)(14,"span",34),e._uU(15),e.qZA(),e._UZ(16,"div",55),e.TgZ(17,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteStreet())}),e.ALo(18,"async"),e.qZA()(),e.TgZ(19,"div",57)(20,"div",13)(21,"label",14),e._uU(22,"\u0422\u0438\u043f"),e.qZA(),e._UZ(23,"p-dropdown",61),e.qZA(),e.TgZ(24,"div",13)(25,"label",14),e._uU(26,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(27,"input",19),e.qZA(),e.TgZ(28,"div",13)(29,"label",14),e._uU(30,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(31,"p-chips",20),e.qZA(),e.TgZ(32,"div",13)(33,"label",14),e._uU(34,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(35,"input",21),e.qZA(),e.YNc(36,B3,2,4,"p-button",58),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,p;e.xp6(3),e.Q6J("loading",null!==(i=e.lcZ(4,14,t.beginRequest$))&&void 0!==i&&i),e.xp6(5),e.Q6J("loading",null!==(s=e.lcZ(9,16,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),e.xp6(3),e.Q6J("ngForOf",t.houses)("ngForTrackBy",t.trackByHouse),e.xp6(4),e.hij(" \u0423\u043b\u0438\u0446\u0430: ",null==t.selectedStreet?null:t.selectedStreet.streetName," "),e.xp6(2),e.Q6J("loading",null!==(p=e.lcZ(18,18,t.beginRequest$))&&void 0!==p&&p)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(2),e.Q6J("formGroup",t.streetEditingForm),e.xp6(4),e.Q6J("options",t.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK))}}function U3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",60),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveHouse())}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2);let i;e.Q6J("loading",null!==(i=e.lcZ(1,2,t.beginRequest$))&&void 0!==i&&i)("disabled",!t.houseEditingForm.valid||t.houseEditingForm.pristine)}}const H3=function(n,o){return[n,o]};function V3(n,o){if(1&n&&e._UZ(0,"ya-placemark",77),2&n){const t=e.oxw(2);e.Q6J("geometry",e.WLB(1,H3,t.housePlace.latitude,t.housePlace.longitude))}}function z3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"p-button",46),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"span",65),e._uU(5),e.qZA(),e.TgZ(6,"p-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteHouse())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",66)(9,"p-button",67),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.manualHouseNavigation$.next(-1))}),e.ALo(10,"async"),e.qZA(),e._UZ(11,"div",35),e.TgZ(12,"p-button",68),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.manualHouseNavigation$.next(1))}),e.ALo(13,"async"),e.qZA()(),e.TgZ(14,"div",69),e.NdJ("@swipe.done",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.animationEnd$.next(!0))}),e.ALo(15,"async"),e.TgZ(16,"div",28)(17,"label",14),e._uU(18,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(19,"p-inputNumber",23),e.qZA(),e.TgZ(20,"div",28)(21,"label",14),e._uU(22,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(23,"p-inputNumber",70),e.qZA(),e.TgZ(24,"div",28)(25,"label",14),e._uU(26,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(27,"input",71),e.qZA(),e.TgZ(28,"div",28)(29,"label",14),e._uU(30,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(31,"p-inputNumber",72),e.qZA(),e.TgZ(32,"div",73),e._UZ(33,"p-checkbox",74),e.TgZ(34,"label",14),e._uU(35,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),e.qZA()(),e.TgZ(36,"div",28)(37,"label",14),e._uU(38,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),e.qZA(),e._UZ(39,"app-acp-house-input",29),e.qZA(),e.YNc(40,U3,2,4,"p-button",58),e.TgZ(41,"ya-map",75),e.NdJ("yaclick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onMapClick(s))}),e.YNc(42,V3,1,4,"ya-placemark",76),e.qZA()()()}if(2&n){const t=e.oxw();let i,s,p,w;e.xp6(2),e.Q6J("loading",null!==(i=e.lcZ(3,14,t.beginRequest$))&&void 0!==i&&i),e.xp6(3),e.hij(" \u0414\u043e\u043c: ",null==t.selectedHouse?null:t.selectedHouse.addressName," "),e.xp6(1),e.Q6J("loading",null!==(s=e.lcZ(7,16,t.beginRequest$))&&void 0!==s&&s)("disabled",!t.personality.isHasAccess(t.AccessFlag.EDIT_ADDRESS_BOOK)),e.xp6(3),e.Q6J("loading",null!==(p=e.lcZ(10,18,t.beginRequest$))&&void 0!==p&&p),e.xp6(3),e.Q6J("loading",null!==(w=e.lcZ(13,20,t.beginRequest$))&&void 0!==w&&w),e.xp6(2),e.Q6J("formGroup",t.houseEditingForm)("@swipe",e.lcZ(15,22,t.animationState$)),e.xp6(19),e.Q6J("binary",!0),e.xp6(7),e.Q6J("ngIf",t.personality.isHasAccess(t.AccessFlag.EDIT_HOUSE_ADDRESS_BOOK)),e.xp6(1),e.Q6J("center",t.centerOfMap)("zoom",t.zoom)("options",t.mapOptions),e.xp6(1),e.Q6J("ngIf",t.housePlace)}}function J3(n,o){1&n&&(e.TgZ(0,"div",78),e._UZ(1,"p-progressSpinner",79),e.qZA())}function Q3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"div",81),e._UZ(2,"span",82),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA(),e.TgZ(5,"p-button",83),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reload())}),e.qZA()()()}}const G3=function(){return{marginBottom:"1rem"}};let VT=(()=>{class n{constructor(t,i,s,p,w){this.api=t,this.rt=i,this.personality=s,this.toast=p,this.confirmationService=w,this.AccessFlag=Ii.j,this.cities=[],this.streets=[],this.houses=[],this.streetFiltering=!1,this.viewMode="city",this.loadingState=he.Gu.LOADING,this.filterControl=new f.NI(""),this.filterChanged$=this.filterControl.valueChanges.pipe((0,Ls.b)(1e3),(0,Qr.x)()),this.cityEditingForm=new f.cw({name:new f.NI("",[f.kI.required,f.kI.minLength(3)])}),this.streetEditingForm=new f.cw({prefix:new f.NI("",[f.kI.required]),name:new f.NI("",[f.kI.required,f.kI.minLength(3),f.kI.maxLength(48)]),altNames:new f.NI([]),billingAlias:new f.NI("")}),this.houseEditingForm=new f.cw({houseNum:new f.NI(null,[f.kI.required,f.kI.min(1),f.kI.max(999)]),letter:new f.NI(null),fraction:new f.NI(null),build:new f.NI(null),isApartmentHouse:new f.NI(!1),acpHouseBind:new f.NI(null)}),this.subscriptions=new _.xf,this.cityLoad$=(0,Tn.of)(null).pipe((0,R.w)(()=>this.api.getCities()),(0,ei.b)(J=>this.cities=J),(0,ei.b)(()=>{this.subscriptions.unsubscribe("cityCr"),this.subscriptions.unsubscribe("cityUpd"),this.subscriptions.unsubscribe("cityDel"),this.subscriptions.unsubscribe("streetCr"),this.subscriptions.unsubscribe("streetUpd"),this.subscriptions.unsubscribe("streetDel"),this.subscriptions.unsubscribe("houseCr"),this.subscriptions.unsubscribe("houseUpd"),this.subscriptions.unsubscribe("houseDel"),this.subscriptions.addSubscription("cityCr",this.rt.cityCreated().subscribe(J=>{this.cities=[...this.cities,J]})),this.subscriptions.addSubscription("cityUpd",this.rt.cityUpdated().subscribe(J=>{var _e;this.cities=this.cities.map($e=>$e.cityId===J.cityId?J:$e),(null===(_e=this.selectedCity)||void 0===_e?void 0:_e.cityId)===J.cityId&&this.selectCity(J)})),this.subscriptions.addSubscription("cityDel",this.rt.cityDeleted().subscribe(J=>{var _e;this.cities=this.cities.filter($e=>$e.cityId!==J.cityId),(null===(_e=this.selectedCity)||void 0===_e?void 0:_e.cityId)===J.cityId&&(this.viewMode="city")})),this.subscriptions.addSubscription("streetCr",this.rt.streetCreated().subscribe(J=>{var _e;J.city.cityId===(null===(_e=this.selectedCity)||void 0===_e?void 0:_e.cityId)&&(this.streets=[...this.streets,J].sort(this.streetSort))})),this.subscriptions.addSubscription("streetUpd",this.rt.streetUpdated().subscribe(J=>{var _e;this.streets=this.streets.map($e=>$e.streetId===J.streetId?J:$e).sort(this.streetSort),(null===(_e=this.selectedStreet)||void 0===_e?void 0:_e.streetId)===J.streetId&&this.selectStreet(J)})),this.subscriptions.addSubscription("streetDel",this.rt.streetDeleted().subscribe(J=>{var _e;this.streets=this.streets.filter($e=>$e.streetId!==J.streetId),(null===(_e=this.selectedStreet)||void 0===_e?void 0:_e.streetId)===J.streetId&&(this.viewMode="street")})),this.subscriptions.addSubscription("houseCr",this.rt.houseCreated().subscribe(J=>{var _e;J.streetId===(null===(_e=this.selectedStreet)||void 0===_e?void 0:_e.streetId)&&(this.houses=[...this.houses,J].sort(this.houseSort))})),this.subscriptions.addSubscription("houseUpd",this.rt.houseUpdated().subscribe(J=>{var _e;this.houses=this.houses.map($e=>$e.houseId===J.houseId?J:$e).sort(this.houseSort),(null===(_e=this.selectedHouse)||void 0===_e?void 0:_e.houseId)===J.houseId&&this.selectHouse(J)})),this.subscriptions.addSubscription("houseDel",this.rt.houseDeleted().subscribe(J=>{var _e;this.houses=this.houses.filter($e=>$e.houseId!==J.houseId),(null===(_e=this.selectedHouse)||void 0===_e?void 0:_e.houseId)===J.houseId&&(this.viewMode="house")}))})),this.streetPrefixes=[{label:"\u0423\u043b\u0438\u0446\u0430",value:"\u0443\u043b"},{label:"\u0410\u043b\u043b\u0435\u044f",value:"\u0430\u043b\u043b\u0435\u044f"},{label:"\u0411\u0443\u043b\u044c\u0432\u0430\u0440",value:"\u0431-\u0440"},{label:"\u041f\u0435\u0440\u0435\u0443\u043b\u043e\u043a",value:"\u043f\u0435\u0440"},{label:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c",value:"\u043f\u043b"},{label:"\u041f\u0440\u043e\u0435\u0437\u0434",value:"\u043f\u0440-\u0434"},{label:"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442",value:"\u043f\u0440-\u043a\u0442"},{label:"\u0428\u043e\u0441\u0441\u0435",value:"\u0448"}],this.loadingStateHandler={next:()=>{this.loadingState=he.Gu.READY},error:()=>{this.loadingState=he.Gu.ERROR}},this.createCityVisible=!1,this.createCityForm=new f.cw({name:new f.NI("",[f.kI.required,f.kI.minLength(3)])}),this.createStreetVisible=!1,this.createStreetForm=new f.cw({prefix:new f.NI("",[f.kI.required]),name:new f.NI("",[f.kI.required,f.kI.minLength(3),f.kI.maxLength(48)]),altNames:new f.NI([]),billingAlias:new f.NI("")}),this.createHouseVisible=!1,this.createHouseForm=new f.cw({houseNum:new f.NI(null,[f.kI.required,f.kI.min(1),f.kI.max(999999)]),letter:new f.NI(null,[f.kI.maxLength(1)]),fraction:new f.NI(null,[f.kI.min(1),f.kI.max(999)]),build:new f.NI(null,[f.kI.min(1),f.kI.max(99)]),isApartmentHouse:new f.NI(!1),acpHouseBind:new f.NI(null)}),this.beginRequest$=new ol.X(!1),this.houseNavigation$=(0,x.R)(window,"keyup").pipe((0,r.h)(J=>J.altKey&&!!this.selectedHouse),(0,mt.U)(J=>{switch(J.key){case"n":return 1;case"b":return-1}return 0})),this.manualHouseNavigation$=new Rr.x,this.animationEnd$=new Rr.x,this.houseBeginningNavigate=!1,this.requestStatusHandler={next:()=>{this.beginRequest$.next(!1)},error:()=>{this.beginRequest$.next(!1)}},this.mapOptions={avoidFractionalZoom:!0},this.centerOfMap=[47.519624,42.206329],this.zoom=12,this._houseViewAnimation=new ol.X([0,0]),this.animationState$=this._houseViewAnimation.pipe((0,R.w)(J=>(0,Tn.of)(...J)),(0,mt.U)(J=>J>0?"right":J<0?"left":"default"))}updateCenterOfMap(){if(this.housePlace)return this.centerOfMap=[this.housePlace.latitude,this.housePlace.longitude],void(this.zoom=17);this.centerOfMap=[47.519624,42.206329],this.zoom=12}trackByHouse(t,i){return i.houseId+i.addressName}trackByStreet(t,i){return i.streetId+i.nameWithPrefix}trackByCity(t,i){return i.cityId+i.name}streetSort(t,i){return t.name<i.name?-1:t.name>i.name?1:0}houseSort(t,i){var s,p,w,J,_e,$e;return t.houseNum-i.houseNum||(null===(s=t.letter)||void 0===s?void 0:s.localeCompare(null!==(p=i.letter)&&void 0!==p?p:""))||(null!==(w=t.fraction)&&void 0!==w?w:0)-(null!==(J=i.fraction)&&void 0!==J?J:0)||(null!==(_e=t.build)&&void 0!==_e?_e:0)-(null!==($e=i.build)&&void 0!==$e?$e:0)}onMapClick(t){const{event:s}=t,[p,w]=s.get("coords");this.housePlace={placeId:0,latitude:p,longitude:w}}ngOnInit(){this.cityLoad$.subscribe(this.loadingStateHandler),this.subscriptions.addSubscription("hsnav",(0,Eo.T)(this.houseNavigation$,this.manualHouseNavigation$.asObservable()).pipe((0,r.h)(()=>!this.houseBeginningNavigate),(0,ei.b)(t=>{this.houseBeginningNavigate=!0,this._houseViewAnimation.next([0,t])}),(0,Qx.j)(()=>this.animationEnd$),(0,ei.b)(t=>this._houseViewAnimation.next([t,-t])),(0,Qx.j)(()=>this.animationEnd$),(0,ei.b)(t=>{-1===t?this.previousHouse():1===t&&this.nextHouse(),this._houseViewAnimation.next([t,0])}),(0,Qx.j)(()=>this.animationEnd$),(0,_3.X)()).subscribe({next:t=>{this.houseBeginningNavigate=!1},error:()=>{this.houseBeginningNavigate=!1}})),this.subscriptions.addSubscription("bgreq",this.beginRequest$.subscribe(t=>{t?(this.createCityForm.disable(),this.cityEditingForm.disable(),this.streetEditingForm.disable(),this.createStreetForm.disable(),this.houseEditingForm.disable(),this.createHouseForm.disable()):(this.createCityForm.enable(),this.cityEditingForm.enable(),this.streetEditingForm.enable(),this.createStreetForm.enable(),this.houseEditingForm.enable(),this.createHouseForm.enable())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadStreets$(t,i){return this.api.getStreets(t,null!=i?i:void 0).pipe((0,ei.b)(s=>this.streets=s),(0,ei.b)(()=>this.viewMode="street"),(0,ei.b)(()=>this.streetFiltering=!1))}selectCity(t){let{cityId:i}=t;i?(this.loadingState=he.Gu.LOADING,this.selectedCity=t,this.filterControl.reset(),this.cityEditingForm.setValue({name:t.name}),this.subscriptions.unsubscribe("cityLoad"),this.subscriptions.addSubscription("cityLoad",(0,Eo.T)(this.loadStreets$(i),this.filterChanged$.pipe((0,ei.b)(()=>this.streetFiltering=!0),(0,Gd.z)(s=>this.loadStreets$(i,s)))).subscribe(this.loadingStateHandler))):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectStreet(t){var i,s,p;t.streetId?(this.loadingState=he.Gu.LOADING,this.selectedStreet=t,this.streetEditingForm.setValue({prefix:null!==(i=t.prefix)&&void 0!==i?i:null,name:null!==(s=t.name)&&void 0!==s?s:"",altNames:t.altNames?t.altNames.split(","):[],billingAlias:null!==(p=t.billingAlias)&&void 0!==p?p:""}),this.api.getHouses(t.streetId).pipe((0,ei.b)(w=>this.houses=w.sort(this.houseSort)),(0,ei.b)(()=>this.viewMode="house")).subscribe(this.loadingStateHandler)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u043b\u0438\u0446\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectHouse(t){var i,s,p;this.viewMode="houseView",this.selectedHouse=t,t.place?(this.housePlace=t.place,this.updateCenterOfMap()):(this.housePlace=void 0,this.updateCenterOfMap()),this.houseEditingForm.setValue({houseNum:t.houseNum,letter:null!==(i=t.letter)&&void 0!==i?i:null,fraction:null!==(s=t.fraction)&&void 0!==s?s:null,build:null!==(p=t.build)&&void 0!==p?p:null,isApartmentHouse:t.isApartmentHouse,acpHouseBind:t.acpHouseBind})}createCity(){this.beginRequest$.next(!0),this.api.createCity(this.createCityForm.value).pipe((0,ei.b)(this.requestStatusHandler)).subscribe(()=>this.createCityVisible=!1)}deleteCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.deleteCity(this.selectedCity.cityId).pipe((0,ei.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="city")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}saveCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.editCity(this.selectedCity.cityId,this.cityEditingForm.value).pipe((0,ei.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}createStreet(){this.selectedCity?(this.beginRequest$.next(!0),this.api.createStreet(this.selectedCity.cityId,this.createStreetForm.value).pipe((0,ei.b)(this.requestStatusHandler)).subscribe(()=>this.createStreetVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}deleteStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u043b\u0438\u0446\u0443?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.deleteStreet(this.selectedStreet.streetId).pipe((0,ei.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="street")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}saveStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.editStreet(this.selectedStreet.streetId,this.streetEditingForm.value).pipe((0,ei.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}createHouse(){this.selectedStreet?(this.beginRequest$.next(!0),this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).pipe((0,ei.b)(this.requestStatusHandler)).subscribe(()=>this.createHouseVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}deleteHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043c?",accept:()=>{var t;null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId?(this.beginRequest$.next(!0),this.api.deleteHouse(this.selectedHouse.houseId).pipe((0,ei.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="house")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}saveHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;if(null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId){this.beginRequest$.next(!0);const i=this.houseEditingForm.value;this.housePlace&&(i.place=this.housePlace),this.api.editHouse(this.selectedHouse.houseId,i).pipe((0,ei.b)(this.requestStatusHandler)).subscribe()}else this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}back(){"houseView"===this.viewMode?(this.viewMode="house",this.selectedHouse=void 0):"house"===this.viewMode?(this.viewMode="street",this.selectedStreet=void 0):"street"===this.viewMode&&(this.viewMode="city",this.selectedCity=void 0)}openDialogCreateHouse(){this.createHouseForm.reset({isApartmentHouse:!1}),this.createHouseVisible=!0}openDialogCreateStreet(){this.createStreetForm.reset(),this.createStreetVisible=!0}openDialogCreateCity(){this.createCityForm.reset(),this.createCityVisible=!0}reload(){this.cities=[],this.streets=[],this.houses=[],this.selectedCity=void 0,this.selectedStreet=void 0,this.selectedHouse=void 0,this.viewMode="city",this.streetFiltering=!1,this.loadingState=he.Gu.LOADING,this.filterControl.reset(),this.cityLoad$.subscribe(this.loadingStateHandler)}houseNavigationHandler(t){-1===t?this.previousHouse():1===t&&this.nextHouse()}previousHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t>0?this.houses[t-1]:this.houses[this.houses.length-1])}}nextHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t<this.houses.length-1?this.houses[t+1]:this.houses[0])}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(Q.F),e.Y36(N.ez),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:73,vars:37,consts:[["appExtendPageHeight","",1,"flexed","vcenter",3,"limited"],[1,"responsive-wrapper","flexed","gap10"],[1,"flex","p-3","flex-grow-1","gap-2","panel","overflow-hidden"],[3,"ngSwitch"],[4,"ngSwitchCase"],["cityList",""],["streetList",""],["houseList",""],["houseView",""],["loadingTemp",""],["errorTemp",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",3,"modal","resizable","dismissableMask","draggable","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["pInputText","","type","text","formControlName","name"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u043b\u0438\u0446\u0443",3,"modal","resizable","dismissableMask","draggable","visible","visibleChange"],["appendTo","body","formControlName","prefix",3,"options"],["pInputText","","formControlName","name","type","text"],["formControlName","altNames","separator",",",3,"allowDuplicate","addOnTab","addOnBlur"],["pInputText","","formControlName","billingAlias","type","text"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","dismissableMask","visible","visibleChange"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],["formControlName","isApartmentHouse"],[1,"flex","gap-1","flex-column"],["formControlName","acpHouseBind"],[4,"ngTemplateOutlet"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-column","gap-2","terminator-right"],[1,"flex","gap-3","px-3","align-items-center"],[1,"caption","size-big"],[1,"flex-grow-1"],["icon","mdi-add","styleClass","p-button-outlined p-button-success p-button-icon",3,"loading","disabled","onClick"],[1,"list-view","pr-3"],["class","flexed gap5 p10 h-min hcenter caption wt-bold f-color-600 border-round-md active-element","pRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","p-3","flex-grow-1","align-items-center","justify-content-center"],[1,"flex","flex-column","align-items-center","caption","f-color-500"],[1,"mds-check_circle"],[1,"caption","size-big","f-color-500"],["pRipple","",1,"flexed","gap5","p10","h-min","hcenter","caption","wt-bold","f-color-600","border-round-md","active-element",3,"click"],[1,"mdi-location_city"],[1,"flex","gap-3","pr-3","align-items-center"],["icon","mdi-arrow_back_ios_new","styleClass","p-button-text p-button-secondary p-button-icon",3,"loading","onClick"],[1,"pr-3"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b...","type","text",3,"appPreventInput","formControl"],[1,"list-view","pr-3",3,"ngClass"],[1,"flexed","column","stretched","gap10"],[1,"flexed","gap5","pb-2","px-2","hcenter","terminator-bottom"],[1,"stretched"],["label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-text p-button-danger","icon","mdi-delete",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-2","p-3",3,"formGroup"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","class","align-self-end","styleClass","p-button-success","icon","mdi-save",3,"loading","disabled","onClick",4,"ngIf"],[1,"mdi-streetview"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success","icon","mdi-save",1,"align-self-end",3,"loading","disabled","onClick"],["formControlName","prefix",3,"options"],[1,"mdi-home"],[1,"flex","flex-column","gap-3","flex-grow-1"],[1,"flex","align-items-center","gap-3","terminator-bottom","pb-2"],[1,"caption","size-big","flex-grow-1"],[1,"flex","gap-3"],["label","\u041f\u0440\u0435\u0434. (Alt+B)","icon","mdi-arrow_back","styleClass","p-button-text p-button-info",3,"loading","onClick"],["label","\u0421\u043b\u0435\u0434. (Alt+N)","icon","mdi-arrow_forward","iconPos","right","styleClass","p-button-text p-button-info",3,"loading","onClick"],[1,"flex","flex-column","gap-3","flex-grow-1","p-3",3,"formGroup"],["formControlName","fraction"],["pInputText","","formControlName","letter","type","text"],["formControlName","build"],[1,"flex","gap-1","align-items-center"],["formControlName","isApartmentHouse",3,"binary"],[1,"flex-grow-1",3,"center","zoom","options","yaclick"],[3,"geometry",4,"ngIf"],[3,"geometry"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","caption","size-big","f-color-danger"],[1,"flex","flex-column","align-items-center"],[1,"mds-error"],["label","\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","icon","mdi-refresh","styleClass","p-button-success p-button-outlined",1,"mt-3",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.ynx(4,3),e.YNc(5,v3,2,1,"ng-container",4),e.YNc(6,y3,2,1,"ng-container",4),e.YNc(7,D3,6,5,"ng-container",4),e.BQk(),e.qZA()()(),e.YNc(8,O3,15,6,"ng-template",null,5,e.W1O),e.YNc(10,N3,30,21,"ng-template",null,6,e.W1O),e.YNc(12,Z3,37,20,"ng-template",null,7,e.W1O),e.YNc(14,z3,43,24,"ng-template",null,8,e.W1O),e.YNc(16,J3,2,0,"ng-template",null,9,e.W1O),e.YNc(18,Q3,6,0,"ng-template",null,10,e.W1O),e.TgZ(20,"p-dialog",11),e.NdJ("visibleChange",function(p){return i.createCityVisible=p}),e.TgZ(21,"div",12)(22,"div",13)(23,"label",14),e._uU(24,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(25,"input",15),e.qZA(),e.TgZ(26,"p-button",16),e.NdJ("onClick",function(){return i.createCity()}),e.qZA()()(),e.TgZ(27,"p-dialog",17),e.NdJ("visibleChange",function(p){return i.createStreetVisible=p}),e.TgZ(28,"div",12)(29,"div",13)(30,"label",14),e._uU(31,"\u0422\u0438\u043f"),e.qZA(),e._UZ(32,"p-dropdown",18),e.qZA(),e.TgZ(33,"div",13)(34,"label",14),e._uU(35,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(36,"input",19),e.qZA(),e.TgZ(37,"div",13)(38,"label",14),e._uU(39,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(40,"p-chips",20),e.qZA(),e.TgZ(41,"div",13)(42,"label",14),e._uU(43,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(44,"input",21),e.qZA(),e.TgZ(45,"p-button",16),e.NdJ("onClick",function(){return i.createStreet()}),e.qZA()()(),e.TgZ(46,"p-dialog",22),e.NdJ("visibleChange",function(p){return i.createHouseVisible=p}),e.TgZ(47,"div",12)(48,"div",13)(49,"label",14),e._uU(50,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(51,"p-inputNumber",23),e.qZA(),e.TgZ(52,"div",13)(53,"label",14),e._uU(54,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(55,"p-inputNumber",24),e.qZA(),e.TgZ(56,"div",13)(57,"label",14),e._uU(58,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(59,"p-inputMask",25),e.qZA(),e.TgZ(60,"div",13)(61,"label",14),e._uU(62,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(63,"p-inputNumber",26),e.qZA(),e.TgZ(64,"div",13)(65,"label",14),e._uU(66,"\u041c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c?"),e.qZA(),e._UZ(67,"p-inputSwitch",27),e.qZA(),e.TgZ(68,"div",28)(69,"label",14),e._uU(70,"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a ACP"),e.qZA(),e._UZ(71,"app-acp-house-input",29),e.qZA(),e.TgZ(72,"p-button",16),e.NdJ("onClick",function(){return i.createHouse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(1),e.Akn(e.DdM(36,G3)),e.xp6(3),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(13),e.Q6J("modal",!0)("resizable",!1)("dismissableMask",!0)("draggable",!1)("visible",i.createCityVisible),e.xp6(1),e.Q6J("formGroup",i.createCityForm),e.xp6(5),e.Q6J("disabled",!i.createCityForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("dismissableMask",!0)("draggable",!1)("visible",i.createStreetVisible),e.xp6(1),e.Q6J("formGroup",i.createStreetForm),e.xp6(4),e.Q6J("options",i.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("disabled",!i.createStreetForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("draggable",!1)("dismissableMask",!0)("visible",i.createHouseVisible),e.xp6(1),e.Q6J("formGroup",i.createHouseForm),e.xp6(8),e.Q6J("min",1)("max",999),e.xp6(8),e.Q6J("min",1)("max",99),e.xp6(9),e.Q6J("disabled",!i.createHouseForm.valid))},data:{animation:[u.aq]}}),n})();function W3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-listbox",18),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.selectTemplate(s.value))}),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw();e.Q6J("disabled","LOADING"===i.templateLoadingState)("hidden","READY"!==i.wireframesLoadingState)("options",t)}}function Y3(n,o){1&n&&e.GkF(0)}function j3(n,o){if(1&n&&e._UZ(0,"app-task-template-input",20),2&n){const t=o.$implicit;e.Q6J("field",t)("formControlName",t.id)}}function K3(n,o){if(1&n&&(e.ynx(0),e.YNc(1,j3,1,2,"app-task-template-input",19),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.taskFields)}}function q3(n,o){1&n&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"span",23),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA()()())}function $3(n,o){1&n&&(e.TgZ(0,"div",21),e._UZ(1,"p-progressSpinner",24),e.qZA())}function X3(n,o){1&n&&e._UZ(0,"app-employee-label",33),2&n&&e.Q6J("employee",o.$implicit)}const eE=function(){return{"max-height":"200px"}};function tE(n,o){if(1&n&&(e.TgZ(0,"section",25)(1,"div",6)(2,"span",7),e._uU(3,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438"),e.qZA(),e.TgZ(4,"p-listbox",26),e.YNc(5,X3,1,1,"ng-template",27),e.qZA()(),e.TgZ(6,"div",28)(7,"div",6)(8,"span",7),e._uU(9,"\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(10,"p-calendar",29),e.qZA(),e.TgZ(11,"div",6)(12,"span",7),e._uU(13,"\u0422\u0435\u0433\u0438 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(14,"app-task-tag-selector",30),e.qZA(),e.TgZ(15,"div",31)(16,"span",7),e._uU(17,"\u041e\u0442\u0447\u0435\u0442 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0445"),e.qZA(),e._UZ(18,"textarea",32),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.installersReportForm),e.xp6(4),e.Q6J("checkbox",!0)("metaKeySelection",!1)("multiple",!0)("listStyle",e.DdM(12,eE))("options",t.installers),e.xp6(6),e.Q6J("readonlyInput",!0)("selectOtherMonths",!0)("firstDayOfWeek",1),e.xp6(4),e.Q6J("autoAccept",!0),e.xp6(4),e.Q6J("autoResize",!0)("rows",4)}}function nE(n,o){if(1&n&&(e.TgZ(0,"section",5),e._UZ(1,"app-works-picker",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("employees",t.installersReportForm.value.installers)("formControl",t.worksPickerForm)}}function iE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",5)(1,"app-employee-sum-distribution",35),e.NdJ("onRemoveFactorAction",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.removeFactorActionHandler(s))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.employeeRatioForm)("employees",t.installersReportForm.value.installers)("actionPicker",t.worksPickerForm.valueChanges)}}function oE(n,o){1&n&&e._UZ(0,"p-inputNumber",42)}function sE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",36)(1,"div",37)(2,"span",38),e._uU(3,"\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(4,"p-inputSwitch",39),e.YNc(5,oE,1,0,"p-inputNumber",40),e.qZA(),e.TgZ(6,"p-button",41),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.createTaskAndCalculate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.paidWorkForm),e.xp6(4),e.Q6J("ngIf",t.paidWorkForm.value.isPaidWork),e.xp6(1),e.Q6J("loading",t.isSendingCalculation)}}function rE(n,o){1&n&&(e.TgZ(0,"span",48),e._UZ(1,"span",49),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function aE(n,o){1&n&&(e.TgZ(0,"span",50),e._UZ(1,"span",51),e.TgZ(2,"span"),e._uU(3,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()())}function lE(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-skeleton",52)(2,"p-skeleton",52)(3,"p-skeleton",52),e.BQk())}function cE(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,rE,4,0,"span",45),e.YNc(2,aE,4,0,"span",46),e.YNc(3,lE,4,0,"ng-container",47),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.wireframesLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function uE(n,o){if(1&n&&e.YNc(0,cE,4,4,"div",43),2&n){const t=e.oxw();e.Q6J("ngIf","READY"!==t.wireframesLoadingState)}}let zT=(()=>{class n{constructor(t,i){this.api=t,this.toast=i,this.wireframesLoadingState=he.Gu.LOADING,this.wireframes$=(0,Tn.of)(null).pipe((0,ei.b)(()=>{this.wireframesLoadingState=he.Gu.LOADING}),(0,R.w)(()=>this.api.getWireframes(!1)),(0,ei.b)({next:s=>{this.wireframesLoadingState=s.length>0?he.Gu.READY:he.Gu.EMPTY},error:()=>{this.wireframesLoadingState=he.Gu.ERROR}}),(0,mt.U)(s=>s.map(p=>({label:p.name,value:p.wireframeId})))),this.templateLoadingState=he.Gu.EMPTY,this.taskFields=[],this.taskInformationForm=new f.cw({}),this.installers=[],this.loadingInstallers$=this.api.getInstallersEmployees().pipe((0,ei.b)({next:s=>{this.installers=s},error:()=>{}})),this.installersReportForm=new f.cw({installers:new f.NI([],[f.kI.required]),report:new f.NI("",[f.kI.required]),tags:new f.NI([]),date:new f.NI(new Date,[f.kI.required])}),this.subscriptions=new _.xf,this.worksPickerForm=new f.NI(null,[this.worksPickerValidator]),this.isSendingCalculation=!1,this.employeeRatioForm=new f.NI({}),this.paidWorkForm=new f.cw({isPaidWork:new f.NI(!1),amountOfMoneyTaken:new f.NI(null)}),this._selectTemplateSubject=new Rr.x,this.selectWireframe$=this._selectTemplateSubject.pipe((0,ei.b)(()=>{this.templateLoadingState=he.Gu.LOADING}),(0,R.w)(s=>this.api.getWireframe(s)),(0,ei.b)(()=>this.loadingInstallers$.subscribe()),(0,ei.b)({next:s=>{var p,w,J;this.taskFields=null!==(p=s.allFields)&&void 0!==p?p:[],this.selectedWireframe=s,this.taskInformationForm=new f.cw(null!==(J=null===(w=s.allFields)||void 0===w?void 0:w.reduce((_e,$e)=>Object.assign(Object.assign({},_e),{[$e.id]:new f.NI(null,P.d.taskInput($e.type,$e.variation))}),{}))&&void 0!==J?J:new f.cw({})),this.templateLoadingState=he.Gu.READY},error:()=>{this.templateLoadingState=he.Gu.ERROR}})),this.sendingCalculationHandler={next:()=>{this.isSendingCalculation=!1,this.worksPickerForm.enable(),this.employeeRatioForm.enable(),this.installersReportForm.enable(),this.taskInformationForm.enable(),this.paidWorkForm.enable(),this.worksPickerForm.reset(),this.employeeRatioForm.reset(),this.paidWorkForm.reset(),this.installersReportForm.reset({installers:[],report:"",tags:[],date:new Date}),this.taskInformationForm.reset()},error:()=>{this.isSendingCalculation=!1,this.worksPickerForm.enable(),this.employeeRatioForm.enable(),this.installersReportForm.enable(),this.taskInformationForm.enable(),this.paidWorkForm.enable()}}}worksPickerValidator(t){const i=t.value;return null==i?{required:!0}:"actionsTaken"in i?null==i.actionsTaken||0===i.actionsTaken.length?{required:!0}:null:{required:!0}}ngOnInit(){this.subscriptions.addSubscription("selwf",this.selectWireframe$.subscribe())}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplate(t){this._selectTemplateSubject.next(t)}getFactorsActions(t){var i,s;return null!==(i=this.worksPickerForm.value)&&void 0!==i&&i.factorsActions?null===(s=this.worksPickerForm.value)||void 0===s?void 0:s.factorsActions.filter(p=>p.login===t):[]}createTaskAndCalculate(){var t;const i=this.installersReportForm.value.installers;this.taskInformationForm.markAllAsTouched(),this.worksPickerForm.markAllAsTouched(),this.installersReportForm.markAllAsTouched(),this.taskInformationForm.invalid?this.toast.add({detail:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0437\u0430\u0434\u0430\u0447\u0435",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):this.installersReportForm.invalid?this.toast.add({detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0442\u0447\u0435\u0442",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):this.worksPickerForm.invalid?this.toast.add({detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0430\u043c\u0438 \u0440\u0430\u0431\u043e\u0442\u044b",severity:"red",key:"redtoast",icon:"mdi-cancel",closable:!1}):!i||null===(t=this.worksPickerForm.value)||void 0===t||!t.actionsTaken||!this.selectedWireframe||this.paidWorkForm.value.isPaidWork&&(!this.paidWorkForm.value.amountOfMoneyTaken||this.paidWorkForm.value.amountOfMoneyTaken<1)||(this.isSendingCalculation=!0,this.worksPickerForm.disable(),this.employeeRatioForm.disable(),this.installersReportForm.disable(),this.taskInformationForm.disable(),this.paidWorkForm.disable(),this.api.sendBypassWorkCalculation({taskInfo:{wireframeId:this.selectedWireframe.wireframeId,fields:_.PU.convert(this.taskInformationForm.value,this.selectedWireframe)},reportInfo:this.installersReportForm.value,actions:this.worksPickerForm.value.actionsTaken.map(s=>({workId:s.workId,actionId:s.actionId,count:s.count,uuid:s.uuid})),spreading:i.map(s=>({login:s.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[s.login].ratio:0,factorsActions:this.getFactorsActions(s.login).filter(p=>p).map(p=>({factor:p.factor,name:p.name,actionUuids:p.actionUuids}))})),isPaidWork:this.paidWorkForm.value.isPaidWork,amountOfMoneyTaken:this.paidWorkForm.value.amountOfMoneyTaken}).subscribe(this.sendingCalculationHandler))}removeFactorActionHandler(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:13,consts:[["appExtendPageHeight","",1,"flex","flex-grow-1","px-4"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","panel"],[1,"caption","size-huge","wt-tiny","f-color-600","p-3","terminator-bottom"],[1,"flex","flex-column","px-4"],[1,"flex","gap-4","p-4","terminator-bottom"],[1,"flex","flex-column","gap-1"],[1,"caption","wt-bold","f-color-500"],[3,"disabled","hidden","options","onChange",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"flex","flex-grow-1","flex-column","gap-2",3,"formGroup"],[4,"ngIf"],[3,"ngSwitch"],["class","flex justify-content-center",4,"ngSwitchCase"],["class","flex gap-4 p-4 terminator-bottom",3,"formGroup",4,"ngIf"],["class","flex gap-4 p-4 terminator-bottom",4,"ngIf"],["class","flex gap-3 w-max align-self-end my-3",4,"ngIf"],["wireframesLoadingTemp",""],[3,"disabled","hidden","options","onChange"],[3,"field","formControlName",4,"ngFor","ngForOf"],[3,"field","formControlName"],[1,"flex","justify-content-center"],[1,"flex","align-items-center","caption","size-big","wt-bold","f-color-400"],[1,"mds-done"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","gap-4","p-4","terminator-bottom",3,"formGroup"],["formControlName","installers",3,"checkbox","metaKeySelection","multiple","listStyle","options"],["pTemplate","item"],[1,"flex","flex-column","gap-2","flex-grow-1"],["selectionMode","single","appendTo","body","formControlName","date",3,"readonlyInput","selectOtherMonths","firstDayOfWeek"],["formControlName","tags",3,"autoAccept"],[1,"flex","flex-column","gap-1","flex-grow-1"],["pInputTextarea","","formControlName","report",3,"autoResize","rows"],[3,"employee"],[1,"flex-grow-1",3,"employees","formControl"],[1,"w-full",3,"formControl","employees","actionPicker","onRemoveFactorAction"],[1,"flex","gap-3","w-max","align-self-end","my-3"],[1,"flex","gap-2","align-items-center",3,"formGroup"],[1,"text-sm","text-bluegray-400","font-bold","white-space-nowrap"],["formControlName","isPaidWork",1,"line-height-0"],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB",4,"ngIf"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],["formControlName","amountOfMoneyTaken","placeholder","\u0421\u0443\u043c\u043c\u0430","mode","currency","currency","RUB"],["class","border-round-md border-1 border-solid border-300 p-3 flex flex-column gap-2",3,"ngSwitch",4,"ngIf"],[1,"border-round-md","border-1","border-solid","border-300","p-3","flex","flex-column","gap-2",3,"ngSwitch"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-danger",4,"ngSwitchCase"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-300",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-300"],[1,"mdi-backpack"],["width","10rem","height","2.8rem"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"span",3),e._uU(5,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e.TgZ(6,"div",4)(7,"section",5)(8,"div")(9,"div",6)(10,"span",7),e._uU(11,"\u041a\u043b\u0430\u0441\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.YNc(12,W3,1,3,"p-listbox",8),e.ALo(13,"async"),e.YNc(14,Y3,1,0,"ng-container",9),e.qZA()(),e.TgZ(15,"div",10)(16,"span",7),e._uU(17,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e.YNc(18,K3,2,1,"ng-container",11),e.ynx(19,12),e.YNc(20,q3,5,0,"div",13),e.YNc(21,$3,2,0,"div",13),e.BQk(),e.qZA()(),e.YNc(22,tE,19,13,"section",14),e.YNc(23,nE,2,2,"section",15),e.YNc(24,iE,2,3,"section",15),e.YNc(25,sE,7,3,"section",16),e.qZA()()()(),e.YNc(26,uE,1,1,"ng-template",null,17,e.W1O)),2&t){const s=e.MAs(27);e.xp6(12),e.Q6J("ngIf",e.lcZ(13,11,i.wireframes$)),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("formGroup",i.taskInformationForm),e.xp6(3),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngSwitch",i.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState)}}}),n})();function dE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"\u0425\u043e\u0441\u0442"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u041f\u043e\u0440\u0442"),e.qZA(),e._UZ(11,"p-inputNumber",8),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",6)(21,"label"),e._uU(22,"\u0418\u043c\u044f \u0434\u0435\u043c\u043e\u043d\u0430"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"div",6)(25,"label"),e._uU(26,"IP \u041c\u0430\u0448\u0438\u043d\u044b"),e.qZA(),e._UZ(27,"app-ip-input",12),e.qZA()(),e.TgZ(28,"div",13)(29,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.billingConfigForm),e.xp6(8),e.Q6J("max",65538)("min",1),e.xp6(18),e.Q6J("loading",t.isSaving)("disabled",!t.billingConfigForm.valid)}}function pE(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443"),e.qZA(),e.TgZ(3,"div",15)(4,"div",6)(5,"label"),e._uU(6,"\u0425\u043e\u0441\u0442"),e.qZA(),e._UZ(7,"p-skeleton",16),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u041f\u043e\u0440\u0442"),e.qZA(),e._UZ(11,"p-skeleton",17),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(15,"p-skeleton",16),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(19,"p-skeleton",16),e.qZA(),e.TgZ(20,"div",6)(21,"label"),e._uU(22,"\u0418\u043c\u044f \u0434\u0435\u043c\u043e\u043d\u0430"),e.qZA(),e._UZ(23,"p-skeleton",16),e.qZA(),e.TgZ(24,"div",6)(25,"label"),e._uU(26,"IP \u041c\u0430\u0448\u0438\u043d\u044b"),e.qZA(),e._UZ(27,"p-skeleton",18),e.qZA()(),e.TgZ(28,"div",13),e._UZ(29,"p-skeleton",19),e.qZA(),e.BQk())}let JT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.billingConfigForm=new f.cw({host:new f.NI("",[f.kI.required]),port:new f.NI(80,[f.kI.required]),login:new f.NI("",[f.kI.required]),password:new f.NI("",[f.kI.required]),daemonName:new f.NI("",[f.kI.required]),selfIp:new f.NI("",[f.kI.required])}),this.isLoading=!0,this.isSaving=!1}ngOnInit(){this.api.getBillingConfiguration().subscribe(t=>{this.billingConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.billingConfigChanged().subscribe(t=>this.billingConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.billingConfigForm.disable({emitEvent:!1}),this.api.setBillingConfiguration(this.billingConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.billingConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.billingConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","h-fit","gap-3","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","host","pInputText","","type","text"],["formControlName","port",3,"max","min"],["formControlName","login","pInputText","","type","text"],["formControlName","password","pInputText","","type","text"],["formControlName","daemonName","pInputText","","type","text"],["formControlName","selfIp"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["width","15rem","height","3rem"],["width","16rem","height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,dE,30,5,"ng-container",3),e.YNc(5,pE,30,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})();function hE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 Telegram"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(7,"input",7),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"Id \u0447\u0430\u0442\u0430 DHCP \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),e.qZA(),e._UZ(15,"input",9),e.qZA()(),e.TgZ(16,"div",10)(17,"p-button",11),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.telegramConfigForm),e.xp6(14),e.Q6J("loading",t.isSaving)("disabled",!t.telegramConfigForm.valid)}}function gE(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 Telegram"),e.qZA(),e.TgZ(3,"div",12)(4,"div",6)(5,"label"),e._uU(6,"\u0422\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(7,"p-skeleton",13),e.qZA(),e.TgZ(8,"div",6)(9,"label"),e._uU(10,"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"),e.qZA(),e._UZ(11,"p-skeleton",13),e.qZA(),e.TgZ(12,"div",6)(13,"label"),e._uU(14,"Id \u0447\u0430\u0442\u0430 DHCP \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),e.qZA(),e._UZ(15,"p-skeleton",13),e.qZA()(),e.TgZ(16,"div",10),e._UZ(17,"p-skeleton",14),e.qZA(),e.BQk())}let QT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.isLoading=!0,this.isSaving=!1,this.telegramConfigForm=new f.cw({botToken:new f.NI("",[f.kI.required]),botName:new f.NI("",[f.kI.required]),dhcpNotificationChatId:new f.NI("")})}ngOnInit(){this.api.getTelegramConfiguration().subscribe(t=>{this.telegramConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.telegramConfigChanged().subscribe(t=>this.telegramConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.telegramConfigForm.disable({emitEvent:!1}),this.api.setTelegramConfiguration(this.telegramConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.telegramConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.telegramConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","h-fit","gap-3","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","botToken","pInputText","","type","text"],["formControlName","botName","pInputText","","type","text"],["formControlName","dhcpNotificationChatId","pInputText","","type","text"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,hE,18,3,"ng-container",3),e.YNc(5,gE,18,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})();function fE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 ACP"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"label"),e._uU(6,"Endpoint"),e.qZA(),e._UZ(7,"input",7),e.qZA()(),e.TgZ(8,"div",8)(9,"p-button",9),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveConf())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.acpConfigForm),e.xp6(6),e.Q6J("loading",t.isSaving)("disabled",!t.acpConfigForm.valid)}}function mE(n,o){1&n&&(e.ynx(0),e.TgZ(1,"span",4),e._uU(2,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 ACP"),e.qZA(),e.TgZ(3,"div",10)(4,"div",6)(5,"label"),e._uU(6,"Endpoint"),e.qZA(),e._UZ(7,"p-skeleton",11),e.qZA()(),e.TgZ(8,"div",8),e._UZ(9,"p-skeleton",12),e.qZA(),e.BQk())}let GT=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.isLoading=!0,this.isSaving=!1,this.acpConfigForm=new f.cw({acpFlexConnectorEndpoint:new f.NI("",[f.kI.required])})}ngOnInit(){this.api.getAcpConfiguration().subscribe(t=>{this.acpConfigForm.patchValue(t),this.isLoading=!1}),this.subscription=this.rt.acpConfigChanged().subscribe(t=>this.acpConfigForm.patchValue(t))}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}saveConf(){this.isSaving=!0,this.acpConfigForm.disable({emitEvent:!1}),this.api.setAcpConfiguration(this.acpConfigForm.value).subscribe({next:()=>{this.isSaving=!1,this.acpConfigForm.enable({emitEvent:!1})},error:()=>{this.isSaving=!1,this.acpConfigForm.enable({emitEvent:!1})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-column","flex-grow-1","gap-3","h-fit","panel","overflow-hidden","mb-3"],[4,"ngIf"],[1,"text-xl","font-light","text-bluegray-600","p-3"],[1,"flex","flex-column","gap-3","px-5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","acpFlexConnectorEndpoint","pInputText","","type","text"],[1,"flex","px-5","pb-5","justify-content-end"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","disabled","onClick"],[1,"flex","flex-column","gap-3","px-5"],["height","3rem"],["height","3rem","width","10rem"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,fE,10,3,"ng-container",3),e.YNc(5,mE,10,0,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))}}),n})(),WT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3","w-full"],[1,"flex-grow-1"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel")(2,"app-files-viewer",1),e.qZA())}}),n})();var _E=b(5107);let CE=(()=>{class n{constructor(){}canActivate(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}canActivateChild(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}canLoad(t,i){return!_.Ke.loadOrDefault("isOffsite",!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var G1=b(9814);function vE(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"p-breadcrumb",44),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("model",t)}}function bE(n,o){1&n&&e.GkF(0)}function yE(n,o){1&n&&e.GkF(0)}function xE(n,o){1&n&&e.GkF(0)}function IE(n,o){1&n&&e.GkF(0)}function TE(n,o){1&n&&e.GkF(0)}function AE(n,o){1&n&&e._UZ(0,"div",45)}const Gx=function(n){return{status:"ACTIVE",schedulingType:n}};function wE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",46),e.NdJ("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.active=s)})("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("active"))}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(24);e.Q6J("contentTemplate",i)("expand",t.cacheService.rootExpandMap.active)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Gx,t.SchedulingType.EXCEPT_PLANNED)))("isEmpty",!1)("label","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435")("link","/tasks/catalog/active")}}const H_=function(n){return{wireframe:n}},EE=function(n,o){return{status:"ACTIVE",cls:n,schedulingType:o}};function SE(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(26);let p;e.Q6J("contentTemplateData",e.VKq(6,H_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,EE,t.wireframeId,i.SchedulingType.EXCEPT_PLANNED)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/active/"+t.wireframeId)}}function kE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,SE,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function DE(n,o){if(1&n&&(e.YNc(0,kE,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const V_=function(n,o){return{wireframe:n,stage:o}},YT=function(n,o,t){return{status:"ACTIVE",cls:n,type:o,schedulingType:t}};function ME(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),p=e.MAs(28);e.Q6J("contentTemplateData",e.WLB(6,V_,i,t))("contentTemplate",p)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,YT,i.wireframeId,t.stageId,s.SchedulingType.EXCEPT_PLANNED)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/active/"+i.wireframeId+"/"+t.stageId)}}function OE(n,o){1&n&&e.YNc(0,ME,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const PE=function(n,o,t){return{wireframe:n,stage:o,directory:t}},jT=function(n,o,t,i){return{status:"ACTIVE",cls:n,type:o,directory:t,schedulingType:i}};function LE(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-catalog-menu-item",50),e.NdJ("onDrop",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.cacheService.moveToDirectory(p))}),e.qZA(),e.BQk()}if(2&n){const t=o.$implicit,i=e.oxw(2),s=i.wireframe,p=i.stage,w=e.oxw(),J=e.MAs(30);e.xp6(1),e.Akn(w.cacheService.catalogHighlight(t.taskTypeDirectoryId)),e.Q6J("autoExpand",!1)("contentTemplateData",e.kEZ(10,PE,s,p,t))("contentTemplate",J)("counter",w.cacheService.getTasksCounter("dir",e.l5B(14,jT,s.wireframeId,p.stageId,t.taskTypeDirectoryId,w.SchedulingType.EXCEPT_PLANNED)))("droppable",p.stageId)("isEmpty",!1)("label",t.name)("link","/tasks/catalog/active/"+s.wireframeId+"/"+p.stageId+"/dir/"+t.taskTypeDirectoryId)}}function RE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,LE,2,19,"ng-container",49),e.BQk()),2&n){const t=e.oxw().stage;e.xp6(1),e.Q6J("ngForOf",t.directories)}}function NE(n,o){1&n&&e.GkF(0)}function FE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,NE,1,0,"ng-container",51),e.BQk()),2&n){const t=e.oxw(),i=t.wireframe,s=t.stage;e.oxw();const p=e.MAs(68);e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.WLB(2,V_,i,s))}}function BE(n,o){if(1&n&&(e.YNc(0,RE,2,1,"ng-container",4),e.YNc(1,FE,2,5,"ng-container",4)),2&n){const t=o.stage;e.Q6J("ngIf",t.directories&&t.directories.length>0),e.xp6(1),e.Q6J("ngIf",!(t.directories&&t.directories.length>0))}}function ZE(n,o){1&n&&e.GkF(0)}const UE=function(n,o,t,i){return{tag:n,wireframe:o,stage:t,dir:i}};function HE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ZE,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,p=i.stage,w=i.directory;e.oxw();const J=e.MAs(70);e.xp6(1),e.Q6J("ngTemplateOutlet",J)("ngTemplateOutletContext",e.l5B(2,UE,t,s,p,w))}}function VE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,HE,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function zE(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,VE,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function JE(n,o){if(1&n&&(e.YNc(0,zE,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.directory,i=o.stage,s=o.wireframe,p=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,p.cacheService.getTagsFromCatalog(e.l5B(3,jT,s.wireframeId,i.stageId,t.taskTypeDirectoryId,p.SchedulingType.EXCEPT_PLANNED))))}}const QE=function(n){return{status:"PROCESSING",schedulingType:n}};function GE(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",46),e.NdJ("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.processing=s)})("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("processing"))}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(34);e.Q6J("contentTemplate",i)("expand",t.cacheService.rootExpandMap.processing)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,QE,t.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label","\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432")("link","/tasks/catalog/processing")}}const WE=function(n,o){return{status:"PROCESSING",cls:n,schedulingType:o}};function YE(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(36);let p;e.Q6J("contentTemplateData",e.VKq(6,H_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,WE,t.wireframeId,i.SchedulingType.UNSCHEDULED)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/processing/"+t.wireframeId)}}function jE(n,o){if(1&n&&(e.ynx(0),e.YNc(1,YE,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function KE(n,o){if(1&n&&(e.YNc(0,jE,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const qE=function(n,o,t){return{status:"PROCESSING",cls:n,type:o,schedulingType:t}};function $E(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",56),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter(null,e.kEZ(4,qE,i.wireframeId,t.stageId,s.SchedulingType.UNSCHEDULED)))("isEmpty",!0)("label",t.label)("link","/tasks/catalog/processing/"+i.wireframeId+"/"+t.stageId)}}function XE(n,o){1&n&&e.YNc(0,$E,1,8,"app-catalog-menu-item",55),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const eS=function(n){return{status:"CLOSE",schedulingType:n}};function tS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("close"))})("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.close=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(40);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,eS,t.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.close)("label","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435")("link","/tasks/catalog/close")}}const nS=function(n,o){return{status:"CLOSE",cls:n,schedulingType:o}};function iS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(42);let p;e.Q6J("contentTemplateData",e.VKq(6,H_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,nS,t.wireframeId,i.SchedulingType.UNSCHEDULED)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/close/"+t.wireframeId)}}function oS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,iS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function sS(n,o){if(1&n&&(e.YNc(0,oS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const rS=function(n,o,t){return{status:"CLOSE",cls:n,type:o,schedulingType:t}};function aS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),p=e.MAs(44);e.Q6J("contentTemplateData",e.WLB(6,V_,i,t))("contentTemplate",p)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,rS,i.wireframeId,t.stageId,s.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/close/"+i.wireframeId+"/"+t.stageId)}}function lS(n,o){1&n&&e.YNc(0,aS,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const yf=function(n){return{timeFrame:n}},KT=function(n,o,t,i){return{status:"CLOSE",cls:n,type:o,dateOfClose:t,schedulingType:i}},Wx=function(n,o,t){return{wireframe:n,stage:o,timeFrame:t}};function cS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,p=i.stage,w=e.oxw(),J=e.MAs(46);e.Q6J("counter",w.cacheService.getTasksCounter("close-time",e.l5B(9,KT,s.wireframeId,p.stageId,e.VKq(7,yf,t.id),w.SchedulingType.UNSCHEDULED)))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",J)("contentTemplateData",e.kEZ(14,Wx,s,p,t.id))("link","/tasks/catalog/close/"+s.wireframeId+"/"+p.stageId+"/close-time/"+t.id)}}function uS(n,o){if(1&n&&e.YNc(0,cS,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.beforeTemporaryMap)}}function dS(n,o){1&n&&e.GkF(0)}const Yx=function(n,o,t,i){return{tag:n,wireframe:o,stage:t,timeFrame:i}};function pS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,dS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,p=i.stage,w=i.timeFrame;e.oxw();const J=e.MAs(72);e.xp6(1),e.Q6J("ngTemplateOutlet",J)("ngTemplateOutletContext",e.l5B(2,Yx,t,s,p,w))}}function hS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,pS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function gS(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,hS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function fS(n,o){if(1&n&&(e.YNc(0,gS,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,p=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,p.cacheService.getTagsFromCatalog(e.l5B(5,KT,i.wireframeId,t.stageId,e.VKq(3,yf,s),p.SchedulingType.UNSCHEDULED))))}}function mS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("scheduled"))})("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.scheduled=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(50);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Gx,t.SchedulingType.PLANNED)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.scheduled)("label","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435")("link","/tasks/catalog/scheduled/active")}}const qT=function(n,o){return{status:"ACTIVE",schedulingType:n,cls:o}};function _S(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(52);let p;e.Q6J("contentTemplateData",e.VKq(6,H_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,qT,i.SchedulingType.PLANNED,t.wireframeId)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/scheduled/active/"+t.wireframeId)}}function CS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,_S,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function vS(n,o){if(1&n&&(e.YNc(0,CS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}const $T=function(n,o,t){return{status:"ACTIVE",schedulingType:n,cls:o,type:t}};function bS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),p=e.MAs(54);e.Q6J("contentTemplateData",e.WLB(6,V_,i,t))("contentTemplate",p)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,$T,s.SchedulingType.PLANNED,i.wireframeId,t.stageId)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/scheduled/active/"+i.wireframeId+"/"+t.stageId)}}function yS(n,o){1&n&&e.YNc(0,bS,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const XT=function(n,o,t,i){return{status:"ACTIVE",schedulingType:n,cls:o,type:t,actualFrom:i}};function xS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,p=i.stage,w=e.oxw(),J=e.MAs(56);e.Q6J("counter",w.cacheService.getTasksCounter("actual-time",e.l5B(9,XT,w.SchedulingType.PLANNED,s.wireframeId,p.stageId,e.VKq(7,yf,t.id))))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",J)("contentTemplateData",e.kEZ(14,Wx,s,p,t.id))("link","/tasks/catalog/scheduled/active/"+s.wireframeId+"/"+p.stageId+"/actual-time/"+t.id)}}function IS(n,o){if(1&n&&e.YNc(0,xS,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.afterTemporaryMap)}}function TS(n,o){1&n&&e.GkF(0)}function AS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,TS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,p=i.stage,w=i.timeFrame;e.oxw();const J=e.MAs(74);e.xp6(1),e.Q6J("ngTemplateOutlet",J)("ngTemplateOutletContext",e.l5B(2,Yx,t,s,p,w))}}function wS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,AS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function ES(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,wS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function SS(n,o){if(1&n&&(e.YNc(0,ES,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,p=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,p.cacheService.getTagsFromCatalog(e.l5B(5,XT,p.SchedulingType.PLANNED,i.wireframeId,t.stageId,e.VKq(3,yf,s)))))}}function kS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-catalog-menu-item",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.unExpandOtherCatalog("term"))})("expandChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.rootExpandMap.term=s)}),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(60);e.Q6J("contentTemplate",i)("counter",t.cacheService.getTasksCounter(null,e.VKq(6,Gx,t.SchedulingType.DEADLINE)))("isEmpty",!1)("expand",t.cacheService.rootExpandMap.term)("label","\u0421\u0440\u043e\u043a")("link","/tasks/catalog/term/active")}}function DS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(62);let p;e.Q6J("contentTemplateData",e.VKq(6,H_,t))("contentTemplate",s)("counter",i.cacheService.getTasksCounter(null,e.WLB(8,qT,i.SchedulingType.DEADLINE,t.wireframeId)))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/catalog/term/active/"+t.wireframeId)}}function MS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,DS,1,11,"app-catalog-menu-item",47),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function OS(n,o){if(1&n&&(e.YNc(0,MS,2,1,"ng-container",4),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function PS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",48),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw(),p=e.MAs(64);e.Q6J("contentTemplateData",e.WLB(6,V_,i,t))("contentTemplate",p)("counter",s.cacheService.getTasksCounter(null,e.kEZ(9,$T,s.SchedulingType.DEADLINE,i.wireframeId,t.stageId)))("isEmpty",!1)("label",t.label)("link","/tasks/catalog/term/active/"+i.wireframeId+"/"+t.stageId)}}function LS(n,o){1&n&&e.YNc(0,PS,1,13,"app-catalog-menu-item",47),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}const eA=function(n,o,t,i){return{status:"ACTIVE",schedulingType:n,cls:o,type:t,actualTo:i}};function RS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw(),s=i.wireframe,p=i.stage,w=e.oxw(),J=e.MAs(66);e.Q6J("counter",w.cacheService.getTasksCounter("term-time",e.l5B(9,eA,w.SchedulingType.DEADLINE,s.wireframeId,p.stageId,e.VKq(7,yf,t.id))))("isEmpty",!1)("label",t.name)("autoExpand",!1)("contentTemplate",J)("contentTemplateData",e.kEZ(14,Wx,s,p,t.id))("link","/tasks/catalog/term/active/"+s.wireframeId+"/"+p.stageId+"/term-time/"+t.id)}}function NS(n,o){if(1&n&&e.YNc(0,RS,1,18,"app-catalog-menu-item",58),2&n){const t=e.oxw();e.Q6J("ngForOf",t.cacheService.afterTemporaryMap)}}function FS(n,o){1&n&&e.GkF(0)}function BS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,FS,1,0,"ng-container",51),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(3),s=i.wireframe,p=i.stage,w=i.timeFrame;e.oxw();const J=e.MAs(76);e.xp6(1),e.Q6J("ngTemplateOutlet",J)("ngTemplateOutletContext",e.l5B(2,Yx,t,s,p,w))}}function ZS(n,o){if(1&n&&(e.ynx(0),e.YNc(1,BS,2,7,"ng-container",49),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function US(n,o){if(1&n&&(e.TgZ(0,"div",53),e.YNc(1,ZS,2,1,"ng-container",54),e.qZA()),2&n){const t=o.ngIf;e.oxw(2);const i=e.MAs(78);e.xp6(1),e.Q6J("ngIf",null!==t&&t.length>0)("ngIfElse",i)}}function HS(n,o){if(1&n&&(e.YNc(0,US,2,2,"div",52),e.ALo(1,"async")),2&n){const t=o.stage,i=o.wireframe,s=o.timeFrame,p=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,p.cacheService.getTagsFromCatalog(e.l5B(5,eA,p.SchedulingType.DEADLINE,i.wireframeId,t.stageId,e.VKq(3,yf,s)))))}}function VS(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",60),2&n){const t=o.stage,i=o.wireframe,s=e.oxw();e.Q6J("autoExpand",!1)("counter",s.cacheService.getTasksCounter(null,e.kEZ(3,YT,i.wireframeId,t.stageId,s.SchedulingType.EXCEPT_PLANNED)))("link","/tasks/catalog/active/"+i.wireframeId+"/"+t.stageId)}}const W1=function(n,o,t){return{border:n,backgroundColor:o,cursor:t}},jd=function(n){return{color:n}};function zS(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.dir,i=o.stage,s=o.tag,p=o.wireframe,w=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,W1,w.isActive?null:"solid 1px "+s.color,w.isActive?s.color:null,w.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/active/"+p.wireframeId+"/"+i.stageId+"/dir/"+t.taskTypeDirectoryId+"/"+s.id),e.xp6(2),e.Akn(e.VKq(13,jd,w.isActive?"white":s.color)),e.xp6(1),e.hij(" ",s.name," "),e.xp6(1),e.Akn(e.VKq(15,jd,w.isActive?"white":s.color)),e.xp6(1),e.hij(" ",s.count," ")}}function JS(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,p=o.timeFrame,w=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,W1,w.isActive?null:"solid 1px "+i.color,w.isActive?i.color:null,w.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/close/"+s.wireframeId+"/"+t.stageId+"/close-time/"+p+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,jd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,jd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function QS(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,p=o.timeFrame,w=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,W1,w.isActive?null:"solid 1px "+i.color,w.isActive?i.color:null,w.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/scheduled/active/"+s.wireframeId+"/"+t.stageId+"/actual-time/"+p+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,jd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,jd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function GS(n,o){if(1&n&&(e.TgZ(0,"div",61,62)(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()),2&n){const t=o.stage,i=o.tag,s=o.wireframe,p=o.timeFrame,w=e.MAs(1);e.Q6J("ngStyle",e.kEZ(9,W1,w.isActive?null:"solid 1px "+i.color,w.isActive?i.color:null,w.isActive?"default":"pointer"))("routerLinkActive","active")("routerLink","/tasks/catalog/term/active/"+s.wireframeId+"/"+t.stageId+"/term-time/"+p+"/"+i.id),e.xp6(2),e.Akn(e.VKq(13,jd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.name," "),e.xp6(1),e.Akn(e.VKq(15,jd,w.isActive?"white":i.color)),e.xp6(1),e.hij(" ",i.count," ")}}function WS(n,o){1&n&&(e.TgZ(0,"div",64),e._uU(1," \u0417\u0430\u0434\u0430\u0447 \u0441 \u0442\u0435\u0433\u0430\u043c\u0438 \u043d\u0435\u0442 "),e.qZA())}const YS=function(){return["/tasks","search"]};let tA=(()=>{class n{constructor(t){this.cacheService=t,this.SchedulingType=he.dH}ngOnInit(){}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:81,vars:12,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","gap-3"],[1,"flex","bg-white","border-round","border-1","border-bluegray-100","p-2","align-items-center"],[4,"ngIf"],[1,"flex-grow-1"],["label","\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447","icon","mdi-search","styleClass","p-button-sm",3,"routerLink"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","border-round","border-1","bg-white","border-bluegray-100","h-fit","sticky-type-selector"],[1,"text-lg","text-bluegray-600","font-bold","p-3","bg-white","sticky","top-0","z-5"],[1,"flex","flex-column","gap-1","relative","px-3","pb-3"],[4,"ngTemplateOutlet"],["class","absolute top-0 left-0 w-full h-full bg-black-alpha-30",4,"ngIf"],["activeTasksMenuItemTemplate",""],["activeTasksClassItemsTemplate",""],["activeTasksTypesItemsTemplate",""],["activeTasksDirectoryItemsTemplate",""],["activeTasksTagsItemsTemplate",""],["processingTasksMenuItemTemplate",""],["processingTasksClassItemsTemplate",""],["processingTasksTypesItemsTemplate",""],["closeTasksMenuItemTemplate",""],["closeTasksClassItemsTemplate",""],["closeTasksTypesItemsTemplate",""],["closeTasksTemporaryItemsTemplate",""],["closeTasksTagsItemsTemplate",""],["scheduledTasksMenuItemTemplate",""],["scheduledTasksClassItemsTemplate",""],["scheduledTasksTypesItemsTemplate",""],["scheduledTasksTemporaryItemsTemplate",""],["scheduledTasksTagsItemsTemplate",""],["termTasksMenuItemTemplate",""],["termTasksClassItemsTemplate",""],["termTasksTypesItemsTemplate",""],["termTasksTemporaryItemsTemplate",""],["termTasksTagsItemsTemplate",""],["emptyTasksDirectoriesItem",""],["tagItemTemplate",""],["tagCloseTaskItemTemplate",""],["tagScheduleTaskItemTemplate",""],["tagTermTaskItemTemplate",""],["emptyTagsTemplate",""],[3,"blocked"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],["styleClass","border-0 py-0 px-2",3,"model"],[1,"absolute","top-0","left-0","w-full","h-full","bg-black-alpha-30"],[3,"contentTemplate","expand","counter","isEmpty","label","link","expandChange","onClick"],[3,"contentTemplateData","contentTemplate","counter","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"contentTemplateData","contentTemplate","counter","isEmpty","label","link"],[4,"ngFor","ngForOf"],[3,"autoExpand","contentTemplateData","contentTemplate","counter","droppable","isEmpty","label","link","onDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","flex flex-column gap-1 pl-3",4,"ngIf"],[1,"flex","flex-column","gap-1","pl-3"],[4,"ngIf","ngIfElse"],[3,"counter","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isEmpty","label","link"],[3,"contentTemplate","counter","isEmpty","expand","label","link","onClick","expandChange"],[3,"counter","isEmpty","label","autoExpand","contentTemplate","contentTemplateData","link",4,"ngFor","ngForOf"],[3,"counter","isEmpty","label","autoExpand","contentTemplate","contentTemplateData","link"],["label","\u0411\u0435\u0437 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",3,"autoExpand","counter","link"],[1,"border-round-3xl","px-3","py-1","flex","align-items-baseline","font-semibold","user-select-none","gap-2",3,"ngStyle","routerLinkActive","routerLink"],["rla","routerLinkActive"],[1,"text-sm"],[1,"text-bluegray-300","text-sm","font-bold"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3),e.YNc(5,vE,2,1,"ng-container",4),e.ALo(6,"async"),e._UZ(7,"div",5)(8,"p-button",6),e.qZA(),e.TgZ(9,"div",7),e._UZ(10,"router-outlet"),e.qZA()(),e.TgZ(11,"div",8)(12,"span",9),e._uU(13,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,bE,1,0,"ng-container",11),e.YNc(16,yE,1,0,"ng-container",11),e.YNc(17,xE,1,0,"ng-container",11),e.YNc(18,IE,1,0,"ng-container",11),e.YNc(19,TE,1,0,"ng-container",11),e.YNc(20,AE,1,0,"div",12),e.qZA()()()(),e.YNc(21,wE,1,8,"ng-template",null,13,e.W1O),e.YNc(23,DE,2,3,"ng-template",null,14,e.W1O),e.YNc(25,OE,1,1,"ng-template",null,15,e.W1O),e.YNc(27,BE,2,2,"ng-template",null,16,e.W1O),e.YNc(29,JE,2,8,"ng-template",null,17,e.W1O),e.YNc(31,GE,1,8,"ng-template",null,18,e.W1O),e.YNc(33,KE,2,3,"ng-template",null,19,e.W1O),e.YNc(35,XE,1,1,"ng-template",null,20,e.W1O),e.YNc(37,tS,1,8,"ng-template",null,21,e.W1O),e.YNc(39,sS,2,3,"ng-template",null,22,e.W1O),e.YNc(41,lS,1,1,"ng-template",null,23,e.W1O),e.YNc(43,uS,1,1,"ng-template",null,24,e.W1O),e.YNc(45,fS,2,10,"ng-template",null,25,e.W1O),e.YNc(47,mS,1,8,"ng-template",null,26,e.W1O),e.YNc(49,vS,2,3,"ng-template",null,27,e.W1O),e.YNc(51,yS,1,1,"ng-template",null,28,e.W1O),e.YNc(53,IS,1,1,"ng-template",null,29,e.W1O),e.YNc(55,SS,2,10,"ng-template",null,30,e.W1O),e.YNc(57,kS,1,8,"ng-template",null,31,e.W1O),e.YNc(59,OS,2,3,"ng-template",null,32,e.W1O),e.YNc(61,LS,1,1,"ng-template",null,33,e.W1O),e.YNc(63,NS,1,1,"ng-template",null,34,e.W1O),e.YNc(65,HS,2,10,"ng-template",null,35,e.W1O),e.YNc(67,VS,1,7,"ng-template",null,36,e.W1O),e.YNc(69,zS,6,17,"ng-template",null,37,e.W1O),e.YNc(71,JS,6,17,"ng-template",null,38,e.W1O),e.YNc(73,QS,6,17,"ng-template",null,39,e.W1O),e.YNc(75,GS,6,17,"ng-template",null,40,e.W1O),e.YNc(77,WS,2,0,"ng-template",null,41,e.W1O),e.TgZ(79,"p-blockUI",42),e._UZ(80,"p-progressSpinner",43),e.qZA()),2&t){const s=e.MAs(22),p=e.MAs(32),w=e.MAs(38),J=e.MAs(48),_e=e.MAs(58);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,9,i.cacheService.breadCrumbsModel$)),e.xp6(3),e.Q6J("routerLink",e.DdM(11,YS)),e.xp6(7),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",p),e.xp6(1),e.Q6J("ngTemplateOutlet",w),e.xp6(1),e.Q6J("ngTemplateOutlet",J),e.xp6(1),e.Q6J("ngTemplateOutlet",_e),e.xp6(1),e.Q6J("ngIf",void 0!==i.cacheService.highlightCatalogs),e.xp6(59),e.Q6J("blocked",i.cacheService.blockVisible)}},styles:[".directory[_ngcontent-%COMP%]   .p-draggable-enter[_ngcontent-%COMP%]{opacity:.3}"]}),n})();var Wc=b(4881),bl=b(4132);function jS(n,o){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"p-progressSpinner",8),e.qZA())}function KS(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("onDragStart",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.cacheService.taskMovingStart(p))}),e.TgZ(1,"app-task-list-element",13),e.NdJ("onStartEdit",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.cacheService.taskEditStart(s))})("onStopEdit",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.cacheService.taskEditStop(s))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(3);let s;e.Q6J("pDraggable",null!==(s=null==t.currentStage?null:t.currentStage.stageId)&&void 0!==s?s:""),e.xp6(1),e.Q6J("externalUpdater",i.cacheService.getTaskUpdater(t.taskId))("isCommentInput",!0)("item",t)}}function qS(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,KS,2,4,"div",11),e.qZA(),e.BQk()),2&n){const t=o.ngIf;e.xp6(2),e.Q6J("ngForOf",t.content)}}function $S(n,o){if(1&n&&(e.ynx(0),e.YNc(1,qS,3,1,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.cacheService.tasks$))}}function XS(n,o){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"i",15),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function e2(n,o){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function t2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-paginator",19,20),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("hidden","READY"!==i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",15)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",15*(null!==(s=i.cacheService.pageControl.value)&&void 0!==s?s:0))}}let Ta=(()=>{class n{constructor(t,i){this.route=t,this.cacheService=i,this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("crrRt",(0,Bo.a)([this.route.params,this.route.data]).subscribe(([t,i])=>this.cacheService.updatePath(t,i)))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(G1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:8,vars:8,consts:[[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"flex-grow-1"],["class","sticky bottom1",3,"hidden",4,"ngIf"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[4,"ngIf"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit","mb-3"],["class","flex relative",3,"pDraggable","onDragStart",4,"ngFor","ngForOf"],[1,"flex","relative",3,"pDraggable","onDragStart"],[3,"externalUpdater","isCommentInput","item","onStartEdit","onStopEdit"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"sticky","bottom1",3,"hidden"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""]],template:function(t,i){1&t&&(e.ynx(0,0),e.YNc(1,jS,2,0,"div",1),e.YNc(2,$S,3,3,"ng-container",2),e.YNc(3,XS,4,0,"div",3),e.YNc(4,e2,4,0,"div",4),e.BQk(),e._UZ(5,"div",5),e.YNc(6,t2,3,6,"div",6),e.ALo(7,"async")),2&t&&(e.Q6J("ngSwitch",i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,6,i.cacheService.tasks$)))},dependencies:[Wc.E,k.sg,k.O5,k.RF,k.n9,et.G,bl.D,Ko._l,k.Ov],styles:["[_nghost-%COMP%]{flex-grow:1;min-height:100%;display:flex;flex-direction:column}"]}),n})();class n2{constructor(){this.content=[],this.empty=!0,this.first=!0,this.last=!0,this.number=0,this.numberOfElements=0,this.pageable={offset:0,sort:{empty:!0,sorted:!1,unsorted:!0},pageSize:0,pageNumber:0,paged:!0,unpaged:!1},this.size=0,this.sort={empty:!0,sorted:!1,unsorted:!0},this.totalElements=0,this.totalPages=0}}let nA=(()=>{class n{constructor(t){this.api=t,this.searchSubject=new Rr.x,this.search$=this.searchSubject.pipe((0,ei.b)(()=>{this.pageControl.setValue(0),this.taskLoadingState=he.Gu.LOADING}),(0,cn.d)(1)),this.filterForm=new f.cw({searchPhrase:new f.NI(""),author:new f.NI(null),assignedEmployee:new f.NI(null),dateOfCreation:new f.NI(null),dateOfClose:new f.NI(null),tags:new f.NI(null),fieldFilters:new f.Oe([new f.cw({name:new f.NI("\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"),type:new f.NI(he.nC.TEXT),textValue:new f.NI("")}),new f.cw({name:new f.NI("\u041b\u043e\u0433\u0438\u043d"),type:new f.NI(he.nC.LOGIN),textValue:new f.NI("")}),new f.cw({name:new f.NI("\u0410\u0434\u0440\u0435\u0441"),type:new f.NI(he.nC.ADDRESS),addressValue:new f.NI(null)}),new f.cw({name:new f.NI("\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),type:new f.NI(he.nC.PHONE),textValue:new f.NI("")}),new f.cw({name:new f.NI("\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a"),type:new f.NI(he.nC.AD_SOURCE),adSourceValue:new f.NI(null)}),new f.cw({name:new f.NI("\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),type:new f.NI(he.nC.CONNECTION_TYPE),connectionTypeValue:new f.NI(null)}),new f.cw({name:new f.NI("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430"),type:new f.NI(he.nC.CONNECTION_SERVICE),connectionServiceValue:new f.NI(null)})])}),this.filtersChange$=this.filterForm.valueChanges.pipe((0,cn.d)(1)),this.filtersNames={searchPhrase:"\u0421\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430",author:"\u0410\u0432\u0442\u043e\u0440",dateOfCreation:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",dateOfClose:"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f",tags:"\u0422\u0435\u0433\u0438"},this.applySearch$=this.search$.pipe((0,mt.U)(()=>this.filterForm.value)),this.applyingFilters$=this.applySearch$.pipe((0,mt.U)(i=>{const s=[];for(const p in i)!i[p]||"fieldFilters"===p||Array.isArray(i[p])&&0===i[p].length||s.push({label:this.filtersNames[p],value:p,type:"unfield"});return s})),this.applyingFieldFilters$=this.applySearch$.pipe((0,mt.U)(i=>{const s=[];for(const p of i.fieldFilters)!p.textValue&&!p.addressValue&&!p.adSourceValue&&!p.connectionTypeValue&&!p.connectionServiceValue||s.push({label:p.name,value:p.name,type:"field"});return s})),this.applyingAllFilters$=(0,Bo.a)([this.applyingFilters$,this.applyingFieldFilters$]).pipe((0,mt.U)(([i,s])=>i.concat(s)),(0,cn.d)(1)),this.statusSubject=new ol.X(null),this.classSubject=new ol.X(null),this.typeSubject=new ol.X(null),this.status$=this.statusSubject.asObservable(),this.class$=this.classSubject.asObservable(),this.type$=this.typeSubject.asObservable(),this.pageControl=new f.NI(0),this.taskLoadingState=he.Gu.EMPTY,this.lastRoute$=(0,Bo.a)([this.status$,this.class$,this.type$]).pipe((0,Ls.b)(1),(0,Qr.x)((i,s)=>JSON.stringify(i)===JSON.stringify(s)),(0,ei.b)(()=>{this.pageControl.setValue(0)}),(0,cn.d)(1)),this.page$=this.pageControl.valueChanges.pipe((0,Bs.O)(0),(0,Qr.x)(),(0,ei.b)(()=>{window.scrollTo({top:0})}),(0,cn.d)(1)),this.taskCountersMap=new Map,this.taskCountersLoadingMap=new Map,this.wireframes$=this.api.getWireframes().pipe((0,cn.d)(1)),this.tasks$=(0,Bo.a)([this.page$,this.search$,this.lastRoute$]).pipe((0,ei.b)(()=>this.taskLoadingState=he.Gu.LOADING),(0,R.w)(([i,s,[p,w,J]])=>{if(n.isFiltersEmpty(s))return(0,Tn.of)(new n2);const _e=Object.assign(Object.assign({},s),n.getFilterPath(p,w,J));return this.api.getPageOfTasks(null!=i?i:0,_e)}),(0,ei.b)({next:i=>this.taskLoadingState=0===i.totalElements?he.Gu.EMPTY:he.Gu.READY,error:()=>this.taskLoadingState=he.Gu.ERROR}),(0,cn.d)(1)),this.adSources$=this.api.getAdSourcesList(),this.connectionTypes$=this.api.getConnectionTypesList(),this.connectionServices$=this.api.getConnectionServicesList()}static getFilterPath(t,i,s){const p={};return t&&(p.status=[t.toUpperCase()]),i&&(p.template=[i]),s&&(p.stage=s),p}static isFiltersEmpty(t){for(const i in t)if("fieldFilters"!==i){if(t[i]&&(!Array.isArray(t[i])||0!==t[i].length))return!1}else for(const s of t[i])if(s.textValue||s.addressValue||s.adSourceValue||s.connectionTypeValue||s.connectionServiceValue)return!1;return!0}getTasksLoadingCounter(t,i,s){var p;const w=n.pathKeyGenerate(t,i,s);return this.taskCountersLoadingMap.has(w)?null!==(p=this.taskCountersLoadingMap.get(w))&&void 0!==p&&p:(this.taskCountersLoadingMap.set(w,!1),!1)}setTasksLoadingCounter(t,i){this.taskCountersLoadingMap.set(t,i)}getTasksCounter(t,i,s){const p=n.pathKeyGenerate(t,i,s);if(this.taskCountersMap.has(p))return this.taskCountersMap.get(p);const w=this.search$.pipe((0,ei.b)(()=>this.setTasksLoadingCounter(p,!0)),(0,R.w)(J=>{if(n.isFiltersEmpty(J))return(0,Tn.of)("0");const _e=Object.assign(Object.assign({},J),n.getFilterPath(t,i,s));return this.api.getCountTasks(_e).pipe((0,mt.U)($e=>$e.toString()))}),(0,Bs.O)("0"),(0,ei.b)(()=>this.setTasksLoadingCounter(p,!1)),(0,cn.d)(1));return this.taskCountersMap.set(p,w),w}updatePath(t){var i,s;this.statusSubject.next(null!==(i=t.status)&&void 0!==i?i:null),this.classSubject.next(t.class?parseInt(t.class):null),this.typeSubject.next(null!==(s=t.type)&&void 0!==s?s:null)}search(){this.searchSubject.next(this.filterForm.value)}clearFilter(t,i){if("field"===i){const J=this.filterForm.controls.fieldFilters.controls.find(_e=>_e.value.name===t);if(!J)return;return J.patchValue({textValue:null,addressValue:null,adSourceValue:null,connectionTypeValue:null,connectionServiceValue:null}),void this.search()}const p=Object.entries(this.filterForm.controls).find(([w,J])=>w===t);!p||(p[1]instanceof f.Oe||p[1].setValue(null),this.search())}static pathKeyGenerate(t,i,s){let p=""+t+i+s;return!t&&!i&&!s&&(p="all"),p}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function o2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",47),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cacheService.filterForm.controls.searchPhrase.setValue(""))}),e.qZA()}}function s2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-chip",52),e.NdJ("onRemove",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.cacheService.clearFilter(p.value,p.type))}),e.qZA()}2&n&&e.Q6J("label",o.$implicit.label)("removable",!0)}function r2(n,o){if(1&n&&(e.TgZ(0,"div",49)(1,"span",50),e._uU(2,"\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b:"),e.qZA(),e.YNc(3,s2,1,2,"p-chip",51),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(3),e.Q6J("ngForOf",t)}}function a2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,r2,4,1,"div",48),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function l2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",53)(1,"app-catalog-menu-item",54)(2,"app-catalog-menu-item",55),2&n){const t=e.oxw(),i=e.MAs(25),s=e.MAs(29),p=e.MAs(33);e.Q6J("contentTemplate",i)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("active"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("active"))("link","/tasks/search/active"),e.xp6(1),e.Q6J("contentTemplate",s)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("processing"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("processing"))("link","/tasks/search/processing"),e.xp6(1),e.Q6J("contentTemplate",p)("isEmpty",!1)("counter",t.cacheService.getTasksCounter("close"))("isCounterLoading",t.cacheService.getTasksLoadingCounter("close"))("link","/tasks/search/close")}}const jx=function(n){return{wireframe:n}};function c2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(27);let p;e.Q6J("counter",i.cacheService.getTasksCounter("active",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("active",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,jx,t))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/search/active/"+t.wireframeId)}}function u2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,c2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function d2(n,o){if(1&n&&(e.YNc(0,u2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function p2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("active",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("active",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/active/"+i.wireframeId+"/"+t.stageId)}}function h2(n,o){1&n&&e.YNc(0,p2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function g2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(31);let p;e.Q6J("counter",i.cacheService.getTasksCounter("processing",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("processing",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,jx,t))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/search/processing/"+t.wireframeId)}}function f2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,g2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function m2(n,o){if(1&n&&(e.YNc(0,f2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function _2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("processing",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("processing",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/processing/"+i.wireframeId+"/"+t.stageId)}}function C2(n,o){1&n&&e.YNc(0,_2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function v2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",57),2&n){const t=o.$implicit,i=e.oxw(3),s=e.MAs(35);let p;e.Q6J("counter",i.cacheService.getTasksCounter("close",t.wireframeId))("isCounterLoading",i.cacheService.getTasksLoadingCounter("close",t.wireframeId))("contentTemplate",s)("contentTemplateData",e.VKq(7,jx,t))("isEmpty",0===(null!==(p=null==t.stages?null:t.stages.length)&&void 0!==p?p:0))("label",t.name)("link","/tasks/search/close/"+t.wireframeId)}}function b2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,v2,1,9,"app-catalog-menu-item",56),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function y2(n,o){if(1&n&&(e.YNc(0,b2,2,1,"ng-container",11),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.cacheService.wireframes$))}}function x2(n,o){if(1&n&&e._UZ(0,"app-catalog-menu-item",59),2&n){const t=o.$implicit,i=e.oxw().wireframe,s=e.oxw();e.Q6J("counter",s.cacheService.getTasksCounter("close",i.wireframeId,t.stageId))("isCounterLoading",s.cacheService.getTasksLoadingCounter("close",i.wireframeId,t.stageId))("isEmpty",!0)("label",t.label)("link","/tasks/search/close/"+i.wireframeId+"/"+t.stageId)}}function I2(n,o){1&n&&e.YNc(0,x2,1,5,"app-catalog-menu-item",58),2&n&&e.Q6J("ngForOf",o.wireframe.stages)}function T2(n,o){1&n&&e.GkF(0)}const A2=function(n){return{$implicit:n}};function w2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,T2,1,0,"ng-container",60),e.BQk()),2&n){const t=o.$implicit;e.oxw();const i=e.MAs(71);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,A2,t))}}function E2(n,o){if(1&n&&(e.TgZ(0,"app-label",69),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}function S2(n,o){if(1&n&&(e.TgZ(0,"app-label",71),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}function k2(n,o){if(1&n&&(e.TgZ(0,"app-label",72),e._UZ(1,"app-address-input-alt",73),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.addressValue)}}function D2(n,o){if(1&n&&(e.TgZ(0,"app-label",74),e._UZ(1,"input",70),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("formControl",t.controls.textValue)}}const Kx=function(){return[]};function M2(n,o){if(1&n&&(e.TgZ(0,"app-label",75),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.adSources$))&&void 0!==s?s:e.DdM(5,Kx))("formControl",t.controls.adSourceValue)}}function O2(n,o){if(1&n&&(e.TgZ(0,"app-label",77),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.connectionTypes$))&&void 0!==s?s:e.DdM(5,Kx))("formControl",t.controls.connectionTypeValue)}}function P2(n,o){if(1&n&&(e.TgZ(0,"app-label",78),e._UZ(1,"p-dropdown",76),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();let s;e.xp6(1),e.Q6J("showClear",!0)("options",null!==(s=e.lcZ(2,3,i.cacheService.connectionServices$))&&void 0!==s?s:e.DdM(5,Kx))("formControl",t.controls.connectionServiceValue)}}function L2(n,o){if(1&n&&(e.ynx(0,61),e.YNc(1,E2,2,1,"app-label",62),e.YNc(2,S2,2,1,"app-label",63),e.YNc(3,k2,2,1,"app-label",64),e.YNc(4,D2,2,1,"app-label",65),e.YNc(5,M2,3,6,"app-label",66),e.YNc(6,O2,3,6,"app-label",67),e.YNc(7,P2,3,6,"app-label",68),e.BQk()),2&n){const t=o.$implicit;e.Q6J("ngSwitch",t.value.type)("formGroup",t),e.xp6(1),e.Q6J("ngSwitchCase","TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_TYPE"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICE")}}const R2=function(){return["/tasks","catalog","active"]},N2=function(n){return{width:n}};let iA=(()=>{class n{constructor(t,i,s){this.nav=t,this.cacheService=i,this.catalogService=s,this.isSearchInputFocused=!1,this.catalogCachedRoute$=this.catalogService.lastRoute$.pipe((0,mt.U)(p=>G1.d.convertToPath(p,!0)),(0,mt.U)(p=>["/tasks","catalog",...p])),this.allFiltersVisible=!1,this.allFiltersPanelWidth=""}ngOnInit(){}resizeFilterPanel(t,i){this.allFiltersPanelWidth=t,setTimeout(()=>{i.align()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(nt.r),e.Y36(nA),e.Y36(G1.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-catalog-search-page"]],decls:72,vars:21,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"],[1,"flex","flex-column","flex-grow-1","gap-3"],[1,"flex","bg-white","border-round","border-1","py-2","pr-2","pl-3","gap-2","align-items-center",3,"formGroup","ngClass"],["searchPanelElement",""],["placeholder","\u041f\u043e\u0438\u0441\u043a...","formControlName","searchPhrase",1,"border-0","flex-grow-1","h-full","outline-none","border-none",3,"focus","blur","keydown.enter"],["searchPhraseInput",""],["icon","mdi-close","styleClass","p-button-secondary p-button-icon p-button-text p-button-sm",3,"onClick",4,"ngIf"],["label","\u041d\u0430\u0439\u0442\u0438","icon","mdi-search","styleClass","p-button-sm",3,"onClick"],["label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","icon","mdi-filter_alt","styleClass","p-button-sm p-button-help",3,"onClick"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","icon","mdi-close","styleClass","p-button-sm p-button-secondary",3,"routerLink"],[4,"ngIf"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","border-round","border-1","bg-white","border-bluegray-100","h-fit","sticky-type-selector"],[1,"text-lg","text-bluegray-600","font-bold","p-3","bg-white","sticky","top-0","z-5"],[1,"flex","flex-column","gap-1","relative","px-3","pb-3"],["label","\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","link","/tasks/search",3,"contentTemplate","isEmpty","counter","isCounterLoading"],["tasksStatusItemsTemplate",""],["activeTasksClassItemsTemplate",""],["activeTasksTypeItemsTemplate",""],["processingTasksClassItemsTemplate",""],["processingTasksTypeItemsTemplate",""],["closeTasksClassItemsTemplate",""],["closeTasksTypeItemsTemplate",""],["appendTo","body",3,"dismissable","onShow"],["allFiltersPanel",""],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"flex","align-items-center","gap-3"],[1,"text-bluegray-500","text-xl"],[1,"flex-grow-1"],["icon","mdi-done","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-sm",3,"onClick"],["icon","mdi-close","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-outlined p-button-sm p-button-secondary",3,"onClick"],[1,"flex","flex-column","gap-2","pl-2"],[1,"text-bluegray-500","text-lg"],[1,"flex","flex-wrap","column-gap-3","row-gap-1"],["label","\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"],["formControlName","dateOfCreation"],["label","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"],["formControlName","dateOfClose"],["label","\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"],["formControlName","author"],["label","\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c \u0437\u0430\u0434\u0430\u0447\u0438"],["formControlName","assignedEmployee"],["formControlName","tags"],["formArrayName","fieldFilters",1,"flex","flex-wrap","column-gap-3","row-gap-1"],[4,"ngFor","ngForOf"],["filterFieldTemplate",""],["icon","mdi-close","styleClass","p-button-secondary p-button-icon p-button-text p-button-sm",3,"onClick"],["class","flex flex-wrap gap-2 align-items-center",4,"ngIf"],[1,"flex","flex-wrap","gap-2","align-items-center"],[1,"text-sm","text-bluegray-400","font-bold"],[3,"label","removable","onRemove",4,"ngFor","ngForOf"],[3,"label","removable","onRemove"],["label","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],["label","\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],["label","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",3,"contentTemplate","isEmpty","counter","isCounterLoading","link"],[3,"counter","isCounterLoading","contentTemplate","contentTemplateData","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isCounterLoading","contentTemplate","contentTemplateData","isEmpty","label","link"],[3,"counter","isCounterLoading","isEmpty","label","link",4,"ngFor","ngForOf"],[3,"counter","isCounterLoading","isEmpty","label","link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch","formGroup"],["label","\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",4,"ngSwitchCase"],["label","\u041b\u043e\u0433\u0438\u043d",4,"ngSwitchCase"],["label","\u0410\u0434\u0440\u0435\u0441",4,"ngSwitchCase"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d",4,"ngSwitchCase"],["label","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",4,"ngSwitchCase"],["label","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",4,"ngSwitchCase"],["label","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0438",4,"ngSwitchCase"],["label","\u0422\u0435\u043a\u0441\u0442 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435"],["pInputText","",3,"formControl"],["label","\u041b\u043e\u0433\u0438\u043d"],["label","\u0410\u0434\u0440\u0435\u0441"],[3,"formControl"],["label","\u0422\u0435\u043b\u0435\u0444\u043e\u043d"],["label","\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"showClear","options","formControl"],["label","\u0422\u0438\u043f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],["label","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0438"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3,4)(6,"input",5,6),e.NdJ("focus",function(){e.CHM(s);const w=e.MAs(7);return i.isSearchInputFocused=!0,e.KtG(w.select())})("blur",function(){return i.isSearchInputFocused=!1})("keydown.enter",function(){return i.cacheService.search()}),e.qZA(),e.YNc(8,o2,1,0,"p-button",7),e.TgZ(9,"p-button",8),e.NdJ("onClick",function(){return i.cacheService.search()}),e.qZA(),e.TgZ(10,"p-button",9),e.NdJ("onClick",function(w){e.CHM(s);const J=e.MAs(5),_e=e.MAs(37);return e.KtG(_e.toggle(w,J))}),e.qZA(),e._UZ(11,"p-button",10),e.ALo(12,"async"),e.qZA(),e.YNc(13,a2,2,1,"ng-container",11),e.ALo(14,"async"),e.TgZ(15,"div",12),e._UZ(16,"router-outlet"),e.qZA()(),e.TgZ(17,"div",13)(18,"span",14),e._uU(19,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),e.qZA(),e.TgZ(20,"div",15),e._UZ(21,"app-catalog-menu-item",16),e.qZA()()()(),e.YNc(22,l2,3,15,"ng-template",null,17,e.W1O),e.YNc(24,d2,2,3,"ng-template",null,18,e.W1O),e.YNc(26,h2,1,1,"ng-template",null,19,e.W1O),e.YNc(28,m2,2,3,"ng-template",null,20,e.W1O),e.YNc(30,C2,1,1,"ng-template",null,21,e.W1O),e.YNc(32,y2,2,3,"ng-template",null,22,e.W1O),e.YNc(34,I2,1,1,"ng-template",null,23,e.W1O),e.TgZ(36,"p-overlayPanel",24,25),e.NdJ("onShow",function(){e.CHM(s);const w=e.MAs(5),J=e.MAs(37);return e.KtG(i.resizeFilterPanel(w.offsetWidth+"px",J))}),e.TgZ(38,"div",26)(39,"div",27)(40,"span",28),e._uU(41," \u0424\u0438\u043b\u044c\u0442\u0440\u044b "),e.qZA(),e._UZ(42,"div",29),e.TgZ(43,"p-button",30),e.NdJ("onClick",function(){e.CHM(s);const w=e.MAs(37);return i.cacheService.search(),e.KtG(w.hide())}),e.qZA(),e.TgZ(44,"p-button",31),e.NdJ("onClick",function(){e.CHM(s);const w=e.MAs(37);return e.KtG(w.hide())}),e.qZA()(),e.TgZ(45,"div",32)(46,"span",33),e._uU(47," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435/\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 "),e.qZA(),e.TgZ(48,"div",34)(49,"app-label",35),e._UZ(50,"app-data-range-input",36),e.qZA(),e.TgZ(51,"app-label",37),e._UZ(52,"app-data-range-input",38),e.qZA()()(),e.TgZ(53,"div",32)(54,"span",33),e._uU(55," \u0410\u0432\u0442\u043e\u0440/\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(56,"div",34)(57,"app-label",39),e._UZ(58,"app-employee-selector",40),e.qZA(),e.TgZ(59,"app-label",41),e._UZ(60,"app-employee-selector",42),e.qZA()()(),e.TgZ(61,"div",32)(62,"span",33),e._uU(63," \u0422\u0435\u0433\u0438 "),e.qZA(),e._UZ(64,"app-task-tag-filter-input",43),e.qZA(),e.TgZ(65,"div",32)(66,"span",33),e._uU(67," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 "),e.qZA(),e.TgZ(68,"div",44),e.YNc(69,w2,2,4,"ng-container",45),e.qZA()()()(),e.YNc(70,L2,8,9,"ng-template",null,46,e.W1O)}if(2&t){const s=e.MAs(23);let p;e.xp6(4),e.Q6J("formGroup",i.cacheService.filterForm)("ngClass",i.isSearchInputFocused?"border-primary":"border-bluegray-100"),e.xp6(4),e.Q6J("ngIf",i.cacheService.filterForm.controls.searchPhrase.value),e.xp6(3),e.Q6J("routerLink",null!==(p=e.lcZ(12,14,i.catalogCachedRoute$))&&void 0!==p?p:e.DdM(18,R2)),e.xp6(2),e.Q6J("ngIf",e.lcZ(14,16,i.cacheService.applyingAllFilters$)),e.xp6(8),e.Q6J("contentTemplate",s)("isEmpty",!1)("counter",i.cacheService.getTasksCounter())("isCounterLoading",i.cacheService.getTasksLoadingCounter()),e.xp6(15),e.Akn(e.VKq(19,N2,i.allFiltersPanelWidth)),e.Q6J("dismissable",!1),e.xp6(2),e.Q6J("formGroup",i.cacheService.filterForm),e.xp6(31),e.Q6J("ngForOf",i.cacheService.filterForm.controls.fieldFilters.controls)}}}),n})();function F2(n,o){1&n&&e.GkF(0)}function B2(n,o){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"app-task-list-element",12),e.qZA()),2&n){const t=o.$implicit;let i;e.Q6J("pDraggable",null!==(i=null==t.currentStage?null:t.currentStage.stageId)&&void 0!==i?i:""),e.xp6(1),e.Q6J("isCommentInput",!0)("item",t)}}function Z2(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9),e.YNc(2,B2,2,3,"div",10),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",t.content)}}function U2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,F2,1,0,"ng-container",7),e.YNc(2,Z2,3,1,"ng-container",8),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngIf","READY"===t.cacheService.taskLoadingState)}}function H2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"p-paginator",14,15),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.cacheService.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("hidden","READY"!==i.cacheService.taskLoadingState),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",15)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",15*(null!==(s=i.cacheService.pageControl.value)&&void 0!==s?s:0))}}function V2(n,o){1&n&&e.GkF(0)}function z2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,V2,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function J2(n,o){1&n&&e.GkF(0)}function Q2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,J2,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function G2(n,o){1&n&&e.GkF(0)}function W2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,G2,1,0,"ng-container",7),e.BQk()),2&n){e.oxw(2);const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Y2(n,o){if(1&n&&(e.ynx(0,16),e.YNc(1,z2,2,1,"ng-container",17),e.YNc(2,Q2,2,1,"ng-container",17),e.YNc(3,W2,2,1,"ng-container",17),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.cacheService.taskLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR")}}function j2(n,o){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"p-progressSpinner",19),e.qZA())}function K2(n,o){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"i",21),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function q2(n,o){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}let Y1=(()=>{class n{constructor(t,i){this.route=t,this.cacheService=i,this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("crrRt",(0,Bo.a)([this.route.params]).subscribe(([t])=>this.cacheService.updatePath(t)))}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(nA))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:13,vars:7,consts:[[4,"ngIf","ngIfElse"],[1,"flex-grow-1"],["class","sticky bottom1",3,"hidden",4,"ngIf"],["statesTemplate",""],["loadingTemplate",""],["emptyTemplate",""],["errorTemplate",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit","mb-3"],["class","flex relative",3,"pDraggable",4,"ngFor","ngForOf"],[1,"flex","relative",3,"pDraggable"],[3,"isCommentInput","item"],[1,"sticky","bottom1",3,"hidden"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","align-items-center","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","flex-grow-1","align-items-center","justify-content-center","text-bluegray-400","text-lg","font-bold"],[1,"mds-search_off"],[1,"flex","flex-column","flex-grow-1","align-items-center","justify-content-center","text-red-400","text-lg","font-bold"],[1,"mdi-error"]],template:function(t,i){if(1&t&&(e.YNc(0,U2,3,2,"ng-container",0),e.ALo(1,"async"),e._UZ(2,"div",1),e.YNc(3,H2,3,6,"div",2),e.ALo(4,"async"),e.YNc(5,Y2,4,4,"ng-template",null,3,e.W1O),e.YNc(7,j2,2,0,"ng-template",null,4,e.W1O),e.YNc(9,K2,4,0,"ng-template",null,5,e.W1O),e.YNc(11,q2,4,0,"ng-template",null,6,e.W1O)),2&t){const s=e.MAs(6);e.Q6J("ngIf",e.lcZ(1,3,i.cacheService.tasks$))("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,5,i.cacheService.tasks$))}},dependencies:[Wc.E,k.sg,k.O5,k.tP,k.RF,k.n9,et.G,bl.D,Ko._l,k.Ov],styles:["[_nghost-%COMP%]{flex-grow:1;min-height:100%;display:flex;flex-direction:column}"]}),n})(),$2=(()=>{class n{constructor(t,i){this.personality=t,this.router=i}canActivate(...t){return this.personality.userData$.pipe((0,vh.P)(),(0,mt.U)(i=>this.personality.isHasAccess(...t)||this.router.createUrlTree(["/"])))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q.F),e.LFG(d.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $r(...n){return(o,t)=>(0,e.f3M)($2).canActivate(...n)}let oA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3","justify-content-center"],[1,"responsive-wrapper","flex","gap-3"],[1,"flex","flex-grow-1","gap-3","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();var xf=b(1208),fc=b(1110);function X2(n,o){1&n&&e._UZ(0,"app-employee-label",10),2&n&&e.Q6J("employee",o.$implicit)}function ek(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e._UZ(5,"p-checkbox",13),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",t.value.name," "),e.xp6(2),e.hij(" ",t.value.count," \u0448\u0442. "),e.xp6(1),e.Q6J("binary",!0)("formControl",t.controls.checked)}}function tk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.receiveCheck())}),e.qZA()}}function nk(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.qZA(),e._UZ(5,"p-checkbox",13),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",t.value.name," "),e.xp6(2),e.hij(" ",t.value.count," \u0448\u0442. "),e.xp6(1),e.Q6J("binary",!0)("formControl",t.controls.checked)}}function ik(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.archiveCheck())}),e.qZA()}}function ok(n,o){if(1&n&&(e.TgZ(0,"div",1),e._UZ(1,"app-task-list-element",2),e.TgZ(2,"div",3)(3,"div",4)(4,"span",5),e._uU(5,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430:"),e.qZA(),e.TgZ(6,"span",6),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"div",4)(10,"span",5),e._uU(11,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438:"),e.qZA(),e.YNc(12,X2,1,1,"app-employee-label",7),e.qZA(),e.TgZ(13,"div",4)(14,"span",5),e._uU(15,"\u041f\u0440\u0438\u0435\u043c\u043a\u0430:"),e.qZA(),e.YNc(16,ek,6,5,"div",8),e.YNc(17,tk,1,0,"p-button",9),e.ALo(18,"async"),e.qZA(),e.TgZ(19,"div",4)(20,"span",5),e._uU(21,"\u0410\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f:"),e.qZA(),e.YNc(22,nk,6,5,"div",8),e.YNc(23,ik,1,0,"p-button",9),e.ALo(24,"async"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("item",t.workLog.task)("inlined",!0),e.xp6(6),e.Oqu(e.xi3(8,8,t.workLog.closed,"dd-MM-yyyy HH:mm")),e.xp6(5),e.Q6J("ngForOf",t.workLog.employees),e.xp6(4),e.Q6J("ngForOf",t.receiveContracts.controls),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,11,t.receiveHasChanged$)),e.xp6(5),e.Q6J("ngForOf",t.archiveContracts.controls),e.xp6(1),e.Q6J("ngIf",e.lcZ(24,13,t.archiveHasChanged$))}}let sk=(()=>{class n{constructor(t,i,s){this.api=t,this.blockService=i,this.personality=s,this.receiveContracts=new f.Oe([]),this.initialReceiveValues=[],this.archiveContracts=new f.Oe([]),this.initialArchiveValues=[],this.receiveHasChanged$=this.receiveContracts.valueChanges.pipe((0,mt.U)(p=>this.hasChangeForm(p,this.initialReceiveValues))),this.archiveHasChanged$=this.archiveContracts.valueChanges.pipe((0,mt.U)(p=>this.hasChangeForm(p,this.initialArchiveValues)))}ngOnInit(){}ngOnChanges(t){const i=t.workLog;this.receiveContracts.clear(),this.archiveContracts.clear(),i&&i.currentValue&&this.personality.userLogin$.pipe((0,vh.P)()).subscribe(s=>{const{concludedContracts:p}=i.currentValue;this.setupControls(p,s)})}receiveCheck(){this.blockService.wait({message:"\u041f\u0440\u0438\u0435\u043c\u043a\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"}),this.api.markContractsAsReceived(this.receiveContracts.value.filter(t=>this.hasChange(t,this.initialReceiveValues)).map(t=>t.id)).subscribe({next:()=>{this.blockService.unblock()},error:()=>{this.blockService.unblock()}})}archiveCheck(){this.blockService.wait({message:"\u0410\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"}),this.api.markContractsAsArchived(this.archiveContracts.value.filter(t=>this.hasChange(t,this.initialArchiveValues)).map(t=>t.id)).subscribe({next:()=>{this.blockService.unblock()},error:()=>{this.blockService.unblock()}})}hasChangeForm(t,i){return t.reduce((s,p)=>s||this.hasChange(p,i),!1)}hasChange(t,i){var s;return t.checked!==(null===(s=i.find(p=>p.id===t.id))||void 0===s?void 0:s.checked)}setupControls(t,i){this.receiveContracts.clear(),this.archiveContracts.clear();for(let s of t)this.appendReceiveControls(s,i),this.appendArchiveControls(s,i);this.initialReceiveValues=this.receiveContracts.value,this.initialArchiveValues=this.archiveContracts.value}appendReceiveControls(t,i){const s=new f.cw({name:new f.NI(t.typeOfContract.name),id:new f.NI(t.contractId),checked:new f.NI(!!t.received),count:new f.NI(t.count)});(!!t.received||this.loginIsNotInTheList(i,t.typeOfContract.receivers))&&s.disable(),this.receiveContracts.push(s)}appendArchiveControls(t,i){const s=new f.cw({name:new f.NI(t.typeOfContract.name),id:new f.NI(t.contractId),checked:new f.NI(!!t.archived),count:new f.NI(t.count)});(!t.received||!!t.archived||this.loginIsNotInTheList(i,t.typeOfContract.archivers))&&s.disable(),this.archiveContracts.push(s)}loginIsNotInTheList(t,i){return!i.map(s=>s.login).includes(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N1.A),e.Y36(Q.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contract-inspection-item"]],inputs:{workLog:"workLog"},features:[e.TTD],decls:1,vars:1,consts:[["class","bg-white flex flex-column pb-2 border-1 border-bluegray-100",4,"ngIf"],[1,"bg-white","flex","flex-column","pb-2","border-1","border-bluegray-100"],[3,"item","inlined"],[1,"flex","flex-column","gap-2","mx-3","mt-3"],[1,"flex","flex-wrap","gap-2","align-items-center"],[1,"text-bluegray-400","font-bold"],[1,"text-bluegray-500"],[3,"employee",4,"ngFor","ngForOf"],["class","p-2 border-round border-1 border-bluegray-100",3,"formGroup",4,"ngFor","ngForOf"],["icon","mdi-check","label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-success",3,"onClick",4,"ngIf"],[3,"employee"],[1,"p-2","border-round","border-1","border-bluegray-100",3,"formGroup"],[1,"text-primary"],[3,"binary","formControl"],["icon","mdi-check","label","\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-success",3,"onClick"]],template:function(t,i){1&t&&e.YNc(0,ok,25,15,"div",0),2&t&&e.Q6J("ngIf",i.workLog)},dependencies:[k.sg,k.O5,O.zx,f.JJ,f.JL,xf.XZ,f.oH,f.sg,Wc.E,fc.x,k.Ov,k.uU]}),n})();function rk(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-progressSpinner",13),e.qZA())}function ak(n,o){1&n&&(e.TgZ(0,"div",14),e._UZ(1,"span",15),e.TgZ(2,"span",16),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function lk(n,o){1&n&&(e.TgZ(0,"div",17),e._UZ(1,"span",18),e.TgZ(2,"span",16),e._uU(3,"\u041d\u0435\u0442 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432 \u0434\u043b\u044f \u043f\u0440\u0438\u0435\u043c\u043a\u0438"),e.qZA()())}function ck(n,o){1&n&&e._UZ(0,"app-contract-inspection-item",20),2&n&&e.Q6J("workLog",o.$implicit)}function uk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ck,1,1,"app-contract-inspection-item",19),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t.value)}}function dk(n,o){1&n&&e._UZ(0,"div",21)}function pk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,rk,2,0,"div",6),e.YNc(2,ak,4,0,"div",7),e.YNc(3,lk,4,0,"div",8),e.YNc(4,uk,2,1,"ng-container",9),e.YNc(5,dk,1,0,"div",10),e.TgZ(6,"p-paginator",11),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.pageControl.setValue(s.page))}),e.qZA()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.ERROR),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.EMPTY),e.xp6(1),e.Q6J("ngSwitchCase",i.LoadingState.READY),e.xp6(1),e.Q6J("ngIf",t.loadingState===i.LoadingState.READY),e.xp6(1),e.Q6J("hidden",t.loadingState!==i.LoadingState.READY)("first",15*(null!==(s=i.pageControl.value)&&void 0!==s?s:0))("totalRecords",t.totalElements)("alwaysShow",!0)("rows",15)}}class Kd{constructor(o,t){this.api=o,this.rt=t,this.LoadingState=he.Gu,this.pageControl=new f.NI(0),this.filterControls=new f.cw({searchQuery:new f.NI("")}),this.enterDown$=this.searchInputKeyDown$.pipe((0,r.h)(i=>"Enter"===i.key),(0,Bs.O)(null)),this.search$=this.clickSearchButton$.pipe((0,Bs.O)(null)),this.cleared$=this.clickClearButton$.pipe((0,ei.b)(this.clearFilters.bind(this)),(0,Bs.O)(null)),this.filterValue$=this.filterControls.valueChanges.pipe((0,cn.d)(1)),this.doSearch$=(0,Bo.a)([this.enterDown$,this.search$,this.cleared$]).pipe((0,ei.b)(()=>this.pageControl.setValue(0)),(0,mt.U)(()=>this.filterControls.value)),this.controlsChange$=(0,Bo.a)([this.pageControl.valueChanges.pipe((0,Bs.O)(0)),this.doSearch$]).pipe((0,Ls.b)(100)),this.workLogs$=_.aN.ofPageAltAll(this.controlsChange$,this.api.getWorkLogsUnconfirmedContracts.bind(this.api),[this.rt.updatingMarkedContracts()])}ngOnInit(){}clearFilters(){this.filterControls.reset({searchQuery:""})}}Kd.\u0275fac=function(o){return new(o||Kd)(e.Y36(L.s),e.Y36(de.U))},Kd.\u0275cmp=e.Xpm({type:Kd,selectors:[["ng-component"]],decls:6,vars:4,consts:[[1,"bg-white","p-3","flex","gap-3","shadow-1","sticky","top-under-panel","border-round","mb-3","z-1",3,"formGroup"],["pInputText","","id","searchInput","formControlName","searchQuery","placeholder","\u041b\u043e\u0433\u0438\u043d / \u0410\u0434\u0440\u0435\u0441 / \u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a...",1,"flex-grow-1"],["pButton","","id","searchButton","icon","mdi-search","label","\u041f\u043e\u0438\u0441\u043a"],["pButton","","id","clearButton","icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",1,"p-button-secondary","p-button-text"],["class","flex flex-column gap-2 relative h-full",3,"ngSwitch",4,"ngIf"],[1,"flex","flex-column","gap-2","relative","h-full",3,"ngSwitch"],["class","flex align-items-center justify-content-center flex-grow-1",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center text-red-400 absolute top-50 left-50 -translate-50",4,"ngSwitchCase"],["class","flex flex-column align-items-center justify-content-center text-bluegray-400 absolute top-50 left-50 -translate-50",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flex-grow-1",4,"ngIf"],["styleClass","shadow-1",1,"sticky","bottom-1rem",3,"hidden","first","totalRecords","alwaysShow","rows","onPageChange"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[1,"flex","flex-column","align-items-center","justify-content-center","text-red-400","absolute","top-50","left-50","-translate-50"],[1,"mds-error"],[1,"text-lg","font-bold"],[1,"flex","flex-column","align-items-center","justify-content-center","text-bluegray-400","absolute","top-50","left-50","-translate-50"],[1,"mds-scan_delete"],[3,"workLog",4,"ngFor","ngForOf"],[3,"workLog"],[1,"flex-grow-1"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"input",1)(2,"button",2)(3,"button",3),e.qZA(),e.YNc(4,pk,7,11,"div",4),e.ALo(5,"async")),2&o&&(e.Q6J("formGroup",t.filterControls),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,2,t.workLogs$)))},dependencies:[sk,f.Fj,f.JJ,f.JL,k.sg,f.sg,f.u,k.O5,O.Hq,k.RF,k.n9,yi.o,et.G,bl.D,k.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;flex-grow:1}"]}),(0,Ua.gn)([(0,vl.v4)("searchInput","keydown")],Kd.prototype,"searchInputKeyDown$",void 0),(0,Ua.gn)([(0,vl.v4)("searchButton","click")],Kd.prototype,"clickSearchButton$",void 0),(0,Ua.gn)([(0,vl.v4)("clearButton","click")],Kd.prototype,"clickClearButton$",void 0);var z_=b(1560);function hk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"span",2),e._uU(2),e.qZA(),e._UZ(3,"div",3),e.TgZ(4,"p-button",4),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onEdit.emit({event:s,typeContract:p.typeContract}))}),e.qZA(),e.TgZ(5,"p-button",5),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onDelete.emit({event:s,typeContract:p.typeContract}))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.typeContract.name," ")}}let gk=(()=>{class n{constructor(){this.onEdit=new e.vpe,this.onDelete=new e.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contract-item"]],inputs:{typeContract:"typeContract"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:1,vars:1,consts:[["class","flex align-items-center gap-2 p-3",4,"ngIf"],[1,"flex","align-items-center","gap-2","p-3"],[1,"text-bluegray-500","font-bold"],[1,"flex-grow-1"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-warning",3,"onClick"],["icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-sm p-button-outlined p-button-danger",3,"onClick"]],template:function(t,i){1&t&&e.YNc(0,hk,6,1,"div",0),2&t&&e.Q6J("ngIf",i.typeContract)},dependencies:[k.O5,O.zx]}),n})();function fk(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}function mk(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}let _k=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this._options={},this.employees=[],this.employeesSuggestions=[],this.control=new f.NI([]),this.isDisabled=!1,this.subscriptions=new _.xf,this.onChange=s=>{},this.onTouched=()=>{}}set options(t){this._options=t,this.initEmployeeLoader()}ngOnInit(){this.subscriptions.addSubscription("chg",this.control.valueChanges.subscribe(t=>this.onChange(t||[]))),this.initEmployeeLoader()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){Array.isArray(t)?this.control.setValue(t||[]):this.control.setValue([])}search(t){this.employeesSuggestions=this.employees.filter(i=>{var s;return null===(s=i.fullName)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase())})}initEmployeeLoader(){const t=(0,Eo.T)(this.rt.employeeCreated(),this.rt.employeeUpdated(),this.rt.employeeDeleted()).pipe((0,Bs.O)(null),(0,R.w)(()=>this.api.getEmployees(void 0,this._options.showDeleted,this._options.showOffsite)));this.subscriptions.addSubscription("employees",t.subscribe(i=>this.employees=i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-multiply-selector"]],inputs:{options:"options"},features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:3,vars:6,consts:[["appendTo","body","dataKey","login","emptyMessage","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","placeholder","\u0418\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430...",3,"autoHighlight","forceSelection","formControl","multiple","showEmptyMessage","suggestions","completeMethod"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"size","employee"]],template:function(t,i){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("completeMethod",function(p){return i.search(p.query)}),e.YNc(1,fk,1,2,"ng-template",1),e.YNc(2,mk,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("autoHighlight",!0)("forceSelection",!0)("formControl",i.control)("multiple",!0)("showEmptyMessage",!0)("suggestions",i.employeesSuggestions)},dependencies:[f.JJ,N.jx,f.oH,B.Qc,fc.x]}),n})();function Ck(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-contract-item",15),e.NdJ("onEdit",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.openEditDialog(s))})("onDelete",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.openDeleteDialog(s))}),e.qZA()}2&n&&e.Q6J("typeContract",o.$implicit)}function vk(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ck,1,1,"app-contract-item",14),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t.value)}}function bk(n,o){1&n&&e.GkF(0)}function yk(n,o){1&n&&e.GkF(0)}const sA=function(){return{showDeleted:!1,showOffsite:!1}};function xk(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"app-label",17),e._UZ(2,"input",18),e.qZA(),e.TgZ(3,"app-label",19),e._UZ(4,"textarea",20),e.qZA(),e.TgZ(5,"app-label",21),e._UZ(6,"app-employee-multiply-selector",22),e.qZA(),e.TgZ(7,"app-label",23),e._UZ(8,"app-employee-multiply-selector",24),e.qZA()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.typeContractForm),e.xp6(2),e.Q6J("size",30),e.xp6(2),e.Q6J("autoResize",!0)("rows",4),e.xp6(2),e.Q6J("options",e.DdM(6,sA)),e.xp6(2),e.Q6J("options",e.DdM(7,sA))}}let Ik=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirmService=s,this.typesContracts$=_.aN.of(this.api.getContractTypesList(),"typeOfContractId",this.rt.createTypeOfContract(),this.rt.updateTypeOfContract(),this.rt.deleteTypeOfContract()),this.createDialogVisible=!1,this.editDialogVisible=!1,this.isRequestSending=!1,this.typeContractForm=new f.cw({name:new f.NI("",[f.kI.required,f.kI.minLength(3)]),description:new f.NI(""),receivers:new f.NI([],[f.kI.required,f.kI.minLength(1),f.kI.maxLength(10)]),archivers:new f.NI([],[f.kI.required,f.kI.minLength(1),f.kI.maxLength(10)])})}ngOnInit(){}openCreateDialog(){this.createDialogVisible=!0,this.typeContractForm.reset({name:"",description:"",receivers:[],archivers:[]})}openEditDialog(t){this.editDialogVisible=!0,this.editingContractTypeId=t.typeContract.typeOfContractId,this.typeContractForm.reset({name:t.typeContract.name,description:t.typeContract.description,receivers:t.typeContract.receivers,archivers:t.typeContract.archivers})}openDeleteDialog(t){this.confirmService.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430?",accept:()=>{this.api.removeContractType(t.typeContract.typeOfContractId).subscribe()}})}createTypeOfContract(){var t,i;this.isRequestSending=!0;const{name:s,description:p,receivers:w,archivers:J}=this.typeContractForm.value;this.api.createContractType({name:null!=s?s:"",description:null!=p?p:"",receivers:null!==(t=null==w?void 0:w.map(_e=>_e.login))&&void 0!==t?t:[],archivers:null!==(i=null==J?void 0:J.map(_e=>_e.login))&&void 0!==i?i:[]}).subscribe({next:()=>{this.createDialogVisible=!1,this.isRequestSending=!1},error:()=>{this.isRequestSending=!1}})}editTypeOfContract(){var t,i;if(!this.editingContractTypeId)return;this.isRequestSending=!0;const{name:s,description:p,receivers:w,archivers:J}=this.typeContractForm.value;this.api.updateContractType(this.editingContractTypeId,{name:null!=s?s:"",description:null!=p?p:"",receivers:null!==(t=null==w?void 0:w.map(_e=>_e.login))&&void 0!==t?t:[],archivers:null!==(i=null==J?void 0:J.map(_e=>_e.login))&&void 0!==i?i:[]}).subscribe({next:()=>{this.editDialogVisible=!1,this.isRequestSending=!1},error:()=>{this.isRequestSending=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:13,consts:[[1,"flex","flex-column","text-bluegray-500","bg-white","border-round","shadow-1"],[1,"flex","align-items-center","pt-2","pl-3","pr-2","pb-1","select-none"],[1,"text-lg","text-bluegray-600","font-semibold","mr-3","white-space-nowrap"],[1,"flex-grow-1"],["styleClass","p-button-sm p-button-success","icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],[1,"flex","flex-column","p-4"],[4,"ngIf"],["appendTo","body","contentStyleClass","flex flex-column gap-3 max-w-30rem","header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",3,"visible","modal","draggable","dismissableMask","visibleChange"],[4,"ngTemplateOutlet"],[1,"flex","justify-content-end"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],["appendTo","body","contentStyleClass","flex flex-column gap-3 max-w-30rem","header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",3,"visible","modal","draggable","dismissableMask","visibleChange"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"onClick"],["typeContractFormTemplate",""],["class","terminated",3,"typeContract","onEdit","onDelete",4,"ngFor","ngForOf"],[1,"terminated",3,"typeContract","onEdit","onDelete"],[1,"flex","flex-column","gap-2",3,"formGroup"],["label","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["pInputText","","formControlName","name",3,"size"],["label","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"],["pInputTextarea","","formControlName","description",3,"autoResize","rows"],["label","\u041f\u0440\u0438\u0435\u043c\u0449\u0438\u043a\u0438"],["formControlName","receivers",3,"options"],["label","\u0410\u0440\u0445\u0438\u0432\u0430\u0442\u043e\u0440\u044b"],["formControlName","archivers",3,"options"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0438\u043f\u043e\u0432 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432"),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"p-button",4),e.NdJ("onClick",function(){return i.openCreateDialog()}),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,vk,2,1,"ng-container",6),e.ALo(8,"async"),e.qZA()(),e.TgZ(9,"p-dialog",7),e.NdJ("visibleChange",function(p){return i.createDialogVisible=p}),e.YNc(10,bk,1,0,"ng-container",8),e.TgZ(11,"div",9)(12,"p-button",10),e.NdJ("onClick",function(){return i.createTypeOfContract()}),e.qZA()()(),e.TgZ(13,"p-dialog",11),e.NdJ("visibleChange",function(p){return i.editDialogVisible=p}),e.YNc(14,yk,1,0,"ng-container",8),e.TgZ(15,"div",9)(16,"p-button",12),e.NdJ("onClick",function(){return i.editTypeOfContract()}),e.qZA()()(),e.YNc(17,xk,9,8,"ng-template",null,13,e.W1O)),2&t){const s=e.MAs(18);e.xp6(7),e.Q6J("ngIf",e.lcZ(8,11,i.typesContracts$)),e.xp6(2),e.Q6J("visible",i.createDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("visible",i.editDialogVisible)("modal",!0)("draggable",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",s)}},dependencies:[z_._,gk,_k,f.Fj,f.JJ,f.JL,k.sg,To.V,f.sg,f.u,k.O5,dt.g,O.zx,k.tP,yi.o,k.Ov],styles:["[_nghost-%COMP%]{width:100%}"]}),n})(),rA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-grow-1","gap-3","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();function Tk(n,o){1&n&&e.GkF(0)}function Ak(n,o){1&n&&e.GkF(0)}function wk(n,o){1&n&&e.GkF(0)}function Ek(n,o){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"span",9),e.TgZ(2,"span",10),e._uU(3," \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043c \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(4,"div",11),e.YNc(5,wk,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(14);e.xp6(5),e.Q6J("ngTemplateOutlet",t)}}function Sk(n,o){1&n&&e.GkF(0)}function kk(n,o){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,Sk,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Dk(n,o){1&n&&(e.TgZ(0,"tr")(1,"th",23),e._uU(2,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a"),e.qZA(),e.TgZ(3,"th",24),e._uU(4,"\u0417\u0430\u0434\u0430\u0447\u0430"),e.qZA(),e.TgZ(5,"th",24),e._uU(6,"\u0422\u0430\u0439\u043c\u0438\u043d\u0433\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435"),e.qZA(),e.TgZ(7,"th",25),e._uU(8,"\u0414\u0435\u043d\u044c\u0433\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435"),e.qZA()(),e.TgZ(9,"tr")(10,"th"),e._uU(11,"\u041a\u043b\u0430\u0441\u0441"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"\u0421\u0440. \u0437\u0430 \u0441\u043c\u0435\u043d\u0443"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"\u041e\u0442\u0434./\u041f\u0440\u0438\u043d."),e.qZA(),e.TgZ(20,"th"),e._uU(21,"\u041e\u0442\u0434./\u0417\u0430\u043a\u0440."),e.qZA(),e.TgZ(22,"th"),e._uU(23,"\u041f\u0440\u0438\u043d./\u0417\u0430\u043a\u0440."),e.qZA(),e.TgZ(24,"th"),e._uU(25,"\u0394 \u041c\u0435\u0436\u0434\u0443 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"\u0417\u0430 \u0441\u043c\u0435\u043d\u0443"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"\u0417\u0430 \u0447\u0430\u0441"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"\u0417\u0430 \u0437\u0430\u0434\u0430\u0447\u0443"),e.qZA()())}function Mk(n,o){1&n&&e.GkF(0)}const Ok=function(n){return{employeeRow:n}};function Pk(n,o){if(1&n&&e.YNc(0,Mk,1,0,"ng-container",26),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(10);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Ok,t))}}function Lk(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",27),e._uU(2," \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0435\u0442 "),e.qZA()()),2&n&&(e.xp6(1),e.uIk("colspan",10))}function Rk(n,o){if(1&n&&(e.TgZ(0,"div",14)(1,"p-table",15),e.YNc(2,Dk,32,0,"ng-template",16),e.YNc(3,Pk,1,4,"ng-template",17),e.YNc(4,Lk,3,1,"ng-template",18),e.qZA(),e.TgZ(5,"div",19)(6,"span",20),e._uU(7," \u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(8,"p-chart",21),e.qZA(),e.TgZ(9,"div",19)(10,"span",20),e._uU(11," \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0438\u043d\u0433\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(12,"p-chart",22),e.qZA(),e.TgZ(13,"div",19)(14,"span",20),e._uU(15," \u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 "),e.qZA(),e._UZ(16,"p-chart",22),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(1),e.Q6J("value",t.rows),e.xp6(7),e.Q6J("data",t.taskCountChart),e.xp6(4),e.Q6J("data",t.timingsChart)("options",i.timingsChartOptions),e.xp6(4),e.Q6J("data",t.moneyChart)("options",i.moneyChartOptions)}}function Nk(n,o){if(1&n&&(e.YNc(0,Rk,17,6,"div",13),e.ALo(1,"async")),2&n){const t=e.oxw(),i=e.MAs(12);e.Q6J("ngIf",e.lcZ(1,2,t.statisticsTable$))("ngIfElse",i)}}function Fk(n,o){if(1&n&&(e.TgZ(0,"td"),e._UZ(1,"app-employee-label",30),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.uIk("rowspan",t.employeeRowSpanCount),e.xp6(1),e.Q6J("employee",t.employee)}}function Bk(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.uIk("rowspan",t.taskClassRowSpanCount),e.xp6(1),e.Oqu(t.className)}}function Zk(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Fk,2,2,"td",28),e.YNc(2,Bk,2,2,"td",28),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"app-duration",29),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-duration",29),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-duration",29),e.qZA(),e._UZ(15,"td"),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"currency"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"currency"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"currency"),e.qZA()()),2&n){const t=e.oxw().employeeRow;e.xp6(1),e.Q6J("ngIf",t.employee),e.xp6(1),e.Q6J("ngIf",t.className),e.xp6(2),e.Oqu(t.taskType.name),e.xp6(2),e.Oqu(t.taskType.count),e.xp6(2),e.Oqu(t.taskType.quantityPerShift),e.xp6(2),e.Q6J("ms",t.taskType.timings.givenAndReceived),e.xp6(2),e.Q6J("ms",t.taskType.timings.givenAndClosed),e.xp6(2),e.Q6J("ms",t.taskType.timings.receivedAndClosed),e.xp6(3),e.Oqu(e.xi3(18,11,t.taskType.money.quantityPerShift,"RUB")),e.xp6(3),e.Oqu(e.xi3(21,14,t.taskType.money.quantityPerHour,"RUB")),e.xp6(3),e.Oqu(e.xi3(24,17,t.taskType.money.quantityPerTask,"RUB"))}}function Uk(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).employeeRow;e.xp6(1),e.Oqu(t.className)}}function Hk(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Uk,2,1,"td",31),e._UZ(2,"td"),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._UZ(8,"app-duration",29),e.qZA(),e.TgZ(9,"td",32),e._UZ(10,"app-duration",29),e.qZA(),e.TgZ(11,"td",32),e._UZ(12,"app-duration",29),e.qZA(),e.TgZ(13,"td",32),e._UZ(14,"app-duration",29),e.qZA(),e.TgZ(15,"td",32),e._uU(16),e.ALo(17,"currency"),e.qZA(),e.TgZ(18,"td",32),e._uU(19),e.ALo(20,"currency"),e.qZA(),e.TgZ(21,"td",32),e._uU(22),e.ALo(23,"currency"),e.qZA()()),2&n){const t=e.oxw().employeeRow;e.xp6(1),e.Q6J("ngIf",t.className),e.xp6(3),e.Oqu(t.total.taskCount),e.xp6(2),e.Oqu(t.total.taskQuantityPerShift),e.xp6(2),e.Q6J("ms",t.total.timings.givenAndReceived),e.xp6(2),e.Q6J("ms",t.total.timings.givenAndClosed),e.xp6(2),e.Q6J("ms",t.total.timings.receivedAndClosed),e.xp6(2),e.Q6J("ms",t.total.timings.delayBetween),e.xp6(2),e.Oqu(e.xi3(17,10,t.total.money.quantityPerShift,"RUB")),e.xp6(3),e.Oqu(e.xi3(20,13,t.total.money.quantityPerHour,"RUB")),e.xp6(3),e.Oqu(e.xi3(23,16,t.total.money.quantityPerTask,"RUB"))}}function Vk(n,o){if(1&n&&(e.YNc(0,Zk,25,20,"tr",28),e.YNc(1,Hk,24,19,"tr",28)),2&n){const t=o.employeeRow;e.Q6J("ngIf",t.taskType&&!t.total),e.xp6(1),e.Q6J("ngIf",!t.taskType&&t.total)}}function zk(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"span",34),e.TgZ(2,"span",35),e._uU(3," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 "),e.qZA()())}function Jk(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"app-data-range-input",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.statisticsPeriod=s)}),e.qZA(),e._UZ(2,"button",38),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.statisticsPeriod)}}class Th{constructor(o,t){this.api=o,this.blockService=t,this.statisticsPeriod=null,this.statisticsTable$=this.submit$.pipe((0,r.h)(()=>!!this.statisticsPeriod),(0,ei.b)(()=>this.blockService.wait({message:"\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438"})),(0,R.w)(()=>this.api.getEmployeeWorkStatistics({period:this.statisticsPeriod})),(0,ei.b)({next:()=>this.blockService.unblock(),error:()=>this.blockService.unblock()}),(0,cn.d)(1)),this.timingsChartOptions={scales:{y:{ticks:{callback:this.amountTimeMapping}}},plugins:{tooltip:{callbacks:{label:i=>{let s=i.dataset.label||"";return s&&(s+=": "),null!==i.parsed.y&&(s+=this.amountTimeMapping(i.parsed.y)),s}}}}},this.moneyChartOptions={scales:{y:{ticks:{callback:(i,s,p)=>i+" \u0440."}}}}}ngOnInit(){}amountTimeMapping(o){const t=Math.floor(o/36e5),i=Math.floor((o-36e5*t)/6e4),s=Math.floor((o-36e5*t-6e4*i)/1e3);let p="";return t&&(p+=t+" \u0447."),i&&(p+=i+" \u043c\u0438\u043d."),!t&&s&&(p+=s+" \u0441\u0435\u043a."),!t&&!i&&!s&&(p+=o+" \u043c\u0441."),p}}Th.\u0275fac=function(o){return new(o||Th)(e.Y36(L.s),e.Y36(N1.A))},Th.\u0275cmp=e.Xpm({type:Th,selectors:[["ng-component"]],decls:15,vars:2,consts:[[1,"flex","flex-column","bg-white","border-round","shadow-1","w-full","h-full","text-bluegray-500"],[4,"ngTemplateOutlet"],["titleTemplate",""],["contentTemplate",""],["statisticsTableTemplate",""],["taskStatisticsRowTemplate",""],["emptyTableTemplate",""],["periodStatisticsFormTemplate",""],[1,"flex","align-items-center","pl-4","pt-2","pr-2","pb-2","gap-2","border-bottom-1","border-bluegray-100"],[1,"mdi-work_history"],[1,"text-xl","font-semibold"],[1,"flex-grow-1"],[1,"flex","flex-column","gap-2","flex-grow-1"],["class","flex flex-column gap-3",4,"ngIf","ngIfElse"],[1,"flex","flex-column","gap-3"],[3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","flex-column","p-4","align-self-center"],[1,"font-bold","text-bluegray-500","text-lg"],["type","bar","width","1000px",3,"data"],["type","bar","width","1000px",3,"data","options"],["rowspan","2"],["colspan","4"],["colspan","3"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-bluegray-400","text-center","font-bold"],[4,"ngIf"],[3,"ms"],[3,"employee"],["class","font-bold",4,"ngIf"],[1,"font-bold"],[1,"text-bluegray-400","flex","flex-column","align-items-center","justify-content-center","w-full","h-full"],[1,"mds-date_range"],[1,"max-w-20rem","text-2xl","font-semibold","text-center"],[1,"flex","gap-2","p-2","border-round-xl","border-1","border-bluegray-100"],[3,"ngModel","ngModelChange"],["pButton","","label","\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c","id","submitButton"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0),e.YNc(1,Tk,1,0,"ng-container",1),e.YNc(2,Ak,1,0,"ng-container",1),e.qZA(),e.YNc(3,Ek,6,1,"ng-template",null,2,e.W1O),e.YNc(5,kk,2,1,"ng-template",null,3,e.W1O),e.YNc(7,Nk,2,4,"ng-template",null,4,e.W1O),e.YNc(9,Vk,2,2,"ng-template",null,5,e.W1O),e.YNc(11,zk,4,0,"ng-template",null,6,e.W1O),e.YNc(13,Jk,3,1,"ng-template",null,7,e.W1O)),2&o){const i=e.MAs(4),s=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s)}},styles:["[_nghost-%COMP%]{flex-grow:1}"]}),(0,Ua.gn)([(0,vl.v4)("submitButton","click")],Th.prototype,"submit$",void 0);let aA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-grow-1","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()()())}}),n})();const Qk={q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043a",t:"\u0435",y:"\u043d",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","]":"\u044a",a:"\u0444",s:"\u044b",d:"\u0432",f:"\u0430",g:"\u043f",h:"\u0440",j:"\u043e",k:"\u043b",l:"\u0434",";":"\u0436","'":"\u044d",z:"\u044f",x:"\u0447",c:"\u0441",v:"\u043c",b:"\u0438",n:"\u0442",m:"\u044c",",":"\u0431",".":"\u044e",Q:"\u0419",W:"\u0426",E:"\u0423",R:"\u041a",T:"\u0415",Y:"\u041d",U:"\u0413",I:"\u0428",O:"\u0429",P:"\u0417","{":"\u0425","}":"\u042a",A:"\u0424",S:"\u042b",D:"\u0412",F:"\u0410",G:"\u041f",H:"\u0420",J:"\u041e",K:"\u041b",L:"\u0414",":":"\u0416",'"':"\u042d",Z:"\u042f",X:"\u0427",C:"\u0421",V:"\u041c",B:"\u0418",N:"\u0422",M:"\u042c","<":"\u0411",">":"\u042e"};class lA{static translate(o){let t="";for(let i=0;i<o.length;i++)t+=Qk[o[i]]||o[i];return t}}var yl=b(4500);const Gk=function(n){return["/topology","house",n]},Wk=function(n,o){return{highlighted:n,"hover:text-primary hover:border-primary cursor-pointer":o}};function Yk(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",e.VKq(3,Gk,t.buildingId))("ngClass",e.WLB(5,Wk,t.highlighted,t.highlighted)),e.xp6(1),e.hij(" ",t.houseNum," ")}}const jk=function(n){return{highlighted:n}};function Kk(n,o){if(1&n&&(e.TgZ(0,"div",8)(1,"span",9),e._uU(2),e.qZA(),e.TgZ(3,"div",10),e.YNc(4,Yk,2,8,"span",11),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("ngClass",e.VKq(3,jk,t.highlighted)),e.xp6(2),e.hij(" ",t.streetName," "),e.xp6(2),e.Q6J("ngForOf",t.houses)}}function qk(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,Kk,5,5,"div",7),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function $k(n,o){1&n&&e._UZ(0,"p-skeleton",17)}function Xk(n,o){if(1&n&&(e.TgZ(0,"div",14),e._UZ(1,"p-skeleton",15),e.TgZ(2,"div",10),e.YNc(3,$k,1,0,"p-skeleton",16),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("width",t.stWidth+"px"),e.xp6(2),e.Q6J("ngForOf",t.houses)}}function eD(n,o){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,Xk,4,2,"div",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.topologyLoadingSkeleton)}}class If{constructor(o){this.api=o,this.searchQuery$=this.search$.pipe((0,mt.U)(t=>t.target.value),(0,Bs.O)("")),this.topology$=this.api.getTopology().pipe((0,cn.d)(1),(0,Gd.z)(t=>this.searchQuery$.pipe((0,mt.U)(i=>{if(!i||0==(i=i.trim().toLowerCase()).length)return t.map(w=>(w.highlighted=!0,w.houses.forEach(J=>J.highlighted=!0),w));const s=(i=lA.translate(i)).split(" "),p=t.map(w=>{const J=w.houses.filter(_e=>s.some($e=>_e.houseNum.toLowerCase().includes($e)));return w.highlighted=J.length>0&&1===s.length||s.some(_e=>w.streetName.toLowerCase().includes(_e)),w.houses.forEach(_e=>_e.highlighted=J.some($e=>$e.buildingId===_e.buildingId)),w}).sort((w,J)=>w.highlighted?-1:J.highlighted?1:0);return p.filter(w=>w.highlighted&&w.houses.every(J=>!J.highlighted)).forEach(w=>w.houses.forEach(J=>J.highlighted=!0)),p})))),this.topologyLoadingSkeleton=_.mQ}ngOnInit(){}}function tD(n,o){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.ALo(2,"decline"),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.AsE("\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(2,2,t.totalElements,"\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440","\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430","\u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432"),"")}}function nD(n,o){1&n&&e.GkF(0)}function iD(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nD,1,0,"ng-container",27),e.BQk()),2&n){e.oxw(2);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}If.\u0275fac=function(o){return new(o||If)(e.Y36(L.s))},If.\u0275cmp=e.Xpm({type:If,selectors:[["ng-component"]],decls:9,vars:4,consts:[[1,"flex","flex-column","gap-3"],[1,"flex","gap-3","border-round-2xl","bg-white","shadow-1","align-items-center","py-2","px-3","sticky","top-under-panel"],[1,"text-2xl","text-bluegray-500","font-semibold"],["id","searchInput","pInputText","","placeholder","\u041d\u0430\u0439\u0442\u0438 \u0434\u043e\u043c..."],["class","flex flex-column gap-1 cursor-default p-3 bg-white border-round-2xl shadow-1",4,"ngIf","ngIfElse"],["topologyLoadingTemplate",""],[1,"flex","flex-column","gap-1","cursor-default","p-3","bg-white","border-round-2xl","shadow-1"],["class","flex align-items-center gap-2 text-sm topology",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2","text-sm","topology",3,"ngClass"],[1,"white-space-nowrap","font-bold"],[1,"flex","flex-wrap","gap-1"],["class","border-1 border-bluegray-100 p-1 border-round topology",3,"routerLink","ngClass",4,"ngFor","ngForOf"],[1,"border-1","border-bluegray-100","p-1","border-round","topology",3,"routerLink","ngClass"],["class","flex align-items-center gap-2 text-sm",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2","text-sm"],[3,"width"],["width","23px","height","1.5rem",4,"ngFor","ngForOf"],["width","23px","height","1.5rem"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"\u0422\u043e\u043f\u043e\u043b\u043e\u0433\u0438\u044f \u0434\u043e\u043c\u043e\u0432"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.YNc(5,qk,2,1,"div",4),e.ALo(6,"async"),e.qZA(),e.YNc(7,eD,2,1,"ng-template",null,5,e.W1O)),2&o){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,2,t.topology$))("ngIfElse",i)}},dependencies:[d.rH,k.sg,k.O5,yi.o,k.mk,yl.O,k.Ov],styles:[".topology[_ngcontent-%COMP%]:not(.highlighted){opacity:.2}"]}),(0,Ua.gn)([(0,vl.v4)("searchInput","input")],If.prototype,"search$",void 0);const oD=function(n){return{commutator:n}};function sD(n,o){if(1&n&&e.GkF(0,31),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(5);e.Q6J("ngTemplateOutletContext",e.VKq(2,oD,t))("ngTemplateOutlet",i)}}function rD(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28),e.YNc(2,sD,1,4,"ng-container",29),e.qZA(),e.TgZ(3,"p-paginator",30),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.changeCommutatorPage.next(s.page))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByCommutator),e.xp6(1),e.Q6J("first",15*i.pageNum)("rows",15)("totalRecords",t.totalElements)}}function aD(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",32),e._UZ(2,"span",33),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function lD(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",34),e._UZ(2,"span",35),e.TgZ(3,"span"),e._uU(4,"\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function cD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11),e._UZ(3,"span",12),e.TgZ(4,"div",13)(5,"span"),e._uU(6,"\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b"),e.qZA(),e.TgZ(7,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openCreateCommutatorDialog())}),e.qZA()(),e.YNc(8,tD,3,7,"span",15),e.qZA(),e.ynx(9,16),e.YNc(10,iD,2,1,"ng-container",17),e.YNc(11,rD,4,5,"ng-container",17),e.YNc(12,aD,5,0,"ng-container",17),e.YNc(13,lD,5,0,"ng-container",17),e.BQk(),e.qZA(),e.TgZ(14,"div",18)(15,"span",19),e._UZ(16,"span",20),e._uU(17," \u0424\u0438\u043b\u044c\u0442\u0440\u044b"),e.qZA(),e.TgZ(18,"div",21),e._UZ(19,"input",22)(20,"input",23)(21,"app-address-input-alt",24),e.qZA(),e.TgZ(22,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorFilterForm.reset())}),e.qZA()()()}if(2&n){const t=o.ngIf,i=e.oxw();e.xp6(7),e.Q6J("disabled",!i.personality.isHasAccess(i.AccessFlag.EDIT_SWITCH)),e.xp6(1),e.Q6J("ngIf",t.totalElements),e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Udp("top","calc(var(--top-panel-height) + 1.5rem)"),e.Q6J("formGroup",i.commutatorFilterForm),e.xp6(4),e.Q6J("formGroup",i.commutatorFilterForm),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState),e.xp6(1),e.Q6J("appPreventInput","LOADING"===t.loadingState)("isAcpConnected",!0)("isHouseOnly",!0)}}function uD(n,o){1&n&&(e.TgZ(0,"div",36),e._UZ(1,"p-progressSpinner",37),e.qZA())}function dD(n,o){if(1&n&&e._UZ(0,"span",49),2&n){const t=e.oxw().commutator;e.Q6J("pTooltip",t.errorMessage)}}const pD=function(n,o){return{"text-bluegray-300":n,"text-primary-400":o}};function hD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",40),e._UZ(3,"span",41),e.TgZ(4,"span",42),e._uU(5),e.qZA(),e.TgZ(6,"span",43),e._uU(7),e.qZA()(),e.TgZ(8,"div",44)(9,"span"),e._uU(10),e.qZA(),e.TgZ(11,"span",45),e._uU(12),e.qZA()()(),e.YNc(13,dD,1,1,"span",46),e.TgZ(14,"p-button",47),e.NdJ("onClick",function(){const p=e.CHM(t).commutator,w=e.oxw();return e.KtG(w.openCommutatorViewDialog(p))}),e.qZA(),e.TgZ(15,"p-button",48),e.NdJ("onClick",function(s){const w=e.CHM(t).commutator,J=e.oxw(),_e=e.MAs(9);return J.openContextMenu(w),e.KtG(_e.toggle(s))}),e.qZA()()}if(2&n){const t=o.commutator;e.xp6(3),e.Q6J("ngClass",t.isOnline?"bg-green-400":"bg-red-400"),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",e.WLB(7,pD,1===t.type,2===t.type)),e.xp6(1),e.Oqu(1===t.type?"L2":"L3"),e.xp6(3),e.Oqu(t.ip),e.xp6(2),e.Oqu(t.model),e.xp6(1),e.Q6J("ngIf",t.isHasError)}}function gD(n,o){if(1&n&&e._UZ(0,"app-commutator-view",51),2&n){const t=e.oxw(2);e.Q6J("commutator",t.selectedToViewCommutator)}}function fD(n,o){1&n&&(e.TgZ(0,"div")(1,"div",32),e._UZ(2,"span",33),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()())}function mD(n,o){1&n&&(e.TgZ(0,"div")(1,"div",34),e._UZ(2,"span",35),e.TgZ(3,"span"),e._uU(4,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0435 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()()())}function _D(n,o){1&n&&(e.TgZ(0,"div")(1,"div",36),e._UZ(2,"p-progressSpinner",52),e.qZA()())}function CD(n,o){if(1&n&&(e.ynx(0,16),e.YNc(1,gD,1,1,"app-commutator-view",50),e.YNc(2,fD,5,0,"div",17),e.YNc(3,mD,5,0,"div",17),e.YNc(4,_D,3,0,"div",17),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.commutatorInfoLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function vD(n,o){1&n&&(e.TgZ(0,"span",53),e._uU(1,"\u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d"),e.qZA())}function bD(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function yD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",71),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.editCommutator())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.commutatorFormErrors.length>0||!t.commutatorForm.dirty)("loading",t.beginCommutatorsEditing)}}function xD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",72),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.createCommutator())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.commutatorForm.valid)("loading",t.beginCommutatorsEditing)}}const ID=function(){return{label:"L2",value:1}},TD=function(){return{label:"L3",value:2}},AD=function(n,o){return[n,o]},cA=function(){return[]};function wD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",21)(2,"div",55),e._UZ(3,"p-selectButton",56),e.TgZ(4,"div",57)(5,"label"),e._uU(6,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"p-autoComplete",58),e.NdJ("completeMethod",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.commutatorModelQueryChange.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorForm.controls.model.setValue(null))}),e.ALo(8,"async"),e.qZA()()(),e.TgZ(9,"div",55)(10,"div",57)(11,"label"),e._uU(12,"\u0418\u043c\u044f"),e.qZA(),e._UZ(13,"input",59),e.qZA(),e.TgZ(14,"div",57)(15,"label"),e._uU(16,"IP-\u0430\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(17,"app-ip-input",60),e.qZA()(),e.TgZ(18,"div",55)(19,"div",57)(20,"label"),e._uU(21,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(22,"app-address-input-alt",61),e.qZA(),e.TgZ(23,"div",57)(24,"label"),e._uU(25,"\u041f\u043e\u0434\u044a\u0435\u0437\u0434"),e.qZA(),e._UZ(26,"p-inputNumber",62),e.qZA(),e.TgZ(27,"div",57)(28,"label"),e._uU(29,"\u042d\u0442\u0430\u0436"),e.qZA(),e._UZ(30,"p-inputNumber",63),e.qZA()(),e.TgZ(31,"div",55)(32,"div",57)(33,"label"),e._uU(34,"Uplink"),e.qZA(),e.TgZ(35,"p-autoComplete",64),e.NdJ("completeMethod",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.commutatorUplinkQuerySearch.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.commutatorForm.controls.uplink.setValue(null))}),e.ALo(36,"async"),e.qZA()(),e.TgZ(37,"div",57)(38,"label"),e._uU(39,"Nagios"),e.qZA(),e._UZ(40,"p-inputSwitch",65),e.qZA(),e.TgZ(41,"div",57)(42,"label"),e._uU(43,"SMS"),e.qZA(),e._UZ(44,"p-inputSwitch",66),e.qZA()()(),e.TgZ(45,"div",67),e.YNc(46,bD,2,1,"span",68),e.qZA(),e.YNc(47,yD,1,2,"p-button",69),e.YNc(48,xD,1,2,"ng-template",null,70,e.W1O),e.qZA()}if(2&n){const t=e.MAs(49),i=e.oxw();let s,p;e.xp6(1),e.Q6J("formGroup",i.commutatorForm),e.xp6(2),e.Q6J("options",e.WLB(26,AD,e.DdM(24,ID),e.DdM(25,TD))),e.xp6(4),e.Q6J("showClear",!0)("suggestions",null!==(s=e.lcZ(8,20,i.commutatorModels$))&&void 0!==s?s:e.DdM(29,cA)),e.xp6(6),e.Q6J("pKeyFilter",i.commutatorNameKeyFilter)("size",35),e.xp6(9),e.Q6J("isAcpConnected",!0)("isHouseOnly",!0),e.xp6(4),e.Q6J("max",99)("min",0)("size",2),e.xp6(4),e.Q6J("max",99)("min",0)("size",2),e.xp6(5),e.Q6J("showClear",!0)("size",40)("suggestions",null!==(p=e.lcZ(36,22,i.commutatorUplinks$))&&void 0!==p?p:e.DdM(30,cA)),e.xp6(11),e.Q6J("ngForOf",i.commutatorFormErrors),e.xp6(1),e.Q6J("ngIf",i.editableSwitch)("ngIfElse",t)}}let uA=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.personality=s,this.confirm=p,this.AccessFlag=Ii.j,this.pageNum=0,this.commutatorFilterForm=new f.cw({name:new f.NI(null),ip:new f.NI(null),address:new f.NI(null)}),this.changeFilterForm$=this.commutatorFilterForm.valueChanges.pipe((0,Bs.O)(this.commutatorFilterForm.value),(0,Ls.b)(1e3),(0,ei.b)(()=>this.pageNum=0)),this.changeCommutatorPage=new ol.X(0),this.page$=this.changeCommutatorPage.pipe((0,ei.b)(w=>this.pageNum=w)),this.loadingState=he.Gu.LOADING,this.changePageOrFilters$=(0,Bo.a)([this.page$,this.changeFilterForm$]).pipe((0,mt.U)(([w,J])=>{var _e,$e;return[this.pageNum,J.name,J.ip,null===($e=null===(_e=J.address)||void 0===_e?void 0:_e.acpHouseBind)||void 0===$e?void 0:$e.buildingId]})),this.commutatorPage$=_.aN.ofPageAlt(this.changePageOrFilters$,this.api.getCommutators.bind(this.api),"id",this.rt.acpBaseCommutatorCreated(),this.rt.acpBaseCommutatorUpdated(),this.rt.acpBaseCommutatorDeleted()),this.commutatorDialogVisible=!1,this.commutatorModelQueryChange=new Rr.x,this.commutatorModels$=this.commutatorModelQueryChange.pipe((0,Ls.b)(1e3),(0,R.w)(w=>this.api.getCommutatorModels(w)),(0,cn.d)(1)),this.commutatorNameKeyFilter=/^[^\u0410-\u044f ]+$/,this.commutatorUplinkQuerySearch=new Rr.x,this.commutatorUplinks$=this.commutatorUplinkQuerySearch.pipe((0,Ls.b)(1e3),(0,R.w)(w=>this.api.searchCommutators(w)),(0,mt.U)(w=>w.filter(J=>{var _e;return J.value!==(null===(_e=this.editableSwitch)||void 0===_e?void 0:_e.id)})),(0,cn.d)(1)),this.beginCommutatorsEditing=!1,this.contextMenuItems=[],this.commutatorViewDialogVisible=!1,this.commutatorInfoLoadingState=he.Gu.LOADING,this.subscriptions=new _.xf,this.commutatorNameValidator=w=>(0,Tn.of)(w.value).pipe((0,tn.g)(700),(0,R.w)(()=>this.api.checkCommutatorNameExist(w.value)),(0,mt.U)(J=>J?{nameAlreadyExists:!0}:null)),this.commutatorIpValidator=w=>(0,Tn.of)(w.value).pipe((0,tn.g)(700),(0,R.w)(()=>this.api.checkCommutatorIpExist(w.value)),(0,mt.U)(J=>J?{ipAlreadyExists:!0}:null)),this.commutatorForm=new f.cw({type:new f.NI(1,[f.kI.required]),model:new f.NI(null,[f.kI.required]),name:new f.NI(null,[f.kI.required],[this.commutatorNameValidator]),ipaddr:new f.NI(null,[f.kI.required],[this.commutatorIpValidator]),address:new f.NI(null,[f.kI.required]),entrance:new f.NI(0,[f.kI.required]),floor:new f.NI(0,[f.kI.required]),uplink:new f.NI(null,[f.kI.required]),nagios:new f.NI(!1),sms:new f.NI(!1)})}get commutatorFormErrors(){return Object.entries(this.commutatorForm.controls).flatMap(([t,i])=>i.dirty?null===i.errors?[]:Object.entries(i.errors).map(([s,p])=>{switch(t){case"model":if("required"===s)return"\u041c\u043e\u0434\u0435\u043b\u044c \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430";break;case"name":if("required"===s)return"\u0418\u043c\u044f \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e";if("nameAlreadyExists"===s)return"\u0418\u043c\u044f \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case"ipaddr":if("required"===s)return"IP-\u0430\u0434\u0440\u0435\u0441 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d";if("ipAlreadyExists"===s)return"IP-\u0430\u0434\u0440\u0435\u0441 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case"address":if("required"===s)return"\u0410\u0434\u0440\u0435\u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d";break;case"uplink":if("required"===s)return"Uplink \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d"}return t+": \u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}):[])}get commutatorFormValue(){var t;const{type:i,model:s,name:p,ipaddr:w,address:J,entrance:_e,floor:$e,uplink:Xe,nagios:Xt,sms:jt}=this.commutatorForm.value;return{swtype:i,swmodelId:null==s?void 0:s.id,name:p,ipaddr:w,buildId:null===(t=null==J?void 0:J.acpHouseBind)||void 0===t?void 0:t.buildingId,entrance:_e,storey:$e,phyUplinkId:null==Xe?void 0:Xe.value,enableMonitor:Xt?1:0,enableSms:jt?1:0}}openContextMenu(t){this.contextMenuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",disabled:!this.personality.isHasAccess(Ii.j.EDIT_SWITCH),command:()=>this.openEditCommutatorDialog(t.id)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",styleClass:"danger-menu-button",icon:"mdi-delete",disabled:!this.personality.isHasAccess(Ii.j.EDIT_SWITCH),command:()=>this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c "+t.name+" \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440?",accept:()=>this.deleteCommutator(t.id)})},{label:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:"mdi-sync",command:()=>this.commutatorRemoteUpdate(t.id)}]}trackByCommutator(t,i){return i.id+i.ip+i.name+i.model+i.isOnline}ngOnInit(){this.subscriptions.addSubscription("updCom",this.rt.acpCommutatorUpdated().subscribe(t=>{var i;t.id===(null===(i=this.selectedToViewCommutator)||void 0===i?void 0:i.id)&&(this.selectedToViewCommutator=t)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}openCreateCommutatorDialog(){this.commutatorDialogVisible=!0,this.editableSwitch=void 0,this.commutatorForm=new f.cw({type:new f.NI(1,[f.kI.required]),model:new f.NI(null,[f.kI.required]),name:new f.NI(null,[f.kI.required],[this.commutatorNameValidator]),ipaddr:new f.NI(null,[f.kI.required],[this.commutatorIpValidator]),address:new f.NI(null,[f.kI.required]),entrance:new f.NI(0,[f.kI.required]),floor:new f.NI(0,[f.kI.required]),uplink:new f.NI(null,[f.kI.required]),nagios:new f.NI(!1),sms:new f.NI(!1)})}openEditCommutatorDialog(t){this.api.getCommutatorEditingPreset(t).subscribe(i=>{this.commutatorForm=new f.cw({type:new f.NI(i.targetCommutator.swtype,[f.kI.required]),model:new f.NI(i.model,[f.kI.required]),name:new f.NI(i.targetCommutator.name,[f.kI.required],[this.commutatorNameValidator]),ipaddr:new f.NI(i.targetCommutator.ipaddr,[f.kI.required],[this.commutatorIpValidator]),address:new f.NI(i.address,[f.kI.required]),entrance:new f.NI(i.targetCommutator.entrance,[f.kI.required]),floor:new f.NI(i.targetCommutator.storey,[f.kI.required]),uplink:new f.NI(i.uplinkCommutator,[f.kI.required]),nagios:new f.NI(1===i.targetCommutator.enableMonitor),sms:new f.NI(1===i.targetCommutator.enableSms)}),this.commutatorDialogVisible=!0,this.editableSwitch=i.targetCommutator})}editCommutator(){void 0!==this.editableSwitch&&(this.beginCommutatorsEditing=!0,this.commutatorForm.disable({emitEvent:!1}),this.api.editCommutator(this.editableSwitch.id,this.commutatorFormValue).subscribe({next:()=>{this.commutatorDialogVisible=!1,this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})},error:()=>{this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})}}))}createCommutator(){this.beginCommutatorsEditing=!0,this.commutatorForm.disable({emitEvent:!1}),this.api.createCommutator(this.commutatorFormValue).subscribe({next:()=>{this.commutatorDialogVisible=!1,this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})},error:()=>{this.beginCommutatorsEditing=!1,this.commutatorForm.enable({emitEvent:!1})}})}deleteCommutator(t){this.api.deleteCommutator(t).subscribe()}commutatorRemoteUpdate(t){return this.api.commutatorRemoteUpdate(t).subscribe()}openCommutatorViewDialog(t){this.selectedToViewCommutator=void 0,this.commutatorInfoLoadingState=he.Gu.LOADING,this.commutatorViewDialogVisible=!0,this.api.getCommutator(t.id).subscribe({next:i=>{var s;null!==(s=null==i?void 0:i.commutator)&&void 0!==s&&s.additionalInfo?(this.commutatorInfoLoadingState=he.Gu.READY,this.selectedToViewCommutator=i.commutator):this.commutatorInfoLoadingState=he.Gu.EMPTY},error:()=>{this.commutatorInfoLoadingState=he.Gu.ERROR}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(Q.F),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:14,vars:15,consts:[["class","flex gap-3",4,"ngIf","ngIfElse"],["loading",""],["commutatorItem",""],[3,"visible","dismissableMask","header","resizable","visibleChange"],["pTemplate","content"],["appendTo","body",3,"model","popup"],["contextMenu",""],["noAddress",""],[3,"visible","dismissableMask","header","modal","resizable","visibleChange"],[1,"flex","gap-3"],[1,"flex","flex-column","flex-grow-1","panel"],[1,"flex","align-items-center","gap-2","border-bluegray-100","border-bottom-1","text-bluegray-400","text-lg","font-bold","px-3","py-2"],[1,"mdi-dns"],[1,"flex","flex-grow-1","align-items-center","gap-2"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-text p-button-success",3,"disabled","onClick"],["class","text-sm text-primary-400",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","flex-column","p-3","gap-3","align-items-end","h-min","panel","sticky",3,"formGroup"],[1,"text-bluegray-400","text-lg","font-bold","flex","align-items-center","align-self-start"],[1,"mdi-filter_alt"],[1,"flex","flex-column","gap-3",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u0418\u043c\u044f","type","text",3,"appPreventInput"],["formControlName","ip","pInputText","","placeholder","IP-\u0430\u0434\u0440\u0435\u0441","type","text",3,"appPreventInput"],["formControlName","address",3,"appPreventInput","isAcpConnected","isHouseOnly"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"onClick"],[1,"text-sm","text-primary-400"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1"],[3,"ngTemplateOutletContext","ngTemplateOutlet",4,"ngFor","ngForOf","ngForTrackBy"],[3,"first","rows","totalRecords","onPageChange"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"flex","flex-column","flex-grow-1","text-red-400","font-bold","text-lg","align-items-center","justify-content-center"],[1,"mds-error"],[1,"flex","flex-column","flex-grow-1","text-bluegray-400","font-bold","text-lg","align-items-center","justify-content-center"],[1,"mds-dns"],[1,"flex","flex-grow-1","align-items-center","justify-content-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"flex","gap-2","split-line","p-3","align-items-center"],[1,"flex","flex-column","gap-2","flex-grow-1"],[1,"flex","align-items-center","gap-2"],[1,"border-circle","w-1rem","h-1rem",3,"ngClass"],[1,"font-bold","text-sm"],[1,"text-xs","font-bold",3,"ngClass"],[1,"flex","gap-2"],[1,"text-bluegray-400"],["class","mdi-warning text-red-400",3,"pTooltip",4,"ngIf"],["icon","mdi-visibility","styleClass","p-button-text p-button-secondary p-button-icon",3,"onClick"],["icon","mdi-more_vert","styleClass","p-button-text p-button-secondary p-button-icon",3,"onClick"],[1,"mdi-warning","text-red-400",3,"pTooltip"],[3,"commutator",4,"ngSwitchCase"],[3,"commutator"],["strokeWidth","2",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"],[1,"text-bluegray-300"],[1,"flex","flex-column"],[1,"flex","gap-4","align-items-end"],["formControlName","type",3,"options"],[1,"input-label-wrapper"],["appendTo","body","field","name","formControlName","model","placeholder","Huawei",3,"showClear","suggestions","completeMethod","onClear"],["formControlName","name","pInputText","","placeholder","KM44.DES16.3.2","type","text",3,"pKeyFilter","size"],["formControlName","ipaddr"],["formControlName","address",3,"isAcpConnected","isHouseOnly"],["formControlName","entrance",3,"max","min","size"],["formControlName","floor",3,"max","min","size"],["appendTo","body","field","label","formControlName","uplink","placeholder","\u0418\u043c\u044f, IP-\u0430\u0434\u0440\u0435\u0441, \u0410\u0434\u0440\u0435\u0441",3,"showClear","size","suggestions","completeMethod","onClear"],["formControlName","nagios"],["formControlName","sms"],[1,"flex","flex-column","gap-1","py-2","text-xs","font-bold","text-red-400"],[4,"ngFor","ngForOf"],["class","align-self-end","icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick",4,"ngIf","ngIfElse"],["createButton",""],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"align-self-end",3,"disabled","loading","onClick"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",1,"align-self-end",3,"disabled","loading","onClick"]],template:function(t,i){if(1&t&&(e.YNc(0,cD,23,16,"div",0),e.ALo(1,"async"),e.YNc(2,uD,2,0,"ng-template",null,1,e.W1O),e.YNc(4,hD,16,10,"ng-template",null,2,e.W1O),e.TgZ(6,"p-dialog",3),e.NdJ("visibleChange",function(p){return i.commutatorViewDialogVisible=p}),e.YNc(7,CD,5,5,"ng-template",4),e.qZA(),e._UZ(8,"p-menu",5,6),e.YNc(10,vD,2,0,"ng-template",null,7,e.W1O),e.TgZ(12,"p-dialog",8),e.NdJ("visibleChange",function(p){return i.commutatorDialogVisible=p}),e.YNc(13,wD,50,31,"ng-template",4),e.qZA()),2&t){const s=e.MAs(3);let p;e.Q6J("ngIf",e.lcZ(1,13,i.commutatorPage$))("ngIfElse",s),e.xp6(6),e.Q6J("visible",i.commutatorViewDialogVisible)("dismissableMask",!0)("header","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440 "+(null!==(p=null==i.selectedToViewCommutator?null:i.selectedToViewCommutator.name)&&void 0!==p?p:"\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f"))("resizable",!1),e.xp6(2),e.Q6J("model",i.contextMenuItems)("popup",!0),e.xp6(4),e.Q6J("visible",i.commutatorDialogVisible)("dismissableMask",!0)("header",i.editableSwitch?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430")("modal",!0)("resizable",!1)}},styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[u.S9]}}),n})();var dA=b(6847),Ah=b(7514),qx=b(9138),ED=b(4383),xl=b(7010),J_=b(657);let $x=(()=>{class n{transform(t,i,s,p){return _.cQ.declineOfNumber(t,[i,s,p])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"decline",type:n,pure:!0}),n})();const SD=function(n){return{binding:n}};function kD(n,o){if(1&n&&e.GkF(0,29),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(3);e.Q6J("ngTemplateOutletContext",e.VKq(2,SD,t))("ngTemplateOutlet",i)}}function DD(n,o){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,kD,1,4,"ng-container",28),e.qZA()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByDhcpBinding)}}function MD(n,o){1&n&&(e.TgZ(0,"div",30),e._UZ(1,"p-progressSpinner",31),e.qZA())}function OD(n,o){1&n&&(e.TgZ(0,"div",32),e._UZ(1,"span",33),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()())}function PD(n,o){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"span",35),e.TgZ(2,"span"),e._uU(3,"\u0421\u0435\u0441\u0441\u0438\u0438\u0306 \u0430\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043e"),e.qZA()())}function LD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",36),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.changeLastBindingsPage.next(s.page))}),e.qZA()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.Q6J("first",15*i.pageNum)("rows",15)("totalRecords",t.totalElements)}}function RD(n,o){1&n&&e._UZ(0,"p-inputNumber",37),2&n&&e.Q6J("min",1)("max",99)}const ND=function(){return[]};function FD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5),e._UZ(3,"span",6),e.TgZ(4,"span"),e._uU(5,"\u0421\u0435\u0441\u0441\u0438\u0438 \u0430\u0431\u043e\u043d. \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),e.qZA()(),e.ynx(6,7),e.YNc(7,DD,2,3,"div",8),e.YNc(8,MD,2,0,"div",9),e.YNc(9,OD,4,0,"div",10),e.YNc(10,PD,4,0,"div",11),e.BQk(),e.YNc(11,LD,1,3,"p-paginator",12),e.qZA(),e.TgZ(12,"div",13)(13,"span",14),e._UZ(14,"span",15),e._uU(15," \u0424\u0438\u043b\u044c\u0442\u0440\u044b"),e.qZA(),e.TgZ(16,"div",16),e._UZ(17,"input",17)(18,"input",18)(19,"app-acp-house-input",19)(20,"input",20)(21,"input",21)(22,"p-dropdown",22),e.TgZ(23,"p-autoComplete",23),e.NdJ("completeMethod",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.commutatorUplinkQuerySearch.next(s.query))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.lastBindingsFilterForm.controls.commutator.setValue(null))}),e.ALo(24,"async"),e.qZA(),e.YNc(25,RD,1,2,"p-inputNumber",24),e.qZA(),e.TgZ(26,"p-button",25),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.lastBindingsFilterForm.reset({state:1}))}),e.qZA(),e.TgZ(27,"div",26),e._uU(28),e.ALo(29,"decline"),e.qZA()()()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.xp6(6),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngIf","READY"===t.loadingState),e.xp6(1),e.Udp("top","calc(var(--top-panel-height) + 1.5rem)"),e.Q6J("formGroup",i.lastBindingsFilterForm),e.xp6(5),e.Q6J("size",14),e.xp6(1),e.Q6J("size",8),e.xp6(2),e.Q6J("pKeyFilter",i.ipKeyFilter),e.xp6(1),e.Q6J("size",4),e.xp6(1),e.Q6J("options",i.statusOptions),e.xp6(1),e.Q6J("showClear",!0)("size",20)("forceSelection",!1)("suggestions",null!==(s=e.lcZ(24,21,i.commutatorUplinks$))&&void 0!==s?s:e.DdM(28,ND)),e.xp6(2),e.Q6J("ngIf",i.lastBindingsFilterForm.value.commutator),e.xp6(3),e.AsE(" \u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",t.totalElements," ",e.gM2(29,23,t.totalElements,"\u0441\u0435\u0441\u0441\u0438\u044f","\u0441\u0435\u0441\u0441\u0438\u0438","\u0441\u0435\u0441\u0441\u0438\u0439")," ")}}function BD(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().binding;e.xp6(1),e.Oqu(t.authName)}}function ZD(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().binding;e.xp6(1),e.hij(" ",t.dhcpClient," ")}}function UD(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().binding;e.xp6(1),e.hij(" ",t.dhcpHostname," ")}}function HD(n,o){1&n&&(e.TgZ(0,"span",48),e._uU(1,"\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}function VD(n,o){1&n&&(e.TgZ(0,"span",49),e._uU(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"),e.qZA())}const zD=function(n){return["/clients","billing","user",n]},JD=function(n){return{"text-primary-400":n}};function QD(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"app-binding-connection-location-view",40),e.YNc(3,BD,2,1,"span",41),e.TgZ(4,"div",42),e.YNc(5,ZD,2,1,"ng-container",41),e.YNc(6,UD,2,1,"ng-container",41),e.qZA(),e.TgZ(7,"span",43)(8,"span"),e._uU(9),e.qZA(),e._UZ(10,"app-time-elapsed",44),e.qZA()(),e.TgZ(11,"div",45)(12,"span"),e.ynx(13,7),e.YNc(14,HD,2,0,"span",46),e.YNc(15,VD,2,0,"span",47),e.BQk(),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()()()),2&n){const t=o.binding;e.Q6J("routerLink",e.VKq(16,zD,t.authName)),e.xp6(2),e.Q6J("binding",t),e.xp6(1),e.Q6J("ngIf",t.authName),e.xp6(1),e.Udp("max-width","15rem"),e.xp6(1),e.Q6J("ngIf",t.dhcpClient),e.xp6(1),e.Q6J("ngIf",t.dhcpHostname),e.xp6(1),e.Q6J("ngClass",e.VKq(18,JD,"ONLINE"===t.onlineStatus)),e.xp6(2),e.Oqu("ONLINE"===t.onlineStatus?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438"),e.xp6(1),e.Q6J("startTime",t.leaseStart),e.xp6(3),e.Q6J("ngSwitch",t.isAuth),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.AsE("",t.streetName," ",t.houseNum,""),e.xp6(2),e.Oqu(t.ipaddr)}}function GD(n,o){1&n&&(e.TgZ(0,"div",50),e._UZ(1,"p-progressSpinner",51),e.qZA())}let WD=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.confirm=s,this.pageNum=0,this.isLoadingLastBindings=!0,this.openAuthDialog=new Rr.x,this.changeLastBindingsPage=new ol.X(0),this.page$=this.changeLastBindingsPage.pipe((0,ei.b)(p=>this.pageNum=p)),this.changeLastBindingsPage$=this.changeLastBindingsPage.pipe((0,ei.b)(()=>this.isLoadingLastBindings=!0),(0,cn.d)(1)),this.lastBindingsFilterForm=new f.cw({state:new f.NI(1),macaddr:new f.NI(null),login:new f.NI(null),ip:new f.NI(null),vlan:new f.NI(null),buildingId:new f.NI(null),commutator:new f.NI(null,P.d.typeIsSwitchWithAddress),port:new f.NI(null)}),this.lastBindingFilterForm$=this.lastBindingsFilterForm.valueChanges.pipe((0,Bs.O)(this.lastBindingsFilterForm.value),(0,Ls.b)(1e3),(0,mt.U)(p=>(this.pageNum=0,{state:null!==p.state?p.state:void 0,macaddr:p.macaddr,login:p.login,ip:p.ip,vlan:p.vlan,buildingId:p.buildingId&&p.buildingId.buildingId,commutator:p.commutator&&p.commutator.commutator?p.commutator.commutator.id:void 0,port:p.port}))),this.lastBindingsFilter$=(0,Bo.a)([this.page$,this.lastBindingFilterForm$]).pipe((0,mt.U)(([p,w])=>[this.pageNum,w.state,w.macaddr,w.login,w.ip,w.vlan,w.buildingId,w.commutator,w.port])),this.ipKeyFilter=/[\d\.]+/,this.lastBindingsPage$=_.aN.ofPage(this.lastBindingsFilter$,this.api.getLastBindings.bind(this.api),"id",null,this.rt.acpDhcpBindingUpdated(),null),this.commutatorUplinkQuerySearch=new Rr.x,this.commutatorUplinks$=this.commutatorUplinkQuerySearch.pipe((0,Ls.b)(1e3),(0,R.w)(p=>this.api.searchCommutators(p)),(0,cn.d)(1)),this.statusOptions=[{label:"\u0412 \u0441\u0435\u0442\u0438",value:1},{label:"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438",value:0},{label:"\u041b\u044e\u0431\u044b\u0435",value:null}],this.numberMask=/^\d{1,4}$/}ngOnInit(){}trackByDhcpBinding(t,i){return i.macaddr+i.ipaddr+i.id+i.onlineStatus+i.authExpire+i.authName}authConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c "+t.macaddr+" \u043f\u043e\u0434 \u043b\u043e\u0433\u0438\u043d\u043e\u043c ?",accept:()=>{this.authCurrentLogin(t.macaddr)}})}authCurrentLogin(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:4,consts:[["class","flex gap-3",4,"ngIf","ngIfElse"],["sessionItem",""],["loading",""],[1,"flex","gap-3"],[1,"flex","flex-column","gap-3","flex-grow-1","panel","p-3"],[1,"flex","align-items-center","gap-2","text-bluegray-400","text-lg","font-bold"],[1,"mdi-router"],[3,"ngSwitch"],["class","flex flex-column flex-grow-1",4,"ngSwitchCase"],["class","flex justify-content-center align-items-center full-height",4,"ngSwitchCase"],["class","flex flex-column justify-content-center align-items-center full-height text-red-400 text-lg font-bold",4,"ngSwitchCase"],["class","flex flex-column justify-content-center align-items-center full-height text-bluegray-400 text-lg font-bold",4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange",4,"ngIf"],[1,"flex","flex-column","p-3","gap-3","align-items-end","h-min","panel","sticky",3,"formGroup"],[1,"text-bluegray-400","text-lg","font-bold","flex","align-items-center","align-self-start"],[1,"mdi-filter_alt"],[1,"flex","flex-column","gap-3"],["formControlName","macaddr","pInputText","","placeholder","MAC-\u0430\u0434\u0440\u0435\u0441","type","text",3,"size"],["formControlName","login","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text",3,"size"],["formControlName","buildingId"],["formControlName","ip","pInputText","","placeholder","IP-\u0430\u0434\u0440\u0435\u0441","type","text",3,"pKeyFilter"],["pInputText","","pKeyFilter","pint","formControlName","vlan","placeholder","VLAN",3,"size"],["formControlName","state","placeholder","\u0421\u0442\u0430\u0442\u0443\u0441",3,"options"],["appendTo","body","field","label","formControlName","commutator","placeholder","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440",3,"showClear","size","forceSelection","suggestions","completeMethod","onClear"],["formControlName","port","placeholder","\u041f\u043e\u0440\u0442 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430",3,"min","max",4,"ngIf"],["icon","mdi-filter_alt_off","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"onClick"],[1,"text-primary-400","font-bold"],[1,"flex","flex-column","flex-grow-1"],[3,"ngTemplateOutletContext","ngTemplateOutlet",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"flex","justify-content-center","align-items-center","full-height"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[1,"flex","flex-column","justify-content-center","align-items-center","full-height","text-red-400","text-lg","font-bold"],[1,"mds-error"],[1,"flex","flex-column","justify-content-center","align-items-center","full-height","text-bluegray-400","text-lg","font-bold"],[1,"mds-stream"],[3,"first","rows","totalRecords","onPageChange"],["formControlName","port","placeholder","\u041f\u043e\u0440\u0442 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430",3,"min","max"],[1,"flex","flex-column","p-3","gap-1","cursor-pointer","hover:bg-primary-50","hover:text-primary-400","split-line","transition-ease-in-out","transition-duration-150",3,"routerLink"],[1,"flex","gap-2","align-items-center"],[3,"binding"],[4,"ngIf"],["appTicker","",1,"white-space-nowrap","overflow-hidden"],[1,"flex","align-items-center","font-bold","text-sm","gap-1",3,"ngClass"],["type","short",3,"startTime"],[1,"flex","gap-2"],["class","text-bluegray-300 white-space-nowrap",4,"ngSwitchCase"],["class","text-green-400",4,"ngSwitchCase"],[1,"text-bluegray-300","white-space-nowrap"],[1,"text-green-400"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","py-5","panel"],["strokeWidth","1",1,"custom-spinner","custom-spinner-gray","custom-spinner-8xl"]],template:function(t,i){if(1&t&&(e.YNc(0,FD,30,29,"div",0),e.ALo(1,"async"),e.YNc(2,QD,20,20,"ng-template",null,1,e.W1O),e.YNc(4,GD,2,0,"ng-template",null,2,e.W1O)),2&t){const s=e.MAs(5);e.Q6J("ngIf",e.lcZ(1,2,i.lastBindingsPage$))("ngIfElse",s)}},dependencies:[dA.j,Ah.x,qx.N,ED.O,d.rH,f.Fj,f.JJ,f.JL,k.sg,f.sg,f.u,qe.Lt,k.O5,O.zx,k.tP,k.RF,k.n9,yi.o,k.mk,et.G,bl.D,xl.Rn,B.Qc,J_.Fr,k.Ov,$x],styles:["[_nghost-%COMP%]{flex-grow:1}"],data:{animation:[u.S9]}}),n})();var Xx=b(4707),eI=b(3064);function YD(n,o){1&n&&e.GkF(0)}function jD(n,o){if(1&n&&(e.ynx(0),e.YNc(1,YD,1,0,"ng-container",10),e.BQk()),2&n){e.oxw(2);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function KD(n,o){1&n&&e.GkF(0)}const tI=function(n){return{building:n}};function qD(n,o){if(1&n&&(e.ynx(0),e.YNc(1,KD,1,0,"ng-container",11),e.BQk()),2&n){const t=e.oxw().ngIf;e.oxw();const i=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,tI,t))}}function $D(n,o){if(1&n&&(e.ynx(0)(1,8),e.YNc(2,jD,2,1,"ng-container",9),e.YNc(3,qD,2,4,"ng-container",9),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.houseLoadingState),e.xp6(1),e.Q6J("ngSwitchCase",t.LoadingState.LOADING),e.xp6(1),e.Q6J("ngSwitchCase",t.LoadingState.READY)}}function XD(n,o){1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"p-skeleton",14)(3,"p-skeleton",15),e.qZA(),e.TgZ(4,"div",16),e._UZ(5,"p-skeleton",17)(6,"p-skeleton",17)(7,"p-skeleton",18),e.qZA()())}const pA=function(n){return["/topology","house",n]};function eM(n,o){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&n){const t=e.oxw().building;e.Q6J("routerLink",e.VKq(2,pA,null==t.uplink?null:t.uplink.buildingId)),e.xp6(1),e.hij(" Uplink: ",null==t.uplink?null:t.uplink.fullName," ")}}function tM(n,o){1&n&&e.GkF(0)}function nM(n,o){1&n&&e.GkF(0)}function iM(n,o){1&n&&e.GkF(0)}function oM(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"div",19)(2,"span",20),e._uU(3),e.qZA(),e.YNc(4,eM,2,4,"span",21),e.qZA(),e.TgZ(5,"div",22)(6,"div",23),e.YNc(7,tM,1,0,"ng-container",11),e.YNc(8,nM,1,0,"ng-container",11),e._UZ(9,"app-commutators-table",24),e.ALo(10,"async"),e.YNc(11,iM,1,0,"ng-container",10),e.qZA(),e._UZ(12,"app-bindings-table",25),e.ALo(13,"async"),e.qZA()()),2&n){const t=o.building,i=e.oxw(),s=e.MAs(9),p=e.MAs(11),w=e.MAs(13);e.xp6(3),e.hij(" ",t.fullName," "),e.xp6(1),e.Q6J("ngIf",t.uplink),e.xp6(3),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(13,tI,t)),e.xp6(1),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(15,tI,t)),e.xp6(1),e.Q6J("buildId",e.lcZ(10,9,i.buildId$)),e.xp6(2),e.Q6J("ngTemplateOutlet",w),e.xp6(1),e.Q6J("filterId",e.lcZ(13,11,i.buildId$))}}function sM(n,o){1&n&&(e.ynx(0),e._uU(1," DHCP "),e.BQk())}function rM(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.ynx(6,8),e.YNc(7,sM,2,0,"ng-container",9),e.BQk(),e.qZA()()),2&n){const t=o.network;e.xp6(2),e.Oqu(t.network),e.xp6(2),e.Oqu(t.vid),e.xp6(2),e.Q6J("ngSwitch",t.nettype),e.xp6(1),e.Q6J("ngSwitchCase",1)}}function aM(n,o){if(1&n&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,pA,t.buildingId)),e.xp6(1),e.hij(" ",t.fullName," ")}}function lM(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._uU(2," Downlinks "),e.qZA(),e.TgZ(3,"div",30),e.YNc(4,aM,3,4,"div",31),e.qZA()()),2&n){const t=e.oxw().ngIf;e.xp6(4),e.Q6J("ngForOf",t)}}function cM(n,o){if(1&n&&(e.ynx(0),e.YNc(1,lM,5,1,"div",27),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function uM(n,o){1&n&&e.YNc(0,cM,2,1,"ng-container",0),2&n&&e.Q6J("ngIf",o.building.downlinks)}function dM(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0421\u0435\u0442\u044c"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Vlan"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0422\u0438\u043f"),e.qZA()())}function pM(n,o){1&n&&e.GkF(0)}const hM=function(n){return{network:n}};function gM(n,o){if(1&n&&e.YNc(0,pM,1,0,"ng-container",11),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(7);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,hM,t))}}function fM(n,o){if(1&n&&(e.TgZ(0,"div",34)(1,"p-table",35),e.YNc(2,dM,7,0,"ng-template",36),e.YNc(3,gM,1,4,"ng-template",37),e.qZA()()),2&n){const t=o.building;e.xp6(1),e.Q6J("value",t.networks)}}function mM(n,o){1&n&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3,"\u0418\u043c\u044f"),e.qZA()())}function _M(n,o){1&n&&e.GkF(0)}const CM=function(n){return{file:n}};function vM(n,o){if(1&n&&e.YNc(0,_M,1,0,"ng-container",11),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(15);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,CM,t))}}const bM=function(){return[]};function yM(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"p-table",35),e.ALo(2,"async"),e.YNc(3,mM,4,0,"ng-template",36),e.YNc(4,vM,1,4,"ng-template",37),e.qZA()()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("value",null!==(i=e.lcZ(2,1,t.files$))&&void 0!==i?i:e.DdM(3,bM))}}function xM(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",39),e.NdJ("click",function(){const p=e.CHM(t).file,w=e.oxw();return e.KtG(w.openFile(p))}),e.TgZ(1,"td",40),e._UZ(2,"app-thumbnail-preview",41),e.qZA(),e.TgZ(3,"td")(4,"div",42),e._uU(5),e.qZA()()()}if(2&n){const t=o.file;e.xp6(2),e.Q6J("data",t),e.xp6(3),e.hij(" ",t.name," ")}}let Uu=class{constructor(o,t,i){this.api=o,this.route=t,this.fileViewer=i,this.LoadingState=he.Gu,this.houseLoadingState=he.Gu.LOADING,this.streetNameSchemesTranslation=new Map([["\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u043a\u0430 \u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0430","\u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0430"],["\u0412\u0435\u043b\u0438\u043a\u043e\u0439 \u041f\u043e\u0431\u0435\u0434\u044b","\u0411\u0412\u041f"],["\u041a.\u041c\u0430\u0440\u043a\u0441\u0430","\u041a\u041c"],["\u041e\u043a\u0442\u044f\u0431\u0440\u044c\u0441\u043a\u043e\u0435","\u041e\u043a\u0442\u044f\u0431\u0440\u044c\u0441\u043a\u043e\u0435 \u0448\u043e\u0441\u0441\u0435"]]),this.buildIdParam$=new Xx.t(1),this.buildId$=this.buildIdParam$.pipe((0,mt.U)(s=>Number.parseInt(s))),this.building$=this.buildId$.pipe((0,ei.b)(()=>this.houseLoadingState=he.Gu.LOADING),(0,R.w)(s=>this.api.getBuilding(s)),(0,ei.b)({next:()=>this.houseLoadingState=he.Gu.READY,error:()=>this.houseLoadingState=he.Gu.ERROR}),(0,cn.d)(1)),this.files$=this.building$.pipe((0,mt.U)(s=>{var p;let w=s.streetName.match(/([\u0410-\u044f\d \.]+), /),J=s.houseNum.match(/(\d+)/);if(!(w&&w[1]&&J&&J[1]))return null;let _e=w[1],$e=J[1];return this.streetNameSchemesTranslation.has(_e)&&(_e=null!==(p=this.streetNameSchemesTranslation.get(_e))&&void 0!==p?p:""),console.log(_e+" "+$e),_e+" "+$e}),(0,R.w)(s=>this.api.getFilesSuggestions(s)))}ngOnInit(){}openFile(o){switch(o.type){case"PHOTO":case"VIDEO":case"AUDIO":this.fileViewer.showMedia({fileSystemItemId:o.id,name:o.name,type:o.type});break;case"DOCUMENT":case"FILE":window.open("/api/private/file/"+o.id,"_blank")}}};Uu.\u0275fac=function(o){return new(o||Uu)(e.Y36(L.s),e.Y36(d.gz),e.Y36(eI.E))},Uu.\u0275cmp=e.Xpm({type:Uu,selectors:[["ng-component"]],decls:16,vars:3,consts:[[4,"ngIf"],["loadingTemplate",""],["houseTemplate",""],["networkItemTemplate",""],["downlinksListTemplate",""],["networksTableTemplate",""],["filesTableTemplate",""],["fileItemTemplate",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","flex-column","flex-grow-1","h-fit","bg-white","border-round","shadow-1"],[1,"flex","flex-column","p-3","gap-1"],["width","12rem","height","1.7rem"],["width","8rem","height","1.1rem"],[1,"flex","gap-2","p-4","pt-1"],["width","200px","height","150px"],["width","auto","height","150px",1,"flex-grow-1"],[1,"flex","flex-column","p-3"],[1,"text-bluegray-500","text-xl","font-semibold"],["class","text-primary font-bold cursor-pointer hover:text-primary-700",3,"routerLink",4,"ngIf"],[1,"flex","flex-column","gap-2","p-4","pt-1"],[1,"flex","gap-2"],[1,"flex-grow-1",3,"buildId"],["filterMode","building",3,"filterId"],[1,"text-primary","font-bold","cursor-pointer","hover:text-primary-700",3,"routerLink"],["class","flex flex-column border-1 border-bluegray-100 border-round overflow-hidden",4,"ngIf"],[1,"flex","flex-column","border-1","border-bluegray-100","border-round","overflow-hidden"],[1,"text-bluegray-500","font-bold","p-2","bg-gray-50","border-bottom-1","border-bluegray-100"],[1,"flex","flex-column","px-3","py-2"],["class","flex align-items-center gap-2",4,"ngFor","ngForOf"],[1,"flex","align-items-center","gap-2"],[1,"text-primary","cursor-pointer","hover:text-primary-700",3,"routerLink"],[1,"overflow-hidden","border-round","border-1","border-bluegray-100"],["styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"overflow-hidden","border-round","border-1","border-bluegray-100","flex-grow-1"],[1,"cursor-pointer","hover:bg-bluegray-50",3,"click"],[1,"text-center"],[3,"data"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"]],template:function(o,t){1&o&&(e.YNc(0,$D,4,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,XD,8,0,"ng-template",null,1,e.W1O),e.YNc(4,oM,14,17,"ng-template",null,2,e.W1O),e.YNc(6,rM,8,4,"ng-template",null,3,e.W1O),e.YNc(8,uM,1,1,"ng-template",null,4,e.W1O),e.YNc(10,fM,4,1,"ng-template",null,5,e.W1O),e.YNc(12,yM,5,4,"ng-template",null,6,e.W1O),e.YNc(14,xM,6,2,"ng-template",null,7,e.W1O)),2&o&&e.Q6J("ngIf",e.lcZ(1,1,t.building$))},styles:["[_nghost-%COMP%]{display:flex;flex-grow:1}"]}),(0,Ua.gn)([(0,vl.Hw)("id")],Uu.prototype,"buildIdParam$",void 0),Uu=(0,Ua.gn)([(0,vl.kG)()],Uu);let IM=(()=>{class n{constructor(t){this.api=t,this.taskStatusSelector=new f.NI(he.hY.ACTIVE),this.taskStatusOptions=[{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:he.hY.ACTIVE},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:he.hY.CLOSE},{label:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",value:he.hY.PROCESSING}],this.taskClassSelector=new f.NI(null),this.taskClassOptions=[],this.taskStatus$=this.taskStatusSelector.valueChanges.pipe((0,Bs.O)(he.hY.ACTIVE)),this.taskClass$=this.taskClassSelector.valueChanges,this.changeTableType$=(0,Bo.a)([this.taskStatus$,this.taskClass$]).pipe((0,ei.b)(()=>this.tableOffset=0)),this.tabelColumns$=this.changeTableType$.pipe((0,R.w)(([i,s])=>this.api.getTaskRegistryTableHeaders(i,s)),(0,cn.d)(1)),this.tableOffset=0,this.tableLazyLoad$=new Rr.x,this.api.getWireframes().subscribe(i=>{this.taskClassOptions=i.map(s=>({label:s.name,value:s.wireframeId})),this.taskClassSelector.setValue(this.taskClassOptions[0].value)}),(0,Bo.a)([this.changeTableType$,this.tableLazyLoad$]).pipe((0,R.w)(([[i,s],p])=>this.api.getTaskRegistryTableContent(i,s,p))).subscribe(i=>this.tableContent=i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Aa=b(8952);function TM(n,o){if(1&n&&e._UZ(0,"p-columnFilter",10),2&n){const t=e.oxw().$implicit;e.Q6J("type",t.filterType)("field",t.field)}}function AM(n,o){if(1&n&&e._UZ(0,"p-sortIcon",11),2&n){const t=e.oxw().$implicit;e.Q6J("field",t.field)}}function wM(n,o){if(1&n&&(e.TgZ(0,"th",6)(1,"div",7)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,TM,1,2,"p-columnFilter",8),e.YNc(5,AM,1,1,"p-sortIcon",9),e.qZA()()),2&n){const t=o.$implicit;e.Q6J("pSortableColumn",t.isSort?t.field:""),e.xp6(3),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",t.filterType),e.xp6(1),e.Q6J("ngIf",t.isSort)}}function EM(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,wM,6,4,"th",5),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function SM(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==i[t.field]?null:i[t.field].value," ")}}function kM(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,null==i[t.field]?null:i[t.field].value,"dd-MM-yyyy HH:mm")," ")}}function DM(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==i[t.field]?null:i[t.field].value," ")}}function MM(n,o){if(1&n&&(e.TgZ(0,"td"),e.ynx(1,13),e.YNc(2,SM,2,1,"span",14),e.YNc(3,kM,3,4,"span",14),e.YNc(4,DM,2,1,"span",14),e.BQk(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2).$implicit,s=e.oxw(2);e.uIk("rowspan",null==i[t.field]?null:i[t.field].rowSpan),e.xp6(1),e.Q6J("ngSwitch",null==i[t.field]?null:i[t.field].type),e.xp6(1),e.Q6J("ngSwitchCase",s.CellType.STRING),e.xp6(1),e.Q6J("ngSwitchCase",s.CellType.DATE),e.xp6(1),e.Q6J("ngSwitchCase",s.CellType.LOGIN)}}function OM(n,o){if(1&n&&(e.ynx(0),e.YNc(1,MM,5,5,"td",12),e.BQk()),2&n){const t=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function PM(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"td",15),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",null==t.largeText?null:t.largeText.colSpan),e.xp6(1),e.hij(" ",null==t.largeText?null:t.largeText.value," ")}}function LM(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,OM,2,1,"ng-container",1),e.YNc(2,PM,3,2,"ng-container",1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.isNotLargeText(t)),e.xp6(1),e.Q6J("ngIf",!i.isNotLargeText(t))}}const RM=function(){return[]},NM=function(n){return{field:"created",order:n}},FM=function(n){return[n]},BM=function(){return[50,100,250]};function ZM(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-table",2),e.NdJ("firstChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.service.tableOffset=s)})("onLazyLoad",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.service.tableLazyLoad$.next(s))}),e.YNc(2,EM,2,1,"ng-template",3),e.YNc(3,LM,3,2,"ng-template",4),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();let i,s;e.xp6(1),e.Q6J("value",null!==(i=null==t.service.tableContent?null:t.service.tableContent.content)&&void 0!==i?i:e.DdM(9,RM))("paginator",!0)("totalRecords",null!==(s=null==t.service.tableContent?null:t.service.tableContent.totalElements)&&void 0!==s?s:0)("showCurrentPageReport",!0)("multiSortMeta",e.VKq(12,FM,e.VKq(10,NM,-1)))("rowsPerPageOptions",e.DdM(14,BM))("rows",100)("first",t.service.tableOffset)("lazy",!0)}}const HM=[{path:"",component:$n.h,children:[{path:"",component:jl},{path:"tasks/registry",component:(()=>{class n{constructor(t){this.service=t,this.CellType=he.k5}ngOnInit(){}isNotLargeText(t){return!Object.keys(t).includes("largeText")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(IM))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:4,vars:7,consts:[[3,"formControl","options"],[4,"ngIf"],["styleClass","p-datatable-sm","paginatorDropdownAppendTo","body","currentPageReportTemplate","\u041d\u0430\u0439\u0434\u0435\u043d\u043e {totalRecords} \u0437\u0430\u0434\u0430\u0447","sortMode","multiple",3,"value","paginator","totalRecords","showCurrentPageReport","multiSortMeta","rowsPerPageOptions","rows","first","lazy","firstChange","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[1,"flex","align-items-center"],["display","menu",3,"type","field",4,"ngIf"],[3,"field",4,"ngIf"],["display","menu",3,"type","field"],[3,"field"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"white-space-nowrap","text-overflow-ellipsis","overflow-hidden","max-w-0"]],template:function(t,i){1&t&&(e._UZ(0,"p-dropdown",0)(1,"p-dropdown",0),e.YNc(2,ZM,4,15,"ng-container",1),e.ALo(3,"async")),2&t&&(e.Q6J("formControl",i.service.taskStatusSelector)("options",i.service.taskStatusOptions),e.xp6(1),e.Q6J("formControl",i.service.taskClassSelector)("options",i.service.taskClassOptions),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,5,i.service.tabelColumns$)))},dependencies:[f.JJ,N.jx,k.sg,f.oH,qe.Lt,k.O5,k.RF,k.n9,Aa.iA,Aa.lQ,Aa.fz,Aa.xl,k.Ov,k.uU]}),n})()},{path:"tasks/search",component:iA,children:[{path:"",component:Y1},{path:":status",component:Y1},{path:":status/:class",component:Y1},{path:":status/:class/:type",component:Y1}]},{path:"tasks/catalog",pathMatch:"full",redirectTo:"tasks/catalog/active"},{path:"tasks/catalog",component:tA,children:[{path:"scheduled/:status",component:Ta,data:{scheduled:he.dH.PLANNED}},{path:"scheduled/:status/:class",component:Ta,data:{scheduled:he.dH.PLANNED}},{path:"scheduled/:status/:class/:type",component:Ta,data:{scheduled:he.dH.PLANNED}},{path:"scheduled/:status/:class/:type/actual-time/:actualTime",component:Ta,data:{scheduled:he.dH.PLANNED,pageType:"actual-time"}},{path:"scheduled/:status/:class/:type/actual-time/:actualTime/:tag",component:Ta,data:{scheduled:he.dH.PLANNED,pageType:"actual-time"}},{path:"term/:status",component:Ta,data:{scheduled:he.dH.DEADLINE}},{path:"term/:status/:class",component:Ta,data:{scheduled:he.dH.DEADLINE}},{path:"term/:status/:class/:type",component:Ta,data:{scheduled:he.dH.DEADLINE}},{path:"term/:status/:class/:type/term-time/:termTime",component:Ta,data:{scheduled:he.dH.DEADLINE,pageType:"term-time"}},{path:"term/:status/:class/:type/term-time/:termTime/:tag",component:Ta,data:{scheduled:he.dH.DEADLINE,pageType:"term-time"}},{path:":status",component:Ta},{path:":status/:class",component:Ta},{path:":status/:class/:type",component:Ta},{path:":status/:class/:type/dir/:directory",component:Ta,data:{pageType:"dir"}},{path:":status/:class/:type/dir/:directory/:tag",component:Ta,data:{pageType:"dir"}},{path:":status/:class/:type/close-time/:closeTime",component:Ta,data:{pageType:"close-time"}},{path:":status/:class/:type/close-time/:closeTime/:tag",component:Ta,data:{pageType:"close-time"}}]},{path:"tasks/calendar",component:uf},{path:"task/create",component:Fe},{path:"task/:id",component:Fr},{path:"tasks/templates",component:Mi,canActivate:[$r(Ii.j.EDIT_TASK_TEMPLATES,Ii.j.EDIT_TASK_TAGS,Ii.j.EDIT_DEVICES)]},{path:"tasks/templates/constructor",component:Gu,canActivate:[$r(Ii.j.EDIT_TASK_TEMPLATES)]},{path:"employees",component:En,canActivate:[$r(Ii.j.MANAGE_EMPLOYEES)]},{path:"testing",component:Tc},{path:"parser/tracker",component:h_},{path:"parser/address",component:Vv},{path:"salary/table",component:Fu,canActivate:[$r(Ii.j.COUNT_SALARY)]},{path:"salary/paid-actions",redirectTo:"/salary/paid-actions/1?includeDeleted=false",pathMatch:"full"},{path:"salary/paid-actions/:page",component:r1,canActivate:[$r(Ii.j.EDIT_PRICE)]},{path:"salary/works",component:y1,canActivate:[$r(Ii.j.EDIT_PRICE)]},{path:"salary/estimation",component:E_,canActivate:[$r(Ii.j.COUNT_SALARY)]},{path:"salary/estimation/bypass",component:zT,canActivate:[$r(Ii.j.COUNT_SALARY)]},{path:"clients/billing/search",component:R1,canActivate:[$r(Ii.j.BILLING)]},{path:"clients/billing/user/:login",component:Yd,canActivate:[$r(Ii.j.BILLING)]},{path:"addresses/list",component:VT,canActivate:[$r(Ii.j.EDIT_ADDRESS_BOOK,Ii.j.EDIT_HOUSE_ADDRESS_BOOK)]},{path:"system/billing",component:JT,canActivate:[$r(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"system/telegram",component:QT,canActivate:[$r(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"system/acp",component:GT,canActivate:[$r(Ii.j.MANAGE_SYSTEM_SETTINGS)]},{path:"files",component:WT,canActivate:[$r(Ii.j.READ_WRITE_FILES)]},{path:"contracts",component:oA,children:[{path:"inspection",component:Kd,canActivate:[$r(Ii.j.VIEW_CONTRACTS)]},{path:"types",component:Ik,canActivate:[$r(Ii.j.MANAGE_CONTRACTS_TYPES)]}]},{path:"statistics",component:rA,children:[{path:"employee-works",component:Th}],canActivate:[$r(Ii.j.VIEW_STATISTICS)]},{path:"topology",component:aA,children:[{path:"houses",component:If},{path:"house/:id",component:Uu},{path:"commutators",component:uA,canActivate:[$r(Ii.j.VIEW_SWITCH,Ii.j.EDIT_SWITCH)]},{path:"sessions",component:WD,canActivate:[$r(Ii.j.BILLING)]}]}],canActivate:[_E.a,CE]}];let VM=(()=>{class n{constructor(t){n.injector=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.lqb))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(HM),d.Bz]}),n})();var zM=b(4488);const JM=["paginator"];function QM(n,o){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"p-progressSpinner",29),e.qZA())}function GM(n,o){if(1&n&&e._UZ(0,"app-task-list-element",32),2&n){const t=o.$implicit;e.Q6J("isCommentInput",!0)("item",t)}}function WM(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,GM,1,2,"app-task-list-element",31),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.trackByTask)}}function YM(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"i",34),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function jM(n,o){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function KM(n,o){if(1&n){const t=e.EpF();e.ynx(0)(1,20),e.YNc(2,QM,2,0,"div",21),e.YNc(3,WM,3,2,"ng-container",22),e.YNc(4,YM,4,0,"div",23),e.YNc(5,jM,4,0,"div",24),e.BQk(),e.TgZ(6,"div",25)(7,"p-paginator",26,27),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.taskService.pageNumber.setValue(s.page))}),e.qZA()(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw();let s;e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("alwaysShow",!0)("rows",i.taskService.TASK_PAGE_SIZE)("showCurrentPageReport",!0)("totalRecords",t.totalElements)("first",(null!==(s=i.taskService.pageNumber.value)&&void 0!==s?s:0)*i.taskService.TASK_PAGE_SIZE)}}function qM(n,o){if(1&n&&(e.TgZ(0,"div",38)(1,"div",39),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.label," "),e.xp6(2),e.hij(" ",t.tasksCount," ")}}function $M(n,o){if(1&n&&(e.TgZ(0,"div",14)(1,"label"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"p-listbox",37),e.YNc(4,qM,5,2,"ng-template",17),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.taskService.stageList)}}function XM(n,o){if(1&n&&e._UZ(0,"input",40),2&n){const t=e.oxw();e.Q6J("formControl",t.taskService.tagsFilterControl)}}function eO(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",41),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",t.color)("caption",t.tasksCount)}}function tO(n,o){if(1&n&&(e.TgZ(0,"span",38)(1,"div",39),e._uU(2),e.qZA(),e.YNc(3,eO,2,2,"ng-container",8),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.tasksCount)}}function nO(n,o){1&n&&e._UZ(0,"app-task-template-filter-input",50),2&n&&e.Q6J("field",o.$implicit)}const iO=function(){return[]};function oO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nO,1,1,"app-task-template-filter-input",49),e.BQk()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngForOf",null!==(i=t.taskService.mainFilterForm.controls.templateFilter.controls)&&void 0!==i?i:e.DdM(2,iO))("ngForTrackBy",t.trackByField)}}function sO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43),e.ynx(2,9),e.TgZ(3,"span",14)(4,"label"),e._uU(5,"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(6,"app-employee-selector",44),e.qZA(),e.TgZ(7,"span",14)(8,"label"),e._uU(9,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(10,"app-data-range-input",45),e.qZA(),e.BQk(),e.YNc(11,oO,2,3,"ng-container",8),e.qZA(),e.TgZ(12,"span",46)(13,"p-button",47),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.filterDialogVisible=!1,e.KtG(s.taskService.applyFilters())}),e.qZA(),e.TgZ(14,"p-button",48),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return s.filterDialogVisible=!1,e.KtG(s.taskService.clearFilters())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.taskService.mainFilterForm),e.xp6(9),e.Q6J("ngIf",t.taskService.mainFilterForm.controls.templateFilter.length>0)}}const rO=function(){return{width:"25rem"}},aO=function(){return{"960px":"640px","640px":"100vw"}};let lO=(()=>{class n{constructor(t,i,s){this.taskService=t,this.api=i,this.route=s,this.employees=[],this.loadingItems=Array.from({length:10}).fill(null),this.filterDialogVisible=!1}trackByField(t,i){return i.value.id+i.value.wireframeFieldType+i.value.name}trackByTask(t,i){var s;return i.taskId+(null!==(s=i.updated)&&void 0!==s?s:"")}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t})}ngAfterViewInit(){}ngOnDestroy(){}isNewDate(t,i){if(0===i)return!0;const s=t[i-1],p=t[i];if(!s||!p)return!1;const w=new Date(s.created);w.setHours(0,0,0,0);const J=new Date(p.created);return J.setHours(0,0,0,0),w.getTime()>J.getTime()}taskLazyLoad(t){(!t.fields||0===t.fields.length)&&this.api.getFieldsTask(t.taskId).subscribe(i=>{t.fields=i})}clearTemplateFilters(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zM.U),e.Y36(L.s),e.Y36(d.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(JM,5),2&t){let s;e.iGM(s=e.CRH())&&(i.paginator=s.first)}},decls:26,vars:22,consts:[["appExtendPageHeight","",1,"flex","gap-3","px-3"],[1,"tasks-list"],[1,"flex","flex-wrap","gap-4","bg-white","shadow-1","border-round-md","overflow-hidden","p-3",3,"formGroup"],[1,"p-input-icon-left","flex-grow-1"],[1,"mdi-search"],["formControlName","searchPhrase","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text",1,"full-width"],["formControlName","status"],["icon","mdi-filter_alt","label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","styleClass","p-button-text",3,"badge","onClick"],[4,"ngIf"],[3,"formGroup"],[1,"flex","flex-column","gap-3","h-fit","px-2","pb-3","sticky-type-selector"],["countersType","all","formControlName","template"],[1,"shadow-1","p-3","border-round-md","flex","flex-column","bg-white","gap-2"],["class","input-label-wrapper",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","tags","optionValue","taskTagId","listStyleClass","max-h-20rem",3,"options","multiple","checkbox"],["pTemplate","filter"],["pTemplate","item"],["header","\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","visibleChange","onShow","onHide"],["pTemplate","content"],[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"sticky","bottom1"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"flex","flex-column","gap-1","border-round-md","shadow-1","overflow-hidden","bg-bluegray-100","h-fit"],[3,"isCommentInput","item",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isCommentInput","item"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],["formControlName","stage","listStyleClass","max-h-20rem",3,"options"],[1,"flex","align-items-center","w-full","justify-content-between","gap-1"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a",3,"formControl"],[3,"color","caption"],[1,"flexed","column","gap15"],[1,"flexed","column","gap5"],["formControlName","author"],["formControlName","dateOfCreation"],[1,"flex","gap-3","align-items-center","justify-content-between"],["icon","mdi-filter_alt","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],["icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-secondary p-button-outlined",3,"onClick"],[3,"field",4,"ngFor","ngForOf","ngForTrackBy"],[3,"field"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"span",3),e._UZ(5,"i",4)(6,"input",5),e.qZA(),e._UZ(7,"app-task-status-chooser",6),e.TgZ(8,"p-button",7),e.NdJ("onClick",function(){return i.filterDialogVisible=!0}),e.ALo(9,"async"),e.qZA()(),e.YNc(10,KM,9,10,"ng-container",8),e.ALo(11,"async"),e.qZA(),e.ynx(12,9),e.TgZ(13,"div",10),e._UZ(14,"app-task-template-multi-selector",11),e.TgZ(15,"div",12),e.YNc(16,$M,5,1,"div",13),e.TgZ(17,"div",14)(18,"label"),e._uU(19,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(20,"p-listbox",15),e.YNc(21,XM,1,1,"ng-template",16),e.YNc(22,tO,4,4,"ng-template",17),e.qZA()()()(),e.BQk(),e.qZA(),e._UZ(23,"p-scrollTop"),e.TgZ(24,"p-dialog",18),e.NdJ("visibleChange",function(p){return i.filterDialogVisible=p})("onShow",function(){return i.taskService.cacheFilters()})("onHide",function(){return i.taskService.applyFilters()}),e.YNc(25,sO,15,2,"ng-template",19),e.qZA()),2&t){let s;e.xp6(3),e.Q6J("formGroup",i.taskService.mainFilterForm),e.xp6(5),e.Q6J("badge",null!==(s=e.lcZ(9,16,i.taskService.templateFilterCount$))&&void 0!==s?s:""),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,18,i.taskService.taskPage$)),e.xp6(2),e.Q6J("formGroup",i.taskService.mainFilterForm),e.xp6(4),e.Q6J("ngIf",i.taskService.stageList.length>1&&i.taskService.isSelectOneTemplate),e.xp6(4),e.Q6J("options",i.taskService.tagsList)("multiple",!0)("checkbox",!0),e.xp6(4),e.Akn(e.DdM(20,rO)),e.Q6J("visible",i.filterDialogVisible)("breakpoints",e.DdM(21,aO))("dismissableMask",!0)("draggable",!0)("modal",!0)("resizable",!1)}},styles:[".top-interceptor[_ngcontent-%COMP%]{position:fixed;width:100vw;height:50px;top:0;left:0;border:1px solid var(--tc-700)}.global-filters[_ngcontent-%COMP%]{display:grid;gap:.5rem;justify-content:center;background-color:#fff;box-shadow:var(--shadow-0);border-radius:var(--br-200);padding:1rem;width:-moz-fit-content;width:fit-content;place-self:center}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.tasks-list[_ngcontent-%COMP%]{display:grid;position:relative;grid:min-content 1fr min-content/1fr;gap:1rem;flex:1;padding-bottom:2rem}"]}),n})();var hA=b(9354),cO=b(4087),wh=b(242),Il=b(3725),uO=b(9114);let _O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,N.m8]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[k.ez,f.u5]]}),n})();var j1=b(5652);const MO=function(n,o){return{showTransitionParams:n,hideTransitionParams:o}},OO=function(n){return{value:"open",params:n}};function PO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("@animation.start",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onEnter(s))})("@animation.done",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onLeave(s))})("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onClick())}),e._UZ(1,"span",2),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("@animation",e.VKq(11,OO,e.WLB(8,MO,t.showTransitionOptions,t.hideTransitionOptions)))("ngClass",t.containerClass())("ngStyle",t.style),e.xp6(1),e.Tol(t.icon),e.Q6J("ngClass","p-scrolltop-icon")}}let LO=(()=>{class n{constructor(t,i,s){this.el=t,this.cd=i,this.config=s,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(t){switch(t.toState){case"open":this.overlay=t.element,Lo.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(t){"void"===t.toState&&Lo.P9.clear(t.element)}checkVisibility(t){this.visible=t>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(_o.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(Lo.P9.clear(this.overlay),this.overlay=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(N.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(t,i){1&t&&e.YNc(0,PO,2,13,"button",0),2&t&&e.Q6J("ngIf",i.visible)},dependencies:[k.mk,k.O5,k.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,Li.X$)("animation",[(0,Li.SB)("void",(0,Li.oB)({opacity:0})),(0,Li.SB)("open",(0,Li.oB)({opacity:1})),(0,Li.eR)("void => open",(0,Li.jt)("{{showTransitionParams}}")),(0,Li.eR)("open => void",(0,Li.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),n})(),RO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez]}),n})(),JO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,d.Bz,Gi.z,d.Bz,Gi.z]}),n})();var QO=b(9925),gA=b(6526);const GO=["taskMovePanel"];function WO(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-button",13),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.checkedTasks=[])}),e.qZA(),e.TgZ(2,"app-button",14),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(14);return e.KtG(p.toggle(s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("@fade",void 0)("disabled",!(null!=t.wireframe&&t.wireframe.stages)||0===(null==t.wireframe||null==t.wireframe.stages?null:t.wireframe.stages.length))}}function YO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.allTaskChecked("null-pointer",s))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3," \u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438 "),e.qZA(),e._UZ(4,"app-colored-tag",21),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("binary",!0),e.xp6(3),e.Q6J("caption",t.getCount("null-pointer"))}}function jO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.checkedTasks=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function KO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.stageScrollDown("null-pointer"))}),e.YNc(1,YO,5,2,"ng-template",null,16,e.W1O),e.YNc(3,jO,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=e.MAs(2),i=e.MAs(4),s=e.oxw();e.Q6J("headerTemplate",t)("itemTemplate",i)("items",s.tasks["null-pointer"])}}function qO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(s){e.CHM(t);const p=e.oxw().$implicit,w=e.oxw();return e.KtG(w.allTaskChecked(p.stageId,s))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3),e.qZA(),e._UZ(4,"app-colored-tag",23),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("binary",!0),e.xp6(2),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("captionForColor",t.label)("caption",i.getCount(t.stageId))}}function $O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.checkedTasks=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function XO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.stageScrollDown(p.stageId))}),e.YNc(1,qO,5,4,"ng-template",null,16,e.W1O),e.YNc(3,$O,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=o.$implicit,i=e.MAs(2),s=e.MAs(4),p=e.oxw();e.Q6J("headerTemplate",i)("itemTemplate",s)("items",p.tasks[t.stageId])}}const eP=function(){return[]};let tP=(()=>{class n{constructor(t,i,s){this.api=t,this.route=i,this.rt=s,this.tasks={},this.tasksCount={},this.tasksLoading={},this.checkedTasks=[],this.taskMoving=!1}ngOnInit(){this.route.params.subscribe(t=>{const{template:i}=t;this.api.getWireframe(i).subscribe(s=>{var p,w;this.api.getActiveTaskInNullStage(0,10,s.wireframeId).subscribe(J=>{this.tasks["null-pointer"]=J.content,this.tasksCount["null-pointer"]=J.totalElements}),s.stages=null===(p=s.stages)||void 0===p?void 0:p.sort((J,_e)=>J.orderIndex-_e.orderIndex),null===(w=s.stages)||void 0===w||w.forEach(J=>{this.api.getActiveTaskInStage(0,10,s.wireframeId,J.stageId).subscribe(_e=>{this.tasks[J.stageId]=_e.content,this.tasksCount[J.stageId]=_e.totalElements})}),this.wireframe=s,this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe(),this.anyTaskUpdatingSub=this.rt.taskUpdated().subscribe(this.onAnyTaskUpdate.bind(this))})})}ngOnDestroy(){this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe()}onAnyTaskUpdate(t){var i,s,p,w;for(const J in this.tasks){const _e=this.tasks[J].findIndex($e=>$e.taskId===t.taskId);if(_e>=0){const $e=null===(i=this.tasks[J][_e].currentStage)||void 0===i?void 0:i.stageId,Xe=null===(s=t.currentStage)||void 0===s?void 0:s.stageId;Xe&&Xe!==$e?(this.tasks[J].splice(_e,1),null===(p=this.tasks[Xe])||void 0===p||p.push(t),$e&&this.tasksCount[$e]--,this.tasksCount[Xe]++,this.tasks[Xe]=null===(w=this.tasks[Xe])||void 0===w?void 0:w.sort((Xt,jt)=>{var Wt,fn;return new Date(null!==(Wt=jt.created)&&void 0!==Wt?Wt:"").getTime()-new Date(null!==(fn=Xt.created)&&void 0!==fn?fn:"").getTime()})):this.tasks[J].splice(_e,1,t)}}}stageScrollDown(t){this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"!==t?(this.tasksLoading[t]=!0,this.api.getActiveTaskInStage(this.tasks[t].length,10,this.wireframe.wireframeId,t).subscribe(i=>{this.tasks[t]=[...this.tasks[t],...i.content],this.tasksLoading[t]=!1})):this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"===t&&(this.tasksLoading["null-pointer"]=!0,this.api.getActiveTaskInStage(this.tasks["null-pointer"].length,10,this.wireframe.wireframeId,"null-pointer").subscribe(i=>{this.tasks["null-pointer"]=[...this.tasks["null-pointer"],...i.content],this.tasksLoading["null-pointer"]=!1}))}declineTask(t){return _.cQ.declineOfNumber(t,["\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447","\u0437\u0430\u0434\u0430\u0447"])}taskMoveApply(){const t=[];this.checkedTasks.forEach(i=>{"string"==typeof this.selectedStageToMove&&(this.taskMoving=!0,this.api.changeTaskStage(i,this.selectedStageToMove).subscribe({next:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(s=>!t.includes(s)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)},error:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(s=>!t.includes(s)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)}}))})}allTaskChecked(t,i){var s,p;!this.wireframe||("null-pointer"!==t?this.api.getActiveTaskIdsInStage(null===(s=this.wireframe)||void 0===s?void 0:s.wireframeId,t).subscribe(w=>{this.checkedTasks=i.checked?[...this.checkedTasks,...w]:this.checkedTasks.filter(J=>!w.includes(J))}):this.api.getActiveTaskIdsInNullStage(null===(p=this.wireframe)||void 0===p?void 0:p.wireframeId).subscribe(w=>{this.checkedTasks=i.checked?[...this.checkedTasks,...w]:this.checkedTasks.filter(J=>!w.includes(J))}))}getCount(t){return this.tasksCount[t]?this.tasksCount[t].toString():"0"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(d.gz),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(GO,5),2&t){let s;e.iGM(s=e.CRH())&&(i.taskMovePanel=s.first)}},decls:20,vars:13,consts:[["appExtendPageHeight","",1,"flexed","gap10",3,"limited"],[1,"flexed","column","gap5","overflow"],[1,"caption","size-big","p10","flexed","hcenter","gap5"],[1,"material-icons-round"],[1,"stretched"],[4,"ngIf"],["appDragScrolling","",1,"stages-wrapper"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngIf"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngFor","ngForOf"],["taskMovePanel",""],[1,"flexed","gap10","column"],["optionLabel","label","optionValue","stageId","appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"loading","onClick"],["label","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435","icon","deselect","model","p-button-secondary p-button-outlined",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c","icon","swap_horiz","model","p-button-outlined p-button-help",3,"disabled","onClick"],[3,"headerTemplate","itemTemplate","items","onScrollDown"],["header",""],["taskElem",""],[1,"flexed","hcenter","stretched","spbtw"],[3,"binary","onChange"],["appColorize",""],["captionForColor","\u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438",3,"caption"],[3,"check","item","inlined","checkChange"],[3,"captionForColor","caption"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"span",3),e._uU(5,"checklist"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"div",4),e.YNc(9,WO,3,3,"ng-container",5),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,KO,5,3,"app-list-panel",7),e.YNc(12,XO,5,3,"app-list-panel",8),e.qZA()()(),e.TgZ(13,"p-overlayPanel",null,9)(15,"div",10)(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"p-dropdown",11),e.NdJ("ngModelChange",function(p){return i.selectedStageToMove=p}),e.qZA(),e.TgZ(19,"app-button",12),e.NdJ("onClick",function(){return i.taskMoveApply()}),e.qZA()()()),2&t){let s;e.Udp("padding-left","1rem"),e.Q6J("limited",!0),e.xp6(7),e.hij(" \u0421\u0442\u0430\u0434\u0438\u0438 \u0437\u0430\u0434\u0430\u0447: ",null==i.wireframe?null:i.wireframe.name," "),e.xp6(2),e.Q6J("ngIf",i.checkedTasks.length>0),e.xp6(2),e.Q6J("ngIf",i.tasksCount["null-pointer"]>0),e.xp6(1),e.Q6J("ngForOf",null==i.wireframe?null:i.wireframe.stages),e.xp6(5),e.AsE("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0434\u0438\u044e \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f ",i.checkedTasks.length," ",i.declineTask(i.checkedTasks.length),""),e.xp6(1),e.Q6J("options",null!==(s=null==i.wireframe?null:i.wireframe.stages)&&void 0!==s?s:e.DdM(12,eP))("ngModel",i.selectedStageToMove),e.xp6(1),e.Q6J("loading",i.taskMoving)}},styles:[".stages-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;padding:0 2rem 2rem;gap:1rem;overflow-x:scroll;overflow-y:hidden}.stages-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:500px}.stages-content[_ngcontent-%COMP%]{display:grid;grid:1fr/max-content 1fr}.stage-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex:1;background-color:#fff}"],data:{animation:[u.U1]}}),n})();var Hu=b(3640),fA=b(5132);const nP=["pOrganizationChartNode",""];function iP(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.node.label)}}function oP(n,o){1&n&&e.GkF(0)}const sP=function(n){return{$implicit:n}};function rP(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,oP,1,0,"ng-container",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.chart.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,sP,t.node))}}const aP=function(n,o){return{"pi-chevron-down":n,"pi-chevron-up":o}};function lP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.toggleNode(s,p.node))})("keydown.enter",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.toggleNode(s,p.node))}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(1,aP,t.node.expanded,!t.node.expanded))}}function cP(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"div",4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",t.colspan)}}const mA=function(n){return{"p-organizationchart-line-top":n}};function uP(n,o){if(1&n&&(e.TgZ(0,"td",11),e._uU(1,"\xa0"),e.qZA(),e.TgZ(2,"td",12),e._uU(3,"\xa0"),e.qZA()),2&n){const i=o.last;e.Q6J("ngClass",e.VKq(2,mA,!o.first)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,mA,!i))}}function dP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,uP,4,6,"ng-template",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function pP(n,o){if(1&n&&(e.TgZ(0,"td",13),e._UZ(1,"table",14),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("node",t)}}const hP=function(n,o){return{"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":n,"p-highlight":o}};function gP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",1),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.onNodeClick(s,p.node))}),e.YNc(4,iP,2,1,"div",0),e.YNc(5,rP,2,4,"div",0),e.YNc(6,lP,2,4,"a",2),e.qZA()()(),e.TgZ(7,"tr",3)(8,"td"),e._UZ(9,"div",4),e.qZA()(),e.TgZ(10,"tr",3),e.YNc(11,cP,3,1,"ng-container",0),e.YNc(12,dP,2,1,"ng-container",0),e.qZA(),e.TgZ(13,"tr",5),e.YNc(14,pP,2,1,"td",6),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.colspan),e.xp6(1),e.Tol(t.node.styleClass),e.Q6J("ngClass",e.WLB(17,hP,t.chart.selectionMode&&!1!==t.node.selectable,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.leaf),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.uIk("colspan",t.colspan),e.xp6(2),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngIf",t.node.children&&1===t.node.children.length),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.children.length>1),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function fP(n,o){if(1&n&&e._UZ(0,"table",2),2&n){const t=e.oxw();e.Q6J("node",t.root)}}const mP=function(n){return{"p-organizationchart p-component":!0,"p-organizationchart-preservespace":n}};let _P=(()=>{class n{constructor(t,i){this.cd=i,this.chart=t,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(t,i){this.chart.onNodeClick(t,i)}toggleNode(t,i){i.expanded=!i.expanded,i.expanded?this.chart.onNodeExpand.emit({originalEvent:t,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:t,node:this.node}),t.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>_A)),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:"root",first:"first",last:"last"},attrs:nP,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter",4,"ngIf"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter"],[1,"p-node-toggler-icon","pi",3,"ngClass"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&e.YNc(0,gP,15,20,"tbody",0),2&t&&e.Q6J("ngIf",i.node)},dependencies:[k.mk,k.sg,k.O5,k.tP,n],styles:[".p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}\n"],encapsulation:2,data:{animation:[(0,Li.X$)("childState",[(0,Li.SB)("in",(0,Li.oB)({opacity:1})),(0,Li.eR)("void => *",[(0,Li.oB)({opacity:0}),(0,Li.jt)(150)]),(0,Li.eR)("* => void",[(0,Li.jt)(150,(0,Li.oB)({opacity:0}))])])]},changeDetection:0}),n})(),_A=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.preserveSpace=!0,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.selectionSource=new Rr.x,this.selectionSource$=this.selectionSource.asObservable()}get selection(){return this._selection}set selection(t){this._selection=t,this.initialized&&this.selectionSource.next(null)}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{this.templateMap[t.getType()]=t.template}),this.initialized=!0}getTemplateForNode(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null}onNodeClick(t,i){let s=t.target;if((!s.className||-1===s.className.indexOf("p-node-toggler")&&-1===s.className.indexOf("p-node-toggler-icon"))&&this.selectionMode){if(!1===i.selectable)return;let p=this.findIndexInSelection(i),w=p>=0;"single"===this.selectionMode?w?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=i,this.onNodeSelect.emit({originalEvent:t,node:i})):"multiple"===this.selectionMode&&(w?(this.selection=this.selection.filter((J,_e)=>_e!=p),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=[...this.selection||[],i],this.onNodeSelect.emit({originalEvent:t,node:i}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(t){let i=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)i=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(let s=0;s<this.selection.length;s++)if(this.selection[s]==t){i=s;break}return i}isSelected(t){return-1!=this.findIndexInSelection(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-organizationChart"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,N.jx,4),2&t){let p;e.iGM(p=e.CRH())&&(i.templates=p)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",preserveSpace:"preserveSpace",selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,fP,1,1,"table",1),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.VKq(5,mP,i.preserveSpace)),e.xp6(1),e.Q6J("ngIf",i.root))},dependencies:[k.mk,k.O5,k.PC,_P],encapsulation:2,changeDetection:0}),n})(),CP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,N.m8]}),n})();var CA=b(6888),vP=b(6731),iI=b(7307),oI=b(7172),bP=b(9770),q1=b(2722),$1=b(5698),yP=b(9718);function xP(n,o){}const X1=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let IP=(()=>{class n{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const vA=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],eb=(n,o,t)=>(0,x.R)(n,o).pipe((0,q1.R)(t)),bA=(n,o)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:o;let yA=0;const xA=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),IA=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),EP=(n,o)=>IA(n).concat(IA(o)),SP=()=>{},TA=n=>null==n,kP=(()=>{let n={script$:null};return{load:(i,s)=>n.script$||(n.script$=(0,bP.P)(()=>{const p=i.createElement("script");return p.referrerPolicy="origin",p.type="application/javascript",p.src=s,i.head.appendChild(p),(0,x.R)(p,"load").pipe((0,$1.q)(1),(0,yP.h)(void 0))}).pipe((0,cn.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),DP=new e.OlP("TINYMCE_SCRIPT_SRC"),MP={provide:f.JU,useExisting:(0,e.Gpc)(()=>wA),multi:!0};let wA=(()=>{class n extends IP{constructor(t,i,s,p){super(),this.platformId=s,this.tinymceScriptSrc=p,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=SP,this.destroy$=new Rr.x,this.initialise=()=>{const w=Object.assign(Object.assign({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:EP(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:J=>{this._editor=J,eb(J,"init",this.destroy$).subscribe(()=>{this.initEditor(J)}),((n,o,t)=>{(n=>{const o=bA(n.ignoreEvents,[]);return bA(n.allowedEvents,vA).filter(i=>vA.includes(i)&&!o.includes(i))})(n).forEach(s=>{const p=n[s];eb(o,s.substring(2),t).subscribe(w=>{p.observers.length>0&&n.ngZone.run(()=>p.emit({event:w,editor:o}))})})})(this,J,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(J)}});xA(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{X1().init(w)})},this._elementRef=t,this.ngZone=i}set disabled(t){var i;this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof(null===(i=this._editor.mode)||void 0===i?void 0:i.set)?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(TA(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){var t;(0,k.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),i=Math.floor(1e9*Math.random());return yA++,"tiny-angular_"+i+yA+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!(null===(t=this.init)||void 0===t||!t.inline),this.createElement(),null!==X1()?this.initialise():this._element&&this._element.ownerDocument&&kP.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,q1.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==X1()&&X1().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,xA(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return TA(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){eb(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),eb(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(DP,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([MP]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,i){1&t&&e.YNc(0,xP,0,0,"ng-template")},dependencies:[k.ez,f.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var tb=b(8913);let OP=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.personality=s,this.scrollPos=0,this.pageControl=new f.NI(0),this.filtersForm=new f.cw({limit:new f.NI(15),template:new f.NI(_.Ke.loadOrDefault("incomListPageTempFilter",[])),stage:new f.NI(null),tags:new f.NI([])}),this.searchPhrase=new f.NI(""),this.pageChange$=this.pageControl.valueChanges.pipe((0,Bs.O)(0),(0,ei.b)(()=>window.scrollTo({top:0}))),this.filtersChange$=this.filtersForm.valueChanges.pipe((0,ei.b)(()=>this.pageControl.setValue(0)),(0,Bs.O)(this.filtersForm.value)),this.filters$=(0,Bo.a)([this.pageChange$,this.filtersChange$]).pipe((0,mt.U)(([p,w])=>[p,Object.assign(Object.assign({},w),{searchPhrase:this.searchPhrase.value})]),(0,cn.d)(1)),this.stageList=[],this.tagsList=[],this.stageList$=this.filtersForm.controls.template.valueChanges.pipe((0,Bs.O)(this.filtersForm.controls.template.value),(0,ei.b)(p=>_.Ke.save("incomListPageTempFilter",p)),(0,R.w)(p=>(this.filtersForm.controls.stage.setValue(null,{emitEvent:!1}),1===(null==p?void 0:p.length)?this.api.getWireframeStages(p[0]).pipe((0,Gd.z)(w=>this.api.getCountIncomingTasksByStages(p[0]).pipe((0,mt.U)(J=>w.map(_e=>({label:_e.label,value:_e.stageId,orderIndex:_e.orderIndex,tasksCount:J[_e.stageId]||0})))))):[])),(0,mt.U)(p=>{const w=p.sort((J,_e)=>J.orderIndex-_e.orderIndex);return w.unshift({label:"\u0412\u0441\u0435",value:null,orderIndex:-1,tasksCount:p.reduce((J,_e)=>J+_e.tasksCount,0)}),w}),(0,cn.d)(1)),this.tagsFilterControl=new f.NI(""),this.tagsNameFilter$=this.tagsFilterControl.valueChanges.pipe((0,Ls.b)(300),(0,Qr.x)()),this.tagsFilters$=(0,Bo.a)([this.tagsNameFilter$.pipe((0,Bs.O)("")),this.filtersForm.controls.template.valueChanges.pipe((0,Bs.O)(this.filtersForm.controls.template.value))]).pipe((0,mt.U)(([p,w])=>[p,!1])),this.tagsList$=_.aN.ofWithFilter(this.tagsFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()).pipe((0,R.w)(p=>{var w;return this.api.getCountIncomingTasksByWireframeIdByTags(null!==(w=this.filtersForm.controls.template.value)&&void 0!==w?w:[]).pipe((0,mt.U)(J=>(p.value.map(_e=>(_e.tasksCount=J[_e.taskTagId]||0,_e)),p)))})),this.taskPage$=_.aN.ofPageAltAll(this.filters$,this.api.getIncomingTasks.bind(this.api),[this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()]).pipe((0,cn.d)(1)),this.stageList$.subscribe(p=>this.stageList=[...p]),this.tagsList$.subscribe(p=>this.tagsList=[...p.value]),this.searchPhrase.valueChanges.pipe((0,Ls.b)(1e3),(0,r.h)(p=>null===p||0===p.length)).subscribe(()=>this.pageControl.setValue(0)),this.personality.userLogin$.subscribe(p=>{this.rt.incomingTaskCountChange(p).pipe((0,r.h)(w=>this.isSelectOneTemplate&&w.id===this.firstWireframeId)).subscribe(w=>{this.stageList.forEach(_e=>{const $e=w.stages.find(Xe=>_e.value===Xe.id);_e.tasksCount=$e?$e.num:0});const J=this.stageList.find(_e=>null===_e.value);J&&(J.tasksCount=w.stages.reduce((_e,$e)=>_e+$e.num,0))}),this.rt.incomingTagTaskCountChange(p).subscribe(w=>{this.tagsList.forEach(J=>{var _e;const $e=w[J.taskTagId];if($e){let Xe=0;null===(_e=this.filtersForm.value.template)||void 0===_e||_e.forEach(Xt=>{$e[Xt]&&(Xe+=$e[Xt])}),J.tasksCount=Xe}else J.tasksCount=0})})})}get tagsListNames(){return this.tagsList.map(t=>t.name)}get isSelectOneTemplate(){var t;return 1===(null===(t=this.filtersForm.controls.template.value)||void 0===t?void 0:t.length)}get firstWireframeId(){return this.filtersForm.controls.template.value?this.filtersForm.controls.template.value[0]:0}saveScrollPos(t){this.scrollPos=t}readScrollPos(){return this.scrollPos}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.s),e.LFG(de.U),e.LFG(Q.F))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PP(n,o){1&n&&e.GkF(0)}function LP(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",t.label," "),e.xp6(2),e.hij(" ",t.tasksCount," ")}}function RP(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"label"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"p-listbox",17),e.YNc(4,LP,5,2,"ng-template",15),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.ic.stageList)}}function NP(n,o){if(1&n&&e._UZ(0,"input",20),2&n){const t=e.oxw();e.Q6J("formControl",t.ic.tagsFilterControl)}}function FP(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",22),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("color",t.color)("caption",t.tasksCount)}}function BP(n,o){if(1&n&&(e.TgZ(0,"span",18)(1,"div",19),e._uU(2),e.qZA(),e.YNc(3,FP,2,2,"ng-container",21),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.tasksCount)}}function ZP(n,o){if(1&n&&e._UZ(0,"app-task-list-element",32),2&n){const t=o.$implicit;e.Q6J("isCommentInput",!0)("item",t)}}const UP=function(){return{flex:"1",minHeight:"2rem"}},HP=function(){return{bottom:"1rem"}};function VP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27),e.YNc(2,ZP,1,2,"app-task-list-element",28),e.qZA(),e._UZ(3,"div"),e.TgZ(4,"div",29)(5,"p-paginator",30,31),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.ic.pageControl.setValue(s.page))}),e.qZA()()()}if(2&n){const t=e.oxw().ngIf,i=e.oxw(2);let s,p,w;e.xp6(2),e.Q6J("ngForOf",t.value)("ngForTrackBy",i.taskTrack),e.xp6(1),e.Akn(e.DdM(11,UP)),e.xp6(1),e.Akn(e.DdM(12,HP)),e.xp6(1),e.Q6J("alwaysShow",!0)("rows",null!==(s=i.ic.filtersForm.value.limit)&&void 0!==s?s:1)("showCurrentPageReport",!0)("totalRecords",null!==(p=null==t?null:t.totalElements)&&void 0!==p?p:0)("first",(null!==(w=i.ic.filtersForm.value.limit)&&void 0!==w?w:1)*(null!==(w=i.ic.pageControl.value)&&void 0!==w?w:0))}}function zP(n,o){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"p-progressSpinner",34),e.qZA())}function JP(n,o){1&n&&(e.TgZ(0,"div",33)(1,"span",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4," \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0437\u0430\u0434\u0430\u0447 \u043d\u0435\u0442 "),e.qZA()()())}function QP(n,o){if(1&n&&(e.ynx(0)(1,23),e.YNc(2,VP,7,13,"div",24),e.YNc(3,zP,2,0,"div",25),e.YNc(4,JP,5,0,"div",25),e.BQk()()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function GP(n,o){if(1&n&&(e.YNc(0,QP,5,4,"ng-container",21),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.ic.taskPage$))}}let WP=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.personality=s,this.ic=p}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){}taskTrack(t,i){return i.taskId}isNewDate(t,i){if(0===i)return!0;const s=t[i-1],p=t[i];if(!s||!p)return!1;const w=new Date(s.created);w.setHours(0,0,0,0);const J=new Date(p.created);return J.setHours(0,0,0,0),w.getTime()>J.getTime()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(Q.F),e.Y36(OP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:22,vars:7,consts:[["appExtendPageHeight","",1,"flex","px-3","gap-3"],[1,"flex","flex-grow-1","gap-3"],[4,"ngTemplateOutlet"],[1,"flex","flex-column","gap-3","h-fit","sticky-type-selector","px-2","pb-3",3,"formGroup"],[1,"flex","flex-column","bg-white","shadow-1","border-round","p-3","gap-2"],[1,"text-bluegray-400","text-lg","font-bold"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","\u0417\u0430\u043f\u0440\u043e\u0441...",3,"formControl","keydown.enter"],["type","button","pButton","","pRipple","","icon","mdi-search",3,"click"],["formControlName","template"],[1,"shadow-1","p-3","border-round-md","flex","flex-column","bg-white","gap-2"],["class","input-label-wrapper",4,"ngIf"],[1,"input-label-wrapper"],["formControlName","tags","optionValue","taskTagId","listStyleClass","max-h-20rem",3,"options","multiple","checkbox"],["pTemplate","filter"],["pTemplate","item"],["taskList",""],["formControlName","stage","listStyleClass","max-h-20rem",3,"options"],[1,"flex","align-items-center","w-full","justify-content-between","gap-1"],["appTicker","",1,"max-w-10rem","white-space-nowrap","overflow-hidden"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a",3,"formControl"],[4,"ngIf"],[3,"color","caption"],[3,"ngSwitch"],["class","flex flex-column flex-grow-1",4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter self-center",4,"ngSwitchCase"],[1,"flex","flex-column","flex-grow-1"],[1,"flex","flex-column","shadow-1","border-round-md","overflow-hidden","bg-bluegray-100","gap-1","h-fit"],[3,"isCommentInput","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","first","onPageChange"],["paginator",""],[3,"isCommentInput","item"],[1,"flexed","column","stretched","hcenter","vcenter","self-center"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-500","flexed","column","hcenter","vcenter"],[1,"mds-inbox"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1),e.YNc(3,PP,1,0,"ng-container",2),e.TgZ(4,"div",3)(5,"div",4)(6,"span",5),e._uU(7,"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.TgZ(8,"div",6)(9,"input",7),e.NdJ("keydown.enter",function(){return i.ic.pageControl.setValue(0)}),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return i.ic.pageControl.setValue(0)}),e.qZA()()(),e._UZ(11,"app-task-template-multi-selector",9),e.TgZ(12,"div",10),e.YNc(13,RP,5,1,"div",11),e.TgZ(14,"div",12)(15,"label"),e._uU(16,"\u0422\u0435\u0433\u0438"),e.qZA(),e.TgZ(17,"p-listbox",13),e.YNc(18,NP,1,1,"ng-template",14),e.YNc(19,BP,4,4,"ng-template",15),e.qZA()()()()()(),e.YNc(20,GP,2,3,"ng-template",null,16,e.W1O)),2&t){const s=e.MAs(21);e.xp6(3),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("formGroup",i.ic.filtersForm),e.xp6(5),e.Q6J("formControl",i.ic.searchPhrase),e.xp6(4),e.Q6J("ngIf",i.ic.stageList.length>1&&i.ic.isSelectOneTemplate),e.xp6(4),e.Q6J("options",i.ic.tagsList)("multiple",!0)("checkbox",!0)}}}),n})();const YP=["*"],jP=["rootEl"],Tf=function(n){return{$implicit:n}};function KP(n,o){if(1&n&&(e.TgZ(0,"div",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Tf,t.renderProps))}}function qP(n,o){if(1&n&&(e.TgZ(0,"span",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Tf,t.renderProps))}}function $P(n,o){if(1&n&&(e.TgZ(0,"a",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Tf,t.renderProps))}}function XP(n,o){if(1&n&&(e.TgZ(0,"tr",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Tf,t.renderProps))}}function e6(n,o){if(1&n&&(e.TgZ(0,"th",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Tf,t.renderProps))}}function t6(n,o){if(1&n&&(e.TgZ(0,"td",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Tf,t.renderProps))}}const n6=["dayHeaderContent"],i6=["dayCellContent"],o6=["weekNumberContent"],s6=["nowIndicatorContent"],r6=["eventContent"],a6=["slotLaneContent"],l6=["slotLabelContent"],c6=["allDayContent"],u6=["moreLinkContent"],d6=["noEventsContent"],p6=["resourceAreaHeaderContent"],h6=["resourceGroupLabelContent"],g6=["resourceLabelContent"],f6=["resourceLaneContent"],m6=["resourceGroupLaneContent"];function _6(n,o){if(1&n&&e._UZ(0,"transport-container",1),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",i.templateMap[t.generatorName])("renderProps",t.renderProps)}}const EA={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},C6=["events","eventSources","resources"],v6=Object.prototype.hasOwnProperty;function nb(n){return Array.isArray(n)?n.map(nb):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?SA(n,nb):n}function SA(n,o){const t={};for(const i in n)v6.call(n,i)&&(t[i]=o(n[i],i));return t}function sI(n,o){if(n===o)return!0;if(n&&o&&"object"==typeof n&&"object"==typeof o){if(n.constructor!==o.constructor)return!1;var t,i,s;if(Array.isArray(n)){if((t=n.length)!=o.length)return!1;for(i=t;0!=i--;)if(!sI(n[i],o[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===o.toString();if((t=(s=Object.keys(n)).length)!==Object.keys(o).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(o,s[i]))return!1;for(i=t;0!=i--;){var p=s[i];if(!sI(n[p],o[p]))return!1}return!0}return n!=n&&o!=o}const kA=document.createDocumentFragment();let b6=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){kA.appendChild(this.element.nativeElement)}ngOnDestroy(){kA.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["offscreen-fragment"]],ngContentSelectors:YP,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n})();const ib=document.createDocumentFragment();let y6=(()=>{class n{ngAfterViewInit(){var t;const i=null===(t=this.rootElRef)||void 0===t?void 0:t.nativeElement;DA(i,this.inPlaceOf),rI(i,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(i)}ngOnChanges(t){var i;const s=null===(i=this.rootElRef)||void 0===i?void 0:i.nativeElement;if(s)if(this.inPlaceOf.parentNode!==ib)DA(s,this.inPlaceOf),rI(s,void 0,this.elAttrs),this.reportEl(s);else{const p=t.elAttrs;p&&rI(s,p.previousValue,p.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===ib&&ib.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(jP,5),2&t){let s;e.iGM(s=e.CRH())&&(i.rootElRef=s.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[e.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.YNc(0,KP,3,6,"ng-template",0),e.YNc(1,qP,3,6,"ng-template",0),e.YNc(2,$P,3,6,"ng-template",0),e.YNc(3,XP,3,6,"ng-template",0),e.YNc(4,e6,3,6,"ng-template",0),e.YNc(5,t6,3,6,"ng-template",0)),2&t&&(e.Q6J("ngIf","div"==i.elTag),e.xp6(1),e.Q6J("ngIf","span"==i.elTag),e.xp6(1),e.Q6J("ngIf","a"==i.elTag),e.xp6(1),e.Q6J("ngIf","tr"==i.elTag),e.xp6(1),e.Q6J("ngIf","th"==i.elTag),e.xp6(1),e.Q6J("ngIf","td"==i.elTag))},dependencies:[k.O5,k.mk,k.PC,k.tP],encapsulation:2}),n})();function DA(n,o){var t;null===(t=o.parentNode)||void 0===t||t.insertBefore(n,o.nextSibling),ib.appendChild(o)}function rI(n,o={},t={}){for(const i in o)i in t||(n[i]=null);for(const i in t)n[i]=t[i]}let x6=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};const s=new Rl;s.subscribe(p=>{this.customRenderingMap=p,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=s.handle.bind(s),this.templateMap=this}ngAfterViewInit(){const{deepChangeDetection:t}=this,i=Object.assign(Object.assign({},this.options),this.buildInputOptions());this.optionSnapshot=SA(i,(J,_e)=>t&&EA[_e]?nb(J):J);const s=this.element.nativeElement,p=this.calendar=new ch(s,Object.assign(Object.assign({},i),this.buildExtraOptions())),w=s.closest("ion-content");w&&w.componentOnReady?w.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{p.render()})}):p.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:i}=this,s=Object.assign(Object.assign({},this.options),this.buildInputOptions()),p={},w=[];for(const _e in s)if(s.hasOwnProperty(_e)){let $e=s[_e];t&&EA[_e]?sI(i[_e],$e)||(i[_e]=nb($e),w.push(_e)):i[_e]!==$e&&(i[_e]=$e,w.push(_e)),p[_e]=$e}const J=Object.keys(i);for(const _e of J)_e in s||(delete i[_e],w.push(_e));w.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(Object.assign(Object.assign({},p),this.buildExtraOptions()),w))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){const t={};for(const i of C6){const s=this[i];null!=s&&(t[i]=s)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplacesEl:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,n6,7),e.Suo(s,i6,7),e.Suo(s,o6,7),e.Suo(s,s6,7),e.Suo(s,r6,7),e.Suo(s,a6,7),e.Suo(s,l6,7),e.Suo(s,c6,7),e.Suo(s,u6,7),e.Suo(s,d6,7),e.Suo(s,p6,7),e.Suo(s,h6,7),e.Suo(s,g6,7),e.Suo(s,f6,7),e.Suo(s,m6,7)),2&t){let p;e.iGM(p=e.CRH())&&(i.dayHeaderContent=p.first),e.iGM(p=e.CRH())&&(i.dayCellContent=p.first),e.iGM(p=e.CRH())&&(i.weekNumberContent=p.first),e.iGM(p=e.CRH())&&(i.nowIndicatorContent=p.first),e.iGM(p=e.CRH())&&(i.eventContent=p.first),e.iGM(p=e.CRH())&&(i.slotLaneContent=p.first),e.iGM(p=e.CRH())&&(i.slotLabelContent=p.first),e.iGM(p=e.CRH())&&(i.allDayContent=p.first),e.iGM(p=e.CRH())&&(i.moreLinkContent=p.first),e.iGM(p=e.CRH())&&(i.noEventsContent=p.first),e.iGM(p=e.CRH())&&(i.resourceAreaHeaderContent=p.first),e.iGM(p=e.CRH())&&(i.resourceGroupLabelContent=p.first),e.iGM(p=e.CRH())&&(i.resourceLabelContent=p.first),e.iGM(p=e.CRH())&&(i.resourceLaneContent=p.first),e.iGM(p=e.CRH())&&(i.resourceGroupLaneContent=p.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){1&t&&(e.TgZ(0,"offscreen-fragment"),e.YNc(1,_6,1,8,"transport-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[b6,y6,k.sg],encapsulation:2}),n})(),I6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[k.ez]]}),n})();var aI=b(330),Q_=b(5871);const T6=["scroller"];function A6(n,o){1&n&&e.GkF(0)}function w6(n,o){if(1&n&&(e.TgZ(0,"div",8),e.Hsn(1),e.YNc(2,A6,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function E6(n,o){1&n&&e.GkF(0)}const MA=function(n){return{height:n}},S6=function(n,o){return{$implicit:n,options:o}};function k6(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,E6,1,0,"ng-container",11),e.qZA()),2&n){const t=o.$implicit,i=o.options,s=e.oxw();e.Q6J("ngStyle",e.VKq(3,MA,s.itemSize+"px")),e.xp6(1),e.Q6J("ngTemplateOutlet",t?s.itemTemplate:s.loadingItemTemplate)("ngTemplateOutletContext",e.WLB(5,S6,t,i))}}function D6(n,o){1&n&&e.GkF(0)}function M6(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,1),e.YNc(2,D6,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const O6=[[["p-header"]],[["p-footer"]]],P6=["p-header","p-footer"];let L6=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.delay=250,this.onLazyLoad=new e.vpe}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"loadingItem":this.loadingItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}onLazyItemLoad(t){this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{this.onLazyLoad.emit(Object.assign(Object.assign({},t),{rows:t.last-t.first,forceUpdate:()=>this.cd.detectChanges()}))},this.delay)}getBlockableElement(){return this.el.nativeElement.children[0]}scrollToIndex(t,i){var s;null===(s=this.scroller)||void 0===s||s.scrollToIndex(t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-virtualScroller"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,N.h4,5),e.Suo(s,N.$_,5),e.Suo(s,N.jx,4)),2&t){let p;e.iGM(p=e.CRH())&&(i.header=p.first),e.iGM(p=e.CRH())&&(i.footer=p.first),e.iGM(p=e.CRH())&&(i.templates=p)}},viewQuery:function(t,i){if(1&t&&e.Gf(T6,5),2&t){let s;e.iGM(s=e.CRH())&&(i.scroller=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",itemSize:"itemSize",style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:"lazy",options:"options",delay:"delay"},outputs:{onLazyLoad:"onLazyLoad"},ngContentSelectors:P6,decls:8,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["content",""],["styleClass","p-virtualscroller-list",3,"items","itemSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","item"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(t,i){1&t&&(e.F$t(O6),e.TgZ(0,"div",0),e.YNc(1,w6,3,1,"div",1),e.TgZ(2,"div",2,3)(4,"p-scroller",4,5),e.NdJ("onLazyLoad",function(p){return i.onLazyItemLoad(p)}),e.YNc(6,k6,2,8,"ng-template",6),e.qZA()(),e.YNc(7,M6,3,1,"div",7),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-virtualscroller p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(3),e.Akn(e.VKq(12,MA,i.scrollHeight)),e.Q6J("items",i.value)("itemSize",i.itemSize)("lazy",i.lazy)("options",i.options),e.xp6(3),e.Q6J("ngIf",i.footer||i.footerTemplate))},dependencies:[k.mk,k.O5,k.tP,k.PC,N.jx,Q_.T],encapsulation:2}),n})(),OA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,N.m8,Q_.v,N.m8,Q_.v]}),n})();var PA=b(8185),G_=b(7102),R6=b(9618),ob=b(7658);let dL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,bl.U,ye.T,Q_.v,N.m8,Q_.v]}),n})();var RA=b(4776),NA=b(4496),pL=b(9955);const hL=["inputtext"];function gL(n,o){1&n&&e.GkF(0)}function fL(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Oqu(i.field?i.resolveFieldData(t,i.field):t)}}function mL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw().index,w=e.oxw();return e.KtG(w.removeItem(s,p))}),e.qZA()}}const _L=function(n){return{$implicit:n}};function CL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",7,8),e.NdJ("click",function(s){const w=e.CHM(t).$implicit,J=e.oxw();return e.KtG(J.onItemClick(s,w))}),e.YNc(2,gL,1,0,"ng-container",9),e.YNc(3,fL,2,1,"span",10),e.YNc(4,mL,1,0,"span",11),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(4,_L,t)),e.xp6(1),e.Q6J("ngIf",!i.itemTemplate),e.xp6(1),e.Q6J("ngIf",!i.disabled)}}function vL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.clear())}),e.qZA()}}const bL=function(n,o){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":n,"p-disabled":o}},yL=function(n){return{"p-chips-clearable":n}},xL={provide:f.JU,useExisting:(0,e.Gpc)(()=>FA),multi:!0};let FA=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.allowDuplicate=!0,this.showClear=!1,this.onAdd=new e.vpe,this.onRemove=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onChipClick=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.itemTemplate=t.template}),this.updateFilledState()}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(s=>{this.addItem(t,s,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(t,i){this.onChipClick.emit({originalEvent:t,value:i})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,i){if(t&&i){if(-1==i.indexOf("."))return t[i];{let w=i.split("."),J=t;for(var s=0,p=w.length;s<p;++s)J=J[w[s]];return J}}return null}onInputFocus(t){this.focus=!0,this.onFocus.emit(t)}onInputBlur(t){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,i){if(this.disabled)return;let s=this.value[i];this.value=this.value.filter((p,w)=>w!=i),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:s}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,i,s){this.value=this.value||[],i&&i.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(i))&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:i})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",s&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onKeydown(t){switch(t.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:i}),this.updateFilledState()}break;case 13:this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?t.preventDefault():this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.max&&this.value&&this.max===this.value.length?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chips"]],contentQueries:function(t,i,s){if(1&t&&e.Suo(s,N.jx,4),2&t){let p;e.iGM(p=e.CRH())&&(i.templates=p)}},viewQuery:function(t,i){if(1&t&&e.Gf(hL,5),2&t){let s;e.iGM(s=e.CRH())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,i){2&t&&e.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-chips-clearable",i.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[e._Bn([xL])],decls:8,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],["class","p-chips-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"],[1,"p-chips-clear-icon","pi","pi-times",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return i.onClick()}),e.TgZ(1,"ul",1),e.YNc(2,CL,5,6,"li",2),e.TgZ(3,"li",3)(4,"input",4,5),e.NdJ("keydown",function(p){return i.onKeydown(p)})("input",function(){return i.onInput()})("paste",function(p){return i.onPaste(p)})("focus",function(p){return i.onInputFocus(p)})("blur",function(p){return i.onInputBlur(p)}),e.qZA()(),e.TgZ(6,"li"),e.YNc(7,vL,1,0,"i",6),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-chips p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngClass",e.WLB(16,bL,i.focus,i.disabled)),e.xp6(1),e.Q6J("ngForOf",i.value),e.xp6(1),e.Q6J("ngClass",e.VKq(19,yL,i.showClear&&!i.disabled)),e.xp6(1),e.Tol(i.inputStyleClass),e.Q6J("disabled",i.disabled)("ngStyle",i.inputStyle),e.uIk("id",i.inputId)("placeholder",i.value&&i.value.length?null:i.placeholder)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),e.xp6(3),e.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear))},dependencies:[k.mk,k.sg,k.O5,k.tP,k.PC],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),IL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez,yi.j,N.m8,yi.j,N.m8]}),n})();var BA=b(2537),TL=b(5032);const ZA=new Kl.y(TL.Z);var lI=b(2076),AL=b(2843);const wL=["container"];class UA{constructor(o){this.ngZone=o,this.pending=[],this.listeners=[],this.targetStream=new ol.X(void 0)}getLazyEmitter(o){return this.targetStream.pipe((0,R.w)(t=>{const i=new Kl.y(s=>{if(!t)return void this.pending.push({observable:i,observer:s});const p=J=>{const _e={event:J,target:t,ymaps};this.ngZone.run(()=>s.next(_e))},w=t.events.add(o,p);return this.listeners.push({name:o,callback:p,manager:w}),()=>w.remove(o,p)});return i}))}setTarget(o){const t=this.targetStream.value;o!==t&&(t&&(this.clearListeners(),this.pending=[]),this.targetStream.next(o),this.pending.forEach(i=>i.observable.subscribe(i.observer)),this.pending=[])}destroy(){this.clearListeners(),this.pending=[],this.targetStream.complete()}clearListeners(){this.listeners.forEach(o=>{const{name:t,callback:i,manager:s}=o;s.remove(t,i)}),this.listeners=[]}}const HA=new e.OlP("YA_CONFIG");let SL=(()=>{class n{constructor(t,i,s){this.document=i,this.isBrowser=(0,k.NF)(s),this.config=Object.assign(Object.assign({},{lang:"ru_RU"}),t)}load(){if(!this.isBrowser)return ZA;if(window.ymaps)return(0,lI.D)(ymaps.ready()).pipe((0,mt.U)(()=>ymaps));if(!this.script){const s=this.document.createElement("script");s.type="text/javascript",s.src=this.getScriptSource(this.config),s.id="yandexMapsApiScript",s.async=!0,s.defer=!0,this.script=this.document.body.appendChild(s)}const t=(0,x.R)(this.script,"load").pipe((0,R.w)(()=>(0,lI.D)(ymaps.ready())),(0,mt.U)(()=>ymaps)),i=(0,x.R)(this.script,"error").pipe((0,R.w)(AL._));return(0,Eo.T)(t,i).pipe((0,$1.q)(1))}getScriptSource(t){const{enterprise:i,version:s="2.1"}=t,p=(0,Ua._T)(t,["enterprise","version"]);return`https://${i?"enterprise.":""}api-maps.yandex.ru/${s}/?${this.convertConfigIntoQueryParams(p)}`}convertConfigIntoQueryParams(t){return Object.entries(t).map(([i,s])=>`${i}=${s}`).join("&")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(HA,8),e.LFG(k.K0),e.LFG(e.Lbi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VA=(()=>{class n{constructor(t,i){this.ngZone=t,this.yaApiLoaderService=i,this.destroy$=new Rr.x,this.eventManager=new UA(this.ngZone),this.map$=new ol.X(null),this.ready=new e.vpe,this.actionbegin=this.eventManager.getLazyEmitter("actionbegin"),this.actionbreak=this.eventManager.getLazyEmitter("actionbreak"),this.actionend=this.eventManager.getLazyEmitter("actionend"),this.actiontick=this.eventManager.getLazyEmitter("actiontick"),this.actiontickcomplete=this.eventManager.getLazyEmitter("actiontickcomplete"),this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.boundschange=this.eventManager.getLazyEmitter("boundschange"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.destroy=this.eventManager.getLazyEmitter("destroy"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.marginchange=this.eventManager.getLazyEmitter("marginchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.sizechange=this.eventManager.getLazyEmitter("sizechange"),this.typechange=this.eventManager.getLazyEmitter("typechange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){const i=this.map$.value;if(i){const{center:s,zoom:p,state:w,options:J}=t;w&&this.setState(this.combineState(),i),s&&i.setCenter(s.currentValue),p&&i.setZoom(p.currentValue),J&&i.options.set(J.currentValue)}}ngAfterViewInit(){this.yaApiLoaderService.load().pipe((0,$1.q)(1),(0,q1.R)(this.destroy$)).subscribe(()=>{const t=`f${Date.now().toString(16)}`,i=this.createMap(t);this.map$.next(i),this.eventManager.setTarget(i),this.ngZone.run(()=>this.ready.emit({ymaps,target:i}))})}ngOnDestroy(){this.eventManager.destroy(),this.destroy$.next(),this.destroy$.complete()}setState(t,i){const{behaviors:s,bounds:p,center:w,controls:J,margin:_e,type:$e,zoom:Xe}=t;s&&i.behaviors.enable(s),p&&i.setBounds(p),w&&i.setCenter(w),J&&J.forEach(Xt=>i.controls.add(Xt)),_e&&i.margin.setDefaultMargin(_e),$e&&i.setType($e),Xe&&i.setZoom(Xe)}createMap(t){const i=this.container.nativeElement;return i.setAttribute("id",t),i.style.cssText="width: 100%; height: 100%;",new ymaps.Map(t,this.combineState(),this.options||{})}combineState(){var t,i;const s=this.state||{};return Object.assign(Object.assign({},s),{center:this.center||s.center||[0,0],zoom:null!==(i=null!==(t=this.zoom)&&void 0!==t?t:s.zoom)&&void 0!==i?i:10})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(SL))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ya-map"]],viewQuery:function(t,i){if(1&t&&e.Gf(wL,5),2&t){let s;e.iGM(s=e.CRH())&&(i.container=s.first)}},inputs:{center:"center",zoom:"zoom",state:"state",options:"options"},outputs:{ready:"ready",actionbegin:"actionbegin",actionbreak:"actionbreak",actionend:"actionend",actiontick:"actiontick",actiontickcomplete:"actiontickcomplete",balloonclose:"balloonclose",balloonopen:"balloonopen",boundschange:"boundschange",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",destroy:"destroy",hintclose:"hintclose",hintopen:"hintopen",marginchange:"marginchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",sizechange:"sizechange",typechange:"typechange",yawheel:"yawheel"},features:[e.TTD],decls:2,vars:0,consts:[["container",""]],template:function(t,i){1&t&&e._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})(),kL=(()=>{class n{constructor(t,i){this.ngZone=t,this.yaMapComponent=i,this.destroy$=new Rr.x,this.eventManager=new UA(this.ngZone),this.ready=new e.vpe,this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.beforedrag=this.eventManager.getLazyEmitter("beforedrag"),this.beforedragstart=this.eventManager.getLazyEmitter("beforedragstart"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.yadrag=this.eventManager.getLazyEmitter("drag"),this.yadragend=this.eventManager.getLazyEmitter("dragend"),this.yadragstart=this.eventManager.getLazyEmitter("dragstart"),this.editorstatechange=this.eventManager.getLazyEmitter("editorstatechange"),this.geometrychange=this.eventManager.getLazyEmitter("geometrychange"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.mapchange=this.eventManager.getLazyEmitter("mapchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.overlaychange=this.eventManager.getLazyEmitter("overlaychange"),this.parentchange=this.eventManager.getLazyEmitter("parentchange"),this.propertieschange=this.eventManager.getLazyEmitter("propertieschange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){var i;const{placemark:s}=this;if(s){const{geometry:p,properties:w,options:J}=t;p&&(null===(i=s.geometry)||void 0===i||i.setCoordinates(p.currentValue)),w&&s.properties.set(w.currentValue),J&&s.options.set(J.currentValue)}}ngOnInit(){this.yaMapComponent.map$.pipe((0,r.h)(Boolean),(0,$1.q)(1),(0,q1.R)(this.destroy$)).subscribe(t=>{const i=this.createPlacemark();this.placemark=i,t.geoObjects.add(i),this.eventManager.setTarget(i),this.ngZone.run(()=>this.ready.emit({ymaps,target:i}))})}ngOnDestroy(){var t,i;this.placemark&&(null===(i=null===(t=this.yaMapComponent)||void 0===t?void 0:t.map$.value)||void 0===i||i.geoObjects.remove(this.placemark),this.eventManager.destroy()),this.destroy$.next(),this.destroy$.complete()}createPlacemark(){return new ymaps.Placemark(this.geometry,this.properties,this.options)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(VA))},n.\u0275dir=e.lG2({type:n,selectors:[["ya-placemark"]],inputs:{geometry:"geometry",properties:"properties",options:"options"},outputs:{ready:"ready",balloonclose:"balloonclose",balloonopen:"balloonopen",beforedrag:"beforedrag",beforedragstart:"beforedragstart",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",yadrag:"yadrag",yadragend:"yadragend",yadragstart:"yadragstart",editorstatechange:"editorstatechange",geometrychange:"geometrychange",hintclose:"hintclose",hintopen:"hintopen",mapchange:"mapchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",overlaychange:"overlaychange",parentchange:"parentchange",propertieschange:"propertieschange",yawheel:"yawheel"},features:[e.TTD]}),n})(),DL=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:HA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var ML=b(6954),zA=b(7433);function OL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",6),e.NdJ("error",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.imageError(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("src",t.image,e.LSH)}}function PL(n,o){if(1&n&&e._UZ(0,"span",8),2&n){const t=e.oxw(3);e.Tol(t.icon),e.Q6J("ngClass","p-chip-icon")}}function LL(n,o){if(1&n&&e.YNc(0,PL,1,3,"span",7),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.icon)}}function RL(n,o){if(1&n&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.label)}}function NL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",10),e.NdJ("click",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.close(s))})("keydown.enter",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.close(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Tol(t.removeIcon),e.Q6J("ngClass","pi-chip-remove-icon")}}function FL(n,o){if(1&n&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,OL,1,1,"img",2),e.YNc(3,LL,1,1,"ng-template",null,3,e.W1O),e.YNc(5,RL,2,1,"div",4),e.YNc(6,NL,1,3,"span",5),e.qZA()),2&n){const t=e.MAs(4),i=e.oxw();e.Tol(i.styleClass),e.Q6J("ngClass",i.containerClass())("ngStyle",i.style),e.xp6(2),e.Q6J("ngIf",i.image)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.label),e.xp6(1),e.Q6J("ngIf",i.removable)}}const BL=["*"];let ZL=(()=>{class n{constructor(){this.removeIcon="pi pi-times-circle",this.onRemove=new e.vpe,this.onImageError=new e.vpe,this.visible=!0}containerClass(){return{"p-chip p-component":!0,"p-chip-image":null!=this.image}}close(t){this.visible=!1,this.onRemove.emit(t)}imageError(t){this.onImageError.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chip"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",style:"style",styleClass:"styleClass",removable:"removable",removeIcon:"removeIcon"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},ngContentSelectors:BL,decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"src","error",4,"ngIf","ngIfElse"],["iconTemplate",""],["class","p-chip-text",4,"ngIf"],["tabindex","0",3,"class","ngClass","click","keydown.enter",4,"ngIf"],[3,"src","error"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-text"],["tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,FL,7,8,"div",0)),2&t&&e.Q6J("ngIf",i.visible)},dependencies:[k.mk,k.O5,k.PC],styles:[".p-chip{display:inline-flex;align-items:center}.p-chip-text,.p-chip-icon.pi{line-height:1.5}.pi-chip-remove-icon{line-height:1.5;cursor:pointer}.p-chip img{border-radius:50%}\n"],encapsulation:2,changeDetection:0}),n})(),UL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[k.ez]}),n})();var JA=b(7575),HL=b(430),vr=b(5948),wf=b(1828);let QA=(()=>{class n{constructor(){this.chooserControl=new f.NI([]),this.options=[{name:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:he.hY.ACTIVE},{name:"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",value:he.hY.PROCESSING},{name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:he.hY.CLOSE}],this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.chooserControl.valueChanges.subscribe(t=>{this.onChange(t||[])})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.chooserControl.disable({emitEvent:!1}):this.chooserControl.enable({emitEvent:!1})}writeValue(t){this.chooserControl.setValue(t||[])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-status-chooser"]],features:[e._Bn([{provide:f.JU,multi:!0,useExisting:n}])],decls:1,vars:3,consts:[["optionLabel","name","optionValue","value",3,"options","formControl","multiple"]],template:function(t,i){1&t&&e._UZ(0,"p-selectButton",0),2&t&&e.Q6J("options",i.options)("formControl",i.chooserControl)("multiple",!0)},dependencies:[f.JJ,f.oH,G_.UN]}),n})();var VL=b(5834);const zL=function(n){return{disabled:n}};function JL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectAll())}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,zL,t.disabled))}}function QL(n,o){1&n&&e.GkF(0)}const GL=function(n){return{$implicit:n}};function WL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,QL,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,GL,t))}}function YL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,WL,2,4,"ng-container",10),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.templates)("ngForTrackBy",t.templateTrack)}}function jL(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12),e._UZ(2,"p-progressSpinner",13),e.qZA(),e.BQk())}function KL(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()(),e.BQk())}function qL(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",16),e._UZ(3,"i",17),e.TgZ(4,"span"),e._uU(5," \u0428\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435\u0442 "),e.qZA()()(),e.BQk())}function $L(n,o){if(1&n&&e._UZ(0,"app-colored-tag",23),2&n){const t=e.oxw().$implicit;e.Q6J("caption",t.countTask.toString())}}const XL=function(n,o,t){return{selected:n,"un-target":o,disabled:t}},eR=function(n,o,t){return{"mdi-radio_button_unchecked":n,"mdi-check_circle_outline":o,"mdi-close":t}};function tR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.uniselect(p.wireframeId))}),e.TgZ(1,"i",19),e.NdJ("click",function(s){const w=e.CHM(t).$implicit,J=e.oxw();return s.stopPropagation(),e.KtG(J.toggle(w.wireframeId))}),e.qZA(),e.TgZ(2,"span",20),e.NdJ("mouseenter",function(){const p=e.CHM(t).$implicit,w=e.oxw();return w.uniTargetMode=!0,e.KtG(w.uniTargetId=p.wireframeId)})("mouseleave",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.uniTargetMode=!1)}),e.TgZ(3,"span",21),e._uU(4),e.qZA(),e.YNc(5,$L,1,1,"app-colored-tag",22),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.kEZ(4,XL,i.isSelect(t.wireframeId),i.isUntarget(t.wireframeId),i.disabled)),e.xp6(1),e.Q6J("ngClass",e.kEZ(8,eR,!i.isSelect(t.wireframeId),i.isSelect(t.wireframeId),i.isSelect(t.wireframeId)&&i.isUntarget(t.wireframeId))),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.countTask)}}const nR=function(n){return{"shadow-1 p-2 border-round-md flex flex-column bg-white":n}};let cI=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.personality=s,this.templates=[],this.deletedTemplates=[],this.selected=[],this.countersType="incoming",this.inline=!1,this.status="loading",this.uniTargetMode=!1,this.uniTargetId=0,this.disabled=!1,this.closed=!0,this.subscriptions=new _.xf,this.onChange=p=>{},this.onTouched=()=>{}}isUntarget(t){return this.uniTargetMode&&this.uniTargetId!==t}setDisabledState(t){this.disabled=t}uniselect(t){this.selected=[t],this.onChange(this.selected)}select(t){this.selected.push(t),this.onChange(this.selected)}unselect(t){this.selected.length>1&&(this.selected=this.selected.filter(i=>i!==t),this.onChange(this.selected))}isSelect(t){return this.selected.includes(t)}templateTrack(t,i){var s;return i.wireframeId+(null!==(s=i.countTask)&&void 0!==s?s:"").toString()}ngOnInit(){this.status="loading",this.api.getWireframes(!0).subscribe({next:t=>{this.templates=t.filter(i=>!i.deleted),this.deletedTemplates=t.filter(i=>i.deleted),0===this.templates.length?this.status="empty":(0===this.selected.length&&(this.selected=[this.templates[0].wireframeId],this.onChange(this.selected)),"none"!==this.countersType&&(0,lI.D)(this.templates).pipe((0,Gd.z)(i=>"incoming"===this.countersType?this.api.getCountIncomingTasksByWireframeId(i.wireframeId).pipe((0,mt.U)(s=>({id:i.wireframeId,num:s}))):this.api.getCountAllTasksByWireframeId(i.wireframeId).pipe((0,mt.U)(s=>({id:i.wireframeId,num:s}))))).subscribe(i=>{const s=this.templates.find(p=>p.wireframeId===i.id);s&&(s.countTask=i.num)}),this.status="ready")},error:()=>{this.status="error"}}),"incoming"===this.countersType?this.personality.userLogin$.subscribe(t=>{this.subscriptions.addSubscription("countUpdater",this.rt.incomingTaskCountChange(t).pipe((0,r.h)(()=>"incoming"===this.countersType)).subscribe(this.counterUpdateHandler.bind(this)))}):"all"===this.countersType&&this.subscriptions.addSubscription("countUpdater",this.rt.taskCountChange().pipe((0,r.h)(()=>"all"===this.countersType)).subscribe(this.counterUpdateHandler.bind(this)))}counterUpdateHandler(t){const i=this.templates.find(s=>s.wireframeId===t.id);i&&(i.countTask=t.num)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.selected=t}toggle(t){this.isSelect(t)?this.unselect(t):this.select(t)}selectAll(){this.selected=this.templates.map(t=>t.wireframeId),this.onChange(this.selected)}toggleExpand(){this.closed=!this.closed}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(Q.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-multi-selector"]],inputs:{countersType:"countersType",inline:"inline"},features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:13,vars:9,consts:[[1,"template-selector",3,"ngClass"],[1,"template-selector-title"],[1,"mdi-checklist"],[1,"stretched"],["class","select-all-button","pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",3,"ngClass","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["templateItem",""],["pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",1,"select-all-button",3,"ngClass","click"],[1,"mdi-select_all"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"template-selector-message"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"caption","size-big","wt-bold","f-color-danger","flexed","hcenter","gap3"],[1,"mdi-warning"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],[1,"template-selector-item",3,"ngClass","click"],[3,"ngClass","click"],[1,"flexed","hcenter",3,"mouseenter","mouseleave"],[1,"one-line"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["color","var(--mc-500)",3,"caption"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4," \u041a\u043b\u0430\u0441\u0441\u044b \u0437\u0430\u0434\u0430\u0447 "),e.qZA(),e.YNc(5,JL,2,3,"span",4),e.qZA(),e.ynx(6,5),e.YNc(7,YL,2,2,"ng-container",6),e.YNc(8,jL,3,0,"ng-container",6),e.YNc(9,KL,6,0,"ng-container",6),e.YNc(10,qL,6,0,"ng-container",6),e.BQk(),e.qZA(),e.YNc(11,tR,6,12,"ng-template",null,7,e.W1O)),2&t&&(e.Q6J("ngClass",e.VKq(7,nR,!i.inline)),e.xp6(5),e.Q6J("ngIf",i.selected.length<i.templates.length),e.xp6(1),e.Q6J("ngSwitch",i.status),e.xp6(1),e.Q6J("ngSwitchCase","ready"),e.xp6(1),e.Q6J("ngSwitchCase","loading"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","empty"))},dependencies:[k.mk,k.sg,k.O5,k.tP,k.RF,k.n9,Gi.u,et.G,ye.H,wf.C],styles:["[_nghost-%COMP%]{height:-moz-fit-content;height:fit-content}.select-all-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.3rem;cursor:pointer;border-radius:var(--br-100);background-color:transparent;transition:color .1s ease-in-out,background-color .1s ease-in-out}.select-all-button[_ngcontent-%COMP%]:hover{color:var(--mc-400);background-color:var(--bgc-100)}.select-all-button.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.template-selector[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:.5rem}.template-selector-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;font-weight:500;color:var(--tc-700);gap:.4rem;padding:.4rem;margin:0 .3rem .3rem;border-bottom:1px solid var(--bgc-100)}.template-selector-message[_ngcontent-%COMP%]{display:flex;padding:2rem;align-items:center;justify-content:center}.template-selector-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;transition:all .1s ease-in-out;color:var(--tc-700)}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.5rem 0 .5rem .8rem}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem .8rem .5rem 0;flex:1}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item.selected[_ngcontent-%COMP%]{color:var(--mc-500)}.template-selector-item.un-target[_ngcontent-%COMP%]{color:var(--tc-200)}.template-selector-item.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.expand-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.3rem .5rem .3rem .7rem;border-top:1px solid var(--bgc-100);cursor:pointer;color:var(--tc-600);font-size:.85rem;margin:.3rem 0;transition:color .1s ease-in-out;-webkit-user-select:none;user-select:none}.expand-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.expand-button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transition:all .1s ease-in-out;transform-origin:50% 40%;transform:rotate(180deg) translateY(-.2rem)}.expand-button.closed[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transform:rotate(0) translateY(.1rem)}.expand-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;transition:height .1s ease-in-out}"]}),n})();function iR(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}function oR(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}let uI=(()=>{class n{constructor(t){this.api=t,this.employees=[],this.control=new f.NI(null),this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t}),this.control.valueChanges.subscribe(t=>{this.onChange(t)})}ngOnDestroy(){}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-selector"]],features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:3,vars:3,consts:[["styleClass","full-width","optionValue","login","appendTo","body","placeholder","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",3,"options","formControl","showClear","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[3,"size","employee"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,iR,1,2,"ng-template",1),e.YNc(2,oR,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("options",i.employees)("formControl",i.control)("showClear",!0)},dependencies:[f.JJ,qe.Lt,N.jx,f.oH,fc.x]}),n})(),sb=(()=>{class n{constructor(){this.control=new f.NI(null),this.dropDownControl=new f.NI(null),this.calendarControl=new f.NI(null),this.calendarVisible=!1,this.rangeOptions=[{label:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",value:he.nv.TODAY},{label:"\u0412\u0447\u0435\u0440\u0430",value:he.nv.YESTERDAY},{label:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f",value:he.nv.THIS_WEEK},{label:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f",value:he.nv.LAST_WEEK},{label:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446",value:he.nv.THIS_MONTH},{label:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",value:he.nv.LAST_MONTH},{label:"\u0412\u0440\u0443\u0447\u043d\u0443\u044e",value:"manual"}],this.mainControlChange$=this.control.valueChanges,this.selectTimeFrame$=this.dropDownControl.valueChanges.pipe((0,r.h)(t=>"manual"!==t)),this.selectManual$=this.dropDownControl.valueChanges.pipe((0,r.h)(t=>"manual"===t)),this.calendarChange$=this.calendarControl.valueChanges,this.subscription=new _.xf,this.onChange=t=>{},this.onTouched=()=>{}}static formatDate(t){return"string"==typeof t&&(t=new Date(t)),`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.subscription.addSubscription("change",this.mainControlChange$.pipe((0,ei.b)(this.setManualLabel.bind(this))).subscribe(t=>this.onChange(t))),this.subscription.addSubscription("timeFrameSelected",this.selectTimeFrame$.subscribe(t=>{if(this.calendarVisible=!1,null===t)return this.control.setValue(null),void this.calendarControl.setValue(null);this.control.setValue({timeFrame:t,start:null,end:null})})),this.subscription.addSubscription("manualSelected",this.selectManual$.subscribe(()=>{this.calendarVisible=!0})),this.subscription.addSubscription("calendarChange",this.calendarChange$.subscribe(t=>{t&&t[0]&&t[1]&&(this.control.setValue({timeFrame:null,start:t[0],end:t[1]}),this.calendarVisible=!1)}))}setManualLabel(t){if(t&&t.start&&t.end){const i=this.rangeOptions.find(s=>"manual"===s.value);i&&(i.label=n.formatDate(t.start)+" - "+n.formatDate(t.end),this.rangeOptions=[...this.rangeOptions])}else{const i=this.rangeOptions.find(s=>"manual"===s.value);i&&(i.label="\u0412\u0440\u0443\u0447\u043d\u0443\u044e",this.rangeOptions=[...this.rangeOptions])}}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.setupDropdown(t)}setupDropdown(t){return t?t.timeFrame?(this.dropDownControl.setValue(t.timeFrame),void this.calendarControl.setValue(null)):t.start&&t.end?(this.dropDownControl.setValue("manual"),void this.calendarControl.setValue([t.start,t.end])):void 0:(this.dropDownControl.setValue(null),void this.calendarControl.setValue(null))}clearIsUnselect(){if(!this.control.value)return;const{start:t,end:i}=this.control.value;(!t||!i)&&(this.dropDownControl.setValue(null),this.calendarControl.setValue(null))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-data-range-input"]],features:[e._Bn([{provide:f.JU,useExisting:n,multi:!0}])],decls:4,vars:9,consts:[[1,"flex","w-fit",3,"focusin"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","appendTo","body",3,"options","showClear","formControl"],["appendTo","body","styleClass","w-30rem",3,"visible","visibleChange","onHide"],["styleClass","full-width",3,"inline","formControl","selectOtherMonths","selectionMode","firstDayOfWeek"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("focusin",function(){return i.onTouched()}),e._UZ(1,"p-dropdown",1),e.qZA(),e.TgZ(2,"p-overlay",2),e.NdJ("visibleChange",function(p){return i.calendarVisible=p})("onHide",function(){return i.clearIsUnselect()}),e._UZ(3,"p-calendar",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("options",i.rangeOptions)("showClear",!0)("formControl",i.dropDownControl),e.xp6(1),e.Q6J("visible",i.calendarVisible),e.xp6(1),e.Q6J("inline",!0)("formControl",i.calendarControl)("selectOtherMonths",!0)("selectionMode","range")("firstDayOfWeek",1))},dependencies:[f.JJ,qe.Lt,K.aV,f.oH,j1.f]}),n})();function sR(n,o){1&n&&e._UZ(0,"i",12)}let rR=(()=>{class n{constructor(t,i){this.confirm=t,this.api=i,this.onEditTag=new e.vpe}ngOnInit(){}deleteTag(t){var i;this.confirm.confirm({key:null===(i=this.tag)||void 0===i?void 0:i.taskTagId.toString(),target:t.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0433?",icon:"pi pi-exclamation-triangle",accept:()=>{var s;null!==(s=this.tag)&&void 0!==s&&s.taskTagId&&this.api.deleteTaskTag(this.tag.taskTagId).subscribe()},reject:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.YP),e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-list-item"]],inputs:{tag:"tag"},outputs:{onEditTag:"onEditTag"},decls:17,vars:13,consts:[[1,"tag-item"],[1,"color"],[1,"flexed","column"],[1,"name","flexed","hcenter","gap3"],["class","mdi-not_interested",4,"ngIf"],[1,"flexed","hcenter","gap2"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"stretched"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"disabled","onClick"],["styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","icon","mdi-delete",3,"disabled","onClick"],[3,"key"],[1,"mdi-not_interested"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.YNc(4,sR,1,0,"i",4),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"span",5)(8,"span",6),e._uU(9,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.ALo(12,"date"),e.qZA()()(),e._UZ(13,"div",8),e.TgZ(14,"p-button",9),e.NdJ("onClick",function(){return i.onEditTag.emit(i.tag)}),e.qZA(),e.TgZ(15,"p-button",10),e.NdJ("onClick",function(p){return i.deleteTag(p)}),e.qZA()(),e._UZ(16,"p-confirmPopup",11)),2&t){let s,p,w;e.xp6(1),e.Udp("background-color",null==i.tag?null:i.tag.color),e.xp6(2),e.Udp("opacity",null!=i.tag&&i.tag.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",null==i.tag?null:i.tag.deleted),e.xp6(2),e.hij(" ",null==i.tag?null:i.tag.name," "),e.xp6(5),e.Oqu(e.xi3(12,10,null==i.tag?null:i.tag.created,"dd MMM yyyy HH:mm")),e.xp6(3),e.Q6J("disabled",null!==(s=null==i.tag?null:i.tag.deleted)&&void 0!==s&&s),e.xp6(1),e.Q6J("disabled",null!==(p=null==i.tag?null:i.tag.deleted)&&void 0!==p&&p),e.xp6(1),e.Q6J("key",(null!==(w=null==i.tag?null:i.tag.taskTagId)&&void 0!==w?w:"").toString())}},dependencies:[k.O5,O.zx,iI.P,k.uU],styles:['.task-tags-list-item[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/repeat(2,max-content);grid-template-areas:"name creator" "time creator";border-radius:999px;color:var(--tc-100);white-space:nowrap;height:min-content;overflow:hidden;position:relative;box-shadow:0 0 .7px #00000003,0 .3px 2.8px #00000009,0 4px 10px #00000026}.task-tags-list-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;grid-area:name;padding:.5rem 1rem 0 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-200);grid-area:time;padding:0 1rem .5rem 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;grid-area:creator;background-color:#fff;padding:1rem}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;border-radius:inherit;background-color:#00000060;transition:opacity .2s ease-out}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]:hover{opacity:1}.tag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.5rem}.tag-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}.tag-item[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:999px}.tag-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;color:var(--tc-700)}']}),n})();var aR=b(6288),lR=b(85);function cR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u043e\u0442\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.images.length.toString())}}function uR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const p=e.CHM(t).index,w=e.oxw();return e.KtG(w.viewerService.showMediaAlbum(p,w.images))}),e._UZ(1,"img",14),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("src",i.baseUrl+t.name,e.LSH)}}function dR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0412\u0438\u0434\u0435\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.videos.length.toString())}}function pR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const p=e.CHM(t).index,w=e.oxw();return e.KtG(w.viewerService.showMediaAlbum(p,w.videos))}),e.TgZ(1,"span",16),e._uU(2,"movie"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function hR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0410\u0443\u0434\u0438\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.audios.length.toString())}}function gR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const p=e.CHM(t).index,w=e.oxw();return e.KtG(w.viewerService.showMediaAlbum(p,w.audios))}),e.TgZ(1,"span",16),e._uU(2,"music_note"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function fR(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.documents.length.toString())}}function mR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.click())}),e.TgZ(1,"span",16),e._uU(2,"picture_as_pdf"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",18,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("href",i.baseUrl+t.name+"/",e.LSH)}}function _R(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u0430\u0439\u043b\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.files.length.toString())}}function CR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(6);return e.KtG(s.click())}),e.TgZ(1,"span",16),e._uU(2,"description"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",20,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("download",t.name)("href",i.baseUrl+t.name+"/",e.LSH)}}let vR=(()=>{class n{constructor(t,i){this.api=t,this.viewerService=i,this.show=!1,this.showChange=new e.vpe,this.baseUrl="/api/private/attachment/",this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}ngOnInit(){this.clearAllAttachments(),this.taskId&&this.api.getAllTaskAttachments(this.taskId).subscribe(t=>{for(const i of t)switch(i.type){case he.sf.PHOTO:this.images.push(i);break;case he.sf.VIDEO:this.videos.push(i);break;case he.sf.AUDIO:this.audios.push(i);break;case he.sf.DOCUMENT:this.documents.push(i);break;case he.sf.FILE:this.files.push(i)}})}clearAllAttachments(){this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(eI.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attachments-history-dialog"]],inputs:{taskId:"taskId",show:"show"},outputs:{showChange:"showChange"},decls:22,vars:10,consts:[["header","\u0424\u0430\u0439\u043b\u044b \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"draggable","dismissableMask","visible","modal","resizable","visibleChange"],["header","\u0424\u043e\u0442\u043e"],["pTemplate","header"],[1,"flexed-list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],["header","\u0412\u0438\u0434\u0435\u043e"],["class","list-item p5",3,"click",4,"ngFor","ngForOf"],["header","\u0410\u0443\u0434\u0438\u043e"],["header","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],["header","\u0424\u0430\u0439\u043b\u044b"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"value"],[1,"list-item",3,"click"],[3,"src"],[1,"list-item","p5",3,"click"],[1,"material-icons-round"],[1,"filename"],["target","_blank",3,"href"],["link",""],[3,"download","href"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(p){return i.showChange.emit(p)})("visibleChange",function(p){return i.show=p}),e.TgZ(1,"p-tabView")(2,"p-tabPanel",1),e.YNc(3,cR,4,1,"ng-template",2),e.TgZ(4,"div",3),e.YNc(5,uR,2,1,"div",4),e.qZA()(),e.TgZ(6,"p-tabPanel",5),e.YNc(7,dR,4,1,"ng-template",2),e.TgZ(8,"div",3),e.YNc(9,pR,5,1,"div",6),e.qZA()(),e.TgZ(10,"p-tabPanel",7),e.YNc(11,hR,4,1,"ng-template",2),e.TgZ(12,"div",3),e.YNc(13,gR,5,1,"div",6),e.qZA()(),e.TgZ(14,"p-tabPanel",8),e.YNc(15,fR,4,1,"ng-template",2),e.TgZ(16,"div",3),e.YNc(17,mR,7,4,"div",6),e.qZA()(),e.TgZ(18,"p-tabPanel",9),e.YNc(19,_R,4,1,"ng-template",2),e.TgZ(20,"div",3),e.YNc(21,CR,7,5,"div",6),e.qZA()()()()),2&t&&(e.Q6J("draggable",!1)("dismissableMask",!0)("visible",i.show)("modal",!0)("resizable",!1),e.xp6(5),e.Q6J("ngForOf",i.images),e.xp6(4),e.Q6J("ngForOf",i.videos),e.xp6(4),e.Q6J("ngForOf",i.audios),e.xp6(4),e.Q6J("ngForOf",i.documents),e.xp6(4),e.Q6J("ngForOf",i.files))},dependencies:[k.sg,N.jx,To.V,Il.xf,Il.x4,lR.Ct],styles:[".flexed-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;overflow-x:auto;width:50vw;max-height:40vh;min-width:100%}.list-item[_ngcontent-%COMP%]{width:19%;aspect-ratio:1;border:1px solid var(--bgc-300);max-width:15rem;min-width:7rem;overflow:hidden;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%;object-fit:cover;width:auto;height:auto}.filename[_ngcontent-%COMP%]{display:inline-block;color:var(--tc-500);font-size:.8rem;font-weight:500;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;text-align:center}"]}),n})(),dI=(()=>{class n{constructor(t){this.el=t}get colorString(){return this._colorString}set colorString(t){var i,s;this._colorString=t,this.el.nativeElement.style.color=_.cQ.stringToColor(null!==(s=null===(i=this._colorString)||void 0===i?void 0:i.trim())&&void 0!==s?s:"")}ngAfterViewInit(){this.el.nativeElement.style.color=_.cQ.stringToColor(this.el.nativeElement.innerText.trim())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appColorize",""]],inputs:{colorString:"colorString"}}),n})(),GA=(()=>{class n{constructor(t){this.el=t,this.isMouseDown=!1,t.nativeElement.style.cursor="grab",t.nativeElement.style.userSelect="none"}onMouseDown(t){0===t.button&&(this.isMouseDown=!0,this.el.nativeElement.style.cursor="grabbing")}onMouseUp(t){0===t.button&&(this.isMouseDown=!1,this.el.nativeElement.style.cursor="grab")}onMouseMove(t){if(this.isMouseDown){const i=this.el.nativeElement;i.scrollTo(i.scrollLeft-t.movementX,i.scrollTop-t.movementY)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appDragScrolling",""]],hostBindings:function(t,i){1&t&&e.NdJ("mousedown",function(p){return i.onMouseDown(p)})("mouseup",function(p){return i.onMouseUp(p)})("mousemove",function(p){return i.onMouseMove(p)})}}),n})();var bR=b(7231),yR=b(5651);let xR=(()=>{class n{constructor(){this.loading=!1,this.loadingChange=new e.vpe,this.load=new e.vpe,this.initialScrollPos=0,this.initialScrollPosChange=new e.vpe}ngOnInit(){setTimeout(()=>window.scrollTo({top:this.initialScrollPos,behavior:"instant"}),100)}windowScroll(t){document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)==0&&!this.loading&&(this.loading=!0,this.loadingChange.emit(!0),this.load.emit()),this.initialScrollPos=window.scrollY,this.initialScrollPosChange.emit(window.scrollY)}windowResize(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appLazyPageLoader",""]],hostBindings:function(t,i){1&t&&e.NdJ("scroll",function(p){return i.windowScroll(p)},!1,e.Jf7)("resize",function(p){return i.windowResize(p)},!1,e.Jf7)},inputs:{loading:"loading",initialScrollPos:"initialScrollPos"},outputs:{loadingChange:"loadingChange",load:"load",initialScrollPosChange:"initialScrollPosChange"}}),n})();function IR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",2),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.showContent())}),e.TgZ(1,"span",3),e._uU(2,"visibility"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.buttonCaption," ")}}function TR(n,o){1&n&&(e.ynx(0),e.Hsn(1),e.BQk())}const AR=["*"];let wR=(()=>{class n{constructor(){this.buttonCaption="",this.display=!1,this.displayChange=new e.vpe}ngOnInit(){}showContent(){this.display=!0,this.displayChange.emit(this.display)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-expanding-panel"]],inputs:{buttonCaption:"buttonCaption",display:"display"},outputs:{displayChange:"displayChange"},ngContentSelectors:AR,decls:3,vars:2,consts:[["class","expand-button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"expand-button",3,"click"],[1,"material-icons-round","parent-inherit"]],template:function(t,i){1&t&&(e.F$t(),e.ynx(0),e.YNc(1,IR,4,1,"span",0),e.YNc(2,TR,2,0,"ng-container",1),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.display),e.xp6(1),e.Q6J("ngIf",i.display))},dependencies:[k.O5],styles:[".expand-button[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;font-size:.8rem;font-weight:600;color:var(--mc-500);line-height:normal;padding:.3rem .5rem;border-radius:.3rem;align-self:center;align-items:center;justify-content:center;gap:.2rem;transition:background-color .2s ease-out}.expand-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mc-500)}.expand-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}"]}),n})();var ER=b(2716),rb=b(417);let SR=(()=>{class n{transform(t){if(!("type"in t))return"";switch(t.type){case he.dA.CHANGE_STAGE:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438: ";case he.dA.CREATE_WORK_LOG:return"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case he.dA.FORCE_CLOSE_WORK_LOG:return"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case he.dA.CLOSE_WORK_LOG:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case he.dA.CHANGE_RESPONSIBILITY:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439: ";case he.dA.LINKED_TO_PARENT_TASK:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u0430 \u043a \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435";case he.dA.UNLINKED_FROM_PARENT_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438";case he.dA.UNLINK_CHILD_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u0447";case he.dA.LINKED_TO_CHILD_TASKS:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";case he.dA.CHANGE_TAGS:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b \u0442\u0435\u0433\u0438: ";case he.dA.CLEAN_TAGS:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0447\u0438\u0449\u0435\u043d\u0430 \u043e\u0442 \u0442\u0435\u0433\u043e\u0432";case he.dA.CHANGE_OBSERVERS:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438: ";case he.dA.UNBIND_RESPONSIBLE:return"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u0431\u0440\u0430\u043d";case he.dA.CHANGE_ACTUAL_FROM:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430: ";case he.dA.CHANGE_ACTUAL_TO:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: ";case he.dA.CLEAR_ACTUAL_FROM_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0434\u0430\u0442\u0430";case he.dA.CLEAR_ACTUAL_TO_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f";case he.dA.CLOSE_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430";case he.dA.REOPEN_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u0430";case he.dA.EDIT_FIELDS:return"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430";case he.dA.REPORT_CREATED:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435: ";case he.dA.MOVED_TO_DIRECTORY:return"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0430 \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e: "}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"taskEventTranslate",type:n,pure:!0}),n})();function kR(n,o){1&n&&e.GkF(0)}function DR(n,o){1&n&&e._UZ(0,"div",17)}function MR(n,o){1&n&&e.GkF(0)}function OR(n,o){if(1&n&&e._UZ(0,"quill-view-html",18),2&n){const t=e.oxw(2).$implicit;e.Q6J("content",t.message)}}function PR(n,o){if(1&n&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.message)}}function LR(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.ALo(3,"taskEventTranslate"),e.qZA(),e.YNc(4,PR,2,1,"span",20),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t)),e.xp6(2),e.Q6J("ngIf",t.message)}}function RR(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function NR(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function FR(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,NR,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(t)-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t,!1))("ngForTrackBy",i.trackByAttachment)}}function BR(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,RR,1,1,"app-attachment-link",23),e.YNc(2,FR,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(t)>3)}}function ZR(n,o){1&n&&e.GkF(0)}function UR(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function HR(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function VR(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,HR,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(4).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(i.getReplyComment(t))-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t),!1))("ngForTrackBy",i.trackByAttachment)}}function zR(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,UR,1,1,"app-attachment-link",23),e.YNc(2,VR,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t)))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(i.getReplyComment(t))>3)}}const JR=function(n){return{$implicit:n,reply:!0}};function QR(n,o){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"div",28),e.TgZ(2,"div",9),e._UZ(3,"app-avatar",29),e.qZA(),e.YNc(4,ZR,1,0,"ng-container",7),e.TgZ(5,"div",30),e._UZ(6,"markdown",31),e.YNc(7,zR,3,3,"div",14),e.qZA()()),2&n){const t=e.oxw(2).$implicit,i=e.oxw(),s=e.MAs(6);let p,w,J;e.xp6(3),e.Q6J("name",null==(p=i.getReplyComment(t))||null==p.creator?null:p.creator.fullName)("src",null==(w=i.getReplyComment(t))||null==w.creator?null:w.creator.avatar)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(7,JR,i.getReplyComment(t))),e.xp6(2),e.Q6J("data",null==(J=i.getReplyComment(t))?null:J.message),e.xp6(1),e.Q6J("ngIf",i.hasAttachments(i.getReplyComment(t)))}}function GR(n,o){1&n&&e._UZ(0,"div",32)}const WA=function(n,o){return{event:n,reply:o}},WR=function(n){return{$implicit:n}},YR=function(n){return{$implicit:n,reply:!1}};function jR(n,o){if(1&n&&(e.TgZ(0,"div",6),e.ynx(1),e.YNc(2,kR,1,0,"ng-container",7),e.YNc(3,DR,1,0,"div",8),e.TgZ(4,"div",9),e._UZ(5,"app-avatar",10),e.qZA(),e.YNc(6,MR,1,0,"ng-container",7),e.TgZ(7,"div",11),e.YNc(8,OR,1,1,"quill-view-html",12),e.YNc(9,LR,5,4,"div",13),e.YNc(10,BR,3,3,"div",14),e.qZA(),e.YNc(11,QR,8,9,"div",15),e.YNc(12,GR,1,0,"div",16),e.BQk(),e.qZA()),2&n){const t=e.oxw(),i=t.$implicit,s=t.index,p=e.oxw(),w=e.MAs(4),J=e.MAs(6);e.Q6J("@fade",void 0)("ngClass",e.WLB(16,WA,!p.isComment(i),p.isHasReply(i))),e.xp6(2),e.Q6J("ngTemplateOutlet",w)("ngTemplateOutletContext",e.VKq(19,WR,i)),e.xp6(1),e.Q6J("ngIf",s<p.displayedEntries.length-1),e.xp6(2),e.Q6J("src",i.creator.avatar)("name",i.creator.fullName)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",J)("ngTemplateOutletContext",e.VKq(21,YR,i)),e.xp6(1),e.Q6J("ngClass",e.WLB(23,WA,!p.isComment(i),p.isHasReply(i))),e.xp6(1),e.Q6J("ngIf",p.isComment(i)),e.xp6(1),e.Q6J("ngIf",!p.isComment(i)),e.xp6(1),e.Q6J("ngIf",p.hasAttachments(i)),e.xp6(1),e.Q6J("ngIf",p.isHasReply(i)),e.xp6(1),e.Q6J("ngIf",!p.isComment(i))}}function KR(n,o){if(1&n&&(e.ynx(0),e.YNc(1,jR,13,26,"div",5),e.BQk()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.isComment(t)&&i.showEvents||i.isComment(t))}}function qR(n,o){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"p-skeleton",35)(2,"p-skeleton",36),e.TgZ(3,"div",37)(4,"div",38),e._UZ(5,"p-skeleton",39)(6,"p-skeleton",40),e.qZA()(),e._UZ(7,"p-skeleton",41),e.qZA()),2&n&&(e.xp6(5),e.Udp("padding-bottom",".5rem"))}function $R(n,o){if(1&n&&(e.ynx(0),e.YNc(1,qR,8,2,"div",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.skeletons)}}function XR(n,o){if(1&n&&(e.TgZ(0,"span",42)(1,"span",43),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.Udp("background-color",i.getEventColor(t)),e.xp6(2),e.Oqu(i.getEventIcon(t))}}function eN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return e.KtG(p.selectCommentToReply(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function tN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-icon-button",52),e.NdJ("onClick",function(s){e.CHM(t),e.oxw();const p=e.MAs(10);return e.KtG(p.toggle(s))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function nN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,p=e.MAs(10);return e.oxw().selectCommentToEdit(s),e.KtG(p.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function iN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",56),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2).$implicit,p=e.MAs(10);return e.oxw().confirmToDeleteComment(s),e.KtG(p.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function oN(n,o){if(1&n&&(e.YNc(0,nN,1,1,"app-button",53),e.YNc(1,iN,1,1,"app-button",54)),2&n){const t=e.oxw(),i=t.$implicit,s=t.reply,p=e.oxw();e.Q6J("ngIf",p.isMyComment(i)&&!s),e.xp6(1),e.Q6J("ngIf",p.isMyComment(i)&&!s)}}function sN(n,o){if(1&n&&(e.TgZ(0,"div",37)(1,"div",38)(2,"span",44),e._uU(3),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.ALo(6,"elapsedTime"),e.qZA()(),e.YNc(7,eN,1,1,"app-button",46),e.YNc(8,tN,1,1,"app-icon-button",47),e.TgZ(9,"p-overlayPanel",48,49),e.YNc(11,oN,2,2,"ng-template",50),e.qZA()()),2&n){const t=o.$implicit,i=o.reply,s=e.oxw();e.xp6(3),e.Oqu(null==t.creator?null:t.creator.fullName),e.xp6(2),e.Oqu(e.Dn7(6,4,t.created,t.type?"":"\u043d\u0430\u043f\u0438\u0441\u0430\u043b(\u0430) "," \u043d\u0430\u0437\u0430\u0434")),e.xp6(2),e.Q6J("ngIf",s.isComment(t)&&!i),e.xp6(1),e.Q6J("ngIf",s.isMyComment(t)&&!i)}}let rN=(()=>{class n{constructor(t,i,s,p){this.api=t,this.personality=i,this.confirmation=s,this.rt=p,this.rtSubscriptions=new _.xf,this.replyCommentChange=new e.vpe,this.editCommentChange=new e.vpe,this.onFirstLoad=new e.vpe,this.entries=[],this.journalIsFullyLoaded=!1,this.skeletons=Array.from({length:10}),this.totalEntries=0,this.loading=!1,this.firstLoad=!0,this.showEvents=!0,this._sortingType=_.Ke.loadOrDefault("taskJournalSortingType",he.Rh.CREATE_DATE_DESC),this._taskId=-1}get displayedEntries(){return this.showEvents?this.entries:this.entries.filter(t=>"commentId"in t)}set sortingType(t){t!==this._sortingType&&(this._sortingType=t,_.Ke.save("taskJournalSortingType",t),this.clearEntries(),this.loadComments())}get sortingType(){return this._sortingType}trackByEntry(t,i){return"commentId"in i?i.commentId+i.message+i.edited:"taskEventId"in i?i.taskEventId:null}set taskId(t){this._taskId=t,this.clearEntries(),this.loadComments(),this.rtSubscriptions.addSubscription("crCom",this.rt.commentCreated(t).subscribe(this.onCommentCreate.bind(this))),this.rtSubscriptions.addSubscription("crUpt",this.rt.commentUpdated(t).subscribe(this.onCommentUpdate.bind(this))),this.rtSubscriptions.addSubscription("crDel",this.rt.commentDeleted(t).subscribe(this.onCommentDelete.bind(this))),this.rtSubscriptions.addSubscription("crEv",this.rt.taskEventCreated(t).subscribe(this.onEventCreate.bind(this))),this.rtSubscriptions.addSubscription("empUpt",this.rt.employeeUpdated().subscribe(this.onEmployeeUpdate.bind(this)))}get taskId(){return this._taskId}onCommentCreate(t){if(!this.entries.some(i=>"commentId"in i&&i.commentId===t.commentId))switch(this.sortingType){case he.Rh.CREATE_DATE_DESC:this.entries.unshift(t),this.totalEntries++,this.onFirstLoad.emit(!0);break;case he.Rh.CREATE_DATE_ASC:this.journalIsFullyLoaded&&(this.entries.push(t),this.totalEntries++,this.onFirstLoad.emit(!0))}}onCommentDelete(t){const i=this.entries.findIndex(s=>"commentId"in s&&s.commentId===t.commentId);-1!==i&&(this.entries.splice(i,1),this.totalEntries--)}onCommentUpdate(t){const i=this.entries.findIndex(s=>"commentId"in s&&s.commentId===t.commentId);-1!==i&&this.entries.splice(i,1,t)}onEventCreate(t){if(!this.entries.some(i=>"taskEventId"in i&&i.taskEventId===t.taskEventId))switch(this.sortingType){case he.Rh.CREATE_DATE_DESC:this.entries.unshift(t),this.onFirstLoad.emit(!0);break;case he.Rh.CREATE_DATE_ASC:this.journalIsFullyLoaded&&(this.entries.push(t),this.onFirstLoad.emit(!0))}}ngOnDestroy(){this.rtSubscriptions.unsubscribeAll()}ngOnInit(){}loadComments(){if(!this._taskId)return;const t=this.entries.filter(i=>"commentId"in i).length;t<this.totalEntries?this.api.getTaskJournal(this._taskId,t,10,this._sortingType).subscribe(i=>{0===this.entries.length&&(this.totalEntries=i.totalElements),this.entries=[...this.entries,...i.content],this.loading=!1}):this.firstLoad?this.api.getTaskJournal(this._taskId,0,10,this._sortingType).subscribe(i=>{this.totalEntries=i.totalElements,this.entries=i.content,this.loading=!1,this.firstLoad=!1,this.onFirstLoad.emit(this.totalEntries>0||i.content.length>0)}):setTimeout(()=>{this.loading=!1,this.journalIsFullyLoaded=!0})}isComment(t){return"commentId"in t}isMyComment(t){var i,s;return"commentId"in t&&(null===(i=this.personality.me)||void 0===i?void 0:i.login)===(null===(s=t.creator)||void 0===s?void 0:s.login)}isAnActionOnComments(){return!!this.replyComment||!!this.editComment}getEventIcon(t){if(!("type"in t))return"comment";switch(t.type){case he.dA.CHANGE_STAGE:return"swipe_right_alt";case he.dA.CREATE_WORK_LOG:return"assignment";case he.dA.FORCE_CLOSE_WORK_LOG:case he.dA.CLOSE_WORK_LOG:return"assignment_return";case he.dA.CHANGE_RESPONSIBILITY:return"person";case he.dA.LINKED_TO_PARENT_TASK:return"link";case he.dA.UNLINKED_FROM_PARENT_TASK:case he.dA.UNLINK_CHILD_TASK:return"link_off";case he.dA.LINKED_TO_CHILD_TASKS:return"link";case he.dA.CHANGE_TAGS:return"label";case he.dA.CLEAN_TAGS:return"label_off";case he.dA.CHANGE_OBSERVERS:return"groups";case he.dA.UNBIND_RESPONSIBLE:return"person_off";case he.dA.CHANGE_ACTUAL_FROM:return"pending_actions";case he.dA.CHANGE_ACTUAL_TO:return"today";case he.dA.CLEAR_ACTUAL_FROM_TASK:return"alarm_off";case he.dA.CLEAR_ACTUAL_TO_TASK:return"hourglass_disabled";case he.dA.CLOSE_TASK:return"swipe_down_alt";case he.dA.REOPEN_TASK:return"swipe_up_alt";case he.dA.EDIT_FIELDS:return"edit";case he.dA.REPORT_CREATED:return"history_edu";case he.dA.MOVED_TO_DIRECTORY:return"double_arrow";default:return"adjust"}}getEventColor(t){if(!("type"in t))return"#7a7f8d";switch(t.type){case he.dA.CHANGE_STAGE:return"#289de7";case he.dA.CREATE_WORK_LOG:return"#49DF30";case he.dA.FORCE_CLOSE_WORK_LOG:return"#e81a30";case he.dA.CLOSE_WORK_LOG:return"#52ff89";case he.dA.CHANGE_RESPONSIBILITY:return"#ff9f3b";case he.dA.LINKED_TO_PARENT_TASK:return"#9933ec";case he.dA.UNLINKED_FROM_PARENT_TASK:case he.dA.UNLINK_CHILD_TASK:return"#ef369d";case he.dA.LINKED_TO_CHILD_TASKS:return"#9933ec";case he.dA.CHANGE_TAGS:return"#13c587";case he.dA.CLEAN_TAGS:return"#c73953";case he.dA.CHANGE_OBSERVERS:return"#ff763b";case he.dA.UNBIND_RESPONSIBLE:return"#3bdbff";case he.dA.CHANGE_ACTUAL_FROM:return"#3bff3e";case he.dA.CHANGE_ACTUAL_TO:return"#a7e52e";case he.dA.CLEAR_ACTUAL_FROM_TASK:return"#c79436";case he.dA.CLEAR_ACTUAL_TO_TASK:return"#a65c48";case he.dA.CLOSE_TASK:return"#866e6e";case he.dA.REOPEN_TASK:return"#1a7ae8";case he.dA.EDIT_FIELDS:return"#61d78d";case he.dA.REPORT_CREATED:return"#ff9f3b";case he.dA.MOVED_TO_DIRECTORY:return"#95e31c";default:return"#ff0000"}}hasAttachments(t){var i,s;return!!t&&"attachments"in t&&(null!==(s=null===(i=t.attachments)||void 0===i?void 0:i.length)&&void 0!==s?s:0)>0}getAttachments(t,i=!0){if(!t)return[];const s="attachments"in t&&t.attachments?t.attachments:[];return i?s.slice(0,3):s.slice(3)}getAttachmentsCount(t){return t&&"attachments"in t&&t.attachments?t.attachments.length:0}trackByAttachment(t,i){return i?i.name:t}selectCommentToReply(t){this.replyComment=t,this.replyCommentChange.emit(this.replyComment)}selectCommentToEdit(t){this.editComment=t,this.editCommentChange.emit(this.editComment)}isHasReply(t){return"replyComment"in t&&t.replyComment}getReplyComment(t){return"replyComment"in t?t.replyComment:void 0}confirmToDeleteComment(t){this.confirmation.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439?",accept:()=>this.api.deleteComment(t.commentId).subscribe()})}onEmployeeUpdate(t){var i;for(const s of this.entries)(null===(i=s.creator)||void 0===i?void 0:i.login)===t.login&&(s.creator=t)}clearEntries(){this.entries=[],this.totalEntries=0,this.firstLoad=!0,this.journalIsFullyLoaded=!1,this.loading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(Q.F),e.Y36(N.YP),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-journal"]],inputs:{replyComment:"replyComment",editComment:"editComment",showEvents:"showEvents",sortingType:"sortingType",taskId:"taskId"},outputs:{replyCommentChange:"replyCommentChange",editCommentChange:"editCommentChange",onFirstLoad:"onFirstLoad"},decls:7,vars:4,consts:[["appLazyPageLoader","",1,"journal",3,"loading","load","loadingChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["eventIcon",""],["eventHeader",""],["class","journal-item",3,"ngClass",4,"ngIf"],[1,"journal-item",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","vertical-line",4,"ngIf"],[1,"employee-avatar-wrapper"],[3,"src","name","size"],[1,"journal-event-body",3,"ngClass"],["appTextRevival","",3,"content",4,"ngIf"],["class","flexed gap5 hcenter",4,"ngIf"],["class","attachments-list",4,"ngIf"],["class","reply-comment",4,"ngIf"],["class","event-footer",4,"ngIf"],[1,"vertical-line"],["appTextRevival","",3,"content"],[1,"flexed","gap5","hcenter"],["appTextRevival","",4,"ngIf"],["appTextRevival",""],[1,"attachments-list"],[3,"attachment",4,"ngFor","ngForOf","ngForTrackBy"],[3,"buttonCaption",4,"ngIf"],[3,"attachment"],[3,"buttonCaption"],[1,"reply-comment"],[1,"reply-marker"],[3,"name","src","size"],[1,"journal-event-body"],[3,"data"],[1,"event-footer"],["class","journal-item skeleton",4,"ngFor","ngForOf"],[1,"journal-item","skeleton"],["shape","circle","size","2rem",1,"event-type-wrapper","skeleton"],["shape","circle","size","2.8rem",1,"employee-avatar-wrapper"],[1,"journal-event-header"],[1,"basic-information"],["height","1rem","width","10rem"],["height",".8rem","width","7rem"],["height","6rem",1,"journal-event-body"],[1,"event-type-wrapper"],[1,"material-icons-round"],[1,"employee-name"],[1,"creation-time"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick",4,"ngIf"],["icon","more_vert",3,"disabled","onClick",4,"ngIf"],["appendTo","body"],["ownCommentMenu",""],["pTemplate","content"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick"],["icon","more_vert",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick",4,"ngIf"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.NdJ("load",function(){return i.loadComments()})("loadingChange",function(p){return i.loading=p}),e.YNc(1,KR,2,1,"ng-container",1),e.YNc(2,$R,2,1,"ng-container",2),e.qZA(),e.YNc(3,XR,3,3,"ng-template",null,3,e.W1O),e.YNc(5,sN,12,8,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("loading",i.loading),e.xp6(1),e.Q6J("ngForOf",i.displayedEntries)("ngForTrackBy",i.trackByEntry),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[k.mk,k.sg,k.O5,k.tP,N.jx,yl.O,hA.lF,Hu.T,tb.qH,bR.D,y.A,E.r,yR.r,xR,wR,ER.J,rb.t,SR],styles:['.journal[_ngcontent-%COMP%]{display:flex;flex-direction:column}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]{display:grid;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body"}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]   .journal-event-body[_ngcontent-%COMP%]:not(.event):not(.reply){padding-bottom:3rem}.journal[_ngcontent-%COMP%]   .journal-item.event[_ngcontent-%COMP%]{grid:min-content min-content/repeat(3,max-content) 1fr;grid-template-areas:"event-type employee-avatar event-header event-body" "event-stick event-footer event-footer event-footer"}.journal[_ngcontent-%COMP%]   .journal-item.reply[_ngcontent-%COMP%]{grid:repeat(3,min-content)/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body" "event-stick reply-comment reply-comment"}.event-type-wrapper[_ngcontent-%COMP%]{grid-area:event-type;display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;color:#fff;border-radius:9999px;align-self:center}.event-type-wrapper[_ngcontent-%COMP%]:not(.skeleton){background-color:var(--gray-600)}.event-type-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.employee-avatar-wrapper[_ngcontent-%COMP%]{align-items:center;grid-area:employee-avatar;display:flex;padding:0 1rem 0 1.5rem}.journal-item[_ngcontent-%COMP%]:not(:last-child)   .vertical-line[_ngcontent-%COMP%]{grid-area:event-stick;background-color:var(--bgc-300);width:1px;justify-self:center}.journal-event-header[_ngcontent-%COMP%]{grid-area:event-header;display:flex;align-items:center;gap:1rem}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]{display:flex;align-self:center;flex-direction:column}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--tc-800);line-height:normal}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .creation-time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);line-height:normal}.journal-event-body[_ngcontent-%COMP%]{grid-area:event-body;padding-top:.5rem}.journal-event-body.event[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:1.2rem;display:flex;align-items:center}.reply-comment[_ngcontent-%COMP%]{grid-area:reply-comment;display:grid;opacity:.9;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"reply-marker employee-avatar event-header" "reply-marker . event-body"}.reply-comment[_ngcontent-%COMP%]   .reply-marker[_ngcontent-%COMP%]{grid-area:reply-marker;margin:0 0 2rem 2.8rem;background-color:var(--mc-300);width:3px;border-radius:3px}.reply-comment[_ngcontent-%COMP%]   .journal-event-header[_ngcontent-%COMP%], .reply-comment[_ngcontent-%COMP%]   .employee-avatar-wrapper[_ngcontent-%COMP%]{margin-top:1rem}.event-footer[_ngcontent-%COMP%]{grid-area:event-footer;height:2rem}.attachments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem;padding-top:.6rem}'],data:{animation:[u.U1]}}),n})();var YA=b(3078),pI=b(2777),aN=b(3460);const lN=["panel"],cN=["target"],uN=["list"],dN=function(n){return{selected:n}};function pN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2),J=e.MAs(3);return null==J||J.hide(),e.KtG(w.onSelect.emit(p))})("mouseenter",function(){const p=e.CHM(t).index,w=e.oxw(2);return e.KtG(w.selectedEmployeeIndex=p)}),e._UZ(1,"app-employee-label",9),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,s=e.oxw(2);e.Q6J("ngClass",e.VKq(2,dN,s.selectedEmployeeIndex===i)),e.xp6(1),e.Q6J("employee",t)}}function hN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5,6),e.NdJ("keydown",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.navigate(s))}),e.YNc(2,pN,2,4,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("tabIndex",0),e.xp6(2),e.Q6J("ngForOf",t.employees)}}let gN=(()=>{class n{constructor(t){this.api=t,this.targetPosition={top:"0px",left:"0px"},this.employees=[],this.selectedEmployeeIndex=0,this.onSelect=new e.vpe,this.onReturnFocus=new e.vpe}setQuillEvent(t){var i;!_.cQ.isCorrectSequenceOfCharacters(t,"@",[" ","\n"])||(null===(i=this.panel)||void 0===i||i.hide(),this.api.getEmployees(void 0,!1,!1).subscribe(s=>{var p,w,J;this.employees=s;const{editor:$e}=t,Xt=$e.getSelection(),{top:jt,left:Wt}=$e.getBounds(null!==(p=null==Xt?void 0:Xt.index)&&void 0!==p?p:0),Fn=t.editor.root.getBoundingClientRect();this.targetPosition={left:Wt+Fn.x+window.scrollX+"px",top:jt+Fn.y+window.scrollY+"px"},null===(w=this.panel)||void 0===w||w.show(new MouseEvent("click"),null===(J=this.target)||void 0===J?void 0:J.nativeElement),setTimeout(()=>{var jn,Ti;null===(Ti=null===(jn=this.list)||void 0===jn?void 0:jn.nativeElement)||void 0===Ti||Ti.focus()},100)}))}ngOnInit(){}navigate(t){var i,s;switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex++,this.selectedEmployeeIndex>=this.employees.length&&(this.selectedEmployeeIndex=0);break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex--,this.selectedEmployeeIndex<0&&(this.selectedEmployeeIndex=this.employees.length-1);break;case"Enter":null===(i=this.panel)||void 0===i||i.hide(),this.onSelect.emit(this.employees[this.selectedEmployeeIndex]);break;default:null===(s=this.panel)||void 0===s||s.hide(),this.onReturnFocus.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-insert-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(lN,5),e.Gf(cN,5),e.Gf(uN,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.panel=s.first),e.iGM(s=e.CRH())&&(i.target=s.first),e.iGM(s=e.CRH())&&(i.list=s.first)}},outputs:{onSelect:"onSelect",onReturnFocus:"onReturnFocus"},decls:5,vars:3,consts:[[1,"overlay-target"],["target",""],["appCloseIfScroll","","showTransitionOptions","0ms","hideTransitionOptions","0ms",3,"dismissable"],["panel",""],["pTemplate","content"],[1,"list-view",3,"tabIndex","keydown"],["list",""],["class","p5",3,"ngClass","click","mouseenter",4,"ngFor","ngForOf"],[1,"p5",3,"ngClass","click","mouseenter"],[3,"employee"]],template:function(t,i){1&t&&(e._UZ(0,"div",0,1),e.TgZ(2,"p-overlayPanel",2,3),e.YNc(4,hN,3,2,"ng-template",4),e.qZA()),2&t&&(e.Akn(i.targetPosition),e.xp6(2),e.Q6J("dismissable",!0))},dependencies:[k.mk,k.sg,N.jx,Hu.T,fc.x,aN.j],styles:[".overlay-target[_ngcontent-%COMP%]{width:1px;height:13px;position:absolute;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]{outline:0}.list-view[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]   *.selected[_ngcontent-%COMP%]{background-color:var(--gray-200)}"]}),n})();var fN=b(7805),mN=b(4464);let _N=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-circle-loading-indicator"]],decls:4,vars:0,consts:[[1,"loading-indicator"],[1,"circle","first"],[1,"circle","second"],[1,"circle","third"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"div",2)(3,"div",3),e.qZA())},styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.3rem;height:.8rem}.circle[_ngcontent-%COMP%]{width:auto;height:100%;aspect-ratio:1;border-radius:50%;background-color:#b2b9c230}.first[_ngcontent-%COMP%]{animation:1.2s pulse ease-in infinite}.second[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .4s infinite}.third[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .8s infinite}@keyframes pulse{0%{transform:scale(1);background-color:#b2b9c230}15%{transform:scale(.9);background-color:#b2b9c2}33%,to{transform:scale(1);background-color:#b2b9c230}}"]}),n})();function CN(n,o){1&n&&(e.TgZ(0,"div",10),e._uU(1,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438"),e.qZA())}function vN(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function bN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("mouseenter",function(s){e.CHM(t),e.oxw(2);const p=e.MAs(4);return e.KtG(p.show(s))})("mouseleave",function(){e.CHM(t),e.oxw(2);const s=e.MAs(4);return e.KtG(s.hide())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" \u0418 \u0435\u0449\u0435 ",t.selectedTags.length-2," ")}}function yN(n,o){if(1&n&&(e.YNc(0,CN,2,0,"div",7),e.TgZ(1,"div",8),e.YNc(2,vN,2,3,"div",6),e.ALo(3,"slice"),e.YNc(4,bN,2,1,"div",9),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngIf",!t.selectedTags||0===t.selectedTags.length),e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,4,t.selectedTags,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2)}}function xN(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function IN(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}let jA=(()=>{class n{constructor(t){this.api=t,this.availableTags=[],this.control=new f.NI(null),this.subscription=new _.xf,this.onChange=()=>{},this.onTouched=()=>{}}get selectedTags(){return this.availableTags.filter(t=>{var i;return null===(i=this.control.value)||void 0===i?void 0:i.includes(t.taskTagId)})}trackByTaskTag(t,i){return i.taskTagId}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.api.getTaskTags(null,!0).subscribe(t=>{this.availableTags=t}),this.subscription.addSubscription("change",this.control.valueChanges.pipe((0,mt.U)(t=>null!=t?t:[])).subscribe(t=>{this.onChange(t)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-filter-input"]],features:[e._Bn([{provide:f.JU,multi:!0,useExisting:n}])],decls:8,vars:9,consts:[["filterBy","name","appendTo","body","defaultLabel","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438","optionValue","taskTagId","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438",3,"formControl","filter","options","showClear","onBlur"],["pTemplate","selectedItems"],["pTemplate","item"],["showTransitionOptions","0ms","hideTransitionOptions","0ms"],["extraPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-placeholder",4,"ngIf"],[1,"tags-view"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-placeholder"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"p-multiSelect",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,yN,5,8,"ng-template",1),e.YNc(2,xN,2,3,"ng-template",2),e.qZA(),e.TgZ(3,"p-overlayPanel",3,4)(5,"div",5),e.YNc(6,IN,2,3,"div",6),e.ALo(7,"slice"),e.qZA()()),2&t&&(e.Q6J("formControl",i.control)("filter",!0)("options",i.availableTags)("showClear",!0),e.xp6(6),e.Q6J("ngForOf",e.xi3(7,6,i.selectedTags,2))("ngForTrackBy",i.trackByTaskTag))},dependencies:[k.sg,k.O5,f.JJ,N.jx,Hu.T,gA.NU,f.oH,k.OU]}),n})();function TN(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"p-progressSpinner",12),e.qZA(),e.BQk())}function AN(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function wN(n,o){1&n&&e.GkF(0)}function EN(n,o){if(1&n&&(e.ynx(0),e.YNc(1,wN,1,0,"ng-container",16),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(3),s=e.MAs(5);e.xp6(1),e.Q6J("ngIf","single"===t.linkingMode)("ngIfThen",i)("ngIfElse",s)}}function SN(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",17),e._UZ(3,"i",18),e.TgZ(4,"span"),e._uU(5,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()(),e.BQk())}function kN(n,o){1&n&&e.GkF(0)}function DN(n,o){1&n&&e.GkF(0)}function MN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",19),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.selectChild())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",0===t.selectedChildTask.length)}}function ON(n,o){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function PN(n,o){if(1&n&&(e.ynx(0,6),e.YNc(1,TN,3,0,"ng-container",7),e.YNc(2,AN,6,0,"ng-container",7),e.YNc(3,EN,2,3,"ng-container",7),e.YNc(4,SN,6,0,"ng-container",7),e.BQk(),e.YNc(5,kN,1,0,"ng-container",8),e.YNc(6,DN,1,0,"ng-container",8),e.YNc(7,MN,1,1,"p-button",9),e.YNc(8,ON,2,0,"div",10)),2&n){const t=e.oxw(),i=e.MAs(7),s=e.MAs(9);e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngIf","multiply"===t.linkingMode),e.xp6(1),e.Q6J("ngIf",t.linkingInProgress)}}function LN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",23),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.selectParent(p.taskId))}),e.qZA()}2&n&&e.Q6J("item",o.$implicit)("customClickHandler",!0)("inlined",!0)}function RN(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,LN,1,3,"app-task-list-element",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function NN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",25),e.NdJ("checkChange",function(s){e.CHM(t);const p=e.oxw(2);return e.KtG(p.selectedChildTask=s)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.selectedChildTask)("item",t)("customClickHandler",!0)("inlined",!0)("isHover",!1)}}function FN(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,NN,1,5,"app-task-list-element",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function BN(n,o){1&n&&e._UZ(0,"app-task-status-chooser",33)}function ZN(n,o){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"app-task-template-multi-selector",27),e.YNc(2,BN,1,0,"app-task-status-chooser",28),e._UZ(3,"input",29)(4,"app-employee-selector",30)(5,"app-data-range-input",31)(6,"app-task-tag-filter-input",32),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.mainFilterForm),e.xp6(1),e.Q6J("inline",!0),e.xp6(1),e.Q6J("ngIf",!t.onlyMy)}}function UN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",34),e.NdJ("onPageChange",function(s){e.CHM(t);const p=e.oxw();return e.KtG(p.changePage(s))}),e.qZA()}if(2&n){const t=e.oxw();let i;e.Q6J("alwaysShow",!0)("rows",25)("showCurrentPageReport",!0)("totalRecords",null!==(i=null==t.pageOfTasks?null:t.pageOfTasks.totalElements)&&void 0!==i?i:0)}}const HN=function(){return{width:"80vw"}},VN=function(){return{"960px":"90vw","640px":"100vw"}};let KA=(()=>{class n{constructor(t,i){this.api=t,this.confirm=i,this.excludedTasks=[],this.header="",this.onlyMy=!1,this.onSelected=new e.vpe,this.onMultiplySelected=new e.vpe,this.isShow=!1,this.linkingMode="single",this.selectedChildTask=[],this.currentPage=0,this.loadingState=he.Gu.LOADING,this.linkingInProgress=!1,this.lastAppliedMainFilter={},this.dialogContentStyle={padding:"0 1rem 0 1rem",display:"grid",grid:"1fr min-content/ 1fr max-content",gridTemplateAreas:"'list filter''paginator paginator'",columnGap:"1rem"},this.mainFilterForm=new f.cw({searchPhrase:new f.NI(null),template:new f.NI([],[P.d.notEmpty]),status:new f.NI([he.hY.ACTIVE,he.hY.PROCESSING,he.hY.CLOSE],[P.d.notEmpty]),author:new f.NI(null),dateOfCreation:new f.NI(null),tags:new f.NI([])}),this.filters$=this.mainFilterForm.valueChanges.pipe((0,Ls.b)(1e3),(0,Qr.x)(),(0,mt.U)(({searchPhrase:s,template:p,status:w,author:J,dateOfCreation:_e,tags:$e})=>({searchPhrase:s,template:p,status:w,author:J,dateOfCreation:_e,tags:$e})),(0,cn.d)(1)),this.subscriptions=new _.xf}ngOnInit(){this.subscriptions.addSubscription("filter",this.filters$.subscribe(t=>{this.loadingState=he.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),this.api.getPageOfTasks(0,Object.assign(Object.assign({},t),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}open(t){this.isShow=!0,this.linkingMode=t}changePage(t){this.loadingState=he.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),(0,mN.n)(this.filters$.pipe((0,vh.P)())).then(i=>this.api.getPageOfTasks(t.page,Object.assign(Object.assign({},i),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler()))}loadHandler(){return{next:t=>{this.pageOfTasks=t,this.loadingState=t.totalElements>0?he.Gu.READY:he.Gu.EMPTY,this.mainFilterForm.enable({emitEvent:!1})},error:()=>{this.loadingState=he.Gu.ERROR,this.mainFilterForm.enable({emitEvent:!1})}}}selectParent(t){this.onSelected.emit(t),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}selectChild(){this.onMultiplySelected.emit(this.selectedChildTask),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}closeHandler(){this.mainFilterForm.setValue({template:[],status:[he.hY.ACTIVE,he.hY.PROCESSING,he.hY.CLOSE],dateOfCreation:null,tags:[],author:"",searchPhrase:""}),this.pageOfTasks=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(N.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-selecting-dialog"]],inputs:{excludedTasks:"excludedTasks",header:"header",onlyMy:"onlyMy"},outputs:{onSelected:"onSelected",onMultiplySelected:"onMultiplySelected"},decls:10,vars:12,consts:[[3,"visible","breakpoints","dismissableMask","draggable","modal","resizable","contentStyle","header","visibleChange","onHide"],["pTemplate","content"],["parentTaskList",""],["childTaskList",""],["filter",""],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["styleClass","p-button-success","class","float-button","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",3,"disabled","onClick",4,"ngIf"],["class","loading-shader",4,"ngIf"],[1,"list","flexed","hcenter","vcenter"],["strokeWidth","1",1,"custom-spinner","custom-spinner-8xl","custom-spinner-primary"],[1,"list","flexed","hcenter","vcenter","flexed","hcenter","gap3"],[1,"caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],["styleClass","p-button-success","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",1,"float-button",3,"disabled","onClick"],[1,"loading-shader"],[1,"list"],[3,"item","customClickHandler","inlined","onClick",4,"ngFor","ngForOf"],[3,"item","customClickHandler","inlined","onClick"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange",4,"ngFor","ngForOf"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange"],[1,"filters",3,"formGroup"],["formControlName","template",3,"inline"],["formControlName","status",4,"ngIf"],["pInputText","","formControlName","searchPhrase","placeholder","\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"],["formControlName","author"],["formControlName","dateOfCreation"],["formControlName","tags",1,"full-width"],["formControlName","status"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447",1,"paginator",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(p){return i.isShow=p})("onHide",function(){return i.closeHandler()}),e.YNc(1,PN,9,9,"ng-template",1),e.qZA(),e.YNc(2,RN,2,1,"ng-template",null,2,e.W1O),e.YNc(4,FN,2,1,"ng-template",null,3,e.W1O),e.YNc(6,ZN,7,3,"ng-template",null,4,e.W1O),e.YNc(8,UN,1,4,"ng-template",null,5,e.W1O)),2&t&&(e.Akn(e.DdM(10,HN)),e.Q6J("visible",i.isShow)("breakpoints",e.DdM(11,VN))("dismissableMask",!0)("draggable",!1)("modal",!0)("resizable",!1)("contentStyle",i.dialogContentStyle)("header",i.header))},dependencies:[k.sg,k.O5,k.tP,k.RF,k.n9,O.zx,f.Fj,f.JJ,f.JL,N.jx,To.V,et.G,yi.o,f.sg,f.u,bl.D,_N,Wc.E,jA,QA,cI,uI,sb],styles:[".filters[_ngcontent-%COMP%]{grid-area:filter;display:flex;flex-direction:column;gap:.5rem;position:sticky;top:0;height:max-content;padding-bottom:1rem}.list[_ngcontent-%COMP%]{grid-area:list;display:flex;flex-direction:column}.paginator[_ngcontent-%COMP%]{grid-area:paginator;position:sticky;bottom:0}.loading-shader[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:1;background-color:#fff9;top:0;left:0;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);border-radius:1rem}.float-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}"]}),n})();var zN=b(7445);let JN=(()=>{class n{constructor(t){this.elementRef=t,this.subscriptions=new _.xf,this.measureElement=document.createElement("div")}ngAfterViewInit(){const t=this.elementRef.nativeElement;document.body.append(this.measureElement),t.style.boxSizing="border-box";const i=window.getComputedStyle(t);this.measureElement.style.fontSize=i.fontSize,this.measureElement.style.fontFamily=i.fontFamily,this.measureElement.style.fontWeight=i.fontWeight,this.measureElement.style.fontStyle=i.fontStyle,this.measureElement.style.padding=i.padding,this.measureElement.style.lineHeight=i.lineHeight,this.measureElement.style.letterSpacing=i.letterSpacing,this.measureElement.style.border=i.border,this.measureElement.style.minHeight=parseFloat(i.fontSize)+5+"px",this.measureElement.style.whiteSpace="pre-wrap",this.measureElement.style.boxSizing="border-box",this.measureElement.style.visibility="hidden",this.measureElement.style.position="fixed",this.measureElement.style.top="0",this.measureElement.style.left="0",this.measureElement.style.overflow="hidden",this.measureElement.style.width=t.offsetWidth+"px",this.measureElement.style.height="auto",this.measureElement.style.overflowWrap="break-word";const s=(0,x.R)(t,"input"),p=(0,zN.F)(300),w=(0,x.R)(window,"resize"),J=s.subscribe(this.resize.bind(this)),_e=p.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("input",J),this.subscriptions.addSubscription("interval",_e);const $e=w.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("winResize",$e),this.resize()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}resize(){const t=this.elementRef.nativeElement,i=t.value;this.measureElement.style.width=t.offsetWidth+"px",this.measureElement.innerText=i;let s=0;"\n"===i[i.length-1]&&(s=parseFloat(window.getComputedStyle(t).fontSize)+5),this.measureElement.style.boxSizing=0===t.value.length?"content-box":"border-box",t.style.height=this.measureElement.offsetHeight+s+"px"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTextareaAutoresize",""]]}),n})();var qA=b(1787);function QN(n,o){1&n&&(e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"i",9),e.TgZ(3,"span"),e._uU(4," \u041d\u0435\u0442 \u0436\u0443\u0440\u043d\u0430\u043b\u043e\u0432 \u0440\u0430\u0431\u043e\u0442 "),e.qZA()()())}function GN(n,o){1&n&&e.GkF(0)}function WN(n,o){if(1&n&&(e.TgZ(0,"span",27)(1,"span",15),e._UZ(2,"i",28),e.TgZ(3,"span"),e._uU(4,"\u041e\u0442\u0447\u0435\u0442"),e.qZA()(),e.TgZ(5,"span",29),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(6),e.Oqu(t.report)}}const YN=function(n){return{$implicit:n}};function jN(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.YNc(1,GN,1,0,"ng-container",13),e.TgZ(2,"span",14)(3,"span")(4,"span",15),e._UZ(5,"i",16),e.TgZ(6,"span"),e._uU(7,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b:"),e.qZA()(),e._UZ(8,"app-avatar-list",17),e.qZA(),e.TgZ(9,"span")(10,"span",15),e._UZ(11,"i",16),e.TgZ(12,"span"),e._uU(13,"\u041f\u0440\u0438\u043d\u044f\u043b\u0438:"),e.qZA()(),e._UZ(14,"app-avatar-list",17),e.qZA(),e.TgZ(15,"span")(16,"span",15),e._UZ(17,"i",16),e.TgZ(18,"span"),e._uU(19,"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438:"),e.qZA()(),e._UZ(20,"app-avatar-list",17),e.qZA(),e.TgZ(21,"span")(22,"span",15),e._UZ(23,"i",18),e.TgZ(24,"span"),e._uU(25,"\u0421\u043e\u0437\u0434\u0430\u043b:"),e.qZA()(),e._UZ(26,"app-employee-label",19),e.qZA()(),e.TgZ(27,"span",20)(28,"span",21)(29,"span",15),e._UZ(30,"i",22),e.TgZ(31,"span"),e._uU(32,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA()(),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"date"),e.qZA()(),e.TgZ(36,"span",21)(37,"span",15),e._UZ(38,"i",23),e.TgZ(39,"span"),e._uU(40,"\u0417\u0430\u043a\u0440\u044b\u0442:"),e.qZA()(),e.TgZ(41,"span"),e._uU(42),e.ALo(43,"date"),e.qZA()(),e.TgZ(44,"span",21)(45,"span",15),e._UZ(46,"i",24),e.TgZ(47,"span"),e._uU(48,"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438:"),e.qZA()(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"elapsedTime"),e.qZA()()(),e.TgZ(52,"span",14)(53,"p-button",25),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.chatService.open.emit(p.chat.chatId))}),e.qZA()(),e.YNc(54,WN,7,1,"span",26),e.qZA()}if(2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(22,YN,t.status)),e.xp6(7),e.Q6J("employees",t.employees),e.xp6(6),e.Q6J("employees",t.whoAccepted),e.xp6(6),e.Q6J("employees",t.whoClosed),e.xp6(6),e.Q6J("employee",t.creator)("size",2),e.xp6(8),e.Oqu(e.xi3(35,11,t.created,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.xi3(43,14,t.closed,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.gM2(51,17,t.leadTime,"","",!0)),e.xp6(4),e.Q6J("ngIf",t.report)}}function KN(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,jN,55,24,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.workLogs)("ngForTrackBy",t.trackByWorkLog)}}function qN(n,o){1&n&&e.GkF(0)}function $N(n,o){if(1&n&&(e.ynx(0),e.YNc(1,qN,1,0,"ng-container",30),e.BQk()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function XN(n,o){if(1&n&&(e.YNc(0,QN,5,0,"div",4),e.YNc(1,KN,2,2,"div",5),e.YNc(2,$N,2,1,"ng-container",6)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading&&!t.workLogs.length),e.xp6(1),e.Q6J("ngIf",!t.isLoading&&t.workLogs.length),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}const eF=function(){return{color:"var(--warm-600)"}};function tF(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",34),e.TgZ(2,"span"),e._uU(3," \u0412 \u0440\u0430\u0431\u043e\u0442\u0435 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,eF))}const nF=function(){return{color:"var(--green-400)"}};function iF(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",35),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,nF))}const oF=function(){return{color:"var(--red-400)"}};function sF(n,o){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e "),e.qZA()()),2&n&&e.Akn(e.DdM(2,oF))}function rF(n,o){1&n&&(e.ynx(0,31),e.YNc(1,tF,4,3,"span",32),e.YNc(2,iF,4,3,"span",32),e.YNc(3,sF,4,3,"span",32),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","ACTIVE"),e.xp6(1),e.Q6J("ngSwitchCase","CLOSE"),e.xp6(1),e.Q6J("ngSwitchCase","FORCE_CLOSE"))}function aF(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-skeleton",38),e.TgZ(2,"span",14)(3,"span"),e._UZ(4,"p-skeleton",39),e.qZA(),e.TgZ(5,"span"),e._UZ(6,"p-skeleton",39),e.qZA(),e.TgZ(7,"span"),e._UZ(8,"p-skeleton",39),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"p-skeleton",39),e.qZA()(),e.TgZ(11,"span",20)(12,"span",21),e._UZ(13,"p-skeleton",40),e.qZA(),e.TgZ(14,"span",21),e._UZ(15,"p-skeleton",40),e.qZA(),e.TgZ(16,"span",21),e._UZ(17,"p-skeleton",40),e.qZA()(),e.TgZ(18,"span",14),e._UZ(19,"p-skeleton",41)(20,"p-skeleton",42),e.qZA(),e._UZ(21,"p-skeleton",43),e.qZA())}function lF(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,aF,22,0,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.loadingPlaceholders)}}const cF=function(){return{maxWidth:"50vw",width:"fit-content",maxHeight:"60vh",minHeight:"10rem"}},uF=function(){return{"960px":"75vw","640px":"100vw"}},dF=function(){return{display:"grid"}};let pF=(()=>{class n{constructor(t,i,s){this.api=t,this.rt=i,this.chatService=s,this.dialogVisible=!1,this.workLogs=[],this.isLoading=!1,this.subscriptions=new _.xf,this.loadingPlaceholders=Array(3).fill(null)}ngOnInit(){this.rt.workLogCreated().subscribe(this.workLogCreate.bind(this)),this.rt.workLogUpdated().subscribe(this.workLogUpdate.bind(this)),this.rt.workLogDeleted().subscribe(this.workLogDelete.bind(this))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}workLogCreate(t){this.workLogs.unshift(t)}workLogUpdate(t){const i=this.workLogs.findIndex(s=>s.workLogId===t.workLogId);this.workLogs[i]=t}workLogDelete(t){const i=this.workLogs.findIndex(s=>s.workLogId===t.workLogId);this.workLogs.splice(i,1)}trackByWorkLog(t,i){return i.workLogId+i.status+i.whoAccepted.length+i.workReports.length}open(t){this.dialogVisible=!0,this.isLoading=!0,this.api.getWorkLogsByTaskId(t).subscribe({next:this.loadWorkLogs.bind(this),error:this.onErrorDuringLoad.bind(this)})}loadWorkLogs(t){this.isLoading=!1,this.workLogs=t}onErrorDuringLoad(){this.isLoading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(bt.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-work-logs-dialog"]],decls:6,vars:12,consts:[["appendTo","body","header","\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043e\u0442\u0447\u0435\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","contentStyle","draggable","modal","resizable","dismissableMask","visibleChange"],["pTemplate","content"],["statusCaption",""],["loadingPlaceholderEl",""],["class","flexed column hcenter vcenter p10",4,"ngIf"],["class","flexed gap5 column list-view",4,"ngIf"],[4,"ngIf"],[1,"flexed","column","hcenter","vcenter","p10"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap2"],[1,"mdi-playlist_remove"],[1,"flexed","gap5","column","list-view"],["class","work-log-element",4,"ngFor","ngForOf","ngForTrackBy"],[1,"work-log-element"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","gap10"],[1,"flexed","gap3","hcenter","caption","size-small","wt-bold","f-color-500"],[1,"mdi-groups"],[3,"employees"],[1,"mdi-person"],[3,"employee","size"],[1,"flexed","gap10","caption","size-small"],[1,"flexed","column"],[1,"mdi-schedule_send"],[1,"mdi-cancel_schedule_send"],[1,"mdi-timelapse"],["icon","mdi-history","label","\u0427\u0430\u0442","styleClass","p-button-secondary p-button-outlined",3,"onClick"],["class","report",4,"ngIf"],[1,"report"],[1,"mdi-summarize"],[1,"report-text"],[4,"ngTemplateOutlet"],[3,"ngSwitch"],["class","caption size-small f-color-500 flexed hcenter gap3",3,"style",4,"ngSwitchCase"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-engineering"],[1,"mdi-verified"],[1,"mdi-close"],["class","work-log-element",4,"ngFor","ngForOf"],["height",".9rem","width","10rem"],["height","3.5rem","width","5rem"],["height","2rem","width","7rem"],["height","2.5rem","width","5rem"],["height","2.5rem","width","6rem"],["height","5rem","width","25rem"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(p){return i.dialogVisible=p}),e.YNc(1,XN,3,3,"ng-template",1),e.qZA(),e.YNc(2,rF,4,4,"ng-template",null,2,e.W1O),e.YNc(4,lF,2,1,"ng-template",null,3,e.W1O)),2&t&&(e.Akn(e.DdM(9,cF)),e.Q6J("visible",i.dialogVisible)("breakpoints",e.DdM(10,uF))("contentStyle",e.DdM(11,dF))("draggable",!1)("modal",!0)("resizable",!1)("dismissableMask",!0))},dependencies:[k.sg,k.O5,k.tP,k.RF,k.n9,O.zx,N.jx,To.V,yl.O,fc.x,qA.k,rb.t,k.uU],styles:[".work-log-element[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/1fr;gap:.5rem;padding:1rem}.work-log-element[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.report[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]{white-space:pre-line;font-size:.9rem;color:var(--tc-700)}"]}),n})();var $A=b(6759),hF=b(1403),gF=b(6501),fF=b(1318),mF=b(3435),_F=b(6083),CF=b(7728),vF=b(1886);const bF=["headerItm"],yF=["contentItm"];function xF(n,o){1&n&&e.GkF(0)}function IF(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.header," ")}}function TF(n,o){1&n&&e.GkF(0)}const AF=function(n){return{$implicit:n}};function wF(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,TF,1,0,"ng-container",7),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(2,AF,t))}}let EF=(()=>{class n{constructor(t){this.host=t,this._items=[],this.header="",this.headerTemplate=null,this.itemTemplate=null,this.onScrollDown=new e.vpe}set items(t){this._items=t}get items(){return this._items}onResize(){const t=this.host.nativeElement,i=this.host.nativeElement.parentElement,s=getComputedStyle(i),p=parseFloat(s.getPropertyValue("padding-top")),w=parseFloat(s.getPropertyValue("padding-bottom"));t.style.maxHeight=i.clientHeight-(p+w)+"px"}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>this.onResize()),this.contentItm.nativeElement.onwheel=t=>{const i=t.target;i.scrollHeight-(i.offsetHeight+i.scrollTop)==0&&this.onScrollDown.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(bF,5),e.Gf(yF,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.headerItm=s.first),e.iGM(s=e.CRH())&&(i.contentItm=s.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)},inputs:{items:"items",header:"header",headerTemplate:"headerTemplate",itemTemplate:"itemTemplate"},outputs:{onScrollDown:"onScrollDown"},decls:7,vars:3,consts:[[1,"header"],["headerItm",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"content"],["contentItm",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,xF,1,0,"ng-container",2),e.YNc(3,IF,2,1,"ng-container",3),e.qZA(),e.TgZ(4,"div",4,5),e.YNc(6,wF,2,4,"div",6),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngTemplateOutlet",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",!i.headerTemplate),e.xp6(3),e.Q6J("ngForOf",i.items))},dependencies:[k.sg,k.O5,k.tP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;border:1px solid var(--bgc-300);min-height:100px;height:max-content;min-width:15rem;max-width:30rem;overflow:hidden}[_nghost-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:.9rem 1.1rem;background-color:#fff;color:var(--tc-700);font-size:1.1rem;font-weight:700;border-bottom:1px solid var(--bgc-300)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;height:100%}"]}),n})();function SF(n,o){1&n&&e.GkF(0)}function kF(n,o){if(1&n&&(e.ynx(0),e.YNc(1,SF,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function DF(n,o){1&n&&e.GkF(0)}function MF(n,o){if(1&n&&(e.ynx(0),e.YNc(1,DF,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function OF(n,o){1&n&&e.GkF(0)}function PF(n,o){if(1&n&&(e.ynx(0),e.YNc(1,OF,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function LF(n,o){1&n&&(e.TgZ(0,"span",12),e._uU(1," \u041d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447 "),e.qZA())}function RF(n,o){1&n&&e.GkF(0)}function NF(n,o){if(1&n&&(e.ynx(0),e.YNc(1,RF,1,0,"ng-container",11),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t)}}function FF(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5),e._uU(2),e.qZA(),e.ynx(3),e.TgZ(4,"div",6)(5,"div",7),e._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(7,kF,2,2,"ng-container",8),e.TgZ(8,"div",7),e._uU(9,"\u0422\u0438\u043f\u044b"),e.qZA(),e.YNc(10,MF,2,2,"ng-container",8),e.TgZ(11,"div",7),e._uU(12,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e.YNc(13,PF,2,2,"ng-container",8),e.TgZ(14,"div",7),e._uU(15,"\u0417\u0430\u0434\u0430\u0447\u0438 \u0441 \u0442\u0435\u0433\u0430\u043c\u0438"),e.qZA(),e.TgZ(16,"div",9),e.YNc(17,LF,2,0,"span",10),e.YNc(18,NF,2,2,"ng-container",8),e.qZA()(),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.title," "),e.xp6(5),e.Q6J("ngForOf",t.statistic.taskCount),e.xp6(3),e.Q6J("ngForOf",t.statistic.taskCountByStage),e.xp6(3),e.Q6J("ngForOf",t.statistic.worksDone),e.xp6(4),e.Q6J("ngIf",0===t.statistic.taskCountByTags.length),e.xp6(1),e.Q6J("ngForOf",t.statistic.taskCountByTags)}}function BF(n,o){if(1&n&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.qZA()()),2&n){const t=o.label,i=o.value,s=o.lcolor,p=o.vcolor;e.xp6(1),e.Udp("color",s?s+" !important":null),e.xp6(1),e.Oqu(t),e.xp6(1),e.Udp("color",p?p+" !important":null),e.xp6(1),e.Oqu(i)}}function ZF(n,o){if(1&n&&(e.TgZ(0,"div",16)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&n){const t=o.label,i=o.value;e.Udp("background-color",o.color),e.xp6(2),e.Oqu(t),e.xp6(2),e.Oqu(i)}}function UF(n,o){1&n&&e._UZ(0,"p-skeleton",17)}let HF=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.title="",this.subscriptions=new _.xf}get wireframe(){if(!this._wireframe)throw new Error("\u0428\u0430\u0431\u043b\u043e\u043d \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d");return this._wireframe}set wireframe(t){this._wireframe=t,this.title=t.name,this.subscriptions.addSubscription("upd",(0,Eo.T)(this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()).pipe((0,Bs.O)(null),(0,Gd.z)(()=>this.api.getWireframeDashboardStatistic(t.wireframeId))).subscribe(i=>{this.statistic=i}))}ngOnInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard-task-statistic-panel"]],inputs:{wireframe:"wireframe"},decls:7,vars:2,consts:[["class","flex flex-column bg-white shadow-1 border-round-lg",4,"ngIf","ngIfElse"],["rowInfo",""],["tag",""],["loading",""],[1,"flex","flex-column","bg-white","shadow-1","border-round-lg"],[1,"flex","align-items-center","text-bluegray-400","text-xl","font-semibold","m-3"],[1,"flex","flex-column","gap-2","px-4","pb-4"],[1,"border-bottom-1","border-bluegray-100","mt-2","text-bluegray-600"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-2"],["class","text-bluegray-300 text-lg font-semibold",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-bluegray-300","text-lg","font-semibold"],[1,"flex","gap-2","align-items-center"],[1,"text-bluegray-500","text-sm","font-semibold"],[1,"text-bluegray-600"],[1,"flex","py-1","px-2","gap-2","align-items-center","border-round-3xl","text-xs","font-bold","text-white","w-fit","h-fit"],["height","27rem"]],template:function(t,i){if(1&t&&(e.YNc(0,FF,19,6,"div",0),e.YNc(1,BF,5,6,"ng-template",null,1,e.W1O),e.YNc(3,ZF,5,4,"ng-template",null,2,e.W1O),e.YNc(5,UF,1,0,"ng-template",null,3,e.W1O)),2&t){const s=e.MAs(6);e.Q6J("ngIf",i.statistic)("ngIfElse",s)}},dependencies:[k.sg,k.O5,k.tP,yl.O]}),n})();var ab=b(1179);const VF=function(){return[]};function zF(n,o){if(1&n&&(e._UZ(0,"p-dropdown",4),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw();let s;e.Q6J("formControlName",t.name)("options",null!==(s=e.lcZ(1,3,i.templates$))&&void 0!==s?s:e.DdM(5,VF))("placeholder",t.name)}}const JF=function(){return{}};function QF(n,o){if(1&n&&(e._UZ(0,"p-dropdown",7),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw().$implicit,s=e.oxw();let p;e.Q6J("formControlName",t)("options",s.fieldOfWireframe((null!==(p=e.lcZ(1,3,s.templateBinds$))&&void 0!==p?p:e.DdM(5,JF))[i.name]))("placeholder",t)}}function GF(n,o){if(1&n&&(e.TgZ(0,"fieldset",5)(1,"legend"),e._uU(2),e.qZA(),e.YNc(3,QF,2,6,"p-dropdown",6),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroupName",t.name),e.xp6(2),e.hij("\u0428\u0430\u0431\u043b\u043e\u043d: ",t.name,""),e.xp6(1),e.Q6J("ngForOf",t.fields)}}let WF=(()=>{class n{constructor(t){this.api=t,this.controls=[{name:"accident",fields:["description","address","login","phone","workReport"]},{name:"connection",fields:["address","login","phone","advertisingSource","fullName","password","takenFrom","techInfo","type"]},{name:"privateSectorRM",fields:["address","advertisingSource","name","phone","gardening"]},{name:"privateSectorVD",fields:["name","address","advertisingSource","phone","district"]}],this.selectionBindsMap={},this.templatesBindingsMap={},this.templates$=this.api.getWireframes(),this.templateLinkToBindsForm=new f.cw({accident:new f.NI(null),connection:new f.NI(null),privateSectorRM:new f.NI(null),privateSectorVD:new f.NI(null)}),this.bindingsForm=new f.cw({accident:new f.cw({description:new f.NI(""),address:new f.NI(""),login:new f.NI(""),phone:new f.NI(""),workReport:new f.NI(""),wireframe:new f.NI(null)}),connection:new f.cw({address:new f.NI(""),login:new f.NI(""),phone:new f.NI(""),advertisingSource:new f.NI(""),fullName:new f.NI(""),password:new f.NI(""),takenFrom:new f.NI(""),techInfo:new f.NI(""),type:new f.NI(""),wireframe:new f.NI(null)}),privateSectorRM:new f.cw({address:new f.NI(""),advertisingSource:new f.NI(""),name:new f.NI(""),phone:new f.NI(""),gardening:new f.NI(""),wireframe:new f.NI(null)}),privateSectorVD:new f.cw({name:new f.NI(""),address:new f.NI(""),advertisingSource:new f.NI(""),phone:new f.NI(""),district:new f.NI(""),wireframe:new f.NI(null)})}),this.templateBinds$=this.templateLinkToBindsForm.valueChanges.pipe((0,ei.b)(i=>{const s={};Object.entries(i).forEach(p=>{s[p[0]]={},s[p[0]].wireframe=p[1]}),this.bindingsForm.patchValue(s)}),(0,mt.U)(i=>Object.assign({},i))),this.onChange=i=>{},this.onTouched=()=>{}}get setOfFieldsForSelectingTemplates(){return Object.keys(this.controls)}bindEntries(t){return Object.keys(this.controls[t])}fieldOfWireframe(t){return t?t.steps.reduce((i,s)=>i.concat(s.fields),[]):[]}bindMapTrack(t,i){return i.key}ngOnInit(){this.bindingsForm.valueChanges.subscribe(t=>{this.onChange(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){t&&this.bindingsForm.patchValue(t)}changeTemplateSelection(t,i){this.selectionBindsMap[t]={binds:this.bindEntries(t),wireframe:i.value}}ngOnDestroy(){var t;null===(t=this.formSubscribtion)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tracker-bindings-input"]],features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:4,consts:[[1,"flexed","column","gap5",3,"formGroup"],[1,"node","flexed","gap5","column"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["class","node flexed gap5 column",3,"formGroupName",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder"],[1,"node","flexed","gap5","column",3,"formGroupName"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"fieldset",1)(2,"legend"),e._uU(3,"\u0412\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043f\u043e\u0434 \u0442\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,zF,2,6,"p-dropdown",2),e.qZA()(),e.TgZ(5,"div",0),e.ynx(6),e.YNc(7,GF,4,3,"fieldset",3),e.BQk(),e.qZA()),2&t&&(e.Q6J("formGroup",i.templateLinkToBindsForm),e.xp6(4),e.Q6J("ngForOf",i.controls),e.xp6(1),e.Q6J("formGroup",i.bindingsForm),e.xp6(2),e.Q6J("ngForOf",i.controls))},dependencies:[k.sg,f.JJ,f.JL,qe.Lt,f.sg,f.u,f.x0,k.Ov]}),n})(),YF=(()=>{class n{constructor(t){this.el=t,this.tooltip=document.createElement("div")}onmouseenter(){const t=this.el.nativeElement,i=t.getBoundingClientRect();if(t.offsetHeight>=t.scrollHeight)return;this.tooltip.innerText=t.innerText;const s=window.getComputedStyle(t);this.tooltip.style.fontSize=s.fontSize,this.tooltip.style.fontFamily=s.fontFamily,this.tooltip.style.fontWeight=s.fontWeight,this.tooltip.style.fontStyle=s.fontStyle,this.tooltip.style.padding=s.padding,this.tooltip.style.lineHeight=s.lineHeight,this.tooltip.style.letterSpacing=s.letterSpacing,this.tooltip.style.color=s.color,this.tooltip.className="p-3 panel absolute pointer-events-none",document.body.appendChild(this.tooltip),this.tooltip.style.left=i.left-13+"px",this.tooltip.style.width=`${i.width+26}px`;const p=i.top+window.scrollY-13;this.tooltip.style.top=`${p}px`,setTimeout(()=>{let _e=this.tooltip.getBoundingClientRect().bottom+document.documentElement.scrollTop-(document.documentElement.scrollTop+window.innerHeight);_e<0&&(_e=0),this.tooltip.style.top=p-_e+"px"})}onmouseleave(){try{document.body.removeChild(this.tooltip)}catch(t){}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTooltip",""]],hostBindings:function(t,i){1&t&&e.NdJ("mouseenter",function(){return i.onmouseenter()})("mouseleave",function(){return i.onmouseleave()})}}),n})(),hI=(()=>{class n{transform(t){switch(t){case he.b9.AMOUNT:return"\u0448\u0442.";case he.b9.METRES:return"\u043c.";case he.b9.KILOGRAMS:return"\u043a\u0433."}return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"unitName",type:n,pure:!0}),n})();function jF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",24),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.workingTableBack())}),e.TgZ(1,"td",25),e._UZ(2,"span",26),e.TgZ(3,"span"),e._uU(4,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()(),e._UZ(5,"td"),e.qZA()}}function KF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",24),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return e.KtG(p.loadWorksByGroup(s.key))}),e.TgZ(1,"td",25),e._UZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e._UZ(5,"td"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Tol(t.icon),e.xp6(2),e.Oqu(t.label)}}function qF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",27),e.NdJ("onDragStart",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return e.KtG(p.workDragging(s.data))})("dblclick",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return p.workDragging(s.data),e.KtG(p.dropped())}),e.TgZ(1,"td",25),e._UZ(2,"span"),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"td",28),e._uU(6),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("pDraggableDisabled",i.isDisabled),e.xp6(2),e.Tol(t.icon),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.hij(" ",i.workCost(t.data)," \u0440\u0443\u0431. ")}}function $F(n,o){1&n&&(e.ynx(0,21),e.YNc(1,jF,6,0,"tr",22),e.YNc(2,KF,6,3,"tr",22),e.YNc(3,qF,7,5,"tr",23),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.type),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work"))}function XF(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",29),e.NdJ("onDragStart",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.actionDragging(p))})("dblclick",function(){const p=e.CHM(t).$implicit,w=e.oxw();return w.actionDragging(p),e.KtG(w.dropped())}),e.TgZ(1,"td",30),e._UZ(2,"span",31),e.TgZ(3,"span",32),e._uU(4),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"unitName"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("font-size","1em"),e.xp6(1),e.Udp("max-width","20rem"),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431/",e.lcZ(7,7,t.unit)," ")}}function e5(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0420\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u044d\u0444."),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u0434.?"),e.qZA()())}function t5(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2),s=t.$implicit;e.uIk("rowspan",t.rowspan),e.xp6(1),e.Oqu(s.workName)}}function n5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2).$implicit,w=e.oxw();return e.KtG(w.updateActionCount(s,p))})("onFocus",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.selectAllValue(s))})("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2).$implicit;return e.KtG(p.count=s)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function o5(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function s5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",38),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw(2).$implicit,w=e.oxw(),J=e.MAs(27);return w.selectWorkActions(p.workId,p.workName),e.KtG(J.toggle(s))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function r5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2).$implicit,p=e.oxw();return e.KtG(p.removeWork(s.workId))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function a5(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,t5,2,2,"td",33),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",34)(5,"p-cellEditor"),e.YNc(6,n5,1,5,"ng-template",35),e.YNc(7,o5,2,4,"ng-template",36),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.YNc(10,s5,2,1,"td",33),e.YNc(11,r5,2,1,"td",33),e.qZA()),2&n){const t=e.oxw(),i=t.rowgroup,s=t.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(2),e.Oqu(s.actionName),e.xp6(6),e.hij("",s.cost," \u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",i)}}function l5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",37),e.NdJ("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2).$implicit,w=e.oxw();return e.KtG(w.updateActionCount(s,p))})("onFocus",function(s){e.CHM(t);const p=e.oxw(3);return e.KtG(p.selectAllValue(s))})("ngModelChange",function(s){e.CHM(t);const p=e.oxw(2).$implicit;return e.KtG(p.count=s)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function c5(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function u5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",34)(5,"p-cellEditor"),e.YNc(6,l5,1,5,"ng-template",35),e.YNc(7,c5,2,4,"ng-template",36),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"p-button",38),e.NdJ("onClick",function(s){e.CHM(t);const p=e.oxw().$implicit,w=e.oxw(),J=e.MAs(27);return w.selectAction(p.uuid,p.actionName),e.KtG(J.toggle(s))}),e.qZA()(),e.TgZ(12,"td")(13,"p-button",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,p=e.oxw();return e.KtG(p.removeAction(s.uuid))}),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.actionName),e.xp6(6),e.hij("",t.cost," \u0440\u0443\u0431.")}}function d5(n,o){if(1&n&&(e.YNc(0,a5,12,5,"tr",33),e.YNc(1,u5,14,2,"tr",33)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.workId),e.xp6(1),e.Q6J("ngIf",!t.workId)}}const p5=function(){return{grid:"min-content 1fr / max-content max-content 1fr"}},h5=function(){return{minHeight:"500px",minWidth:"300px"}},g5=function(n){return{"cover-element":n}},f5=function(){return["name"]},m5=function(n,o){return{"drop-zone":n,"cover-element":o}},_5=function(){return{width:"max-content"}};let XA=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.treeMenuWorksItems=[],this.worksTablePath=[],this.worksTableLoading=!1,this.actionsTaken=[],this.isDragging=!1,this.dragEnterCounter=0,this.tableMenuActionsItems=[],this.actionsTableLoading=!1,this.workActionsRatioMenu=[],this.factorsActions=[],this.subscriptions=new _.xf,this.isDisabled=!1,this._employees=[],this.onChange=s=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){null!=t?(this._employees=t,this.workActionsRatioMenu=this.employees.map(i=>({label:i.fullName,items:[{label:"x0",command:()=>this.addActionRatio(1e-4,i.login)},{label:"x0.1",command:()=>this.addActionRatio(.1,i.login)},{label:"x0.25",command:()=>this.addActionRatio(.2,i.login)},{label:"x0.5",command:()=>this.addActionRatio(.5,i.login)},{label:"x0.75",command:()=>this.addActionRatio(.75,i.login)},{label:"x1.25",command:()=>this.addActionRatio(1.25,i.login)},{label:"x1.5",command:()=>this.addActionRatio(1.5,i.login)},{label:"x2",command:()=>this.addActionRatio(2,i.login)},{label:"x3",command:()=>this.addActionRatio(3,i.login)}]}))):this._employees=[]}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}trackByActionItems(t,i){return i.paidActionId+i.cost+i.name+i.description+i.unit+i.deleted}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){t?(this.actionsTaken=t.actionsTaken,t.factorsActions&&(this.factorsActions=t.factorsActions)):(this.actionsTaken=[],this.factorsActions=[])}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}deselectFactor(){this.selectedUuidActions=void 0}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadWorks(),this.loadActions()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadActions(){this.actionsTableLoading=!0,this.api.getListAvailablePaidActions().subscribe({next:t=>{this.tableMenuActionsItems=t,this.actionsTableLoading=!1},error:t=>{this.actionsTableLoading=!1}}),this.subscriptions.addSubscription("actUpdate",this.rt.paidActionUpdated().subscribe(t=>{const i=this.tableMenuActionsItems.findIndex(s=>s.identifier===t.identifier);i>-1&&(this.tableMenuActionsItems[i]=t)})),this.subscriptions.addSubscription("actDelete",this.rt.paidActionDeleted().subscribe(t=>{const i=this.tableMenuActionsItems.findIndex(s=>s.identifier===t.identifier);i>-1&&this.tableMenuActionsItems.splice(i,1)})),this.subscriptions.addSubscription("actAdd",this.rt.paidActionCreated().subscribe(t=>{this.tableMenuActionsItems.unshift(t)}))}foundNodeByPath(t){var i;if(!t||0===t.length)return null;let s=null,p=this.treeMenuWorksItems;for(let w of t){if(!p)return null;if(s=null!==(i=p.find(J=>J.key==="g"+w))&&void 0!==i?i:null,!s)return null;p=s.children}return s}loadWorks(){this.worksTableLoading=!0,this.api.getRootTreeOfWorks(!0).subscribe({next:t=>{this.treeMenuWorksItems=t,this.worksTableLoading=!1}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const i=this.foundNodeByPath(t.sourcePath),s=this.foundNodeByPath(t.targetPath);if(i){if(i.children){const p=i.children.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&i.children.splice(p,1),0===i.children.length&&(i.leaf=!0)}}else{const p=this.treeMenuWorksItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&this.treeMenuWorksItems.splice(p,1)}s?(s.children?-1===s.children.findIndex(w=>w.key===t.object.key&&w.type===t.object.type)&&s.children.push(t.object):(s.children=[],s.children.push(t.object)),s.leaf=!1):-1===this.treeMenuWorksItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type)&&this.treeMenuWorksItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const p=null===(i=s.children)||void 0===i?void 0:i.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&(s.children[p]=t.object)}else if(!s){const p=this.treeMenuWorksItems.findIndex(w=>w.key===t.object.key&&w.type===t.object.type);p>-1&&(this.treeMenuWorksItems[p]=t.object)}})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const i=this.foundNodeByPath(t.path);i?(i.children||(i.children=[]),i.children.push(t.object),i.children.sort((s,p)=>s.position-p.position),i.leaf=!1):(this.treeMenuWorksItems.push(t.object),this.treeMenuWorksItems.sort((s,p)=>s.position-p.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(t=>{var i;const s=this.foundNodeByPath(t.path);if(s&&s.children){const p=s.children.findIndex(w=>w.key===t.object.key);p>-1&&(null===(i=s.children)||void 0===i||i.splice(p,1))}else if(!s){const p=this.treeMenuWorksItems.findIndex(w=>w.key===t.object.key);p>-1&&this.treeMenuWorksItems.splice(p,1)}}))}loadWorksByGroup(t){this.worksTableLoading=!0,this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTablePath.push(t),this.treeMenuWorksItems.unshift({type:"back",key:t}),this.worksTableLoading=!1}})}workingTableBack(){this.worksTablePath.pop();const t=this.worksTablePath.pop();this.worksTableLoading=!0,t?this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.treeMenuWorksItems.unshift({type:"back"}),this.worksTableLoading=!1}}):this.api.getRootTreeOfWorks(!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTableLoading=!1}})}dropped(){if(this.draggablePaidWork){const t=this.actionsTaken.filter(i=>{var s;return i.workId===(null===(s=this.draggablePaidWork)||void 0===s?void 0:s.paidWorkId)});if(0===t.length)for(let i of this.draggablePaidWork.actions)this.actionsTaken.push({workName:this.draggablePaidWork.name,workId:this.draggablePaidWork.paidWorkId,actionName:i.action.name,count:i.count,unit:i.action.unit,price:i.action.cost,cost:i.action.cost*i.count,actionId:i.action.paidActionId,uuid:(0,es.Z)()});else t.forEach(i=>{var s;const p=null===(s=this.draggablePaidWork)||void 0===s?void 0:s.actions.find(w=>w.action.paidActionId===i.actionId);p&&(i.count+=p.count,i.cost=i.price*i.count)});this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}if(this.draggableAction){const t=this.actionsTaken.find(i=>{var s;return!i.workId&&i.actionId===(null===(s=this.draggableAction)||void 0===s?void 0:s.paidActionId)});t?(t.count+=1,t.cost=t.price*t.count):this.actionsTaken.push({workName:void 0,workId:void 0,actionName:this.draggableAction.name,count:1,unit:this.draggableAction.unit,price:this.draggableAction.cost,cost:this.draggableAction.cost,actionId:this.draggableAction.paidActionId,uuid:(0,es.Z)()}),this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}this.draggablePaidWork=void 0,this.draggableAction=void 0,this.isDragging=!1,this.dragEnterCounter=0}workDragging(t){this.draggablePaidWork=t}actionDragging(t){this.draggableAction=t}workCost(t){let i=0;for(let s of t.actions)i+=s.action.cost*s.count;return i}removeWork(t){const i=this.actionsTaken.filter(s=>s.workId===t);this.factorsActions=this.factorsActions.filter(s=>!s.actionUuids.some(p=>p===i[0].uuid)),this.actionsTaken=this.actionsTaken.filter(s=>!i.some(p=>p.uuid==s.uuid)),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}updateActionCount(t,i){i.cost=t*i.price,setTimeout(()=>{this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})})}dragEnter(){this.dragEnterCounter++,this.isDragging=!0}dragLeave(){this.dragEnterCounter--,0===this.dragEnterCounter&&(this.isDragging=!1)}removeAction(t){this.factorsActions=this.factorsActions.filter(i=>!i.actionUuids.some(s=>s===t)),this.actionsTaken=this.actionsTaken.filter(i=>i.uuid!==t),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}selectAllValue(t){const i=t.target;i.setSelectionRange(0,i.value.length)}addActionRatio(t,i){!this.selectedUuidActions||!this.selectedWorkName||(this.factorsActions.push({factor:t,login:i,name:this.selectedWorkName,actionUuids:this.selectedUuidActions,uuid:(0,es.Z)()}),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions}))}selectWorkActions(t,i){this.selectedUuidActions=this.actionsTaken.filter(s=>s.workId===t).map(s=>s.uuid),this.selectedWorkName=i}selectAction(t,i){this.selectedUuidActions=[t],this.selectedWorkName=i}filterTable(t,i){i.filterGlobal(lA.translate(t.target.value),"contains")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-works-picker"]],inputs:{employees:"employees"},features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0},N.Y])],decls:28,vars:30,consts:[[1,"grided","gap5"],[1,"caption","size-big","wt-bold","f-color-500"],[1,"border-1","border-bluegray-100","border-round-md","overflow-hidden","h-fit",3,"ngClass"],["styleClass","tab-content-unpadding"],["header","\u0420\u0430\u0431\u043e\u0442\u044b"],["scrollHeight","500px",3,"loading","rowHover","value"],["pTemplate","body"],["header","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"],[1,"flex","flex-column"],[1,"p-input-icon-left","m-3"],[1,"mdi-search"],["pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439...","type","text",1,"w-full",3,"input"],["scrollHeight","500px","styleClass","p-datatable-sm",3,"globalFilterFields","loading","rowHover","value","rowTrackBy"],["actionTableRef",""],[1,"mds-sync_alt","caption","size-huge","self-center"],["pDroppable","dd",1,"flex-grow-1","flex","flex-column","border-1","border-bluegray-100","border-round-md","overflow-hidden",3,"ngClass","pDroppableDisabled","onDragEnter","onDragLeave","onDrop"],["groupRowsBy","workId","rowGroupMode","rowspan","sortField","workName","sortMode","single",1,"flex-grow-1",3,"value"],["pTemplate","header"],[1,"flexed","hcenter","vend","caption","f-color-400","wt-tiny","size-huge","p5"],["appendTo","body",3,"model","popup","onHide"],["ratioMenu",""],[3,"ngSwitch"],["class","not-selectable",3,"dblclick",4,"ngSwitchCase"],["class","not-selectable cursor-move","dragEffect","move","pDraggable","dd",3,"pDraggableDisabled","onDragStart","dblclick",4,"ngSwitchCase"],[1,"not-selectable",3,"dblclick"],[1,"text-bluegray-400","gap-1","flex","align-items-center"],[1,"mdi-subdirectory_arrow_left"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"pDraggableDisabled","onDragStart","dblclick"],[1,"text-bluegray-400"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"onDragStart","dblclick"],[1,"caption","size-small","with-icon"],[1,"mdi-directions_run"],["appTicker","",1,"caption","white-space-nowrap","overflow-hidden"],[4,"ngIf"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],[3,"ngModel","allowEmpty","max","min","size","ngModelChange","onFocus"],["icon","mdi-percent","styleClass","p-button-text p-button-icon p-button-success",3,"onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-icon p-button-danger",3,"click"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e._UZ(3,"span"),e.TgZ(4,"div",1),e._uU(5," \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e.TgZ(6,"div",2)(7,"p-tabView",3)(8,"p-tabPanel",4)(9,"p-table",5),e.YNc(10,$F,4,4,"ng-template",6),e.qZA()(),e.TgZ(11,"p-tabPanel",7)(12,"div",8)(13,"span",9),e._UZ(14,"i",10),e.TgZ(15,"input",11),e.NdJ("input",function(w){e.CHM(s);const J=e.MAs(17);return e.KtG(i.filterTable(w,J))}),e.qZA()(),e.TgZ(16,"p-table",12,13),e.YNc(18,XF,8,9,"ng-template",6),e.qZA()()()()(),e._UZ(19,"span",14),e.TgZ(20,"div",15),e.NdJ("onDragEnter",function(){return i.dragEnter()})("onDragLeave",function(){return i.dragLeave()})("onDrop",function(){return i.dropped()}),e.TgZ(21,"p-table",16),e.YNc(22,e5,13,0,"ng-template",17),e.YNc(23,d5,2,2,"ng-template",6),e.qZA(),e.TgZ(24,"div",18),e._uU(25),e.qZA()()(),e.TgZ(26,"p-slideMenu",19,20),e.NdJ("onHide",function(){return i.deselectFactor()}),e.qZA()}2&t&&(e.Akn(e.DdM(21,p5)),e.xp6(6),e.Akn(e.DdM(22,h5)),e.Q6J("ngClass",e.VKq(23,g5,i.isDisabled)),e.xp6(3),e.Q6J("loading",i.worksTableLoading)("rowHover",!0)("value",i.treeMenuWorksItems),e.xp6(7),e.Q6J("globalFilterFields",e.DdM(25,f5))("loading",i.actionsTableLoading)("rowHover",!0)("value",i.tableMenuActionsItems)("rowTrackBy",i.trackByActionItems),e.xp6(4),e.Q6J("ngClass",e.WLB(26,m5,i.isDragging,i.isDisabled))("pDroppableDisabled",i.isDisabled),e.xp6(1),e.Q6J("value",i.actionsTaken),e.xp6(4),e.hij(" \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442: ",i.totalCostOfWork," \u0440\u0443\u0431. "),e.xp6(1),e.Akn(e.DdM(29,_5)),e.Q6J("model",i.workActionsRatioMenu)("popup",!0))},dependencies:[k.mk,k.O5,k.RF,k.n9,O.zx,f.JJ,f.On,N.jx,xl.Rn,Il.xf,Il.x4,yi.o,Aa.iA,Aa.Wq,Aa.YL,NA.aj,Ko._l,Ko.bK,Ah.x,hI]}),n})();function C5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Tol("caption "+(i.getWorkActionsRatioSum(t.uuid)>0?"f-color-success":"f-color-danger")),e.xp6(1),e.hij(" ",i.getWorkActionsRatioSum(t.uuid),"\u0440\u0443\u0431. ")}}function v5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"span",18),e._uU(2),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA(),e.YNc(5,C5,2,3,"span",21),e.TgZ(6,"app-tiny-button",22),e.NdJ("onClick",function(){const p=e.CHM(t).$implicit,w=e.oxw(3);return e.KtG(w.removeWorkActionRatio(p.uuid))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.hij("x",null==t?null:t.factor,""),e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("size",.8)("disabled",i.isDisabled)}}function b5(n,o){if(1&n&&(e.TgZ(0,"div",15)(1,"span",16),e._uU(2,"\u0414\u043e\u043f. \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b:"),e.qZA(),e.TgZ(3,"div",15),e.YNc(4,v5,7,5,"div",17),e.qZA(),e.TgZ(5,"span",18),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(4),e.Q6J("ngForOf",i.getFactorsActions(t.login))("ngForTrackBy",i.trackByWar),e.xp6(2),e.hij("\u0418\u0442\u043e\u0433: ",i.getEmployeeTotalPayment(t.login)," \u0440\u0443\u0431.")}}function y5(n,o){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"app-avatar",7),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.ynx(4,9),e.TgZ(5,"div",10),e._UZ(6,"p-slider",11),e.TgZ(7,"span",12),e._uU(8),e.ALo(9,"number"),e.qZA()(),e._UZ(10,"p-inputNumber",13),e.YNc(11,b5,7,3,"div",14),e.BQk(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("deleted",t.deleted)("name",t.fullName)("size",5)("src",t.avatar),e.xp6(2),e.Oqu(t.fullName),e.xp6(1),e.Q6J("formGroupName",t.login),e.xp6(2),e.Q6J("max",1)("min",0)("step",.01)("disabled",i.isDisabled),e.xp6(2),e.hij(" ",e.xi3(9,13,100*i.employeeRatioForm.value[t.login].ratio,"1.2-2"),"% "),e.xp6(2),e.Q6J("disabled",0===i.totalCostOfWork||i.isDisabled),e.xp6(1),e.Q6J("ngIf",i.hasWorkActionRatio(t.login))}}let ew=(()=>{class n{constructor(){this.employeeRatioSubscriptions=new _.xf,this.employeeRatioForm=new f.cw({}),this.isDisabled=!1,this._employees=[],this._factorsActions=[],this._actionsTaken=[],this.onRemoveFactorAction=new e.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){var i;if(null==t)return void(this._employees=[]);this._employees=t;const p=1/t.length;this.employeeRatioForm=new f.cw(t.reduce((w,J)=>{const _e=new f.cw({ratio:new f.NI(p),sum:new f.NI(Math.round(p*this.totalCostOfWork))});return this.employeeRatioSubscriptions.addSubscription(J.login+"rt",_e.controls.ratio.valueChanges.subscribe($e=>{if(null===$e)return;const Xe=J.login,Xt=Object.keys(this.employeeRatioForm.value).filter(jt=>jt!==Xe).map(jt=>this.employeeRatioForm.value[jt].ratio).reduce((jt,Wt)=>jt+Wt,0);if($e+Xt>1){const jt=$e+Xt-1,Wt={};for(let fn in this.employeeRatioForm.value){if(Wt[fn]={ratio:0,sum:0},fn===Xe)continue;const Rn=this.employeeRatioForm.value[fn].ratio;Wt[fn].ratio=Rn-jt*(Rn/Xt),Wt[fn].sum=Math.round(Wt[fn].ratio*this.totalCostOfWork)}Wt[Xe].ratio=$e,Wt[Xe].sum=Math.round($e*this.totalCostOfWork),this.employeeRatioForm.patchValue(Wt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[Xe]:{ratio:$e,sum:Math.round($e*this.totalCostOfWork)}},{emitEvent:!1})})),this.employeeRatioSubscriptions.addSubscription(J.login+"sum",_e.controls.sum.valueChanges.subscribe($e=>{if(null!==$e&&$e>this.totalCostOfWork&&($e=this.totalCostOfWork),null===$e)return;const Xe=J.login,Xt=Object.keys(this.employeeRatioForm.value).filter(jt=>jt!==Xe).map(jt=>this.employeeRatioForm.value[jt].sum).reduce((jt,Wt)=>jt+Wt,0);if($e+Xt>this.totalCostOfWork){const jt=$e+Xt-this.totalCostOfWork,Wt={};for(let fn in this.employeeRatioForm.value){if(Wt[fn]={ratio:0,sum:0},fn===Xe)continue;const Rn=this.employeeRatioForm.value[fn].sum;Wt[fn].sum=Math.round(Rn-jt*(Rn/Xt)),Wt[fn].ratio=Wt[fn].sum/this.totalCostOfWork}Wt[Xe].sum=Math.round($e),Wt[Xe].ratio=$e/this.totalCostOfWork,this.employeeRatioForm.patchValue(Wt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[Xe]:{ratio:$e/this.totalCostOfWork,sum:Math.round($e)}},{emitEvent:!1})})),Object.assign(Object.assign({},w),{[J.login]:_e})},{})),setTimeout(()=>this.onChange(this.employeeRatioForm.value)),null===(i=this.formSub)||void 0===i||i.unsubscribe(),this.formSub=this.employeeRatioForm.valueChanges.subscribe(w=>{this.onChange(w),this.onTouched()})}set actionPicker(t){var i;null===(i=this.actionPickerSub)||void 0===i||i.unsubscribe(),null!=t?(this.actionPicker$=t,this.actionPickerSub=this.actionPicker$.subscribe(s=>{var p;!s||(this._actionsTaken=s.actionsTaken,this._factorsActions=null!==(p=s.factorsActions)&&void 0!==p?p:[],this.recalculateAmountsForEmployees())})):this.actionPicker$=void 0}get factorsActions(){return this._factorsActions}get actionsTaken(){return this._actionsTaken}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}get allMoney(){return this.employeeRatioForm.value?Object.values(this.employeeRatioForm.value).reduce((t,i)=>t+i.sum,0):0}get allMoneyWithRatio(){return this.allMoney+this.getTotalWorkActionsRatioSum()}getTotalWorkActionsRatioSum(){return this.factorsActions.reduce((t,i)=>t+this.getWorkActionsRatioSum(i.uuid),0)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.formSub)||void 0===t||t.unsubscribe()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}equalize(){const i=1/this.employees.length,s=Object.keys(this.employeeRatioForm.value).map(p=>p).reduce((p,w)=>Object.assign(Object.assign({},p),{[w]:{ratio:i,sum:Math.round(i*this.totalCostOfWork)}}),{});this.employeeRatioForm.patchValue(s)}setDisabledState(t){this.isDisabled=t}writeValue(t){this.employeeRatioForm.patchValue(t,{emitEvent:!1})}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWar(t,i){return i.uuid+i.name+i.factor}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.onRemoveFactorAction.emit(this.factorsActions.filter(i=>i.uuid!==t))}getEmployeeTotalPayment(t){return this.employeeRatioForm.value[t].sum+this.getFactorsActions(t).reduce((i,s)=>i+this.getWorkActionsRatioSum(s.uuid),0)}getWorkActionsRatioSum(t){const i=this.factorsActions.find(s=>s.uuid===t);if(i){const w=i.actionUuids.reduce((J,_e)=>{const $e=this.actionsTaken.find(Xe=>Xe.uuid===_e);return $e?J+$e.cost:J},0)*this.employeeRatioForm.value[i.login].ratio;return Math.round(w*i.factor-w)}return 0}recalculateAmountsForEmployees(){for(const t in this.employeeRatioForm.value){const i=this.employeeRatioForm.value[t];this.employeeRatioForm.patchValue({[t]:{ratio:i.ratio,sum:Math.round(i.ratio*this.totalCostOfWork)}},{emitEvent:!1})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-sum-distribution"]],inputs:{employees:"employees",actionPicker:"actionPicker"},outputs:{onRemoveFactorAction:"onRemoveFactorAction"},features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:5,consts:[[1,"flex","flex-column","gap-4"],[1,"flexed","gap10","sparnd",3,"formGroup"],["class","flexed column vcenter gap5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","vend","hcenter","gap10"],[1,"caption","wt-bold","f-color-500"],[1,"caption","size-big","wt-bold","f-color-primary"],[1,"flexed","column","vcenter","gap5"],[3,"deleted","name","size","src"],[1,"caption","size-big"],[3,"formGroupName"],[1,"flexed","gap10","hcenter","w-full"],["formControlName","ratio",1,"w-full",3,"max","min","step","disabled"],[1,"caption","size-tiny","wt-bold","f-color-500"],["formControlName","sum","suffix"," \u0440\u0443\u0431.",3,"disabled"],["class","flexed column gap2",4,"ngIf"],[1,"flexed","column","gap2"],[1,"caption","size-tiny","wt-bold"],["class","flexed hcenter gap3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"caption"],[1,"flexed","hcenter","gap3"],[1,"caption","size-tiny","wt-bold","f-color-primary"],[3,"class",4,"ngIf"],["icon","delete","model","danger",3,"size","disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,y5,12,16,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.employeeRatioForm),e.xp6(1),e.Q6J("ngForOf",i.employees)("ngForTrackBy",i.trackByEmployee),e.xp6(3),e.hij(" \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",i.allMoney," \u0440\u0443\u0431. "),e.xp6(2),e.hij(" \u0418\u0442\u043e\u0433 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u044d\u0444.: ",i.allMoneyWithRatio," \u0440\u0443\u0431. "))},dependencies:[k.sg,k.O5,f.JJ,f.JL,xl.Rn,f.sg,f.u,f.x0,RA.iR,y.A,YA.g,k.JJ]}),n})();function x5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.hours," ",t.hourSuffix,"")}}function I5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.minutes," ",t.minuteSuffix,"")}}function T5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.seconds," ",t.secondSuffix,"")}}function A5(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",t.ms," \u043c\u0441.")}}function w5(n,o){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,x5,2,2,"span",4),e.YNc(2,I5,2,2,"span",4),e.YNc(3,T5,2,2,"span",4),e.YNc(4,A5,2,1,"span",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.hours),e.xp6(1),e.Q6J("ngIf",t.minutes),e.xp6(1),e.Q6J("ngIf",t.seconds&&!t.minutes&&!t.hours),e.xp6(1),e.Q6J("ngIf",!t.seconds&&!t.minutes&&!t.hours)}}function E5(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}class Eh{constructor(){this.short=!0,this.hours=0,this.hourSuffix="",this.minutes=0,this.minuteSuffix="",this.seconds=0,this.secondSuffix=""}ngOnInit(){}msChange(o){this.hours=Math.floor(o/36e5),this.hourSuffix=this.short?"\u0447.":_.cQ.declineOfNumber(this.hours,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]),this.minutes=Math.floor((o-36e5*this.hours)/6e4),this.minuteSuffix=this.short?"\u043c.":_.cQ.declineOfNumber(this.minutes,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]),this.seconds=Math.floor((o-36e5*this.hours-6e4*this.minutes)/1e3),this.secondSuffix=this.short?"\u0441.":_.cQ.declineOfNumber(this.seconds,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}}Eh.\u0275fac=function(o){return new(o||Eh)},Eh.\u0275cmp=e.Xpm({type:Eh,selectors:[["app-duration"]],inputs:{ms:"ms",short:"short"},decls:4,vars:2,consts:[[1,"text-bluegray-500","white-space-nowrap"],["class","flex gap-2",4,"ngIf","ngIfElse"],["emptyTemplate",""],[1,"flex","gap-2"],[4,"ngIf"]],template:function(o,t){if(1&o&&(e.TgZ(0,"span",0),e.YNc(1,w5,5,4,"span",1),e.qZA(),e.YNc(2,E5,2,0,"ng-template",null,2,e.W1O)),2&o){const i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.ms)("ngIfElse",i)}},dependencies:[k.O5]}),(0,Ua.gn)([(0,vl.GU)("ms")],Eh.prototype,"msChange",null);let gI=(()=>{class n{constructor(){this.appPreventInput=!1}onKeyDown(t){this.appPreventInput&&t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appPreventInput",""]],hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(p){return i.onKeyDown(p)})},inputs:{appPreventInput:"appPreventInput"}}),n})();var fI=b(8508);let S5=(()=>{class n{constructor(t){this.element=t,this.subscriptions=new _.xf,this.onScrollDown=new e.vpe}ngOnInit(){const i=this.element.el.nativeElement.children.item(0);if(i){const s=i.children.item(0);s&&(this.scroll$=(0,x.R)(s,"scroll").pipe((0,mt.U)(p=>p.target),(0,Bs.O)(s),(0,Ls.b)(200),(0,r.h)(p=>p.scrollHeight-(p.scrollTop+p.offsetHeight)<10)),this.subscriptions.addSubscription("scroll",this.scroll$.subscribe(()=>this.onScrollDown.emit())))}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Co.Ri))},n.\u0275dir=e.lG2({type:n,selectors:[["p-listbox","appListElementLazyScroll",""]],outputs:{onScrollDown:"onScrollDown"}}),n})();var tw=b(6081),k5=b(9664),nw=b(8322);function D5(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0418\u043c\u044f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041c\u043e\u0434\u0435\u043b\u044c"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Ping"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"\u0421\u0435\u0441\u0441\u0438\u0438"),e.qZA()())}function M5(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"span",11)(2,"span"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"number"),e.qZA()(),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngClass",t.styleClass),e.xp6(2),e.hij(" ",999===t.latency?"- ":e.xi3(4,3,t.latency,"1.2-2"),"\u043c\u0441 "),e.xp6(3),e.hij(" ",e.xi3(7,6,t.loss,"1.2-2"),"% ")}}function O5(n,o){1&n&&e.GkF(0)}const P5=function(){return{width:"85px"}};function L5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,O5,1,0,"ng-container",12),e.BQk()),2&n){e.oxw(3);const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(2,P5))}}function R5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,M5,8,9,"ng-container",8),e.ALo(11,"async"),e.YNc(12,L5,2,3,"ng-container",8),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"td")(15,"span",9)(16,"span",10),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openCommutatorWeb(p.ip))}),e._uU(17," Web "),e.qZA(),e.TgZ(18,"span",10),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openTelnetTerminal(p.name,p.ip))}),e._uU(19," Telnet "),e.qZA()()(),e.TgZ(20,"td")(21,"span",10),e.NdJ("click",function(){const p=e.CHM(t).$implicit,w=e.oxw(2);return e.KtG(w.openCommutatorView(p))}),e._uU(22," \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.model),e.xp6(2),e.Oqu(t.ip),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,6,i.commutatorsPings[t.ip])),e.xp6(2),e.Q6J("ngIf",!e.lcZ(13,8,i.commutatorsPings[t.ip]))}}const N5=function(n){return{"overflow-hidden border-round border-1 border-bluegray-100":n}};function F5(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"p-table",5),e.YNc(2,D5,15,0,"ng-template",6),e.YNc(3,R5,23,10,"ng-template",7),e.qZA()()),2&n){const t=o.ngIf,i=e.oxw();e.Q6J("ngClass",e.VKq(2,N5,!i.inline)),e.xp6(1),e.Q6J("value",t)}}function B5(n,o){1&n&&e._UZ(0,"p-skeleton",13),2&n&&e.Q6J("width",o.width)}function Z5(n,o){if(1&n&&e._UZ(0,"app-commutator-view",14),2&n){const t=e.oxw();e.Q6J("commutator",t.commutatorForView)}}let Vu=class{constructor(o,t,i){this.api=o,this.rt=t,this.telnetService=i,this.LoadingState=he.Gu,this.inline=!1,this.buildId$=new Xx.t(1),this.commutatorLoadingState=he.Gu.LOADING,this.commutatorsPings={},this.commutatorsInitiators$=(0,Eo.T)(this.rt.acpCommutatorCreated(),this.rt.acpCommutatorUpdated(),this.rt.acpCommutatorDeleted()).pipe((0,r.h)(s=>s.buildId===this.buildId),(0,Bs.O)(null)),this.commutatorsLoader$=this.buildId$.pipe((0,r.h)(s=>!!s),(0,ei.b)(()=>this.commutatorLoadingState=he.Gu.LOADING),(0,R.w)(s=>this.api.getCommutatorsByBuildingId(s)),(0,ei.b)({next:s=>{this.commutatorLoadingState=he.Gu.READY,this.commutatorsPings={};for(const{ip:p}of s)this.commutatorsPings[p]=this.ping(p)},error:()=>this.commutatorLoadingState=he.Gu.ERROR})),this.commutators$=this.commutatorsInitiators$.pipe((0,R.w)(()=>this.commutatorsLoader$)),this.commutatorViewVisible=!1,this.commutatorViewHeader="",this.updateCommutatorSub=this.rt.acpCommutatorUpdated().subscribe(s=>{var p;(null===(p=this.commutatorForView)||void 0===p?void 0:p.id)===s.id&&(this.commutatorForView=s)})}ngOnInit(){}openCommutatorWeb(o){window.open(`http://${o}`,"_blank")}openTelnetTerminal(o,t){this.telnetService.connect(o,t)}openCommutatorView(o){this.commutatorViewHeader=o.name+"\u30fb"+o.ip,this.api.getCommutator(o.id).subscribe(t=>{this.commutatorForView=t.commutator,this.commutatorViewVisible=!0})}ping(o){return this.rt.pingMonitoring(o).pipe((0,mt.U)(t=>{const i=100-t.reachablePercentage;return{online:t.isReachable,latency:t.delayAvg,loss:i,styleClass:i>0?"text-red-400":"text-green-400"}}))}};Vu.\u0275fac=function(o){return new(o||Vu)(e.Y36(L.s),e.Y36(de.U),e.Y36(k5.M))},Vu.\u0275cmp=e.Xpm({type:Vu,selectors:[["app-commutators-table"]],inputs:{buildId:"buildId",inline:"inline"},decls:6,vars:9,consts:[["class","flex flex-grow-1",3,"ngClass",4,"ngIf"],["loadingCellTemplate",""],["appendTo","body","contentStyle","",3,"visible","modal","draggable","dismissableMask","header","visibleChange"],[3,"commutator",4,"ngIf"],[1,"flex","flex-grow-1",3,"ngClass"],["styleClass","p-datatable-sm flex-grow-1",1,"flex-grow-1",3,"value"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf"],[1,"flex","flex-wrap","gap-2"],[1,"text-primary","font-bold","hover:text-primary-700","cursor-pointer",3,"click"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"width"],[3,"commutator"]],template:function(o,t){1&o&&(e.YNc(0,F5,4,4,"div",0),e.ALo(1,"async"),e.YNc(2,B5,1,1,"ng-template",null,1,e.W1O),e.TgZ(4,"p-dialog",2),e.NdJ("visibleChange",function(s){return t.commutatorViewVisible=s}),e.YNc(5,Z5,1,1,"app-commutator-view",3),e.qZA()),2&o&&(e.Q6J("ngIf",e.lcZ(1,7,t.commutators$)),e.xp6(4),e.Q6J("visible",t.commutatorViewVisible)("modal",!0)("draggable",!0)("dismissableMask",!0)("header",t.commutatorViewHeader),e.xp6(1),e.Q6J("ngIf",t.commutatorForView))},dependencies:[k.mk,k.O5,k.tP,N.jx,To.V,yl.O,Aa.iA,nw.S,k.Ov,k.JJ],styles:["[_nghost-%COMP%]{display:flex}"]}),(0,Ua.gn)([(0,vl.bQ)("buildId")],Vu.prototype,"buildId$",void 0),Vu=(0,Ua.gn)([(0,vl.kG)()],Vu);const U5=["fileManager"],H5=function(){return[]};function V5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26),e._UZ(1,"p-dropdown",27),e.ALo(2,"async"),e.TgZ(3,"div",28)(4,"input",29),e.NdJ("keydown.enter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchFiles())}),e.qZA(),e.TgZ(5,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.searchFiles())}),e.qZA()()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("options",null!==(i=e.lcZ(2,3,t.filesSortingTypeItems$))&&void 0!==i?i:e.DdM(5,H5))("formControl",t.filesSortingControl),e.xp6(3),e.Q6J("formControl",t.searchFilesQueryControl)}}function z5(n,o){if(1&n&&e._UZ(0,"p-breadcrumb",31),2&n){const t=e.oxw();e.Q6J("home",t.breadcrumbRoot)("model",t.breadcrumbItems)}}function J5(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0418\u043c\u044f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u043e\u0437\u0434\u0430\u043d"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0420\u0430\u0437\u043c\u0435\u0440"),e.qZA()())}function Q5(n,o){1&n&&e.GkF(0)}function G5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Q5,1,0,"ng-container",35),e.BQk()),2&n){e.oxw(2);const t=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function W5(n,o){1&n&&e.GkF(0)}const mI=function(n){return{$implicit:n}};function Y5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,W5,1,0,"ng-container",36),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw();const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,mI,t))}}function j5(n,o){1&n&&e.GkF(0)}function K5(n,o){if(1&n&&(e.ynx(0),e.YNc(1,j5,1,0,"ng-container",36),e.BQk()),2&n){const t=e.oxw().$implicit;e.oxw();const i=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,mI,t))}}function q5(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",32),e.NdJ("dblclick",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.doubleClick(p))})("onDragStart",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.insideDragDrop=!0)})("onDragEnd",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.insideDragDrop=!1)})("onDrop",function(){const p=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.filesDropped(p))}),e.ynx(1,33),e.YNc(2,G5,2,1,"ng-container",34),e.YNc(3,Y5,2,4,"ng-container",34),e.YNc(4,K5,2,4,"ng-container",34),e.BQk(),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("pSelectableRow",t)("pSelectableRowDisabled",i.isBackButton(t))("pDroppableDisabled",i.isNotADirectory(t))("pDraggableDisabled",!i.selectedItems.includes(t)),e.xp6(1),e.Q6J("ngSwitch",t.discriminator),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","directory"),e.xp6(1),e.Q6J("ngSwitchCase","file")}}function $5(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",37),e._uU(2," \u0424\u0430\u0438\u0306\u043b\u043e\u0432 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e "),e.qZA()())}function X5(n,o){1&n&&(e.TgZ(0,"div",38)(1,"span"),e._uU(2," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0432 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e "),e.qZA()())}function eB(n,o){1&n&&(e.TgZ(0,"div",39),e._UZ(1,"p-progressSpinner"),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 "),e.qZA()())}function tB(n,o){1&n&&e.GkF(0)}function nB(n,o){if(1&n&&(e.TgZ(0,"td",40),e.YNc(1,tB,1,0,"ng-container",35),e.TgZ(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e._UZ(7,"td")),2&n){const t=o.$implicit,i=e.oxw(),s=e.MAs(18);e.Q6J("ngClass",i.itemSelectionStyleClasses(t)),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(6,4,t.createdAt,"dd-MM-yyyy HH:mm")," ")}}function iB(n,o){1&n&&e.GkF(0)}function oB(n,o){if(1&n&&(e.TgZ(0,"td",40),e.YNc(1,iB,1,0,"ng-container",36),e.TgZ(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"number"),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(),s=e.MAs(20);e.Q6J("ngClass",i.itemSelectionStyleClasses(t)),e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.VKq(12,mI,t.type)),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",e.xi3(6,6,t.createdAt,"dd-MM-yyyy HH:mm")," "),e.xp6(3),e.hij(" ",e.xi3(9,9,t.sizeMbyte,"1.1-2")," Mb ")}}function sB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",41),e.NdJ("dblclick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.back())}),e._UZ(1,"span",42),e.TgZ(2,"span"),e._uU(3," \u041d\u0430\u0437\u0430\u0434 "),e.qZA()(),e._UZ(4,"td")(5,"td")}}function rB(n,o){1&n&&e._UZ(0,"span",43)}function aB(n,o){1&n&&e._UZ(0,"span",49)}function lB(n,o){1&n&&e._UZ(0,"span",50)}function cB(n,o){1&n&&e._UZ(0,"span",51)}function uB(n,o){1&n&&e._UZ(0,"span",52)}function dB(n,o){1&n&&e._UZ(0,"span",53)}function pB(n,o){1&n&&(e.ynx(0,33),e.YNc(1,aB,1,0,"span",44),e.YNc(2,lB,1,0,"span",45),e.YNc(3,cB,1,0,"span",46),e.YNc(4,uB,1,0,"span",47),e.YNc(5,dB,1,0,"span",48),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","PHOTO"),e.xp6(1),e.Q6J("ngSwitchCase","VIDEO"),e.xp6(1),e.Q6J("ngSwitchCase","AUDIO"),e.xp6(1),e.Q6J("ngSwitchCase","DOCUMENT"))}function hB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"span",55),e._uU(2," \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430: "),e.qZA(),e.TgZ(3,"span",56),e._uU(4),e.qZA(),e.TgZ(5,"p-button",57),e.NdJ("onClick",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cancelSearch())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ",t.searchFilesQueryControl.value," ")}}let gB=(()=>{class n{constructor(t,i,s,p){this.api=t,this.rt=i,this.confirmService=s,this.mediaViewerService=p,this.fileItems=[],this.isLoading=!1,this.selectedItems=[],this.itemsForCopy=[],this.itemsForMove=[],this.currentPath=[],this.currentDirectory=null,this.filesSortingTypeItems$=this.api.getFilesSortingTypes(),this.filesSortingControl=new f.NI(_.Ke.loadOrDefault("filesSortingType","NAME_ASC")),this.subscriptions=new _.xf,this.createDirectoryDialogVisible=!1,this.createDirectoryNameControl=new f.NI("",[f.kI.required,f.kI.minLength(3)]),this.renameItemDialogVisible=!1,this.renameItemForm=new f.cw({id:new f.NI(null,[f.kI.required]),name:new f.NI("",[f.kI.required,f.kI.minLength(3)])}),this.itemBeingRename=!1,this.directoryCreating=!1,this.insideDragDrop=!1,this.dropMessageVisible=0,this.menuItems=[],this.dropFilesUploadingVisible=!1,this.breadcrumbItems=[],this.searchFilesQueryControl=new f.NI(""),this.searchMode=!1}get breadcrumbRoot(){return{icon:"mdi-home",command:()=>{this.isLoading=!0,this.currentPath=[],this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}}}updateMenuItems(){this.menuItems=[{label:"\u0424\u0430\u0439\u043b\u044b",items:[{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441 \u0434\u0438\u0441\u043a\u0430",command:()=>{var t;return null===(t=this.fileManager)||void 0===t?void 0:t.nativeElement.click()}},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443",command:()=>this.openCreateFolderDialog()}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",items:[{label:"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.setMoveItems()},{label:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.setCopyItems()},{label:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",disabled:0===this.itemsForCopy.length&&0===this.itemsForMove.length,command:()=>this.pasteItems()},{label:"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c",disabled:1!==this.selectedItems.length,command:()=>this.openRenameItemDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",disabled:0===this.selectedItems.length,command:()=>this.deleteItems()}]}]}updateBreadcrumbs(){var t;this.breadcrumbItems=[...this.currentPath.filter(i=>null!==i).map((i,s)=>({label:null==i?void 0:i.name,command:()=>{i&&(this.currentPath=this.currentPath.slice(0,s+1),this.currentDirectory=i,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesDirectory(i.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(this.currentDirectory)))}})),{label:null===(t=this.currentDirectory)||void 0===t?void 0:t.name,disabled:!0}]}get isBack(){return this.currentPath.length>0}rootDirectoryLoadHandler(){return{next:t=>{this.fileItems=t,this.selectedItems=[],this.currentPath=[],this.currentDirectory=null,this.isLoading=!1,this.searchMode=!1,this.searchFilesQueryControl.setValue(""),this.updateBreadcrumbs(),this.updateMenuItems()},error:()=>this.isLoading=!1}}directoryLoadHandler(t){return{next:i=>{this.fileItems=[{fileSystemItemId:0,name:"\u041d\u0430\u0437\u0430\u0434",discriminator:"back",parent:null},...i.files],this.selectedItems=[],this.currentPath=i.path,this.currentDirectory=t,this.updateBreadcrumbs(),this.updateMenuItems(),this.isLoading=!1,this.searchMode=!1,this.searchFilesQueryControl.setValue("")},error:()=>this.isLoading=!1}}ngOnInit(){this.isLoading=!0,this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler()),this.updateMenuItems(),this.subscriptions.addSubscription("stUpd",this.filesSortingControl.valueChanges.subscribe(t=>{_.Ke.save("filesSortingType",t),this.isLoading=!0,this.currentDirectory?this.api.getFilesDirectory(this.currentDirectory.fileSystemItemId,t).subscribe(this.directoryLoadHandler(this.currentDirectory)):this.api.getFilesRoot(t).subscribe(this.rootDirectoryLoadHandler())})),this.subscriptions.addSubscription("dirUpd",this.rt.updateFilesDirectory().subscribe(t=>{var i;0===t&&null===this.currentDirectory?(this.isLoading=!0,this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())):t===(null===(i=this.currentDirectory)||void 0===i?void 0:i.fileSystemItemId)&&(this.isLoading=!0,this.api.getFilesDirectory(this.currentDirectory.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(this.currentDirectory)))})),this.subscriptions.addSubscription("drgEntDetect",(0,x.R)(document,"dragenter").subscribe(t=>{this.dropMessageVisible++})),this.subscriptions.addSubscription("drgLvDetect",(0,x.R)(document,"dragleave").subscribe(t=>{this.dropMessageVisible--})),this.subscriptions.addSubscription("drpDetect",(0,x.R)(document,"drop").subscribe(()=>{this.dropMessageVisible=0})),this.subscriptions.addSubscription("drgDropover",(0,x.R)(document,"dragover").subscribe(t=>{this.insideDragDrop||t.preventDefault()}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}dropFilesHandler(t){var i,s;if(this.insideDragDrop)return;t.preventDefault();const p=[];if(null!==(i=t.dataTransfer)&&void 0!==i&&i.items){for(let w=0;w<t.dataTransfer.items.length;w++)if("file"===t.dataTransfer.items[w].kind){const J=t.dataTransfer.items[w].getAsFile();J&&p.push(J)}}else if(null!==(s=t.dataTransfer)&&void 0!==s&&s.files)for(let w=0;w<t.dataTransfer.files.length;w++)p.push(t.dataTransfer.files[w]);this.uploadFiles(p)}filesManagerChange(t){if(0===t.target.files.length)return;const i=t.target.files,s=[];for(let p=0;p<i.length;p++)s.push(i[p]);this.uploadFiles(s),t.target.value=null}uploadFiles(t){this.dropFilesUploadingVisible=!0,Promise.all(t.map(i=>this.fileReader(i))).then(i=>{this.api.filesUpload(i).subscribe({next:()=>this.dropFilesUploadingVisible=!1,error:()=>this.dropFilesUploadingVisible=!1})})}fileReader(t){return new Promise((i,s)=>{const p=new FileReader;p.onload=w=>{var J,_e;const $e=null===(J=w.target)||void 0===J?void 0:J.result;$e instanceof ArrayBuffer&&i({name:t.name,data:Object.values(new Uint8Array($e)),targetDirectoryId:null===(_e=this.currentDirectory)||void 0===_e?void 0:_e.fileSystemItemId})},p.onerror=s,p.readAsArrayBuffer(t)})}loadDirectory(t){this.isLoading=!0,this.api.getFilesDirectory(t.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(t))}back(){if(this.currentPath.length>0){const t=this.currentPath.pop();if(void 0===t)return;this.currentDirectory=t,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesDirectory(t.fileSystemItemId,this.filesSortingControl.value).subscribe(this.directoryLoadHandler(t))}else this.currentDirectory=null,this.isLoading=!0,this.updateBreadcrumbs(),this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}doubleClick(t){switch(t.discriminator){case"directory":this.loadDirectory(t);break;case"file":const i=t;switch(i.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewerService.showMedia(i);break;case"DOCUMENT":case"FILE":window.open("/api/private/file/"+i.fileSystemItemId,"_blank")}}}isBackButton(t){return"back"===t.discriminator}isNotADirectory(t){return"directory"!==t.discriminator}isSelected(t){return this.selectedItems.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}filesDropped(t){if(this.isSelected(t))return;const i=t.fileSystemItemId,s=this.selectedItems.map(p=>p.fileSystemItemId);this.api.filesMoveTo(i,s).subscribe()}setCopyItems(){this.itemsForMove=[],this.itemsForCopy=this.selectedItems,this.selectedItems=[],this.updateMenuItems()}setMoveItems(){this.itemsForCopy=[],this.itemsForMove=this.selectedItems,this.selectedItems=[],this.updateMenuItems()}isFilesCopied(t){return this.itemsForCopy.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}isFilesMoved(t){return this.itemsForMove.map(i=>i.fileSystemItemId).includes(t.fileSystemItemId)}itemSelectionStyleClasses(t){return!this.isSelected(t)&&this.isFilesMoved(t)?"opacity-50":!this.isSelected(t)&&this.isFilesCopied(t)?"text-orange-400":null}pasteItems(){var t,i,s,p;this.itemsForMove.length>0?this.api.filesMoveTo(null!==(i=null===(t=this.currentDirectory)||void 0===t?void 0:t.fileSystemItemId)&&void 0!==i?i:null,this.itemsForMove.map(w=>w.fileSystemItemId)).subscribe():this.itemsForCopy.length>0&&this.api.filesCopyTo(null!==(p=null===(s=this.currentDirectory)||void 0===s?void 0:s.fileSystemItemId)&&void 0!==p?p:null,this.itemsForCopy.map(w=>w.fileSystemItemId)).subscribe(),this.itemsForCopy=[],this.itemsForMove=[],this.updateMenuItems()}deleteItems(){this.confirmService.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b?",accept:()=>{this.itemsForMove=[],this.itemsForCopy=[],this.isLoading=!0,this.selectedItems.length>0&&(this.selectedItems.forEach(t=>{this.api.filesDelete(t.fileSystemItemId).subscribe()}),this.selectedItems=[]),this.updateMenuItems()}})}createDirectory(){var t;const i=this.createDirectoryNameControl.value;i&&this.api.filesCreateDirectory(i,null===(t=this.currentDirectory)||void 0===t?void 0:t.fileSystemItemId).subscribe({next:()=>{this.createDirectoryDialogVisible=!1,this.directoryCreating=!1},error:()=>{this.directoryCreating=!1}})}openCreateFolderDialog(){this.createDirectoryNameControl.setValue(""),this.directoryCreating=!1,this.createDirectoryDialogVisible=!0}renameItem(){if(this.renameItemForm.valid){const{id:t,name:i}=this.renameItemForm.value;if(!t||!i)return;this.itemBeingRename=!0,this.selectedItems=[],this.api.filesRename(t,i).subscribe({next:()=>{this.renameItemDialogVisible=!1,this.itemBeingRename=!1},error:()=>{this.itemBeingRename=!1}}),this.updateMenuItems()}}openRenameItemDialog(){1===this.selectedItems.length&&(this.renameItemForm.setValue({id:this.selectedItems[0].fileSystemItemId,name:this.selectedItems[0].name}),this.renameItemDialogVisible=!0,this.itemBeingRename=!1)}searchFiles(){this.searchFilesQueryControl.value&&(this.searchMode=!0,this.currentPath=[],this.currentDirectory=null,this.isLoading=!0,this.api.searchFiles(this.searchFilesQueryControl.value,this.filesSortingControl.value).subscribe({next:t=>{this.isLoading=!1,this.fileItems=t},error:()=>{this.isLoading=!1}}))}cancelSearch(){this.isLoading=!0,this.currentPath=[],this.searchFilesQueryControl.setValue(""),this.api.getFilesRoot(this.filesSortingControl.value).subscribe(this.rootDirectoryLoadHandler())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.s),e.Y36(de.U),e.Y36(N.YP),e.Y36(eI.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-files-viewer"]],viewQuery:function(t,i){if(1&t&&e.Gf(U5,5),2&t){let s;e.iGM(s=e.CRH())&&(i.fileManager=s.first)}},decls:32,vars:26,consts:[[1,"flex","flex-column","border-round-lg","border-1","border-bluegray-100","overflow-hidden","relative","bg-bluegray-50",3,"keydown.control.c","keydown.control.x","drop","dragover","keydown.delete","paste"],["styleClass","border-0",3,"model"],["pTemplate","end"],[1,"flex","flex-column","flex-grow-1","border-top-1","border-bluegray-100","overflow-hidden"],["class","flex-grow-1","styleClass","border-0 bg-transparent",3,"home","model",4,"ngIf","ngIfElse"],["selectionMode","multiple",3,"value","loading","selection","metaKeySelection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","absolute top-0 left-0 w-full h-full flex flex-column text-white text-2xl font-bold\n     align-items-center justify-content-center bg-black-alpha-40 pointer-events-none",4,"ngIf"],["class","absolute top-0 left-0 w-full h-full flex flex-column text-white text-2xl font-bold\n     align-items-center justify-content-center bg-black-alpha-40",4,"ngIf"],["directory",""],["file",""],["backButton",""],["directoryIcon",""],["fileIcon",""],["searchTitle",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443","contentStyleClass","flex gap-3 pt-1",3,"visible","draggable","modal","dismissableMask","visibleChange"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",3,"formControl","keydown.enter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add",3,"disabled","loading","onClick"],["appendTo","body","header","\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b","contentStyleClass","flex gap-3 pt-1",3,"visible","draggable","modal","dismissableMask","visibleChange"],[3,"formGroup"],["pInputText","","placeholder","\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","formControlName","name",3,"keydown.enter"],["label","\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c","icon","mdi-add",3,"disabled","loading","onClick"],["type","file",3,"multiple","change"],["fileManager",""],[1,"flex","gap-2"],["appendTo","body",3,"options","formControl"],[1,"p-inputgroup"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...",3,"formControl","keydown.enter"],["type","button","pButton","","pRipple","","icon","mdi-search",3,"click"],["styleClass","border-0 bg-transparent",1,"flex-grow-1",3,"home","model"],["pDraggable","fileScope","pDroppable","fileScope",1,"select-none","text-bluegray-600",3,"pSelectableRow","pSelectableRowDisabled","pDroppableDisabled","pDraggableDisabled","dblclick","onDragStart","onDragEnd","onDrop"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["colspan","3"],[1,"absolute","top-0","left-0","w-full","h-full","flex","flex-column","text-white","text-2xl","font-bold","align-items-center","justify-content-center","bg-black-alpha-40","pointer-events-none"],[1,"absolute","top-0","left-0","w-full","h-full","flex","flex-column","text-white","text-2xl","font-bold","align-items-center","justify-content-center","bg-black-alpha-40"],[1,"flex","gap-2","align-items-center",3,"ngClass"],[1,"flex","gap-2","align-items-center","text-bluegray-300",3,"dblclick"],[1,"mdi-turn_left"],[1,"mdi-folder"],["class","mdi-image",4,"ngSwitchCase"],["class","mdi-videocam",4,"ngSwitchCase"],["class","mdi-audiotrack",4,"ngSwitchCase"],["class","mdi-picture_as_pdf",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchDefault"],[1,"mdi-image"],[1,"mdi-videocam"],[1,"mdi-audiotrack"],[1,"mdi-picture_as_pdf"],[1,"mdi-insert_drive_file"],[1,"flex","gap-2","align-items-center","py-2","px-3"],[1,"text-xl","text-bluegray-500"],[1,"text-xl","text-bluegray-600","font-bold"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0430","styleClass","p-button-sm p-button-secondary p-button-text",3,"onClick"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.NdJ("keydown.control.c",function(p){return p.preventDefault(),i.setCopyItems()})("keydown.control.x",function(p){return p.preventDefault(),i.setMoveItems()})("drop",function(p){return i.dropFilesHandler(p)})("dragover",function(p){return p.preventDefault()})("keydown.delete",function(){return i.deleteItems()})("paste",function(p){return p.preventDefault(),i.pasteItems()}),e.TgZ(1,"p-menubar",1),e.YNc(2,V5,6,6,"ng-template",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,z5,1,2,"p-breadcrumb",4),e.TgZ(5,"p-table",5),e.NdJ("selectionChange",function(p){return i.selectedItems=p})("selectionChange",function(){return i.updateMenuItems()}),e.YNc(6,J5,7,0,"ng-template",6),e.YNc(7,q5,5,8,"ng-template",7),e.YNc(8,$5,3,0,"ng-template",8),e.qZA()(),e.YNc(9,X5,3,0,"div",9),e.YNc(10,eB,4,0,"div",10),e.qZA(),e.YNc(11,nB,8,7,"ng-template",null,11,e.W1O),e.YNc(13,oB,10,14,"ng-template",null,12,e.W1O),e.YNc(15,sB,6,0,"ng-template",null,13,e.W1O),e.YNc(17,rB,1,0,"ng-template",null,14,e.W1O),e.YNc(19,pB,6,5,"ng-template",null,15,e.W1O),e.YNc(21,hB,6,1,"ng-template",null,16,e.W1O),e.TgZ(23,"p-dialog",17),e.NdJ("visibleChange",function(p){return i.createDirectoryDialogVisible=p}),e.TgZ(24,"input",18),e.NdJ("keydown.enter",function(){return i.createDirectoryNameControl.valid&&i.createDirectory()}),e.qZA(),e.TgZ(25,"p-button",19),e.NdJ("onClick",function(){return i.createDirectory()}),e.qZA()(),e.TgZ(26,"p-dialog",20),e.NdJ("visibleChange",function(p){return i.renameItemDialogVisible=p}),e.ynx(27,21),e.TgZ(28,"input",22),e.NdJ("keydown.enter",function(){return i.renameItemForm.valid&&i.renameItem()}),e.qZA(),e.TgZ(29,"p-button",23),e.NdJ("onClick",function(){return i.renameItem()}),e.qZA(),e.BQk(),e.qZA(),e.TgZ(30,"input",24,25),e.NdJ("change",function(p){return i.filesManagerChange(p)}),e.qZA()),2&t){const s=e.MAs(22);e.xp6(1),e.Q6J("model",i.menuItems),e.xp6(3),e.Q6J("ngIf",!i.searchMode)("ngIfElse",s),e.xp6(1),e.Q6J("value",i.fileItems)("loading",i.isLoading)("selection",i.selectedItems)("metaKeySelection",!0),e.xp6(4),e.Q6J("ngIf",i.dropMessageVisible&&!i.insideDragDrop),e.xp6(1),e.Q6J("ngIf",i.dropFilesUploadingVisible),e.xp6(13),e.Q6J("visible",i.createDirectoryDialogVisible)("draggable",!0)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formControl",i.createDirectoryNameControl),e.xp6(1),e.Q6J("disabled",i.createDirectoryNameControl.invalid)("loading",i.directoryCreating),e.xp6(1),e.Q6J("visible",i.renameItemDialogVisible)("draggable",!0)("modal",!0)("dismissableMask",!0),e.xp6(1),e.Q6J("formGroup",i.renameItemForm),e.xp6(2),e.Q6J("disabled",i.renameItemForm.invalid)("loading",i.itemBeingRename),e.xp6(1),e.Udp("display","none"),e.Q6J("multiple",!0)}},dependencies:[k.mk,k.O5,k.tP,k.RF,k.n9,k.ED,O.Hq,O.zx,f.Fj,f.JJ,f.JL,qe.Lt,N.jx,To.V,et.G,yi.o,f.oH,f.sg,f.u,ye.H,Aa.iA,Aa.Ei,Ko._l,Ko.bK,ob.a,oI.nm,k.Ov,k.JJ,k.uU]}),n})();const fB=["dropEl"],mB=function(n,o){return{"mdi-expand_more":n,"mdi-expand_less":o}};function _B(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleExpand())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(1,mB,!t.expand,t.expand))}}const CB=function(){return{width:"20px"}};function vB(n,o){1&n&&e._UZ(0,"div"),2&n&&e.Akn(e.DdM(2,CB))}function bB(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Oqu(t)}}function yB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,bB,2,1,"span",11),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(11);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.counter))("ngIfElse",i)}}function xB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,yB,3,4,"ng-container",10),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(11);e.xp6(1),e.Q6J("ngIf",!t.isCounterLoading)("ngIfElse",i)}}function IB(n,o){1&n&&e.GkF(0)}function TB(n,o){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,IB,1,0,"ng-container",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",t.contentTemplateData)}}function AB(n,o){1&n&&e._UZ(0,"p-skeleton",15)}const wB=function(n,o){return[n,o]};let iw=(()=>{class n{constructor(t){this.router=t,this.expand=!1,this.expandChange=new e.vpe(!0),this.autoExpand=!0,this.link="",this.label="",this.isEmpty=!0,this.isCounterLoading=!1,this.onDrop=new e.vpe,this.onClick=new e.vpe}ngOnInit(){this.link&&this.router.isActive(this.link,!1)&&this.autoExpand&&this.setExpand(!0),this.clearClassesOnDropSub=(0,x.R)(window,"dragend").subscribe(t=>{this.dropEl&&this.dropEl.nativeElement&&this.dropEl.nativeElement.classList.remove("p-draggable-enter")})}ngOnDestroy(){var t;null===(t=this.clearClassesOnDropSub)||void 0===t||t.unsubscribe()}toggleExpand(){this.setExpand(!this.expand)}setExpand(t){this.expand!==t&&(this.expand=t,this.expandChange.emit(this.expand))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-catalog-menu-item"]],viewQuery:function(t,i){if(1&t&&e.Gf(fB,5),2&t){let s;e.iGM(s=e.CRH())&&(i.dropEl=s.first)}},inputs:{expand:"expand",autoExpand:"autoExpand",link:"link",label:"label",counter:"counter",isEmpty:"isEmpty",contentTemplate:"contentTemplate",contentTemplateData:"contentTemplateData",droppable:"droppable",isCounterLoading:"isCounterLoading"},outputs:{expandChange:"expandChange",onDrop:"onDrop",onClick:"onClick"},decls:12,vars:12,consts:[[1,"flex","flex-column"],[1,"flex","align-items-center","p-2","text-bluegray-600","user-select-none"],["class","hover:text-primary cursor-pointer",3,"ngClass","click",4,"ngIf"],[3,"style",4,"ngIf"],["routerLinkActive","text-write bg-primary cursor-default",1,"flex-grow-1","px-2","py-1","border-round-sm","cursor-pointer",3,"pDroppable","pDroppableDisabled","ngClass","routerLink","onDrop","click"],["dropEl","","rla","routerLinkActive"],[4,"ngIf"],["class","pl-4 flex flex-column",4,"ngIf"],["loading",""],[1,"hover:text-primary","cursor-pointer",3,"ngClass","click"],[4,"ngIf","ngIfElse"],["class","font-bold text-sm ml-2",4,"ngIf","ngIfElse"],[1,"font-bold","text-sm","ml-2"],[1,"pl-4","flex","flex-column"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["width","1rem","height","1rem","borderRadius",".2rem",1,"ml-3"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,_B,1,4,"span",2),e.YNc(3,vB,1,3,"div",3),e.TgZ(4,"span",4,5),e.NdJ("onDrop",function(w){e.CHM(s);const J=e.MAs(5);return e.KtG(i.onDrop.emit({$event:w,dropEl:J}))})("click",function(){return i.autoExpand&&i.setExpand(!0),i.onClick.emit()}),e._uU(7),e.qZA(),e.YNc(8,xB,2,2,"ng-container",6),e.qZA(),e.YNc(9,TB,2,2,"div",7),e.qZA(),e.YNc(10,AB,1,0,"ng-template",null,8,e.W1O)}if(2&t){const s=e.MAs(6);let p;e.xp6(2),e.Q6J("ngIf",!i.isEmpty),e.xp6(1),e.Q6J("ngIf",i.isEmpty),e.xp6(1),e.Q6J("pDroppable",null!==(p=i.droppable)&&void 0!==p?p:"")("pDroppableDisabled",!i.droppable)("ngClass",e.WLB(9,wB,s.isActive?"hover:text-white hover:bg-primary-700":"hover:text-primary hover:bg-white",i.droppable?"droppable":""))("routerLink",i.link),e.xp6(3),e.hij(" ",i.label," "),e.xp6(1),e.Q6J("ngIf",i.counter),e.xp6(1),e.Q6J("ngIf",i.expand&&i.contentTemplate)}},dependencies:[k.mk,k.O5,k.tP,d.rH,d.Od,yl.O,Ko.bK,k.Ov],styles:[".droppable.p-draggable-enter[_ngcontent-%COMP%]{background-color:var(--orange-500)!important;color:#fff!important}"]}),n})();function EB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",9),e.NdJ("load",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.thumbnailLoad=!0)}),e.qZA()}if(2&n){const t=e.oxw(2).ngIf,i=e.oxw();e.Q6J("src","/api/private/file-thumbnail/"+t,e.LSH)("height",32)("hidden",!i.thumbnailLoad)}}function SB(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",9),e.NdJ("load",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.thumbnailLoad=!0)}),e.qZA()}if(2&n){const t=e.oxw(2).ngIf,i=e.oxw();e.Q6J("src","/api/private/file-thumbnail/"+t,e.LSH)("height",32)("hidden",!i.thumbnailLoad)}}function kB(n,o){1&n&&e._UZ(0,"span",12)}function DB(n,o){1&n&&e._UZ(0,"span",13)}function MB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,kB,1,0,"span",10),e.YNc(2,DB,1,0,"span",11),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngSwitchCase",t.AttachmentType.PHOTO),e.xp6(1),e.Q6J("ngSwitchCase",t.AttachmentType.VIDEO)}}function OB(n,o){1&n&&e._UZ(0,"span",14)}function PB(n,o){1&n&&e._UZ(0,"span",15)}function LB(n,o){1&n&&e._UZ(0,"span",16)}function RB(n,o){if(1&n&&(e.ynx(0,3),e.YNc(1,EB,1,3,"img",4),e.YNc(2,SB,1,3,"img",4),e.YNc(3,MB,3,2,"ng-container",5),e.YNc(4,OB,1,0,"span",6),e.YNc(5,PB,1,0,"span",7),e.YNc(6,LB,1,0,"span",8),e.BQk()),2&n){const t=o.ngIf,i=e.oxw(2);e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.PHOTO),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.VIDEO),e.xp6(1),e.Q6J("ngIf",!i.thumbnailLoad),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.DOCUMENT),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.AUDIO),e.xp6(1),e.Q6J("ngSwitchCase",i.AttachmentType.FILE)}}function NB(n,o){if(1&n&&(e.ynx(0),e.YNc(1,RB,7,7,"ng-container",2),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.fileType$))}}function FB(n,o){1&n&&e._UZ(0,"p-skeleton",17)}class Ef{constructor(){this.AttachmentType=he.sf,this.dataChange$=new Xx.t(1),this.fileId$=this.dataChange$.pipe((0,ei.b)(()=>this.thumbnailLoad=!1),(0,mt.U)(o=>o.id)),this.fileType$=this.dataChange$.pipe((0,mt.U)(o=>o.type)),this.thumbnailLoad=!1}ngOnInit(){}}Ef.\u0275fac=function(o){return new(o||Ef)},Ef.\u0275cmp=e.Xpm({type:Ef,selectors:[["app-thumbnail-preview"]],inputs:{data:"data"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loadingTemplate",""],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"src","height","hidden","load",4,"ngSwitchCase"],[4,"ngIf"],["class","mds-description text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-music_note text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-draft text-4xl text-bluegray-300",4,"ngSwitchCase"],[3,"src","height","hidden","load"],["class","mds-image text-4xl text-bluegray-300",4,"ngSwitchCase"],["class","mds-movie text-4xl text-bluegray-300",4,"ngSwitchCase"],[1,"mds-image","text-4xl","text-bluegray-300"],[1,"mds-movie","text-4xl","text-bluegray-300"],[1,"mds-description","text-4xl","text-bluegray-300"],[1,"mds-music_note","text-4xl","text-bluegray-300"],[1,"mds-draft","text-4xl","text-bluegray-300"],["width","32px","height","32px"]],template:function(o,t){if(1&o&&(e.YNc(0,NB,3,3,"ng-container",0),e.ALo(1,"async"),e.YNc(2,FB,1,0,"ng-template",null,1,e.W1O)),2&o){const i=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,t.fileId$))("ngIfElse",i)}},dependencies:[k.O5,k.RF,k.n9,yl.O,k.Ov]}),(0,Ua.gn)([(0,vl.bQ)("data")],Ef.prototype,"dataChange$",void 0);const BB={apikey:"008574e5-f34b-4270-b3d5-91aaabd036e8",lang:"ru_RU"};let ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[N.ez,{provide:e.soG,useValue:"ru"},N.YP],imports:[cO.U,VM,hA.JP.forRoot({sanitize:e.q3G.NONE}),wh.Iu,f.u5,Il.LU,To.S,f.UX,qe.kW,mi,ct,xf.nD,dt.A,uO.D,_O,DO,j1._8,RO,OA,JO,ji,mo.$9,yi.j,QO.z,gA.q4,Hu.y,fA.f,et.L,yl.m,CP,CA.e4,vP.Cl,bl.U,iI.n,Co.ON,oI.W6,wA,tb.g6,tb.qH,I6,aI.vI,OA,PA.q,G_.Qy,R6.E,ob.w,pf.xc,ye.T,dL,Ko._t,Aa.U$,RA.JH,NA.ce,pL.l,IL,BA.zz,DL.forRoot(BB),B.WN,J_.kK,ML.x,zA.u,UL,JA.S,HL.qZ]}),n})();e.B6R(lO,function(){return[vr.h,Wc.E,U,wf.C,QA,VL.E,cI,uI,sb,Ah.x,f.Fj,f.JJ,f.JL,N.jx,k.sg,To.V,f.oH,f.sg,f.u,k.O5,O.zx,k.RF,k.n9,LO,yi.o,et.G,bl.D,Co.Ri]},function(){return[k.Ov]}),e.B6R(Mi,function(){return[E.r,vr.h,U,rR,d.rH,wh.Ql,f.Fj,f.JJ,f.JL,Il.xf,Il.x4,N.jx,k.sg,To.V,f.oH,f.sg,f.u,Ie,k.O5,dt.g,O.zx,k.tP,k.RF,k.n9,yi.o,k.mk,et.G,CA.zH,xl.Rn]},function(){return[k.Ov,k.uU]}),e.B6R(Fr,function(){return[y.A,E.r,aR.Y,vR,Wc.E,dI,U,GA,rN,YA.g,pI.U,fc.x,gN,fN.y,KA,JN,pF,$A.C,hF.a,gF.g,fF.s,mF.M,_F.j,f.Fj,f.JJ,f.JL,f.On,Il.xf,Il.x4,N.jx,k.sg,To.V,f.oH,f.sg,f.u,qe.Lt,Ie,xf.XZ,k.O5,O.zx,k.RF,k.n9,Gi.u,mo.v2,yi.o,Hu.T,k.mk,et.G,_A,iI.P,oI.nm,tb.g6,J_.Fr]},function(){return[k.Ov,k.uU,CF.A,k.rS]}),e.B6R(En,function(){return[y.A,E.r,vr.h,vF.k,dI,U,z_._,wh.Ql,f._Y,f.Fj,f.JJ,f.JL,f.On,k.PC,Il.xf,Il.x4,N.jx,k.sg,To.V,f.oH,f.sg,f.u,f.x0,qe.Lt,Ln,Ie,xf.XZ,k.O5,dt.g,O.zx,k.tP,yi.o]},[]),e.B6R(tP,function(){return[E.r,vr.h,Wc.E,dI,U,GA,EF,wf.C,f.JJ,f.On,k.sg,qe.Lt,xf.XZ,k.O5,Hu.T]},[]),e.B6R(jl,function(){return[vr.h,U,HF,k.sg,k.O5]},function(){return[k.Ov]}),e.B6R(Tc,function(){return[U,ab.r,O.Hq]},[]),e.B6R(WP,function(){return[vr.h,Wc.E,U,wf.C,cI,Ah.x,f.Fj,f.JJ,f.JL,N.jx,k.sg,f.oH,f.sg,f.u,k.O5,O.Hq,k.tP,k.RF,k.n9,yi.o,et.G,bl.D,Co.Ri,ye.H]},function(){return[k.Ov]}),e.B6R(uf,function(){return[vr.h,Wc.E,U,KA,k.O5,k.tP,Hu.T,x6,aI.xV]},function(){return[k.Ov]}),e.B6R(h_,function(){return[U,WF,ab.r,f.Fj,f.JJ,f.JL,f.On,N.jx,f.sg,f.u,k.O5,O.zx,L6,yi.o,xl.Rn,PA.k]},function(){return[rb.t]}),e.B6R(Fu,function(){return[vr.h,U,pI.U,fc.x,YF,d.rH,f.JJ,f.JL,N.jx,k.sg,f.oH,f.sg,f.u,qe.Lt,Ie,k.O5,O.Hq,O.zx,k.RF,k.n9,j1.f,mo.v2,k.mk,et.G,ye.H,Aa.iA,Aa.on,Aa.jB]},function(){return[k.Ov,k.uU,k.rS,k.JJ]}),e.B6R(r1,function(){return[vr.h,U,fc.x,f.Fj,f.JJ,f.JL,N.jx,k.sg,To.V,f.sg,f.u,qe.Lt,Ie,k.O5,dt.g,O.zx,k.RF,k.n9,yi.o,et.G,bl.D,xl.Rn]},function(){return[k.uU,hI,k.H9]}),e.B6R(y1,function(){return[vr.h,U,Ah.x,f.Fj,f.JJ,f.JL,N.jx,k.sg,To.V,f.sg,f.u,k.O5,dt.g,O.zx,k.tP,k.RF,k.n9,mo.v2,yi.o,fA.G,et.G,xl.Rn,aI.xV,ob.a,pf.mp,ye.H]},function(){return[hI]}),e.B6R(E_,function(){return[vr.h,U,pI.U,fc.x,qA.k,XA,ew,$A.C,z_._,Eh,wh.Ql,f.Fj,f.JJ,f.JL,f.On,N.jx,k.sg,To.V,f.oH,f.sg,f.u,k.O5,dt.g,O.zx,k.tP,k.RF,k.n9,et.G,xl.Rn]},function(){return[k.Ov,k.uU,k.rS]}),e.B6R(R1,function(){return[vr.h,U,wf.C,gI,d.rH,f.Fj,f.JJ,f.JL,k.sg,f.sg,f.u,Ie,k.O5,O.Hq,O.zx,k.RF,k.n9,yi.o,k.mk,et.G,bl.D,G_.UN,ye.H]},[]),e.B6R(Yd,function(){return[Wc.E,U,fI.Z,wf.C,dA.j,Ah.x,qx.N,S5,z_._,tw.G,Vu,f._Y,f.Fj,f.JJ,f.JL,f.On,Il.xf,Il.x4,N.jx,k.sg,To.V,f.oH,f.sg,f.u,qe.Lt,Ie,k.O5,dt.g,O.Hq,O.zx,k.tP,k.RF,k.n9,Gi.u,mo.v2,yi.o,Hu.T,k.mk,et.G,bl.D,xl.Rn,Co.Ri,G_.UN,Aa.iA,J_.Fr]},function(){return[k.Ov,k.uU,rb.t,$x,k.Nd,k.rS,k.H9]}),e.B6R(VT,function(){return[vr.h,U,gI,qx.N,wh.Ql,f.Fj,f.JJ,f.JL,k.sg,To.V,f.oH,f.sg,f.u,qe.Lt,xf.XZ,k.O5,O.zx,k.tP,k.RF,k.n9,yi.o,k.mk,et.G,xl.Rn,ye.H,FA,BA.vy,VA,kL]},function(){return[k.Ov]}),e.B6R(zT,function(){return[D.o,vr.h,U,fc.x,Ee,XA,ew,wh.Ql,f.Fj,f.JJ,f.JL,N.jx,k.sg,f.oH,f.sg,f.u,k.O5,dt.g,O.zx,k.tP,k.RF,k.n9,j1.f,et.G,yl.O,xl.Rn,Co.Ri]},function(){return[k.Ov]}),e.B6R(JT,function(){return[vr.h,U,fI.Z,f.Fj,f.JJ,f.JL,f.sg,f.u,k.O5,O.zx,yi.o,yl.O,xl.Rn]},[]),e.B6R(QT,function(){return[vr.h,U,f.Fj,f.JJ,f.JL,f.sg,f.u,k.O5,O.zx,yi.o,yl.O]},[]),e.B6R(GT,function(){return[vr.h,U,f.Fj,f.JJ,f.JL,f.sg,f.u,k.O5,O.zx,yi.o,yl.O]},[]),e.B6R(WT,function(){return[vr.h,U,gB]},[]),e.B6R(tA,function(){return[vr.h,U,iw,d.lC,d.rH,d.Od,k.PC,k.sg,k.O5,O.zx,k.tP,et.G,ob.a,zA.b]},function(){return[k.Ov]}),e.B6R(iA,function(){return[vr.h,U,jA,uI,sb,iw,z_._,ab.r,d.lC,d.rH,f.Fj,f.JJ,f.JL,k.sg,f.oH,f.sg,f.u,f.CE,qe.Lt,k.O5,O.zx,k.tP,k.RF,k.n9,yi.o,Hu.T,k.mk,ZL]},function(){return[k.Ov]}),e.B6R(oA,function(){return[vr.h,U,d.lC]},[]),e.B6R(rA,function(){return[vr.h,U,d.lC]},[]),e.B6R(Th,function(){return[fc.x,sb,Eh,f.JJ,f.On,N.jx,k.O5,O.Hq,k.tP,Aa.iA,JA.C]},function(){return[k.Ov,k.H9]}),e.B6R(aA,function(){return[vr.h,U,d.lC]},[]),e.B6R(Uu,function(){return[Ah.x,tw.G,Vu,Ef,d.rH,N.jx,k.sg,k.O5,k.tP,k.RF,k.n9,yl.O,Aa.iA]},function(){return[k.Ov]}),e.B6R(uA,function(){return[fI.Z,gI,nw.S,ab.r,wh.Ql,f.Fj,f.JJ,f.JL,N.jx,k.sg,To.V,f.sg,f.u,k.O5,O.zx,k.tP,k.RF,k.n9,Gi.u,mo.v2,yi.o,k.mk,et.G,bl.D,xl.Rn,G_.UN,B.Qc,J_.Fr]},function(){return[k.Ov,$x]})},9936:(hn,ft,b)=>{"use strict";b.d(ft,{h:()=>te});var e=b(8505),d=b(5e3),u=b(3470),f=b(9744),_=b(8007),P=b(9014),x=b(2248),r=b(6768);const R=["chatPanelEl"];function L(W,Y){if(1&W){const Ae=d.EpF();d.TgZ(0,"app-button",19),d.NdJ("onClick",function(){d.CHM(Ae);const qe=d.oxw();return d.KtG(qe.taskCreator.standard())}),d.qZA()}}function Q(W,Y){1&W&&d.GkF(0)}function N(W,Y){if(1&W&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&W){const Ae=Y.$implicit;d.xp6(1),d.hij(" ",Ae.name," ")}}function T(W,Y){if(1&W){const Ae=d.EpF();d.TgZ(0,"span",22)(1,"p-button",23),d.NdJ("onClick",function(){d.CHM(Ae);const qe=d.oxw(3);return d.KtG(qe.commutatorRemoteUpdatePoolVisible=!0)}),d.qZA(),d.TgZ(2,"p-overlay",24,25),d.NdJ("visibleChange",function(qe){d.CHM(Ae);const ye=d.oxw(3);return d.KtG(ye.commutatorRemoteUpdatePoolVisible=qe)}),d.TgZ(4,"span",26),d._uU(5," \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b "),d.qZA(),d.TgZ(6,"div",27),d.YNc(7,N,2,1,"div",28),d.qZA()(),d._UZ(8,"p-badge",29),d.qZA()}if(2&W){const Ae=d.MAs(3),Ee=d.oxw().ngIf,qe=d.oxw(2);d.xp6(2),d.Q6J("visible",qe.commutatorRemoteUpdatePoolVisible)("baseZIndex",2e3)("isVisible",Ae.visible)("alignFn",Ae.alignOverlay.bind(Ae)),d.xp6(5),d.Q6J("ngForOf",Ee),d.xp6(1),d.Q6J("value",Ee.length.toString())}}function y(W,Y){if(1&W&&(d.ynx(0),d.YNc(1,T,9,6,"span",21),d.BQk()),2&W){const Ae=Y.ngIf;d.xp6(1),d.Q6J("ngIf",Ae&&Ae.length>0)}}function E(W,Y){if(1&W&&(d.YNc(0,y,2,1,"ng-container",20),d.ALo(1,"async")),2&W){const Ae=d.oxw();d.Q6J("ngIf",d.lcZ(1,1,Ae.commutatorRemoteUpdatePool$))}}function D(W,Y){if(1&W){const Ae=d.EpF();d.TgZ(0,"span",31),d._UZ(1,"i",32),d._uU(2," \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),d.qZA(),d._UZ(3,"div",5),d.TgZ(4,"p-button",33),d.NdJ("onClick",function(){d.CHM(Ae);const qe=d.oxw();return d.KtG(qe.notifyService.readAllNotifications())}),d.qZA()}if(2&W){const Ae=d.oxw();d.xp6(4),d.Q6J("disabled",!Ae.notifyService.isHasUnread)}}function U(W,Y){1&W&&d._UZ(0,"app-notification-item",38),2&W&&d.Q6J("notification",Y.$implicit)}function B(W,Y){if(1&W){const Ae=d.EpF();d.TgZ(0,"div",36),d.NdJ("onScrollToBottom",function(){d.CHM(Ae);const qe=d.oxw(2);return d.KtG(!qe.notifyService.isLast&&qe.notifyService.load())}),d.YNc(1,U,1,1,"app-notification-item",37),d.qZA()}if(2&W){const Ae=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",Ae.notifyService.list)}}function ce(W,Y){if(1&W){const Ae=d.EpF();d.TgZ(0,"div",39)(1,"span",40),d._UZ(2,"i",41),d._uU(3," \u041d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0438\u0306 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"),d.qZA(),d.TgZ(4,"p-button",42),d.NdJ("onClick",function(){d.CHM(Ae);const qe=d.oxw(2);return d.KtG(qe.notifyService.changeNotificationViewMode("ALL"))}),d.qZA()()}2&W&&d.Udp("padding-top","10rem")}function $(W,Y){if(1&W&&(d.YNc(0,B,2,1,"div",34),d.YNc(1,ce,5,2,"div",35)),2&W){const Ae=d.oxw();d.Q6J("ngIf",!Ae.notifyService.isEmpty),d.xp6(1),d.Q6J("ngIf",Ae.notifyService.isEmpty)}}function V(W,Y){if(1&W&&d._UZ(0,"span"),2&W){const Ae=d.oxw().$implicit;d.Tol(Ae.icon+" text-xl")}}function k(W,Y){if(1&W&&(d.TgZ(0,"div",43),d.YNc(1,V,1,2,"span",44),d.TgZ(2,"span",45),d._uU(3),d.qZA()()),2&W){const Ae=Y.$implicit;d.xp6(1),d.Q6J("ngIf",Ae.icon),d.xp6(2),d.hij(" ",Ae.detail," ")}}function O(W,Y){if(1&W&&d._UZ(0,"span"),2&W){const Ae=d.oxw().$implicit;d.Tol(Ae.icon+" text-xl")}}function K(W,Y){if(1&W&&(d.TgZ(0,"div",43),d.YNc(1,O,1,2,"span",44),d.TgZ(2,"span",45),d._uU(3),d.qZA()()),2&W){const Ae=Y.$implicit;d.xp6(1),d.Q6J("ngIf",Ae.icon),d.xp6(2),d.hij(" ",Ae.detail," ")}}function ue(W,Y){1&W&&d._UZ(0,"p-progressSpinner",50)}function q(W,Y){if(1&W&&d._UZ(0,"span",51),2&W){const Ae=d.oxw(2);d.Tol(Ae.blockUiService.icon),d.Q6J("ngClass",Ae.blockUiService.styleClass)}}function G(W,Y){if(1&W&&(d.TgZ(0,"span",51),d._uU(1),d.qZA()),2&W){const Ae=d.oxw(2);d.Q6J("ngClass",Ae.blockUiService.styleClass),d.xp6(1),d.Oqu(Ae.blockUiService.message)}}function ne(W,Y){if(1&W&&(d.TgZ(0,"div",46),d.YNc(1,ue,1,0,"p-progressSpinner",47),d.YNc(2,q,1,3,"span",48),d.YNc(3,G,2,2,"span",49),d.qZA()),2&W){const Ae=d.oxw();d.xp6(1),d.Q6J("ngIf",Ae.blockUiService.isWait),d.xp6(1),d.Q6J("ngIf",!!Ae.blockUiService.icon),d.xp6(1),d.Q6J("ngIf",Ae.blockUiService.message)}}const Ce=function(){return["/"]},oe=function(){return{width:"max-content",maxWidth:"30vw"}},z=function(W,Y){return{alignItems:W,justifyContent:Y}};let te=(()=>{class W{constructor(Ae,Ee,qe,ye,Ge,X){this.router=Ae,this.notifyService=Ee,this.rt=qe,this.chatService=ye,this.taskCreator=Ge,this.blockUiService=X,this.isTaskCreationPage=!1,this.commutatorRemoteUpdatePool$=this.rt.acpCommutatorsRemoteUpdatePool().pipe((0,e.b)(be=>{(!be||0===be.length)&&(this.commutatorRemoteUpdatePoolVisible=!1)})),this.commutatorRemoteUpdatePoolVisible=!1}ngOnInit(){this.isTaskCreationPage="/task/create"===this.router.url,this.openChatSub=this.chatService.open.subscribe(Ae=>{this.chatPanelEl&&this.chatPanelEl.show(Ae)})}ngOnDestroy(){var Ae;null===(Ae=this.openChatSub)||void 0===Ae||Ae.unsubscribe()}}return W.\u0275fac=function(Ae){return new(Ae||W)(d.Y36(u.F0),d.Y36(f.T),d.Y36(_.U),d.Y36(P.a),d.Y36(x.e),d.Y36(r.A))},W.\u0275cmp=d.Xpm({type:W,selectors:[["ng-component"]],viewQuery:function(Ae,Ee){if(1&Ae&&d.Gf(R,5),2&Ae){let qe;d.iGM(qe=d.CRH())&&(Ee.chatPanelEl=qe.first)}},decls:29,vars:22,consts:[[1,"top-panel"],[1,"responsive-wrapper","top-panel-content"],["href","/"],["alt","","src","assets/logo-dark.svg",1,"cursor-pointer",3,"routerLink"],["icon","add_task","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","model","p-button-success",3,"onClick",4,"ngIf"],[1,"stretched"],[1,"flex","gap-3"],[4,"ngTemplateOutlet"],["commutatorPullRemoteUpdates",""],["appScrollToBottomEmitter","",3,"visible","blockScroll","position","showCloseIcon","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["chatPanelEl",""],["key","darktoast","position","bottom-center"],["pTemplate","message"],["key","redtoast","position","bottom-center"],[3,"blocked","autoZIndex","baseZIndex"],[1,"flex","p-4","w-full","h-full"],["class","flex flex-column gap-2 align-items-center justify-content-center bg-white border-round-2xl shadow-2 p-4 text-lg text-primary-400 font-semibold",4,"ngIf"],["icon","add_task","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","model","p-button-success",3,"onClick"],[4,"ngIf"],["class","flex relative",4,"ngIf"],[1,"flex","relative"],["icon","mdi-upgrade","styleClass","p-button-outlined p-button-icon p-button-rounded p-button-secondary",3,"onClick"],["appendTo","body","contentStyleClass","overlay flex flex-column","appCloseIfScroll","",3,"visible","baseZIndex","isVisible","alignFn","visibleChange"],["commOver",""],[1,"text-bluegray-400","font-bold","p-2"],[1,"flex","flex-column","max-h-20rem","overflow-y-auto"],["class","flex align-items-center p-3",4,"ngFor","ngForOf"],[1,"ur-badge",3,"value"],[1,"flex","align-items-center","p-3"],[1,"caption","size-big","flexed","inline","hcenter","gap3"],[1,"mdi-circle_notifications"],["icon","mdi-clear_all","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-text",3,"disabled","onClick"],["appScrollToBottomEmitter","","class","list-view flexed v-scroll",3,"onScrollToBottom",4,"ngIf"],["class","flexed hcenter vcenter column p10",3,"padding-top",4,"ngIf"],["appScrollToBottomEmitter","",1,"list-view","flexed","v-scroll",3,"onScrollToBottom"],[3,"notification",4,"ngFor","ngForOf"],[3,"notification"],[1,"flexed","hcenter","vcenter","column","p10"],[1,"flexed","hcenter","gap5","caption","size-big","wt-bold","f-color-500"],[1,"mdi-inventory"],["label","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435","styleClass","p-button-text one-line",3,"onClick"],[1,"flex","gap-3","flex-grow-1","h-full","align-items-center"],[3,"class",4,"ngIf"],[1,"font-bold"],[1,"flex","flex-column","gap-2","align-items-center","justify-content-center","bg-white","border-round-2xl","shadow-2","p-4","text-lg","text-primary-400","font-semibold"],["class","custom-spinner custom-spinner-primary custom-spinner-8xl","strokeWidth","2",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass",4,"ngIf"],["strokeWidth","2",1,"custom-spinner","custom-spinner-primary","custom-spinner-8xl"],[3,"ngClass"]],template:function(Ae,Ee){if(1&Ae&&(d.TgZ(0,"div",0)(1,"div",1)(2,"a",2),d._UZ(3,"img",3),d.qZA(),d.YNc(4,L,1,0,"app-button",4),d._UZ(5,"div",5),d.TgZ(6,"div",6),d.YNc(7,Q,1,0,"ng-container",7),d.qZA(),d._UZ(8,"app-account-panel"),d.qZA()(),d._UZ(9,"router-outlet")(10,"app-notifications-popup-panel"),d.YNc(11,E,2,3,"ng-template",null,8,d.W1O),d.TgZ(13,"p-sidebar",9),d.NdJ("onHide",function(){return Ee.notifyService.readAllNotifications()})("onShow",function(){return Ee.notifyService.load()})("visibleChange",function(ye){return Ee.notifyService.displaySideBar=ye}),d.YNc(14,D,5,1,"ng-template",10),d.YNc(15,$,2,2,"ng-template",11),d.qZA(),d._UZ(16,"p-confirmDialog")(17,"app-media-viewer")(18,"app-chat-panel",null,12),d.TgZ(20,"p-toast",13),d.YNc(21,k,4,2,"ng-template",14),d.qZA(),d.TgZ(22,"p-toast",15),d.YNc(23,K,4,2,"ng-template",14),d.qZA(),d._UZ(24,"app-float-dock-panel")(25,"app-terminal-float-panel"),d.TgZ(26,"p-blockUI",16)(27,"div",17),d.YNc(28,ne,4,3,"div",18),d.qZA()()),2&Ae){const qe=d.MAs(12);d.xp6(3),d.Udp("height","3rem"),d.Q6J("routerLink",d.DdM(17,Ce)),d.xp6(1),d.Q6J("ngIf",!Ee.isTaskCreationPage),d.xp6(3),d.Q6J("ngTemplateOutlet",qe),d.xp6(6),d.Akn(d.DdM(18,oe)),d.Q6J("visible",Ee.notifyService.displaySideBar)("blockScroll",!0)("position","right")("showCloseIcon",!1),d.xp6(13),d.Q6J("blocked",Ee.blockUiService.blocked)("autoZIndex",!Ee.blockUiService.zIndex)("baseZIndex",Ee.blockUiService.zIndex),d.xp6(1),d.Akn(d.WLB(19,z,Ee.blockUiService.align,Ee.blockUiService.justify)),d.xp6(1),d.Q6J("ngIf",Ee.blockUiService.isWait||Ee.blockUiService.message||Ee.blockUiService.icon)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.top-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--bgc-000);border-bottom:1px solid var(--bgc-300);box-shadow:var(--shadow-0);position:sticky;margin-bottom:1.5rem;top:0;height:var(--top-panel-height);z-index:1009}.top-panel-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem 1.5rem 1.5rem 2rem}"]}),W})()},417:(hn,ft,b)=>{"use strict";b.d(ft,{t:()=>u});var e=b(383),d=b(5e3);let u=(()=>{class f{transform(P,x,r,R,L){let Q,N;if(R)N=P;else{if(Q=new Date(P),"Invalid Date"===Q.toString())return"\u041d\u0435 \u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430";N=Math.abs(Date.now()-Q.getTime())}const T=Math.floor(N/36e5),y=Math.floor(N%36e5/6e4),E=Math.floor(N%6e4/1e3);if(L&&T>0){if(T<24)return`${x}${T} ${e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${r}`;{const D=Math.floor(T/24),U=Math.floor(T%24);return`${x}${D} ${e.cQ.declineOfNumber(D,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])} ${U} ${e.cQ.declineOfNumber(U,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${r}`}}return T>0&&T<13?`${x}${T} ${e.cQ.declineOfNumber(T,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${r}`:0===T&&y>0?`${x}${y} ${e.cQ.declineOfNumber(y,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])}${r}`:0===T&&0===y&&E>0?`${x}${E} ${e.cQ.declineOfNumber(E,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}${r}`:0===T&&0===y&&0===E?`${x}${N.toFixed(2)} ${e.cQ.declineOfNumber(N,["\u043c\u0441","\u043c\u0441","\u043c\u0441"])}${r}`:!R&&Q?Q.toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275pipe=d.Yjl({name:"elapsedTime",type:f,pure:!0}),f})()},7728:(hn,ft,b)=>{"use strict";b.d(ft,{A:()=>u});var e=b(7384),d=b(5e3);let u=(()=>{class f{transform(P){if(!P)return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";switch(P.taskStatus){case e.hY.ACTIVE:return"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f";case e.hY.PROCESSING:return"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";case e.hY.CLOSE:return"\u0417\u0430\u043a\u0440\u044b\u0442\u0430\u044f";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275pipe=d.Yjl({name:"taskStatus",type:f,pure:!0}),f})()},8738:(hn,ft,b)=>{"use strict";b.d(ft,{s:()=>$});var e=b(5861),d=b(4004),u=b(8505),f=b(4326),_=b(9751),P=b(8421);const{isArray:x}=Array;var R=b(515),L=b(5403),Q=b(3269);var T=b(9646),y=b(3099),E=b(262),D=b(383),U=b(5e3),B=b(520),ce=b(9783);let $=(()=>{class V{constructor(O,K){this.client=O,this.toast=K,this.requestCacheMap={},this.loggedIn=!1}getWireframe(O){return this.sendGet("api/private/wireframe/"+O)}getWireframeDashboardStatistic(O){return this.sendGet("api/private/wireframe/"+O+"/dashboard-statistic")}getWireframeFields(O){return this.sendGet("api/private/wireframe/"+O+"/fields")}getWireframes(O){return null==O?this.sendGet("api/private/wireframes"):this.sendGet("api/private/wireframes",{includingRemoved:O})}getWireframesNames(){return this.sendGet("api/private/wireframes/names")}createWireframe(O){return this.sendPost("api/private/wireframe",O)}updateWireframe(O,K){return this.sendPatch("api/private/wireframe/"+O,K)}createTask(O){return this.sendPost("api/private/task",O)}deleteTask(O){return this.sendDelete("api/private/task/"+O)}getTask(O,K=!1){const ue="api/private/task/"+O;return K?this.sendGetSilent(ue):this.sendGet(ue)}getTasksByLogin(O,K){return this.sendGet(`api/private/task/page/by-login/${O}`,{page:K})}getWorkLogsByTaskId(O){return this.sendGet(`api/private/work-log/task/${O}/list`)}getCountOfActiveWorkLogs(){return this.sendGet("api/private/work-log/active/count")}getRootTask(O){return this.sendGet("api/private/task/"+O+"/root")}getFieldsTask(O){return this.sendGet(`api/private/task/${O}/fields`)}getPageOfTasks(O,K){return this.sendPost(`api/private/task/page/${O}`,K)}getWireframeFiltrationFields(O){return this.sendGet(`api/private/wireframe/${O}/filter-fields`)}checkCompatibility(O,K){return this.sendGet(`api/private/task/${O}/check-compatibility/${K}`)}connectToOldTracker(O,K){return this.sendPatch(`api/private/task/${O}/connect-to/${K}`,{})}getHouses(O){return this.sendGet(`api/private/houses/${O}`)}getStreets(O,K){return K?this.sendGet("api/private/streets/"+O,{filter:K}):this.sendGet("api/private/streets/"+O)}getStreetSuggestions(O){return this.sendGet("api/private/suggestions/street",{query:O})}getCities(){return this.sendGet("api/private/cities")}getAvailableObservers(){return this.sendGet("api/private/available-observers")}getAvailableObserversSuggestions(O){return this.sendGet(`api/private/available-observers/${O}`)}createComment(O,K,ue,q){return this.sendPost("api/private/comment",{taskId:K,text:O||"",files:ue||[],replyComment:q})}getComments(O,K,ue){return this.sendGet("api/private/comments",{taskId:O,offset:K,limit:ue})}getTaskJournal(O,K,ue,q){return this.sendGet(`api/private/task/${O}/journal`,{offset:K,limit:ue,sorting:q})}getEmployees(O,K,ue){const q={};return O&&(q.globalFilter=O),"boolean"==typeof K&&!K&&(q.showDeleted=K),"boolean"==typeof ue&&!ue&&(q.showOffsite=ue),this.sendGet("api/private/employees/list",q)}getEmployeesOptionsList(O){return this.sendGet("api/private/employees/list",{globalFilter:null!=O?O:""}).pipe((0,d.U)(K=>K.map(ue=>{const{firstName:q,secondName:G,lastName:ne,login:Ce}=ue;return{label:q&&G&&ne?`${ne} ${q} ${G}`:Ce,value:Ce}})))}getAllTaskAttachments(O){return this.sendGet("api/private/task/"+O+"/attachments")}getCountAllTaskAttachments(O){return this.sendGet("api/private/task/"+O+"/attachments/count")}getDepartments(){return this.sendGet("api/private/departments")}getPositions(){return this.sendGet("api/private/positions")}createDepartment(O){return this.sendPost("api/private/department",O)}editDepartment(O,K){return this.sendPatch("api/private/department/"+K,O)}deleteDepartment(O){return this.sendDelete("api/private/department/"+O)}createPosition(O){return this.sendPost("api/private/position",O)}editPosition(O,K){return this.sendPatch("api/private/position/"+K,O)}deletePosition(O){return this.sendDelete("api/private/position/"+O)}createEmployee(O){return this.sendPost("api/private/employee",O)}editEmployee(O,K){return this.sendPatch("api/private/employee/"+K,O)}deleteEmployee(O){return this.sendDelete("api/private/employee/"+O)}getEmployee(O,K=!1){const ue="api/private/employee/"+O;return K?this.sendGetSilent(ue):this.sendGet(ue)}signIn(O){return this.sendPost("api/public/sign-in",O).pipe((0,u.b)(K=>{D.Ke.save("token",K.tokenChain.token),D.Ke.save("isOffsite",K.employee.offsite),this.loggedIn=!0}),(0,f.g)(100))}authCheckout(){return this.sendGet("api/public/auth-checkout").pipe((0,u.b)(O=>{O&&localStorage.setItem("token",O.token)}))}getMe(){return this.sendGet("api/private/me")}setAvatar(O){return this.sendPost("api/private/employee/avatar",O)}getResponsible(){return function N(...V){const k=(0,Q.jO)(V),O=function r(V){return 1===V.length&&x(V[0])?V[0]:V}(V);return O.length?new _.y(K=>{let ue=O.map(()=>[]),q=O.map(()=>!1);K.add(()=>{ue=q=null});for(let G=0;!K.closed&&G<O.length;G++)(0,P.Xf)(O[G]).subscribe(new L.Q(K,ne=>{if(ue[G].push(ne),ue.every(Ce=>Ce.length)){const Ce=ue.map(oe=>oe.shift());K.next(k?k(...Ce):Ce),ue.some((oe,z)=>!oe.length&&q[z])&&K.complete()}},()=>{q[G]=!0,!ue[G].length&&K.complete()}));return()=>{ue=q=null}}):R.E}(this.sendGet("api/private/departments"),this.sendGet("api/private/employees/list")).pipe((0,d.U)(O=>O.flat()),(0,d.U)(O=>O.filter(K=>!K.deleted)))}getActiveTaskInStage(O,K,ue,q){return this.sendGet(`api/private/task/page/template/${ue}/stage/${q}`,{offset:O,limit:K})}getActiveTaskInNullStage(O,K,ue){return this.sendGet(`api/private/task/page/template/${ue}/stage`,{offset:O,limit:K})}changeTaskStage(O,K){return this.sendPatch(`api/private/task/${O}/stage`,{stageId:K})}getActiveTaskIdsInStage(O,K){return this.sendGet(`api/private/task/template/${O}/stage/${K}/taskIdOnly`)}getActiveTaskIdsInNullStage(O){return this.sendGet(`api/private/task/template/${O}/stage/taskIdOnly`)}updateComment(O){return this.sendPatch("api/private/comment",O)}deleteComment(O){return this.sendDelete("api/private/comment/"+O)}getInstallersEmployees(){return this.sendGet("api/private/employees/installers")}assignInstallersToTask(O,K){return this.sendPost("api/private/task/"+O+"/assign-installers",K)}saveReport(O){return this.sendPatch("api/private/work-log/writing-report",O)}forceCloseWorkLog(O,K){return this.sendPost("api/private/task/"+O+"/force-close-work-log",K)}changeTaskObservers(O,K,ue){return this.sendPatch("api/private/task/"+O+"/observers",{departmentObservers:K,personalObservers:ue})}unlinkParentTask(O){return this.sendPatch("api/private/task/"+O+"/unlink-parent",{})}changeLinkToParentTask(O,K){return this.sendPatch("api/private/task/"+O+"/link-to-parent",{parentTaskId:K})}appendLinksToChildrenTasks(O,K){return this.sendPatch("api/private/task/"+O+"/append-links-to-children",K)}getTaskTag(O){return this.sendGet("api/private/task-tag/"+O)}getTaskTags(O,K){const ue={};return O&&(ue.query=O),null!=K&&(ue.includingRemove=K),this.sendGet("api/private/task-tags",ue)}createTaskTag(O){return this.sendPost("api/private/task-tag",O)}modifyTaskTag(O){return this.sendPatch("api/private/task-tag",O)}deleteTaskTag(O){return this.sendDelete("api/private/task-tag/"+O)}setTaskTags(O,K){return this.sendPatch(`api/private/task/${O}/tags`,K)}changeTaskResponsible(O,K){return this.sendPatch("api/private/task/"+O+"/responsible",K)}unbindResponsible(O){return this.sendPatch("api/private/task/"+O+"/unbind-responsible",{})}changeTaskActualFrom(O,K){return this.sendPatch("api/private/task/"+O+"/actual-from",K)}changeTaskActualTo(O,K){return this.sendPatch("api/private/task/"+O+"/actual-to",K)}clearActualFromDate(O){return this.sendPatch("api/private/task/"+O+"/clear-actual-from-date",{})}clearActualToDate(O){return this.sendPatch("api/private/task/"+O+"/clear-actual-to-date",{})}closeTask(O){return this.sendPatch("api/private/task/"+O+"/close",{})}reopenTask(O){return this.sendPatch("api/private/task/"+O+"/reopen",{})}editTask(O,K){return this.sendPatch("api/private/task/"+O+"/edit-fields",K)}moveTaskToDirectory(O,K){return this.sendPatch("api/private/task/move-to-directory",{taskIds:O,directoryId:K})}getEditTaskSnapshots(O){return this.sendGet("api/private/task/"+O+"/edit-snapshots")}getNotifications(O,K,ue=!1){return this.sendGet("api/private/notifications",{first:O,limit:K,unreadOnly:ue})}getCountOfUnreadNotifications(){return this.sendGet("api/private/notifications/unread-count")}getAvailableTaskTypesToChange(O){return this.sendGet("api/private/task/"+O+"/type-list/available-to-change")}getAvailableDirectoriesToChange(O){return this.sendGet("api/private/task/"+O+"/directory-list/available-to-change")}getDepartment(O,K=!1){return K?this.sendGetSilent("api/private/department/"+O):this.sendGet("api/private/department/"+O)}getWorkLog(O,K=!1){return K?this.sendGetSilent("api/private/work-log/"+O):this.sendGet("api/private/work-log/"+O)}getActiveWorkLogByTaskId(O){return this.sendGetSilent("api/private/work-log/task/"+O+"/active")}readAllNotifications(){return this.sendPatch("api/private/notifications/read-all",{})}changeMyStatus(O){return this.sendPatch("api/private/employee/status",O)}getChatMessages(O,K,ue){return this.sendGet("api/private/chat/"+O+"/messages",{first:K,limit:ue})}setMessagesAsRead(O){return this.sendPatch("api/private/chat/messages/read",O)}getActiveTaskChat(O){return this.sendGet("api/private/task/"+O+"/active-chat")}getChat(O){return this.sendGet("api/private/chat/"+O)}sendChatMessage(O,K,ue,q){return this.sendPost("api/private/chat/"+O+"/message",{text:K,files:ue,replyMessageId:q})}editChatMessage(O,K){return this.sendPatch("api/private/chat/message/"+O,K)}deleteChatMessage(O,K){return this.sendDelete("api/private/chat/message/"+K)}getMyActiveChats(){return this.sendGet("api/private/chats/my/active")}getIncomingTasks(O,K){return this.sendGet(`api/private/task/page/incoming/${O}`,D.cQ.prepareForHttpRequest(K))}getWireframeStages(O){return this.sendGet("api/private/wireframe/"+O+"/stages")}getCountIncomingTasks(){return this.sendGet("api/private/task/incoming/count",{})}getCountIncomingTasksByWireframeId(O){return this.sendGet("api/private/task/incoming/wireframe/"+O+"/count",{})}getCountTasksByWireframeIdByTags(O){return 0===O.length?(0,T.of)({}):this.sendGet("api/private/task/wireframe/by-tags/count",{wireframeIds:O})}getCountIncomingTasksByWireframeIdByTags(O){return 0===O.length?(0,T.of)({}):this.sendGet("api/private/task/incoming/wireframe/by-tags/count",{wireframeIds:O})}getCountAllTasksByWireframeId(O){return this.sendGet("api/private/task/wireframe/"+O+"/count",{})}getCountIncomingTasksByStages(O){return O?this.sendGet(`api/private/task/incoming/wireframe/${O}/by-stages/count`,{}):(0,T.of)({})}getCountTasksByStages(O){return O?this.sendGet(`api/private/task/wireframe/${O}/by-stages/count`,{}):(0,T.of)({})}getCountTasks(O={}){return this.sendPost("api/private/task/count",O)}getTagsListFromCatalog(O={}){return this.sendPost("api/private/tags/catalog/list",O)}getScheduledTask(O,K){return this.sendGet("api/private/task/list/scheduled",{start:O,end:K})}moveScheduledTask(O,K){return this.sendPatch(`api/private/task/${O}/scheduled/move`,K)}signOut(){return this.sendPost("api/public/sign-out",{}).pipe((0,u.b)(()=>{this.loggedIn=!1}))}deleteWireframe(O){return this.sendDelete(`api/private/wireframe/${O}`)}getTrackerParserState(){return this.sendGet("api/private/parser/tracker")}saveTrackerParserSettings(O){return this.sendPatch("api/private/parser/tracker/settings",O)}startTrackerParser(){return this.sendPost("api/private/parser/tracker/start",{})}stopTrackerParser(){return this.sendPost("api/private/parser/tracker/stop",{})}getAddressCorrectingPool(){return this.sendGet("api/private/parser/tracker/address-correcting-pool")}sendCorrectedAddress(O){return this.sendPost("api/private/parser/tracker/address-correcting-pool",O)}startAddressParse(){return this.sendPost("api/private/parser/addresses/start",{})}getAddressSuggestions(O,K,ue){return this.sendGet("api/private/suggestions/address",{query:O,isAcpConnected:K,isHouseOnly:ue})}getAddressSuggestionsAlt(O,K,ue,q){return this.sendGet("api/private/suggestions/address/alt",{streetId:O,query:K,isAcpConnected:ue,isHouseOnly:q})}getCountOfUnreadMessages(O){return this.sendGet("api/private/chat/"+O+"/messages/unread-count")}getPageOfPaidActions(O,K){return this.sendGet(`api/private/salary/paid-actions/${O}`,K)}getListAvailablePaidActions(){return this.sendGet("api/private/salary/paid-actions/available")}createPaidAction(O){return this.sendPost("api/private/salary/paid-action",O)}editPaidAction(O,K){return this.sendPatch("api/private/salary/paid-action/"+O,K)}deletePaidAction(O){return this.sendDelete("api/private/salary/paid-action/"+O)}getRootTreeOfWorks(O){return this.sendGet("api/private/salary/paid-works-tree/root",{groupsUndraggable:null!=O&&O})}getWorksOfGroup(O,K){return this.sendGet(`api/private/salary/paid-works-tree/${O}`,{groupsUndraggable:null!=K&&K})}treeWorksDragDrop(O){return this.sendPatch("api/private/salary/paid-works-tree/drag-drop",O)}createPaidWorkGroup(O){return this.sendPost("api/private/salary/paid-work-group",O)}editPaidWorkGroup(O,K){return this.sendPatch("api/private/salary/paid-work-group/"+O,K)}deletePaidWorkGroup(O){return this.sendDelete("api/private/salary/paid-work-group/"+O)}createPaidWork(O){return this.sendPost("api/private/salary/paid-work",O)}editPaidWork(O,K){return this.sendPatch("api/private/salary/paid-work/"+O,K)}deletePaidWork(O){return this.sendDelete("api/private/salary/paid-work/"+O)}getPaidWorkById(O){return this.sendGet("api/private/salary/paid-work/"+O)}paidWorkTreeReposition(O){return this.sendPatch("api/private/salary/paid-works-tree/reposition",O)}getUncalculatedWorkLogs(){return this.sendGet("api/private/work-log/uncalculated/list")}getAfterWorkList(){return this.sendGet("api/private/work-log/after-work/list")}getUncompletedReports(){return this.sendGet("api/private/uncompleted-reports")}sendWorkCalculation(O){return this.sendPost("api/private/salary/work-calculation",O)}sendBypassWorkCalculation(O){return this.sendPost("api/private/salary/work-calculation/bypass",O)}getSalaryTable(O){return this.sendGet("api/private/salary/table",O)}getBillingUsersByLogin(O,K){return this.sendGet("api/private/billing/users/by-login",{login:O,isActive:K})}getBillingUsersByFio(O,K){return this.sendGet("api/private/billing/users/by-fio",{query:O,isActive:K})}getBillingUsersByAddress(O,K){return this.sendGet("api/private/billing/users/by-address",{address:O,isActive:K})}getBillingUserInfo(O){return this.sendGet(`api/private/billing/user/${encodeURIComponent(O)}`)}getBillingUserEvents(O){return this.sendGet(`api/private/billing/user/${encodeURIComponent(O)}/events`)}updateBalance(O,K){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/update-balance`,K)}setDeferredPayment(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/deferred-payment`,{})}startUserService(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/start-service`,{})}stopUserService(O){return this.sendPost(`api/private/billing/user/${encodeURIComponent(O)}/stop-service`,{})}balanceReset(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/balance-reset`,K)}isLoginEnable(O){return this.sendGetSilent(`api/private/billing/user/${encodeURIComponent(O)}/is-enable`)}enableLogin(O){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/enable-login`,{})}changeUserAddress(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/address`,K)}changeUserFullName(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/full-name`,K)}changeUserPhone(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/phone`,K)}changeUserComment(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/change/comment`,K)}editUser(O,K){return this.sendPatch(`api/private/billing/user/${encodeURIComponent(O)}/edit`,K)}convertBillingAddress(O){return this.sendGet("api/private/convert/billing-address-string",{addressString:O})}createCity(O){return this.sendPost("api/private/city",O)}editCity(O,K){return this.sendPatch(`api/private/city/${O}`,K)}deleteCity(O){return this.sendDelete(`api/private/city/${O}`)}createStreet(O,K){return this.sendPost(`api/private/city/${O}/street`,K)}editStreet(O,K){return this.sendPatch(`api/private/street/${O}`,K)}deleteStreet(O){return this.sendDelete(`api/private/street/${O}`)}createHouse(O,K){return this.sendPost(`api/private/street/${O}/house`,K)}editHouse(O,K){return this.sendPatch(`api/private/house/${O}`,K)}makeHouseAnApartmentsBuilding(O){return this.sendPatch(`api/private/house/${O}/to-apartments-building`,{})}deleteHouse(O){return this.sendDelete(`api/private/house/${O}`)}getWorkingDay(O,K){return this.sendGet("api/private/working-day/",{date:O,login:K})}getAlreadyCalculatedWorkForm(O){return this.sendGet(`api/private/salary/already-calculated-work/${O}/form`)}getDhcpBindingsByLogin(O){return this.sendGet("api/private/acp/dhcp/bindings",{login:O})}getDhcpLogsByLogin(O,K=0){return this.sendGet(`api/private/acp/dhcp/binding/${O}/logs/${K}`,{})}getLastBindings(O,K,ue,q,G,ne,Ce,oe,z){return this.sendGet("api/private/acp/dhcp/bindings/"+O+"/last",{state:K,macaddr:ue,login:q,ip:G,vlan:ne,buildingId:Ce,commutator:oe,port:z})}getDhcpBindingsByVlan(O,K,ue){return this.sendGet("api/private/acp/vlan/"+K+"/dhcp/bindings/"+O,{excludeLogin:ue})}authDhcpBinding(O,K){return this.sendPost("api/private/acp/dhcp/binding/auth",{login:O,macaddr:K})}getNetworkConnectionLocationHistory(O){return this.sendGet("api/private/acp/dhcp/binding/"+O+"/ncl-history",{})}getBuildings(O){return this.sendGet("api/private/acp/buildings",{query:O})}getCommutators(O,K,ue,q){return this.sendGet("api/private/acp/commutators/"+O+"/page",{name:K,ip:ue,buildingId:q})}getCommutator(O){return this.sendGet("api/private/acp/commutator/"+O)}getCommutatorEditingPreset(O){return this.sendGet("api/private/acp/commutator/"+O+"/editing-preset")}searchCommutators(O){return this.sendGet("api/private/acp/commutators/search",{query:O})}getCommutatorModels(O){return this.sendGet("api/private/acp/commutator/models",{query:O})}getCommutatorModel(O){return this.sendGet(`api/private/acp/commutator/model/${O}`)}getBuildingAddress(O){return this.sendGet(`api/private/acp/building/${O}/address`)}checkCommutatorNameExist(O){return this.sendGet("api/private/acp/commutator/check-exist/name",{name:O})}checkCommutatorIpExist(O){return this.sendGet("api/private/acp/commutator/check-exist/ip",{ip:O})}checkRemoteControl(O){return this.sendGet(`api/private/remote-control/${O}/check-access`)}getDocumentTemplateTypes(){return this.sendGet("api/private/types/document-template")}getFieldDisplayTypes(){return this.sendGet("api/private/types/field-display")}getWireframeFieldTypesList(){return this.sendGet("api/private/types/wireframe-field")}getConnectionServicesList(){return this.sendGet("api/private/types/connection-service")}getConnectionServicesSuggestionsList(O){return this.sendGet("api/private/types/connection-service/suggestions",{query:O})}getBillingPaymentTypesList(){return this.sendGet("api/private/types/billing-payment-type")}getConnectionTypesList(){return this.sendGet("api/private/types/connection-type")}getAdSourcesList(){return this.sendGet("api/private/types/advertising-source")}getFilesSortingTypes(){return this.sendGet("api/private/types/files-sorting")}getBillingConfiguration(){return this.sendGet("api/private/billing/configuration")}getTelegramConfiguration(){return this.sendGet("api/private/configuration/telegram")}getAcpConfiguration(){return this.sendGet("api/private/acp/configuration")}setBillingConfiguration(O){return this.sendPost("api/private/billing/configuration",O)}setTelegramConfiguration(O){return this.sendPost("api/private/configuration/telegram",O)}setAcpConfiguration(O){return this.sendPatch("api/private/acp/configuration",O)}getClientEquipments(O,K){return this.sendGet("api/private/client-equipments",{query:O,isDeleted:K})}getClientEquipmentsSuggestions(O){return this.sendGet("api/private/client-equipments/suggestions",{query:O})}createClientEquipment(O){return this.sendPost("api/private/client-equipment",O)}editClientEquipment(O,K){return this.sendPatch(`api/private/client-equipment/${O}`,K)}deleteClientEquipment(O){return this.sendDelete(`api/private/client-equipment/${O}`)}createCommutator(O){return this.sendPost("api/private/acp/commutator",O)}editCommutator(O,K){return this.sendPatch(`api/private/acp/commutator/${O}`,K)}deleteCommutator(O){return this.sendDelete(`api/private/acp/commutator/${O}`)}commutatorRemoteUpdate(O){return this.sendPost(`api/private/acp/commutator/${O}/get-remote-update`,{})}commutatorRemoteUpdateByVlan(O){return this.sendPost(`api/private/acp/commutators/vlan/${O}/get-remote-update`,{})}fdbTableByPort(O){return this.sendGet(`api/private/acp/commutator/port/${O}/fdb`)}getCommutatorsByVlan(O){return this.sendGet(`api/private/acp/commutators/vlan/${O}`)}getTopology(){return this.sendGet("api/private/acp/topology")}getBuilding(O){return this.sendGet("api/private/acp/building/"+O)}getCommutatorsByBuildingId(O){return this.sendGet("api/private/acp/building/"+O+"/commutators")}getBindingsByLogin(O,K,ue){return this.sendPost("api/private/acp/user/"+O+"/bindings/"+K,ue)}getBindingsByVlan(O,K,ue){return this.sendPost("api/private/acp/vlan/"+O+"/bindings/"+K,ue)}getBindingsByBuildingId(O,K,ue){return this.sendPost("api/private/acp/building/"+O+"/bindings/"+K,ue)}getBindingsFromBuildingByLogin(O,K,ue){return this.sendPost("api/private/acp/user/"+O+"/bindings-from-building/"+K,ue)}getBindingsByCommutator(O,K,ue){return this.sendPost(`api/private/acp/commutator/${O}/bindings/${K}`,ue)}getActiveBindingByLogin(O){return this.sendGet("api/private/acp/user/"+O+"/active-binding")}getBuildingIdByVlan(O){return this.sendGet("api/private/acp/vlan/"+O+"/building-id")}getUserBriefInfo(O){return this.sendGet(`api/private/acp/user/${O}/brief-info`)}getBulkUserBriefInfo(O){return this.sendPost("api/private/acp/user/brief-info/bulk",O)}getCountingLivesCalculation(O){return this.sendPost("api/private/billing/counting-lives",O)}attachToTask(O,K,ue){return this.sendPost(`api/private/chat/${K}/message/${O}/attach-to-task`,{description:ue})}getFilesSuggestions(O){return this.sendGet("api/private/files/suggestions",{query:O})}getFilesRoot(O){return this.sendGet("api/private/files/root",{sortingType:O})}getFilesDirectory(O,K){return this.sendGet(`api/private/files/directory/${O}`,{sortingType:K})}filesMoveTo(O,K){return this.sendPatch("api/private/files/move-to",{target:O,source:K})}filesCopyTo(O,K){return this.sendPatch("api/private/files/copy-to",{target:O,source:K})}filesDelete(O){return this.sendDelete(`api/private/files/delete/${O}`)}filesRename(O,K){return this.sendPatch("api/private/files/rename",{id:O,name:K})}filesCreateDirectory(O,K){return this.sendPost("api/private/files/create-directory",{parentDirectoryId:K,name:O})}filesUpload(O){return this.sendPost("api/private/files/load",O)}searchFiles(O,K){return this.sendGet("api/private/files/search",{query:O,sortingType:K})}createPhyPhoneBind(O){return this.sendPatch("api/private/employee/phy-phone-bind/create",O)}removePhyPhoneBind(O){return this.sendDelete(`api/private/employee/${O}/phy-phone-bind/remove`)}getPhyPhoneModelsTypes(){return this.sendGet("api/private/types/phy-phone-models")}callToPhone(O){return this.sendPost("api/private/call-to-phone",{phoneNumber:O})}setPhyPhoneBind(O){return this.sendPatch(`api/private/employee/phy-phone/${O}/bind`,{})}getPhyPhoneList(){return this.sendGet("api/private/phy-phone-list")}getOldTrackerClasses(){return this.sendGet("api/private/ot/classes")}changeTaskStageInOldTracker(O,K){return this.sendPatch(`api/private/task/${O}/old-tracker-stage/${K}/change`,{})}createUserInBilling(O,K=!1){return this.sendPost("api/private/billing/user/create",{modelItemId:O,isOrg:K})}getBillingUserTariffs(O){return this.sendGet(`api/private/billing/user/${O}/tariffs`)}getBillingUserServices(O){return this.sendGet(`api/private/billing/user/${O}/services`)}appendServiceToBillingUser(O,K){return this.sendPatch(`api/private/billing/user/${K}/service/${O}/append`,{})}removeServiceFromBillingUser(O,K){return this.sendPatch(`api/private/billing/user/${K}/service/${O}/remove`,{})}changeTariffInBillingUser(O,K){return this.sendPatch(`api/private/billing/user/${K}/tariff/${O}`,{})}makePayment(O,K){return this.sendPost(`api/private/billing/user/${O}/make-payment`,K)}makeRecalculation(O,K){return this.sendPost(`api/private/billing/user/${O}/make-recalculation`,K)}markWorkLogAsCompleted(O,K){return this.sendPatch(`api/private/work-log/${O}/mark-as-completed`,K)}markWorkLogAsUncompleted(O){return this.sendPatch(`api/private/work-log/${O}/mark-as-uncompleted`,{})}markWorkLogAsUncompletedAndClose(O){return this.sendPatch(`api/private/work-log/${O}/mark-as-uncompleted-and-close`,{})}getWorkLogsUnconfirmedContracts(O,K){return this.sendPost(`api/private/work-log/unconfirmed-contracts/${O}`,K)}getEmployeeWorkLogs(){return this.sendGet("api/private/work-log/employee-work-log/list")}getContractTypesList(){return this.sendGet("api/private/contract/type/list")}getContractTypesSuggestionList(O){return this.sendGet("api/private/contract/type/suggestion/list",{query:O})}createContractType(O){return this.sendPost("api/private/contract/type",O)}updateContractType(O,K){return this.sendPatch(`api/private/contract/type/${O}`,K)}removeContractType(O){return this.sendDelete(`api/private/contract/type/${O}`)}markContractsAsReceived(O){return this.sendPatch("api/private/contract/mark/received",O)}markContractsAsArchived(O){return this.sendPatch("api/private/contract/mark/archived",O)}getEmployeeWorkStatistics(O){return this.sendPost("api/private/statistics/employee-work",O)}sendDataToTelnetSession(O,K){return this.sendPost(`api/private/remote/telnet/${O}`,K)}connectToTelnetSession(O){return this.sendPost("api/private/remote/telnet/connect",O)}getTaskRegistryTableHeaders(O,K){return this.sendGet(`api/private/task/registry/headers/${O}/${K}`)}getTaskRegistryTableContent(O,K,ue){return this.sendPost(`api/private/task/registry/content/${O}/${K}`,ue)}sendGet(O,K){var ue=this;for(let ne in K)null==K[ne]&&delete K[ne];const q=this.generateHash(O,K);let G=null;return this.requestCacheMap[q]?G=this.requestCacheMap[q]:(G=this.client.get(O,{params:K}).pipe((0,y.B)(),(0,E.K)(function(){var ne=(0,e.Z)(function*(Ce,oe){throw ue.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:Ce.error.message}),Ce});return function(Ce,oe){return ne.apply(this,arguments)}}())),this.requestCacheMap[q]=G,setTimeout(()=>{delete this.requestCacheMap[q]},1e4)),G}sendGetSilent(O,K){for(let G in K)null==K[G]&&delete K[G];const ue=this.generateHash(O,K);let q=null;return this.requestCacheMap[ue]?q=this.requestCacheMap[ue]:(q=this.client.get(O,{params:K}).pipe((0,y.B)()),this.requestCacheMap[ue]=q,setTimeout(()=>{delete this.requestCacheMap[ue]},1e4)),q}sendPost(O,K){var ue=this;return this.client.post(O,K).pipe((0,E.K)(function(){var q=(0,e.Z)(function*(G,ne){throw ue.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:G.error.message}),G});return function(G,ne){return q.apply(this,arguments)}}()))}sendPatch(O,K){return this.client.patch(O,K).pipe((0,E.K)((ue,q)=>{throw this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:ue.error.message}),ue}))}sendDelete(O){var K=this;return this.client.delete(O).pipe((0,E.K)(function(){var ue=(0,e.Z)(function*(q,G){throw K.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:q.error.message}),q});return function(q,G){return ue.apply(this,arguments)}}()))}generateHash(O,K){return(0,D.d4)(O+JSON.stringify(K),0)}}return V.\u0275fac=function(O){return new(O||V)(U.LFG(B.eN),U.LFG(ce.ez))},V.\u0275prov=U.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},6768:(hn,ft,b)=>{"use strict";b.d(ft,{A:()=>d});var e=b(5e3);let d=(()=>{class u{constructor(){this.blocked=!1,this.message="",this.isWait=!1,this.icon="",this.styleClass="",this.zIndex=0,this.pos="center"}get align(){switch(this.pos){case"center":case"left":case"right":return"center";case"top":case"top-left":case"top-right":return"flex-start";case"bottom":case"bottom-left":case"bottom-right":return"flex-end"}}get justify(){switch(this.pos){case"center":case"top":case"bottom":return"center";case"left":case"top-left":case"bottom-left":return"flex-start";case"right":case"top-right":case"bottom-right":return"flex-end"}}wait(_){var P,x,r,R;this.blocked=!0,this.isWait=!0,this.message=null!==(P=null==_?void 0:_.message)&&void 0!==P?P:"",this.styleClass=null!==(x=null==_?void 0:_.styleClass)&&void 0!==x?x:"",this.zIndex=null!==(r=null==_?void 0:_.zIndex)&&void 0!==r?r:0,this.icon="",this.pos=null!==(R=null==_?void 0:_.pos)&&void 0!==R?R:"center"}block(_){var P,x,r,R,L;this.blocked=!0,this.isWait=!1,this.message=null!==(P=null==_?void 0:_.message)&&void 0!==P?P:"",this.styleClass=null!==(x=null==_?void 0:_.styleClass)&&void 0!==x?x:"",this.zIndex=null!==(r=null==_?void 0:_.zIndex)&&void 0!==r?r:0,this.icon=null!==(R=null==_?void 0:_.icon)&&void 0!==R?R:"",this.pos=null!==(L=null==_?void 0:_.pos)&&void 0!==L?L:"center"}unblock(){this.blocked=!1}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9014:(hn,ft,b)=>{"use strict";b.d(ft,{a:()=>P});var e=b(5e3),d=b(8738),u=b(8007),f=b(8028),_=b(9783);let P=(()=>{class x{constructor(R,L,Q,N){this.api=R,this.rt=L,this.personality=Q,this.messageService=N,this.chats=[],this.open=new e.vpe,this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},Q.userLogin$.subscribe(T=>{this.rt.chatCreated(T).subscribe(this.createChat.bind(this)),this.rt.chatMessageCreated(T).subscribe(y=>{y.parentChatId!==this.currentOpenChat?(this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then(),this.messageService.add({key:"chatMessage",severity:"chatmsg",data:y,life:3e4})):this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then()})}),this.rt.chatUpdated().subscribe(this.updateChat.bind(this)),this.rt.chatClosed().subscribe(this.closeChat.bind(this)),this.open.subscribe(()=>this.messageService.clear("chatMessage"))}createChat(R){this.chats.push(R)}updateChat(R){const L=this.chats.findIndex(Q=>Q.chatId===R.chatId);-1!=L&&(this.chats[L]=R)}closeChat(R){const L=this.chats.findIndex(Q=>Q.chatId===R.chatId);-1!=L&&this.chats.splice(L,1)}getChats(){this.api.getMyActiveChats().subscribe(R=>{this.chats=R;for(const L of R);})}}return x.\u0275fac=function(R){return new(R||x)(e.LFG(d.s),e.LFG(u.U),e.LFG(f.F),e.LFG(_.ez))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},963:(hn,ft,b)=>{"use strict";b.d(ft,{f:()=>u});var e=b(383),d=b(5e3);let u=(()=>{class f{constructor(){this.cachingMap={};const P=e.Ke.loadOrDefault("commentCaching","{}");this.cachingMap=JSON.parse(P)}read(P){var x;return null!==(x=this.cachingMap[P])&&void 0!==x?x:""}write(P,x){""!==x?(this.cachingMap[P]=x,e.Ke.save("commentCaching",JSON.stringify(this.cachingMap))):this.flush(P)}flush(P){delete this.cachingMap[P],e.Ke.save("commentCaching",JSON.stringify(this.cachingMap))}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},1514:(hn,ft,b)=>{"use strict";b.d(ft,{r:()=>f});var e=b(5e3),d=b(9808),u=b(3470);let f=(()=>{class _{constructor(x,r){this.location=x,this.router=r}backOrDefault(x){1!==this.location.getState().navigationId?this.location.back():this.router.navigate(x).then()}}return _.\u0275fac=function(x){return new(x||_)(e.LFG(d.Ye),e.LFG(u.F0))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},3064:(hn,ft,b)=>{"use strict";b.d(ft,{E:()=>u});var e=b(7579),d=b(5e3);let u=(()=>{class f{constructor(){this.mediaEmitter$=new e.x,this.mediaAlbumEmitter$=new e.x}showMedia(P){this.mediaEmitter$.next(P)}showMediaAlbum(P,x){this.mediaAlbumEmitter$.next({index:P,album:x})}media(){return this.mediaEmitter$.pipe()}mediaAlbum(){return this.mediaAlbumEmitter$.pipe()}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9744:(hn,ft,b)=>{"use strict";b.d(ft,{T:()=>R});var e=b(7384),d=b(8028),u=b(3900),f=b(5e3),_=b(8738),P=b(8007),r=(()=>{return(L=r||(r={}))[L.ALL=0]="ALL",L[L.UNREAD=1]="UNREAD",r;var L})();let R=(()=>{class L{constructor(N,T,y){this.api=N,this.rt=T,this.personality=y,this.receivedNotifications=[],this.timers={},this.displaySideBar=!1,this.unreadCount=0,this.notificationViewMode=r.UNREAD,this.titles={[e.k$.NEW_COMMENT]:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",[e.k$.TASK_CREATED]:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",[e.k$.TASK_EDITED]:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u0434\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u0434\u0430\u0447\u0438",[e.k$.TASK_DELETED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",[e.k$.TASK_CLOSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430",[e.k$.TASK_REOPENED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",[e.k$.TASK_PROCESSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430",[e.k$.TASK_STAGE_CHANGED]:"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d",[e.k$.YOU_OBSERVER]:"\u0412\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c",[e.k$.YOU_RESPONSIBLE]:"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",[e.k$.TASK_HAS_BECOME_ACTUAL]:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f",[e.k$.TASK_EXPIRED]:"\u0421\u0440\u043e\u043a \u0438\u0441\u0442\u0435\u043a",[e.k$.WORKS_COMPLETED]:"\u0420\u0430\u0431\u043e\u0442\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b",[e.k$.REPORT_RECEIVED]:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d",[e.k$.MENTIONED_IN_TASK]:"\u0412\u0430\u0441 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u043b\u0438"},this.icons={[e.k$.NEW_COMMENT]:"mdi-add_comment",[e.k$.TASK_CREATED]:"mdi-add_task",[e.k$.TASK_EDITED]:"mdi-edit",[e.k$.TASK_DELETED]:"mdi-delete",[e.k$.TASK_CLOSED]:"mdi-swipe_down_alt",[e.k$.TASK_REOPENED]:"mdi-swipe_up_alt",[e.k$.TASK_PROCESSED]:"mdi-how_to_reg",[e.k$.TASK_STAGE_CHANGED]:"mdi-next_week",[e.k$.YOU_OBSERVER]:"mdi-visibility",[e.k$.YOU_RESPONSIBLE]:"mdi-person",[e.k$.TASK_HAS_BECOME_ACTUAL]:"mdi-event_available",[e.k$.TASK_EXPIRED]:"mdi-event_busy",[e.k$.WORKS_COMPLETED]:"mdi-fact_check",[e.k$.REPORT_RECEIVED]:"mdi-edit_note",[e.k$.MENTIONED_IN_TASK]:"mdi-campaign"},this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},this.api.getCountOfUnreadNotifications().subscribe({next:E=>{this.unreadCount=E}}),this.load(),y.userLogin$.pipe((0,u.w)(E=>this.rt.notificationCreated(E))).subscribe(this.createNotificationHandler.bind(this)),y.userLogin$.pipe((0,u.w)(E=>this.rt.notificationUpdated(E))).subscribe(this.updateNotificationHandler.bind(this)),Notification.requestPermission().then(E=>console.log(E))}get isEmpty(){var N;return!(null!==(N=this.notifications)&&void 0!==N&&N.content)||0===this.notifications.content.length}get list(){var N,T;return null!==(T=null===(N=this.notifications)||void 0===N?void 0:N.content)&&void 0!==T?T:[]}get isLast(){var N,T;return null!==(T=null===(N=this.notifications)||void 0===N?void 0:N.last)&&void 0!==T&&T}get isHasUnread(){return this.unreadCount>0}showSideBar(){this.displaySideBar=!0,this.receivedNotifications=[],Object.entries(this.timers).forEach(([N,T])=>{clearTimeout(T),delete this.timers[parseInt(N)]})}changeNotificationViewMode(N){this.notificationViewMode=N,this.notifications=void 0,this.load()}readAllNotifications(){this.isHasUnread&&this.api.readAllNotifications().subscribe({next:()=>{this.unreadCount=0,this.notifications=void 0}}),this.notificationViewMode=r.UNREAD,this.notifications=void 0}load(){this.notifications?this.api.getNotifications(this.notifications.pageable.offset+25,25,this.notificationViewMode===r.UNREAD).subscribe({next:N=>{var T,y;N.content=[...null!==(y=null===(T=this.notifications)||void 0===T?void 0:T.content)&&void 0!==y?y:[],...N.content],this.notifications=N}}):this.api.getNotifications(0,25,this.notificationViewMode===r.UNREAD).subscribe({next:N=>{this.notifications=N}})}suspendClosing(N){!this.timers[N]||(clearTimeout(this.timers[N]),delete this.timers[N])}resumeClosure(N){this.timers[N]||(this.timers[N]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(T=>T.notificationId!==N),delete this.timers[N]},1e4))}close(N){this.timers[N]&&(clearTimeout(this.timers[N]),delete this.timers[N]),this.receivedNotifications=this.receivedNotifications.filter(T=>T.notificationId!==N)}playNotifySound(){this.personality.focusStatus===d.P.FOCUS?this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then():this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then()}showExternalNotification(N){new Notification(this.titles[N.type],{body:N.message})}createNotificationHandler(N){var T,y,E;this.displaySideBar||(this.receivedNotifications.unshift(N),this.timers[N.notificationId]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(D=>D.notificationId!==N.notificationId),delete this.timers[N.notificationId]},1e4)),this.unreadCount++,this.personality.focusStatus===d.P.BLUR&&this.showExternalNotification(N),this.playNotifySound(),null!==(T=this.notifications)&&void 0!==T&&T.content&&(this.notifications.content.find(D=>D.notificationId===N.notificationId)||null===(E=null===(y=this.notifications)||void 0===y?void 0:y.content)||void 0===E||E.unshift(N))}updateNotificationHandler(N){var T;if(null===(T=this.notifications)||void 0===T||!T.content)return;const y=this.notifications.content.findIndex(E=>E.notificationId===N.notificationId);-1!==y&&(this.notifications.content[y]=N)}}return L.\u0275fac=function(N){return new(N||L)(f.LFG(_.s),f.LFG(P.U),f.LFG(d.F))},L.\u0275prov=f.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},8028:(hn,ft,b)=>{"use strict";b.d(ft,{P:()=>$,F:()=>V});var e=b(7384),d=b(1135),u=b(9300),f=b(4782),_=b(1884),P=b(4004),x=b(4968),r=b(8505);function R(k){this.message=k}(R.prototype=new Error).name="InvalidCharacterError";var L="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(k){var O=String(k).replace(/=+$/,"");if(O.length%4==1)throw new R("'atob' failed: The string to be decoded is not correctly encoded.");for(var K,ue,q=0,G=0,ne="";ue=O.charAt(G++);~ue&&(K=q%4?64*K+ue:ue,q++%4)?ne+=String.fromCharCode(255&K>>(-2*q&6)):0)ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(ue);return ne};function N(k){this.message=k}(N.prototype=new Error).name="InvalidTokenError";var E=b(6309),D=b(5e3),U=b(8738),B=b(8007),ce=b(3470),$=(()=>{return(k=$||($={})).FOCUS="FOCUS",k.NO_TOUCH="NO_TOUCH",k.BLUR="BLUR",$;var k})();let V=(()=>{class k{constructor(K,ue,q){this.api=K,this.rt=ue,this.router=q,this.focusStatus=$.BLUR,this.onGettingUserData=new d.X(null),this.userData$=this.onGettingUserData.pipe((0,u.h)(G=>!!G),(0,f.d)(1)),this.userLogin$=this.userData$.pipe((0,_.x)((G,ne)=>(null==G?void 0:G.login)===(null==ne?void 0:ne.login)),(0,P.U)(G=>G.login),(0,f.d)(1)),this.lastTouch=0,this.updateMe().subscribe(),(0,x.R)(window,"focus").subscribe(G=>{!this.api.loggedIn||(this.focusStatus=$.FOCUS,this.api.changeMyStatus(e.LE.ONLINE).subscribe())}),(0,x.R)(window,"blur").subscribe(G=>{!this.api.loggedIn||(this.focusStatus=$.BLUR,this.api.changeMyStatus(e.LE.AWAY).subscribe())}),(0,x.R)(document,"mousemove").subscribe(()=>{this.lastTouch=(new Date).getTime()}),setInterval(()=>{!this.api.loggedIn||(new Date).getTime()-this.lastTouch>3e4&&this.focusStatus===$.FOCUS&&(this.focusStatus=$.NO_TOUCH,this.api.changeMyStatus(e.LE.AWAY).subscribe())},1e3),setInterval(()=>{const G=(new Date).getTime(),ne=localStorage.getItem("token");ne&&1e3*function T(k,O){if("string"!=typeof k)throw new N("Invalid token specified");var K=!0===(O=O||{}).header?0:1;try{return JSON.parse(function Q(k){var O=k.replace(/-/g,"+").replace(/_/g,"/");switch(O.length%4){case 0:break;case 2:O+="==";break;case 3:O+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(L(O).replace(/(.)/g,function(ue,q){var G=q.charCodeAt(0).toString(16).toUpperCase();return G.length<2&&(G="0"+G),"%"+G}))}catch(K){return L(O)}}(k.split(".")[K]))}catch(ue){throw new N("Invalid token specified: "+ue.message)}}(ne).exp-G<3e4&&(this.api.authCheckout().subscribe(),console.log("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430"))},1e4)}updateMe(){return this.api.getMe().pipe((0,r.b)({next:K=>{this.me=K,this.onGettingUserData.next(K),this.meUpdate&&this.meUpdate.unsubscribe(),this.meUpdate=this.rt.employeeUpdated(K.login).subscribe(ue=>{this.me=ue,this.onGettingUserData.next(ue)})}}))}isHasAccess(...K){var ue;return!!this.me&&(this.me.access?E.j.isHasFlag(this.me.access,...K):!(null===(ue=this.me.position)||void 0===ue||!ue.access)&&E.j.isHasFlag(this.me.position.access,...K))}}return k.\u0275fac=function(K){return new(K||k)(D.LFG(U.s),D.LFG(B.U),D.LFG(ce.F0))},k.\u0275prov=D.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},8007:(hn,ft,b)=>{"use strict";b.d(ft,{U:()=>L});var e=b(8746),d=b(3099),u=b(4004),f=b(383),_=b(9814),P=b(5111),x=b(5e3),r=b(6073),R=b(6768);let L=(()=>{class Q{constructor(T,y){this.stomp=T,this.blockUiService=y,this.watchCacheMap={},this.connectionState$=this.stomp.connectionState$;const E={message:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c",styleClass:"text-red-400",icon:"mds-error",pos:"bottom"};this.connectionState$.subscribe({next:D=>{D===P.U.OPEN?this.blockUiService.unblock():this.blockUiService.block(E)},error:()=>this.blockUiService.block(E)})}commentCreated(T){return this.watch("task",T.toString(),"comment","create")}commentUpdated(T){return this.watch("task",T.toString(),"comment","update")}commentDeleted(T){return this.watch("task",T.toString(),"comment","delete")}taskEventCreated(T){return this.watch("task",T.toString(),"event","create")}employeeCreated(){return this.watch("employee","create")}employeeUpdated(T){return T?this.watch("employee",T,"update"):this.watch("employee","update")}employeeDeleted(){return this.watch("employee","delete")}departmentCreated(){return this.watch("department","create")}departmentUpdated(T){return T?this.watch("department",T.toString(),"update"):this.watch("department","update")}departmentDeleted(){return this.watch("department","delete")}positionCreated(){return this.watch("position","create")}positionUpdated(T){return T?this.watch("position",T.toString(),"update"):this.watch("position","update")}positionDeleted(){return this.watch("position","delete")}taskTagCreated(){return this.watch("task-tag","create")}taskTagUpdated(){return this.watch("task-tag","update")}taskTagDeleted(){return this.watch("task-tag","delete")}taskUpdated(T){return T?this.watch("task",T.toString(),"update"):this.watch("task","update")}taskDeleted(T){return T?this.watch("task",T.toString(),"delete"):this.watch("task","delete")}taskCreated(){return this.watch("task","create")}taskMoved(){return this.watch("task","moved")}incomingTaskCreated(T){return this.watchUnicast(T,"task","create")}incomingTaskDeleted(T){return this.watchUnicast(T,"task","delete")}notificationCreated(T){return this.watchUnicast(T,"notification","create")}notificationUpdated(T){return this.watchUnicast(T,"notification","update")}chatMessageCreated(T){return this.watchUnicast(T,"chat","message","create")}chatMessageCreatedByChat(T){return this.watch("chat",T.toString(),"message","create")}chatMessageUpdated(T){return this.watch("chat",T.toString(),"message","update")}chatMessageDeleted(T){return this.watch("chat",T.toString(),"message","delete")}updateTrackerParserState(){return this.watch("parser","tracker","update")}parserMessageReceived(){return this.watch("parser","message")}updateCountUnreadMessages(T){return this.watchUnicast(T,"chat","message","unread")}chatCreated(T){return this.watchUnicast(T,"chat","create")}chatUpdated(){return this.watch("chat","update")}chatClosed(){return this.watch("chat","close")}workLogCreated(){return this.watch("worklog","create")}workLogUpdated(T){return T?this.watch("work-log",T.toString(),"update"):this.watch("worklog","update")}workLogClosed(){return this.watch("worklog","close")}workLogDeleted(T){return T?this.watch("work-log",T.toString(),"delete"):this.watch("worklog","delete")}wireframeCreated(){return this.watch("wireframe","create")}wireframeUpdated(T){return T?this.watch("wireframe",T.toString(),"update"):this.watch("wireframe","update")}wireframeDeleted(T){return T?this.watch("wireframe",T.toString(),"delete"):this.watch("wireframe","delete")}paidActionCreated(){return this.watch("paid-action","create")}paidActionUpdated(T){return T?this.watch("paid-action",T.toString(),"update"):this.watch("paid-action","update")}paidActionDeleted(T){return T?this.watch("paid-action",T.toString(),"delete"):this.watch("paid-action","delete")}paidWorksTreeMoved(){return this.watch("paid-works","tree","move")}paidWorksTreeUpdated(){return this.watch("paid-works","tree","update")}paidWorksTreeCreated(){return this.watch("paid-works","tree","create")}paidWorksTreeDeleted(){return this.watch("paid-works","tree","delete")}worksTreeReposition(){return this.watch("paid-works","tree","reposition")}paidWorkUpdated(T){return T?this.watch("paid-work",T.toString(),"update"):this.watch("paid-work","update")}cityCreated(){return this.watch("city","create")}cityUpdated(T){return T?this.watch("city",T.toString(),"update"):this.watch("city","update")}cityDeleted(T){return T?this.watch("city",T.toString(),"delete"):this.watch("city","delete")}streetCreated(){return this.watch("street","create")}streetUpdated(T){return T?this.watch("street",T.toString(),"update"):this.watch("street","update")}streetDeleted(T){return T?this.watch("street",T.toString(),"delete"):this.watch("street","delete")}houseCreated(){return this.watch("house","create")}houseUpdated(T){return T?this.watch("house",T.toString(),"update"):this.watch("house","update")}houseDeleted(T){return T?this.watch("house",T.toString(),"delete"):this.watch("house","delete")}billingUserUpdated(T){return T?this.watch("billing","user",T,"update"):this.watch("billing","user","update")}pingMonitoring(T){return this.watch("monitoring","ping",T)}billingConfigChanged(){return this.watch("billing-config","change")}telegramConfigChanged(){return this.watch("telegram-config","change")}acpConfigChanged(){return this.watch("acp-config","change")}salaryTableUpdated(){return this.watch("salary-table","update")}clientEquipmentsCreated(){return this.watch("client-equipment","create")}clientEquipmentsUpdated(){return this.watch("client-equipment","update")}clientEquipmentsDeleted(){return this.watch("client-equipment","delete")}acpDhcpBindingUpdated(){return this.watch("acp","dhcp-binding","update")}acpDhcpBindingHousePageUpdateSignal(){return this.watch("acp","dhcp-binding","house-page","update")}acpCommutatorStatusUpdated(){return this.watch("acp","commutator","status","update")}acpCommutatorCreated(){return this.watch("acp","commutator","create")}acpCommutatorUpdated(){return this.watch("acp","commutator","update")}acpCommutatorDeleted(){return this.watch("acp","commutator","delete")}acpCommutatorsRemoteUpdatePool(){return this.watch("acp","commutator","remote-update-pool")}acpBaseCommutatorCreated(){return this.watch("acp","commutator","base","create")}acpBaseCommutatorUpdated(){return this.watch("acp","commutator","base","update")}acpBaseCommutatorDeleted(){return this.watch("acp","commutator","base","delete")}watchUnicast(...T){return this.getObservable("user",...T)}watch(...T){return this.getObservable("api",...T)}getObservable(T,...y){const E=`/${T}/${y.join("/")}`,D=this.generateHash(E);let U=null;return this.watchCacheMap[D]?U=this.watchCacheMap[D]:(U=this.stomp.watch(E).pipe((0,e.x)(this.deleteFromCache.bind(this,E)),(0,d.B)(),(0,u.U)(B=>JSON.parse(B.body))),this.watchCacheMap[D]=U),U}generateHash(T){return(0,f.d4)(T,0)}deleteFromCache(T){delete this.watchCacheMap[T]}incomingTaskCountChange(T){return this.watchUnicast(T,"task","count","change")}taskCountChange(){return this.watch("task","count","change")}updateTaskCount(T,y,E,D,U,B,ce,$,V,k){var O,K,ue;const q=_.d.convertToPath([T.toLowerCase(),null!=y?y:null,null!=E?E:null,null!=D?D:null,null!=U?U:null,null!=B?B:null,null!==(O=null==ce?void 0:ce.timeFrame)&&void 0!==O?O:null,null!==(K=null==$?void 0:$.timeFrame)&&void 0!==K?K:null,null!==(ue=null==V?void 0:V.timeFrame)&&void 0!==ue?ue:null,null!=k?k:null]);return this.watch("task","counter",...q)}incomingTagTaskCountChange(T){return this.watchUnicast(T,"task","tag","count","change")}tagTaskCountChange(){return this.watch("task","tag","count","change")}updateFilesDirectory(){return this.watch("files","directory","update")}afterWorksAppend(T){return this.watchUnicast(T,"after-work","append")}afterWorksRemoved(T){return this.watchUnicast(T,"after-work","remove")}createTypeOfContract(){return this.watch("contract","type","create")}updateTypeOfContract(){return this.watch("contract","type","update")}deleteTypeOfContract(){return this.watch("contract","type","delete")}updatingMarkedContracts(){return this.watch("contract","marked","update")}remoteTelnetConnection(T,y){return this.watch("remote","telnet",T,y)}telnetConnectionMessage(T){return this.watchUnicast(T,"remote","telnet","connection-message")}}return Q.\u0275fac=function(T){return new(T||Q)(x.LFG(r.f),x.LFG(R.A))},Q.\u0275prov=x.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},6073:(hn,ft,b)=>{"use strict";b.d(ft,{f:()=>ue});var e=b(5861),d=b(1135),u=b(9300),f=b(7579),_=b(9751),P=b(5698),x=b(3099),r=b(3905);const R_LF="\n",R_NULL="\0";class L{constructor(G){const{command:ne,headers:Ce,body:oe,binaryBody:z,escapeHeaderValues:te,skipContentLengthHeader:W}=G;this.command=ne,this.headers=Object.assign({},Ce||{}),z?(this._binaryBody=z,this.isBinaryBody=!0):(this._body=oe||"",this.isBinaryBody=!1),this.escapeHeaderValues=te||!1,this.skipContentLengthHeader=W||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(G,ne){const Ce={},oe=z=>z.replace(/^\s+|\s+$/g,"");for(const z of G.headers.reverse()){z.indexOf(":");const W=oe(z[0]);let Y=oe(z[1]);ne&&"CONNECT"!==G.command&&"CONNECTED"!==G.command&&(Y=L.hdrValueUnEscape(Y)),Ce[W]=Y}return new L({command:G.command,headers:Ce,binaryBody:G.binaryBody,escapeHeaderValues:ne})}toString(){return this.serializeCmdAndHeaders()}serialize(){const G=this.serializeCmdAndHeaders();return this.isBinaryBody?L.toUnit8Array(G,this._binaryBody).buffer:G+this._body+R_NULL}serializeCmdAndHeaders(){const G=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const ne of Object.keys(this.headers||{})){const Ce=this.headers[ne];G.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${ne}:${L.hdrValueEscape(`${Ce}`)}`:`${ne}:${Ce}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&G.push(`content-length:${this.bodyLength()}`),G.join(R_LF)+R_LF+R_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const G=this.binaryBody;return G?G.length:0}static sizeOfUTF8(G){return G?(new TextEncoder).encode(G).length:0}static toUnit8Array(G,ne){const Ce=(new TextEncoder).encode(G),oe=new Uint8Array([0]),z=new Uint8Array(Ce.length+ne.length+oe.length);return z.set(Ce),z.set(ne,Ce.length),z.set(oe,Ce.length+ne.length),z}static marshall(G){return new L(G).serialize()}static hdrValueEscape(G){return G.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(G){return G.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class E{constructor(G,ne){this.onFrame=G,this.onIncomingPing=ne,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(G,ne=!1){let Ce;if(Ce="string"==typeof G?this._encoder.encode(G):new Uint8Array(G),ne&&0!==Ce[Ce.length-1]){const oe=new Uint8Array(Ce.length+1);oe.set(Ce,0),oe[Ce.length]=0,Ce=oe}for(let oe=0;oe<Ce.length;oe++)this._onByte(Ce[oe])}_collectFrame(G){if(0!==G&&13!==G){if(10===G)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(G)}}_collectCommand(G){if(13!==G){if(10===G)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(G)}}_collectHeaders(G){if(13!==G){if(10===G)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(G)}}_reinjectByte(G){this._onByte(G)}_collectHeaderKey(G){if(58===G)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(G)}_collectHeaderValue(G){if(13!==G){if(10===G)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(G)}}_setupCollectBody(){const G=this._results.headers.filter(ne=>"content-length"===ne[0])[0];G?(this._bodyBytesRemaining=parseInt(G[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(G){0!==G?this._consumeByte(G):this._retrievedBody()}_collectBodyFixedSize(G){0!=this._bodyBytesRemaining--?this._consumeByte(G):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(G){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",G)}this._initState()}_consumeByte(G){this._token.push(G)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const G=new Uint8Array(this._token);return this._token=[],G}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var D,q,U;(q=D=D||(D={}))[q.CONNECTING=0]="CONNECTING",q[q.OPEN=1]="OPEN",q[q.CLOSING=2]="CLOSING",q[q.CLOSED=3]="CLOSED",function(q){q[q.ACTIVE=0]="ACTIVE",q[q.DEACTIVATING=1]="DEACTIVATING",q[q.INACTIVE=2]="INACTIVE"}(U=U||(U={}));class B{constructor(G){this.versions=G}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(G=>`v${G.replace(".","")}.stomp`)}}B.V1_0="1.0",B.V1_1="1.1",B.V1_2="1.2",B.default=new B([B.V1_2,B.V1_1,B.V1_0]);class ${constructor(G,ne,Ce){this._client=G,this._webSocket=ne,this._connected=!1,this._serverFrameHandlers={CONNECTED:oe=>{this.debug(`connected to server ${oe.headers.server}`),this._connected=!0,this._connectedVersion=oe.headers.version,this._connectedVersion===B.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(oe.headers),this.onConnect(oe)},MESSAGE:oe=>{const z=oe.headers.subscription,te=this._subscriptions[z]||this.onUnhandledMessage,W=oe,Y=this,Ae=this._connectedVersion===B.V1_2?W.headers.ack:W.headers["message-id"];W.ack=(Ee={})=>Y.ack(Ae,z,Ee),W.nack=(Ee={})=>Y.nack(Ae,z,Ee),te(W)},RECEIPT:oe=>{const z=this._receiptWatchers[oe.headers["receipt-id"]];z?(z(oe),delete this._receiptWatchers[oe.headers["receipt-id"]]):this.onUnhandledReceipt(oe)},ERROR:oe=>{this.onStompError(oe)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=Ce.debug,this.stompVersions=Ce.stompVersions,this.connectHeaders=Ce.connectHeaders,this.disconnectHeaders=Ce.disconnectHeaders,this.heartbeatIncoming=Ce.heartbeatIncoming,this.heartbeatOutgoing=Ce.heartbeatOutgoing,this.splitLargeFrames=Ce.splitLargeFrames,this.maxWebSocketChunkSize=Ce.maxWebSocketChunkSize,this.forceBinaryWSFrames=Ce.forceBinaryWSFrames,this.logRawCommunication=Ce.logRawCommunication,this.appendMissingNULLonIncoming=Ce.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=Ce.discardWebsocketOnCommFailure,this.onConnect=Ce.onConnect,this.onDisconnect=Ce.onDisconnect,this.onStompError=Ce.onStompError,this.onWebSocketClose=Ce.onWebSocketClose,this.onWebSocketError=Ce.onWebSocketError,this.onUnhandledMessage=Ce.onUnhandledMessage,this.onUnhandledReceipt=Ce.onUnhandledReceipt,this.onUnhandledFrame=Ce.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const G=new E(ne=>{const Ce=L.fromRawFrame(ne,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${Ce}`),(this._serverFrameHandlers[Ce.command]||this.onUnhandledFrame)(Ce)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=ne=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const Ce=ne.data instanceof ArrayBuffer?(new TextDecoder).decode(ne.data):ne.data;this.debug(`<<< ${Ce}`)}G.parseChunk(ne.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=ne=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(ne)},this._webSocket.onerror=ne=>{this.onWebSocketError(ne)},this._webSocket.onopen=()=>{const ne=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),ne["accept-version"]=this.stompVersions.supportedVersions(),ne["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:ne})}}_setupHeartbeat(G){if(G.version!==B.V1_1&&G.version!==B.V1_2||!G["heart-beat"])return;const[ne,Ce]=G["heart-beat"].split(",").map(oe=>parseInt(oe,10));if(0!==this.heartbeatOutgoing&&0!==Ce){const oe=Math.max(this.heartbeatOutgoing,Ce);this.debug(`send PING every ${oe}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===D.OPEN&&(this._webSocket.send(R_LF),this.debug(">>> PING"))},oe)}if(0!==this.heartbeatIncoming&&0!==ne){const oe=Math.max(this.heartbeatIncoming,ne);this.debug(`check PONG every ${oe}ms`),this._ponger=setInterval(()=>{const z=Date.now()-this._lastServerActivityTS;z>2*oe&&(this.debug(`did not receive server activity for the last ${z}ms`),this._closeOrDiscardWebsocket())},oe)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===D.CONNECTING||this._webSocket.readyState===D.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function ce(q,G){q.terminate=function(){const ne=()=>{};this.onerror=ne,this.onmessage=ne,this.onopen=ne;const Ce=new Date,oe=Math.random().toString().substring(2,8),z=this.onclose;this.onclose=te=>{const W=(new Date).getTime()-Ce.getTime();G(`Discarded socket (#${oe})  closed after ${W}ms, with code/reason: ${te.code}/${te.reason}`)},this.close(),null==z||z.call(q,{code:4001,reason:`Quick discarding socket (#${oe}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,G=>this.debug(G)),this._webSocket.terminate()}_transmit(G){const{command:ne,headers:Ce,body:oe,binaryBody:z,skipContentLengthHeader:te}=G,W=new L({command:ne,headers:Ce,body:oe,binaryBody:z,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:te});let Y=W.serialize();if(this.debug(this.logRawCommunication?`>>> ${Y}`:`>>> ${W}`),this.forceBinaryWSFrames&&"string"==typeof Y&&(Y=(new TextEncoder).encode(Y)),"string"==typeof Y&&this.splitLargeFrames){let Ae=Y;for(;Ae.length>0;){const Ee=Ae.substring(0,this.maxWebSocketChunkSize);Ae=Ae.substring(this.maxWebSocketChunkSize),this._webSocket.send(Ee),this.debug(`chunk sent = ${Ee.length}, remaining = ${Ae.length}`)}}else this._webSocket.send(Y)}dispose(){if(this.connected)try{const G=Object.assign({},this.disconnectHeaders);G.receipt||(G.receipt="close-"+this._counter++),this.watchForReceipt(G.receipt,ne=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(ne)}),this._transmit({command:"DISCONNECT",headers:G})}catch(G){this.debug(`Ignoring error during disconnect ${G}`)}else(this._webSocket.readyState===D.CONNECTING||this._webSocket.readyState===D.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(G){const{destination:ne,headers:Ce,body:oe,binaryBody:z,skipContentLengthHeader:te}=G,W=Object.assign({destination:ne},Ce);this._transmit({command:"SEND",headers:W,body:oe,binaryBody:z,skipContentLengthHeader:te})}watchForReceipt(G,ne){this._receiptWatchers[G]=ne}subscribe(G,ne,Ce={}){(Ce=Object.assign({},Ce)).id||(Ce.id="sub-"+this._counter++),Ce.destination=G,this._subscriptions[Ce.id]=ne,this._transmit({command:"SUBSCRIBE",headers:Ce});const oe=this;return{id:Ce.id,unsubscribe:z=>oe.unsubscribe(Ce.id,z)}}unsubscribe(G,ne={}){ne=Object.assign({},ne),delete this._subscriptions[G],ne.id=G,this._transmit({command:"UNSUBSCRIBE",headers:ne})}begin(G){const ne=G||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:ne}});const Ce=this;return{id:ne,commit(){Ce.commit(ne)},abort(){Ce.abort(ne)}}}commit(G){this._transmit({command:"COMMIT",headers:{transaction:G}})}abort(G){this._transmit({command:"ABORT",headers:{transaction:G}})}ack(G,ne,Ce={}){Ce=Object.assign({},Ce),this._connectedVersion===B.V1_2?Ce.id=G:Ce["message-id"]=G,Ce.subscription=ne,this._transmit({command:"ACK",headers:Ce})}nack(G,ne,Ce={}){return Ce=Object.assign({},Ce),this._connectedVersion===B.V1_2?Ce.id=G:Ce["message-id"]=G,Ce.subscription=ne,this._transmit({command:"NACK",headers:Ce})}}class V{constructor(G={}){this.stompVersions=B.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=U.INACTIVE;const ne=()=>{};this.debug=ne,this.beforeConnect=ne,this.onConnect=ne,this.onDisconnect=ne,this.onUnhandledMessage=ne,this.onUnhandledReceipt=ne,this.onUnhandledFrame=ne,this.onStompError=ne,this.onWebSocketClose=ne,this.onWebSocketError=ne,this.logRawCommunication=!1,this.onChangeState=ne,this.connectHeaders={},this._disconnectHeaders={},this.configure(G)}get webSocket(){var G;return null==(G=this._stompHandler)?void 0:G._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(G){this._disconnectHeaders=G,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===U.ACTIVE}_changeState(G){this.state=G,this.onChangeState(G)}configure(G){Object.assign(this,G)}activate(){const G=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(U.ACTIVE),this._connect())};this.state===U.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{G()})):G()}_connect(){var G=this;return(0,e.Z)(function*(){if(yield G.beforeConnect(),G._stompHandler)return void G.debug("There is already a stompHandler, skipping the call to connect");if(!G.active)return void G.debug("Client has been marked inactive, will not attempt to connect");G.connectionTimeout>0&&(G._connectionWatcher&&clearTimeout(G._connectionWatcher),G._connectionWatcher=setTimeout(()=>{G.connected||(G.debug(`Connection not established in ${G.connectionTimeout}ms, closing socket`),G.forceDisconnect())},G.connectionTimeout)),G.debug("Opening Web Socket...");const ne=G._createWebSocket();G._stompHandler=new $(G,ne,{debug:G.debug,stompVersions:G.stompVersions,connectHeaders:G.connectHeaders,disconnectHeaders:G._disconnectHeaders,heartbeatIncoming:G.heartbeatIncoming,heartbeatOutgoing:G.heartbeatOutgoing,splitLargeFrames:G.splitLargeFrames,maxWebSocketChunkSize:G.maxWebSocketChunkSize,forceBinaryWSFrames:G.forceBinaryWSFrames,logRawCommunication:G.logRawCommunication,appendMissingNULLonIncoming:G.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:G.discardWebsocketOnCommFailure,onConnect:Ce=>{if(G._connectionWatcher&&(clearTimeout(G._connectionWatcher),G._connectionWatcher=void 0),!G.active)return G.debug("STOMP got connected while deactivate was issued, will disconnect now"),void G._disposeStompHandler();G.onConnect(Ce)},onDisconnect:Ce=>{G.onDisconnect(Ce)},onStompError:Ce=>{G.onStompError(Ce)},onWebSocketClose:Ce=>{G._stompHandler=void 0,G.state===U.DEACTIVATING&&G._changeState(U.INACTIVE),G.onWebSocketClose(Ce),G.active&&G._schedule_reconnect()},onWebSocketError:Ce=>{G.onWebSocketError(Ce)},onUnhandledMessage:Ce=>{G.onUnhandledMessage(Ce)},onUnhandledReceipt:Ce=>{G.onUnhandledReceipt(Ce)},onUnhandledFrame:Ce=>{G.onUnhandledFrame(Ce)}}),G._stompHandler.start()})()}_createWebSocket(){let G;if(this.webSocketFactory)G=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");G=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return G.binaryType="arraybuffer",G}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(G={}){var ne=this;return(0,e.Z)(function*(){var te;const Ce=G.force||!1,oe=ne.active;let z;if(ne.state===U.INACTIVE)return ne.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(ne._changeState(U.DEACTIVATING),ne._reconnector&&(clearTimeout(ne._reconnector),ne._reconnector=void 0),!ne._stompHandler||ne.webSocket.readyState===D.CLOSED)return ne._changeState(U.INACTIVE),Promise.resolve();{const W=ne._stompHandler.onWebSocketClose;z=new Promise((Y,Ae)=>{ne._stompHandler.onWebSocketClose=Ee=>{W(Ee),Y()}})}return Ce?null==(te=ne._stompHandler)||te.discardWebsocket():oe&&ne._disposeStompHandler(),z})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(G){this._checkConnection(),this._stompHandler.publish(G)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(G,ne){this._checkConnection(),this._stompHandler.watchForReceipt(G,ne)}subscribe(G,ne,Ce={}){return this._checkConnection(),this._stompHandler.subscribe(G,ne,Ce)}unsubscribe(G,ne={}){this._checkConnection(),this._stompHandler.unsubscribe(G,ne)}begin(G){return this._checkConnection(),this._stompHandler.begin(G)}commit(G){this._checkConnection(),this._stompHandler.commit(G)}abort(G){this._checkConnection(),this._stompHandler.abort(G)}ack(G,ne,Ce={}){this._checkConnection(),this._stompHandler.ack(G,ne,Ce)}nack(G,ne,Ce={}){this._checkConnection(),this._stompHandler.nack(G,ne,Ce)}}var k=b(5111),K=b(5e3);let ue=(()=>{class q extends class O{get stompClient(){return this._stompClient}constructor(G){this._queuedMessages=[];const ne=G||new V;this._stompClient=ne;const Ce=()=>{};this._beforeConnect=Ce,this._correlateErrors=()=>{},this._debug=Ce,this._connectionStatePre$=new d.X(k.U.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe((0,u.h)(oe=>oe===k.U.OPEN)),this.connectionState$=new d.X(k.U.CLOSED),this.connected$=this.connectionState$.pipe((0,u.h)(oe=>oe===k.U.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new d.X(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe((0,u.h)(oe=>null!==oe)),this.stompErrors$=new f.x,this.unhandledMessage$=new f.x,this.unhandledReceipts$=new f.x,this.unhandledFrame$=new f.x,this.webSocketErrors$=new f.x}configure(G){const ne=Object.assign({},G);ne.beforeConnect&&(this._beforeConnect=ne.beforeConnect,delete ne.beforeConnect),ne.correlateErrors&&(this._correlateErrors=ne.correlateErrors,delete ne.correlateErrors),this._stompClient.configure(ne),ne.debug&&(this._debug=ne.debug)}activate(){var ne,G=this;this._stompClient.configure({beforeConnect:(ne=(0,e.Z)(function*(){G._changeState(k.U.CONNECTING),yield G._beforeConnect(G)}),function(){return ne.apply(this,arguments)}),onConnect:ne=>{this._serverHeadersBehaviourSubject$.next(ne.headers),this._changeState(k.U.OPEN)},onStompError:ne=>{this.stompErrors$.next(ne)},onWebSocketClose:()=>{this._changeState(k.U.CLOSED)},onUnhandledMessage:ne=>{this.unhandledMessage$.next(ne)},onUnhandledReceipt:ne=>{this.unhandledReceipts$.next(ne)},onUnhandledFrame:ne=>{this.unhandledFrame$.next(ne)},onWebSocketError:ne=>{this.webSocketErrors$.next(ne)}}),this._stompClient.activate()}deactivate(G={}){var ne=this;return(0,e.Z)(function*(){ne._changeState(k.U.CLOSING),yield ne._stompClient.deactivate(G),ne._changeState(k.U.CLOSED)})()}connected(){return this.connectionState$.getValue()===k.U.OPEN}get active(){return this.stompClient.active}publish(G){const ne=null==G.retryIfDisconnected||G.retryIfDisconnected;if(this.connected())this._stompClient.publish(G);else{if(!ne)throw new Error("Cannot publish while broker is not connected");this._debug("Not connected, queueing"),this._queuedMessages.push(G)}}_sendQueuedMessages(){const G=this._queuedMessages;if(this._queuedMessages=[],0!==G.length){this._debug(`Will try sending  ${G.length} queued message(s)`);for(const ne of G)this._debug(`Attempting to send ${ne}`),this.publish(ne)}}watch(G,ne={}){let oe;return oe=Object.assign({},{subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},"string"==typeof G?{destination:G,subHeaders:ne}:G),this._debug(`Request to subscribe ${oe.destination}`),_.y.create(te=>{let W,Y,Ae=this._connectedPre$;oe.subscribeOnlyOnce&&(Ae=Ae.pipe((0,P.q)(1)));const Ee=this.stompErrors$.subscribe(qe=>{this._correlateErrors(qe)===oe.destination&&te.error(qe)});return Y=Ae.subscribe(()=>{this._debug(`Will subscribe to ${oe.destination}`);let qe=oe.subHeaders;"function"==typeof qe&&(qe=qe()),W=this._stompClient.subscribe(oe.destination,ye=>{te.next(ye)},qe)}),()=>{if(this._debug(`Stop watching connection state (for ${oe.destination})`),Y.unsubscribe(),Ee.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${oe.destination} at Stomp`);let qe=oe.unsubHeaders;"function"==typeof qe&&(qe=qe()),W.unsubscribe(qe)}else this._debug(`Stomp not connected, no need to unsubscribe from ${oe.destination} at Stomp`)}}).pipe((0,x.B)())}watchForReceipt(G,ne){this._stompClient.watchForReceipt(G,ne)}asyncReceipt(G){return(0,r.z)(this.unhandledReceipts$.pipe((0,u.h)(ne=>ne.headers["receipt-id"]===G)))}_changeState(G){this._connectionStatePre$.next(G),this.connectionState$.next(G)}}{constructor(){super()}}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275prov=K.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},2248:(hn,ft,b)=>{"use strict";b.d(ft,{e:()=>R});var e=b(7579),d=b(4004),u=b(3900),f=b(4968),_=b(9646),P=b(4326),x=b(8505),r=b(5e3);let R=(()=>{class L{constructor(){this.creationMode="standard",this._dimensions={width:1e3,height:800},this._openSubject=new e.x,this.openObserver.pipe((0,d.U)(()=>window.open("/task/create","_blank",this.features)),(0,u.w)(N=>N?(0,f.R)(N,"load"):(0,_.of)(null)),(0,P.g)(200),(0,x.b)(N=>{N&&N.currentTarget.postMessage(this.transferObject,"*")})).subscribe()}get dependencyIdentifier(){return this._dependencyIdentifier}get wireframeId(){return this._wireframeId}get billingInfo(){return this._billingInfo}get features(){return`popup=yes,width=${this._dimensions.width},height=${this._dimensions.height},left=${screen.width/2-this._dimensions.width/2},top=${screen.height/2-this._dimensions.height/2}`}get mode(){return this.creationMode}get openObserver(){return this._openSubject.asObservable()}get transferObject(){return{mode:this.mode,dependencyIdentifier:this._dependencyIdentifier,wireframeId:this._wireframeId,billingInfo:this._billingInfo}}standard(){this.creationMode="standard",this._dependencyIdentifier=void 0,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}dependency(N,T){this.creationMode="parent"===N?"parent":"child",this._dependencyIdentifier=T,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}wireframe(N,T){this.creationMode="billing",this._dependencyIdentifier=void 0,this._wireframeId=N,this._billingInfo=T,this.open()}open(){this._openSubject.next(void 0)}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275prov=r.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},9814:(hn,ft,b)=>{"use strict";b.d(ft,{d:()=>G});var e=b(2382),d=b(8372),u=b(8675),f=b(1135),_=b(9841),P=b(1884),x=b(8505),r=b(4782),R=b(7579),L=b(9300),Q=b(4482),N=b(5032),T=b(5403),E=b(6451),D=b(3900),U=b(5577),B=b(4004),ce=b(9646),$=b(4968),V=b(4464),k=b(590),O=b(7384),K=b(5e3),ue=b(8738),q=b(8007);let G=(()=>{class ne{constructor(oe,z){this.api=oe,this.rt=z,this.searchPhraseControl=new e.NI(""),this.searchPhrase$=this.searchPhraseControl.valueChanges.pipe((0,d.b)(1200),(0,u.O)("")),this.statusSubject=new f.X("active"),this.classSubject=new f.X(null),this.typeSubject=new f.X(null),this.pageTypeSubject=new f.X(null),this.schedulingSubject=new f.X(null),this.directorySubject=new f.X(null),this.tagSubject=new f.X(null),this.closeTimeSubject=new f.X(null),this.actualTimeSubject=new f.X(null),this.termTimeSubject=new f.X(null),this.status$=this.statusSubject.asObservable(),this.class$=this.classSubject.asObservable(),this.type$=this.typeSubject.asObservable(),this.pageType$=this.pageTypeSubject.asObservable(),this.scheduling$=this.schedulingSubject.asObservable(),this.directory$=this.directorySubject.asObservable(),this.tag$=this.tagSubject.asObservable(),this.closeTime$=this.closeTimeSubject.asObservable(),this.actualTime$=this.actualTimeSubject.asObservable(),this.termTime$=this.termTimeSubject.asObservable(),this.pageControl=new e.NI(0),this.taskLoadingState=O.Gu.READY,this.lastRoute$=(0,_.a)([this.status$,this.class$,this.type$,this.pageType$,this.directory$,this.tag$,this.closeTime$,this.actualTime$,this.termTime$,this.scheduling$]).pipe((0,d.b)(1),(0,P.x)((te,W)=>JSON.stringify(te)===JSON.stringify(W)),(0,x.b)(()=>{this.pageControl.setValue(0),this.taskLoadingState=O.Gu.LOADING}),(0,r.d)(1)),this.page$=this.pageControl.valueChanges.pipe((0,u.O)(0),(0,P.x)(),(0,x.b)(()=>{window.scrollTo({top:0}),this.taskLoadingState=O.Gu.LOADING})),this.isTaskEdit=!1,this.taskEditStopSubject=new R.x,this.directTasksMoved$=this.rt.taskMoved().pipe((0,L.h)(()=>!this.isTaskEdit)),this.delayedTasksMoved$=this.rt.taskMoved().pipe(function y(ne){return(0,Q.e)((Ce,oe)=>{let z=!1,te=null;Ce.subscribe(new T.Q(oe,Y=>{z=!0,te=Y})),ne.subscribe(new T.Q(oe,()=>{if(z){z=!1;const Y=te;te=null,oe.next(Y)}},N.Z))})}(this.taskEditStopSubject)),this.tasksMoved$=(0,E.T)(this.directTasksMoved$,this.delayedTasksMoved$).pipe((0,u.O)(null)),this.taskCountersMap=new Map,this.taskUpdatersMap=new Map,this.tagsMap=new Map,this.updateWireframes$=(0,E.T)(this.rt.wireframeCreated(),this.rt.wireframeUpdated(),this.rt.wireframeDeleted()).pipe((0,u.O)(null)),this.wireframes$=this.updateWireframes$.pipe((0,D.w)(()=>this.api.getWireframes()),(0,r.d)(1)),this.tasks$=(0,_.a)([this.page$,this.tasksMoved$,this.lastRoute$]).pipe((0,D.w)(([te,W,[Y,Ae,Ee,qe,ye,Ge,X,be,we,Ie]])=>this.api.getPageOfTasks(null!=te?te:0,{status:[Y.toUpperCase()],template:Ae?[Ae]:null,stage:Ee,directory:ye,tags:Ge?[Ge]:null,dateOfClose:X?{timeFrame:X}:null,actualFrom:be?{timeFrame:be}:null,actualTo:we?{timeFrame:we}:null,schedulingType:Ie||O.dH.EXCEPT_PLANNED})),(0,x.b)({next:te=>this.taskLoadingState=0===te.totalElements?O.Gu.EMPTY:O.Gu.READY,error:()=>this.taskLoadingState=O.Gu.ERROR}),(0,r.d)(1)),this.blockVisible=!1,this.beforeTemporaryMap=[{id:O.nv.TODAY,name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},{id:O.nv.YESTERDAY,name:"\u0412\u0447\u0435\u0440\u0430"},{id:O.nv.THIS_WEEK,name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.LAST_WEEK,name:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.THIS_MONTH,name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"},{id:O.nv.LAST_MONTH,name:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"}],this.afterTemporaryMap=[{id:O.nv.TODAY,name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},{id:O.nv.TOMORROW,name:"\u0417\u0430\u0432\u0442\u0440\u0430"},{id:O.nv.THIS_WEEK,name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.NEXT_WEEK,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f"},{id:O.nv.THIS_MONTH,name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"},{id:O.nv.NEXT_MONTH,name:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}],this.breadCrumbsModel$=(0,_.a)([this.wireframes$,this.lastRoute$]).pipe((0,U.z)(([te,W])=>{const[Y,Ae,Ee,qe,ye,Ge,X,be,we,Ie]=W;return Ge?this.api.getTaskTag(Ge).pipe((0,B.U)(ct=>({wireframes:te,route:W,tagInfo:ct}))):(0,ce.of)({wireframes:te,route:W,tagInfo:null})}),(0,B.U)(({wireframes:te,route:W,tagInfo:Y})=>{var Ae,Ee,qe,ye,Ge;const X=[],[be,we,Ie,ct,dt,et,vt,ht,Rt,Nt]=W;if(Nt===O.dH.PLANNED)X.push({label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435",routerLink:ne.convertToPath([be,null,null,null,null,null,null,null,null,O.dH.PLANNED],!0)});else if(Nt===O.dH.DEADLINE)X.push({label:"\u0421\u0440\u043e\u043a\u0438",routerLink:ne.convertToPath([be,null,null,null,null,null,null,null,null,O.dH.DEADLINE],!0)});else if(be){let At="";switch(be){case"active":At="\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435";break;case"processing":At="\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";break;case"close":At="\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435"}X.push({label:At,routerLink:ne.convertToPath([be,null,null,null,null,null,null,null,null,Nt],!0)})}if(we){const At=te.find(st=>st.wireframeId===we);if(X.push({label:null==At?void 0:At.name,routerLink:ne.convertToPath([be,we,null,null,null,null,null,null,null,Nt],!0)}),Ie&&At){const st=null===(Ae=At.stages)||void 0===Ae?void 0:Ae.find(ot=>ot.stageId===Ie);if(X.push({label:null==st?void 0:st.label,routerLink:ne.convertToPath([be,we,Ie,null,null,null,null,null,null,Nt],!0)}),dt&&st){const ot=null===(Ee=st.directories)||void 0===Ee?void 0:Ee.find(ge=>ge.taskTypeDirectoryId===dt);X.push({label:null==ot?void 0:ot.name,routerLink:ne.convertToPath([be,we,Ie,ct,dt,null,null,null,null,Nt],!0)}),Y&&X.push({label:"#"+Y.name,routerLink:ne.convertToPath([be,we,Ie,ct,dt,et,null,null,null,Nt],!0)})}vt&&(X.push({label:null===(qe=this.beforeTemporaryMap.find(ot=>ot.id===vt))||void 0===qe?void 0:qe.name,routerLink:ne.convertToPath([be,we,Ie,ct,null,null,vt,null,null,Nt],!0)}),Y&&X.push({label:"#"+Y.name,routerLink:ne.convertToPath([be,we,Ie,ct,null,et,vt,null,null,Nt],!0)})),ht&&(X.push({label:null===(ye=this.afterTemporaryMap.find(ot=>ot.id===ht))||void 0===ye?void 0:ye.name,routerLink:ne.convertToPath([be,we,Ie,ct,null,null,null,ht,null,Nt],!0)}),Y&&X.push({label:"#"+Y.name,routerLink:ne.convertToPath([be,we,Ie,ct,null,et,null,ht,null,Nt],!0)})),Rt&&(X.push({label:null===(Ge=this.afterTemporaryMap.find(ot=>ot.id===Rt))||void 0===Ge?void 0:Ge.name,routerLink:ne.convertToPath([be,we,Ie,ct,null,null,null,null,Rt,Nt],!0)}),Y&&X.push({label:"#"+Y.name,routerLink:ne.convertToPath([be,we,Ie,ct,null,et,null,null,Rt,Nt],!0)}))}}return X})),this.rootExpandMap={active:!1,processing:!1,close:!1,scheduled:!1,term:!1},(0,$.R)(window,"dragend").subscribe(te=>{this.highlightCatalogs=void 0}),setInterval(()=>{(0,V.n)(this.tasks$.pipe((0,k.P)())).then(te=>{for(const W of this.taskUpdatersMap.keys())te.content.find(Y=>Y.taskId===W)||this.taskUpdatersMap.delete(W)})},6e5)}static convertToPath(oe,z=!1){const[te,W,Y,Ae,Ee,qe,ye,Ge,X,be]=oe,we=[];switch(z?be&&be!==O.dH.EXCEPT_PLANNED&&(be===O.dH.PLANNED?we.push("scheduled"):be===O.dH.DEADLINE&&we.push("term")):we.push(be||O.dH.UNSCHEDULED),te&&we.push(te),W&&we.push(W.toString()),Y&&we.push(Y),Ae&&we.push(Ae),Ae){case"dir":Ee&&we.push(Ee.toString()),qe&&we.push(qe.toString());break;case"close-time":ye&&we.push(ye),qe&&we.push(qe.toString());break;case"actual-time":Ge&&we.push(Ge),qe&&we.push(qe.toString());break;case"term-time":X&&we.push(X),qe&&we.push(qe.toString())}return we}getTasksCounter(oe,z){const{status:te,cls:W,type:Y,directory:Ae,tag:Ee,schedulingType:qe,dateOfClose:ye,actualFrom:Ge,actualTo:X}=z,be=""+te+W+Y+Ae+Ee+qe+JSON.stringify(ye)+JSON.stringify(Ge)+JSON.stringify(X)+oe;if(this.taskCountersMap.has(be))return this.taskCountersMap.get(be);const we=(0,E.T)(this.rt.updateTaskCount(null!=te?te:"",W,Y,oe,Ae,Ee,ye,Ge,X,qe),this.api.getCountTasks(ne.filterOptionsToCondition(z))).pipe((0,B.U)(Ie=>Ie.toString()),(0,r.d)(1));return this.taskCountersMap.set(be,we),we}static filterOptionsToCondition(oe){const z={},{status:te,cls:W,type:Y,directory:Ae,dateOfClose:Ee,actualFrom:qe,actualTo:ye,schedulingType:Ge}=oe;return te&&(z.status=[te]),W&&(z.template=[W]),Y&&(z.stage=Y),Ae&&(z.directory=Ae),Ee&&(z.dateOfClose=Ee),qe&&(z.actualFrom=qe),ye&&(z.actualTo=ye),Ge&&(z.schedulingType=Ge),z}getTagsFromCatalog(oe){const{status:z,cls:te,type:W,directory:Y,dateOfClose:Ae,actualFrom:Ee,actualTo:qe,schedulingType:ye}=oe,Ge=""+z+te+W+Y+JSON.stringify(Ae)+JSON.stringify(Ee)+JSON.stringify(qe)+ye;if(this.tagsMap.has(Ge))return this.tagsMap.get(Ge);const X=this.tasksMoved$.pipe((0,D.w)(()=>this.api.getTagsListFromCatalog(ne.filterOptionsToCondition(oe))),(0,r.d)(1));return this.tagsMap.set(Ge,X),X}updatePath(oe,z){var te,W,Y,Ae,Ee,qe,ye;this.statusSubject.next(null!==(te=oe.status)&&void 0!==te?te:"active"),this.classSubject.next(oe.class?parseInt(oe.class):null),this.typeSubject.next(null!==(W=oe.type)&&void 0!==W?W:null),this.pageTypeSubject.next(null!==(Y=z.pageType)&&void 0!==Y?Y:null),this.schedulingSubject.next(null!==(Ae=z.scheduled)&&void 0!==Ae?Ae:null),this.directorySubject.next(oe.directory?parseInt(oe.directory):null),this.tagSubject.next(oe.tag?parseInt(oe.tag):null),this.closeTimeSubject.next(null!==(Ee=oe.closeTime)&&void 0!==Ee?Ee:null),this.actualTimeSubject.next(null!==(qe=oe.actualTime)&&void 0!==qe?qe:null),this.termTimeSubject.next(null!==(ye=oe.termTime)&&void 0!==ye?ye:null)}taskMovingStart(oe){this.movingTask=oe,(0,V.n)(this.wireframes$.pipe((0,k.P)())).then(z=>{var te,W;const Y=z.find(qe=>{var ye;return qe.wireframeId===(null===(ye=oe.modelWireframe)||void 0===ye?void 0:ye.wireframeId)});if(!Y)return void(this.highlightCatalogs=void 0);const Ae=null===(te=Y.stages)||void 0===te?void 0:te.find(qe=>{var ye;return qe.stageId===(null===(ye=oe.currentStage)||void 0===ye?void 0:ye.stageId)});if(!Ae)return void(this.highlightCatalogs=void 0);const Ee=null===(W=oe.currentDirectory)||void 0===W?void 0:W.taskTypeDirectoryId;this.highlightCatalogs=Ae.directories.filter(qe=>qe.taskTypeDirectoryId!==Ee).map(qe=>qe.taskTypeDirectoryId)})}moveToDirectory(oe){var z;this.movingTask&&this.movingTask.taskId&&(null===(z=this.movingTask.currentDirectory)||void 0===z?void 0:z.taskTypeDirectoryId)!==oe.taskTypeDirectoryId&&(this.blockVisible=!0,this.api.moveTaskToDirectory([this.movingTask.taskId],oe.taskTypeDirectoryId).subscribe({next:()=>this.blockVisible=!1,error:()=>this.blockVisible=!1}))}catalogHighlight(oe){var z;return null!==(z=this.highlightCatalogs)&&void 0!==z&&z.includes(oe)?{"z-index":"999 !important",backgroundColor:"white"}:null}unExpandOtherCatalog(oe){for(const z in this.rootExpandMap)this.rootExpandMap[z]=oe===z}taskEditStart(oe){this.isTaskEdit=!0}taskEditStop(oe){this.isTaskEdit=!1,this.taskEditStopSubject.next(null)}getTaskUpdater(oe){if(this.taskUpdatersMap.has(oe))return this.taskUpdatersMap.get(oe);const z=this.rt.taskUpdated(oe).pipe((0,r.d)(1));return this.taskUpdatersMap.set(oe,z),z}}return ne.\u0275fac=function(oe){return new(oe||ne)(K.LFG(ue.s),K.LFG(q.U))},ne.\u0275prov=K.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},4488:(hn,ft,b)=>{"use strict";b.d(ft,{U:()=>D});var e=b(8675),d=b(8372),u=b(9841),f=b(1884),_=b(4004),P=b(3900),x=b(8505),r=b(5577),R=b(4782),L=b(9300),Q=b(2382),N=b(383),T=b(5e3),y=b(8738),E=b(8007);let D=(()=>{class U{constructor(ce,$){this.api=ce,this.rt=$,this.scrollPos=0,this.TASK_PAGE_SIZE=15,this.mainFilterForm=new Q.cw({searchPhrase:new Q.NI(""),status:new Q.NI(["ACTIVE","PROCESSING"]),template:new Q.NI(N.Ke.loadOrDefault("listPageTempFilter",[])),templateFilter:new Q.Oe([]),tags:new Q.NI([]),stage:new Q.NI(null),author:new Q.NI(null),dateOfCreation:new Q.NI(null),limit:new Q.NI(15)}),this.searchPhraseChange$=this.mainFilterForm.controls.searchPhrase.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.searchPhrase.value),(0,d.b)(1500)),this.statusChange$=this.mainFilterForm.controls.status.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.status.value),(0,d.b)(300)),this.templateChange$=this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value),(0,d.b)(300)),this.tagsChange$=this.mainFilterForm.controls.tags.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.tags.value),(0,d.b)(300)),this.stageChange$=this.mainFilterForm.controls.stage.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.stage.value),(0,d.b)(300)),this.delayedFilterChange$=(0,u.a)([this.searchPhraseChange$,this.statusChange$,this.templateChange$,this.tagsChange$,this.stageChange$]),this.beforeFilters="",this.stageList=[],this.tagsList=[],this.tagsFilterControl=new Q.NI(""),this.tagsNameFilter$=this.tagsFilterControl.valueChanges.pipe((0,d.b)(300),(0,f.x)()),this.tagsFilters$=(0,u.a)([this.tagsNameFilter$.pipe((0,e.O)("")),this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value))]).pipe((0,_.U)(([V,k])=>[V,!1])),this.tagsList$=N.aN.ofWithFilter(this.tagsFilters$,this.api.getTaskTags.bind(this.api),"taskTagId",this.rt.taskTagCreated(),this.rt.taskTagUpdated(),this.rt.taskTagDeleted()).pipe((0,P.w)(V=>{var k;return this.api.getCountTasksByWireframeIdByTags(null!==(k=this.mainFilterForm.controls.template.value)&&void 0!==k?k:[]).pipe((0,_.U)(O=>(V.value.map(K=>(K.tasksCount=O[K.taskTagId]||0,K)),V)))})),this.stageList$=this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.controls.template.value),(0,x.b)(V=>N.Ke.save("incomListPageTempFilter",V)),(0,P.w)(V=>(this.mainFilterForm.controls.stage.setValue(null,{emitEvent:!1}),1===(null==V?void 0:V.length)?this.api.getWireframeStages(V[0]).pipe((0,r.z)(k=>this.api.getCountTasksByStages(V[0]).pipe((0,_.U)(O=>k.map(K=>({label:K.label,value:K.stageId,orderIndex:K.orderIndex,tasksCount:O[K.stageId]||0})))))):[])),(0,_.U)(V=>{const k=V.sort((O,K)=>O.orderIndex-K.orderIndex);return k.unshift({label:"\u0412\u0441\u0435",value:null,orderIndex:-1,tasksCount:V.reduce((O,K)=>O+K.tasksCount,0)}),k}),(0,R.d)(1)),this.pageNumber=new Q.NI(0),this.pageNumberChange$=this.pageNumber.valueChanges.pipe((0,e.O)(0),(0,x.b)(()=>window.scrollTo({top:0})),(0,R.d)(1)),this.filters$=(0,u.a)([this.pageNumberChange$,this.delayedFilterChange$]).pipe((0,_.U)(([V])=>[V,this.mainFilterForm.value])),this.templateFilterCount$=this.filters$.pipe((0,_.U)(()=>{const V=this.mainFilterForm.value;let k=0;return V.author&&k++,!!V.dateOfCreation&&"start"in V.dateOfCreation&&"end"in V.dateOfCreation&&k++,V.templateFilter&&V.templateFilter.length>0&&V.templateFilter.filter(O=>Array.isArray(O.value)?O.value.length>0:!!O.value).forEach(O=>{k++}),k}),(0,_.U)(V=>V?V.toString():""),(0,R.d)(1)),this.taskPage$=N.aN.ofPageAltAll(this.filters$,this.api.getPageOfTasks.bind(this.api),[this.rt.taskCreated(),this.rt.taskUpdated(),this.rt.taskDeleted()]).pipe((0,R.d)(1)),this.stageList$.subscribe(V=>this.stageList=[...V]),this.tagsList$.subscribe(V=>this.tagsList=[...V.value]),this.rt.taskCountChange().pipe((0,L.h)(V=>this.isSelectOneTemplate&&V.id===this.firstWireframeId)).subscribe(V=>{this.stageList.forEach(O=>{const K=V.stages.find(ue=>O.value===ue.id);O.tasksCount=K?K.num:0});const k=this.stageList.find(O=>null===O.value);k&&(k.tasksCount=V.stages.reduce((O,K)=>O+K.num,0))}),this.rt.tagTaskCountChange().subscribe(V=>{this.tagsList.forEach(k=>{var O;const K=V[k.taskTagId];if(K){let ue=0;null===(O=this.mainFilterForm.value.template)||void 0===O||O.forEach(q=>{K[q]&&(ue+=K[q])}),k.tasksCount=ue}else k.tasksCount=0})}),this.mainFilterForm.controls.template.valueChanges.pipe((0,e.O)(this.mainFilterForm.value.template)).subscribe(V=>{N.Ke.save("listPageTempFilter",V),this.mainFilterForm.controls.templateFilter.clear(),null!=V&&1===V.length&&this.api.getWireframeFiltrationFields(V[0]).subscribe(k=>{for(let O of k)this.mainFilterForm.controls.templateFilter.push(new Q.cw({id:new Q.NI(O.id),wireframeFieldType:new Q.NI(O.wireframeFieldType),name:new Q.NI(O.name),value:new Q.NI(null)}))})})}get isSelectOneTemplate(){var ce;return 1===(null===(ce=this.mainFilterForm.value.template)||void 0===ce?void 0:ce.length)}get firstWireframeId(){return this.mainFilterForm.value.template?this.mainFilterForm.value.template[0]:0}applyFilters(){this.beforeFilters!==JSON.stringify(this.mainFilterForm.value)&&this.pageNumber.setValue(0)}cacheFilters(){this.beforeFilters=JSON.stringify(this.mainFilterForm.value)}clearFilters(){var ce;this.mainFilterForm.patchValue({author:null,dateOfCreation:null}),this.mainFilterForm.controls.template.setValue(null!==(ce=this.mainFilterForm.value.template)&&void 0!==ce?ce:null)}saveScrollPos(ce){this.scrollPos=ce}readScrollPos(){return this.scrollPos}}return U.\u0275fac=function(ce){return new(ce||U)(T.LFG(y.s),T.LFG(E.U))},U.\u0275prov=T.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},9664:(hn,ft,b)=>{"use strict";b.d(ft,{M:()=>B});var e=b(3900),d=b(590),u=b(7579),f=b(2722),_=b(4004),P=b(8746),x=b(4782),r=b(1588),R=b(655),L=b(5677),Q=b(5e3),N=b(5330),T=b(430);let y=class{constructor($,V,k){this.ref=$,this.config=V,this.service=k}ngOnInit(){}ngAfterContentInit(){setTimeout(()=>{this.credentials=this.config.data.credentials,this.dataReceiver=this.config.data.dataReceiver},1)}};y.\u0275fac=function($){return new($||y)(Q.Y36(N.E7),Q.Y36(N.S),Q.Y36(B))},y.\u0275cmp=Q.Xpm({type:y,selectors:[["app-terminal-dialog"]],decls:1,vars:1,consts:[[3,"dataSource","keyInput"]],template:function($,V){1&$&&(Q.TgZ(0,"ng-terminal",0),Q.NdJ("keyInput",function(O){return V.service.send(O,null==V.credentials?null:V.credentials.sessionId)}),Q.qZA()),2&$&&Q.Q6J("dataSource",V.dataReceiver)},dependencies:[T.Eo]}),y=(0,R.gn)([(0,L.kG)()],y);var E=b(8738),D=b(8007),U=b(8028);let B=(()=>{class ce{constructor(V,k,O,K){this.api=V,this.rt=k,this.personality=O,this.dialogService=K,this.sessions=[],this.dataReceiversMap=new Map,this.closeStreamSignalMap=new Map,this.openTerminalDialogs=new Map,this.personality.userLogin$.pipe((0,e.w)(ue=>this.rt.telnetConnectionMessage(ue))).subscribe(ue=>this.appendSession(ue))}connect(V,k){this.api.connectToTelnetSession({ip:k,name:V,sessionId:(0,r.Z)(),lastState:"ok"}).subscribe()}send(V,k){if(!k)return;const O=this.sessions.find(K=>K.sessionId===k);if(O&&"ok"==O.lastState){if("\x7f"===V)return void this.api.sendDataToTelnetSession(k,"\b").subscribe();this.api.sendDataToTelnetSession(k,V).subscribe()}}openTerminalDialog(V){const k=this.dataReceiversMap.get(V.sessionId);!k||this.openTerminal(V,k)}openTerminal(V,k){if(this.openTerminalDialogs.has(V.sessionId))return;const O=this.dialogService.open(y,{header:V.name+"\u30fb"+V.ip,contentStyle:{padding:"0",minWidth:"800px"},resizable:!0,draggable:!0,modal:!1,data:{credentials:V,dataReceiver:k}});O.onClose.pipe((0,d.P)()).subscribe(()=>this.openTerminalDialogs.delete(V.sessionId)),this.openTerminalDialogs.set(V.sessionId,O)}appendSession(V){if(this.sessions.some(ue=>ue.sessionId===V.sessionId))return;this.sessions.push(V);const O=new u.x,K=this.rt.remoteTelnetConnection(V.ip,V.sessionId).pipe((0,f.R)(O),(0,_.U)(ue=>(V.lastState=ue.state,ue.data)),(0,P.x)(()=>this.removeSession(V.sessionId)),(0,x.d)(50));this.closeStreamSignalMap.set(V.sessionId,O),this.dataReceiversMap.set(V.sessionId,K),this.openTerminal(V,K)}removeSession(V){var k,O;this.sessions=this.sessions.filter(K=>K.sessionId!==V),null===(k=this.closeStreamSignalMap.get(V))||void 0===k||k.next(null),this.closeStreamSignalMap.delete(V),this.dataReceiversMap.delete(V),null===(O=this.openTerminalDialogs.get(V))||void 0===O||O.close()}isDialogOpen(V){return this.openTerminalDialogs.has(V)}}return ce.\u0275fac=function(V){return new(V||ce)(Q.LFG(E.s),Q.LFG(D.U),Q.LFG(U.F),Q.LFG(N.xA))},ce.\u0275prov=Q.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},6309:(hn,ft,b)=>{"use strict";b.d(ft,{j:()=>e});let e=(()=>{class d{static getName(f){return 1===f?"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0443":2===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438":4===f?"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u043a\u0430\u0441\u0441\u0443":8===f?"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432":16===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c\u0438":32===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043c\u043e\u0432 \u0432 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439":64===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u043a\u043d\u0438\u0433\u0438":128===f?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432":256===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u043e\u0432":512===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430\u043c\u0438":1024===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044f\u043c\u0438":2048===f?"\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u044b":4096===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0439\u0441\u0430":8192===f?"\u0427\u0442\u0435\u043d\u0438\u0435/\u0417\u0430\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u0432":16384===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0437\u0430\u0434\u0430\u0447":32768===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u043e\u0432 \u0437\u0430\u0434\u0430\u0447":65536===f?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432":131072===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438":262144===f?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438":524288===f?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432":1048576===f?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430\u043c\u0438 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u043e\u0432":f.toString()+" (\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e)"}static flagList(){return this.array().map(f=>({name:this.getName(f),value:f}))}static read(f){const _=[];for(const P of d.array())f&P&&_.push(P);return _}static array(){return Object.values(d)}static isHasFlag(f,..._){return _.some(P=>(f&P)===P)}static trackByFlag(f,_){return _.value}}return d.BILLING=1,d.MANAGE_SUBSCRIBERS=2,d.MANAGE_CASH=4,d.MANAGE_RECALCULATION=8,d.MANAGE_EMPLOYEES=16,d.EDIT_HOUSE_ADDRESS_BOOK=32,d.EDIT_ADDRESS_BOOK=64,d.VIEW_SWITCH=128,d.EDIT_SWITCH=256,d.MANAGE_DEPARTMENTS=512,d.MANAGE_POSITIONS=1024,d.COUNT_SALARY=2048,d.EDIT_PRICE=4096,d.READ_WRITE_FILES=8192,d.EDIT_TASK_TEMPLATES=16384,d.EDIT_TASK_TAGS=32768,d.EDIT_DEVICES=65536,d.MANAGE_SYSTEM_SETTINGS=131072,d.VIEW_STATISTICS=262144,d.VIEW_CONTRACTS=524288,d.MANAGE_CONTRACTS_TYPES=1048576,d})()},7384:(hn,ft,b)=>{"use strict";b.d(ft,{AE:()=>V,Ez:()=>f,Gu:()=>ce,LE:()=>B,Rh:()=>oe,_r:()=>e,b9:()=>$,dA:()=>y,dH:()=>E,hY:()=>Q,k$:()=>U,k5:()=>W,nC:()=>P,nv:()=>ne,sf:()=>N});var e=(()=>{return(Y=e||(e={})).BOOLEAN="BOOLEAN",Y.SMALL_TEXT="SMALL_TEXT",Y.LARGE_TEXT="LARGE_TEXT",Y.INTEGER="INTEGER",Y.FLOAT="FLOAT",Y.ADDRESS="ADDRESS",Y.LOGIN="LOGIN",Y.AD_SOURCE="AD_SOURCE",Y.REQUEST_INITIATOR="REQUEST_INITIATOR",Y.IP="IP",Y.EQUIPMENTS="EQUIPMENTS",Y.CONNECTION_SERVICES="CONNECTION_SERVICES",Y.CONNECTION_TYPE="CONNECTION_TYPE",Y.PHONE_ARRAY="PHONE_ARRAY",Y.COUNTING_LIVES="COUNTING_LIVES",Y.PASSPORT_DETAILS="PASSPORT_DETAILS",e;var Y})(),f=(()=>{return(Y=f||(f={})).MODEL="MODEL",Y.PIPELINE="PIPELINE",f;var Y})(),P=(()=>{return(Y=P||(P={})).TEXT="TEXT",Y.LOGIN="LOGIN",Y.ADDRESS="ADDRESS",Y.PHONE="PHONE",Y.AD_SOURCE="AD_SOURCE",Y.CONNECTION_TYPE="CONNECTION_TYPE",Y.CONNECTION_SERVICE="CONNECTION_SERVICE",P;var Y})(),Q=(()=>{return(Y=Q||(Q={})).ACTIVE="ACTIVE",Y.PROCESSING="PROCESSING",Y.CLOSE="CLOSE",Q;var Y})(),N=(()=>{return(Y=N||(N={})).PHOTO="PHOTO",Y.VIDEO="VIDEO",Y.DOCUMENT="DOCUMENT",Y.AUDIO="AUDIO",Y.FILE="FILE",N;var Y})(),y=(()=>{return(Y=y||(y={})).CHANGE_STAGE="CHANGE_STAGE",Y.CREATE_WORK_LOG="CREATE_WORK_LOG",Y.FORCE_CLOSE_WORK_LOG="FORCE_CLOSE_WORK_LOG",Y.CLOSE_WORK_LOG="CLOSE_WORK_LOG",Y.CHANGE_RESPONSIBILITY="CHANGE_RESPONSIBILITY",Y.LINKED_TO_PARENT_TASK="LINKED_TO_PARENT_TASK",Y.UNLINKED_FROM_PARENT_TASK="UNLINKED_FROM_PARENT_TASK",Y.UNLINK_CHILD_TASK="UNLINK_CHILD_TASK",Y.LINKED_TO_CHILD_TASKS="LINKED_TO_CHILD_TASKS",Y.CHANGE_TAGS="CHANGE_TAGS",Y.CLEAN_TAGS="CLEAN_TAGS",Y.CHANGE_OBSERVERS="CHANGE_OBSERVERS",Y.UNBIND_RESPONSIBLE="UNBIND_RESPONSIBLE",Y.CHANGE_ACTUAL_FROM="CHANGE_ACTUAL_FROM",Y.CHANGE_ACTUAL_TO="CHANGE_ACTUAL_TO",Y.CLEAR_ACTUAL_FROM_TASK="CLEAR_ACTUAL_FROM_TASK",Y.CLEAR_ACTUAL_TO_TASK="CLEAR_ACTUAL_TO_TASK",Y.CLOSE_TASK="CLOSE_TASK",Y.REOPEN_TASK="REOPEN_TASK",Y.EDIT_FIELDS="EDIT_FIELDS",Y.REPORT_CREATED="REPORT_CREATED",Y.MOVED_TO_DIRECTORY="MOVED_TO_DIRECTORY",y;var Y})(),E=(()=>{return(Y=E||(E={})).ALL="ALL",Y.SCHEDULED="SCHEDULED",Y.UNSCHEDULED="UNSCHEDULED",Y.PLANNED="PLANNED",Y.DEADLINE="DEADLINE",Y.EXCEPT_PLANNED="EXCEPT_PLANNED",E;var Y})(),U=(()=>{return(Y=U||(U={})).TASK_CREATED="TASK_CREATED",Y.TASK_EDITED="TASK_EDITED",Y.TASK_CLOSED="TASK_CLOSED",Y.TASK_DELETED="TASK_DELETED",Y.TASK_PROCESSED="TASK_PROCESSED",Y.TASK_REOPENED="TASK_REOPENED",Y.TASK_STAGE_CHANGED="TASK_STAGE_CHANGED",Y.YOU_RESPONSIBLE="YOU_RESPONSIBLE",Y.YOU_OBSERVER="YOU_OBSERVER",Y.NEW_COMMENT="NEW_COMMENT",Y.TASK_HAS_BECOME_ACTUAL="TASK_HAS_BECOME_ACTUAL",Y.TASK_EXPIRED="TASK_EXPIRED",Y.WORKS_COMPLETED="WORKS_COMPLETED",Y.REPORT_RECEIVED="REPORT_RECEIVED",Y.MENTIONED_IN_TASK="MENTIONED_IN_TASK",U;var Y})(),B=(()=>{return(Y=B||(B={})).ONLINE="ONLINE",Y.AWAY="AWAY",Y.OFFLINE="OFFLINE",B;var Y})(),ce=(()=>{return(Y=ce||(ce={})).READY="READY",Y.LOADING="LOADING",Y.ERROR="ERROR",Y.EMPTY="EMPTY",ce;var Y})(),$=(()=>{return(Y=$||($={})).AMOUNT="AMOUNT",Y.METRES="METRES",Y.KILOGRAMS="KILOGRAMS",$;var Y})();class V{constructor(Ae){this.target=null,this.index=null;const Ee=Ae.dragNode,qe=Ae.dropNode;this.index=Ae.index,this.source=new k(Ee),this.target=qe.children&&qe.children.includes(Ee)?new k(qe):qe.parent?new k(qe.parent):null}}class k{constructor(Ae){this.key=Ae.key,this.label=Ae.label,this.icon=Ae.icon,this.type=Ae.type}}var ne=(()=>{return(Y=ne||(ne={})).NEXT_MONTH="NEXT_MONTH",Y.NEXT_WEEK="NEXT_WEEK",Y.TOMORROW="TOMORROW",Y.TODAY="TODAY",Y.YESTERDAY="YESTERDAY",Y.THIS_WEEK="THIS_WEEK",Y.LAST_WEEK="LAST_WEEK",Y.THIS_MONTH="THIS_MONTH",Y.LAST_MONTH="LAST_MONTH",ne;var Y})(),oe=(()=>{return(Y=oe||(oe={})).CREATE_DATE_ASC="CREATE_DATE_ASC",Y.CREATE_DATE_DESC="CREATE_DATE_DESC",oe;var Y})(),W=(()=>{return(Y=W||(W={})).STRING="STRING",Y.DATE="DATE",Y.LOGIN="LOGIN",W;var Y})()},383:(hn,ft,b)=>{"use strict";b.d(ft,{pd:()=>be,aN:()=>At,PU:()=>X,Ke:()=>ht,xf:()=>we,cQ:()=>Ge,EM:()=>dt,d4:()=>et,xn:()=>st,cy:()=>vt,tg:()=>Ie,XO:()=>ct,mQ:()=>ot});var e=b(7384),d=b(5963),u=b(3900),f=b(9646),_=b(4968),P=b(8675),x=b(4004),r=b(6451),R=b(7579),L=b(8505),Q=b(9841),N=b(4782),T=b(9751),y=b(5e3),E=b(4707);const D={schedule(ge,ke){const rt=setTimeout(ge,ke);return()=>clearTimeout(rt)},scheduleBeforeRender(ge){if("undefined"==typeof window)return D.schedule(ge,0);if(void 0===window.requestAnimationFrame)return D.schedule(ge,16);const ke=window.requestAnimationFrame(ge);return()=>window.cancelAnimationFrame(ke)}};let V;function G(ge,ke,rt){let yt=rt;return function B(ge){return!!ge&&ge.nodeType===Node.ELEMENT_NODE}(ge)&&ke.some((Pt,Ht)=>!("*"===Pt||!function k(ge,ke){if(!V){const rt=Element.prototype;V=rt.matches||rt.matchesSelector||rt.mozMatchesSelector||rt.msMatchesSelector||rt.oMatchesSelector||rt.webkitMatchesSelector}return ge.nodeType===Node.ELEMENT_NODE&&V.call(ge,ke)}(ge,Pt)||(yt=Ht,0))),yt}class Ce{constructor(ke,rt){this.componentFactory=rt.get(y._Vd).resolveComponentFactory(ke)}create(ke){return new oe(this.componentFactory,ke)}}class oe{constructor(ke,rt){this.componentFactory=ke,this.injector=rt,this.eventEmitters=new E.t(1),this.events=this.eventEmitters.pipe((0,u.w)(yt=>(0,r.T)(...yt))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:yt})=>yt)),this.ngZone=this.injector.get(y.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(ke){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(ke)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=D.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(ke){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(ke):this.componentRef.instance[ke])}setInputValue(ke,rt){this.runInZone(()=>{null!==this.componentRef?function O(ge,ke){return ge===ke||ge!=ge&&ke!=ke}(rt,this.getInputValue(ke))&&(void 0!==rt||!this.unchangedInputs.has(ke))||(this.recordInputChange(ke,rt),this.unchangedInputs.delete(ke),this.hasInputChanges=!0,this.componentRef.instance[ke]=rt,this.scheduleDetectChanges()):this.initialInputValues.set(ke,rt)})}initializeComponent(ke){const rt=y.zs3.create({providers:[],parent:this.injector}),yt=function q(ge,ke){const rt=ge.childNodes,yt=ke.map(()=>[]);let Pt=-1;ke.some((Ht,Ot)=>"*"===Ht&&(Pt=Ot,!0));for(let Ht=0,Ot=rt.length;Ht<Ot;++Ht){const Ye=rt[Ht],lt=G(Ye,ke,Pt);-1!==lt&&yt[lt].push(Ye)}return yt}(ke,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(rt,yt,ke),this.viewChangeDetectorRef=this.componentRef.injector.get(y.sBO),this.implementsOnChanges=function ce(ge){return"function"==typeof ge}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(y.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:ke})=>{this.initialInputValues.has(ke)&&this.setInputValue(ke,this.initialInputValues.get(ke))}),this.initialInputValues.clear()}initializeOutputs(ke){const rt=this.componentFactory.outputs.map(({propName:yt,templateName:Pt})=>ke.instance[yt].pipe((0,x.U)(Ot=>({name:Pt,value:Ot}))));this.eventEmitters.next(rt)}callNgOnChanges(ke){if(!this.implementsOnChanges||null===this.inputChanges)return;const rt=this.inputChanges;this.inputChanges=null,ke.instance.ngOnChanges(rt)}markViewForCheck(ke){this.hasInputChanges&&(this.hasInputChanges=!1,ke.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=D.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(ke,rt){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const yt=this.inputChanges[ke];if(yt)return void(yt.currentValue=rt);const Pt=this.unchangedInputs.has(ke),Ht=Pt?void 0:this.getInputValue(ke);this.inputChanges[ke]=new y.WD2(Ht,rt,Pt)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(ke){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(ke):ke()}}class z extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function te(ge,ke){const rt=function ue(ge,ke){return ke.get(y._Vd).resolveComponentFactory(ge).inputs}(ge,ke.injector),yt=ke.strategyFactory||new Ce(ge,ke.injector),Pt=function K(ge){const ke={};return ge.forEach(({propName:rt,templateName:yt})=>{ke[function U(ge){return ge.replace(/[A-Z]/g,ke=>`-${ke.toLowerCase()}`)}(yt)]=rt}),ke}(rt);class Ht extends z{constructor(Ye){super(),this.injector=Ye}get ngElementStrategy(){if(!this._ngElementStrategy){const Ye=this._ngElementStrategy=yt.create(this.injector||ke.injector);rt.forEach(({propName:lt})=>{if(!this.hasOwnProperty(lt))return;const Ke=this[lt];delete this[lt],Ye.setInputValue(lt,Ke)})}return this._ngElementStrategy}attributeChangedCallback(Ye,lt,Ke,Tt){this.ngElementStrategy.setInputValue(Pt[Ye],Ke)}connectedCallback(){let Ye=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),Ye=!0),this.ngElementStrategy.connect(this),Ye||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(Ye=>{const lt=new CustomEvent(Ye.name,{detail:Ye.value});this.dispatchEvent(lt)})}}return Ht.observedAttributes=Object.keys(Pt),rt.forEach(({propName:Ot})=>{Object.defineProperty(Ht.prototype,Ot,{get(){return this.ngElementStrategy.getInputValue(Ot)},set(Ye){this.ngElementStrategy.setInputValue(Ot,Ye)},configurable:!0,enumerable:!0})}),Ht}var Y=b(1110),Ae=b(2777),Ee=b(7805),qe=b(7092),ye=b(6890);class Ge{static convertModelItemToString(ke){var rt,yt;if(ke.wireframeFieldType===e._r.ADDRESS){const Pt=ke.addressData;return Pt?`${null===(rt=Pt.city)||void 0===rt?void 0:rt.name} ${null===(yt=Pt.street)||void 0===yt?void 0:yt.name} ${Pt.houseNum}${Pt.fraction?"/"+Pt.fraction:""}${Pt.letter}${Pt.build?" \u0441\u0442\u0440."+Pt.build:""} \u043a\u0432.${Pt.apartmentNum}`:""}return""}static isCorrectSequenceOfCharacters(ke,rt,yt=[]){const Pt=ke.delta.ops,Ht=ke.oldDelta.ops,Ot=ke.editor.getSelection(!0).index;if(!Pt||!Ht)return!1;if(1===Pt.length){if(Pt[0].insert===rt)return!0}else if(2===Pt.length){const Ye=Ht.reduce((Ke,Tt)=>Ke+Tt.insert,"").slice(0,Ot-1),lt=Pt[1].insert;if(0===yt.length&&lt===rt||lt===rt&&yt.some(Ke=>Ye.endsWith(Ke)))return!0}return!1}static dateFormat(ke){return`${ke.getFullYear()}-${(ke.getMonth()+1).toString().padStart(2,"0")}-${ke.getDate().toString().padStart(2,"0")}T${ke.getHours().toString().padStart(2,"0")}:${ke.getMinutes().toString().padStart(2,"0")}:${ke.getSeconds().toString().padStart(2,"0")}Z`}static dateFormatTS(ke){return`${ke.getFullYear()}-${(ke.getMonth()+1).toString().padStart(2,"0")}-${ke.getDate().toString().padStart(2,"0")} ${ke.getHours().toString().padStart(2,"0")}:${ke.getMinutes().toString().padStart(2,"0")}:${ke.getSeconds().toString().padStart(2,"0")}`}static stringToColor(ke,rt=70,yt=100,Pt=50,Ht=80){let Ot=0;for(let Tt=0;Tt<ke.length;Tt++)Ot=ke.charCodeAt(Tt)+((Ot<<5)-Ot);return`hsl(${Ot%360}, ${Math.max(rt,Math.min(yt,Ot%100/100*(yt-rt)+rt))}%, ${Math.max(Pt,Math.min(Ht,Ot%100/100*(Ht-Pt)+Pt))}%)`}static stringToGradient(ke,rt=90,yt=70,Pt=85,Ht=65){let Ot=0;for(let cn=0;cn<ke.length;cn++)Ot=ke.charCodeAt(cn)+((Ot<<5)-Ot);const Ye=Ot%360,lt=Ot%(rt-yt+1)+yt,Ke=Ot%(Pt-Ht+1)+Ht;return`linear-gradient(0deg, hsl(${Ye}, ${lt}%, ${Ke}%) 0%, hsl(${(Ye-30)%360}, ${lt}%, ${Ke-10}%) 100%)`}static declineOfNumber(ke,rt){const yt=(ke=Math.abs(ke)%100)%10;return ke>10&&ke<20?rt[2]:yt>1&&yt<5?rt[1]:1==yt?rt[0]:rt[2]}static getValueFromModelItem(ke){switch(ke.wireframeFieldType){case e._r.ADDRESS:return ke.addressData;case e._r.INTEGER:return ke.integerData;case e._r.FLOAT:return ke.floatData;case e._r.BOOLEAN:return ke.booleanData;case e._r.PHONE_ARRAY:return ke.phoneData;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.SMALL_TEXT:case e._r.CONNECTION_TYPE:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:return ke.stringData;case e._r.CONNECTION_SERVICES:return ke.connectionServicesData;case e._r.EQUIPMENTS:return ke.equipmentRealizationsData;case e._r.PASSPORT_DETAILS:return ke.passportDetailsData;default:return null}}static setValueToModelItem(ke,rt){switch(ke.wireframeFieldType){case e._r.ADDRESS:ke.addressData=rt;break;case e._r.INTEGER:ke.integerData=rt;break;case e._r.FLOAT:ke.floatData=rt;break;case e._r.BOOLEAN:ke.booleanData=rt;break;case e._r.PHONE_ARRAY:ke.phoneData=rt;break;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.CONNECTION_TYPE:case e._r.SMALL_TEXT:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:ke.stringData=rt;break;case e._r.CONNECTION_SERVICES:ke.connectionServicesData=rt;break;case e._r.EQUIPMENTS:ke.equipmentRealizationsData=rt;break;case e._r.PASSPORT_DETAILS:ke.passportDetailsData=rt}return ke}static copyToClipboard(ke,rt,yt,Pt){var Ht;if(null!==(Ht=navigator.clipboard)&&void 0!==Ht&&Ht.writeText)navigator.clipboard.writeText(ke).then(()=>{rt.add({detail:yt,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})});else{const Ot=document.createElement("textarea");Ot.style.display="fixed",Ot.style.top="-100",Ot.style.left="-100",Ot.style.opacity="0",Ot.style.userSelect="none",Ot.style.pointerEvents="none",Ot.value=ke,document.body.appendChild(Ot),Ot.select();try{document.execCommand("copy"),rt.add({detail:yt,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})}catch(Ye){rt.add({detail:Pt,severity:"dark",key:"darktoast",icon:"mdi-copy",closable:!1})}document.body.removeChild(Ot)}}static prepareForHttpRequest(ke){if("object"==typeof ke)for(let rt in ke)Array.isArray(ke[rt])||"string"==typeof ke[rt]||"number"==typeof ke[rt]||"boolean"==typeof ke[rt]?Array.isArray(ke[rt])&&(ke[rt]=ke[rt].map(yt=>"object"==typeof yt?JSON.stringify(yt):yt)):ke[rt]=JSON.stringify(ke[rt]);return ke}static groupBy(ke,rt){return ke.reduce((yt,Pt)=>Object.assign(Object.assign({},yt),{[Pt[rt]]:[...yt[Pt[rt]]||[],Pt]}),{})}static arrayEquals(ke,rt){if(!ke||!rt||ke.length!==rt.length)return!1;const yt=new Map;ke.forEach(Pt=>{const Ht=yt.get(Pt);yt.set(Pt,Ht?{aCount:Ht.aCount+1,bCount:0}:{aCount:1,bCount:0})}),rt.forEach(Pt=>{const Ht=yt.get(Pt);yt.set(Pt,Ht?{aCount:Ht.aCount,bCount:Ht.bCount+1}:{aCount:0,bCount:1})});for(let[Pt,{aCount:Ht,bCount:Ot}]of yt)if(Ht!==Ot)return!1;return!0}static getRandom(ke,rt){return Math.round(Math.random()*(rt-ke)+ke)}}class X{static convert(ke,rt){return rt.steps.reduce((Pt,Ht)=>[...Pt,...Ht.fields],[]).filter(Pt=>Object.keys(ke).includes(Pt.id)).map(Pt=>{const Ht=ke[Pt.id],Ot={id:Pt.id,wireframeFieldType:Pt.type,name:Pt.name,variation:Pt.variation,displayType:Pt.displayType};switch(Pt.type){case e._r.SMALL_TEXT:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.IP:case e._r.CONNECTION_TYPE:case e._r.AD_SOURCE:case e._r.REQUEST_INITIATOR:case e._r.COUNTING_LIVES:Ot.stringData=Ht;break;case e._r.ADDRESS:Ot.addressData=Ht;break;case e._r.PHONE_ARRAY:Ot.phoneData=Ht;break;case e._r.INTEGER:Ot.integerData=Ht;break;case e._r.BOOLEAN:Ot.booleanData=Ht;break;case e._r.FLOAT:Ot.floatData=Ht;break;case e._r.CONNECTION_SERVICES:Ot.connectionServicesData=Ht;break;case e._r.EQUIPMENTS:Ot.equipmentRealizationsData=Ht;break;case e._r.PASSPORT_DETAILS:Ot.passportDetailsData=Ht}return Ot})}static editExisting(ke,rt){return rt.map(yt=>Ge.setValueToModelItem(yt,ke[yt.modelItemId]))}}class be{constructor(){this.observer=(0,d.H)(0,1e3).pipe((0,u.w)(()=>(0,f.of)(this.getTime()))),this.time=0}setTime(ke){this.time=ke instanceof Date?ke.getTime():"string"==typeof ke?new Date(ke).getTime():"number"==typeof ke?ke:0}getTime(){if(0===this.time)return{biggestSuffix:"",biggestType:"none",biggestValue:0,current:{days:0,hours:0,minutes:0,seconds:0},mode:"none",timeError:!0,actualLabel:"-"};const ke=(new Date).getTime(),rt=Math.abs(this.time-ke),yt=this.time<ke?"after":"before";let Pt=Math.floor(rt/864e5),Ht=Math.floor(rt%864e5/36e5),Ot=Math.floor(rt%36e5/6e4),Ye=Math.floor(rt%6e4/1e3);if(Pt>0){const lt=Ge.declineOfNumber(Pt,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);return{biggestSuffix:lt,biggestType:"days",biggestValue:Pt,current:{days:Pt,hours:Ht,minutes:Ot,seconds:Ye},mode:yt,timeError:!1,actualLabel:`${Pt} ${lt}`}}if(Ht>0){const lt=Ge.declineOfNumber(Ht,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]);return{biggestSuffix:lt,biggestType:"hours",biggestValue:Ht,current:{days:Pt,hours:Ht,minutes:Ot,seconds:Ye},mode:yt,timeError:!1,actualLabel:`${Ht} ${lt}`}}if(Ot>0){const lt=Ge.declineOfNumber(Ot,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]);return{biggestSuffix:lt,biggestType:"minutes",biggestValue:Ot,current:{days:Pt,hours:Ht,minutes:Ot,seconds:Ye},mode:yt,timeError:!1,actualLabel:`${Ot} ${lt}`}}{const lt=Ge.declineOfNumber(Ye,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]);return{biggestSuffix:lt,biggestType:"seconds",biggestValue:Ye,current:{days:Pt,hours:Ht,minutes:Ot,seconds:Ye},mode:yt,timeError:!1,actualLabel:`${Ye} ${lt}`}}}}class we{constructor(){this.subscriptions=new Map}addSubscription(ke,rt){const yt=this.subscriptions.get(ke);yt&&yt.unsubscribe(),this.subscriptions.set(ke,rt)}unsubscribeAll(){this.subscriptions.forEach(ke=>ke.unsubscribe()),this.subscriptions.clear()}unsubscribe(ke){const rt=this.subscriptions.get(ke);rt&&rt.unsubscribe(),this.subscriptions.delete(ke)}}const Ie={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{color:[]}],["clean"],["link"]]};function ct(ge){const ke={"employee-label-element":te(Y.x,{injector:ge}),"task-link-element":te(Ae.U,{injector:ge}),"department-label-element":te(Ee.y,{injector:ge}),"appointed-installers-element":te(qe._,{injector:ge}),"chat-link-element":te(ye.K,{injector:ge})};for(const[rt,yt]of Object.entries(ke))customElements.get(rt)||customElements.define(rt,yt)}function dt(ge){ge.ripple=!0,ge.setTranslation({startsWith:"\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",contains:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442",notContains:"\u041d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",endsWith:"\u041a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f",equals:"\u0420\u0430\u0432\u043d\u043e",notEquals:"\u041d\u0435 \u0440\u0430\u0432\u043d\u043e",noFilter:"\u041d\u0435\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u0430",lt:"\u041c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c",lte:"\u041c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",gt:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c",gte:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e",is:"\u042f\u0432\u043b\u044f\u0435\u0442\u0441\u044f",isNot:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f",before:"\u0414\u043e",after:"\u041f\u043e\u0441\u043b\u0435",dateIs:"\u0414\u0430\u0442\u0430",dateIsNot:"\u0414\u0430\u0442\u0430 \u043d\u0435",dateBefore:"\u0414\u0430\u0442\u0430 \u0440\u0430\u043d\u044c\u0448\u0435",dateAfter:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0441\u043b\u0435",clear:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",matchAll:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043e \u0432\u0441\u0435\u043c",matchAny:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438",addRule:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",removeRule:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",accept:"\u0414\u0430",reject:"\u041d\u0435\u0442",choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",dayNames:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441\u043a","\u041f\u043e\u043d","\u0412\u0442\u043e","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041f\u044f\u0442","\u0421\u0443\u0431"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dateFormat:"dd-mm-yy",firstDayOfWeek:0,today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",weekHeader:"\u041d\u0434",weak:"\u041d\u0435\u0434\u0435\u043b\u044f",medium:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",strong:"\u0416\u0438\u0440\u043d\u044b\u0439",passwordPrompt:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",emptyMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",emptyFilterMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})}function et(ge,ke=0){let rt=3735928559^ke,yt=1103547991^ke;for(let Ht,Pt=0;Pt<ge.length;Pt++)Ht=ge.charCodeAt(Pt),rt=Math.imul(rt^Ht,2654435761),yt=Math.imul(yt^Ht,1597334677);return rt=Math.imul(rt^rt>>>16,2246822507),rt^=Math.imul(yt^yt>>>13,3266489909),yt=Math.imul(yt^yt>>>16,2246822507),yt^=Math.imul(rt^rt>>>13,3266489909),(4294967296*(2097151&yt)+(rt>>>0)).toString(16)}function vt(ge){const ke=window.matchMedia(ge);return(0,_.R)(ke,"change").pipe((0,P.O)(ke),(0,x.U)(rt=>rt.matches))}class ht{static save(ke,rt){localStorage.setItem(ke,JSON.stringify(rt))}static load(ke){const rt=localStorage.getItem(ke);return null===rt?null:JSON.parse(rt)}static loadOrDefault(ke,rt){const yt=localStorage.getItem(ke);return null===yt?rt:JSON.parse(yt)}}class Rt{constructor(ke){this.loadingState=e.Gu.LOADING,this.value=ke}}class Nt{constructor(ke){this.loadingState=e.Gu.LOADING,this.pageNumber=0,this.totalElements=0,this.value=ke}}class At{static of(ke,rt,yt,Pt,Ht){const Ot=new Rt([]),Ye=[ke.pipe((0,x.U)(lt=>(Ot.loadingState=null==lt||0===lt.length?e.Gu.EMPTY:e.Gu.READY,Ot.value=lt||[],Ot)))];return yt&&Ye.push(yt.pipe((0,x.U)(lt=>(Ot.value.some(Ke=>Ke[rt]===lt[rt])||Ot.value.unshift(lt),Ot)))),Pt&&Ye.push(Pt.pipe((0,x.U)(lt=>{const Ke=Ot.value.findIndex(Tt=>Tt[rt]===lt[rt]);return-1!==Ke&&(Ot.value[Ke]=lt),Ot}))),Ht&&Ye.push(Ht.pipe((0,x.U)(lt=>{const Ke=Ot.value.findIndex(Tt=>Tt[rt]===lt[rt]);return-1!==Ke&&Ot.value.splice(Ke,1),Ot}))),(0,r.T)(...Ye).pipe((0,P.O)(Ot))}static ofWithFilter(ke,rt,yt,Pt,Ht,Ot){const Ye=new Rt([]),lt=new R.x,Ke=lt.pipe((0,x.U)(se=>(Ye.loadingState=se,Ye))),Tt=[ke.pipe((0,L.b)({next:()=>lt.next(e.Gu.LOADING)}),(0,u.w)(se=>rt(...se).pipe((0,x.U)(Fe=>(Ye.loadingState=null==Fe||0===Fe.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=Fe||[],Ye)))))];return Pt&&Tt.push(Pt.pipe((0,x.U)(se=>(Ye.value.unshift(se),Ye)))),Ht&&Tt.push(Ht.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[yt]===se[yt]);return-1!==Fe&&(Ye.value[Fe]=se),Ye}))),Ot&&Tt.push(Ot.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[yt]===se[yt]);return-1!==Fe&&Ye.value.splice(Fe,1),Ye}))),(0,r.T)(...Tt,Ke).pipe((0,P.O)(Ye))}static ofPage(ke,rt,yt,Pt,Ht,Ot){const Ye=new Nt([]),lt=new R.x,Ke=lt.pipe((0,x.U)(se=>(Ye.loadingState=se,Ye))),Tt=[ke.pipe((0,L.b)({next:()=>lt.next(e.Gu.LOADING)}),(0,u.w)(se=>rt(...se).pipe((0,x.U)(Fe=>(Ye.loadingState=null==Fe||0===Fe.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=Fe.content||[],Ye.pageNumber=Fe.number,Ye.totalElements=Fe.totalElements,Ye)))))];return Pt&&Tt.push(Pt.pipe((0,x.U)(se=>(0===Ye.pageNumber&&Ye.value.unshift(se),Ye)))),Ht&&Tt.push(Ht.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[yt]===se[yt]);return-1!==Fe&&(Ye.value[Fe]=se),Ye}))),Ot&&Tt.push(Ot.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[yt]===se[yt]);return-1!==Fe&&Ye.value.splice(Fe,1),Ye}))),(0,r.T)(...Tt,Ke).pipe((0,P.O)(Ye))}static ofPageAlt(ke,rt,yt,Pt,Ht,Ot){const Ye=new Nt([]),lt=new R.x,Ke=lt.pipe((0,x.U)(se=>(Ye.loadingState=se,Ye))),Tt=Pt?[(0,Q.a)([Pt.pipe((0,P.O)(null)),ke]).pipe((0,L.b)({next:se=>lt.next(e.Gu.LOADING)}),(0,u.w)(([se,Fe])=>rt(...Fe).pipe((0,x.U)(he=>(Ye.loadingState=null==he||0===he.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=he.content||[],Ye.pageNumber=he.number,Ye.totalElements=he.totalElements,Ye)))))]:[ke.pipe((0,L.b)({next:se=>lt.next(e.Gu.LOADING)}),(0,u.w)(([se,Fe])=>rt(...Fe).pipe((0,x.U)(he=>(Ye.loadingState=null==he||0===he.content.length?e.Gu.EMPTY:e.Gu.READY,Ye.value=he.content||[],Ye.pageNumber=he.number,Ye.totalElements=he.totalElements,Ye)))))];return Ht&&Tt.push(Ht.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[yt]===se[yt]);if(-1!==Fe){const he=Ye.value[Fe];for(let mt in he)null!=se[mt]&&(he[mt]=se[mt])}return Ye}))),Ot&&Tt.push(Ot.pipe((0,x.U)(se=>{const Fe=Ye.value.findIndex(he=>he[yt]===se[yt]);return-1!==Fe&&Ye.value.splice(Fe,1),Ye}))),(0,r.T)(...Tt,Ke).pipe((0,P.O)(Ye))}static ofPageAltAll(ke,rt,yt){const Pt=new Nt([]),Ht=new R.x,Ot=Ht.pipe((0,x.U)(lt=>(Pt.loadingState=lt,Pt))),Ye=(0,r.T)(ke,(0,r.T)(...yt||[]).pipe((0,u.w)(()=>ke.pipe((0,N.d)(1))),(0,x.U)(lt=>({filter:lt,update:!0})))).pipe((0,L.b)({next:lt=>{"update"in lt||Ht.next(e.Gu.LOADING)}}),(0,u.w)(lt=>rt(..."update"in lt?lt.filter:lt).pipe((0,x.U)(Ke=>(Pt.loadingState=null==Ke||0===Ke.content.length?e.Gu.EMPTY:e.Gu.READY,Pt.value=Ke.content||[],Pt.pageNumber=Ke.number,Pt.totalElements=Ke.totalElements,Pt)))));return(0,r.T)(Ye,Ot).pipe((0,P.O)(Pt))}static ofAltAll(ke,rt,yt){const Pt=new Rt([]),Ht=new R.x,Ot=Ht.pipe((0,x.U)(lt=>(Pt.loadingState=lt,Pt))),Ye=(0,r.T)(ke,(0,r.T)(...yt||[]).pipe((0,u.w)(()=>ke.pipe((0,N.d)(1))),(0,x.U)(lt=>({filter:lt,update:!0})))).pipe((0,L.b)({next:lt=>{"update"in lt||Ht.next(e.Gu.LOADING)}}),(0,u.w)(lt=>rt(..."update"in lt?lt.filter:lt).pipe((0,x.U)(Ke=>(Pt.loadingState=null==Ke||0===Ke.length?e.Gu.EMPTY:e.Gu.READY,Pt.value=Ke||[],Pt)))));return(0,r.T)(Ye,Ot).pipe((0,P.O)(Pt))}static ofAll(ke,rt){const yt=new Rt([]);return(0,r.T)(...rt||[]).pipe((0,P.O)(null),(0,u.w)(()=>ke.pipe((0,x.U)(Ht=>(yt.loadingState=null==Ht||0===Ht.length?e.Gu.EMPTY:e.Gu.READY,yt.value=Ht||[],yt))))).pipe((0,P.O)(yt))}}const st=new T.y(ge=>{let ke=1;const rt=setInterval(()=>{ge.next(".".repeat(ke)),ke++,ke>3&&(ke=1)},300);return()=>clearInterval(rt)}),ot=[{stWidth:87,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:69,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:90,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:70,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:109,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:73,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:85,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:73,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:82,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:102,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:66,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:117,houses:[null,null,null,null,null,null,null,null,null]},{stWidth:68,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:120,houses:[null,null,null,null]},{stWidth:67,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:70,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:78,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:122,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:90,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{stWidth:114,houses:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}]},2340:(hn,ft,b)=>{"use strict";b.d(ft,{N:()=>e});const e={production:!0,wsHost:"ws://10.128.227.39/socket",hmr:!1}},8255:(hn,ft,b)=>{"use strict";var e=b(2313),d=b(5e3),u=b(383),f=b(3470),_=b(9300),P=b(4326),x=b(9783),r=b(9808),R=b(7773),L=b(1110);function Q(Ct,ae){if(1&Ct&&(d.TgZ(0,"span",9),d._uU(1),d.qZA()),2&Ct){const pe=d.oxw().$implicit;d.xp6(1),d.Oqu(pe.data.descriptionOfAttachment)}}function N(Ct,ae){if(1&Ct&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Ct){const pe=d.oxw().$implicit;d.xp6(1),d.Oqu(pe.data.text)}}const T=function(){return{marginLeft:"2rem"}};function y(Ct,ae){if(1&Ct&&(d.TgZ(0,"div",2)(1,"div",3),d._UZ(2,"app-employee-label",4),d.qZA(),d.TgZ(3,"div",5),d.YNc(4,Q,2,1,"span",6),d.YNc(5,N,2,1,"span",7),d.qZA(),d.TgZ(6,"div",8)(7,"span"),d._uU(8),d.ALo(9,"date"),d.qZA()()()),2&Ct){const pe=ae.$implicit;d.xp6(2),d.Q6J("employee",pe.data.author),d.xp6(1),d.Akn(d.DdM(9,T)),d.xp6(1),d.Q6J("ngIf",pe.data.descriptionOfAttachment),d.xp6(1),d.Q6J("ngIf",pe.data.text),d.xp6(3),d.Oqu(d.xi3(9,6,pe.data.sendAt,"dd-MM-yyyy HH:mm"))}}let E=(()=>{class Ct{constructor(pe,We,xt,Qt){this.config=pe,this.title="Microel CRM",(0,u.EM)(pe),(0,u.XO)(We),xt.events.pipe((0,_.h)(un=>un instanceof f.Xs)).pipe((0,P.g)(1)).subscribe(un=>{un.position?Qt.scrollToPosition(un.position):un.anchor?Qt.scrollToAnchor(un.anchor):Qt.scrollToPosition([0,0])})}}return Ct.\u0275fac=function(pe){return new(pe||Ct)(d.Y36(x.b4),d.Y36(d.zs3),d.Y36(f.F0),d.Y36(r.EM))},Ct.\u0275cmp=d.Xpm({type:Ct,selectors:[["app-root"]],decls:4,vars:0,consts:[["position","bottom-right","key","chatMessage"],["pTemplate","message"],[1,"flexed","column","stretched","gap5"],[1,"flexed","hcenter"],[3,"employee"],[1,"flexed","column"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[4,"ngIf"],[1,"flexed","vend","caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","wt-bold","f-color-primary"]],template:function(pe,We){1&pe&&(d._UZ(0,"router-outlet")(1,"p-toast"),d.TgZ(2,"p-toast",0),d.YNc(3,y,10,10,"ng-template",1),d.qZA())},dependencies:[f.lC,r.O5,R.FN,x.jx,L.x,r.uU]}),Ct})();const D=void 0,B=["ru",[["AM","PM"],D,D],D,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],D,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",D,D,D],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[D,"\u0440."],GEL:[D,"\u10da"],PHP:[D,"\u20b1"],RON:[D,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function U(Ct){const pe=Math.floor(Math.abs(Ct)),We=Ct.toString().replace(/^[^.]*\.?/,"").length;return 0===We&&pe%10==1&&pe%100!=11?1:0===We&&pe%10===Math.floor(pe%10)&&pe%10>=2&&pe%10<=4&&!(pe%100>=12&&pe%100<=14)?3:0===We&&pe%10==0||0===We&&pe%10===Math.floor(pe%10)&&pe%10>=5&&pe%10<=9||0===We&&pe%100===Math.floor(pe%100)&&pe%100>=11&&pe%100<=14?4:5}];var ce=b(975),$=b(4075),V=b(1777);function O(Ct){return new d.vHH(3e3,!1)}function Ot(){return"undefined"!=typeof window&&void 0!==window.document}function Ye(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function lt(Ct){switch(Ct.length){case 0:return new V.ZN;case 1:return Ct[0];default:return new V.ZE(Ct)}}function Ke(Ct,ae,pe,We,xt=new Map,Qt=new Map){const un=[],_n=[];let Sn=-1,zn=null;if(We.forEach(Yt=>{const Ne=Yt.get("offset"),Be=Ne==Sn,_t=Be&&zn||new Map;Yt.forEach((Ft,an)=>{let An=an,On=Ft;if("offset"!==an)switch(An=ae.normalizePropertyName(An,un),On){case V.k1:On=xt.get(an);break;case V.l3:On=Qt.get(an);break;default:On=ae.normalizeStyleValue(an,An,On,un)}_t.set(An,On)}),Be||_n.push(_t),zn=_t,Sn=Ne}),un.length)throw function vt(Ct){return new d.vHH(3502,!1)}();return _n}function Tt(Ct,ae,pe,We){switch(ae){case"start":Ct.onStart(()=>We(pe&&se(pe,"start",Ct)));break;case"done":Ct.onDone(()=>We(pe&&se(pe,"done",Ct)));break;case"destroy":Ct.onDestroy(()=>We(pe&&se(pe,"destroy",Ct)))}}function se(Ct,ae,pe){const We=pe.totalTime,Qt=Fe(Ct.element,Ct.triggerName,Ct.fromState,Ct.toState,ae||Ct.phaseName,null==We?Ct.totalTime:We,!!pe.disabled),un=Ct._data;return null!=un&&(Qt._data=un),Qt}function Fe(Ct,ae,pe,We,xt="",Qt=0,un){return{element:Ct,triggerName:ae,fromState:pe,toState:We,phaseName:xt,totalTime:Qt,disabled:!!un}}function he(Ct,ae,pe){let We=Ct.get(ae);return We||Ct.set(ae,We=pe),We}function mt(Ct){const ae=Ct.indexOf(":");return[Ct.substring(1,ae),Ct.slice(ae+1)]}let cn=(Ct,ae)=>!1,Tn=(Ct,ae,pe)=>[],tn=null;function bt(Ct){const ae=Ct.parentNode||Ct.host;return ae===tn?null:ae}(Ye()||"undefined"!=typeof Element)&&(Ot()?(tn=(()=>document.documentElement)(),cn=(Ct,ae)=>{for(;ae;){if(ae===Ct)return!0;ae=bt(ae)}return!1}):cn=(Ct,ae)=>Ct.contains(ae),Tn=(Ct,ae,pe)=>{if(pe)return Array.from(Ct.querySelectorAll(ae));const We=Ct.querySelector(ae);return We?[We]:[]});let Qe=null,ze=!1;const gn=cn,Gt=Tn;let Ut=(()=>{class Ct{validateStyleProperty(pe){return function kt(Ct){Qe||(Qe=function $t(){return"undefined"!=typeof document?document.body:null}()||{},ze=!!Qe.style&&"WebkitAppearance"in Qe.style);let ae=!0;return Qe.style&&!function de(Ct){return"ebkit"==Ct.substring(1,6)}(Ct)&&(ae=Ct in Qe.style,!ae&&ze&&(ae="Webkit"+Ct.charAt(0).toUpperCase()+Ct.slice(1)in Qe.style)),ae}(pe)}matchesElement(pe,We){return!1}containsElement(pe,We){return gn(pe,We)}getParentElement(pe){return bt(pe)}query(pe,We,xt){return Gt(pe,We,xt)}computeStyle(pe,We,xt){return xt||""}animate(pe,We,xt,Qt,un,_n=[],Sn){return new V.ZN(xt,Qt)}}return Ct.\u0275fac=function(pe){return new(pe||Ct)},Ct.\u0275prov=d.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})(),rn=(()=>{class Ct{}return Ct.NOOP=new Ut,Ct})();const vi="ng-enter",Ji="ng-leave",Qi="ng-trigger",Vo=".ng-trigger",zt="ng-animating",Je=".ng-animating";function xe(Ct){if("number"==typeof Ct)return Ct;const ae=Ct.match(/^(-?[\.\d]+)(m?s)/);return!ae||ae.length<2?0:He(parseFloat(ae[1]),ae[2])}function He(Ct,ae){return"s"===ae?1e3*Ct:Ct}function pt(Ct,ae,pe){return Ct.hasOwnProperty("duration")?Ct:function dn(Ct,ae,pe){let xt,Qt=0,un="";if("string"==typeof Ct){const _n=Ct.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_n)return ae.push(O()),{duration:0,delay:0,easing:""};xt=He(parseFloat(_n[1]),_n[2]);const Sn=_n[3];null!=Sn&&(Qt=He(parseFloat(Sn),_n[4]));const zn=_n[5];zn&&(un=zn)}else xt=Ct;if(!pe){let _n=!1,Sn=ae.length;xt<0&&(ae.push(function K(){return new d.vHH(3100,!1)}()),_n=!0),Qt<0&&(ae.push(function ue(){return new d.vHH(3101,!1)}()),_n=!0),_n&&ae.splice(Sn,0,O())}return{duration:xt,delay:Qt,easing:un}}(Ct,ae,pe)}function xn(Ct,ae={}){return Object.keys(Ct).forEach(pe=>{ae[pe]=Ct[pe]}),ae}function Zt(Ct){const ae=new Map;return Object.keys(Ct).forEach(pe=>{ae.set(pe,Ct[pe])}),ae}function Wn(Ct,ae=new Map,pe){if(pe)for(let[We,xt]of pe)ae.set(We,xt);for(let[We,xt]of Ct)ae.set(We,xt);return ae}function si(Ct,ae,pe){return pe?ae+":"+pe+";":""}function gi(Ct){let ae="";for(let pe=0;pe<Ct.style.length;pe++){const We=Ct.style.item(pe);ae+=si(0,We,Ct.style.getPropertyValue(We))}for(const pe in Ct.style)Ct.style.hasOwnProperty(pe)&&!pe.startsWith("_")&&(ae+=si(0,os(pe),Ct.style[pe]));Ct.setAttribute("style",ae)}function ii(Ct,ae,pe){Ct.style&&(ae.forEach((We,xt)=>{const Qt=Xi(xt);pe&&!pe.has(xt)&&pe.set(xt,Ct.style[Qt]),Ct.style[Qt]=We}),Ye()&&gi(Ct))}function ki(Ct,ae){Ct.style&&(ae.forEach((pe,We)=>{const xt=Xi(We);Ct.style[xt]=""}),Ye()&&gi(Ct))}function qi(Ct){return Array.isArray(Ct)?1==Ct.length?Ct[0]:(0,V.vP)(Ct):Ct}const li=new RegExp("{{\\s*(.+?)\\s*}}","g");function ho(Ct){let ae=[];if("string"==typeof Ct){let pe;for(;pe=li.exec(Ct);)ae.push(pe[1]);li.lastIndex=0}return ae}function Go(Ct,ae,pe){const We=Ct.toString(),xt=We.replace(li,(Qt,un)=>{let _n=ae[un];return null==_n&&(pe.push(function G(Ct){return new d.vHH(3003,!1)}()),_n=""),_n.toString()});return xt==We?Ct:xt}function Wo(Ct){const ae=[];let pe=Ct.next();for(;!pe.done;)ae.push(pe.value),pe=Ct.next();return ae}const vo=/-+([a-z0-9])/g;function Xi(Ct){return Ct.replace(vo,(...ae)=>ae[1].toUpperCase())}function os(Ct){return Ct.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uo(Ct,ae,pe){switch(ae.type){case 7:return Ct.visitTrigger(ae,pe);case 0:return Ct.visitState(ae,pe);case 1:return Ct.visitTransition(ae,pe);case 2:return Ct.visitSequence(ae,pe);case 3:return Ct.visitGroup(ae,pe);case 4:return Ct.visitAnimate(ae,pe);case 5:return Ct.visitKeyframes(ae,pe);case 6:return Ct.visitStyle(ae,pe);case 8:return Ct.visitReference(ae,pe);case 9:return Ct.visitAnimateChild(ae,pe);case 10:return Ct.visitAnimateRef(ae,pe);case 11:return Ct.visitQuery(ae,pe);case 12:return Ct.visitStagger(ae,pe);default:throw function ne(Ct){return new d.vHH(3004,!1)}()}}function Io(Ct,ae){return window.getComputedStyle(Ct)[ae]}function ds(Ct,ae){const pe=[];return"string"==typeof Ct?Ct.split(/\s*,\s*/).forEach(We=>function br(Ct,ae,pe){if(":"==Ct[0]){const Sn=function fa(Ct,ae){switch(Ct){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(pe,We)=>parseFloat(We)>parseFloat(pe);case":decrement":return(pe,We)=>parseFloat(We)<parseFloat(pe);default:return ae.push(function Ie(Ct){return new d.vHH(3016,!1)}()),"* => *"}}(Ct,pe);if("function"==typeof Sn)return void ae.push(Sn);Ct=Sn}const We=Ct.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==We||We.length<4)return pe.push(function we(Ct){return new d.vHH(3015,!1)}()),ae;const xt=We[1],Qt=We[2],un=We[3];ae.push(wa(xt,un));"<"==Qt[0]&&!("*"==xt&&"*"==un)&&ae.push(wa(un,xt))}(We,pe,ae)):pe.push(Ct),pe}const yr=new Set(["true","1"]),xr=new Set(["false","0"]);function wa(Ct,ae){const pe=yr.has(Ct)||xr.has(Ct),We=yr.has(ae)||xr.has(ae);return(xt,Qt)=>{let un="*"==Ct||Ct==xt,_n="*"==ae||ae==Qt;return!un&&pe&&"boolean"==typeof xt&&(un=xt?yr.has(Ct):xr.has(Ct)),!_n&&We&&"boolean"==typeof Qt&&(_n=Qt?yr.has(ae):xr.has(ae)),un&&_n}}const ua=new RegExp("s*:selfs*,?","g");function Ks(Ct,ae,pe,We){return new Fr(Ct).build(ae,pe,We)}class Fr{constructor(ae){this._driver=ae}build(ae,pe,We){const xt=new Ii(pe);return this._resetContextStyleTimingState(xt),uo(this,qi(ae),xt)}_resetContextStyleTimingState(ae){ae.currentQuerySelector="",ae.collectedStyles=new Map,ae.collectedStyles.set("",new Map),ae.currentTime=0}visitTrigger(ae,pe){let We=pe.queryCount=0,xt=pe.depCount=0;const Qt=[],un=[];return"@"==ae.name.charAt(0)&&pe.errors.push(function oe(){return new d.vHH(3006,!1)}()),ae.definitions.forEach(_n=>{if(this._resetContextStyleTimingState(pe),0==_n.type){const Sn=_n,zn=Sn.name;zn.toString().split(/\s*,\s*/).forEach(Yt=>{Sn.name=Yt,Qt.push(this.visitState(Sn,pe))}),Sn.name=zn}else if(1==_n.type){const Sn=this.visitTransition(_n,pe);We+=Sn.queryCount,xt+=Sn.depCount,un.push(Sn)}else pe.errors.push(function z(){return new d.vHH(3007,!1)}())}),{type:7,name:ae.name,states:Qt,transitions:un,queryCount:We,depCount:xt,options:null}}visitState(ae,pe){const We=this.visitStyle(ae.styles,pe),xt=ae.options&&ae.options.params||null;if(We.containsDynamicStyles){const Qt=new Set,un=xt||{};We.styles.forEach(_n=>{_n instanceof Map&&_n.forEach(Sn=>{ho(Sn).forEach(zn=>{un.hasOwnProperty(zn)||Qt.add(zn)})})}),Qt.size&&(Wo(Qt.values()),pe.errors.push(function te(Ct,ae){return new d.vHH(3008,!1)}()))}return{type:0,name:ae.name,style:We,options:xt?{params:xt}:null}}visitTransition(ae,pe){pe.queryCount=0,pe.depCount=0;const We=uo(this,qi(ae.animation),pe);return{type:1,matchers:ds(ae.expr,pe.errors),animation:We,queryCount:pe.queryCount,depCount:pe.depCount,options:As(ae.options)}}visitSequence(ae,pe){return{type:2,steps:ae.steps.map(We=>uo(this,We,pe)),options:As(ae.options)}}visitGroup(ae,pe){const We=pe.currentTime;let xt=0;const Qt=ae.steps.map(un=>{pe.currentTime=We;const _n=uo(this,un,pe);return xt=Math.max(xt,pe.currentTime),_n});return pe.currentTime=xt,{type:3,steps:Qt,options:As(ae.options)}}visitAnimate(ae,pe){const We=function Ir(Ct,ae){if(Ct.hasOwnProperty("duration"))return Ct;if("number"==typeof Ct)return ir(pt(Ct,ae).duration,0,"");const pe=Ct;if(pe.split(/\s+/).some(Qt=>"{"==Qt.charAt(0)&&"{"==Qt.charAt(1))){const Qt=ir(0,0,"");return Qt.dynamic=!0,Qt.strValue=pe,Qt}const xt=pt(pe,ae);return ir(xt.duration,xt.delay,xt.easing)}(ae.timings,pe.errors);pe.currentAnimateTimings=We;let xt,Qt=ae.styles?ae.styles:(0,V.oB)({});if(5==Qt.type)xt=this.visitKeyframes(Qt,pe);else{let un=ae.styles,_n=!1;if(!un){_n=!0;const zn={};We.easing&&(zn.easing=We.easing),un=(0,V.oB)(zn)}pe.currentTime+=We.duration+We.delay;const Sn=this.visitStyle(un,pe);Sn.isEmptyStep=_n,xt=Sn}return pe.currentAnimateTimings=null,{type:4,timings:We,style:xt,options:null}}visitStyle(ae,pe){const We=this._makeStyleAst(ae,pe);return this._validateStyleAst(We,pe),We}_makeStyleAst(ae,pe){const We=[],xt=Array.isArray(ae.styles)?ae.styles:[ae.styles];for(let _n of xt)"string"==typeof _n?_n===V.l3?We.push(_n):pe.errors.push(new d.vHH(3002,!1)):We.push(Zt(_n));let Qt=!1,un=null;return We.forEach(_n=>{if(_n instanceof Map&&(_n.has("easing")&&(un=_n.get("easing"),_n.delete("easing")),!Qt))for(let Sn of _n.values())if(Sn.toString().indexOf("{{")>=0){Qt=!0;break}}),{type:6,styles:We,easing:un,offset:ae.offset,containsDynamicStyles:Qt,options:null}}_validateStyleAst(ae,pe){const We=pe.currentAnimateTimings;let xt=pe.currentTime,Qt=pe.currentTime;We&&Qt>0&&(Qt-=We.duration+We.delay),ae.styles.forEach(un=>{"string"!=typeof un&&un.forEach((_n,Sn)=>{const zn=pe.collectedStyles.get(pe.currentQuerySelector),Yt=zn.get(Sn);let Ne=!0;Yt&&(Qt!=xt&&Qt>=Yt.startTime&&xt<=Yt.endTime&&(pe.errors.push(function Ae(Ct,ae,pe,We,xt){return new d.vHH(3010,!1)}()),Ne=!1),Qt=Yt.startTime),Ne&&zn.set(Sn,{startTime:Qt,endTime:xt}),pe.options&&function Oo(Ct,ae,pe){const We=ae.params||{},xt=ho(Ct);xt.length&&xt.forEach(Qt=>{We.hasOwnProperty(Qt)||pe.push(function q(Ct){return new d.vHH(3001,!1)}())})}(_n,pe.options,pe.errors)})})}visitKeyframes(ae,pe){const We={type:5,styles:[],options:null};if(!pe.currentAnimateTimings)return pe.errors.push(function Ee(){return new d.vHH(3011,!1)}()),We;let Qt=0;const un=[];let _n=!1,Sn=!1,zn=0;const Yt=ae.steps.map(On=>{const ti=this._makeStyleAst(On,pe);let Yn=null!=ti.offset?ti.offset:function nr(Ct){if("string"==typeof Ct)return null;let ae=null;if(Array.isArray(Ct))Ct.forEach(pe=>{if(pe instanceof Map&&pe.has("offset")){const We=pe;ae=parseFloat(We.get("offset")),We.delete("offset")}});else if(Ct instanceof Map&&Ct.has("offset")){const pe=Ct;ae=parseFloat(pe.get("offset")),pe.delete("offset")}return ae}(ti.styles),Ai=0;return null!=Yn&&(Qt++,Ai=ti.offset=Yn),Sn=Sn||Ai<0||Ai>1,_n=_n||Ai<zn,zn=Ai,un.push(Ai),ti});Sn&&pe.errors.push(function qe(){return new d.vHH(3012,!1)}()),_n&&pe.errors.push(function ye(){return new d.vHH(3200,!1)}());const Ne=ae.steps.length;let Be=0;Qt>0&&Qt<Ne?pe.errors.push(function Ge(){return new d.vHH(3202,!1)}()):0==Qt&&(Be=1/(Ne-1));const _t=Ne-1,Ft=pe.currentTime,an=pe.currentAnimateTimings,An=an.duration;return Yt.forEach((On,ti)=>{const Yn=Be>0?ti==_t?1:Be*ti:un[ti],Ai=Yn*An;pe.currentTime=Ft+an.delay+Ai,an.duration=Ai,this._validateStyleAst(On,pe),On.offset=Yn,We.styles.push(On)}),We}visitReference(ae,pe){return{type:8,animation:uo(this,qi(ae.animation),pe),options:As(ae.options)}}visitAnimateChild(ae,pe){return pe.depCount++,{type:9,options:As(ae.options)}}visitAnimateRef(ae,pe){return{type:10,animation:this.visitReference(ae.animation,pe),options:As(ae.options)}}visitQuery(ae,pe){const We=pe.currentQuerySelector,xt=ae.options||{};pe.queryCount++,pe.currentQuery=ae;const[Qt,un]=function Eo(Ct){const ae=!!Ct.split(/\s*,\s*/).find(pe=>":self"==pe);return ae&&(Ct=Ct.replace(ua,"")),Ct=Ct.replace(/@\*/g,Vo).replace(/@\w+/g,pe=>Vo+"-"+pe.slice(1)).replace(/:animating/g,Je),[Ct,ae]}(ae.selector);pe.currentQuerySelector=We.length?We+" "+Qt:Qt,he(pe.collectedStyles,pe.currentQuerySelector,new Map);const _n=uo(this,qi(ae.animation),pe);return pe.currentQuery=null,pe.currentQuerySelector=We,{type:11,selector:Qt,limit:xt.limit||0,optional:!!xt.optional,includeSelf:un,animation:_n,originalSelector:ae.selector,options:As(ae.options)}}visitStagger(ae,pe){pe.currentQuery||pe.errors.push(function X(){return new d.vHH(3013,!1)}());const We="full"===ae.timings?{duration:0,delay:0,easing:"full"}:pt(ae.timings,pe.errors,!0);return{type:12,animation:uo(this,qi(ae.animation),pe),timings:We,options:null}}}class Ii{constructor(ae){this.errors=ae,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function As(Ct){return Ct?(Ct=xn(Ct)).params&&(Ct.params=function ei(Ct){return Ct?xn(Ct):null}(Ct.params)):Ct={},Ct}function ir(Ct,ae,pe){return{duration:Ct,delay:ae,easing:pe}}function $i(Ct,ae,pe,We,xt,Qt,un=null,_n=!1){return{type:1,element:Ct,keyframes:ae,preStyleProps:pe,postStyleProps:We,duration:xt,delay:Qt,totalTime:xt+Qt,easing:un,subTimeline:_n}}class ss{constructor(){this._map=new Map}get(ae){return this._map.get(ae)||[]}append(ae,pe){let We=this._map.get(ae);We||this._map.set(ae,We=[]),We.push(...pe)}has(ae){return this._map.has(ae)}clear(){this._map.clear()}}const Xo=new RegExp(":enter","g"),rs=new RegExp(":leave","g");function go(Ct,ae,pe,We,xt,Qt=new Map,un=new Map,_n,Sn,zn=[]){return(new ys).buildKeyframes(Ct,ae,pe,We,xt,Qt,un,_n,Sn,zn)}class ys{buildKeyframes(ae,pe,We,xt,Qt,un,_n,Sn,zn,Yt=[]){zn=zn||new ss;const Ne=new ws(ae,pe,zn,xt,Qt,Yt,[]);Ne.options=Sn;const Be=Sn.delay?xe(Sn.delay):0;Ne.currentTimeline.delayNextStep(Be),Ne.currentTimeline.setStyles([un],null,Ne.errors,Sn),uo(this,We,Ne);const _t=Ne.timelines.filter(Ft=>Ft.containsAnimation());if(_t.length&&_n.size){let Ft;for(let an=_t.length-1;an>=0;an--){const An=_t[an];if(An.element===pe){Ft=An;break}}Ft&&!Ft.allowOnlyTimelineStyles()&&Ft.setStyles([_n],null,Ne.errors,Sn)}return _t.length?_t.map(Ft=>Ft.buildKeyframes()):[$i(pe,[],[],[],0,Be,"",!1)]}visitTrigger(ae,pe){}visitState(ae,pe){}visitTransition(ae,pe){}visitAnimateChild(ae,pe){const We=pe.subInstructions.get(pe.element);if(We){const xt=pe.createSubContext(ae.options),Qt=pe.currentTimeline.currentTime,un=this._visitSubInstructions(We,xt,xt.options);Qt!=un&&pe.transformIntoNewTimeline(un)}pe.previousNode=ae}visitAnimateRef(ae,pe){const We=pe.createSubContext(ae.options);We.transformIntoNewTimeline(),this._applyAnimationRefDelays([ae.options,ae.animation.options],pe,We),this.visitReference(ae.animation,We),pe.transformIntoNewTimeline(We.currentTimeline.currentTime),pe.previousNode=ae}_applyAnimationRefDelays(ae,pe,We){var xt;for(const Qt of ae){const un=null==Qt?void 0:Qt.delay;if(un){const _n="number"==typeof un?un:xe(Go(un,null!==(xt=null==Qt?void 0:Qt.params)&&void 0!==xt?xt:{},pe.errors));We.delayNextStep(_n)}}}_visitSubInstructions(ae,pe,We){let Qt=pe.currentTimeline.currentTime;const un=null!=We.duration?xe(We.duration):null,_n=null!=We.delay?xe(We.delay):null;return 0!==un&&ae.forEach(Sn=>{const zn=pe.appendInstructionToTimeline(Sn,un,_n);Qt=Math.max(Qt,zn.duration+zn.delay)}),Qt}visitReference(ae,pe){pe.updateOptions(ae.options,!0),uo(this,ae.animation,pe),pe.previousNode=ae}visitSequence(ae,pe){const We=pe.subContextCount;let xt=pe;const Qt=ae.options;if(Qt&&(Qt.params||Qt.delay)&&(xt=pe.createSubContext(Qt),xt.transformIntoNewTimeline(),null!=Qt.delay)){6==xt.previousNode.type&&(xt.currentTimeline.snapshotCurrentStyles(),xt.previousNode=xs);const un=xe(Qt.delay);xt.delayNextStep(un)}ae.steps.length&&(ae.steps.forEach(un=>uo(this,un,xt)),xt.currentTimeline.applyStylesToKeyframe(),xt.subContextCount>We&&xt.transformIntoNewTimeline()),pe.previousNode=ae}visitGroup(ae,pe){const We=[];let xt=pe.currentTimeline.currentTime;const Qt=ae.options&&ae.options.delay?xe(ae.options.delay):0;ae.steps.forEach(un=>{const _n=pe.createSubContext(ae.options);Qt&&_n.delayNextStep(Qt),uo(this,un,_n),xt=Math.max(xt,_n.currentTimeline.currentTime),We.push(_n.currentTimeline)}),We.forEach(un=>pe.currentTimeline.mergeTimelineCollectedStyles(un)),pe.transformIntoNewTimeline(xt),pe.previousNode=ae}_visitTiming(ae,pe){if(ae.dynamic){const We=ae.strValue;return pt(pe.params?Go(We,pe.params,pe.errors):We,pe.errors)}return{duration:ae.duration,delay:ae.delay,easing:ae.easing}}visitAnimate(ae,pe){const We=pe.currentAnimateTimings=this._visitTiming(ae.timings,pe),xt=pe.currentTimeline;We.delay&&(pe.incrementTime(We.delay),xt.snapshotCurrentStyles());const Qt=ae.style;5==Qt.type?this.visitKeyframes(Qt,pe):(pe.incrementTime(We.duration),this.visitStyle(Qt,pe),xt.applyStylesToKeyframe()),pe.currentAnimateTimings=null,pe.previousNode=ae}visitStyle(ae,pe){const We=pe.currentTimeline,xt=pe.currentAnimateTimings;!xt&&We.hasCurrentStyleProperties()&&We.forwardFrame();const Qt=xt&&xt.easing||ae.easing;ae.isEmptyStep?We.applyEmptyStep(Qt):We.setStyles(ae.styles,Qt,pe.errors,pe.options),pe.previousNode=ae}visitKeyframes(ae,pe){const We=pe.currentAnimateTimings,xt=pe.currentTimeline.duration,Qt=We.duration,_n=pe.createSubContext().currentTimeline;_n.easing=We.easing,ae.styles.forEach(Sn=>{_n.forwardTime((Sn.offset||0)*Qt),_n.setStyles(Sn.styles,Sn.easing,pe.errors,pe.options),_n.applyStylesToKeyframe()}),pe.currentTimeline.mergeTimelineCollectedStyles(_n),pe.transformIntoNewTimeline(xt+Qt),pe.previousNode=ae}visitQuery(ae,pe){const We=pe.currentTimeline.currentTime,xt=ae.options||{},Qt=xt.delay?xe(xt.delay):0;Qt&&(6===pe.previousNode.type||0==We&&pe.currentTimeline.hasCurrentStyleProperties())&&(pe.currentTimeline.snapshotCurrentStyles(),pe.previousNode=xs);let un=We;const _n=pe.invokeQuery(ae.selector,ae.originalSelector,ae.limit,ae.includeSelf,!!xt.optional,pe.errors);pe.currentQueryTotal=_n.length;let Sn=null;_n.forEach((zn,Yt)=>{pe.currentQueryIndex=Yt;const Ne=pe.createSubContext(ae.options,zn);Qt&&Ne.delayNextStep(Qt),zn===pe.element&&(Sn=Ne.currentTimeline),uo(this,ae.animation,Ne),Ne.currentTimeline.applyStylesToKeyframe(),un=Math.max(un,Ne.currentTimeline.currentTime)}),pe.currentQueryIndex=0,pe.currentQueryTotal=0,pe.transformIntoNewTimeline(un),Sn&&(pe.currentTimeline.mergeTimelineCollectedStyles(Sn),pe.currentTimeline.snapshotCurrentStyles()),pe.previousNode=ae}visitStagger(ae,pe){const We=pe.parentContext,xt=pe.currentTimeline,Qt=ae.timings,un=Math.abs(Qt.duration),_n=un*(pe.currentQueryTotal-1);let Sn=un*pe.currentQueryIndex;switch(Qt.duration<0?"reverse":Qt.easing){case"reverse":Sn=_n-Sn;break;case"full":Sn=We.currentStaggerTime}const Yt=pe.currentTimeline;Sn&&Yt.delayNextStep(Sn);const Ne=Yt.currentTime;uo(this,ae.animation,pe),pe.previousNode=ae,We.currentStaggerTime=xt.currentTime-Ne+(xt.startTime-We.currentTimeline.startTime)}}const xs={};class ws{constructor(ae,pe,We,xt,Qt,un,_n,Sn){this._driver=ae,this.element=pe,this.subInstructions=We,this._enterClassName=xt,this._leaveClassName=Qt,this.errors=un,this.timelines=_n,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Sn||new Vs(this._driver,pe,0),_n.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(ae,pe){if(!ae)return;const We=ae;let xt=this.options;null!=We.duration&&(xt.duration=xe(We.duration)),null!=We.delay&&(xt.delay=xe(We.delay));const Qt=We.params;if(Qt){let un=xt.params;un||(un=this.options.params={}),Object.keys(Qt).forEach(_n=>{(!pe||!un.hasOwnProperty(_n))&&(un[_n]=Go(Qt[_n],un,this.errors))})}}_copyOptions(){const ae={};if(this.options){const pe=this.options.params;if(pe){const We=ae.params={};Object.keys(pe).forEach(xt=>{We[xt]=pe[xt]})}}return ae}createSubContext(ae=null,pe,We){const xt=pe||this.element,Qt=new ws(this._driver,xt,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(xt,We||0));return Qt.previousNode=this.previousNode,Qt.currentAnimateTimings=this.currentAnimateTimings,Qt.options=this._copyOptions(),Qt.updateOptions(ae),Qt.currentQueryIndex=this.currentQueryIndex,Qt.currentQueryTotal=this.currentQueryTotal,Qt.parentContext=this,this.subContextCount++,Qt}transformIntoNewTimeline(ae){return this.previousNode=xs,this.currentTimeline=this.currentTimeline.fork(this.element,ae),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(ae,pe,We){const xt={duration:null!=pe?pe:ae.duration,delay:this.currentTimeline.currentTime+(null!=We?We:0)+ae.delay,easing:""},Qt=new Ar(this._driver,ae.element,ae.keyframes,ae.preStyleProps,ae.postStyleProps,xt,ae.stretchStartingKeyframe);return this.timelines.push(Qt),xt}incrementTime(ae){this.currentTimeline.forwardTime(this.currentTimeline.duration+ae)}delayNextStep(ae){ae>0&&this.currentTimeline.delayNextStep(ae)}invokeQuery(ae,pe,We,xt,Qt,un){let _n=[];if(xt&&_n.push(this.element),ae.length>0){ae=(ae=ae.replace(Xo,"."+this._enterClassName)).replace(rs,"."+this._leaveClassName);let zn=this._driver.query(this.element,ae,1!=We);0!==We&&(zn=We<0?zn.slice(zn.length+We,zn.length):zn.slice(0,We)),_n.push(...zn)}return!Qt&&0==_n.length&&un.push(function be(Ct){return new d.vHH(3014,!1)}()),_n}}class Vs{constructor(ae,pe,We,xt){this._driver=ae,this.element=pe,this.startTime=We,this._elementTimelineStylesLookup=xt,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(pe),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(pe,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(ae){const pe=1===this._keyframes.size&&this._pendingStyles.size;this.duration||pe?(this.forwardTime(this.currentTime+ae),pe&&this.snapshotCurrentStyles()):this.startTime+=ae}fork(ae,pe){return this.applyStylesToKeyframe(),new Vs(this._driver,ae,pe||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(ae){this.applyStylesToKeyframe(),this.duration=ae,this._loadKeyframe()}_updateStyle(ae,pe){this._localTimelineStyles.set(ae,pe),this._globalTimelineStyles.set(ae,pe),this._styleSummary.set(ae,{time:this.currentTime,value:pe})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(ae){ae&&this._previousKeyframe.set("easing",ae);for(let[pe,We]of this._globalTimelineStyles)this._backFill.set(pe,We||V.l3),this._currentKeyframe.set(pe,V.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(ae,pe,We,xt){var Qt;pe&&this._previousKeyframe.set("easing",pe);const un=xt&&xt.params||{},_n=function Br(Ct,ae){const pe=new Map;let We;return Ct.forEach(xt=>{if("*"===xt){We=We||ae.keys();for(let Qt of We)pe.set(Qt,V.l3)}else Wn(xt,pe)}),pe}(ae,this._globalTimelineStyles);for(let[Sn,zn]of _n){const Yt=Go(zn,un,We);this._pendingStyles.set(Sn,Yt),this._localTimelineStyles.has(Sn)||this._backFill.set(Sn,null!==(Qt=this._globalTimelineStyles.get(Sn))&&void 0!==Qt?Qt:V.l3),this._updateStyle(Sn,Yt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((ae,pe)=>{this._currentKeyframe.set(pe,ae)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((ae,pe)=>{this._currentKeyframe.has(pe)||this._currentKeyframe.set(pe,ae)}))}snapshotCurrentStyles(){for(let[ae,pe]of this._localTimelineStyles)this._pendingStyles.set(ae,pe),this._updateStyle(ae,pe)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const ae=[];for(let pe in this._currentKeyframe)ae.push(pe);return ae}mergeTimelineCollectedStyles(ae){ae._styleSummary.forEach((pe,We)=>{const xt=this._styleSummary.get(We);(!xt||pe.time>xt.time)&&this._updateStyle(We,pe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const ae=new Set,pe=new Set,We=1===this._keyframes.size&&0===this.duration;let xt=[];this._keyframes.forEach((_n,Sn)=>{const zn=Wn(_n,new Map,this._backFill);zn.forEach((Yt,Ne)=>{Yt===V.k1?ae.add(Ne):Yt===V.l3&&pe.add(Ne)}),We||zn.set("offset",Sn/this.duration),xt.push(zn)});const Qt=ae.size?Wo(ae.values()):[],un=pe.size?Wo(pe.values()):[];if(We){const _n=xt[0],Sn=new Map(_n);_n.set("offset",0),Sn.set("offset",1),xt=[_n,Sn]}return $i(this.element,xt,Qt,un,this.duration,this.startTime,this.easing,!1)}}class Ar extends Vs{constructor(ae,pe,We,xt,Qt,un,_n=!1){super(ae,pe,un.delay),this.keyframes=We,this.preStyleProps=xt,this.postStyleProps=Qt,this._stretchStartingKeyframe=_n,this.timings={duration:un.duration,delay:un.delay,easing:un.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let ae=this.keyframes,{delay:pe,duration:We,easing:xt}=this.timings;if(this._stretchStartingKeyframe&&pe){const Qt=[],un=We+pe,_n=pe/un,Sn=Wn(ae[0]);Sn.set("offset",0),Qt.push(Sn);const zn=Wn(ae[0]);zn.set("offset",wr(_n)),Qt.push(zn);const Yt=ae.length-1;for(let Ne=1;Ne<=Yt;Ne++){let Be=Wn(ae[Ne]);const _t=Be.get("offset");Be.set("offset",wr((pe+_t*We)/un)),Qt.push(Be)}We=un,pe=0,xt="",ae=Qt}return $i(this.element,ae,this.preStyleProps,this.postStyleProps,We,pe,xt,!0)}}function wr(Ct,ae=3){const pe=Math.pow(10,ae-1);return Math.round(Ct*pe)/pe}class ps{}const Sr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kr extends ps{normalizePropertyName(ae,pe){return Xi(ae)}normalizeStyleValue(ae,pe,We,xt){let Qt="";const un=We.toString().trim();if(Sr.has(pe)&&0!==We&&"0"!==We)if("number"==typeof We)Qt="px";else{const _n=We.match(/^[+-]?[\d\.]+([a-z]*)$/);_n&&0==_n[1].length&&xt.push(function Ce(Ct,ae){return new d.vHH(3005,!1)}())}return un+Qt}}function Et(Ct,ae,pe,We,xt,Qt,un,_n,Sn,zn,Yt,Ne,Be){return{type:0,element:Ct,triggerName:ae,isRemovalTransition:xt,fromState:pe,fromStyles:Qt,toState:We,toStyles:un,timelines:_n,queriedElements:Sn,preStyleProps:zn,postStyleProps:Yt,totalTime:Ne,errors:Be}}const pn={};class ie{constructor(ae,pe,We){this._triggerName=ae,this.ast=pe,this._stateStyles=We}match(ae,pe,We,xt){return function It(Ct,ae,pe,We,xt){return Ct.some(Qt=>Qt(ae,pe,We,xt))}(this.ast.matchers,ae,pe,We,xt)}buildStyles(ae,pe,We){let xt=this._stateStyles.get("*");return void 0!==ae&&(xt=this._stateStyles.get(null==ae?void 0:ae.toString())||xt),xt?xt.buildStyles(pe,We):new Map}build(ae,pe,We,xt,Qt,un,_n,Sn,zn,Yt){var Ne;const Be=[],_t=this.ast.options&&this.ast.options.params||pn,an=this.buildStyles(We,_n&&_n.params||pn,Be),An=Sn&&Sn.params||pn,On=this.buildStyles(xt,An,Be),ti=new Set,Yn=new Map,Ai=new Map,yo="void"===xt,ts={params:Jt(An,_t),delay:null===(Ne=this.ast.options)||void 0===Ne?void 0:Ne.delay},qo=Yt?[]:go(ae,pe,this.ast.animation,Qt,un,an,On,ts,zn,Be);let oo=0;if(qo.forEach(Zo=>{oo=Math.max(Zo.duration+Zo.delay,oo)}),Be.length)return Et(pe,this._triggerName,We,xt,yo,an,On,[],[],Yn,Ai,oo,Be);qo.forEach(Zo=>{const er=Zo.element,Mr=he(Yn,er,new Set);Zo.preStyleProps.forEach(cs=>Mr.add(cs));const Hr=he(Ai,er,new Set);Zo.postStyleProps.forEach(cs=>Hr.add(cs)),er!==pe&&ti.add(er)});const ls=Wo(ti.values());return Et(pe,this._triggerName,We,xt,yo,an,On,qo,ls,Yn,Ai,oo)}}function Jt(Ct,ae){const pe=xn(ae);for(const We in Ct)Ct.hasOwnProperty(We)&&null!=Ct[We]&&(pe[We]=Ct[We]);return pe}class Pn{constructor(ae,pe,We){this.styles=ae,this.defaultParams=pe,this.normalizer=We}buildStyles(ae,pe){const We=new Map,xt=xn(this.defaultParams);return Object.keys(ae).forEach(Qt=>{const un=ae[Qt];null!==un&&(xt[Qt]=un)}),this.styles.styles.forEach(Qt=>{"string"!=typeof Qt&&Qt.forEach((un,_n)=>{un&&(un=Go(un,xt,pe));const Sn=this.normalizer.normalizePropertyName(_n,pe);un=this.normalizer.normalizeStyleValue(_n,Sn,un,pe),We.set(Sn,un)})}),We}}class fi{constructor(ae,pe,We){this.name=ae,this.ast=pe,this._normalizer=We,this.transitionFactories=[],this.states=new Map,pe.states.forEach(xt=>{this.states.set(xt.name,new Pn(xt.style,xt.options&&xt.options.params||{},We))}),Ni(this.states,"true","1"),Ni(this.states,"false","0"),pe.transitions.forEach(xt=>{this.transitionFactories.push(new ie(ae,xt,this.states))}),this.fallbackTransition=function Zi(Ct,ae,pe){return new ie(Ct,{type:1,animation:{type:2,steps:[],options:null},matchers:[(un,_n)=>!0],options:null,queryCount:0,depCount:0},ae)}(ae,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(ae,pe,We,xt){return this.transitionFactories.find(un=>un.match(ae,pe,We,xt))||null}matchStyles(ae,pe,We){return this.fallbackTransition.buildStyles(ae,pe,We)}}function Ni(Ct,ae,pe){Ct.has(ae)?Ct.has(pe)||Ct.set(pe,Ct.get(ae)):Ct.has(pe)&&Ct.set(ae,Ct.get(pe))}const Si=new ss;class hs{constructor(ae,pe,We){this.bodyNode=ae,this._driver=pe,this._normalizer=We,this._animations=new Map,this._playersById=new Map,this.players=[]}register(ae,pe){const We=[],Qt=Ks(this._driver,pe,We,[]);if(We.length)throw function ht(Ct){return new d.vHH(3503,!1)}();this._animations.set(ae,Qt)}_buildPlayer(ae,pe,We){const xt=ae.element,Qt=Ke(0,this._normalizer,0,ae.keyframes,pe,We);return this._driver.animate(xt,Qt,ae.duration,ae.delay,ae.easing,[],!0)}create(ae,pe,We={}){const xt=[],Qt=this._animations.get(ae);let un;const _n=new Map;if(Qt?(un=go(this._driver,pe,Qt,vi,Ji,new Map,new Map,We,Si,xt),un.forEach(Yt=>{const Ne=he(_n,Yt.element,new Map);Yt.postStyleProps.forEach(Be=>Ne.set(Be,null))})):(xt.push(function Rt(){return new d.vHH(3300,!1)}()),un=[]),xt.length)throw function Nt(Ct){return new d.vHH(3504,!1)}();_n.forEach((Yt,Ne)=>{Yt.forEach((Be,_t)=>{Yt.set(_t,this._driver.computeStyle(Ne,_t,V.l3))})});const zn=lt(un.map(Yt=>{const Ne=_n.get(Yt.element);return this._buildPlayer(Yt,new Map,Ne)}));return this._playersById.set(ae,zn),zn.onDestroy(()=>this.destroy(ae)),this.players.push(zn),zn}destroy(ae){const pe=this._getPlayer(ae);pe.destroy(),this._playersById.delete(ae);const We=this.players.indexOf(pe);We>=0&&this.players.splice(We,1)}_getPlayer(ae){const pe=this._playersById.get(ae);if(!pe)throw function At(Ct){return new d.vHH(3301,!1)}();return pe}listen(ae,pe,We,xt){const Qt=Fe(pe,"","","");return Tt(this._getPlayer(ae),We,Qt,xt),()=>{}}command(ae,pe,We,xt){if("register"==We)return void this.register(ae,xt[0]);if("create"==We)return void this.create(ae,pe,xt[0]||{});const Qt=this._getPlayer(ae);switch(We){case"play":Qt.play();break;case"pause":Qt.pause();break;case"reset":Qt.reset();break;case"restart":Qt.restart();break;case"finish":Qt.finish();break;case"init":Qt.init();break;case"setPosition":Qt.setPosition(parseFloat(xt[0]));break;case"destroy":this.destroy(ae)}}}const qs="ng-animate-queued",bo="ng-animate-disabled",es=[],Bo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Po="__ng_removed";class To{constructor(ae,pe=""){this.namespaceId=pe;const We=ae&&ae.hasOwnProperty("value");if(this.value=function Yr(Ct){return null!=Ct?Ct:null}(We?ae.value:ae),We){const Qt=xn(ae);delete Qt.value,this.options=Qt}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(ae){const pe=ae.params;if(pe){const We=this.options.params;Object.keys(pe).forEach(xt=>{null==We[xt]&&(We[xt]=pe[xt])})}}}const Li="void",ur=new To(Li);class ma{constructor(ae,pe,We){this.id=ae,this.hostElement=pe,this._engine=We,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+ae,Is(pe,this._hostClassName)}listen(ae,pe,We,xt){if(!this._triggers.has(pe))throw function st(Ct,ae){return new d.vHH(3302,!1)}();if(null==We||0==We.length)throw function ot(Ct){return new d.vHH(3303,!1)}();if(!function Xr(Ct){return"start"==Ct||"done"==Ct}(We))throw function ge(Ct,ae){return new d.vHH(3400,!1)}();const Qt=he(this._elementListeners,ae,[]),un={name:pe,phase:We,callback:xt};Qt.push(un);const _n=he(this._engine.statesByElement,ae,new Map);return _n.has(pe)||(Is(ae,Qi),Is(ae,Qi+"-"+pe),_n.set(pe,ur)),()=>{this._engine.afterFlush(()=>{const Sn=Qt.indexOf(un);Sn>=0&&Qt.splice(Sn,1),this._triggers.has(pe)||_n.delete(pe)})}}register(ae,pe){return!this._triggers.has(ae)&&(this._triggers.set(ae,pe),!0)}_getTrigger(ae){const pe=this._triggers.get(ae);if(!pe)throw function ke(Ct){return new d.vHH(3401,!1)}();return pe}trigger(ae,pe,We,xt=!0){const Qt=this._getTrigger(pe),un=new Ri(this.id,pe,ae);let _n=this._engine.statesByElement.get(ae);_n||(Is(ae,Qi),Is(ae,Qi+"-"+pe),this._engine.statesByElement.set(ae,_n=new Map));let Sn=_n.get(pe);const zn=new To(We,this.id);if(!(We&&We.hasOwnProperty("value"))&&Sn&&zn.absorbOptions(Sn.options),_n.set(pe,zn),Sn||(Sn=ur),zn.value!==Li&&Sn.value===zn.value){if(!function De(Ct,ae){const pe=Object.keys(Ct),We=Object.keys(ae);if(pe.length!=We.length)return!1;for(let xt=0;xt<pe.length;xt++){const Qt=pe[xt];if(!ae.hasOwnProperty(Qt)||Ct[Qt]!==ae[Qt])return!1}return!0}(Sn.params,zn.params)){const an=[],An=Qt.matchStyles(Sn.value,Sn.params,an),On=Qt.matchStyles(zn.value,zn.params,an);an.length?this._engine.reportError(an):this._engine.afterFlush(()=>{ki(ae,An),ii(ae,On)})}return}const Be=he(this._engine.playersByElement,ae,[]);Be.forEach(an=>{an.namespaceId==this.id&&an.triggerName==pe&&an.queued&&an.destroy()});let _t=Qt.matchTransition(Sn.value,zn.value,ae,zn.params),Ft=!1;if(!_t){if(!xt)return;_t=Qt.fallbackTransition,Ft=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:ae,triggerName:pe,transition:_t,fromState:Sn,toState:zn,player:un,isFallbackTransition:Ft}),Ft||(Is(ae,qs),un.onStart(()=>{Js(ae,qs)})),un.onDone(()=>{let an=this.players.indexOf(un);an>=0&&this.players.splice(an,1);const An=this._engine.playersByElement.get(ae);if(An){let On=An.indexOf(un);On>=0&&An.splice(On,1)}}),this.players.push(un),Be.push(un),un}deregister(ae){this._triggers.delete(ae),this._engine.statesByElement.forEach(pe=>pe.delete(ae)),this._elementListeners.forEach((pe,We)=>{this._elementListeners.set(We,pe.filter(xt=>xt.name!=ae))})}clearElementCache(ae){this._engine.statesByElement.delete(ae),this._elementListeners.delete(ae);const pe=this._engine.playersByElement.get(ae);pe&&(pe.forEach(We=>We.destroy()),this._engine.playersByElement.delete(ae))}_signalRemovalForInnerTriggers(ae,pe){const We=this._engine.driver.query(ae,Vo,!0);We.forEach(xt=>{if(xt[Po])return;const Qt=this._engine.fetchNamespacesByElement(xt);Qt.size?Qt.forEach(un=>un.triggerLeaveAnimation(xt,pe,!1,!0)):this.clearElementCache(xt)}),this._engine.afterFlushAnimationsDone(()=>We.forEach(xt=>this.clearElementCache(xt)))}triggerLeaveAnimation(ae,pe,We,xt){const Qt=this._engine.statesByElement.get(ae),un=new Map;if(Qt){const _n=[];if(Qt.forEach((Sn,zn)=>{if(un.set(zn,Sn.value),this._triggers.has(zn)){const Yt=this.trigger(ae,zn,Li,xt);Yt&&_n.push(Yt)}}),_n.length)return this._engine.markElementAsRemoved(this.id,ae,!0,pe,un),We&&lt(_n).onDone(()=>this._engine.processLeaveNode(ae)),!0}return!1}prepareLeaveAnimationListeners(ae){const pe=this._elementListeners.get(ae),We=this._engine.statesByElement.get(ae);if(pe&&We){const xt=new Set;pe.forEach(Qt=>{const un=Qt.name;if(xt.has(un))return;xt.add(un);const Sn=this._triggers.get(un).fallbackTransition,zn=We.get(un)||ur,Yt=new To(Li),Ne=new Ri(this.id,un,ae);this._engine.totalQueuedPlayers++,this._queue.push({element:ae,triggerName:un,transition:Sn,fromState:zn,toState:Yt,player:Ne,isFallbackTransition:!0})})}}removeNode(ae,pe){const We=this._engine;if(ae.childElementCount&&this._signalRemovalForInnerTriggers(ae,pe),this.triggerLeaveAnimation(ae,pe,!0))return;let xt=!1;if(We.totalAnimations){const Qt=We.players.length?We.playersByQueriedElement.get(ae):[];if(Qt&&Qt.length)xt=!0;else{let un=ae;for(;un=un.parentNode;)if(We.statesByElement.get(un)){xt=!0;break}}}if(this.prepareLeaveAnimationListeners(ae),xt)We.markElementAsRemoved(this.id,ae,!1,pe);else{const Qt=ae[Po];(!Qt||Qt===Bo)&&(We.afterFlush(()=>this.clearElementCache(ae)),We.destroyInnerAnimations(ae),We._onRemovalComplete(ae,pe))}}insertNode(ae,pe){Is(ae,this._hostClassName)}drainQueuedTransitions(ae){const pe=[];return this._queue.forEach(We=>{const xt=We.player;if(xt.destroyed)return;const Qt=We.element,un=this._elementListeners.get(Qt);un&&un.forEach(_n=>{if(_n.name==We.triggerName){const Sn=Fe(Qt,We.triggerName,We.fromState.value,We.toState.value);Sn._data=ae,Tt(We.player,_n.phase,Sn,_n.callback)}}),xt.markedForDestroy?this._engine.afterFlush(()=>{xt.destroy()}):pe.push(We)}),this._queue=[],pe.sort((We,xt)=>{const Qt=We.transition.ast.depCount,un=xt.transition.ast.depCount;return 0==Qt||0==un?Qt-un:this._engine.driver.containsElement(We.element,xt.element)?1:-1})}destroy(ae){this.players.forEach(pe=>pe.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,ae)}elementContainsData(ae){let pe=!1;return this._elementListeners.has(ae)&&(pe=!0),pe=!!this._queue.find(We=>We.element===ae)||pe,pe}}class Qn{constructor(ae,pe,We){this.bodyNode=ae,this.driver=pe,this._normalizer=We,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(xt,Qt)=>{}}_onRemovalComplete(ae,pe){this.onRemovalComplete(ae,pe)}get queuedPlayers(){const ae=[];return this._namespaceList.forEach(pe=>{pe.players.forEach(We=>{We.queued&&ae.push(We)})}),ae}createNamespace(ae,pe){const We=new ma(ae,pe,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,pe)?this._balanceNamespaceList(We,pe):(this.newHostElements.set(pe,We),this.collectEnterElement(pe)),this._namespaceLookup[ae]=We}_balanceNamespaceList(ae,pe){const We=this._namespaceList,xt=this.namespacesByHostElement;if(We.length-1>=0){let un=!1,_n=this.driver.getParentElement(pe);for(;_n;){const Sn=xt.get(_n);if(Sn){const zn=We.indexOf(Sn);We.splice(zn+1,0,ae),un=!0;break}_n=this.driver.getParentElement(_n)}un||We.unshift(ae)}else We.push(ae);return xt.set(pe,ae),ae}register(ae,pe){let We=this._namespaceLookup[ae];return We||(We=this.createNamespace(ae,pe)),We}registerTrigger(ae,pe,We){let xt=this._namespaceLookup[ae];xt&&xt.register(pe,We)&&this.totalAnimations++}destroy(ae,pe){if(!ae)return;const We=this._fetchNamespace(ae);this.afterFlush(()=>{this.namespacesByHostElement.delete(We.hostElement),delete this._namespaceLookup[ae];const xt=this._namespaceList.indexOf(We);xt>=0&&this._namespaceList.splice(xt,1)}),this.afterFlushAnimationsDone(()=>We.destroy(pe))}_fetchNamespace(ae){return this._namespaceLookup[ae]}fetchNamespacesByElement(ae){const pe=new Set,We=this.statesByElement.get(ae);if(We)for(let xt of We.values())if(xt.namespaceId){const Qt=this._fetchNamespace(xt.namespaceId);Qt&&pe.add(Qt)}return pe}trigger(ae,pe,We,xt){if(eo(pe)){const Qt=this._fetchNamespace(ae);if(Qt)return Qt.trigger(pe,We,xt),!0}return!1}insertNode(ae,pe,We,xt){if(!eo(pe))return;const Qt=pe[Po];if(Qt&&Qt.setForRemoval){Qt.setForRemoval=!1,Qt.setForMove=!0;const un=this.collectedLeaveElements.indexOf(pe);un>=0&&this.collectedLeaveElements.splice(un,1)}if(ae){const un=this._fetchNamespace(ae);un&&un.insertNode(pe,We)}xt&&this.collectEnterElement(pe)}collectEnterElement(ae){this.collectedEnterElements.push(ae)}markElementAsDisabled(ae,pe){pe?this.disabledNodes.has(ae)||(this.disabledNodes.add(ae),Is(ae,bo)):this.disabledNodes.has(ae)&&(this.disabledNodes.delete(ae),Js(ae,bo))}removeNode(ae,pe,We,xt){if(eo(pe)){const Qt=ae?this._fetchNamespace(ae):null;if(Qt?Qt.removeNode(pe,xt):this.markElementAsRemoved(ae,pe,!1,xt),We){const un=this.namespacesByHostElement.get(pe);un&&un.id!==ae&&un.removeNode(pe,xt)}}else this._onRemovalComplete(pe,xt)}markElementAsRemoved(ae,pe,We,xt,Qt){this.collectedLeaveElements.push(pe),pe[Po]={namespaceId:ae,setForRemoval:xt,hasAnimation:We,removedBeforeQueried:!1,previousTriggersValues:Qt}}listen(ae,pe,We,xt,Qt){return eo(pe)?this._fetchNamespace(ae).listen(pe,We,xt,Qt):()=>{}}_buildInstruction(ae,pe,We,xt,Qt){return ae.transition.build(this.driver,ae.element,ae.fromState.value,ae.toState.value,We,xt,ae.fromState.options,ae.toState.options,pe,Qt)}destroyInnerAnimations(ae){let pe=this.driver.query(ae,Vo,!0);pe.forEach(We=>this.destroyActiveAnimationsForElement(We)),0!=this.playersByQueriedElement.size&&(pe=this.driver.query(ae,Je,!0),pe.forEach(We=>this.finishActiveQueriedAnimationOnElement(We)))}destroyActiveAnimationsForElement(ae){const pe=this.playersByElement.get(ae);pe&&pe.forEach(We=>{We.queued?We.markedForDestroy=!0:We.destroy()})}finishActiveQueriedAnimationOnElement(ae){const pe=this.playersByQueriedElement.get(ae);pe&&pe.forEach(We=>We.finish())}whenRenderingDone(){return new Promise(ae=>{if(this.players.length)return lt(this.players).onDone(()=>ae());ae()})}processLeaveNode(ae){var pe;const We=ae[Po];if(We&&We.setForRemoval){if(ae[Po]=Bo,We.namespaceId){this.destroyInnerAnimations(ae);const xt=this._fetchNamespace(We.namespaceId);xt&&xt.clearElementCache(ae)}this._onRemovalComplete(ae,We.setForRemoval)}!(null===(pe=ae.classList)||void 0===pe)&&pe.contains(bo)&&this.markElementAsDisabled(ae,!1),this.driver.query(ae,".ng-animate-disabled",!0).forEach(xt=>{this.markElementAsDisabled(xt,!1)})}flush(ae=-1){let pe=[];if(this.newHostElements.size&&(this.newHostElements.forEach((We,xt)=>this._balanceNamespaceList(We,xt)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let We=0;We<this.collectedEnterElements.length;We++)Is(this.collectedEnterElements[We],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const We=[];try{pe=this._flushAnimations(We,ae)}finally{for(let xt=0;xt<We.length;xt++)We[xt]()}}else for(let We=0;We<this.collectedLeaveElements.length;We++)this.processLeaveNode(this.collectedLeaveElements[We]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(We=>We()),this._flushFns=[],this._whenQuietFns.length){const We=this._whenQuietFns;this._whenQuietFns=[],pe.length?lt(pe).onDone(()=>{We.forEach(xt=>xt())}):We.forEach(xt=>xt())}}reportError(ae){throw function rt(Ct){return new d.vHH(3402,!1)}()}_flushAnimations(ae,pe){const We=new ss,xt=[],Qt=new Map,un=[],_n=new Map,Sn=new Map,zn=new Map,Yt=new Set;this.disabledNodes.forEach(xi=>{Yt.add(xi);const wi=this.driver.query(xi,".ng-animate-queued",!0);for(let Oi=0;Oi<wi.length;Oi++)Yt.add(wi[Oi])});const Ne=this.bodyNode,Be=Array.from(this.statesByElement.keys()),_t=da(Be,this.collectedEnterElements),Ft=new Map;let an=0;_t.forEach((xi,wi)=>{const Oi=vi+an++;Ft.set(wi,Oi),xi.forEach(no=>Is(no,Oi))});const An=[],On=new Set,ti=new Set;for(let xi=0;xi<this.collectedLeaveElements.length;xi++){const wi=this.collectedLeaveElements[xi],Oi=wi[Po];Oi&&Oi.setForRemoval&&(An.push(wi),On.add(wi),Oi.hasAnimation?this.driver.query(wi,".ng-star-inserted",!0).forEach(no=>On.add(no)):ti.add(wi))}const Yn=new Map,Ai=da(Be,Array.from(On));Ai.forEach((xi,wi)=>{const Oi=Ji+an++;Yn.set(wi,Oi),xi.forEach(no=>Is(no,Oi))}),ae.push(()=>{_t.forEach((xi,wi)=>{const Oi=Ft.get(wi);xi.forEach(no=>Js(no,Oi))}),Ai.forEach((xi,wi)=>{const Oi=Yn.get(wi);xi.forEach(no=>Js(no,Oi))}),An.forEach(xi=>{this.processLeaveNode(xi)})});const yo=[],ts=[];for(let xi=this._namespaceList.length-1;xi>=0;xi--)this._namespaceList[xi].drainQueuedTransitions(pe).forEach(Oi=>{const no=Oi.player,zo=Oi.element;if(yo.push(no),this.collectedEnterElements.length){const No=zo[Po];if(No&&No.setForMove){if(No.previousTriggersValues&&No.previousTriggersValues.has(Oi.triggerName)){const Vr=No.previousTriggersValues.get(Oi.triggerName),Qs=this.statesByElement.get(Oi.element);if(Qs&&Qs.has(Oi.triggerName)){const va=Qs.get(Oi.triggerName);va.value=Vr,Qs.set(Oi.triggerName,va)}}return void no.destroy()}}const Ro=!Ne||!this.driver.containsElement(Ne,zo),Ms=Yn.get(zo),fr=Ft.get(zo),Ao=this._buildInstruction(Oi,We,fr,Ms,Ro);if(Ao.errors&&Ao.errors.length)return void ts.push(Ao);if(Ro)return no.onStart(()=>ki(zo,Ao.fromStyles)),no.onDestroy(()=>ii(zo,Ao.toStyles)),void xt.push(no);if(Oi.isFallbackTransition)return no.onStart(()=>ki(zo,Ao.fromStyles)),no.onDestroy(()=>ii(zo,Ao.toStyles)),void xt.push(no);const ea=[];Ao.timelines.forEach(No=>{No.stretchStartingKeyframe=!0,this.disabledNodes.has(No.element)||ea.push(No)}),Ao.timelines=ea,We.append(zo,Ao.timelines),un.push({instruction:Ao,player:no,element:zo}),Ao.queriedElements.forEach(No=>he(_n,No,[]).push(no)),Ao.preStyleProps.forEach((No,Vr)=>{if(No.size){let Qs=Sn.get(Vr);Qs||Sn.set(Vr,Qs=new Set),No.forEach((va,Ea)=>Qs.add(Ea))}}),Ao.postStyleProps.forEach((No,Vr)=>{let Qs=zn.get(Vr);Qs||zn.set(Vr,Qs=new Set),No.forEach((va,Ea)=>Qs.add(Ea))})});if(ts.length){const xi=[];ts.forEach(wi=>{xi.push(function Pt(Ct,ae){return new d.vHH(3505,!1)}())}),yo.forEach(wi=>wi.destroy()),this.reportError(xi)}const qo=new Map,oo=new Map;un.forEach(xi=>{const wi=xi.element;We.has(wi)&&(oo.set(wi,wi),this._beforeAnimationBuild(xi.player.namespaceId,xi.instruction,qo))}),xt.forEach(xi=>{const wi=xi.element;this._getPreviousPlayers(wi,!1,xi.namespaceId,xi.triggerName,null).forEach(no=>{he(qo,wi,[]).push(no),no.destroy()})});const ls=An.filter(xi=>Mt(xi,Sn,zn)),Zo=new Map;Ds(Zo,this.driver,ti,zn,V.l3).forEach(xi=>{Mt(xi,Sn,zn)&&ls.push(xi)});const Mr=new Map;_t.forEach((xi,wi)=>{Ds(Mr,this.driver,new Set(xi),Sn,V.k1)}),ls.forEach(xi=>{var wi,Oi;const no=Zo.get(xi),zo=Mr.get(xi);Zo.set(xi,new Map([...Array.from(null!==(wi=null==no?void 0:no.entries())&&void 0!==wi?wi:[]),...Array.from(null!==(Oi=null==zo?void 0:zo.entries())&&void 0!==Oi?Oi:[])]))});const Hr=[],cs=[],Ca={};un.forEach(xi=>{const{element:wi,player:Oi,instruction:no}=xi;if(We.has(wi)){if(Yt.has(wi))return Oi.onDestroy(()=>ii(wi,no.toStyles)),Oi.disabled=!0,Oi.overrideTotalTime(no.totalTime),void xt.push(Oi);let zo=Ca;if(oo.size>1){let Ms=wi;const fr=[];for(;Ms=Ms.parentNode;){const Ao=oo.get(Ms);if(Ao){zo=Ao;break}fr.push(Ms)}fr.forEach(Ao=>oo.set(Ao,zo))}const Ro=this._buildAnimation(Oi.namespaceId,no,qo,Qt,Mr,Zo);if(Oi.setRealPlayer(Ro),zo===Ca)Hr.push(Oi);else{const Ms=this.playersByElement.get(zo);Ms&&Ms.length&&(Oi.parentPlayer=lt(Ms)),xt.push(Oi)}}else ki(wi,no.fromStyles),Oi.onDestroy(()=>ii(wi,no.toStyles)),cs.push(Oi),Yt.has(wi)&&xt.push(Oi)}),cs.forEach(xi=>{const wi=Qt.get(xi.element);if(wi&&wi.length){const Oi=lt(wi);xi.setRealPlayer(Oi)}}),xt.forEach(xi=>{xi.parentPlayer?xi.syncPlayerEvents(xi.parentPlayer):xi.destroy()});for(let xi=0;xi<An.length;xi++){const wi=An[xi],Oi=wi[Po];if(Js(wi,Ji),Oi&&Oi.hasAnimation)continue;let no=[];if(_n.size){let Ro=_n.get(wi);Ro&&Ro.length&&no.push(...Ro);let Ms=this.driver.query(wi,Je,!0);for(let fr=0;fr<Ms.length;fr++){let Ao=_n.get(Ms[fr]);Ao&&Ao.length&&no.push(...Ao)}}const zo=no.filter(Ro=>!Ro.destroyed);zo.length?jr(this,wi,zo):this.processLeaveNode(wi)}return An.length=0,Hr.forEach(xi=>{this.players.push(xi),xi.onDone(()=>{xi.destroy();const wi=this.players.indexOf(xi);this.players.splice(wi,1)}),xi.play()}),Hr}elementContainsData(ae,pe){let We=!1;const xt=pe[Po];return xt&&xt.setForRemoval&&(We=!0),this.playersByElement.has(pe)&&(We=!0),this.playersByQueriedElement.has(pe)&&(We=!0),this.statesByElement.has(pe)&&(We=!0),this._fetchNamespace(ae).elementContainsData(pe)||We}afterFlush(ae){this._flushFns.push(ae)}afterFlushAnimationsDone(ae){this._whenQuietFns.push(ae)}_getPreviousPlayers(ae,pe,We,xt,Qt){let un=[];if(pe){const _n=this.playersByQueriedElement.get(ae);_n&&(un=_n)}else{const _n=this.playersByElement.get(ae);if(_n){const Sn=!Qt||Qt==Li;_n.forEach(zn=>{zn.queued||!Sn&&zn.triggerName!=xt||un.push(zn)})}}return(We||xt)&&(un=un.filter(_n=>!(We&&We!=_n.namespaceId||xt&&xt!=_n.triggerName))),un}_beforeAnimationBuild(ae,pe,We){const Qt=pe.element,un=pe.isRemovalTransition?void 0:ae,_n=pe.isRemovalTransition?void 0:pe.triggerName;for(const Sn of pe.timelines){const zn=Sn.element,Yt=zn!==Qt,Ne=he(We,zn,[]);this._getPreviousPlayers(zn,Yt,un,_n,pe.toState).forEach(_t=>{const Ft=_t.getRealPlayer();Ft.beforeDestroy&&Ft.beforeDestroy(),_t.destroy(),Ne.push(_t)})}ki(Qt,pe.fromStyles)}_buildAnimation(ae,pe,We,xt,Qt,un){const _n=pe.triggerName,Sn=pe.element,zn=[],Yt=new Set,Ne=new Set,Be=pe.timelines.map(Ft=>{const an=Ft.element;Yt.add(an);const An=an[Po];if(An&&An.removedBeforeQueried)return new V.ZN(Ft.duration,Ft.delay);const On=an!==Sn,ti=function it(Ct){const ae=[];return Ue(Ct,ae),ae}((We.get(an)||es).map(qo=>qo.getRealPlayer())).filter(qo=>!!qo.element&&qo.element===an),Yn=Qt.get(an),Ai=un.get(an),yo=Ke(0,this._normalizer,0,Ft.keyframes,Yn,Ai),ts=this._buildPlayer(Ft,yo,ti);if(Ft.subTimeline&&xt&&Ne.add(an),On){const qo=new Ri(ae,_n,an);qo.setRealPlayer(ts),zn.push(qo)}return ts});zn.forEach(Ft=>{he(this.playersByQueriedElement,Ft.element,[]).push(Ft),Ft.onDone(()=>function zs(Ct,ae,pe){let We=Ct.get(ae);if(We){if(We.length){const xt=We.indexOf(pe);We.splice(xt,1)}0==We.length&&Ct.delete(ae)}return We}(this.playersByQueriedElement,Ft.element,Ft))}),Yt.forEach(Ft=>Is(Ft,zt));const _t=lt(Be);return _t.onDestroy(()=>{Yt.forEach(Ft=>Js(Ft,zt)),ii(Sn,pe.toStyles)}),Ne.forEach(Ft=>{he(xt,Ft,[]).push(_t)}),_t}_buildPlayer(ae,pe,We){return pe.length>0?this.driver.animate(ae.element,pe,ae.duration,ae.delay,ae.easing,We):new V.ZN(ae.duration,ae.delay)}}class Ri{constructor(ae,pe,We){this.namespaceId=ae,this.triggerName=pe,this.element=We,this._player=new V.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(ae){this._containsRealPlayer||(this._player=ae,this._queuedCallbacks.forEach((pe,We)=>{pe.forEach(xt=>Tt(ae,We,void 0,xt))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(ae.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(ae){this.totalTime=ae}syncPlayerEvents(ae){const pe=this._player;pe.triggerCallback&&ae.onStart(()=>pe.triggerCallback("start")),ae.onDone(()=>this.finish()),ae.onDestroy(()=>this.destroy())}_queueEvent(ae,pe){he(this._queuedCallbacks,ae,[]).push(pe)}onDone(ae){this.queued&&this._queueEvent("done",ae),this._player.onDone(ae)}onStart(ae){this.queued&&this._queueEvent("start",ae),this._player.onStart(ae)}onDestroy(ae){this.queued&&this._queueEvent("destroy",ae),this._player.onDestroy(ae)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(ae){this.queued||this._player.setPosition(ae)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(ae){const pe=this._player;pe.triggerCallback&&pe.triggerCallback(ae)}}function eo(Ct){return Ct&&1===Ct.nodeType}function dr(Ct,ae){const pe=Ct.style.display;return Ct.style.display=null!=ae?ae:"none",pe}function Ds(Ct,ae,pe,We,xt){const Qt=[];pe.forEach(Sn=>Qt.push(dr(Sn)));const un=[];We.forEach((Sn,zn)=>{const Yt=new Map;Sn.forEach(Ne=>{const Be=ae.computeStyle(zn,Ne,xt);Yt.set(Ne,Be),(!Be||0==Be.length)&&(zn[Po]=Zr,un.push(zn))}),Ct.set(zn,Yt)});let _n=0;return pe.forEach(Sn=>dr(Sn,Qt[_n++])),un}function da(Ct,ae){const pe=new Map;if(Ct.forEach(_n=>pe.set(_n,[])),0==ae.length)return pe;const xt=new Set(ae),Qt=new Map;function un(_n){if(!_n)return 1;let Sn=Qt.get(_n);if(Sn)return Sn;const zn=_n.parentNode;return Sn=pe.has(zn)?zn:xt.has(zn)?1:un(zn),Qt.set(_n,Sn),Sn}return ae.forEach(_n=>{const Sn=un(_n);1!==Sn&&pe.get(Sn).push(_n)}),pe}function Is(Ct,ae){var pe;null===(pe=Ct.classList)||void 0===pe||pe.add(ae)}function Js(Ct,ae){var pe;null===(pe=Ct.classList)||void 0===pe||pe.remove(ae)}function jr(Ct,ae,pe){lt(pe).onDone(()=>Ct.processLeaveNode(ae))}function Ue(Ct,ae){for(let pe=0;pe<Ct.length;pe++){const We=Ct[pe];We instanceof V.ZE?Ue(We.players,ae):ae.push(We)}}function Mt(Ct,ae,pe){const We=pe.get(Ct);if(!We)return!1;let xt=ae.get(Ct);return xt?We.forEach(Qt=>xt.add(Qt)):ae.set(Ct,We),pe.delete(Ct),!0}class Ln{constructor(ae,pe,We){this.bodyNode=ae,this._driver=pe,this._normalizer=We,this._triggerCache={},this.onRemovalComplete=(xt,Qt)=>{},this._transitionEngine=new Qn(ae,pe,We),this._timelineEngine=new hs(ae,pe,We),this._transitionEngine.onRemovalComplete=(xt,Qt)=>this.onRemovalComplete(xt,Qt)}registerTrigger(ae,pe,We,xt,Qt){const un=ae+"-"+xt;let _n=this._triggerCache[un];if(!_n){const Sn=[],Yt=Ks(this._driver,Qt,Sn,[]);if(Sn.length)throw function et(Ct,ae){return new d.vHH(3404,!1)}();_n=function qn(Ct,ae,pe){return new fi(Ct,ae,pe)}(xt,Yt,this._normalizer),this._triggerCache[un]=_n}this._transitionEngine.registerTrigger(pe,xt,_n)}register(ae,pe){this._transitionEngine.register(ae,pe)}destroy(ae,pe){this._transitionEngine.destroy(ae,pe)}onInsert(ae,pe,We,xt){this._transitionEngine.insertNode(ae,pe,We,xt)}onRemove(ae,pe,We,xt){this._transitionEngine.removeNode(ae,pe,xt||!1,We)}disableAnimations(ae,pe){this._transitionEngine.markElementAsDisabled(ae,pe)}process(ae,pe,We,xt){if("@"==We.charAt(0)){const[Qt,un]=mt(We);this._timelineEngine.command(Qt,pe,un,xt)}else this._transitionEngine.trigger(ae,pe,We,xt)}listen(ae,pe,We,xt,Qt){if("@"==We.charAt(0)){const[un,_n]=mt(We);return this._timelineEngine.listen(un,pe,_n,Qt)}return this._transitionEngine.listen(ae,pe,We,xt,Qt)}flush(ae=-1){this._transitionEngine.flush(ae)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gi=(()=>{class Ct{constructor(pe,We,xt){this._element=pe,this._startStyles=We,this._endStyles=xt,this._state=0;let Qt=Ct.initialStylesByElement.get(pe);Qt||Ct.initialStylesByElement.set(pe,Qt=new Map),this._initialStyles=Qt}start(){this._state<1&&(this._startStyles&&ii(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ii(this._element,this._initialStyles),this._endStyles&&(ii(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ct.initialStylesByElement.delete(this._element),this._startStyles&&(ki(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ki(this._element,this._endStyles),this._endStyles=null),ii(this._element,this._initialStyles),this._state=3)}}return Ct.initialStylesByElement=new WeakMap,Ct})();function _o(Ct){let ae=null;return Ct.forEach((pe,We)=>{(function Lo(Ct){return"display"===Ct||"position"===Ct})(We)&&(ae=ae||new Map,ae.set(We,pe))}),ae}class gs{constructor(ae,pe,We,xt){this.element=ae,this.keyframes=pe,this.options=We,this._specialStyles=xt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=We.duration,this._delay=We.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const ae=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,ae,this.options),this._finalKeyframe=ae.length?ae[ae.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(ae){const pe=[];return ae.forEach(We=>{pe.push(Object.fromEntries(We))}),pe}_triggerWebAnimation(ae,pe,We){return ae.animate(this._convertKeyframesToObject(pe),We)}onStart(ae){this._originalOnStartFns.push(ae),this._onStartFns.push(ae)}onDone(ae){this._originalOnDoneFns.push(ae),this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(ae=>ae()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}setPosition(ae){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=ae*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const ae=new Map;this.hasStarted()&&this._finalKeyframe.forEach((We,xt)=>{"offset"!==xt&&ae.set(xt,this._finished?We:Io(this.element,xt))}),this.currentSnapshot=ae}triggerCallback(ae){const pe="start"===ae?this._onStartFns:this._onDoneFns;pe.forEach(We=>We()),pe.length=0}}class $s{validateStyleProperty(ae){return!0}validateAnimatableStyleProperty(ae){return!0}matchesElement(ae,pe){return!1}containsElement(ae,pe){return gn(ae,pe)}getParentElement(ae){return bt(ae)}query(ae,pe,We){return Gt(ae,pe,We)}computeStyle(ae,pe,We){return window.getComputedStyle(ae)[pe]}animate(ae,pe,We,xt,Qt,un=[]){const Sn={duration:We,delay:xt,fill:0==xt?"both":"forwards"};Qt&&(Sn.easing=Qt);const zn=new Map,Yt=un.filter(_t=>_t instanceof gs);(function us(Ct,ae){return 0===Ct||0===ae})(We,xt)&&Yt.forEach(_t=>{_t.currentSnapshot.forEach((Ft,an)=>zn.set(an,Ft))});let Ne=function bn(Ct){return Ct.length?Ct[0]instanceof Map?Ct:Ct.map(ae=>Zt(ae)):[]}(pe).map(_t=>Wn(_t));Ne=function _s(Ct,ae,pe){if(pe.size&&ae.length){let We=ae[0],xt=[];if(pe.forEach((Qt,un)=>{We.has(un)||xt.push(un),We.set(un,Qt)}),xt.length)for(let Qt=1;Qt<ae.length;Qt++){let un=ae[Qt];xt.forEach(_n=>un.set(_n,Io(Ct,_n)))}}return ae}(ae,Ne,zn);const Be=function mi(Ct,ae){let pe=null,We=null;return Array.isArray(ae)&&ae.length?(pe=_o(ae[0]),ae.length>1&&(We=_o(ae[ae.length-1]))):ae instanceof Map&&(pe=_o(ae)),pe||We?new Gi(Ct,pe,We):null}(ae,Ne);return new gs(ae,Ne,Sn,Be)}}let pr=(()=>{class Ct extends V._j{constructor(pe,We){super(),this._nextAnimationId=0,this._renderer=pe.createRenderer(We.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(pe){const We=this._nextAnimationId.toString();this._nextAnimationId++;const xt=Array.isArray(pe)?(0,V.vP)(pe):pe;return hr(this._renderer,null,We,"register",[xt]),new Dr(We,this._renderer)}}return Ct.\u0275fac=function(pe){return new(pe||Ct)(d.LFG(d.FYo),d.LFG(r.K0))},Ct.\u0275prov=d.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();class Dr extends V.LC{constructor(ae,pe){super(),this._id=ae,this._renderer=pe}create(ae,pe){return new Kr(this._id,ae,pe||{},this._renderer)}}class Kr{constructor(ae,pe,We,xt){this.id=ae,this.element=pe,this._renderer=xt,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",We)}_listen(ae,pe){return this._renderer.listen(this.element,`@@${this.id}:${ae}`,pe)}_command(ae,...pe){return hr(this._renderer,this.element,this.id,ae,pe)}onDone(ae){this._listen("done",ae)}onStart(ae){this._listen("start",ae)}onDestroy(ae){this._listen("destroy",ae)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(ae){this._command("setPosition",ae)}getPosition(){var ae,pe;return null!==(pe=null===(ae=this._renderer.engine.players[+this.id])||void 0===ae?void 0:ae.getPosition())&&void 0!==pe?pe:0}}function hr(Ct,ae,pe,We,xt){return Ct.setProperty(ae,`@@${pe}:${We}`,xt)}const Ur="@.disabled";let gr=(()=>{class Ct{constructor(pe,We,xt){this.delegate=pe,this.engine=We,this._zone=xt,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),We.onRemovalComplete=(Qt,un)=>{const _n=null==un?void 0:un.parentNode(Qt);_n&&un.removeChild(_n,Qt)}}createRenderer(pe,We){const Qt=this.delegate.createRenderer(pe,We);if(!(pe&&We&&We.data&&We.data.animation)){let Yt=this._rendererCache.get(Qt);return Yt||(Yt=new _a("",Qt,this.engine,()=>this._rendererCache.delete(Qt)),this._rendererCache.set(Qt,Yt)),Yt}const un=We.id,_n=We.id+"-"+this._currentId;this._currentId++,this.engine.register(_n,pe);const Sn=Yt=>{Array.isArray(Yt)?Yt.forEach(Sn):this.engine.registerTrigger(un,_n,pe,Yt.name,Yt)};return We.data.animation.forEach(Sn),new Ma(this,_n,Qt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(pe,We,xt){pe>=0&&pe<this._microtaskId?this._zone.run(()=>We(xt)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Qt=>{const[un,_n]=Qt;un(_n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([We,xt]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Ct.\u0275fac=function(pe){return new(pe||Ct)(d.LFG(d.FYo),d.LFG(Ln),d.LFG(d.R0b))},Ct.\u0275prov=d.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})();class _a{constructor(ae,pe,We,xt){this.namespaceId=ae,this.delegate=pe,this.engine=We,this._onDestroy=xt,this.destroyNode=this.delegate.destroyNode?Qt=>pe.destroyNode(Qt):null}get data(){return this.delegate.data}destroy(){var ae;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(ae=this._onDestroy)||void 0===ae||ae.call(this)}createElement(ae,pe){return this.delegate.createElement(ae,pe)}createComment(ae){return this.delegate.createComment(ae)}createText(ae){return this.delegate.createText(ae)}appendChild(ae,pe){this.delegate.appendChild(ae,pe),this.engine.onInsert(this.namespaceId,pe,ae,!1)}insertBefore(ae,pe,We,xt=!0){this.delegate.insertBefore(ae,pe,We),this.engine.onInsert(this.namespaceId,pe,ae,xt)}removeChild(ae,pe,We){this.engine.onRemove(this.namespaceId,pe,this.delegate,We)}selectRootElement(ae,pe){return this.delegate.selectRootElement(ae,pe)}parentNode(ae){return this.delegate.parentNode(ae)}nextSibling(ae){return this.delegate.nextSibling(ae)}setAttribute(ae,pe,We,xt){this.delegate.setAttribute(ae,pe,We,xt)}removeAttribute(ae,pe,We){this.delegate.removeAttribute(ae,pe,We)}addClass(ae,pe){this.delegate.addClass(ae,pe)}removeClass(ae,pe){this.delegate.removeClass(ae,pe)}setStyle(ae,pe,We,xt){this.delegate.setStyle(ae,pe,We,xt)}removeStyle(ae,pe,We){this.delegate.removeStyle(ae,pe,We)}setProperty(ae,pe,We){"@"==pe.charAt(0)&&pe==Ur?this.disableAnimations(ae,!!We):this.delegate.setProperty(ae,pe,We)}setValue(ae,pe){this.delegate.setValue(ae,pe)}listen(ae,pe,We){return this.delegate.listen(ae,pe,We)}disableAnimations(ae,pe){this.engine.disableAnimations(ae,pe)}}class Ma extends _a{constructor(ae,pe,We,xt,Qt){super(pe,We,xt,Qt),this.factory=ae,this.namespaceId=pe}setProperty(ae,pe,We){"@"==pe.charAt(0)?"."==pe.charAt(1)&&pe==Ur?this.disableAnimations(ae,We=void 0===We||!!We):this.engine.process(this.namespaceId,ae,pe.slice(1),We):this.delegate.setProperty(ae,pe,We)}listen(ae,pe,We){if("@"==pe.charAt(0)){const xt=function Ha(Ct){switch(Ct){case"body":return document.body;case"document":return document;case"window":return window;default:return Ct}}(ae);let Qt=pe.slice(1),un="";return"@"!=Qt.charAt(0)&&([Qt,un]=function Pe(Ct){const ae=Ct.indexOf(".");return[Ct.substring(0,ae),Ct.slice(ae+1)]}(Qt)),this.engine.listen(this.namespaceId,xt,Qt,un,_n=>{this.factory.scheduleListenerCallback(_n._data||-1,We,_n)})}return this.delegate.listen(ae,pe,We)}}const on=[{provide:V._j,useClass:pr},{provide:ps,useFactory:function Ve(){return new kr}},{provide:Ln,useClass:(()=>{class Ct extends Ln{constructor(pe,We,xt,Qt){super(pe.body,We,xt)}ngOnDestroy(){this.flush()}}return Ct.\u0275fac=function(pe){return new(pe||Ct)(d.LFG(r.K0),d.LFG(rn),d.LFG(ps),d.LFG(d.z2F))},Ct.\u0275prov=d.Yz7({token:Ct,factory:Ct.\u0275fac}),Ct})()},{provide:d.FYo,useFactory:function Dt(Ct,ae,pe){return new gr(Ct,ae,pe)},deps:[e.se,Ln,d.R0b]}],Dn=[{provide:rn,useFactory:()=>new $s},{provide:d.QbO,useValue:"BrowserAnimations"},...on],Nn=[{provide:rn,useClass:Ut},{provide:d.QbO,useValue:"NoopAnimations"},...on];let ui=(()=>{class Ct{static withConfig(pe){return{ngModule:Ct,providers:pe.disableAnimations?Nn:Dn}}}return Ct.\u0275fac=function(pe){return new(pe||Ct)},Ct.\u0275mod=d.oAB({type:Ct}),Ct.\u0275inj=d.cJS({providers:Dn,imports:[e.b2]}),Ct})();var ji=b(158),mo=b(520),yi=b(2382),Co=b(4087),Ko=b(6198),Xs=b(845);(0,r.qS)(B,"ru");let as=(()=>{class Ct{}return Ct.\u0275fac=function(pe){return new(pe||Ct)},Ct.\u0275mod=d.oAB({type:Ct,bootstrap:[E]}),Ct.\u0275inj=d.cJS({imports:[ji.q,ui,e.b2,$.MainModule,ce.LoginModule,f.Bz,yi.u5,mo.JF,R.EV,Co.U,Ko.L,Xs.hJ,ui,yi.u5,mo.JF]}),Ct})();b(2340).N.production&&(0,d.G48)(),e.q6().bootstrapModule(as).catch(Ct=>console.error(Ct))},1135:(hn,ft,b)=>{"use strict";b.d(ft,{X:()=>d});var e=b(7579);class d extends e.x{constructor(f){super(),this._value=f}get value(){return this.getValue()}_subscribe(f){const _=super._subscribe(f);return!_.closed&&f.next(this._value),_}getValue(){const{hasError:f,thrownError:_,_value:P}=this;if(f)throw _;return this._throwIfClosed(),P}next(f){super.next(this._value=f)}}},9751:(hn,ft,b)=>{"use strict";b.d(ft,{y:()=>r});var e=b(930),d=b(727),u=b(8822),f=b(9635),_=b(2416),P=b(576),x=b(2806);let r=(()=>{class N{constructor(y){y&&(this._subscribe=y)}lift(y){const E=new N;return E.source=this,E.operator=y,E}subscribe(y,E,D){const U=function Q(N){return N&&N instanceof e.Lv||function L(N){return N&&(0,P.m)(N.next)&&(0,P.m)(N.error)&&(0,P.m)(N.complete)}(N)&&(0,d.Nn)(N)}(y)?y:new e.Hp(y,E,D);return(0,x.x)(()=>{const{operator:B,source:ce}=this;U.add(B?B.call(U,ce):ce?this._subscribe(U):this._trySubscribe(U))}),U}_trySubscribe(y){try{return this._subscribe(y)}catch(E){y.error(E)}}forEach(y,E){return new(E=R(E))((D,U)=>{let B;B=this.subscribe(ce=>{try{y(ce)}catch($){U($),null==B||B.unsubscribe()}},U,D)})}_subscribe(y){var E;return null===(E=this.source)||void 0===E?void 0:E.subscribe(y)}[u.L](){return this}pipe(...y){return(0,f.U)(y)(this)}toPromise(y){return new(y=R(y))((E,D)=>{let U;this.subscribe(B=>U=B,B=>D(B),()=>E(U))})}}return N.create=T=>new N(T),N})();function R(N){var T;return null!==(T=null!=N?N:_.v.Promise)&&void 0!==T?T:Promise}},4707:(hn,ft,b)=>{"use strict";b.d(ft,{t:()=>u});var e=b(7579),d=b(6063);class u extends e.x{constructor(_=1/0,P=1/0,x=d.l){super(),this._bufferSize=_,this._windowTime=P,this._timestampProvider=x,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=P===1/0,this._bufferSize=Math.max(1,_),this._windowTime=Math.max(1,P)}next(_){const{isStopped:P,_buffer:x,_infiniteTimeWindow:r,_timestampProvider:R,_windowTime:L}=this;P||(x.push(_),!r&&x.push(R.now()+L)),this._trimBuffer(),super.next(_)}_subscribe(_){this._throwIfClosed(),this._trimBuffer();const P=this._innerSubscribe(_),{_infiniteTimeWindow:x,_buffer:r}=this,R=r.slice();for(let L=0;L<R.length&&!_.closed;L+=x?1:2)_.next(R[L]);return this._checkFinalizedStatuses(_),P}_trimBuffer(){const{_bufferSize:_,_timestampProvider:P,_buffer:x,_infiniteTimeWindow:r}=this,R=(r?1:2)*_;if(_<1/0&&R<x.length&&x.splice(0,x.length-R),!r){const L=P.now();let Q=0;for(let N=1;N<x.length&&x[N]<=L;N+=2)Q=N;Q&&x.splice(0,Q+1)}}}},7579:(hn,ft,b)=>{"use strict";b.d(ft,{x:()=>x});var e=b(9751),d=b(727);const f=(0,b(3888).d)(R=>function(){R(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _=b(8737),P=b(2806);let x=(()=>{class R extends e.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const N=new r(this,this);return N.operator=Q,N}_throwIfClosed(){if(this.closed)throw new f}next(Q){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const N=this.observers.slice();for(const T of N)T.next(Q)}})}error(Q){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:N}=this;for(;N.length;)N.shift().error(Q)}})}complete(){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:N,isStopped:T,observers:y}=this;return N||T?d.Lc:(y.push(Q),new d.w0(()=>(0,_.P)(y,Q)))}_checkFinalizedStatuses(Q){const{hasError:N,thrownError:T,isStopped:y}=this;N?Q.error(T):y&&Q.complete()}asObservable(){const Q=new e.y;return Q.source=this,Q}}return R.create=(L,Q)=>new r(L,Q),R})();class r extends x{constructor(L,Q){super(),this.destination=L,this.source=Q}next(L){var Q,N;null===(N=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===N||N.call(Q,L)}error(L){var Q,N;null===(N=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===N||N.call(Q,L)}complete(){var L,Q;null===(Q=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===Q||Q.call(L)}_subscribe(L){var Q,N;return null!==(N=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(L))&&void 0!==N?N:d.Lc}}},930:(hn,ft,b)=>{"use strict";b.d(ft,{Hp:()=>T,Lv:()=>N});var e=b(576),d=b(727),u=b(2416),f=b(7849),_=b(5032);const P=R("C",void 0,void 0);function R(B,ce,$){return{kind:B,value:ce,error:$}}var L=b(3410),Q=b(2806);class N extends d.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,d.Nn)(ce)&&ce.add(this)):this.destination=U}static create(ce,$,V){return new T(ce,$,V)}next(ce){this.isStopped?D(function r(B){return R("N",B,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?D(function x(B){return R("E",void 0,B)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?D(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class T extends N{constructor(ce,$,V){let k;if(super(),(0,e.m)(ce))k=ce;else if(ce){let O;({next:k,error:$,complete:V}=ce),this&&u.v.useDeprecatedNextContext?(O=Object.create(ce),O.unsubscribe=()=>this.unsubscribe()):O=ce,k=null==k?void 0:k.bind(O),$=null==$?void 0:$.bind(O),V=null==V?void 0:V.bind(O)}this.destination={next:k?y(k):_.Z,error:y(null!=$?$:E),complete:V?y(V):_.Z}}}function y(B,ce){return(...$)=>{try{B(...$)}catch(V){u.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(V):(0,f.h)(V)}}}function E(B){throw B}function D(B,ce){const{onStoppedNotification:$}=u.v;$&&L.z.setTimeout(()=>$(B,ce))}const U={closed:!0,next:_.Z,error:E,complete:_.Z}},727:(hn,ft,b)=>{"use strict";b.d(ft,{Lc:()=>P,w0:()=>_,Nn:()=>x});var e=b(576);const u=(0,b(3888).d)(R=>function(Q){R(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((N,T)=>`${T+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var f=b(8737);class _{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const y of Q)y.remove(this);else Q.remove(this);const{initialTeardown:N}=this;if((0,e.m)(N))try{N()}catch(y){L=y instanceof u?y.errors:[y]}const{_teardowns:T}=this;if(T){this._teardowns=null;for(const y of T)try{r(y)}catch(E){L=null!=L?L:[],E instanceof u?L=[...L,...E.errors]:L.push(E)}}if(L)throw new u(L)}}add(L){var Q;if(L&&L!==this)if(this.closed)r(L);else{if(L instanceof _){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._teardowns=null!==(Q=this._teardowns)&&void 0!==Q?Q:[]).push(L)}}_hasParent(L){const{_parentage:Q}=this;return Q===L||Array.isArray(Q)&&Q.includes(L)}_addParent(L){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(L),Q):Q?[Q,L]:L}_removeParent(L){const{_parentage:Q}=this;Q===L?this._parentage=null:Array.isArray(Q)&&(0,f.P)(Q,L)}remove(L){const{_teardowns:Q}=this;Q&&(0,f.P)(Q,L),L instanceof _&&L._removeParent(this)}}_.EMPTY=(()=>{const R=new _;return R.closed=!0,R})();const P=_.EMPTY;function x(R){return R instanceof _||R&&"closed"in R&&(0,e.m)(R.remove)&&(0,e.m)(R.add)&&(0,e.m)(R.unsubscribe)}function r(R){(0,e.m)(R)?R():R.unsubscribe()}},2416:(hn,ft,b)=>{"use strict";b.d(ft,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(hn,ft,b)=>{"use strict";b.d(ft,{z:()=>u});var e=b(6805),d=b(930);function u(f,_){const P="object"==typeof _;return new Promise((x,r)=>{const R=new d.Hp({next:L=>{x(L),R.unsubscribe()},error:r,complete:()=>{P?x(_.defaultValue):r(new e.K)}});f.subscribe(R)})}},4464:(hn,ft,b)=>{"use strict";b.d(ft,{n:()=>d});var e=b(6805);function d(u,f){const _="object"==typeof f;return new Promise((P,x)=>{let R,r=!1;u.subscribe({next:L=>{R=L,r=!0},error:x,complete:()=>{r?P(R):_?P(f.defaultValue):x(new e.K)}})})}},9841:(hn,ft,b)=>{"use strict";b.d(ft,{a:()=>L});var e=b(9751),d=b(4742),u=b(2076),f=b(4671),_=b(3268),P=b(3269),x=b(1810),r=b(5403),R=b(9672);function L(...T){const y=(0,P.yG)(T),E=(0,P.jO)(T),{args:D,keys:U}=(0,d.D)(T);if(0===D.length)return(0,u.D)([],y);const B=new e.y(function Q(T,y,E=f.y){return D=>{N(y,()=>{const{length:U}=T,B=new Array(U);let ce=U,$=U;for(let V=0;V<U;V++)N(y,()=>{const k=(0,u.D)(T[V],y);let O=!1;k.subscribe(new r.Q(D,K=>{B[V]=K,O||(O=!0,$--),$||D.next(E(B.slice()))},()=>{--ce||D.complete()}))},D)},D)}}(D,y,U?ce=>(0,x.n)(U,ce):f.y));return E?B.pipe((0,_.Z)(E)):B}function N(T,y,E){T?(0,R.f)(E,T,y):y()}},7272:(hn,ft,b)=>{"use strict";b.d(ft,{z:()=>_});var e=b(8189),u=b(3269),f=b(2076);function _(...P){return function d(){return(0,e.J)(1)}()((0,f.D)(P,(0,u.yG)(P)))}},9770:(hn,ft,b)=>{"use strict";b.d(ft,{P:()=>u});var e=b(9751),d=b(8421);function u(f){return new e.y(_=>{(0,d.Xf)(f()).subscribe(_)})}},515:(hn,ft,b)=>{"use strict";b.d(ft,{E:()=>d});const d=new(b(9751).y)(_=>_.complete())},2076:(hn,ft,b)=>{"use strict";b.d(ft,{D:()=>K});var e=b(8421),d=b(9672),u=b(4482),f=b(5403);function _(ue,q=0){return(0,u.e)((G,ne)=>{G.subscribe(new f.Q(ne,Ce=>(0,d.f)(ne,ue,()=>ne.next(Ce),q),()=>(0,d.f)(ne,ue,()=>ne.complete(),q),Ce=>(0,d.f)(ne,ue,()=>ne.error(Ce),q)))})}function P(ue,q=0){return(0,u.e)((G,ne)=>{ne.add(ue.schedule(()=>G.subscribe(ne),q))})}var R=b(9751),Q=b(2202),N=b(576);function y(ue,q){if(!ue)throw new Error("Iterable cannot be null");return new R.y(G=>{(0,d.f)(G,q,()=>{const ne=ue[Symbol.asyncIterator]();(0,d.f)(G,q,()=>{ne.next().then(Ce=>{Ce.done?G.complete():G.next(Ce.value)})},0,!0)})})}var E=b(3670),D=b(8239),U=b(1144),B=b(6495),ce=b(2206),$=b(4532),V=b(3260);function K(ue,q){return q?function O(ue,q){if(null!=ue){if((0,E.c)(ue))return function x(ue,q){return(0,e.Xf)(ue).pipe(P(q),_(q))}(ue,q);if((0,U.z)(ue))return function L(ue,q){return new R.y(G=>{let ne=0;return q.schedule(function(){ne===ue.length?G.complete():(G.next(ue[ne++]),G.closed||this.schedule())})})}(ue,q);if((0,D.t)(ue))return function r(ue,q){return(0,e.Xf)(ue).pipe(P(q),_(q))}(ue,q);if((0,ce.D)(ue))return y(ue,q);if((0,B.T)(ue))return function T(ue,q){return new R.y(G=>{let ne;return(0,d.f)(G,q,()=>{ne=ue[Q.h](),(0,d.f)(G,q,()=>{let Ce,oe;try{({value:Ce,done:oe}=ne.next())}catch(z){return void G.error(z)}oe?G.complete():G.next(Ce)},0,!0)}),()=>(0,N.m)(null==ne?void 0:ne.return)&&ne.return()})}(ue,q);if((0,V.L)(ue))return function k(ue,q){return y((0,V.Q)(ue),q)}(ue,q)}throw(0,$.z)(ue)}(ue,q):(0,e.Xf)(ue)}},4968:(hn,ft,b)=>{"use strict";b.d(ft,{R:()=>L});var e=b(8421),d=b(9751),u=b(5577),f=b(1144),_=b(576),P=b(3268);const x=["addListener","removeListener"],r=["addEventListener","removeEventListener"],R=["on","off"];function L(E,D,U,B){if((0,_.m)(U)&&(B=U,U=void 0),B)return L(E,D,U).pipe((0,P.Z)(B));const[ce,$]=function y(E){return(0,_.m)(E.addEventListener)&&(0,_.m)(E.removeEventListener)}(E)?r.map(V=>k=>E[V](D,k,U)):function N(E){return(0,_.m)(E.addListener)&&(0,_.m)(E.removeListener)}(E)?x.map(Q(E,D)):function T(E){return(0,_.m)(E.on)&&(0,_.m)(E.off)}(E)?R.map(Q(E,D)):[];if(!ce&&(0,f.z)(E))return(0,u.z)(V=>L(V,D,U))((0,e.Xf)(E));if(!ce)throw new TypeError("Invalid event target");return new d.y(V=>{const k=(...O)=>V.next(1<O.length?O:O[0]);return ce(k),()=>$(k)})}function Q(E,D){return U=>B=>E[U](D,B)}},8421:(hn,ft,b)=>{"use strict";b.d(ft,{Xf:()=>T});var e=b(5987),d=b(1144),u=b(8239),f=b(9751),_=b(3670),P=b(2206),x=b(4532),r=b(6495),R=b(3260),L=b(576),Q=b(7849),N=b(8822);function T(V){if(V instanceof f.y)return V;if(null!=V){if((0,_.c)(V))return function y(V){return new f.y(k=>{const O=V[N.L]();if((0,L.m)(O.subscribe))return O.subscribe(k);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(V);if((0,d.z)(V))return function E(V){return new f.y(k=>{for(let O=0;O<V.length&&!k.closed;O++)k.next(V[O]);k.complete()})}(V);if((0,u.t)(V))return function D(V){return new f.y(k=>{V.then(O=>{k.closed||(k.next(O),k.complete())},O=>k.error(O)).then(null,Q.h)})}(V);if((0,P.D)(V))return B(V);if((0,r.T)(V))return function U(V){return new f.y(k=>{for(const O of V)if(k.next(O),k.closed)return;k.complete()})}(V);if((0,R.L)(V))return function ce(V){return B((0,R.Q)(V))}(V)}throw(0,x.z)(V)}function B(V){return new f.y(k=>{(function $(V,k){var O,K,ue,q;return(0,e.mG)(this,void 0,void 0,function*(){try{for(O=(0,e.KL)(V);!(K=yield O.next()).done;)if(k.next(K.value),k.closed)return}catch(G){ue={error:G}}finally{try{K&&!K.done&&(q=O.return)&&(yield q.call(O))}finally{if(ue)throw ue.error}}k.complete()})})(V,k).catch(O=>k.error(O))})}},7445:(hn,ft,b)=>{"use strict";b.d(ft,{F:()=>u});var e=b(4986),d=b(5963);function u(f=0,_=e.z){return f<0&&(f=0),(0,d.H)(f,f,_)}},6451:(hn,ft,b)=>{"use strict";b.d(ft,{T:()=>P});var e=b(8189),d=b(8421),u=b(515),f=b(3269),_=b(2076);function P(...x){const r=(0,f.yG)(x),R=(0,f._6)(x,1/0),L=x;return L.length?1===L.length?(0,d.Xf)(L[0]):(0,e.J)(R)((0,_.D)(L,r)):u.E}},9646:(hn,ft,b)=>{"use strict";b.d(ft,{of:()=>u});var e=b(3269),d=b(2076);function u(...f){const _=(0,e.yG)(f);return(0,d.D)(f,_)}},2843:(hn,ft,b)=>{"use strict";b.d(ft,{_:()=>u});var e=b(9751),d=b(576);function u(f,_){const P=(0,d.m)(f)?f:()=>f,x=r=>r.error(P());return new e.y(_?r=>_.schedule(x,0,r):x)}},5963:(hn,ft,b)=>{"use strict";b.d(ft,{H:()=>_});var e=b(9751),d=b(4986),u=b(3532);function _(P=0,x,r=d.P){let R=-1;return null!=x&&((0,u.K)(x)?r=x:R=x),new e.y(L=>{let Q=function f(P){return P instanceof Date&&!isNaN(P)}(P)?+P-r.now():P;Q<0&&(Q=0);let N=0;return r.schedule(function(){L.closed||(L.next(N++),0<=R?this.schedule(void 0,R):L.complete())},Q)})}},5403:(hn,ft,b)=>{"use strict";b.d(ft,{Q:()=>d});var e=b(930);class d extends e.Lv{constructor(f,_,P,x,r){super(f),this.onFinalize=r,this._next=_?function(R){try{_(R)}catch(L){f.error(L)}}:super._next,this._error=x?function(R){try{x(R)}catch(L){f.error(L)}finally{this.unsubscribe()}}:super._error,this._complete=P?function(){try{P()}catch(R){f.error(R)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var f;const{closed:_}=this;super.unsubscribe(),!_&&(null===(f=this.onFinalize)||void 0===f||f.call(this))}}},262:(hn,ft,b)=>{"use strict";b.d(ft,{K:()=>f});var e=b(8421),d=b(5403),u=b(4482);function f(_){return(0,u.e)((P,x)=>{let L,r=null,R=!1;r=P.subscribe(new d.Q(x,void 0,void 0,Q=>{L=(0,e.Xf)(_(Q,f(_)(P))),r?(r.unsubscribe(),r=null,L.subscribe(x)):R=!0})),R&&(r.unsubscribe(),r=null,L.subscribe(x))})}},4351:(hn,ft,b)=>{"use strict";b.d(ft,{b:()=>u});var e=b(5577),d=b(576);function u(f,_){return(0,d.m)(_)?(0,e.z)(f,_,1):(0,e.z)(f,1)}},8372:(hn,ft,b)=>{"use strict";b.d(ft,{b:()=>f});var e=b(4986),d=b(4482),u=b(5403);function f(_,P=e.z){return(0,d.e)((x,r)=>{let R=null,L=null,Q=null;const N=()=>{if(R){R.unsubscribe(),R=null;const y=L;L=null,r.next(y)}};function T(){const y=Q+_,E=P.now();if(E<y)return R=this.schedule(void 0,y-E),void r.add(R);N()}x.subscribe(new u.Q(r,y=>{L=y,Q=P.now(),R||(R=P.schedule(T,_),r.add(R))},()=>{N(),r.complete()},void 0,()=>{L=R=null}))})}},6590:(hn,ft,b)=>{"use strict";b.d(ft,{d:()=>u});var e=b(4482),d=b(5403);function u(f){return(0,e.e)((_,P)=>{let x=!1;_.subscribe(new d.Q(P,r=>{x=!0,P.next(r)},()=>{x||P.next(f),P.complete()}))})}},4326:(hn,ft,b)=>{"use strict";b.d(ft,{g:()=>f});var e=b(4986),d=b(5376),u=b(5963);function f(_,P=e.z){const x=(0,u.H)(_,P);return(0,d.j)(()=>x)}},5376:(hn,ft,b)=>{"use strict";b.d(ft,{j:()=>R});var e=b(7272),d=b(5698),u=b(4482),f=b(5403),_=b(5032),x=b(9718),r=b(5577);function R(L,Q){return Q?N=>(0,e.z)(Q.pipe((0,d.q)(1),function P(){return(0,u.e)((L,Q)=>{L.subscribe(new f.Q(Q,_.Z))})}()),N.pipe(R(L))):(0,r.z)((N,T)=>L(N,T).pipe((0,d.q)(1),(0,x.h)(N)))}},1884:(hn,ft,b)=>{"use strict";b.d(ft,{x:()=>f});var e=b(4671),d=b(4482),u=b(5403);function f(P,x=e.y){return P=null!=P?P:_,(0,d.e)((r,R)=>{let L,Q=!0;r.subscribe(new u.Q(R,N=>{const T=x(N);(Q||!P(L,T))&&(Q=!1,L=T,R.next(N))}))})}function _(P,x){return P===x}},9300:(hn,ft,b)=>{"use strict";b.d(ft,{h:()=>u});var e=b(4482),d=b(5403);function u(f,_){return(0,e.e)((P,x)=>{let r=0;P.subscribe(new d.Q(x,R=>f.call(_,R,r++)&&x.next(R)))})}},8746:(hn,ft,b)=>{"use strict";b.d(ft,{x:()=>d});var e=b(4482);function d(u){return(0,e.e)((f,_)=>{try{f.subscribe(_)}finally{_.add(u)}})}},590:(hn,ft,b)=>{"use strict";b.d(ft,{P:()=>x});var e=b(6805),d=b(9300),u=b(5698),f=b(6590),_=b(8068),P=b(4671);function x(r,R){const L=arguments.length>=2;return Q=>Q.pipe(r?(0,d.h)((N,T)=>r(N,T,Q)):P.y,(0,u.q)(1),L?(0,f.d)(R):(0,_.T)(()=>new e.K))}},4004:(hn,ft,b)=>{"use strict";b.d(ft,{U:()=>u});var e=b(4482),d=b(5403);function u(f,_){return(0,e.e)((P,x)=>{let r=0;P.subscribe(new d.Q(x,R=>{x.next(f.call(_,R,r++))}))})}},9718:(hn,ft,b)=>{"use strict";b.d(ft,{h:()=>d});var e=b(4004);function d(u){return(0,e.U)(()=>u)}},8189:(hn,ft,b)=>{"use strict";b.d(ft,{J:()=>u});var e=b(5577),d=b(4671);function u(f=1/0){return(0,e.z)(d.y,f)}},5577:(hn,ft,b)=>{"use strict";b.d(ft,{z:()=>r});var e=b(4004),d=b(8421),u=b(4482),f=b(9672),_=b(5403),x=b(576);function r(R,L,Q=1/0){return(0,x.m)(L)?r((N,T)=>(0,e.U)((y,E)=>L(N,y,T,E))((0,d.Xf)(R(N,T))),Q):("number"==typeof L&&(Q=L),(0,u.e)((N,T)=>function P(R,L,Q,N,T,y,E,D){const U=[];let B=0,ce=0,$=!1;const V=()=>{$&&!U.length&&!B&&L.complete()},k=K=>B<N?O(K):U.push(K),O=K=>{y&&L.next(K),B++;let ue=!1;(0,d.Xf)(Q(K,ce++)).subscribe(new _.Q(L,q=>{null==T||T(q),y?k(q):L.next(q)},()=>{ue=!0},void 0,()=>{if(ue)try{for(B--;U.length&&B<N;){const q=U.shift();E?(0,f.f)(L,E,()=>O(q)):O(q)}V()}catch(q){L.error(q)}}))};return R.subscribe(new _.Q(L,k,()=>{$=!0,V()})),()=>{null==D||D()}}(N,T,R,Q)))}},599:(hn,ft,b)=>{"use strict";b.d(ft,{r:()=>f});var e=b(515),d=b(4482),u=b(5403);function f(_=1/0){return _<=0?()=>e.E:(0,d.e)((P,x)=>{let R,r=0;const L=()=>{let Q=!1;R=P.subscribe(new u.Q(x,void 0,()=>{++r<_?R?(R.unsubscribe(),R=null,L()):Q=!0:x.complete()})),Q&&(R.unsubscribe(),R=null,L())};L()})}},5625:(hn,ft,b)=>{"use strict";b.d(ft,{X:()=>P});var e=b(4482),d=b(5403),u=b(4671),f=b(5963),_=b(8421);function P(x=1/0){let r;r=x&&"object"==typeof x?x:{count:x};const{count:R=1/0,delay:L,resetOnSuccess:Q=!1}=r;return R<=0?u.y:(0,e.e)((N,T)=>{let E,y=0;const D=()=>{let U=!1;E=N.subscribe(new d.Q(T,B=>{Q&&(y=0),T.next(B)},void 0,B=>{if(y++<R){const ce=()=>{E?(E.unsubscribe(),E=null,D()):U=!0};if(null!=L){const $="number"==typeof L?(0,f.H)(L):(0,_.Xf)(L(B,y)),V=new d.Q(T,()=>{V.unsubscribe(),ce()},()=>{T.complete()});$.subscribe(V)}else ce()}else T.error(B)})),U&&(E.unsubscribe(),E=null,D())};D()})}},3099:(hn,ft,b)=>{"use strict";b.d(ft,{B:()=>P});var e=b(2076),d=b(5698),u=b(7579),f=b(930),_=b(4482);function P(r={}){const{connector:R=(()=>new u.x),resetOnError:L=!0,resetOnComplete:Q=!0,resetOnRefCountZero:N=!0}=r;return T=>{let y=null,E=null,D=null,U=0,B=!1,ce=!1;const $=()=>{null==E||E.unsubscribe(),E=null},V=()=>{$(),y=D=null,B=ce=!1},k=()=>{const O=y;V(),null==O||O.unsubscribe()};return(0,_.e)((O,K)=>{U++,!ce&&!B&&$();const ue=D=null!=D?D:R();K.add(()=>{U--,0===U&&!ce&&!B&&(E=x(k,N))}),ue.subscribe(K),y||(y=new f.Hp({next:q=>ue.next(q),error:q=>{ce=!0,$(),E=x(V,L,q),ue.error(q)},complete:()=>{B=!0,$(),E=x(V,Q),ue.complete()}}),(0,e.D)(O).subscribe(y))})(T)}}function x(r,R,...L){return!0===R?(r(),null):!1===R?null:R(...L).pipe((0,d.q)(1)).subscribe(()=>r())}},4782:(hn,ft,b)=>{"use strict";b.d(ft,{d:()=>u});var e=b(4707),d=b(3099);function u(f,_,P){var x,r;let R,L=!1;return f&&"object"==typeof f?(R=null!==(x=f.bufferSize)&&void 0!==x?x:1/0,_=null!==(r=f.windowTime)&&void 0!==r?r:1/0,L=!!f.refCount,P=f.scheduler):R=null!=f?f:1/0,(0,d.B)({connector:()=>new e.t(R,_,P),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:L})}},8675:(hn,ft,b)=>{"use strict";b.d(ft,{O:()=>f});var e=b(7272),d=b(3269),u=b(4482);function f(..._){const P=(0,d.yG)(_);return(0,u.e)((x,r)=>{(P?(0,e.z)(_,x,P):(0,e.z)(_,x)).subscribe(r)})}},3900:(hn,ft,b)=>{"use strict";b.d(ft,{w:()=>f});var e=b(8421),d=b(4482),u=b(5403);function f(_,P){return(0,d.e)((x,r)=>{let R=null,L=0,Q=!1;const N=()=>Q&&!R&&r.complete();x.subscribe(new u.Q(r,T=>{null==R||R.unsubscribe();let y=0;const E=L++;(0,e.Xf)(_(T,E)).subscribe(R=new u.Q(r,D=>r.next(P?P(T,D,E,y++):D),()=>{R=null,N()}))},()=>{Q=!0,N()}))})}},5698:(hn,ft,b)=>{"use strict";b.d(ft,{q:()=>f});var e=b(515),d=b(4482),u=b(5403);function f(_){return _<=0?()=>e.E:(0,d.e)((P,x)=>{let r=0;P.subscribe(new u.Q(x,R=>{++r<=_&&(x.next(R),_<=r&&x.complete())}))})}},2035:(hn,ft,b)=>{"use strict";b.d(ft,{h:()=>f});var e=b(515),d=b(4482),u=b(5403);function f(_){return _<=0?()=>e.E:(0,d.e)((P,x)=>{let r=[];P.subscribe(new u.Q(x,R=>{r.push(R),_<r.length&&r.shift()},()=>{for(const R of r)x.next(R);x.complete()},void 0,()=>{r=null}))})}},2722:(hn,ft,b)=>{"use strict";b.d(ft,{R:()=>_});var e=b(4482),d=b(5403),u=b(8421),f=b(5032);function _(P){return(0,e.e)((x,r)=>{(0,u.Xf)(P).subscribe(new d.Q(r,()=>r.complete(),f.Z)),!r.closed&&x.subscribe(r)})}},2529:(hn,ft,b)=>{"use strict";b.d(ft,{o:()=>u});var e=b(4482),d=b(5403);function u(f,_=!1){return(0,e.e)((P,x)=>{let r=0;P.subscribe(new d.Q(x,R=>{const L=f(R,r++);(L||_)&&x.next(R),!L&&x.complete()}))})}},8505:(hn,ft,b)=>{"use strict";b.d(ft,{b:()=>_});var e=b(576),d=b(4482),u=b(5403),f=b(4671);function _(P,x,r){const R=(0,e.m)(P)||x||r?{next:P,error:x,complete:r}:P;return R?(0,d.e)((L,Q)=>{var N;null===(N=R.subscribe)||void 0===N||N.call(R);let T=!0;L.subscribe(new u.Q(Q,y=>{var E;null===(E=R.next)||void 0===E||E.call(R,y),Q.next(y)},()=>{var y;T=!1,null===(y=R.complete)||void 0===y||y.call(R),Q.complete()},y=>{var E;T=!1,null===(E=R.error)||void 0===E||E.call(R,y),Q.error(y)},()=>{var y,E;T&&(null===(y=R.unsubscribe)||void 0===y||y.call(R)),null===(E=R.finalize)||void 0===E||E.call(R)}))}):f.y}},8068:(hn,ft,b)=>{"use strict";b.d(ft,{T:()=>f});var e=b(6805),d=b(4482),u=b(5403);function f(P=_){return(0,d.e)((x,r)=>{let R=!1;x.subscribe(new u.Q(r,L=>{R=!0,r.next(L)},()=>R?r.complete():r.error(P())))})}function _(){return new e.K}},4408:(hn,ft,b)=>{"use strict";b.d(ft,{o:()=>_});var e=b(727);class d extends e.w0{constructor(x,r){super()}schedule(x,r=0){return this}}const u={setInterval(...P){const{delegate:x}=u;return((null==x?void 0:x.setInterval)||setInterval)(...P)},clearInterval(P){const{delegate:x}=u;return((null==x?void 0:x.clearInterval)||clearInterval)(P)},delegate:void 0};var f=b(8737);class _ extends d{constructor(x,r){super(x,r),this.scheduler=x,this.work=r,this.pending=!1}schedule(x,r=0){if(this.closed)return this;this.state=x;const R=this.id,L=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(L,R,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(L,this.id,r),this}requestAsyncId(x,r,R=0){return u.setInterval(x.flush.bind(x,this),R)}recycleAsyncId(x,r,R=0){if(null!=R&&this.delay===R&&!1===this.pending)return r;u.clearInterval(r)}execute(x,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const R=this._execute(x,r);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,r){let L,R=!1;try{this.work(x)}catch(Q){R=!0,L=Q||new Error("Scheduled action threw falsy error")}if(R)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:x,scheduler:r}=this,{actions:R}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,f.P)(R,this),null!=x&&(this.id=this.recycleAsyncId(r,x,null)),this.delay=null,super.unsubscribe()}}}},7565:(hn,ft,b)=>{"use strict";b.d(ft,{v:()=>u});var e=b(6063);class d{constructor(_,P=d.now){this.schedulerActionCtor=_,this.now=P}schedule(_,P=0,x){return new this.schedulerActionCtor(this,_).schedule(x,P)}}d.now=e.l.now;class u extends d{constructor(_,P=d.now){super(_,P),this.actions=[],this._active=!1,this._scheduled=void 0}flush(_){const{actions:P}=this;if(this._active)return void P.push(_);let x;this._active=!0;do{if(x=_.execute(_.state,_.delay))break}while(_=P.shift());if(this._active=!1,x){for(;_=P.shift();)_.unsubscribe();throw x}}}},6406:(hn,ft,b)=>{"use strict";b.d(ft,{Z:()=>x});var e=b(4408),d=b(727);const u={schedule(R){let L=requestAnimationFrame,Q=cancelAnimationFrame;const{delegate:N}=u;N&&(L=N.requestAnimationFrame,Q=N.cancelAnimationFrame);const T=L(y=>{Q=void 0,R(y)});return new d.w0(()=>null==Q?void 0:Q(T))},requestAnimationFrame(...R){const{delegate:L}=u;return((null==L?void 0:L.requestAnimationFrame)||requestAnimationFrame)(...R)},cancelAnimationFrame(...R){const{delegate:L}=u;return((null==L?void 0:L.cancelAnimationFrame)||cancelAnimationFrame)(...R)},delegate:void 0};var _=b(7565);const x=new class P extends _.v{flush(L){this._active=!0,this._scheduled=void 0;const{actions:Q}=this;let N,T=-1;L=L||Q.shift();const y=Q.length;do{if(N=L.execute(L.state,L.delay))break}while(++T<y&&(L=Q.shift()));if(this._active=!1,N){for(;++T<y&&(L=Q.shift());)L.unsubscribe();throw N}}}(class f extends e.o{constructor(L,Q){super(L,Q),this.scheduler=L,this.work=Q}requestAsyncId(L,Q,N=0){return null!==N&&N>0?super.requestAsyncId(L,Q,N):(L.actions.push(this),L._scheduled||(L._scheduled=u.requestAnimationFrame(()=>L.flush(void 0))))}recycleAsyncId(L,Q,N=0){if(null!=N&&N>0||null==N&&this.delay>0)return super.recycleAsyncId(L,Q,N);0===L.actions.length&&(u.cancelAnimationFrame(Q),L._scheduled=void 0)}})},4986:(hn,ft,b)=>{"use strict";b.d(ft,{P:()=>f,z:()=>u});var e=b(4408);const u=new(b(7565).v)(e.o),f=u},6063:(hn,ft,b)=>{"use strict";b.d(ft,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(hn,ft,b)=>{"use strict";b.d(ft,{z:()=>e});const e={setTimeout(...d){const{delegate:u}=e;return((null==u?void 0:u.setTimeout)||setTimeout)(...d)},clearTimeout(d){const{delegate:u}=e;return((null==u?void 0:u.clearTimeout)||clearTimeout)(d)},delegate:void 0}},2202:(hn,ft,b)=>{"use strict";b.d(ft,{h:()=>d});const d=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(hn,ft,b)=>{"use strict";b.d(ft,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(hn,ft,b)=>{"use strict";b.d(ft,{K:()=>d});const d=(0,b(3888).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(hn,ft,b)=>{"use strict";b.d(ft,{_6:()=>P,jO:()=>f,yG:()=>_});var e=b(576),d=b(3532);function u(x){return x[x.length-1]}function f(x){return(0,e.m)(u(x))?x.pop():void 0}function _(x){return(0,d.K)(u(x))?x.pop():void 0}function P(x,r){return"number"==typeof u(x)?x.pop():r}},4742:(hn,ft,b)=>{"use strict";b.d(ft,{D:()=>_});const{isArray:e}=Array,{getPrototypeOf:d,prototype:u,keys:f}=Object;function _(x){if(1===x.length){const r=x[0];if(e(r))return{args:r,keys:null};if(function P(x){return x&&"object"==typeof x&&d(x)===u}(r)){const R=f(r);return{args:R.map(L=>r[L]),keys:R}}}return{args:x,keys:null}}},8737:(hn,ft,b)=>{"use strict";function e(d,u){if(d){const f=d.indexOf(u);0<=f&&d.splice(f,1)}}b.d(ft,{P:()=>e})},3888:(hn,ft,b)=>{"use strict";function e(d){const f=d(_=>{Error.call(_),_.stack=(new Error).stack});return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f}b.d(ft,{d:()=>e})},1810:(hn,ft,b)=>{"use strict";function e(d,u){return d.reduce((f,_,P)=>(f[_]=u[P],f),{})}b.d(ft,{n:()=>e})},2806:(hn,ft,b)=>{"use strict";b.d(ft,{O:()=>f,x:()=>u});var e=b(2416);let d=null;function u(_){if(e.v.useDeprecatedSynchronousErrorHandling){const P=!d;if(P&&(d={errorThrown:!1,error:null}),_(),P){const{errorThrown:x,error:r}=d;if(d=null,x)throw r}}else _()}function f(_){e.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=_)}},9672:(hn,ft,b)=>{"use strict";function e(d,u,f,_=0,P=!1){const x=u.schedule(function(){f(),P?d.add(this.schedule(null,_)):this.unsubscribe()},_);if(d.add(x),!P)return x}b.d(ft,{f:()=>e})},4671:(hn,ft,b)=>{"use strict";function e(d){return d}b.d(ft,{y:()=>e})},1144:(hn,ft,b)=>{"use strict";b.d(ft,{z:()=>e});const e=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(hn,ft,b)=>{"use strict";b.d(ft,{D:()=>d});var e=b(576);function d(u){return Symbol.asyncIterator&&(0,e.m)(null==u?void 0:u[Symbol.asyncIterator])}},576:(hn,ft,b)=>{"use strict";function e(d){return"function"==typeof d}b.d(ft,{m:()=>e})},3670:(hn,ft,b)=>{"use strict";b.d(ft,{c:()=>u});var e=b(8822),d=b(576);function u(f){return(0,d.m)(f[e.L])}},6495:(hn,ft,b)=>{"use strict";b.d(ft,{T:()=>u});var e=b(2202),d=b(576);function u(f){return(0,d.m)(null==f?void 0:f[e.h])}},8239:(hn,ft,b)=>{"use strict";b.d(ft,{t:()=>d});var e=b(576);function d(u){return(0,e.m)(null==u?void 0:u.then)}},3260:(hn,ft,b)=>{"use strict";b.d(ft,{L:()=>f,Q:()=>u});var e=b(5987),d=b(576);function u(_){return(0,e.FC)(this,arguments,function*(){const x=_.getReader();try{for(;;){const{value:r,done:R}=yield(0,e.qq)(x.read());if(R)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(r)}}finally{x.releaseLock()}})}function f(_){return(0,d.m)(null==_?void 0:_.getReader)}},3532:(hn,ft,b)=>{"use strict";b.d(ft,{K:()=>d});var e=b(576);function d(u){return u&&(0,e.m)(u.schedule)}},4482:(hn,ft,b)=>{"use strict";b.d(ft,{A:()=>d,e:()=>u});var e=b(576);function d(f){return(0,e.m)(null==f?void 0:f.lift)}function u(f){return _=>{if(d(_))return _.lift(function(P){try{return f(P,this)}catch(x){this.error(x)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(hn,ft,b)=>{"use strict";b.d(ft,{Z:()=>f});var e=b(4004);const{isArray:d}=Array;function f(_){return(0,e.U)(P=>function u(_,P){return d(P)?_(...P):_(P)}(_,P))}},5032:(hn,ft,b)=>{"use strict";function e(){}b.d(ft,{Z:()=>e})},9635:(hn,ft,b)=>{"use strict";b.d(ft,{U:()=>u,z:()=>d});var e=b(4671);function d(...f){return u(f)}function u(f){return 0===f.length?e.y:1===f.length?f[0]:function(P){return f.reduce((x,r)=>r(x),P)}}},7849:(hn,ft,b)=>{"use strict";b.d(ft,{h:()=>u});var e=b(2416),d=b(3410);function u(f){d.z.setTimeout(()=>{const{onUnhandledError:_}=e.v;if(!_)throw f;_(f)})}},4532:(hn,ft,b)=>{"use strict";function e(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}b.d(ft,{z:()=>e})},1588:(hn,ft,b)=>{"use strict";b.d(ft,{Z:()=>Q});const d={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const f=new Uint8Array(16);function _(){if(!u&&(u="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(f)}const P=[];for(let N=0;N<256;++N)P.push((N+256).toString(16).slice(1));const Q=function L(N,T,y){if(d.randomUUID&&!T&&!N)return d.randomUUID();const E=(N=N||{}).random||(N.rng||_)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,T){y=y||0;for(let D=0;D<16;++D)T[y+D]=E[D];return T}return function x(N,T=0){return(P[N[T+0]]+P[N[T+1]]+P[N[T+2]]+P[N[T+3]]+"-"+P[N[T+4]]+P[N[T+5]]+"-"+P[N[T+6]]+P[N[T+7]]+"-"+P[N[T+8]]+P[N[T+9]]+"-"+P[N[T+10]]+P[N[T+11]]+P[N[T+12]]+P[N[T+13]]+P[N[T+14]]+P[N[T+15]]).toLowerCase()}(E)}},9162:hn=>{self,hn.exports=(()=>(()=>{"use strict";var b,ft={};return b=ft,Object.defineProperty(b,"__esModule",{value:!0}),b.FitAddon=void 0,b.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();e&&this._terminal&&!isNaN(e.cols)&&!isNaN(e.rows)&&(this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(e.cols,e.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,d=e._renderService.dimensions;if(0===d.css.cell.width||0===d.css.cell.height)return;const u=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,f=window.getComputedStyle(this._terminal.element.parentElement),_=parseInt(f.getPropertyValue("height")),P=Math.max(0,parseInt(f.getPropertyValue("width"))),x=window.getComputedStyle(this._terminal.element),r=_-(parseInt(x.getPropertyValue("padding-top"))+parseInt(x.getPropertyValue("padding-bottom"))),R=P-(parseInt(x.getPropertyValue("padding-right"))+parseInt(x.getPropertyValue("padding-left")))-u;return{cols:Math.max(2,Math.floor(R/d.css.cell.width)),rows:Math.max(1,Math.floor(r/d.css.cell.height))}}},ft})())()},4793:hn=>{self,hn.exports=(()=>(()=>{"use strict";var ft={4567:function(u,f,_){var P=this&&this.__decorate||function(D,U,B,ce){var $,V=arguments.length,k=V<3?U:null===ce?ce=Object.getOwnPropertyDescriptor(U,B):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(D,U,B,ce);else for(var O=D.length-1;O>=0;O--)($=D[O])&&(k=(V<3?$(k):V>3?$(U,B,k):$(U,B))||k);return V>3&&k&&Object.defineProperty(U,B,k),k},x=this&&this.__param||function(D,U){return function(B,ce){U(B,ce,D)}};Object.defineProperty(f,"__esModule",{value:!0}),f.AccessibilityManager=void 0;const r=_(9042),R=_(6114),L=_(9924),Q=_(844),N=_(5596),T=_(4725),y=_(3656);let E=f.AccessibilityManager=class extends Q.Disposable{constructor(D,U){super(),this._terminal=D,this._renderService=U,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let B=0;B<this._terminal.rows;B++)this._rowElements[B]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[B]);if(this._topBoundaryFocusListener=B=>this._handleBoundaryFocus(B,0),this._bottomBoundaryFocusListener=B=>this._handleBoundaryFocus(B,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new L.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(B=>this._handleResize(B.rows))),this.register(this._terminal.onRender(B=>this._refreshRows(B.start,B.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(B=>this._handleChar(B))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(B=>this._handleTab(B))),this.register(this._terminal.onKey(B=>this._handleKey(B.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new N.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,y.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,Q.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(D){for(let U=0;U<D;U++)this._handleChar(" ")}_handleChar(D){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==D&&(this._charsToAnnounce+=D):this._charsToAnnounce+=D,"\n"===D&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=r.tooMuchOutput)),R.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,R.isMac&&this._liveRegion.remove()}_handleKey(D){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(D)||this._charsToConsume.push(D)}_refreshRows(D,U){this._liveRegionDebouncer.refresh(D,U,this._terminal.rows)}_renderRows(D,U){const B=this._terminal.buffer,ce=B.lines.length.toString();for(let $=D;$<=U;$++){const V=B.translateBufferLineToString(B.ydisp+$,!0),k=(B.ydisp+$+1).toString(),O=this._rowElements[$];O&&(0===V.length?O.innerText="\xa0":O.textContent=V,O.setAttribute("aria-posinset",k),O.setAttribute("aria-setsize",ce))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(D,U){const B=D.target,ce=this._rowElements[0===U?1:this._rowElements.length-2];if(B.getAttribute("aria-posinset")===(0===U?"1":`${this._terminal.buffer.lines.length}`)||D.relatedTarget!==ce)return;let $,V;if(0===U?($=B,V=this._rowElements.pop(),this._rowContainer.removeChild(V)):($=this._rowElements.shift(),V=B,this._rowContainer.removeChild($)),$.removeEventListener("focus",this._topBoundaryFocusListener),V.removeEventListener("focus",this._bottomBoundaryFocusListener),0===U){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===U?-1:1),this._rowElements[0===U?1:this._rowElements.length-2].focus(),D.preventDefault(),D.stopImmediatePropagation()}_handleResize(D){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let U=this._rowContainer.children.length;U<this._terminal.rows;U++)this._rowElements[U]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[U]);for(;this._rowElements.length>D;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const D=document.createElement("div");return D.setAttribute("role","listitem"),D.tabIndex=-1,this._refreshRowDimensions(D),D}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let D=0;D<this._terminal.rows;D++)this._refreshRowDimensions(this._rowElements[D])}}_refreshRowDimensions(D){D.style.height=`${this._renderService.dimensions.css.cell.height}px`}};f.AccessibilityManager=E=P([x(1,T.IRenderService)],E)},3614:(u,f)=>{function _(R){return R.replace(/\r?\n/g,"\r")}function P(R,L){return L?"\x1b[200~"+R+"\x1b[201~":R}function x(R,L,Q,N){R=P(R=_(R),Q.decPrivateModes.bracketedPasteMode&&!0!==N.rawOptions.ignoreBracketedPasteMode),Q.triggerDataEvent(R,!0),L.value=""}function r(R,L,Q){const N=Q.getBoundingClientRect(),T=R.clientX-N.left-10,y=R.clientY-N.top-10;L.style.width="20px",L.style.height="20px",L.style.left=`${T}px`,L.style.top=`${y}px`,L.style.zIndex="1000",L.focus()}Object.defineProperty(f,"__esModule",{value:!0}),f.rightClickHandler=f.moveTextAreaUnderMouseCursor=f.paste=f.handlePasteEvent=f.copyHandler=f.bracketTextForPaste=f.prepareTextForTerminal=void 0,f.prepareTextForTerminal=_,f.bracketTextForPaste=P,f.copyHandler=function(R,L){R.clipboardData&&R.clipboardData.setData("text/plain",L.selectionText),R.preventDefault()},f.handlePasteEvent=function(R,L,Q,N){R.stopPropagation(),R.clipboardData&&x(R.clipboardData.getData("text/plain"),L,Q,N)},f.paste=x,f.moveTextAreaUnderMouseCursor=r,f.rightClickHandler=function(R,L,Q,N,T){r(R,L,Q),T&&N.rightClickSelect(R),L.value=N.selectionText,L.select()}},7239:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorContrastCache=void 0;const P=_(1505);f.ColorContrastCache=class{constructor(){this._color=new P.TwoKeyMap,this._css=new P.TwoKeyMap}setCss(x,r,R){this._css.set(x,r,R)}getCss(x,r){return this._css.get(x,r)}setColor(x,r,R){this._color.set(x,r,R)}getColor(x,r){return this._color.get(x,r)}clear(){this._color.clear(),this._css.clear()}}},3656:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.addDisposableDomListener=void 0,f.addDisposableDomListener=function(_,P,x,r){_.addEventListener(P,x,r);let R=!1;return{dispose:()=>{R||(R=!0,_.removeEventListener(P,x,r))}}}},6465:function(u,f,_){var P=this&&this.__decorate||function(T,y,E,D){var U,B=arguments.length,ce=B<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,E):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,E,D);else for(var $=T.length-1;$>=0;$--)(U=T[$])&&(ce=(B<3?U(ce):B>3?U(y,E,ce):U(y,E))||ce);return B>3&&ce&&Object.defineProperty(y,E,ce),ce},x=this&&this.__param||function(T,y){return function(E,D){y(E,D,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Linkifier2=void 0;const r=_(3656),R=_(8460),L=_(844),Q=_(2585);let N=f.Linkifier2=class extends L.Disposable{get currentLink(){return this._currentLink}constructor(T){super(),this._bufferService=T,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new R.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new R.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,L.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,L.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(T){return this._linkProviders.push(T),{dispose:()=>{const y=this._linkProviders.indexOf(T);-1!==y&&this._linkProviders.splice(y,1)}}}attachToDom(T,y,E){this._element=T,this._mouseService=y,this._renderService=E,this.register((0,r.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,r.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,r.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,r.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(T){if(this._lastMouseEvent=T,!this._element||!this._mouseService)return;const y=this._positionFromMouseEvent(T,this._element,this._mouseService);if(!y)return;this._isMouseOut=!1;const E=T.composedPath();for(let D=0;D<E.length;D++){const U=E[D];if(U.classList.contains("xterm"))break;if(U.classList.contains("xterm-hover"))return}this._lastBufferCell&&y.x===this._lastBufferCell.x&&y.y===this._lastBufferCell.y||(this._handleHover(y),this._lastBufferCell=y)}_handleHover(T){if(this._activeLine!==T.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(T,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,T)||(this._clearCurrentLink(),this._askForLink(T,!0))}_askForLink(T,y){var E,D;this._activeProviderReplies&&y||(null===(E=this._activeProviderReplies)||void 0===E||E.forEach(B=>{null==B||B.forEach(ce=>{ce.link.dispose&&ce.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=T.y);let U=!1;for(const[B,ce]of this._linkProviders.entries())y?null!==(D=this._activeProviderReplies)&&void 0!==D&&D.get(B)&&(U=this._checkLinkProviderResult(B,T,U)):ce.provideLinks(T.y,$=>{var V,k;if(this._isMouseOut)return;const O=null==$?void 0:$.map(K=>({link:K}));null===(V=this._activeProviderReplies)||void 0===V||V.set(B,O),U=this._checkLinkProviderResult(B,T,U),(null===(k=this._activeProviderReplies)||void 0===k?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(T.y,this._activeProviderReplies)})}_removeIntersectingLinks(T,y){const E=new Set;for(let D=0;D<y.size;D++){const U=y.get(D);if(U)for(let B=0;B<U.length;B++){const ce=U[B],V=ce.link.range.end.y>T?this._bufferService.cols:ce.link.range.end.x;for(let k=ce.link.range.start.y<T?0:ce.link.range.start.x;k<=V;k++){if(E.has(k)){U.splice(B--,1);break}E.add(k)}}}}_checkLinkProviderResult(T,y,E){var D;if(!this._activeProviderReplies)return E;const U=this._activeProviderReplies.get(T);let B=!1;for(let ce=0;ce<T;ce++)this._activeProviderReplies.has(ce)&&!this._activeProviderReplies.get(ce)||(B=!0);if(!B&&U){const ce=U.find($=>this._linkAtPosition($.link,y));ce&&(E=!0,this._handleNewLink(ce))}if(this._activeProviderReplies.size===this._linkProviders.length&&!E)for(let ce=0;ce<this._activeProviderReplies.size;ce++){const $=null===(D=this._activeProviderReplies.get(ce))||void 0===D?void 0:D.find(V=>this._linkAtPosition(V.link,y));if($){E=!0,this._handleNewLink($);break}}return E}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(T){if(!this._element||!this._mouseService||!this._currentLink)return;const y=this._positionFromMouseEvent(T,this._element,this._mouseService);y&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,y)&&this._currentLink.link.activate(T,this._currentLink.link.text)}_clearCurrentLink(T,y){this._element&&this._currentLink&&this._lastMouseEvent&&(!T||!y||this._currentLink.link.range.start.y>=T&&this._currentLink.link.range.end.y<=y)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,L.disposeArray)(this._linkCacheDisposables))}_handleNewLink(T){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._linkAtPosition(T.link,y)&&(this._currentLink=T,this._currentLink.state={decorations:{underline:void 0===T.link.decorations||T.link.decorations.underline,pointerCursor:void 0===T.link.decorations||T.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,T.link,this._lastMouseEvent),T.link.decorations={},Object.defineProperties(T.link.decorations,{pointerCursor:{get:()=>{var E,D;return null===(D=null===(E=this._currentLink)||void 0===E?void 0:E.state)||void 0===D?void 0:D.decorations.pointerCursor},set:E=>{var D,U;(null===(D=this._currentLink)||void 0===D?void 0:D.state)&&this._currentLink.state.decorations.pointerCursor!==E&&(this._currentLink.state.decorations.pointerCursor=E,this._currentLink.state.isHovered&&(null===(U=this._element)||void 0===U||U.classList.toggle("xterm-cursor-pointer",E)))}},underline:{get:()=>{var E,D;return null===(D=null===(E=this._currentLink)||void 0===E?void 0:E.state)||void 0===D?void 0:D.decorations.underline},set:E=>{var D,U,B;(null===(D=this._currentLink)||void 0===D?void 0:D.state)&&(null===(B=null===(U=this._currentLink)||void 0===U?void 0:U.state)||void 0===B?void 0:B.decorations.underline)!==E&&(this._currentLink.state.decorations.underline=E,this._currentLink.state.isHovered&&this._fireUnderlineEvent(T.link,E))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(E=>{if(!this._currentLink)return;const D=0===E.start?0:E.start+1+this._bufferService.buffer.ydisp,U=this._bufferService.buffer.ydisp+1+E.end;if(this._currentLink.link.range.start.y>=D&&this._currentLink.link.range.end.y<=U&&(this._clearCurrentLink(D,U),this._lastMouseEvent&&this._element)){const B=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);B&&this._askForLink(B,!1)}})))}_linkHover(T,y,E){var D;!(null===(D=this._currentLink)||void 0===D)&&D.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!0),this._currentLink.state.decorations.pointerCursor&&T.classList.add("xterm-cursor-pointer")),y.hover&&y.hover(E,y.text)}_fireUnderlineEvent(T,y){const E=T.range,D=this._bufferService.buffer.ydisp,U=this._createLinkUnderlineEvent(E.start.x-1,E.start.y-D-1,E.end.x,E.end.y-D-1,void 0);(y?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(U)}_linkLeave(T,y,E){var D;!(null===(D=this._currentLink)||void 0===D)&&D.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(y,!1),this._currentLink.state.decorations.pointerCursor&&T.classList.remove("xterm-cursor-pointer")),y.leave&&y.leave(E,y.text)}_linkAtPosition(T,y){const U=y.y*this._bufferService.cols+y.x;return T.range.start.y*this._bufferService.cols+T.range.start.x<=U&&U<=T.range.end.y*this._bufferService.cols+T.range.end.x}_positionFromMouseEvent(T,y,E){const D=E.getCoords(T,y,this._bufferService.cols,this._bufferService.rows);if(D)return{x:D[0],y:D[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(T,y,E,D,U){return{x1:T,y1:y,x2:E,y2:D,cols:this._bufferService.cols,fg:U}}};f.Linkifier2=N=P([x(0,Q.IBufferService)],N)},9042:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.tooMuchOutput=f.promptLabel=void 0,f.promptLabel="Terminal input",f.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(u,f,_){var P=this&&this.__decorate||function(N,T,y,E){var D,U=arguments.length,B=U<3?T:null===E?E=Object.getOwnPropertyDescriptor(T,y):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(N,T,y,E);else for(var ce=N.length-1;ce>=0;ce--)(D=N[ce])&&(B=(U<3?D(B):U>3?D(T,y,B):D(T,y))||B);return U>3&&B&&Object.defineProperty(T,y,B),B},x=this&&this.__param||function(N,T){return function(y,E){T(y,E,N)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkProvider=void 0;const r=_(511),R=_(2585);let L=f.OscLinkProvider=class{constructor(N,T,y){this._bufferService=N,this._optionsService=T,this._oscLinkService=y}provideLinks(N,T){var y;const E=this._bufferService.buffer.lines.get(N-1);if(!E)return void T(void 0);const D=[],U=this._optionsService.rawOptions.linkHandler,B=new r.CellData,ce=E.getTrimmedLength();let $=-1,V=-1,k=!1;for(let O=0;O<ce;O++)if(-1!==V||E.hasContent(O)){if(E.loadCell(O,B),B.hasExtendedAttrs()&&B.extended.urlId){if(-1===V){V=O,$=B.extended.urlId;continue}k=B.extended.urlId!==$}else-1!==V&&(k=!0);if(k||-1!==V&&O===ce-1){const K=null===(y=this._oscLinkService.getLinkData($))||void 0===y?void 0:y.uri;if(K){const ue={start:{x:V+1,y:N},end:{x:O+(k||O!==ce-1?0:1),y:N}};let q=!1;if(null==U||!U.allowNonHttpProtocols)try{const G=new URL(K);["http:","https:"].includes(G.protocol)||(q=!0)}catch(G){q=!0}q||D.push({text:K,range:ue,activate:(G,ne)=>U?U.activate(G,ne,ue):Q(0,ne),hover:(G,ne)=>{var Ce;return null===(Ce=null==U?void 0:U.hover)||void 0===Ce?void 0:Ce.call(U,G,ne,ue)},leave:(G,ne)=>{var Ce;return null===(Ce=null==U?void 0:U.leave)||void 0===Ce?void 0:Ce.call(U,G,ne,ue)}})}k=!1,B.hasExtendedAttrs()&&B.extended.urlId?(V=O,$=B.extended.urlId):(V=-1,$=-1)}}T(D)}};function Q(N,T){if(confirm(`Do you want to navigate to ${T}?\n\nWARNING: This link could potentially be dangerous`)){const y=window.open();if(y){try{y.opener=null}catch(E){}y.location.href=T}else console.warn("Opening link blocked as opener could not be cleared")}}f.OscLinkProvider=L=P([x(0,R.IBufferService),x(1,R.IOptionsService),x(2,R.IOscLinkService)],L)},6193:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RenderDebouncer=void 0,f.RenderDebouncer=class{constructor(_,P){this._parentWindow=_,this._renderCallback=P,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(_){return this._refreshCallbacks.push(_),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(_,P,x){this._rowCount=x,_=void 0!==_?_:0,P=void 0!==P?P:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,_):_,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,P):P,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const _=Math.max(this._rowStart,0),P=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,P),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const _ of this._refreshCallbacks)_(0);this._refreshCallbacks=[]}}},5596:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ScreenDprMonitor=void 0;const P=_(844);f.ScreenDprMonitor=class x extends P.Disposable{constructor(R){super(),this._parentWindow=R,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,P.toDisposable)(()=>{this.clearListener()}))}setListener(R){this._listener&&this.clearListener(),this._listener=R,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var R;this._outerListener&&(null===(R=this._resolutionMediaMatchList)||void 0===R||R.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const P=_(3614),x=_(3656),r=_(6465),R=_(9042),L=_(3730),Q=_(1680),N=_(3107),T=_(5744),y=_(2950),E=_(1296),D=_(428),U=_(4269),B=_(5114),ce=_(8934),$=_(3230),V=_(9312),k=_(4725),O=_(6731),K=_(8055),ue=_(8969),q=_(8460),G=_(844),ne=_(6114),Ce=_(8437),oe=_(2584),z=_(7399),te=_(5941),W=_(9074),Y=_(2585),Ae=_(5435),Ee=_(4567),qe="undefined"!=typeof window?window.document:null;f.Terminal=class ye extends ue.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(X={}){super(X),this.browser=ne,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new G.MutableDisposable),this._onCursorMove=this.register(new q.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new q.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new q.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new q.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new q.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new q.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new q.EventEmitter),this._onBlur=this.register(new q.EventEmitter),this._onA11yCharEmitter=this.register(new q.EventEmitter),this._onA11yTabEmitter=this.register(new q.EventEmitter),this._onWillOpen=this.register(new q.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(r.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(L.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(W.DecorationService),this._instantiationService.setService(Y.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((be,we)=>this.refresh(be,we))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(be=>this._reportWindowsOptions(be))),this.register(this._inputHandler.onColor(be=>this._handleColorEvent(be))),this.register((0,q.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,q.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(be=>this._afterResize(be.cols,be.rows))),this.register((0,G.toDisposable)(()=>{var be,we;this._customKeyEventHandler=void 0,null===(we=null===(be=this.element)||void 0===be?void 0:be.parentNode)||void 0===we||we.removeChild(this.element)}))}_handleColorEvent(X){if(this._themeService)for(const be of X){let we,Ie="";switch(be.index){case 256:we="foreground",Ie="10";break;case 257:we="background",Ie="11";break;case 258:we="cursor",Ie="12";break;default:we="ansi",Ie="4;"+be.index}switch(be.type){case 0:const ct=K.color.toColorRGB("ansi"===we?this._themeService.colors.ansi[be.index]:this._themeService.colors[we]);this.coreService.triggerDataEvent(`${oe.C0.ESC}]${Ie};${(0,te.toRgbString)(ct)}${oe.C1_ESCAPED.ST}`);break;case 1:if("ansi"===we)this._themeService.modifyColors(dt=>dt.ansi[be.index]=K.rgba.toColor(...be.color));else{const dt=we;this._themeService.modifyColors(et=>et[dt]=K.rgba.toColor(...be.color))}break;case 2:this._themeService.restoreColor(be.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(X){X?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ee.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(X){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(oe.C0.ESC+"[I"),this.updateCursorStyle(X),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var X;return null===(X=this.textarea)||void 0===X?void 0:X.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(oe.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const be=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!be)return;const we=Math.min(this.buffer.x,this.cols-1),Ie=this._renderService.dimensions.css.cell.height,ct=be.getWidth(we),dt=this._renderService.dimensions.css.cell.width*ct,et=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=we*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=et+"px",this.textarea.style.width=dt+"px",this.textarea.style.height=Ie+"px",this.textarea.style.lineHeight=Ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,x.addDisposableDomListener)(this.element,"copy",be=>{this.hasSelection()&&(0,P.copyHandler)(be,this._selectionService)}));const X=be=>(0,P.handlePasteEvent)(be,this.textarea,this.coreService,this.optionsService);this.register((0,x.addDisposableDomListener)(this.textarea,"paste",X)),this.register((0,x.addDisposableDomListener)(this.element,"paste",X)),this.register(ne.isFirefox?(0,x.addDisposableDomListener)(this.element,"mousedown",be=>{2===be.button&&(0,P.rightClickHandler)(be,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,x.addDisposableDomListener)(this.element,"contextmenu",be=>{(0,P.rightClickHandler)(be,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),ne.isLinux&&this.register((0,x.addDisposableDomListener)(this.element,"auxclick",be=>{1===be.button&&(0,P.moveTextAreaUnderMouseCursor)(be,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,x.addDisposableDomListener)(this.textarea,"keyup",X=>this._keyUp(X),!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"keydown",X=>this._keyDown(X),!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"keypress",X=>this._keyPress(X),!0)),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionupdate",X=>this._compositionHelper.compositionupdate(X))),this.register((0,x.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,x.addDisposableDomListener)(this.textarea,"input",X=>this._inputEvent(X),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(X){var be;if(!X)throw new Error("Terminal requires a parent element.");X.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=X.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),X.appendChild(this.element);const we=qe.createDocumentFragment();this._viewportElement=qe.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),we.appendChild(this._viewportElement),this._viewportScrollArea=qe.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=qe.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=qe.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),we.appendChild(this.screenElement),this.textarea=qe.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",R.promptLabel),ne.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(B.CoreBrowserService,this.textarea,null!==(be=this._document.defaultView)&&void 0!==be?be:window),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,x.addDisposableDomListener)(this.textarea,"focus",Ie=>this._handleTextAreaFocus(Ie))),this.register((0,x.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(D.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(O.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(U.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance($.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Ie=>this._onRender.fire(Ie))),this.onResize(Ie=>this._renderService.resize(Ie.cols,Ie.rows)),this._compositionView=qe.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(y.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(we);try{this._onWillOpen.fire(this.element)}catch(Ie){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(ce.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(Q.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Ie=>this.scrollLines(Ie.amount,Ie.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(V.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Ie=>this.scrollLines(Ie.amount,Ie.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Ie=>this._renderService.handleSelectionChanged(Ie.start,Ie.end,Ie.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Ie=>{this.textarea.value=Ie,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Ie=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,x.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(N.BufferDecorationRenderer,this.screenElement)),this.register((0,x.addDisposableDomListener)(this.element,"mousedown",Ie=>this._selectionService.handleMouseDown(Ie))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Ee.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Ie=>this._handleScreenReaderModeOptionChange(Ie))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(T.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Ie=>{!this._overviewRulerRenderer&&Ie&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(T.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(E.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const X=this,be=this.element;function we(dt){const et=X._mouseService.getMouseReportCoords(dt,X.screenElement);if(!et)return!1;let vt,ht;switch(dt.overrideType||dt.type){case"mousemove":ht=32,void 0===dt.buttons?(vt=3,void 0!==dt.button&&(vt=dt.button<3?dt.button:3)):vt=1&dt.buttons?0:4&dt.buttons?1:2&dt.buttons?2:3;break;case"mouseup":ht=0,vt=dt.button<3?dt.button:3;break;case"mousedown":ht=1,vt=dt.button<3?dt.button:3;break;case"wheel":if(0===X.viewport.getLinesScrolled(dt))return!1;ht=dt.deltaY<0?0:1,vt=4;break;default:return!1}return!(void 0===ht||void 0===vt||vt>4)&&X.coreMouseService.triggerMouseEvent({col:et.col,row:et.row,x:et.x,y:et.y,button:vt,action:ht,ctrl:dt.ctrlKey,alt:dt.altKey,shift:dt.shiftKey})}const Ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ct={mouseup:dt=>(we(dt),dt.buttons||(this._document.removeEventListener("mouseup",Ie.mouseup),Ie.mousedrag&&this._document.removeEventListener("mousemove",Ie.mousedrag)),this.cancel(dt)),wheel:dt=>(we(dt),this.cancel(dt,!0)),mousedrag:dt=>{dt.buttons&&we(dt)},mousemove:dt=>{dt.buttons||we(dt)}};this.register(this.coreMouseService.onProtocolChange(dt=>{dt?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(dt)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&dt?Ie.mousemove||(be.addEventListener("mousemove",ct.mousemove),Ie.mousemove=ct.mousemove):(be.removeEventListener("mousemove",Ie.mousemove),Ie.mousemove=null),16&dt?Ie.wheel||(be.addEventListener("wheel",ct.wheel,{passive:!1}),Ie.wheel=ct.wheel):(be.removeEventListener("wheel",Ie.wheel),Ie.wheel=null),2&dt?Ie.mouseup||(be.addEventListener("mouseup",ct.mouseup),Ie.mouseup=ct.mouseup):(this._document.removeEventListener("mouseup",Ie.mouseup),be.removeEventListener("mouseup",Ie.mouseup),Ie.mouseup=null),4&dt?Ie.mousedrag||(Ie.mousedrag=ct.mousedrag):(this._document.removeEventListener("mousemove",Ie.mousedrag),Ie.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,x.addDisposableDomListener)(be,"mousedown",dt=>{if(dt.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(dt))return we(dt),Ie.mouseup&&this._document.addEventListener("mouseup",Ie.mouseup),Ie.mousedrag&&this._document.addEventListener("mousemove",Ie.mousedrag),this.cancel(dt)})),this.register((0,x.addDisposableDomListener)(be,"wheel",dt=>{if(!Ie.wheel){if(!this.buffer.hasScrollback){const et=this.viewport.getLinesScrolled(dt);if(0===et)return;const vt=oe.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(dt.deltaY<0?"A":"B");let ht="";for(let Rt=0;Rt<Math.abs(et);Rt++)ht+=vt;return this.coreService.triggerDataEvent(ht,!0),this.cancel(dt,!0)}return this.viewport.handleWheel(dt)?this.cancel(dt):void 0}},{passive:!1})),this.register((0,x.addDisposableDomListener)(be,"touchstart",dt=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(dt),this.cancel(dt)},{passive:!0})),this.register((0,x.addDisposableDomListener)(be,"touchmove",dt=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(dt)?void 0:this.cancel(dt)},{passive:!1}))}refresh(X,be){var we;null===(we=this._renderService)||void 0===we||we.refreshRows(X,be)}updateCursorStyle(X){var be;null!==(be=this._selectionService)&&void 0!==be&&be.shouldColumnSelect(X)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(X,be,we=0){var Ie;1===we?(super.scrollLines(X,be,we),this.refresh(0,this.rows-1)):null===(Ie=this.viewport)||void 0===Ie||Ie.scrollLines(X)}paste(X){(0,P.paste)(X,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(X){this._customKeyEventHandler=X}registerLinkProvider(X){return this.linkifier2.registerLinkProvider(X)}registerCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const be=this._characterJoinerService.register(X);return this.refresh(0,this.rows-1),be}deregisterCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(X)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(X){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+X)}registerDecoration(X){return this._decorationService.registerDecoration(X)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(X,be,we){this._selectionService.setSelection(X,be,we)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var X;null===(X=this._selectionService)||void 0===X||X.clearSelection()}selectAll(){var X;null===(X=this._selectionService)||void 0===X||X.selectAll()}selectLines(X,be){var we;null===(we=this._selectionService)||void 0===we||we.selectLines(X,be)}_keyDown(X){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(X))return!1;const be=this.browser.isMac&&this.options.macOptionIsMeta&&X.altKey;if(!be&&!this._compositionHelper.keydown(X))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;be||"Dead"!==X.key&&"AltGraph"!==X.key||(this._unprocessedDeadKey=!0);const we=(0,z.evaluateKeyboardEvent)(X,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(X),3===we.type||2===we.type){const Ie=this.rows-1;return this.scrollLines(2===we.type?-Ie:Ie),this.cancel(X,!0)}return 1===we.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,X)||(we.cancel&&this.cancel(X,!0),!we.key||!!(X.key&&!X.ctrlKey&&!X.altKey&&!X.metaKey&&1===X.key.length&&X.key.charCodeAt(0)>=65&&X.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(we.key!==oe.C0.ETX&&we.key!==oe.C0.CR||(this.textarea.value=""),this._onKey.fire({key:we.key,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(we.key,!0),!this.optionsService.rawOptions.screenReaderMode||X.altKey||X.ctrlKey?this.cancel(X,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(X,be){const we=X.isMac&&!this.options.macOptionIsMeta&&be.altKey&&!be.ctrlKey&&!be.metaKey||X.isWindows&&be.altKey&&be.ctrlKey&&!be.metaKey||X.isWindows&&be.getModifierState("AltGraph");return"keypress"===be.type?we:we&&(!be.keyCode||be.keyCode>47)}_keyUp(X){var be;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(X)||(16===(be=X).keyCode||17===be.keyCode||18===be.keyCode||this.focus(),this.updateCursorStyle(X),this._keyPressHandled=!1)}_keyPress(X){let be;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(X))return!1;if(this.cancel(X),X.charCode)be=X.charCode;else if(null==X.which)be=X.keyCode;else{if(0===X.which||0===X.charCode)return!1;be=X.which}return!(!be||(X.altKey||X.ctrlKey||X.metaKey)&&!this._isThirdLevelShift(this.browser,X)||(be=String.fromCharCode(be),this._onKey.fire({key:be,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(be,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(X){return!(!X.data||"insertText"!==X.inputType||X.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(X.data,!0),this.cancel(X),0))}resize(X,be){X!==this.cols||be!==this.rows?super.resize(X,be):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(X,be){var we,Ie;null===(we=this._charSizeService)||void 0===we||we.measure(),null===(Ie=this.viewport)||void 0===Ie||Ie.syncScrollArea(!0)}clear(){var X;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let be=1;be<this.rows;be++)this.buffer.lines.push(this.buffer.getBlankLine(Ce.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(X=this.viewport)||void 0===X||X.reset(),this.refresh(0,this.rows-1)}}reset(){var X,be;this.options.rows=this.rows,this.options.cols=this.cols;const we=this._customKeyEventHandler;this._setup(),super.reset(),null===(X=this._selectionService)||void 0===X||X.reset(),this._decorationService.reset(),null===(be=this.viewport)||void 0===be||be.reset(),this._customKeyEventHandler=we,this.refresh(0,this.rows-1)}clearTextureAtlas(){var X;null===(X=this._renderService)||void 0===X||X.clearTextureAtlas()}_reportFocus(){var X;null!==(X=this.element)&&void 0!==X&&X.classList.contains("focus")?this.coreService.triggerDataEvent(oe.C0.ESC+"[I"):this.coreService.triggerDataEvent(oe.C0.ESC+"[O")}_reportWindowsOptions(X){if(this._renderService)switch(X){case Ae.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const be=this._renderService.dimensions.css.canvas.width.toFixed(0),we=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${oe.C0.ESC}[4;${we};${be}t`);break;case Ae.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Ie=this._renderService.dimensions.css.cell.width.toFixed(0),ct=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${oe.C0.ESC}[6;${ct};${Ie}t`)}}cancel(X,be){if(this.options.cancelEvents||be)return X.preventDefault(),X.stopPropagation(),!1}}},9924:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TimeBasedDebouncer=void 0,f.TimeBasedDebouncer=class{constructor(_,P=1e3){this._renderCallback=_,this._debounceThresholdMS=P,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(_,P,x){this._rowCount=x,_=void 0!==_?_:0,P=void 0!==P?P:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,_):_,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,P):P;const r=Date.now();if(r-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=r,this._innerRefresh();else if(!this._additionalRefreshRequested){const L=this._debounceThresholdMS-(r-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},L)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const _=Math.max(this._rowStart,0),P=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,P)}}},1680:function(u,f,_){var P=this&&this.__decorate||function(y,E,D,U){var B,ce=arguments.length,$=ce<3?E:null===U?U=Object.getOwnPropertyDescriptor(E,D):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(y,E,D,U);else for(var V=y.length-1;V>=0;V--)(B=y[V])&&($=(ce<3?B($):ce>3?B(E,D,$):B(E,D))||$);return ce>3&&$&&Object.defineProperty(E,D,$),$},x=this&&this.__param||function(y,E){return function(D,U){E(D,U,y)}};Object.defineProperty(f,"__esModule",{value:!0}),f.Viewport=void 0;const r=_(3656),R=_(4725),L=_(8460),Q=_(844),N=_(2585);let T=f.Viewport=class extends Q.Disposable{constructor(y,E,D,U,B,ce,$,V){super(),this._viewportElement=y,this._scrollArea=E,this._bufferService=D,this._optionsService=U,this._charSizeService=B,this._renderService=ce,this._coreBrowserService=$,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new L.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,r.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(V.colors),this.register(V.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(y){this._viewportElement.style.backgroundColor=y.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(y){if(y)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const E=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==E&&(this._lastRecordedBufferHeight=E,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const y=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==y&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=y),this._refreshAnimationFrame=null}syncScrollArea(y=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(y);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(y)}_handleScroll(y){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const E=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:E,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const y=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(y*(this._smoothScrollState.target-this._smoothScrollState.origin)),y<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(y,E){return!(E<0&&0!==this._viewportElement.scrollTop||E>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(y.cancelable&&y.preventDefault(),!1)}handleWheel(y){const E=this._getPixelsScrolled(y);return 0!==E&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+E:this._smoothScrollState.target+=E,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=E,this._bubbleScroll(y,E))}scrollLines(y){if(0!==y)if(this._optionsService.rawOptions.smoothScrollDuration){const E=y*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+E,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!1})}_getPixelsScrolled(y){if(0===y.deltaY||y.shiftKey)return 0;let E=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_LINE?E*=this._currentRowHeight:y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(E*=this._currentRowHeight*this._bufferService.rows),E}getBufferElements(y,E){var D;let U,B="";const ce=[],$=null!=E?E:this._bufferService.buffer.lines.length,V=this._bufferService.buffer.lines;for(let k=y;k<$;k++){const O=V.get(k);if(!O)continue;const K=null===(D=V.get(k+1))||void 0===D?void 0:D.isWrapped;if(B+=O.translateToString(!K),!K||k===V.length-1){const ue=document.createElement("div");ue.textContent=B,ce.push(ue),B.length>0&&(U=ue),B=""}}return{bufferElements:ce,cursorElement:U}}getLinesScrolled(y){if(0===y.deltaY||y.shiftKey)return 0;let E=this._applyScrollModifier(y.deltaY,y);return y.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(E/=this._currentRowHeight+0,this._wheelPartialScroll+=E,E=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):y.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(E*=this._bufferService.rows),E}_applyScrollModifier(y,E){const D=this._optionsService.rawOptions.fastScrollModifier;return"alt"===D&&E.altKey||"ctrl"===D&&E.ctrlKey||"shift"===D&&E.shiftKey?y*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:y*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(y){this._lastTouchY=y.touches[0].pageY}handleTouchMove(y){const E=this._lastTouchY-y.touches[0].pageY;return this._lastTouchY=y.touches[0].pageY,0!==E&&(this._viewportElement.scrollTop+=E,this._bubbleScroll(y,E))}};f.Viewport=T=P([x(2,N.IBufferService),x(3,N.IOptionsService),x(4,R.ICharSizeService),x(5,R.IRenderService),x(6,R.ICoreBrowserService),x(7,R.IThemeService)],T)},3107:function(u,f,_){var P=this&&this.__decorate||function(T,y,E,D){var U,B=arguments.length,ce=B<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,E):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,E,D);else for(var $=T.length-1;$>=0;$--)(U=T[$])&&(ce=(B<3?U(ce):B>3?U(y,E,ce):U(y,E))||ce);return B>3&&ce&&Object.defineProperty(y,E,ce),ce},x=this&&this.__param||function(T,y){return function(E,D){y(E,D,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferDecorationRenderer=void 0;const r=_(3656),R=_(4725),L=_(844),Q=_(2585);let N=f.BufferDecorationRenderer=class extends L.Disposable{constructor(T,y,E,D){super(),this._screenElement=T,this._bufferService=y,this._decorationService=E,this._renderService=D,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,r.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(U=>this._removeDecoration(U))),this.register((0,L.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const T of this._decorationService.decorations)this._renderDecoration(T);this._dimensionsChanged=!1}_renderDecoration(T){this._refreshStyle(T),this._dimensionsChanged&&this._refreshXPosition(T)}_createElement(T){var y,E;const D=document.createElement("div");D.classList.add("xterm-decoration"),D.classList.toggle("xterm-decoration-top-layer","top"===(null===(y=null==T?void 0:T.options)||void 0===y?void 0:y.layer)),D.style.width=`${Math.round((T.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,D.style.height=(T.options.height||1)*this._renderService.dimensions.css.cell.height+"px",D.style.top=(T.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",D.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const U=null!==(E=T.options.x)&&void 0!==E?E:0;return U&&U>this._bufferService.cols&&(D.style.display="none"),this._refreshXPosition(T,D),D}_refreshStyle(T){const y=T.marker.line-this._bufferService.buffers.active.ydisp;if(y<0||y>=this._bufferService.rows)T.element&&(T.element.style.display="none",T.onRenderEmitter.fire(T.element));else{let E=this._decorationElements.get(T);E||(E=this._createElement(T),T.element=E,this._decorationElements.set(T,E),this._container.appendChild(E),T.onDispose(()=>{this._decorationElements.delete(T),E.remove()})),E.style.top=y*this._renderService.dimensions.css.cell.height+"px",E.style.display=this._altBufferIsActive?"none":"block",T.onRenderEmitter.fire(E)}}_refreshXPosition(T,y=T.element){var E;if(!y)return;const D=null!==(E=T.options.x)&&void 0!==E?E:0;"right"===(T.options.anchor||"left")?y.style.right=D?D*this._renderService.dimensions.css.cell.width+"px":"":y.style.left=D?D*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(T){var y;null===(y=this._decorationElements.get(T))||void 0===y||y.remove(),this._decorationElements.delete(T),T.dispose()}};f.BufferDecorationRenderer=N=P([x(1,Q.IBufferService),x(2,Q.IDecorationService),x(3,R.IRenderService)],N)},5871:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ColorZoneStore=void 0,f.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(_){if(_.options.overviewRulerOptions){for(const P of this._zones)if(P.color===_.options.overviewRulerOptions.color&&P.position===_.options.overviewRulerOptions.position){if(this._lineIntersectsZone(P,_.marker.line))return;if(this._lineAdjacentToZone(P,_.marker.line,_.options.overviewRulerOptions.position))return void this._addLineToZone(P,_.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=_.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=_.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=_.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=_.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:_.options.overviewRulerOptions.color,position:_.options.overviewRulerOptions.position,startBufferLine:_.marker.line,endBufferLine:_.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(_){this._linePadding=_}_lineIntersectsZone(_,P){return P>=_.startBufferLine&&P<=_.endBufferLine}_lineAdjacentToZone(_,P,x){return P>=_.startBufferLine-this._linePadding[x||"full"]&&P<=_.endBufferLine+this._linePadding[x||"full"]}_addLineToZone(_,P){_.startBufferLine=Math.min(_.startBufferLine,P),_.endBufferLine=Math.max(_.endBufferLine,P)}}},5744:function(u,f,_){var P=this&&this.__decorate||function(U,B,ce,$){var V,k=arguments.length,O=k<3?B:null===$?$=Object.getOwnPropertyDescriptor(B,ce):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(U,B,ce,$);else for(var K=U.length-1;K>=0;K--)(V=U[K])&&(O=(k<3?V(O):k>3?V(B,ce,O):V(B,ce))||O);return k>3&&O&&Object.defineProperty(B,ce,O),O},x=this&&this.__param||function(U,B){return function(ce,$){B(ce,$,U)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OverviewRulerRenderer=void 0;const r=_(5871),R=_(3656),L=_(4725),Q=_(844),N=_(2585),T={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0},E={full:0,left:0,center:0,right:0};let D=f.OverviewRulerRenderer=class extends Q.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(U,B,ce,$,V,k,O){var K;super(),this._viewportElement=U,this._screenElement=B,this._bufferService=ce,this._decorationService=$,this._renderService=V,this._optionsService=k,this._coreBrowseService=O,this._colorZoneStore=new r.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(K=this._viewportElement.parentElement)||void 0===K||K.insertBefore(this._canvas,this._viewportElement);const ue=this._canvas.getContext("2d");if(!ue)throw new Error("Ctx cannot be null");this._ctx=ue,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,Q.toDisposable)(()=>{var q;null===(q=this._canvas)||void 0===q||q.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,R.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const U=Math.floor(this._canvas.width/3),B=Math.ceil(this._canvas.width/3);y.full=this._canvas.width,y.left=U,y.center=B,y.right=U,this._refreshDrawHeightConstants(),E.full=0,E.left=0,E.center=y.left,E.right=y.left+y.center}_refreshDrawHeightConstants(){T.full=Math.round(2*this._coreBrowseService.dpr);const B=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);T.left=B,T.center=B,T.right=B}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*T.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const B of this._decorationService.decorations)this._colorZoneStore.addDecoration(B);this._ctx.lineWidth=1;const U=this._colorZoneStore.zones;for(const B of U)"full"!==B.position&&this._renderColorZone(B);for(const B of U)"full"===B.position&&this._renderColorZone(B);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(U){this._ctx.fillStyle=U.color,this._ctx.fillRect(E[U.position||"full"],Math.round(U.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-T[U.position||"full"]/2),y[U.position||"full"],Math.round((U.endBufferLine-U.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+T[U.position||"full"]))}_queueRefresh(U,B){this._shouldUpdateDimensions=U||this._shouldUpdateDimensions,this._shouldUpdateAnchor=B||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};f.OverviewRulerRenderer=D=P([x(2,N.IBufferService),x(3,N.IDecorationService),x(4,L.IRenderService),x(5,N.IOptionsService),x(6,L.ICoreBrowserService)],D)},2950:function(u,f,_){var P=this&&this.__decorate||function(N,T,y,E){var D,U=arguments.length,B=U<3?T:null===E?E=Object.getOwnPropertyDescriptor(T,y):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(N,T,y,E);else for(var ce=N.length-1;ce>=0;ce--)(D=N[ce])&&(B=(U<3?D(B):U>3?D(T,y,B):D(T,y))||B);return U>3&&B&&Object.defineProperty(T,y,B),B},x=this&&this.__param||function(N,T){return function(y,E){T(y,E,N)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CompositionHelper=void 0;const r=_(4725),R=_(2585),L=_(2584);let Q=f.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(N,T,y,E,D,U){this._textarea=N,this._compositionView=T,this._bufferService=y,this._optionsService=E,this._coreService=D,this._renderService=U,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(N){this._compositionView.textContent=N.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(N){if(this._isComposing||this._isSendingComposition){if(229===N.keyCode||16===N.keyCode||17===N.keyCode||18===N.keyCode)return!1;this._finalizeComposition(!1)}return 229!==N.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(N){if(this._compositionView.classList.remove("active"),this._isComposing=!1,N){const T={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let y;this._isSendingComposition=!1,T.start+=this._dataAlreadySent.length,y=this._isComposing?this._textarea.value.substring(T.start,T.end):this._textarea.value.substring(T.start),y.length>0&&this._coreService.triggerDataEvent(y,!0)}},0)}else{this._isSendingComposition=!1;const T=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(T,!0)}}_handleAnyTextareaChanges(){const N=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const T=this._textarea.value,y=T.replace(N,"");this._dataAlreadySent=y,T.length>N.length?this._coreService.triggerDataEvent(y,!0):T.length<N.length?this._coreService.triggerDataEvent(`${L.C0.DEL}`,!0):T.length===N.length&&T!==N&&this._coreService.triggerDataEvent(T,!0)}},0)}updateCompositionElements(N){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const T=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),y=this._renderService.dimensions.css.cell.height,E=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,D=T*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=D+"px",this._compositionView.style.top=E+"px",this._compositionView.style.height=y+"px",this._compositionView.style.lineHeight=y+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const U=this._compositionView.getBoundingClientRect();this._textarea.style.left=D+"px",this._textarea.style.top=E+"px",this._textarea.style.width=Math.max(U.width,1)+"px",this._textarea.style.height=Math.max(U.height,1)+"px",this._textarea.style.lineHeight=U.height+"px"}N||setTimeout(()=>this.updateCompositionElements(!0),0)}}};f.CompositionHelper=Q=P([x(2,R.IBufferService),x(3,R.IOptionsService),x(4,R.ICoreService),x(5,r.IRenderService)],Q)},9806:(u,f)=>{function _(P,x,r){const R=r.getBoundingClientRect(),L=P.getComputedStyle(r),Q=parseInt(L.getPropertyValue("padding-left")),N=parseInt(L.getPropertyValue("padding-top"));return[x.clientX-R.left-Q,x.clientY-R.top-N]}Object.defineProperty(f,"__esModule",{value:!0}),f.getCoords=f.getCoordsRelativeToElement=void 0,f.getCoordsRelativeToElement=_,f.getCoords=function(P,x,r,R,L,Q,N,T,y){if(!Q)return;const E=_(P,x,r);return E?(E[0]=Math.ceil((E[0]+(y?N/2:0))/N),E[1]=Math.ceil(E[1]/T),E[0]=Math.min(Math.max(E[0],1),R+(y?1:0)),E[1]=Math.min(Math.max(E[1],1),L),E):void 0}},9504:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.moveToCellSequence=void 0;const P=_(2584);function x(T,y,E,D){const U=T-r(T,E),B=y-r(y,E);return N(Math.abs(U-B)-function($,V,k){let O=0;const K=$-r($,k),ue=V-r(V,k);for(let q=0;q<Math.abs(K-ue);q++){const G="A"===R($,V)?-1:1,ne=k.buffer.lines.get(K+G*q);null!=ne&&ne.isWrapped&&O++}return O}(T,y,E),Q(R(T,y),D))}function r(T,y){let E=0,D=y.buffer.lines.get(T),U=null==D?void 0:D.isWrapped;for(;U&&T>=0&&T<y.rows;)E++,D=y.buffer.lines.get(--T),U=null==D?void 0:D.isWrapped;return E}function R(T,y){return T>y?"A":"B"}function L(T,y,E,D,U,B){let ce=T,$=y,V="";for(;ce!==E||$!==D;)ce+=U?1:-1,U&&ce>B.cols-1?(V+=B.buffer.translateBufferLineToString($,!1,T,ce),ce=0,T=0,$++):!U&&ce<0&&(V+=B.buffer.translateBufferLineToString($,!1,0,T+1),ce=B.cols-1,T=ce,$--);return V+B.buffer.translateBufferLineToString($,!1,T,ce)}function Q(T,y){return P.C0.ESC+(y?"O":"[")+T}function N(T,y){T=Math.floor(T);let E="";for(let D=0;D<T;D++)E+=y;return E}f.moveToCellSequence=function(T,y,E,D){const U=E.buffer.x,B=E.buffer.y;if(!E.buffer.hasScrollback)return V=U,(0===x(k=B,y,ue=E,q=D).length?"":N(L(V,k,V,k-r(k,ue),!1,ue).length,Q("D",q)))+x(B,y,E,D)+function(V,k,O,K,ue,q){let G;G=x(k,K,ue,q).length>0?K-r(K,ue):k;const ne=K,Ce=function(oe,z,te,W,Y,Ae){let Ee;return Ee=x(te,W,Y,Ae).length>0?W-r(W,Y):z,oe<te&&Ee<=W||oe>=te&&Ee<W?"C":"D"}(V,k,O,K,ue,q);return N(L(V,G,O,ne,"C"===Ce,ue).length,Q(Ce,q))}(U,B,T,y,E,D);var V,k,ue,q;let ce;if(B===y)return ce=U>T?"D":"C",N(Math.abs(U-T),Q(ce,D));ce=B>y?"D":"C";const $=Math.abs(B-y);return N(function(V,k){return k.cols-V}(B>y?T:U,E)+($-1)*E.cols+1+((B>y?U:T)-1),Q(ce,D))}},1296:function(u,f,_){var P=this&&this.__decorate||function(ue,q,G,ne){var Ce,oe=arguments.length,z=oe<3?q:null===ne?ne=Object.getOwnPropertyDescriptor(q,G):ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(ue,q,G,ne);else for(var te=ue.length-1;te>=0;te--)(Ce=ue[te])&&(z=(oe<3?Ce(z):oe>3?Ce(q,G,z):Ce(q,G))||z);return oe>3&&z&&Object.defineProperty(q,G,z),z},x=this&&this.__param||function(ue,q){return function(G,ne){q(G,ne,ue)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRenderer=void 0;const r=_(3787),R=_(2550),L=_(2223),Q=_(6171),N=_(4725),T=_(8055),y=_(8460),E=_(844),D=_(2585),U="xterm-dom-renderer-owner-",B="xterm-rows",ce="xterm-fg-",$="xterm-bg-",V="xterm-focus",k="xterm-selection";let O=1,K=f.DomRenderer=class extends E.Disposable{constructor(ue,q,G,ne,Ce,oe,z,te,W,Y){super(),this._element=ue,this._screenElement=q,this._viewportElement=G,this._linkifier2=ne,this._charSizeService=oe,this._optionsService=z,this._bufferService=te,this._coreBrowserService=W,this._themeService=Y,this._terminalClass=O++,this._rowElements=[],this.onRequestRedraw=this.register(new y.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(B),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(k),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,Q.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Ae=>this._injectCss(Ae))),this._injectCss(this._themeService.colors),this._rowFactory=Ce.createInstance(r.DomRendererRowFactory,document),this._element.classList.add(U+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Ae=>this._handleLinkHover(Ae))),this.register(this._linkifier2.onHideLinkUnderline(Ae=>this._handleLinkLeave(Ae))),this.register((0,E.toDisposable)(()=>{this._element.classList.remove(U+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new R.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const ue=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*ue,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*ue),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/ue),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/ue),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const G of this._rowElements)G.style.width=`${this.dimensions.css.canvas.width}px`,G.style.height=`${this.dimensions.css.cell.height}px`,G.style.lineHeight=`${this.dimensions.css.cell.height}px`,G.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${B} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(ue){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let q=`${this._terminalSelector} .${B} { color: ${ue.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;q+=`${this._terminalSelector} .${B} .xterm-dim { color: ${T.color.multiplyOpacity(ue.foreground,.5).css};}`,q+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,q+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",q+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${ue.cursor.css};  color: ${ue.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${ue.cursor.css}; }}`,q+=`${this._terminalSelector} .${B}.${V} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${B}.${V} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${B} .xterm-cursor.xterm-cursor-block { background-color: ${ue.cursor.css}; color: ${ue.cursorAccent.css};}${this._terminalSelector} .${B} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${ue.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${B} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${ue.cursor.css} inset;}${this._terminalSelector} .${B} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${ue.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,q+=`${this._terminalSelector} .${k} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${k} div { position: absolute; background-color: ${ue.selectionBackgroundOpaque.css};}${this._terminalSelector} .${k} div { position: absolute; background-color: ${ue.selectionInactiveBackgroundOpaque.css};}`;for(const[G,ne]of ue.ansi.entries())q+=`${this._terminalSelector} .${ce}${G} { color: ${ne.css}; }${this._terminalSelector} .${ce}${G}.xterm-dim { color: ${T.color.multiplyOpacity(ne,.5).css}; }${this._terminalSelector} .${$}${G} { background-color: ${ne.css}; }`;q+=`${this._terminalSelector} .${ce}${L.INVERTED_DEFAULT_COLOR} { color: ${T.color.opaque(ue.background).css}; }${this._terminalSelector} .${ce}${L.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${T.color.multiplyOpacity(T.color.opaque(ue.background),.5).css}; }${this._terminalSelector} .${$}${L.INVERTED_DEFAULT_COLOR} { background-color: ${ue.foreground.css}; }`,this._themeStyleElement.textContent=q}_setDefaultSpacing(){const ue=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${ue}px`,this._rowFactory.defaultSpacing=ue}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(ue,q){for(let G=this._rowElements.length;G<=q;G++){const ne=document.createElement("div");this._rowContainer.appendChild(ne),this._rowElements.push(ne)}for(;this._rowElements.length>q;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(ue,q){this._refreshRowElements(ue,q),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(V)}handleFocus(){this._rowContainer.classList.add(V),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(ue,q,G){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(ue,q,G),this.renderRows(0,this._bufferService.rows-1),!ue||!q)return;const ne=ue[1]-this._bufferService.buffer.ydisp,Ce=q[1]-this._bufferService.buffer.ydisp,oe=Math.max(ne,0),z=Math.min(Ce,this._bufferService.rows-1);if(oe>=this._bufferService.rows||z<0)return;const te=document.createDocumentFragment();if(G){const W=ue[0]>q[0];te.appendChild(this._createSelectionElement(oe,W?q[0]:ue[0],W?ue[0]:q[0],z-oe+1))}else te.appendChild(this._createSelectionElement(oe,ne===oe?ue[0]:0,oe===Ce?q[0]:this._bufferService.cols)),te.appendChild(this._createSelectionElement(oe+1,0,this._bufferService.cols,z-oe-1)),oe!==z&&te.appendChild(this._createSelectionElement(z,0,Ce===z?q[0]:this._bufferService.cols));this._selectionContainer.appendChild(te)}_createSelectionElement(ue,q,G,ne=1){const Ce=document.createElement("div");return Ce.style.height=ne*this.dimensions.css.cell.height+"px",Ce.style.top=ue*this.dimensions.css.cell.height+"px",Ce.style.left=q*this.dimensions.css.cell.width+"px",Ce.style.width=this.dimensions.css.cell.width*(G-q)+"px",Ce}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const ue of this._rowElements)ue.replaceChildren()}renderRows(ue,q){const G=this._bufferService.buffer,ne=G.ybase+G.y,Ce=Math.min(G.x,this._bufferService.cols-1),oe=this._optionsService.rawOptions.cursorBlink,z=this._optionsService.rawOptions.cursorStyle,te=this._optionsService.rawOptions.cursorInactiveStyle;for(let W=ue;W<=q;W++){const Y=W+G.ydisp,Ae=this._rowElements[W],Ee=G.lines.get(Y);if(!Ae||!Ee)break;Ae.replaceChildren(...this._rowFactory.createRow(Ee,Y,Y===ne,z,te,Ce,oe,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${U}${this._terminalClass}`}_handleLinkHover(ue){this._setCellUnderline(ue.x1,ue.x2,ue.y1,ue.y2,ue.cols,!0)}_handleLinkLeave(ue){this._setCellUnderline(ue.x1,ue.x2,ue.y1,ue.y2,ue.cols,!1)}_setCellUnderline(ue,q,G,ne,Ce,oe){G<0&&(ue=0),ne<0&&(q=0);const z=this._bufferService.rows-1;G=Math.max(Math.min(G,z),0),ne=Math.max(Math.min(ne,z),0),Ce=Math.min(Ce,this._bufferService.cols);const te=this._bufferService.buffer,W=te.ybase+te.y,Y=Math.min(te.x,Ce-1),Ae=this._optionsService.rawOptions.cursorBlink,Ee=this._optionsService.rawOptions.cursorStyle,qe=this._optionsService.rawOptions.cursorInactiveStyle;for(let ye=G;ye<=ne;++ye){const Ge=ye+te.ydisp,X=this._rowElements[ye],be=te.lines.get(Ge);if(!X||!be)break;X.replaceChildren(...this._rowFactory.createRow(be,Ge,Ge===W,Ee,qe,Y,Ae,this.dimensions.css.cell.width,this._widthCache,oe?ye===G?ue:0:-1,oe?(ye===ne?q:Ce)-1:-1))}}};f.DomRenderer=K=P([x(4,D.IInstantiationService),x(5,N.ICharSizeService),x(6,D.IOptionsService),x(7,D.IBufferService),x(8,N.ICoreBrowserService),x(9,N.IThemeService)],K)},3787:function(u,f,_){var P=this&&this.__decorate||function(ce,$,V,k){var O,K=arguments.length,ue=K<3?$:null===k?k=Object.getOwnPropertyDescriptor($,V):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(ce,$,V,k);else for(var q=ce.length-1;q>=0;q--)(O=ce[q])&&(ue=(K<3?O(ue):K>3?O($,V,ue):O($,V))||ue);return K>3&&ue&&Object.defineProperty($,V,ue),ue},x=this&&this.__param||function(ce,$){return function(V,k){$(V,k,ce)}};Object.defineProperty(f,"__esModule",{value:!0}),f.DomRendererRowFactory=void 0;const r=_(2223),R=_(643),L=_(511),Q=_(2585),N=_(8055),T=_(4725),y=_(4269),E=_(6171),D=_(3734);let U=f.DomRendererRowFactory=class{constructor(ce,$,V,k,O,K,ue){this._document=ce,this._characterJoinerService=$,this._optionsService=V,this._coreBrowserService=k,this._coreService=O,this._decorationService=K,this._themeService=ue,this._workCell=new L.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(ce,$,V){this._selectionStart=ce,this._selectionEnd=$,this._columnSelectMode=V}createRow(ce,$,V,k,O,K,ue,q,G,ne,Ce){const oe=[],z=this._characterJoinerService.getJoinedCharacters($),te=this._themeService.colors;let W,Y=ce.getNoBgTrimmedLength();V&&Y<K+1&&(Y=K+1);let Ae=0,Ee="",qe=0,ye=0,Ge=0,X=!1,be=0,we=!1,Ie=0;const ct=[],dt=-1!==ne&&-1!==Ce;for(let et=0;et<Y;et++){ce.loadCell(et,this._workCell);let vt=this._workCell.getWidth();if(0===vt)continue;let ht=!1,Rt=et,Nt=this._workCell;if(z.length>0&&et===z[0][0]){ht=!0;const se=z.shift();Nt=new y.JoinedCellData(this._workCell,ce.translateToString(!0,se[0],se[1]),se[1]-se[0]),Rt=se[1]-1,vt=Nt.getWidth()}const At=this._isCellInSelection(et,$),st=V&&et===K,ot=dt&&et>=ne&&et<=Ce;let ge=!1;this._decorationService.forEachDecorationAtCell(et,$,void 0,se=>{ge=!0});let ke=Nt.getChars()||R.WHITESPACE_CELL_CHAR;if(" "===ke&&(Nt.isUnderline()||Nt.isOverline())&&(ke="\xa0"),Ie=vt*q-G.get(ke,Nt.isBold(),Nt.isItalic()),W){if(Ae&&(At&&we||!At&&!we&&Nt.bg===qe)&&(At&&we&&te.selectionForeground||Nt.fg===ye)&&Nt.extended.ext===Ge&&ot===X&&Ie===be&&!st&&!ht&&!ge){Ee+=ke,Ae++;continue}Ae&&(W.textContent=Ee),W=this._document.createElement("span"),Ae=0,Ee=""}else W=this._document.createElement("span");if(qe=Nt.bg,ye=Nt.fg,Ge=Nt.extended.ext,X=ot,be=Ie,we=At,ht&&K>=et&&K<=Rt&&(K=et),!this._coreService.isCursorHidden&&st)if(ct.push("xterm-cursor"),this._coreBrowserService.isFocused)ue&&ct.push("xterm-cursor-blink"),ct.push("bar"===k?"xterm-cursor-bar":"underline"===k?"xterm-cursor-underline":"xterm-cursor-block");else if(O)switch(O){case"outline":ct.push("xterm-cursor-outline");break;case"block":ct.push("xterm-cursor-block");break;case"bar":ct.push("xterm-cursor-bar");break;case"underline":ct.push("xterm-cursor-underline")}if(Nt.isBold()&&ct.push("xterm-bold"),Nt.isItalic()&&ct.push("xterm-italic"),Nt.isDim()&&ct.push("xterm-dim"),Ee=Nt.isInvisible()?R.WHITESPACE_CELL_CHAR:Nt.getChars()||R.WHITESPACE_CELL_CHAR,Nt.isUnderline()&&(ct.push(`xterm-underline-${Nt.extended.underlineStyle}`)," "===Ee&&(Ee="\xa0"),!Nt.isUnderlineColorDefault()))if(Nt.isUnderlineColorRGB())W.style.textDecorationColor=`rgb(${D.AttributeData.toColorRGB(Nt.getUnderlineColor()).join(",")})`;else{let se=Nt.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Nt.isBold()&&se<8&&(se+=8),W.style.textDecorationColor=te.ansi[se].css}Nt.isOverline()&&(ct.push("xterm-overline")," "===Ee&&(Ee="\xa0")),Nt.isStrikethrough()&&ct.push("xterm-strikethrough"),ot&&(W.style.textDecoration="underline");let rt=Nt.getFgColor(),yt=Nt.getFgColorMode(),Pt=Nt.getBgColor(),Ht=Nt.getBgColorMode();const Ot=!!Nt.isInverse();if(Ot){const se=rt;rt=Pt,Pt=se;const Fe=yt;yt=Ht,Ht=Fe}let Ye,lt,Ke,Tt=!1;switch(this._decorationService.forEachDecorationAtCell(et,$,void 0,se=>{"top"!==se.options.layer&&Tt||(se.backgroundColorRGB&&(Ht=50331648,Pt=se.backgroundColorRGB.rgba>>8&16777215,Ye=se.backgroundColorRGB),se.foregroundColorRGB&&(yt=50331648,rt=se.foregroundColorRGB.rgba>>8&16777215,lt=se.foregroundColorRGB),Tt="top"===se.options.layer)}),!Tt&&At&&(Ye=this._coreBrowserService.isFocused?te.selectionBackgroundOpaque:te.selectionInactiveBackgroundOpaque,Pt=Ye.rgba>>8&16777215,Ht=50331648,Tt=!0,te.selectionForeground&&(yt=50331648,rt=te.selectionForeground.rgba>>8&16777215,lt=te.selectionForeground)),Tt&&ct.push("xterm-decoration-top"),Ht){case 16777216:case 33554432:Ke=te.ansi[Pt],ct.push(`xterm-bg-${Pt}`);break;case 50331648:Ke=N.rgba.toColor(Pt>>16,Pt>>8&255,255&Pt),this._addStyle(W,`background-color:#${B((Pt>>>0).toString(16),"0",6)}`);break;default:Ot?(Ke=te.foreground,ct.push(`xterm-bg-${r.INVERTED_DEFAULT_COLOR}`)):Ke=te.background}switch(Ye||Nt.isDim()&&(Ye=N.color.multiplyOpacity(Ke,.5)),yt){case 16777216:case 33554432:Nt.isBold()&&rt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(rt+=8),this._applyMinimumContrast(W,Ke,te.ansi[rt],Nt,Ye,void 0)||ct.push(`xterm-fg-${rt}`);break;case 50331648:const se=N.rgba.toColor(rt>>16&255,rt>>8&255,255&rt);this._applyMinimumContrast(W,Ke,se,Nt,Ye,lt)||this._addStyle(W,`color:#${B(rt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(W,Ke,te.foreground,Nt,Ye,void 0)||Ot&&ct.push(`xterm-fg-${r.INVERTED_DEFAULT_COLOR}`)}ct.length&&(W.className=ct.join(" "),ct.length=0),st||ht||ge?W.textContent=Ee:Ae++,Ie!==this.defaultSpacing&&(W.style.letterSpacing=`${Ie}px`),oe.push(W),et=Rt}return W&&Ae&&(W.textContent=Ee),oe}_applyMinimumContrast(ce,$,V,k,O,K){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,E.excludeFromContrastRatioDemands)(k.getCode()))return!1;const ue=this._getContrastCache(k);let q;if(O||K||(q=ue.getColor($.rgba,V.rgba)),void 0===q){const G=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);q=N.color.ensureContrastRatio(O||$,K||V,G),ue.setColor((O||$).rgba,(K||V).rgba,null!=q?q:null)}return!!q&&(this._addStyle(ce,`color:${q.css}`),!0)}_getContrastCache(ce){return ce.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(ce,$){ce.setAttribute("style",`${ce.getAttribute("style")||""}${$};`)}_isCellInSelection(ce,$){const V=this._selectionStart,k=this._selectionEnd;return!(!V||!k)&&(this._columnSelectMode?V[0]<=k[0]?ce>=V[0]&&$>=V[1]&&ce<k[0]&&$<=k[1]:ce<V[0]&&$>=V[1]&&ce>=k[0]&&$<=k[1]:$>V[1]&&$<k[1]||V[1]===k[1]&&$===V[1]&&ce>=V[0]&&ce<k[0]||V[1]<k[1]&&$===k[1]&&ce<k[0]||V[1]<k[1]&&$===V[1]&&ce>=V[0])}};function B(ce,$,V){for(;ce.length<V;)ce=$+ce;return ce}f.DomRendererRowFactory=U=P([x(1,T.ICharacterJoinerService),x(2,Q.IOptionsService),x(3,T.ICoreBrowserService),x(4,Q.ICoreService),x(5,Q.IDecorationService),x(6,T.IThemeService)],U)},2550:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WidthCache=void 0,f.WidthCache=class{constructor(_){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=_.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const P=_.createElement("span"),x=_.createElement("span");x.style.fontWeight="bold";const r=_.createElement("span");r.style.fontStyle="italic";const R=_.createElement("span");R.style.fontWeight="bold",R.style.fontStyle="italic",this._measureElements=[P,x,r,R],this._container.appendChild(P),this._container.appendChild(x),this._container.appendChild(r),this._container.appendChild(R),_.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(_,P,x,r){_===this._font&&P===this._fontSize&&x===this._weight&&r===this._weightBold||(this._font=_,this._fontSize=P,this._weight=x,this._weightBold=r,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${x}`,this._measureElements[1].style.fontWeight=`${r}`,this._measureElements[2].style.fontWeight=`${x}`,this._measureElements[3].style.fontWeight=`${r}`,this.clear())}get(_,P,x){let r=0;if(!P&&!x&&1===_.length&&(r=_.charCodeAt(0))<256)return-9999!==this._flat[r]?this._flat[r]:this._flat[r]=this._measure(_,0);let R=_;P&&(R+="B"),x&&(R+="I");let L=this._holey.get(R);if(void 0===L){let Q=0;P&&(Q|=1),x&&(Q|=2),L=this._measure(_,Q),this._holey.set(R,L)}return L}_measure(_,P){const x=this._measureElements[P];return x.textContent=_.repeat(32),x.offsetWidth/32}}},2223:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TEXT_BASELINE=f.DIM_OPACITY=f.INVERTED_DEFAULT_COLOR=void 0;const P=_(6114);f.INVERTED_DEFAULT_COLOR=257,f.DIM_OPACITY=.5,f.TEXT_BASELINE=P.isFirefox||P.isLegacyEdge?"bottom":"ideographic"},6171:(u,f)=>{function _(P){return 57508<=P&&P<=57558}Object.defineProperty(f,"__esModule",{value:!0}),f.createRenderDimensions=f.excludeFromContrastRatioDemands=f.isRestrictedPowerlineGlyph=f.isPowerlineGlyph=f.throwIfFalsy=void 0,f.throwIfFalsy=function(P){if(!P)throw new Error("value must not be falsy");return P},f.isPowerlineGlyph=_,f.isRestrictedPowerlineGlyph=function(P){return 57520<=P&&P<=57527},f.excludeFromContrastRatioDemands=function(P){return _(P)||9472<=(x=P)&&x<=9631;var x},f.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionModel=void 0,f.SelectionModel=class{constructor(_){this._bufferService=_,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?_%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)-1]:[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[_,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[Math.max(_,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const _=this.selectionStart,P=this.selectionEnd;return!(!_||!P)&&(_[1]>P[1]||_[1]===P[1]&&_[0]>P[0])}handleTrim(_){return this.selectionStart&&(this.selectionStart[1]-=_),this.selectionEnd&&(this.selectionEnd[1]-=_),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(u,f,_){var P=this&&this.__decorate||function(T,y,E,D){var U,B=arguments.length,ce=B<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,E):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,E,D);else for(var $=T.length-1;$>=0;$--)(U=T[$])&&(ce=(B<3?U(ce):B>3?U(y,E,ce):U(y,E))||ce);return B>3&&ce&&Object.defineProperty(y,E,ce),ce},x=this&&this.__param||function(T,y){return function(E,D){y(E,D,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharSizeService=void 0;const r=_(2585),R=_(8460),L=_(844);let Q=f.CharSizeService=class extends L.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(T,y,E){super(),this._optionsService=E,this.width=0,this.height=0,this._onCharSizeChange=this.register(new R.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new N(T,y,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const T=this._measureStrategy.measure();T.width===this.width&&T.height===this.height||(this.width=T.width,this.height=T.height,this._onCharSizeChange.fire())}};f.CharSizeService=Q=P([x(2,r.IOptionsService)],Q);class N{constructor(y,E,D){this._document=y,this._parentElement=E,this._optionsService=D,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const y={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==y.width&&0!==y.height&&(this._result.width=y.width/32,this._result.height=Math.ceil(y.height)),this._result}}},4269:function(u,f,_){var P=this&&this.__decorate||function(y,E,D,U){var B,ce=arguments.length,$=ce<3?E:null===U?U=Object.getOwnPropertyDescriptor(E,D):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(y,E,D,U);else for(var V=y.length-1;V>=0;V--)(B=y[V])&&($=(ce<3?B($):ce>3?B(E,D,$):B(E,D))||$);return ce>3&&$&&Object.defineProperty(E,D,$),$},x=this&&this.__param||function(y,E){return function(D,U){E(D,U,y)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CharacterJoinerService=f.JoinedCellData=void 0;const r=_(3734),R=_(643),L=_(511),Q=_(2585);f.JoinedCellData=class N extends r.AttributeData{constructor(E,D,U){super(),this.content=0,this.combinedData="",this.fg=E.fg,this.bg=E.bg,this.combinedData=D,this._width=U}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(E){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let T=f.CharacterJoinerService=class sw{constructor(E){this._bufferService=E,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new L.CellData}register(E){const D={id:this._nextCharacterJoinerId++,handler:E};return this._characterJoiners.push(D),D.id}deregister(E){for(let D=0;D<this._characterJoiners.length;D++)if(this._characterJoiners[D].id===E)return this._characterJoiners.splice(D,1),!0;return!1}getJoinedCharacters(E){if(0===this._characterJoiners.length)return[];const D=this._bufferService.buffer.lines.get(E);if(!D||0===D.length)return[];const U=[],B=D.translateToString(!0);let ce=0,$=0,V=0,k=D.getFg(0),O=D.getBg(0);for(let K=0;K<D.getTrimmedLength();K++)if(D.loadCell(K,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==k||this._workCell.bg!==O){if(K-ce>1){const ue=this._getJoinedRanges(B,V,$,D,ce);for(let q=0;q<ue.length;q++)U.push(ue[q])}ce=K,V=$,k=this._workCell.fg,O=this._workCell.bg}$+=this._workCell.getChars().length||R.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-ce>1){const K=this._getJoinedRanges(B,V,$,D,ce);for(let ue=0;ue<K.length;ue++)U.push(K[ue])}return U}_getJoinedRanges(E,D,U,B,ce){const $=E.substring(D,U);let V=[];try{V=this._characterJoiners[0].handler($)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const O=this._characterJoiners[k].handler($);for(let K=0;K<O.length;K++)sw._mergeRanges(V,O[K])}catch(O){console.error(O)}return this._stringRangesToCellRanges(V,B,ce),V}_stringRangesToCellRanges(E,D,U){let B=0,ce=!1,$=0,V=E[B];if(V){for(let k=U;k<this._bufferService.cols;k++){const O=D.getWidth(k),K=D.getString(k).length||R.WHITESPACE_CELL_CHAR.length;if(0!==O){if(!ce&&V[0]<=$&&(V[0]=k,ce=!0),V[1]<=$){if(V[1]=k,V=E[++B],!V)break;V[0]<=$?(V[0]=k,ce=!0):ce=!1}$+=K}}V&&(V[1]=this._bufferService.cols)}}static _mergeRanges(E,D){let U=!1;for(let B=0;B<E.length;B++){const ce=E[B];if(U){if(D[1]<=ce[0])return E[B-1][1]=D[1],E;if(D[1]<=ce[1])return E[B-1][1]=Math.max(D[1],ce[1]),E.splice(B,1),E;E.splice(B,1),B--}else{if(D[1]<=ce[0])return E.splice(B,0,D),E;if(D[1]<=ce[1])return ce[0]=Math.min(D[0],ce[0]),E;D[0]<ce[1]&&(ce[0]=Math.min(D[0],ce[0]),U=!0)}}return U?E[E.length-1][1]=D[1]:E.push(D),E}};f.CharacterJoinerService=T=P([x(0,Q.IBufferService)],T)},5114:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreBrowserService=void 0,f.CoreBrowserService=class{constructor(_,P){this._textarea=_,this.window=P,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(u,f,_){var P=this&&this.__decorate||function(Q,N,T,y){var E,D=arguments.length,U=D<3?N:null===y?y=Object.getOwnPropertyDescriptor(N,T):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(Q,N,T,y);else for(var B=Q.length-1;B>=0;B--)(E=Q[B])&&(U=(D<3?E(U):D>3?E(N,T,U):E(N,T))||U);return D>3&&U&&Object.defineProperty(N,T,U),U},x=this&&this.__param||function(Q,N){return function(T,y){N(T,y,Q)}};Object.defineProperty(f,"__esModule",{value:!0}),f.MouseService=void 0;const r=_(4725),R=_(9806);let L=f.MouseService=class{constructor(Q,N){this._renderService=Q,this._charSizeService=N}getCoords(Q,N,T,y,E){return(0,R.getCoords)(window,Q,N,T,y,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,E)}getMouseReportCoords(Q,N){const T=(0,R.getCoordsRelativeToElement)(window,Q,N);if(this._charSizeService.hasValidSize)return T[0]=Math.min(Math.max(T[0],0),this._renderService.dimensions.css.canvas.width-1),T[1]=Math.min(Math.max(T[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(T[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(T[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(T[0]),y:Math.floor(T[1])}}};f.MouseService=L=P([x(0,r.IRenderService),x(1,r.ICharSizeService)],L)},3230:function(u,f,_){var P=this&&this.__decorate||function(U,B,ce,$){var V,k=arguments.length,O=k<3?B:null===$?$=Object.getOwnPropertyDescriptor(B,ce):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(U,B,ce,$);else for(var K=U.length-1;K>=0;K--)(V=U[K])&&(O=(k<3?V(O):k>3?V(B,ce,O):V(B,ce))||O);return k>3&&O&&Object.defineProperty(B,ce,O),O},x=this&&this.__param||function(U,B){return function(ce,$){B(ce,$,U)}};Object.defineProperty(f,"__esModule",{value:!0}),f.RenderService=void 0;const r=_(3656),R=_(6193),L=_(5596),Q=_(4725),N=_(8460),T=_(844),y=_(7226),E=_(2585);let D=f.RenderService=class extends T.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(U,B,ce,$,V,k,O,K){if(super(),this._rowCount=U,this._charSizeService=$,this._renderer=this.register(new T.MutableDisposable),this._pausedResizeTask=new y.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new N.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new N.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new N.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new N.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new R.RenderDebouncer(O.window,(ue,q)=>this._renderRows(ue,q)),this.register(this._renderDebouncer),this._screenDprMonitor=new L.ScreenDprMonitor(O.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var ue;return null===(ue=this._renderer.value)||void 0===ue?void 0:ue.clear()})),this.register(ce.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(V.onDecorationRegistered(()=>this._fullRefresh())),this.register(V.onDecorationRemoved(()=>this._fullRefresh())),this.register(ce.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(ce.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,r.addDisposableDomListener)(O.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(K.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in O.window){const ue=new O.window.IntersectionObserver(q=>this._handleIntersectionChange(q[q.length-1]),{threshold:0});ue.observe(B),this.register({dispose:()=>ue.disconnect()})}}_handleIntersectionChange(U){this._isPaused=void 0===U.isIntersecting?0===U.intersectionRatio:!U.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(U,B,ce=!1){this._isPaused?this._needsFullRefresh=!0:(ce||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(U,B,this._rowCount))}_renderRows(U,B){this._renderer.value&&(U=Math.min(U,this._rowCount-1),B=Math.min(B,this._rowCount-1),this._renderer.value.renderRows(U,B),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:U,end:B}),this._onRender.fire({start:U,end:B}),this._isNextRenderRedrawOnly=!0)}resize(U,B){this._rowCount=B,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(U){this._renderer.value=U,this._renderer.value.onRequestRedraw(B=>this.refreshRows(B.start,B.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(U){return this._renderDebouncer.addRefreshCallback(U)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var U,B;this._renderer.value&&(null===(B=(U=this._renderer.value).clearTextureAtlas)||void 0===B||B.call(U),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(U,B){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(U,B)):this._renderer.value.handleResize(U,B),this._fullRefresh())}handleCharSizeChanged(){var U;null===(U=this._renderer.value)||void 0===U||U.handleCharSizeChanged()}handleBlur(){var U;null===(U=this._renderer.value)||void 0===U||U.handleBlur()}handleFocus(){var U;null===(U=this._renderer.value)||void 0===U||U.handleFocus()}handleSelectionChanged(U,B,ce){var $;this._selectionState.start=U,this._selectionState.end=B,this._selectionState.columnSelectMode=ce,null===($=this._renderer.value)||void 0===$||$.handleSelectionChanged(U,B,ce)}handleCursorMove(){var U;null===(U=this._renderer.value)||void 0===U||U.handleCursorMove()}clear(){var U;null===(U=this._renderer.value)||void 0===U||U.clear()}};f.RenderService=D=P([x(2,E.IOptionsService),x(3,Q.ICharSizeService),x(4,E.IDecorationService),x(5,E.IBufferService),x(6,Q.ICoreBrowserService),x(7,Q.IThemeService)],D)},9312:function(u,f,_){var P=this&&this.__decorate||function(V,k,O,K){var ue,q=arguments.length,G=q<3?k:null===K?K=Object.getOwnPropertyDescriptor(k,O):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(V,k,O,K);else for(var ne=V.length-1;ne>=0;ne--)(ue=V[ne])&&(G=(q<3?ue(G):q>3?ue(k,O,G):ue(k,O))||G);return q>3&&G&&Object.defineProperty(k,O,G),G},x=this&&this.__param||function(V,k){return function(O,K){k(O,K,V)}};Object.defineProperty(f,"__esModule",{value:!0}),f.SelectionService=void 0;const r=_(9806),R=_(9504),L=_(456),Q=_(4725),N=_(8460),T=_(844),y=_(6114),E=_(4841),D=_(511),U=_(2585),B=String.fromCharCode(160),ce=new RegExp(B,"g");let $=f.SelectionService=class extends T.Disposable{constructor(V,k,O,K,ue,q,G,ne,Ce){super(),this._element=V,this._screenElement=k,this._linkifier=O,this._bufferService=K,this._coreService=ue,this._mouseService=q,this._optionsService=G,this._renderService=ne,this._coreBrowserService=Ce,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new D.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new N.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new N.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new N.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new N.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=oe=>this._handleMouseMove(oe),this._mouseUpListener=oe=>this._handleMouseUp(oe),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(oe=>this._handleTrim(oe)),this.register(this._bufferService.buffers.onBufferActivate(oe=>this._handleBufferActivate(oe))),this.enable(),this._model=new L.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,T.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const V=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!V||!k||V[0]===k[0]&&V[1]===k[1])}get selectionText(){const V=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!V||!k)return"";const O=this._bufferService.buffer,K=[];if(3===this._activeSelectionMode){if(V[0]===k[0])return"";const ue=V[0]<k[0]?V[0]:k[0],q=V[0]<k[0]?k[0]:V[0];for(let G=V[1];G<=k[1];G++){const ne=O.translateBufferLineToString(G,!0,ue,q);K.push(ne)}}else{K.push(O.translateBufferLineToString(V[1],!0,V[0],V[1]===k[1]?k[0]:void 0));for(let q=V[1]+1;q<=k[1]-1;q++){const G=O.lines.get(q),ne=O.translateBufferLineToString(q,!0);null!=G&&G.isWrapped?K[K.length-1]+=ne:K.push(ne)}if(V[1]!==k[1]){const q=O.lines.get(k[1]),G=O.translateBufferLineToString(k[1],!0,0,k[0]);q&&q.isWrapped?K[K.length-1]+=G:K.push(G)}}return K.map(ue=>ue.replace(ce," ")).join(y.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(V){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),y.isLinux&&V&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(V){const k=this._getMouseBufferCoords(V),O=this._model.finalSelectionStart,K=this._model.finalSelectionEnd;return!!(O&&K&&k)&&this._areCoordsInSelection(k,O,K)}isCellInSelection(V,k){const O=this._model.finalSelectionStart,K=this._model.finalSelectionEnd;return!(!O||!K)&&this._areCoordsInSelection([V,k],O,K)}_areCoordsInSelection(V,k,O){return V[1]>k[1]&&V[1]<O[1]||k[1]===O[1]&&V[1]===k[1]&&V[0]>=k[0]&&V[0]<O[0]||k[1]<O[1]&&V[1]===O[1]&&V[0]<O[0]||k[1]<O[1]&&V[1]===k[1]&&V[0]>=k[0]}_selectWordAtCursor(V,k){var O,K;const ue=null===(K=null===(O=this._linkifier.currentLink)||void 0===O?void 0:O.link)||void 0===K?void 0:K.range;if(ue)return this._model.selectionStart=[ue.start.x-1,ue.start.y-1],this._model.selectionStartLength=(0,E.getRangeLength)(ue,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const q=this._getMouseBufferCoords(V);return!!q&&(this._selectWordAt(q,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(V,k){this._model.clearSelection(),V=Math.max(V,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,V],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(V){this._model.handleTrim(V)&&this.refresh()}_getMouseBufferCoords(V){const k=this._mouseService.getCoords(V,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(V){let k=(0,r.getCoordsRelativeToElement)(this._coreBrowserService.window,V,this._screenElement)[1];const O=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=O?0:(k>O&&(k-=O),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(V){return y.isMac?V.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:V.shiftKey}handleMouseDown(V){if(this._mouseDownTimeStamp=V.timeStamp,(2!==V.button||!this.hasSelection)&&0===V.button){if(!this._enabled){if(!this.shouldForceSelection(V))return;V.stopPropagation()}V.preventDefault(),this._dragScrollAmount=0,this._enabled&&V.shiftKey?this._handleIncrementalClick(V):1===V.detail?this._handleSingleClick(V):2===V.detail?this._handleDoubleClick(V):3===V.detail&&this._handleTripleClick(V),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(V){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(V))}_handleSingleClick(V){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(V)?3:0,this._model.selectionStart=this._getMouseBufferCoords(V),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&0===k.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(V){this._selectWordAtCursor(V,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(V){const k=this._getMouseBufferCoords(V);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(V){return V.altKey&&!(y.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(V){if(V.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(V),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(V),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const O=this._bufferService.buffer;if(this._model.selectionEnd[1]<O.lines.length){const K=O.lines.get(this._model.selectionEnd[1]);K&&0===K.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const V=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(V.ydisp+this._bufferService.rows,V.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=V.ydisp),this.refresh()}}_handleMouseUp(V){const k=V.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&V.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const O=this._mouseService.getCoords(V,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(O&&void 0!==O[0]&&void 0!==O[1]){const K=(0,R.moveToCellSequence)(O[0]-1,O[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(K,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const V=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,O=!(!V||!k||V[0]===k[0]&&V[1]===k[1]);O?V&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&V[0]===this._oldSelectionStart[0]&&V[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(V,k,O)):this._oldHasSelection&&this._fireOnSelectionChange(V,k,O)}_fireOnSelectionChange(V,k,O){this._oldSelectionStart=V,this._oldSelectionEnd=k,this._oldHasSelection=O,this._onSelectionChange.fire()}_handleBufferActivate(V){this.clearSelection(),this._trimListener.dispose(),this._trimListener=V.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(V,k){let O=k;for(let K=0;k>=K;K++){const ue=V.loadCell(K,this._workCell).getChars().length;0===this._workCell.getWidth()?O--:ue>1&&k!==K&&(O+=ue-1)}return O}setSelection(V,k,O){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[V,k],this._model.selectionStartLength=O,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(V){this._isClickInSelection(V)||(this._selectWordAtCursor(V,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(V,k,O=!0,K=!0){if(V[0]>=this._bufferService.cols)return;const ue=this._bufferService.buffer,q=ue.lines.get(V[1]);if(!q)return;const G=ue.translateBufferLineToString(V[1],!1);let ne=this._convertViewportColToCharacterIndex(q,V[0]),Ce=ne;const oe=V[0]-ne;let z=0,te=0,W=0,Y=0;if(" "===G.charAt(ne)){for(;ne>0&&" "===G.charAt(ne-1);)ne--;for(;Ce<G.length&&" "===G.charAt(Ce+1);)Ce++}else{let qe=V[0],ye=V[0];0===q.getWidth(qe)&&(z++,qe--),2===q.getWidth(ye)&&(te++,ye++);const Ge=q.getString(ye).length;for(Ge>1&&(Y+=Ge-1,Ce+=Ge-1);qe>0&&ne>0&&!this._isCharWordSeparator(q.loadCell(qe-1,this._workCell));){q.loadCell(qe-1,this._workCell);const X=this._workCell.getChars().length;0===this._workCell.getWidth()?(z++,qe--):X>1&&(W+=X-1,ne-=X-1),ne--,qe--}for(;ye<q.length&&Ce+1<G.length&&!this._isCharWordSeparator(q.loadCell(ye+1,this._workCell));){q.loadCell(ye+1,this._workCell);const X=this._workCell.getChars().length;2===this._workCell.getWidth()?(te++,ye++):X>1&&(Y+=X-1,Ce+=X-1),Ce++,ye++}}Ce++;let Ae=ne+oe-z+W,Ee=Math.min(this._bufferService.cols,Ce-ne+z+te-W-Y);if(k||""!==G.slice(ne,Ce).trim()){if(O&&0===Ae&&32!==q.getCodePoint(0)){const qe=ue.lines.get(V[1]-1);if(qe&&q.isWrapped&&32!==qe.getCodePoint(this._bufferService.cols-1)){const ye=this._getWordAt([this._bufferService.cols-1,V[1]-1],!1,!0,!1);if(ye){const Ge=this._bufferService.cols-ye.start;Ae-=Ge,Ee+=Ge}}}if(K&&Ae+Ee===this._bufferService.cols&&32!==q.getCodePoint(this._bufferService.cols-1)){const qe=ue.lines.get(V[1]+1);if((null==qe?void 0:qe.isWrapped)&&32!==qe.getCodePoint(0)){const ye=this._getWordAt([0,V[1]+1],!1,!1,!0);ye&&(Ee+=ye.length)}}return{start:Ae,length:Ee}}}_selectWordAt(V,k){const O=this._getWordAt(V,k);if(O){for(;O.start<0;)O.start+=this._bufferService.cols,V[1]--;this._model.selectionStart=[O.start,V[1]],this._model.selectionStartLength=O.length}}_selectToWordAt(V){const k=this._getWordAt(V,!0);if(k){let O=V[1];for(;k.start<0;)k.start+=this._bufferService.cols,O--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,O++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,O]}}_isCharWordSeparator(V){return 0!==V.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(V.getChars())>=0}_selectLineAt(V){const k=this._bufferService.buffer.getWrappedRangeForLine(V),O={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,E.getRangeLength)(O,this._bufferService.cols)}};f.SelectionService=$=P([x(3,U.IBufferService),x(4,U.ICoreService),x(5,Q.IMouseService),x(6,U.IOptionsService),x(7,Q.IRenderService),x(8,Q.ICoreBrowserService)],$)},4725:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IThemeService=f.ICharacterJoinerService=f.ISelectionService=f.IRenderService=f.IMouseService=f.ICoreBrowserService=f.ICharSizeService=void 0;const P=_(8343);f.ICharSizeService=(0,P.createDecorator)("CharSizeService"),f.ICoreBrowserService=(0,P.createDecorator)("CoreBrowserService"),f.IMouseService=(0,P.createDecorator)("MouseService"),f.IRenderService=(0,P.createDecorator)("RenderService"),f.ISelectionService=(0,P.createDecorator)("SelectionService"),f.ICharacterJoinerService=(0,P.createDecorator)("CharacterJoinerService"),f.IThemeService=(0,P.createDecorator)("ThemeService")},6731:function(u,f,_){var P=this&&this.__decorate||function($,V,k,O){var K,ue=arguments.length,q=ue<3?V:null===O?O=Object.getOwnPropertyDescriptor(V,k):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate($,V,k,O);else for(var G=$.length-1;G>=0;G--)(K=$[G])&&(q=(ue<3?K(q):ue>3?K(V,k,q):K(V,k))||q);return ue>3&&q&&Object.defineProperty(V,k,q),q},x=this&&this.__param||function($,V){return function(k,O){V(k,O,$)}};Object.defineProperty(f,"__esModule",{value:!0}),f.ThemeService=f.DEFAULT_ANSI_COLORS=void 0;const r=_(7239),R=_(8055),L=_(8460),Q=_(844),N=_(2585),T=R.css.toColor("#ffffff"),y=R.css.toColor("#000000"),E=R.css.toColor("#ffffff"),D=R.css.toColor("#000000"),U={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};f.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const $=[R.css.toColor("#2e3436"),R.css.toColor("#cc0000"),R.css.toColor("#4e9a06"),R.css.toColor("#c4a000"),R.css.toColor("#3465a4"),R.css.toColor("#75507b"),R.css.toColor("#06989a"),R.css.toColor("#d3d7cf"),R.css.toColor("#555753"),R.css.toColor("#ef2929"),R.css.toColor("#8ae234"),R.css.toColor("#fce94f"),R.css.toColor("#729fcf"),R.css.toColor("#ad7fa8"),R.css.toColor("#34e2e2"),R.css.toColor("#eeeeec")],V=[0,95,135,175,215,255];for(let k=0;k<216;k++){const O=V[k/36%6|0],K=V[k/6%6|0],ue=V[k%6];$.push({css:R.channels.toCss(O,K,ue),rgba:R.channels.toRgba(O,K,ue)})}for(let k=0;k<24;k++){const O=8+10*k;$.push({css:R.channels.toCss(O,O,O),rgba:R.channels.toRgba(O,O,O)})}return $})());let B=f.ThemeService=class extends Q.Disposable{get colors(){return this._colors}constructor($){super(),this._optionsService=$,this._contrastCache=new r.ColorContrastCache,this._halfContrastCache=new r.ColorContrastCache,this._onChangeColors=this.register(new L.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:T,background:y,cursor:E,cursorAccent:D,selectionForeground:void 0,selectionBackgroundTransparent:U,selectionBackgroundOpaque:R.color.blend(y,U),selectionInactiveBackgroundTransparent:U,selectionInactiveBackgroundOpaque:R.color.blend(y,U),ansi:f.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme($={}){const V=this._colors;if(V.foreground=ce($.foreground,T),V.background=ce($.background,y),V.cursor=ce($.cursor,E),V.cursorAccent=ce($.cursorAccent,D),V.selectionBackgroundTransparent=ce($.selectionBackground,U),V.selectionBackgroundOpaque=R.color.blend(V.background,V.selectionBackgroundTransparent),V.selectionInactiveBackgroundTransparent=ce($.selectionInactiveBackground,V.selectionBackgroundTransparent),V.selectionInactiveBackgroundOpaque=R.color.blend(V.background,V.selectionInactiveBackgroundTransparent),V.selectionForeground=$.selectionForeground?ce($.selectionForeground,R.NULL_COLOR):void 0,V.selectionForeground===R.NULL_COLOR&&(V.selectionForeground=void 0),R.color.isOpaque(V.selectionBackgroundTransparent)&&(V.selectionBackgroundTransparent=R.color.opacity(V.selectionBackgroundTransparent,.3)),R.color.isOpaque(V.selectionInactiveBackgroundTransparent)&&(V.selectionInactiveBackgroundTransparent=R.color.opacity(V.selectionInactiveBackgroundTransparent,.3)),V.ansi=f.DEFAULT_ANSI_COLORS.slice(),V.ansi[0]=ce($.black,f.DEFAULT_ANSI_COLORS[0]),V.ansi[1]=ce($.red,f.DEFAULT_ANSI_COLORS[1]),V.ansi[2]=ce($.green,f.DEFAULT_ANSI_COLORS[2]),V.ansi[3]=ce($.yellow,f.DEFAULT_ANSI_COLORS[3]),V.ansi[4]=ce($.blue,f.DEFAULT_ANSI_COLORS[4]),V.ansi[5]=ce($.magenta,f.DEFAULT_ANSI_COLORS[5]),V.ansi[6]=ce($.cyan,f.DEFAULT_ANSI_COLORS[6]),V.ansi[7]=ce($.white,f.DEFAULT_ANSI_COLORS[7]),V.ansi[8]=ce($.brightBlack,f.DEFAULT_ANSI_COLORS[8]),V.ansi[9]=ce($.brightRed,f.DEFAULT_ANSI_COLORS[9]),V.ansi[10]=ce($.brightGreen,f.DEFAULT_ANSI_COLORS[10]),V.ansi[11]=ce($.brightYellow,f.DEFAULT_ANSI_COLORS[11]),V.ansi[12]=ce($.brightBlue,f.DEFAULT_ANSI_COLORS[12]),V.ansi[13]=ce($.brightMagenta,f.DEFAULT_ANSI_COLORS[13]),V.ansi[14]=ce($.brightCyan,f.DEFAULT_ANSI_COLORS[14]),V.ansi[15]=ce($.brightWhite,f.DEFAULT_ANSI_COLORS[15]),$.extendedAnsi){const k=Math.min(V.ansi.length-16,$.extendedAnsi.length);for(let O=0;O<k;O++)V.ansi[O+16]=ce($.extendedAnsi[O],f.DEFAULT_ANSI_COLORS[O+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor($){this._restoreColor($),this._onChangeColors.fire(this.colors)}_restoreColor($){if(void 0!==$)switch($){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[$]=this._restoreColors.ansi[$]}else for(let V=0;V<this._restoreColors.ansi.length;++V)this._colors.ansi[V]=this._restoreColors.ansi[V]}modifyColors($){$(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function ce($,V){if(void 0!==$)try{return R.css.toColor($)}catch(k){}return V}f.ThemeService=B=P([x(0,N.IOptionsService)],B)},6349:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CircularList=void 0;const P=_(8460),x=_(844);f.CircularList=class r extends x.Disposable{constructor(L){super(),this._maxLength=L,this.onDeleteEmitter=this.register(new P.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new P.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new P.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(L){if(this._maxLength===L)return;const Q=new Array(L);for(let N=0;N<Math.min(L,this.length);N++)Q[N]=this._array[this._getCyclicIndex(N)];this._array=Q,this._maxLength=L,this._startIndex=0}get length(){return this._length}set length(L){if(L>this._length)for(let Q=this._length;Q<L;Q++)this._array[Q]=void 0;this._length=L}get(L){return this._array[this._getCyclicIndex(L)]}set(L,Q){this._array[this._getCyclicIndex(L)]=Q}push(L){this._array[this._getCyclicIndex(this._length)]=L,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(L,Q,...N){if(Q){for(let T=L;T<this._length-Q;T++)this._array[this._getCyclicIndex(T)]=this._array[this._getCyclicIndex(T+Q)];this._length-=Q,this.onDeleteEmitter.fire({index:L,amount:Q})}for(let T=this._length-1;T>=L;T--)this._array[this._getCyclicIndex(T+N.length)]=this._array[this._getCyclicIndex(T)];for(let T=0;T<N.length;T++)this._array[this._getCyclicIndex(L+T)]=N[T];if(N.length&&this.onInsertEmitter.fire({index:L,amount:N.length}),this._length+N.length>this._maxLength){const T=this._length+N.length-this._maxLength;this._startIndex+=T,this._length=this._maxLength,this.onTrimEmitter.fire(T)}else this._length+=N.length}trimStart(L){L>this._length&&(L=this._length),this._startIndex+=L,this._length-=L,this.onTrimEmitter.fire(L)}shiftElements(L,Q,N){if(!(Q<=0)){if(L<0||L>=this._length)throw new Error("start argument out of range");if(L+N<0)throw new Error("Cannot shift elements in list beyond index 0");if(N>0){for(let y=Q-1;y>=0;y--)this.set(L+y+N,this.get(L+y));const T=L+Q+N-this._length;if(T>0)for(this._length+=T;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let T=0;T<Q;T++)this.set(L+T+N,this.get(L+T))}}_getCyclicIndex(L){return(this._startIndex+L)%this._maxLength}}},1439:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.clone=void 0,f.clone=function _(P,x=5){if("object"!=typeof P)return P;const r=Array.isArray(P)?[]:{};for(const R in P)r[R]=x<=1?P[R]:P[R]&&_(P[R],x-1);return r}},8055:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.contrastRatio=f.toPaddedHex=f.rgba=f.rgb=f.css=f.color=f.channels=f.NULL_COLOR=void 0;const P=_(6114);let x=0,r=0,R=0,L=0;var Q,N,T,y,E,B;function D(B){const ce=B.toString(16);return ce.length<2?"0"+ce:ce}function U(B,ce){return B<ce?(ce+.05)/(B+.05):(B+.05)/(ce+.05)}f.NULL_COLOR={css:"#00000000",rgba:0},(B=Q||(f.channels=Q={})).toCss=function(ce,$,V,k){return void 0!==k?`#${D(ce)}${D($)}${D(V)}${D(k)}`:`#${D(ce)}${D($)}${D(V)}`},B.toRgba=function(ce,$,V,k=255){return(ce<<24|$<<16|V<<8|k)>>>0},function(B){function ce($,V){return L=Math.round(255*V),[x,r,R]=E.toChannels($.rgba),{css:Q.toCss(x,r,R,L),rgba:Q.toRgba(x,r,R,L)}}B.blend=function($,V){if(L=(255&V.rgba)/255,1===L)return{css:V.css,rgba:V.rgba};const O=V.rgba>>16&255,K=V.rgba>>8&255,ue=$.rgba>>24&255,q=$.rgba>>16&255,G=$.rgba>>8&255;return x=ue+Math.round(((V.rgba>>24&255)-ue)*L),r=q+Math.round((O-q)*L),R=G+Math.round((K-G)*L),{css:Q.toCss(x,r,R),rgba:Q.toRgba(x,r,R)}},B.isOpaque=function($){return 255==(255&$.rgba)},B.ensureContrastRatio=function($,V,k){const O=E.ensureContrastRatio($.rgba,V.rgba,k);if(O)return E.toColor(O>>24&255,O>>16&255,O>>8&255)},B.opaque=function($){const V=(255|$.rgba)>>>0;return[x,r,R]=E.toChannels(V),{css:Q.toCss(x,r,R),rgba:V}},B.opacity=ce,B.multiplyOpacity=function($,V){return L=255&$.rgba,ce($,L*V/255)},B.toColorRGB=function($){return[$.rgba>>24&255,$.rgba>>16&255,$.rgba>>8&255]}}(N||(f.color=N={})),function(B){let ce,$;if(!P.isNode){const V=document.createElement("canvas");V.width=1,V.height=1;const k=V.getContext("2d",{willReadFrequently:!0});k&&(ce=k,ce.globalCompositeOperation="copy",$=ce.createLinearGradient(0,0,1,1))}B.toColor=function(V){if(V.match(/#[\da-f]{3,8}/i))switch(V.length){case 4:return x=parseInt(V.slice(1,2).repeat(2),16),r=parseInt(V.slice(2,3).repeat(2),16),R=parseInt(V.slice(3,4).repeat(2),16),E.toColor(x,r,R);case 5:return x=parseInt(V.slice(1,2).repeat(2),16),r=parseInt(V.slice(2,3).repeat(2),16),R=parseInt(V.slice(3,4).repeat(2),16),L=parseInt(V.slice(4,5).repeat(2),16),E.toColor(x,r,R,L);case 7:return{css:V,rgba:(parseInt(V.slice(1),16)<<8|255)>>>0};case 9:return{css:V,rgba:parseInt(V.slice(1),16)>>>0}}const k=V.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(k)return x=parseInt(k[1]),r=parseInt(k[2]),R=parseInt(k[3]),L=Math.round(255*(void 0===k[5]?1:parseFloat(k[5]))),E.toColor(x,r,R,L);if(!ce||!$)throw new Error("css.toColor: Unsupported css format");if(ce.fillStyle=$,ce.fillStyle=V,"string"!=typeof ce.fillStyle)throw new Error("css.toColor: Unsupported css format");if(ce.fillRect(0,0,1,1),[x,r,R,L]=ce.getImageData(0,0,1,1).data,255!==L)throw new Error("css.toColor: Unsupported css format");return{rgba:Q.toRgba(x,r,R,L),css:V}}}(T||(f.css=T={})),function(B){function ce($,V,k){const O=$/255,K=V/255,ue=k/255;return.2126*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.7152*(K<=.03928?K/12.92:Math.pow((K+.055)/1.055,2.4))+.0722*(ue<=.03928?ue/12.92:Math.pow((ue+.055)/1.055,2.4))}B.relativeLuminance=function($){return ce($>>16&255,$>>8&255,255&$)},B.relativeLuminance2=ce}(y||(f.rgb=y={})),function(B){function ce(V,k,O){const K=V>>24&255,ue=V>>16&255,q=V>>8&255;let G=k>>24&255,ne=k>>16&255,Ce=k>>8&255,oe=U(y.relativeLuminance2(G,ne,Ce),y.relativeLuminance2(K,ue,q));for(;oe<O&&(G>0||ne>0||Ce>0);)G-=Math.max(0,Math.ceil(.1*G)),ne-=Math.max(0,Math.ceil(.1*ne)),Ce-=Math.max(0,Math.ceil(.1*Ce)),oe=U(y.relativeLuminance2(G,ne,Ce),y.relativeLuminance2(K,ue,q));return(G<<24|ne<<16|Ce<<8|255)>>>0}function $(V,k,O){const K=V>>24&255,ue=V>>16&255,q=V>>8&255;let G=k>>24&255,ne=k>>16&255,Ce=k>>8&255,oe=U(y.relativeLuminance2(G,ne,Ce),y.relativeLuminance2(K,ue,q));for(;oe<O&&(G<255||ne<255||Ce<255);)G=Math.min(255,G+Math.ceil(.1*(255-G))),ne=Math.min(255,ne+Math.ceil(.1*(255-ne))),Ce=Math.min(255,Ce+Math.ceil(.1*(255-Ce))),oe=U(y.relativeLuminance2(G,ne,Ce),y.relativeLuminance2(K,ue,q));return(G<<24|ne<<16|Ce<<8|255)>>>0}B.ensureContrastRatio=function(V,k,O){const K=y.relativeLuminance(V>>8),ue=y.relativeLuminance(k>>8);if(U(K,ue)<O){if(ue<K){const ne=ce(V,k,O),Ce=U(K,y.relativeLuminance(ne>>8));if(Ce<O){const oe=$(V,k,O);return Ce>U(K,y.relativeLuminance(oe>>8))?ne:oe}return ne}const q=$(V,k,O),G=U(K,y.relativeLuminance(q>>8));if(G<O){const ne=ce(V,k,O);return G>U(K,y.relativeLuminance(ne>>8))?q:ne}return q}},B.reduceLuminance=ce,B.increaseLuminance=$,B.toChannels=function(V){return[V>>24&255,V>>16&255,V>>8&255,255&V]},B.toColor=function(V,k,O,K){return{css:Q.toCss(V,k,O,K),rgba:Q.toRgba(V,k,O,K)}}}(E||(f.rgba=E={})),f.toPaddedHex=D,f.contrastRatio=U},8969:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CoreTerminal=void 0;const P=_(844),x=_(2585),r=_(4348),R=_(7866),L=_(744),Q=_(7302),N=_(6975),T=_(8460),y=_(1753),E=_(1480),D=_(7994),U=_(9282),B=_(5435),ce=_(5981),$=_(2660);let V=!1;f.CoreTerminal=class k extends P.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new T.EventEmitter),this._onScroll.event(K=>{var ue;null===(ue=this._onScrollApi)||void 0===ue||ue.fire(K.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(K){for(const ue in K)this.optionsService.options[ue]=K[ue]}constructor(K){super(),this._windowsWrappingHeuristics=this.register(new P.MutableDisposable),this._onBinary=this.register(new T.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new T.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new T.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new T.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new T.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new T.EventEmitter),this._instantiationService=new r.InstantiationService,this.optionsService=this.register(new Q.OptionsService(K)),this._instantiationService.setService(x.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(L.BufferService)),this._instantiationService.setService(x.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(R.LogService)),this._instantiationService.setService(x.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(N.CoreService)),this._instantiationService.setService(x.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(y.CoreMouseService)),this._instantiationService.setService(x.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(E.UnicodeService)),this._instantiationService.setService(x.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(D.CharsetService),this._instantiationService.setService(x.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance($.OscLinkService),this._instantiationService.setService(x.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new B.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,T.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,T.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,T.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,T.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(ue=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(ue=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new ce.WriteBuffer((ue,q)=>this._inputHandler.parse(ue,q))),this.register((0,T.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(K,ue){this._writeBuffer.write(K,ue)}writeSync(K,ue){this._logService.logLevel<=x.LogLevelEnum.WARN&&!V&&(this._logService.warn("writeSync is unreliable and will be removed soon."),V=!0),this._writeBuffer.writeSync(K,ue)}resize(K,ue){isNaN(K)||isNaN(ue)||(K=Math.max(K,L.MINIMUM_COLS),ue=Math.max(ue,L.MINIMUM_ROWS),this._bufferService.resize(K,ue))}scroll(K,ue=!1){this._bufferService.scroll(K,ue)}scrollLines(K,ue,q){this._bufferService.scrollLines(K,ue,q)}scrollPages(K){this.scrollLines(K*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(K){const ue=K-this._bufferService.buffer.ydisp;0!==ue&&this.scrollLines(ue)}registerEscHandler(K,ue){return this._inputHandler.registerEscHandler(K,ue)}registerDcsHandler(K,ue){return this._inputHandler.registerDcsHandler(K,ue)}registerCsiHandler(K,ue){return this._inputHandler.registerCsiHandler(K,ue)}registerOscHandler(K,ue){return this._inputHandler.registerOscHandler(K,ue)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let K=!1;const ue=this.optionsService.rawOptions.windowsPty;ue&&void 0!==ue.buildNumber&&void 0!==ue.buildNumber?K="conpty"===ue.backend&&ue.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(K=!0),K?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const K=[];K.push(this.onLineFeed(U.updateWindowsModeWrappedState.bind(null,this._bufferService))),K.push(this.registerCsiHandler({final:"H"},()=>((0,U.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,P.toDisposable)(()=>{for(const ue of K)ue.dispose()})}}}},8460:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.forwardEvent=f.EventEmitter=void 0,f.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=_=>(this._listeners.push(_),{dispose:()=>{if(!this._disposed)for(let P=0;P<this._listeners.length;P++)if(this._listeners[P]===_)return void this._listeners.splice(P,1)}})),this._event}fire(_,P){const x=[];for(let r=0;r<this._listeners.length;r++)x.push(this._listeners[r]);for(let r=0;r<x.length;r++)x[r].call(void 0,_,P)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},f.forwardEvent=function(_,P){return _(x=>P.fire(x))}},5435:function(u,f,_){var P=this&&this.__decorate||function(oe,z,te,W){var Y,Ae=arguments.length,Ee=Ae<3?z:null===W?W=Object.getOwnPropertyDescriptor(z,te):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(oe,z,te,W);else for(var qe=oe.length-1;qe>=0;qe--)(Y=oe[qe])&&(Ee=(Ae<3?Y(Ee):Ae>3?Y(z,te,Ee):Y(z,te))||Ee);return Ae>3&&Ee&&Object.defineProperty(z,te,Ee),Ee},x=this&&this.__param||function(oe,z){return function(te,W){z(te,W,oe)}};Object.defineProperty(f,"__esModule",{value:!0}),f.InputHandler=f.WindowsOptionsReportType=void 0;const r=_(2584),R=_(7116),L=_(2015),Q=_(844),N=_(482),T=_(8437),y=_(8460),E=_(643),D=_(511),U=_(3734),B=_(2585),ce=_(6242),$=_(6351),V=_(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},O=131072;function K(oe,z){if(oe>24)return z.setWinLines||!1;switch(oe){case 1:return!!z.restoreWin;case 2:return!!z.minimizeWin;case 3:return!!z.setWinPosition;case 4:return!!z.setWinSizePixels;case 5:return!!z.raiseWin;case 6:return!!z.lowerWin;case 7:return!!z.refreshWin;case 8:return!!z.setWinSizeChars;case 9:return!!z.maximizeWin;case 10:return!!z.fullscreenWin;case 11:return!!z.getWinState;case 13:return!!z.getWinPosition;case 14:return!!z.getWinSizePixels;case 15:return!!z.getScreenSizePixels;case 16:return!!z.getCellSizePixels;case 18:return!!z.getWinSizeChars;case 19:return!!z.getScreenSizeChars;case 20:return!!z.getIconTitle;case 21:return!!z.getWinTitle;case 22:return!!z.pushTitle;case 23:return!!z.popTitle;case 24:return!!z.setWinLines}return!1}var ue,oe;(oe=ue||(f.WindowsOptionsReportType=ue={}))[oe.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",oe[oe.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let q=0;f.InputHandler=class G extends Q.Disposable{getAttrData(){return this._curAttrData}constructor(z,te,W,Y,Ae,Ee,qe,ye,Ge=new L.EscapeSequenceParser){super(),this._bufferService=z,this._charsetService=te,this._coreService=W,this._logService=Y,this._optionsService=Ae,this._oscLinkService=Ee,this._coreMouseService=qe,this._unicodeService=ye,this._parser=Ge,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new N.StringToUtf32,this._utf8Decoder=new N.Utf8ToUtf32,this._workCell=new D.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=T.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new y.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new y.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new y.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new y.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new y.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new y.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new y.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new y.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new y.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ne(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(X=>this._activeBuffer=X.activeBuffer)),this._parser.setCsiHandlerFallback((X,be)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(X),params:be.toArray()})}),this._parser.setEscHandlerFallback(X=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(X)})}),this._parser.setExecuteHandlerFallback(X=>{this._logService.debug("Unknown EXECUTE code: ",{code:X})}),this._parser.setOscHandlerFallback((X,be,we)=>{this._logService.debug("Unknown OSC code: ",{identifier:X,action:be,data:we})}),this._parser.setDcsHandlerFallback((X,be,we)=>{"HOOK"===be&&(we=we.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(X),action:be,payload:we})}),this._parser.setPrintHandler((X,be,we)=>this.print(X,be,we)),this._parser.registerCsiHandler({final:"@"},X=>this.insertChars(X)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},X=>this.scrollLeft(X)),this._parser.registerCsiHandler({final:"A"},X=>this.cursorUp(X)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},X=>this.scrollRight(X)),this._parser.registerCsiHandler({final:"B"},X=>this.cursorDown(X)),this._parser.registerCsiHandler({final:"C"},X=>this.cursorForward(X)),this._parser.registerCsiHandler({final:"D"},X=>this.cursorBackward(X)),this._parser.registerCsiHandler({final:"E"},X=>this.cursorNextLine(X)),this._parser.registerCsiHandler({final:"F"},X=>this.cursorPrecedingLine(X)),this._parser.registerCsiHandler({final:"G"},X=>this.cursorCharAbsolute(X)),this._parser.registerCsiHandler({final:"H"},X=>this.cursorPosition(X)),this._parser.registerCsiHandler({final:"I"},X=>this.cursorForwardTab(X)),this._parser.registerCsiHandler({final:"J"},X=>this.eraseInDisplay(X,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},X=>this.eraseInDisplay(X,!0)),this._parser.registerCsiHandler({final:"K"},X=>this.eraseInLine(X,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},X=>this.eraseInLine(X,!0)),this._parser.registerCsiHandler({final:"L"},X=>this.insertLines(X)),this._parser.registerCsiHandler({final:"M"},X=>this.deleteLines(X)),this._parser.registerCsiHandler({final:"P"},X=>this.deleteChars(X)),this._parser.registerCsiHandler({final:"S"},X=>this.scrollUp(X)),this._parser.registerCsiHandler({final:"T"},X=>this.scrollDown(X)),this._parser.registerCsiHandler({final:"X"},X=>this.eraseChars(X)),this._parser.registerCsiHandler({final:"Z"},X=>this.cursorBackwardTab(X)),this._parser.registerCsiHandler({final:"`"},X=>this.charPosAbsolute(X)),this._parser.registerCsiHandler({final:"a"},X=>this.hPositionRelative(X)),this._parser.registerCsiHandler({final:"b"},X=>this.repeatPrecedingCharacter(X)),this._parser.registerCsiHandler({final:"c"},X=>this.sendDeviceAttributesPrimary(X)),this._parser.registerCsiHandler({prefix:">",final:"c"},X=>this.sendDeviceAttributesSecondary(X)),this._parser.registerCsiHandler({final:"d"},X=>this.linePosAbsolute(X)),this._parser.registerCsiHandler({final:"e"},X=>this.vPositionRelative(X)),this._parser.registerCsiHandler({final:"f"},X=>this.hVPosition(X)),this._parser.registerCsiHandler({final:"g"},X=>this.tabClear(X)),this._parser.registerCsiHandler({final:"h"},X=>this.setMode(X)),this._parser.registerCsiHandler({prefix:"?",final:"h"},X=>this.setModePrivate(X)),this._parser.registerCsiHandler({final:"l"},X=>this.resetMode(X)),this._parser.registerCsiHandler({prefix:"?",final:"l"},X=>this.resetModePrivate(X)),this._parser.registerCsiHandler({final:"m"},X=>this.charAttributes(X)),this._parser.registerCsiHandler({final:"n"},X=>this.deviceStatus(X)),this._parser.registerCsiHandler({prefix:"?",final:"n"},X=>this.deviceStatusPrivate(X)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},X=>this.softReset(X)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},X=>this.setCursorStyle(X)),this._parser.registerCsiHandler({final:"r"},X=>this.setScrollRegion(X)),this._parser.registerCsiHandler({final:"s"},X=>this.saveCursor(X)),this._parser.registerCsiHandler({final:"t"},X=>this.windowOptions(X)),this._parser.registerCsiHandler({final:"u"},X=>this.restoreCursor(X)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},X=>this.insertColumns(X)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},X=>this.deleteColumns(X)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},X=>this.selectProtected(X)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},X=>this.requestMode(X,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},X=>this.requestMode(X,!1)),this._parser.setExecuteHandler(r.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(r.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(r.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(r.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(r.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(r.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(r.C1.IND,()=>this.index()),this._parser.setExecuteHandler(r.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(r.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new ce.OscHandler(X=>(this.setTitle(X),this.setIconName(X),!0))),this._parser.registerOscHandler(1,new ce.OscHandler(X=>this.setIconName(X))),this._parser.registerOscHandler(2,new ce.OscHandler(X=>this.setTitle(X))),this._parser.registerOscHandler(4,new ce.OscHandler(X=>this.setOrReportIndexedColor(X))),this._parser.registerOscHandler(8,new ce.OscHandler(X=>this.setHyperlink(X))),this._parser.registerOscHandler(10,new ce.OscHandler(X=>this.setOrReportFgColor(X))),this._parser.registerOscHandler(11,new ce.OscHandler(X=>this.setOrReportBgColor(X))),this._parser.registerOscHandler(12,new ce.OscHandler(X=>this.setOrReportCursorColor(X))),this._parser.registerOscHandler(104,new ce.OscHandler(X=>this.restoreIndexedColor(X))),this._parser.registerOscHandler(110,new ce.OscHandler(X=>this.restoreFgColor(X))),this._parser.registerOscHandler(111,new ce.OscHandler(X=>this.restoreBgColor(X))),this._parser.registerOscHandler(112,new ce.OscHandler(X=>this.restoreCursorColor(X))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const X in R.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:X},()=>this.selectCharset("("+X)),this._parser.registerEscHandler({intermediates:")",final:X},()=>this.selectCharset(")"+X)),this._parser.registerEscHandler({intermediates:"*",final:X},()=>this.selectCharset("*"+X)),this._parser.registerEscHandler({intermediates:"+",final:X},()=>this.selectCharset("+"+X)),this._parser.registerEscHandler({intermediates:"-",final:X},()=>this.selectCharset("-"+X)),this._parser.registerEscHandler({intermediates:".",final:X},()=>this.selectCharset("."+X)),this._parser.registerEscHandler({intermediates:"/",final:X},()=>this.selectCharset("/"+X));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(X=>(this._logService.error("Parsing error: ",X),X)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new $.DcsHandler((X,be)=>this.requestStatusString(X,be)))}_preserveStack(z,te,W,Y){this._parseStack.paused=!0,this._parseStack.cursorStartX=z,this._parseStack.cursorStartY=te,this._parseStack.decodedLength=W,this._parseStack.position=Y}_logSlowResolvingAsync(z){this._logService.logLevel<=B.LogLevelEnum.WARN&&Promise.race([z,new Promise((te,W)=>setTimeout(()=>W("#SLOW_TIMEOUT"),5e3))]).catch(te=>{if("#SLOW_TIMEOUT"!==te)throw te;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(z,te){let W,Y=this._activeBuffer.x,Ae=this._activeBuffer.y,Ee=0;const qe=this._parseStack.paused;if(qe){if(W=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,te))return this._logSlowResolvingAsync(W),W;Y=this._parseStack.cursorStartX,Ae=this._parseStack.cursorStartY,this._parseStack.paused=!1,z.length>O&&(Ee=this._parseStack.position+O)}if(this._logService.logLevel<=B.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof z?` "${z}"`:` "${Array.prototype.map.call(z,ye=>String.fromCharCode(ye)).join("")}"`),"string"==typeof z?z.split("").map(ye=>ye.charCodeAt(0)):z),this._parseBuffer.length<z.length&&this._parseBuffer.length<O&&(this._parseBuffer=new Uint32Array(Math.min(z.length,O))),qe||this._dirtyRowTracker.clearRange(),z.length>O)for(let ye=Ee;ye<z.length;ye+=O){const Ge=ye+O<z.length?ye+O:z.length,X="string"==typeof z?this._stringDecoder.decode(z.substring(ye,Ge),this._parseBuffer):this._utf8Decoder.decode(z.subarray(ye,Ge),this._parseBuffer);if(W=this._parser.parse(this._parseBuffer,X))return this._preserveStack(Y,Ae,X,ye),this._logSlowResolvingAsync(W),W}else if(!qe){const ye="string"==typeof z?this._stringDecoder.decode(z,this._parseBuffer):this._utf8Decoder.decode(z,this._parseBuffer);if(W=this._parser.parse(this._parseBuffer,ye))return this._preserveStack(Y,Ae,ye,0),this._logSlowResolvingAsync(W),W}this._activeBuffer.x===Y&&this._activeBuffer.y===Ae||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(z,te,W){let Y,Ae;const Ee=this._charsetService.charset,qe=this._optionsService.rawOptions.screenReaderMode,ye=this._bufferService.cols,Ge=this._coreService.decPrivateModes.wraparound,X=this._coreService.modes.insertMode,be=this._curAttrData;let we=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&W-te>0&&2===we.getWidth(this._activeBuffer.x-1)&&we.setCellFromCodePoint(this._activeBuffer.x-1,0,1,be.fg,be.bg,be.extended);for(let Ie=te;Ie<W;++Ie){if(Y=z[Ie],Ae=this._unicodeService.wcwidth(Y),Y<127&&Ee){const ct=Ee[String.fromCharCode(Y)];ct&&(Y=ct.charCodeAt(0))}if(qe&&this._onA11yChar.fire((0,N.stringFromCodePoint)(Y)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),Ae||!this._activeBuffer.x){if(this._activeBuffer.x+Ae-1>=ye)if(Ge){for(;this._activeBuffer.x<ye;)we.setCellFromCodePoint(this._activeBuffer.x++,0,1,be.fg,be.bg,be.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),we=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ye-1,2===Ae)continue;if(X&&(we.insertCells(this._activeBuffer.x,Ae,this._activeBuffer.getNullCell(be),be),2===we.getWidth(ye-1)&&we.setCellFromCodePoint(ye-1,E.NULL_CELL_CODE,E.NULL_CELL_WIDTH,be.fg,be.bg,be.extended)),we.setCellFromCodePoint(this._activeBuffer.x++,Y,Ae,be.fg,be.bg,be.extended),Ae>0)for(;--Ae;)we.setCellFromCodePoint(this._activeBuffer.x++,0,0,be.fg,be.bg,be.extended)}else we.getWidth(this._activeBuffer.x-1)?we.addCodepointToCell(this._activeBuffer.x-1,Y):we.addCodepointToCell(this._activeBuffer.x-2,Y)}W-te>0&&(we.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<ye&&W-te>0&&0===we.getWidth(this._activeBuffer.x)&&!we.hasContent(this._activeBuffer.x)&&we.setCellFromCodePoint(this._activeBuffer.x,0,1,be.fg,be.bg,be.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(z,te){return this._parser.registerCsiHandler(z,"t"!==z.final||z.prefix||z.intermediates?te:W=>!K(W.params[0],this._optionsService.rawOptions.windowOptions)||te(W))}registerDcsHandler(z,te){return this._parser.registerDcsHandler(z,new $.DcsHandler(te))}registerEscHandler(z,te){return this._parser.registerEscHandler(z,te)}registerOscHandler(z,te){return this._parser.registerOscHandler(z,new ce.OscHandler(te))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var z;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===z?void 0:z.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);te.hasWidth(this._activeBuffer.x)&&!te.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const z=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-z),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(z=this._bufferService.cols-1){this._activeBuffer.x=Math.min(z,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(z,te){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=z,this._activeBuffer.y=this._activeBuffer.scrollTop+te):(this._activeBuffer.x=z,this._activeBuffer.y=te),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(z,te){this._restrictCursor(),this._setCursor(this._activeBuffer.x+z,this._activeBuffer.y+te)}cursorUp(z){const te=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,te>=0?-Math.min(te,z.params[0]||1):-(z.params[0]||1)),!0}cursorDown(z){const te=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,te>=0?Math.min(te,z.params[0]||1):z.params[0]||1),!0}cursorForward(z){return this._moveCursor(z.params[0]||1,0),!0}cursorBackward(z){return this._moveCursor(-(z.params[0]||1),0),!0}cursorNextLine(z){return this.cursorDown(z),this._activeBuffer.x=0,!0}cursorPrecedingLine(z){return this.cursorUp(z),this._activeBuffer.x=0,!0}cursorCharAbsolute(z){return this._setCursor((z.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(z){return this._setCursor(z.length>=2?(z.params[1]||1)-1:0,(z.params[0]||1)-1),!0}charPosAbsolute(z){return this._setCursor((z.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(z){return this._moveCursor(z.params[0]||1,0),!0}linePosAbsolute(z){return this._setCursor(this._activeBuffer.x,(z.params[0]||1)-1),!0}vPositionRelative(z){return this._moveCursor(0,z.params[0]||1),!0}hVPosition(z){return this.cursorPosition(z),!0}tabClear(z){const te=z.params[0];return 0===te?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===te&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(z){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let te=z.params[0]||1;for(;te--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(z){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let te=z.params[0]||1;for(;te--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(z){const te=z.params[0];return 1===te&&(this._curAttrData.bg|=536870912),2!==te&&0!==te||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(z,te,W,Y=!1,Ae=!1){const Ee=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);Ee.replaceCells(te,W,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),Ae),Y&&(Ee.isWrapped=!1)}_resetBufferLine(z,te=!1){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);W&&(W.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),te),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+z),W.isWrapped=!1)}eraseInDisplay(z,te=!1){let W;switch(this._restrictCursor(this._bufferService.cols),z.params[0]){case 0:for(W=this._activeBuffer.y,this._dirtyRowTracker.markDirty(W),this._eraseInBufferLine(W++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,te);W<this._bufferService.rows;W++)this._resetBufferLine(W,te);this._dirtyRowTracker.markDirty(W);break;case 1:for(W=this._activeBuffer.y,this._dirtyRowTracker.markDirty(W),this._eraseInBufferLine(W,0,this._activeBuffer.x+1,!0,te),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(W+1).isWrapped=!1);W--;)this._resetBufferLine(W,te);this._dirtyRowTracker.markDirty(0);break;case 2:for(W=this._bufferService.rows,this._dirtyRowTracker.markDirty(W-1);W--;)this._resetBufferLine(W,te);this._dirtyRowTracker.markDirty(0);break;case 3:const Y=this._activeBuffer.lines.length-this._bufferService.rows;Y>0&&(this._activeBuffer.lines.trimStart(Y),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-Y,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-Y,0),this._onScroll.fire(0))}return!0}eraseInLine(z,te=!1){switch(this._restrictCursor(this._bufferService.cols),z.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,te);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,te);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,te)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(z){this._restrictCursor();let te=z.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const W=this._activeBuffer.ybase+this._activeBuffer.y,Ae=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;te--;)this._activeBuffer.lines.splice(Ae-1,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(z){this._restrictCursor();let te=z.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const W=this._activeBuffer.ybase+this._activeBuffer.y;let Y;for(Y=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Y=this._bufferService.rows-1+this._activeBuffer.ybase-Y;te--;)this._activeBuffer.lines.splice(W,1),this._activeBuffer.lines.splice(Y,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(z){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.insertCells(this._activeBuffer.x,z.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(z){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.deleteCells(this._activeBuffer.x,z.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(z){let te=z.params[0]||1;for(;te--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(z){let te=z.params[0]||1;for(;te--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(T.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=z.params[0]||1;for(let W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);Y.deleteCells(0,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),Y.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=z.params[0]||1;for(let W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);Y.insertCells(0,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),Y.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=z.params[0]||1;for(let W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);Y.insertCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),Y.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=z.params[0]||1;for(let W=this._activeBuffer.scrollTop;W<=this._activeBuffer.scrollBottom;++W){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);Y.deleteCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),Y.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(z){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(z.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(z){if(!this._parser.precedingCodepoint)return!0;const te=z.params[0]||1,W=new Uint32Array(te);for(let Y=0;Y<te;++Y)W[Y]=this._parser.precedingCodepoint;return this.print(W,0,W.length),!0}sendDeviceAttributesPrimary(z){return z.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(r.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(r.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(z){return z.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(r.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(r.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(z.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(r.C0.ESC+"[>83;40003;0c")),!0}_is(z){return 0===(this._optionsService.rawOptions.termName+"").indexOf(z)}setMode(z){for(let te=0;te<z.length;te++)switch(z.params[te]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(z){for(let te=0;te<z.length;te++)switch(z.params[te]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,R.DEFAULT_CHARSET),this._charsetService.setgCharset(1,R.DEFAULT_CHARSET),this._charsetService.setgCharset(2,R.DEFAULT_CHARSET),this._charsetService.setgCharset(3,R.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(z){for(let te=0;te<z.length;te++)switch(z.params[te]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(z){for(let te=0;te<z.length;te++)switch(z.params[te]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===z.params[te]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(z,te){const W=this._coreService.decPrivateModes,{activeProtocol:Y,activeEncoding:Ae}=this._coreMouseService,Ee=this._coreService,{buffers:qe,cols:ye}=this._bufferService,{active:Ge,alt:X}=qe,be=this._optionsService.rawOptions,we=et=>et?1:2,Ie=z.params[0];return ct=Ie,dt=te?2===Ie?4:4===Ie?we(Ee.modes.insertMode):12===Ie?3:20===Ie?we(be.convertEol):0:1===Ie?we(W.applicationCursorKeys):3===Ie?be.windowOptions.setWinLines?80===ye?2:132===ye?1:0:0:6===Ie?we(W.origin):7===Ie?we(W.wraparound):8===Ie?3:9===Ie?we("X10"===Y):12===Ie?we(be.cursorBlink):25===Ie?we(!Ee.isCursorHidden):45===Ie?we(W.reverseWraparound):66===Ie?we(W.applicationKeypad):67===Ie?4:1e3===Ie?we("VT200"===Y):1002===Ie?we("DRAG"===Y):1003===Ie?we("ANY"===Y):1004===Ie?we(W.sendFocus):1005===Ie?4:1006===Ie?we("SGR"===Ae):1015===Ie?4:1016===Ie?we("SGR_PIXELS"===Ae):1048===Ie?1:47===Ie||1047===Ie||1049===Ie?we(Ge===X):2004===Ie?we(W.bracketedPasteMode):0,Ee.triggerDataEvent(`${r.C0.ESC}[${te?"":"?"}${ct};${dt}$y`),!0;var ct,dt}_updateAttrColor(z,te,W,Y,Ae){return 2===te?(z|=50331648,z&=-16777216,z|=U.AttributeData.fromColorRGB([W,Y,Ae])):5===te&&(z&=-50331904,z|=33554432|255&W),z}_extractColor(z,te,W){const Y=[0,0,-1,0,0,0];let Ae=0,Ee=0;do{if(Y[Ee+Ae]=z.params[te+Ee],z.hasSubParams(te+Ee)){const qe=z.getSubParams(te+Ee);let ye=0;do{5===Y[1]&&(Ae=1),Y[Ee+ye+1+Ae]=qe[ye]}while(++ye<qe.length&&ye+Ee+1+Ae<Y.length);break}if(5===Y[1]&&Ee+Ae>=2||2===Y[1]&&Ee+Ae>=5)break;Y[1]&&(Ae=1)}while(++Ee+te<z.length&&Ee+Ae<Y.length);for(let qe=2;qe<Y.length;++qe)-1===Y[qe]&&(Y[qe]=0);switch(Y[0]){case 38:W.fg=this._updateAttrColor(W.fg,Y[1],Y[3],Y[4],Y[5]);break;case 48:W.bg=this._updateAttrColor(W.bg,Y[1],Y[3],Y[4],Y[5]);break;case 58:W.extended=W.extended.clone(),W.extended.underlineColor=this._updateAttrColor(W.extended.underlineColor,Y[1],Y[3],Y[4],Y[5])}return Ee}_processUnderline(z,te){te.extended=te.extended.clone(),(!~z||z>5)&&(z=1),te.extended.underlineStyle=z,te.fg|=268435456,0===z&&(te.fg&=-268435457),te.updateExtended()}_processSGR0(z){z.fg=T.DEFAULT_ATTR_DATA.fg,z.bg=T.DEFAULT_ATTR_DATA.bg,z.extended=z.extended.clone(),z.extended.underlineStyle=0,z.extended.underlineColor&=-67108864,z.updateExtended()}charAttributes(z){if(1===z.length&&0===z.params[0])return this._processSGR0(this._curAttrData),!0;const te=z.length;let W;const Y=this._curAttrData;for(let Ae=0;Ae<te;Ae++)W=z.params[Ae],W>=30&&W<=37?(Y.fg&=-50331904,Y.fg|=16777216|W-30):W>=40&&W<=47?(Y.bg&=-50331904,Y.bg|=16777216|W-40):W>=90&&W<=97?(Y.fg&=-50331904,Y.fg|=16777224|W-90):W>=100&&W<=107?(Y.bg&=-50331904,Y.bg|=16777224|W-100):0===W?this._processSGR0(Y):1===W?Y.fg|=134217728:3===W?Y.bg|=67108864:4===W?(Y.fg|=268435456,this._processUnderline(z.hasSubParams(Ae)?z.getSubParams(Ae)[0]:1,Y)):5===W?Y.fg|=536870912:7===W?Y.fg|=67108864:8===W?Y.fg|=1073741824:9===W?Y.fg|=2147483648:2===W?Y.bg|=134217728:21===W?this._processUnderline(2,Y):22===W?(Y.fg&=-134217729,Y.bg&=-134217729):23===W?Y.bg&=-67108865:24===W?(Y.fg&=-268435457,this._processUnderline(0,Y)):25===W?Y.fg&=-536870913:27===W?Y.fg&=-67108865:28===W?Y.fg&=-1073741825:29===W?Y.fg&=2147483647:39===W?(Y.fg&=-67108864,Y.fg|=16777215&T.DEFAULT_ATTR_DATA.fg):49===W?(Y.bg&=-67108864,Y.bg|=16777215&T.DEFAULT_ATTR_DATA.bg):38===W||48===W||58===W?Ae+=this._extractColor(z,Ae,Y):53===W?Y.bg|=1073741824:55===W?Y.bg&=-1073741825:59===W?(Y.extended=Y.extended.clone(),Y.extended.underlineColor=-1,Y.updateExtended()):100===W?(Y.fg&=-67108864,Y.fg|=16777215&T.DEFAULT_ATTR_DATA.fg,Y.bg&=-67108864,Y.bg|=16777215&T.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",W);return!0}deviceStatus(z){switch(z.params[0]){case 5:this._coreService.triggerDataEvent(`${r.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${r.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(z){return 6===z.params[0]&&this._coreService.triggerDataEvent(`${r.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(z){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(z){const te=z.params[0]||1;switch(te){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=te%2==1,!0}setScrollRegion(z){const te=z.params[0]||1;let W;return(z.length<2||(W=z.params[1])>this._bufferService.rows||0===W)&&(W=this._bufferService.rows),W>te&&(this._activeBuffer.scrollTop=te-1,this._activeBuffer.scrollBottom=W-1,this._setCursor(0,0)),!0}windowOptions(z){if(!K(z.params[0],this._optionsService.rawOptions.windowOptions))return!0;const te=z.length>1?z.params[1]:0;switch(z.params[0]){case 14:2!==te&&this._onRequestWindowsOptionsReport.fire(ue.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(ue.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${r.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==te&&2!==te||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==te&&1!==te||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==te&&2!==te||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==te&&1!==te||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(z){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(z){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(z){return this._windowTitle=z,this._onTitleChange.fire(z),!0}setIconName(z){return this._iconName=z,!0}setOrReportIndexedColor(z){const te=[],W=z.split(";");for(;W.length>1;){const Y=W.shift(),Ae=W.shift();if(/^\d+$/.exec(Y)){const Ee=parseInt(Y);if(Ce(Ee))if("?"===Ae)te.push({type:0,index:Ee});else{const qe=(0,V.parseColor)(Ae);qe&&te.push({type:1,index:Ee,color:qe})}}}return te.length&&this._onColor.fire(te),!0}setHyperlink(z){const te=z.split(";");return!(te.length<2)&&(te[1]?this._createHyperlink(te[0],te[1]):!te[0]&&this._finishHyperlink())}_createHyperlink(z,te){this._getCurrentLinkId()&&this._finishHyperlink();const W=z.split(":");let Y;const Ae=W.findIndex(Ee=>Ee.startsWith("id="));return-1!==Ae&&(Y=W[Ae].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:Y,uri:te}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(z,te){const W=z.split(";");for(let Y=0;Y<W.length&&!(te>=this._specialColors.length);++Y,++te)if("?"===W[Y])this._onColor.fire([{type:0,index:this._specialColors[te]}]);else{const Ae=(0,V.parseColor)(W[Y]);Ae&&this._onColor.fire([{type:1,index:this._specialColors[te],color:Ae}])}return!0}setOrReportFgColor(z){return this._setOrReportSpecialColor(z,0)}setOrReportBgColor(z){return this._setOrReportSpecialColor(z,1)}setOrReportCursorColor(z){return this._setOrReportSpecialColor(z,2)}restoreIndexedColor(z){if(!z)return this._onColor.fire([{type:2}]),!0;const te=[],W=z.split(";");for(let Y=0;Y<W.length;++Y)if(/^\d+$/.exec(W[Y])){const Ae=parseInt(W[Y]);Ce(Ae)&&te.push({type:2,index:Ae})}return te.length&&this._onColor.fire(te),!0}restoreFgColor(z){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(z){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(z){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,R.DEFAULT_CHARSET),!0}selectCharset(z){return 2!==z.length?(this.selectDefaultCharset(),!0):("/"===z[0]||this._charsetService.setgCharset(k[z[0]],R.CHARSETS[z[1]]||R.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=T.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(z){return this._charsetService.setgLevel(z),!0}screenAlignmentPattern(){const z=new D.CellData;z.content=4194304|"E".charCodeAt(0),z.fg=this._curAttrData.fg,z.bg=this._curAttrData.bg,this._setCursor(0,0);for(let te=0;te<this._bufferService.rows;++te){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+te);Y&&(Y.fill(z),Y.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(z,te){const W=this._bufferService.buffer,Y=this._optionsService.rawOptions;return(Ae=>(this._coreService.triggerDataEvent(`${r.C0.ESC}${Ae}${r.C0.ESC}\\`),!0))('"q'===z?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===z?'P1$r61;1"p':"r"===z?`P1$r${W.scrollTop+1};${W.scrollBottom+1}r`:"m"===z?"P1$r0m":" q"===z?`P1$r${{block:2,underline:4,bar:6}[Y.cursorStyle]-(Y.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(z,te){this._dirtyRowTracker.markRangeDirty(z,te)}};let ne=class{constructor(oe){this._bufferService=oe,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(oe){oe<this.start?this.start=oe:oe>this.end&&(this.end=oe)}markRangeDirty(oe,z){oe>z&&(q=oe,oe=z,z=q),oe<this.start&&(this.start=oe),z>this.end&&(this.end=z)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Ce(oe){return 0<=oe&&oe<256}ne=P([x(0,B.IBufferService)],ne)},844:(u,f)=>{function _(P){for(const x of P)x.dispose();P.length=0}Object.defineProperty(f,"__esModule",{value:!0}),f.getDisposeArrayDisposable=f.disposeArray=f.toDisposable=f.MutableDisposable=f.Disposable=void 0,f.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const P of this._disposables)P.dispose();this._disposables.length=0}register(P){return this._disposables.push(P),P}unregister(P){const x=this._disposables.indexOf(P);-1!==x&&this._disposables.splice(x,1)}},f.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(P){var x;this._isDisposed||P===this._value||(null===(x=this._value)||void 0===x||x.dispose(),this._value=P)}clear(){this.value=void 0}dispose(){var P;this._isDisposed=!0,null===(P=this._value)||void 0===P||P.dispose(),this._value=void 0}},f.toDisposable=function(P){return{dispose:P}},f.disposeArray=_,f.getDisposeArrayDisposable=function(P){return{dispose:()=>_(P)}}},1505:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FourKeyMap=f.TwoKeyMap=void 0;class _{constructor(){this._data={}}set(x,r,R){this._data[x]||(this._data[x]={}),this._data[x][r]=R}get(x,r){return this._data[x]?this._data[x][r]:void 0}clear(){this._data={}}}f.TwoKeyMap=_,f.FourKeyMap=class{constructor(){this._data=new _}set(P,x,r,R,L){this._data.get(P,x)||this._data.set(P,x,new _),this._data.get(P,x).set(r,R,L)}get(P,x,r,R){var L;return null===(L=this._data.get(P,x))||void 0===L?void 0:L.get(r,R)}clear(){this._data.clear()}}},6114:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.isChromeOS=f.isLinux=f.isWindows=f.isIphone=f.isIpad=f.isMac=f.getSafariVersion=f.isSafari=f.isLegacyEdge=f.isFirefox=f.isNode=void 0,f.isNode="undefined"==typeof navigator;const _=f.isNode?"node":navigator.userAgent,P=f.isNode?"node":navigator.platform;f.isFirefox=_.includes("Firefox"),f.isLegacyEdge=_.includes("Edge"),f.isSafari=/^((?!chrome|android).)*safari/i.test(_),f.getSafariVersion=function(){if(!f.isSafari)return 0;const x=_.match(/Version\/(\d+)/);return null===x||x.length<2?0:parseInt(x[1])},f.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(P),f.isIpad="iPad"===P,f.isIphone="iPhone"===P,f.isWindows=["Windows","Win16","Win32","WinCE"].includes(P),f.isLinux=P.indexOf("Linux")>=0,f.isChromeOS=/\bCrOS\b/.test(_)},6106:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SortedList=void 0;let _=0;f.SortedList=class{constructor(P){this._getKey=P,this._array=[]}clear(){this._array.length=0}insert(P){0!==this._array.length?(_=this._search(this._getKey(P)),this._array.splice(_,0,P)):this._array.push(P)}delete(P){if(0===this._array.length)return!1;const x=this._getKey(P);if(void 0===x||(_=this._search(x),-1===_)||this._getKey(this._array[_])!==x)return!1;do{if(this._array[_]===P)return this._array.splice(_,1),!0}while(++_<this._array.length&&this._getKey(this._array[_])===x);return!1}*getKeyIterator(P){if(0!==this._array.length&&(_=this._search(P),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===P))do{yield this._array[_]}while(++_<this._array.length&&this._getKey(this._array[_])===P)}forEachByKey(P,x){if(0!==this._array.length&&(_=this._search(P),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===P))do{x(this._array[_])}while(++_<this._array.length&&this._getKey(this._array[_])===P)}values(){return[...this._array].values()}_search(P){let x=0,r=this._array.length-1;for(;r>=x;){let R=x+r>>1;const L=this._getKey(this._array[R]);if(L>P)r=R-1;else{if(!(L<P)){for(;R>0&&this._getKey(this._array[R-1])===P;)R--;return R}x=R+1}}return x}}},7226:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DebouncedIdleTask=f.IdleTaskQueue=f.PriorityTaskQueue=void 0;const P=_(6114);class x{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let Q=0,N=0,T=L.timeRemaining(),y=0;for(;this._i<this._tasks.length;){if(Q=Date.now(),this._tasks[this._i]()||this._i++,Q=Math.max(1,Date.now()-Q),N=Math.max(Q,N),y=L.timeRemaining(),1.5*N>y)return T-Q<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(T-Q))}ms`),void this._start();T=y}this.clear()}}class r extends x{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){const Q=Date.now()+L;return{timeRemaining:()=>Math.max(0,Q-Date.now())}}}f.PriorityTaskQueue=r,f.IdleTaskQueue=!P.isNode&&"requestIdleCallback"in window?class extends x{_requestCallback(R){return requestIdleCallback(R)}_cancelCallback(R){cancelIdleCallback(R)}}:r,f.DebouncedIdleTask=class{constructor(){this._queue=new f.IdleTaskQueue}set(R){this._queue.clear(),this._queue.enqueue(R)}flush(){this._queue.flush()}}},9282:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.updateWindowsModeWrappedState=void 0;const P=_(643);f.updateWindowsModeWrappedState=function(x){const r=x.buffer.lines.get(x.buffer.ybase+x.buffer.y-1),R=null==r?void 0:r.get(x.cols-1),L=x.buffer.lines.get(x.buffer.ybase+x.buffer.y);L&&R&&(L.isWrapped=R[P.CHAR_DATA_CODE_INDEX]!==P.NULL_CELL_CODE&&R[P.CHAR_DATA_CODE_INDEX]!==P.WHITESPACE_CELL_CODE)}},3734:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ExtendedAttrs=f.AttributeData=void 0;class _{constructor(){this.fg=0,this.bg=0,this.extended=new P}static toColorRGB(r){return[r>>>16&255,r>>>8&255,255&r]}static fromColorRGB(r){return(255&r[0])<<16|(255&r[1])<<8|255&r[2]}clone(){const r=new _;return r.fg=this.fg,r.bg=this.bg,r.extended=this.extended.clone(),r}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}f.AttributeData=_;class P{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(r){this._ext=r}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(r){this._ext&=-469762049,this._ext|=r<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(r){this._ext&=-67108864,this._ext|=67108863&r}get urlId(){return this._urlId}set urlId(r){this._urlId=r}constructor(r=0,R=0){this._ext=0,this._urlId=0,this._ext=r,this._urlId=R}clone(){return new P(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}f.ExtendedAttrs=P},9092:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Buffer=f.MAX_BUFFER_SIZE=void 0;const P=_(6349),x=_(7226),r=_(3734),R=_(8437),L=_(4634),Q=_(511),N=_(643),T=_(4863),y=_(7116);f.MAX_BUFFER_SIZE=4294967295,f.Buffer=class{constructor(E,D,U){this._hasScrollback=E,this._optionsService=D,this._bufferService=U,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=R.DEFAULT_ATTR_DATA.clone(),this.savedCharset=y.DEFAULT_CHARSET,this.markers=[],this._nullCell=Q.CellData.fromCharData([0,N.NULL_CELL_CHAR,N.NULL_CELL_WIDTH,N.NULL_CELL_CODE]),this._whitespaceCell=Q.CellData.fromCharData([0,N.WHITESPACE_CELL_CHAR,N.WHITESPACE_CELL_WIDTH,N.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new x.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new P.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(E){return E?(this._nullCell.fg=E.fg,this._nullCell.bg=E.bg,this._nullCell.extended=E.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new r.ExtendedAttrs),this._nullCell}getWhitespaceCell(E){return E?(this._whitespaceCell.fg=E.fg,this._whitespaceCell.bg=E.bg,this._whitespaceCell.extended=E.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new r.ExtendedAttrs),this._whitespaceCell}getBlankLine(E,D){return new R.BufferLine(this._bufferService.cols,this.getNullCell(E),D)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const E=this.ybase+this.y-this.ydisp;return E>=0&&E<this._rows}_getCorrectBufferLength(E){if(!this._hasScrollback)return E;const D=E+this._optionsService.rawOptions.scrollback;return D>f.MAX_BUFFER_SIZE?f.MAX_BUFFER_SIZE:D}fillViewportRows(E){if(0===this.lines.length){void 0===E&&(E=R.DEFAULT_ATTR_DATA);let D=this._rows;for(;D--;)this.lines.push(this.getBlankLine(E))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new P.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(E,D){const U=this.getNullCell(R.DEFAULT_ATTR_DATA);let B=0;const ce=this._getCorrectBufferLength(D);if(ce>this.lines.maxLength&&(this.lines.maxLength=ce),this.lines.length>0){if(this._cols<E)for(let V=0;V<this.lines.length;V++)B+=+this.lines.get(V).resize(E,U);let $=0;if(this._rows<D)for(let V=this._rows;V<D;V++)this.lines.length<D+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new R.BufferLine(E,U)):this.ybase>0&&this.lines.length<=this.ybase+this.y+$+1?(this.ybase--,$++,this.ydisp>0&&this.ydisp--):this.lines.push(new R.BufferLine(E,U)));else for(let V=this._rows;V>D;V--)this.lines.length>D+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(ce<this.lines.maxLength){const V=this.lines.length-ce;V>0&&(this.lines.trimStart(V),this.ybase=Math.max(this.ybase-V,0),this.ydisp=Math.max(this.ydisp-V,0),this.savedY=Math.max(this.savedY-V,0)),this.lines.maxLength=ce}this.x=Math.min(this.x,E-1),this.y=Math.min(this.y,D-1),$&&(this.y+=$),this.savedX=Math.min(this.savedX,E-1),this.scrollTop=0}if(this.scrollBottom=D-1,this._isReflowEnabled&&(this._reflow(E,D),this._cols>E))for(let $=0;$<this.lines.length;$++)B+=+this.lines.get($).resize(E,U);this._cols=E,this._rows=D,this._memoryCleanupQueue.clear(),B>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let E=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,E=!1);let D=0;for(;this._memoryCleanupPosition<this.lines.length;)if(D+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),D>100)return!0;return E}get _isReflowEnabled(){const E=this._optionsService.rawOptions.windowsPty;return E&&E.buildNumber?this._hasScrollback&&"conpty"===E.backend&&E.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(E,D){this._cols!==E&&(E>this._cols?this._reflowLarger(E,D):this._reflowSmaller(E,D))}_reflowLarger(E,D){const U=(0,L.reflowLargerGetLinesToRemove)(this.lines,this._cols,E,this.ybase+this.y,this.getNullCell(R.DEFAULT_ATTR_DATA));if(U.length>0){const B=(0,L.reflowLargerCreateNewLayout)(this.lines,U);(0,L.reflowLargerApplyNewLayout)(this.lines,B.layout),this._reflowLargerAdjustViewport(E,D,B.countRemoved)}}_reflowLargerAdjustViewport(E,D,U){const B=this.getNullCell(R.DEFAULT_ATTR_DATA);let ce=U;for(;ce-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<D&&this.lines.push(new R.BufferLine(E,B))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-U,0)}_reflowSmaller(E,D){const U=this.getNullCell(R.DEFAULT_ATTR_DATA),B=[];let ce=0;for(let $=this.lines.length-1;$>=0;$--){let V=this.lines.get($);if(!V||!V.isWrapped&&V.getTrimmedLength()<=E)continue;const k=[V];for(;V.isWrapped&&$>0;)V=this.lines.get(--$),k.unshift(V);const O=this.ybase+this.y;if(O>=$&&O<$+k.length)continue;const K=k[k.length-1].getTrimmedLength(),ue=(0,L.reflowSmallerGetNewLineLengths)(k,this._cols,E),q=ue.length-k.length;let G;G=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+q):Math.max(0,this.lines.length-this.lines.maxLength+q);const ne=[];for(let Y=0;Y<q;Y++){const Ae=this.getBlankLine(R.DEFAULT_ATTR_DATA,!0);ne.push(Ae)}ne.length>0&&(B.push({start:$+k.length+ce,newLines:ne}),ce+=ne.length),k.push(...ne);let Ce=ue.length-1,oe=ue[Ce];0===oe&&(Ce--,oe=ue[Ce]);let z=k.length-q-1,te=K;for(;z>=0;){const Y=Math.min(te,oe);if(void 0===k[Ce])break;if(k[Ce].copyCellsFrom(k[z],te-Y,oe-Y,Y,!0),oe-=Y,0===oe&&(Ce--,oe=ue[Ce]),te-=Y,0===te){z--;const Ae=Math.max(z,0);te=(0,L.getWrappedLineTrimmedLength)(k,Ae,this._cols)}}for(let Y=0;Y<k.length;Y++)ue[Y]<E&&k[Y].setCell(ue[Y],U);let W=q-G;for(;W-- >0;)0===this.ybase?this.y<D-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+ce)-D&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+q,this.ybase+D-1)}if(B.length>0){const $=[],V=[];for(let Ce=0;Ce<this.lines.length;Ce++)V.push(this.lines.get(Ce));const k=this.lines.length;let O=k-1,K=0,ue=B[K];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+ce);let q=0;for(let Ce=Math.min(this.lines.maxLength-1,k+ce-1);Ce>=0;Ce--)if(ue&&ue.start>O+q){for(let oe=ue.newLines.length-1;oe>=0;oe--)this.lines.set(Ce--,ue.newLines[oe]);Ce++,$.push({index:O+1,amount:ue.newLines.length}),q+=ue.newLines.length,ue=B[++K]}else this.lines.set(Ce,V[O--]);let G=0;for(let Ce=$.length-1;Ce>=0;Ce--)$[Ce].index+=G,this.lines.onInsertEmitter.fire($[Ce]),G+=$[Ce].amount;const ne=Math.max(0,k+ce-this.lines.maxLength);ne>0&&this.lines.onTrimEmitter.fire(ne)}}translateBufferLineToString(E,D,U=0,B){const ce=this.lines.get(E);return ce?ce.translateToString(D,U,B):""}getWrappedRangeForLine(E){let D=E,U=E;for(;D>0&&this.lines.get(D).isWrapped;)D--;for(;U+1<this.lines.length&&this.lines.get(U+1).isWrapped;)U++;return{first:D,last:U}}setupTabStops(E){for(null!=E?this.tabs[E]||(E=this.prevStop(E)):(this.tabs={},E=0);E<this._cols;E+=this._optionsService.rawOptions.tabStopWidth)this.tabs[E]=!0}prevStop(E){for(null==E&&(E=this.x);!this.tabs[--E]&&E>0;);return E>=this._cols?this._cols-1:E<0?0:E}nextStop(E){for(null==E&&(E=this.x);!this.tabs[++E]&&E<this._cols;);return E>=this._cols?this._cols-1:E<0?0:E}clearMarkers(E){this._isClearing=!0;for(let D=0;D<this.markers.length;D++)this.markers[D].line===E&&(this.markers[D].dispose(),this.markers.splice(D--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let E=0;E<this.markers.length;E++)this.markers[E].dispose(),this.markers.splice(E--,1);this._isClearing=!1}addMarker(E){const D=new T.Marker(E);return this.markers.push(D),D.register(this.lines.onTrim(U=>{D.line-=U,D.line<0&&D.dispose()})),D.register(this.lines.onInsert(U=>{D.line>=U.index&&(D.line+=U.amount)})),D.register(this.lines.onDelete(U=>{D.line>=U.index&&D.line<U.index+U.amount&&D.dispose(),D.line>U.index&&(D.line-=U.amount)})),D.register(D.onDispose(()=>this._removeMarker(D))),D}_removeMarker(E){this._isClearing||this.markers.splice(this.markers.indexOf(E),1)}}},8437:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLine=f.DEFAULT_ATTR_DATA=void 0;const P=_(3734),x=_(511),r=_(643),R=_(482);f.DEFAULT_ATTR_DATA=Object.freeze(new P.AttributeData);let L=0;class Q{constructor(T,y,E=!1){this.isWrapped=E,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*T);const D=y||x.CellData.fromCharData([0,r.NULL_CELL_CHAR,r.NULL_CELL_WIDTH,r.NULL_CELL_CODE]);for(let U=0;U<T;++U)this.setCell(U,D);this.length=T}get(T){const y=this._data[3*T+0],E=2097151&y;return[this._data[3*T+1],2097152&y?this._combined[T]:E?(0,R.stringFromCodePoint)(E):"",y>>22,2097152&y?this._combined[T].charCodeAt(this._combined[T].length-1):E]}set(T,y){this._data[3*T+1]=y[r.CHAR_DATA_ATTR_INDEX],y[r.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[T]=y[1],this._data[3*T+0]=2097152|T|y[r.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*T+0]=y[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[r.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(T){return this._data[3*T+0]>>22}hasWidth(T){return 12582912&this._data[3*T+0]}getFg(T){return this._data[3*T+1]}getBg(T){return this._data[3*T+2]}hasContent(T){return 4194303&this._data[3*T+0]}getCodePoint(T){const y=this._data[3*T+0];return 2097152&y?this._combined[T].charCodeAt(this._combined[T].length-1):2097151&y}isCombined(T){return 2097152&this._data[3*T+0]}getString(T){const y=this._data[3*T+0];return 2097152&y?this._combined[T]:2097151&y?(0,R.stringFromCodePoint)(2097151&y):""}isProtected(T){return 536870912&this._data[3*T+2]}loadCell(T,y){return L=3*T,y.content=this._data[L+0],y.fg=this._data[L+1],y.bg=this._data[L+2],2097152&y.content&&(y.combinedData=this._combined[T]),268435456&y.bg&&(y.extended=this._extendedAttrs[T]),y}setCell(T,y){2097152&y.content&&(this._combined[T]=y.combinedData),268435456&y.bg&&(this._extendedAttrs[T]=y.extended),this._data[3*T+0]=y.content,this._data[3*T+1]=y.fg,this._data[3*T+2]=y.bg}setCellFromCodePoint(T,y,E,D,U,B){268435456&U&&(this._extendedAttrs[T]=B),this._data[3*T+0]=y|E<<22,this._data[3*T+1]=D,this._data[3*T+2]=U}addCodepointToCell(T,y){let E=this._data[3*T+0];2097152&E?this._combined[T]+=(0,R.stringFromCodePoint)(y):(2097151&E?(this._combined[T]=(0,R.stringFromCodePoint)(2097151&E)+(0,R.stringFromCodePoint)(y),E&=-2097152,E|=2097152):E=4194304|y,this._data[3*T+0]=E)}insertCells(T,y,E,D){if((T%=this.length)&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==D?void 0:D.fg)||0,(null==D?void 0:D.bg)||0,(null==D?void 0:D.extended)||new P.ExtendedAttrs),y<this.length-T){const U=new x.CellData;for(let B=this.length-T-y-1;B>=0;--B)this.setCell(T+y+B,this.loadCell(T+B,U));for(let B=0;B<y;++B)this.setCell(T+B,E)}else for(let U=T;U<this.length;++U)this.setCell(U,E);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==D?void 0:D.fg)||0,(null==D?void 0:D.bg)||0,(null==D?void 0:D.extended)||new P.ExtendedAttrs)}deleteCells(T,y,E,D){if(y<this.length-(T%=this.length)){const U=new x.CellData;for(let B=0;B<this.length-T-y;++B)this.setCell(T+B,this.loadCell(T+y+B,U));for(let B=this.length-y;B<this.length;++B)this.setCell(B,E)}else for(let U=T;U<this.length;++U)this.setCell(U,E);T&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==D?void 0:D.fg)||0,(null==D?void 0:D.bg)||0,(null==D?void 0:D.extended)||new P.ExtendedAttrs),0!==this.getWidth(T)||this.hasContent(T)||this.setCellFromCodePoint(T,0,1,(null==D?void 0:D.fg)||0,(null==D?void 0:D.bg)||0,(null==D?void 0:D.extended)||new P.ExtendedAttrs)}replaceCells(T,y,E,D,U=!1){if(U)for(T&&2===this.getWidth(T-1)&&!this.isProtected(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==D?void 0:D.fg)||0,(null==D?void 0:D.bg)||0,(null==D?void 0:D.extended)||new P.ExtendedAttrs),y<this.length&&2===this.getWidth(y-1)&&!this.isProtected(y)&&this.setCellFromCodePoint(y,0,1,(null==D?void 0:D.fg)||0,(null==D?void 0:D.bg)||0,(null==D?void 0:D.extended)||new P.ExtendedAttrs);T<y&&T<this.length;)this.isProtected(T)||this.setCell(T,E),T++;else for(T&&2===this.getWidth(T-1)&&this.setCellFromCodePoint(T-1,0,1,(null==D?void 0:D.fg)||0,(null==D?void 0:D.bg)||0,(null==D?void 0:D.extended)||new P.ExtendedAttrs),y<this.length&&2===this.getWidth(y-1)&&this.setCellFromCodePoint(y,0,1,(null==D?void 0:D.fg)||0,(null==D?void 0:D.bg)||0,(null==D?void 0:D.extended)||new P.ExtendedAttrs);T<y&&T<this.length;)this.setCell(T++,E)}resize(T,y){if(T===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const E=3*T;if(T>this.length){if(this._data.buffer.byteLength>=4*E)this._data=new Uint32Array(this._data.buffer,0,E);else{const D=new Uint32Array(E);D.set(this._data),this._data=D}for(let D=this.length;D<T;++D)this.setCell(D,y)}else{this._data=this._data.subarray(0,E);const D=Object.keys(this._combined);for(let B=0;B<D.length;B++){const ce=parseInt(D[B],10);ce>=T&&delete this._combined[ce]}const U=Object.keys(this._extendedAttrs);for(let B=0;B<U.length;B++){const ce=parseInt(U[B],10);ce>=T&&delete this._extendedAttrs[ce]}}return this.length=T,4*E*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const T=new Uint32Array(this._data.length);return T.set(this._data),this._data=T,1}return 0}fill(T,y=!1){if(y)for(let E=0;E<this.length;++E)this.isProtected(E)||this.setCell(E,T);else{this._combined={},this._extendedAttrs={};for(let E=0;E<this.length;++E)this.setCell(E,T)}}copyFrom(T){this.length!==T.length?this._data=new Uint32Array(T._data):this._data.set(T._data),this.length=T.length,this._combined={};for(const y in T._combined)this._combined[y]=T._combined[y];this._extendedAttrs={};for(const y in T._extendedAttrs)this._extendedAttrs[y]=T._extendedAttrs[y];this.isWrapped=T.isWrapped}clone(){const T=new Q(0);T._data=new Uint32Array(this._data),T.length=this.length;for(const y in this._combined)T._combined[y]=this._combined[y];for(const y in this._extendedAttrs)T._extendedAttrs[y]=this._extendedAttrs[y];return T.isWrapped=this.isWrapped,T}getTrimmedLength(){for(let T=this.length-1;T>=0;--T)if(4194303&this._data[3*T+0])return T+(this._data[3*T+0]>>22);return 0}getNoBgTrimmedLength(){for(let T=this.length-1;T>=0;--T)if(4194303&this._data[3*T+0]||50331648&this._data[3*T+2])return T+(this._data[3*T+0]>>22);return 0}copyCellsFrom(T,y,E,D,U){const B=T._data;if(U)for(let $=D-1;$>=0;$--){for(let V=0;V<3;V++)this._data[3*(E+$)+V]=B[3*(y+$)+V];268435456&B[3*(y+$)+2]&&(this._extendedAttrs[E+$]=T._extendedAttrs[y+$])}else for(let $=0;$<D;$++){for(let V=0;V<3;V++)this._data[3*(E+$)+V]=B[3*(y+$)+V];268435456&B[3*(y+$)+2]&&(this._extendedAttrs[E+$]=T._extendedAttrs[y+$])}const ce=Object.keys(T._combined);for(let $=0;$<ce.length;$++){const V=parseInt(ce[$],10);V>=y&&(this._combined[V-y+E]=T._combined[V])}}translateToString(T=!1,y=0,E=this.length){T&&(E=Math.min(E,this.getTrimmedLength()));let D="";for(;y<E;){const U=this._data[3*y+0],B=2097151&U;D+=2097152&U?this._combined[y]:B?(0,R.stringFromCodePoint)(B):r.WHITESPACE_CELL_CHAR,y+=U>>22||1}return D}}f.BufferLine=Q},4841:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getRangeLength=void 0,f.getRangeLength=function(_,P){if(_.start.y>_.end.y)throw new Error(`Buffer range end (${_.end.x}, ${_.end.y}) cannot be before start (${_.start.x}, ${_.start.y})`);return P*(_.end.y-_.start.y)+(_.end.x-_.start.x+1)}},4634:(u,f)=>{function _(P,x,r){if(x===P.length-1)return P[x].getTrimmedLength();const R=!P[x].hasContent(r-1)&&1===P[x].getWidth(r-1),L=2===P[x+1].getWidth(0);return R&&L?r-1:r}Object.defineProperty(f,"__esModule",{value:!0}),f.getWrappedLineTrimmedLength=f.reflowSmallerGetNewLineLengths=f.reflowLargerApplyNewLayout=f.reflowLargerCreateNewLayout=f.reflowLargerGetLinesToRemove=void 0,f.reflowLargerGetLinesToRemove=function(P,x,r,R,L){const Q=[];for(let N=0;N<P.length-1;N++){let T=N,y=P.get(++T);if(!y.isWrapped)continue;const E=[P.get(N)];for(;T<P.length&&y.isWrapped;)E.push(y),y=P.get(++T);if(R>=N&&R<T){N+=E.length-1;continue}let D=0,U=_(E,D,x),B=1,ce=0;for(;B<E.length;){const V=_(E,B,x),K=Math.min(V-ce,r-U);E[D].copyCellsFrom(E[B],ce,U,K,!1),U+=K,U===r&&(D++,U=0),ce+=K,ce===V&&(B++,ce=0),0===U&&0!==D&&2===E[D-1].getWidth(r-1)&&(E[D].copyCellsFrom(E[D-1],r-1,U++,1,!1),E[D-1].setCell(r-1,L))}E[D].replaceCells(U,r,L);let $=0;for(let V=E.length-1;V>0&&(V>D||0===E[V].getTrimmedLength());V--)$++;$>0&&(Q.push(N+E.length-$),Q.push($)),N+=E.length-1}return Q},f.reflowLargerCreateNewLayout=function(P,x){const r=[];let R=0,L=x[R],Q=0;for(let N=0;N<P.length;N++)if(L===N){const T=x[++R];P.onDeleteEmitter.fire({index:N-Q,amount:T}),N+=T-1,Q+=T,L=x[++R]}else r.push(N);return{layout:r,countRemoved:Q}},f.reflowLargerApplyNewLayout=function(P,x){const r=[];for(let R=0;R<x.length;R++)r.push(P.get(x[R]));for(let R=0;R<r.length;R++)P.set(R,r[R]);P.length=x.length},f.reflowSmallerGetNewLineLengths=function(P,x,r){const R=[],L=P.map((y,E)=>_(P,E,x)).reduce((y,E)=>y+E);let Q=0,N=0,T=0;for(;T<L;){if(L-T<r){R.push(L-T);break}Q+=r;const y=_(P,N,x);Q>y&&(Q-=y,N++);const E=2===P[N].getWidth(Q-1);E&&Q--;const D=E?r-1:r;R.push(D),T+=D}return R},f.getWrappedLineTrimmedLength=_},5295:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferSet=void 0;const P=_(8460),x=_(844),r=_(9092);f.BufferSet=class R extends x.Disposable{constructor(Q,N){super(),this._optionsService=Q,this._bufferService=N,this._onBufferActivate=this.register(new P.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new r.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new r.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(Q){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(Q),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(Q,N){this._normal.resize(Q,N),this._alt.resize(Q,N),this.setupTabStops(Q)}setupTabStops(Q){this._normal.setupTabStops(Q),this._alt.setupTabStops(Q)}}},511:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CellData=void 0;const P=_(482),x=_(643),r=_(3734);class R extends r.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new r.ExtendedAttrs,this.combinedData=""}static fromCharData(Q){const N=new R;return N.setFromCharData(Q),N}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,P.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(Q){this.fg=Q[x.CHAR_DATA_ATTR_INDEX],this.bg=0;let N=!1;if(Q[x.CHAR_DATA_CHAR_INDEX].length>2)N=!0;else if(2===Q[x.CHAR_DATA_CHAR_INDEX].length){const T=Q[x.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=T&&T<=56319){const y=Q[x.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=y&&y<=57343?this.content=1024*(T-55296)+y-56320+65536|Q[x.CHAR_DATA_WIDTH_INDEX]<<22:N=!0}else N=!0}else this.content=Q[x.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|Q[x.CHAR_DATA_WIDTH_INDEX]<<22;N&&(this.combinedData=Q[x.CHAR_DATA_CHAR_INDEX],this.content=2097152|Q[x.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}f.CellData=R},643:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WHITESPACE_CELL_CODE=f.WHITESPACE_CELL_WIDTH=f.WHITESPACE_CELL_CHAR=f.NULL_CELL_CODE=f.NULL_CELL_WIDTH=f.NULL_CELL_CHAR=f.CHAR_DATA_CODE_INDEX=f.CHAR_DATA_WIDTH_INDEX=f.CHAR_DATA_CHAR_INDEX=f.CHAR_DATA_ATTR_INDEX=f.DEFAULT_EXT=f.DEFAULT_ATTR=f.DEFAULT_COLOR=void 0,f.DEFAULT_COLOR=0,f.DEFAULT_ATTR=256|f.DEFAULT_COLOR<<9,f.DEFAULT_EXT=0,f.CHAR_DATA_ATTR_INDEX=0,f.CHAR_DATA_CHAR_INDEX=1,f.CHAR_DATA_WIDTH_INDEX=2,f.CHAR_DATA_CODE_INDEX=3,f.NULL_CELL_CHAR="",f.NULL_CELL_WIDTH=1,f.NULL_CELL_CODE=0,f.WHITESPACE_CELL_CHAR=" ",f.WHITESPACE_CELL_WIDTH=1,f.WHITESPACE_CELL_CODE=32},4863:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Marker=void 0;const P=_(8460),x=_(844);class r{get id(){return this._id}constructor(L){this.line=L,this.isDisposed=!1,this._disposables=[],this._id=r._nextId++,this._onDispose=this.register(new P.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,x.disposeArray)(this._disposables),this._disposables.length=0)}register(L){return this._disposables.push(L),L}}f.Marker=r,r._nextId=1},7116:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DEFAULT_CHARSET=f.CHARSETS=void 0,f.CHARSETS={},f.DEFAULT_CHARSET=f.CHARSETS.B,f.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},f.CHARSETS.A={"#":"\xa3"},f.CHARSETS.B=void 0,f.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},f.CHARSETS.C=f.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},f.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},f.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},f.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},f.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},f.CHARSETS.E=f.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},f.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},f.CHARSETS.H=f.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},f.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(u,f)=>{var _,P,x,r;Object.defineProperty(f,"__esModule",{value:!0}),f.C1_ESCAPED=f.C1=f.C0=void 0,(r=_||(f.C0=_={})).NUL="\0",r.SOH="\x01",r.STX="\x02",r.ETX="\x03",r.EOT="\x04",r.ENQ="\x05",r.ACK="\x06",r.BEL="\x07",r.BS="\b",r.HT="\t",r.LF="\n",r.VT="\v",r.FF="\f",r.CR="\r",r.SO="\x0e",r.SI="\x0f",r.DLE="\x10",r.DC1="\x11",r.DC2="\x12",r.DC3="\x13",r.DC4="\x14",r.NAK="\x15",r.SYN="\x16",r.ETB="\x17",r.CAN="\x18",r.EM="\x19",r.SUB="\x1a",r.ESC="\x1b",r.FS="\x1c",r.GS="\x1d",r.RS="\x1e",r.US="\x1f",r.SP=" ",r.DEL="\x7f",function(r){r.PAD="\x80",r.HOP="\x81",r.BPH="\x82",r.NBH="\x83",r.IND="\x84",r.NEL="\x85",r.SSA="\x86",r.ESA="\x87",r.HTS="\x88",r.HTJ="\x89",r.VTS="\x8a",r.PLD="\x8b",r.PLU="\x8c",r.RI="\x8d",r.SS2="\x8e",r.SS3="\x8f",r.DCS="\x90",r.PU1="\x91",r.PU2="\x92",r.STS="\x93",r.CCH="\x94",r.MW="\x95",r.SPA="\x96",r.EPA="\x97",r.SOS="\x98",r.SGCI="\x99",r.SCI="\x9a",r.CSI="\x9b",r.ST="\x9c",r.OSC="\x9d",r.PM="\x9e",r.APC="\x9f"}(P||(f.C1=P={})),function(r){r.ST=`${_.ESC}\\`}(x||(f.C1_ESCAPED=x={}))},7399:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.evaluateKeyboardEvent=void 0;const P=_(2584),x={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};f.evaluateKeyboardEvent=function(r,R,L,Q){const N={type:0,cancel:!1,key:void 0},T=(r.shiftKey?1:0)|(r.altKey?2:0)|(r.ctrlKey?4:0)|(r.metaKey?8:0);switch(r.keyCode){case 0:"UIKeyInputUpArrow"===r.key?N.key=R?P.C0.ESC+"OA":P.C0.ESC+"[A":"UIKeyInputLeftArrow"===r.key?N.key=R?P.C0.ESC+"OD":P.C0.ESC+"[D":"UIKeyInputRightArrow"===r.key?N.key=R?P.C0.ESC+"OC":P.C0.ESC+"[C":"UIKeyInputDownArrow"===r.key&&(N.key=R?P.C0.ESC+"OB":P.C0.ESC+"[B");break;case 8:if(r.altKey){N.key=P.C0.ESC+P.C0.DEL;break}N.key=P.C0.DEL;break;case 9:if(r.shiftKey){N.key=P.C0.ESC+"[Z";break}N.key=P.C0.HT,N.cancel=!0;break;case 13:N.key=r.altKey?P.C0.ESC+P.C0.CR:P.C0.CR,N.cancel=!0;break;case 27:N.key=P.C0.ESC,r.altKey&&(N.key=P.C0.ESC+P.C0.ESC),N.cancel=!0;break;case 37:if(r.metaKey)break;T?(N.key=P.C0.ESC+"[1;"+(T+1)+"D",N.key===P.C0.ESC+"[1;3D"&&(N.key=P.C0.ESC+(L?"b":"[1;5D"))):N.key=R?P.C0.ESC+"OD":P.C0.ESC+"[D";break;case 39:if(r.metaKey)break;T?(N.key=P.C0.ESC+"[1;"+(T+1)+"C",N.key===P.C0.ESC+"[1;3C"&&(N.key=P.C0.ESC+(L?"f":"[1;5C"))):N.key=R?P.C0.ESC+"OC":P.C0.ESC+"[C";break;case 38:if(r.metaKey)break;T?(N.key=P.C0.ESC+"[1;"+(T+1)+"A",L||N.key!==P.C0.ESC+"[1;3A"||(N.key=P.C0.ESC+"[1;5A")):N.key=R?P.C0.ESC+"OA":P.C0.ESC+"[A";break;case 40:if(r.metaKey)break;T?(N.key=P.C0.ESC+"[1;"+(T+1)+"B",L||N.key!==P.C0.ESC+"[1;3B"||(N.key=P.C0.ESC+"[1;5B")):N.key=R?P.C0.ESC+"OB":P.C0.ESC+"[B";break;case 45:r.shiftKey||r.ctrlKey||(N.key=P.C0.ESC+"[2~");break;case 46:N.key=T?P.C0.ESC+"[3;"+(T+1)+"~":P.C0.ESC+"[3~";break;case 36:N.key=T?P.C0.ESC+"[1;"+(T+1)+"H":R?P.C0.ESC+"OH":P.C0.ESC+"[H";break;case 35:N.key=T?P.C0.ESC+"[1;"+(T+1)+"F":R?P.C0.ESC+"OF":P.C0.ESC+"[F";break;case 33:r.shiftKey?N.type=2:N.key=r.ctrlKey?P.C0.ESC+"[5;"+(T+1)+"~":P.C0.ESC+"[5~";break;case 34:r.shiftKey?N.type=3:N.key=r.ctrlKey?P.C0.ESC+"[6;"+(T+1)+"~":P.C0.ESC+"[6~";break;case 112:N.key=T?P.C0.ESC+"[1;"+(T+1)+"P":P.C0.ESC+"OP";break;case 113:N.key=T?P.C0.ESC+"[1;"+(T+1)+"Q":P.C0.ESC+"OQ";break;case 114:N.key=T?P.C0.ESC+"[1;"+(T+1)+"R":P.C0.ESC+"OR";break;case 115:N.key=T?P.C0.ESC+"[1;"+(T+1)+"S":P.C0.ESC+"OS";break;case 116:N.key=T?P.C0.ESC+"[15;"+(T+1)+"~":P.C0.ESC+"[15~";break;case 117:N.key=T?P.C0.ESC+"[17;"+(T+1)+"~":P.C0.ESC+"[17~";break;case 118:N.key=T?P.C0.ESC+"[18;"+(T+1)+"~":P.C0.ESC+"[18~";break;case 119:N.key=T?P.C0.ESC+"[19;"+(T+1)+"~":P.C0.ESC+"[19~";break;case 120:N.key=T?P.C0.ESC+"[20;"+(T+1)+"~":P.C0.ESC+"[20~";break;case 121:N.key=T?P.C0.ESC+"[21;"+(T+1)+"~":P.C0.ESC+"[21~";break;case 122:N.key=T?P.C0.ESC+"[23;"+(T+1)+"~":P.C0.ESC+"[23~";break;case 123:N.key=T?P.C0.ESC+"[24;"+(T+1)+"~":P.C0.ESC+"[24~";break;default:if(!r.ctrlKey||r.shiftKey||r.altKey||r.metaKey)if(L&&!Q||!r.altKey||r.metaKey)!L||r.altKey||r.ctrlKey||r.shiftKey||!r.metaKey?r.key&&!r.ctrlKey&&!r.altKey&&!r.metaKey&&r.keyCode>=48&&1===r.key.length?N.key=r.key:r.key&&r.ctrlKey&&("_"===r.key&&(N.key=P.C0.US),"@"===r.key&&(N.key=P.C0.NUL)):65===r.keyCode&&(N.type=1);else{const y=x[r.keyCode],E=null==y?void 0:y[r.shiftKey?1:0];if(E)N.key=P.C0.ESC+E;else if(r.keyCode>=65&&r.keyCode<=90){let U=String.fromCharCode(r.ctrlKey?r.keyCode-64:r.keyCode+32);r.shiftKey&&(U=U.toUpperCase()),N.key=P.C0.ESC+U}else if(32===r.keyCode)N.key=P.C0.ESC+(r.ctrlKey?P.C0.NUL:" ");else if("Dead"===r.key&&r.code.startsWith("Key")){let D=r.code.slice(3,4);r.shiftKey||(D=D.toLowerCase()),N.key=P.C0.ESC+D,N.cancel=!0}}else r.keyCode>=65&&r.keyCode<=90?N.key=String.fromCharCode(r.keyCode-64):32===r.keyCode?N.key=P.C0.NUL:r.keyCode>=51&&r.keyCode<=55?N.key=String.fromCharCode(r.keyCode-51+27):56===r.keyCode?N.key=P.C0.DEL:219===r.keyCode?N.key=P.C0.ESC:220===r.keyCode?N.key=P.C0.FS:221===r.keyCode&&(N.key=P.C0.GS)}return N}},482:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Utf8ToUtf32=f.StringToUtf32=f.utf32ToString=f.stringFromCodePoint=void 0,f.stringFromCodePoint=function(_){return _>65535?(_-=65536,String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):String.fromCharCode(_)},f.utf32ToString=function(_,P=0,x=_.length){let r="";for(let R=P;R<x;++R){let L=_[R];L>65535?(L-=65536,r+=String.fromCharCode(55296+(L>>10))+String.fromCharCode(L%1024+56320)):r+=String.fromCharCode(L)}return r},f.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(_,P){const x=_.length;if(!x)return 0;let r=0,R=0;if(this._interim){const L=_.charCodeAt(R++);56320<=L&&L<=57343?P[r++]=1024*(this._interim-55296)+L-56320+65536:(P[r++]=this._interim,P[r++]=L),this._interim=0}for(let L=R;L<x;++L){const Q=_.charCodeAt(L);if(55296<=Q&&Q<=56319){if(++L>=x)return this._interim=Q,r;const N=_.charCodeAt(L);56320<=N&&N<=57343?P[r++]=1024*(Q-55296)+N-56320+65536:(P[r++]=Q,P[r++]=N)}else 65279!==Q&&(P[r++]=Q)}return r}},f.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(_,P){const x=_.length;if(!x)return 0;let r,R,L,Q,N=0,T=0,y=0;if(this.interim[0]){let U=!1,B=this.interim[0];B&=192==(224&B)?31:224==(240&B)?15:7;let ce,$=0;for(;(ce=63&this.interim[++$])&&$<4;)B<<=6,B|=ce;const V=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,k=V-$;for(;y<k;){if(y>=x)return 0;if(ce=_[y++],128!=(192&ce)){y--,U=!0;break}this.interim[$++]=ce,B<<=6,B|=63&ce}U||(2===V?B<128?y--:P[N++]=B:3===V?B<2048||B>=55296&&B<=57343||65279===B||(P[N++]=B):B<65536||B>1114111||(P[N++]=B)),this.interim.fill(0)}const E=x-4;let D=y;for(;D<x;){for(;!(!(D<E)||128&(r=_[D])||128&(R=_[D+1])||128&(L=_[D+2])||128&(Q=_[D+3]));)P[N++]=r,P[N++]=R,P[N++]=L,P[N++]=Q,D+=4;if(r=_[D++],r<128)P[N++]=r;else if(192==(224&r)){if(D>=x)return this.interim[0]=r,N;if(R=_[D++],128!=(192&R)){D--;continue}if(T=(31&r)<<6|63&R,T<128){D--;continue}P[N++]=T}else if(224==(240&r)){if(D>=x)return this.interim[0]=r,N;if(R=_[D++],128!=(192&R)){D--;continue}if(D>=x)return this.interim[0]=r,this.interim[1]=R,N;if(L=_[D++],128!=(192&L)){D--;continue}if(T=(15&r)<<12|(63&R)<<6|63&L,T<2048||T>=55296&&T<=57343||65279===T)continue;P[N++]=T}else if(240==(248&r)){if(D>=x)return this.interim[0]=r,N;if(R=_[D++],128!=(192&R)){D--;continue}if(D>=x)return this.interim[0]=r,this.interim[1]=R,N;if(L=_[D++],128!=(192&L)){D--;continue}if(D>=x)return this.interim[0]=r,this.interim[1]=R,this.interim[2]=L,N;if(Q=_[D++],128!=(192&Q)){D--;continue}if(T=(7&r)<<18|(63&R)<<12|(63&L)<<6|63&Q,T<65536||T>1114111)continue;P[N++]=T}}return N}}},225:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeV6=void 0;const _=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],P=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let x;f.UnicodeV6=class{constructor(){if(this.version="6",!x){x=new Uint8Array(65536),x.fill(1),x[0]=0,x.fill(0,1,32),x.fill(0,127,160),x.fill(2,4352,4448),x[9001]=2,x[9002]=2,x.fill(2,11904,42192),x[12351]=1,x.fill(2,44032,55204),x.fill(2,63744,64256),x.fill(2,65040,65050),x.fill(2,65072,65136),x.fill(2,65280,65377),x.fill(2,65504,65511);for(let r=0;r<_.length;++r)x.fill(0,_[r][0],_[r][1]+1)}}wcwidth(r){return r<32?0:r<127?1:r<65536?x[r]:function(R,L){let Q,N=0,T=L.length-1;if(R<L[0][0]||R>L[T][1])return!1;for(;T>=N;)if(Q=N+T>>1,R>L[Q][1])N=Q+1;else{if(!(R<L[Q][0]))return!0;T=Q-1}return!1}(r,P)?0:r>=131072&&r<=196605||r>=196608&&r<=262141?2:1}}},5981:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WriteBuffer=void 0;const P=_(8460),x=_(844);f.WriteBuffer=class r extends x.Disposable{constructor(L){super(),this._action=L,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new P.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(L,Q){if(void 0!==Q&&this._syncCalls>Q)return void(this._syncCalls=0);if(this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let N;for(this._isSyncWriting=!0;N=this._writeBuffer.shift();){this._action(N);const T=this._callbacks.shift();T&&T()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(L,Q){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(Q),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(Q)}_innerWrite(L=0,Q=!0){const N=L||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const T=this._writeBuffer[this._bufferOffset],y=this._action(T,Q);if(y){const D=U=>Date.now()-N>=12?setTimeout(()=>this._innerWrite(0,U)):this._innerWrite(N,U);return void y.catch(U=>(queueMicrotask(()=>{throw U}),Promise.resolve(!1))).then(D)}const E=this._callbacks[this._bufferOffset];if(E&&E(),this._bufferOffset++,this._pendingData-=T.length,Date.now()-N>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.toRgbString=f.parseColor=void 0;const _=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,P=/^[\da-f]+$/;function x(r,R){const L=r.toString(16),Q=L.length<2?"0"+L:L;switch(R){case 4:return L[0];case 8:return Q;case 12:return(Q+Q).slice(0,3);default:return Q+Q}}f.parseColor=function(r){if(!r)return;let R=r.toLowerCase();if(0===R.indexOf("rgb:")){R=R.slice(4);const L=_.exec(R);if(L){const Q=L[1]?15:L[4]?255:L[7]?4095:65535;return[Math.round(parseInt(L[1]||L[4]||L[7]||L[10],16)/Q*255),Math.round(parseInt(L[2]||L[5]||L[8]||L[11],16)/Q*255),Math.round(parseInt(L[3]||L[6]||L[9]||L[12],16)/Q*255)]}}else if(0===R.indexOf("#")&&(R=R.slice(1),P.exec(R)&&[3,6,9,12].includes(R.length))){const L=R.length/3,Q=[0,0,0];for(let N=0;N<3;++N){const T=parseInt(R.slice(L*N,L*N+L),16);Q[N]=1===L?T<<4:2===L?T:3===L?T>>4:T>>8}return Q}},f.toRgbString=function(r,R=16){const[L,Q,N]=r;return`rgb:${x(L,R)}/${x(Q,R)}/${x(N,R)}`}},5770:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PAYLOAD_LIMIT=void 0,f.PAYLOAD_LIMIT=1e7},6351:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DcsHandler=f.DcsParser=void 0;const P=_(482),x=_(8742),r=_(5770),R=[];f.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=R,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=R}registerHandler(Q,N){void 0===this._handlers[Q]&&(this._handlers[Q]=[]);const T=this._handlers[Q];return T.push(N),{dispose:()=>{const y=T.indexOf(N);-1!==y&&T.splice(y,1)}}}clearHandler(Q){this._handlers[Q]&&delete this._handlers[Q]}setHandlerFallback(Q){this._handlerFb=Q}reset(){if(this._active.length)for(let Q=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;Q>=0;--Q)this._active[Q].unhook(!1);this._stack.paused=!1,this._active=R,this._ident=0}hook(Q,N){if(this.reset(),this._ident=Q,this._active=this._handlers[Q]||R,this._active.length)for(let T=this._active.length-1;T>=0;T--)this._active[T].hook(N);else this._handlerFb(this._ident,"HOOK",N)}put(Q,N,T){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(Q,N,T);else this._handlerFb(this._ident,"PUT",(0,P.utf32ToString)(Q,N,T))}unhook(Q,N=!0){if(this._active.length){let T=!1,y=this._active.length-1,E=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,T=N,E=this._stack.fallThrough,this._stack.paused=!1),!E&&!1===T){for(;y>=0&&(T=this._active[y].unhook(Q),!0!==T);y--)if(T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,T;y--}for(;y>=0;y--)if(T=this._active[y].unhook(!1),T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,T}else this._handlerFb(this._ident,"UNHOOK",Q);this._active=R,this._ident=0}};const L=new x.Params;L.addParam(0),f.DcsHandler=class{constructor(Q){this._handler=Q,this._data="",this._params=L,this._hitLimit=!1}hook(Q){this._params=Q.length>1||Q.params[0]?Q.clone():L,this._data="",this._hitLimit=!1}put(Q,N,T){this._hitLimit||(this._data+=(0,P.utf32ToString)(Q,N,T),this._data.length>r.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(Q){let N=!1;if(this._hitLimit)N=!1;else if(Q&&(N=this._handler(this._data,this._params),N instanceof Promise))return N.then(T=>(this._params=L,this._data="",this._hitLimit=!1,T));return this._params=L,this._data="",this._hitLimit=!1,N}}},2015:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.EscapeSequenceParser=f.VT500_TRANSITION_TABLE=f.TransitionTable=void 0;const P=_(844),x=_(8742),r=_(6242),R=_(6351);class L{constructor(y){this.table=new Uint8Array(y)}setDefault(y,E){this.table.fill(y<<4|E)}add(y,E,D,U){this.table[E<<8|y]=D<<4|U}addMany(y,E,D,U){for(let B=0;B<y.length;B++)this.table[E<<8|y[B]]=D<<4|U}}f.TransitionTable=L;const Q=160;f.VT500_TRANSITION_TABLE=function(){const T=new L(4095),y=Array.apply(null,Array(256)).map(($,V)=>V),E=($,V)=>y.slice($,V),D=E(32,127),U=E(0,24);U.push(25),U.push.apply(U,E(28,32));const B=E(0,14);let ce;for(ce in T.setDefault(1,0),T.addMany(D,0,2,0),B)T.addMany([24,26,153,154],ce,3,0),T.addMany(E(128,144),ce,3,0),T.addMany(E(144,152),ce,3,0),T.add(156,ce,0,0),T.add(27,ce,11,1),T.add(157,ce,4,8),T.addMany([152,158,159],ce,0,7),T.add(155,ce,11,3),T.add(144,ce,11,9);return T.addMany(U,0,3,0),T.addMany(U,1,3,1),T.add(127,1,0,1),T.addMany(U,8,0,8),T.addMany(U,3,3,3),T.add(127,3,0,3),T.addMany(U,4,3,4),T.add(127,4,0,4),T.addMany(U,6,3,6),T.addMany(U,5,3,5),T.add(127,5,0,5),T.addMany(U,2,3,2),T.add(127,2,0,2),T.add(93,1,4,8),T.addMany(D,8,5,8),T.add(127,8,5,8),T.addMany([156,27,24,26,7],8,6,0),T.addMany(E(28,32),8,0,8),T.addMany([88,94,95],1,0,7),T.addMany(D,7,0,7),T.addMany(U,7,0,7),T.add(156,7,0,0),T.add(127,7,0,7),T.add(91,1,11,3),T.addMany(E(64,127),3,7,0),T.addMany(E(48,60),3,8,4),T.addMany([60,61,62,63],3,9,4),T.addMany(E(48,60),4,8,4),T.addMany(E(64,127),4,7,0),T.addMany([60,61,62,63],4,0,6),T.addMany(E(32,64),6,0,6),T.add(127,6,0,6),T.addMany(E(64,127),6,0,0),T.addMany(E(32,48),3,9,5),T.addMany(E(32,48),5,9,5),T.addMany(E(48,64),5,0,6),T.addMany(E(64,127),5,7,0),T.addMany(E(32,48),4,9,5),T.addMany(E(32,48),1,9,2),T.addMany(E(32,48),2,9,2),T.addMany(E(48,127),2,10,0),T.addMany(E(48,80),1,10,0),T.addMany(E(81,88),1,10,0),T.addMany([89,90,92],1,10,0),T.addMany(E(96,127),1,10,0),T.add(80,1,11,9),T.addMany(U,9,0,9),T.add(127,9,0,9),T.addMany(E(28,32),9,0,9),T.addMany(E(32,48),9,9,12),T.addMany(E(48,60),9,8,10),T.addMany([60,61,62,63],9,9,10),T.addMany(U,11,0,11),T.addMany(E(32,128),11,0,11),T.addMany(E(28,32),11,0,11),T.addMany(U,10,0,10),T.add(127,10,0,10),T.addMany(E(28,32),10,0,10),T.addMany(E(48,60),10,8,10),T.addMany([60,61,62,63],10,0,11),T.addMany(E(32,48),10,9,12),T.addMany(U,12,0,12),T.add(127,12,0,12),T.addMany(E(28,32),12,0,12),T.addMany(E(32,48),12,9,12),T.addMany(E(48,64),12,0,11),T.addMany(E(64,127),12,12,13),T.addMany(E(64,127),10,12,13),T.addMany(E(64,127),9,12,13),T.addMany(U,13,13,13),T.addMany(D,13,13,13),T.add(127,13,0,13),T.addMany([27,156,24,26],13,14,0),T.add(Q,0,2,0),T.add(Q,8,5,8),T.add(Q,6,0,6),T.add(Q,11,0,11),T.add(Q,13,13,13),T}(),f.EscapeSequenceParser=class N extends P.Disposable{constructor(y=f.VT500_TRANSITION_TABLE){super(),this._transitions=y,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new x.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(E,D,U)=>{},this._executeHandlerFb=E=>{},this._csiHandlerFb=(E,D)=>{},this._escHandlerFb=E=>{},this._errorHandlerFb=E=>E,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,P.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new r.OscParser),this._dcsParser=this.register(new R.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(y,E=[64,126]){let D=0;if(y.prefix){if(y.prefix.length>1)throw new Error("only one byte as prefix supported");if(D=y.prefix.charCodeAt(0),D&&60>D||D>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(y.intermediates){if(y.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let B=0;B<y.intermediates.length;++B){const ce=y.intermediates.charCodeAt(B);if(32>ce||ce>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");D<<=8,D|=ce}}if(1!==y.final.length)throw new Error("final must be a single byte");const U=y.final.charCodeAt(0);if(E[0]>U||U>E[1])throw new Error(`final must be in range ${E[0]} .. ${E[1]}`);return D<<=8,D|=U,D}identToString(y){const E=[];for(;y;)E.push(String.fromCharCode(255&y)),y>>=8;return E.reverse().join("")}setPrintHandler(y){this._printHandler=y}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(y,E){const D=this._identifier(y,[48,126]);void 0===this._escHandlers[D]&&(this._escHandlers[D]=[]);const U=this._escHandlers[D];return U.push(E),{dispose:()=>{const B=U.indexOf(E);-1!==B&&U.splice(B,1)}}}clearEscHandler(y){this._escHandlers[this._identifier(y,[48,126])]&&delete this._escHandlers[this._identifier(y,[48,126])]}setEscHandlerFallback(y){this._escHandlerFb=y}setExecuteHandler(y,E){this._executeHandlers[y.charCodeAt(0)]=E}clearExecuteHandler(y){this._executeHandlers[y.charCodeAt(0)]&&delete this._executeHandlers[y.charCodeAt(0)]}setExecuteHandlerFallback(y){this._executeHandlerFb=y}registerCsiHandler(y,E){const D=this._identifier(y);void 0===this._csiHandlers[D]&&(this._csiHandlers[D]=[]);const U=this._csiHandlers[D];return U.push(E),{dispose:()=>{const B=U.indexOf(E);-1!==B&&U.splice(B,1)}}}clearCsiHandler(y){this._csiHandlers[this._identifier(y)]&&delete this._csiHandlers[this._identifier(y)]}setCsiHandlerFallback(y){this._csiHandlerFb=y}registerDcsHandler(y,E){return this._dcsParser.registerHandler(this._identifier(y),E)}clearDcsHandler(y){this._dcsParser.clearHandler(this._identifier(y))}setDcsHandlerFallback(y){this._dcsParser.setHandlerFallback(y)}registerOscHandler(y,E){return this._oscParser.registerHandler(y,E)}clearOscHandler(y){this._oscParser.clearHandler(y)}setOscHandlerFallback(y){this._oscParser.setHandlerFallback(y)}setErrorHandler(y){this._errorHandler=y}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(y,E,D,U,B){this._parseStack.state=y,this._parseStack.handlers=E,this._parseStack.handlerPos=D,this._parseStack.transition=U,this._parseStack.chunkPos=B}parse(y,E,D){let U,B=0,ce=0,$=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,$=this._parseStack.chunkPos+1;else{if(void 0===D||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const V=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===D&&k>-1)for(;k>=0&&(U=V[k](this._params),!0!==U);k--)if(U instanceof Promise)return this._parseStack.handlerPos=k,U;this._parseStack.handlers=[];break;case 4:if(!1===D&&k>-1)for(;k>=0&&(U=V[k](),!0!==U);k--)if(U instanceof Promise)return this._parseStack.handlerPos=k,U;this._parseStack.handlers=[];break;case 6:if(B=y[this._parseStack.chunkPos],U=this._dcsParser.unhook(24!==B&&26!==B,D),U)return U;27===B&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(B=y[this._parseStack.chunkPos],U=this._oscParser.end(24!==B&&26!==B,D),U)return U;27===B&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,$=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let V=$;V<E;++V){switch(B=y[V],ce=this._transitions.table[this.currentState<<8|(B<160?B:Q)],ce>>4){case 2:for(let q=V+1;;++q){if(q>=E||(B=y[q])<32||B>126&&B<Q){this._printHandler(y,V,q),V=q-1;break}if(++q>=E||(B=y[q])<32||B>126&&B<Q){this._printHandler(y,V,q),V=q-1;break}if(++q>=E||(B=y[q])<32||B>126&&B<Q){this._printHandler(y,V,q),V=q-1;break}if(++q>=E||(B=y[q])<32||B>126&&B<Q){this._printHandler(y,V,q),V=q-1;break}}break;case 3:this._executeHandlers[B]?this._executeHandlers[B]():this._executeHandlerFb(B),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:V,code:B,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|B];let O=k?k.length-1:-1;for(;O>=0&&(U=k[O](this._params),!0!==U);O--)if(U instanceof Promise)return this._preserveStack(3,k,O,ce,V),U;O<0&&this._csiHandlerFb(this._collect<<8|B,this._params),this.precedingCodepoint=0;break;case 8:do{switch(B){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(B-48)}}while(++V<E&&(B=y[V])>47&&B<60);V--;break;case 9:this._collect<<=8,this._collect|=B;break;case 10:const K=this._escHandlers[this._collect<<8|B];let ue=K?K.length-1:-1;for(;ue>=0&&(U=K[ue](),!0!==U);ue--)if(U instanceof Promise)return this._preserveStack(4,K,ue,ce,V),U;ue<0&&this._escHandlerFb(this._collect<<8|B),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|B,this._params);break;case 13:for(let q=V+1;;++q)if(q>=E||24===(B=y[q])||26===B||27===B||B>127&&B<Q){this._dcsParser.put(y,V,q),V=q-1;break}break;case 14:if(U=this._dcsParser.unhook(24!==B&&26!==B),U)return this._preserveStack(6,[],0,ce,V),U;27===B&&(ce|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let q=V+1;;q++)if(q>=E||(B=y[q])<32||B>127&&B<Q){this._oscParser.put(y,V,q),V=q-1;break}break;case 6:if(U=this._oscParser.end(24!==B&&26!==B),U)return this._preserveStack(5,[],0,ce,V),U;27===B&&(ce|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&ce}}}},6242:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OscHandler=f.OscParser=void 0;const P=_(5770),x=_(482),r=[];f.OscParser=class{constructor(){this._state=0,this._active=r,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(R,L){void 0===this._handlers[R]&&(this._handlers[R]=[]);const Q=this._handlers[R];return Q.push(L),{dispose:()=>{const N=Q.indexOf(L);-1!==N&&Q.splice(N,1)}}}clearHandler(R){this._handlers[R]&&delete this._handlers[R]}setHandlerFallback(R){this._handlerFb=R}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=r}reset(){if(2===this._state)for(let R=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;R>=0;--R)this._active[R].end(!1);this._stack.paused=!1,this._active=r,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||r,this._active.length)for(let R=this._active.length-1;R>=0;R--)this._active[R].start();else this._handlerFb(this._id,"START")}_put(R,L,Q){if(this._active.length)for(let N=this._active.length-1;N>=0;N--)this._active[N].put(R,L,Q);else this._handlerFb(this._id,"PUT",(0,x.utf32ToString)(R,L,Q))}start(){this.reset(),this._state=1}put(R,L,Q){if(3!==this._state){if(1===this._state)for(;L<Q;){const N=R[L++];if(59===N){this._state=2,this._start();break}if(N<48||57<N)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+N-48}2===this._state&&Q-L>0&&this._put(R,L,Q)}}end(R,L=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let Q=!1,N=this._active.length-1,T=!1;if(this._stack.paused&&(N=this._stack.loopPosition-1,Q=L,T=this._stack.fallThrough,this._stack.paused=!1),!T&&!1===Q){for(;N>=0&&(Q=this._active[N].end(R),!0!==Q);N--)if(Q instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=N,this._stack.fallThrough=!1,Q;N--}for(;N>=0;N--)if(Q=this._active[N].end(!1),Q instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=N,this._stack.fallThrough=!0,Q}else this._handlerFb(this._id,"END",R);this._active=r,this._id=-1,this._state=0}}},f.OscHandler=class{constructor(R){this._handler=R,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(R,L,Q){this._hitLimit||(this._data+=(0,x.utf32ToString)(R,L,Q),this._data.length>P.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(R){let L=!1;if(this._hitLimit)L=!1;else if(R&&(L=this._handler(this._data),L instanceof Promise))return L.then(Q=>(this._data="",this._hitLimit=!1,Q));return this._data="",this._hitLimit=!1,L}}},8742:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Params=void 0;const _=2147483647;class P{static fromArray(r){const R=new P;if(!r.length)return R;for(let L=Array.isArray(r[0])?1:0;L<r.length;++L){const Q=r[L];if(Array.isArray(Q))for(let N=0;N<Q.length;++N)R.addSubParam(Q[N]);else R.addParam(Q)}return R}constructor(r=32,R=32){if(this.maxLength=r,this.maxSubParamsLength=R,R>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(r),this.length=0,this._subParams=new Int32Array(R),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(r),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const r=new P(this.maxLength,this.maxSubParamsLength);return r.params.set(this.params),r.length=this.length,r._subParams.set(this._subParams),r._subParamsLength=this._subParamsLength,r._subParamsIdx.set(this._subParamsIdx),r._rejectDigits=this._rejectDigits,r._rejectSubDigits=this._rejectSubDigits,r._digitIsSub=this._digitIsSub,r}toArray(){const r=[];for(let R=0;R<this.length;++R){r.push(this.params[R]);const L=this._subParamsIdx[R]>>8,Q=255&this._subParamsIdx[R];Q-L>0&&r.push(Array.prototype.slice.call(this._subParams,L,Q))}return r}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(r){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(r<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=r>_?_:r}}addSubParam(r){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(r<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=r>_?_:r,this._subParamsIdx[this.length-1]++}}hasSubParams(r){return(255&this._subParamsIdx[r])-(this._subParamsIdx[r]>>8)>0}getSubParams(r){const R=this._subParamsIdx[r]>>8,L=255&this._subParamsIdx[r];return L-R>0?this._subParams.subarray(R,L):null}getSubParamsAll(){const r={};for(let R=0;R<this.length;++R){const L=this._subParamsIdx[R]>>8,Q=255&this._subParamsIdx[R];Q-L>0&&(r[R]=this._subParams.slice(L,Q))}return r}addDigit(r){let R;if(this._rejectDigits||!(R=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const L=this._digitIsSub?this._subParams:this.params,Q=L[R-1];L[R-1]=~Q?Math.min(10*Q+r,_):r}}f.Params=P},5741:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AddonManager=void 0,f.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let _=this._addons.length-1;_>=0;_--)this._addons[_].instance.dispose()}loadAddon(_,P){const x={instance:P,dispose:P.dispose,isDisposed:!1};this._addons.push(x),P.dispose=()=>this._wrappedAddonDispose(x),P.activate(_)}_wrappedAddonDispose(_){if(_.isDisposed)return;let P=-1;for(let x=0;x<this._addons.length;x++)if(this._addons[x]===_){P=x;break}if(-1===P)throw new Error("Could not dispose an addon that has not been loaded");_.isDisposed=!0,_.dispose.apply(_.instance),this._addons.splice(P,1)}}},8771:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferApiView=void 0;const P=_(3785),x=_(511);f.BufferApiView=class{constructor(r,R){this._buffer=r,this.type=R}init(r){return this._buffer=r,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(r){const R=this._buffer.lines.get(r);if(R)return new P.BufferLineApiView(R)}getNullCell(){return new x.CellData}}},3785:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferLineApiView=void 0;const P=_(511);f.BufferLineApiView=class{constructor(x){this._line=x}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(x,r){if(!(x<0||x>=this._line.length))return r?(this._line.loadCell(x,r),r):this._line.loadCell(x,new P.CellData)}translateToString(x,r,R){return this._line.translateToString(x,r,R)}}},8285:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BufferNamespaceApi=void 0;const P=_(8771),x=_(8460),r=_(844);f.BufferNamespaceApi=class R extends r.Disposable{constructor(Q){super(),this._core=Q,this._onBufferChange=this.register(new x.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new P.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new P.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ParserApi=void 0,f.ParserApi=class{constructor(_){this._core=_}registerCsiHandler(_,P){return this._core.registerCsiHandler(_,x=>P(x.toArray()))}addCsiHandler(_,P){return this.registerCsiHandler(_,P)}registerDcsHandler(_,P){return this._core.registerDcsHandler(_,(x,r)=>P(x,r.toArray()))}addDcsHandler(_,P){return this.registerDcsHandler(_,P)}registerEscHandler(_,P){return this._core.registerEscHandler(_,P)}addEscHandler(_,P){return this.registerEscHandler(_,P)}registerOscHandler(_,P){return this._core.registerOscHandler(_,P)}addOscHandler(_,P){return this.registerOscHandler(_,P)}}},7090:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeApi=void 0,f.UnicodeApi=class{constructor(_){this._core=_}register(_){this._core.unicodeService.register(_)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(_){this._core.unicodeService.activeVersion=_}}},744:function(u,f,_){var P=this&&this.__decorate||function(T,y,E,D){var U,B=arguments.length,ce=B<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,E):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,E,D);else for(var $=T.length-1;$>=0;$--)(U=T[$])&&(ce=(B<3?U(ce):B>3?U(y,E,ce):U(y,E))||ce);return B>3&&ce&&Object.defineProperty(y,E,ce),ce},x=this&&this.__param||function(T,y){return function(E,D){y(E,D,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.BufferService=f.MINIMUM_ROWS=f.MINIMUM_COLS=void 0;const r=_(8460),R=_(844),L=_(5295),Q=_(2585);f.MINIMUM_COLS=2,f.MINIMUM_ROWS=1;let N=f.BufferService=class extends R.Disposable{get buffer(){return this.buffers.active}constructor(T){super(),this.isUserScrolling=!1,this._onResize=this.register(new r.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new r.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(T.rawOptions.cols||0,f.MINIMUM_COLS),this.rows=Math.max(T.rawOptions.rows||0,f.MINIMUM_ROWS),this.buffers=this.register(new L.BufferSet(T,this))}resize(T,y){this.cols=T,this.rows=y,this.buffers.resize(T,y),this._onResize.fire({cols:T,rows:y})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(T,y=!1){const E=this.buffer;let D;D=this._cachedBlankLine,D&&D.length===this.cols&&D.getFg(0)===T.fg&&D.getBg(0)===T.bg||(D=E.getBlankLine(T,y),this._cachedBlankLine=D),D.isWrapped=y;const U=E.ybase+E.scrollTop,B=E.ybase+E.scrollBottom;if(0===E.scrollTop){const ce=E.lines.isFull;B===E.lines.length-1?ce?E.lines.recycle().copyFrom(D):E.lines.push(D.clone()):E.lines.splice(B+1,0,D.clone()),ce?this.isUserScrolling&&(E.ydisp=Math.max(E.ydisp-1,0)):(E.ybase++,this.isUserScrolling||E.ydisp++)}else E.lines.shiftElements(U+1,B-U+1-1,-1),E.lines.set(B,D.clone());this.isUserScrolling||(E.ydisp=E.ybase),this._onScroll.fire(E.ydisp)}scrollLines(T,y,E){const D=this.buffer;if(T<0){if(0===D.ydisp)return;this.isUserScrolling=!0}else T+D.ydisp>=D.ybase&&(this.isUserScrolling=!1);const U=D.ydisp;D.ydisp=Math.max(Math.min(D.ydisp+T,D.ybase),0),U!==D.ydisp&&(y||this._onScroll.fire(D.ydisp))}};f.BufferService=N=P([x(0,Q.IOptionsService)],N)},7994:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CharsetService=void 0,f.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(_){this.glevel=_,this.charset=this._charsets[_]}setgCharset(_,P){this._charsets[_]=P,this.glevel===_&&(this.charset=P)}}},1753:function(u,f,_){var P=this&&this.__decorate||function(D,U,B,ce){var $,V=arguments.length,k=V<3?U:null===ce?ce=Object.getOwnPropertyDescriptor(U,B):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(D,U,B,ce);else for(var O=D.length-1;O>=0;O--)($=D[O])&&(k=(V<3?$(k):V>3?$(U,B,k):$(U,B))||k);return V>3&&k&&Object.defineProperty(U,B,k),k},x=this&&this.__param||function(D,U){return function(B,ce){U(B,ce,D)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreMouseService=void 0;const r=_(2585),R=_(8460),L=_(844),Q={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:D=>4!==D.button&&1===D.action&&(D.ctrl=!1,D.alt=!1,D.shift=!1,!0)},VT200:{events:19,restrict:D=>32!==D.action},DRAG:{events:23,restrict:D=>32!==D.action||3!==D.button},ANY:{events:31,restrict:D=>!0}};function N(D,U){let B=(D.ctrl?16:0)|(D.shift?4:0)|(D.alt?8:0);return 4===D.button?(B|=64,B|=D.action):(B|=3&D.button,4&D.button&&(B|=64),8&D.button&&(B|=128),32===D.action?B|=32:0!==D.action||U||(B|=3)),B}const T=String.fromCharCode,y={DEFAULT:D=>{const U=[N(D,!1)+32,D.col+32,D.row+32];return U[0]>255||U[1]>255||U[2]>255?"":`\x1b[M${T(U[0])}${T(U[1])}${T(U[2])}`},SGR:D=>{const U=0===D.action&&4!==D.button?"m":"M";return`\x1b[<${N(D,!0)};${D.col};${D.row}${U}`},SGR_PIXELS:D=>{const U=0===D.action&&4!==D.button?"m":"M";return`\x1b[<${N(D,!0)};${D.x};${D.y}${U}`}};let E=f.CoreMouseService=class extends L.Disposable{constructor(D,U){super(),this._bufferService=D,this._coreService=U,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new R.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const B of Object.keys(Q))this.addProtocol(B,Q[B]);for(const B of Object.keys(y))this.addEncoding(B,y[B]);this.reset()}addProtocol(D,U){this._protocols[D]=U}addEncoding(D,U){this._encodings[D]=U}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(D){if(!this._protocols[D])throw new Error(`unknown protocol "${D}"`);this._activeProtocol=D,this._onProtocolChange.fire(this._protocols[D].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(D){if(!this._encodings[D])throw new Error(`unknown encoding "${D}"`);this._activeEncoding=D}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(D){if(D.col<0||D.col>=this._bufferService.cols||D.row<0||D.row>=this._bufferService.rows||4===D.button&&32===D.action||3===D.button&&32!==D.action||4!==D.button&&(2===D.action||3===D.action)||(D.col++,D.row++,32===D.action&&this._lastEvent&&this._equalEvents(this._lastEvent,D,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(D))return!1;const U=this._encodings[this._activeEncoding](D);return U&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(U):this._coreService.triggerDataEvent(U,!0)),this._lastEvent=D,!0}explainEvents(D){return{down:!!(1&D),up:!!(2&D),drag:!!(4&D),move:!!(8&D),wheel:!!(16&D)}}_equalEvents(D,U,B){if(B){if(D.x!==U.x||D.y!==U.y)return!1}else if(D.col!==U.col||D.row!==U.row)return!1;return D.button===U.button&&D.action===U.action&&D.ctrl===U.ctrl&&D.alt===U.alt&&D.shift===U.shift}};f.CoreMouseService=E=P([x(0,r.IBufferService),x(1,r.ICoreService)],E)},6975:function(u,f,_){var P=this&&this.__decorate||function(E,D,U,B){var ce,$=arguments.length,V=$<3?D:null===B?B=Object.getOwnPropertyDescriptor(D,U):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(E,D,U,B);else for(var k=E.length-1;k>=0;k--)(ce=E[k])&&(V=($<3?ce(V):$>3?ce(D,U,V):ce(D,U))||V);return $>3&&V&&Object.defineProperty(D,U,V),V},x=this&&this.__param||function(E,D){return function(U,B){D(U,B,E)}};Object.defineProperty(f,"__esModule",{value:!0}),f.CoreService=void 0;const r=_(1439),R=_(8460),L=_(844),Q=_(2585),N=Object.freeze({insertMode:!1}),T=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let y=f.CoreService=class extends L.Disposable{constructor(E,D,U){super(),this._bufferService=E,this._logService=D,this._optionsService=U,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new R.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new R.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new R.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new R.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,r.clone)(N),this.decPrivateModes=(0,r.clone)(T)}reset(){this.modes=(0,r.clone)(N),this.decPrivateModes=(0,r.clone)(T)}triggerDataEvent(E,D=!1){if(this._optionsService.rawOptions.disableStdin)return;const U=this._bufferService.buffer;D&&this._optionsService.rawOptions.scrollOnUserInput&&U.ybase!==U.ydisp&&this._onRequestScrollToBottom.fire(),D&&this._onUserInput.fire(),this._logService.debug(`sending data "${E}"`,()=>E.split("").map(B=>B.charCodeAt(0))),this._onData.fire(E)}triggerBinaryEvent(E){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${E}"`,()=>E.split("").map(D=>D.charCodeAt(0))),this._onBinary.fire(E))}};f.CoreService=y=P([x(0,Q.IBufferService),x(1,Q.ILogService),x(2,Q.IOptionsService)],y)},9074:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DecorationService=void 0;const P=_(8055),x=_(8460),r=_(844),R=_(6106);let L=0,Q=0;f.DecorationService=class N extends r.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new R.SortedList(E=>null==E?void 0:E.marker.line),this._onDecorationRegistered=this.register(new x.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new x.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,r.toDisposable)(()=>this.reset()))}registerDecoration(E){if(E.marker.isDisposed)return;const D=new T(E);if(D){const U=D.marker.onDispose(()=>D.dispose());D.onDispose(()=>{D&&(this._decorations.delete(D)&&this._onDecorationRemoved.fire(D),U.dispose())}),this._decorations.insert(D),this._onDecorationRegistered.fire(D)}return D}reset(){for(const E of this._decorations.values())E.dispose();this._decorations.clear()}*getDecorationsAtCell(E,D,U){var B,ce,$;let V=0,k=0;for(const O of this._decorations.getKeyIterator(D))V=null!==(B=O.options.x)&&void 0!==B?B:0,k=V+(null!==(ce=O.options.width)&&void 0!==ce?ce:1),E>=V&&E<k&&(!U||(null!==($=O.options.layer)&&void 0!==$?$:"bottom")===U)&&(yield O)}forEachDecorationAtCell(E,D,U,B){this._decorations.forEachByKey(D,ce=>{var $,V,k;L=null!==($=ce.options.x)&&void 0!==$?$:0,Q=L+(null!==(V=ce.options.width)&&void 0!==V?V:1),E>=L&&E<Q&&(!U||(null!==(k=ce.options.layer)&&void 0!==k?k:"bottom")===U)&&B(ce)})}};class T extends r.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?P.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?P.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(E){super(),this.options=E,this.onRenderEmitter=this.register(new x.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new x.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=E.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.InstantiationService=f.ServiceCollection=void 0;const P=_(2585),x=_(8343);class r{constructor(...L){this._entries=new Map;for(const[Q,N]of L)this.set(Q,N)}set(L,Q){const N=this._entries.get(L);return this._entries.set(L,Q),N}forEach(L){for(const[Q,N]of this._entries.entries())L(Q,N)}has(L){return this._entries.has(L)}get(L){return this._entries.get(L)}}f.ServiceCollection=r,f.InstantiationService=class{constructor(){this._services=new r,this._services.set(P.IInstantiationService,this)}setService(R,L){this._services.set(R,L)}getService(R){return this._services.get(R)}createInstance(R,...L){const Q=(0,x.getServiceDependencies)(R).sort((y,E)=>y.index-E.index),N=[];for(const y of Q){const E=this._services.get(y.id);if(!E)throw new Error(`[createInstance] ${R.name} depends on UNKNOWN service ${y.id}.`);N.push(E)}const T=Q.length>0?Q[0].index:L.length;if(L.length!==T)throw new Error(`[createInstance] First service dependency of ${R.name} at position ${T+1} conflicts with ${L.length} static arguments`);return new R(...L,...N)}}},7866:function(u,f,_){var P=this&&this.__decorate||function(T,y,E,D){var U,B=arguments.length,ce=B<3?y:null===D?D=Object.getOwnPropertyDescriptor(y,E):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ce=Reflect.decorate(T,y,E,D);else for(var $=T.length-1;$>=0;$--)(U=T[$])&&(ce=(B<3?U(ce):B>3?U(y,E,ce):U(y,E))||ce);return B>3&&ce&&Object.defineProperty(y,E,ce),ce},x=this&&this.__param||function(T,y){return function(E,D){y(E,D,T)}};Object.defineProperty(f,"__esModule",{value:!0}),f.traceCall=f.setTraceLogger=f.LogService=void 0;const r=_(844),R=_(2585),L={trace:R.LogLevelEnum.TRACE,debug:R.LogLevelEnum.DEBUG,info:R.LogLevelEnum.INFO,warn:R.LogLevelEnum.WARN,error:R.LogLevelEnum.ERROR,off:R.LogLevelEnum.OFF};let Q,N=f.LogService=class extends r.Disposable{get logLevel(){return this._logLevel}constructor(T){super(),this._optionsService=T,this._logLevel=R.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),Q=this}_updateLogLevel(){this._logLevel=L[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(T){for(let y=0;y<T.length;y++)"function"==typeof T[y]&&(T[y]=T[y]())}_log(T,y,E){this._evalLazyOptionalParams(E),T.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+y,...E)}trace(T,...y){var E,D;this._logLevel<=R.LogLevelEnum.TRACE&&this._log(null!==(D=null===(E=this._optionsService.options.logger)||void 0===E?void 0:E.trace.bind(this._optionsService.options.logger))&&void 0!==D?D:console.log,T,y)}debug(T,...y){var E,D;this._logLevel<=R.LogLevelEnum.DEBUG&&this._log(null!==(D=null===(E=this._optionsService.options.logger)||void 0===E?void 0:E.debug.bind(this._optionsService.options.logger))&&void 0!==D?D:console.log,T,y)}info(T,...y){var E,D;this._logLevel<=R.LogLevelEnum.INFO&&this._log(null!==(D=null===(E=this._optionsService.options.logger)||void 0===E?void 0:E.info.bind(this._optionsService.options.logger))&&void 0!==D?D:console.info,T,y)}warn(T,...y){var E,D;this._logLevel<=R.LogLevelEnum.WARN&&this._log(null!==(D=null===(E=this._optionsService.options.logger)||void 0===E?void 0:E.warn.bind(this._optionsService.options.logger))&&void 0!==D?D:console.warn,T,y)}error(T,...y){var E,D;this._logLevel<=R.LogLevelEnum.ERROR&&this._log(null!==(D=null===(E=this._optionsService.options.logger)||void 0===E?void 0:E.error.bind(this._optionsService.options.logger))&&void 0!==D?D:console.error,T,y)}};f.LogService=N=P([x(0,R.IOptionsService)],N),f.setTraceLogger=function(T){Q=T},f.traceCall=function(T,y,E){if("function"!=typeof E.value)throw new Error("not supported");const D=E.value;E.value=function(...U){if(Q.logLevel!==R.LogLevelEnum.TRACE)return D.apply(this,U);Q.trace(`GlyphRenderer#${D.name}(${U.map(ce=>JSON.stringify(ce)).join(", ")})`);const B=D.apply(this,U);return Q.trace(`GlyphRenderer#${D.name} return`,B),B}}},7302:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OptionsService=f.DEFAULT_OPTIONS=void 0;const P=_(8460),x=_(844),r=_(6114);f.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:r.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const R=["normal","bold","100","200","300","400","500","600","700","800","900"];f.OptionsService=class L extends x.Disposable{constructor(N){super(),this._onOptionChange=this.register(new P.EventEmitter),this.onOptionChange=this._onOptionChange.event;const T=Object.assign({},f.DEFAULT_OPTIONS);for(const y in N)if(y in T)try{T[y]=this._sanitizeAndValidateOption(y,N[y])}catch(E){console.error(E)}this.rawOptions=T,this.options=Object.assign({},T),this._setupOptions()}onSpecificOptionChange(N,T){return this.onOptionChange(y=>{y===N&&T(this.rawOptions[N])})}onMultipleOptionChange(N,T){return this.onOptionChange(y=>{-1!==N.indexOf(y)&&T()})}_setupOptions(){const N=y=>{if(!(y in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);return this.rawOptions[y]},T=(y,E)=>{if(!(y in f.DEFAULT_OPTIONS))throw new Error(`No option with key "${y}"`);E=this._sanitizeAndValidateOption(y,E),this.rawOptions[y]!==E&&(this.rawOptions[y]=E,this._onOptionChange.fire(y))};for(const y in this.rawOptions){const E={get:N.bind(this,y),set:T.bind(this,y)};Object.defineProperty(this.options,y,E)}}_sanitizeAndValidateOption(N,T){switch(N){case"cursorStyle":if(T||(T=f.DEFAULT_OPTIONS[N]),"block"!==(y=T)&&"underline"!==y&&"bar"!==y)throw new Error(`"${T}" is not a valid value for ${N}`);break;case"wordSeparator":T||(T=f.DEFAULT_OPTIONS[N]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof T&&1<=T&&T<=1e3)break;T=R.includes(T)?T:f.DEFAULT_OPTIONS[N];break;case"cursorWidth":T=Math.floor(T);case"lineHeight":case"tabStopWidth":if(T<1)throw new Error(`${N} cannot be less than 1, value: ${T}`);break;case"minimumContrastRatio":T=Math.max(1,Math.min(21,Math.round(10*T)/10));break;case"scrollback":if((T=Math.min(T,4294967295))<0)throw new Error(`${N} cannot be less than 0, value: ${T}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(T<=0)throw new Error(`${N} cannot be less than or equal to 0, value: ${T}`);break;case"rows":case"cols":if(!T&&0!==T)throw new Error(`${N} must be numeric, value: ${T}`);break;case"windowsPty":T=null!=T?T:{}}var y;return T}}},2660:function(u,f,_){var P=this&&this.__decorate||function(L,Q,N,T){var y,E=arguments.length,D=E<3?Q:null===T?T=Object.getOwnPropertyDescriptor(Q,N):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(L,Q,N,T);else for(var U=L.length-1;U>=0;U--)(y=L[U])&&(D=(E<3?y(D):E>3?y(Q,N,D):y(Q,N))||D);return E>3&&D&&Object.defineProperty(Q,N,D),D},x=this&&this.__param||function(L,Q){return function(N,T){Q(N,T,L)}};Object.defineProperty(f,"__esModule",{value:!0}),f.OscLinkService=void 0;const r=_(2585);let R=f.OscLinkService=class{constructor(L){this._bufferService=L,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(L){const Q=this._bufferService.buffer;if(void 0===L.id){const U=Q.addMarker(Q.ybase+Q.y),B={data:L,id:this._nextId++,lines:[U]};return U.onDispose(()=>this._removeMarkerFromLink(B,U)),this._dataByLinkId.set(B.id,B),B.id}const N=L,T=this._getEntryIdKey(N),y=this._entriesWithId.get(T);if(y)return this.addLineToLink(y.id,Q.ybase+Q.y),y.id;const E=Q.addMarker(Q.ybase+Q.y),D={id:this._nextId++,key:this._getEntryIdKey(N),data:N,lines:[E]};return E.onDispose(()=>this._removeMarkerFromLink(D,E)),this._entriesWithId.set(D.key,D),this._dataByLinkId.set(D.id,D),D.id}addLineToLink(L,Q){const N=this._dataByLinkId.get(L);if(N&&N.lines.every(T=>T.line!==Q)){const T=this._bufferService.buffer.addMarker(Q);N.lines.push(T),T.onDispose(()=>this._removeMarkerFromLink(N,T))}}getLinkData(L){var Q;return null===(Q=this._dataByLinkId.get(L))||void 0===Q?void 0:Q.data}_getEntryIdKey(L){return`${L.id};;${L.uri}`}_removeMarkerFromLink(L,Q){const N=L.lines.indexOf(Q);-1!==N&&(L.lines.splice(N,1),0===L.lines.length&&(void 0!==L.data.id&&this._entriesWithId.delete(L.key),this._dataByLinkId.delete(L.id)))}};f.OscLinkService=R=P([x(0,r.IBufferService)],R)},8343:(u,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.createDecorator=f.getServiceDependencies=f.serviceRegistry=void 0;const _="di$target",P="di$dependencies";f.serviceRegistry=new Map,f.getServiceDependencies=function(x){return x[P]||[]},f.createDecorator=function(x){if(f.serviceRegistry.has(x))return f.serviceRegistry.get(x);const r=function(R,L,Q){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var N,T,y;N=r,y=Q,(T=R)[_]===T?T[P].push({id:N,index:y}):(T[P]=[{id:N,index:y}],T[_]=T)};return r.toString=()=>x,f.serviceRegistry.set(x,r),r}},2585:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IDecorationService=f.IUnicodeService=f.IOscLinkService=f.IOptionsService=f.ILogService=f.LogLevelEnum=f.IInstantiationService=f.ICharsetService=f.ICoreService=f.ICoreMouseService=f.IBufferService=void 0;const P=_(8343);var x,r;f.IBufferService=(0,P.createDecorator)("BufferService"),f.ICoreMouseService=(0,P.createDecorator)("CoreMouseService"),f.ICoreService=(0,P.createDecorator)("CoreService"),f.ICharsetService=(0,P.createDecorator)("CharsetService"),f.IInstantiationService=(0,P.createDecorator)("InstantiationService"),(r=x||(f.LogLevelEnum=x={}))[r.TRACE=0]="TRACE",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.OFF=5]="OFF",f.ILogService=(0,P.createDecorator)("LogService"),f.IOptionsService=(0,P.createDecorator)("OptionsService"),f.IOscLinkService=(0,P.createDecorator)("OscLinkService"),f.IUnicodeService=(0,P.createDecorator)("UnicodeService"),f.IDecorationService=(0,P.createDecorator)("DecorationService")},1480:(u,f,_)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnicodeService=void 0;const P=_(8460),x=_(225);f.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new P.EventEmitter,this.onChange=this._onChange.event;const r=new x.UnicodeV6;this.register(r),this._active=r.version,this._activeProvider=r}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(r){if(!this._providers[r])throw new Error(`unknown Unicode version "${r}"`);this._active=r,this._activeProvider=this._providers[r],this._onChange.fire(r)}register(r){this._providers[r.version]=r}wcwidth(r){return this._activeProvider.wcwidth(r)}getStringCellWidth(r){let R=0;const L=r.length;for(let Q=0;Q<L;++Q){let N=r.charCodeAt(Q);if(55296<=N&&N<=56319){if(++Q>=L)return R+this.wcwidth(N);const T=r.charCodeAt(Q);56320<=T&&T<=57343?N=1024*(N-55296)+T-56320+65536:R+=this.wcwidth(T)}R+=this.wcwidth(N)}return R}}}},b={};function e(u){var f=b[u];if(void 0!==f)return f.exports;var _=b[u]={exports:{}};return ft[u].call(_.exports,_,_.exports,e),_.exports}var d={};return(()=>{var u=d;Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const f=e(9042),_=e(3236),P=e(844),x=e(5741),r=e(8285),R=e(7975),L=e(7090),Q=["cols","rows"];u.Terminal=class N extends P.Disposable{constructor(y){super(),this._core=this.register(new _.Terminal(y)),this._addonManager=this.register(new x.AddonManager),this._publicOptions=Object.assign({},this._core.options);const E=U=>this._core.options[U],D=(U,B)=>{this._checkReadonlyOptions(U),this._core.options[U]=B};for(const U in this._core.options){const B={get:E.bind(this,U),set:D.bind(this,U)};Object.defineProperty(this._publicOptions,U,B)}}_checkReadonlyOptions(y){if(Q.includes(y))throw new Error(`Option "${y}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new R.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new L.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new r.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const y=this._core.coreService.decPrivateModes;let E="none";switch(this._core.coreMouseService.activeProtocol){case"X10":E="x10";break;case"VT200":E="vt200";break;case"DRAG":E="drag";break;case"ANY":E="any"}return{applicationCursorKeysMode:y.applicationCursorKeys,applicationKeypadMode:y.applicationKeypad,bracketedPasteMode:y.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:E,originMode:y.origin,reverseWraparoundMode:y.reverseWraparound,sendFocusMode:y.sendFocus,wraparoundMode:y.wraparound}}get options(){return this._publicOptions}set options(y){for(const E in y)this._publicOptions[E]=y[E]}blur(){this._core.blur()}focus(){this._core.focus()}resize(y,E){this._verifyIntegers(y,E),this._core.resize(y,E)}open(y){this._core.open(y)}attachCustomKeyEventHandler(y){this._core.attachCustomKeyEventHandler(y)}registerLinkProvider(y){return this._core.registerLinkProvider(y)}registerCharacterJoiner(y){return this._checkProposedApi(),this._core.registerCharacterJoiner(y)}deregisterCharacterJoiner(y){this._checkProposedApi(),this._core.deregisterCharacterJoiner(y)}registerMarker(y=0){return this._verifyIntegers(y),this._core.registerMarker(y)}registerDecoration(y){var E,D,U;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(E=y.x)&&void 0!==E?E:0,null!==(D=y.width)&&void 0!==D?D:0,null!==(U=y.height)&&void 0!==U?U:0),this._core.registerDecoration(y)}hasSelection(){return this._core.hasSelection()}select(y,E,D){this._verifyIntegers(y,E,D),this._core.select(y,E,D)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(y,E){this._verifyIntegers(y,E),this._core.selectLines(y,E)}dispose(){super.dispose()}scrollLines(y){this._verifyIntegers(y),this._core.scrollLines(y)}scrollPages(y){this._verifyIntegers(y),this._core.scrollPages(y)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(y){this._verifyIntegers(y),this._core.scrollToLine(y)}clear(){this._core.clear()}write(y,E){this._core.write(y,E)}writeln(y,E){this._core.write(y),this._core.write("\r\n",E)}paste(y){this._core.paste(y)}refresh(y,E){this._verifyIntegers(y,E),this._core.refresh(y,E)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(y){this._addonManager.loadAddon(this,y)}static get strings(){return f}_verifyIntegers(...y){for(const E of y)if(E===1/0||isNaN(E)||E%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...y){for(const E of y)if(E&&(E===1/0||isNaN(E)||E%1!=0||E<0))throw new Error("This API only accepts positive integers")}}})(),d})())()},5987:(hn,ft,b)=>{"use strict";function r(G,ne,Ce,oe){return new(Ce||(Ce=Promise))(function(te,W){function Y(qe){try{Ee(oe.next(qe))}catch(ye){W(ye)}}function Ae(qe){try{Ee(oe.throw(qe))}catch(ye){W(ye)}}function Ee(qe){qe.done?te(qe.value):function z(te){return te instanceof Ce?te:new Ce(function(W){W(te)})}(qe.value).then(Y,Ae)}Ee((oe=oe.apply(G,ne||[])).next())})}function U(G){return this instanceof U?(this.v=G,this):new U(G)}function B(G,ne,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,oe=Ce.apply(G,ne||[]),te=[];return z={},W("next"),W("throw"),W("return"),z[Symbol.asyncIterator]=function(){return this},z;function W(Ge){oe[Ge]&&(z[Ge]=function(X){return new Promise(function(be,we){te.push([Ge,X,be,we])>1||Y(Ge,X)})})}function Y(Ge,X){try{!function Ae(Ge){Ge.value instanceof U?Promise.resolve(Ge.value.v).then(Ee,qe):ye(te[0][2],Ge)}(oe[Ge](X))}catch(be){ye(te[0][3],be)}}function Ee(Ge){Y("next",Ge)}function qe(Ge){Y("throw",Ge)}function ye(Ge,X){Ge(X),te.shift(),te.length&&Y(te[0][0],te[0][1])}}function $(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ne=G[Symbol.asyncIterator];return ne?ne.call(G):(G=function N(G){var ne="function"==typeof Symbol&&Symbol.iterator,Ce=ne&&G[ne],oe=0;if(Ce)return Ce.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&oe>=G.length&&(G=void 0),{value:G&&G[oe++],done:!G}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),Ce={},oe("next"),oe("throw"),oe("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function oe(te){Ce[te]=G[te]&&function(W){return new Promise(function(Y,Ae){!function z(te,W,Y,Ae){Promise.resolve(Ae).then(function(Ee){te({value:Ee,done:Y})},W)}(Y,Ae,(W=G[te](W)).done,W.value)})}}}b.d(ft,{FC:()=>B,KL:()=>$,mG:()=>r,qq:()=>U})},655:(hn,ft,b)=>{"use strict";function f(ne,Ce){var oe={};for(var z in ne)Object.prototype.hasOwnProperty.call(ne,z)&&Ce.indexOf(z)<0&&(oe[z]=ne[z]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(z=Object.getOwnPropertySymbols(ne);te<z.length;te++)Ce.indexOf(z[te])<0&&Object.prototype.propertyIsEnumerable.call(ne,z[te])&&(oe[z[te]]=ne[z[te]])}return oe}function _(ne,Ce,oe,z){var Y,te=arguments.length,W=te<3?Ce:null===z?z=Object.getOwnPropertyDescriptor(Ce,oe):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(ne,Ce,oe,z);else for(var Ae=ne.length-1;Ae>=0;Ae--)(Y=ne[Ae])&&(W=(te<3?Y(W):te>3?Y(Ce,oe,W):Y(Ce,oe))||W);return te>3&&W&&Object.defineProperty(Ce,oe,W),W}function r(ne,Ce,oe,z){return new(oe||(oe=Promise))(function(W,Y){function Ae(ye){try{qe(z.next(ye))}catch(Ge){Y(Ge)}}function Ee(ye){try{qe(z.throw(ye))}catch(Ge){Y(Ge)}}function qe(ye){ye.done?W(ye.value):function te(W){return W instanceof oe?W:new oe(function(Y){Y(W)})}(ye.value).then(Ae,Ee)}qe((z=z.apply(ne,Ce||[])).next())})}b.d(ft,{_T:()=>f,gn:()=>_,mG:()=>r})},1777:(hn,ft,b)=>{"use strict";b.d(ft,{EY:()=>D,IO:()=>E,LC:()=>d,SB:()=>R,X$:()=>f,ZE:()=>ce,ZN:()=>B,_7:()=>y,_j:()=>e,eR:()=>Q,jt:()=>_,k1:()=>$,l3:()=>u,oB:()=>r,oQ:()=>N,pV:()=>T,vP:()=>x});class e{}class d{}const u="*";function f(V,k){return{type:7,name:V,definitions:k,options:{}}}function _(V,k=null){return{type:4,styles:k,timings:V}}function x(V,k=null){return{type:2,steps:V,options:k}}function r(V){return{type:6,styles:V,offset:null}}function R(V,k,O){return{type:0,name:V,styles:k,options:O}}function Q(V,k,O=null){return{type:1,expr:V,animation:k,options:O}}function N(V,k=null){return{type:8,animation:V,options:k}}function T(V=null){return{type:9,options:V}}function y(V,k=null){return{type:10,animation:V,options:k}}function E(V,k,O=null){return{type:11,selector:V,animation:k,options:O}}function D(V,k){return{type:12,timings:V,animation:k}}function U(V){Promise.resolve().then(V)}class B{constructor(k=0,O=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=k+O}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(k=>k()),this._onDoneFns=[])}onStart(k){this._originalOnStartFns.push(k),this._onStartFns.push(k)}onDone(k){this._originalOnDoneFns.push(k),this._onDoneFns.push(k)}onDestroy(k){this._onDestroyFns.push(k)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){U(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(k=>k()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(k=>k()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(k){this._position=this.totalTime?k*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(k){const O="start"==k?this._onStartFns:this._onDoneFns;O.forEach(K=>K()),O.length=0}}class ce{constructor(k){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=k;let O=0,K=0,ue=0;const q=this.players.length;0==q?U(()=>this._onFinish()):this.players.forEach(G=>{G.onDone(()=>{++O==q&&this._onFinish()}),G.onDestroy(()=>{++K==q&&this._onDestroy()}),G.onStart(()=>{++ue==q&&this._onStart()})}),this.totalTime=this.players.reduce((G,ne)=>Math.max(G,ne.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(k=>k()),this._onDoneFns=[])}init(){this.players.forEach(k=>k.init())}onStart(k){this._onStartFns.push(k)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(k=>k()),this._onStartFns=[])}onDone(k){this._onDoneFns.push(k)}onDestroy(k){this._onDestroyFns.push(k)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(k=>k.play())}pause(){this.players.forEach(k=>k.pause())}restart(){this.players.forEach(k=>k.restart())}finish(){this._onFinish(),this.players.forEach(k=>k.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(k=>k.destroy()),this._onDestroyFns.forEach(k=>k()),this._onDestroyFns=[])}reset(){this.players.forEach(k=>k.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(k){const O=k*this.totalTime;this.players.forEach(K=>{const ue=K.totalTime?Math.min(1,O/K.totalTime):1;K.setPosition(ue)})}getPosition(){const k=this.players.reduce((O,K)=>null===O||K.totalTime>O.totalTime?K:O,null);return null!=k?k.getPosition():0}beforeDestroy(){this.players.forEach(k=>{k.beforeDestroy&&k.beforeDestroy()})}triggerCallback(k){const O="start"==k?this._onStartFns:this._onDoneFns;O.forEach(K=>K()),O.length=0}}const $="!"},226:(hn,ft,b)=>{"use strict";b.d(ft,{Is:()=>x,vT:()=>R});var e=b(5e3),d=b(9808);const u=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function f(){return(0,e.f3M)(d.K0)}}),_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let x=(()=>{class L{constructor(N){if(this.value="ltr",this.change=new e.vpe,N){const y=N.documentElement?N.documentElement.dir:null;this.value=function P(L){const Q=(null==L?void 0:L.toLowerCase())||"";return"auto"===Q&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?_.test(navigator.language)?"rtl":"ltr":"rtl"===Q?"rtl":"ltr"}((N.body?N.body.dir:null)||y||"ltr")}}ngOnDestroy(){this.change.complete()}}return L.\u0275fac=function(N){return new(N||L)(e.LFG(u,8))},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),R=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({}),L})()},3191:(hn,ft,b)=>{"use strict";b.d(ft,{Eq:()=>_,Ig:()=>d,fI:()=>x,su:()=>u});var e=b(5e3);function d(R){return null!=R&&"false"!=`${R}`}function u(R,L=0){return function f(R){return!isNaN(parseFloat(R))&&!isNaN(Number(R))}(R)?Number(R):L}function _(R){return Array.isArray(R)?R:[R]}function x(R){return R instanceof e.SBq?R.nativeElement:R}},5573:(hn,ft,b)=>{"use strict";b.d(ft,{Zt:()=>Sn,Wj:()=>Ct,Fd:()=>Co,_t:()=>zn,bA:()=>_a,EA:()=>Ma});var e=b(5e3),d=b(9808),u=b(925),f=b(3191),So=b(7579),ks=b(727),Mi=b(7445),es=b(6406),Bo=b(9751),Zr=b(6451),Po=b(2722),To=b(8675),Li=b(4004),ur=b(5698),ma=b(8505),Qn=b(3900),Ri=b(6731),zs=b(226);function Yr(Yt,Ne,Be){for(let _t in Ne)if(Ne.hasOwnProperty(_t)){const Ft=Ne[_t];Ft?Yt.setProperty(_t,Ft,null!=Be&&Be.has(_t)?"important":""):Yt.removeProperty(_t)}return Yt}function eo(Yt,Ne){const Be=Ne?"":"none";Yr(Yt.style,{"touch-action":Ne?"":"none","-webkit-user-drag":Ne?"":"none","-webkit-tap-highlight-color":Ne?"":"transparent","user-select":Be,"-ms-user-select":Be,"-webkit-user-select":Be,"-moz-user-select":Be})}function Xr(Yt,Ne,Be){Yr(Yt.style,{position:Ne?"":"fixed",top:Ne?"":"0",opacity:Ne?"":"0",left:Ne?"":"-999em"},Be)}function dr(Yt,Ne){return Ne&&"none"!=Ne?Yt+" "+Ne:Yt}function Ds(Yt){const Ne=Yt.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Yt)*Ne}function Is(Yt,Ne){return Yt.getPropertyValue(Ne).split(",").map(_t=>_t.trim())}function Js(Yt){const Ne=Yt.getBoundingClientRect();return{top:Ne.top,right:Ne.right,bottom:Ne.bottom,left:Ne.left,width:Ne.width,height:Ne.height,x:Ne.x,y:Ne.y}}function jr(Yt,Ne,Be){const{top:_t,bottom:Ft,left:an,right:An}=Yt;return Be>=_t&&Be<=Ft&&Ne>=an&&Ne<=An}function it(Yt,Ne,Be){Yt.top+=Ne,Yt.bottom=Yt.top+Yt.height,Yt.left+=Be,Yt.right=Yt.left+Yt.width}function Ue(Yt,Ne,Be,_t){const{top:Ft,right:an,bottom:An,left:On,width:ti,height:Yn}=Yt,Ai=ti*Ne,yo=Yn*Ne;return _t>Ft-yo&&_t<An+yo&&Be>On-Ai&&Be<an+Ai}class De{constructor(Ne){this._document=Ne,this.positions=new Map}clear(){this.positions.clear()}cache(Ne){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),Ne.forEach(Be=>{this.positions.set(Be,{scrollPosition:{top:Be.scrollTop,left:Be.scrollLeft},clientRect:Js(Be)})})}handleScroll(Ne){const Be=(0,u.sA)(Ne),_t=this.positions.get(Be);if(!_t)return null;const Ft=_t.scrollPosition;let an,An;if(Be===this._document){const Yn=this.getViewportScrollPosition();an=Yn.top,An=Yn.left}else an=Be.scrollTop,An=Be.scrollLeft;const On=Ft.top-an,ti=Ft.left-An;return this.positions.forEach((Yn,Ai)=>{Yn.clientRect&&Be!==Ai&&Be.contains(Ai)&&it(Yn.clientRect,On,ti)}),Ft.top=an,Ft.left=An,{top:On,left:ti}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Mt(Yt){const Ne=Yt.cloneNode(!0),Be=Ne.querySelectorAll("[id]"),_t=Yt.nodeName.toLowerCase();Ne.removeAttribute("id");for(let Ft=0;Ft<Be.length;Ft++)Be[Ft].removeAttribute("id");return"canvas"===_t?_o(Yt,Ne):("input"===_t||"select"===_t||"textarea"===_t)&&Gi(Yt,Ne),Ln("canvas",Yt,Ne,_o),Ln("input, textarea, select",Yt,Ne,Gi),Ne}function Ln(Yt,Ne,Be,_t){const Ft=Ne.querySelectorAll(Yt);if(Ft.length){const an=Be.querySelectorAll(Yt);for(let An=0;An<Ft.length;An++)_t(Ft[An],an[An])}}let mi=0;function Gi(Yt,Ne){"file"!==Ne.type&&(Ne.value=Yt.value),"radio"===Ne.type&&Ne.name&&(Ne.name=`mat-clone-${Ne.name}-${mi++}`)}function _o(Yt,Ne){const Be=Ne.getContext("2d");if(Be)try{Be.drawImage(Yt,0,0)}catch(_t){}}const Lo=(0,u.i$)({passive:!0}),gs=(0,u.i$)({passive:!1}),pr=new Set(["position"]);class Dr{constructor(Ne,Be,_t,Ft,an,An){this._config=Be,this._document=_t,this._ngZone=Ft,this._viewportRuler=an,this._dragDropRegistry=An,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new So.x,this._pointerMoveSubscription=ks.w0.EMPTY,this._pointerUpSubscription=ks.w0.EMPTY,this._scrollSubscription=ks.w0.EMPTY,this._resizeSubscription=ks.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new So.x,this.started=new So.x,this.released=new So.x,this.ended=new So.x,this.entered=new So.x,this.exited=new So.x,this.dropped=new So.x,this.moved=this._moveEvents,this._pointerDown=On=>{if(this.beforeStarted.next(),this._handles.length){const ti=this._getTargetHandle(On);ti&&!this._disabledHandles.has(ti)&&!this.disabled&&this._initializeDragSequence(ti,On)}else this.disabled||this._initializeDragSequence(this._rootElement,On)},this._pointerMove=On=>{const ti=this._getPointerPositionOnPage(On);if(!this._hasStartedDragging){if(Math.abs(ti.x-this._pickupPositionOnPage.x)+Math.abs(ti.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const qo=Date.now()>=this._dragStartTime+this._getDragStartDelay(On),oo=this._dropContainer;if(!qo)return void this._endDragSequence(On);(!oo||!oo.isDragging()&&!oo.isReceiving())&&(On.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(On)))}return}On.preventDefault();const Yn=this._getConstrainedPointerPosition(ti);if(this._hasMoved=!0,this._lastKnownPointerPosition=ti,this._updatePointerDirectionDelta(Yn),this._dropContainer)this._updateActiveDropContainer(Yn,ti);else{const Ai=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,yo=this._activeTransform;yo.x=Yn.x-Ai.x+this._passiveTransform.x,yo.y=Yn.y-Ai.y+this._passiveTransform.y,this._applyRootElementTransform(yo.x,yo.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Yn,event:On,distance:this._getDragDistance(Yn),delta:this._pointerDirectionDelta})})},this._pointerUp=On=>{this._endDragSequence(On)},this._nativeDragStart=On=>{if(this._handles.length){const ti=this._getTargetHandle(On);ti&&!this._disabledHandles.has(ti)&&!this.disabled&&On.preventDefault()}else this.disabled||On.preventDefault()},this.withRootElement(Ne).withParent(Be.parentDragRef||null),this._parentPositions=new De(_t),An.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(Ne){const Be=(0,f.Ig)(Ne);Be!==this._disabled&&(this._disabled=Be,this._toggleNativeDragInteractions(),this._handles.forEach(_t=>eo(_t,Be)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(Ne){this._handles=Ne.map(_t=>(0,f.fI)(_t)),this._handles.forEach(_t=>eo(_t,this.disabled)),this._toggleNativeDragInteractions();const Be=new Set;return this._disabledHandles.forEach(_t=>{this._handles.indexOf(_t)>-1&&Be.add(_t)}),this._disabledHandles=Be,this}withPreviewTemplate(Ne){return this._previewTemplate=Ne,this}withPlaceholderTemplate(Ne){return this._placeholderTemplate=Ne,this}withRootElement(Ne){const Be=(0,f.fI)(Ne);return Be!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{Be.addEventListener("mousedown",this._pointerDown,gs),Be.addEventListener("touchstart",this._pointerDown,Lo),Be.addEventListener("dragstart",this._nativeDragStart,gs)}),this._initialTransform=void 0,this._rootElement=Be),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(Ne){return this._boundaryElement=Ne?(0,f.fI)(Ne):null,this._resizeSubscription.unsubscribe(),Ne&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(Ne){return this._parentDragRef=Ne,this}dispose(){var Ne,Be;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(Ne=this._rootElement)||void 0===Ne||Ne.remove()),null===(Be=this._anchor)||void 0===Be||Be.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(Ne){!this._disabledHandles.has(Ne)&&this._handles.indexOf(Ne)>-1&&(this._disabledHandles.add(Ne),eo(Ne,!0))}enableHandle(Ne){this._disabledHandles.has(Ne)&&(this._disabledHandles.delete(Ne),eo(Ne,this.disabled))}withDirection(Ne){return this._direction=Ne,this}_withDropContainer(Ne){this._dropContainer=Ne}getFreeDragPosition(){const Ne=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:Ne.x,y:Ne.y}}setFreeDragPosition(Ne){return this._activeTransform={x:0,y:0},this._passiveTransform.x=Ne.x,this._passiveTransform.y=Ne.y,this._dropContainer||this._applyRootElementTransform(Ne.x,Ne.y),this}withPreviewContainer(Ne){return this._previewContainer=Ne,this}_sortFromLastPointerPosition(){const Ne=this._lastKnownPointerPosition;Ne&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(Ne),Ne)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var Ne,Be;null===(Ne=this._preview)||void 0===Ne||Ne.remove(),null===(Be=this._previewRef)||void 0===Be||Be.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var Ne,Be;null===(Ne=this._placeholder)||void 0===Ne||Ne.remove(),null===(Be=this._placeholderRef)||void 0===Be||Be.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(Ne){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:Ne}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(Ne),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const Be=this._getPointerPositionOnPage(Ne);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(Be),dropPoint:Be,event:Ne})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(Ne){or(Ne)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const Be=this._dropContainer;if(Be){const _t=this._rootElement,Ft=_t.parentNode,an=this._placeholder=this._createPlaceholderElement(),An=this._anchor=this._anchor||this._document.createComment(""),On=this._getShadowRoot();Ft.insertBefore(An,_t),this._initialTransform=_t.style.transform||"",this._preview=this._createPreviewElement(),Xr(_t,!1,pr),this._document.body.appendChild(Ft.replaceChild(an,_t)),this._getPreviewInsertionPoint(Ft,On).appendChild(this._preview),this.started.next({source:this,event:Ne}),Be.start(),this._initialContainer=Be,this._initialIndex=Be.getItemIndex(this)}else this.started.next({source:this,event:Ne}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Be?Be.getScrollableParents():[])}_initializeDragSequence(Ne,Be){this._parentDragRef&&Be.stopPropagation();const _t=this.isDragging(),Ft=or(Be),an=!Ft&&0!==Be.button,An=this._rootElement,On=(0,u.sA)(Be),ti=!Ft&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Yn=Ft?function ps(Yt){const Ne=Yt.touches&&Yt.touches[0]||Yt.changedTouches&&Yt.changedTouches[0];return!(!Ne||-1!==Ne.identifier||null!=Ne.radiusX&&1!==Ne.radiusX||null!=Ne.radiusY&&1!==Ne.radiusY)}(Be):function Er(Yt){return 0===Yt.buttons||0===Yt.offsetX&&0===Yt.offsetY}(Be);if(On&&On.draggable&&"mousedown"===Be.type&&Be.preventDefault(),_t||an||ti||Yn)return;if(this._handles.length){const ts=An.style;this._rootElementTapHighlight=ts.webkitTapHighlightColor||"",ts.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ts=>this._updateOnScroll(ts)),this._boundaryElement&&(this._boundaryRect=Js(this._boundaryElement));const Ai=this._previewTemplate;this._pickupPositionInElement=Ai&&Ai.template&&!Ai.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,Ne,Be);const yo=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(Be);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:yo.x,y:yo.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,Be)}_cleanupDragArtifacts(Ne){Xr(this._rootElement,!0,pr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const Be=this._dropContainer,_t=Be.getItemIndex(this),Ft=this._getPointerPositionOnPage(Ne),an=this._getDragDistance(Ft),An=Be._isOverContainer(Ft.x,Ft.y);this.ended.next({source:this,distance:an,dropPoint:Ft,event:Ne}),this.dropped.next({item:this,currentIndex:_t,previousIndex:this._initialIndex,container:Be,previousContainer:this._initialContainer,isPointerOverContainer:An,distance:an,dropPoint:Ft,event:Ne}),Be.drop(this,_t,this._initialIndex,this._initialContainer,An,an,Ft,Ne),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:Ne,y:Be},{x:_t,y:Ft}){let an=this._initialContainer._getSiblingContainerFromPosition(this,Ne,Be);!an&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(Ne,Be)&&(an=this._initialContainer),an&&an!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=an,this._dropContainer.enter(this,Ne,Be,an===this._initialContainer&&an.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:an,currentIndex:an.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(_t,Ft),this._dropContainer._sortItem(this,Ne,Be,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(Ne,Be):this._applyPreviewTransform(Ne-this._pickupPositionInElement.x,Be-this._pickupPositionInElement.y))}_createPreviewElement(){const Ne=this._previewTemplate,Be=this.previewClass,_t=Ne?Ne.template:null;let Ft;if(_t&&Ne){const an=Ne.matchSize?this._initialClientRect:null,An=Ne.viewContainer.createEmbeddedView(_t,Ne.context);An.detectChanges(),Ft=Ur(An,this._document),this._previewRef=An,Ne.matchSize?gr(Ft,an):Ft.style.transform=Kr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else Ft=Mt(this._rootElement),gr(Ft,this._initialClientRect),this._initialTransform&&(Ft.style.transform=this._initialTransform);return Yr(Ft.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},pr),eo(Ft,!1),Ft.classList.add("cdk-drag-preview"),Ft.setAttribute("dir",this._direction),Be&&(Array.isArray(Be)?Be.forEach(an=>Ft.classList.add(an)):Ft.classList.add(Be)),Ft}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const Ne=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(Ne.left,Ne.top);const Be=function da(Yt){const Ne=getComputedStyle(Yt),Be=Is(Ne,"transition-property"),_t=Be.find(On=>"transform"===On||"all"===On);if(!_t)return 0;const Ft=Be.indexOf(_t),an=Is(Ne,"transition-duration"),An=Is(Ne,"transition-delay");return Ds(an[Ft])+Ds(An[Ft])}(this._preview);return 0===Be?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(_t=>{const Ft=An=>{var On;(!An||(0,u.sA)(An)===this._preview&&"transform"===An.propertyName)&&(null===(On=this._preview)||void 0===On||On.removeEventListener("transitionend",Ft),_t(),clearTimeout(an))},an=setTimeout(Ft,1.5*Be);this._preview.addEventListener("transitionend",Ft)}))}_createPlaceholderElement(){const Ne=this._placeholderTemplate,Be=Ne?Ne.template:null;let _t;return Be?(this._placeholderRef=Ne.viewContainer.createEmbeddedView(Be,Ne.context),this._placeholderRef.detectChanges(),_t=Ur(this._placeholderRef,this._document)):_t=Mt(this._rootElement),_t.style.pointerEvents="none",_t.classList.add("cdk-drag-placeholder"),_t}_getPointerPositionInElement(Ne,Be,_t){const Ft=Be===this._rootElement?null:Be,an=Ft?Ft.getBoundingClientRect():Ne,An=or(_t)?_t.targetTouches[0]:_t,On=this._getViewportScrollPosition();return{x:an.left-Ne.left+(An.pageX-an.left-On.left),y:an.top-Ne.top+(An.pageY-an.top-On.top)}}_getPointerPositionOnPage(Ne){const Be=this._getViewportScrollPosition(),_t=or(Ne)?Ne.touches[0]||Ne.changedTouches[0]||{pageX:0,pageY:0}:Ne,Ft=_t.pageX-Be.left,an=_t.pageY-Be.top;if(this._ownerSVGElement){const An=this._ownerSVGElement.getScreenCTM();if(An){const On=this._ownerSVGElement.createSVGPoint();return On.x=Ft,On.y=an,On.matrixTransform(An.inverse())}}return{x:Ft,y:an}}_getConstrainedPointerPosition(Ne){const Be=this._dropContainer?this._dropContainer.lockAxis:null;let{x:_t,y:Ft}=this.constrainPosition?this.constrainPosition(Ne,this,this._initialClientRect,this._pickupPositionInElement):Ne;if("x"===this.lockAxis||"x"===Be?Ft=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===Be)&&(_t=this._pickupPositionOnPage.x),this._boundaryRect){const{x:an,y:An}=this._pickupPositionInElement,On=this._boundaryRect,{width:ti,height:Yn}=this._getPreviewRect(),Ai=On.top+An,yo=On.bottom-(Yn-An);_t=hr(_t,On.left+an,On.right-(ti-an)),Ft=hr(Ft,Ai,yo)}return{x:_t,y:Ft}}_updatePointerDirectionDelta(Ne){const{x:Be,y:_t}=Ne,Ft=this._pointerDirectionDelta,an=this._pointerPositionAtLastDirectionChange,An=Math.abs(Be-an.x),On=Math.abs(_t-an.y);return An>this._config.pointerDirectionChangeThreshold&&(Ft.x=Be>an.x?1:-1,an.x=Be),On>this._config.pointerDirectionChangeThreshold&&(Ft.y=_t>an.y?1:-1,an.y=_t),Ft}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const Ne=this._handles.length>0||!this.isDragging();Ne!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=Ne,eo(this._rootElement,Ne))}_removeRootElementListeners(Ne){Ne.removeEventListener("mousedown",this._pointerDown,gs),Ne.removeEventListener("touchstart",this._pointerDown,Lo),Ne.removeEventListener("dragstart",this._nativeDragStart,gs)}_applyRootElementTransform(Ne,Be){const _t=Kr(Ne,Be),Ft=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Ft.transform&&"none"!=Ft.transform?Ft.transform:""),Ft.transform=dr(_t,this._initialTransform)}_applyPreviewTransform(Ne,Be){var _t;const Ft=null!==(_t=this._previewTemplate)&&void 0!==_t&&_t.template?void 0:this._initialTransform,an=Kr(Ne,Be);this._preview.style.transform=dr(an,Ft)}_getDragDistance(Ne){const Be=this._pickupPositionOnPage;return Be?{x:Ne.x-Be.x,y:Ne.y-Be.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:Ne,y:Be}=this._passiveTransform;if(0===Ne&&0===Be||this.isDragging()||!this._boundaryElement)return;const _t=this._rootElement.getBoundingClientRect(),Ft=this._boundaryElement.getBoundingClientRect();if(0===Ft.width&&0===Ft.height||0===_t.width&&0===_t.height)return;const an=Ft.left-_t.left,An=_t.right-Ft.right,On=Ft.top-_t.top,ti=_t.bottom-Ft.bottom;Ft.width>_t.width?(an>0&&(Ne+=an),An>0&&(Ne-=An)):Ne=0,Ft.height>_t.height?(On>0&&(Be+=On),ti>0&&(Be-=ti)):Be=0,(Ne!==this._passiveTransform.x||Be!==this._passiveTransform.y)&&this.setFreeDragPosition({y:Be,x:Ne})}_getDragStartDelay(Ne){const Be=this.dragStartDelay;return"number"==typeof Be?Be:or(Ne)?Be.touch:Be?Be.mouse:0}_updateOnScroll(Ne){const Be=this._parentPositions.handleScroll(Ne);if(Be){const _t=(0,u.sA)(Ne);this._boundaryRect&&_t!==this._boundaryElement&&_t.contains(this._boundaryElement)&&it(this._boundaryRect,Be.top,Be.left),this._pickupPositionOnPage.x+=Be.left,this._pickupPositionOnPage.y+=Be.top,this._dropContainer||(this._activeTransform.x-=Be.left,this._activeTransform.y-=Be.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var Ne;return(null===(Ne=this._parentPositions.positions.get(this._document))||void 0===Ne?void 0:Ne.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,u.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(Ne,Be){const _t=this._previewContainer||"global";if("parent"===_t)return Ne;if("global"===_t){const Ft=this._document;return Be||Ft.fullscreenElement||Ft.webkitFullscreenElement||Ft.mozFullScreenElement||Ft.msFullscreenElement||Ft.body}return(0,f.fI)(_t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(Ne){return this._handles.find(Be=>Ne.target&&(Ne.target===Be||Be.contains(Ne.target)))}}function Kr(Yt,Ne){return`translate3d(${Math.round(Yt)}px, ${Math.round(Ne)}px, 0)`}function hr(Yt,Ne,Be){return Math.max(Ne,Math.min(Be,Yt))}function or(Yt){return"t"===Yt.type[0]}function Ur(Yt,Ne){const Be=Yt.rootNodes;if(1===Be.length&&Be[0].nodeType===Ne.ELEMENT_NODE)return Be[0];const _t=Ne.createElement("div");return Be.forEach(Ft=>_t.appendChild(Ft)),_t}function gr(Yt,Ne){Yt.style.width=`${Ne.width}px`,Yt.style.height=`${Ne.height}px`,Yt.style.transform=Kr(Ne.left,Ne.top)}function _a(Yt,Ne,Be){const _t=Pe(Ne,Yt.length-1),Ft=Pe(Be,Yt.length-1);if(_t===Ft)return;const an=Yt[_t],An=Ft<_t?-1:1;for(let On=_t;On!==Ft;On+=An)Yt[On]=Yt[On+An];Yt[Ft]=an}function Ma(Yt,Ne,Be,_t){const Ft=Pe(Be,Yt.length-1),an=Pe(_t,Ne.length);Yt.length&&Ne.splice(an,0,Yt.splice(Ft,1)[0])}function Pe(Yt,Ne){return Math.max(0,Math.min(Ne,Yt))}class gt{constructor(Ne,Be){this._element=Ne,this._dragDropRegistry=Be,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(Ne){this.withItems(Ne)}sort(Ne,Be,_t,Ft){const an=this._itemPositions,An=this._getItemIndexFromPointerPosition(Ne,Be,_t,Ft);if(-1===An&&an.length>0)return null;const On="horizontal"===this.orientation,ti=an.findIndex(Zo=>Zo.drag===Ne),Yn=an[An],yo=Yn.clientRect,ts=ti>An?1:-1,qo=this._getItemOffsetPx(an[ti].clientRect,yo,ts),oo=this._getSiblingOffsetPx(ti,an,ts),ls=an.slice();return _a(an,ti,An),an.forEach((Zo,er)=>{if(ls[er]===Zo)return;const Mr=Zo.drag===Ne,Hr=Mr?qo:oo,cs=Mr?Ne.getPlaceholderElement():Zo.drag.getRootElement();Zo.offset+=Hr,On?(cs.style.transform=dr(`translate3d(${Math.round(Zo.offset)}px, 0, 0)`,Zo.initialTransform),it(Zo.clientRect,0,Hr)):(cs.style.transform=dr(`translate3d(0, ${Math.round(Zo.offset)}px, 0)`,Zo.initialTransform),it(Zo.clientRect,Hr,0))}),this._previousSwap.overlaps=jr(yo,Be,_t),this._previousSwap.drag=Yn.drag,this._previousSwap.delta=On?Ft.x:Ft.y,{previousIndex:ti,currentIndex:An}}enter(Ne,Be,_t,Ft){const an=null==Ft||Ft<0?this._getItemIndexFromPointerPosition(Ne,Be,_t):Ft,An=this._activeDraggables,On=An.indexOf(Ne),ti=Ne.getPlaceholderElement();let Yn=An[an];if(Yn===Ne&&(Yn=An[an+1]),!Yn&&(null==an||-1===an||an<An.length-1)&&this._shouldEnterAsFirstChild(Be,_t)&&(Yn=An[0]),On>-1&&An.splice(On,1),Yn&&!this._dragDropRegistry.isDragging(Yn)){const Ai=Yn.getRootElement();Ai.parentElement.insertBefore(ti,Ai),An.splice(an,0,Ne)}else(0,f.fI)(this._element).appendChild(ti),An.push(Ne);ti.style.transform="",this._cacheItemPositions()}withItems(Ne){this._activeDraggables=Ne.slice(),this._cacheItemPositions()}withSortPredicate(Ne){this._sortPredicate=Ne}reset(){this._activeDraggables.forEach(Ne=>{var Be;const _t=Ne.getRootElement();if(_t){const Ft=null===(Be=this._itemPositions.find(an=>an.drag===Ne))||void 0===Be?void 0:Be.initialTransform;_t.style.transform=Ft||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(Ne){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(_t=>_t.drag===Ne)}updateOnScroll(Ne,Be){this._itemPositions.forEach(({clientRect:_t})=>{it(_t,Ne,Be)}),this._itemPositions.forEach(({drag:_t})=>{this._dragDropRegistry.isDragging(_t)&&_t._sortFromLastPointerPosition()})}_cacheItemPositions(){const Ne="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(Be=>{const _t=Be.getVisibleElement();return{drag:Be,offset:0,initialTransform:_t.style.transform||"",clientRect:Js(_t)}}).sort((Be,_t)=>Ne?Be.clientRect.left-_t.clientRect.left:Be.clientRect.top-_t.clientRect.top)}_getItemOffsetPx(Ne,Be,_t){const Ft="horizontal"===this.orientation;let an=Ft?Be.left-Ne.left:Be.top-Ne.top;return-1===_t&&(an+=Ft?Be.width-Ne.width:Be.height-Ne.height),an}_getSiblingOffsetPx(Ne,Be,_t){const Ft="horizontal"===this.orientation,an=Be[Ne].clientRect,An=Be[Ne+-1*_t];let On=an[Ft?"width":"height"]*_t;if(An){const ti=Ft?"left":"top",Yn=Ft?"right":"bottom";-1===_t?On-=An.clientRect[ti]-an[Yn]:On+=an[ti]-An.clientRect[Yn]}return On}_shouldEnterAsFirstChild(Ne,Be){if(!this._activeDraggables.length)return!1;const _t=this._itemPositions,Ft="horizontal"===this.orientation;if(_t[0].drag!==this._activeDraggables[0]){const An=_t[_t.length-1].clientRect;return Ft?Ne>=An.right:Be>=An.bottom}{const An=_t[0].clientRect;return Ft?Ne<=An.left:Be<=An.top}}_getItemIndexFromPointerPosition(Ne,Be,_t,Ft){const an="horizontal"===this.orientation,An=this._itemPositions.findIndex(({drag:On,clientRect:ti})=>{if(On===Ne)return!1;if(Ft){const Yn=an?Ft.x:Ft.y;if(On===this._previousSwap.drag&&this._previousSwap.overlaps&&Yn===this._previousSwap.delta)return!1}return an?Be>=Math.floor(ti.left)&&Be<Math.floor(ti.right):_t>=Math.floor(ti.top)&&_t<Math.floor(ti.bottom)});return-1!==An&&this._sortPredicate(An,Ne)?An:-1}}class on{constructor(Ne,Be,_t,Ft,an){this._dragDropRegistry=Be,this._ngZone=Ft,this._viewportRuler=an,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new So.x,this.entered=new So.x,this.exited=new So.x,this.dropped=new So.x,this.sorted=new So.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ks.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new So.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Mi.F)(0,es.Z).pipe((0,Po.R)(this._stopScrollTimers)).subscribe(()=>{const An=this._scrollNode,On=this.autoScrollStep;1===this._verticalScrollDirection?An.scrollBy(0,-On):2===this._verticalScrollDirection&&An.scrollBy(0,On),1===this._horizontalScrollDirection?An.scrollBy(-On,0):2===this._horizontalScrollDirection&&An.scrollBy(On,0)})},this.element=(0,f.fI)(Ne),this._document=_t,this.withScrollableParents([this.element]),Be.registerDropContainer(this),this._parentPositions=new De(_t),this._sortStrategy=new gt(this.element,Be),this._sortStrategy.withSortPredicate((An,On)=>this.sortPredicate(An,On,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(Ne,Be,_t,Ft){this._draggingStarted(),null==Ft&&this.sortingDisabled&&(Ft=this._draggables.indexOf(Ne)),this._sortStrategy.enter(Ne,Be,_t,Ft),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:Ne,container:this,currentIndex:this.getItemIndex(Ne)})}exit(Ne){this._reset(),this.exited.next({item:Ne,container:this})}drop(Ne,Be,_t,Ft,an,An,On,ti={}){this._reset(),this.dropped.next({item:Ne,currentIndex:Be,previousIndex:_t,container:this,previousContainer:Ft,isPointerOverContainer:an,distance:An,dropPoint:On,event:ti})}withItems(Ne){const Be=this._draggables;return this._draggables=Ne,Ne.forEach(_t=>_t._withDropContainer(this)),this.isDragging()&&(Be.filter(Ft=>Ft.isDragging()).every(Ft=>-1===Ne.indexOf(Ft))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(Ne){return this._sortStrategy.direction=Ne,this}connectedTo(Ne){return this._siblings=Ne.slice(),this}withOrientation(Ne){return this._sortStrategy.orientation=Ne,this}withScrollableParents(Ne){const Be=(0,f.fI)(this.element);return this._scrollableElements=-1===Ne.indexOf(Be)?[Be,...Ne]:Ne.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(Ne){return this._isDragging?this._sortStrategy.getItemIndex(Ne):this._draggables.indexOf(Ne)}isReceiving(){return this._activeSiblings.size>0}_sortItem(Ne,Be,_t,Ft){if(this.sortingDisabled||!this._clientRect||!Ue(this._clientRect,.05,Be,_t))return;const an=this._sortStrategy.sort(Ne,Be,_t,Ft);an&&this.sorted.next({previousIndex:an.previousIndex,currentIndex:an.currentIndex,container:this,item:Ne})}_startScrollingIfNecessary(Ne,Be){if(this.autoScrollDisabled)return;let _t,Ft=0,an=0;if(this._parentPositions.positions.forEach((An,On)=>{On===this._document||!An.clientRect||_t||Ue(An.clientRect,.05,Ne,Be)&&([Ft,an]=function ui(Yt,Ne,Be,_t){const Ft=Dn(Ne,_t),an=Nn(Ne,Be);let An=0,On=0;if(Ft){const ti=Yt.scrollTop;1===Ft?ti>0&&(An=1):Yt.scrollHeight-ti>Yt.clientHeight&&(An=2)}if(an){const ti=Yt.scrollLeft;1===an?ti>0&&(On=1):Yt.scrollWidth-ti>Yt.clientWidth&&(On=2)}return[An,On]}(On,An.clientRect,Ne,Be),(Ft||an)&&(_t=On))}),!Ft&&!an){const{width:An,height:On}=this._viewportRuler.getViewportSize(),ti={width:An,height:On,top:0,right:An,bottom:On,left:0};Ft=Dn(ti,Be),an=Nn(ti,Ne),_t=window}_t&&(Ft!==this._verticalScrollDirection||an!==this._horizontalScrollDirection||_t!==this._scrollNode)&&(this._verticalScrollDirection=Ft,this._horizontalScrollDirection=an,this._scrollNode=_t,(Ft||an)&&_t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const Ne=(0,f.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=Ne.msScrollSnapType||Ne.scrollSnapType||"",Ne.scrollSnapType=Ne.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const Ne=(0,f.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(Ne).clientRect}_reset(){this._isDragging=!1;const Ne=(0,f.fI)(this.element).style;Ne.scrollSnapType=Ne.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(Be=>Be._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(Ne,Be){return null!=this._clientRect&&jr(this._clientRect,Ne,Be)}_getSiblingContainerFromPosition(Ne,Be,_t){return this._siblings.find(Ft=>Ft._canReceive(Ne,Be,_t))}_canReceive(Ne,Be,_t){if(!this._clientRect||!jr(this._clientRect,Be,_t)||!this.enterPredicate(Ne,this))return!1;const Ft=this._getShadowRoot().elementFromPoint(Be,_t);if(!Ft)return!1;const an=(0,f.fI)(this.element);return Ft===an||an.contains(Ft)}_startReceiving(Ne,Be){const _t=this._activeSiblings;!_t.has(Ne)&&Be.every(Ft=>this.enterPredicate(Ft,this)||this._draggables.indexOf(Ft)>-1)&&(_t.add(Ne),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(Ne){this._activeSiblings.delete(Ne),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ne=>{if(this.isDragging()){const Be=this._parentPositions.handleScroll(Ne);Be&&this._sortStrategy.updateOnScroll(Be.top,Be.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const Ne=(0,u.kV)((0,f.fI)(this.element));this._cachedShadowRoot=Ne||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const Ne=this._sortStrategy.getActiveItemsSnapshot().filter(Be=>Be.isDragging());this._siblings.forEach(Be=>Be._startReceiving(this,Ne))}}function Dn(Yt,Ne){const{top:Be,bottom:_t,height:Ft}=Yt,an=.05*Ft;return Ne>=Be-an&&Ne<=Be+an?1:Ne>=_t-an&&Ne<=_t+an?2:0}function Nn(Yt,Ne){const{left:Be,right:_t,width:Ft}=Yt,an=.05*Ft;return Ne>=Be-an&&Ne<=Be+an?1:Ne>=_t-an&&Ne<=_t+an?2:0}const to=(0,u.i$)({passive:!1,capture:!0});let co=(()=>{class Yt{constructor(Be,_t){this._ngZone=Be,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=Ft=>Ft.isDragging(),this.pointerMove=new So.x,this.pointerUp=new So.x,this.scroll=new So.x,this._preventDefaultWhileDragging=Ft=>{this._activeDragInstances.length>0&&Ft.preventDefault()},this._persistentTouchmoveListener=Ft=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&Ft.preventDefault(),this.pointerMove.next(Ft))},this._document=_t}registerDropContainer(Be){this._dropInstances.has(Be)||this._dropInstances.add(Be)}registerDragItem(Be){this._dragInstances.add(Be),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,to)})}removeDropContainer(Be){this._dropInstances.delete(Be)}removeDragItem(Be){this._dragInstances.delete(Be),this.stopDragging(Be),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,to)}startDragging(Be,_t){if(!(this._activeDragInstances.indexOf(Be)>-1)&&(this._activeDragInstances.push(Be),1===this._activeDragInstances.length)){const Ft=_t.type.startsWith("touch");this._globalListeners.set(Ft?"touchend":"mouseup",{handler:an=>this.pointerUp.next(an),options:!0}).set("scroll",{handler:an=>this.scroll.next(an),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:to}),Ft||this._globalListeners.set("mousemove",{handler:an=>this.pointerMove.next(an),options:to}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((an,An)=>{this._document.addEventListener(An,an.handler,an.options)})})}}stopDragging(Be){const _t=this._activeDragInstances.indexOf(Be);_t>-1&&(this._activeDragInstances.splice(_t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(Be){return this._activeDragInstances.indexOf(Be)>-1}scrolled(Be){const _t=[this.scroll];return Be&&Be!==this._document&&_t.push(new Bo.y(Ft=>this._ngZone.runOutsideAngular(()=>{const An=On=>{this._activeDragInstances.length&&Ft.next(On)};return Be.addEventListener("scroll",An,!0),()=>{Be.removeEventListener("scroll",An,!0)}}))),(0,Zr.T)(..._t)}ngOnDestroy(){this._dragInstances.forEach(Be=>this.removeDragItem(Be)),this._dropInstances.forEach(Be=>this.removeDropContainer(Be)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((Be,_t)=>{this._document.removeEventListener(_t,Be.handler,Be.options)}),this._globalListeners.clear()}}return Yt.\u0275fac=function(Be){return new(Be||Yt)(e.LFG(e.R0b),e.LFG(d.K0))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();const fo={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ji=(()=>{class Yt{constructor(Be,_t,Ft,an){this._document=Be,this._ngZone=_t,this._viewportRuler=Ft,this._dragDropRegistry=an}createDrag(Be,_t=fo){return new Dr(Be,_t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(Be){return new on(Be,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return Yt.\u0275fac=function(Be){return new(Be||Yt)(e.LFG(d.K0),e.LFG(e.R0b),e.LFG(Ri.rL),e.LFG(co))},Yt.\u0275prov=e.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();const mo=new e.OlP("CDK_DRAG_PARENT"),yi=new e.OlP("CdkDropListGroup");let Co=(()=>{class Yt{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(Be){this._disabled=(0,f.Ig)(Be)}ngOnDestroy(){this._items.clear()}}return Yt.\u0275fac=function(Be){return new(Be||Yt)},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[e._Bn([{provide:yi,useExisting:Yt}])]}),Yt})();const Ko=new e.OlP("CDK_DRAG_CONFIG");let as=0;const sr=new e.OlP("CdkDropList");let Ct=(()=>{class Yt{constructor(Be,_t,Ft,an,An,On,ti){this.element=Be,this._changeDetectorRef=Ft,this._scrollDispatcher=an,this._dir=An,this._group=On,this._destroyed=new So.x,this.connectedTo=[],this.id="cdk-drop-list-"+as++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=_t.createDropList(Be),this._dropListRef.data=this,ti&&this._assignDefaults(ti),this._dropListRef.enterPredicate=(Yn,Ai)=>this.enterPredicate(Yn.data,Ai.data),this._dropListRef.sortPredicate=(Yn,Ai,yo)=>this.sortPredicate(Yn,Ai.data,yo.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Yt._dropLists.push(this),On&&On._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(Be){this._dropListRef.disabled=this._disabled=(0,f.Ig)(Be)}addItem(Be){this._unsortedItems.add(Be),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(Be){this._unsortedItems.delete(Be),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((Be,_t)=>Be._dragRef.getVisibleElement().compareDocumentPosition(_t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const Be=Yt._dropLists.indexOf(this);Be>-1&&Yt._dropLists.splice(Be,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(Be){this._dir&&this._dir.change.pipe((0,To.O)(this._dir.value),(0,Po.R)(this._destroyed)).subscribe(_t=>Be.withDirection(_t)),Be.beforeStarted.subscribe(()=>{const _t=(0,f.Eq)(this.connectedTo).map(Ft=>"string"==typeof Ft?Yt._dropLists.find(An=>An.id===Ft):Ft);if(this._group&&this._group._items.forEach(Ft=>{-1===_t.indexOf(Ft)&&_t.push(Ft)}),!this._scrollableParentsResolved){const Ft=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(an=>an.getElementRef().nativeElement);this._dropListRef.withScrollableParents(Ft),this._scrollableParentsResolved=!0}Be.disabled=this.disabled,Be.lockAxis=this.lockAxis,Be.sortingDisabled=(0,f.Ig)(this.sortingDisabled),Be.autoScrollDisabled=(0,f.Ig)(this.autoScrollDisabled),Be.autoScrollStep=(0,f.su)(this.autoScrollStep,2),Be.connectedTo(_t.filter(Ft=>Ft&&Ft!==this).map(Ft=>Ft._dropListRef)).withOrientation(this.orientation)})}_handleEvents(Be){Be.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),Be.entered.subscribe(_t=>{this.entered.emit({container:this,item:_t.item.data,currentIndex:_t.currentIndex})}),Be.exited.subscribe(_t=>{this.exited.emit({container:this,item:_t.item.data}),this._changeDetectorRef.markForCheck()}),Be.sorted.subscribe(_t=>{this.sorted.emit({previousIndex:_t.previousIndex,currentIndex:_t.currentIndex,container:this,item:_t.item.data})}),Be.dropped.subscribe(_t=>{this.dropped.emit({previousIndex:_t.previousIndex,currentIndex:_t.currentIndex,previousContainer:_t.previousContainer.data,container:_t.container.data,item:_t.item.data,isPointerOverContainer:_t.isPointerOverContainer,distance:_t.distance,dropPoint:_t.dropPoint,event:_t.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(Be){const{lockAxis:_t,draggingDisabled:Ft,sortingDisabled:an,listAutoScrollDisabled:An,listOrientation:On}=Be;this.disabled=null!=Ft&&Ft,this.sortingDisabled=null!=an&&an,this.autoScrollDisabled=null!=An&&An,this.orientation=On||"vertical",_t&&(this.lockAxis=_t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(Be=>Be._dragRef))}}return Yt._dropLists=[],Yt.\u0275fac=function(Be){return new(Be||Yt)(e.Y36(e.SBq),e.Y36(ji),e.Y36(e.sBO),e.Y36(Ri.mF),e.Y36(zs.Is,8),e.Y36(yi,12),e.Y36(Ko,8))},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Be,_t){2&Be&&(e.uIk("id",_t.id),e.ekj("cdk-drop-list-disabled",_t.disabled)("cdk-drop-list-dragging",_t._dropListRef.isDragging())("cdk-drop-list-receiving",_t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:yi,useValue:void 0},{provide:sr,useExisting:Yt}])]}),Yt})();const ae=new e.OlP("CdkDragHandle"),We=new e.OlP("CdkDragPlaceholder"),Qt=new e.OlP("CdkDragPreview");let Sn=(()=>{class Yt{constructor(Be,_t,Ft,an,An,On,ti,Yn,Ai,yo,ts){this.element=Be,this.dropContainer=_t,this._ngZone=an,this._viewContainerRef=An,this._dir=ti,this._changeDetectorRef=Ai,this._selfHandle=yo,this._parentDrag=ts,this._destroyed=new So.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new Bo.y(qo=>{const oo=this._dragRef.moved.pipe((0,Li.U)(ls=>({source:this,pointerPosition:ls.pointerPosition,event:ls.event,delta:ls.delta,distance:ls.distance}))).subscribe(qo);return()=>{oo.unsubscribe()}}),this._dragRef=Yn.createDrag(Be,{dragStartThreshold:On&&null!=On.dragStartThreshold?On.dragStartThreshold:5,pointerDirectionChangeThreshold:On&&null!=On.pointerDirectionChangeThreshold?On.pointerDirectionChangeThreshold:5,zIndex:null==On?void 0:On.zIndex}),this._dragRef.data=this,Yt._dragInstances.push(this),On&&this._assignDefaults(On),_t&&(this._dragRef._withDropContainer(_t._dropListRef),_t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(Be){this._disabled=(0,f.Ig)(Be),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(Be){this._dragRef.setFreeDragPosition(Be)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ur.q)(1),(0,Po.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(Be){const _t=Be.rootElementSelector,Ft=Be.freeDragPosition;_t&&!_t.firstChange&&this._updateRootElement(),Ft&&!Ft.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const Be=Yt._dragInstances.indexOf(this);Be>-1&&Yt._dragInstances.splice(Be,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var Be;const _t=this.element.nativeElement;let Ft=_t;this.rootElementSelector&&(Ft=void 0!==_t.closest?_t.closest(this.rootElementSelector):null===(Be=_t.parentElement)||void 0===Be?void 0:Be.closest(this.rootElementSelector)),this._dragRef.withRootElement(Ft||_t)}_getBoundaryElement(){const Be=this.boundaryElement;return Be?"string"==typeof Be?this.element.nativeElement.closest(Be):(0,f.fI)(Be):null}_syncInputs(Be){Be.beforeStarted.subscribe(()=>{if(!Be.isDragging()){const _t=this._dir,Ft=this.dragStartDelay,an=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,An=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;Be.disabled=this.disabled,Be.lockAxis=this.lockAxis,Be.dragStartDelay="object"==typeof Ft&&Ft?Ft:(0,f.su)(Ft),Be.constrainPosition=this.constrainPosition,Be.previewClass=this.previewClass,Be.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(an).withPreviewTemplate(An).withPreviewContainer(this.previewContainer||"global"),_t&&Be.withDirection(_t.value)}}),Be.beforeStarted.pipe((0,ur.q)(1)).subscribe(()=>{var _t;if(this._parentDrag)return void Be.withParent(this._parentDrag._dragRef);let Ft=this.element.nativeElement.parentElement;for(;Ft;){if(Ft.classList.contains("cdk-drag")){Be.withParent((null===(_t=Yt._dragInstances.find(an=>an.element.nativeElement===Ft))||void 0===_t?void 0:_t._dragRef)||null);break}Ft=Ft.parentElement}})}_handleEvents(Be){Be.started.subscribe(_t=>{this.started.emit({source:this,event:_t.event}),this._changeDetectorRef.markForCheck()}),Be.released.subscribe(_t=>{this.released.emit({source:this,event:_t.event})}),Be.ended.subscribe(_t=>{this.ended.emit({source:this,distance:_t.distance,dropPoint:_t.dropPoint,event:_t.event}),this._changeDetectorRef.markForCheck()}),Be.entered.subscribe(_t=>{this.entered.emit({container:_t.container.data,item:this,currentIndex:_t.currentIndex})}),Be.exited.subscribe(_t=>{this.exited.emit({container:_t.container.data,item:this})}),Be.dropped.subscribe(_t=>{this.dropped.emit({previousIndex:_t.previousIndex,currentIndex:_t.currentIndex,previousContainer:_t.previousContainer.data,container:_t.container.data,isPointerOverContainer:_t.isPointerOverContainer,item:this,distance:_t.distance,dropPoint:_t.dropPoint,event:_t.event})})}_assignDefaults(Be){const{lockAxis:_t,dragStartDelay:Ft,constrainPosition:an,previewClass:An,boundaryElement:On,draggingDisabled:ti,rootElementSelector:Yn,previewContainer:Ai}=Be;this.disabled=null!=ti&&ti,this.dragStartDelay=Ft||0,_t&&(this.lockAxis=_t),an&&(this.constrainPosition=an),An&&(this.previewClass=An),On&&(this.boundaryElement=On),Yn&&(this.rootElementSelector=Yn),Ai&&(this.previewContainer=Ai)}_setupHandlesListener(){this._handles.changes.pipe((0,To.O)(this._handles),(0,ma.b)(Be=>{const _t=Be.filter(Ft=>Ft._parentDrag===this).map(Ft=>Ft.element);this._selfHandle&&this.rootElementSelector&&_t.push(this.element),this._dragRef.withHandles(_t)}),(0,Qn.w)(Be=>(0,Zr.T)(...Be.map(_t=>_t._stateChanges.pipe((0,To.O)(_t))))),(0,Po.R)(this._destroyed)).subscribe(Be=>{const _t=this._dragRef,Ft=Be.element.nativeElement;Be.disabled?_t.disableHandle(Ft):_t.enableHandle(Ft)})}}return Yt._dragInstances=[],Yt.\u0275fac=function(Be){return new(Be||Yt)(e.Y36(e.SBq),e.Y36(sr,12),e.Y36(d.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Ko,8),e.Y36(zs.Is,8),e.Y36(ji),e.Y36(e.sBO),e.Y36(ae,10),e.Y36(mo,12))},Yt.\u0275dir=e.lG2({type:Yt,selectors:[["","cdkDrag",""]],contentQueries:function(Be,_t,Ft){if(1&Be&&(e.Suo(Ft,Qt,5),e.Suo(Ft,We,5),e.Suo(Ft,ae,5)),2&Be){let an;e.iGM(an=e.CRH())&&(_t._previewTemplate=an.first),e.iGM(an=e.CRH())&&(_t._placeholderTemplate=an.first),e.iGM(an=e.CRH())&&(_t._handles=an)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Be,_t){2&Be&&e.ekj("cdk-drag-disabled",_t.disabled)("cdk-drag-dragging",_t._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:mo,useExisting:Yt}]),e.TTD]}),Yt})(),zn=(()=>{class Yt{}return Yt.\u0275fac=function(Be){return new(Be||Yt)},Yt.\u0275mod=e.oAB({type:Yt}),Yt.\u0275inj=e.cJS({providers:[ji],imports:[Ri.ZD]}),Yt})()},925:(hn,ft,b)=>{"use strict";b.d(ft,{i$:()=>Q,kV:()=>B,sA:()=>$,t4:()=>f});var e=b(5e3),d=b(9808);let u;try{u="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(k){u=!1}let R,D,f=(()=>{class k{constructor(K){this._platformId=K,this.isBrowser=this._platformId?(0,d.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return k.\u0275fac=function(K){return new(K||k)(e.LFG(e.Lbi))},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Q(k){return function L(){if(null==R&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R=!0}))}finally{R=R||!1}return R}()?k:!!k.capture}function B(k){if(function U(){if(null==D){const k="undefined"!=typeof document?document.head:null;D=!(!k||!k.createShadowRoot&&!k.attachShadow)}return D}()){const O=k.getRootNode?k.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&O instanceof ShadowRoot)return O}return null}function $(k){return k.composedPath?k.composedPath()[0]:k.target}},6731:(hn,ft,b)=>{"use strict";b.d(ft,{ZD:()=>ge,mF:()=>be,Cl:()=>ke,rL:()=>et});var e=b(3191),d=b(5e3),u=b(7579),f=b(9646),_=b(9751),P=b(4968),r=(b(6406),b(4408));let L,R=1;const Q={};function N(rt){return rt in Q&&(delete Q[rt],!0)}const T={setImmediate(rt){const yt=R++;return Q[yt]=!0,L||(L=Promise.resolve()),L.then(()=>N(yt)&&rt()),yt},clearImmediate(rt){N(rt)}},{setImmediate:E,clearImmediate:D}=T,U={setImmediate(...rt){const{delegate:yt}=U;return((null==yt?void 0:yt.setImmediate)||E)(...rt)},clearImmediate(rt){const{delegate:yt}=U;return((null==yt?void 0:yt.clearImmediate)||D)(rt)},delegate:void 0};var ce=b(7565);new class $ extends ce.v{flush(yt){this._active=!0,this._scheduled=void 0;const{actions:Pt}=this;let Ht,Ot=-1;yt=yt||Pt.shift();const Ye=Pt.length;do{if(Ht=yt.execute(yt.state,yt.delay))break}while(++Ot<Ye&&(yt=Pt.shift()));if(this._active=!1,Ht){for(;++Ot<Ye&&(yt=Pt.shift());)yt.unsubscribe();throw Ht}}}(class B extends r.o{constructor(yt,Pt){super(yt,Pt),this.scheduler=yt,this.work=Pt}requestAsyncId(yt,Pt,Ht=0){return null!==Ht&&Ht>0?super.requestAsyncId(yt,Pt,Ht):(yt.actions.push(this),yt._scheduled||(yt._scheduled=U.setImmediate(yt.flush.bind(yt,void 0))))}recycleAsyncId(yt,Pt,Ht=0){if(null!=Ht&&Ht>0||null==Ht&&this.delay>0)return super.recycleAsyncId(yt,Pt,Ht);0===yt.actions.length&&(U.clearImmediate(Pt),yt._scheduled=void 0)}});var O=b(4986),K=b(4482),ue=b(8421),q=b(5403),ne=b(5963);function Ce(rt,yt=O.P){return function G(rt){return(0,K.e)((yt,Pt)=>{let Ht=!1,Ot=null,Ye=null,lt=!1;const Ke=()=>{if(null==Ye||Ye.unsubscribe(),Ye=null,Ht){Ht=!1;const se=Ot;Ot=null,Pt.next(se)}lt&&Pt.complete()},Tt=()=>{Ye=null,lt&&Pt.complete()};yt.subscribe(new q.Q(Pt,se=>{Ht=!0,Ot=se,Ye||(0,ue.Xf)(rt(se)).subscribe(Ye=new q.Q(Pt,Ke,Tt))},()=>{lt=!0,(!Ht||!Ye||Ye.closed)&&Pt.complete()}))})}(()=>(0,ne.H)(rt,yt))}var oe=b(9300),z=b(9808),te=b(925),W=b(226);let be=(()=>{class rt{constructor(Pt,Ht,Ot){this._ngZone=Pt,this._platform=Ht,this._scrolled=new u.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ot}register(Pt){this.scrollContainers.has(Pt)||this.scrollContainers.set(Pt,Pt.elementScrolled().subscribe(()=>this._scrolled.next(Pt)))}deregister(Pt){const Ht=this.scrollContainers.get(Pt);Ht&&(Ht.unsubscribe(),this.scrollContainers.delete(Pt))}scrolled(Pt=20){return this._platform.isBrowser?new _.y(Ht=>{this._globalSubscription||this._addGlobalListener();const Ot=Pt>0?this._scrolled.pipe(Ce(Pt)).subscribe(Ht):this._scrolled.subscribe(Ht);return this._scrolledCount++,()=>{Ot.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,f.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Pt,Ht)=>this.deregister(Ht)),this._scrolled.complete()}ancestorScrolled(Pt,Ht){const Ot=this.getAncestorScrollContainers(Pt);return this.scrolled(Ht).pipe((0,oe.h)(Ye=>!Ye||Ot.indexOf(Ye)>-1))}getAncestorScrollContainers(Pt){const Ht=[];return this.scrollContainers.forEach((Ot,Ye)=>{this._scrollableContainsElement(Ye,Pt)&&Ht.push(Ye)}),Ht}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Pt,Ht){let Ot=(0,e.fI)(Ht),Ye=Pt.getElementRef().nativeElement;do{if(Ot==Ye)return!0}while(Ot=Ot.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Pt=this._getWindow();return(0,P.R)(Pt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return rt.\u0275fac=function(Pt){return new(Pt||rt)(d.LFG(d.R0b),d.LFG(te.t4),d.LFG(z.K0,8))},rt.\u0275prov=d.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),et=(()=>{class rt{constructor(Pt,Ht,Ot){this._platform=Pt,this._change=new u.x,this._changeListener=Ye=>{this._change.next(Ye)},this._document=Ot,Ht.runOutsideAngular(()=>{if(Pt.isBrowser){const Ye=this._getWindow();Ye.addEventListener("resize",this._changeListener),Ye.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Pt=this._getWindow();Pt.removeEventListener("resize",this._changeListener),Pt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Pt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Pt}getViewportRect(){const Pt=this.getViewportScrollPosition(),{width:Ht,height:Ot}=this.getViewportSize();return{top:Pt.top,left:Pt.left,bottom:Pt.top+Ot,right:Pt.left+Ht,height:Ot,width:Ht}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Pt=this._document,Ht=this._getWindow(),Ot=Pt.documentElement,Ye=Ot.getBoundingClientRect();return{top:-Ye.top||Pt.body.scrollTop||Ht.scrollY||Ot.scrollTop||0,left:-Ye.left||Pt.body.scrollLeft||Ht.scrollX||Ot.scrollLeft||0}}change(Pt=20){return Pt>0?this._change.pipe(Ce(Pt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Pt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Pt.innerWidth,height:Pt.innerHeight}:{width:0,height:0}}}return rt.\u0275fac=function(Pt){return new(Pt||rt)(d.LFG(te.t4),d.LFG(d.R0b),d.LFG(z.K0,8))},rt.\u0275prov=d.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),ge=(()=>{class rt{}return rt.\u0275fac=function(Pt){return new(Pt||rt)},rt.\u0275mod=d.oAB({type:rt}),rt.\u0275inj=d.cJS({}),rt})(),ke=(()=>{class rt{}return rt.\u0275fac=function(Pt){return new(Pt||rt)},rt.\u0275mod=d.oAB({type:rt}),rt.\u0275inj=d.cJS({imports:[W.vT,ge,W.vT,ge]}),rt})()},9808:(hn,ft,b)=>{"use strict";b.d(ft,{Do:()=>$,ED:()=>Hs,EM:()=>It,H9:()=>xs,HT:()=>_,JF:()=>Zi,JJ:()=>go,K0:()=>x,Mx:()=>Wo,NF:()=>kr,Nd:()=>Tr,O5:()=>Cs,OU:()=>Ar,Ov:()=>Eo,PC:()=>yr,PM:()=>Et,RF:()=>Us,S$:()=>U,V_:()=>L,Ye:()=>V,b0:()=>ce,bD:()=>Er,ez:()=>Br,mk:()=>vo,n9:()=>Ss,q:()=>u,qS:()=>Go,rS:()=>nr,sg:()=>uo,tP:()=>xr,uU:()=>ir,w_:()=>P});var e=b(5e3);let d=null;function u(){return d}function _(Pe){d||(d=Pe)}class P{}const x=new e.OlP("DocumentToken");let r=(()=>{class Pe{historyGo(Ve){throw new Error("Not implemented")}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)},Pe.\u0275prov=e.Yz7({token:Pe,factory:function(){return function R(){return(0,e.LFG)(Q)}()},providedIn:"platform"}),Pe})();const L=new e.OlP("Location Initialized");let Q=(()=>{class Pe extends r{constructor(Ve){super(),this._doc=Ve,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(Ve){const Dt=u().getGlobalEventTarget(this._doc,"window");return Dt.addEventListener("popstate",Ve,!1),()=>Dt.removeEventListener("popstate",Ve)}onHashChange(Ve){const Dt=u().getGlobalEventTarget(this._doc,"window");return Dt.addEventListener("hashchange",Ve,!1),()=>Dt.removeEventListener("hashchange",Ve)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Ve){this.location.pathname=Ve}pushState(Ve,Dt,on){N()?this._history.pushState(Ve,Dt,on):this.location.hash=on}replaceState(Ve,Dt,on){N()?this._history.replaceState(Ve,Dt,on):this.location.hash=on}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ve=0){this._history.go(Ve)}getState(){return this._history.state}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.LFG(x))},Pe.\u0275prov=e.Yz7({token:Pe,factory:function(){return function T(){return new Q((0,e.LFG)(x))}()},providedIn:"platform"}),Pe})();function N(){return!!window.history.pushState}function y(Pe,gt){if(0==Pe.length)return gt;if(0==gt.length)return Pe;let Ve=0;return Pe.endsWith("/")&&Ve++,gt.startsWith("/")&&Ve++,2==Ve?Pe+gt.substring(1):1==Ve?Pe+gt:Pe+"/"+gt}function E(Pe){const gt=Pe.match(/#|\?|$/),Ve=gt&&gt.index||Pe.length;return Pe.slice(0,Ve-("/"===Pe[Ve-1]?1:0))+Pe.slice(Ve)}function D(Pe){return Pe&&"?"!==Pe[0]?"?"+Pe:Pe}let U=(()=>{class Pe{historyGo(Ve){throw new Error("Not implemented")}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)},Pe.\u0275prov=e.Yz7({token:Pe,factory:function(){return(0,e.f3M)(ce)},providedIn:"root"}),Pe})();const B=new e.OlP("appBaseHref");let ce=(()=>{class Pe extends U{constructor(Ve,Dt){var on,Dn,Nn;super(),this._platformLocation=Ve,this._removeListenerFns=[],this._baseHref=null!==(Nn=null!==(on=null!=Dt?Dt:this._platformLocation.getBaseHrefFromDOM())&&void 0!==on?on:null===(Dn=(0,e.f3M)(x).location)||void 0===Dn?void 0:Dn.origin)&&void 0!==Nn?Nn:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ve){this._removeListenerFns.push(this._platformLocation.onPopState(Ve),this._platformLocation.onHashChange(Ve))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ve){return y(this._baseHref,Ve)}path(Ve=!1){const Dt=this._platformLocation.pathname+D(this._platformLocation.search),on=this._platformLocation.hash;return on&&Ve?`${Dt}${on}`:Dt}pushState(Ve,Dt,on,Dn){const Nn=this.prepareExternalUrl(on+D(Dn));this._platformLocation.pushState(Ve,Dt,Nn)}replaceState(Ve,Dt,on,Dn){const Nn=this.prepareExternalUrl(on+D(Dn));this._platformLocation.replaceState(Ve,Dt,Nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ve=0){var Dt,on;null===(on=(Dt=this._platformLocation).historyGo)||void 0===on||on.call(Dt,Ve)}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.LFG(r),e.LFG(B,8))},Pe.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),$=(()=>{class Pe extends U{constructor(Ve,Dt){super(),this._platformLocation=Ve,this._baseHref="",this._removeListenerFns=[],null!=Dt&&(this._baseHref=Dt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ve){this._removeListenerFns.push(this._platformLocation.onPopState(Ve),this._platformLocation.onHashChange(Ve))}getBaseHref(){return this._baseHref}path(Ve=!1){let Dt=this._platformLocation.hash;return null==Dt&&(Dt="#"),Dt.length>0?Dt.substring(1):Dt}prepareExternalUrl(Ve){const Dt=y(this._baseHref,Ve);return Dt.length>0?"#"+Dt:Dt}pushState(Ve,Dt,on,Dn){let Nn=this.prepareExternalUrl(on+D(Dn));0==Nn.length&&(Nn=this._platformLocation.pathname),this._platformLocation.pushState(Ve,Dt,Nn)}replaceState(Ve,Dt,on,Dn){let Nn=this.prepareExternalUrl(on+D(Dn));0==Nn.length&&(Nn=this._platformLocation.pathname),this._platformLocation.replaceState(Ve,Dt,Nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ve=0){var Dt,on;null===(on=(Dt=this._platformLocation).historyGo)||void 0===on||on.call(Dt,Ve)}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.LFG(r),e.LFG(B,8))},Pe.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),V=(()=>{class Pe{constructor(Ve){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ve;const Dt=this._locationStrategy.getBaseHref();this._baseHref=E(K(Dt)),this._locationStrategy.onPopState(on=>{this._subject.emit({url:this.path(!0),pop:!0,state:on.state,type:on.type})})}ngOnDestroy(){var Ve;null===(Ve=this._urlChangeSubscription)||void 0===Ve||Ve.unsubscribe(),this._urlChangeListeners=[]}path(Ve=!1){return this.normalize(this._locationStrategy.path(Ve))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ve,Dt=""){return this.path()==this.normalize(Ve+D(Dt))}normalize(Ve){return Pe.stripTrailingSlash(function O(Pe,gt){return Pe&&gt.startsWith(Pe)?gt.substring(Pe.length):gt}(this._baseHref,K(Ve)))}prepareExternalUrl(Ve){return Ve&&"/"!==Ve[0]&&(Ve="/"+Ve),this._locationStrategy.prepareExternalUrl(Ve)}go(Ve,Dt="",on=null){this._locationStrategy.pushState(on,"",Ve,Dt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ve+D(Dt)),on)}replaceState(Ve,Dt="",on=null){this._locationStrategy.replaceState(on,"",Ve,Dt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ve+D(Dt)),on)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ve=0){var Dt,on;null===(on=(Dt=this._locationStrategy).historyGo)||void 0===on||on.call(Dt,Ve)}onUrlChange(Ve){return this._urlChangeListeners.push(Ve),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Dt=>{this._notifyUrlChangeListeners(Dt.url,Dt.state)})),()=>{var Dt;const on=this._urlChangeListeners.indexOf(Ve);this._urlChangeListeners.splice(on,1),0===this._urlChangeListeners.length&&(null===(Dt=this._urlChangeSubscription)||void 0===Dt||Dt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ve="",Dt){this._urlChangeListeners.forEach(on=>on(Ve,Dt))}subscribe(Ve,Dt,on){return this._subject.subscribe({next:Ve,error:Dt,complete:on})}}return Pe.normalizeQueryParams=D,Pe.joinWithSlash=y,Pe.stripTrailingSlash=E,Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.LFG(U))},Pe.\u0275prov=e.Yz7({token:Pe,factory:function(){return function k(){return new V((0,e.LFG)(U))}()},providedIn:"root"}),Pe})();function K(Pe){return Pe.replace(/\/index.html$/,"")}const ue={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Percent=1]="Percent",q[q.Currency=2]="Currency",q[q.Scientific=3]="Scientific",q))(),ne=(()=>((ne=ne||{})[ne.Format=0]="Format",ne[ne.Standalone=1]="Standalone",ne))(),Ce=(()=>((Ce=Ce||{})[Ce.Narrow=0]="Narrow",Ce[Ce.Abbreviated=1]="Abbreviated",Ce[Ce.Wide=2]="Wide",Ce[Ce.Short=3]="Short",Ce))(),oe=(()=>((oe=oe||{})[oe.Short=0]="Short",oe[oe.Medium=1]="Medium",oe[oe.Long=2]="Long",oe[oe.Full=3]="Full",oe))(),z=(()=>((z=z||{})[z.Decimal=0]="Decimal",z[z.Group=1]="Group",z[z.List=2]="List",z[z.PercentSign=3]="PercentSign",z[z.PlusSign=4]="PlusSign",z[z.MinusSign=5]="MinusSign",z[z.Exponential=6]="Exponential",z[z.SuperscriptingExponent=7]="SuperscriptingExponent",z[z.PerMille=8]="PerMille",z[z.Infinity=9]="Infinity",z[z.NaN=10]="NaN",z[z.TimeSeparator=11]="TimeSeparator",z[z.CurrencyDecimal=12]="CurrencyDecimal",z[z.CurrencyGroup=13]="CurrencyGroup",z))();function X(Pe,gt){return ge((0,e.cg1)(Pe)[e.wAp.DateFormat],gt)}function be(Pe,gt){return ge((0,e.cg1)(Pe)[e.wAp.TimeFormat],gt)}function we(Pe,gt){return ge((0,e.cg1)(Pe)[e.wAp.DateTimeFormat],gt)}function Ie(Pe,gt){const Ve=(0,e.cg1)(Pe),Dt=Ve[e.wAp.NumberSymbols][gt];if(void 0===Dt){if(gt===z.CurrencyDecimal)return Ve[e.wAp.NumberSymbols][z.Decimal];if(gt===z.CurrencyGroup)return Ve[e.wAp.NumberSymbols][z.Group]}return Dt}function ct(Pe,gt){return(0,e.cg1)(Pe)[e.wAp.NumberFormats][gt]}function Nt(Pe){if(!Pe[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Pe[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ge(Pe,gt){for(let Ve=gt;Ve>-1;Ve--)if(void 0!==Pe[Ve])return Pe[Ve];throw new Error("Locale data API: locale data undefined")}function ke(Pe){const[gt,Ve]=Pe.split(":");return{hours:+gt,minutes:+Ve}}const Ht=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ot={},Ye=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var lt=(()=>((lt=lt||{})[lt.Short=0]="Short",lt[lt.ShortGMT=1]="ShortGMT",lt[lt.Long=2]="Long",lt[lt.Extended=3]="Extended",lt))(),Ke=(()=>((Ke=Ke||{})[Ke.FullYear=0]="FullYear",Ke[Ke.Month=1]="Month",Ke[Ke.Date=2]="Date",Ke[Ke.Hours=3]="Hours",Ke[Ke.Minutes=4]="Minutes",Ke[Ke.Seconds=5]="Seconds",Ke[Ke.FractionalSeconds=6]="FractionalSeconds",Ke[Ke.Day=7]="Day",Ke))(),Tt=(()=>((Tt=Tt||{})[Tt.DayPeriods=0]="DayPeriods",Tt[Tt.Days=1]="Days",Tt[Tt.Months=2]="Months",Tt[Tt.Eras=3]="Eras",Tt))();function se(Pe,gt,Ve,Dt){let on=function ai(Pe){if(Ji(Pe))return Pe;if("number"==typeof Pe&&!isNaN(Pe))return new Date(Pe);if("string"==typeof Pe){if(Pe=Pe.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Pe)){const[on,Dn=1,Nn=1]=Pe.split("-").map(ui=>+ui);return Fe(on,Dn-1,Nn)}const Ve=parseFloat(Pe);if(!isNaN(Pe-Ve))return new Date(Ve);let Dt;if(Dt=Pe.match(Ht))return function vi(Pe){const gt=new Date(0);let Ve=0,Dt=0;const on=Pe[8]?gt.setUTCFullYear:gt.setFullYear,Dn=Pe[8]?gt.setUTCHours:gt.setHours;Pe[9]&&(Ve=Number(Pe[9]+Pe[10]),Dt=Number(Pe[9]+Pe[11])),on.call(gt,Number(Pe[1]),Number(Pe[2])-1,Number(Pe[3]));const Nn=Number(Pe[4]||0)-Ve,ui=Number(Pe[5]||0)-Dt,to=Number(Pe[6]||0),co=Math.floor(1e3*parseFloat("0."+(Pe[7]||0)));return Dn.call(gt,Nn,ui,to,co),gt}(Dt)}const gt=new Date(Pe);if(!Ji(gt))throw new Error(`Unable to convert "${Pe}" into a date`);return gt}(Pe);gt=he(Ve,gt)||gt;let ui,Nn=[];for(;gt;){if(ui=Ye.exec(gt),!ui){Nn.push(gt);break}{Nn=Nn.concat(ui.slice(1));const fo=Nn.pop();if(!fo)break;gt=fo}}let to=on.getTimezoneOffset();Dt&&(to=rn(Dt,to),on=function Vn(Pe,gt,Ve){const Dt=Ve?-1:1,on=Pe.getTimezoneOffset();return function Bn(Pe,gt){return(Pe=new Date(Pe.getTime())).setMinutes(Pe.getMinutes()+gt),Pe}(Pe,Dt*(rn(gt,on)-on))}(on,Dt,!0));let co="";return Nn.forEach(fo=>{const ji=function Ut(Pe){if(Mn[Pe])return Mn[Pe];let gt;switch(Pe){case"G":case"GG":case"GGG":gt=nt(Tt.Eras,Ce.Abbreviated);break;case"GGGG":gt=nt(Tt.Eras,Ce.Wide);break;case"GGGGG":gt=nt(Tt.Eras,Ce.Narrow);break;case"y":gt=tn(Ke.FullYear,1,0,!1,!0);break;case"yy":gt=tn(Ke.FullYear,2,0,!0,!0);break;case"yyy":gt=tn(Ke.FullYear,3,0,!1,!0);break;case"yyyy":gt=tn(Ke.FullYear,4,0,!1,!0);break;case"Y":gt=Gt(1);break;case"YY":gt=Gt(2,!0);break;case"YYY":gt=Gt(3);break;case"YYYY":gt=Gt(4);break;case"M":case"L":gt=tn(Ke.Month,1,1);break;case"MM":case"LL":gt=tn(Ke.Month,2,1);break;case"MMM":gt=nt(Tt.Months,Ce.Abbreviated);break;case"MMMM":gt=nt(Tt.Months,Ce.Wide);break;case"MMMMM":gt=nt(Tt.Months,Ce.Narrow);break;case"LLL":gt=nt(Tt.Months,Ce.Abbreviated,ne.Standalone);break;case"LLLL":gt=nt(Tt.Months,Ce.Wide,ne.Standalone);break;case"LLLLL":gt=nt(Tt.Months,Ce.Narrow,ne.Standalone);break;case"w":gt=gn(1);break;case"ww":gt=gn(2);break;case"W":gt=gn(1,!0);break;case"d":gt=tn(Ke.Date,1);break;case"dd":gt=tn(Ke.Date,2);break;case"c":case"cc":gt=tn(Ke.Day,1);break;case"ccc":gt=nt(Tt.Days,Ce.Abbreviated,ne.Standalone);break;case"cccc":gt=nt(Tt.Days,Ce.Wide,ne.Standalone);break;case"ccccc":gt=nt(Tt.Days,Ce.Narrow,ne.Standalone);break;case"cccccc":gt=nt(Tt.Days,Ce.Short,ne.Standalone);break;case"E":case"EE":case"EEE":gt=nt(Tt.Days,Ce.Abbreviated);break;case"EEEE":gt=nt(Tt.Days,Ce.Wide);break;case"EEEEE":gt=nt(Tt.Days,Ce.Narrow);break;case"EEEEEE":gt=nt(Tt.Days,Ce.Short);break;case"a":case"aa":case"aaa":gt=nt(Tt.DayPeriods,Ce.Abbreviated);break;case"aaaa":gt=nt(Tt.DayPeriods,Ce.Wide);break;case"aaaaa":gt=nt(Tt.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":gt=nt(Tt.DayPeriods,Ce.Abbreviated,ne.Standalone,!0);break;case"bbbb":gt=nt(Tt.DayPeriods,Ce.Wide,ne.Standalone,!0);break;case"bbbbb":gt=nt(Tt.DayPeriods,Ce.Narrow,ne.Standalone,!0);break;case"B":case"BB":case"BBB":gt=nt(Tt.DayPeriods,Ce.Abbreviated,ne.Format,!0);break;case"BBBB":gt=nt(Tt.DayPeriods,Ce.Wide,ne.Format,!0);break;case"BBBBB":gt=nt(Tt.DayPeriods,Ce.Narrow,ne.Format,!0);break;case"h":gt=tn(Ke.Hours,1,-12);break;case"hh":gt=tn(Ke.Hours,2,-12);break;case"H":gt=tn(Ke.Hours,1);break;case"HH":gt=tn(Ke.Hours,2);break;case"m":gt=tn(Ke.Minutes,1);break;case"mm":gt=tn(Ke.Minutes,2);break;case"s":gt=tn(Ke.Seconds,1);break;case"ss":gt=tn(Ke.Seconds,2);break;case"S":gt=tn(Ke.FractionalSeconds,1);break;case"SS":gt=tn(Ke.FractionalSeconds,2);break;case"SSS":gt=tn(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":gt=Qe(lt.Short);break;case"ZZZZZ":gt=Qe(lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":gt=Qe(lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":gt=Qe(lt.Long);break;default:return null}return Mn[Pe]=gt,gt}(fo);co+=ji?ji(on,Ve,to):"''"===fo?"'":fo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),co}function Fe(Pe,gt,Ve){const Dt=new Date(0);return Dt.setFullYear(Pe,gt,Ve),Dt.setHours(0,0,0),Dt}function he(Pe,gt){const Ve=function W(Pe){return(0,e.cg1)(Pe)[e.wAp.LocaleId]}(Pe);if(Ot[Ve]=Ot[Ve]||{},Ot[Ve][gt])return Ot[Ve][gt];let Dt="";switch(gt){case"shortDate":Dt=X(Pe,oe.Short);break;case"mediumDate":Dt=X(Pe,oe.Medium);break;case"longDate":Dt=X(Pe,oe.Long);break;case"fullDate":Dt=X(Pe,oe.Full);break;case"shortTime":Dt=be(Pe,oe.Short);break;case"mediumTime":Dt=be(Pe,oe.Medium);break;case"longTime":Dt=be(Pe,oe.Long);break;case"fullTime":Dt=be(Pe,oe.Full);break;case"short":const on=he(Pe,"shortTime"),Dn=he(Pe,"shortDate");Dt=mt(we(Pe,oe.Short),[on,Dn]);break;case"medium":const Nn=he(Pe,"mediumTime"),ui=he(Pe,"mediumDate");Dt=mt(we(Pe,oe.Medium),[Nn,ui]);break;case"long":const to=he(Pe,"longTime"),co=he(Pe,"longDate");Dt=mt(we(Pe,oe.Long),[to,co]);break;case"full":const fo=he(Pe,"fullTime"),ji=he(Pe,"fullDate");Dt=mt(we(Pe,oe.Full),[fo,ji])}return Dt&&(Ot[Ve][gt]=Dt),Dt}function mt(Pe,gt){return gt&&(Pe=Pe.replace(/\{([^}]+)}/g,function(Ve,Dt){return null!=gt&&Dt in gt?gt[Dt]:Ve})),Pe}function cn(Pe,gt,Ve="-",Dt,on){let Dn="";(Pe<0||on&&Pe<=0)&&(on?Pe=1-Pe:(Pe=-Pe,Dn=Ve));let Nn=String(Pe);for(;Nn.length<gt;)Nn="0"+Nn;return Dt&&(Nn=Nn.slice(Nn.length-gt)),Dn+Nn}function tn(Pe,gt,Ve=0,Dt=!1,on=!1){return function(Dn,Nn){let ui=function bt(Pe,gt){switch(Pe){case Ke.FullYear:return gt.getFullYear();case Ke.Month:return gt.getMonth();case Ke.Date:return gt.getDate();case Ke.Hours:return gt.getHours();case Ke.Minutes:return gt.getMinutes();case Ke.Seconds:return gt.getSeconds();case Ke.FractionalSeconds:return gt.getMilliseconds();case Ke.Day:return gt.getDay();default:throw new Error(`Unknown DateType value "${Pe}".`)}}(Pe,Dn);if((Ve>0||ui>-Ve)&&(ui+=Ve),Pe===Ke.Hours)0===ui&&-12===Ve&&(ui=12);else if(Pe===Ke.FractionalSeconds)return function Tn(Pe,gt){return cn(Pe,3).substring(0,gt)}(ui,gt);const to=Ie(Nn,z.MinusSign);return cn(ui,gt,to,Dt,on)}}function nt(Pe,gt,Ve=ne.Format,Dt=!1){return function(on,Dn){return function de(Pe,gt,Ve,Dt,on,Dn){switch(Ve){case Tt.Months:return function Ee(Pe,gt,Ve){const Dt=(0,e.cg1)(Pe),Dn=ge([Dt[e.wAp.MonthsFormat],Dt[e.wAp.MonthsStandalone]],gt);return ge(Dn,Ve)}(gt,on,Dt)[Pe.getMonth()];case Tt.Days:return function Ae(Pe,gt,Ve){const Dt=(0,e.cg1)(Pe),Dn=ge([Dt[e.wAp.DaysFormat],Dt[e.wAp.DaysStandalone]],gt);return ge(Dn,Ve)}(gt,on,Dt)[Pe.getDay()];case Tt.DayPeriods:const Nn=Pe.getHours(),ui=Pe.getMinutes();if(Dn){const co=function At(Pe){const gt=(0,e.cg1)(Pe);return Nt(gt),(gt[e.wAp.ExtraData][2]||[]).map(Dt=>"string"==typeof Dt?ke(Dt):[ke(Dt[0]),ke(Dt[1])])}(gt),fo=function st(Pe,gt,Ve){const Dt=(0,e.cg1)(Pe);Nt(Dt);const Dn=ge([Dt[e.wAp.ExtraData][0],Dt[e.wAp.ExtraData][1]],gt)||[];return ge(Dn,Ve)||[]}(gt,on,Dt),ji=co.findIndex(mo=>{if(Array.isArray(mo)){const[yi,Co]=mo,Ko=Nn>=yi.hours&&ui>=yi.minutes,Xs=Nn<Co.hours||Nn===Co.hours&&ui<Co.minutes;if(yi.hours<Co.hours){if(Ko&&Xs)return!0}else if(Ko||Xs)return!0}else if(mo.hours===Nn&&mo.minutes===ui)return!0;return!1});if(-1!==ji)return fo[ji]}return function Y(Pe,gt,Ve){const Dt=(0,e.cg1)(Pe),Dn=ge([Dt[e.wAp.DayPeriodsFormat],Dt[e.wAp.DayPeriodsStandalone]],gt);return ge(Dn,Ve)}(gt,on,Dt)[Nn<12?0:1];case Tt.Eras:return function qe(Pe,gt){return ge((0,e.cg1)(Pe)[e.wAp.Eras],gt)}(gt,Dt)[Pe.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ve}`)}}(on,Dn,Pe,gt,Ve,Dt)}}function Qe(Pe){return function(gt,Ve,Dt){const on=-1*Dt,Dn=Ie(Ve,z.MinusSign),Nn=on>0?Math.floor(on/60):Math.ceil(on/60);switch(Pe){case lt.Short:return(on>=0?"+":"")+cn(Nn,2,Dn)+cn(Math.abs(on%60),2,Dn);case lt.ShortGMT:return"GMT"+(on>=0?"+":"")+cn(Nn,1,Dn);case lt.Long:return"GMT"+(on>=0?"+":"")+cn(Nn,2,Dn)+":"+cn(Math.abs(on%60),2,Dn);case lt.Extended:return 0===Dt?"Z":(on>=0?"+":"")+cn(Nn,2,Dn)+":"+cn(Math.abs(on%60),2,Dn);default:throw new Error(`Unknown zone width "${Pe}"`)}}}function $t(Pe){return Fe(Pe.getFullYear(),Pe.getMonth(),Pe.getDate()+(4-Pe.getDay()))}function gn(Pe,gt=!1){return function(Ve,Dt){let on;if(gt){const Dn=new Date(Ve.getFullYear(),Ve.getMonth(),1).getDay()-1,Nn=Ve.getDate();on=1+Math.floor((Nn+Dn)/7)}else{const Dn=$t(Ve),Nn=function Ze(Pe){const gt=Fe(Pe,0,1).getDay();return Fe(Pe,0,1+(gt<=4?4:11)-gt)}(Dn.getFullYear()),ui=Dn.getTime()-Nn.getTime();on=1+Math.round(ui/6048e5)}return cn(on,Pe,Ie(Dt,z.MinusSign))}}function Gt(Pe,gt=!1){return function(Ve,Dt){return cn($t(Ve).getFullYear(),Pe,Ie(Dt,z.MinusSign),gt)}}const Mn={};function rn(Pe,gt){Pe=Pe.replace(/:/g,"");const Ve=Date.parse("Jan 01, 1970 00:00:00 "+Pe)/6e4;return isNaN(Ve)?gt:Ve}function Ji(Pe){return Pe instanceof Date&&!isNaN(Pe.valueOf())}const Qi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Zt(Pe,gt,Ve,Dt,on,Dn,Nn=!1){let ui="",to=!1;if(isFinite(Pe)){let co=function ii(Pe){let Dt,on,Dn,Nn,ui,gt=Math.abs(Pe)+"",Ve=0;for((on=gt.indexOf("."))>-1&&(gt=gt.replace(".","")),(Dn=gt.search(/e/i))>0?(on<0&&(on=Dn),on+=+gt.slice(Dn+1),gt=gt.substring(0,Dn)):on<0&&(on=gt.length),Dn=0;"0"===gt.charAt(Dn);Dn++);if(Dn===(ui=gt.length))Dt=[0],on=1;else{for(ui--;"0"===gt.charAt(ui);)ui--;for(on-=Dn,Dt=[],Nn=0;Dn<=ui;Dn++,Nn++)Dt[Nn]=Number(gt.charAt(Dn))}return on>22&&(Dt=Dt.splice(0,21),Ve=on-1,on=1),{digits:Dt,exponent:Ve,integerLen:on}}(Pe);Nn&&(co=function gi(Pe){if(0===Pe.digits[0])return Pe;const gt=Pe.digits.length-Pe.integerLen;return Pe.exponent?Pe.exponent+=2:(0===gt?Pe.digits.push(0,0):1===gt&&Pe.digits.push(0),Pe.integerLen+=2),Pe}(co));let fo=gt.minInt,ji=gt.minFrac,mo=gt.maxFrac;if(Dn){const sr=Dn.match(Qi);if(null===sr)throw new Error(`${Dn} is not a valid digit info`);const Ct=sr[1],ae=sr[3],pe=sr[5];null!=Ct&&(fo=qi(Ct)),null!=ae&&(ji=qi(ae)),null!=pe?mo=qi(pe):null!=ae&&ji>mo&&(mo=ji)}!function ki(Pe,gt,Ve){if(gt>Ve)throw new Error(`The minimum number of digits after fraction (${gt}) is higher than the maximum (${Ve}).`);let Dt=Pe.digits,on=Dt.length-Pe.integerLen;const Dn=Math.min(Math.max(gt,on),Ve);let Nn=Dn+Pe.integerLen,ui=Dt[Nn];if(Nn>0){Dt.splice(Math.max(Pe.integerLen,Nn));for(let ji=Nn;ji<Dt.length;ji++)Dt[ji]=0}else{on=Math.max(0,on),Pe.integerLen=1,Dt.length=Math.max(1,Nn=Dn+1),Dt[0]=0;for(let ji=1;ji<Nn;ji++)Dt[ji]=0}if(ui>=5)if(Nn-1<0){for(let ji=0;ji>Nn;ji--)Dt.unshift(0),Pe.integerLen++;Dt.unshift(1),Pe.integerLen++}else Dt[Nn-1]++;for(;on<Math.max(0,Dn);on++)Dt.push(0);let to=0!==Dn;const co=gt+Pe.integerLen,fo=Dt.reduceRight(function(ji,mo,yi,Co){return Co[yi]=(mo+=ji)<10?mo:mo-10,to&&(0===Co[yi]&&yi>=co?Co.pop():to=!1),mo>=10?1:0},0);fo&&(Dt.unshift(fo),Pe.integerLen++)}(co,ji,mo);let yi=co.digits,Co=co.integerLen;const Ko=co.exponent;let Xs=[];for(to=yi.every(sr=>!sr);Co<fo;Co++)yi.unshift(0);for(;Co<0;Co++)yi.unshift(0);Co>0?Xs=yi.splice(Co,yi.length):(Xs=yi,yi=[0]);const as=[];for(yi.length>=gt.lgSize&&as.unshift(yi.splice(-gt.lgSize,yi.length).join(""));yi.length>gt.gSize;)as.unshift(yi.splice(-gt.gSize,yi.length).join(""));yi.length&&as.unshift(yi.join("")),ui=as.join(Ie(Ve,Dt)),Xs.length&&(ui+=Ie(Ve,on)+Xs.join("")),Ko&&(ui+=Ie(Ve,z.Exponential)+"+"+Ko)}else ui=Ie(Ve,z.Infinity);return ui=Pe<0&&!to?gt.negPre+ui+gt.negSuf:gt.posPre+ui+gt.posSuf,ui}function si(Pe,gt="-"){const Ve={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Dt=Pe.split(";"),on=Dt[0],Dn=Dt[1],Nn=-1!==on.indexOf(".")?on.split("."):[on.substring(0,on.lastIndexOf("0")+1),on.substring(on.lastIndexOf("0")+1)],ui=Nn[0],to=Nn[1]||"";Ve.posPre=ui.substring(0,ui.indexOf("#"));for(let fo=0;fo<to.length;fo++){const ji=to.charAt(fo);"0"===ji?Ve.minFrac=Ve.maxFrac=fo+1:"#"===ji?Ve.maxFrac=fo+1:Ve.posSuf+=ji}const co=ui.split(",");if(Ve.gSize=co[1]?co[1].length:0,Ve.lgSize=co[2]||co[1]?(co[2]||co[1]).length:0,Dn){const fo=on.length-Ve.posPre.length-Ve.posSuf.length,ji=Dn.indexOf("#");Ve.negPre=Dn.substring(0,ji).replace(/'/g,""),Ve.negSuf=Dn.slice(ji+fo).replace(/'/g,"")}else Ve.negPre=gt+Ve.posPre,Ve.negSuf=Ve.posSuf;return Ve}function qi(Pe){const gt=parseInt(Pe);if(isNaN(gt))throw new Error("Invalid integer literal when parsing "+Pe);return gt}function Go(Pe,gt,Ve){return(0,e.dwT)(Pe,gt,Ve)}function Wo(Pe,gt){gt=encodeURIComponent(gt);for(const Ve of Pe.split(";")){const Dt=Ve.indexOf("="),[on,Dn]=-1==Dt?[Ve,""]:[Ve.slice(0,Dt),Ve.slice(Dt+1)];if(on.trim()===gt)return decodeURIComponent(Dn)}return null}let vo=(()=>{class Pe{constructor(Ve,Dt,on,Dn){this._iterableDiffers=Ve,this._keyValueDiffers=Dt,this._ngEl=on,this._renderer=Dn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Ve){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Ve?Ve.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Ve){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Ve?Ve.split(/\s+/):Ve,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Ve=this._iterableDiffer.diff(this._rawClass);Ve&&this._applyIterableChanges(Ve)}else if(this._keyValueDiffer){const Ve=this._keyValueDiffer.diff(this._rawClass);Ve&&this._applyKeyValueChanges(Ve)}}_applyKeyValueChanges(Ve){Ve.forEachAddedItem(Dt=>this._toggleClass(Dt.key,Dt.currentValue)),Ve.forEachChangedItem(Dt=>this._toggleClass(Dt.key,Dt.currentValue)),Ve.forEachRemovedItem(Dt=>{Dt.previousValue&&this._toggleClass(Dt.key,!1)})}_applyIterableChanges(Ve){Ve.forEachAddedItem(Dt=>{if("string"!=typeof Dt.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(Dt.item)}`);this._toggleClass(Dt.item,!0)}),Ve.forEachRemovedItem(Dt=>this._toggleClass(Dt.item,!1))}_applyClasses(Ve){Ve&&(Array.isArray(Ve)||Ve instanceof Set?Ve.forEach(Dt=>this._toggleClass(Dt,!0)):Object.keys(Ve).forEach(Dt=>this._toggleClass(Dt,!!Ve[Dt])))}_removeClasses(Ve){Ve&&(Array.isArray(Ve)||Ve instanceof Set?Ve.forEach(Dt=>this._toggleClass(Dt,!1)):Object.keys(Ve).forEach(Dt=>this._toggleClass(Dt,!1)))}_toggleClass(Ve,Dt){(Ve=Ve.trim())&&Ve.split(/\s+/g).forEach(on=>{Dt?this._renderer.addClass(this._ngEl.nativeElement,on):this._renderer.removeClass(this._ngEl.nativeElement,on)})}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Pe})();class _s{constructor(gt,Ve,Dt,on){this.$implicit=gt,this.ngForOf=Ve,this.index=Dt,this.count=on}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uo=(()=>{class Pe{constructor(Ve,Dt,on){this._viewContainer=Ve,this._template=Dt,this._differs=on,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Ve){this._ngForOf=Ve,this._ngForOfDirty=!0}set ngForTrackBy(Ve){this._trackByFn=Ve}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Ve){Ve&&(this._template=Ve)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ve=this._ngForOf;!this._differ&&Ve&&(this._differ=this._differs.find(Ve).create(this.ngForTrackBy))}if(this._differ){const Ve=this._differ.diff(this._ngForOf);Ve&&this._applyChanges(Ve)}}_applyChanges(Ve){const Dt=this._viewContainer;Ve.forEachOperation((on,Dn,Nn)=>{if(null==on.previousIndex)Dt.createEmbeddedView(this._template,new _s(on.item,this._ngForOf,-1,-1),null===Nn?void 0:Nn);else if(null==Nn)Dt.remove(null===Dn?void 0:Dn);else if(null!==Dn){const ui=Dt.get(Dn);Dt.move(ui,Nn),Io(ui,on)}});for(let on=0,Dn=Dt.length;on<Dn;on++){const ui=Dt.get(on).context;ui.index=on,ui.count=Dn,ui.ngForOf=this._ngForOf}Ve.forEachIdentityChange(on=>{Io(Dt.get(on.currentIndex),on)})}static ngTemplateContextGuard(Ve,Dt){return!0}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Pe})();function Io(Pe,gt){Pe.context.$implicit=gt.item}let Cs=(()=>{class Pe{constructor(Ve,Dt){this._viewContainer=Ve,this._context=new po,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Dt}set ngIf(Ve){this._context.$implicit=this._context.ngIf=Ve,this._updateView()}set ngIfThen(Ve){lo("ngIfThen",Ve),this._thenTemplateRef=Ve,this._thenViewRef=null,this._updateView()}set ngIfElse(Ve){lo("ngIfElse",Ve),this._elseTemplateRef=Ve,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ve,Dt){return!0}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.s_b),e.Y36(e.Rgc))},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Pe})();class po{constructor(){this.$implicit=null,this.ngIf=null}}function lo(Pe,gt){if(gt&&!gt.createEmbeddedView)throw new Error(`${Pe} must be a TemplateRef, but received '${(0,e.AaK)(gt)}'.`)}class $o{constructor(gt,Ve){this._viewContainerRef=gt,this._templateRef=Ve,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(gt){gt&&!this._created?this.create():!gt&&this._created&&this.destroy()}}let Us=(()=>{class Pe{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ve){this._ngSwitch=Ve,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ve){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Ve)}_matchCase(Ve){const Dt=Ve==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Dt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Dt}_updateDefaultCases(Ve){if(this._defaultViews&&Ve!==this._defaultUsed){this._defaultUsed=Ve;for(let Dt=0;Dt<this._defaultViews.length;Dt++)this._defaultViews[Dt].enforceState(Ve)}}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Pe})(),Ss=(()=>{class Pe{constructor(Ve,Dt,on){this.ngSwitch=on,on._addCase(),this._view=new $o(Ve,Dt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Us,9))},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Pe})(),Hs=(()=>{class Pe{constructor(Ve,Dt,on){on._addDefault(new $o(Ve,Dt))}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Us,9))},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Pe})(),yr=(()=>{class Pe{constructor(Ve,Dt,on){this._ngEl=Ve,this._differs=Dt,this._renderer=on,this._ngStyle=null,this._differ=null}set ngStyle(Ve){this._ngStyle=Ve,!this._differ&&Ve&&(this._differ=this._differs.find(Ve).create())}ngDoCheck(){if(this._differ){const Ve=this._differ.diff(this._ngStyle);Ve&&this._applyChanges(Ve)}}_setStyle(Ve,Dt){const[on,Dn]=Ve.split("."),Nn=-1===on.indexOf("-")?void 0:e.JOm.DashCase;null!=Dt?this._renderer.setStyle(this._ngEl.nativeElement,on,Dn?`${Dt}${Dn}`:Dt,Nn):this._renderer.removeStyle(this._ngEl.nativeElement,on,Nn)}_applyChanges(Ve){Ve.forEachRemovedItem(Dt=>this._setStyle(Dt.key,null)),Ve.forEachAddedItem(Dt=>this._setStyle(Dt.key,Dt.currentValue)),Ve.forEachChangedItem(Dt=>this._setStyle(Dt.key,Dt.currentValue))}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Qsj))},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Pe})(),xr=(()=>{class Pe{constructor(Ve){this._viewContainerRef=Ve,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ve){if(Ve.ngTemplateOutlet||Ve.ngTemplateOutletInjector){const Dt=this._viewContainerRef;if(this._viewRef&&Dt.remove(Dt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:on,ngTemplateOutletContext:Dn,ngTemplateOutletInjector:Nn}=this;this._viewRef=Dt.createEmbeddedView(on,Dn,Nn?{injector:Nn}:void 0)}else this._viewRef=null}else this._viewRef&&Ve.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.s_b))},Pe.\u0275dir=e.lG2({type:Pe,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]}),Pe})();function vs(Pe,gt){return new e.vHH(2100,!1)}class ua{createSubscription(gt,Ve){return gt.subscribe({next:Ve,error:Dt=>{throw Dt}})}dispose(gt){gt.unsubscribe()}}class Ks{createSubscription(gt,Ve){return gt.then(Ve,Dt=>{throw Dt})}dispose(gt){}}const Nr=new Ks,Fr=new ua;let Eo=(()=>{class Pe{constructor(Ve){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ve}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ve){return this._obj?Ve!==this._obj?(this._dispose(),this.transform(Ve)):this._latestValue:(Ve&&this._subscribe(Ve),this._latestValue)}_subscribe(Ve){this._obj=Ve,this._strategy=this._selectStrategy(Ve),this._subscription=this._strategy.createSubscription(Ve,Dt=>this._updateLatestValue(Ve,Dt))}_selectStrategy(Ve){if((0,e.QGY)(Ve))return Nr;if((0,e.F4k)(Ve))return Fr;throw vs()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ve,Dt){Ve===this._obj&&(this._latestValue=Dt,this._ref.markForCheck())}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.sBO,16))},Pe.\u0275pipe=e.Yjl({name:"async",type:Pe,pure:!1,standalone:!0}),Pe})();const Ii=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let nr=(()=>{class Pe{transform(Ve){if(null==Ve)return null;if("string"!=typeof Ve)throw vs();return Ve.replace(Ii,Dt=>Dt[0].toUpperCase()+Dt.slice(1).toLowerCase())}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)},Pe.\u0275pipe=e.Yjl({name:"titlecase",type:Pe,pure:!0,standalone:!0}),Pe})();const As=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ir=(()=>{class Pe{constructor(Ve,Dt){this.locale=Ve,this.defaultTimezone=Dt}transform(Ve,Dt="mediumDate",on,Dn){var Nn;if(null==Ve||""===Ve||Ve!=Ve)return null;try{return se(Ve,Dt,Dn||this.locale,null!==(Nn=null!=on?on:this.defaultTimezone)&&void 0!==Nn?Nn:void 0)}catch(ui){throw vs()}}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.soG,16),e.Y36(As,24))},Pe.\u0275pipe=e.Yjl({name:"date",type:Pe,pure:!0,standalone:!0}),Pe})(),Tr=(()=>{class Pe{constructor(Ve){this.differs=Ve,this.keyValues=[],this.compareFn=rs}transform(Ve,Dt=rs){if(!Ve||!(Ve instanceof Map)&&"object"!=typeof Ve)return null;this.differ||(this.differ=this.differs.find(Ve).create());const on=this.differ.diff(Ve),Dn=Dt!==this.compareFn;return on&&(this.keyValues=[],on.forEachItem(Nn=>{this.keyValues.push(function Xo(Pe,gt){return{key:Pe,value:gt}}(Nn.key,Nn.currentValue))})),(on||Dn)&&(this.keyValues.sort(Dt),this.compareFn=Dt),this.keyValues}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.aQg,16))},Pe.\u0275pipe=e.Yjl({name:"keyvalue",type:Pe,pure:!1,standalone:!0}),Pe})();function rs(Pe,gt){const Ve=Pe.key,Dt=gt.key;if(Ve===Dt)return 0;if(void 0===Ve)return 1;if(void 0===Dt)return-1;if(null===Ve)return 1;if(null===Dt)return-1;if("string"==typeof Ve&&"string"==typeof Dt)return Ve<Dt?-1:1;if("number"==typeof Ve&&"number"==typeof Dt)return Ve-Dt;if("boolean"==typeof Ve&&"boolean"==typeof Dt)return Ve<Dt?-1:1;const on=String(Ve),Dn=String(Dt);return on==Dn?0:on<Dn?-1:1}let go=(()=>{class Pe{constructor(Ve){this._locale=Ve}transform(Ve,Dt,on){if(!ws(Ve))return null;on=on||this._locale;try{return function Wn(Pe,gt,Ve){return Zt(Pe,si(ct(gt,q.Decimal),Ie(gt,z.MinusSign)),gt,z.Group,z.Decimal,Ve)}(Vs(Ve),on,Dt)}catch(Dn){throw vs()}}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.soG,16))},Pe.\u0275pipe=e.Yjl({name:"number",type:Pe,pure:!0,standalone:!0}),Pe})(),xs=(()=>{class Pe{constructor(Ve,Dt="USD"){this._locale=Ve,this._defaultCurrencyCode=Dt}transform(Ve,Dt=this._defaultCurrencyCode,on="symbol",Dn,Nn){if(!ws(Ve))return null;Nn=Nn||this._locale,"boolean"==typeof on&&(on=on?"symbol":"code");let ui=Dt||this._defaultCurrencyCode;"code"!==on&&(ui="symbol"===on||"symbol-narrow"===on?function rt(Pe,gt,Ve="en"){const Dt=function ht(Pe){return(0,e.cg1)(Pe)[e.wAp.Currencies]}(Ve)[Pe]||ue[Pe]||[],on=Dt[1];return"narrow"===gt&&"string"==typeof on?on:Dt[0]||Pe}(ui,"symbol"===on?"wide":"narrow",Nn):on);try{return function bn(Pe,gt,Ve,Dt,on){const Nn=si(ct(gt,q.Currency),Ie(gt,z.MinusSign));return Nn.minFrac=function Pt(Pe){let gt;const Ve=ue[Pe];return Ve&&(gt=Ve[2]),"number"==typeof gt?gt:2}(Dt),Nn.maxFrac=Nn.minFrac,Zt(Pe,Nn,gt,z.CurrencyGroup,z.CurrencyDecimal,on).replace("\xa4",Ve).replace("\xa4","").trim()}(Vs(Ve),Nn,ui,Dt,Dn)}catch(to){throw vs()}}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)(e.Y36(e.soG,16),e.Y36(e.EJc,16))},Pe.\u0275pipe=e.Yjl({name:"currency",type:Pe,pure:!0,standalone:!0}),Pe})();function ws(Pe){return!(null==Pe||""===Pe||Pe!=Pe)}function Vs(Pe){if("string"==typeof Pe&&!isNaN(Number(Pe)-parseFloat(Pe)))return Number(Pe);if("number"!=typeof Pe)throw new Error(`${Pe} is not a number`);return Pe}let Ar=(()=>{class Pe{transform(Ve,Dt,on){if(null==Ve)return null;if(!this.supports(Ve))throw vs();return Ve.slice(Dt,on)}supports(Ve){return"string"==typeof Ve||Array.isArray(Ve)}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)},Pe.\u0275pipe=e.Yjl({name:"slice",type:Pe,pure:!1,standalone:!0}),Pe})(),Br=(()=>{class Pe{}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)},Pe.\u0275mod=e.oAB({type:Pe}),Pe.\u0275inj=e.cJS({}),Pe})();const Er="browser";function kr(Pe){return Pe===Er}function Et(Pe){return"server"===Pe}let It=(()=>{class Pe{}return Pe.\u0275prov=(0,e.Yz7)({token:Pe,providedIn:"root",factory:()=>new Jt((0,e.LFG)(x),window)}),Pe})();class Jt{constructor(gt,Ve){this.document=gt,this.window=Ve,this.offset=()=>[0,0]}setOffset(gt){this.offset=Array.isArray(gt)?()=>gt:gt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(gt){this.supportsScrolling()&&this.window.scrollTo(gt[0],gt[1])}scrollToAnchor(gt){if(!this.supportsScrolling())return;const Ve=function qn(Pe,gt){const Ve=Pe.getElementById(gt)||Pe.getElementsByName(gt)[0];if(Ve)return Ve;if("function"==typeof Pe.createTreeWalker&&Pe.body&&(Pe.body.createShadowRoot||Pe.body.attachShadow)){const Dt=Pe.createTreeWalker(Pe.body,NodeFilter.SHOW_ELEMENT);let on=Dt.currentNode;for(;on;){const Dn=on.shadowRoot;if(Dn){const Nn=Dn.getElementById(gt)||Dn.querySelector(`[name="${gt}"]`);if(Nn)return Nn}on=Dt.nextNode()}}return null}(this.document,gt);Ve&&(this.scrollToElement(Ve),Ve.focus())}setHistoryScrollRestoration(gt){if(this.supportScrollRestoration()){const Ve=this.window.history;Ve&&Ve.scrollRestoration&&(Ve.scrollRestoration=gt)}}scrollToElement(gt){const Ve=gt.getBoundingClientRect(),Dt=Ve.left+this.window.pageXOffset,on=Ve.top+this.window.pageYOffset,Dn=this.offset();this.window.scrollTo(Dt-Dn[0],on-Dn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const gt=Pn(this.window.history)||Pn(Object.getPrototypeOf(this.window.history));return!(!gt||!gt.writable&&!gt.set)}catch(gt){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(gt){return!1}}}function Pn(Pe){return Object.getOwnPropertyDescriptor(Pe,"scrollRestoration")}class Zi{}},520:(hn,ft,b)=>{"use strict";b.d(ft,{JF:()=>Pt,eN:()=>W});var e=b(9808),d=b(5e3),u=b(9646),f=b(9751),_=b(4351),P=b(9300),x=b(4004);class r{}class R{}class L{constructor(lt){this.normalizedNames=new Map,this.lazyUpdate=null,lt?this.lazyInit="string"==typeof lt?()=>{this.headers=new Map,lt.split("\n").forEach(Ke=>{const Tt=Ke.indexOf(":");if(Tt>0){const se=Ke.slice(0,Tt),Fe=se.toLowerCase(),he=Ke.slice(Tt+1).trim();this.maybeSetNormalizedName(se,Fe),this.headers.has(Fe)?this.headers.get(Fe).push(he):this.headers.set(Fe,[he])}})}:()=>{this.headers=new Map,Object.keys(lt).forEach(Ke=>{let Tt=lt[Ke];const se=Ke.toLowerCase();"string"==typeof Tt&&(Tt=[Tt]),Tt.length>0&&(this.headers.set(se,Tt),this.maybeSetNormalizedName(Ke,se))})}:this.headers=new Map}has(lt){return this.init(),this.headers.has(lt.toLowerCase())}get(lt){this.init();const Ke=this.headers.get(lt.toLowerCase());return Ke&&Ke.length>0?Ke[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(lt){return this.init(),this.headers.get(lt.toLowerCase())||null}append(lt,Ke){return this.clone({name:lt,value:Ke,op:"a"})}set(lt,Ke){return this.clone({name:lt,value:Ke,op:"s"})}delete(lt,Ke){return this.clone({name:lt,value:Ke,op:"d"})}maybeSetNormalizedName(lt,Ke){this.normalizedNames.has(Ke)||this.normalizedNames.set(Ke,lt)}init(){this.lazyInit&&(this.lazyInit instanceof L?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(lt=>this.applyUpdate(lt)),this.lazyUpdate=null))}copyFrom(lt){lt.init(),Array.from(lt.headers.keys()).forEach(Ke=>{this.headers.set(Ke,lt.headers.get(Ke)),this.normalizedNames.set(Ke,lt.normalizedNames.get(Ke))})}clone(lt){const Ke=new L;return Ke.lazyInit=this.lazyInit&&this.lazyInit instanceof L?this.lazyInit:this,Ke.lazyUpdate=(this.lazyUpdate||[]).concat([lt]),Ke}applyUpdate(lt){const Ke=lt.name.toLowerCase();switch(lt.op){case"a":case"s":let Tt=lt.value;if("string"==typeof Tt&&(Tt=[Tt]),0===Tt.length)return;this.maybeSetNormalizedName(lt.name,Ke);const se=("a"===lt.op?this.headers.get(Ke):void 0)||[];se.push(...Tt),this.headers.set(Ke,se);break;case"d":const Fe=lt.value;if(Fe){let he=this.headers.get(Ke);if(!he)return;he=he.filter(mt=>-1===Fe.indexOf(mt)),0===he.length?(this.headers.delete(Ke),this.normalizedNames.delete(Ke)):this.headers.set(Ke,he)}else this.headers.delete(Ke),this.normalizedNames.delete(Ke)}}forEach(lt){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ke=>lt(this.normalizedNames.get(Ke),this.headers.get(Ke)))}}class N{encodeKey(lt){return D(lt)}encodeValue(lt){return D(lt)}decodeKey(lt){return decodeURIComponent(lt)}decodeValue(lt){return decodeURIComponent(lt)}}const y=/%(\d[a-f0-9])/gi,E={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function D(Ye){return encodeURIComponent(Ye).replace(y,(lt,Ke)=>{var Tt;return null!==(Tt=E[Ke])&&void 0!==Tt?Tt:lt})}function U(Ye){return`${Ye}`}class B{constructor(lt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=lt.encoder||new N,lt.fromString){if(lt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function T(Ye,lt){const Ke=new Map;return Ye.length>0&&Ye.replace(/^\?/,"").split("&").forEach(se=>{const Fe=se.indexOf("="),[he,mt]=-1==Fe?[lt.decodeKey(se),""]:[lt.decodeKey(se.slice(0,Fe)),lt.decodeValue(se.slice(Fe+1))],cn=Ke.get(he)||[];cn.push(mt),Ke.set(he,cn)}),Ke}(lt.fromString,this.encoder)}else lt.fromObject?(this.map=new Map,Object.keys(lt.fromObject).forEach(Ke=>{const Tt=lt.fromObject[Ke],se=Array.isArray(Tt)?Tt.map(U):[U(Tt)];this.map.set(Ke,se)})):this.map=null}has(lt){return this.init(),this.map.has(lt)}get(lt){this.init();const Ke=this.map.get(lt);return Ke?Ke[0]:null}getAll(lt){return this.init(),this.map.get(lt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(lt,Ke){return this.clone({param:lt,value:Ke,op:"a"})}appendAll(lt){const Ke=[];return Object.keys(lt).forEach(Tt=>{const se=lt[Tt];Array.isArray(se)?se.forEach(Fe=>{Ke.push({param:Tt,value:Fe,op:"a"})}):Ke.push({param:Tt,value:se,op:"a"})}),this.clone(Ke)}set(lt,Ke){return this.clone({param:lt,value:Ke,op:"s"})}delete(lt,Ke){return this.clone({param:lt,value:Ke,op:"d"})}toString(){return this.init(),this.keys().map(lt=>{const Ke=this.encoder.encodeKey(lt);return this.map.get(lt).map(Tt=>Ke+"="+this.encoder.encodeValue(Tt)).join("&")}).filter(lt=>""!==lt).join("&")}clone(lt){const Ke=new B({encoder:this.encoder});return Ke.cloneFrom=this.cloneFrom||this,Ke.updates=(this.updates||[]).concat(lt),Ke}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(lt=>this.map.set(lt,this.cloneFrom.map.get(lt))),this.updates.forEach(lt=>{switch(lt.op){case"a":case"s":const Ke=("a"===lt.op?this.map.get(lt.param):void 0)||[];Ke.push(U(lt.value)),this.map.set(lt.param,Ke);break;case"d":if(void 0===lt.value){this.map.delete(lt.param);break}{let Tt=this.map.get(lt.param)||[];const se=Tt.indexOf(U(lt.value));-1!==se&&Tt.splice(se,1),Tt.length>0?this.map.set(lt.param,Tt):this.map.delete(lt.param)}}}),this.cloneFrom=this.updates=null)}}class ${constructor(){this.map=new Map}set(lt,Ke){return this.map.set(lt,Ke),this}get(lt){return this.map.has(lt)||this.map.set(lt,lt.defaultValue()),this.map.get(lt)}delete(lt){return this.map.delete(lt),this}has(lt){return this.map.has(lt)}keys(){return this.map.keys()}}function k(Ye){return"undefined"!=typeof ArrayBuffer&&Ye instanceof ArrayBuffer}function O(Ye){return"undefined"!=typeof Blob&&Ye instanceof Blob}function K(Ye){return"undefined"!=typeof FormData&&Ye instanceof FormData}class q{constructor(lt,Ke,Tt,se){let Fe;if(this.url=Ke,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=lt.toUpperCase(),function V(Ye){switch(Ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||se?(this.body=void 0!==Tt?Tt:null,Fe=se):Fe=Tt,Fe&&(this.reportProgress=!!Fe.reportProgress,this.withCredentials=!!Fe.withCredentials,Fe.responseType&&(this.responseType=Fe.responseType),Fe.headers&&(this.headers=Fe.headers),Fe.context&&(this.context=Fe.context),Fe.params&&(this.params=Fe.params)),this.headers||(this.headers=new L),this.context||(this.context=new $),this.params){const he=this.params.toString();if(0===he.length)this.urlWithParams=Ke;else{const mt=Ke.indexOf("?");this.urlWithParams=Ke+(-1===mt?"?":mt<Ke.length-1?"&":"")+he}}else this.params=new B,this.urlWithParams=Ke}serializeBody(){return null===this.body?null:k(this.body)||O(this.body)||K(this.body)||function ue(Ye){return"undefined"!=typeof URLSearchParams&&Ye instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof B?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||K(this.body)?null:O(this.body)?this.body.type||null:k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof B?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(lt={}){var Ke;const Tt=lt.method||this.method,se=lt.url||this.url,Fe=lt.responseType||this.responseType,he=void 0!==lt.body?lt.body:this.body,mt=void 0!==lt.withCredentials?lt.withCredentials:this.withCredentials,cn=void 0!==lt.reportProgress?lt.reportProgress:this.reportProgress;let Tn=lt.headers||this.headers,tn=lt.params||this.params;const bt=null!==(Ke=lt.context)&&void 0!==Ke?Ke:this.context;return void 0!==lt.setHeaders&&(Tn=Object.keys(lt.setHeaders).reduce((nt,de)=>nt.set(de,lt.setHeaders[de]),Tn)),lt.setParams&&(tn=Object.keys(lt.setParams).reduce((nt,de)=>nt.set(de,lt.setParams[de]),tn)),new q(Tt,se,he,{params:tn,headers:Tn,context:bt,reportProgress:cn,responseType:Fe,withCredentials:mt})}}var G=(()=>((G=G||{})[G.Sent=0]="Sent",G[G.UploadProgress=1]="UploadProgress",G[G.ResponseHeader=2]="ResponseHeader",G[G.DownloadProgress=3]="DownloadProgress",G[G.Response=4]="Response",G[G.User=5]="User",G))();class ne{constructor(lt,Ke=200,Tt="OK"){this.headers=lt.headers||new L,this.status=void 0!==lt.status?lt.status:Ke,this.statusText=lt.statusText||Tt,this.url=lt.url||null,this.ok=this.status>=200&&this.status<300}}class Ce extends ne{constructor(lt={}){super(lt),this.type=G.ResponseHeader}clone(lt={}){return new Ce({headers:lt.headers||this.headers,status:void 0!==lt.status?lt.status:this.status,statusText:lt.statusText||this.statusText,url:lt.url||this.url||void 0})}}class oe extends ne{constructor(lt={}){super(lt),this.type=G.Response,this.body=void 0!==lt.body?lt.body:null}clone(lt={}){return new oe({body:void 0!==lt.body?lt.body:this.body,headers:lt.headers||this.headers,status:void 0!==lt.status?lt.status:this.status,statusText:lt.statusText||this.statusText,url:lt.url||this.url||void 0})}}class z extends ne{constructor(lt){super(lt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${lt.url||"(unknown url)"}`:`Http failure response for ${lt.url||"(unknown url)"}: ${lt.status} ${lt.statusText}`,this.error=lt.error||null}}function te(Ye,lt){return{body:lt,headers:Ye.headers,context:Ye.context,observe:Ye.observe,params:Ye.params,reportProgress:Ye.reportProgress,responseType:Ye.responseType,withCredentials:Ye.withCredentials}}let W=(()=>{class Ye{constructor(Ke){this.handler=Ke}request(Ke,Tt,se={}){let Fe;if(Ke instanceof q)Fe=Ke;else{let cn,Tn;cn=se.headers instanceof L?se.headers:new L(se.headers),se.params&&(Tn=se.params instanceof B?se.params:new B({fromObject:se.params})),Fe=new q(Ke,Tt,void 0!==se.body?se.body:null,{headers:cn,context:se.context,params:Tn,reportProgress:se.reportProgress,responseType:se.responseType||"json",withCredentials:se.withCredentials})}const he=(0,u.of)(Fe).pipe((0,_.b)(cn=>this.handler.handle(cn)));if(Ke instanceof q||"events"===se.observe)return he;const mt=he.pipe((0,P.h)(cn=>cn instanceof oe));switch(se.observe||"body"){case"body":switch(Fe.responseType){case"arraybuffer":return mt.pipe((0,x.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return cn.body}));case"blob":return mt.pipe((0,x.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof Blob))throw new Error("Response is not a Blob.");return cn.body}));case"text":return mt.pipe((0,x.U)(cn=>{if(null!==cn.body&&"string"!=typeof cn.body)throw new Error("Response is not a string.");return cn.body}));default:return mt.pipe((0,x.U)(cn=>cn.body))}case"response":return mt;default:throw new Error(`Unreachable: unhandled observe type ${se.observe}}`)}}delete(Ke,Tt={}){return this.request("DELETE",Ke,Tt)}get(Ke,Tt={}){return this.request("GET",Ke,Tt)}head(Ke,Tt={}){return this.request("HEAD",Ke,Tt)}jsonp(Ke,Tt){return this.request("JSONP",Ke,{params:(new B).append(Tt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ke,Tt={}){return this.request("OPTIONS",Ke,Tt)}patch(Ke,Tt,se={}){return this.request("PATCH",Ke,te(se,Tt))}post(Ke,Tt,se={}){return this.request("POST",Ke,te(se,Tt))}put(Ke,Tt,se={}){return this.request("PUT",Ke,te(se,Tt))}}return Ye.\u0275fac=function(Ke){return new(Ke||Ye)(d.LFG(r))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class Y{constructor(lt,Ke){this.next=lt,this.interceptor=Ke}handle(lt){return this.interceptor.intercept(lt,this.next)}}const Ae=new d.OlP("HTTP_INTERCEPTORS");let Ee=(()=>{class Ye{intercept(Ke,Tt){return Tt.handle(Ke)}}return Ye.\u0275fac=function(Ke){return new(Ke||Ye)},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const et=/^\)\]\}',?\n/;let ht=(()=>{class Ye{constructor(Ke){this.xhrFactory=Ke}handle(Ke){if("JSONP"===Ke.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new f.y(Tt=>{const se=this.xhrFactory.build();if(se.open(Ke.method,Ke.urlWithParams),Ke.withCredentials&&(se.withCredentials=!0),Ke.headers.forEach((de,Qe)=>se.setRequestHeader(de,Qe.join(","))),Ke.headers.has("Accept")||se.setRequestHeader("Accept","application/json, text/plain, */*"),!Ke.headers.has("Content-Type")){const de=Ke.detectContentTypeHeader();null!==de&&se.setRequestHeader("Content-Type",de)}if(Ke.responseType){const de=Ke.responseType.toLowerCase();se.responseType="json"!==de?de:"text"}const Fe=Ke.serializeBody();let he=null;const mt=()=>{if(null!==he)return he;const de=se.statusText||"OK",Qe=new L(se.getAllResponseHeaders()),ze=function vt(Ye){return"responseURL"in Ye&&Ye.responseURL?Ye.responseURL:/^X-Request-URL:/m.test(Ye.getAllResponseHeaders())?Ye.getResponseHeader("X-Request-URL"):null}(se)||Ke.url;return he=new Ce({headers:Qe,status:se.status,statusText:de,url:ze}),he},cn=()=>{let{headers:de,status:Qe,statusText:ze,url:kt}=mt(),Ze=null;204!==Qe&&(Ze=void 0===se.response?se.responseText:se.response),0===Qe&&(Qe=Ze?200:0);let $t=Qe>=200&&Qe<300;if("json"===Ke.responseType&&"string"==typeof Ze){const gn=Ze;Ze=Ze.replace(et,"");try{Ze=""!==Ze?JSON.parse(Ze):null}catch(Gt){Ze=gn,$t&&($t=!1,Ze={error:Gt,text:Ze})}}$t?(Tt.next(new oe({body:Ze,headers:de,status:Qe,statusText:ze,url:kt||void 0})),Tt.complete()):Tt.error(new z({error:Ze,headers:de,status:Qe,statusText:ze,url:kt||void 0}))},Tn=de=>{const{url:Qe}=mt(),ze=new z({error:de,status:se.status||0,statusText:se.statusText||"Unknown Error",url:Qe||void 0});Tt.error(ze)};let tn=!1;const bt=de=>{tn||(Tt.next(mt()),tn=!0);let Qe={type:G.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(Qe.total=de.total),"text"===Ke.responseType&&!!se.responseText&&(Qe.partialText=se.responseText),Tt.next(Qe)},nt=de=>{let Qe={type:G.UploadProgress,loaded:de.loaded};de.lengthComputable&&(Qe.total=de.total),Tt.next(Qe)};return se.addEventListener("load",cn),se.addEventListener("error",Tn),se.addEventListener("timeout",Tn),se.addEventListener("abort",Tn),Ke.reportProgress&&(se.addEventListener("progress",bt),null!==Fe&&se.upload&&se.upload.addEventListener("progress",nt)),se.send(Fe),Tt.next({type:G.Sent}),()=>{se.removeEventListener("error",Tn),se.removeEventListener("abort",Tn),se.removeEventListener("load",cn),se.removeEventListener("timeout",Tn),Ke.reportProgress&&(se.removeEventListener("progress",bt),null!==Fe&&se.upload&&se.upload.removeEventListener("progress",nt)),se.readyState!==se.DONE&&se.abort()}})}}return Ye.\u0275fac=function(Ke){return new(Ke||Ye)(d.LFG(e.JF))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Rt=new d.OlP("XSRF_COOKIE_NAME"),Nt=new d.OlP("XSRF_HEADER_NAME");class At{}let st=(()=>{class Ye{constructor(Ke,Tt,se){this.doc=Ke,this.platform=Tt,this.cookieName=se,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ke=this.doc.cookie||"";return Ke!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,e.Mx)(Ke,this.cookieName),this.lastCookieString=Ke),this.lastToken}}return Ye.\u0275fac=function(Ke){return new(Ke||Ye)(d.LFG(e.K0),d.LFG(d.Lbi),d.LFG(Rt))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),ot=(()=>{class Ye{constructor(Ke,Tt){this.tokenService=Ke,this.headerName=Tt}intercept(Ke,Tt){const se=Ke.url.toLowerCase();if("GET"===Ke.method||"HEAD"===Ke.method||se.startsWith("http://")||se.startsWith("https://"))return Tt.handle(Ke);const Fe=this.tokenService.getToken();return null!==Fe&&!Ke.headers.has(this.headerName)&&(Ke=Ke.clone({headers:Ke.headers.set(this.headerName,Fe)})),Tt.handle(Ke)}}return Ye.\u0275fac=function(Ke){return new(Ke||Ye)(d.LFG(At),d.LFG(Nt))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),ge=(()=>{class Ye{constructor(Ke,Tt){this.backend=Ke,this.injector=Tt,this.chain=null}handle(Ke){if(null===this.chain){const Tt=this.injector.get(Ae,[]);this.chain=Tt.reduceRight((se,Fe)=>new Y(se,Fe),this.backend)}return this.chain.handle(Ke)}}return Ye.\u0275fac=function(Ke){return new(Ke||Ye)(d.LFG(R),d.LFG(d.zs3))},Ye.\u0275prov=d.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),yt=(()=>{class Ye{static disable(){return{ngModule:Ye,providers:[{provide:ot,useClass:Ee}]}}static withOptions(Ke={}){return{ngModule:Ye,providers:[Ke.cookieName?{provide:Rt,useValue:Ke.cookieName}:[],Ke.headerName?{provide:Nt,useValue:Ke.headerName}:[]]}}}return Ye.\u0275fac=function(Ke){return new(Ke||Ye)},Ye.\u0275mod=d.oAB({type:Ye}),Ye.\u0275inj=d.cJS({providers:[ot,{provide:Ae,useExisting:ot,multi:!0},{provide:At,useClass:st},{provide:Rt,useValue:"XSRF-TOKEN"},{provide:Nt,useValue:"X-XSRF-TOKEN"}]}),Ye})(),Pt=(()=>{class Ye{}return Ye.\u0275fac=function(Ke){return new(Ke||Ye)},Ye.\u0275mod=d.oAB({type:Ye}),Ye.\u0275inj=d.cJS({providers:[W,{provide:r,useClass:ge},ht,{provide:R,useExisting:ht}],imports:[yt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ye})()},5e3:(hn,ft,b)=>{"use strict";b.d(ft,{$8M:()=>rl,$Z:()=>Yf,AFp:()=>h1,ALo:()=>Ov,AaK:()=>r,Akn:()=>ml,AsE:()=>Bm,B6R:()=>Ze,BQk:()=>zg,CHM:()=>zs,CRH:()=>Rr,CZH:()=>gf,CqO:()=>G0,D6c:()=>Vx,DdM:()=>Iv,Dn7:()=>r_,EJc:()=>ax,EiD:()=>vd,EpF:()=>oh,F$t:()=>$0,F4k:()=>Ll,FYo:()=>Fi,FiY:()=>Ql,G48:()=>wx,G7q:()=>Nv,Gf:()=>Vv,GfV:()=>Pr,GkF:()=>ih,Gpc:()=>Q,HOy:()=>Zm,HTZ:()=>s_,Hh0:()=>Ev,Hsn:()=>Gg,JOm:()=>ia,JVY:()=>Yh,Jf7:()=>Nc,KtG:()=>Yr,L6k:()=>Ep,LAX:()=>Kh,LFG:()=>Ws,LSH:()=>lg,Lbi:()=>ix,Lck:()=>m4,MAs:()=>wm,MMx:()=>qm,NdJ:()=>Qg,O4$:()=>ui,OlP:()=>Fo,Oqu:()=>Fm,PXZ:()=>bx,Q6J:()=>Em,QGY:()=>Jg,QP$:()=>Ji,QbO:()=>ox,Qsj:()=>ro,R0b:()=>il,RDi:()=>Of,Rgc:()=>Ch,SBq:()=>ci,Sil:()=>lx,Suo:()=>vh,TTD:()=>ys,TgZ:()=>eh,Tol:()=>dC,Udp:()=>qg,VKq:()=>Tv,W1O:()=>Gv,WD2:()=>go,WLB:()=>Av,X6Q:()=>Ax,XFs:()=>ge,Xpm:()=>kt,Xts:()=>rc,Y36:()=>Ed,YKP:()=>gv,YNc:()=>Am,Yjl:()=>Bn,Yz7:()=>be,Z0I:()=>dt,ZZ4:()=>Ih,_Bn:()=>hv,_UZ:()=>th,_Vd:()=>Xn,_c5:()=>Ux,_uU:()=>fC,aQg:()=>O_,c2e:()=>sx,cJS:()=>Ie,cg1:()=>Hm,dDg:()=>mx,dqk:()=>se,dwT:()=>PC,eBb:()=>jh,eFA:()=>E1,ekj:()=>$g,eoX:()=>T1,evT:()=>xa,f3M:()=>Xc,g9A:()=>f1,gM2:()=>Rv,h0i:()=>Nu,hGG:()=>Hx,hij:()=>Xg,iGM:()=>Hv,ifc:()=>Tt,ip1:()=>p1,jDz:()=>mv,kEZ:()=>i_,kL8:()=>LC,l5B:()=>wv,lG2:()=>rn,lcZ:()=>Pv,lnq:()=>ef,lqb:()=>c,lri:()=>x1,mCW:()=>Wr,n5z:()=>Qs,oAB:()=>Gt,oJD:()=>Op,oxw:()=>q0,pB0:()=>qh,q3G:()=>xo,qLn:()=>ns,qOj:()=>Yp,qZA:()=>Vg,qbA:()=>o_,qzn:()=>Dc,rFY:()=>kv,rWj:()=>I1,sBO:()=>Ex,sIi:()=>Kp,s_b:()=>l_,soG:()=>ff,tb:()=>m1,tp0:()=>Gl,uIk:()=>bm,vHH:()=>E,vpe:()=>Fl,wAp:()=>Vi,xi3:()=>Lv,xp6:()=>Hf,ynx:()=>nh,z2F:()=>mf,z3N:()=>qa,zSh:()=>Rp,zs3:()=>vu});var e=b(7579),d=b(727),u=b(9751),f=b(6451),_=b(3099);function P(a){for(let l in a)if(a[l]===P)return l;throw Error("Could not find renamed property on target object.")}function x(a,l){for(const h in l)l.hasOwnProperty(h)&&!a.hasOwnProperty(h)&&(a[h]=l[h])}function r(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(r).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const h=l.indexOf("\n");return-1===h?l:l.substring(0,h)}function R(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const L=P({__forward_ref__:P});function Q(a){return a.__forward_ref__=Q,a.toString=function(){return r(this())},a}function N(a){return T(a)?a():a}function T(a){return"function"==typeof a&&a.hasOwnProperty(L)&&a.__forward_ref__===Q}class E extends Error{constructor(l,h){super(function D(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,h)),this.code=l}}function U(a){return"string"==typeof a?a:null==a?"":String(a)}function k(a,l){throw new E(-201,!1)}function Ee(a,l){null==a&&function qe(a,l,h,v){throw new Error(`ASSERTION ERROR: ${a}`+(null==v?"":` [Expected=> ${h} ${v} ${l} <=Actual]`))}(l,a,null,"!=")}function be(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ie(a){return{providers:a.providers||[],imports:a.imports||[]}}function ct(a){return et(a,Nt)||et(a,st)}function dt(a){return null!==ct(a)}function et(a,l){return a.hasOwnProperty(l)?a[l]:null}function Rt(a){return a&&(a.hasOwnProperty(At)||a.hasOwnProperty(ot))?a[At]:null}const Nt=P({\u0275prov:P}),At=P({\u0275inj:P}),st=P({ngInjectableDef:P}),ot=P({ngInjectorDef:P});var ge=(()=>((ge=ge||{})[ge.Default=0]="Default",ge[ge.Host=1]="Host",ge[ge.Self=2]="Self",ge[ge.SkipSelf=4]="SkipSelf",ge[ge.Optional=8]="Optional",ge))();let ke;function yt(a){const l=ke;return ke=a,l}function Pt(a,l,h){const v=ct(a);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:h&ge.Optional?null:void 0!==l?l:void k(r(a))}function Ot(a){return{toString:a}.toString()}var Ye=(()=>((Ye=Ye||{})[Ye.OnPush=0]="OnPush",Ye[Ye.Default=1]="Default",Ye))(),Tt=(()=>{return(a=Tt||(Tt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Tt;var a})();const se=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),mt={},cn=[],Tn=P({\u0275cmp:P}),tn=P({\u0275dir:P}),bt=P({\u0275pipe:P}),nt=P({\u0275mod:P}),de=P({\u0275fac:P}),Qe=P({__NG_ELEMENT_ID__:P});let ze=0;function kt(a){return Ot(()=>{const h=!0===a.standalone,v={},S={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ye.OnPush,directiveDefs:null,pipeDefs:null,standalone:h,dependencies:h&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||cn,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Tt.Emulated,id:"c"+ze++,styles:a.styles||cn,_:null,setInput:null,schemas:a.schemas||null,tView:null},F=a.dependencies,re=a.features;return S.inputs=Ut(a.inputs,v),S.outputs=Ut(a.outputs),re&&re.forEach(Te=>Te(S)),S.directiveDefs=F?()=>("function"==typeof F?F():F).map($t).filter(gn):null,S.pipeDefs=F?()=>("function"==typeof F?F():F).map(vi).filter(gn):null,S})}function Ze(a,l,h){const v=a.\u0275cmp;v.directiveDefs=()=>("function"==typeof l?l():l).map($t),v.pipeDefs=()=>("function"==typeof h?h():h).map(vi)}function $t(a){return Vn(a)||ai(a)}function gn(a){return null!==a}function Gt(a){return Ot(()=>({type:a.type,bootstrap:a.bootstrap||cn,declarations:a.declarations||cn,imports:a.imports||cn,exports:a.exports||cn,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Ut(a,l){if(null==a)return mt;const h={};for(const v in a)if(a.hasOwnProperty(v)){let S=a[v],F=S;Array.isArray(S)&&(F=S[1],S=S[0]),h[S]=v,l&&(l[S]=F)}return h}const rn=kt;function Bn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Vn(a){return a[Tn]||null}function ai(a){return a[tn]||null}function vi(a){return a[bt]||null}function Ji(a){const l=Vn(a)||ai(a)||vi(a);return null!==l&&l.standalone}function Qi(a,l){const h=a[nt]||null;if(!h&&!0===l)throw new Error(`Type ${r(a)} does not have '\u0275mod' property.`);return h}function lo(a){return Array.isArray(a)&&"object"==typeof a[1]}function $o(a){return Array.isArray(a)&&!0===a[1]}function Us(a){return 0!=(8&a.flags)}function Ss(a){return 2==(2&a.flags)}function Hs(a){return 1==(1&a.flags)}function ds(a){return null!==a.template}function br(a){return 0!=(256&a[2])}function rs(a,l){return a.hasOwnProperty(de)?a[de]:null}class go{constructor(l,h,v){this.previousValue=l,this.currentValue=h,this.firstChange=v}isFirstChange(){return this.firstChange}}function ys(){return xs}function xs(a){return a.type.prototype.ngOnChanges&&(a.setInput=Vs),ws}function ws(){const a=wr(this),l=null==a?void 0:a.current;if(l){const h=a.previous;if(h===mt)a.previous=l;else for(let v in l)h[v]=l[v];a.current=null,this.ngOnChanges(l)}}function Vs(a,l,h,v){const S=wr(a)||function Br(a,l){return a[Ar]=l}(a,{previous:mt,current:null}),F=S.current||(S.current={}),re=S.previous,Te=this.declaredInputs[h],Re=re[Te];F[Te]=new go(Re&&Re.currentValue,l,re===mt),a[v]=l}ys.ngInherit=!0;const Ar="__ngSimpleChanges__";function wr(a){return a[Ar]||null}function Le(a){for(;Array.isArray(a);)a=a[0];return a}function Pn(a,l){return Le(l[a])}function qn(a,l){return Le(l[a.index])}function Zi(a,l){return a.data[l]}function Ni(a,l){return a[l]}function Si(a,l){const h=l[a];return lo(h)?h:h[0]}function qs(a){return 64==(64&a[2])}function bo(a,l){return null==l?null:a[l]}function So(a){a[18]=0}function ks(a,l){a[5]+=l;let h=a,v=a[3];for(;null!==v&&(1===l&&1===h[5]||-1===l&&0===h[5]);)v[5]+=l,h=v,v=v[3]}const Mi={lFrame:Ma(null),bindingsEnabled:!0};function Li(){return Mi.bindingsEnabled}function Qn(){return Mi.lFrame.lView}function Ri(){return Mi.lFrame.tView}function zs(a){return Mi.lFrame.contextLView=a,a[8]}function Yr(a){return Mi.lFrame.contextLView=null,a}function eo(){let a=Xr();for(;null!==a&&64===a.type;)a=a.parent;return a}function Xr(){return Mi.lFrame.currentTNode}function Ds(a,l){const h=Mi.lFrame;h.currentTNode=a,h.isParent=l}function da(){return Mi.lFrame.isParent}function Is(){Mi.lFrame.isParent=!1}function De(){const a=Mi.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Mt(){return Mi.lFrame.bindingIndex}function mi(){return Mi.lFrame.bindingIndex++}function Gi(a){const l=Mi.lFrame,h=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,h}function gs(a,l){const h=Mi.lFrame;h.bindingIndex=h.bindingRootIndex=a,pr(l)}function pr(a){Mi.lFrame.currentDirectiveIndex=a}function Kr(){return Mi.lFrame.currentQueryIndex}function hr(a){Mi.lFrame.currentQueryIndex=a}function or(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Ur(a,l,h){if(h&ge.SkipSelf){let S=l,F=a;for(;!(S=S.parent,null!==S||h&ge.Host||(S=or(F),null===S||(F=F[15],10&S.type))););if(null===S)return!1;l=S,a=F}const v=Mi.lFrame=_a();return v.currentTNode=l,v.lView=a,!0}function gr(a){const l=_a(),h=a[1];Mi.lFrame=l,l.currentTNode=h.firstChild,l.lView=a,l.tView=h,l.contextLView=a,l.bindingIndex=h.bindingStartIndex,l.inI18n=!1}function _a(){const a=Mi.lFrame,l=null===a?null:a.child;return null===l?Ma(a):l}function Ma(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Ha(){const a=Mi.lFrame;return Mi.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Pe=Ha;function gt(){const a=Ha();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function on(){return Mi.lFrame.selectedIndex}function Dn(a){Mi.lFrame.selectedIndex=a}function Nn(){const a=Mi.lFrame;return Zi(a.tView,a.selectedIndex)}function ui(){Mi.lFrame.currentNamespace="svg"}function yi(a,l){for(let h=l.directiveStart,v=l.directiveEnd;h<v;h++){const F=a.data[h].type.prototype,{ngAfterContentInit:re,ngAfterContentChecked:Te,ngAfterViewInit:Re,ngAfterViewChecked:ut,ngOnDestroy:Lt}=F;re&&(a.contentHooks||(a.contentHooks=[])).push(-h,re),Te&&((a.contentHooks||(a.contentHooks=[])).push(h,Te),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(h,Te)),Re&&(a.viewHooks||(a.viewHooks=[])).push(-h,Re),ut&&((a.viewHooks||(a.viewHooks=[])).push(h,ut),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(h,ut)),null!=Lt&&(a.destroyHooks||(a.destroyHooks=[])).push(h,Lt)}}function Co(a,l,h){as(a,l,3,h)}function Ko(a,l,h,v){(3&a[2])===h&&as(a,l,h,v)}function Xs(a,l){let h=a[2];(3&h)===l&&(h&=2047,h+=1,a[2]=h)}function as(a,l,h,v){const F=null!=v?v:-1,re=l.length-1;let Te=0;for(let Re=void 0!==v?65535&a[18]:0;Re<re;Re++)if("number"==typeof l[Re+1]){if(Te=l[Re],null!=v&&Te>=v)break}else l[Re]<0&&(a[18]+=65536),(Te<F||-1==F)&&(sr(a,h,l,Re),a[18]=(4294901760&a[18])+Re+2),Re++}function sr(a,l,h,v){const S=h[v]<0,F=h[v+1],Te=a[S?-h[v]:h[v]];if(S){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{F.call(Te)}finally{}}}else try{F.call(Te)}finally{}}class ae{constructor(l,h,v){this.factory=l,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=v}}function Yt(a,l,h){let v=0;for(;v<h.length;){const S=h[v];if("number"==typeof S){if(0!==S)break;v++;const F=h[v++],re=h[v++],Te=h[v++];a.setAttribute(l,re,Te,F)}else{const F=S,re=h[++v];Be(F)?a.setProperty(l,F,re):a.setAttribute(l,F,re),v++}}return v}function Ne(a){return 3===a||4===a||6===a}function Be(a){return 64===a.charCodeAt(0)}function _t(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let h=-1;for(let v=0;v<l.length;v++){const S=l[v];"number"==typeof S?h=S:0===h||Ft(a,h,S,null,-1===h||2===h?l[++v]:null)}}return a}function Ft(a,l,h,v,S){let F=0,re=a.length;if(-1===l)re=-1;else for(;F<a.length;){const Te=a[F++];if("number"==typeof Te){if(Te===l){re=-1;break}if(Te>l){re=F-1;break}}}for(;F<a.length;){const Te=a[F];if("number"==typeof Te)break;if(Te===h){if(null===v)return void(null!==S&&(a[F+1]=S));if(v===a[F+1])return void(a[F+2]=S)}F++,null!==v&&F++,null!==S&&F++}-1!==re&&(a.splice(re,0,l),F=re+1),a.splice(F++,0,h),null!==v&&a.splice(F++,0,v),null!==S&&a.splice(F++,0,S)}function an(a){return-1!==a}function An(a){return 32767&a}function ti(a,l){let h=function On(a){return a>>16}(a),v=l;for(;h>0;)v=v[15],h--;return v}let Yn=!0;function Ai(a){const l=Yn;return Yn=a,l}let oo=0;const ls={};function er(a,l){const h=Hr(a,l);if(-1!==h)return h;const v=l[1];v.firstCreatePass&&(a.injectorIndex=l.length,Mr(v.data,a),Mr(l,null),Mr(v.blueprint,null));const S=cs(a,l),F=a.injectorIndex;if(an(S)){const re=An(S),Te=ti(S,l),Re=Te[1].data;for(let ut=0;ut<8;ut++)l[F+ut]=Te[re+ut]|Re[re+ut]}return l[F+8]=S,F}function Mr(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Hr(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function cs(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let h=0,v=null,S=l;for(;null!==S;){if(v=Oa(S),null===v)return-1;if(h++,S=S[15],-1!==v.injectorIndex)return v.injectorIndex|h<<16}return-1}function Ca(a,l,h){!function Zo(a,l,h){let v;"string"==typeof h?v=h.charCodeAt(0)||0:h.hasOwnProperty(Qe)&&(v=h[Qe]),null==v&&(v=h[Qe]=oo++);const S=255&v;l.data[a+(S>>5)]|=1<<S}(a,l,h)}function wi(a,l,h){if(h&ge.Optional||void 0!==a)return a;k()}function Oi(a,l,h,v){if(h&ge.Optional&&void 0===v&&(v=null),0==(h&(ge.Self|ge.Host))){const S=a[9],F=yt(void 0);try{return S?S.get(l,v,h&ge.Optional):Pt(l,v,h&ge.Optional)}finally{yt(F)}}return wi(v,0,h)}function no(a,l,h,v=ge.Default,S){if(null!==a){if(1024&l[2]){const re=function Ea(a,l,h,v,S){let F=a,re=l;for(;null!==F&&null!==re&&1024&re[2]&&!(256&re[2]);){const Te=zo(F,re,h,v|ge.Self,ls);if(Te!==ls)return Te;let Re=F.parent;if(!Re){const ut=re[21];if(ut){const Lt=ut.get(h,ls,v);if(Lt!==ls)return Lt}Re=Oa(re),re=re[15]}F=Re}return S}(a,l,h,v,ls);if(re!==ls)return re}const F=zo(a,l,h,v,ls);if(F!==ls)return F}return Oi(l,h,v,S)}function zo(a,l,h,v,S){const F=function Ao(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Qe)?a[Qe]:void 0;return"number"==typeof l?l>=0?255&l:Vr:l}(h);if("function"==typeof F){if(!Ur(l,a,v))return v&ge.Host?wi(S,0,v):Oi(l,h,v,S);try{const re=F(v);if(null!=re||v&ge.Optional)return re;k()}finally{Pe()}}else if("number"==typeof F){let re=null,Te=Hr(a,l),Re=-1,ut=v&ge.Host?l[16][6]:null;for((-1===Te||v&ge.SkipSelf)&&(Re=-1===Te?cs(a,l):l[Te+8],-1!==Re&&sl(v,!1)?(re=l[1],Te=An(Re),l=ti(Re,l)):Te=-1);-1!==Te;){const Lt=l[1];if(ea(F,Te,Lt.data)){const Kt=Ro(Te,l,h,re,v,ut);if(Kt!==ls)return Kt}Re=l[Te+8],-1!==Re&&sl(v,l[1].data[Te+8]===ut)&&ea(F,Te,l)?(re=Lt,Te=An(Re),l=ti(Re,l)):Te=-1}}return S}function Ro(a,l,h,v,S,F){const re=l[1],Te=re.data[a+8],Lt=Ms(Te,re,h,null==v?Ss(Te)&&Yn:v!=re&&0!=(3&Te.type),S&ge.Host&&F===Te);return null!==Lt?fr(l,re,Lt,Te):ls}function Ms(a,l,h,v,S){const F=a.providerIndexes,re=l.data,Te=1048575&F,Re=a.directiveStart,Lt=F>>20,vn=S?Te+Lt:a.directiveEnd;for(let kn=v?Te:Te+Lt;kn<vn;kn++){const Jn=re[kn];if(kn<Re&&h===Jn||kn>=Re&&Jn.type===h)return kn}if(S){const kn=re[Re];if(kn&&ds(kn)&&kn.type===h)return Re}return null}function fr(a,l,h,v){let S=a[h];const F=l.data;if(function pe(a){return a instanceof ae}(S)){const re=S;re.resolving&&function ce(a,l){const h=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new E(-200,`Circular dependency in DI detected for ${a}${h}`)}(function B(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():U(a)}(F[h]));const Te=Ai(re.canSeeViewProviders);re.resolving=!0;const Re=re.injectImpl?yt(re.injectImpl):null;Ur(a,v,ge.Default);try{S=a[h]=re.factory(void 0,F,a,v),l.firstCreatePass&&h>=v.directiveStart&&function mo(a,l,h){const{ngOnChanges:v,ngOnInit:S,ngDoCheck:F}=l.type.prototype;if(v){const re=xs(l);(h.preOrderHooks||(h.preOrderHooks=[])).push(a,re),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(a,re)}S&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-a,S),F&&((h.preOrderHooks||(h.preOrderHooks=[])).push(a,F),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(a,F))}(h,F[h],l)}finally{null!==Re&&yt(Re),Ai(Te),re.resolving=!1,Pe()}}return S}function ea(a,l,h){return!!(h[l+(a>>5)]&1<<a)}function sl(a,l){return!(a&ge.Self||a&ge.Host&&l)}class No{constructor(l,h){this._tNode=l,this._lView=h}get(l,h,v){return no(this._tNode,this._lView,l,v,h)}}function Vr(){return new No(eo(),Qn())}function Qs(a){return Ot(()=>{const l=a.prototype.constructor,h=l[de]||va(l),v=Object.prototype;let S=Object.getPrototypeOf(a.prototype).constructor;for(;S&&S!==v;){const F=S[de]||va(S);if(F&&F!==h)return F;S=Object.getPrototypeOf(S)}return F=>new F})}function va(a){return T(a)?()=>{const l=va(N(a));return l&&l()}:rs(a)}function Oa(a){const l=a[1],h=l.type;return 2===h?l.declTNode:1===h?a[6]:null}function rl(a){return function xi(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const h=a.attrs;if(h){const v=h.length;let S=0;for(;S<v;){const F=h[S];if(Ne(F))break;if(0===F)S+=2;else if("number"==typeof F)for(S++;S<v&&"string"==typeof h[S];)S++;else{if(F===l)return h[S+1];S+=2}}}return null}(eo(),a)}const Pa="__parameters__";function al(a,l,h){return Ot(()=>{const v=function ba(a){return function(...h){if(a){const v=a(...h);for(const S in v)this[S]=v[S]}}}(l);function S(...F){if(this instanceof S)return v.apply(this,F),this;const re=new S(...F);return Te.annotation=re,Te;function Te(Re,ut,Lt){const Kt=Re.hasOwnProperty(Pa)?Re[Pa]:Object.defineProperty(Re,Pa,{value:[]})[Pa];for(;Kt.length<=Lt;)Kt.push(null);return(Kt[Lt]=Kt[Lt]||[]).push(re),Re}}return h&&(S.prototype=Object.create(h.prototype)),S.prototype.ngMetadataName=a,S.annotationCls=S,S})}class Fo{constructor(l,h){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=be({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zr(a,l){void 0===l&&(l=a);for(let h=0;h<a.length;h++){let v=a[h];Array.isArray(v)?(l===a&&(l=a.slice(0,h)),zr(v,l)):l!==a&&l.push(v)}return l}function mr(a,l){a.forEach(h=>Array.isArray(h)?mr(h,l):l(h))}function Na(a,l,h){l>=a.length?a.push(h):a.splice(l,0,h)}function za(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ps(a,l){const h=[];for(let v=0;v<a;v++)h.push(l);return h}function en(a,l,h){let v=wn(a,l);return v>=0?a[1|v]=h:(v=~v,function le(a,l,h,v){let S=a.length;if(S==l)a.push(h,v);else if(1===S)a.push(v,a[0]),a[0]=h;else{for(S--,a.push(a[S-1],a[S]);S>l;)a[S]=a[S-2],S--;a[l]=h,a[l+1]=v}}(a,v,l,h)),v}function sn(a,l){const h=wn(a,l);if(h>=0)return a[1|h]}function wn(a,l){return function bi(a,l,h){let v=0,S=a.length>>h;for(;S!==v;){const F=v+(S-v>>1),re=a[F<<h];if(l===re)return F<<h;re>l?S=F:v=F+1}return~(S<<h)}(a,l,1)}const _r={},zl="__NG_DI_FLAG__",vc="ngTempTokenPath",qd=/\n/gm,Gu="__source";let Ls;function Qr(a){const l=Ls;return Ls=a,l}function bc(a,l=ge.Default){if(void 0===Ls)throw new E(-203,!1);return null===Ls?Pt(a,void 0,l):Ls.get(a,l&ge.Optional?null:void 0,l)}function Ws(a,l=ge.Default){return(function rt(){return ke}()||bc)(N(a),l)}function Xc(a,l=ge.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Ws(a,l)}function yc(a){const l=[];for(let h=0;h<a.length;h++){const v=N(a[h]);if(Array.isArray(v)){if(0===v.length)throw new E(900,!1);let S,F=ge.Default;for(let re=0;re<v.length;re++){const Te=v[re],Re=$d(Te);"number"==typeof Re?-1===Re?S=Te.token:F|=Re:S=Te}l.push(Ws(S,F))}else l.push(Ws(v))}return l}function cl(a,l){return a[zl]=l,a.prototype[zl]=l,a}function $d(a){return a[zl]}const Ql=cl(al("Optional"),8),Gl=cl(al("SkipSelf"),4);var ia=(()=>((ia=ia||{})[ia.Important=1]="Important",ia[ia.DashCase=2]="DashCase",ia))();const Qa=new Map;let Dh=0;const ql="__ngContext__";function Jo(a,l){lo(l)?(a[ql]=l[20],function Oh(a){Qa.set(a[20],a)}(l)):a[ql]=l}function iu(a,l){return undefined(a,l)}function wc(a){const l=a[3];return $o(l)?l[3]:l}function dp(a){return Sc(a[13])}function Ec(a){return Sc(a[4])}function Sc(a){for(;null!==a&&!$o(a);)a=a[4];return a}function ra(a,l,h,v,S){if(null!=v){let F,re=!1;$o(v)?F=v:lo(v)&&(re=!0,v=v[0]);const Te=Le(v);0===a&&null!==h?null==S?ec(l,h,Te):Sl(l,h,Te,S||null,!0):1===a&&null!==h?Sl(l,h,Te,S||null,!0):2===a?function cd(a,l,h){const v=rd(a,l);v&&function Hh(a,l,h,v){a.removeChild(l,h,v)}(a,v,l,h)}(l,Te,re):3===a&&l.destroyNode(Te),null!=F&&function yp(a,l,h,v,S){const F=h[7];F!==Le(h)&&ra(l,a,v,F,S);for(let Te=10;Te<h.length;Te++){const Re=h[Te];nc(Re[1],Re,a,l,v,F)}}(l,a,F,h,S)}}function Ya(a,l,h){return a.createElement(l,h)}function fp(a,l){const h=a[9],v=h.indexOf(l),S=l[3];512&l[2]&&(l[2]&=-513,ks(S,-1)),h.splice(v,1)}function id(a,l){if(a.length<=10)return;const h=10+l,v=a[h];if(v){const S=v[17];null!==S&&S!==a&&fp(S,v),l>0&&(a[h-1][4]=v[4]);const F=za(a,10+l);!function Ts(a,l){nc(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(v[1],v);const re=F[19];null!==re&&re.detachView(F[1]),v[3]=null,v[4]=null,v[2]&=-65}return v}function od(a,l){if(!(128&l[2])){const h=l[11];h.destroyNode&&nc(a,l,h,3,null,null),function $l(a){let l=a[13];if(!l)return ru(a[1],a);for(;l;){let h=null;if(lo(l))h=l[13];else{const v=l[10];v&&(h=v)}if(!h){for(;l&&!l[4]&&l!==a;)lo(l)&&ru(l[1],l),l=l[3];null===l&&(l=a),lo(l)&&ru(l[1],l),h=l&&l[4]}l=h}}(l)}}function ru(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Xl(a,l){let h;if(null!=a&&null!=(h=a.destroyHooks))for(let v=0;v<h.length;v+=2){const S=l[h[v]];if(!(S instanceof ae)){const F=h[v+1];if(Array.isArray(F))for(let re=0;re<F.length;re+=2){const Te=S[F[re]],Re=F[re+1];try{Re.call(Te)}finally{}}else try{F.call(S)}finally{}}}}(a,l),function Uh(a,l){const h=a.cleanup,v=l[7];let S=-1;if(null!==h)for(let F=0;F<h.length-1;F+=2)if("string"==typeof h[F]){const re=h[F+1],Te="function"==typeof re?re(l):Le(l[re]),Re=v[S=h[F+2]],ut=h[F+3];"boolean"==typeof ut?Te.removeEventListener(h[F],Re,ut):ut>=0?v[S=ut]():v[S=-ut].unsubscribe(),F+=2}else{const re=v[S=h[F+1]];h[F].call(re)}if(null!==v){for(let F=S+1;F<v.length;F++)(0,v[F])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const h=l[17];if(null!==h&&$o(l[3])){h!==l[3]&&fp(h,l);const v=l[19];null!==v&&v.detachView(a)}!function tu(a){Qa.delete(a[20])}(l)}}function sd(a,l,h){return function au(a,l,h){let v=l;for(;null!==v&&40&v.type;)v=(l=v).parent;if(null===v)return h[0];if(2&v.flags){const S=a.data[v.directiveStart].encapsulation;if(S===Tt.None||S===Tt.Emulated)return null}return qn(v,h)}(a,l.parent,h)}function Sl(a,l,h,v,S){a.insertBefore(l,h,v,S)}function ec(a,l,h){a.appendChild(l,h)}function mp(a,l,h,v,S){null!==v?Sl(a,l,h,v,S):ec(a,l,h)}function rd(a,l){return a.parentNode(l)}function Vh(a,l,h){return zh(a,l,h)}let lu,fd,cu,zh=function Mf(a,l,h){return 40&a.type?qn(a,h):null};function ad(a,l,h,v){const S=sd(a,v,l),F=l[11],Te=Vh(v.parent||l[6],v,l);if(null!=S)if(Array.isArray(h))for(let Re=0;Re<h.length;Re++)mp(F,S,h[Re],Te,!1);else mp(F,S,h,Te,!1)}function tc(a,l){if(null!==l){const h=l.type;if(3&h)return qn(l,a);if(4&h)return kc(-1,a[l.index]);if(8&h){const v=l.child;if(null!==v)return tc(a,v);{const S=a[l.index];return $o(S)?kc(-1,S):Le(S)}}if(32&h)return iu(l,a)()||Le(a[l.index]);{const v=ld(a,l);return null!==v?Array.isArray(v)?v[0]:tc(wc(a[16]),v):tc(a,l.next)}}return null}function ld(a,l){return null!==l?a[16][6].projection[l.projection]:null}function kc(a,l){const h=10+a+1;if(h<l.length){const v=l[h],S=v[1].firstChild;if(null!==S)return tc(v,S)}return l[7]}function ud(a,l,h,v,S,F,re){for(;null!=h;){const Te=v[h.index],Re=h.type;if(re&&0===l&&(Te&&Jo(Le(Te),v),h.flags|=4),64!=(64&h.flags))if(8&Re)ud(a,l,h.child,v,S,F,!1),ra(l,a,S,Te,F);else if(32&Re){const ut=iu(h,v);let Lt;for(;Lt=ut();)ra(l,a,S,Lt,F);ra(l,a,S,Te,F)}else 16&Re?dd(a,l,v,h,S,F):ra(l,a,S,Te,F);h=re?h.projectionNext:h.next}}function nc(a,l,h,v,S,F){ud(h,v,a.firstChild,l,S,F,!1)}function dd(a,l,h,v,S,F){const re=h[16],Re=re[6].projection[v.projection];if(Array.isArray(Re))for(let ut=0;ut<Re.length;ut++)ra(l,a,S,Re[ut],F);else ud(a,l,Re,re[3],S,F,!0)}function xp(a,l,h){a.setAttribute(l,"style",h)}function pd(a,l,h){""===h?a.removeAttribute(l,"class"):a.setAttribute(l,"class",h)}function ic(a){var l;return(null===(l=function hd(){if(void 0===lu&&(lu=null,se.trustedTypes))try{lu=se.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return lu}())||void 0===l?void 0:l.createHTML(a))||a}function Of(a){fd=a}function md(a){var l;return(null===(l=function Tp(){if(void 0===cu&&(cu=null,se.trustedTypes))try{cu=se.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return cu}())||void 0===l?void 0:l.createHTML(a))||a}class ja{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pf extends ja{getTypeName(){return"HTML"}}class uu extends ja{getTypeName(){return"Style"}}class Ka extends ja{getTypeName(){return"Script"}}class pl extends ja{getTypeName(){return"URL"}}class Wh extends ja{getTypeName(){return"ResourceURL"}}function qa(a){return a instanceof ja?a.changingThisBreaksApplicationSecurity:a}function Dc(a,l){const h=function Lf(a){return a instanceof ja&&a.getTypeName()||null}(a);if(null!=h&&h!==l){if("ResourceURL"===h&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===l}function Yh(a){return new Pf(a)}function Ep(a){return new uu(a)}function jh(a){return new Ka(a)}function Kh(a){return new pl(a)}function qh(a){return new Wh(a)}class $h{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const h=(new window.DOMParser).parseFromString(ic(l),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(l):(h.removeChild(h.firstChild),h)}catch(h){return null}}}class Xh{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const v=this.inertDocument.createElement("body");h.appendChild(v)}}getInertBodyElement(l){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=ic(l),h;const v=this.inertDocument.createElement("body");return v.innerHTML=ic(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(l){const h=l.attributes;for(let S=h.length-1;0<S;S--){const re=h.item(S).name;("xmlns:ns1"===re||0===re.indexOf("ns1:"))&&l.removeAttribute(re)}let v=l.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const tg=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Wr(a){return(a=String(a)).match(tg)?a:"unsafe:"+a}function Ba(a){const l={};for(const h of a.split(","))l[h]=!0;return l}function du(...a){const l={};for(const h of a)for(const v in h)h.hasOwnProperty(v)&&(l[v]=!0);return l}const ng=Ba("area,br,col,hr,img,wbr"),Sp=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ig=Ba("rp,rt"),sg=du(ng,du(Sp,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),du(ig,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),du(ig,Sp)),pu=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hl=du(pu,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sc=Ba("script,style,template");class Dp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let h=l.firstChild,v=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?v=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,v&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let S=this.checkClobberedElement(h,h.nextSibling);if(S){h=S;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(l){const h=l.nodeName.toLowerCase();if(!sg.hasOwnProperty(h))return this.sanitizedSomething=!0,!sc.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const v=l.attributes;for(let S=0;S<v.length;S++){const F=v.item(S),re=F.name,Te=re.toLowerCase();if(!hl.hasOwnProperty(Te)){this.sanitizedSomething=!0;continue}let Re=F.value;pu[Te]&&(Re=Wr(Re)),this.buf.push(" ",re,'="',Cd(Re),'"')}return this.buf.push(">"),!0}endElement(l){const h=l.nodeName.toLowerCase();sg.hasOwnProperty(h)&&!ng.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(l){this.buf.push(Cd(l))}checkClobberedElement(l,h){if(h&&(l.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return h}}const rg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ag=/([^\#-~ |!])/g;function Cd(a){return a.replace(/&/g,"&amp;").replace(rg,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ag,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mc;function vd(a,l){let h=null;try{Mc=Mc||function _d(a){const l=new Xh(a);return function eg(){try{return!!(new window.DOMParser).parseFromString(ic(""),"text/html")}catch(a){return!1}}()?new $h(l):l}(a);let v=l?String(l):"";h=Mc.getInertBodyElement(v);let S=5,F=v;do{if(0===S)throw new Error("Failed to sanitize html because the input is unstable");S--,v=F,F=h.innerHTML,h=Mc.getInertBodyElement(v)}while(v!==F);return ic((new Dp).sanitizeChildren(Mp(h)||h))}finally{if(h){const v=Mp(h)||h;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function Mp(a){return"content"in a&&function bd(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var xo=(()=>((xo=xo||{})[xo.NONE=0]="NONE",xo[xo.HTML=1]="HTML",xo[xo.STYLE=2]="STYLE",xo[xo.SCRIPT=3]="SCRIPT",xo[xo.URL=4]="URL",xo[xo.RESOURCE_URL=5]="RESOURCE_URL",xo))();function Op(a){const l=Oc();return l?md(l.sanitize(xo.HTML,a)||""):Dc(a,"HTML")?md(qa(a)):vd(function oc(){return void 0!==fd?fd:"undefined"!=typeof document?document:void 0}(),U(a))}function lg(a){const l=Oc();return l?l.sanitize(xo.URL,a)||"":Dc(a,"URL")?qa(a):Wr(U(a))}function Oc(){const a=Qn();return a&&a[12]}const rc=new Fo("ENVIRONMENT_INITIALIZER"),Pc=new Fo("INJECTOR",-1),aa=new Fo("INJECTOR_DEF_TYPES");class xd{get(l,h=_r){if(h===_r){const v=new Error(`NullInjectorError: No provider for ${r(l)}!`);throw v.name="NullInjectorError",v}return h}}function Pp(...a){return{\u0275providers:Id(0,a)}}function Id(a,...l){const h=[],v=new Set;let S;return mr(l,F=>{const re=F;fu(re,h,[],v)&&(S||(S=[]),S.push(re))}),void 0!==S&&Dl(S,h),h}function Dl(a,l){for(let h=0;h<a.length;h++){const{providers:S}=a[h];mr(S,F=>{l.push(F)})}}function fu(a,l,h,v){if(!(a=N(a)))return!1;let S=null,F=Rt(a);const re=!F&&Vn(a);if(F||re){if(re&&!re.standalone)return!1;S=a}else{const Re=a.ngModule;if(F=Rt(Re),!F)return!1;S=Re}const Te=v.has(S);if(re){if(Te)return!1;if(v.add(S),re.dependencies){const Re="function"==typeof re.dependencies?re.dependencies():re.dependencies;for(const ut of Re)fu(ut,l,h,v)}}else{if(!F)return!1;{if(null!=F.imports&&!Te){let ut;v.add(S);try{mr(F.imports,Lt=>{fu(Lt,l,h,v)&&(ut||(ut=[]),ut.push(Lt))})}finally{}void 0!==ut&&Dl(ut,l)}if(!Te){const ut=rs(S)||(()=>new S);l.push({provide:S,useFactory:ut,deps:cn},{provide:aa,useValue:S,multi:!0},{provide:rc,useValue:()=>Ws(S),multi:!0})}const Re=F.providers;null==Re||Te||mr(Re,Lt=>{l.push(Lt)})}}return S!==a&&void 0!==a.providers}const Ff=P({provide:String,useValue:P});function Td(a){return null!==a&&"object"==typeof a&&Ff in a}function gl(a){return"function"==typeof a}const Rp=new Fo("Set Injector scope."),Ad={},Rc={};let ac;function m(){return void 0===ac&&(ac=new xd),ac}class c{}class g extends c{constructor(l,h,v,S){super(),this.parent=h,this.source=v,this.scopes=S,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vt(l,re=>this.processProvider(re)),this.records.set(Pc,ee(void 0,this)),S.has("environment")&&this.records.set(c,ee(void 0,this));const F=this.records.get(Rp);null!=F&&"string"==typeof F.value&&this.scopes.add(F.value),this.injectorDefTypes=new Set(this.get(aa.multi,cn,ge.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const h=Qr(this),v=yt(void 0);try{return l()}finally{Qr(h),yt(v)}}get(l,h=_r,v=ge.Default){this.assertNotDestroyed();const S=Qr(this),F=yt(void 0);try{if(!(v&ge.SkipSelf)){let Te=this.records.get(l);if(void 0===Te){const Re=function at(a){return"function"==typeof a||"object"==typeof a&&a instanceof Fo}(l)&&ct(l);Te=Re&&this.injectableDefInScope(Re)?ee(C(l),Ad):null,this.records.set(l,Te)}if(null!=Te)return this.hydrate(l,Te)}return(v&ge.Self?m():this.parent).get(l,h=v&ge.Optional&&h===_r?null:h)}catch(re){if("NullInjectorError"===re.name){if((re[vc]=re[vc]||[]).unshift(r(l)),S)throw re;return function Xd(a,l,h,v){const S=a[vc];throw l[Gu]&&S.unshift(l[Gu]),a.message=function Jl(a,l,h,v=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let S=r(l);if(Array.isArray(l))S=l.map(r).join(" -> ");else if("object"==typeof l){let F=[];for(let re in l)if(l.hasOwnProperty(re)){let Te=l[re];F.push(re+":"+("string"==typeof Te?JSON.stringify(Te):r(Te)))}S=`{${F.join(", ")}}`}return`${h}${v?"("+v+")":""}[${S}]: ${a.replace(qd,"\n  ")}`}("\n"+a.message,S,h,v),a.ngTokenPath=S,a[vc]=null,a}(re,l,"R3InjectorError",this.source)}throw re}finally{yt(F),Qr(S)}}resolveInjectorInitializers(){const l=Qr(this),h=yt(void 0);try{const v=this.get(rc.multi,cn,ge.Self);for(const S of v)S()}finally{Qr(l),yt(h)}}toString(){const l=[],h=this.records;for(const v of h.keys())l.push(r(v));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(l){let h=gl(l=N(l))?l:N(l&&l.provide);const v=function M(a){return Td(a)?ee(void 0,a.useValue):ee(H(a),Ad)}(l);if(gl(l)||!0!==l.multi)this.records.get(h);else{let S=this.records.get(h);S||(S=ee(void 0,Ad,!0),S.factory=()=>yc(S.multi),this.records.set(h,S)),h=l,S.multi.push(l)}this.records.set(h,v)}hydrate(l,h){return h.value===Ad&&(h.value=Rc,h.value=h.factory()),"object"==typeof h.value&&h.value&&function Oe(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(l){if(!l.providedIn)return!1;const h=N(l.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function C(a){const l=ct(a),h=null!==l?l.factory:rs(a);if(null!==h)return h;if(a instanceof Fo)throw new E(204,!1);if(a instanceof Function)return function I(a){const l=a.length;if(l>0)throw Ps(l,"?"),new E(204,!1);const h=function vt(a){const l=a&&(a[Nt]||a[st]);if(l){const h=function ht(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),l}return null}(a);return null!==h?()=>h.factory(a):()=>new a}(a);throw new E(204,!1)}function H(a,l,h){let v;if(gl(a)){const S=N(a);return rs(S)||C(S)}if(Td(a))v=()=>N(a.useValue);else if(function mu(a){return!(!a||!a.useFactory)}(a))v=()=>a.useFactory(...yc(a.deps||[]));else if(function Lc(a){return!(!a||!a.useExisting)}(a))v=()=>Ws(N(a.useExisting));else{const S=N(a&&(a.useClass||a.provide));if(!function fe(a){return!!a.deps}(a))return rs(S)||C(S);v=()=>new S(...yc(a.deps))}return v}function ee(a,l,h=!1){return{factory:a,value:l,multi:h?[]:void 0}}function wt(a){return!!a.\u0275providers}function Vt(a,l){for(const h of a)Array.isArray(h)?Vt(h,l):wt(h)?Vt(h.\u0275providers,l):l(h)}class mn{}class Hn{resolveComponentFactory(l){throw function Cn(a){const l=Error(`No component factory found for ${r(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Xn=(()=>{class a{}return a.NULL=new Hn,a})();function ni(){return Gn(eo(),Qn())}function Gn(a,l){return new ci(qn(a,l))}let ci=(()=>{class a{constructor(h){this.nativeElement=h}}return a.__NG_ELEMENT_ID__=ni,a})();function di(a){return a instanceof ci?a.nativeElement:a}class Fi{}let ro=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Wi(){const a=Qn(),h=Si(eo().index,a);return(lo(h)?h:a)[11]}(),a})(),Do=(()=>{class a{}return a.\u0275prov=be({token:a,providedIn:"root",factory:()=>null}),a})();class Pr{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const la=new Pr("14.2.12"),Uo={};function Sa(a){return a.ngOriginalError}class ns{constructor(){this._console=console}handleError(l){const h=this._findOriginalError(l);this._console.error("ERROR",l),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(l){let h=l&&Sa(l);for(;h&&Sa(h);)h=Sa(h);return h||null}}function Nc(a){return a.ownerDocument.defaultView}function xa(a){return a.ownerDocument}function cc(a){return a instanceof Function?a():a}function t0(a,l,h){let v=a.length;for(;;){const S=a.indexOf(l,h);if(-1===S)return S;if(0===S||a.charCodeAt(S-1)<=32){const F=l.length;if(S+F===v||a.charCodeAt(S+F)<=32)return S}h=S+1}}const hg="ng-template";function pb(a,l,h){let v=0;for(;v<a.length;){let S=a[v++];if(h&&"class"===S){if(S=a[v],-1!==t0(S.toLowerCase(),l,0))return!0}else if(1===S){for(;v<a.length&&"string"==typeof(S=a[v++]);)if(S.toLowerCase()===l)return!0;return!1}}return!1}function Uf(a){return 4===a.type&&a.value!==hg}function n0(a,l,h){return l===(4!==a.type||h?a.value:hg)}function Fc(a,l,h){let v=4;const S=a.attrs||[],F=function Np(a){for(let l=0;l<a.length;l++)if(Ne(a[l]))return l;return a.length}(S);let re=!1;for(let Te=0;Te<l.length;Te++){const Re=l[Te];if("number"!=typeof Re){if(!re)if(4&v){if(v=2|1&v,""!==Re&&!n0(a,Re,h)||""===Re&&1===l.length){if(Ys(v))return!1;re=!0}}else{const ut=8&v?Re:l[++Te];if(8&v&&null!==a.attrs){if(!pb(a.attrs,ut,h)){if(Ys(v))return!1;re=!0}continue}const Kt=o0(8&v?"class":Re,S,Uf(a),h);if(-1===Kt){if(Ys(v))return!1;re=!0;continue}if(""!==ut){let vn;vn=Kt>F?"":S[Kt+1].toLowerCase();const kn=8&v?vn:null;if(kn&&-1!==t0(kn,ut,0)||2&v&&ut!==vn){if(Ys(v))return!1;re=!0}}}}else{if(!re&&!Ys(v)&&!Ys(Re))return!1;if(re&&Ys(Re))continue;re=!1,v=Re|1&v}}return Ys(v)||re}function Ys(a){return 0==(1&a)}function o0(a,l,h,v){if(null===l)return-1;let S=0;if(v||!h){let F=!1;for(;S<l.length;){const re=l[S];if(re===a)return S;if(3===re||6===re)F=!0;else{if(1===re||2===re){let Te=l[++S];for(;"string"==typeof Te;)Te=l[++S];continue}if(4===re)break;if(0===re){S+=4;continue}}S+=F?1:2}return-1}return function hb(a,l){let h=a.indexOf(4);if(h>-1)for(h++;h<a.length;){const v=a[h];if("number"==typeof v)return-1;if(v===l)return h;h++}return-1}(l,a)}function uc(a,l,h=!1){for(let v=0;v<l.length;v++)if(Fc(a,l[v],h))return!0;return!1}function gb(a,l){e:for(let h=0;h<l.length;h++){const v=l[h];if(a.length===v.length){for(let S=0;S<a.length;S++)if(a[S]!==v[S])continue e;return!0}}return!1}function gg(a,l){return a?":not("+l.trim()+")":l}function Hi(a){let l=a[0],h=1,v=2,S="",F=!1;for(;h<a.length;){let re=a[h];if("string"==typeof re)if(2&v){const Te=a[++h];S+="["+re+(Te.length>0?'="'+Te+'"':"")+"]"}else 8&v?S+="."+re:4&v&&(S+=" "+re);else""!==S&&!Ys(re)&&(l+=gg(F,S),S=""),v=re,F=F||!Ys(v);h++}return""!==S&&(l+=gg(F,S)),l}const ao={};function Hf(a){Fp(Ri(),Qn(),on()+a,!1)}function Fp(a,l,h,v){if(!v)if(3==(3&l[2])){const F=a.preOrderCheckHooks;null!==F&&Co(l,F,h)}else{const F=a.preOrderHooks;null!==F&&Ko(l,F,0,h)}Dn(h)}function c0(a,l=null,h=null,v){const S=u0(a,l,h,v);return S.resolveInjectorInitializers(),S}function u0(a,l=null,h=null,v,S=new Set){const F=[h||cn,Pp(a)];return v=v||("object"==typeof a?void 0:r(a)),new g(F,l||m(),v||null,S)}let vu=(()=>{class a{static create(h,v){var S;if(Array.isArray(h))return c0({name:""},v,h,"");{const F=null!==(S=h.name)&&void 0!==S?S:"";return c0({name:F},h.parent,h.providers,F)}}}return a.THROW_IF_NOT_FOUND=_r,a.NULL=new xd,a.\u0275prov=be({token:a,providedIn:"any",factory:()=>Ws(Pc)}),a.__NG_ELEMENT_ID__=-1,a})();function Ed(a,l=ge.Default){const h=Qn();return null===h?Ws(a,l):no(eo(),h,N(a),l)}function Yf(){throw new Error("invalid")}function xg(a,l){return a<<17|l<<2}function Da(a){return a>>17&32767}function Sd(a){return 2|a}function Ml(a){return(131068&a)>>2}function Kf(a,l){return-131069&a|l<<2}function Ig(a){return 1|a}function b0(a,l){const h=a.contentQueries;if(null!==h)for(let v=0;v<h.length;v+=2){const S=h[v],F=h[v+1];if(-1!==F){const re=a.data[F];hr(S),re.contentQueries(2,l[F],F)}}}function Dg(a,l,h,v,S,F,re,Te,Re,ut,Lt){const Kt=l.blueprint.slice();return Kt[0]=S,Kt[2]=76|v,(null!==Lt||a&&1024&a[2])&&(Kt[2]|=1024),So(Kt),Kt[3]=Kt[15]=a,Kt[8]=h,Kt[10]=re||a&&a[10],Kt[11]=Te||a&&a[11],Kt[12]=Re||a&&a[12]||null,Kt[9]=ut||a&&a[9]||null,Kt[6]=F,Kt[20]=function Mh(){return Dh++}(),Kt[21]=Lt,Kt[16]=2==l.type?a[16]:Kt,Kt}function zc(a,l,h,v,S){let F=a.data[l];if(null===F)F=function sm(a,l,h,v,S){const F=Xr(),re=da(),Re=a.data[l]=function w0(a,l,h,v,S,F){return{type:h,index:v,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:S,attrs:F,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,re?F:F&&F.parent,h,l,v,S);return null===a.firstChild&&(a.firstChild=Re),null!==F&&(re?null==F.child&&null!==Re.parent&&(F.child=Re):null===F.next&&(F.next=Re)),Re}(a,l,h,v,S),function _o(){return Mi.lFrame.inI18n}()&&(F.flags|=64);else if(64&F.type){F.type=h,F.value=v,F.attrs=S;const re=function dr(){const a=Mi.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();F.injectorIndex=null===re?-1:re.injectorIndex}return Ds(F,!0),F}function Au(a,l,h,v){if(0===h)return-1;const S=l.length;for(let F=0;F<h;F++)l.push(v),a.blueprint.push(v),a.data.push(null);return S}function rm(a,l,h){gr(l);try{const v=a.viewQuery;null!==v&&hm(1,v,h);const S=a.template;null!==S&&x0(a,l,S,1,h),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&b0(a,l),a.staticViewQueries&&hm(2,a.viewQuery,h);const F=a.components;null!==F&&function Mb(a,l){for(let h=0;h<l.length;h++)Fb(a,l[h])}(l,F)}catch(v){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),v}finally{l[2]&=-5,gt()}}function wu(a,l,h,v){const S=l[2];if(128!=(128&S)){gr(l);try{So(l),function Ln(a){return Mi.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==h&&x0(a,l,h,2,v);const re=3==(3&S);if(re){const ut=a.preOrderCheckHooks;null!==ut&&Co(l,ut,null)}else{const ut=a.preOrderHooks;null!==ut&&Ko(l,ut,0,null),Xs(l,0)}if(function Rg(a){for(let l=dp(a);null!==l;l=Ec(l)){if(!l[2])continue;const h=l[9];for(let v=0;v<h.length;v++){const S=h[v],F=S[3];0==(512&S[2])&&ks(F,1),S[2]|=512}}}(l),function Od(a){for(let l=dp(a);null!==l;l=Ec(l))for(let h=10;h<l.length;h++){const v=l[h],S=v[1];qs(v)&&wu(S,v,S.template,v[8])}}(l),null!==a.contentQueries&&b0(a,l),re){const ut=a.contentCheckHooks;null!==ut&&Co(l,ut)}else{const ut=a.contentHooks;null!==ut&&Ko(l,ut,1),Xs(l,1)}!function Db(a,l){const h=a.hostBindingOpCodes;if(null!==h)try{for(let v=0;v<h.length;v++){const S=h[v];if(S<0)Dn(~S);else{const F=S,re=h[++v],Te=h[++v];gs(re,F),Te(2,l[F])}}}finally{Dn(-1)}}(a,l);const Te=a.components;null!==Te&&function y0(a,l){for(let h=0;h<l.length;h++)P0(a,l[h])}(l,Te);const Re=a.viewQuery;if(null!==Re&&hm(2,Re,v),re){const ut=a.viewCheckHooks;null!==ut&&Co(l,ut)}else{const ut=a.viewHooks;null!==ut&&Ko(l,ut,2),Xs(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,ks(l[3],-1))}finally{gt()}}}function x0(a,l,h,v,S){const F=on(),re=2&v;try{Dn(-1),re&&l.length>22&&Fp(a,l,22,!1),h(v,S)}finally{Dn(F)}}function I0(a,l,h){if(Us(l)){const S=l.directiveEnd;for(let F=l.directiveStart;F<S;F++){const re=a.data[F];re.contentQueries&&re.contentQueries(1,h[F],F)}}}function Jc(a,l,h){!Li()||(function Jp(a,l,h,v){const S=h.directiveStart,F=h.directiveEnd;a.firstCreatePass||er(h,l),Jo(v,l);const re=h.initialInputs;for(let Te=S;Te<F;Te++){const Re=a.data[Te],ut=ds(Re);ut&&Md(l,h,Re);const Lt=fr(l,a,Te,h);Jo(Lt,l),null!==re&&Eu(0,Te-S,Lt,Re,0,re),ut&&(Si(h.index,l)[8]=Lt)}}(a,l,h,qn(h,l)),128==(128&h.flags)&&function k0(a,l,h){const v=h.directiveStart,S=h.directiveEnd,F=h.index,re=function $s(){return Mi.lFrame.currentDirectiveIndex}();try{Dn(F);for(let Te=v;Te<S;Te++){const Re=a.data[Te],ut=l[Te];pr(Te),(null!==Re.hostBindings||0!==Re.hostVars||null!==Re.hostAttrs)&&lm(Re,ut)}}finally{Dn(-1),pr(re)}}(a,l,h))}function Dd(a,l,h=qn){const v=l.localNames;if(null!==v){let S=l.index+1;for(let F=0;F<v.length;F+=2){const re=v[F+1],Te=-1===re?h(l,a):a[re];a[S++]=Te}}}function Mg(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=am(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function am(a,l,h,v,S,F,re,Te,Re,ut){const Lt=22+v,Kt=Lt+S,vn=function Ob(a,l){const h=[];for(let v=0;v<l;v++)h.push(v<a?null:ao);return h}(Lt,Kt),kn="function"==typeof ut?ut():ut;return vn[1]={type:a,blueprint:vn,template:h,queries:null,viewQuery:Te,declTNode:l,data:vn.slice().fill(null,Lt),bindingStartIndex:Lt,expandoStartIndex:Kt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof F?F():F,pipeRegistry:"function"==typeof re?re():re,firstChild:null,schemas:Re,consts:kn,incompleteFirstPass:!1}}function A0(a,l,h,v){const S=Fg(l);null===h?S.push(v):(S.push(h),a.firstCreatePass&&L0(a).push(v,S.length-1))}function E0(a,l,h){for(let v in a)if(a.hasOwnProperty(v)){const S=a[v];(h=null===h?{}:h).hasOwnProperty(v)?h[v].push(l,S):h[v]=[l,S]}return h}function Ol(a,l){const v=l.directiveEnd,S=a.data,F=l.attrs,re=[];let Te=null,Re=null;for(let ut=l.directiveStart;ut<v;ut++){const Lt=S[ut],Kt=Lt.inputs,vn=null===F||Uf(l)?null:um(Kt,F);re.push(vn),Te=E0(Kt,ut,Te),Re=E0(Lt.outputs,ut,Re)}null!==Te&&(Te.hasOwnProperty("class")&&(l.flags|=16),Te.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=re,l.inputs=Te,l.outputs=Re}function is(a,l){const h=Si(l,a);16&h[2]||(h[2]|=32)}function Za(a,l,h,v){let S=!1;if(Li()){const F=function Nb(a,l,h){const v=a.directiveRegistry;let S=null;if(v)for(let F=0;F<v.length;F++){const re=v[F];uc(h,re.selectors,!1)&&(S||(S=[]),Ca(er(h,l),a,re.type),ds(re)?(Pg(a,h),S.unshift(re)):S.push(re))}return S}(a,l,h),re=null===v?null:{"":-1};if(null!==F){S=!0,M0(h,a.data.length,F.length);for(let Lt=0;Lt<F.length;Lt++){const Kt=F[Lt];Kt.providersResolver&&Kt.providersResolver(Kt)}let Te=!1,Re=!1,ut=Au(a,l,F.length,null);for(let Lt=0;Lt<F.length;Lt++){const Kt=F[Lt];h.mergedAttrs=_t(h.mergedAttrs,Kt.hostAttrs),O0(a,h,l,ut,Kt),cm(ut,Kt,re),null!==Kt.contentQueries&&(h.flags|=8),(null!==Kt.hostBindings||null!==Kt.hostAttrs||0!==Kt.hostVars)&&(h.flags|=128);const vn=Kt.type.prototype;!Te&&(vn.ngOnChanges||vn.ngOnInit||vn.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(h.index),Te=!0),!Re&&(vn.ngOnChanges||vn.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(h.index),Re=!0),ut++}Ol(a,h)}re&&function D0(a,l,h){if(l){const v=a.localNames=[];for(let S=0;S<l.length;S+=2){const F=h[l[S+1]];if(null==F)throw new E(-301,!1);v.push(l[S],F)}}}(h,v,re)}return h.mergedAttrs=_t(h.mergedAttrs,h.attrs),S}function S0(a,l,h,v,S,F){const re=F.hostBindings;if(re){let Te=a.hostBindingOpCodes;null===Te&&(Te=a.hostBindingOpCodes=[]);const Re=~l.index;(function Rb(a){let l=a.length;for(;l>0;){const h=a[--l];if("number"==typeof h&&h<0)return h}return 0})(Te)!=Re&&Te.push(Re),Te.push(v,S,re)}}function lm(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Pg(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function cm(a,l,h){if(h){if(l.exportAs)for(let v=0;v<l.exportAs.length;v++)h[l.exportAs[v]]=a;ds(l)&&(h[""]=a)}}function M0(a,l,h){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+h,a.providerIndexes=l}function O0(a,l,h,v,S){a.data[v]=S;const F=S.factory||(S.factory=rs(S.type)),re=new ae(F,ds(S),Ed);a.blueprint[v]=re,h[v]=re,S0(a,l,0,v,Au(a,h,S.hostVars,ao),S)}function Md(a,l,h){const v=qn(l,a),S=Mg(h),F=a[10],re=Ng(a,Dg(a,S,null,h.onPush?32:16,v,l,F,F.createRenderer(v,h),null,null,null));a[l.index]=re}function Qo(a,l,h,v,S,F){const re=qn(a,l);!function Lg(a,l,h,v,S,F,re){if(null==F)a.removeAttribute(l,S,h);else{const Te=null==re?U(F):re(F,v||"",S);a.setAttribute(l,S,Te,h)}}(l[11],re,F,a.value,h,v,S)}function Eu(a,l,h,v,S,F){const re=F[l];if(null!==re){const Te=v.setInput;for(let Re=0;Re<re.length;){const ut=re[Re++],Lt=re[Re++],Kt=re[Re++];null!==Te?v.setInput(h,Kt,ut,Lt):h[Lt]=Kt}}}function um(a,l){let h=null,v=0;for(;v<l.length;){const S=l[v];if(0!==S)if(5!==S){if("number"==typeof S)break;a.hasOwnProperty(S)&&(null===h&&(h=[]),h.push(S,a[S],l[v+1])),v+=2}else v+=2;else v+=4}return h}function dm(a,l,h,v){return new Array(a,!0,!1,l,null,0,v,h,null,null)}function P0(a,l){const h=Si(l,a);if(qs(h)){const v=h[1];48&h[2]?wu(v,h,v.template,h[8]):h[5]>0&&Qp(h)}}function Qp(a){for(let v=dp(a);null!==v;v=Ec(v))for(let S=10;S<v.length;S++){const F=v[S];if(qs(F))if(512&F[2]){const re=F[1];wu(re,F,re.template,F[8])}else F[5]>0&&Qp(F)}const h=a[1].components;if(null!==h)for(let v=0;v<h.length;v++){const S=Si(h[v],a);qs(S)&&S[5]>0&&Qp(S)}}function Fb(a,l){const h=Si(l,a),v=h[1];(function Bb(a,l){for(let h=l.length;h<a.blueprint.length;h++)l.push(a.blueprint[h])})(v,h),rm(v,h,h[8])}function Ng(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function pm(a){for(;a;){a[2]|=32;const l=wc(a);if(br(a)&&!l)return a;a=l}return null}function Qc(a,l,h,v=!0){const S=l[10];S.begin&&S.begin();try{wu(a,l,a.template,h)}catch(re){throw v&&N0(l,re),re}finally{S.end&&S.end()}}function hm(a,l,h){hr(0),l(a,h)}function Fg(a){return a[7]||(a[7]=[])}function L0(a){return a.cleanup||(a.cleanup=[])}function N0(a,l){const h=a[9],v=h?h.get(ns,null):null;v&&v.handleError(l)}function gm(a,l,h,v,S){for(let F=0;F<h.length;){const re=h[F++],Te=h[F++],Re=l[re],ut=a.data[re];null!==ut.setInput?ut.setInput(Re,S,v,Te):Re[Te]=S}}function pc(a,l,h){const v=Pn(l,a);!function pp(a,l,h){a.setValue(l,h)}(a[11],v,h)}function Bg(a,l,h){let v=h?a.styles:null,S=h?a.classes:null,F=0;if(null!==l)for(let re=0;re<l.length;re++){const Te=l[re];"number"==typeof Te?F=Te:1==F?S=R(S,Te):2==F&&(v=R(v,Te+": "+l[++re]+";"))}h?a.styles=v:a.stylesWithoutHost=v,h?a.classes=S:a.classesWithoutHost=S}function Gp(a,l,h,v,S=!1){for(;null!==h;){const F=l[h.index];if(null!==F&&v.push(Le(F)),$o(F))for(let Te=10;Te<F.length;Te++){const Re=F[Te],ut=Re[1].firstChild;null!==ut&&Gp(Re[1],Re,ut,v)}const re=h.type;if(8&re)Gp(a,l,h.child,v);else if(32&re){const Te=iu(h,l);let Re;for(;Re=Te();)v.push(Re)}else if(16&re){const Te=ld(l,h);if(Array.isArray(Te))v.push(...Te);else{const Re=wc(l[16]);Gp(Re[1],Re,Te,v,!0)}}h=S?h.projectionNext:h.next}return v}class Pd{constructor(l,h){this._lView=l,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,h=l[1];return Gp(h,l,h.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if($o(l)){const h=l[8],v=h?h.indexOf(this):-1;v>-1&&(id(l,v),za(h,v))}this._attachedToViewContainer=!1}od(this._lView[1],this._lView)}onDestroy(l){A0(this._lView[1],this._lView,null,l)}markForCheck(){pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bh(a,l){nc(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=l}}class Ub extends Pd{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Qc(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Zg extends Xn{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const h=Vn(l);return new Wp(h,this.ngModule)}}function F0(a){const l=[];for(let h in a)a.hasOwnProperty(h)&&l.push({propName:a[h],templateName:h});return l}class Vb{constructor(l,h){this.injector=l,this.parentInjector=h}get(l,h,v){const S=this.injector.get(l,Uo,v);return S!==Uo||h===Uo?S:this.parentInjector.get(l,h,v)}}class Wp extends mn{constructor(l,h){super(),this.componentDef=l,this.ngModule=h,this.componentType=l.type,this.selector=function fg(a){return a.map(Hi).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return F0(this.componentDef.inputs)}get outputs(){return F0(this.componentDef.outputs)}create(l,h,v,S){let F=(S=S||this.ngModule)instanceof c?S:null==S?void 0:S.injector;F&&null!==this.componentDef.getStandaloneInjector&&(F=this.componentDef.getStandaloneInjector(F)||F);const re=F?new Vb(l,F):l,Te=re.get(Fi,null);if(null===Te)throw new E(407,!1);const Re=re.get(Do,null),ut=Te.createRenderer(null,this.componentDef),Lt=this.componentDef.selectors[0][0]||"div",Kt=v?function T0(a,l,h){return a.selectRootElement(l,h===Tt.ShadowDom)}(ut,v,this.componentDef.encapsulation):Ya(ut,Lt,function Hb(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(Lt)),vn=this.componentDef.onPush?288:272,kn=am(0,null,null,1,0,null,null,null,null,null),Jn=Dg(null,kn,null,vn,null,null,Te,ut,Re,re,null);let ri,_i;gr(Jn);try{const Ei=function fm(a,l,h,v,S,F){const re=h[1];h[22]=a;const Re=zc(re,22,2,"#host",null),ut=Re.mergedAttrs=l.hostAttrs;null!==ut&&(Bg(Re,ut,!0),null!==a&&(Yt(S,a,ut),null!==Re.classes&&pd(S,a,Re.classes),null!==Re.styles&&xp(S,a,Re.styles)));const Lt=v.createRenderer(a,l),Kt=Dg(h,Mg(l),null,l.onPush?32:16,h[22],Re,v,Lt,F||null,null,null);return re.firstCreatePass&&(Ca(er(Re,h),re,l.type),Pg(re,Re),M0(Re,h.length,1)),Ng(h,Kt),h[22]=Kt}(Kt,this.componentDef,Jn,Te,ut);if(Kt)if(v)Yt(ut,Kt,["ng-version",la.full]);else{const{attrs:Bi,classes:Kn}=function bI(a){const l=[],h=[];let v=1,S=2;for(;v<a.length;){let F=a[v];if("string"==typeof F)2===S?""!==F&&l.push(F,a[++v]):8===S&&h.push(F);else{if(!Ys(S))break;S=F}v++}return{attrs:l,classes:h}}(this.componentDef.selectors[0]);Bi&&Yt(ut,Kt,Bi),Kn&&Kn.length>0&&pd(ut,Kt,Kn.join(" "))}if(_i=Zi(kn,22),void 0!==h){const Bi=_i.projection=[];for(let Kn=0;Kn<this.ngContentSelectors.length;Kn++){const Yi=h[Kn];Bi.push(null!=Yi?Array.from(Yi):null)}}ri=function Su(a,l,h,v){const S=h[1],F=function dc(a,l,h){const v=eo();a.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),O0(a,v,l,Au(a,l,1,null),h),Ol(a,v));const S=fr(l,a,v.directiveStart,v);Jo(S,l);const F=qn(v,l);return F&&Jo(F,l),S}(S,h,l);if(a[8]=h[8]=F,null!==v)for(const Te of v)Te(F,l);if(l.contentQueries){const Te=eo();l.contentQueries(1,F,Te.directiveStart)}const re=eo();return!S.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Dn(re.index),S0(h[1],re,0,re.directiveStart,re.directiveEnd,l),lm(l,F)),F}(Ei,this.componentDef,Jn,[Qb]),rm(kn,Jn,null)}finally{gt()}return new NI(this.componentType,ri,Gn(_i,Jn),Jn,_i)}}class NI extends class nn{}{constructor(l,h,v,S,F){super(),this.location=v,this._rootLView=S,this._tNode=F,this.instance=h,this.hostView=this.changeDetectorRef=new Ub(S),this.componentType=l}setInput(l,h){const v=this._tNode.inputs;let S;if(null!==v&&(S=v[l])){const F=this._rootLView;gm(F[1],F,S,l,h),is(F,this._tNode.index)}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Qb(){const a=eo();yi(Qn()[1],a)}function Yp(a){let l=function B0(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),h=!0;const v=[a];for(;l;){let S;if(ds(a))S=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new E(903,!1);S=l.\u0275dir}if(S){if(h){v.push(S);const re=a;re.inputs=jp(a.inputs),re.declaredInputs=jp(a.declaredInputs),re.outputs=jp(a.outputs);const Te=S.hostBindings;Te&&_m(a,Te);const Re=S.viewQuery,ut=S.contentQueries;if(Re&&Ld(a,Re),ut&&Gb(a,ut),x(a.inputs,S.inputs),x(a.declaredInputs,S.declaredInputs),x(a.outputs,S.outputs),ds(S)&&S.data.animation){const Lt=a.data;Lt.animation=(Lt.animation||[]).concat(S.data.animation)}}const F=S.features;if(F)for(let re=0;re<F.length;re++){const Te=F[re];Te&&Te.ngInherit&&Te(a),Te===Yp&&(h=!1)}}l=Object.getPrototypeOf(l)}!function mm(a){let l=0,h=null;for(let v=a.length-1;v>=0;v--){const S=a[v];S.hostVars=l+=S.hostVars,S.hostAttrs=_t(S.hostAttrs,h=_t(h,S.hostAttrs))}}(v)}function jp(a){return a===mt?{}:a===cn?[]:a}function Ld(a,l){const h=a.viewQuery;a.viewQuery=h?(v,S)=>{l(v,S),h(v,S)}:l}function Gb(a,l){const h=a.contentQueries;a.contentQueries=h?(v,S,F)=>{l(v,S,F),h(v,S,F)}:l}function _m(a,l){const h=a.hostBindings;a.hostBindings=h?(v,S)=>{l(v,S),h(v,S)}:l}let Ug=null;function Rd(){if(!Ug){const a=se.Symbol;if(a&&a.iterator)Ug=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<l.length;++h){const v=l[h];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(Ug=v)}}}return Ug}function Kp(a){return!!qp(a)&&(Array.isArray(a)||!(a instanceof Map)&&Rd()in a)}function qp(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function fl(a,l,h){return a[l]=h}function $p(a,l){return a[l]}function ca(a,l,h){return!Object.is(a[l],h)&&(a[l]=h,!0)}function Cr(a,l,h,v){const S=ca(a,l,h);return ca(a,l+1,v)||S}function Hg(a,l,h,v,S){const F=Cr(a,l,h,v);return ca(a,l+2,S)||F}function Xa(a,l,h,v,S,F){const re=Cr(a,l,h,v);return Cr(a,l+2,S,F)||re}function bm(a,l,h,v){const S=Qn();return ca(S,mi(),l)&&(Ri(),Qo(Nn(),S,a,l,h,v)),bm}function Am(a,l,h,v,S,F,re,Te){const Re=Qn(),ut=Ri(),Lt=a+22,Kt=ut.firstCreatePass?function jb(a,l,h,v,S,F,re,Te,Re){const ut=l.consts,Lt=zc(l,a,4,re||null,bo(ut,Te));Za(l,h,Lt,bo(ut,Re)),yi(l,Lt);const Kt=Lt.tViews=am(2,Lt,v,S,F,l.directiveRegistry,l.pipeRegistry,null,l.schemas,ut);return null!==l.queries&&(l.queries.template(l,Lt),Kt.queries=l.queries.embeddedTView(Lt)),Lt}(Lt,ut,Re,l,h,v,S,F,re):ut.data[Lt];Ds(Kt,!1);const vn=Re[11].createComment("");ad(ut,Re,vn,Kt),Jo(vn,Re),Ng(Re,Re[Lt]=dm(vn,Re,vn,Kt)),Hs(Kt)&&Jc(ut,Re,Kt),null!=re&&Dd(Re,Kt,Te)}function wm(a){return Ni(function jr(){return Mi.lFrame.contextLView}(),22+a)}function Em(a,l,h){const v=Qn();return ca(v,mi(),l)&&function ga(a,l,h,v,S,F,re,Te){const Re=qn(l,h);let Lt,ut=l.inputs;!Te&&null!=ut&&(Lt=ut[v])?(gm(a,h,Lt,v,S),Ss(l)&&is(h,l.index)):3&l.type&&(v=function Pb(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(v),S=null!=re?re(S,l.value||"",v):S,F.setProperty(Re,v,S))}(Ri(),Nn(),v,a,l,v[11],h,!1),Em}function Sm(a,l,h,v,S){const re=S?"class":"style";gm(a,h,l.inputs[re],re,v)}function eh(a,l,h,v){const S=Qn(),F=Ri(),re=22+a,Te=S[11],Re=S[re]=Ya(Te,l,function ji(){return Mi.lFrame.currentNamespace}()),ut=F.firstCreatePass?function qb(a,l,h,v,S,F,re){const Te=l.consts,ut=zc(l,a,2,S,bo(Te,F));return Za(l,h,ut,bo(Te,re)),null!==ut.attrs&&Bg(ut,ut.attrs,!1),null!==ut.mergedAttrs&&Bg(ut,ut.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,ut),ut}(re,F,S,0,l,h,v):F.data[re];Ds(ut,!0);const Lt=ut.mergedAttrs;null!==Lt&&Yt(Te,Re,Lt);const Kt=ut.classes;null!==Kt&&pd(Te,Re,Kt);const vn=ut.styles;return null!==vn&&xp(Te,Re,vn),64!=(64&ut.flags)&&ad(F,S,Re,ut),0===function Zr(){return Mi.lFrame.elementDepthCount}()&&Jo(Re,S),function Po(){Mi.lFrame.elementDepthCount++}(),Hs(ut)&&(Jc(F,S,ut),I0(F,ut,S)),null!==v&&Dd(S,ut),eh}function Vg(){let a=eo();da()?Is():(a=a.parent,Ds(a,!1));const l=a;!function To(){Mi.lFrame.elementDepthCount--}();const h=Ri();return h.firstCreatePass&&(yi(h,a),Us(a)&&h.queries.elementEnd(a)),null!=l.classesWithoutHost&&function un(a){return 0!=(16&a.flags)}(l)&&Sm(h,l,Qn(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function _n(a){return 0!=(32&a.flags)}(l)&&Sm(h,l,Qn(),l.stylesWithoutHost,!1),Vg}function th(a,l,h,v){return eh(a,l,h,v),Vg(),th}function nh(a,l,h){const v=Qn(),S=Ri(),F=a+22,re=S.firstCreatePass?function $b(a,l,h,v,S){const F=l.consts,re=bo(F,v),Te=zc(l,a,8,"ng-container",re);return null!==re&&Bg(Te,re,!0),Za(l,h,Te,bo(F,S)),null!==l.queries&&l.queries.elementStart(l,Te),Te}(F,S,v,l,h):S.data[F];Ds(re,!0);const Te=v[F]=v[11].createComment("");return ad(S,v,Te,re),Jo(Te,v),Hs(re)&&(Jc(S,v,re),I0(S,re,v)),null!=h&&Dd(v,re),nh}function zg(){let a=eo();const l=Ri();return da()?Is():(a=a.parent,Ds(a,!1)),l.firstCreatePass&&(yi(l,a),Us(a)&&l.queries.elementEnd(a)),zg}function ih(a,l,h){return nh(a,l,h),zg(),ih}function oh(){return Qn()}function Jg(a){return!!a&&"function"==typeof a.then}function Ll(a){return!!a&&"function"==typeof a.subscribe}const G0=Ll;function Qg(a,l,h,v){const S=Qn(),F=Ri(),re=eo();return function Y0(a,l,h,v,S,F,re,Te){const Re=Hs(v),Lt=a.firstCreatePass&&L0(a),Kt=l[8],vn=Fg(l);let kn=!0;if(3&v.type||Te){const _i=qn(v,l),Ei=Te?Te(_i):_i,Bi=vn.length,Kn=Te?Ho=>Te(Le(Ho[v.index])):v.index;let Yi=null;if(!Te&&Re&&(Yi=function Xb(a,l,h,v){const S=a.cleanup;if(null!=S)for(let F=0;F<S.length-1;F+=2){const re=S[F];if(re===h&&S[F+1]===v){const Te=l[7],Re=S[F+2];return Te.length>Re?Te[Re]:null}"string"==typeof re&&(F+=2)}return null}(a,l,S,v.index)),null!==Yi)(Yi.__ngLastListenerFn__||Yi).__ngNextListenerFn__=F,Yi.__ngLastListenerFn__=F,kn=!1;else{F=K0(v,l,Kt,F,!1);const Ho=h.listen(Ei,S,F);vn.push(F,Ho),Lt&&Lt.push(S,Kn,Bi,Bi+1)}}else F=K0(v,l,Kt,F,!1);const Jn=v.outputs;let ri;if(kn&&null!==Jn&&(ri=Jn[S])){const _i=ri.length;if(_i)for(let Ei=0;Ei<_i;Ei+=2){const js=l[ri[Ei]][ri[Ei+1]].subscribe(F),Zu=vn.length;vn.push(F,js),Lt&&Lt.push(S,v.index,Zu,-(Zu+1))}}}(F,S,S[11],re,a,l,0,v),Qg}function j0(a,l,h,v){try{return!1!==h(v)}catch(S){return N0(a,S),!1}}function K0(a,l,h,v,S){return function F(re){if(re===Function)return v;pm(2&a.flags?Si(a.index,l):l);let Re=j0(l,0,v,re),ut=F.__ngNextListenerFn__;for(;ut;)Re=j0(l,0,ut,re)&&Re,ut=ut.__ngNextListenerFn__;return S&&!1===Re&&(re.preventDefault(),re.returnValue=!1),Re}}function q0(a=1){return function Ve(a){return(Mi.lFrame.contextLView=function Dt(a,l){for(;a>0;)l=l[15],a--;return l}(a,Mi.lFrame.contextLView))[8]}(a)}function ey(a,l){let h=null;const v=function s0(a){const l=a.attrs;if(null!=l){const h=l.indexOf(5);if(0==(1&h))return l[h+1]}return null}(a);for(let S=0;S<l.length;S++){const F=l[S];if("*"!==F){if(null===v?uc(a,F,!0):gb(v,F))return S}else h=S}return h}function $0(a){const l=Qn()[16][6];if(!l.projection){const v=l.projection=Ps(a?a.length:1,null),S=v.slice();let F=l.child;for(;null!==F;){const re=a?ey(F,a):0;null!==re&&(S[re]?S[re].projectionNext=F:v[re]=F,S[re]=F),F=F.next}}}function Gg(a,l=0,h){const v=Qn(),S=Ri(),F=zc(S,22+a,16,null,h||null);null===F.projection&&(F.projection=l),Is(),64!=(64&F.flags)&&function bp(a,l,h){dd(l[11],0,l,h,sd(a,h,l),Vh(h.parent||l[6],h,l))}(S,v,F)}function oC(a,l,h,v,S){const F=a[h+1],re=null===l;let Te=v?Da(F):Ml(F),Re=!1;for(;0!==Te&&(!1===Re||re);){const Lt=a[Te+1];sC(a[Te],l)&&(Re=!0,a[Te+1]=v?Ig(Lt):Sd(Lt)),Te=v?Da(Lt):Ml(Lt)}Re&&(a[h+1]=v?Sd(F):Ig(F))}function sC(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&wn(a,l)>=0}const Lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rC(a){return a.substring(Lr.key,Lr.keyEnd)}function Dm(a){return a.substring(Lr.value,Lr.valueEnd)}function aC(a,l){const h=Lr.textEnd;return h===l?-1:(l=Lr.keyEnd=function iy(a,l,h){for(;l<h&&a.charCodeAt(l)>32;)l++;return l}(a,Lr.key=l,h),Lu(a,l,h))}function cC(a,l){const h=Lr.textEnd;let v=Lr.key=Lu(a,l,h);return h===v?-1:(v=Lr.keyEnd=function oy(a,l,h){let v;for(;l<h&&(45===(v=a.charCodeAt(l))||95===v||(-33&v)>=65&&(-33&v)<=90||v>=48&&v<=57);)l++;return l}(a,v,h),v=uC(a,v,h),v=Lr.value=Lu(a,v,h),v=Lr.valueEnd=function ah(a,l,h){let v=-1,S=-1,F=-1,re=l,Te=re;for(;re<h;){const Re=a.charCodeAt(re++);if(59===Re)return Te;34===Re||39===Re?Te=re=Om(a,Re,re,h):l===re-4&&85===F&&82===S&&76===v&&40===Re?Te=re=Om(a,41,re,h):Re>32&&(Te=re),F=S,S=v,v=-33&Re}return Te}(a,v,h),uC(a,v,h))}function Mm(a){Lr.key=0,Lr.keyEnd=0,Lr.value=0,Lr.valueEnd=0,Lr.textEnd=a.length}function Lu(a,l,h){for(;l<h&&a.charCodeAt(l)<=32;)l++;return l}function uC(a,l,h,v){return(l=Lu(a,l,h))<h&&l++,l}function Om(a,l,h,v){let S=-1,F=h;for(;F<v;){const re=a.charCodeAt(F++);if(re==l&&92!==S)return F;S=92==re&&92===S?0:re}throw new Error}function qg(a,l,h){return _l(a,l,h,!1),qg}function $g(a,l){return _l(a,l,null,!0),$g}function ml(a){el(hC,sy,a,!1)}function sy(a,l){for(let h=function lC(a){return Mm(a),cC(a,Lu(a,0,Lr.textEnd))}(l);h>=0;h=cC(l,h))hC(a,rC(l),Dm(l))}function dC(a){el(en,Rl,a,!0)}function Rl(a,l){for(let h=function ny(a){return Mm(a),aC(a,Lu(a,0,Lr.textEnd))}(l);h>=0;h=aC(l,h))en(a,rC(l),!0)}function _l(a,l,h,v){const S=Qn(),F=Ri(),re=Gi(2);F.firstUpdatePass&&Lm(F,a,re,v),l!==ao&&ca(S,re,l)&&hc(F,F.data[on()],S,S[11],a,S[re+1]=function uy(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=r(qa(a)))),a}(l,h),v,re)}function el(a,l,h,v){const S=Ri(),F=Gi(2);S.firstUpdatePass&&Lm(S,null,F,v);const re=Qn();if(h!==ao&&ca(re,F,h)){const Te=S.data[on()];if(Nm(Te,v)&&!Pm(S,F)){let Re=v?Te.classesWithoutHost:Te.stylesWithoutHost;null!==Re&&(h=R(Re,h||"")),Sm(S,Te,re,h,v)}else!function cy(a,l,h,v,S,F,re,Te){S===ao&&(S=cn);let Re=0,ut=0,Lt=0<S.length?S[0]:null,Kt=0<F.length?F[0]:null;for(;null!==Lt||null!==Kt;){const vn=Re<S.length?S[Re+1]:void 0,kn=ut<F.length?F[ut+1]:void 0;let ri,Jn=null;Lt===Kt?(Re+=2,ut+=2,vn!==kn&&(Jn=Kt,ri=kn)):null===Kt||null!==Lt&&Lt<Kt?(Re+=2,Jn=Lt):(ut+=2,Jn=Kt,ri=kn),null!==Jn&&hc(a,l,h,v,Jn,ri,re,Te),Lt=Re<S.length?S[Re]:null,Kt=ut<F.length?F[ut]:null}}(S,Te,re,re[11],re[F+1],re[F+1]=function ly(a,l,h){if(null==h||""===h)return cn;const v=[],S=qa(h);if(Array.isArray(S))for(let F=0;F<S.length;F++)a(v,S[F],!0);else if("object"==typeof S)for(const F in S)S.hasOwnProperty(F)&&a(v,F,S[F]);else"string"==typeof S&&l(v,S);return v}(a,l,h),v,F)}}function Pm(a,l){return l>=a.expandoStartIndex}function Lm(a,l,h,v){const S=a.data;if(null===S[h+1]){const F=S[on()],re=Pm(a,h);Nm(F,v)&&null===l&&!re&&(l=!1),l=function Rm(a,l,h,v){const S=function Dr(a){const l=Mi.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let F=v?l.residualClasses:l.residualStyles;if(null===S)0===(v?l.classBindings:l.styleBindings)&&(h=lh(h=tl(null,a,l,h,v),l.attrs,v),F=null);else{const re=l.directiveStylingLast;if(-1===re||a[re]!==S)if(h=tl(S,a,l,h,v),null===F){let Re=function ry(a,l,h){const v=h?l.classBindings:l.styleBindings;if(0!==Ml(v))return a[Da(v)]}(a,l,v);void 0!==Re&&Array.isArray(Re)&&(Re=tl(null,a,l,Re[1],v),Re=lh(Re,l.attrs,v),function ay(a,l,h,v){a[Da(h?l.classBindings:l.styleBindings)]=v}(a,l,v,Re))}else F=function pC(a,l,h){let v;const S=l.directiveEnd;for(let F=1+l.directiveStylingLast;F<S;F++)v=lh(v,a[F].hostAttrs,h);return lh(v,l.attrs,h)}(a,l,v)}return void 0!==F&&(v?l.residualClasses=F:l.residualStyles=F),h}(S,F,l,v),function ty(a,l,h,v,S,F){let re=F?l.classBindings:l.styleBindings,Te=Da(re),Re=Ml(re);a[v]=h;let Lt,ut=!1;if(Array.isArray(h)){const Kt=h;Lt=Kt[1],(null===Lt||wn(Kt,Lt)>0)&&(ut=!0)}else Lt=h;if(S)if(0!==Re){const vn=Da(a[Te+1]);a[v+1]=xg(vn,Te),0!==vn&&(a[vn+1]=Kf(a[vn+1],v)),a[Te+1]=function xb(a,l){return 131071&a|l<<17}(a[Te+1],v)}else a[v+1]=xg(Te,0),0!==Te&&(a[Te+1]=Kf(a[Te+1],v)),Te=v;else a[v+1]=xg(Re,0),0===Te?Te=v:a[Re+1]=Kf(a[Re+1],v),Re=v;ut&&(a[v+1]=Sd(a[v+1])),oC(a,Lt,v,!0),oC(a,Lt,v,!1),function iC(a,l,h,v,S){const F=S?a.residualClasses:a.residualStyles;null!=F&&"string"==typeof l&&wn(F,l)>=0&&(h[v+1]=Ig(h[v+1]))}(l,Lt,a,v,F),re=xg(Te,Re),F?l.classBindings=re:l.styleBindings=re}(S,F,l,h,re,v)}}function tl(a,l,h,v,S){let F=null;const re=h.directiveEnd;let Te=h.directiveStylingLast;for(-1===Te?Te=h.directiveStart:Te++;Te<re&&(F=l[Te],v=lh(v,F.hostAttrs,S),F!==a);)Te++;return null!==a&&(h.directiveStylingLast=Te),v}function lh(a,l,h){const v=h?1:2;let S=-1;if(null!==l)for(let F=0;F<l.length;F++){const re=l[F];"number"==typeof re?S=re:S===v&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),en(a,re,!!h||l[++F]))}return void 0===a?null:a}function hC(a,l,h){en(a,l,qa(h))}function hc(a,l,h,v,S,F,re,Te){if(!(3&l.type))return;const Re=a.data,ut=Re[Te+1];Zd(function qf(a){return 1==(1&a)}(ut)?gC(Re,l,h,S,Ml(ut),re):void 0)||(Zd(F)||function jf(a){return 2==(2&a)}(ut)&&(F=gC(Re,null,h,S,Te,re)),function Jh(a,l,h,v,S){if(l)S?a.addClass(h,v):a.removeClass(h,v);else{let F=-1===v.indexOf("-")?void 0:ia.DashCase;null==S?a.removeStyle(h,v,F):("string"==typeof S&&S.endsWith("!important")&&(S=S.slice(0,-10),F|=ia.Important),a.setStyle(h,v,S,F))}}(v,re,Pn(on(),h),S,F))}function gC(a,l,h,v,S,F){const re=null===l;let Te;for(;S>0;){const Re=a[S],ut=Array.isArray(Re),Lt=ut?Re[1]:Re,Kt=null===Lt;let vn=h[S+1];vn===ao&&(vn=Kt?cn:void 0);let kn=Kt?sn(vn,v):Lt===v?vn:void 0;if(ut&&!Zd(kn)&&(kn=sn(Re,v)),Zd(kn)&&(Te=kn,re))return Te;const Jn=a[S+1];S=re?Da(Jn):Ml(Jn)}if(null!==l){let Re=F?l.residualClasses:l.residualStyles;null!=Re&&(Te=sn(Re,v))}return Te}function Zd(a){return void 0!==a}function Nm(a,l){return 0!=(a.flags&(l?16:32))}function fC(a,l=""){const h=Qn(),v=Ri(),S=a+22,F=v.firstCreatePass?zc(v,S,1,l,null):v.data[S],re=h[S]=function su(a,l){return a.createText(l)}(h[11],l);ad(v,h,re,F),Ds(F,!1)}function Fm(a){return Xg("",a,""),Fm}function Xg(a,l,h){const v=Qn(),S=function Fd(a,l,h,v){return ca(a,mi(),h)?l+U(h)+v:ao}(v,a,l,h);return S!==ao&&pc(v,on(),S),Xg}function Bm(a,l,h,v,S){const F=Qn(),re=function Pl(a,l,h,v,S,F){const Te=Cr(a,Mt(),h,S);return Gi(2),Te?l+U(h)+v+U(S)+F:ao}(F,a,l,h,v,S);return re!==ao&&pc(F,on(),re),Bm}function ef(a,l,h,v,S,F,re){const Te=Qn(),Re=function ku(a,l,h,v,S,F,re,Te){const ut=Hg(a,Mt(),h,S,re);return Gi(3),ut?l+U(h)+v+U(S)+F+U(re)+Te:ao}(Te,a,l,h,v,S,F,re);return Re!==ao&&pc(Te,on(),Re),ef}function Zm(a,l,h,v,S,F,re,Te,Re){const ut=Qn(),Lt=function Du(a,l,h,v,S,F,re,Te,Re,ut){const Kt=Xa(a,Mt(),h,S,re,Re);return Gi(4),Kt?l+U(h)+v+U(S)+F+U(re)+Te+U(Re)+ut:ao}(ut,a,l,h,v,S,F,re,Te,Re);return Lt!==ao&&pc(ut,on(),Lt),Zm}const Ud=void 0;var Sy=["en",[["a","p"],["AM","PM"],Ud],[["AM","PM"],Ud,Ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ud,"{1} 'at' {0}",Ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ey(a){const h=Math.floor(Math.abs(a)),v=a.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===v?1:5}];let Hd={};function PC(a,l,h){"string"!=typeof l&&(h=l,l=a[Vi.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),Hd[l]=a,h&&(Hd[l][Vi.ExtraData]=h)}function Hm(a){const l=function ky(a){return a.toLowerCase().replace(/_/g,"-")}(a);let h=RC(l);if(h)return h;const v=l.split("-")[0];if(h=RC(v),h)return h;if("en"===v)return Sy;throw new E(701,!1)}function LC(a){return Hm(a)[Vi.PluralCase]}function RC(a){return a in Hd||(Hd[a]=se.ng&&se.ng.common&&se.ng.common.locales&&se.ng.common.locales[a]),Hd[a]}var Vi=(()=>((Vi=Vi||{})[Vi.LocaleId=0]="LocaleId",Vi[Vi.DayPeriodsFormat=1]="DayPeriodsFormat",Vi[Vi.DayPeriodsStandalone=2]="DayPeriodsStandalone",Vi[Vi.DaysFormat=3]="DaysFormat",Vi[Vi.DaysStandalone=4]="DaysStandalone",Vi[Vi.MonthsFormat=5]="MonthsFormat",Vi[Vi.MonthsStandalone=6]="MonthsStandalone",Vi[Vi.Eras=7]="Eras",Vi[Vi.FirstDayOfWeek=8]="FirstDayOfWeek",Vi[Vi.WeekendRange=9]="WeekendRange",Vi[Vi.DateFormat=10]="DateFormat",Vi[Vi.TimeFormat=11]="TimeFormat",Vi[Vi.DateTimeFormat=12]="DateTimeFormat",Vi[Vi.NumberSymbols=13]="NumberSymbols",Vi[Vi.NumberFormats=14]="NumberFormats",Vi[Vi.CurrencyCode=15]="CurrencyCode",Vi[Vi.CurrencySymbol=16]="CurrencySymbol",Vi[Vi.CurrencyName=17]="CurrencyName",Vi[Vi.Currencies=18]="Currencies",Vi[Vi.Directionality=19]="Directionality",Vi[Vi.PluralCase=20]="PluralCase",Vi[Vi.ExtraData=21]="ExtraData",Vi))();const Vd="en-US";let FC=Vd;function fh(a,l,h,v,S){if(a=N(a),Array.isArray(a))for(let F=0;F<a.length;F++)fh(a[F],l,h,v,S);else{const F=Ri(),re=Qn();let Te=gl(a)?a:N(a.provide),Re=H(a);const ut=eo(),Lt=1048575&ut.providerIndexes,Kt=ut.directiveStart,vn=ut.providerIndexes>>20;if(gl(a)||!a.multi){const kn=new ae(Re,S,Ed),Jn=Ym(Te,l,S?Lt:Lt+vn,Kt);-1===Jn?(Ca(er(ut,re),F,Te),Wm(F,a,l.length),l.push(Te),ut.directiveStart++,ut.directiveEnd++,S&&(ut.providerIndexes+=1048576),h.push(kn),re.push(kn)):(h[Jn]=kn,re[Jn]=kn)}else{const kn=Ym(Te,l,Lt+vn,Kt),Jn=Ym(Te,l,Lt,Lt+vn),ri=kn>=0&&h[kn],_i=Jn>=0&&h[Jn];if(S&&!_i||!S&&!ri){Ca(er(ut,re),F,Te);const Ei=function f4(a,l,h,v,S){const F=new ae(a,h,Ed);return F.multi=[],F.index=l,F.componentProviders=0,pv(F,S,v&&!h),F}(S?g4:h4,h.length,S,v,Re);!S&&_i&&(h[Jn].providerFactory=Ei),Wm(F,a,l.length,0),l.push(Te),ut.directiveStart++,ut.directiveEnd++,S&&(ut.providerIndexes+=1048576),h.push(Ei),re.push(Ei)}else Wm(F,a,kn>-1?kn:Jn,pv(h[S?Jn:kn],Re,!S&&v));!S&&v&&_i&&h[Jn].componentProviders++}}}function Wm(a,l,h,v){const S=gl(l),F=function Bf(a){return!!a.useClass}(l);if(S||F){const Re=(F?N(l.useClass):l).prototype.ngOnDestroy;if(Re){const ut=a.destroyHooks||(a.destroyHooks=[]);if(!S&&l.multi){const Lt=ut.indexOf(h);-1===Lt?ut.push(h,[v,Re]):ut[Lt+1].push(v,Re)}else ut.push(h,Re)}}}function pv(a,l,h){return h&&a.componentProviders++,a.multi.push(l)-1}function Ym(a,l,h,v){for(let S=h;S<v;S++)if(l[S]===a)return S;return-1}function h4(a,l,h,v){return jm(this.multi,[])}function g4(a,l,h,v){const S=this.multi;let F;if(this.providerFactory){const re=this.providerFactory.componentProviders,Te=fr(h,h[1],this.providerFactory.index,v);F=Te.slice(0,re),jm(S,F);for(let Re=re;Re<Te.length;Re++)F.push(Te[Re])}else F=[],jm(S,F);return F}function jm(a,l){for(let h=0;h<a.length;h++)l.push((0,a[h])());return l}function hv(a,l=[]){return h=>{h.providersResolver=(v,S)=>function dv(a,l,h){const v=Ri();if(v.firstCreatePass){const S=ds(a);fh(h,v.data,v.blueprint,S,!0),fh(l,v.data,v.blueprint,S,!1)}}(v,S?S(a):a,l)}}class Nu{}class gv{}function m4(a,l){return new fv(a,null!=l?l:null)}class fv extends Nu{constructor(l,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zg(this);const v=Qi(l);this._bootstrapComponents=cc(v.bootstrap),this._r3Injector=u0(l,h,[{provide:Nu,useValue:this},{provide:Xn,useValue:this.componentFactoryResolver}],r(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Km extends gv{constructor(l){super(),this.moduleType=l}create(l){return new fv(this.moduleType,l)}}class WI extends Nu{constructor(l,h,v){super(),this.componentFactoryResolver=new Zg(this),this.instance=null;const S=new g([...l,{provide:Nu,useValue:this},{provide:Xn,useValue:this.componentFactoryResolver}],h||m(),v,new Set(["environment"]));this.injector=S,S.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function qm(a,l,h=null){return new WI(a,l,h).injector}let _4=(()=>{class a{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h.id)){const v=Id(0,h.type),S=v.length>0?qm([v],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h.id,S)}return this.cachedInjectors.get(h.id)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=be({token:a,providedIn:"environment",factory:()=>new a(Ws(c))}),a})();function mv(a){a.getStandaloneInjector=l=>l.get(_4).getOrCreateStandaloneInjector(a)}function Iv(a,l,h){const v=De()+a,S=Qn();return S[v]===ao?fl(S,v,h?l.call(h):l()):$p(S,v)}function Tv(a,l,h,v){return Dv(Qn(),De(),a,l,h,v)}function Av(a,l,h,v,S){return Mv(Qn(),De(),a,l,h,v,S)}function i_(a,l,h,v,S,F){return Qd(Qn(),De(),a,l,h,v,S,F)}function wv(a,l,h,v,S,F,re){return mh(Qn(),De(),a,l,h,v,S,F,re)}function o_(a,l,h,v,S,F,re,Te){const Re=De()+a,ut=Qn(),Lt=Xa(ut,Re,h,v,S,F);return ca(ut,Re+4,re)||Lt?fl(ut,Re+5,Te?l.call(Te,h,v,S,F,re):l(h,v,S,F,re)):$p(ut,Re+5)}function s_(a,l,h,v,S,F,re,Te,Re){const ut=De()+a,Lt=Qn(),Kt=Xa(Lt,ut,h,v,S,F);return Cr(Lt,ut+4,re,Te)||Kt?fl(Lt,ut+6,Re?l.call(Re,h,v,S,F,re,Te):l(h,v,S,F,re,Te)):$p(Lt,ut+6)}function Ev(a,l,h,v,S,F,re,Te,Re,ut){const Lt=De()+a,Kt=Qn();let vn=Xa(Kt,Lt,h,v,S,F);return Hg(Kt,Lt+4,re,Te,Re)||vn?fl(Kt,Lt+7,ut?l.call(ut,h,v,S,F,re,Te,Re):l(h,v,S,F,re,Te,Re)):$p(Kt,Lt+7)}function kv(a,l,h,v){return af(Qn(),De(),a,l,h,v)}function Nl(a,l){const h=a[l];return h===ao?void 0:h}function Dv(a,l,h,v,S,F){const re=l+h;return ca(a,re,S)?fl(a,re+1,F?v.call(F,S):v(S)):Nl(a,re+1)}function Mv(a,l,h,v,S,F,re){const Te=l+h;return Cr(a,Te,S,F)?fl(a,Te+2,re?v.call(re,S,F):v(S,F)):Nl(a,Te+2)}function Qd(a,l,h,v,S,F,re,Te){const Re=l+h;return Hg(a,Re,S,F,re)?fl(a,Re+3,Te?v.call(Te,S,F,re):v(S,F,re)):Nl(a,Re+3)}function mh(a,l,h,v,S,F,re,Te,Re){const ut=l+h;return Xa(a,ut,S,F,re,Te)?fl(a,ut+4,Re?v.call(Re,S,F,re,Te):v(S,F,re,Te)):Nl(a,ut+4)}function af(a,l,h,v,S,F){let re=l+h,Te=!1;for(let Re=0;Re<S.length;Re++)ca(a,re++,S[Re])&&(Te=!0);return Te?fl(a,re,v.apply(F,S)):Nl(a,re)}function Ov(a,l){const h=Ri();let v;const S=a+22;h.firstCreatePass?(v=function T4(a,l){if(l)for(let h=l.length-1;h>=0;h--){const v=l[h];if(a===v.name)return v}}(l,h.pipeRegistry),h.data[S]=v,v.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(S,v.onDestroy)):v=h.data[S];const F=v.factory||(v.factory=rs(v.type)),re=yt(Ed);try{const Te=Ai(!1),Re=F();return Ai(Te),function Kb(a,l,h,v){h>=a.data.length&&(a.data[h]=null,a.blueprint[h]=null),l[h]=v}(h,Qn(),S,Re),Re}finally{yt(re)}}function Pv(a,l,h){const v=a+22,S=Qn(),F=Ni(S,v);return _h(S,v)?Dv(S,De(),l,F.transform,h,F):F.transform(h)}function Lv(a,l,h,v){const S=a+22,F=Qn(),re=Ni(F,S);return _h(F,S)?Mv(F,De(),l,re.transform,h,v,re):re.transform(h,v)}function r_(a,l,h,v,S){const F=a+22,re=Qn(),Te=Ni(re,F);return _h(re,F)?Qd(re,De(),l,Te.transform,h,v,S,Te):Te.transform(h,v,S)}function Rv(a,l,h,v,S,F){const re=a+22,Te=Qn(),Re=Ni(Te,re);return _h(Te,re)?mh(Te,De(),l,Re.transform,h,v,S,F,Re):Re.transform(h,v,S,F)}function Nv(a,l,h){const v=a+22,S=Qn(),F=Ni(S,v);return _h(S,v)?af(S,De(),l,F.transform,h,F):F.transform.apply(F,h)}function _h(a,l){return a[1].data[l].pure}function a_(a){return l=>{setTimeout(a,void 0,l)}}const Fl=class A4 extends e.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,h,v){var S,F,re;let Te=l,Re=h||(()=>null),ut=v;if(l&&"object"==typeof l){const Kt=l;Te=null===(S=Kt.next)||void 0===S?void 0:S.bind(Kt),Re=null===(F=Kt.error)||void 0===F?void 0:F.bind(Kt),ut=null===(re=Kt.complete)||void 0===re?void 0:re.bind(Kt)}this.__isAsync&&(Re=a_(Re),Te&&(Te=a_(Te)),ut&&(ut=a_(ut)));const Lt=super.subscribe({next:Te,error:Re,complete:ut});return l instanceof d.w0&&l.add(Lt),Lt}};function w4(){return this._results[Rd()]()}class lf{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=Rd(),v=lf.prototype;v[h]||(v[h]=w4)}get changes(){return this._changes||(this._changes=new Fl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,h){return this._results.reduce(l,h)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,h){const v=this;v.dirty=!1;const S=zr(l);(this._changesDetected=!function Hl(a,l,h){if(a.length!==l.length)return!1;for(let v=0;v<a.length;v++){let S=a[v],F=l[v];if(h&&(S=h(S),F=h(F)),F!==S)return!1}return!0}(v._results,S,h))&&(v._results=S,v.length=S.length,v.last=S[this.length-1],v.first=S[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ch=(()=>{class a{}return a.__NG_ELEMENT_ID__=KI,a})();const E4=Ch,S4=class extends E4{constructor(l,h,v){super(),this._declarationLView=l,this._declarationTContainer=h,this.elementRef=v}createEmbeddedView(l,h){const v=this._declarationTContainer.tViews,S=Dg(this._declarationLView,v,l,16,null,v.declTNode,null,null,null,null,h||null);S[17]=this._declarationLView[this._declarationTContainer.index];const re=this._declarationLView[19];return null!==re&&(S[19]=re.createEmbeddedView(v)),rm(v,S,l),new Pd(S)}};function KI(){return cf(eo(),Qn())}function cf(a,l){return 4&a.type?new S4(l,a,Gn(a,l)):null}let l_=(()=>{class a{}return a.__NG_ELEMENT_ID__=k4,a})();function k4(){return Zv(eo(),Qn())}const D4=l_,Fv=class extends D4{constructor(l,h,v){super(),this._lContainer=l,this._hostTNode=h,this._hostLView=v}get element(){return Gn(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const l=cs(this._hostTNode,this._hostLView);if(an(l)){const h=ti(l,this._hostLView),v=An(l);return new No(h[1].data[v+8],h)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const h=Bv(this._lContainer);return null!==h&&h[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,h,v){let S,F;"number"==typeof v?S=v:null!=v&&(S=v.index,F=v.injector);const re=l.createEmbeddedView(h||{},F);return this.insert(re,S),re}createComponent(l,h,v,S,F){const re=l&&!function Va(a){return"function"==typeof a}(l);let Te;if(re)Te=h;else{const Kt=h||{};Te=Kt.index,v=Kt.injector,S=Kt.projectableNodes,F=Kt.environmentInjector||Kt.ngModuleRef}const Re=re?l:new Wp(Vn(l)),ut=v||this.parentInjector;if(!F&&null==Re.ngModule){const vn=(re?ut:this.parentInjector).get(c,null);vn&&(F=vn)}const Lt=Re.create(ut,S,void 0,F);return this.insert(Lt.hostView,Te),Lt}insert(l,h){const v=l._lView,S=v[1];if(function jo(a){return $o(a[3])}(v)){const Lt=this.indexOf(l);if(-1!==Lt)this.detach(Lt);else{const Kt=v[3],vn=new Fv(Kt,Kt[6],Kt[3]);vn.detach(vn.indexOf(l))}}const F=this._adjustIndex(h),re=this._lContainer;!function Zh(a,l,h,v){const S=10+v,F=h.length;v>0&&(h[S-1][4]=l),v<F-10?(l[4]=h[S],Na(h,10+v,l)):(h.push(l),l[4]=null),l[3]=h;const re=l[17];null!==re&&h!==re&&function nd(a,l){const h=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===h?a[9]=[l]:h.push(l)}(re,l);const Te=l[19];null!==Te&&Te.insertView(a),l[2]|=64}(S,v,re,F);const Te=kc(F,re),Re=v[11],ut=rd(Re,re[7]);return null!==ut&&function gp(a,l,h,v,S,F){v[0]=S,v[6]=l,nc(a,v,h,1,S,F)}(S,re[6],Re,v,ut,Te),l.attachToViewContainerRef(),Na(c_(re),F,l),l}move(l,h){return this.insert(l,h)}indexOf(l){const h=Bv(this._lContainer);return null!==h?h.indexOf(l):-1}remove(l){const h=this._adjustIndex(l,-1),v=id(this._lContainer,h);v&&(za(c_(this._lContainer),h),od(v[1],v))}detach(l){const h=this._adjustIndex(l,-1),v=id(this._lContainer,h);return v&&null!=za(c_(this._lContainer),h)?new Pd(v):null}_adjustIndex(l,h=0){return null==l?this.length+h:l}};function Bv(a){return a[8]}function c_(a){return a[8]||(a[8]=[])}function Zv(a,l){let h;const v=l[a.index];if($o(v))h=v;else{let S;if(8&a.type)S=Le(v);else{const F=l[11];S=F.createComment("");const re=qn(a,l);Sl(F,rd(F,re),S,function Df(a,l){return a.nextSibling(l)}(F,re),!1)}l[a.index]=h=dm(v,l,S,a),Ng(l,h)}return new Fv(h,a,l)}class uf{constructor(l){this.queryList=l,this.matches=null}clone(){return new uf(this.queryList)}setDirty(){this.queryList.setDirty()}}class u_{constructor(l=[]){this.queries=l}createEmbeddedView(l){const h=l.queries;if(null!==h){const v=null!==l.contentQueries?l.contentQueries[0]:h.length,S=[];for(let F=0;F<v;F++){const re=h.getByIndex(F);S.push(this.queries[re.indexInDeclarationView].clone())}return new u_(S)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let h=0;h<this.queries.length;h++)null!==Qv(l,h).matches&&this.queries[h].setDirty()}}class Uv{constructor(l,h,v=null){this.predicate=l,this.flags=h,this.read=v}}class d_{constructor(l=[]){this.queries=l}elementStart(l,h){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(l,h)}elementEnd(l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(l)}embeddedTView(l){let h=null;for(let v=0;v<this.length;v++){const S=null!==h?h.length:0,F=this.getByIndex(v).embeddedTView(l,S);F&&(F.indexInDeclarationView=v,null!==h?h.push(F):h=[F])}return null!==h?new d_(h):null}template(l,h){for(let v=0;v<this.queries.length;v++)this.queries[v].template(l,h)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class p_{constructor(l,h=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(l,h){this.isApplyingToNode(h)&&this.matchTNode(l,h)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,h){this.elementStart(l,h)}embeddedTView(l,h){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,h),new p_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let v=l.parent;for(;null!==v&&8&v.type&&v.index!==h;)v=v.parent;return h===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(l,h){const v=this.metadata.predicate;if(Array.isArray(v))for(let S=0;S<v.length;S++){const F=v[S];this.matchTNodeWithReadOption(l,h,P4(h,F)),this.matchTNodeWithReadOption(l,h,Ms(h,l,F,!1,!1))}else v===Ch?4&h.type&&this.matchTNodeWithReadOption(l,h,-1):this.matchTNodeWithReadOption(l,h,Ms(h,l,v,!1,!1))}matchTNodeWithReadOption(l,h,v){if(null!==v){const S=this.metadata.read;if(null!==S)if(S===ci||S===l_||S===Ch&&4&h.type)this.addMatch(h.index,-2);else{const F=Ms(h,l,S,!1,!1);null!==F&&this.addMatch(h.index,F)}else this.addMatch(h.index,v)}}addMatch(l,h){null===this.matches?this.matches=[l,h]:this.matches.push(l,h)}}function P4(a,l){const h=a.localNames;if(null!==h)for(let v=0;v<h.length;v+=2)if(h[v]===l)return h[v+1];return null}function R4(a,l,h,v){return-1===h?function L4(a,l){return 11&a.type?Gn(a,l):4&a.type?cf(a,l):null}(l,a):-2===h?function N4(a,l,h){return h===ci?Gn(l,a):h===Ch?cf(l,a):h===l_?Zv(l,a):void 0}(a,l,v):fr(a,a[1],h,l)}function h_(a,l,h,v){const S=l[19].queries[v];if(null===S.matches){const F=a.data,re=h.matches,Te=[];for(let Re=0;Re<re.length;Re+=2){const ut=re[Re];Te.push(ut<0?null:R4(l,F[ut],re[Re+1],h.metadata.read))}S.matches=Te}return S.matches}function g_(a,l,h,v){const S=a.queries.getByIndex(h),F=S.matches;if(null!==F){const re=h_(a,l,S,h);for(let Te=0;Te<F.length;Te+=2){const Re=F[Te];if(Re>0)v.push(re[Te/2]);else{const ut=F[Te+1],Lt=l[-Re];for(let Kt=10;Kt<Lt.length;Kt++){const vn=Lt[Kt];vn[17]===vn[3]&&g_(vn[1],vn,ut,v)}if(null!==Lt[9]){const Kt=Lt[9];for(let vn=0;vn<Kt.length;vn++){const kn=Kt[vn];g_(kn[1],kn,ut,v)}}}}}return v}function Hv(a){const l=Qn(),h=Ri(),v=Kr();hr(v+1);const S=Qv(h,v);if(a.dirty&&function hs(a){return 4==(4&a[2])}(l)===(2==(2&S.metadata.flags))){if(null===S.matches)a.reset([]);else{const F=S.crossesNgTemplate?g_(h,l,v,[]):h_(h,l,S,v);a.reset(F,di),a.notifyOnChanges()}return!0}return!1}function Vv(a,l,h){const v=Ri();v.firstCreatePass&&(Jv(v,new Uv(a,l,h),-1),2==(2&l)&&(v.staticViewQueries=!0)),zv(v,Qn(),l)}function vh(a,l,h,v){const S=Ri();if(S.firstCreatePass){const F=eo();Jv(S,new Uv(l,h,v),F.index),function F4(a,l){const h=a.contentQueries||(a.contentQueries=[]);l!==(h.length?h[h.length-1]:-1)&&h.push(a.queries.length-1,l)}(S,a),2==(2&h)&&(S.staticContentQueries=!0)}zv(S,Qn(),h)}function Rr(){return function Gd(a,l){return a[19].queries[l].queryList}(Qn(),Kr())}function zv(a,l,h){const v=new lf(4==(4&h));A0(a,l,v,v.destroy),null===l[19]&&(l[19]=new u_),l[19].queries.push(new uf(v))}function Jv(a,l,h){null===a.queries&&(a.queries=new d_),a.queries.track(new p_(l,h))}function Qv(a,l){return a.queries.getByIndex(l)}function Gv(a,l){return cf(a,l)}function hf(...a){}const p1=new Fo("Application Initializer");let gf=(()=>{class a{constructor(h){this.appInits=h,this.resolve=hf,this.reject=hf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,S)=>{this.resolve=v,this.reject=S})}runInitializers(){if(this.initialized)return;const h=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let S=0;S<this.appInits.length;S++){const F=this.appInits[S]();if(Jg(F))h.push(F);else if(G0(F)){const re=new Promise((Te,Re)=>{F.subscribe({complete:Te,error:Re})});h.push(re)}}Promise.all(h).then(()=>{v()}).catch(S=>{this.reject(S)}),0===h.length&&v(),this.initialized=!0}}return a.\u0275fac=function(h){return new(h||a)(Ws(p1,8))},a.\u0275prov=be({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const h1=new Fo("AppId",{providedIn:"root",factory:function g1(){return`${v_()}${v_()}${v_()}`}});function v_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const f1=new Fo("Platform Initializer"),ix=new Fo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),m1=new Fo("appBootstrapListener"),ox=new Fo("AnimationModuleType");let sx=(()=>{class a{log(h){console.log(h)}warn(h){console.warn(h)}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=be({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const ff=new Fo("LocaleId",{providedIn:"root",factory:()=>Xc(ff,ge.Optional|ge.SkipSelf)||function rx(){return"undefined"!=typeof $localize&&$localize.locale||Vd}()}),ax=new Fo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _1{constructor(l,h){this.ngModuleFactory=l,this.componentFactories=h}}let lx=(()=>{class a{compileModuleSync(h){return new Km(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const v=this.compileModuleSync(h),F=cc(Qi(h).declarations).reduce((re,Te)=>{const Re=Vn(Te);return Re&&re.push(new Wp(Re)),re},[]);return new _1(v,F)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=be({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const dx=(()=>Promise.resolve(0))();function y_(a){"undefined"==typeof Zone?dx.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class il{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fl(!1),this.onMicrotaskEmpty=new Fl(!1),this.onStable=new Fl(!1),this.onError=new Fl(!1),"undefined"==typeof Zone)throw new E(908,!1);Zone.assertZonePatched();const S=this;if(S._nesting=0,S._outer=S._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const F=Zone.AsyncStackTaggingZoneSpec;S._inner=S._inner.fork(new F("Angular"))}Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!v&&h,S.shouldCoalesceRunChangeDetection=v,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function px(){let a=se.requestAnimationFrame,l=se.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const v=l[Zone.__symbol__("OriginalDelegate")];v&&(l=v)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function fx(a){const l=()=>{!function gx(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(se,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,I_(a),a.isCheckStableRunning=!0,x_(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),I_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,v,S,F,re,Te)=>{try{return v1(a),h.invokeTask(S,F,re,Te)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===F.type||a.shouldCoalesceRunChangeDetection)&&l(),b1(a)}},onInvoke:(h,v,S,F,re,Te,Re)=>{try{return v1(a),h.invoke(S,F,re,Te,Re)}finally{a.shouldCoalesceRunChangeDetection&&l(),b1(a)}},onHasTask:(h,v,S,F)=>{h.hasTask(S,F),v===S&&("microTask"==F.change?(a._hasPendingMicrotasks=F.microTask,I_(a),x_(a)):"macroTask"==F.change&&(a.hasPendingMacrotasks=F.macroTask))},onHandleError:(h,v,S,F)=>(h.handleError(S,F),a.runOutsideAngular(()=>a.onError.emit(F)),!1)})}(S)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!il.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(il.isInAngularZone())throw new E(909,!1)}run(l,h,v){return this._inner.run(l,h,v)}runTask(l,h,v,S){const F=this._inner,re=F.scheduleEventTask("NgZoneEvent: "+S,l,hx,hf,hf);try{return F.runTask(re,h,v)}finally{F.cancelTask(re)}}runGuarded(l,h,v){return this._inner.runGuarded(l,h,v)}runOutsideAngular(l){return this._outer.run(l)}}const hx={};function x_(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function I_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function v1(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function b1(a){a._nesting--,x_(a)}class y1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fl,this.onMicrotaskEmpty=new Fl,this.onStable=new Fl,this.onError=new Fl}run(l,h,v){return l.apply(h,v)}runGuarded(l,h,v){return l.apply(h,v)}runOutsideAngular(l){return l()}runTask(l,h,v,S){return l.apply(h,v)}}const x1=new Fo(""),I1=new Fo("");let xh,mx=(()=>{class a{constructor(h,v,S){this._ngZone=h,this.registry=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xh||(function _x(a){xh=a}(S),S.addToWindow(v)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{il.assertNotInAngularZone(),y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y_(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(h)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,v,S){let F=-1;v&&v>0&&(F=setTimeout(()=>{this._callbacks=this._callbacks.filter(re=>re.timeoutId!==F),h(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:h,timeoutId:F,updateCb:S})}whenStable(h,v,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,v,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,v,S){return[]}}return a.\u0275fac=function(h){return new(h||a)(Ws(il),Ws(T1),Ws(I1))},a.\u0275prov=be({token:a,factory:a.\u0275fac}),a})(),T1=(()=>{class a{constructor(){this._applications=new Map}registerApplication(h,v){this._applications.set(h,v)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,v=!0){var S;return null!==(S=null==xh?void 0:xh.findTestabilityInTree(this,h,v))&&void 0!==S?S:null}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=be({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Bl=null;const A1=new Fo("AllowMultipleToken"),T_=new Fo("PlatformDestroyListeners");class bx{constructor(l,h){this.name=l,this.token=h}}function E1(a,l,h=[]){const v=`Platform: ${l}`,S=new Fo(v);return(F=[])=>{let re=A_();if(!re||re.injector.get(A1,!1)){const Te=[...h,...F,{provide:S,useValue:!0}];a?a(Te):function yx(a){if(Bl&&!Bl.get(A1,!1))throw new E(400,!1);Bl=a;const l=a.get(k1);(function w1(a){const l=a.get(f1,null);l&&l.forEach(h=>h())})(a)}(function S1(a=[],l){return vu.create({name:l,providers:[{provide:Rp,useValue:"platform"},{provide:T_,useValue:new Set([()=>Bl=null])},...a]})}(Te,v))}return function Ix(a){const l=A_();if(!l)throw new E(401,!1);return l}()}}function A_(){var a;return null!==(a=null==Bl?void 0:Bl.get(k1))&&void 0!==a?a:null}let k1=(()=>{class a{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,v){const S=function w_(a,l){let h;return h="noop"===a?new y1:("zone.js"===a?void 0:a)||new il(l),h}(null==v?void 0:v.ngZone,function D1(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(v)),F=[{provide:il,useValue:S}];return S.run(()=>{const re=vu.create({providers:F,parent:this.injector,name:h.moduleType.name}),Te=h.create(re),Re=Te.injector.get(ns,null);if(!Re)throw new E(402,!1);return S.runOutsideAngular(()=>{const ut=S.onError.subscribe({next:Lt=>{Re.handleError(Lt)}});Te.onDestroy(()=>{_f(this._modules,Te),ut.unsubscribe()})}),function E_(a,l,h){try{const v=h();return Jg(v)?v.catch(S=>{throw l.runOutsideAngular(()=>a.handleError(S)),S}):v}catch(v){throw l.runOutsideAngular(()=>a.handleError(v)),v}}(Re,S,()=>{const ut=Te.injector.get(gf);return ut.runInitializers(),ut.donePromise.then(()=>(function Vm(a){Ee(a,"Expected localeId to be defined"),"string"==typeof a&&(FC=a.toLowerCase().replace(/_/g,"-"))}(Te.injector.get(ff,Vd)||Vd),this._moduleDoBootstrap(Te),Te))})})}bootstrapModule(h,v=[]){const S=Bs({},v);return function Cx(a,l,h){const v=new Km(h);return Promise.resolve(v)}(0,0,h).then(F=>this.bootstrapModuleFactory(F,S))}_moduleDoBootstrap(h){const v=h.injector.get(mf);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(S=>v.bootstrap(S));else{if(!h.instance.ngDoBootstrap)throw new E(403,!1);h.instance.ngDoBootstrap(v)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const h=this._injector.get(T_,null);h&&(h.forEach(v=>v()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(h){return new(h||a)(Ws(vu))},a.\u0275prov=be({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Bs(a,l){return Array.isArray(l)?l.reduce(Bs,a):Object.assign(Object.assign({},a),l)}let mf=(()=>{class a{constructor(h,v,S){this._zone=h,this._injector=v,this._exceptionHandler=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const F=new u.y(Te=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Te.next(this._stable),Te.complete()})}),re=new u.y(Te=>{let Re;this._zone.runOutsideAngular(()=>{Re=this._zone.onStable.subscribe(()=>{il.assertNotInAngularZone(),y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Te.next(!0))})})});const ut=this._zone.onUnstable.subscribe(()=>{il.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Te.next(!1)}))});return()=>{Re.unsubscribe(),ut.unsubscribe()}});this.isStable=(0,f.T)(F,re.pipe((0,_.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,v){const S=h instanceof mn;if(!this._injector.get(gf).done)throw!S&&Ji(h),new E(405,false);let re;re=S?h:this._injector.get(Xn).resolveComponentFactory(h),this.componentTypes.push(re.componentType);const Te=function vx(a){return a.isBoundToModule}(re)?void 0:this._injector.get(Nu),ut=re.create(vu.NULL,[],v||re.selector,Te),Lt=ut.location.nativeElement,Kt=ut.injector.get(x1,null);return null==Kt||Kt.registerApplication(Lt),ut.onDestroy(()=>{this.detachView(ut.hostView),_f(this.components,ut),null==Kt||Kt.unregisterApplication(Lt)}),this._loadComponent(ut),ut}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const v=h;this._views.push(v),v.attachToAppRef(this)}detachView(h){const v=h;_f(this._views,v),v.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(m1,[]).concat(this._bootstrapListeners).forEach(S=>S(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>_f(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new E(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(h){return new(h||a)(Ws(il),Ws(c),Ws(ns))},a.\u0275prov=be({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function _f(a,l){const h=a.indexOf(l);h>-1&&a.splice(h,1)}let O1=!0,P1=!1;function Ax(){return P1=!0,O1}function wx(){if(P1)throw new Error("Cannot enable prod mode after platform setup.");O1=!1}let Ex=(()=>{class a{}return a.__NG_ELEMENT_ID__=R1,a})();function R1(a){return function Ua(a,l,h){if(Ss(a)&&!h){const v=Si(a.index,l);return new Pd(v,v)}return 47&a.type?new Pd(l[16],l):null}(eo(),Qn(),16==(16&a))}class Z1{constructor(){}supports(l){return Kp(l)}create(l){return new Px(l)}}const Ox=(a,l)=>l;class Px{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Ox}forEachItem(l){let h;for(h=this._itHead;null!==h;h=h._next)l(h)}forEachOperation(l){let h=this._itHead,v=this._removalsHead,S=0,F=null;for(;h||v;){const re=!v||h&&h.currentIndex<H1(v,S,F)?h:v,Te=H1(re,S,F),Re=re.currentIndex;if(re===v)S--,v=v._nextRemoved;else if(h=h._next,null==re.previousIndex)S++;else{F||(F=[]);const ut=Te-S,Lt=Re-S;if(ut!=Lt){for(let vn=0;vn<ut;vn++){const kn=vn<F.length?F[vn]:F[vn]=0,Jn=kn+vn;Lt<=Jn&&Jn<ut&&(F[vn]=kn+1)}F[re.previousIndex]=Lt-ut}}Te!==Re&&l(re,Te,Re)}}forEachPreviousItem(l){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachMovedItem(l){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}forEachIdentityChange(l){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)l(h)}diff(l){if(null==l&&(l=[]),!Kp(l))throw new E(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let S,F,re,h=this._itHead,v=!1;if(Array.isArray(l)){this.length=l.length;for(let Te=0;Te<this.length;Te++)F=l[Te],re=this._trackByFn(Te,F),null!==h&&Object.is(h.trackById,re)?(v&&(h=this._verifyReinsertion(h,F,re,Te)),Object.is(h.item,F)||this._addIdentityChange(h,F)):(h=this._mismatch(h,F,re,Te),v=!0),h=h._next}else S=0,function U0(a,l){if(Array.isArray(a))for(let h=0;h<a.length;h++)l(a[h]);else{const h=a[Rd()]();let v;for(;!(v=h.next()).done;)l(v.value)}}(l,Te=>{re=this._trackByFn(S,Te),null!==h&&Object.is(h.trackById,re)?(v&&(h=this._verifyReinsertion(h,Te,re,S)),Object.is(h.item,Te)||this._addIdentityChange(h,Te)):(h=this._mismatch(h,Te,re,S),v=!0),h=h._next,S++}),this.length=S;return this._truncate(h),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,h,v,S){let F;return null===l?F=this._itTail:(F=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._reinsertAfter(l,F,S)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(v,S))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._moveAfter(l,F,S)):l=this._addAfter(new Lx(h,v),F,S),l}_verifyReinsertion(l,h,v,S){let F=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==F?l=this._reinsertAfter(F,l._prev,S):l.currentIndex!=S&&(l.currentIndex=S,this._addToMoves(l,S)),l}_truncate(l){for(;null!==l;){const h=l._next;this._addToRemovals(this._unlink(l)),l=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,h,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const S=l._prevRemoved,F=l._nextRemoved;return null===S?this._removalsHead=F:S._nextRemoved=F,null===F?this._removalsTail=S:F._prevRemoved=S,this._insertAfter(l,h,v),this._addToMoves(l,v),l}_moveAfter(l,h,v){return this._unlink(l),this._insertAfter(l,h,v),this._addToMoves(l,v),l}_addAfter(l,h,v){return this._insertAfter(l,h,v),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,h,v){const S=null===h?this._itHead:h._next;return l._next=S,l._prev=h,null===S?this._itTail=l:S._prev=l,null===h?this._itHead=l:h._next=l,null===this._linkedRecords&&(this._linkedRecords=new U1),this._linkedRecords.put(l),l.currentIndex=v,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const h=l._prev,v=l._next;return null===h?this._itHead=v:h._next=v,null===v?this._itTail=h:v._prev=h,l}_addToMoves(l,h){return l.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new U1),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,h){return l.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Lx{constructor(l,h){this.item=l,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rx{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,h){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===h||h<=v.currentIndex)&&Object.is(v.trackById,l))return v;return null}remove(l){const h=l._prevDup,v=l._nextDup;return null===h?this._head=v:h._nextDup=v,null===v?this._tail=h:v._prevDup=h,null===this._head}}class U1{constructor(){this.map=new Map}put(l){const h=l.trackById;let v=this.map.get(h);v||(v=new Rx,this.map.set(h,v)),v.add(l)}get(l,h){const S=this.map.get(l);return S?S.get(l,h):null}remove(l){const h=l.trackById;return this.map.get(h).remove(l)&&this.map.delete(h),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H1(a,l,h){const v=a.previousIndex;if(null===v)return v;let S=0;return h&&v<h.length&&(S=h[v]),v+l+S}class V1{constructor(){}supports(l){return l instanceof Map||qp(l)}create(){return new Nx}}class Nx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let h;for(h=this._mapHead;null!==h;h=h._next)l(h)}forEachPreviousItem(l){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)l(h)}forEachChangedItem(l){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}diff(l){if(l){if(!(l instanceof Map||qp(l)))throw new E(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(l,(v,S)=>{if(h&&h.key===S)this._maybeAddToChanges(h,v),this._appendAfter=h,h=h._next;else{const F=this._getOrCreateRecordForKey(S,v);h=this._insertBeforeOrAppend(h,F)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let v=h;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,h){if(l){const v=l._prev;return h._next=l,h._prev=v,l._prev=h,v&&(v._next=h),l===this._mapHead&&(this._mapHead=h),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(l,h){if(this._records.has(l)){const S=this._records.get(l);this._maybeAddToChanges(S,h);const F=S._prev,re=S._next;return F&&(F._next=re),re&&(re._prev=F),S._next=null,S._prev=null,S}const v=new Fx(l);return this._records.set(l,v),v.currentValue=h,this._addToAdditions(v),v}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,h){Object.is(h,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=h,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,h){l instanceof Map?l.forEach(h):Object.keys(l).forEach(v=>h(l[v],v))}}class Fx{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function z1(){return new Ih([new Z1])}let Ih=(()=>{class a{constructor(h){this.factories=h}static create(h,v){if(null!=v){const S=v.factories.slice();h=h.concat(S)}return new a(h)}static extend(h){return{provide:a,useFactory:v=>a.create(h,v||z1()),deps:[[a,new Gl,new Ql]]}}find(h){const v=this.factories.find(S=>S.supports(h));if(null!=v)return v;throw new E(901,!1)}}return a.\u0275prov=be({token:a,providedIn:"root",factory:z1}),a})();function J1(){return new O_([new V1])}let O_=(()=>{class a{constructor(h){this.factories=h}static create(h,v){if(v){const S=v.factories.slice();h=h.concat(S)}return new a(h)}static extend(h){return{provide:a,useFactory:v=>a.create(h,v||J1()),deps:[[a,new Gl,new Ql]]}}find(h){const v=this.factories.find(S=>S.supports(h));if(v)return v;throw new E(901,!1)}}return a.\u0275prov=be({token:a,providedIn:"root",factory:J1}),a})();const Ux=E1(null,"core",[]);let Hx=(()=>{class a{constructor(h){}}return a.\u0275fac=function(h){return new(h||a)(Ws(mf))},a.\u0275mod=Gt({type:a}),a.\u0275inj=Ie({}),a})();function Vx(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},2382:(hn,ft,b)=>{"use strict";b.d(ft,{Fj:()=>V,Oe:()=>eo,CE:()=>Vs,NI:()=>Ss,oH:()=>Tr,u:()=>Br,cw:()=>Je,sg:()=>go,x0:()=>xs,u5:()=>zs,nD:()=>Po,Cf:()=>ue,JU:()=>E,a5:()=>rt,JJ:()=>Ye,JL:()=>lt,On:()=>Fr,UX:()=>Yr,kI:()=>ne,_Y:()=>Eo});var e=b(5e3),d=b(9808),u=b(2076),f=b(9751),_=b(4742),P=b(8421),x=b(3269),r=b(5403),R=b(3268),L=b(1810),N=b(4004);let T=(()=>{class it{constructor(De,Mt){this._renderer=De,this._elementRef=Mt,this.onChange=Ln=>{},this.onTouched=()=>{}}setProperty(De,Mt){this._renderer.setProperty(this._elementRef.nativeElement,De,Mt)}registerOnTouched(De){this.onTouched=De}registerOnChange(De){this.onChange=De}setDisabledState(De){this.setProperty("disabled",De)}}return it.\u0275fac=function(De){return new(De||it)(e.Y36(e.Qsj),e.Y36(e.SBq))},it.\u0275dir=e.lG2({type:it}),it})(),y=(()=>{class it extends T{}return it.\u0275fac=function(){let Ue;return function(Mt){return(Ue||(Ue=e.n5z(it)))(Mt||it)}}(),it.\u0275dir=e.lG2({type:it,features:[e.qOj]}),it})();const E=new e.OlP("NgValueAccessor"),B={provide:E,useExisting:(0,e.Gpc)(()=>V),multi:!0},$=new e.OlP("CompositionEventMode");let V=(()=>{class it extends T{constructor(De,Mt,Ln){super(De,Mt),this._compositionMode=Ln,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ce(){const it=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(it.toLowerCase())}())}writeValue(De){this.setProperty("value",null==De?"":De)}_handleInput(De){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(De)}_compositionStart(){this._composing=!0}_compositionEnd(De){this._composing=!1,this._compositionMode&&this.onChange(De)}}return it.\u0275fac=function(De){return new(De||it)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36($,8))},it.\u0275dir=e.lG2({type:it,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(De,Mt){1&De&&e.NdJ("input",function(mi){return Mt._handleInput(mi.target.value)})("blur",function(){return Mt.onTouched()})("compositionstart",function(){return Mt._compositionStart()})("compositionend",function(mi){return Mt._compositionEnd(mi.target.value)})},features:[e._Bn([B]),e.qOj]}),it})();function O(it){return null==it||("string"==typeof it||Array.isArray(it))&&0===it.length}function K(it){return null!=it&&"number"==typeof it.length}const ue=new e.OlP("NgValidators"),q=new e.OlP("NgAsyncValidators"),G=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ne{static min(Ue){return function Ce(it){return Ue=>{if(O(Ue.value)||O(it))return null;const De=parseFloat(Ue.value);return!isNaN(De)&&De<it?{min:{min:it,actual:Ue.value}}:null}}(Ue)}static max(Ue){return function oe(it){return Ue=>{if(O(Ue.value)||O(it))return null;const De=parseFloat(Ue.value);return!isNaN(De)&&De>it?{max:{max:it,actual:Ue.value}}:null}}(Ue)}static required(Ue){return function z(it){return O(it.value)?{required:!0}:null}(Ue)}static requiredTrue(Ue){return function te(it){return!0===it.value?null:{required:!0}}(Ue)}static email(Ue){return function W(it){return O(it.value)||G.test(it.value)?null:{email:!0}}(Ue)}static minLength(Ue){return function Y(it){return Ue=>O(Ue.value)||!K(Ue.value)?null:Ue.value.length<it?{minlength:{requiredLength:it,actualLength:Ue.value.length}}:null}(Ue)}static maxLength(Ue){return Ae(Ue)}static pattern(Ue){return function Ee(it){if(!it)return qe;let Ue,De;return"string"==typeof it?(De="","^"!==it.charAt(0)&&(De+="^"),De+=it,"$"!==it.charAt(it.length-1)&&(De+="$"),Ue=new RegExp(De)):(De=it.toString(),Ue=it),Mt=>{if(O(Mt.value))return null;const Ln=Mt.value;return Ue.test(Ln)?null:{pattern:{requiredPattern:De,actualValue:Ln}}}}(Ue)}static nullValidator(Ue){return null}static compose(Ue){return ct(Ue)}static composeAsync(Ue){return et(Ue)}}function Ae(it){return Ue=>K(Ue.value)&&Ue.value.length>it?{maxlength:{requiredLength:it,actualLength:Ue.value.length}}:null}function qe(it){return null}function ye(it){return null!=it}function Ge(it){return(0,e.QGY)(it)?(0,u.D)(it):it}function X(it){let Ue={};return it.forEach(De=>{Ue=null!=De?Object.assign(Object.assign({},Ue),De):Ue}),0===Object.keys(Ue).length?null:Ue}function be(it,Ue){return Ue.map(De=>De(it))}function Ie(it){return it.map(Ue=>function we(it){return!it.validate}(Ue)?Ue:De=>Ue.validate(De))}function ct(it){if(!it)return null;const Ue=it.filter(ye);return 0==Ue.length?null:function(De){return X(be(De,Ue))}}function dt(it){return null!=it?ct(Ie(it)):null}function et(it){if(!it)return null;const Ue=it.filter(ye);return 0==Ue.length?null:function(De){return function Q(...it){const Ue=(0,x.jO)(it),{args:De,keys:Mt}=(0,_.D)(it),Ln=new f.y(mi=>{const{length:Gi}=De;if(!Gi)return void mi.complete();const _o=new Array(Gi);let Lo=Gi,gs=Gi;for(let $s=0;$s<Gi;$s++){let pr=!1;(0,P.Xf)(De[$s]).subscribe(new r.Q(mi,Dr=>{pr||(pr=!0,gs--),_o[$s]=Dr},()=>Lo--,void 0,()=>{(!Lo||!pr)&&(gs||mi.next(Mt?(0,L.n)(Mt,_o):_o),mi.complete())}))}});return Ue?Ln.pipe((0,R.Z)(Ue)):Ln}(be(De,Ue).map(Ge)).pipe((0,N.U)(X))}}function vt(it){return null!=it?et(Ie(it)):null}function ht(it,Ue){return null===it?[Ue]:Array.isArray(it)?[...it,Ue]:[it,Ue]}function Rt(it){return it._rawValidators}function Nt(it){return it._rawAsyncValidators}function At(it){return it?Array.isArray(it)?it:[it]:[]}function st(it,Ue){return Array.isArray(it)?it.includes(Ue):it===Ue}function ot(it,Ue){const De=At(Ue);return At(it).forEach(Ln=>{st(De,Ln)||De.push(Ln)}),De}function ge(it,Ue){return At(Ue).filter(De=>!st(it,De))}class ke{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ue){this._rawValidators=Ue||[],this._composedValidatorFn=dt(this._rawValidators)}_setAsyncValidators(Ue){this._rawAsyncValidators=Ue||[],this._composedAsyncValidatorFn=vt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ue){this._onDestroyCallbacks.push(Ue)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ue=>Ue()),this._onDestroyCallbacks=[]}reset(Ue){this.control&&this.control.reset(Ue)}hasError(Ue,De){return!!this.control&&this.control.hasError(Ue,De)}getError(Ue,De){return this.control?this.control.getError(Ue,De):null}}class rt extends ke{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yt extends ke{get formDirective(){return null}get path(){return null}}class Pt{constructor(Ue){this._cd=Ue}get isTouched(){var Ue,De;return!(null===(De=null===(Ue=this._cd)||void 0===Ue?void 0:Ue.control)||void 0===De||!De.touched)}get isUntouched(){var Ue,De;return!(null===(De=null===(Ue=this._cd)||void 0===Ue?void 0:Ue.control)||void 0===De||!De.untouched)}get isPristine(){var Ue,De;return!(null===(De=null===(Ue=this._cd)||void 0===Ue?void 0:Ue.control)||void 0===De||!De.pristine)}get isDirty(){var Ue,De;return!(null===(De=null===(Ue=this._cd)||void 0===Ue?void 0:Ue.control)||void 0===De||!De.dirty)}get isValid(){var Ue,De;return!(null===(De=null===(Ue=this._cd)||void 0===Ue?void 0:Ue.control)||void 0===De||!De.valid)}get isInvalid(){var Ue,De;return!(null===(De=null===(Ue=this._cd)||void 0===Ue?void 0:Ue.control)||void 0===De||!De.invalid)}get isPending(){var Ue,De;return!(null===(De=null===(Ue=this._cd)||void 0===Ue?void 0:Ue.control)||void 0===De||!De.pending)}get isSubmitted(){var Ue;return!(null===(Ue=this._cd)||void 0===Ue||!Ue.submitted)}}let Ye=(()=>{class it extends Pt{constructor(De){super(De)}}return it.\u0275fac=function(De){return new(De||it)(e.Y36(rt,2))},it.\u0275dir=e.lG2({type:it,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(De,Mt){2&De&&e.ekj("ng-untouched",Mt.isUntouched)("ng-touched",Mt.isTouched)("ng-pristine",Mt.isPristine)("ng-dirty",Mt.isDirty)("ng-valid",Mt.isValid)("ng-invalid",Mt.isInvalid)("ng-pending",Mt.isPending)},features:[e.qOj]}),it})(),lt=(()=>{class it extends Pt{constructor(De){super(De)}}return it.\u0275fac=function(De){return new(De||it)(e.Y36(yt,10))},it.\u0275dir=e.lG2({type:it,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(De,Mt){2&De&&e.ekj("ng-untouched",Mt.isUntouched)("ng-touched",Mt.isTouched)("ng-pristine",Mt.isPristine)("ng-dirty",Mt.isDirty)("ng-valid",Mt.isValid)("ng-invalid",Mt.isInvalid)("ng-pending",Mt.isPending)("ng-submitted",Mt.isSubmitted)},features:[e.qOj]}),it})();const Gt="VALID",Mn="INVALID",Ut="PENDING",rn="DISABLED";function Bn(it){return(Ji(it)?it.validators:it)||null}function Vn(it){return Array.isArray(it)?dt(it):it||null}function ai(it,Ue){return(Ji(Ue)?Ue.asyncValidators:it)||null}function vi(it){return Array.isArray(it)?vt(it):it||null}function Ji(it){return null!=it&&!Array.isArray(it)&&"object"==typeof it}function Qi(it,Ue,De){const Mt=it.controls;if(!(Ue?Object.keys(Mt):Mt).length)throw new e.vHH(1e3,"");if(!Mt[De])throw new e.vHH(1001,"")}function Vo(it,Ue,De){it._forEachChild((Mt,Ln)=>{if(void 0===De[Ln])throw new e.vHH(1002,"")})}class zt{constructor(Ue,De){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Ue,this._rawAsyncValidators=De,this._composedValidatorFn=Vn(this._rawValidators),this._composedAsyncValidatorFn=vi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Ue){this._rawValidators=this._composedValidatorFn=Ue}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ue){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ue}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===Mn}get pending(){return this.status==Ut}get disabled(){return this.status===rn}get enabled(){return this.status!==rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ue){this._rawValidators=Ue,this._composedValidatorFn=Vn(Ue)}setAsyncValidators(Ue){this._rawAsyncValidators=Ue,this._composedAsyncValidatorFn=vi(Ue)}addValidators(Ue){this.setValidators(ot(Ue,this._rawValidators))}addAsyncValidators(Ue){this.setAsyncValidators(ot(Ue,this._rawAsyncValidators))}removeValidators(Ue){this.setValidators(ge(Ue,this._rawValidators))}removeAsyncValidators(Ue){this.setAsyncValidators(ge(Ue,this._rawAsyncValidators))}hasValidator(Ue){return st(this._rawValidators,Ue)}hasAsyncValidator(Ue){return st(this._rawAsyncValidators,Ue)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ue={}){this.touched=!0,this._parent&&!Ue.onlySelf&&this._parent.markAsTouched(Ue)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ue=>Ue.markAllAsTouched())}markAsUntouched(Ue={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(De=>{De.markAsUntouched({onlySelf:!0})}),this._parent&&!Ue.onlySelf&&this._parent._updateTouched(Ue)}markAsDirty(Ue={}){this.pristine=!1,this._parent&&!Ue.onlySelf&&this._parent.markAsDirty(Ue)}markAsPristine(Ue={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(De=>{De.markAsPristine({onlySelf:!0})}),this._parent&&!Ue.onlySelf&&this._parent._updatePristine(Ue)}markAsPending(Ue={}){this.status=Ut,!1!==Ue.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ue.onlySelf&&this._parent.markAsPending(Ue)}disable(Ue={}){const De=this._parentMarkedDirty(Ue.onlySelf);this.status=rn,this.errors=null,this._forEachChild(Mt=>{Mt.disable(Object.assign(Object.assign({},Ue),{onlySelf:!0}))}),this._updateValue(),!1!==Ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},Ue),{skipPristineCheck:De})),this._onDisabledChange.forEach(Mt=>Mt(!0))}enable(Ue={}){const De=this._parentMarkedDirty(Ue.onlySelf);this.status=Gt,this._forEachChild(Mt=>{Mt.enable(Object.assign(Object.assign({},Ue),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ue.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},Ue),{skipPristineCheck:De})),this._onDisabledChange.forEach(Mt=>Mt(!1))}_updateAncestors(Ue){this._parent&&!Ue.onlySelf&&(this._parent.updateValueAndValidity(Ue),Ue.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ue){this._parent=Ue}getRawValue(){return this.value}updateValueAndValidity(Ue={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===Ut)&&this._runAsyncValidator(Ue.emitEvent)),!1!==Ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ue.onlySelf&&this._parent.updateValueAndValidity(Ue)}_updateTreeValidity(Ue={emitEvent:!0}){this._forEachChild(De=>De._updateTreeValidity(Ue)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ue.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rn:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ue){if(this.asyncValidator){this.status=Ut,this._hasOwnPendingAsyncValidator=!0;const De=Ge(this.asyncValidator(this));this._asyncValidationSubscription=De.subscribe(Mt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Mt,{emitEvent:Ue})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ue,De={}){this.errors=Ue,this._updateControlsErrors(!1!==De.emitEvent)}get(Ue){let De=Ue;return null==De||(Array.isArray(De)||(De=De.split(".")),0===De.length)?null:De.reduce((Mt,Ln)=>Mt&&Mt._find(Ln),this)}getError(Ue,De){const Mt=De?this.get(De):this;return Mt&&Mt.errors?Mt.errors[Ue]:null}hasError(Ue,De){return!!this.getError(Ue,De)}get root(){let Ue=this;for(;Ue._parent;)Ue=Ue._parent;return Ue}_updateControlsErrors(Ue){this.status=this._calculateStatus(),Ue&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ue)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?rn:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ut)?Ut:this._anyControlsHaveStatus(Mn)?Mn:Gt}_anyControlsHaveStatus(Ue){return this._anyControls(De=>De.status===Ue)}_anyControlsDirty(){return this._anyControls(Ue=>Ue.dirty)}_anyControlsTouched(){return this._anyControls(Ue=>Ue.touched)}_updatePristine(Ue={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ue.onlySelf&&this._parent._updatePristine(Ue)}_updateTouched(Ue={}){this.touched=this._anyControlsTouched(),this._parent&&!Ue.onlySelf&&this._parent._updateTouched(Ue)}_registerOnCollectionChange(Ue){this._onCollectionChange=Ue}_setUpdateStrategy(Ue){Ji(Ue)&&null!=Ue.updateOn&&(this._updateOn=Ue.updateOn)}_parentMarkedDirty(Ue){return!Ue&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ue){return null}}class Je extends zt{constructor(Ue,De,Mt){super(Bn(De),ai(Mt,De)),this.controls=Ue,this._initObservables(),this._setUpdateStrategy(De),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ue,De){return this.controls[Ue]?this.controls[Ue]:(this.controls[Ue]=De,De.setParent(this),De._registerOnCollectionChange(this._onCollectionChange),De)}addControl(Ue,De,Mt={}){this.registerControl(Ue,De),this.updateValueAndValidity({emitEvent:Mt.emitEvent}),this._onCollectionChange()}removeControl(Ue,De={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),delete this.controls[Ue],this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}setControl(Ue,De,Mt={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),delete this.controls[Ue],De&&this.registerControl(Ue,De),this.updateValueAndValidity({emitEvent:Mt.emitEvent}),this._onCollectionChange()}contains(Ue){return this.controls.hasOwnProperty(Ue)&&this.controls[Ue].enabled}setValue(Ue,De={}){Vo(this,0,Ue),Object.keys(Ue).forEach(Mt=>{Qi(this,!0,Mt),this.controls[Mt].setValue(Ue[Mt],{onlySelf:!0,emitEvent:De.emitEvent})}),this.updateValueAndValidity(De)}patchValue(Ue,De={}){null!=Ue&&(Object.keys(Ue).forEach(Mt=>{const Ln=this.controls[Mt];Ln&&Ln.patchValue(Ue[Mt],{onlySelf:!0,emitEvent:De.emitEvent})}),this.updateValueAndValidity(De))}reset(Ue={},De={}){this._forEachChild((Mt,Ln)=>{Mt.reset(Ue[Ln],{onlySelf:!0,emitEvent:De.emitEvent})}),this._updatePristine(De),this._updateTouched(De),this.updateValueAndValidity(De)}getRawValue(){return this._reduceChildren({},(Ue,De,Mt)=>(Ue[Mt]=De.getRawValue(),Ue))}_syncPendingControls(){let Ue=this._reduceChildren(!1,(De,Mt)=>!!Mt._syncPendingControls()||De);return Ue&&this.updateValueAndValidity({onlySelf:!0}),Ue}_forEachChild(Ue){Object.keys(this.controls).forEach(De=>{const Mt=this.controls[De];Mt&&Ue(Mt,De)})}_setUpControls(){this._forEachChild(Ue=>{Ue.setParent(this),Ue._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ue){for(const[De,Mt]of Object.entries(this.controls))if(this.contains(De)&&Ue(Mt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(De,Mt,Ln)=>((Mt.enabled||this.disabled)&&(De[Ln]=Mt.value),De))}_reduceChildren(Ue,De){let Mt=Ue;return this._forEachChild((Ln,mi)=>{Mt=De(Mt,Ln,mi)}),Mt}_allControlsDisabled(){for(const Ue of Object.keys(this.controls))if(this.controls[Ue].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ue){return this.controls.hasOwnProperty(Ue)?this.controls[Ue]:null}}function xn(it,Ue){return[...Ue.path,it]}function Zt(it,Ue){var De,Mt;si(it,Ue),Ue.valueAccessor.writeValue(it.value),it.disabled&&(null===(Mt=(De=Ue.valueAccessor).setDisabledState)||void 0===Mt||Mt.call(De,!0)),function ii(it,Ue){Ue.valueAccessor.registerOnChange(De=>{it._pendingValue=De,it._pendingChange=!0,it._pendingDirty=!0,"change"===it.updateOn&&qi(it,Ue)})}(it,Ue),function Oo(it,Ue){const De=(Mt,Ln)=>{Ue.valueAccessor.writeValue(Mt),Ln&&Ue.viewToModelUpdate(Mt)};it.registerOnChange(De),Ue._registerOnDestroy(()=>{it._unregisterOnChange(De)})}(it,Ue),function ki(it,Ue){Ue.valueAccessor.registerOnTouched(()=>{it._pendingTouched=!0,"blur"===it.updateOn&&it._pendingChange&&qi(it,Ue),"submit"!==it.updateOn&&it.markAsTouched()})}(it,Ue),function Wn(it,Ue){if(Ue.valueAccessor.setDisabledState){const De=Mt=>{Ue.valueAccessor.setDisabledState(Mt)};it.registerOnDisabledChange(De),Ue._registerOnDestroy(()=>{it._unregisterOnDisabledChange(De)})}}(it,Ue)}function bn(it,Ue,De=!0){const Mt=()=>{};Ue.valueAccessor&&(Ue.valueAccessor.registerOnChange(Mt),Ue.valueAccessor.registerOnTouched(Mt)),gi(it,Ue),it&&(Ue._invokeOnDestroyCallbacks(),it._registerOnCollectionChange(()=>{}))}function yn(it,Ue){it.forEach(De=>{De.registerOnValidatorChange&&De.registerOnValidatorChange(Ue)})}function si(it,Ue){const De=Rt(it);null!==Ue.validator?it.setValidators(ht(De,Ue.validator)):"function"==typeof De&&it.setValidators([De]);const Mt=Nt(it);null!==Ue.asyncValidator?it.setAsyncValidators(ht(Mt,Ue.asyncValidator)):"function"==typeof Mt&&it.setAsyncValidators([Mt]);const Ln=()=>it.updateValueAndValidity();yn(Ue._rawValidators,Ln),yn(Ue._rawAsyncValidators,Ln)}function gi(it,Ue){let De=!1;if(null!==it){if(null!==Ue.validator){const Ln=Rt(it);if(Array.isArray(Ln)&&Ln.length>0){const mi=Ln.filter(Gi=>Gi!==Ue.validator);mi.length!==Ln.length&&(De=!0,it.setValidators(mi))}}if(null!==Ue.asyncValidator){const Ln=Nt(it);if(Array.isArray(Ln)&&Ln.length>0){const mi=Ln.filter(Gi=>Gi!==Ue.asyncValidator);mi.length!==Ln.length&&(De=!0,it.setAsyncValidators(mi))}}}const Mt=()=>{};return yn(Ue._rawValidators,Mt),yn(Ue._rawAsyncValidators,Mt),De}function qi(it,Ue){it._pendingDirty&&it.markAsDirty(),it.setValue(it._pendingValue,{emitModelToViewChange:!1}),Ue.viewToModelUpdate(it._pendingValue),it._pendingChange=!1}function os(it,Ue){if(!it.hasOwnProperty("model"))return!1;const De=it.model;return!!De.isFirstChange()||!Object.is(Ue,De.currentValue)}function uo(it,Ue){if(!Ue)return null;let De,Mt,Ln;return Array.isArray(Ue),Ue.forEach(mi=>{mi.constructor===V?De=mi:function us(it){return Object.getPrototypeOf(it.constructor)===y}(mi)?Mt=mi:Ln=mi}),Ln||Mt||De||null}function $o(it,Ue){const De=it.indexOf(Ue);De>-1&&it.splice(De,1)}function Us(it){return"object"==typeof it&&null!==it&&2===Object.keys(it).length&&"value"in it&&"disabled"in it}const Ss=class extends zt{constructor(Ue=null,De,Mt){super(Bn(De),ai(Mt,De)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ue),this._setUpdateStrategy(De),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ji(De)&&(De.nonNullable||De.initialValueIsDefault)&&(this.defaultValue=Us(Ue)?Ue.value:Ue)}setValue(Ue,De={}){this.value=this._pendingValue=Ue,this._onChange.length&&!1!==De.emitModelToViewChange&&this._onChange.forEach(Mt=>Mt(this.value,!1!==De.emitViewToModelChange)),this.updateValueAndValidity(De)}patchValue(Ue,De={}){this.setValue(Ue,De)}reset(Ue=this.defaultValue,De={}){this._applyFormState(Ue),this.markAsPristine(De),this.markAsUntouched(De),this.setValue(this.value,De),this._pendingChange=!1}_updateValue(){}_anyControls(Ue){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ue){this._onChange.push(Ue)}_unregisterOnChange(Ue){$o(this._onChange,Ue)}registerOnDisabledChange(Ue){this._onDisabledChange.push(Ue)}_unregisterOnDisabledChange(Ue){$o(this._onDisabledChange,Ue)}_forEachChild(Ue){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ue){Us(Ue)?(this.value=this._pendingValue=Ue.value,Ue.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ue}};let br=(()=>{class it extends yt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return it.\u0275fac=function(){let Ue;return function(Mt){return(Ue||(Ue=e.n5z(it)))(Mt||it)}}(),it.\u0275dir=e.lG2({type:it,features:[e.qOj]}),it})();const Ks={provide:rt,useExisting:(0,e.Gpc)(()=>Fr)},Nr=(()=>Promise.resolve())();let Fr=(()=>{class it extends rt{constructor(De,Mt,Ln,mi,Gi){super(),this._changeDetectorRef=Gi,this.control=new Ss,this._registered=!1,this.update=new e.vpe,this._parent=De,this._setValidators(Mt),this._setAsyncValidators(Ln),this.valueAccessor=uo(0,mi)}ngOnChanges(De){if(this._checkForErrors(),!this._registered||"name"in De){if(this._registered&&(this._checkName(),this.formDirective)){const Mt=De.name.previousValue;this.formDirective.removeControl({name:Mt,path:this._getPath(Mt)})}this._setUpControl()}"isDisabled"in De&&this._updateDisabled(De),os(De,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(De){this.viewModel=De,this.update.emit(De)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(De){Nr.then(()=>{var Mt;this.control.setValue(De,{emitViewToModelChange:!1}),null===(Mt=this._changeDetectorRef)||void 0===Mt||Mt.markForCheck()})}_updateDisabled(De){const Mt=De.isDisabled.currentValue,Ln=0!==Mt&&(0,e.D6c)(Mt);Nr.then(()=>{var mi;Ln&&!this.control.disabled?this.control.disable():!Ln&&this.control.disabled&&this.control.enable(),null===(mi=this._changeDetectorRef)||void 0===mi||mi.markForCheck()})}_getPath(De){return this._parent?xn(De,this._parent):[De]}}return it.\u0275fac=function(De){return new(De||it)(e.Y36(yt,9),e.Y36(ue,10),e.Y36(q,10),e.Y36(E,10),e.Y36(e.sBO,8))},it.\u0275dir=e.lG2({type:it,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([Ks]),e.qOj,e.TTD]}),it})(),Eo=(()=>{class it{}return it.\u0275fac=function(De){return new(De||it)},it.\u0275dir=e.lG2({type:it,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),it})(),As=(()=>{class it{}return it.\u0275fac=function(De){return new(De||it)},it.\u0275mod=e.oAB({type:it}),it.\u0275inj=e.cJS({}),it})();const cr=new e.OlP("NgModelWithFormControlWarning"),Xo={provide:rt,useExisting:(0,e.Gpc)(()=>Tr)};let Tr=(()=>{class it extends rt{constructor(De,Mt,Ln,mi){super(),this._ngModelWarningConfig=mi,this.update=new e.vpe,this._ngModelWarningSent=!1,this._setValidators(De),this._setAsyncValidators(Mt),this.valueAccessor=uo(0,Ln)}set isDisabled(De){}ngOnChanges(De){if(this._isControlChanged(De)){const Mt=De.form.previousValue;Mt&&bn(Mt,this,!1),Zt(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}os(De,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&bn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(De){this.viewModel=De,this.update.emit(De)}_isControlChanged(De){return De.hasOwnProperty("form")}}return it._ngModelWarningSentOnce=!1,it.\u0275fac=function(De){return new(De||it)(e.Y36(ue,10),e.Y36(q,10),e.Y36(E,10),e.Y36(cr,8))},it.\u0275dir=e.lG2({type:it,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e._Bn([Xo]),e.qOj,e.TTD]}),it})();const rs={provide:yt,useExisting:(0,e.Gpc)(()=>go)};let go=(()=>{class it extends yt{constructor(De,Mt){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(De),this._setAsyncValidators(Mt)}ngOnChanges(De){this._checkFormPresent(),De.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(De){const Mt=this.form.get(De.path);return Zt(Mt,De),Mt.updateValueAndValidity({emitEvent:!1}),this.directives.push(De),Mt}getControl(De){return this.form.get(De.path)}removeControl(De){bn(De.control||null,De,!1),function Io(it,Ue){const De=it.indexOf(Ue);De>-1&&it.splice(De,1)}(this.directives,De)}addFormGroup(De){this._setUpFormContainer(De)}removeFormGroup(De){this._cleanUpFormContainer(De)}getFormGroup(De){return this.form.get(De.path)}addFormArray(De){this._setUpFormContainer(De)}removeFormArray(De){this._cleanUpFormContainer(De)}getFormArray(De){return this.form.get(De.path)}updateModel(De,Mt){this.form.get(De.path).setValue(Mt)}onSubmit(De){var Mt;return this.submitted=!0,function _s(it,Ue){it._syncPendingControls(),Ue.forEach(De=>{const Mt=De.control;"submit"===Mt.updateOn&&Mt._pendingChange&&(De.viewToModelUpdate(Mt._pendingValue),Mt._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(De),"dialog"===(null===(Mt=null==De?void 0:De.target)||void 0===Mt?void 0:Mt.method)}onReset(){this.resetForm()}resetForm(De){this.form.reset(De),this.submitted=!1}_updateDomValue(){this.directives.forEach(De=>{const Mt=De.control,Ln=this.form.get(De.path);Mt!==Ln&&(bn(Mt||null,De),(it=>it instanceof Ss)(Ln)&&(Zt(Ln,De),De.control=Ln))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(De){const Mt=this.form.get(De.path);(function li(it,Ue){si(it,Ue)})(Mt,De),Mt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(De){if(this.form){const Mt=this.form.get(De.path);Mt&&function ho(it,Ue){return gi(it,Ue)}(Mt,De)&&Mt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){si(this.form,this),this._oldForm&&gi(this._oldForm,this)}_checkFormPresent(){}}return it.\u0275fac=function(De){return new(De||it)(e.Y36(ue,10),e.Y36(q,10))},it.\u0275dir=e.lG2({type:it,selectors:[["","formGroup",""]],hostBindings:function(De,Mt){1&De&&e.NdJ("submit",function(mi){return Mt.onSubmit(mi)})("reset",function(){return Mt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([rs]),e.qOj,e.TTD]}),it})();const ys={provide:yt,useExisting:(0,e.Gpc)(()=>xs)};let xs=(()=>{class it extends br{constructor(De,Mt,Ln){super(),this._parent=De,this._setValidators(Mt),this._setAsyncValidators(Ln)}_checkParentType(){Ar(this._parent)}}return it.\u0275fac=function(De){return new(De||it)(e.Y36(yt,13),e.Y36(ue,10),e.Y36(q,10))},it.\u0275dir=e.lG2({type:it,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e._Bn([ys]),e.qOj]}),it})();const ws={provide:yt,useExisting:(0,e.Gpc)(()=>Vs)};let Vs=(()=>{class it extends yt{constructor(De,Mt,Ln){super(),this._parent=De,this._setValidators(Mt),this._setAsyncValidators(Ln)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ar(this._parent)}}return it.\u0275fac=function(De){return new(De||it)(e.Y36(yt,13),e.Y36(ue,10),e.Y36(q,10))},it.\u0275dir=e.lG2({type:it,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e._Bn([ws]),e.qOj]}),it})();function Ar(it){return!(it instanceof xs||it instanceof go||it instanceof Vs)}const wr={provide:rt,useExisting:(0,e.Gpc)(()=>Br)};let Br=(()=>{class it extends rt{constructor(De,Mt,Ln,mi,Gi){super(),this._ngModelWarningConfig=Gi,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=De,this._setValidators(Mt),this._setAsyncValidators(Ln),this.valueAccessor=uo(0,mi)}set isDisabled(De){}ngOnChanges(De){this._added||this._setUpControl(),os(De,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(De){this.viewModel=De,this.update.emit(De)}get path(){return xn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return it._ngModelWarningSentOnce=!1,it.\u0275fac=function(De){return new(De||it)(e.Y36(yt,13),e.Y36(ue,10),e.Y36(q,10),e.Y36(E,10),e.Y36(cr,8))},it.\u0275dir=e.lG2({type:it,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([wr]),e.qOj,e.TTD]}),it})();let fi=(()=>{class it{constructor(){this._validator=qe}ngOnChanges(De){if(this.inputName in De){const Mt=this.normalizeInput(De[this.inputName].currentValue);this._enabled=this.enabled(Mt),this._validator=this._enabled?this.createValidator(Mt):qe,this._onChange&&this._onChange()}}validate(De){return this._validator(De)}registerOnValidatorChange(De){this._onChange=De}enabled(De){return null!=De}}return it.\u0275fac=function(De){return new(De||it)},it.\u0275dir=e.lG2({type:it,features:[e.TTD]}),it})();const Zr={provide:ue,useExisting:(0,e.Gpc)(()=>Po),multi:!0};let Po=(()=>{class it extends fi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=De=>function Pn(it){return"number"==typeof it?it:parseInt(it,10)}(De),this.createValidator=De=>Ae(De)}}return it.\u0275fac=function(){let Ue;return function(Mt){return(Ue||(Ue=e.n5z(it)))(Mt||it)}}(),it.\u0275dir=e.lG2({type:it,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(De,Mt){2&De&&e.uIk("maxlength",Mt._enabled?Mt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([Zr]),e.qOj]}),it})(),Ri=(()=>{class it{}return it.\u0275fac=function(De){return new(De||it)},it.\u0275mod=e.oAB({type:it}),it.\u0275inj=e.cJS({imports:[As]}),it})(),zs=(()=>{class it{}return it.\u0275fac=function(De){return new(De||it)},it.\u0275mod=e.oAB({type:it}),it.\u0275inj=e.cJS({imports:[Ri]}),it})(),Yr=(()=>{class it{static withConfig(De){return{ngModule:it,providers:[{provide:cr,useValue:De.warnOnNgModelWithFormControl}]}}}return it.\u0275fac=function(De){return new(De||it)},it.\u0275mod=e.oAB({type:it}),it.\u0275inj=e.cJS({imports:[Ri]}),it})();class eo extends zt{constructor(Ue,De,Mt){super(Bn(De),ai(Mt,De)),this.controls=Ue,this._initObservables(),this._setUpdateStrategy(De),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ue){return this.controls[this._adjustIndex(Ue)]}push(Ue,De={}){this.controls.push(Ue),this._registerControl(Ue),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}insert(Ue,De,Mt={}){this.controls.splice(Ue,0,De),this._registerControl(De),this.updateValueAndValidity({emitEvent:Mt.emitEvent})}removeAt(Ue,De={}){let Mt=this._adjustIndex(Ue);Mt<0&&(Mt=0),this.controls[Mt]&&this.controls[Mt]._registerOnCollectionChange(()=>{}),this.controls.splice(Mt,1),this.updateValueAndValidity({emitEvent:De.emitEvent})}setControl(Ue,De,Mt={}){let Ln=this._adjustIndex(Ue);Ln<0&&(Ln=0),this.controls[Ln]&&this.controls[Ln]._registerOnCollectionChange(()=>{}),this.controls.splice(Ln,1),De&&(this.controls.splice(Ln,0,De),this._registerControl(De)),this.updateValueAndValidity({emitEvent:Mt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ue,De={}){Vo(this,0,Ue),Ue.forEach((Mt,Ln)=>{Qi(this,!1,Ln),this.at(Ln).setValue(Mt,{onlySelf:!0,emitEvent:De.emitEvent})}),this.updateValueAndValidity(De)}patchValue(Ue,De={}){null!=Ue&&(Ue.forEach((Mt,Ln)=>{this.at(Ln)&&this.at(Ln).patchValue(Mt,{onlySelf:!0,emitEvent:De.emitEvent})}),this.updateValueAndValidity(De))}reset(Ue=[],De={}){this._forEachChild((Mt,Ln)=>{Mt.reset(Ue[Ln],{onlySelf:!0,emitEvent:De.emitEvent})}),this._updatePristine(De),this._updateTouched(De),this.updateValueAndValidity(De)}getRawValue(){return this.controls.map(Ue=>Ue.getRawValue())}clear(Ue={}){this.controls.length<1||(this._forEachChild(De=>De._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ue.emitEvent}))}_adjustIndex(Ue){return Ue<0?Ue+this.length:Ue}_syncPendingControls(){let Ue=this.controls.reduce((De,Mt)=>!!Mt._syncPendingControls()||De,!1);return Ue&&this.updateValueAndValidity({onlySelf:!0}),Ue}_forEachChild(Ue){this.controls.forEach((De,Mt)=>{Ue(De,Mt)})}_updateValue(){this.value=this.controls.filter(Ue=>Ue.enabled||this.disabled).map(Ue=>Ue.value)}_anyControls(Ue){return this.controls.some(De=>De.enabled&&Ue(De))}_setUpControls(){this._forEachChild(Ue=>this._registerControl(Ue))}_allControlsDisabled(){for(const Ue of this.controls)if(Ue.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ue){Ue.setParent(this),Ue._registerOnCollectionChange(this._onCollectionChange)}_find(Ue){var De;return null!==(De=this.at(Ue))&&void 0!==De?De:null}}},2313:(hn,ft,b)=>{"use strict";b.d(ft,{Dx:()=>Ye,H7:()=>vi,b2:()=>rt,q6:()=>st,se:()=>z});var e=b(9808),d=b(5e3);class u extends e.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f extends u{static makeCurrent(){(0,e.HT)(new f)}onAndCancel(Je,xe,He){return Je.addEventListener(xe,He,!1),()=>{Je.removeEventListener(xe,He,!1)}}dispatchEvent(Je,xe){Je.dispatchEvent(xe)}remove(Je){Je.parentNode&&Je.parentNode.removeChild(Je)}createElement(Je,xe){return(xe=xe||this.getDefaultDocument()).createElement(Je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Je){return Je.nodeType===Node.ELEMENT_NODE}isShadowRoot(Je){return Je instanceof DocumentFragment}getGlobalEventTarget(Je,xe){return"window"===xe?window:"document"===xe?Je:"body"===xe?Je.body:null}getBaseHref(Je){const xe=function P(){return _=_||document.querySelector("base"),_?_.getAttribute("href"):null}();return null==xe?null:function r(zt){x=x||document.createElement("a"),x.setAttribute("href",zt);const Je=x.pathname;return"/"===Je.charAt(0)?Je:`/${Je}`}(xe)}resetBaseElement(){_=null}getUserAgent(){return window.navigator.userAgent}getCookie(Je){return(0,e.Mx)(document.cookie,Je)}}let x,_=null;const R=new d.OlP("TRANSITION_ID"),Q=[{provide:d.ip1,useFactory:function L(zt,Je,xe){return()=>{xe.get(d.CZH).donePromise.then(()=>{const He=(0,e.q)(),pt=Je.querySelectorAll(`style[ng-transition="${zt}"]`);for(let dn=0;dn<pt.length;dn++)He.remove(pt[dn])})}},deps:[R,e.K0,d.zs3],multi:!0}];let T=(()=>{class zt{build(){return new XMLHttpRequest}}return zt.\u0275fac=function(xe){return new(xe||zt)},zt.\u0275prov=d.Yz7({token:zt,factory:zt.\u0275fac}),zt})();const y=new d.OlP("EventManagerPlugins");let E=(()=>{class zt{constructor(xe,He){this._zone=He,this._eventNameToPlugin=new Map,xe.forEach(pt=>pt.manager=this),this._plugins=xe.slice().reverse()}addEventListener(xe,He,pt){return this._findPluginFor(He).addEventListener(xe,He,pt)}addGlobalEventListener(xe,He,pt){return this._findPluginFor(He).addGlobalEventListener(xe,He,pt)}getZone(){return this._zone}_findPluginFor(xe){const He=this._eventNameToPlugin.get(xe);if(He)return He;const pt=this._plugins;for(let dn=0;dn<pt.length;dn++){const xn=pt[dn];if(xn.supports(xe))return this._eventNameToPlugin.set(xe,xn),xn}throw new Error(`No event manager plugin found for event ${xe}`)}}return zt.\u0275fac=function(xe){return new(xe||zt)(d.LFG(y),d.LFG(d.R0b))},zt.\u0275prov=d.Yz7({token:zt,factory:zt.\u0275fac}),zt})();class D{constructor(Je){this._doc=Je}addGlobalEventListener(Je,xe,He){const pt=(0,e.q)().getGlobalEventTarget(this._doc,Je);if(!pt)throw new Error(`Unsupported event target ${pt} for event ${xe}`);return this.addEventListener(pt,xe,He)}}let U=(()=>{class zt{constructor(){this._stylesSet=new Set}addStyles(xe){const He=new Set;xe.forEach(pt=>{this._stylesSet.has(pt)||(this._stylesSet.add(pt),He.add(pt))}),this.onStylesAdded(He)}onStylesAdded(xe){}getAllStyles(){return Array.from(this._stylesSet)}}return zt.\u0275fac=function(xe){return new(xe||zt)},zt.\u0275prov=d.Yz7({token:zt,factory:zt.\u0275fac}),zt})(),B=(()=>{class zt extends U{constructor(xe){super(),this._doc=xe,this._hostNodes=new Map,this._hostNodes.set(xe.head,[])}_addStylesToHost(xe,He,pt){xe.forEach(dn=>{const xn=this._doc.createElement("style");xn.textContent=dn,pt.push(He.appendChild(xn))})}addHost(xe){const He=[];this._addStylesToHost(this._stylesSet,xe,He),this._hostNodes.set(xe,He)}removeHost(xe){const He=this._hostNodes.get(xe);He&&He.forEach(ce),this._hostNodes.delete(xe)}onStylesAdded(xe){this._hostNodes.forEach((He,pt)=>{this._addStylesToHost(xe,pt,He)})}ngOnDestroy(){this._hostNodes.forEach(xe=>xe.forEach(ce))}}return zt.\u0275fac=function(xe){return new(xe||zt)(d.LFG(e.K0))},zt.\u0275prov=d.Yz7({token:zt,factory:zt.\u0275fac}),zt})();function ce(zt){(0,e.q)().remove(zt)}const $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},V=/%COMP%/g,O="%COMP%",K=`_nghost-${O}`,ue=`_ngcontent-${O}`;function ne(zt,Je,xe){for(let He=0;He<Je.length;He++){let pt=Je[He];Array.isArray(pt)?ne(zt,pt,xe):(pt=pt.replace(V,zt),xe.push(pt))}return xe}function Ce(zt){return Je=>{if("__ngUnwrap__"===Je)return zt;!1===zt(Je)&&(Je.preventDefault(),Je.returnValue=!1)}}let z=(()=>{class zt{constructor(xe,He,pt){this.eventManager=xe,this.sharedStylesHost=He,this.appId=pt,this.rendererByCompId=new Map,this.defaultRenderer=new te(xe)}createRenderer(xe,He){if(!xe||!He)return this.defaultRenderer;switch(He.encapsulation){case d.ifc.Emulated:{let pt=this.rendererByCompId.get(He.id);return pt||(pt=new Ee(this.eventManager,this.sharedStylesHost,He,this.appId),this.rendererByCompId.set(He.id,pt)),pt.applyToHost(xe),pt}case 1:case d.ifc.ShadowDom:return new qe(this.eventManager,this.sharedStylesHost,xe,He);default:if(!this.rendererByCompId.has(He.id)){const pt=ne(He.id,He.styles,[]);this.sharedStylesHost.addStyles(pt),this.rendererByCompId.set(He.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return zt.\u0275fac=function(xe){return new(xe||zt)(d.LFG(E),d.LFG(B),d.LFG(d.AFp))},zt.\u0275prov=d.Yz7({token:zt,factory:zt.\u0275fac}),zt})();class te{constructor(Je){this.eventManager=Je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Je,xe){return xe?document.createElementNS($[xe]||xe,Je):document.createElement(Je)}createComment(Je){return document.createComment(Je)}createText(Je){return document.createTextNode(Je)}appendChild(Je,xe){(Ae(Je)?Je.content:Je).appendChild(xe)}insertBefore(Je,xe,He){Je&&(Ae(Je)?Je.content:Je).insertBefore(xe,He)}removeChild(Je,xe){Je&&Je.removeChild(xe)}selectRootElement(Je,xe){let He="string"==typeof Je?document.querySelector(Je):Je;if(!He)throw new Error(`The selector "${Je}" did not match any elements`);return xe||(He.textContent=""),He}parentNode(Je){return Je.parentNode}nextSibling(Je){return Je.nextSibling}setAttribute(Je,xe,He,pt){if(pt){xe=pt+":"+xe;const dn=$[pt];dn?Je.setAttributeNS(dn,xe,He):Je.setAttribute(xe,He)}else Je.setAttribute(xe,He)}removeAttribute(Je,xe,He){if(He){const pt=$[He];pt?Je.removeAttributeNS(pt,xe):Je.removeAttribute(`${He}:${xe}`)}else Je.removeAttribute(xe)}addClass(Je,xe){Je.classList.add(xe)}removeClass(Je,xe){Je.classList.remove(xe)}setStyle(Je,xe,He,pt){pt&(d.JOm.DashCase|d.JOm.Important)?Je.style.setProperty(xe,He,pt&d.JOm.Important?"important":""):Je.style[xe]=He}removeStyle(Je,xe,He){He&d.JOm.DashCase?Je.style.removeProperty(xe):Je.style[xe]=""}setProperty(Je,xe,He){Je[xe]=He}setValue(Je,xe){Je.nodeValue=xe}listen(Je,xe,He){return"string"==typeof Je?this.eventManager.addGlobalEventListener(Je,xe,Ce(He)):this.eventManager.addEventListener(Je,xe,Ce(He))}}function Ae(zt){return"TEMPLATE"===zt.tagName&&void 0!==zt.content}class Ee extends te{constructor(Je,xe,He,pt){super(Je),this.component=He;const dn=ne(pt+"-"+He.id,He.styles,[]);xe.addStyles(dn),this.contentAttr=function q(zt){return ue.replace(V,zt)}(pt+"-"+He.id),this.hostAttr=function G(zt){return K.replace(V,zt)}(pt+"-"+He.id)}applyToHost(Je){super.setAttribute(Je,this.hostAttr,"")}createElement(Je,xe){const He=super.createElement(Je,xe);return super.setAttribute(He,this.contentAttr,""),He}}class qe extends te{constructor(Je,xe,He,pt){super(Je),this.sharedStylesHost=xe,this.hostEl=He,this.shadowRoot=He.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dn=ne(pt.id,pt.styles,[]);for(let xn=0;xn<dn.length;xn++){const Zt=document.createElement("style");Zt.textContent=dn[xn],this.shadowRoot.appendChild(Zt)}}nodeOrShadowRoot(Je){return Je===this.hostEl?this.shadowRoot:Je}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Je,xe){return super.appendChild(this.nodeOrShadowRoot(Je),xe)}insertBefore(Je,xe,He){return super.insertBefore(this.nodeOrShadowRoot(Je),xe,He)}removeChild(Je,xe){return super.removeChild(this.nodeOrShadowRoot(Je),xe)}parentNode(Je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Je)))}}let ye=(()=>{class zt extends D{constructor(xe){super(xe)}supports(xe){return!0}addEventListener(xe,He,pt){return xe.addEventListener(He,pt,!1),()=>this.removeEventListener(xe,He,pt)}removeEventListener(xe,He,pt){return xe.removeEventListener(He,pt)}}return zt.\u0275fac=function(xe){return new(xe||zt)(d.LFG(e.K0))},zt.\u0275prov=d.Yz7({token:zt,factory:zt.\u0275fac}),zt})();const Ge=["alt","control","meta","shift"],X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={alt:zt=>zt.altKey,control:zt=>zt.ctrlKey,meta:zt=>zt.metaKey,shift:zt=>zt.shiftKey};let we=(()=>{class zt extends D{constructor(xe){super(xe)}supports(xe){return null!=zt.parseEventName(xe)}addEventListener(xe,He,pt){const dn=zt.parseEventName(He),xn=zt.eventCallback(dn.fullKey,pt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.q)().onAndCancel(xe,dn.domEventName,xn))}static parseEventName(xe){const He=xe.toLowerCase().split("."),pt=He.shift();if(0===He.length||"keydown"!==pt&&"keyup"!==pt)return null;const dn=zt._normalizeKey(He.pop());let xn="",Zt=He.indexOf("code");if(Zt>-1&&(He.splice(Zt,1),xn="code."),Ge.forEach(yn=>{const Wn=He.indexOf(yn);Wn>-1&&(He.splice(Wn,1),xn+=yn+".")}),xn+=dn,0!=He.length||0===dn.length)return null;const bn={};return bn.domEventName=pt,bn.fullKey=xn,bn}static matchEventFullKeyCode(xe,He){let pt=X[xe.key]||xe.key,dn="";return He.indexOf("code.")>-1&&(pt=xe.code,dn="code."),!(null==pt||!pt)&&(pt=pt.toLowerCase()," "===pt?pt="space":"."===pt&&(pt="dot"),Ge.forEach(xn=>{xn!==pt&&(0,be[xn])(xe)&&(dn+=xn+".")}),dn+=pt,dn===He)}static eventCallback(xe,He,pt){return dn=>{zt.matchEventFullKeyCode(dn,xe)&&pt.runGuarded(()=>He(dn))}}static _normalizeKey(xe){return"esc"===xe?"escape":xe}}return zt.\u0275fac=function(xe){return new(xe||zt)(d.LFG(e.K0))},zt.\u0275prov=d.Yz7({token:zt,factory:zt.\u0275fac}),zt})();const st=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:e.bD},{provide:d.g9A,useValue:function ht(){f.makeCurrent()},multi:!0},{provide:e.K0,useFactory:function Nt(){return(0,d.RDi)(document),document},deps:[]}]),ot=new d.OlP(""),ge=[{provide:d.rWj,useClass:class N{addToWindow(Je){d.dqk.getAngularTestability=(He,pt=!0)=>{const dn=Je.findTestabilityInTree(He,pt);if(null==dn)throw new Error("Could not find testability for element.");return dn},d.dqk.getAllAngularTestabilities=()=>Je.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>Je.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(He=>{const pt=d.dqk.getAllAngularTestabilities();let dn=pt.length,xn=!1;const Zt=function(bn){xn=xn||bn,dn--,0==dn&&He(xn)};pt.forEach(function(bn){bn.whenStable(Zt)})})}findTestabilityInTree(Je,xe,He){if(null==xe)return null;const pt=Je.getTestability(xe);return null!=pt?pt:He?(0,e.q)().isShadowRoot(xe)?this.findTestabilityInTree(Je,xe.host,!0):this.findTestabilityInTree(Je,xe.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ke=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Rt(){return new d.qLn},deps:[]},{provide:y,useClass:ye,multi:!0,deps:[e.K0,d.R0b,d.Lbi]},{provide:y,useClass:we,multi:!0,deps:[e.K0]},{provide:z,useClass:z,deps:[E,B,d.AFp]},{provide:d.FYo,useExisting:z},{provide:U,useExisting:B},{provide:B,useClass:B,deps:[e.K0]},{provide:E,useClass:E,deps:[y,d.R0b]},{provide:e.JF,useClass:T,deps:[]},[]];let rt=(()=>{class zt{constructor(xe){}static withServerTransition(xe){return{ngModule:zt,providers:[{provide:d.AFp,useValue:xe.appId},{provide:R,useExisting:d.AFp},Q]}}}return zt.\u0275fac=function(xe){return new(xe||zt)(d.LFG(ot,12))},zt.\u0275mod=d.oAB({type:zt}),zt.\u0275inj=d.cJS({providers:[...ke,...ge],imports:[e.ez,d.hGG]}),zt})(),Ye=(()=>{class zt{constructor(xe){this._doc=xe}getTitle(){return this._doc.title}setTitle(xe){this._doc.title=xe||""}}return zt.\u0275fac=function(xe){return new(xe||zt)(d.LFG(e.K0))},zt.\u0275prov=d.Yz7({token:zt,factory:function(xe){let He=null;return He=xe?new xe:function Ot(){return new Ye((0,d.LFG)(e.K0))}(),He},providedIn:"root"}),zt})();"undefined"!=typeof window&&window;let vi=(()=>{class zt{}return zt.\u0275fac=function(xe){return new(xe||zt)},zt.\u0275prov=d.Yz7({token:zt,factory:function(xe){let He=null;return He=xe?new(xe||zt):d.LFG(Qi),He},providedIn:"root"}),zt})(),Qi=(()=>{class zt extends vi{constructor(xe){super(),this._doc=xe}sanitize(xe,He){if(null==He)return null;switch(xe){case d.q3G.NONE:return He;case d.q3G.HTML:return(0,d.qzn)(He,"HTML")?(0,d.z3N)(He):(0,d.EiD)(this._doc,String(He)).toString();case d.q3G.STYLE:return(0,d.qzn)(He,"Style")?(0,d.z3N)(He):He;case d.q3G.SCRIPT:if((0,d.qzn)(He,"Script"))return(0,d.z3N)(He);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(He,"URL")?(0,d.z3N)(He):(0,d.mCW)(String(He));case d.q3G.RESOURCE_URL:if((0,d.qzn)(He,"ResourceURL"))return(0,d.z3N)(He);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${xe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(xe){return(0,d.JVY)(xe)}bypassSecurityTrustStyle(xe){return(0,d.L6k)(xe)}bypassSecurityTrustScript(xe){return(0,d.eBb)(xe)}bypassSecurityTrustUrl(xe){return(0,d.LAX)(xe)}bypassSecurityTrustResourceUrl(xe){return(0,d.pB0)(xe)}}return zt.\u0275fac=function(xe){return new(xe||zt)(d.LFG(e.K0))},zt.\u0275prov=d.Yz7({token:zt,factory:function(xe){let He=null;return He=xe?new xe:function Ji(zt){return new Qi(zt.get(e.K0))}(d.LFG(d.zs3)),He},providedIn:"root"}),zt})()},3470:(hn,ft,b)=>{"use strict";b.d(ft,{gz:()=>$i,F0:()=>Ro,rH:()=>Ao,Od:()=>sl,yS:()=>ea,Bz:()=>Al,lC:()=>pn,Xs:()=>Ks,lo:()=>Fe,fw:()=>It});var e=b(5e3),d=b(2076),u=b(9646),f=b(1135),_=b(6805),P=b(9841),x=b(7272),r=b(9770),R=b(9635),L=b(2843),Q=b(9751),N=b(515),T=b(727),y=b(4482),E=b(5403);function D(){return(0,y.e)((me,ve)=>{let le=null;me._refCount++;const Me=new E.Q(ve,void 0,void 0,void 0,()=>{if(!me||me._refCount<=0||0<--me._refCount)return void(le=null);const tt=me._connection,St=le;le=null,tt&&(!St||tt===St)&&tt.unsubscribe(),ve.unsubscribe()});me.subscribe(Me),Me.closed||(le=me.connect())})}class U extends Q.y{constructor(ve,le){super(),this.source=ve,this.subjectFactory=le,this._subject=null,this._refCount=0,this._connection=null,(0,y.A)(ve)&&(this.lift=ve.lift)}_subscribe(ve){return this.getSubject().subscribe(ve)}getSubject(){const ve=this._subject;return(!ve||ve.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ve}=this;this._subject=this._connection=null,null==ve||ve.unsubscribe()}connect(){let ve=this._connection;if(!ve){ve=this._connection=new T.w0;const le=this.getSubject();ve.add(this.source.subscribe(new E.Q(le,void 0,()=>{this._teardown(),le.complete()},Me=>{this._teardown(),le.error(Me)},()=>this._teardown()))),ve.closed&&(this._connection=null,ve=T.w0.EMPTY)}return ve}refCount(){return D()(this)}}var B=b(7579),ce=b(9808),$=b(4004),V=b(3900),k=b(5698),O=b(8675),K=b(9300),ue=b(5577),q=b(590),G=b(4351),ne=b(8505),Ce=b(262);function oe(me,ve,le,Me,tt){return(St,en)=>{let sn=le,wn=ve,oi=0;St.subscribe(new E.Q(en,bi=>{const pi=oi++;wn=sn?me(wn,bi,pi):(sn=!0,bi),Me&&en.next(wn)},tt&&(()=>{sn&&en.next(wn),en.complete()})))}}function z(me,ve){return(0,y.e)(oe(me,ve,arguments.length>=2,!0))}var te=b(2035),W=b(8068),Y=b(6590),Ae=b(4671);function Ee(me,ve){const le=arguments.length>=2;return Me=>Me.pipe(me?(0,K.h)((tt,St)=>me(tt,St,Me)):Ae.y,(0,te.h)(1),le?(0,Y.d)(ve):(0,W.T)(()=>new _.K))}var qe=b(2529),ye=b(9718),Ge=b(8746),X=b(8189),be=b(2313);const we="primary",Ie=Symbol("RouteTitle");class ct{constructor(ve){this.params=ve||{}}has(ve){return Object.prototype.hasOwnProperty.call(this.params,ve)}get(ve){if(this.has(ve)){const le=this.params[ve];return Array.isArray(le)?le[0]:le}return null}getAll(ve){if(this.has(ve)){const le=this.params[ve];return Array.isArray(le)?le:[le]}return[]}get keys(){return Object.keys(this.params)}}function dt(me){return new ct(me)}function et(me,ve,le){const Me=le.path.split("/");if(Me.length>me.length||"full"===le.pathMatch&&(ve.hasChildren()||Me.length<me.length))return null;const tt={};for(let St=0;St<Me.length;St++){const en=Me[St],sn=me[St];if(en.startsWith(":"))tt[en.substring(1)]=sn;else if(en!==sn.path)return null}return{consumed:me.slice(0,Me.length),posParams:tt}}function ht(me,ve){const le=me?Object.keys(me):void 0,Me=ve?Object.keys(ve):void 0;if(!le||!Me||le.length!=Me.length)return!1;let tt;for(let St=0;St<le.length;St++)if(tt=le[St],!Rt(me[tt],ve[tt]))return!1;return!0}function Rt(me,ve){if(Array.isArray(me)&&Array.isArray(ve)){if(me.length!==ve.length)return!1;const le=[...me].sort(),Me=[...ve].sort();return le.every((tt,St)=>Me[St]===tt)}return me===ve}function Nt(me){return Array.prototype.concat.apply([],me)}function At(me){return me.length>0?me[me.length-1]:null}function ot(me,ve){for(const le in me)me.hasOwnProperty(le)&&ve(me[le],le)}function ge(me){return(0,e.CqO)(me)?me:(0,e.QGY)(me)?(0,d.D)(Promise.resolve(me)):(0,u.of)(me)}const yt={exact:function Ye(me,ve,le){if(!Tn(me.segments,ve.segments)||!se(me.segments,ve.segments,le)||me.numberOfChildren!==ve.numberOfChildren)return!1;for(const Me in ve.children)if(!me.children[Me]||!Ye(me.children[Me],ve.children[Me],le))return!1;return!0},subset:Ke},Pt={exact:function Ot(me,ve){return ht(me,ve)},subset:function lt(me,ve){return Object.keys(ve).length<=Object.keys(me).length&&Object.keys(ve).every(le=>Rt(me[le],ve[le]))},ignored:()=>!0};function Ht(me,ve,le){return yt[le.paths](me.root,ve.root,le.matrixParams)&&Pt[le.queryParams](me.queryParams,ve.queryParams)&&!("exact"===le.fragment&&me.fragment!==ve.fragment)}function Ke(me,ve,le){return Tt(me,ve,ve.segments,le)}function Tt(me,ve,le,Me){if(me.segments.length>le.length){const tt=me.segments.slice(0,le.length);return!(!Tn(tt,le)||ve.hasChildren()||!se(tt,le,Me))}if(me.segments.length===le.length){if(!Tn(me.segments,le)||!se(me.segments,le,Me))return!1;for(const tt in ve.children)if(!me.children[tt]||!Ke(me.children[tt],ve.children[tt],Me))return!1;return!0}{const tt=le.slice(0,me.segments.length),St=le.slice(me.segments.length);return!!(Tn(me.segments,tt)&&se(me.segments,tt,Me)&&me.children[we])&&Tt(me.children[we],ve,St,Me)}}function se(me,ve,le){return ve.every((Me,tt)=>Pt[le](me[tt].parameters,Me.parameters))}class Fe{constructor(ve,le,Me){this.root=ve,this.queryParams=le,this.fragment=Me}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dt(this.queryParams)),this._queryParamMap}toString(){return de.serialize(this)}}class he{constructor(ve,le){this.segments=ve,this.children=le,this.parent=null,ot(le,(Me,tt)=>Me.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qe(this)}}class mt{constructor(ve,le){this.path=ve,this.parameters=le}get parameterMap(){return this._parameterMap||(this._parameterMap=dt(this.parameters)),this._parameterMap}toString(){return Ut(this)}}function Tn(me,ve){return me.length===ve.length&&me.every((le,Me)=>le.path===ve[Me].path)}let bt=(()=>{class me{}return me.\u0275fac=function(le){return new(le||me)},me.\u0275prov=e.Yz7({token:me,factory:function(){return new nt},providedIn:"root"}),me})();class nt{parse(ve){const le=new zt(ve);return new Fe(le.parseRootSegment(),le.parseQueryParams(),le.parseFragment())}serialize(ve){const le=`/${ze(ve.root,!0)}`,Me=function Bn(me){const ve=Object.keys(me).map(le=>{const Me=me[le];return Array.isArray(Me)?Me.map(tt=>`${Ze(le)}=${Ze(tt)}`).join("&"):`${Ze(le)}=${Ze(Me)}`}).filter(le=>!!le);return ve.length?`?${ve.join("&")}`:""}(ve.queryParams);return`${le}${Me}${"string"==typeof ve.fragment?`#${function $t(me){return encodeURI(me)}(ve.fragment)}`:""}`}}const de=new nt;function Qe(me){return me.segments.map(ve=>Ut(ve)).join("/")}function ze(me,ve){if(!me.hasChildren())return Qe(me);if(ve){const le=me.children[we]?ze(me.children[we],!1):"",Me=[];return ot(me.children,(tt,St)=>{St!==we&&Me.push(`${St}:${ze(tt,!1)}`)}),Me.length>0?`${le}(${Me.join("//")})`:le}{const le=function tn(me,ve){let le=[];return ot(me.children,(Me,tt)=>{tt===we&&(le=le.concat(ve(Me,tt)))}),ot(me.children,(Me,tt)=>{tt!==we&&(le=le.concat(ve(Me,tt)))}),le}(me,(Me,tt)=>tt===we?[ze(me.children[we],!1)]:[`${tt}:${ze(Me,!1)}`]);return 1===Object.keys(me.children).length&&null!=me.children[we]?`${Qe(me)}/${le[0]}`:`${Qe(me)}/(${le.join("//")})`}}function kt(me){return encodeURIComponent(me).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ze(me){return kt(me).replace(/%3B/gi,";")}function gn(me){return kt(me).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(me){return decodeURIComponent(me)}function Mn(me){return Gt(me.replace(/\+/g,"%20"))}function Ut(me){return`${gn(me.path)}${function rn(me){return Object.keys(me).map(ve=>`;${gn(ve)}=${gn(me[ve])}`).join("")}(me.parameters)}`}const Vn=/^[^\/()?;=#]+/;function ai(me){const ve=me.match(Vn);return ve?ve[0]:""}const vi=/^[^=?&#]+/,Qi=/^[^&#]+/;class zt{constructor(ve){this.url=ve,this.remaining=ve}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const ve={};if(this.consumeOptional("?"))do{this.parseQueryParam(ve)}while(this.consumeOptional("&"));return ve}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ve=[];for(this.peekStartsWith("(")||ve.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ve.push(this.parseSegment());let le={};this.peekStartsWith("/(")&&(this.capture("/"),le=this.parseParens(!0));let Me={};return this.peekStartsWith("(")&&(Me=this.parseParens(!1)),(ve.length>0||Object.keys(le).length>0)&&(Me[we]=new he(ve,le)),Me}parseSegment(){const ve=ai(this.remaining);if(""===ve&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(ve),new mt(Gt(ve),this.parseMatrixParams())}parseMatrixParams(){const ve={};for(;this.consumeOptional(";");)this.parseParam(ve);return ve}parseParam(ve){const le=ai(this.remaining);if(!le)return;this.capture(le);let Me="";if(this.consumeOptional("=")){const tt=ai(this.remaining);tt&&(Me=tt,this.capture(Me))}ve[Gt(le)]=Gt(Me)}parseQueryParam(ve){const le=function Ji(me){const ve=me.match(vi);return ve?ve[0]:""}(this.remaining);if(!le)return;this.capture(le);let Me="";if(this.consumeOptional("=")){const en=function Vo(me){const ve=me.match(Qi);return ve?ve[0]:""}(this.remaining);en&&(Me=en,this.capture(Me))}const tt=Mn(le),St=Mn(Me);if(ve.hasOwnProperty(tt)){let en=ve[tt];Array.isArray(en)||(en=[en],ve[tt]=en),en.push(St)}else ve[tt]=St}parseParens(ve){const le={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Me=ai(this.remaining),tt=this.remaining[Me.length];if("/"!==tt&&")"!==tt&&";"!==tt)throw new e.vHH(4010,!1);let St;Me.indexOf(":")>-1?(St=Me.slice(0,Me.indexOf(":")),this.capture(St),this.capture(":")):ve&&(St=we);const en=this.parseChildren();le[St]=1===Object.keys(en).length?en[we]:new he([],en),this.consumeOptional("//")}return le}peekStartsWith(ve){return this.remaining.startsWith(ve)}consumeOptional(ve){return!!this.peekStartsWith(ve)&&(this.remaining=this.remaining.substring(ve.length),!0)}capture(ve){if(!this.consumeOptional(ve))throw new e.vHH(4011,!1)}}function Je(me){return me.segments.length>0?new he([],{[we]:me}):me}function xe(me){const ve={};for(const Me of Object.keys(me.children)){const St=xe(me.children[Me]);(St.segments.length>0||St.hasChildren())&&(ve[Me]=St)}return function He(me){if(1===me.numberOfChildren&&me.children[we]){const ve=me.children[we];return new he(me.segments.concat(ve.segments),ve.children)}return me}(new he(me.segments,ve))}function pt(me){return me instanceof Fe}function yn(me,ve,le,Me,tt){var St;if(0===le.length)return gi(ve.root,ve.root,ve.root,Me,tt);const sn=function qi(me){if("string"==typeof me[0]&&1===me.length&&"/"===me[0])return new ki(!0,0,me);let ve=0,le=!1;const Me=me.reduce((tt,St,en)=>{if("object"==typeof St&&null!=St){if(St.outlets){const sn={};return ot(St.outlets,(wn,oi)=>{sn[oi]="string"==typeof wn?wn.split("/"):wn}),[...tt,{outlets:sn}]}if(St.segmentPath)return[...tt,St.segmentPath]}return"string"!=typeof St?[...tt,St]:0===en?(St.split("/").forEach((sn,wn)=>{0==wn&&"."===sn||(0==wn&&""===sn?le=!0:".."===sn?ve++:""!=sn&&tt.push(sn))}),tt):[...tt,St]},[]);return new ki(le,ve,Me)}(le);return sn.toRoot()?gi(ve.root,ve.root,new he([],{}),Me,tt):function wn(bi){var pi;const Ki=function ho(me,ve,le,Me){if(me.isAbsolute)return new Oo(ve.root,!0,0);if(-1===Me)return new Oo(le,le===ve.root,0);return function Go(me,ve,le){let Me=me,tt=ve,St=le;for(;St>tt;){if(St-=tt,Me=Me.parent,!Me)throw new e.vHH(4005,!1);tt=Me.segments.length}return new Oo(Me,!1,tt-St)}(le,Me+(Wn(me.commands[0])?0:1),me.numberOfDoubleDots)}(sn,ve,null===(pi=me.snapshot)||void 0===pi?void 0:pi._urlSegment,bi),so=Ki.processChildren?Xi(Ki.segmentGroup,Ki.index,sn.commands):vo(Ki.segmentGroup,Ki.index,sn.commands);return gi(ve.root,Ki.segmentGroup,so,Me,tt)}(null===(St=me.snapshot)||void 0===St?void 0:St._lastPathIndex)}function Wn(me){return"object"==typeof me&&null!=me&&!me.outlets&&!me.segmentPath}function si(me){return"object"==typeof me&&null!=me&&me.outlets}function gi(me,ve,le,Me,tt){let en,St={};Me&&ot(Me,(wn,oi)=>{St[oi]=Array.isArray(wn)?wn.map(bi=>`${bi}`):`${wn}`}),en=me===ve?le:ii(me,ve,le);const sn=Je(xe(en));return new Fe(sn,St,tt)}function ii(me,ve,le){const Me={};return ot(me.children,(tt,St)=>{Me[St]=tt===ve?le:ii(tt,ve,le)}),new he(me.segments,Me)}class ki{constructor(ve,le,Me){if(this.isAbsolute=ve,this.numberOfDoubleDots=le,this.commands=Me,ve&&Me.length>0&&Wn(Me[0]))throw new e.vHH(4003,!1);const tt=Me.find(si);if(tt&&tt!==At(Me))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oo{constructor(ve,le,Me){this.segmentGroup=ve,this.processChildren=le,this.index=Me}}function vo(me,ve,le){if(me||(me=new he([],{})),0===me.segments.length&&me.hasChildren())return Xi(me,ve,le);const Me=function os(me,ve,le){let Me=0,tt=ve;const St={match:!1,pathIndex:0,commandIndex:0};for(;tt<me.segments.length;){if(Me>=le.length)return St;const en=me.segments[tt],sn=le[Me];if(si(sn))break;const wn=`${sn}`,oi=Me<le.length-1?le[Me+1]:null;if(tt>0&&void 0===wn)break;if(wn&&oi&&"object"==typeof oi&&void 0===oi.outlets){if(!Io(wn,oi,en))return St;Me+=2}else{if(!Io(wn,{},en))return St;Me++}tt++}return{match:!0,pathIndex:tt,commandIndex:Me}}(me,ve,le),tt=le.slice(Me.commandIndex);if(Me.match&&Me.pathIndex<me.segments.length){const St=new he(me.segments.slice(0,Me.pathIndex),{});return St.children[we]=new he(me.segments.slice(Me.pathIndex),me.children),Xi(St,0,tt)}return Me.match&&0===tt.length?new he(me.segments,{}):Me.match&&!me.hasChildren()?us(me,ve,le):Me.match?Xi(me,0,tt):us(me,ve,le)}function Xi(me,ve,le){if(0===le.length)return new he(me.segments,{});{const Me=function Wo(me){return si(me[0])?me[0].outlets:{[we]:me}}(le),tt={};return ot(Me,(St,en)=>{"string"==typeof St&&(St=[St]),null!==St&&(tt[en]=vo(me.children[en],ve,St))}),ot(me.children,(St,en)=>{void 0===Me[en]&&(tt[en]=St)}),new he(me.segments,tt)}}function us(me,ve,le){const Me=me.segments.slice(0,ve);let tt=0;for(;tt<le.length;){const St=le[tt];if(si(St)){const wn=_s(St.outlets);return new he(Me,wn)}if(0===tt&&Wn(le[0])){Me.push(new mt(me.segments[ve].path,uo(le[0]))),tt++;continue}const en=si(St)?St.outlets[we]:`${St}`,sn=tt<le.length-1?le[tt+1]:null;en&&sn&&Wn(sn)?(Me.push(new mt(en,uo(sn))),tt+=2):(Me.push(new mt(en,{})),tt++)}return new he(Me,{})}function _s(me){const ve={};return ot(me,(le,Me)=>{"string"==typeof le&&(le=[le]),null!==le&&(ve[Me]=us(new he([],{}),0,le))}),ve}function uo(me){const ve={};return ot(me,(le,Me)=>ve[Me]=`${le}`),ve}function Io(me,ve,le){return me==le.path&&ht(ve,le.parameters)}class Di{constructor(ve,le){this.id=ve,this.url=le}}class Cs extends Di{constructor(ve,le,Me="imperative",tt=null){super(ve,le),this.type=0,this.navigationTrigger=Me,this.restoredState=tt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class po extends Di{constructor(ve,le,Me){super(ve,le),this.urlAfterRedirects=Me,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lo extends Di{constructor(ve,le,Me,tt){super(ve,le),this.reason=Me,this.code=tt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $o extends Di{constructor(ve,le,Me,tt){super(ve,le),this.error=Me,this.target=tt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Us extends Di{constructor(ve,le,Me,tt){super(ve,le),this.urlAfterRedirects=Me,this.state=tt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ss extends Di{constructor(ve,le,Me,tt){super(ve,le),this.urlAfterRedirects=Me,this.state=tt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs extends Di{constructor(ve,le,Me,tt,St){super(ve,le),this.urlAfterRedirects=Me,this.state=tt,this.shouldActivate=St,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ds extends Di{constructor(ve,le,Me,tt){super(ve,le),this.urlAfterRedirects=Me,this.state=tt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br extends Di{constructor(ve,le,Me,tt){super(ve,le),this.urlAfterRedirects=Me,this.state=tt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fa{constructor(ve){this.route=ve,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yr{constructor(ve){this.route=ve,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xr{constructor(ve){this.snapshot=ve,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wa{constructor(ve){this.snapshot=ve,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(ve){this.snapshot=ve,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ua{constructor(ve){this.snapshot=ve,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(ve,le,Me){this.routerEvent=ve,this.position=le,this.anchor=Me,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fr{constructor(ve){this._root=ve}get root(){return this._root.value}parent(ve){const le=this.pathFromRoot(ve);return le.length>1?le[le.length-2]:null}children(ve){const le=Eo(ve,this._root);return le?le.children.map(Me=>Me.value):[]}firstChild(ve){const le=Eo(ve,this._root);return le&&le.children.length>0?le.children[0].value:null}siblings(ve){const le=ei(ve,this._root);return le.length<2?[]:le[le.length-2].children.map(tt=>tt.value).filter(tt=>tt!==ve)}pathFromRoot(ve){return ei(ve,this._root).map(le=>le.value)}}function Eo(me,ve){if(me===ve.value)return ve;for(const le of ve.children){const Me=Eo(me,le);if(Me)return Me}return null}function ei(me,ve){if(me===ve.value)return[ve];for(const le of ve.children){const Me=ei(me,le);if(Me.length)return Me.unshift(ve),Me}return[]}class Ii{constructor(ve,le){this.value=ve,this.children=le}toString(){return`TreeNode(${this.value})`}}function nr(me){const ve={};return me&&me.children.forEach(le=>ve[le.value.outlet]=le),ve}class Ir extends Fr{constructor(ve,le){super(ve),this.snapshot=le,Tr(this,ve)}toString(){return this.snapshot.toString()}}function As(me,ve){const le=function ir(me,ve){const en=new cr([],{},{},"",{},we,ve,null,me.root,-1,{});return new Xo("",new Ii(en,[]))}(me,ve),Me=new f.X([new mt("",{})]),tt=new f.X({}),St=new f.X({}),en=new f.X({}),sn=new f.X(""),wn=new $i(Me,tt,en,sn,St,we,ve,le.root);return wn.snapshot=le.root,new Ir(new Ii(wn,[]),le)}class $i{constructor(ve,le,Me,tt,St,en,sn,wn){var oi,bi;this.url=ve,this.params=le,this.queryParams=Me,this.fragment=tt,this.data=St,this.outlet=en,this.component=sn,this.title=null!==(bi=null===(oi=this.data)||void 0===oi?void 0:oi.pipe((0,$.U)(pi=>pi[Ie])))&&void 0!==bi?bi:(0,u.of)(void 0),this._futureSnapshot=wn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$.U)(ve=>dt(ve)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$.U)(ve=>dt(ve)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ss(me,ve="emptyOnly"){const le=me.pathFromRoot;let Me=0;if("always"!==ve)for(Me=le.length-1;Me>=1;){const tt=le[Me],St=le[Me-1];if(tt.routeConfig&&""===tt.routeConfig.path)Me--;else{if(St.component)break;Me--}}return function bs(me){return me.reduce((ve,le)=>{var Me;return{params:Object.assign(Object.assign({},ve.params),le.params),data:Object.assign(Object.assign({},ve.data),le.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},le.data),ve.resolve),null===(Me=le.routeConfig)||void 0===Me?void 0:Me.data),le._resolvedData)}},{params:{},data:{},resolve:{}})}(le.slice(Me))}class cr{constructor(ve,le,Me,tt,St,en,sn,wn,oi,bi,pi,Ki){var so;this.url=ve,this.params=le,this.queryParams=Me,this.fragment=tt,this.data=St,this.outlet=en,this.component=sn,this.title=null===(so=this.data)||void 0===so?void 0:so[Ie],this.routeConfig=wn,this._urlSegment=oi,this._lastPathIndex=bi,this._correctedLastPathIndex=null!=Ki?Ki:bi,this._resolve=pi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Me=>Me.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xo extends Fr{constructor(ve,le){super(le),this.url=ve,Tr(this,le)}toString(){return rs(this._root)}}function Tr(me,ve){ve.value._routerState=me,ve.children.forEach(le=>Tr(me,le))}function rs(me){const ve=me.children.length>0?` { ${me.children.map(rs).join(", ")} } `:"";return`${me.value}${ve}`}function go(me){if(me.snapshot){const ve=me.snapshot,le=me._futureSnapshot;me.snapshot=le,ht(ve.queryParams,le.queryParams)||me.queryParams.next(le.queryParams),ve.fragment!==le.fragment&&me.fragment.next(le.fragment),ht(ve.params,le.params)||me.params.next(le.params),function vt(me,ve){if(me.length!==ve.length)return!1;for(let le=0;le<me.length;++le)if(!ht(me[le],ve[le]))return!1;return!0}(ve.url,le.url)||me.url.next(le.url),ht(ve.data,le.data)||me.data.next(le.data)}else me.snapshot=me._futureSnapshot,me.data.next(me._futureSnapshot.data)}function ys(me,ve){const le=ht(me.params,ve.params)&&function cn(me,ve){return Tn(me,ve)&&me.every((le,Me)=>ht(le.parameters,ve[Me].parameters))}(me.url,ve.url);return le&&!(!me.parent!=!ve.parent)&&(!me.parent||ys(me.parent,ve.parent))}function ws(me,ve,le){if(le&&me.shouldReuseRoute(ve.value,le.value.snapshot)){const Me=le.value;Me._futureSnapshot=ve.value;const tt=function Vs(me,ve,le){return ve.children.map(Me=>{for(const tt of le.children)if(me.shouldReuseRoute(Me.value,tt.value.snapshot))return ws(me,Me,tt);return ws(me,Me)})}(me,ve,le);return new Ii(Me,tt)}{if(me.shouldAttach(ve.value)){const St=me.retrieve(ve.value);if(null!==St){const en=St.route;return en.value._futureSnapshot=ve.value,en.children=ve.children.map(sn=>ws(me,sn)),en}}const Me=function Ar(me){return new $i(new f.X(me.url),new f.X(me.params),new f.X(me.queryParams),new f.X(me.fragment),new f.X(me.data),me.outlet,me.component,me)}(ve.value),tt=ve.children.map(St=>ws(me,St));return new Ii(Me,tt)}}const wr="ngNavigationCancelingError";function Br(me,ve){const{redirectTo:le,navigationBehaviorOptions:Me}=pt(ve)?{redirectTo:ve,navigationBehaviorOptions:void 0}:ve,tt=Er(!1,0,ve);return tt.url=le,tt.navigationBehaviorOptions=Me,tt}function Er(me,ve,le){const Me=new Error("NavigationCancelingError: "+(me||""));return Me[wr]=!0,Me.cancellationCode=ve,le&&(Me.url=le),Me}function ps(me){return Yo(me)&&pt(me.url)}function Yo(me){return me&&me[wr]}class Sr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kr,this.attachRef=null}}let kr=(()=>{class me{constructor(){this.contexts=new Map}onChildOutletCreated(le,Me){const tt=this.getOrCreateContext(le);tt.outlet=Me,this.contexts.set(le,tt)}onChildOutletDestroyed(le){const Me=this.getContext(le);Me&&(Me.outlet=null,Me.attachRef=null)}onOutletDeactivated(){const le=this.contexts;return this.contexts=new Map,le}onOutletReAttached(le){this.contexts=le}getOrCreateContext(le){let Me=this.getContext(le);return Me||(Me=new Sr,this.contexts.set(le,Me)),Me}getContext(le){return this.contexts.get(le)||null}}return me.\u0275fac=function(le){return new(le||me)},me.\u0275prov=e.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const Et=!1;let pn=(()=>{class me{constructor(le,Me,tt,St,en){this.parentContexts=le,this.location=Me,this.changeDetector=St,this.environmentInjector=en,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=tt||we,le.onChildOutletCreated(this.name,this)}ngOnDestroy(){var le;(null===(le=this.parentContexts.getContext(this.name))||void 0===le?void 0:le.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const le=this.parentContexts.getContext(this.name);le&&le.route&&(le.attachRef?this.attach(le.attachRef,le.route):this.activateWith(le.route,le.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,Et);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,Et);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,Et);this.location.detach();const le=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(le.instance),le}attach(le,Me){this.activated=le,this._activatedRoute=Me,this.location.insert(le.hostView),this.attachEvents.emit(le.instance)}deactivate(){if(this.activated){const le=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(le)}}activateWith(le,Me){if(this.isActivated)throw new e.vHH(4013,Et);this._activatedRoute=le;const tt=this.location,en=le._futureSnapshot.component,sn=this.parentContexts.getOrCreateContext(this.name).children,wn=new ie(le,sn,tt.injector);if(Me&&function Le(me){return!!me.resolveComponentFactory}(Me)){const oi=Me.resolveComponentFactory(en);this.activated=tt.createComponent(oi,tt.length,wn)}else this.activated=tt.createComponent(en,{index:tt.length,injector:wn,environmentInjector:null!=Me?Me:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return me.\u0275fac=function(le){return new(le||me)(e.Y36(kr),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},me.\u0275dir=e.lG2({type:me,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),me})();class ie{constructor(ve,le,Me){this.route=ve,this.childContexts=le,this.parent=Me}get(ve,le){return ve===$i?this.route:ve===kr?this.childContexts:this.parent.get(ve,le)}}let It=(()=>{class me{}return me.\u0275fac=function(le){return new(le||me)},me.\u0275cmp=e.Xpm({type:me,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(le,Me){1&le&&e._UZ(0,"router-outlet")},dependencies:[pn],encapsulation:2}),me})();function Jt(me,ve){var le;return me.providers&&!me._injector&&(me._injector=(0,e.MMx)(me.providers,ve,`Route: ${me.path}`)),null!==(le=me._injector)&&void 0!==le?le:ve}function jo(me){const ve=me.children&&me.children.map(jo),le=ve?Object.assign(Object.assign({},me),{children:ve}):Object.assign({},me);return!le.component&&!le.loadComponent&&(ve||le.loadChildren)&&le.outlet&&le.outlet!==we&&(le.component=It),le}function bo(me){return me.outlet||we}function So(me,ve){const le=me.filter(Me=>bo(Me)===ve);return le.push(...me.filter(Me=>bo(Me)!==ve)),le}function ks(me){var ve;if(!me)return null;if(null!==(ve=me.routeConfig)&&void 0!==ve&&ve._injector)return me.routeConfig._injector;for(let le=me.parent;le;le=le.parent){const Me=le.routeConfig;if(null!=Me&&Me._loadedInjector)return Me._loadedInjector;if(null!=Me&&Me._injector)return Me._injector}return null}class es{constructor(ve,le,Me,tt){this.routeReuseStrategy=ve,this.futureState=le,this.currState=Me,this.forwardEvent=tt}activate(ve){const le=this.futureState._root,Me=this.currState?this.currState._root:null;this.deactivateChildRoutes(le,Me,ve),go(this.futureState.root),this.activateChildRoutes(le,Me,ve)}deactivateChildRoutes(ve,le,Me){const tt=nr(le);ve.children.forEach(St=>{const en=St.value.outlet;this.deactivateRoutes(St,tt[en],Me),delete tt[en]}),ot(tt,(St,en)=>{this.deactivateRouteAndItsChildren(St,Me)})}deactivateRoutes(ve,le,Me){const tt=ve.value,St=le?le.value:null;if(tt===St)if(tt.component){const en=Me.getContext(tt.outlet);en&&this.deactivateChildRoutes(ve,le,en.children)}else this.deactivateChildRoutes(ve,le,Me);else St&&this.deactivateRouteAndItsChildren(le,Me)}deactivateRouteAndItsChildren(ve,le){ve.value.component&&this.routeReuseStrategy.shouldDetach(ve.value.snapshot)?this.detachAndStoreRouteSubtree(ve,le):this.deactivateRouteAndOutlet(ve,le)}detachAndStoreRouteSubtree(ve,le){const Me=le.getContext(ve.value.outlet),tt=Me&&ve.value.component?Me.children:le,St=nr(ve);for(const en of Object.keys(St))this.deactivateRouteAndItsChildren(St[en],tt);if(Me&&Me.outlet){const en=Me.outlet.detach(),sn=Me.children.onOutletDeactivated();this.routeReuseStrategy.store(ve.value.snapshot,{componentRef:en,route:ve,contexts:sn})}}deactivateRouteAndOutlet(ve,le){const Me=le.getContext(ve.value.outlet),tt=Me&&ve.value.component?Me.children:le,St=nr(ve);for(const en of Object.keys(St))this.deactivateRouteAndItsChildren(St[en],tt);Me&&Me.outlet&&(Me.outlet.deactivate(),Me.children.onOutletDeactivated(),Me.attachRef=null,Me.resolver=null,Me.route=null)}activateChildRoutes(ve,le,Me){const tt=nr(le);ve.children.forEach(St=>{this.activateRoutes(St,tt[St.value.outlet],Me),this.forwardEvent(new ua(St.value.snapshot))}),ve.children.length&&this.forwardEvent(new wa(ve.value.snapshot))}activateRoutes(ve,le,Me){var tt;const St=ve.value,en=le?le.value:null;if(go(St),St===en)if(St.component){const sn=Me.getOrCreateContext(St.outlet);this.activateChildRoutes(ve,le,sn.children)}else this.activateChildRoutes(ve,le,Me);else if(St.component){const sn=Me.getOrCreateContext(St.outlet);if(this.routeReuseStrategy.shouldAttach(St.snapshot)){const wn=this.routeReuseStrategy.retrieve(St.snapshot);this.routeReuseStrategy.store(St.snapshot,null),sn.children.onOutletReAttached(wn.contexts),sn.attachRef=wn.componentRef,sn.route=wn.route.value,sn.outlet&&sn.outlet.attach(wn.componentRef,wn.route.value),go(wn.route.value),this.activateChildRoutes(ve,null,sn.children)}else{const wn=ks(St.snapshot),oi=null!==(tt=null==wn?void 0:wn.get(e._Vd))&&void 0!==tt?tt:null;sn.attachRef=null,sn.route=St,sn.resolver=oi,sn.injector=wn,sn.outlet&&sn.outlet.activateWith(St,sn.injector),this.activateChildRoutes(ve,null,sn.children)}}else this.activateChildRoutes(ve,null,Me)}}class Bo{constructor(ve){this.path=ve,this.route=this.path[this.path.length-1]}}class Zr{constructor(ve,le){this.component=ve,this.route=le}}function Po(me,ve,le){const Me=me._root;return ur(Me,ve?ve._root:null,le,[Me.value])}function Li(me,ve){const le=Symbol(),Me=ve.get(me,le);return Me===le?"function"!=typeof me||(0,e.Z0I)(me)?ve.get(me):me:Me}function ur(me,ve,le,Me,tt={canDeactivateChecks:[],canActivateChecks:[]}){const St=nr(ve);return me.children.forEach(en=>{(function ma(me,ve,le,Me,tt={canDeactivateChecks:[],canActivateChecks:[]}){const St=me.value,en=ve?ve.value:null,sn=le?le.getContext(me.value.outlet):null;if(en&&St.routeConfig===en.routeConfig){const wn=function Qn(me,ve,le){if("function"==typeof le)return le(me,ve);switch(le){case"pathParamsChange":return!Tn(me.url,ve.url);case"pathParamsOrQueryParamsChange":return!Tn(me.url,ve.url)||!ht(me.queryParams,ve.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ys(me,ve)||!ht(me.queryParams,ve.queryParams);default:return!ys(me,ve)}}(en,St,St.routeConfig.runGuardsAndResolvers);wn?tt.canActivateChecks.push(new Bo(Me)):(St.data=en.data,St._resolvedData=en._resolvedData),ur(me,ve,St.component?sn?sn.children:null:le,Me,tt),wn&&sn&&sn.outlet&&sn.outlet.isActivated&&tt.canDeactivateChecks.push(new Zr(sn.outlet.component,en))}else en&&Ri(ve,sn,tt),tt.canActivateChecks.push(new Bo(Me)),ur(me,null,St.component?sn?sn.children:null:le,Me,tt)})(en,St[en.value.outlet],le,Me.concat([en.value]),tt),delete St[en.value.outlet]}),ot(St,(en,sn)=>Ri(en,le.getContext(sn),tt)),tt}function Ri(me,ve,le){const Me=nr(me),tt=me.value;ot(Me,(St,en)=>{Ri(St,tt.component?ve?ve.children.getContext(en):null:ve,le)}),le.canDeactivateChecks.push(new Zr(tt.component&&ve&&ve.outlet&&ve.outlet.isActivated?ve.outlet.component:null,tt))}function zs(me){return"function"==typeof me}function jr(me){return me instanceof _.K||"EmptyError"===(null==me?void 0:me.name)}const it=Symbol("INITIAL_VALUE");function Ue(){return(0,V.w)(me=>(0,P.a)(me.map(ve=>ve.pipe((0,k.q)(1),(0,O.O)(it)))).pipe((0,$.U)(ve=>{for(const le of ve)if(!0!==le){if(le===it)return it;if(!1===le||le instanceof Fe)return le}return!0}),(0,K.h)(ve=>ve!==it),(0,k.q)(1)))}function pr(me){return(0,R.z)((0,ne.b)(ve=>{if(pt(ve))throw Br(0,ve)}),(0,$.U)(ve=>!0===ve))}const Kr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hr(me,ve,le,Me,tt){const St=or(me,ve,le);return St.matched?function Dr(me,ve,le,Me){const tt=ve.canMatch;if(!tt||0===tt.length)return(0,u.of)(!0);const St=tt.map(en=>{const sn=Li(en,me);return ge(function da(me){return me&&zs(me.canMatch)}(sn)?sn.canMatch(ve,le):me.runInContext(()=>sn(ve,le)))});return(0,u.of)(St).pipe(Ue(),pr())}(Me=Jt(ve,Me),ve,le).pipe((0,$.U)(en=>!0===en?St:Object.assign({},Kr))):(0,u.of)(St)}function or(me,ve,le){var Me;if(""===ve.path)return"full"===ve.pathMatch&&(me.hasChildren()||le.length>0)?Object.assign({},Kr):{matched:!0,consumedSegments:[],remainingSegments:le,parameters:{},positionalParamSegments:{}};const St=(ve.matcher||et)(le,me,ve);if(!St)return Object.assign({},Kr);const en={};ot(St.posParams,(wn,oi)=>{en[oi]=wn.path});const sn=St.consumed.length>0?Object.assign(Object.assign({},en),St.consumed[St.consumed.length-1].parameters):en;return{matched:!0,consumedSegments:St.consumed,remainingSegments:le.slice(St.consumed.length),parameters:sn,positionalParamSegments:null!==(Me=St.posParams)&&void 0!==Me?Me:{}}}function Ur(me,ve,le,Me,tt="corrected"){if(le.length>0&&function Ma(me,ve,le){return le.some(Me=>Pe(me,ve,Me)&&bo(Me)!==we)}(me,le,Me)){const en=new he(ve,function _a(me,ve,le,Me){const tt={};tt[we]=Me,Me._sourceSegment=me,Me._segmentIndexShift=ve.length;for(const St of le)if(""===St.path&&bo(St)!==we){const en=new he([],{});en._sourceSegment=me,en._segmentIndexShift=ve.length,tt[bo(St)]=en}return tt}(me,ve,Me,new he(le,me.children)));return en._sourceSegment=me,en._segmentIndexShift=ve.length,{segmentGroup:en,slicedSegments:[]}}if(0===le.length&&function Ha(me,ve,le){return le.some(Me=>Pe(me,ve,Me))}(me,le,Me)){const en=new he(me.segments,function gr(me,ve,le,Me,tt,St){const en={};for(const sn of Me)if(Pe(me,le,sn)&&!tt[bo(sn)]){const wn=new he([],{});wn._sourceSegment=me,wn._segmentIndexShift="legacy"===St?me.segments.length:ve.length,en[bo(sn)]=wn}return Object.assign(Object.assign({},tt),en)}(me,ve,le,Me,me.children,tt));return en._sourceSegment=me,en._segmentIndexShift=ve.length,{segmentGroup:en,slicedSegments:le}}const St=new he(me.segments,me.children);return St._sourceSegment=me,St._segmentIndexShift=ve.length,{segmentGroup:St,slicedSegments:le}}function Pe(me,ve,le){return(!(me.hasChildren()||ve.length>0)||"full"!==le.pathMatch)&&""===le.path}function gt(me,ve,le,Me){return!!(bo(me)===Me||Me!==we&&Pe(ve,le,me))&&("**"===me.path||or(ve,me,le).matched)}function Ve(me,ve,le){return 0===ve.length&&!me.children[le]}const Dt=!1;class on{constructor(ve){this.segmentGroup=ve||null}}class Dn{constructor(ve){this.urlTree=ve}}function Nn(me){return(0,L._)(new on(me))}function ui(me){return(0,L._)(new Dn(me))}class ji{constructor(ve,le,Me,tt,St){this.injector=ve,this.configLoader=le,this.urlSerializer=Me,this.urlTree=tt,this.config=St,this.allowRedirects=!0}apply(){const ve=Ur(this.urlTree.root,[],[],this.config).segmentGroup,le=new he(ve.segments,ve.children);return this.expandSegmentGroup(this.injector,this.config,le,we).pipe((0,$.U)(St=>this.createUrlTree(xe(St),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ce.K)(St=>{if(St instanceof Dn)return this.allowRedirects=!1,this.match(St.urlTree);throw St instanceof on?this.noMatchError(St):St}))}match(ve){return this.expandSegmentGroup(this.injector,this.config,ve.root,we).pipe((0,$.U)(tt=>this.createUrlTree(xe(tt),ve.queryParams,ve.fragment))).pipe((0,Ce.K)(tt=>{throw tt instanceof on?this.noMatchError(tt):tt}))}noMatchError(ve){return new e.vHH(4002,Dt)}createUrlTree(ve,le,Me){const tt=Je(ve);return new Fe(tt,le,Me)}expandSegmentGroup(ve,le,Me,tt){return 0===Me.segments.length&&Me.hasChildren()?this.expandChildren(ve,le,Me).pipe((0,$.U)(St=>new he([],St))):this.expandSegment(ve,Me,le,Me.segments,tt,!0)}expandChildren(ve,le,Me){const tt=[];for(const St of Object.keys(Me.children))"primary"===St?tt.unshift(St):tt.push(St);return(0,d.D)(tt).pipe((0,G.b)(St=>{const en=Me.children[St],sn=So(le,St);return this.expandSegmentGroup(ve,sn,en,St).pipe((0,$.U)(wn=>({segment:wn,outlet:St})))}),z((St,en)=>(St[en.outlet]=en.segment,St),{}),Ee())}expandSegment(ve,le,Me,tt,St,en){return(0,d.D)(Me).pipe((0,G.b)(sn=>this.expandSegmentAgainstRoute(ve,le,Me,sn,tt,St,en).pipe((0,Ce.K)(oi=>{if(oi instanceof on)return(0,u.of)(null);throw oi}))),(0,q.P)(sn=>!!sn),(0,Ce.K)((sn,wn)=>{if(jr(sn))return Ve(le,tt,St)?(0,u.of)(new he([],{})):Nn(le);throw sn}))}expandSegmentAgainstRoute(ve,le,Me,tt,St,en,sn){return gt(tt,le,St,en)?void 0===tt.redirectTo?this.matchSegmentAgainstRoute(ve,le,tt,St,en):sn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ve,le,Me,tt,St,en):Nn(le):Nn(le)}expandSegmentAgainstRouteUsingRedirect(ve,le,Me,tt,St,en){return"**"===tt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ve,Me,tt,en):this.expandRegularSegmentAgainstRouteUsingRedirect(ve,le,Me,tt,St,en)}expandWildCardWithParamsAgainstRouteUsingRedirect(ve,le,Me,tt){const St=this.applyRedirectCommands([],Me.redirectTo,{});return Me.redirectTo.startsWith("/")?ui(St):this.lineralizeSegments(Me,St).pipe((0,ue.z)(en=>{const sn=new he(en,{});return this.expandSegment(ve,sn,le,en,tt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ve,le,Me,tt,St,en){const{matched:sn,consumedSegments:wn,remainingSegments:oi,positionalParamSegments:bi}=or(le,tt,St);if(!sn)return Nn(le);const pi=this.applyRedirectCommands(wn,tt.redirectTo,bi);return tt.redirectTo.startsWith("/")?ui(pi):this.lineralizeSegments(tt,pi).pipe((0,ue.z)(Ki=>this.expandSegment(ve,le,Me,Ki.concat(oi),en,!1)))}matchSegmentAgainstRoute(ve,le,Me,tt,St){return"**"===Me.path?(ve=Jt(Me,ve),Me.loadChildren?(Me._loadedRoutes?(0,u.of)({routes:Me._loadedRoutes,injector:Me._loadedInjector}):this.configLoader.loadChildren(ve,Me)).pipe((0,$.U)(sn=>(Me._loadedRoutes=sn.routes,Me._loadedInjector=sn.injector,new he(tt,{})))):(0,u.of)(new he(tt,{}))):hr(le,Me,tt,ve).pipe((0,V.w)(({matched:en,consumedSegments:sn,remainingSegments:wn})=>{var oi;return en?(ve=null!==(oi=Me._injector)&&void 0!==oi?oi:ve,this.getChildConfig(ve,Me,tt).pipe((0,ue.z)(pi=>{var Ki;const so=null!==(Ki=pi.injector)&&void 0!==Ki?Ki:ve,Gs=pi.routes,{segmentGroup:Jr,slicedSegments:ta}=Ur(le,sn,wn,Gs),na=new he(Jr.segments,Jr.children);if(0===ta.length&&na.hasChildren())return this.expandChildren(so,Gs,na).pipe((0,$.U)(zl=>new he(sn,zl)));if(0===Gs.length&&0===ta.length)return(0,u.of)(new he(sn,{}));const pa=bo(Me)===St;return this.expandSegment(so,na,Gs,ta,pa?we:St,!0).pipe((0,$.U)(_r=>new he(sn.concat(_r.segments),_r.children)))}))):Nn(le)}))}getChildConfig(ve,le,Me){return le.children?(0,u.of)({routes:le.children,injector:ve}):le.loadChildren?void 0!==le._loadedRoutes?(0,u.of)({routes:le._loadedRoutes,injector:le._loadedInjector}):function $s(me,ve,le,Me){const tt=ve.canLoad;if(void 0===tt||0===tt.length)return(0,u.of)(!0);const St=tt.map(en=>{const sn=Li(en,me);return ge(function eo(me){return me&&zs(me.canLoad)}(sn)?sn.canLoad(ve,le):me.runInContext(()=>sn(ve,le)))});return(0,u.of)(St).pipe(Ue(),pr())}(ve,le,Me).pipe((0,ue.z)(tt=>tt?this.configLoader.loadChildren(ve,le).pipe((0,ne.b)(St=>{le._loadedRoutes=St.routes,le._loadedInjector=St.injector})):function co(me){return(0,L._)(Er(Dt,3))}())):(0,u.of)({routes:[],injector:ve})}lineralizeSegments(ve,le){let Me=[],tt=le.root;for(;;){if(Me=Me.concat(tt.segments),0===tt.numberOfChildren)return(0,u.of)(Me);if(tt.numberOfChildren>1||!tt.children[we])return(0,L._)(new e.vHH(4e3,Dt));tt=tt.children[we]}}applyRedirectCommands(ve,le,Me){return this.applyRedirectCreateUrlTree(le,this.urlSerializer.parse(le),ve,Me)}applyRedirectCreateUrlTree(ve,le,Me,tt){const St=this.createSegmentGroup(ve,le.root,Me,tt);return new Fe(St,this.createQueryParams(le.queryParams,this.urlTree.queryParams),le.fragment)}createQueryParams(ve,le){const Me={};return ot(ve,(tt,St)=>{if("string"==typeof tt&&tt.startsWith(":")){const sn=tt.substring(1);Me[St]=le[sn]}else Me[St]=tt}),Me}createSegmentGroup(ve,le,Me,tt){const St=this.createSegments(ve,le.segments,Me,tt);let en={};return ot(le.children,(sn,wn)=>{en[wn]=this.createSegmentGroup(ve,sn,Me,tt)}),new he(St,en)}createSegments(ve,le,Me,tt){return le.map(St=>St.path.startsWith(":")?this.findPosParam(ve,St,tt):this.findOrReturn(St,Me))}findPosParam(ve,le,Me){const tt=Me[le.path.substring(1)];if(!tt)throw new e.vHH(4001,Dt);return tt}findOrReturn(ve,le){let Me=0;for(const tt of le){if(tt.path===ve.path)return le.splice(Me),tt;Me++}return ve}}class Co{}class as{constructor(ve,le,Me,tt,St,en,sn,wn){this.injector=ve,this.rootComponentType=le,this.config=Me,this.urlTree=tt,this.url=St,this.paramsInheritanceStrategy=en,this.relativeLinkResolution=sn,this.urlSerializer=wn}recognize(){const ve=Ur(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,ve,we).pipe((0,$.U)(le=>{if(null===le)return null;const Me=new cr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},we,this.rootComponentType,null,this.urlTree.root,-1,{}),tt=new Ii(Me,le),St=new Xo(this.url,tt);return this.inheritParamsAndData(St._root),St}))}inheritParamsAndData(ve){const le=ve.value,Me=ss(le,this.paramsInheritanceStrategy);le.params=Object.freeze(Me.params),le.data=Object.freeze(Me.data),ve.children.forEach(tt=>this.inheritParamsAndData(tt))}processSegmentGroup(ve,le,Me,tt){return 0===Me.segments.length&&Me.hasChildren()?this.processChildren(ve,le,Me):this.processSegment(ve,le,Me,Me.segments,tt)}processChildren(ve,le,Me){return(0,d.D)(Object.keys(Me.children)).pipe((0,G.b)(tt=>{const St=Me.children[tt],en=So(le,tt);return this.processSegmentGroup(ve,en,St,tt)}),z((tt,St)=>tt&&St?(tt.push(...St),tt):null),(0,qe.o)(tt=>null!==tt),(0,Y.d)(null),Ee(),(0,$.U)(tt=>{if(null===tt)return null;const St=pe(tt);return function sr(me){me.sort((ve,le)=>ve.value.outlet===we?-1:le.value.outlet===we?1:ve.value.outlet.localeCompare(le.value.outlet))}(St),St}))}processSegment(ve,le,Me,tt,St){return(0,d.D)(le).pipe((0,G.b)(en=>{var sn;return this.processSegmentAgainstRoute(null!==(sn=en._injector)&&void 0!==sn?sn:ve,en,Me,tt,St)}),(0,q.P)(en=>!!en),(0,Ce.K)(en=>{if(jr(en))return Ve(Me,tt,St)?(0,u.of)([]):(0,u.of)(null);throw en}))}processSegmentAgainstRoute(ve,le,Me,tt,St){var en,sn;if(le.redirectTo||!gt(le,Me,tt,St))return(0,u.of)(null);let wn;if("**"===le.path){const oi=tt.length>0?At(tt).parameters:{},bi=Qt(Me)+tt.length,pi=new cr(tt,oi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_n(le),bo(le),null!==(sn=null!==(en=le.component)&&void 0!==en?en:le._loadedComponent)&&void 0!==sn?sn:null,le,xt(Me),bi,Sn(le),bi);wn=(0,u.of)({snapshot:pi,consumedSegments:[],remainingSegments:[]})}else wn=hr(Me,le,tt,ve).pipe((0,$.U)(({matched:oi,consumedSegments:bi,remainingSegments:pi,parameters:Ki})=>{var so,Gs;if(!oi)return null;const Jr=Qt(Me)+bi.length;return{snapshot:new cr(bi,Ki,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_n(le),bo(le),null!==(Gs=null!==(so=le.component)&&void 0!==so?so:le._loadedComponent)&&void 0!==Gs?Gs:null,le,xt(Me),Jr,Sn(le),Jr),consumedSegments:bi,remainingSegments:pi}}));return wn.pipe((0,V.w)(oi=>{var bi,pi;if(null===oi)return(0,u.of)(null);const{snapshot:Ki,consumedSegments:so,remainingSegments:Gs}=oi;ve=null!==(bi=le._injector)&&void 0!==bi?bi:ve;const Jr=null!==(pi=le._loadedInjector)&&void 0!==pi?pi:ve,ta=function Ct(me){return me.children?me.children:me.loadChildren?me._loadedRoutes:[]}(le),{segmentGroup:na,slicedSegments:pa}=Ur(Me,so,Gs,ta.filter(_r=>void 0===_r.redirectTo),this.relativeLinkResolution);if(0===pa.length&&na.hasChildren())return this.processChildren(Jr,ta,na).pipe((0,$.U)(_r=>null===_r?null:[new Ii(Ki,_r)]));if(0===ta.length&&0===pa.length)return(0,u.of)([new Ii(Ki,[])]);const Vl=bo(le)===St;return this.processSegment(Jr,ta,na,pa,Vl?we:St).pipe((0,$.U)(_r=>null===_r?null:[new Ii(Ki,_r)]))}))}}function ae(me){const ve=me.value.routeConfig;return ve&&""===ve.path&&void 0===ve.redirectTo}function pe(me){const ve=[],le=new Set;for(const Me of me){if(!ae(Me)){ve.push(Me);continue}const tt=ve.find(St=>Me.value.routeConfig===St.value.routeConfig);void 0!==tt?(tt.children.push(...Me.children),le.add(tt)):ve.push(Me)}for(const Me of le){const tt=pe(Me.children);ve.push(new Ii(Me.value,tt))}return ve.filter(Me=>!le.has(Me))}function xt(me){let ve=me;for(;ve._sourceSegment;)ve=ve._sourceSegment;return ve}function Qt(me){var ve,le;let Me=me,tt=null!==(ve=Me._segmentIndexShift)&&void 0!==ve?ve:0;for(;Me._sourceSegment;)Me=Me._sourceSegment,tt+=null!==(le=Me._segmentIndexShift)&&void 0!==le?le:0;return tt-1}function _n(me){return me.data||{}}function Sn(me){return me.resolve||{}}function an(me){return"string"==typeof me.title||null===me.title}function An(me){return(0,V.w)(ve=>{const le=me(ve);return le?(0,d.D)(le).pipe((0,$.U)(()=>ve)):(0,u.of)(ve)})}let On=(()=>{class me{buildTitle(le){var Me;let tt,St=le.root;for(;void 0!==St;)tt=null!==(Me=this.getResolvedTitleForRoute(St))&&void 0!==Me?Me:tt,St=St.children.find(en=>en.outlet===we);return tt}getResolvedTitleForRoute(le){return le.data[Ie]}}return me.\u0275fac=function(le){return new(le||me)},me.\u0275prov=e.Yz7({token:me,factory:function(){return(0,e.f3M)(ti)},providedIn:"root"}),me})(),ti=(()=>{class me extends On{constructor(le){super(),this.title=le}updateTitle(le){const Me=this.buildTitle(le);void 0!==Me&&this.title.setTitle(Me)}}return me.\u0275fac=function(le){return new(le||me)(e.LFG(be.Dx))},me.\u0275prov=e.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();class Ai{}class ts extends class yo{shouldDetach(ve){return!1}store(ve,le){}shouldAttach(ve){return!1}retrieve(ve){return null}shouldReuseRoute(ve,le){return ve.routeConfig===le.routeConfig}}{}const oo=new e.OlP("",{providedIn:"root",factory:()=>({})}),Zo=new e.OlP("ROUTES");let er=(()=>{class me{constructor(le,Me){this.injector=le,this.compiler=Me,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(le){if(this.componentLoaders.get(le))return this.componentLoaders.get(le);if(le._loadedComponent)return(0,u.of)(le._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(le);const Me=ge(le.loadComponent()).pipe((0,ne.b)(St=>{this.onLoadEndListener&&this.onLoadEndListener(le),le._loadedComponent=St}),(0,Ge.x)(()=>{this.componentLoaders.delete(le)})),tt=new U(Me,()=>new B.x).pipe(D());return this.componentLoaders.set(le,tt),tt}loadChildren(le,Me){if(this.childrenLoaders.get(Me))return this.childrenLoaders.get(Me);if(Me._loadedRoutes)return(0,u.of)({routes:Me._loadedRoutes,injector:Me._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Me);const St=this.loadModuleFactoryOrRoutes(Me.loadChildren).pipe((0,$.U)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(Me);let wn,oi,bi=!1;Array.isArray(sn)?oi=sn:(wn=sn.create(le).injector,oi=Nt(wn.get(Zo,[],e.XFs.Self|e.XFs.Optional)));return{routes:oi.map(jo),injector:wn}}),(0,Ge.x)(()=>{this.childrenLoaders.delete(Me)})),en=new U(St,()=>new B.x).pipe(D());return this.childrenLoaders.set(Me,en),en}loadModuleFactoryOrRoutes(le){return ge(le()).pipe((0,ue.z)(Me=>Me instanceof e.YKP||Array.isArray(Me)?(0,u.of)(Me):(0,d.D)(this.compiler.compileModuleAsync(Me))))}}return me.\u0275fac=function(le){return new(le||me)(e.LFG(e.zs3),e.LFG(e.Sil))},me.\u0275prov=e.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();class Mr{}class Hr{shouldProcessUrl(ve){return!0}extract(ve){return ve}merge(ve,le){return ve}}function Ca(me){throw me}function xi(me,ve,le){return ve.parse("/")}const wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function zo(){var me,ve;const le=(0,e.f3M)(bt),Me=(0,e.f3M)(kr),tt=(0,e.f3M)(ce.Ye),St=(0,e.f3M)(e.zs3),en=(0,e.f3M)(e.Sil),sn=null!==(me=(0,e.f3M)(Zo,{optional:!0}))&&void 0!==me?me:[],wn=null!==(ve=(0,e.f3M)(oo,{optional:!0}))&&void 0!==ve?ve:{},oi=(0,e.f3M)(ti),bi=(0,e.f3M)(On,{optional:!0}),pi=(0,e.f3M)(Mr,{optional:!0}),Ki=(0,e.f3M)(Ai,{optional:!0}),so=new Ro(null,le,Me,tt,St,en,Nt(sn));return pi&&(so.urlHandlingStrategy=pi),Ki&&(so.routeReuseStrategy=Ki),so.titleStrategy=null!=bi?bi:oi,function no(me,ve){me.errorHandler&&(ve.errorHandler=me.errorHandler),me.malformedUriErrorHandler&&(ve.malformedUriErrorHandler=me.malformedUriErrorHandler),me.onSameUrlNavigation&&(ve.onSameUrlNavigation=me.onSameUrlNavigation),me.paramsInheritanceStrategy&&(ve.paramsInheritanceStrategy=me.paramsInheritanceStrategy),me.relativeLinkResolution&&(ve.relativeLinkResolution=me.relativeLinkResolution),me.urlUpdateStrategy&&(ve.urlUpdateStrategy=me.urlUpdateStrategy),me.canceledNavigationResolution&&(ve.canceledNavigationResolution=me.canceledNavigationResolution)}(wn,so),so}let Ro=(()=>{class me{constructor(le,Me,tt,St,en,sn,wn){this.rootComponentType=le,this.urlSerializer=Me,this.rootContexts=tt,this.location=St,this.config=wn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new B.x,this.errorHandler=Ca,this.malformedUriErrorHandler=xi,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,u.of)(void 0),this.urlHandlingStrategy=new Hr,this.routeReuseStrategy=new ts,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=en.get(er),this.configLoader.onLoadEndListener=Ki=>this.triggerEvent(new yr(Ki)),this.configLoader.onLoadStartListener=Ki=>this.triggerEvent(new fa(Ki)),this.ngModule=en.get(e.h0i),this.console=en.get(e.c2e);const pi=en.get(e.R0b);this.isNgZoneEnabled=pi instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(wn),this.currentUrlTree=function rt(){return new Fe(new he([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=As(this.currentUrlTree,this.rootComponentType),this.transitions=new f.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var le;return null===(le=this.location.getState())||void 0===le?void 0:le.\u0275routerPageId}setupNavigations(le){const Me=this.events;return le.pipe((0,K.h)(tt=>0!==tt.id),(0,$.U)(tt=>Object.assign(Object.assign({},tt),{extractedUrl:this.urlHandlingStrategy.extract(tt.rawUrl)})),(0,V.w)(tt=>{let St=!1,en=!1;return(0,u.of)(tt).pipe((0,ne.b)(sn=>{this.currentNavigation={id:sn.id,initialUrl:sn.rawUrl,extractedUrl:sn.extractedUrl,trigger:sn.source,extras:sn.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,V.w)(sn=>{const wn=this.browserUrlTree.toString(),oi=!this.navigated||sn.extractedUrl.toString()!==wn||wn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||oi)&&this.urlHandlingStrategy.shouldProcessUrl(sn.rawUrl))return fr(sn.source)&&(this.browserUrlTree=sn.extractedUrl),(0,u.of)(sn).pipe((0,V.w)(pi=>{const Ki=this.transitions.getValue();return Me.next(new Cs(pi.id,this.serializeUrl(pi.extractedUrl),pi.source,pi.restoredState)),Ki!==this.transitions.getValue()?N.E:Promise.resolve(pi)}),function mo(me,ve,le,Me){return(0,V.w)(tt=>function fo(me,ve,le,Me,tt){return new ji(me,ve,le,Me,tt).apply()}(me,ve,le,tt.extractedUrl,Me).pipe((0,$.U)(St=>Object.assign(Object.assign({},tt),{urlAfterRedirects:St}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ne.b)(pi=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:pi.urlAfterRedirects}),tt.urlAfterRedirects=pi.urlAfterRedirects}),function zn(me,ve,le,Me,tt,St){return(0,ue.z)(en=>function Xs(me,ve,le,Me,tt,St,en="emptyOnly",sn="legacy"){return new as(me,ve,le,Me,tt,en,sn,St).recognize().pipe((0,V.w)(wn=>null===wn?function Ko(me){return new Q.y(ve=>ve.error(me))}(new Co):(0,u.of)(wn)))}(me,ve,le,en.urlAfterRedirects,Me.serialize(en.urlAfterRedirects),Me,tt,St).pipe((0,$.U)(sn=>Object.assign(Object.assign({},en),{targetSnapshot:sn}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ne.b)(pi=>{if(tt.targetSnapshot=pi.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!pi.extras.skipLocationChange){const so=this.urlHandlingStrategy.merge(pi.urlAfterRedirects,pi.rawUrl);this.setBrowserUrl(so,pi)}this.browserUrlTree=pi.urlAfterRedirects}const Ki=new Us(pi.id,this.serializeUrl(pi.extractedUrl),this.serializeUrl(pi.urlAfterRedirects),pi.targetSnapshot);Me.next(Ki)}));if(oi&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ki,extractedUrl:so,source:Gs,restoredState:Jr,extras:ta}=sn,na=new Cs(Ki,this.serializeUrl(so),Gs,Jr);Me.next(na);const pa=As(so,this.rootComponentType).snapshot;return tt=Object.assign(Object.assign({},sn),{targetSnapshot:pa,urlAfterRedirects:so,extras:Object.assign(Object.assign({},ta),{skipLocationChange:!1,replaceUrl:!1})}),(0,u.of)(tt)}return this.rawUrlTree=sn.rawUrl,sn.resolve(null),N.E}),(0,ne.b)(sn=>{const wn=new Ss(sn.id,this.serializeUrl(sn.extractedUrl),this.serializeUrl(sn.urlAfterRedirects),sn.targetSnapshot);this.triggerEvent(wn)}),(0,$.U)(sn=>tt=Object.assign(Object.assign({},sn),{guards:Po(sn.targetSnapshot,sn.currentSnapshot,this.rootContexts)})),function De(me,ve){return(0,ue.z)(le=>{const{targetSnapshot:Me,currentSnapshot:tt,guards:{canActivateChecks:St,canDeactivateChecks:en}}=le;return 0===en.length&&0===St.length?(0,u.of)(Object.assign(Object.assign({},le),{guardsResult:!0})):function Mt(me,ve,le,Me){return(0,d.D)(me).pipe((0,ue.z)(tt=>function gs(me,ve,le,Me,tt){const St=ve&&ve.routeConfig?ve.routeConfig.canDeactivate:null;if(!St||0===St.length)return(0,u.of)(!0);const en=St.map(sn=>{var wn;const oi=null!==(wn=ks(ve))&&void 0!==wn?wn:tt,bi=Li(sn,oi);return ge(function Ds(me){return me&&zs(me.canDeactivate)}(bi)?bi.canDeactivate(me,ve,le,Me):oi.runInContext(()=>bi(me,ve,le,Me))).pipe((0,q.P)())});return(0,u.of)(en).pipe(Ue())}(tt.component,tt.route,le,ve,Me)),(0,q.P)(tt=>!0!==tt,!0))}(en,Me,tt,me).pipe((0,ue.z)(sn=>sn&&function Yr(me){return"boolean"==typeof me}(sn)?function Ln(me,ve,le,Me){return(0,d.D)(ve).pipe((0,G.b)(tt=>(0,x.z)(function Gi(me,ve){return null!==me&&ve&&ve(new xr(me)),(0,u.of)(!0)}(tt.route.parent,Me),function mi(me,ve){return null!==me&&ve&&ve(new vs(me)),(0,u.of)(!0)}(tt.route,Me),function Lo(me,ve,le){const Me=ve[ve.length-1],St=ve.slice(0,ve.length-1).reverse().map(en=>function To(me){const ve=me.routeConfig?me.routeConfig.canActivateChild:null;return ve&&0!==ve.length?{node:me,guards:ve}:null}(en)).filter(en=>null!==en).map(en=>(0,r.P)(()=>{const sn=en.guards.map(wn=>{var oi;const bi=null!==(oi=ks(en.node))&&void 0!==oi?oi:le,pi=Li(wn,bi);return ge(function dr(me){return me&&zs(me.canActivateChild)}(pi)?pi.canActivateChild(Me,me):bi.runInContext(()=>pi(Me,me))).pipe((0,q.P)())});return(0,u.of)(sn).pipe(Ue())}));return(0,u.of)(St).pipe(Ue())}(me,tt.path,le),function _o(me,ve,le){const Me=ve.routeConfig?ve.routeConfig.canActivate:null;if(!Me||0===Me.length)return(0,u.of)(!0);const tt=Me.map(St=>(0,r.P)(()=>{var en;const sn=null!==(en=ks(ve))&&void 0!==en?en:le,wn=Li(St,sn);return ge(function Xr(me){return me&&zs(me.canActivate)}(wn)?wn.canActivate(ve,me):sn.runInContext(()=>wn(ve,me))).pipe((0,q.P)())}));return(0,u.of)(tt).pipe(Ue())}(me,tt.route,le))),(0,q.P)(tt=>!0!==tt,!0))}(Me,St,me,ve):(0,u.of)(sn)),(0,$.U)(sn=>Object.assign(Object.assign({},le),{guardsResult:sn})))})}(this.ngModule.injector,sn=>this.triggerEvent(sn)),(0,ne.b)(sn=>{if(tt.guardsResult=sn.guardsResult,pt(sn.guardsResult))throw Br(0,sn.guardsResult);const wn=new Hs(sn.id,this.serializeUrl(sn.extractedUrl),this.serializeUrl(sn.urlAfterRedirects),sn.targetSnapshot,!!sn.guardsResult);this.triggerEvent(wn)}),(0,K.h)(sn=>!!sn.guardsResult||(this.restoreHistory(sn),this.cancelNavigationTransition(sn,"",3),!1)),An(sn=>{if(sn.guards.canActivateChecks.length)return(0,u.of)(sn).pipe((0,ne.b)(wn=>{const oi=new ds(wn.id,this.serializeUrl(wn.extractedUrl),this.serializeUrl(wn.urlAfterRedirects),wn.targetSnapshot);this.triggerEvent(oi)}),(0,V.w)(wn=>{let oi=!1;return(0,u.of)(wn).pipe(function Yt(me,ve){return(0,ue.z)(le=>{const{targetSnapshot:Me,guards:{canActivateChecks:tt}}=le;if(!tt.length)return(0,u.of)(le);let St=0;return(0,d.D)(tt).pipe((0,G.b)(en=>function Ne(me,ve,le,Me){const tt=me.routeConfig,St=me._resolve;return void 0!==(null==tt?void 0:tt.title)&&!an(tt)&&(St[Ie]=tt.title),function Be(me,ve,le,Me){const tt=function _t(me){return[...Object.keys(me),...Object.getOwnPropertySymbols(me)]}(me);if(0===tt.length)return(0,u.of)({});const St={};return(0,d.D)(tt).pipe((0,ue.z)(en=>function Ft(me,ve,le,Me){var tt;const St=null!==(tt=ks(ve))&&void 0!==tt?tt:Me,en=Li(me,St);return ge(en.resolve?en.resolve(ve,le):St.runInContext(()=>en(ve,le)))}(me[en],ve,le,Me).pipe((0,q.P)(),(0,ne.b)(sn=>{St[en]=sn}))),(0,te.h)(1),(0,ye.h)(St),(0,Ce.K)(en=>jr(en)?N.E:(0,L._)(en)))}(St,me,ve,Me).pipe((0,$.U)(en=>(me._resolvedData=en,me.data=ss(me,le).resolve,tt&&an(tt)&&(me.data[Ie]=tt.title),null)))}(en.route,Me,me,ve)),(0,ne.b)(()=>St++),(0,te.h)(1),(0,ue.z)(en=>St===tt.length?(0,u.of)(le):N.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ne.b)({next:()=>oi=!0,complete:()=>{oi||(this.restoreHistory(wn),this.cancelNavigationTransition(wn,"",2))}}))}),(0,ne.b)(wn=>{const oi=new br(wn.id,this.serializeUrl(wn.extractedUrl),this.serializeUrl(wn.urlAfterRedirects),wn.targetSnapshot);this.triggerEvent(oi)}))}),An(sn=>{const wn=oi=>{var bi;const pi=[];(null===(bi=oi.routeConfig)||void 0===bi?void 0:bi.loadComponent)&&!oi.routeConfig._loadedComponent&&pi.push(this.configLoader.loadComponent(oi.routeConfig).pipe((0,ne.b)(Ki=>{oi.component=Ki}),(0,$.U)(()=>{})));for(const Ki of oi.children)pi.push(...wn(Ki));return pi};return(0,P.a)(wn(sn.targetSnapshot.root)).pipe((0,Y.d)(),(0,k.q)(1))}),An(()=>this.afterPreactivation()),(0,$.U)(sn=>{const wn=function xs(me,ve,le){const Me=ws(me,ve._root,le?le._root:void 0);return new Ir(Me,ve)}(this.routeReuseStrategy,sn.targetSnapshot,sn.currentRouterState);return tt=Object.assign(Object.assign({},sn),{targetRouterState:wn})}),(0,ne.b)(sn=>{this.currentUrlTree=sn.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(sn.urlAfterRedirects,sn.rawUrl),this.routerState=sn.targetRouterState,"deferred"===this.urlUpdateStrategy&&(sn.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,sn),this.browserUrlTree=sn.urlAfterRedirects)}),((me,ve,le)=>(0,$.U)(Me=>(new es(ve,Me.targetRouterState,Me.currentRouterState,le).activate(me),Me)))(this.rootContexts,this.routeReuseStrategy,sn=>this.triggerEvent(sn)),(0,ne.b)({next(){St=!0},complete(){St=!0}}),(0,Ge.x)(()=>{var sn;St||en||this.cancelNavigationTransition(tt,"",1),(null===(sn=this.currentNavigation)||void 0===sn?void 0:sn.id)===tt.id&&(this.currentNavigation=null)}),(0,Ce.K)(sn=>{var wn;if(en=!0,Yo(sn)){ps(sn)||(this.navigated=!0,this.restoreHistory(tt,!0));const oi=new lo(tt.id,this.serializeUrl(tt.extractedUrl),sn.message,sn.cancellationCode);if(Me.next(oi),ps(sn)){const bi=this.urlHandlingStrategy.merge(sn.url,this.rawUrlTree),pi={skipLocationChange:tt.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fr(tt.source)};this.scheduleNavigation(bi,"imperative",null,pi,{resolve:tt.resolve,reject:tt.reject,promise:tt.promise})}else tt.resolve(!1)}else{this.restoreHistory(tt,!0);const oi=new $o(tt.id,this.serializeUrl(tt.extractedUrl),sn,null!==(wn=tt.targetSnapshot)&&void 0!==wn?wn:void 0);Me.next(oi);try{tt.resolve(this.errorHandler(sn))}catch(bi){tt.reject(bi)}}return N.E}))}))}resetRootComponentType(le){this.rootComponentType=le,this.routerState.root.component=this.rootComponentType}setTransition(le){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),le))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(le=>{const Me="popstate"===le.type?"popstate":"hashchange";"popstate"===Me&&setTimeout(()=>{var tt;const St={replaceUrl:!0},en=null!==(tt=le.state)&&void 0!==tt&&tt.navigationId?le.state:null;if(en){const wn=Object.assign({},en);delete wn.navigationId,delete wn.\u0275routerPageId,0!==Object.keys(wn).length&&(St.state=wn)}const sn=this.parseUrl(le.url);this.scheduleNavigation(sn,Me,en,St)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(le){this.events.next(le)}resetConfig(le){this.config=le.map(jo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(le,Me={}){const{relativeTo:tt,queryParams:St,fragment:en,queryParamsHandling:sn,preserveFragment:wn}=Me,oi=tt||this.routerState.root,bi=wn?this.currentUrlTree.fragment:en;let pi=null;switch(sn){case"merge":pi=Object.assign(Object.assign({},this.currentUrlTree.queryParams),St);break;case"preserve":pi=this.currentUrlTree.queryParams;break;default:pi=St||null}return null!==pi&&(pi=this.removeEmptyProps(pi)),yn(oi,this.currentUrlTree,le,pi,null!=bi?bi:null)}navigateByUrl(le,Me={skipLocationChange:!1}){const tt=pt(le)?le:this.parseUrl(le),St=this.urlHandlingStrategy.merge(tt,this.rawUrlTree);return this.scheduleNavigation(St,"imperative",null,Me)}navigate(le,Me={skipLocationChange:!1}){return function Ms(me){for(let ve=0;ve<me.length;ve++){if(null==me[ve])throw new e.vHH(4008,false)}}(le),this.navigateByUrl(this.createUrlTree(le,Me),Me)}serializeUrl(le){return this.urlSerializer.serialize(le)}parseUrl(le){let Me;try{Me=this.urlSerializer.parse(le)}catch(tt){Me=this.malformedUriErrorHandler(tt,this.urlSerializer,le)}return Me}isActive(le,Me){let tt;if(tt=!0===Me?Object.assign({},wi):!1===Me?Object.assign({},Oi):Me,pt(le))return Ht(this.currentUrlTree,le,tt);const St=this.parseUrl(le);return Ht(this.currentUrlTree,St,tt)}removeEmptyProps(le){return Object.keys(le).reduce((Me,tt)=>{const St=le[tt];return null!=St&&(Me[tt]=St),Me},{})}processNavigations(){this.navigations.subscribe(le=>{var Me;this.navigated=!0,this.lastSuccessfulId=le.id,this.currentPageId=le.targetPageId,this.events.next(new po(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(Me=this.titleStrategy)||void 0===Me||Me.updateTitle(this.routerState.snapshot),le.resolve(!0)},le=>{this.console.warn(`Unhandled Navigation Error: ${le}`)})}scheduleNavigation(le,Me,tt,St,en){var sn,wn;if(this.disposed)return Promise.resolve(!1);let oi,bi,pi;en?(oi=en.resolve,bi=en.reject,pi=en.promise):pi=new Promise((Gs,Jr)=>{oi=Gs,bi=Jr});const Ki=++this.navigationId;let so;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(tt=this.location.getState()),so=tt&&tt.\u0275routerPageId?tt.\u0275routerPageId:St.replaceUrl||St.skipLocationChange?null!==(sn=this.browserPageId)&&void 0!==sn?sn:0:(null!==(wn=this.browserPageId)&&void 0!==wn?wn:0)+1):so=0,this.setTransition({id:Ki,targetPageId:so,source:Me,restoredState:tt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:le,extras:St,resolve:oi,reject:bi,promise:pi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pi.catch(Gs=>Promise.reject(Gs))}setBrowserUrl(le,Me){const tt=this.urlSerializer.serialize(le),St=Object.assign(Object.assign({},Me.extras.state),this.generateNgRouterState(Me.id,Me.targetPageId));this.location.isCurrentPathEqualTo(tt)||Me.extras.replaceUrl?this.location.replaceState(tt,"",St):this.location.go(tt,"",St)}restoreHistory(le,Me=!1){var tt,St;if("computed"===this.canceledNavigationResolution){const en=this.currentPageId-le.targetPageId;"popstate"!==le.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(tt=this.currentNavigation)||void 0===tt?void 0:tt.finalUrl)||0===en?this.currentUrlTree===(null===(St=this.currentNavigation)||void 0===St?void 0:St.finalUrl)&&0===en&&(this.resetState(le),this.browserUrlTree=le.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(en)}else"replace"===this.canceledNavigationResolution&&(Me&&this.resetState(le),this.resetUrlToCurrentUrlTree())}resetState(le){this.routerState=le.currentRouterState,this.currentUrlTree=le.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,le.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(le,Me,tt){const St=new lo(le.id,this.serializeUrl(le.extractedUrl),Me,tt);this.triggerEvent(St),le.resolve(!1)}generateNgRouterState(le,Me){return"computed"===this.canceledNavigationResolution?{navigationId:le,\u0275routerPageId:Me}:{navigationId:le}}}return me.\u0275fac=function(le){e.$Z()},me.\u0275prov=e.Yz7({token:me,factory:function(){return zo()},providedIn:"root"}),me})();function fr(me){return"imperative"!==me}let Ao=(()=>{class me{constructor(le,Me,tt,St,en){this.router=le,this.route=Me,this.tabIndexAttribute=tt,this.renderer=St,this.el=en,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new B.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(le){this._preserveFragment=(0,e.D6c)(le)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(le){this._skipLocationChange=(0,e.D6c)(le)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(le){this._replaceUrl=(0,e.D6c)(le)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(le){if(null!=this.tabIndexAttribute)return;const Me=this.renderer,tt=this.el.nativeElement;null!==le?Me.setAttribute(tt,"tabindex",le):Me.removeAttribute(tt,"tabindex")}ngOnChanges(le){this.onChanges.next(this)}set routerLink(le){null!=le?(this.commands=Array.isArray(le)?le:[le],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return me.\u0275fac=function(le){return new(le||me)(e.Y36(Ro),e.Y36($i),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq))},me.\u0275dir=e.lG2({type:me,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(le,Me){1&le&&e.NdJ("click",function(){return Me.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),me})(),ea=(()=>{class me{constructor(le,Me,tt){this.router=le,this.route=Me,this.locationStrategy=tt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new B.x,this.subscription=le.events.subscribe(St=>{St instanceof po&&this.updateTargetUrlAndHref()})}set preserveFragment(le){this._preserveFragment=(0,e.D6c)(le)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(le){this._skipLocationChange=(0,e.D6c)(le)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(le){this._replaceUrl=(0,e.D6c)(le)}get replaceUrl(){return this._replaceUrl}set routerLink(le){this.commands=null!=le?Array.isArray(le)?le:[le]:null}ngOnChanges(le){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(le,Me,tt,St,en){return!!(0!==le||Me||tt||St||en||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return me.\u0275fac=function(le){return new(le||me)(e.Y36(Ro),e.Y36($i),e.Y36(ce.S$))},me.\u0275dir=e.lG2({type:me,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(le,Me){1&le&&e.NdJ("click",function(St){return Me.onClick(St.button,St.ctrlKey,St.shiftKey,St.altKey,St.metaKey)}),2&le&&e.uIk("target",Me.target)("href",Me.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),me})(),sl=(()=>{class me{constructor(le,Me,tt,St,en,sn){this.router=le,this.element=Me,this.renderer=tt,this.cdr=St,this.link=en,this.linkWithHref=sn,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=le.events.subscribe(wn=>{wn instanceof po&&this.update()})}ngAfterContentInit(){(0,u.of)(this.links.changes,this.linksWithHrefs.changes,(0,u.of)(null)).pipe((0,X.J)()).subscribe(le=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var le;null===(le=this.linkInputChangesSubscription)||void 0===le||le.unsubscribe();const Me=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(tt=>!!tt).map(tt=>tt.onChanges);this.linkInputChangesSubscription=(0,d.D)(Me).pipe((0,X.J)()).subscribe(tt=>{this.isActive!==this.isLinkActive(this.router)(tt)&&this.update()})}set routerLinkActive(le){const Me=Array.isArray(le)?le:le.split(" ");this.classes=Me.filter(tt=>!!tt)}ngOnChanges(le){this.update()}ngOnDestroy(){var le;this.routerEventsSubscription.unsubscribe(),null===(le=this.linkInputChangesSubscription)||void 0===le||le.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const le=this.hasActiveLinks();this.isActive!==le&&(this.isActive=le,this.cdr.markForCheck(),this.classes.forEach(Me=>{le?this.renderer.addClass(this.element.nativeElement,Me):this.renderer.removeClass(this.element.nativeElement,Me)}),le&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(le))})}isLinkActive(le){const Me=function No(me){return!!me.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return tt=>!!tt.urlTree&&le.isActive(tt.urlTree,Me)}hasActiveLinks(){const le=this.isLinkActive(this.router);return this.link&&le(this.link)||this.linkWithHref&&le(this.linkWithHref)||this.links.some(le)||this.linksWithHrefs.some(le)}}return me.\u0275fac=function(le){return new(le||me)(e.Y36(Ro),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Ao,8),e.Y36(ea,8))},me.\u0275dir=e.lG2({type:me,selectors:[["","routerLinkActive",""]],contentQueries:function(le,Me,tt){if(1&le&&(e.Suo(tt,Ao,5),e.Suo(tt,ea,5)),2&le){let St;e.iGM(St=e.CRH())&&(Me.links=St),e.iGM(St=e.CRH())&&(Me.linksWithHrefs=St)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]}),me})();class Vr{}let Ea=(()=>{class me{constructor(le,Me,tt,St,en){this.router=le,this.injector=tt,this.preloadingStrategy=St,this.loader=en}setUpPreloading(){this.subscription=this.router.events.pipe((0,K.h)(le=>le instanceof po),(0,G.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(le,Me){var tt,St,en;const sn=[];for(const wn of Me){wn.providers&&!wn._injector&&(wn._injector=(0,e.MMx)(wn.providers,le,`Route: ${wn.path}`));const oi=null!==(tt=wn._injector)&&void 0!==tt?tt:le,bi=null!==(St=wn._loadedInjector)&&void 0!==St?St:oi;wn.loadChildren&&!wn._loadedRoutes&&void 0===wn.canLoad||wn.loadComponent&&!wn._loadedComponent?sn.push(this.preloadConfig(oi,wn)):(wn.children||wn._loadedRoutes)&&sn.push(this.processRoutes(bi,null!==(en=wn.children)&&void 0!==en?en:wn._loadedRoutes))}return(0,d.D)(sn).pipe((0,X.J)())}preloadConfig(le,Me){return this.preloadingStrategy.preload(Me,()=>{let tt;tt=Me.loadChildren&&void 0===Me.canLoad?this.loader.loadChildren(le,Me):(0,u.of)(null);const St=tt.pipe((0,ue.z)(en=>{var sn;return null===en?(0,u.of)(void 0):(Me._loadedRoutes=en.routes,Me._loadedInjector=en.injector,this.processRoutes(null!==(sn=en.injector)&&void 0!==sn?sn:le,en.routes))}));if(Me.loadComponent&&!Me._loadedComponent){const en=this.loader.loadComponent(Me);return(0,d.D)([St,en]).pipe((0,X.J)())}return St})}}return me.\u0275fac=function(le){return new(le||me)(e.LFG(Ro),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Vr),e.LFG(er))},me.\u0275prov=e.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const Oa=new e.OlP("");let rl=(()=>{class me{constructor(le,Me,tt={}){this.router=le,this.viewportScroller=Me,this.options=tt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},tt.scrollPositionRestoration=tt.scrollPositionRestoration||"disabled",tt.anchorScrolling=tt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(le=>{le instanceof Cs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=le.navigationTrigger,this.restoredId=le.restoredState?le.restoredState.navigationId:0):le instanceof po&&(this.lastId=le.id,this.scheduleScrollEvent(le,this.router.parseUrl(le.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(le=>{le instanceof Ks&&(le.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(le.position):le.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(le.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(le,Me){this.router.triggerEvent(new Ks(le,"popstate"===this.lastSource?this.store[this.restoredId]:null,Me))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return me.\u0275fac=function(le){e.$Z()},me.\u0275prov=e.Yz7({token:me,factory:me.\u0275fac}),me})();function Ra(me,ve){return{\u0275kind:me,\u0275providers:ve}}function ba(me){return[{provide:Zo,multi:!0,useValue:me}]}function Ul(){const me=(0,e.f3M)(e.zs3);return ve=>{var le,Me;const tt=me.get(e.z2F);if(ve!==tt.components[0])return;const St=me.get(Ro),en=me.get(mc);1===me.get(Fo)&&St.initialNavigation(),null===(le=me.get(Cc,null,e.XFs.Optional))||void 0===le||le.setUpPreloading(),null===(Me=me.get(Oa,null,e.XFs.Optional))||void 0===Me||Me.init(),St.resetRootComponentType(tt.componentTypes[0]),en.closed||(en.next(),en.unsubscribe())}}const mc=new e.OlP("",{factory:()=>new B.x}),Fo=new e.OlP("",{providedIn:"root",factory:()=>1});const Cc=new e.OlP("");function Tl(me){return Ra(0,[{provide:Cc,useExisting:Ea},{provide:Vr,useExisting:me}])}const jc=new e.OlP("ROUTER_FORROOT_GUARD"),Qu=[ce.Ye,{provide:bt,useClass:nt},{provide:Ro,useFactory:zo},kr,{provide:$i,useFactory:function La(me){return me.routerState.root},deps:[Ro]},er];function Os(){return new e.PXZ("Router",Ro)}let Al=(()=>{class me{constructor(le){}static forRoot(le,Me){return{ngModule:me,providers:[Qu,[],ba(le),{provide:jc,useFactory:zr,deps:[[Ro,new e.FiY,new e.tp0]]},{provide:oo,useValue:Me||{}},null!=Me&&Me.useHash?{provide:ce.S$,useClass:ce.Do}:{provide:ce.S$,useClass:ce.b0},{provide:Oa,useFactory:()=>{const me=(0,e.f3M)(Ro),ve=(0,e.f3M)(ce.EM),le=(0,e.f3M)(oo);return le.scrollOffset&&ve.setOffset(le.scrollOffset),new rl(me,ve,le)}},null!=Me&&Me.preloadingStrategy?Tl(Me.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:Os},null!=Me&&Me.initialNavigation?mr(Me):[],[{provide:Na,useFactory:Ul},{provide:e.tb,multi:!0,useExisting:Na}]]}}static forChild(le){return{ngModule:me,providers:[ba(le)]}}}return me.\u0275fac=function(le){return new(le||me)(e.LFG(jc,8))},me.\u0275mod=e.oAB({type:me}),me.\u0275inj=e.cJS({imports:[It]}),me})();function zr(me){return"guarded"}function mr(me){return["disabled"===me.initialNavigation?Ra(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const ve=(0,e.f3M)(Ro);return()=>{ve.setUpLocationChangeListener()}}},{provide:Fo,useValue:2}]).\u0275providers:[],"enabledBlocking"===me.initialNavigation?Ra(2,[{provide:Fo,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:ve=>{const le=ve.get(ce.V_,Promise.resolve());let Me=!1;return()=>le.then(()=>new Promise(St=>{const en=ve.get(Ro),sn=ve.get(mc);(function tt(St){ve.get(Ro).events.pipe((0,K.h)(sn=>sn instanceof po||sn instanceof lo||sn instanceof $o),(0,$.U)(sn=>sn instanceof po||sn instanceof lo&&(0===sn.code||1===sn.code)&&null),(0,K.h)(sn=>null!==sn),(0,k.q)(1)).subscribe(()=>{St()})})(()=>{St(!0),Me=!0}),en.afterPreactivation=()=>(St(!0),Me||sn.closed?(0,u.of)(void 0):sn),en.initialNavigation()}))}}]).\u0275providers:[]]}const Na=new e.OlP("")},5111:(hn,ft,b)=>{"use strict";var e,d;b.d(ft,{U:()=>e}),(d=e=e||(e={}))[d.CONNECTING=0]="CONNECTING",d[d.OPEN=1]="OPEN",d[d.CLOSING=2]="CLOSING",d[d.CLOSED=3]="CLOSED"},430:(hn,ft,b)=>{"use strict";b.d(ft,{Eo:()=>Rt,qZ:()=>Nt});var e=b(5e3),d=b(4793),u=b(9162),f=b(7579),_=b(9808),P=b(6451),x=b(9751),r=b(4968),R=b(8505),L=b(3099),Q=b(5577),N=b(5698),T=b(4004),y=b(4482),E=b(5403),U=b(9300),B=b(2722);const ce="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function V(Ht,Ot,Ye,lt){const Ke=Ot.querySelectorAll(Ht);if(Ke.length){const Tt=Ye.querySelectorAll(Ht);for(let se=0;se<Ke.length;se++)lt(Ke[se],Tt[se])}}let k=0;function O(Ht,Ot){"file"!==Ot.type&&(Ot.value=Ht.value),"radio"===Ot.type&&Ot.name&&(Ot.name=`mat-clone-${Ot.name}-${k++}`)}function K(Ht,Ot){const Ye=Ot.getContext("2d");if(Ye)try{Ye.drawImage(Ht,0,0)}catch(lt){}}function ue(Ht,Ot,Ye,lt){const Ke={top:Ht.top,bottom:Ht.bottom,left:Ht.left,right:Ht.right};return Ot.top&&(Ke.top+=lt),Ot.bottom&&(Ke.bottom+=lt),Ot.left&&(Ke.left+=Ye),Ot.right&&(Ke.right+=Ye),Ke.height=Ke.bottom-Ke.top,Ke.width=Ke.right-Ke.left,Ke}const G=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function ne(Ht,Ot){return Ht.left&&Ht.top?Ot.topLeft:Ht.right&&Ht.top?Ot.topRight:Ht.left&&Ht.bottom?Ot.bottomLeft:Ht.right&&Ht.bottom?Ot.bottomRight:Ht.left||Ht.right?Ot.leftOrRight:Ht.top||Ht.bottom?Ot.topOrBottom:""}function Ce({edges:Ht,initialRectangle:Ot,newRectangle:Ye}){const lt={};return Object.keys(Ht).forEach(Ke=>{lt[Ke]=(Ye[Ke]||0)-(Ot[Ke]||0)}),lt}const oe="resize-active";let W=(()=>{class Ht{constructor(Ye,lt,Ke,Tt){this.platformId=Ye,this.renderer=lt,this.elm=Ke,this.zone=Tt,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=G,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new f.x,this.mousedown=new f.x,this.mousemove=new f.x,this.destroy$=new f.x,this.pointerEventListeners=Y.getInstance(lt,Tt)}ngOnInit(){const Ye=(0,P.T)(this.pointerEventListeners.pointerDown,this.mousedown),lt=(0,P.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,R.b)(({event:mt})=>{if(Tt)try{mt.preventDefault()}catch(cn){}}),(0,L.B)()),Ke=(0,P.T)(this.pointerEventListeners.pointerUp,this.mouseup);let Tt;const se=()=>{Tt&&Tt.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(Tt.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},Fe=()=>Object.assign(Object.assign({},G),this.resizeCursors);Ye.pipe((0,Q.z)(mt=>{function cn(bt){return{clientX:bt.clientX-mt.clientX,clientY:bt.clientY-mt.clientY}}const Tn=()=>{const bt={x:1,y:1};return Tt&&(this.resizeSnapGrid.left&&Tt.edges.left?bt.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&Tt.edges.right&&(bt.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&Tt.edges.top?bt.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&Tt.edges.bottom&&(bt.y=+this.resizeSnapGrid.bottom)),bt};function tn(bt,nt){return{x:Math.ceil(bt.clientX/nt.x),y:Math.ceil(bt.clientY/nt.y)}}return(0,P.T)(lt.pipe((0,N.q)(1)).pipe((0,T.U)(bt=>[,bt])),lt.pipe(function D(){return(0,y.e)((Ht,Ot)=>{let Ye,lt=!1;Ht.subscribe(new E.Q(Ot,Ke=>{const Tt=Ye;Ye=Ke,lt&&Ot.next([Tt,Ke]),lt=!0}))})}())).pipe((0,T.U)(([bt,nt])=>[bt&&cn(bt),cn(nt)])).pipe((0,U.h)(([bt,nt])=>{if(!bt)return!0;const de=Tn(),Qe=tn(bt,de),ze=tn(nt,de);return Qe.x!==ze.x||Qe.y!==ze.y})).pipe((0,T.U)(([,bt])=>{const nt=Tn();return{clientX:Math.round(bt.clientX/nt.x)*nt.x,clientY:Math.round(bt.clientY/nt.y)*nt.y}})).pipe((0,B.R)((0,P.T)(Ke,Ye)))})).pipe((0,U.h)(()=>!!Tt)).pipe((0,T.U)(({clientX:mt,clientY:cn})=>ue(Tt.startingRect,Tt.edges,mt,cn))).pipe((0,U.h)(mt=>this.allowNegativeResizes||!!(mt.height&&mt.width&&mt.height>0&&mt.width>0))).pipe((0,U.h)(mt=>!this.validateResize||this.validateResize({rectangle:mt,edges:Ce({edges:Tt.edges,initialRectangle:Tt.startingRect,newRectangle:mt})})),(0,B.R)(this.destroy$)).subscribe(mt=>{Tt&&Tt.clonedNode&&(this.renderer.setStyle(Tt.clonedNode,"height",`${mt.height}px`),this.renderer.setStyle(Tt.clonedNode,"width",`${mt.width}px`),this.renderer.setStyle(Tt.clonedNode,"top",`${mt.top}px`),this.renderer.setStyle(Tt.clonedNode,"left",`${mt.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Ce({edges:Tt.edges,initialRectangle:Tt.startingRect,newRectangle:mt}),rectangle:mt})}),Tt.currentRect=mt}),Ye.pipe((0,T.U)(({edges:mt})=>mt||{}),(0,U.h)(mt=>Object.keys(mt).length>0),(0,B.R)(this.destroy$)).subscribe(mt=>{Tt&&se();const cn=function q(Ht,Ot){let Ye=0,lt=0;const Ke=Ht.nativeElement.style,se=["transform","-ms-transform","-moz-transform","-o-transform"].map(Fe=>Ke[Fe]).find(Fe=>!!Fe);if(se&&se.includes("translate")&&(Ye=se.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),lt=se.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===Ot)return{height:Ht.nativeElement.offsetHeight,width:Ht.nativeElement.offsetWidth,top:Ht.nativeElement.offsetTop-lt,bottom:Ht.nativeElement.offsetHeight+Ht.nativeElement.offsetTop-lt,left:Ht.nativeElement.offsetLeft-Ye,right:Ht.nativeElement.offsetWidth+Ht.nativeElement.offsetLeft-Ye};{const Fe=Ht.nativeElement.getBoundingClientRect();return{height:Fe.height,width:Fe.width,top:Fe.top-lt,bottom:Fe.bottom-lt,left:Fe.left-Ye,right:Fe.right-Ye,scrollTop:Ht.nativeElement.scrollTop,scrollLeft:Ht.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);Tt={edges:mt,startingRect:cn,currentRect:cn};const Tn=Fe(),tn=ne(Tt.edges,Tn);this.renderer.setStyle(document.body,"cursor",tn),this.setElementClass(this.elm,oe,!0),this.enableGhostResize&&(Tt.clonedNode=function $(Ht){const Ot=Ht.cloneNode(!0),Ye=Ot.querySelectorAll("[id]"),lt=Ht.nodeName.toLowerCase();return Ot.removeAttribute("id"),Ye.forEach(Ke=>{Ke.removeAttribute("id")}),"canvas"===lt?K(Ht,Ot):("input"===lt||"select"===lt||"textarea"===lt)&&O(Ht,Ot),V("canvas",Ht,Ot,K),V("input, textarea, select",Ht,Ot,O),Ot}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(Tt.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(Tt.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(Tt.clonedNode,"left",`${Tt.startingRect.left}px`),this.renderer.setStyle(Tt.clonedNode,"top",`${Tt.startingRect.top}px`),this.renderer.setStyle(Tt.clonedNode,"height",`${Tt.startingRect.height}px`),this.renderer.setStyle(Tt.clonedNode,"width",`${Tt.startingRect.width}px`),this.renderer.setStyle(Tt.clonedNode,"cursor",ne(Tt.edges,Tn)),this.renderer.addClass(Tt.clonedNode,"resize-ghost-element"),Tt.clonedNode.scrollTop=Tt.startingRect.scrollTop,Tt.clonedNode.scrollLeft=Tt.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Ce({edges:mt,initialRectangle:cn,newRectangle:cn}),rectangle:ue(cn,{},0,0)})})}),Ke.pipe((0,B.R)(this.destroy$)).subscribe(()=>{Tt&&(this.renderer.removeClass(this.elm.nativeElement,oe),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Ce({edges:Tt.edges,initialRectangle:Tt.startingRect,newRectangle:Tt.currentRect}),rectangle:Tt.currentRect})}),se(),Tt=null)})}ngOnDestroy(){(0,_.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(Ye,lt,Ke){Ke?this.renderer.addClass(Ye.nativeElement,lt):this.renderer.removeClass(Ye.nativeElement,lt)}}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},Ht.\u0275dir=e.lG2({type:Ht,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),Ht})();class Y{constructor(Ot,Ye){this.pointerDown=new x.y(lt=>{let Ke,Tt;return Ye.runOutsideAngular(()=>{Ke=Ot.listen("document","mousedown",se=>{lt.next({clientX:se.clientX,clientY:se.clientY,event:se})}),ce&&(Tt=Ot.listen("document","touchstart",se=>{lt.next({clientX:se.touches[0].clientX,clientY:se.touches[0].clientY,event:se})}))}),()=>{Ke(),ce&&Tt()}}).pipe((0,L.B)()),this.pointerMove=new x.y(lt=>{let Ke,Tt;return Ye.runOutsideAngular(()=>{Ke=Ot.listen("document","mousemove",se=>{lt.next({clientX:se.clientX,clientY:se.clientY,event:se})}),ce&&(Tt=Ot.listen("document","touchmove",se=>{lt.next({clientX:se.targetTouches[0].clientX,clientY:se.targetTouches[0].clientY,event:se})}))}),()=>{Ke(),ce&&Tt()}}).pipe((0,L.B)()),this.pointerUp=new x.y(lt=>{let Ke,Tt,se;return Ye.runOutsideAngular(()=>{Ke=Ot.listen("document","mouseup",Fe=>{lt.next({clientX:Fe.clientX,clientY:Fe.clientY,event:Fe})}),ce&&(Tt=Ot.listen("document","touchend",Fe=>{lt.next({clientX:Fe.changedTouches[0].clientX,clientY:Fe.changedTouches[0].clientY,event:Fe})}),se=Ot.listen("document","touchcancel",Fe=>{lt.next({clientX:Fe.changedTouches[0].clientX,clientY:Fe.changedTouches[0].clientY,event:Fe})}))}),()=>{Ke(),ce&&(Tt(),se())}}).pipe((0,L.B)())}static getInstance(Ot,Ye){return Y.instance||(Y.instance=new Y(Ot,Ye)),Y.instance}}let Ae=(()=>{class Ht{constructor(Ye,lt,Ke,Tt){this.renderer=Ye,this.element=lt,this.zone=Ke,this.resizableDirective=Tt,this.resizeEdges={},this.eventListeners={},this.destroy$=new f.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(Ye=>{this.onMousedown(Ye,Ye.clientX,Ye.clientY)}),this.listenOnTheHost("mouseup").subscribe(Ye=>{this.onMouseup(Ye.clientX,Ye.clientY)}),ce&&(this.listenOnTheHost("touchstart").subscribe(Ye=>{this.onMousedown(Ye,Ye.touches[0].clientX,Ye.touches[0].clientY)}),(0,P.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(Ye=>{this.onMouseup(Ye.changedTouches[0].clientX,Ye.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(Ye,lt,Ke){Ye.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",Tt=>{this.onMousemove(Tt,Tt.targetTouches[0].clientX,Tt.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",Tt=>{this.onMousemove(Tt,Tt.clientX,Tt.clientY)})),this.resizable.mousedown.next({clientX:lt,clientY:Ke,edges:this.resizeEdges})}onMouseup(Ye,lt){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:Ye,clientY:lt,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(Ye,lt,Ke){this.resizable.mousemove.next({clientX:lt,clientY:Ke,edges:this.resizeEdges,event:Ye})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(Ye=>{this.eventListeners[Ye](),delete this.eventListeners[Ye]})}listenOnTheHost(Ye){return(0,r.R)(this.element.nativeElement,Ye).pipe((0,B.R)(this.destroy$))}}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(W,8))},Ht.\u0275dir=e.lG2({type:Ht,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),Ht})(),Ee=(()=>{class Ht{}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)},Ht.\u0275mod=e.oAB({type:Ht}),Ht.\u0275inj=e.cJS({}),Ht})();const qe=["terminal"],ye=["resizeBox"],Ge=["detectBox"],X=function(Ht){return{"handle-active":Ht}},be=function(){return{top:!1}},we=function(){return{left:!1}},Ie=function(){return{right:!0}},ct=function(){return{right:!1}},dt=function(){return{bottom:!0}},et=function(){return{bottom:!1}};let vt=(()=>{class Ht{constructor(Ye){this.hostRef=Ye,this.handlerToCheckElementConnection=void 0,this.propertyChangeQueue=[],this.itemsToBeHandled=new f.x,this.handleImmediate=()=>{if(!this.handlerToCheckElementConnection){let lt=this.propertyChangeQueue.splice(0,1);1==lt.length&&this.itemsToBeHandled.next(lt[0])}}}get renderObservable(){return this.itemsToBeHandled}handleNextOne(Ye=!1){!this.hostRef.nativeElement.isConnected||Ye?this.pollAndHandle(this.hostRef.nativeElement.isConnected?"LAZY":"NOT_CONNECTED_ELEMENT"):this.handleImmediate()}pushAndHandle(Ye,lt=!1){let Ke=Object.assign({},Ye);this.propertyChangeQueue.push(Ke),this.handleNextOne(lt)}pollAndHandle(Ye){(()=>{if(this.handlerToCheckElementConnection)return;const Ke=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(Ke),this.handlerToCheckElementConnection=void 0,this.handleImmediate())},"NOT_CONNECTED_ELEMENT"===Ye?500:30);this.handlerToCheckElementConnection=Ke})()}ngOnDestroy(){this.handlerToCheckElementConnection&&clearInterval(this.handlerToCheckElementConnection)}}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)(e.LFG(e.SBq))},Ht.\u0275prov=e.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})(),ht=(()=>{class Ht{constructor(){}ngOnInit(){}}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)},Ht.\u0275cmp=e.Xpm({type:Ht,selectors:[["global-style"]],decls:0,vars:0,template:function(Ye,lt){},styles:['/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;inset:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;inset:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{-webkit-text-decoration:overline double underline;text-decoration:overline double underline}.xterm-overline.xterm-underline-3{-webkit-text-decoration:overline wavy underline;text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{-webkit-text-decoration:overline dotted underline;text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{-webkit-text-decoration:overline dashed underline;text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n'],encapsulation:2}),Ht})(),Rt=(()=>{class Ht{constructor(Ye,lt){this.renderer=Ye,this.hostRef=lt,this.dataSubject=new f.x,this.keySubject=new f.x,this.keyInputSubjectSubscription=void 0,this.keyEventSubjectSubscription=void 0,this.allLogsSubjectSubscription=void 0,this.dataSourceSubscription=void 0,this.resizableObservers=[],this.dataSource=void 0,this.paddingSize=5,this.stylesForResizeBox={display:"block"},this.keyInputEmitter=new e.vpe,this.keyEventEmitter=new e.vpe,this.dataEmitter=this.keyInputEmitter,this.keyEmitter=this.keyEventEmitter,this._xtermOptions={},this.lastDraggedPosition=void 0,this._draggable=!1,this._stylesInput={},this.handleToCheckLazyContainer=void 0,this.lastDetectedWidth=0,this.linearRender=new vt(lt)}set _dataSource(Ye){!Ye||(null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=Ye,this.dataSourceSubscription=this.dataSource.subscribe(lt=>this.write(lt)))}set draggable(Ye){this._draggable=Ye}get draggable(){return this._draggable}setMinWidth(Ye){this._minWidthInput=Ye}setMinHeight(Ye){this._minHeightInput=Ye}setDraggable(Ye){this._draggable=Ye,this.lastDraggedPosition=void 0}setXtermOptions(Ye){this._xtermOptions=Ye,this.linearRender.pushAndHandle({time:new Date,type:"none"})}setRows(Ye){this._rowsInput!=Ye&&(this._rowsInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}))}setCols(Ye){this._colsInput!=Ye&&(this._colsInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}))}setStyle(Ye){var lt;JSON.stringify(null!==(lt=this._stylesInput)&&void 0!==lt?lt:{})!=JSON.stringify(null!=Ye?Ye:{})&&(this._stylesInput=Ye,this.linearRender.pushAndHandle({time:new Date,type:"none"}))}setup(){this.xterm&&(this.xterm.onData(Ye=>{this.dataSubject.next(Ye)}),this.xterm.onKey(Ye=>{this.keySubject.next(Ye)})),this.keyInputSubjectSubscription=this.dataSubject.subscribe(Ye=>{this.keyInputEmitter.emit(Ye)}),this.keyEventSubjectSubscription=this.keySubject.subscribe(Ye=>{this.keyEventEmitter.emit(Ye)}),this.setupResizeObservers(),this.allLogsSubjectSubscription=this.linearRender.renderObservable.subscribe(Ye=>{this.coordinateOuterAndTerminal(Ye),this.linearRender.handleNextOne()}),this.linearRender.handleNextOne()}setOuterDimensions(Ye,lt,Ke,Tt){this.linearRender.pushAndHandle({time:new Date,type:"dragged",dragged:{draggedWidth:`${Ke}px`,draggedHeight:`${Tt}px`}})}applyStylesToResizeBox(){Object.keys(this.stylesForResizeBox).map(Ye=>({key:Ye,value:this.stylesForResizeBox[Ye]})).forEach(({key:Ye,value:lt})=>{this.resizeBox&&(lt?this.renderer.setStyle(this.resizeBox.nativeElement,Ye,lt):this.renderer.removeStyle(this.resizeBox.nativeElement,Ye))}),this.stylesForResizeBox=this.stylesForResizeBox}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new u.FitAddon,this.xterm=new d.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})):this.handleToCheckLazyContainer=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.xterm.open(this.terminalOuter.nativeElement),this.xterm.loadAddon(this.fitAddon),this.setup(),this.linearRender.pushAndHandle({time:new Date,type:"none"})}finally{this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer)}},500)}ngOnChanges(Ye){var lt,Ke,Tt,se;console.group("onChanges"),console.debug("prop: ",Ye),console.groupEnd(),null!=Ye&&Ye._rowsInput&&(null===(lt=null==Ye?void 0:Ye._rowsInput)||void 0===lt?void 0:lt.previousValue)!=(null===(Ke=null==Ye?void 0:Ye._rowsInput)||void 0===Ke?void 0:Ke.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"rowChanged"}),null!=Ye&&Ye._colsInput&&(null===(Tt=null==Ye?void 0:Ye._colsInput)||void 0===Tt?void 0:Tt.previousValue)!=(null===(se=null==Ye?void 0:Ye._colsInput)||void 0===se?void 0:se.currentValue)&&this.linearRender.pushAndHandle({time:new Date,type:"columnChanged"}),null!=Ye&&Ye.draggable&&this.linearRender.pushAndHandle({time:new Date,type:"none"})}coordinateOuterAndTerminal(Ye){var lt;console.debug(`changeList: ${JSON.stringify(Ye)}`),this.xterm&&(null!==(null===(lt=this.hostRef.nativeElement)||void 0===lt?void 0:lt.offsetParent)?(this.doUpdateXtermStyles(),this.doAdjustDimensionOfResizeBox(Ye),this.doAdjustSizeOfXtermScreen(Ye),this.doUpdateViewportAndResizeBoxWithPixcelUnit()):console.debug("`display` of host element was set to `none`"))}doUpdateXtermStyles(){var Ye,lt;!this.xterm||(this.xterm.options=Object.assign({},this._xtermOptions),!(null===(Ye=this._xtermOptions.theme)||void 0===Ye)&&Ye.background&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),null!==(lt=this._xtermOptions.theme)&&void 0!==lt&&lt.border&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)))}doAdjustDimensionOfResizeBox(Ye){var lt,Ke;if(this.stylesForResizeBox=Object.assign(Object.assign(Object.assign({},this.stylesForResizeBox),this._stylesInput),{width:this.stylesForResizeBox.width,height:this.stylesForResizeBox.height}),"dragged"===Ye.type){const Tt=null!==(lt=this._minWidthInput)&&void 0!==lt?lt:24,se=null!==(Ke=this._minHeightInput)&&void 0!==Ke?Ke:24,Fe=parseInt(Ye.dragged.draggedWidth)>Tt?Ye.dragged.draggedWidth:`${Tt}px`,he=parseInt(Ye.dragged.draggedHeight)>se?Ye.dragged.draggedHeight:`${se}px`;this.stylesForResizeBox.width=Fe,this.stylesForResizeBox.height=he,this.lastDraggedPosition={width:Fe,height:he},this.applyStylesToResizeBox()}else if(!this.draggable||!this.lastDraggedPosition){const Tt=getComputedStyle(this.hostRef.nativeElement).width,se=getComputedStyle(this.detectBox.nativeElement).width;let Fe=!1;parseFloat(se)<parseFloat(Tt)&&(Fe=!0),Fe?(this.stylesForResizeBox.width=`${parseFloat(se)}px`,this.applyStylesToResizeBox()):(this._rowsInput||(this.stylesForResizeBox.height="100%"),this._colsInput||(this.stylesForResizeBox.width="100%"),this.applyStylesToResizeBox())}}doAdjustSizeOfXtermScreen(Ye){var lt,Ke,Tt;!this.xterm||("rowChanged"==Ye.type&&this._rowsInput||"columnChanged"==Ye.type&&this._colsInput?this.xterm.resize(null!==(lt=this._colsInput)&&void 0!==lt?lt:this.xterm.cols,null!==(Ke=this._rowsInput)&&void 0!==Ke?Ke:this.xterm.rows):this.xterm.element&&(this.xterm.element.style.paddingLeft=`${this.paddingSize}px`,this.printDimension("Before fitAddon.fit() of Xterm"),null===(Tt=this.fitAddon)||void 0===Tt||Tt.fit(),this.printDimension("After fitAddon.fit() of Xterm"),this.xterm.element.style.paddingLeft="0px"))}doUpdateViewportAndResizeBoxWithPixcelUnit(){var Ye;if(null!==(Ye=this.xterm)&&void 0!==Ye&&Ye.element){let lt=this.xterm.element.getElementsByClassName("xterm-screen")[0],Ke=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const Tt=lt.clientWidth,se=lt.clientHeight,he=this.underlying._core.viewport.scrollBarWidth;parseInt(getComputedStyle(this.hostRef.nativeElement).width),this.renderer.setStyle(Ke,"width",`${Tt+he}px`);const cn=Tt+he+2*this.paddingSize,tn=parseInt(getComputedStyle(this.hostRef.nativeElement).width),bt=cn>tn?tn:cn;this.stylesForResizeBox=Object.assign(Object.assign({},this.stylesForResizeBox),{width:`${bt}px`,height:`${se+2*this.paddingSize}px`}),this.applyStylesToResizeBox(),this.printDimension("After update the dimensions for all boxes with pixel values")}}printDimension(Ye){var lt;if((0,e.X6Q)()&&(null===(lt=this.xterm)||void 0===lt?void 0:lt.element)){let Ke=this.resizeBox.nativeElement,Tt=this.xterm.element.getElementsByClassName("xterm-screen")[0],se=this.xterm.element.getElementsByClassName("xterm-viewport")[0];const Fe=Tt.clientWidth,he=Tt.clientHeight;console.group(`${Ye}`),console.debug(`width(resizeBox): ${getComputedStyle(Ke).width},\nwidth(viewport): ${getComputedStyle(se).width},\nwidth(screen): ${Fe}\nscrollBarWidth: ${this.scrollBarWidth}`),console.debug(`height(resizeBox): ${getComputedStyle(Ke).height},\nheight(viewport) ${getComputedStyle(se).height},\nheight(screen): ${he}`),console.groupEnd()}}setupResizeObservers(){this.resizableObservers=[];let Ye=this.observeXtermViewportDimension(),lt=this.observeHostDimension();Ye&&this.resizableObservers.push(Ye),lt&&this.resizableObservers.push(lt)}observeXtermViewportDimension(){let Ye=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(Ye){const lt=new ResizeObserver(Ke=>{var Tt,se;const Fe=null===(Tt=this.terminalOuter.nativeElement)||void 0===Tt?void 0:Tt.clientWidth,he=null===(se=this.terminalOuter.nativeElement)||void 0===se?void 0:se.clientHeight;for(let mt of Ke)if(mt.contentBoxSize.length>0){let cn=mt.target.clientWidth,Tn=mt.target.clientHeight;(Fe&&cn>Fe||he&&Tn>he)&&(console.debug("Changes on a xterm viewport element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"xtermViewportExceedingOuterDiv",xtermViewportExceedingOuterDiv:{width:`${cn}`,height:`${Tn}`,outerDivWidth:`${Fe}`,outerDivHeight:`${he}`}},!0))}});return lt.observe(Ye),lt}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let Ye=this.hostRef.nativeElement,lt=this.detectBox.nativeElement;if(Ye&&lt){const Ke=new ResizeObserver(Tt=>{for(let se of Tt){if(se.target===Ye&&se.contentBoxSize.length>0){let Fe=getComputedStyle(se.target).width,he=getComputedStyle(se.target).height;parseInt(Fe)>=0&&parseInt(he)>=0&&(console.debug("Changes on a host element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"hostResized",hostResized:{width:`${Fe}`,height:`${he}`}},!0))}if(se.target===lt&&se.contentBoxSize.length>0){let Fe=getComputedStyle(se.target).width;parseInt(Fe)>=0&&parseInt(Fe)<=this.lastDetectedWidth&&(console.debug("Changes on a detect-box element will be handled."),this.linearRender.pushAndHandle({time:new Date,type:"detectBoxResized",detectBoxResized:{width:`${Fe}`}},!0)),this.lastDetectedWidth=parseInt(Fe)}}});return Ke.observe(Ye),Ke.observe(lt),Ke}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.resizableObservers.forEach(Ye=>Ye.disconnect()),this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.handleToCheckLazyContainer&&clearInterval(this.handleToCheckLazyContainer),this.xterm&&this.xterm.dispose(),console.debug("All resources has been cleaned up.")}write(Ye){var lt;null===(lt=this.xterm)||void 0===lt||lt.write(Ye)}get keyInput(){return this.dataSubject}onData(){return this.dataSubject}get keyEventInput(){return this.keySubject}onKey(){return this.keySubject}get underlying(){return this.xterm}get isDraggableOnEdgeActivated(){return this._draggable}get scrollBarWidth(){return this.underlying._core.viewport.scrollBarWidth}onResizeEnd(Ye,lt,Ke,Tt){this.setOuterDimensions(Ye,lt,Ke,Tt)}validatorFactory(){return lt=>!!this._draggable}findCssStyleRule(Ye){for(let lt=0;lt<document.styleSheets.length;lt++){let Ke=document.styleSheets.item(lt);if(Ke)for(let Tt=0;Tt<Ke.cssRules.length;Tt++){let se=Ke.cssRules.item(Tt);if("selectorText"in se&&se.selectorText.includes(Ye))return se}}}}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)(e.Y36(e.Qsj),e.Y36(e.SBq))},Ht.\u0275cmp=e.Xpm({type:Ht,selectors:[["ng-terminal"]],viewQuery:function(Ye,lt){if(1&Ye&&(e.Gf(qe,7),e.Gf(ye,7),e.Gf(Ge,7)),2&Ye){let Ke;e.iGM(Ke=e.CRH())&&(lt.terminalOuter=Ke.first),e.iGM(Ke=e.CRH())&&(lt.resizeBox=Ke.first),e.iGM(Ke=e.CRH())&&(lt.detectBox=Ke.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent",dataEmitter:"data",keyEmitter:"key"},features:[e._Bn([vt]),e.TTD],decls:11,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"],[2,"width","100%","height","0px","position","absolute"],["detectBox",""]],template:function(Ye,lt){1&Ye&&(e._UZ(0,"global-style"),e.TgZ(1,"div",0,1),e.NdJ("resizeEnd",function(Tt){let se;return lt.onResizeEnd(Tt.rectangle.left,Tt.rectangle.top,null!==(se=Tt.rectangle.width)&&void 0!==se?se:0,null!==(se=Tt.rectangle.height)&&void 0!==se?se:0)}),e._UZ(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),e.qZA(),e._UZ(9,"div",8,9)),2&Ye&&(e.xp6(1),e.Q6J("validateResize",lt.validatorFactory())("enableGhostResize",!0),e.xp6(4),e.Q6J("ngClass",e.VKq(10,X,lt.isDraggableOnEdgeActivated))("resizeEdges",e.DdM(12,be)),e.xp6(1),e.Q6J("ngClass",e.VKq(13,X,lt.isDraggableOnEdgeActivated))("resizeEdges",e.DdM(15,we)),e.xp6(1),e.Q6J("ngClass",e.VKq(16,X,lt.isDraggableOnEdgeActivated))("resizeEdges",lt.isDraggableOnEdgeActivated?e.DdM(18,Ie):e.DdM(19,ct)),e.xp6(1),e.Q6J("ngClass",e.VKq(20,X,lt.isDraggableOnEdgeActivated))("resizeEdges",lt.isDraggableOnEdgeActivated?e.DdM(22,dt):e.DdM(23,et)))},dependencies:[W,Ae,_.mk,ht],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:100%;width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0;top:0}.resize-handle-right[_ngcontent-%COMP%]{right:0;top:0}"],changeDetection:0}),Ht})(),Nt=(()=>{class Ht{}return Ht.\u0275fac=function(Ye){return new(Ye||Ht)},Ht.\u0275mod=e.oAB({type:Ht}),Ht.\u0275inj=e.cJS({imports:[Ee,_.ez]}),Ht})()},3877:(hn,ft,b)=>{"use strict";b.d(ft,{QG:()=>q,ap:()=>ue});var e=b(5e3),d=b(655),u=b(2313),f=b(9808);const _=["wrapper"],P=["sourceImage"];function x(ne,Ce){if(1&ne){const oe=e.EpF();e.TgZ(0,"img",4,5),e.NdJ("load",function(){e.CHM(oe);const te=e.oxw();return e.KtG(te.imageLoadedInView())})("mousedown",function(te){e.CHM(oe);const W=e.oxw();return e.KtG(W.startMove(te,W.moveTypes.Drag))})("touchstart",function(te){e.CHM(oe);const W=e.oxw();return e.KtG(W.startMove(te,W.moveTypes.Drag))}),e.qZA()}if(2&ne){const oe=e.oxw();e.Udp("visibility",oe.imageVisible?"visible":"hidden")("transform",oe.safeTransformStyle),e.ekj("ngx-ic-draggable",!oe.disabled&&oe.allowMoveImage),e.Q6J("src",oe.safeImgDataUrl,e.LSH),e.uIk("alt",oe.imageAltText)}}function r(ne,Ce){if(1&ne){const oe=e.EpF();e.ynx(0),e.TgZ(1,"span",9),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"topleft"))})("touchstart",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"topleft"))}),e._UZ(2,"span",10),e.qZA(),e.TgZ(3,"span",11),e._UZ(4,"span",10),e.qZA(),e.TgZ(5,"span",12),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"topright"))})("touchstart",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"topright"))}),e._UZ(6,"span",10),e.qZA(),e.TgZ(7,"span",13),e._UZ(8,"span",10),e.qZA(),e.TgZ(9,"span",14),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"bottomright"))})("touchstart",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"bottomright"))}),e._UZ(10,"span",10),e.qZA(),e.TgZ(11,"span",15),e._UZ(12,"span",10),e.qZA(),e.TgZ(13,"span",16),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"bottomleft"))})("touchstart",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"bottomleft"))}),e._UZ(14,"span",10),e.qZA(),e.TgZ(15,"span",17),e._UZ(16,"span",10),e.qZA(),e.TgZ(17,"span",18),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"top"))})("touchstart",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"top"))}),e.qZA(),e.TgZ(18,"span",19),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"right"))})("touchstart",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"right"))}),e.qZA(),e.TgZ(19,"span",20),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"bottom"))})("touchstart",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"bottom"))}),e.qZA(),e.TgZ(20,"span",21),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"left"))})("touchstart",function(te){e.CHM(oe);const W=e.oxw(2);return e.KtG(W.startMove(te,W.moveTypes.Resize,"left"))}),e.qZA(),e.BQk()}}function R(ne,Ce){if(1&ne){const oe=e.EpF();e.TgZ(0,"div",6),e.NdJ("keydown",function(te){e.CHM(oe);const W=e.oxw();return e.KtG(W.keyboardAccess(te))}),e.TgZ(1,"div",7),e.NdJ("mousedown",function(te){e.CHM(oe);const W=e.oxw();return e.KtG(W.startMove(te,W.moveTypes.Move))})("touchstart",function(te){e.CHM(oe);const W=e.oxw();return e.KtG(W.startMove(te,W.moveTypes.Move))}),e.qZA(),e.YNc(2,r,21,0,"ng-container",8),e.qZA()}if(2&ne){const oe=e.oxw();e.Udp("top",oe.cropper.y1,"px")("left",oe.cropper.x1,"px")("width",oe.cropper.x2-oe.cropper.x1,"px")("height",oe.cropper.y2-oe.cropper.y1,"px")("margin-left","center"===oe.alignImage?oe.marginLeft:null)("visibility",oe.imageVisible?"visible":"hidden"),e.ekj("ngx-ic-round",oe.roundCropper),e.xp6(2),e.Q6J("ngIf",!oe.hideResizeSquares)}}class L{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(Ce){Object.keys(Ce).filter(oe=>oe in this).forEach(oe=>this[oe]=Ce[oe]),this.validateOptions()}setOptionsFromChanges(Ce){Object.keys(Ce).filter(oe=>oe in this).forEach(oe=>this[oe]=Ce[oe].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var Q=(()=>{return(ne=Q||(Q={})).Drag="drag",ne.Move="move",ne.Resize="resize",ne.Pinch="pinch",Q;var ne})();function D(ne,Ce){return ne/100*Ce}let U=(()=>{class ne{crop(oe,z,te,W){const Y=this.getImagePosition(oe,z,te,W),Ae=Y.x2-Y.x1,Ee=Y.y2-Y.y1,qe=document.createElement("canvas");qe.width=Ae,qe.height=Ee;const ye=qe.getContext("2d");if(!ye)return null;null!=W.backgroundColor&&(ye.fillStyle=W.backgroundColor,ye.fillRect(0,0,Ae,Ee));const Ge=(W.transform.scale||1)*(W.transform.flipH?-1:1),X=(W.transform.scale||1)*(W.transform.flipV?-1:1),{translateH:be,translateV:we}=this.getCanvasTranslate(oe,z,W),Ie=z.transformed;ye.setTransform(Ge,0,0,X,Ie.size.width/2+be,Ie.size.height/2+we),ye.translate(-Y.x1/Ge,-Y.y1/X),ye.rotate((W.transform.rotate||0)*Math.PI/180),ye.drawImage(Ie.image,-Ie.size.width/2,-Ie.size.height/2);const ct={width:Ae,height:Ee,imagePosition:Y,cropperPosition:Object.assign({},te)};W.containWithinAspectRatio&&(ct.offsetImagePosition=this.getOffsetImagePosition(oe,z,te,W));const dt=this.getResizeRatio(Ae,Ee,W);return 1!==dt&&(ct.width=Math.round(Ae*dt),ct.height=W.maintainAspectRatio?Math.round(ct.width/W.aspectRatio):Math.round(Ee*dt),function E(ne,Ce,oe){const z=ne.width,te=ne.height,W=z/(Ce=Math.round(Ce)),Y=te/(oe=Math.round(oe)),Ae=Math.ceil(W/2),Ee=Math.ceil(Y/2),qe=ne.getContext("2d");if(qe){const ye=qe.getImageData(0,0,z,te),Ge=qe.createImageData(Ce,oe),X=ye.data,be=Ge.data;for(let we=0;we<oe;we++)for(let Ie=0;Ie<Ce;Ie++){const ct=4*(Ie+we*Ce),dt=we*Y;let et=0,vt=0,ht=0,Rt=0,Nt=0,At=0,st=0;const ot=Math.floor(Ie*W),ge=Math.floor(we*Y);let ke=Math.ceil((Ie+1)*W),rt=Math.ceil((we+1)*Y);ke=Math.min(ke,z),rt=Math.min(rt,te);for(let yt=ge;yt<rt;yt++){const Pt=Math.abs(dt-yt)/Ee,Ht=Ie*W,Ot=Pt*Pt;for(let Ye=ot;Ye<ke;Ye++){const lt=Math.abs(Ht-Ye)/Ae,Ke=Math.sqrt(Ot+lt*lt);if(Ke>=1)continue;et=2*Ke*Ke*Ke-3*Ke*Ke+1;const Tt=4*(Ye+yt*z);st+=et*X[Tt+3],ht+=et,X[Tt+3]<255&&(et=et*X[Tt+3]/250),Rt+=et*X[Tt],Nt+=et*X[Tt+1],At+=et*X[Tt+2],vt+=et}}be[ct]=Rt/vt,be[ct+1]=Nt/vt,be[ct+2]=At/vt,be[ct+3]=st/ht}ne.width=Ce,ne.height=oe,qe.putImageData(Ge,0,0)}}(qe,ct.width,ct.height)),ct.base64=qe.toDataURL("image/"+W.format,this.getQuality(W)),ct}getCanvasTranslate(oe,z,te){if("px"===te.transform.translateUnit){const W=this.getRatio(oe,z);return{translateH:(te.transform.translateH||0)*W,translateV:(te.transform.translateV||0)*W}}return{translateH:te.transform.translateH?D(te.transform.translateH,z.transformed.size.width):0,translateV:te.transform.translateV?D(te.transform.translateV,z.transformed.size.height):0}}getRatio(oe,z){return z.transformed.size.width/oe.nativeElement.offsetWidth}getImagePosition(oe,z,te,W){const Y=this.getRatio(oe,z),Ae={x1:Math.round(te.x1*Y),y1:Math.round(te.y1*Y),x2:Math.round(te.x2*Y),y2:Math.round(te.y2*Y)};return W.containWithinAspectRatio||(Ae.x1=Math.max(Ae.x1,0),Ae.y1=Math.max(Ae.y1,0),Ae.x2=Math.min(Ae.x2,z.transformed.size.width),Ae.y2=Math.min(Ae.y2,z.transformed.size.height)),Ae}getOffsetImagePosition(oe,z,te,W){const Ee=z.transformed.size.width/oe.nativeElement.offsetWidth;let qe,ye;(W.canvasRotation+z.exifTransform.rotate)%2?(qe=(z.transformed.size.width-z.original.size.height)/2,ye=(z.transformed.size.height-z.original.size.width)/2):(qe=(z.transformed.size.width-z.original.size.width)/2,ye=(z.transformed.size.height-z.original.size.height)/2);const Ge={x1:Math.round(te.x1*Ee)-qe,y1:Math.round(te.y1*Ee)-ye,x2:Math.round(te.x2*Ee)-qe,y2:Math.round(te.y2*Ee)-ye};return W.containWithinAspectRatio||(Ge.x1=Math.max(Ge.x1,0),Ge.y1=Math.max(Ge.y1,0),Ge.x2=Math.min(Ge.x2,z.transformed.size.width),Ge.y2=Math.min(Ge.y2,z.transformed.size.height)),Ge}getResizeRatio(oe,z,te){const W=te.resizeToWidth/oe,Y=te.resizeToHeight/z,Ae=new Array;te.resizeToWidth>0&&Ae.push(W),te.resizeToHeight>0&&Ae.push(Y);const Ee=0===Ae.length?1:Math.min(...Ae);return Ee>1&&!te.onlyScaleDown?Ee:Math.min(Ee,1)}getQuality(oe){return Math.min(1,Math.max(0,oe.imageQuality/100))}}return ne.\u0275fac=function(oe){return new(oe||ne)},ne.\u0275prov=e.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),B=(()=>{class ne{resetCropperPosition(oe,z,te){if(null==oe||!oe.nativeElement)return;const W=oe.nativeElement;if(te.cropperStaticHeight&&te.cropperStaticWidth)z.x1=0,z.x2=W.offsetWidth>te.cropperStaticWidth?te.cropperStaticWidth:W.offsetWidth,z.y1=0,z.y2=W.offsetHeight>te.cropperStaticHeight?te.cropperStaticHeight:W.offsetHeight;else{const Y=Math.min(te.cropperScaledMaxWidth,W.offsetWidth),Ae=Math.min(te.cropperScaledMaxHeight,W.offsetHeight);if(te.maintainAspectRatio)if(W.offsetWidth/te.aspectRatio<W.offsetHeight){z.x1=0,z.x2=Y;const Ee=Y/te.aspectRatio;z.y1=(W.offsetHeight-Ee)/2,z.y2=z.y1+Ee}else{z.y1=0,z.y2=Ae;const Ee=Ae*te.aspectRatio;z.x1=(W.offsetWidth-Ee)/2,z.x2=z.x1+Ee}else z.x1=0,z.x2=Y,z.y1=0,z.y2=Ae}}move(oe,z,te){const W=this.getClientX(oe)-z.clientX,Y=this.getClientY(oe)-z.clientY;te.x1=z.x1+W,te.y1=z.y1+Y,te.x2=z.x2+W,te.y2=z.y2+Y}resize(oe,z,te,W,Y){const Ae=this.getClientX(oe)-z.clientX,Ee=this.getClientY(oe)-z.clientY;switch(z.position){case"left":te.x1=Math.min(Math.max(z.x1+Ae,te.x2-Y.cropperScaledMaxWidth),te.x2-Y.cropperScaledMinWidth);break;case"topleft":te.x1=Math.min(Math.max(z.x1+Ae,te.x2-Y.cropperScaledMaxWidth),te.x2-Y.cropperScaledMinWidth),te.y1=Math.min(Math.max(z.y1+Ee,te.y2-Y.cropperScaledMaxHeight),te.y2-Y.cropperScaledMinHeight);break;case"top":te.y1=Math.min(Math.max(z.y1+Ee,te.y2-Y.cropperScaledMaxHeight),te.y2-Y.cropperScaledMinHeight);break;case"topright":te.x2=Math.max(Math.min(z.x2+Ae,te.x1+Y.cropperScaledMaxWidth),te.x1+Y.cropperScaledMinWidth),te.y1=Math.min(Math.max(z.y1+Ee,te.y2-Y.cropperScaledMaxHeight),te.y2-Y.cropperScaledMinHeight);break;case"right":te.x2=Math.max(Math.min(z.x2+Ae,te.x1+Y.cropperScaledMaxWidth),te.x1+Y.cropperScaledMinWidth);break;case"bottomright":te.x2=Math.max(Math.min(z.x2+Ae,te.x1+Y.cropperScaledMaxWidth),te.x1+Y.cropperScaledMinWidth),te.y2=Math.max(Math.min(z.y2+Ee,te.y1+Y.cropperScaledMaxHeight),te.y1+Y.cropperScaledMinHeight);break;case"bottom":te.y2=Math.max(Math.min(z.y2+Ee,te.y1+Y.cropperScaledMaxHeight),te.y1+Y.cropperScaledMinHeight);break;case"bottomleft":te.x1=Math.min(Math.max(z.x1+Ae,te.x2-Y.cropperScaledMaxWidth),te.x2-Y.cropperScaledMinWidth),te.y2=Math.max(Math.min(z.y2+Ee,te.y1+Y.cropperScaledMaxHeight),te.y1+Y.cropperScaledMinHeight);break;case"center":const qe=oe.scale,ye=Math.min(Math.max(Y.cropperScaledMinWidth,Math.abs(z.x2-z.x1)*qe),Y.cropperScaledMaxWidth),Ge=Math.min(Math.max(Y.cropperScaledMinHeight,Math.abs(z.y2-z.y1)*qe),Y.cropperScaledMaxHeight);te.x1=z.clientX-ye/2,te.x2=z.clientX+ye/2,te.y1=z.clientY-Ge/2,te.y2=z.clientY+Ge/2,te.x1<0?(te.x2-=te.x1,te.x1=0):te.x2>W.width&&(te.x1-=te.x2-W.width,te.x2=W.width),te.y1<0?(te.y2-=te.y1,te.y1=0):te.y2>W.height&&(te.y1-=te.y2-W.height,te.y2=W.height)}Y.maintainAspectRatio&&this.checkAspectRatio(z.position,te,W,Y)}checkAspectRatio(oe,z,te,W){let Y=0,Ae=0;switch(oe){case"top":z.x2=z.x1+(z.y2-z.y1)*W.aspectRatio,Y=Math.max(z.x2-te.width,0),Ae=Math.max(0-z.y1,0),(Y>0||Ae>0)&&(z.x2-=Ae*W.aspectRatio>Y?Ae*W.aspectRatio:Y,z.y1+=Ae*W.aspectRatio>Y?Ae:Y/W.aspectRatio);break;case"bottom":z.x2=z.x1+(z.y2-z.y1)*W.aspectRatio,Y=Math.max(z.x2-te.width,0),Ae=Math.max(z.y2-te.height,0),(Y>0||Ae>0)&&(z.x2-=Ae*W.aspectRatio>Y?Ae*W.aspectRatio:Y,z.y2-=Ae*W.aspectRatio>Y?Ae:Y/W.aspectRatio);break;case"topleft":z.y1=z.y2-(z.x2-z.x1)/W.aspectRatio,Y=Math.max(0-z.x1,0),Ae=Math.max(0-z.y1,0),(Y>0||Ae>0)&&(z.x1+=Ae*W.aspectRatio>Y?Ae*W.aspectRatio:Y,z.y1+=Ae*W.aspectRatio>Y?Ae:Y/W.aspectRatio);break;case"topright":z.y1=z.y2-(z.x2-z.x1)/W.aspectRatio,Y=Math.max(z.x2-te.width,0),Ae=Math.max(0-z.y1,0),(Y>0||Ae>0)&&(z.x2-=Ae*W.aspectRatio>Y?Ae*W.aspectRatio:Y,z.y1+=Ae*W.aspectRatio>Y?Ae:Y/W.aspectRatio);break;case"right":case"bottomright":z.y2=z.y1+(z.x2-z.x1)/W.aspectRatio,Y=Math.max(z.x2-te.width,0),Ae=Math.max(z.y2-te.height,0),(Y>0||Ae>0)&&(z.x2-=Ae*W.aspectRatio>Y?Ae*W.aspectRatio:Y,z.y2-=Ae*W.aspectRatio>Y?Ae:Y/W.aspectRatio);break;case"left":case"bottomleft":z.y2=z.y1+(z.x2-z.x1)/W.aspectRatio,Y=Math.max(0-z.x1,0),Ae=Math.max(z.y2-te.height,0),(Y>0||Ae>0)&&(z.x1+=Ae*W.aspectRatio>Y?Ae*W.aspectRatio:Y,z.y2-=Ae*W.aspectRatio>Y?Ae:Y/W.aspectRatio);break;case"center":z.x2=z.x1+(z.y2-z.y1)*W.aspectRatio,z.y2=z.y1+(z.x2-z.x1)/W.aspectRatio;const Ee=Math.max(0-z.x1,0),qe=Math.max(z.x2-te.width,0),ye=Math.max(z.y2-te.height,0),Ge=Math.max(0-z.y1,0);(Ee>0||qe>0||ye>0||Ge>0)&&(z.x1+=ye*W.aspectRatio>Ee?ye*W.aspectRatio:Ee,z.x2-=Ge*W.aspectRatio>qe?Ge*W.aspectRatio:qe,z.y1+=Ge*W.aspectRatio>qe?Ge:qe/W.aspectRatio,z.y2-=ye*W.aspectRatio>Ee?ye:Ee/W.aspectRatio)}}getClientX(oe){var z;return(null===(z=oe.touches)||void 0===z?void 0:z[0].clientX)||oe.clientX||0}getClientY(oe){var z;return(null===(z=oe.touches)||void 0===z?void 0:z[0].clientY)||oe.clientY||0}}return ne.\u0275fac=function(oe){return new(oe||ne)},ne.\u0275prov=e.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})();let K=(()=>{class ne{constructor(){this.autoRotateSupported=function $(){return new Promise(ne=>{const Ce=new Image;Ce.onload=()=>{ne(1===Ce.width&&2===Ce.height)},Ce.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(oe,z){return new Promise((te,W)=>{const Y=new FileReader;Y.onload=Ae=>{this.loadImage(Ae.target.result,oe.type,z).then(te).catch(W)},Y.readAsDataURL(oe)})}loadImage(oe,z,te){return this.isValidImageType(z)?this.loadBase64Image(oe,te):Promise.reject(new Error("Invalid image type"))}isValidImageType(oe){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(oe)}loadImageFromURL(oe,z){return new Promise((te,W)=>{const Y=new Image;Y.onerror=()=>W,Y.onload=()=>{const Ae=document.createElement("canvas"),Ee=Ae.getContext("2d");Ae.width=Y.width,Ae.height=Y.height,null==Ee||Ee.drawImage(Y,0,0),this.loadBase64Image(Ae.toDataURL(),z).then(te)},Y.crossOrigin="anonymous",Y.src=oe})}loadBase64Image(oe,z){return new Promise((te,W)=>{const Y=new Image;Y.onload=()=>te({originalImage:Y,originalBase64:oe}),Y.onerror=W,Y.src=oe}).then(te=>this.transformImageBase64(te,z))}transformImageBase64(oe,z){return(0,d.mG)(this,void 0,void 0,function*(){const te=yield this.autoRotateSupported,W=yield function V(ne){switch("string"==typeof ne&&(ne=function k(ne){const Ce=new DataView(function O(ne){ne=ne.replace(/^data\:([^\;]+)\;base64,/gim,"");const Ce=atob(ne),oe=Ce.length,z=new Uint8Array(oe);for(let te=0;te<oe;te++)z[te]=Ce.charCodeAt(te);return z.buffer}(ne));if(65496!==Ce.getUint16(0,!1))return-2;const oe=Ce.byteLength;let z=2;for(;z<oe;){if(Ce.getUint16(z+2,!1)<=8)return-1;const te=Ce.getUint16(z,!1);if(z+=2,65505==te){if(1165519206!==Ce.getUint32(z+=2,!1))return-1;const W=18761==Ce.getUint16(z+=6,!1);z+=Ce.getUint32(z+4,W);const Y=Ce.getUint16(z,W);z+=2;for(let Ae=0;Ae<Y;Ae++)if(274==Ce.getUint16(z+12*Ae,W))return Ce.getUint16(z+12*Ae+8,W)}else{if(65280!=(65280&te))break;z+=Ce.getUint16(z,!1)}}return-1}(ne)),ne){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(te?-1:oe.originalBase64);return oe.originalImage&&oe.originalImage.complete?this.transformLoadedImage({original:{base64:oe.originalBase64,image:oe.originalImage,size:{width:oe.originalImage.naturalWidth,height:oe.originalImage.naturalHeight}},exifTransform:W},z):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(oe,z){return(0,d.mG)(this,void 0,void 0,function*(){const te=z.canvasRotation+oe.exifTransform.rotate,W={width:oe.original.image.naturalWidth,height:oe.original.image.naturalHeight};if(0===te&&!oe.exifTransform.flip&&!z.containWithinAspectRatio)return{original:{base64:oe.original.base64,image:oe.original.image,size:Object.assign({},W)},transformed:{base64:oe.original.base64,image:oe.original.image,size:Object.assign({},W)},exifTransform:oe.exifTransform};const Y=this.getTransformedSize(W,oe.exifTransform,z),Ae=document.createElement("canvas");Ae.width=Y.width,Ae.height=Y.height;const Ee=Ae.getContext("2d");null==Ee||Ee.setTransform(oe.exifTransform.flip?-1:1,0,0,1,Ae.width/2,Ae.height/2),null==Ee||Ee.rotate(Math.PI*(te/2)),null==Ee||Ee.drawImage(oe.original.image,-W.width/2,-W.height/2);const qe=Ae.toDataURL(),ye=yield this.loadImageFromBase64(qe);return{original:{base64:oe.original.base64,image:oe.original.image,size:Object.assign({},W)},transformed:{base64:qe,image:ye,size:{width:ye.width,height:ye.height}},exifTransform:oe.exifTransform}})}loadImageFromBase64(oe){return new Promise((z,te)=>{const W=new Image;W.onload=()=>z(W),W.onerror=te,W.src=oe})}getTransformedSize(oe,z,te){const W=te.canvasRotation+z.rotate;if(te.containWithinAspectRatio){if(W%2){const Ae=oe.height/te.aspectRatio;return{width:Math.max(oe.height,oe.width*te.aspectRatio),height:Math.max(oe.width,Ae)}}{const Ae=oe.width/te.aspectRatio;return{width:Math.max(oe.width,oe.height*te.aspectRatio),height:Math.max(oe.height,Ae)}}}return W%2?{height:oe.width,width:oe.height}:{width:oe.width,height:oe.height}}}return ne.\u0275fac=function(oe){return new(oe||ne)},ne.\u0275prov=e.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),ue=(()=>{class ne{constructor(oe,z,te,W,Y){this.cropService=oe,this.cropperPositionService=z,this.loadImageService=te,this.sanitizer=W,this.cd=Y,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new L,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Q,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new e.vpe,this.startCropImage=new e.vpe,this.imageLoaded=new e.vpe,this.cropperReady=new e.vpe,this.loadImageFailed=new e.vpe,this.transformChange=new e.vpe,this.reset()}ngOnChanges(oe){var z;this.onChangesUpdateSettings(oe),this.onChangesInputImage(oe),(null===(z=this.loadedImage)||void 0===z?void 0:z.original.image.complete)&&(oe.containWithinAspectRatio||oe.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(te=>this.setLoadedImage(te)).catch(te=>this.loadImageError(te)),(oe.cropper||oe.maintainAspectRatio||oe.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!oe.maintainAspectRatio&&!oe.aspectRatio?oe.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),oe.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),oe.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(oe){this.settings.setOptionsFromChanges(oe),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(oe){(oe.imageChangedEvent||oe.imageURL||oe.imageBase64||oe.imageFile)&&this.reset(),oe.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),oe.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),oe.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),oe.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var oe,z,te;return(null===(te=null===(z=null===(oe=this.imageChangedEvent)||void 0===oe?void 0:oe.target)||void 0===z?void 0:z.files)||void 0===te?void 0:te.length)>0}setCssTransform(){var oe;const z=(null===(oe=this.transform)||void 0===oe?void 0:oe.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${z}, ${this.transform.translateV||0}${z}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(oe){this.loadImageService.loadImageFile(oe,this.settings).then(z=>this.setLoadedImage(z)).catch(z=>this.loadImageError(z))}loadBase64Image(oe){this.loadImageService.loadBase64Image(oe,this.settings).then(z=>this.setLoadedImage(z)).catch(z=>this.loadImageError(z))}loadImageFromURL(oe){this.loadImageService.loadImageFromURL(oe,this.settings).then(z=>this.setLoadedImage(z)).catch(z=>this.loadImageError(z))}setLoadedImage(oe){this.loadedImage=oe,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(oe.transformed.base64),this.cd.markForCheck()}loadImageError(oe){console.error(oe),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var oe,z;return(null===(z=null===(oe=this.sourceImage)||void 0===oe?void 0:oe.nativeElement)||void 0===z?void 0:z.offsetWidth)>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const oe=new this.Hammer(this.wrapper.nativeElement);oe.get("pinch").set({enable:!0}),oe.on("pinchmove",this.onPinch.bind(this)),oe.on("pinchend",this.pinchStop.bind(this)),oe.on("pinchstart",this.startPinch.bind(this))}else(0,e.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const oe=this.sourceImage.nativeElement;(this.maxSize.width!==oe.offsetWidth||this.maxSize.height!==oe.offsetHeight)&&(this.cropper.x1=this.cropper.x1*oe.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*oe.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*oe.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*oe.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(oe){this.changeKeyboardStepSize(oe),this.keyboardMoveCropper(oe)}changeKeyboardStepSize(oe){const z=+oe.key;z>=1&&z<=9&&(this.settings.stepSize=z)}keyboardMoveCropper(oe){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(oe.key))return;const te=oe.shiftKey?Q.Resize:Q.Move,W=oe.altKey?function T(ne){switch(ne){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(oe.key):function N(ne){switch(ne){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(oe.key),Y=function y(ne,Ce){switch(ne){case"ArrowUp":return{clientX:0,clientY:-1*Ce};case"ArrowRight":return{clientX:Ce,clientY:0};case"ArrowDown":return{clientX:0,clientY:Ce};default:return{clientX:-1*Ce,clientY:0}}}(oe.key,this.settings.stepSize);oe.preventDefault(),oe.stopPropagation(),this.startMove({clientX:0,clientY:0},te,W),this.moveImg(Y),this.moveStop()}startMove(oe,z,te=null){var W,Y;this.disabled||(null===(W=this.moveStart)||void 0===W?void 0:W.active)&&(null===(Y=this.moveStart)||void 0===Y?void 0:Y.type)===Q.Pinch||z===Q.Drag&&!this.allowMoveImage||(oe.preventDefault&&oe.preventDefault(),this.moveStart=Object.assign({active:!0,type:z,position:te,transform:Object.assign({},this.transform),clientX:this.cropperPositionService.getClientX(oe),clientY:this.cropperPositionService.getClientY(oe)},this.cropper))}startPinch(oe){!this.safeImgDataUrl||(oe.preventDefault&&oe.preventDefault(),this.moveStart=Object.assign({active:!0,type:Q.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(oe){var z,te;if(this.moveStart.active){if(oe.stopPropagation&&oe.stopPropagation(),oe.preventDefault&&oe.preventDefault(),this.moveStart.type===Q.Move)this.cropperPositionService.move(oe,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Q.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(oe,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Q.Drag){const W=this.cropperPositionService.getClientX(oe)-this.moveStart.clientX,Y=this.cropperPositionService.getClientY(oe)-this.moveStart.clientY;this.transform=Object.assign(Object.assign({},this.transform),{translateH:((null===(z=this.moveStart.transform)||void 0===z?void 0:z.translateH)||0)+W,translateV:((null===(te=this.moveStart.transform)||void 0===te?void 0:te.translateV)||0)+Y}),this.setCssTransform()}this.cd.detectChanges()}}onPinch(oe){this.moveStart.active&&(oe.stopPropagation&&oe.stopPropagation(),oe.preventDefault&&oe.preventDefault(),this.moveStart.type===Q.Pinch&&(this.cropperPositionService.resize(oe,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const oe=this.sourceImage.nativeElement;this.maxSize.width=oe.offsetWidth,this.maxSize.height=oe.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var oe,z;null!==(z=null===(oe=this.loadedImage)||void 0===oe?void 0:oe.transformed)&&void 0!==z&&z.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var oe,z;if(null!==(z=null===(oe=this.loadedImage)||void 0===oe?void 0:oe.transformed)&&void 0!==z&&z.image){const te=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/te:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/te:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(oe=!1){this.cropper.x1<0&&(this.cropper.x2-=oe?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=oe?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=oe?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=oe?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var oe;this.moveStart.active&&(this.moveStart.active=!1,(null===(oe=this.moveStart)||void 0===oe?void 0:oe.type)===Q.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var oe,z;if(null!=(null===(z=null===(oe=this.loadedImage)||void 0===oe?void 0:oe.transformed)||void 0===z?void 0:z.image)){this.startCropImage.emit();const te=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=te&&this.imageCropped.emit(te),te}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return ne.\u0275fac=function(oe){return new(oe||ne)(e.Y36(U),e.Y36(B),e.Y36(K),e.Y36(u.H7),e.Y36(e.sBO))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["image-cropper"]],viewQuery:function(oe,z){if(1&oe&&(e.Gf(_,7),e.Gf(P,5)),2&oe){let te;e.iGM(te=e.CRH())&&(z.wrapper=te.first),e.iGM(te=e.CRH())&&(z.sourceImage=te.first)}},hostVars:6,hostBindings:function(oe,z){1&oe&&e.NdJ("resize",function(){return z.onResize()},!1,e.Jf7)("mousemove",function(W){return z.moveImg(W)},!1,e.evT)("touchmove",function(W){return z.moveImg(W)},!1,e.evT)("mouseup",function(){return z.moveStop()},!1,e.evT)("touchend",function(){return z.moveStop()},!1,e.evT),2&oe&&(e.Udp("text-align",z.alignImage),e.ekj("disabled",z.disabled)("ngx-ix-hidden",z.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[e.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(oe,z){1&oe&&(e.TgZ(0,"div",null,0),e.YNc(2,x,2,8,"img",1),e._UZ(3,"div",2),e.YNc(4,R,3,15,"div",3),e.qZA()),2&oe&&(e.Udp("background",z.imageVisible&&z.backgroundColor),e.xp6(2),e.Q6J("ngIf",z.safeImgDataUrl),e.xp6(1),e.Udp("width",z.maxSize.width,"px")("height",z.maxSize.height,"px")("margin-left","center"===z.alignImage?z.marginLeft:null),e.xp6(1),e.Q6J("ngIf",z.imageVisible))},dependencies:[f.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),ne})(),q=(()=>{class ne{}return ne.\u0275fac=function(oe){return new(oe||ne)},ne.\u0275mod=e.oAB({type:ne}),ne.\u0275inj=e.cJS({imports:[[f.ez]]}),ne})()},9354:(hn,ft,b)=>{"use strict";b.d(ft,{lF:()=>Vn,JP:()=>Qi});var e=b(5e3),d=b(7579),u=b(6451),f=b(9646),_=b(5963),P=b(3900),x=b(9718),r=b(1884),R=b(4782),L=b(8675),Q=b(4004),N=b(2722),y=(b(590),b(9808));let D={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const B=/[&<>"']/,ce=new RegExp(B.source,"g"),$=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,V=new RegExp($.source,"g"),k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},O=zt=>k[zt];function K(zt,Je){if(Je){if(B.test(zt))return zt.replace(ce,O)}else if($.test(zt))return zt.replace(V,O);return zt}const ue=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function q(zt){return zt.replace(ue,(Je,xe)=>"colon"===(xe=xe.toLowerCase())?":":"#"===xe.charAt(0)?"x"===xe.charAt(1)?String.fromCharCode(parseInt(xe.substring(2),16)):String.fromCharCode(+xe.substring(1)):"")}const G=/(^|[^\[])\^/g;function ne(zt,Je){zt="string"==typeof zt?zt:zt.source,Je=Je||"";const xe={replace:(He,pt)=>(pt=(pt=pt.source||pt).replace(G,"$1"),zt=zt.replace(He,pt),xe),getRegex:()=>new RegExp(zt,Je)};return xe}const Ce=/[^\w:]/g,oe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function z(zt,Je,xe){if(zt){let He;try{He=decodeURIComponent(q(xe)).replace(Ce,"").toLowerCase()}catch(pt){return null}if(0===He.indexOf("javascript:")||0===He.indexOf("vbscript:")||0===He.indexOf("data:"))return null}Je&&!oe.test(xe)&&(xe=function Ee(zt,Je){te[" "+zt]||(te[" "+zt]=W.test(zt)?zt+"/":X(zt,"/",!0));const xe=-1===(zt=te[" "+zt]).indexOf(":");return"//"===Je.substring(0,2)?xe?Je:zt.replace(Y,"$1")+Je:"/"===Je.charAt(0)?xe?Je:zt.replace(Ae,"$1")+Je:zt+Je}(Je,xe));try{xe=encodeURI(xe).replace(/%25/g,"%")}catch(He){return null}return xe}const te={},W=/^[^:]+:\/*[^/]*$/,Y=/^([^:]+:)[\s\S]*$/,Ae=/^([^:]+:\/*[^/]*)[\s\S]*$/,qe={exec:function(){}};function ye(zt){let xe,He,Je=1;for(;Je<arguments.length;Je++)for(He in xe=arguments[Je],xe)Object.prototype.hasOwnProperty.call(xe,He)&&(zt[He]=xe[He]);return zt}function Ge(zt,Je){const He=zt.replace(/\|/g,(dn,xn,Zt)=>{let bn=!1,yn=xn;for(;--yn>=0&&"\\"===Zt[yn];)bn=!bn;return bn?"|":" |"}).split(/ \|/);let pt=0;if(He[0].trim()||He.shift(),He.length>0&&!He[He.length-1].trim()&&He.pop(),He.length>Je)He.splice(Je);else for(;He.length<Je;)He.push("");for(;pt<He.length;pt++)He[pt]=He[pt].trim().replace(/\\\|/g,"|");return He}function X(zt,Je,xe){const He=zt.length;if(0===He)return"";let pt=0;for(;pt<He;){const dn=zt.charAt(He-pt-1);if(dn!==Je||xe){if(dn===Je||!xe)break;pt++}else pt++}return zt.slice(0,He-pt)}function we(zt){zt&&zt.sanitize&&!zt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ie(zt,Je){if(Je<1)return"";let xe="";for(;Je>1;)1&Je&&(xe+=zt),Je>>=1,zt+=zt;return xe+zt}function ct(zt,Je,xe,He){const pt=Je.href,dn=Je.title?K(Je.title):null,xn=zt[1].replace(/\\([\[\]])/g,"$1");if("!"!==zt[0].charAt(0)){He.state.inLink=!0;const Zt={type:"link",raw:xe,href:pt,title:dn,text:xn,tokens:He.inlineTokens(xn)};return He.state.inLink=!1,Zt}return{type:"image",raw:xe,href:pt,title:dn,text:K(xn)}}class et{constructor(Je){this.options=Je||D}space(Je){const xe=this.rules.block.newline.exec(Je);if(xe&&xe[0].length>0)return{type:"space",raw:xe[0]}}code(Je){const xe=this.rules.block.code.exec(Je);if(xe){const He=xe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:xe[0],codeBlockStyle:"indented",text:this.options.pedantic?He:X(He,"\n")}}}fences(Je){const xe=this.rules.block.fences.exec(Je);if(xe){const He=xe[0],pt=function dt(zt,Je){const xe=zt.match(/^(\s+)(?:```)/);if(null===xe)return Je;const He=xe[1];return Je.split("\n").map(pt=>{const dn=pt.match(/^\s+/);if(null===dn)return pt;const[xn]=dn;return xn.length>=He.length?pt.slice(He.length):pt}).join("\n")}(He,xe[3]||"");return{type:"code",raw:He,lang:xe[2]?xe[2].trim().replace(this.rules.inline._escapes,"$1"):xe[2],text:pt}}}heading(Je){const xe=this.rules.block.heading.exec(Je);if(xe){let He=xe[2].trim();if(/#$/.test(He)){const pt=X(He,"#");(this.options.pedantic||!pt||/ $/.test(pt))&&(He=pt.trim())}return{type:"heading",raw:xe[0],depth:xe[1].length,text:He,tokens:this.lexer.inline(He)}}}hr(Je){const xe=this.rules.block.hr.exec(Je);if(xe)return{type:"hr",raw:xe[0]}}blockquote(Je){const xe=this.rules.block.blockquote.exec(Je);if(xe){const He=xe[0].replace(/^ *>[ \t]?/gm,""),pt=this.lexer.state.top;this.lexer.state.top=!0;const dn=this.lexer.blockTokens(He);return this.lexer.state.top=pt,{type:"blockquote",raw:xe[0],tokens:dn,text:He}}}list(Je){let xe=this.rules.block.list.exec(Je);if(xe){let He,pt,dn,xn,Zt,bn,yn,Wn,si,gi,ii,ki,qi=xe[1].trim();const Oo=qi.length>1,li={type:"list",raw:"",ordered:Oo,start:Oo?+qi.slice(0,-1):"",loose:!1,items:[]};qi=Oo?`\\d{1,9}\\${qi.slice(-1)}`:`\\${qi}`,this.options.pedantic&&(qi=Oo?qi:"[*+-]");const ho=new RegExp(`^( {0,3}${qi})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;Je&&(ki=!1,(xe=ho.exec(Je))&&!this.rules.block.hr.test(Je));){if(He=xe[0],Je=Je.substring(He.length),Wn=xe[2].split("\n",1)[0].replace(/^\t+/,Wo=>" ".repeat(3*Wo.length)),si=Je.split("\n",1)[0],this.options.pedantic?(xn=2,ii=Wn.trimLeft()):(xn=xe[2].search(/[^ ]/),xn=xn>4?1:xn,ii=Wn.slice(xn),xn+=xe[1].length),bn=!1,!Wn&&/^ *$/.test(si)&&(He+=si+"\n",Je=Je.substring(si.length+1),ki=!0),!ki){const Wo=new RegExp(`^ {0,${Math.min(3,xn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),vo=new RegExp(`^ {0,${Math.min(3,xn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Xi=new RegExp(`^ {0,${Math.min(3,xn-1)}}(?:\`\`\`|~~~)`),os=new RegExp(`^ {0,${Math.min(3,xn-1)}}#`);for(;Je&&(gi=Je.split("\n",1)[0],si=gi,this.options.pedantic&&(si=si.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Xi.test(si)||os.test(si)||Wo.test(si)||vo.test(Je)));){if(si.search(/[^ ]/)>=xn||!si.trim())ii+="\n"+si.slice(xn);else{if(bn||Wn.search(/[^ ]/)>=4||Xi.test(Wn)||os.test(Wn)||vo.test(Wn))break;ii+="\n"+si}!bn&&!si.trim()&&(bn=!0),He+=gi+"\n",Je=Je.substring(gi.length+1),Wn=si.slice(xn)}}li.loose||(yn?li.loose=!0:/\n *\n *$/.test(He)&&(yn=!0)),this.options.gfm&&(pt=/^\[[ xX]\] /.exec(ii),pt&&(dn="[ ] "!==pt[0],ii=ii.replace(/^\[[ xX]\] +/,""))),li.items.push({type:"list_item",raw:He,task:!!pt,checked:dn,loose:!1,text:ii}),li.raw+=He}li.items[li.items.length-1].raw=He.trimRight(),li.items[li.items.length-1].text=ii.trimRight(),li.raw=li.raw.trimRight();const Go=li.items.length;for(Zt=0;Zt<Go;Zt++)if(this.lexer.state.top=!1,li.items[Zt].tokens=this.lexer.blockTokens(li.items[Zt].text,[]),!li.loose){const Wo=li.items[Zt].tokens.filter(Xi=>"space"===Xi.type),vo=Wo.length>0&&Wo.some(Xi=>/\n.*\n/.test(Xi.raw));li.loose=vo}if(li.loose)for(Zt=0;Zt<Go;Zt++)li.items[Zt].loose=!0;return li}}html(Je){const xe=this.rules.block.html.exec(Je);if(xe){const He={type:"html",raw:xe[0],pre:!this.options.sanitizer&&("pre"===xe[1]||"script"===xe[1]||"style"===xe[1]),text:xe[0]};if(this.options.sanitize){const pt=this.options.sanitizer?this.options.sanitizer(xe[0]):K(xe[0]);He.type="paragraph",He.text=pt,He.tokens=this.lexer.inline(pt)}return He}}def(Je){const xe=this.rules.block.def.exec(Je);if(xe){const He=xe[1].toLowerCase().replace(/\s+/g," "),pt=xe[2]?xe[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",dn=xe[3]?xe[3].substring(1,xe[3].length-1).replace(this.rules.inline._escapes,"$1"):xe[3];return{type:"def",tag:He,raw:xe[0],href:pt,title:dn}}}table(Je){const xe=this.rules.block.table.exec(Je);if(xe){const He={type:"table",header:Ge(xe[1]).map(pt=>({text:pt})),align:xe[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:xe[3]&&xe[3].trim()?xe[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(He.header.length===He.align.length){He.raw=xe[0];let dn,xn,Zt,bn,pt=He.align.length;for(dn=0;dn<pt;dn++)He.align[dn]=/^ *-+: *$/.test(He.align[dn])?"right":/^ *:-+: *$/.test(He.align[dn])?"center":/^ *:-+ *$/.test(He.align[dn])?"left":null;for(pt=He.rows.length,dn=0;dn<pt;dn++)He.rows[dn]=Ge(He.rows[dn],He.header.length).map(yn=>({text:yn}));for(pt=He.header.length,xn=0;xn<pt;xn++)He.header[xn].tokens=this.lexer.inline(He.header[xn].text);for(pt=He.rows.length,xn=0;xn<pt;xn++)for(bn=He.rows[xn],Zt=0;Zt<bn.length;Zt++)bn[Zt].tokens=this.lexer.inline(bn[Zt].text);return He}}}lheading(Je){const xe=this.rules.block.lheading.exec(Je);if(xe)return{type:"heading",raw:xe[0],depth:"="===xe[2].charAt(0)?1:2,text:xe[1],tokens:this.lexer.inline(xe[1])}}paragraph(Je){const xe=this.rules.block.paragraph.exec(Je);if(xe){const He="\n"===xe[1].charAt(xe[1].length-1)?xe[1].slice(0,-1):xe[1];return{type:"paragraph",raw:xe[0],text:He,tokens:this.lexer.inline(He)}}}text(Je){const xe=this.rules.block.text.exec(Je);if(xe)return{type:"text",raw:xe[0],text:xe[0],tokens:this.lexer.inline(xe[0])}}escape(Je){const xe=this.rules.inline.escape.exec(Je);if(xe)return{type:"escape",raw:xe[0],text:K(xe[1])}}tag(Je){const xe=this.rules.inline.tag.exec(Je);if(xe)return!this.lexer.state.inLink&&/^<a /i.test(xe[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(xe[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(xe[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(xe[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:xe[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(xe[0]):K(xe[0]):xe[0]}}link(Je){const xe=this.rules.inline.link.exec(Je);if(xe){const He=xe[2].trim();if(!this.options.pedantic&&/^</.test(He)){if(!/>$/.test(He))return;const xn=X(He.slice(0,-1),"\\");if((He.length-xn.length)%2==0)return}else{const xn=function be(zt,Je){if(-1===zt.indexOf(Je[1]))return-1;const xe=zt.length;let He=0,pt=0;for(;pt<xe;pt++)if("\\"===zt[pt])pt++;else if(zt[pt]===Je[0])He++;else if(zt[pt]===Je[1]&&(He--,He<0))return pt;return-1}(xe[2],"()");if(xn>-1){const bn=(0===xe[0].indexOf("!")?5:4)+xe[1].length+xn;xe[2]=xe[2].substring(0,xn),xe[0]=xe[0].substring(0,bn).trim(),xe[3]=""}}let pt=xe[2],dn="";if(this.options.pedantic){const xn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(pt);xn&&(pt=xn[1],dn=xn[3])}else dn=xe[3]?xe[3].slice(1,-1):"";return pt=pt.trim(),/^</.test(pt)&&(pt=this.options.pedantic&&!/>$/.test(He)?pt.slice(1):pt.slice(1,-1)),ct(xe,{href:pt&&pt.replace(this.rules.inline._escapes,"$1"),title:dn&&dn.replace(this.rules.inline._escapes,"$1")},xe[0],this.lexer)}}reflink(Je,xe){let He;if((He=this.rules.inline.reflink.exec(Je))||(He=this.rules.inline.nolink.exec(Je))){let pt=(He[2]||He[1]).replace(/\s+/g," ");if(pt=xe[pt.toLowerCase()],!pt){const dn=He[0].charAt(0);return{type:"text",raw:dn,text:dn}}return ct(He,pt,He[0],this.lexer)}}emStrong(Je,xe,He=""){let pt=this.rules.inline.emStrong.lDelim.exec(Je);if(!pt||pt[3]&&He.match(/[\p{L}\p{N}]/u))return;const dn=pt[1]||pt[2]||"";if(!dn||dn&&(""===He||this.rules.inline.punctuation.exec(He))){const xn=pt[0].length-1;let Zt,bn,yn=xn,Wn=0;const si="*"===pt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(si.lastIndex=0,xe=xe.slice(-1*Je.length+xn);null!=(pt=si.exec(xe));){if(Zt=pt[1]||pt[2]||pt[3]||pt[4]||pt[5]||pt[6],!Zt)continue;if(bn=Zt.length,pt[3]||pt[4]){yn+=bn;continue}if((pt[5]||pt[6])&&xn%3&&!((xn+bn)%3)){Wn+=bn;continue}if(yn-=bn,yn>0)continue;bn=Math.min(bn,bn+yn+Wn);const gi=Je.slice(0,xn+pt.index+(pt[0].length-Zt.length)+bn);if(Math.min(xn,bn)%2){const ki=gi.slice(1,-1);return{type:"em",raw:gi,text:ki,tokens:this.lexer.inlineTokens(ki)}}const ii=gi.slice(2,-2);return{type:"strong",raw:gi,text:ii,tokens:this.lexer.inlineTokens(ii)}}}}codespan(Je){const xe=this.rules.inline.code.exec(Je);if(xe){let He=xe[2].replace(/\n/g," ");const pt=/[^ ]/.test(He),dn=/^ /.test(He)&&/ $/.test(He);return pt&&dn&&(He=He.substring(1,He.length-1)),He=K(He,!0),{type:"codespan",raw:xe[0],text:He}}}br(Je){const xe=this.rules.inline.br.exec(Je);if(xe)return{type:"br",raw:xe[0]}}del(Je){const xe=this.rules.inline.del.exec(Je);if(xe)return{type:"del",raw:xe[0],text:xe[2],tokens:this.lexer.inlineTokens(xe[2])}}autolink(Je,xe){const He=this.rules.inline.autolink.exec(Je);if(He){let pt,dn;return"@"===He[2]?(pt=K(this.options.mangle?xe(He[1]):He[1]),dn="mailto:"+pt):(pt=K(He[1]),dn=pt),{type:"link",raw:He[0],text:pt,href:dn,tokens:[{type:"text",raw:pt,text:pt}]}}}url(Je,xe){let He;if(He=this.rules.inline.url.exec(Je)){let pt,dn;if("@"===He[2])pt=K(this.options.mangle?xe(He[0]):He[0]),dn="mailto:"+pt;else{let xn;do{xn=He[0],He[0]=this.rules.inline._backpedal.exec(He[0])[0]}while(xn!==He[0]);pt=K(He[0]),dn="www."===He[1]?"http://"+He[0]:He[0]}return{type:"link",raw:He[0],text:pt,href:dn,tokens:[{type:"text",raw:pt,text:pt}]}}}inlineText(Je,xe){const He=this.rules.inline.text.exec(Je);if(He){let pt;return pt=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(He[0]):K(He[0]):He[0]:K(this.options.smartypants?xe(He[0]):He[0]),{type:"text",raw:He[0],text:pt}}}}const vt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qe,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};vt.def=ne(vt.def).replace("label",vt._label).replace("title",vt._title).getRegex(),vt.bullet=/(?:[*+-]|\d{1,9}[.)])/,vt.listItemStart=ne(/^( *)(bull) */).replace("bull",vt.bullet).getRegex(),vt.list=ne(vt.list).replace(/bull/g,vt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+vt.def.source+")").getRegex(),vt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,vt.html=ne(vt.html,"i").replace("comment",vt._comment).replace("tag",vt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vt.paragraph=ne(vt._paragraph).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.blockquote=ne(vt.blockquote).replace("paragraph",vt.paragraph).getRegex(),vt.normal=ye({},vt),vt.gfm=ye({},vt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),vt.gfm.table=ne(vt.gfm.table).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.gfm.paragraph=ne(vt._paragraph).replace("hr",vt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",vt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vt._tag).getRegex(),vt.pedantic=ye({},vt.normal,{html:ne("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",vt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ne(vt.normal._paragraph).replace("hr",vt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",vt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ht={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qe,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Rt(zt){return zt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Nt(zt){let xe,He,Je="";const pt=zt.length;for(xe=0;xe<pt;xe++)He=zt.charCodeAt(xe),Math.random()>.5&&(He="x"+He.toString(16)),Je+="&#"+He+";";return Je}ht._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ht.punctuation=ne(ht.punctuation).replace(/punctuation/g,ht._punctuation).getRegex(),ht.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ht.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ht._comment=ne(vt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ht.emStrong.lDelim=ne(ht.emStrong.lDelim).replace(/punct/g,ht._punctuation).getRegex(),ht.emStrong.rDelimAst=ne(ht.emStrong.rDelimAst,"g").replace(/punct/g,ht._punctuation).getRegex(),ht.emStrong.rDelimUnd=ne(ht.emStrong.rDelimUnd,"g").replace(/punct/g,ht._punctuation).getRegex(),ht._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ht._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ht._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ht.autolink=ne(ht.autolink).replace("scheme",ht._scheme).replace("email",ht._email).getRegex(),ht._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ht.tag=ne(ht.tag).replace("comment",ht._comment).replace("attribute",ht._attribute).getRegex(),ht._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ht._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ht._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ht.link=ne(ht.link).replace("label",ht._label).replace("href",ht._href).replace("title",ht._title).getRegex(),ht.reflink=ne(ht.reflink).replace("label",ht._label).replace("ref",vt._label).getRegex(),ht.nolink=ne(ht.nolink).replace("ref",vt._label).getRegex(),ht.reflinkSearch=ne(ht.reflinkSearch,"g").replace("reflink",ht.reflink).replace("nolink",ht.nolink).getRegex(),ht.normal=ye({},ht),ht.pedantic=ye({},ht.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ne(/^!?\[(label)\]\((.*?)\)/).replace("label",ht._label).getRegex(),reflink:ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ht._label).getRegex()}),ht.gfm=ye({},ht.normal,{escape:ne(ht.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ht.gfm.url=ne(ht.gfm.url,"i").replace("email",ht.gfm._extended_email).getRegex(),ht.breaks=ye({},ht.gfm,{br:ne(ht.br).replace("{2,}","*").getRegex(),text:ne(ht.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class At{constructor(Je){this.tokens=[],this.tokens.links=Object.create(null),this.options=Je||D,this.options.tokenizer=this.options.tokenizer||new et,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const xe={block:vt.normal,inline:ht.normal};this.options.pedantic?(xe.block=vt.pedantic,xe.inline=ht.pedantic):this.options.gfm&&(xe.block=vt.gfm,xe.inline=this.options.breaks?ht.breaks:ht.gfm),this.tokenizer.rules=xe}static get rules(){return{block:vt,inline:ht}}static lex(Je,xe){return new At(xe).lex(Je)}static lexInline(Je,xe){return new At(xe).inlineTokens(Je)}lex(Je){let xe;for(Je=Je.replace(/\r\n|\r/g,"\n"),this.blockTokens(Je,this.tokens);xe=this.inlineQueue.shift();)this.inlineTokens(xe.src,xe.tokens);return this.tokens}blockTokens(Je,xe=[]){let He,pt,dn,xn;for(Je=this.options.pedantic?Je.replace(/\t/g,"    ").replace(/^ +$/gm,""):Je.replace(/^( *)(\t+)/gm,(Zt,bn,yn)=>bn+"    ".repeat(yn.length));Je;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Zt=>!!(He=Zt.call({lexer:this},Je,xe))&&(Je=Je.substring(He.raw.length),xe.push(He),!0)))){if(He=this.tokenizer.space(Je)){Je=Je.substring(He.raw.length),1===He.raw.length&&xe.length>0?xe[xe.length-1].raw+="\n":xe.push(He);continue}if(He=this.tokenizer.code(Je)){Je=Je.substring(He.raw.length),pt=xe[xe.length-1],!pt||"paragraph"!==pt.type&&"text"!==pt.type?xe.push(He):(pt.raw+="\n"+He.raw,pt.text+="\n"+He.text,this.inlineQueue[this.inlineQueue.length-1].src=pt.text);continue}if(He=this.tokenizer.fences(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.heading(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.hr(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.blockquote(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.list(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.html(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.def(Je)){Je=Je.substring(He.raw.length),pt=xe[xe.length-1],!pt||"paragraph"!==pt.type&&"text"!==pt.type?this.tokens.links[He.tag]||(this.tokens.links[He.tag]={href:He.href,title:He.title}):(pt.raw+="\n"+He.raw,pt.text+="\n"+He.raw,this.inlineQueue[this.inlineQueue.length-1].src=pt.text);continue}if(He=this.tokenizer.table(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.lheading(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(dn=Je,this.options.extensions&&this.options.extensions.startBlock){let Zt=1/0;const bn=Je.slice(1);let yn;this.options.extensions.startBlock.forEach(function(Wn){yn=Wn.call({lexer:this},bn),"number"==typeof yn&&yn>=0&&(Zt=Math.min(Zt,yn))}),Zt<1/0&&Zt>=0&&(dn=Je.substring(0,Zt+1))}if(this.state.top&&(He=this.tokenizer.paragraph(dn))){pt=xe[xe.length-1],xn&&"paragraph"===pt.type?(pt.raw+="\n"+He.raw,pt.text+="\n"+He.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=pt.text):xe.push(He),xn=dn.length!==Je.length,Je=Je.substring(He.raw.length);continue}if(He=this.tokenizer.text(Je)){Je=Je.substring(He.raw.length),pt=xe[xe.length-1],pt&&"text"===pt.type?(pt.raw+="\n"+He.raw,pt.text+="\n"+He.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=pt.text):xe.push(He);continue}if(Je){const Zt="Infinite loop on byte: "+Je.charCodeAt(0);if(this.options.silent){console.error(Zt);break}throw new Error(Zt)}}return this.state.top=!0,xe}inline(Je,xe=[]){return this.inlineQueue.push({src:Je,tokens:xe}),xe}inlineTokens(Je,xe=[]){let He,pt,dn,Zt,bn,yn,xn=Je;if(this.tokens.links){const Wn=Object.keys(this.tokens.links);if(Wn.length>0)for(;null!=(Zt=this.tokenizer.rules.inline.reflinkSearch.exec(xn));)Wn.includes(Zt[0].slice(Zt[0].lastIndexOf("[")+1,-1))&&(xn=xn.slice(0,Zt.index)+"["+Ie("a",Zt[0].length-2)+"]"+xn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Zt=this.tokenizer.rules.inline.blockSkip.exec(xn));)xn=xn.slice(0,Zt.index)+"["+Ie("a",Zt[0].length-2)+"]"+xn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Zt=this.tokenizer.rules.inline.escapedEmSt.exec(xn));)xn=xn.slice(0,Zt.index+Zt[0].length-2)+"++"+xn.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;Je;)if(bn||(yn=""),bn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Wn=>!!(He=Wn.call({lexer:this},Je,xe))&&(Je=Je.substring(He.raw.length),xe.push(He),!0)))){if(He=this.tokenizer.escape(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.tag(Je)){Je=Je.substring(He.raw.length),pt=xe[xe.length-1],pt&&"text"===He.type&&"text"===pt.type?(pt.raw+=He.raw,pt.text+=He.text):xe.push(He);continue}if(He=this.tokenizer.link(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.reflink(Je,this.tokens.links)){Je=Je.substring(He.raw.length),pt=xe[xe.length-1],pt&&"text"===He.type&&"text"===pt.type?(pt.raw+=He.raw,pt.text+=He.text):xe.push(He);continue}if(He=this.tokenizer.emStrong(Je,xn,yn)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.codespan(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.br(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.del(Je)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(He=this.tokenizer.autolink(Je,Nt)){Je=Je.substring(He.raw.length),xe.push(He);continue}if(!this.state.inLink&&(He=this.tokenizer.url(Je,Nt))){Je=Je.substring(He.raw.length),xe.push(He);continue}if(dn=Je,this.options.extensions&&this.options.extensions.startInline){let Wn=1/0;const si=Je.slice(1);let gi;this.options.extensions.startInline.forEach(function(ii){gi=ii.call({lexer:this},si),"number"==typeof gi&&gi>=0&&(Wn=Math.min(Wn,gi))}),Wn<1/0&&Wn>=0&&(dn=Je.substring(0,Wn+1))}if(He=this.tokenizer.inlineText(dn,Rt)){Je=Je.substring(He.raw.length),"_"!==He.raw.slice(-1)&&(yn=He.raw.slice(-1)),bn=!0,pt=xe[xe.length-1],pt&&"text"===pt.type?(pt.raw+=He.raw,pt.text+=He.text):xe.push(He);continue}if(Je){const Wn="Infinite loop on byte: "+Je.charCodeAt(0);if(this.options.silent){console.error(Wn);break}throw new Error(Wn)}}return xe}}class st{constructor(Je){this.options=Je||D}code(Je,xe,He){const pt=(xe||"").match(/\S*/)[0];if(this.options.highlight){const dn=this.options.highlight(Je,pt);null!=dn&&dn!==Je&&(He=!0,Je=dn)}return Je=Je.replace(/\n$/,"")+"\n",pt?'<pre><code class="'+this.options.langPrefix+K(pt)+'">'+(He?Je:K(Je,!0))+"</code></pre>\n":"<pre><code>"+(He?Je:K(Je,!0))+"</code></pre>\n"}blockquote(Je){return`<blockquote>\n${Je}</blockquote>\n`}html(Je){return Je}heading(Je,xe,He,pt){return this.options.headerIds?`<h${xe} id="${this.options.headerPrefix+pt.slug(He)}">${Je}</h${xe}>\n`:`<h${xe}>${Je}</h${xe}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(Je,xe,He){const pt=xe?"ol":"ul";return"<"+pt+(xe&&1!==He?' start="'+He+'"':"")+">\n"+Je+"</"+pt+">\n"}listitem(Je){return`<li>${Je}</li>\n`}checkbox(Je){return"<input "+(Je?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(Je){return`<p>${Je}</p>\n`}table(Je,xe){return xe&&(xe=`<tbody>${xe}</tbody>`),"<table>\n<thead>\n"+Je+"</thead>\n"+xe+"</table>\n"}tablerow(Je){return`<tr>\n${Je}</tr>\n`}tablecell(Je,xe){const He=xe.header?"th":"td";return(xe.align?`<${He} align="${xe.align}">`:`<${He}>`)+Je+`</${He}>\n`}strong(Je){return`<strong>${Je}</strong>`}em(Je){return`<em>${Je}</em>`}codespan(Je){return`<code>${Je}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(Je){return`<del>${Je}</del>`}link(Je,xe,He){if(null===(Je=z(this.options.sanitize,this.options.baseUrl,Je)))return He;let pt='<a href="'+Je+'"';return xe&&(pt+=' title="'+xe+'"'),pt+=">"+He+"</a>",pt}image(Je,xe,He){if(null===(Je=z(this.options.sanitize,this.options.baseUrl,Je)))return He;let pt=`<img src="${Je}" alt="${He}"`;return xe&&(pt+=` title="${xe}"`),pt+=this.options.xhtml?"/>":">",pt}text(Je){return Je}}class ot{strong(Je){return Je}em(Je){return Je}codespan(Je){return Je}del(Je){return Je}html(Je){return Je}text(Je){return Je}link(Je,xe,He){return""+He}image(Je,xe,He){return""+He}br(){return""}}class ge{constructor(){this.seen={}}serialize(Je){return Je.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(Je,xe){let He=Je,pt=0;if(this.seen.hasOwnProperty(He)){pt=this.seen[Je];do{pt++,He=Je+"-"+pt}while(this.seen.hasOwnProperty(He))}return xe||(this.seen[Je]=pt,this.seen[He]=0),He}slug(Je,xe={}){const He=this.serialize(Je);return this.getNextSafeSlug(He,xe.dryrun)}}class ke{constructor(Je){this.options=Je||D,this.options.renderer=this.options.renderer||new st,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ot,this.slugger=new ge}static parse(Je,xe){return new ke(xe).parse(Je)}static parseInline(Je,xe){return new ke(xe).parseInline(Je)}parse(Je,xe=!0){let pt,dn,xn,Zt,bn,yn,Wn,si,gi,ii,ki,qi,Oo,li,ho,Go,Wo,vo,Xi,He="";const os=Je.length;for(pt=0;pt<os;pt++)if(ii=Je[pt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ii.type]&&(Xi=this.options.extensions.renderers[ii.type].call({parser:this},ii),!1!==Xi||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ii.type)))He+=Xi||"";else switch(ii.type){case"space":continue;case"hr":He+=this.renderer.hr();continue;case"heading":He+=this.renderer.heading(this.parseInline(ii.tokens),ii.depth,q(this.parseInline(ii.tokens,this.textRenderer)),this.slugger);continue;case"code":He+=this.renderer.code(ii.text,ii.lang,ii.escaped);continue;case"table":for(si="",Wn="",Zt=ii.header.length,dn=0;dn<Zt;dn++)Wn+=this.renderer.tablecell(this.parseInline(ii.header[dn].tokens),{header:!0,align:ii.align[dn]});for(si+=this.renderer.tablerow(Wn),gi="",Zt=ii.rows.length,dn=0;dn<Zt;dn++){for(yn=ii.rows[dn],Wn="",bn=yn.length,xn=0;xn<bn;xn++)Wn+=this.renderer.tablecell(this.parseInline(yn[xn].tokens),{header:!1,align:ii.align[xn]});gi+=this.renderer.tablerow(Wn)}He+=this.renderer.table(si,gi);continue;case"blockquote":gi=this.parse(ii.tokens),He+=this.renderer.blockquote(gi);continue;case"list":for(ki=ii.ordered,qi=ii.start,Oo=ii.loose,Zt=ii.items.length,gi="",dn=0;dn<Zt;dn++)ho=ii.items[dn],Go=ho.checked,Wo=ho.task,li="",ho.task&&(vo=this.renderer.checkbox(Go),Oo?ho.tokens.length>0&&"paragraph"===ho.tokens[0].type?(ho.tokens[0].text=vo+" "+ho.tokens[0].text,ho.tokens[0].tokens&&ho.tokens[0].tokens.length>0&&"text"===ho.tokens[0].tokens[0].type&&(ho.tokens[0].tokens[0].text=vo+" "+ho.tokens[0].tokens[0].text)):ho.tokens.unshift({type:"text",text:vo}):li+=vo),li+=this.parse(ho.tokens,Oo),gi+=this.renderer.listitem(li,Wo,Go);He+=this.renderer.list(gi,ki,qi);continue;case"html":He+=this.renderer.html(ii.text);continue;case"paragraph":He+=this.renderer.paragraph(this.parseInline(ii.tokens));continue;case"text":for(gi=ii.tokens?this.parseInline(ii.tokens):ii.text;pt+1<os&&"text"===Je[pt+1].type;)ii=Je[++pt],gi+="\n"+(ii.tokens?this.parseInline(ii.tokens):ii.text);He+=xe?this.renderer.paragraph(gi):gi;continue;default:{const us='Token with "'+ii.type+'" type was not found.';if(this.options.silent)return void console.error(us);throw new Error(us)}}return He}parseInline(Je,xe){xe=xe||this.renderer;let pt,dn,xn,He="";const Zt=Je.length;for(pt=0;pt<Zt;pt++)if(dn=Je[pt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[dn.type]&&(xn=this.options.extensions.renderers[dn.type].call({parser:this},dn),!1!==xn||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(dn.type)))He+=xn||"";else switch(dn.type){case"escape":case"text":He+=xe.text(dn.text);break;case"html":He+=xe.html(dn.text);break;case"link":He+=xe.link(dn.href,dn.title,this.parseInline(dn.tokens,xe));break;case"image":He+=xe.image(dn.href,dn.title,dn.text);break;case"strong":He+=xe.strong(this.parseInline(dn.tokens,xe));break;case"em":He+=xe.em(this.parseInline(dn.tokens,xe));break;case"codespan":He+=xe.codespan(dn.text);break;case"br":He+=xe.br();break;case"del":He+=xe.del(this.parseInline(dn.tokens,xe));break;default:{const bn='Token with "'+dn.type+'" type was not found.';if(this.options.silent)return void console.error(bn);throw new Error(bn)}}return He}}function rt(zt,Je,xe){if(null==zt)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof zt)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(zt)+", string expected");if("function"==typeof Je&&(xe=Je,Je=null),we(Je=ye({},rt.defaults,Je||{})),xe){const pt=Je.highlight;let dn;try{dn=At.lex(zt,Je)}catch(bn){return xe(bn)}const xn=function(bn){let yn;if(!bn)try{Je.walkTokens&&rt.walkTokens(dn,Je.walkTokens),yn=ke.parse(dn,Je)}catch(Wn){bn=Wn}return Je.highlight=pt,bn?xe(bn):xe(null,yn)};if(!pt||pt.length<3||(delete Je.highlight,!dn.length))return xn();let Zt=0;return rt.walkTokens(dn,function(bn){"code"===bn.type&&(Zt++,setTimeout(()=>{pt(bn.text,bn.lang,function(yn,Wn){if(yn)return xn(yn);null!=Wn&&Wn!==bn.text&&(bn.text=Wn,bn.escaped=!0),Zt--,0===Zt&&xn()})},0))}),void(0===Zt&&xn())}function He(pt){if(pt.message+="\nPlease report this to https://github.com/markedjs/marked.",Je.silent)return"<p>An error occurred:</p><pre>"+K(pt.message+"",!0)+"</pre>";throw pt}try{const pt=At.lex(zt,Je);if(Je.walkTokens){if(Je.async)return Promise.all(rt.walkTokens(pt,Je.walkTokens)).then(()=>ke.parse(pt,Je)).catch(He);rt.walkTokens(pt,Je.walkTokens)}return ke.parse(pt,Je)}catch(pt){He(pt)}}rt.options=rt.setOptions=function(zt){return ye(rt.defaults,zt),function U(zt){D=zt}(rt.defaults),rt},rt.getDefaults=function E(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},rt.defaults=D,rt.use=function(...zt){const Je=rt.defaults.extensions||{renderers:{},childTokens:{}};zt.forEach(xe=>{const He=ye({},xe);if(He.async=rt.defaults.async||He.async,xe.extensions&&(xe.extensions.forEach(pt=>{if(!pt.name)throw new Error("extension name required");if(pt.renderer){const dn=Je.renderers[pt.name];Je.renderers[pt.name]=dn?function(...xn){let Zt=pt.renderer.apply(this,xn);return!1===Zt&&(Zt=dn.apply(this,xn)),Zt}:pt.renderer}if(pt.tokenizer){if(!pt.level||"block"!==pt.level&&"inline"!==pt.level)throw new Error("extension level must be 'block' or 'inline'");Je[pt.level]?Je[pt.level].unshift(pt.tokenizer):Je[pt.level]=[pt.tokenizer],pt.start&&("block"===pt.level?Je.startBlock?Je.startBlock.push(pt.start):Je.startBlock=[pt.start]:"inline"===pt.level&&(Je.startInline?Je.startInline.push(pt.start):Je.startInline=[pt.start]))}pt.childTokens&&(Je.childTokens[pt.name]=pt.childTokens)}),He.extensions=Je),xe.renderer){const pt=rt.defaults.renderer||new st;for(const dn in xe.renderer){const xn=pt[dn];pt[dn]=(...Zt)=>{let bn=xe.renderer[dn].apply(pt,Zt);return!1===bn&&(bn=xn.apply(pt,Zt)),bn}}He.renderer=pt}if(xe.tokenizer){const pt=rt.defaults.tokenizer||new et;for(const dn in xe.tokenizer){const xn=pt[dn];pt[dn]=(...Zt)=>{let bn=xe.tokenizer[dn].apply(pt,Zt);return!1===bn&&(bn=xn.apply(pt,Zt)),bn}}He.tokenizer=pt}if(xe.walkTokens){const pt=rt.defaults.walkTokens;He.walkTokens=function(dn){let xn=[];return xn.push(xe.walkTokens.call(this,dn)),pt&&(xn=xn.concat(pt.call(this,dn))),xn}}rt.setOptions(He)})},rt.walkTokens=function(zt,Je){let xe=[];for(const He of zt)switch(xe=xe.concat(Je.call(rt,He)),He.type){case"table":for(const pt of He.header)xe=xe.concat(rt.walkTokens(pt.tokens,Je));for(const pt of He.rows)for(const dn of pt)xe=xe.concat(rt.walkTokens(dn.tokens,Je));break;case"list":xe=xe.concat(rt.walkTokens(He.items,Je));break;default:rt.defaults.extensions&&rt.defaults.extensions.childTokens&&rt.defaults.extensions.childTokens[He.type]?rt.defaults.extensions.childTokens[He.type].forEach(function(pt){xe=xe.concat(rt.walkTokens(He[pt],Je))}):He.tokens&&(xe=xe.concat(rt.walkTokens(He.tokens,Je)))}return xe},rt.parseInline=function(zt,Je){if(null==zt)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof zt)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(zt)+", string expected");we(Je=ye({},rt.defaults,Je||{}));try{const xe=At.lexInline(zt,Je);return Je.walkTokens&&rt.walkTokens(xe,Je.walkTokens),ke.parseInline(xe,Je)}catch(xe){if(xe.message+="\nPlease report this to https://github.com/markedjs/marked.",Je.silent)return"<p>An error occurred:</p><pre>"+K(xe.message+"",!0)+"</pre>";throw xe}},rt.Parser=ke,rt.parser=ke.parse,rt.Renderer=st,rt.TextRenderer=ot,rt.Lexer=At,rt.lexer=At.lex,rt.Tokenizer=et,rt.Slugger=ge,rt.parse=rt;var se=b(520),Fe=b(2313);const he=["*"];let Tn=(()=>{class zt{constructor(){this._buttonClick$=new d.x,this.copied$=this._buttonClick$.pipe((0,P.w)(()=>(0,u.T)((0,f.of)(!0),(0,_.H)(3e3).pipe((0,x.h)(!1)))),(0,r.x)(),(0,R.d)(1)),this.copiedText$=this.copied$.pipe((0,L.O)(!1),(0,Q.U)(xe=>xe?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return zt.\u0275fac=function(xe){return new(xe||zt)},zt.\u0275cmp=e.Xpm({type:zt,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(xe,He){1&xe&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return He.onCopyToClipboardClick()}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"async"),e.qZA()),2&xe&&(e.ekj("copied",e.lcZ(1,3,He.copied$)),e.xp6(2),e.Oqu(e.lcZ(3,5,He.copiedText$)))},dependencies:[y.Ov],encapsulation:2,changeDetection:0}),zt})();class tn{}var Qe=(()=>{return(zt=Qe||(Qe={})).CommandLine="command-line",zt.LineHighlight="line-highlight",zt.LineNumbers="line-numbers",Qe;var zt})();class ze{}const Ut=new e.OlP("SECURITY_CONTEXT");let Bn=(()=>{class zt{constructor(xe,He,pt,dn,xn,Zt){this.platform=xe,this.securityContext=He,this.http=pt,this.clipboardOptions=dn,this.sanitizer=Zt,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new st},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new d.x,this.reload$=this._reload$.asObservable(),this.options=xn}get options(){return this._options}set options(xe){this._options=Object.assign(Object.assign({},this.DEFAULT_MARKED_OPTIONS),xe)}get renderer(){return this.options.renderer}set renderer(xe){this.options.renderer=xe}parse(xe,He=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:pt,inline:dn,emoji:xn,mermaid:Zt,markedOptions:bn=this.options}=He;Zt&&(this.renderer=this.extendRenderer(bn.renderer||new st));const yn=this.trimIndentation(xe),Wn=pt?this.decodeHtml(yn):yn,si=xn?this.parseEmoji(Wn):Wn,gi=this.parseMarked(si,bn,dn);return this.sanitizer.sanitize(this.securityContext,gi)||""}render(xe,He=this.DEFAULT_RENDER_OPTIONS,pt){const{clipboard:dn,clipboardOptions:xn,katex:Zt,katexOptions:bn,mermaid:yn,mermaidOptions:Wn}=He;dn&&this.renderClipboard(xe,pt,Object.assign(Object.assign(Object.assign({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),xn)),Zt&&this.renderKatex(xe,Object.assign(Object.assign({},this.DEFAULT_KATEX_OPTIONS),bn)),yn&&this.renderMermaid(xe,Object.assign(Object.assign({},this.DEFAULT_MERMAID_OPTIONS),Wn)),this.highlight(xe)}reload(){this._reload$.next()}getSource(xe){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(xe,{responseType:"text"}).pipe((0,Q.U)(He=>this.handleExtension(xe,He)))}highlight(xe){if(!(0,y.NF)(this.platform)||"undefined"==typeof Prism||void 0===Prism.highlightAllUnder)return;xe||(xe=document);const He=xe.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(He,pt=>pt.classList.add("language-none")),Prism.highlightAllUnder(xe)}decodeHtml(xe){if(!(0,y.NF)(this.platform))return xe;const He=document.createElement("textarea");return He.innerHTML=xe,He.value}extendRenderer(xe){const He=xe;if(!0===He.\u0275NgxMarkdownRendererExtended)return xe;const pt=xe.code;return xe.code=function(dn,xn,Zt){return"mermaid"===xn?`<div class="mermaid">${dn}</div>`:pt.call(this,dn,xn,Zt)},He.\u0275NgxMarkdownRendererExtended=!0,xe}handleExtension(xe,He){const pt=xe.lastIndexOf("://"),dn=pt>-1?xe.substring(pt+4):xe,xn=dn.lastIndexOf("/"),Zt=xn>-1?dn.substring(xn+1).split("?")[0]:"",bn=Zt.lastIndexOf("."),yn=bn>-1?Zt.substring(bn+1):"";return yn&&"md"!==yn?"```"+yn+"\n"+He+"\n```":He}parseMarked(xe,He,pt=!1){return(0,y.NF)(this.platform)?pt?rt.parseInline(xe,He):rt.parse(xe,He):xe}parseEmoji(xe){if(!(0,y.NF)(this.platform))return xe;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(xe)}renderKatex(xe,He){if((0,y.NF)(this.platform)){if("undefined"==typeof katex||"undefined"==typeof renderMathInElement)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(xe,He)}}renderClipboard(xe,He,pt){if(!(0,y.NF)(this.platform))return;if("undefined"==typeof ClipboardJS)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!He)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:dn,buttonTemplate:xn}=pt,Zt=xe.querySelectorAll("pre");for(let bn=0;bn<Zt.length;bn++){const yn=Zt.item(bn),Wn=document.createElement("div");Wn.style.position="relative",yn.parentNode.insertBefore(Wn,yn),Wn.appendChild(yn);const si=document.createElement("div");let gi,ii;si.style.position="absolute",si.style.top=".5em",si.style.right=".5em",si.style.opacity="0",si.style.transition="opacity 250ms ease-out",Wn.insertAdjacentElement("beforeend",si),yn.onmouseover=()=>si.style.opacity="1",yn.onmouseout=()=>si.style.opacity="0",gi=dn?He.createComponent(dn).hostView:xn?He.createEmbeddedView(xn):He.createComponent(Tn).hostView,gi.rootNodes.forEach(ki=>{ki.onmouseover=()=>si.style.opacity="1",si.appendChild(ki),ii=new ClipboardJS(ki,{text:()=>yn.innerText})}),gi.onDestroy(()=>ii.destroy())}}renderMermaid(xe,He=this.DEFAULT_MERMAID_OPTIONS){if(!(0,y.NF)(this.platform))return;if("undefined"==typeof mermaid||void 0===mermaid.init)throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const pt=xe.querySelectorAll(".mermaid");0!==pt.length&&(mermaid.initialize(He),mermaid.init(pt))}trimIndentation(xe){if(!xe)return"";let He;return xe.split("\n").map(pt=>{let dn=He;return pt.length>0&&(dn=isNaN(dn)?pt.search(/\S|$/):Math.min(pt.search(/\S|$/),dn)),isNaN(He)&&(He=dn),dn?pt.substring(dn):pt}).join("\n")}}return zt.\u0275fac=function(xe){return new(xe||zt)(e.LFG(e.Lbi),e.LFG(Ut),e.LFG(se.eN,8),e.LFG(tn,8),e.LFG(ze,8),e.LFG(Fe.H7))},zt.\u0275prov=e.Yz7({token:zt,factory:zt.\u0275fac}),zt})(),Vn=(()=>{class zt{constructor(xe,He,pt){this.element=xe,this.markdownService=He,this.viewContainerRef=pt,this.error=new e.vpe,this.load=new e.vpe,this.ready=new e.vpe,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new d.x}get inline(){return this._inline}set inline(xe){this._inline=this.coerceBooleanProperty(xe)}get clipboard(){return this._clipboard}set clipboard(xe){this._clipboard=this.coerceBooleanProperty(xe)}get emoji(){return this._emoji}set emoji(xe){this._emoji=this.coerceBooleanProperty(xe)}get katex(){return this._katex}set katex(xe){this._katex=this.coerceBooleanProperty(xe)}get mermaid(){return this._mermaid}set mermaid(xe){this._mermaid=this.coerceBooleanProperty(xe)}get lineHighlight(){return this._lineHighlight}set lineHighlight(xe){this._lineHighlight=this.coerceBooleanProperty(xe)}get lineNumbers(){return this._lineNumbers}set lineNumbers(xe){this._lineNumbers=this.coerceBooleanProperty(xe)}get commandLine(){return this._commandLine}set commandLine(xe){this._commandLine=this.coerceBooleanProperty(xe)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,N.R)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(xe,He=!1){const dn={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},xn=this.markdownService.parse(xe,{decodeHtml:He,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=xn,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,dn,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(xe){return null!=xe&&"false"!=`${String(xe)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:xe=>{this.render(xe),this.load.emit(xe)},error:xe=>this.error.emit(xe)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Qe.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Qe.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(xe,He){const pt=xe.querySelectorAll("pre");for(let dn=0;dn<pt.length;dn++){const xn=He instanceof Array?He:[He];pt.item(dn).classList.add(...xn)}}setPluginOptions(xe,He){const pt=xe.querySelectorAll("pre");for(let dn=0;dn<pt.length;dn++)Object.keys(He).forEach(xn=>{const Zt=He[xn];if(Zt){const bn=this.toLispCase(xn);pt.item(dn).setAttribute(bn,Zt.toString())}})}toLispCase(xe){const He=xe.match(/([A-Z])/g);if(!He)return xe;let pt=xe.toString();for(let dn=0,xn=He.length;dn<xn;dn++)pt=pt.replace(new RegExp(He[dn]),"-"+He[dn].toLowerCase());return"-"===pt.slice(0,1)&&(pt=pt.slice(1)),pt}}return zt.\u0275fac=function(xe){return new(xe||zt)(e.Y36(e.SBq),e.Y36(Bn),e.Y36(e.s_b))},zt.\u0275cmp=e.Xpm({type:zt,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[e.TTD],ngContentSelectors:he,decls:1,vars:0,template:function(xe,He){1&xe&&(e.F$t(),e.Hsn(0))},encapsulation:2}),zt})(),Qi=(()=>{class zt{static forRoot(xe){return{ngModule:zt,providers:[Bn,xe&&xe.loader||[],xe&&xe.clipboardOptions||[],xe&&xe.markedOptions||[],{provide:Ut,useValue:xe&&null!=xe.sanitize?xe.sanitize:e.q3G.HTML}]}}static forChild(){return{ngModule:zt}}}return zt.\u0275fac=function(xe){return new(xe||zt)},zt.\u0275mod=e.oAB({type:zt}),zt.\u0275inj=e.cJS({imports:[y.ez]}),zt})();var Vo;!function(zt){let Je;var pt;let xe,He;(pt=Je=zt.SecurityLevel||(zt.SecurityLevel={})).Strict="strict",pt.Loose="loose",pt.Antiscript="antiscript",pt.Sandbox="sandbox",function(pt){pt.Base="base",pt.Forest="forest",pt.Dark="dark",pt.Default="default",pt.Neutral="neutral"}(xe=zt.Theme||(zt.Theme={})),function(pt){pt[pt.Debug=1]="Debug",pt[pt.Info=2]="Info",pt[pt.Warn=3]="Warn",pt[pt.Error=4]="Error",pt[pt.Fatal=5]="Fatal"}(He=zt.LogLevel||(zt.LogLevel={}))}(Vo||(Vo={}))},8913:(hn,ft,b)=>{"use strict";b.d(ft,{g6:()=>te,qH:()=>W});var e=b(5e3);const d={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},u=new e.OlP("config",{providedIn:"root",factory:()=>({modules:d})});var _=b(9808),P=b(2313),x=b(9770),r=b(9751),R=b(576);function L(Ee){return!!Ee&&(Ee instanceof r.y||(0,R.m)(Ee.lift)&&(0,R.m)(Ee.subscribe))}var Q=b(3905),N=b(727),T=b(4968),y=b(4782),E=b(5577),D=b(8372),U=b(2382),B=b(655);function ce(Ee,qe){1&Ee&&e._UZ(0,"div",2)}function $(Ee,qe){1&Ee&&e._UZ(0,"pre",2)}function V(Ee,qe){if(1&Ee&&(e.ynx(0),e.YNc(1,ce,1,0,"div",1),e.YNc(2,$,1,0,"pre",1),e.BQk()),2&Ee){const ye=e.oxw();e.xp6(1),e.Q6J("ngIf",!ye.preserve),e.xp6(1),e.Q6J("ngIf",ye.preserve)}}function k(Ee,qe){1&Ee&&e._UZ(0,"div",2)}function O(Ee,qe){1&Ee&&e._UZ(0,"pre",2)}function K(Ee,qe){if(1&Ee&&(e.ynx(0),e.YNc(1,k,1,0,"div",1),e.YNc(2,O,1,0,"pre",1),e.BQk()),2&Ee){const ye=e.oxw();e.xp6(1),e.Q6J("ngIf",!ye.preserve),e.xp6(1),e.Q6J("ngIf",ye.preserve)}}const ue=[[["","quill-editor-toolbar",""]]],q=["[quill-editor-toolbar]"],Ce=(Ee,qe)=>Ee||qe||"html";let oe=(()=>{class Ee{constructor(ye,Ge){this.config=Ge,this.quill$=(0,x.P)(()=>(0,B.mG)(this,void 0,void 0,function*(){var X;if(!this.Quill){const be=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const we=yield b.e(971).then(b.t.bind(b,9971,19));this.document.addEventListener=be,this.Quill=we.default?we.default:we}return null===(X=this.config.customOptions)||void 0===X||X.forEach(be=>{const we=this.Quill.import(be.import);we.whitelist=be.whitelist,this.Quill.register(we,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe((0,y.d)({bufferSize:1,refCount:!0})),this.document=ye.get(_.K0),this.config||(this.config={modules:d})}getQuill(){return this.quill$}registerCustomModules(ye,Ge,X){return(0,B.mG)(this,void 0,void 0,function*(){if(Array.isArray(Ge))for(let{implementation:be,path:we}of Ge)L(be)&&(be=yield(0,Q.z)(be)),ye.register(we,be,X);return ye})}}return Ee.\u0275fac=function(ye){return new(ye||Ee)(e.LFG(e.zs3),e.LFG(u,8))},Ee.\u0275prov=e.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),z=(()=>{class Ee{constructor(ye,Ge,X,be,we,Ie,ct,dt){this.elementRef=Ge,this.cd=X,this.domSanitizer=be,this.platformId=we,this.renderer=Ie,this.zone=ct,this.service=dt,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(et,vt)=>{let ht=vt.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ht||"<div><br></div>"===ht)&&(ht=this.defaultEmptyValue);let Rt=ht;const Nt=Ce(this.format,this.service.config.format);if("text"===Nt)Rt=et.getText();else if("object"===Nt)Rt=et.getContents();else if("json"===Nt)try{Rt=JSON.stringify(et.getContents())}catch(At){Rt=et.getText()}return Rt},this.valueSetter=(et,vt)=>{const ht=Ce(this.format,this.service.config.format);if("html"===ht)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(vt=this.domSanitizer.sanitize(e.q3G.HTML,vt)),et.clipboard.convert(vt);if("json"===ht)try{return JSON.parse(vt)}catch(Rt){return[{insert:vt}]}return vt},this.selectionChangeHandler=(et,vt,ht)=>{const Rt=!et&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!Rt||this.zone.run(()=>{null===et?this.onBlur.emit({editor:this.quillEditor,source:ht}):null===vt&&this.onFocus.emit({editor:this.quillEditor,source:ht}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:vt,range:et,source:ht}),Rt&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(et,vt,ht)=>{const Rt=this.quillEditor.getText(),Nt=this.quillEditor.getContents();let At=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===At||"<div><br></div>"===At)&&(At=this.defaultEmptyValue);const st=this.trackChanges||this.service.config.trackChanges,ot=("user"===ht||st&&"all"===st)&&!!this.onModelChange;!this.onContentChanged.observed&&!ot||this.zone.run(()=>{ot&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:Nt,delta:et,editor:this.quillEditor,html:At,oldDelta:vt,source:ht,text:Rt}),this.cd.markForCheck()})},this.editorChangeHandler=(et,vt,ht,Rt)=>{if(this.onEditorChanged.observed)if("text-change"===et){const Nt=this.quillEditor.getText(),At=this.quillEditor.getContents();let st=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===st||"<div><br></div>"===st)&&(st=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:At,delta:vt,editor:this.quillEditor,event:et,html:st,oldDelta:ht,source:Rt,text:Nt}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:et,oldRange:ht,range:vt,source:Rt}),this.cd.markForCheck()})},this.document=ye.get(_.K0)}static normalizeClassNames(ye){return ye.trim().split(" ").reduce((X,be)=>{const we=be.trim();return we&&X.push(we),X},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,_.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,E.z)(ye=>{var Ge;const X=[this.service.registerCustomModules(ye,this.customModules)],be=null!==(Ge=this.beforeRender)&&void 0!==Ge?Ge:this.service.config.beforeRender;return be&&X.push(be()),Promise.all(X).then(()=>ye)})).subscribe(ye=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const Ge=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),X=Object.assign({},this.modules||this.service.config.modules);Ge?X.toolbar=Ge:void 0===X.toolbar&&(X.toolbar=d.toolbar);let be=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===be&&(be="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(ht=>{this.renderer.setStyle(this.editorElem,ht,this.styles[ht])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(ht=>{const Rt=ye.import(ht.import);Rt.whitelist=ht.whitelist,ye.register(Rt,!0)});let we=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;we||(we=this.service.config.bounds?this.service.config.bounds:this.document.body);let Ie=this.debug;!Ie&&!1!==Ie&&this.service.config.debug&&(Ie=this.service.config.debug);let ct=this.readOnly;!ct&&!1!==this.readOnly&&(ct=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let dt=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(dt=this.service.config.defaultEmptyValue);let et=this.scrollingContainer;!et&&null!==this.scrollingContainer&&(et=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let vt=this.formats;if(!vt&&void 0===vt&&(vt=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var ht,Rt,Nt;if(this.quillEditor=new ye(this.editorElem,{bounds:we,debug:Ie,formats:vt,modules:X,placeholder:be,readOnly:ct,defaultEmptyValue:dt,scrollingContainer:et,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const At=null===(Rt=null===(ht=this.quillEditor)||void 0===ht?void 0:ht.theme)||void 0===Rt?void 0:Rt.tooltip,st=null===(Nt=null==At?void 0:At.root)||void 0===Nt?void 0:Nt.querySelector("input[data-link]");null!=st&&st.dataset&&(st.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===Ce(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const Rt=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(Rt,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var ye;this.dispose(),null===(ye=this.quillSubscription)||void 0===ye||ye.unsubscribe(),this.quillSubscription=null}ngOnChanges(ye){if(this.quillEditor){if(ye.readOnly&&this.quillEditor.enable(!ye.readOnly.currentValue),ye.placeholder&&(this.quillEditor.root.dataset.placeholder=ye.placeholder.currentValue),ye.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=ye.defaultEmptyValue.currentValue),ye.styles){const Ge=ye.styles.currentValue,X=ye.styles.previousValue;X&&Object.keys(X).forEach(be=>{this.renderer.removeStyle(this.editorElem,be)}),Ge&&Object.keys(Ge).forEach(be=>{this.renderer.setStyle(this.editorElem,be,this.styles[be])})}if(ye.classes){const Ge=ye.classes.currentValue,X=ye.classes.previousValue;X&&this.removeClasses(X),Ge&&this.addClasses(Ge)}ye.debounceTime&&this.addQuillEventListeners()}}addClasses(ye){Ee.normalizeClassNames(ye).forEach(Ge=>{this.renderer.addClass(this.editorElem,Ge)})}removeClasses(ye){Ee.normalizeClassNames(ye).forEach(Ge=>{this.renderer.removeClass(this.editorElem,Ge)})}writeValue(ye){if(this.filterNull&&null===ye||(this.content=ye,!this.quillEditor))return;const Ge=Ce(this.format,this.service.config.format),X=this.valueSetter(this.quillEditor,ye);if(this.compareValues){const be=this.quillEditor.getContents();if(JSON.stringify(be)===JSON.stringify(X))return}ye?"text"===Ge?this.quillEditor.setText(ye):this.quillEditor.setContents(X):this.quillEditor.setText("")}setDisabledState(ye=this.disabled){this.disabled=ye,this.quillEditor&&(ye?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(ye){this.onModelChange=ye}registerOnTouched(ye){this.onModelTouched=ye}registerOnValidatorChange(ye){this.onValidatorChanged=ye}validate(){if(!this.quillEditor)return null;const ye={};let Ge=!0;const X=this.quillEditor.getText(),be=this.trimOnValidation?X.trim().length:1===X.length&&0===X.trim().length?0:X.length-1,we=this.quillEditor.getContents().ops,Ie=we&&1===we.length&&["\n",""].includes(we[0].insert);return this.minLength&&be&&be<this.minLength&&(ye.minLengthError={given:be,minLength:this.minLength},Ge=!1),this.maxLength&&be>this.maxLength&&(ye.maxLengthError={given:be,maxLength:this.maxLength},Ge=!1),this.required&&!be&&Ie&&(ye.requiredError={empty:!0},Ge=!1),Ge?null:ye}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new N.w0,this.subscription.add((0,T.R)(this.quillEditor,"selection-change").subscribe(([X,be,we])=>{this.selectionChangeHandler(X,be,we)}));let ye=(0,T.R)(this.quillEditor,"text-change"),Ge=(0,T.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(ye=ye.pipe((0,D.b)(this.debounceTime)),Ge=Ge.pipe((0,D.b)(this.debounceTime))),this.subscription.add(ye.subscribe(([X,be,we])=>{this.textChangeHandler(X,be,we)})),this.subscription.add(Ge.subscribe(([X,be,we,Ie])=>{this.editorChangeHandler(X,be,we,Ie)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return Ee.\u0275fac=function(ye){return new(ye||Ee)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(P.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(oe))},Ee.\u0275dir=e.lG2({type:Ee,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),Ee})(),te=(()=>{class Ee extends z{constructor(ye,Ge,X,be,we,Ie,ct,dt){super(ye,Ge,X,be,we,Ie,ct,dt)}}return Ee.\u0275fac=function(ye){return new(ye||Ee)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(P.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(oe))},Ee.\u0275cmp=e.Xpm({type:Ee,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:U.JU,useExisting:(0,e.Gpc)(()=>Ee)},{multi:!0,provide:U.Cf,useExisting:(0,e.Gpc)(()=>Ee)}]),e.qOj,e.jDz],ngContentSelectors:q,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(ye,Ge){1&ye&&(e.F$t(ue),e.YNc(0,V,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,K,3,2,"ng-container",0)),2&ye&&(e.Q6J("ngIf","top"!==Ge.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===Ge.toolbarPosition))},dependencies:[_.ez,_.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),Ee})(),W=(()=>{class Ee{constructor(ye,Ge){this.sanitizer=ye,this.service=Ge,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(ye){if(ye.theme?this.themeClass=`ql-${ye.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),ye.content){const Ge=ye.content.currentValue,X=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=X?Ge:this.sanitizer.bypassSecurityTrustHtml(Ge)}}}return Ee.\u0275fac=function(ye){return new(ye||Ee)(e.Y36(P.H7),e.Y36(oe))},Ee.\u0275cmp=e.Xpm({type:Ee,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(ye,Ge){1&ye&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&ye&&(e.Q6J("ngClass",Ge.themeClass),e.xp6(1),e.Q6J("innerHTML",Ge.innerHTML,e.oJD))},dependencies:[_.ez,_.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),Ee})()},6954:(hn,ft,b)=>{"use strict";b.d(ft,{x:()=>f});var e=b(9808),d=b(5e3);let f=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=d.oAB({type:_}),_.\u0275inj=d.cJS({imports:[e.ez]}),_})()},9783:(hn,ft,b)=>{"use strict";b.d(ft,{$_:()=>U,F0:()=>T,Lk:()=>r,Y:()=>V,YP:()=>x,a6:()=>R,b4:()=>E,ez:()=>N,h4:()=>D,iZ:()=>Q,jx:()=>B,m8:()=>ce,pg:()=>L,wB:()=>P,ws:()=>$});var e=b(5e3),d=b(7579),u=b(5921),f=b(9808);const _=["*"];var P=(()=>{return(k=P||(P={}))[k.ACCEPT=0]="ACCEPT",k[k.REJECT=1]="REJECT",k[k.CANCEL=2]="CANCEL",P;var k})();let x=(()=>{class k{constructor(){this.requireConfirmationSource=new d.x,this.acceptConfirmationSource=new d.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(K){return this.requireConfirmationSource.next(K),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})(),r=(()=>{class k{constructor(){this.activeItemKeyChange=new d.x,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(K){this.activeItemKey=K,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})(),R=(()=>{class k{}return k.STARTS_WITH="startsWith",k.CONTAINS="contains",k.NOT_CONTAINS="notContains",k.ENDS_WITH="endsWith",k.EQUALS="equals",k.NOT_EQUALS="notEquals",k.IN="in",k.LESS_THAN="lt",k.LESS_THAN_OR_EQUAL_TO="lte",k.GREATER_THAN="gt",k.GREATER_THAN_OR_EQUAL_TO="gte",k.BETWEEN="between",k.IS="is",k.IS_NOT="isNot",k.BEFORE="before",k.AFTER="after",k.DATE_IS="dateIs",k.DATE_IS_NOT="dateIsNot",k.DATE_BEFORE="dateBefore",k.DATE_AFTER="dateAfter",k})(),L=(()=>{class k{}return k.AND="and",k.OR="or",k})(),Q=(()=>{class k{constructor(){this.filters={startsWith:(K,ue,q)=>{if(null==ue||""===ue.trim())return!0;if(null==K)return!1;let G=u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return u.gb.removeAccents(K.toString()).toLocaleLowerCase(q).slice(0,G.length)===G},contains:(K,ue,q)=>{if(null==ue||"string"==typeof ue&&""===ue.trim())return!0;if(null==K)return!1;let G=u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return-1!==u.gb.removeAccents(K.toString()).toLocaleLowerCase(q).indexOf(G)},notContains:(K,ue,q)=>{if(null==ue||"string"==typeof ue&&""===ue.trim())return!0;if(null==K)return!1;let G=u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q);return-1===u.gb.removeAccents(K.toString()).toLocaleLowerCase(q).indexOf(G)},endsWith:(K,ue,q)=>{if(null==ue||""===ue.trim())return!0;if(null==K)return!1;let G=u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q),ne=u.gb.removeAccents(K.toString()).toLocaleLowerCase(q);return-1!==ne.indexOf(G,ne.length-G.length)},equals:(K,ue,q)=>null==ue||"string"==typeof ue&&""===ue.trim()||null!=K&&(K.getTime&&ue.getTime?K.getTime()===ue.getTime():u.gb.removeAccents(K.toString()).toLocaleLowerCase(q)==u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q)),notEquals:(K,ue,q)=>!(null==ue||"string"==typeof ue&&""===ue.trim()||null!=K&&(K.getTime&&ue.getTime?K.getTime()===ue.getTime():u.gb.removeAccents(K.toString()).toLocaleLowerCase(q)==u.gb.removeAccents(ue.toString()).toLocaleLowerCase(q))),in:(K,ue)=>{if(null==ue||0===ue.length)return!0;for(let q=0;q<ue.length;q++)if(u.gb.equals(K,ue[q]))return!0;return!1},between:(K,ue)=>null==ue||null==ue[0]||null==ue[1]||null!=K&&(K.getTime?ue[0].getTime()<=K.getTime()&&K.getTime()<=ue[1].getTime():ue[0]<=K&&K<=ue[1]),lt:(K,ue,q)=>null==ue||null!=K&&(K.getTime&&ue.getTime?K.getTime()<ue.getTime():K<ue),lte:(K,ue,q)=>null==ue||null!=K&&(K.getTime&&ue.getTime?K.getTime()<=ue.getTime():K<=ue),gt:(K,ue,q)=>null==ue||null!=K&&(K.getTime&&ue.getTime?K.getTime()>ue.getTime():K>ue),gte:(K,ue,q)=>null==ue||null!=K&&(K.getTime&&ue.getTime?K.getTime()>=ue.getTime():K>=ue),is:(K,ue,q)=>this.filters.equals(K,ue,q),isNot:(K,ue,q)=>this.filters.notEquals(K,ue,q),before:(K,ue,q)=>this.filters.lt(K,ue,q),after:(K,ue,q)=>this.filters.gt(K,ue,q),dateIs:(K,ue)=>null==ue||null!=K&&K.toDateString()===ue.toDateString(),dateIsNot:(K,ue)=>null==ue||null!=K&&K.toDateString()!==ue.toDateString(),dateBefore:(K,ue)=>null==ue||null!=K&&K.getTime()<ue.getTime(),dateAfter:(K,ue)=>null==ue||null!=K&&K.getTime()>ue.getTime()}}filter(K,ue,q,G,ne){let Ce=[];if(K)for(let oe of K)for(let z of ue){let te=u.gb.resolveFieldData(oe,z);if(this.filters[G](te,q,ne)){Ce.push(oe);break}}return Ce}register(K,ue){this.filters[K]=ue}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),N=(()=>{class k{constructor(){this.messageSource=new d.x,this.clearSource=new d.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(K){K&&this.messageSource.next(K)}addAll(K){K&&K.length&&this.messageSource.next(K)}clear(K){this.clearSource.next(K||null)}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})(),T=(()=>{class k{constructor(){this.clickSource=new d.x,this.clickObservable=this.clickSource.asObservable()}add(K){K&&this.clickSource.next(K)}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),E=(()=>{class k{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[R.STARTS_WITH,R.CONTAINS,R.NOT_CONTAINS,R.ENDS_WITH,R.EQUALS,R.NOT_EQUALS],numeric:[R.EQUALS,R.NOT_EQUALS,R.LESS_THAN,R.LESS_THAN_OR_EQUAL_TO,R.GREATER_THAN,R.GREATER_THAN_OR_EQUAL_TO],date:[R.DATE_IS,R.DATE_IS_NOT,R.DATE_BEFORE,R.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new d.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(K){return this.translation[K]}setTranslation(K){this.translation=Object.assign(Object.assign({},this.translation),K),this.translationSource.next(this.translation)}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),D=(()=>{class k{}return k.\u0275fac=function(K){return new(K||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-header"]],ngContentSelectors:_,decls:1,vars:0,template:function(K,ue){1&K&&(e.F$t(),e.Hsn(0))},encapsulation:2}),k})(),U=(()=>{class k{}return k.\u0275fac=function(K){return new(K||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["p-footer"]],ngContentSelectors:_,decls:1,vars:0,template:function(K,ue){1&K&&(e.F$t(),e.Hsn(0))},encapsulation:2}),k})(),B=(()=>{class k{constructor(K){this.template=K}getType(){return this.name}}return k.\u0275fac=function(K){return new(K||k)(e.Y36(e.Rgc))},k.\u0275dir=e.lG2({type:k,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),k})(),ce=(()=>{class k{}return k.\u0275fac=function(K){return new(K||k)},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[f.ez]}),k})(),$=(()=>{class k{}return k.STARTS_WITH="startsWith",k.CONTAINS="contains",k.NOT_CONTAINS="notContains",k.ENDS_WITH="endsWith",k.EQUALS="equals",k.NOT_EQUALS="notEquals",k.NO_FILTER="noFilter",k.LT="lt",k.LTE="lte",k.GT="gt",k.GTE="gte",k.IS="is",k.IS_NOT="isNot",k.BEFORE="before",k.AFTER="after",k.CLEAR="clear",k.APPLY="apply",k.MATCH_ALL="matchAll",k.MATCH_ANY="matchAny",k.ADD_RULE="addRule",k.REMOVE_RULE="removeRule",k.ACCEPT="accept",k.REJECT="reject",k.CHOOSE="choose",k.UPLOAD="upload",k.CANCEL="cancel",k.DAY_NAMES="dayNames",k.DAY_NAMES_SHORT="dayNamesShort",k.DAY_NAMES_MIN="dayNamesMin",k.MONTH_NAMES="monthNames",k.MONTH_NAMES_SHORT="monthNamesShort",k.FIRST_DAY_OF_WEEK="firstDayOfWeek",k.TODAY="today",k.WEEK_HEADER="weekHeader",k.WEAK="weak",k.MEDIUM="medium",k.STRONG="strong",k.PASSWORD_PROMPT="passwordPrompt",k.EMPTY_MESSAGE="emptyMessage",k.EMPTY_FILTER_MESSAGE="emptyFilterMessage",k})(),V=(()=>{class k{constructor(){this.dragStartSource=new d.x,this.dragStopSource=new d.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(K){this.dragStartSource.next(K)}stopDrag(K){this.dragStopSource.next(K)}}return k.\u0275fac=function(K){return new(K||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})()},2145:(hn,ft,b)=>{"use strict";b.d(ft,{Qc:()=>Tn,WN:()=>tn});var e=b(5e3),d=b(9808),u=b(1777),f=b(1424),_=b(845),P=b(5787),x=b(9783),r=b(5730),R=b(5921),L=b(2382),Q=b(5871),N=b(9618);const T=["container"],y=["in"],E=["multiIn"],D=["multiContainer"],U=["ddBtn"],B=["items"],ce=["scroller"],$=function(bt,nt){return{"p-autocomplete-dd-input":bt,"p-disabled":nt}};function V(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"input",8,9),e.NdJ("click",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputClick(ze))})("input",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInput(ze))})("keydown",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onKeydown(ze))})("keyup",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onKeyup(ze))})("focus",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputFocus(ze))})("blur",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputBlur(ze))})("change",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputChange(ze))})("paste",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputPaste(ze))}),e.qZA()}if(2&bt){const de=e.oxw();e.Tol(de.inputStyleClass),e.Q6J("autofocus",de.autofocus)("ngStyle",de.inputStyle)("autocomplete",de.autocomplete)("ngClass",e.WLB(20,$,de.dropdown,de.disabled))("value",de.inputFieldValue)("readonly",de.readonly)("disabled",de.disabled),e.uIk("type",de.type)("id",de.inputId)("required",de.required)("name",de.name)("placeholder",de.placeholder)("size",de.size)("maxlength",de.maxlength)("tabindex",de.tabindex)("aria-label",de.ariaLabel)("aria-labelledby",de.ariaLabelledBy)("aria-required",de.required)}}function k(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(de);const ze=e.oxw();return e.KtG(ze.clear())}),e.qZA()}}function O(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(de);const ze=e.oxw();return e.KtG(ze.clear())}),e.qZA()}}function K(bt,nt){1&bt&&e.GkF(0)}function ue(bt,nt){if(1&bt&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&bt){const de=e.oxw().$implicit,Qe=e.oxw(2);e.xp6(1),e.Oqu(Qe.resolveFieldData(de))}}function q(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(de),e.oxw();const ze=e.MAs(1),kt=e.oxw(2);return e.KtG(kt.removeItem(ze))}),e.qZA()}}const G=function(bt){return{$implicit:bt}};function ne(bt,nt){if(1&bt&&(e.TgZ(0,"li",17,18),e.YNc(2,K,1,0,"ng-container",19),e.YNc(3,ue,2,1,"span",20),e.YNc(4,q,1,0,"span",21),e.qZA()),2&bt){const de=nt.$implicit,Qe=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",Qe.selectedItemTemplate)("ngTemplateOutletContext",e.VKq(4,G,de)),e.xp6(1),e.Q6J("ngIf",!Qe.selectedItemTemplate),e.xp6(1),e.Q6J("ngIf",!Qe.disabled&&!Qe.readonly)}}const Ce=function(bt,nt){return{"p-disabled":bt,"p-focus":nt}};function oe(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"ul",11,12),e.NdJ("click",function(){e.CHM(de);const ze=e.MAs(5);return e.KtG(ze.focus())}),e.YNc(2,ne,5,6,"li",13),e.TgZ(3,"li",14)(4,"input",15,16),e.NdJ("input",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInput(ze))})("click",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputClick(ze))})("keydown",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onKeydown(ze))})("keyup",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onKeyup(ze))})("focus",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputFocus(ze))})("blur",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputBlur(ze))})("change",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputChange(ze))})("paste",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onInputPaste(ze))}),e.qZA()()()}if(2&bt){const de=e.oxw();e.Q6J("ngClass",e.WLB(20,Ce,de.disabled,de.focus)),e.xp6(2),e.Q6J("ngForOf",de.value),e.xp6(2),e.Tol(de.inputStyleClass),e.Q6J("autofocus",de.autofocus)("disabled",de.disabled)("readonly",de.readonly)("autocomplete",de.autocomplete)("ngStyle",de.inputStyle),e.uIk("type",de.type)("id",de.inputId)("placeholder",de.value&&de.value.length?null:de.placeholder)("tabindex",de.tabindex)("maxlength",de.maxlength)("aria-label",de.ariaLabel)("aria-labelledby",de.ariaLabelledBy)("aria-required",de.required)("aria-controls",de.listId)("aria-expanded",de.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function z(bt,nt){1&bt&&e._UZ(0,"i",24)}function te(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"button",25,26),e.NdJ("click",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.handleDropdownClick(ze))}),e.qZA()}if(2&bt){const de=e.oxw();e.Q6J("icon",de.dropdownIcon)("disabled",de.disabled),e.uIk("aria-label",de.dropdownAriaLabel)("tabindex",de.tabindex)}}function W(bt,nt){1&bt&&e.GkF(0)}function Y(bt,nt){1&bt&&e.GkF(0)}const Ae=function(bt,nt){return{$implicit:bt,options:nt}};function Ee(bt,nt){if(1&bt&&e.YNc(0,Y,1,0,"ng-container",19),2&bt){const de=nt.$implicit,Qe=nt.options;e.oxw(2);const ze=e.MAs(6);e.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",e.WLB(2,Ae,de,Qe))}}function qe(bt,nt){1&bt&&e.GkF(0)}const ye=function(bt){return{options:bt}};function Ge(bt,nt){if(1&bt&&e.YNc(0,qe,1,0,"ng-container",19),2&bt){const de=nt.options,Qe=e.oxw(4);e.Q6J("ngTemplateOutlet",Qe.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,ye,de))}}function X(bt,nt){1&bt&&(e.ynx(0),e.YNc(1,Ge,1,4,"ng-template",36),e.BQk())}const be=function(bt){return{height:bt}};function we(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"p-scroller",33,34),e.NdJ("onLazyLoad",function(ze){e.CHM(de);const kt=e.oxw(2);return e.KtG(kt.onLazyLoad.emit(ze))}),e.YNc(2,Ee,1,5,"ng-template",35),e.YNc(3,X,2,0,"ng-container",31),e.qZA()}if(2&bt){const de=e.oxw(2);e.Akn(e.VKq(8,be,de.scrollHeight)),e.Q6J("items",de.suggestions)("itemSize",de.virtualScrollItemSize||de._itemSize)("autoSize",!0)("lazy",de.lazy)("options",de.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",de.loaderTemplate)}}function Ie(bt,nt){1&bt&&e.GkF(0)}const ct=function(){return{}};function dt(bt,nt){if(1&bt&&(e.ynx(0),e.YNc(1,Ie,1,0,"ng-container",19),e.BQk()),2&bt){e.oxw();const de=e.MAs(6),Qe=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",e.WLB(3,Ae,Qe.suggestions,e.DdM(2,ct)))}}function et(bt,nt){if(1&bt&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&bt){const de=e.oxw().$implicit,Qe=e.oxw(4);e.xp6(1),e.Oqu(Qe.getOptionGroupLabel(de)||"empty")}}function vt(bt,nt){1&bt&&e.GkF(0)}function ht(bt,nt){1&bt&&e.GkF(0)}function Rt(bt,nt){if(1&bt&&(e.TgZ(0,"li",42),e.YNc(1,et,2,1,"span",31),e.YNc(2,vt,1,0,"ng-container",19),e.qZA(),e.YNc(3,ht,1,0,"ng-container",19)),2&bt){const de=nt.$implicit,Qe=e.oxw(2).options,ze=e.MAs(5),kt=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,be,Qe.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!kt.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",kt.groupTemplate)("ngTemplateOutletContext",e.VKq(8,G,de)),e.xp6(1),e.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",e.VKq(10,G,kt.getOptionGroupChildren(de)))}}function Nt(bt,nt){if(1&bt&&(e.ynx(0),e.YNc(1,Rt,4,12,"ng-template",41),e.BQk()),2&bt){const de=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",de)}}function At(bt,nt){1&bt&&e.GkF(0)}function st(bt,nt){if(1&bt&&(e.ynx(0),e.YNc(1,At,1,0,"ng-container",19),e.BQk()),2&bt){const de=e.oxw().$implicit,Qe=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",e.VKq(2,G,de))}}function ot(bt,nt){if(1&bt&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&bt){const de=e.oxw().$implicit,Qe=e.oxw(4);e.xp6(1),e.Oqu(Qe.resolveFieldData(de))}}function ge(bt,nt){1&bt&&e.GkF(0)}const ke=function(bt){return{"p-highlight":bt}},rt=function(bt,nt){return{$implicit:bt,index:nt}};function yt(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"li",44),e.NdJ("click",function(){const kt=e.CHM(de).$implicit,Ze=e.oxw(4);return e.KtG(Ze.selectItem(kt))}),e.YNc(1,ot,2,1,"span",31),e.YNc(2,ge,1,0,"ng-container",19),e.qZA()}if(2&bt){const de=nt.$implicit,Qe=nt.index,ze=e.oxw(2).options,kt=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,be,ze.itemSize+"px"))("ngClass",e.VKq(8,ke,de===kt.highlightOption))("id",kt.highlightOption==de?"p-highlighted-option":""),e.xp6(1),e.Q6J("ngIf",!kt.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",kt.itemTemplate)("ngTemplateOutletContext",e.WLB(10,rt,de,ze.getOptions?ze.getOptions(Qe):Qe))}}function Pt(bt,nt){1&bt&&e.YNc(0,yt,3,13,"li",43),2&bt&&e.Q6J("ngForOf",nt.$implicit)}function Ht(bt,nt){if(1&bt&&(e.ynx(0),e._uU(1),e.BQk()),2&bt){const de=e.oxw(4);e.xp6(1),e.hij(" ",de.emptyMessageLabel," ")}}function Ot(bt,nt){1&bt&&e.GkF(0,null,47)}function Ye(bt,nt){if(1&bt&&(e.TgZ(0,"li",45),e.YNc(1,Ht,2,1,"ng-container",46),e.YNc(2,Ot,2,0,"ng-container",29),e.qZA()),2&bt){const de=e.oxw().options,Qe=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,be,de.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!Qe.emptyTemplate)("ngIfElse",Qe.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",Qe.emptyTemplate)}}function lt(bt,nt){if(1&bt&&(e.TgZ(0,"ul",37,38),e.YNc(2,Nt,2,1,"ng-container",31),e.YNc(3,st,2,4,"ng-container",31),e.YNc(4,Pt,1,1,"ng-template",null,39,e.W1O),e.YNc(6,Ye,3,6,"li",40),e.qZA()),2&bt){const de=nt.options,Qe=e.oxw(2);e.Akn(de.contentStyle),e.Q6J("ngClass",de.contentStyleClass),e.uIk("id",Qe.listId),e.xp6(2),e.Q6J("ngIf",Qe.group),e.xp6(1),e.Q6J("ngIf",!Qe.group),e.xp6(3),e.Q6J("ngIf",Qe.noResults&&Qe.showEmptyMessage)}}function Ke(bt,nt){1&bt&&e.GkF(0)}const Tt=function(){return["p-autocomplete-panel p-component"]},se=function(bt,nt){return{showTransitionParams:bt,hideTransitionParams:nt}},Fe=function(bt){return{value:"visible",params:bt}};function he(bt,nt){if(1&bt){const de=e.EpF();e.TgZ(0,"div",27,28),e.NdJ("click",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onOverlayClick(ze))})("@overlayAnimation.start",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onOverlayAnimationStart(ze))})("@overlayAnimation.done",function(ze){e.CHM(de);const kt=e.oxw();return e.KtG(kt.onOverlayAnimationEnd(ze))}),e.YNc(2,W,1,0,"ng-container",29),e.YNc(3,we,4,10,"p-scroller",30),e.YNc(4,dt,2,6,"ng-container",31),e.YNc(5,lt,7,7,"ng-template",null,32,e.W1O),e.YNc(7,Ke,1,0,"ng-container",29),e.qZA()}if(2&bt){const de=e.oxw();e.Tol(de.panelStyleClass),e.Udp("max-height",de.virtualScroll?"auto":de.scrollHeight),e.Q6J("ngClass",e.DdM(11,Tt))("ngStyle",de.panelStyle)("@overlayAnimation",e.VKq(15,Fe,e.WLB(12,se,de.showTransitionOptions,de.hideTransitionOptions))),e.xp6(2),e.Q6J("ngTemplateOutlet",de.headerTemplate),e.xp6(1),e.Q6J("ngIf",de.virtualScroll),e.xp6(1),e.Q6J("ngIf",!de.virtualScroll),e.xp6(3),e.Q6J("ngTemplateOutlet",de.footerTemplate)}}const mt=function(bt,nt){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":bt,"p-autocomplete-multiple":nt}},cn={provide:L.JU,useExisting:(0,e.Gpc)(()=>Tn),multi:!0};let Tn=(()=>{class bt{constructor(de,Qe,ze,kt,Ze,$t){this.el=de,this.renderer=Qe,this.cd=ze,this.differs=kt,this.config=Ze,this.overlayService=$t,this.minLength=1,this.delay=300,this.scrollHeight="200px",this.lazy=!1,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.completeMethod=new e.vpe,this.onSelect=new e.vpe,this.onUnselect=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onDropdownClick=new e.vpe,this.onClear=new e.vpe,this.onKeyUp=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.onLazyLoad=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=kt.find([]).create(null),this.listId=(0,R.Th)()+"_list"}get itemSize(){return this._itemSize}set itemSize(de){this._itemSize=de,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get suggestions(){return this._suggestions}set suggestions(de){this._suggestions=de,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let de=r.p.findSingle(this.overlay,"li.p-highlight");de&&r.p.scrollInView(this.itemsWrapper,de)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(de=>{switch(de.getType()){case"item":default:this.itemTemplate=de.template;break;case"group":this.groupTemplate=de.template;break;case"selectedItem":this.selectedItemTemplate=de.template;break;case"header":this.headerTemplate=de.template;break;case"empty":this.emptyTemplate=de.template;break;case"footer":this.footerTemplate=de.template;break;case"loader":this.loaderTemplate=de.template}})}writeValue(de){this.value=de,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(de){return this.optionGroupChildren?R.gb.resolveFieldData(de,this.optionGroupChildren):de.items}getOptionGroupLabel(de){return this.optionGroupLabel?R.gb.resolveFieldData(de,this.optionGroupLabel):null!=de.label?de.label:de}registerOnChange(de){this.onModelChange=de}registerOnTouched(de){this.onModelTouched=de}setDisabledState(de){this.disabled=de,this.cd.markForCheck()}onInput(de){if(!this.inputKeyDown&&r.p.isIE())return;this.timeout&&clearTimeout(this.timeout);let Qe=de.target.value;this.inputValue=Qe,!this.multiple&&!this.forceSelection&&this.onModelChange(Qe),0===Qe.length&&!this.multiple&&(this.value=null,this.hide(),this.onClear.emit(de),this.onModelChange(Qe)),Qe.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(de,Qe)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(de){this.documentClickListener&&(this.inputClick=!0)}search(de,Qe){null!=Qe&&(this.loading=!0,this.completeMethod.emit({originalEvent:de,query:Qe}))}selectItem(de,Qe=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(de)||!this.unique)&&(this.value=[...this.value,de],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(de),this.value=de,this.onModelChange(this.value)),this.onSelect.emit(de),this.updateFilledState(),Qe&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let de=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&de&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(de){var Qe;switch(de.toState){case"visible":this.overlay=de.element,this.itemsWrapper=this.virtualScroll?r.p.findSingle(this.overlay,".p-scroller"):this.overlay,this.virtualScroll&&(null===(Qe=this.scroller)||void 0===Qe||Qe.setContentEl(this.itemsViewChild.nativeElement)),this.appendOverlay(),this.autoZIndex&&R.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(de);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(de){"void"===de.toState&&this.autoZIndex&&R.P9.clear(de.element)}onOverlayClick(de){this.overlayService.add({originalEvent:de,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):r.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=r.p.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(de){let Qe=this.field?R.gb.resolveFieldData(de,this.field):de;return void 0!==Qe?Qe:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?r.p.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):r.p.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(de){if(this.overlayVisible)this.hide();else{this.focusInput();let Qe=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(de,""):"current"===this.dropdownMode&&this.search(de,Qe),this.onDropdownClick.emit({originalEvent:de,query:Qe})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(x.ws.EMPTY_MESSAGE)}removeItem(de){let Qe=r.p.index(de),ze=this.value[Qe];this.value=this.value.filter((kt,Ze)=>Ze!=Qe),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(ze)}onKeydown(de){if(this.overlayVisible)switch(de.which){case 40:if(this.group){let ze=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==ze){let kt=ze.itemIndex+1;kt<this.getOptionGroupChildren(this.suggestions[ze.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex])[kt],this.highlightOptionChanged=!0):this.suggestions[ze.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let ze=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=ze){var Qe=ze+1;Qe!=this.suggestions.length&&(this.highlightOption=this.suggestions[Qe],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}de.preventDefault();break;case 38:if(this.group){let ze=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==ze){let kt=ze.itemIndex-1;if(kt>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[ze.groupIndex])[kt],this.highlightOptionChanged=!0;else if(kt<0){let Ze=this.suggestions[ze.groupIndex-1];Ze&&(this.highlightOption=this.getOptionGroupChildren(Ze)[this.getOptionGroupChildren(Ze).length-1],this.highlightOptionChanged=!0)}}}else{let ze=this.findOptionIndex(this.highlightOption,this.suggestions);ze>0&&(this.highlightOption=this.suggestions[ze-1],this.highlightOptionChanged=!0)}de.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),de.preventDefault();break;case 27:this.hide(),de.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===de.which&&this.suggestions?this.search(de,de.target.value):de.ctrlKey&&"z"===de.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):de.ctrlKey&&"z"===de.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===de.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const ze=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(ze)}this.inputKeyDown=!0}onKeyup(de){this.onKeyUp.emit(de)}onInputFocus(de){!this.itemClicked&&this.completeOnFocus&&this.search(de,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(de),this.itemClicked=!1}onInputBlur(de){this.focus=!1,this.onModelTouched(),this.onBlur.emit(de)}onInputChange(de){if(this.forceSelection){let Qe=!1,ze=de.target.value.trim();if(this.suggestions)for(let kt of this.suggestions){let Ze=this.field?R.gb.resolveFieldData(kt,this.field):kt;if(Ze&&ze===Ze.trim()){Qe=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(kt,!1)},250);break}}Qe||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(de),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(de){this.onKeydown(de)}isSelected(de){let Qe=!1;if(this.value&&this.value.length)for(let ze=0;ze<this.value.length;ze++)if(R.gb.equals(this.value[ze],de,this.dataKey)){Qe=!0;break}return Qe}findOptionIndex(de,Qe){let ze=-1;if(Qe)for(let kt=0;kt<Qe.length;kt++)if(R.gb.equals(de,Qe[kt])){ze=kt;break}return ze}findOptionGroupIndex(de,Qe){let ze,kt;if(Qe)for(let Ze=0;Ze<Qe.length&&(ze=Ze,kt=this.findOptionIndex(de,this.getOptionGroupChildren(Qe[Ze])),-1===kt);Ze++);return-1!==kt?{groupIndex:ze,itemIndex:kt}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let de=this.resolveFieldData(this.value);this.inputFieldValue=de,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=de),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",Qe=>{3!==Qe.which&&(!this.inputClick&&!this.isDropdownClick(Qe)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(de){if(this.dropdown){let Qe=de.target;return Qe===this.dropdownButton.nativeElement||Qe.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!r.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new r.V(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay&&(this.overlay=null,this.onHide.emit())}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&R.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return bt.\u0275fac=function(de){return new(de||bt)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.ZZ4),e.Y36(x.b4),e.Y36(x.F0))},bt.\u0275cmp=e.Xpm({type:bt,selectors:[["p-autoComplete"]],contentQueries:function(de,Qe,ze){if(1&de&&e.Suo(ze,x.jx,4),2&de){let kt;e.iGM(kt=e.CRH())&&(Qe.templates=kt)}},viewQuery:function(de,Qe){if(1&de&&(e.Gf(T,5),e.Gf(y,5),e.Gf(E,5),e.Gf(D,5),e.Gf(U,5),e.Gf(B,5),e.Gf(ce,5)),2&de){let ze;e.iGM(ze=e.CRH())&&(Qe.containerEL=ze.first),e.iGM(ze=e.CRH())&&(Qe.inputEL=ze.first),e.iGM(ze=e.CRH())&&(Qe.multiInputEL=ze.first),e.iGM(ze=e.CRH())&&(Qe.multiContainerEL=ze.first),e.iGM(ze=e.CRH())&&(Qe.dropdownButton=ze.first),e.iGM(ze=e.CRH())&&(Qe.itemsViewChild=ze.first),e.iGM(ze=e.CRH())&&(Qe.scroller=ze.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(de,Qe){2&de&&e.ekj("p-inputwrapper-filled",Qe.filled)("p-inputwrapper-focus",Qe.focus&&!Qe.disabled||Qe.autofocus||Qe.overlayVisible)("p-autocomplete-clearable",Qe.showClear&&!Qe.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",itemSize:"itemSize",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[e._Bn([cn])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["pAutoFocus","","class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"autofocus","ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["pAutoFocus","","aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"autofocus","ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["pAutoFocus","","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"autofocus","disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-autocomplete-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group",3,"ngStyle"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngStyle","ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngStyle","ngClass","id","click"],[1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(de,Qe){1&de&&(e.TgZ(0,"span",0,1),e.YNc(2,V,2,23,"input",2),e.YNc(3,k,1,0,"i",3),e.YNc(4,O,1,0,"i",3),e.YNc(5,oe,6,23,"ul",4),e.YNc(6,z,1,0,"i",5),e.YNc(7,te,2,4,"button",6),e.YNc(8,he,8,17,"div",7),e.qZA()),2&de&&(e.Tol(Qe.styleClass),e.Q6J("ngClass",e.WLB(11,mt,Qe.dropdown,Qe.multiple))("ngStyle",Qe.style),e.xp6(2),e.Q6J("ngIf",!Qe.multiple),e.xp6(1),e.Q6J("ngIf",!Qe.multiple&&Qe.filled&&!Qe.disabled&&Qe.showClear),e.xp6(1),e.Q6J("ngIf",Qe.multiple&&Qe.filled&&!Qe.disabled&&Qe.showClear),e.xp6(1),e.Q6J("ngIf",Qe.multiple),e.xp6(1),e.Q6J("ngIf",Qe.loading),e.xp6(1),e.Q6J("ngIf",Qe.dropdown),e.xp6(1),e.Q6J("ngIf",Qe.overlayVisible))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,_.Hq,x.jx,P.H,Q.T,N.P],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,u.X$)("overlayAnimation",[(0,u.eR)(":enter",[(0,u.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,u.jt)("{{showTransitionParams}}")]),(0,u.eR)(":leave",[(0,u.jt)("{{hideTransitionParams}}",(0,u.oB)({opacity:0}))])])]},changeDetection:0}),bt})(),tn=(()=>{class bt{}return bt.\u0275fac=function(de){return new(de||bt)},bt.\u0275mod=e.oAB({type:bt}),bt.\u0275inj=e.cJS({imports:[d.ez,f.j,_.hJ,x.m8,P.T,Q.v,N.E,x.m8,Q.v,N.E]}),bt})()},9618:(hn,ft,b)=>{"use strict";b.d(ft,{E:()=>_,P:()=>f});var e=b(9808),d=b(5e3),u=b(5730);let f=(()=>{class P{constructor(r){this.host=r,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const r=u.p.getFocusableElements(this.host.nativeElement);0===r.length&&this.host.nativeElement.focus(),r.length>0&&r[0].focus(),this.focused=!0}}}return P.\u0275fac=function(r){return new(r||P)(d.Y36(d.SBq))},P.\u0275dir=d.lG2({type:P,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(r){return new(r||P)},P.\u0275mod=d.oAB({type:P}),P.\u0275inj=d.cJS({imports:[e.ez]}),P})()},85:(hn,ft,b)=>{"use strict";b.d(ft,{Ct:()=>r,TX:()=>R,lM:()=>x});var e=b(9808),d=b(5e3),u=b(9783),f=b(5730),_=b(5921);function P(L,Q){if(1&L&&(d.TgZ(0,"span",1),d._uU(1),d.qZA()),2&L){const N=d.oxw();d.Tol(N.styleClass),d.Q6J("ngClass",N.containerClass())("ngStyle",N.style),d.xp6(1),d.Oqu(N.value)}}let x=(()=>{class L{constructor(N){this.el=N,this.iconPos="left",this._disabled=!1}get disabled(){return this._disabled}set disabled(N){this._disabled=N}ngAfterViewInit(){this.id=(0,_.Th)()+"_badge";let N=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement;if(this._disabled)return null;let T=document.createElement("span");T.id=this.id,T.className="p-badge p-component",this.severity&&f.p.addClass(T,"p-badge-"+this.severity),null!=this.value?(T.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&f.p.addClass(T,"p-badge-no-gutter")):f.p.addClass(T,"p-badge-dot"),f.p.addClass(N,"p-overlay-badge"),N.appendChild(T),this.initialized=!0}get value(){return this._value}set value(N){if(N!==this._value&&(this._value=N,this.initialized)){let T=document.getElementById(this.id);this._value?(f.p.hasClass(T,"p-badge-dot")&&f.p.removeClass(T,"p-badge-dot"),1===String(this._value).length?f.p.addClass(T,"p-badge-no-gutter"):f.p.removeClass(T,"p-badge-no-gutter")):!this._value&&!f.p.hasClass(T,"p-badge-dot")&&f.p.addClass(T,"p-badge-dot"),T.innerHTML="",T.appendChild(document.createTextNode(this._value))}}ngOnDestroy(){this.initialized=!1}}return L.\u0275fac=function(N){return new(N||L)(d.Y36(d.SBq))},L.\u0275dir=d.lG2({type:L,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",disabled:["badgeDisabled","disabled"],value:"value",severity:"severity"}}),L})(),r=(()=>{class L{constructor(){this.badgeDisabled=!1}containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275cmp=d.Xpm({type:L,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value",badgeDisabled:"badgeDisabled"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(N,T){1&N&&d.YNc(0,P,2,5,"span",0),2&N&&d.Q6J("ngIf",!T.badgeDisabled)},dependencies:[e.mk,e.O5,e.PC],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),L})(),R=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=d.oAB({type:L}),L.\u0275inj=d.cJS({imports:[e.ez,u.m8]}),L})()},7433:(hn,ft,b)=>{"use strict";b.d(ft,{b:()=>Q,u:()=>N});var e=b(5e3),d=b(9808),u=b(9783),f=b(5921),_=b(5730);const P=["mask"];function x(T,y){1&T&&e.GkF(0)}const r=function(T){return{"p-blockui-document":T,"p-blockui p-component-overlay p-component-overlay-enter":!0}},R=function(T){return{display:T}},L=["*"];let Q=(()=>{class T{constructor(E,D,U){this.el=E,this.cd=D,this.config=U,this.autoZIndex=!0,this.baseZIndex=0}get blocked(){return this._blocked}set blocked(E){this.mask&&this.mask.nativeElement?E?this.block():this.unblock():this._blocked=E}ngAfterViewInit(){if(this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}ngAfterContentInit(){this.templates.forEach(E=>{E.getType(),this.contentTemplate=E.template})}block(){this._blocked=!0,this.target?(this.target.getBlockableElement().appendChild(this.mask.nativeElement),this.target.getBlockableElement().style.position="relative"):document.body.appendChild(this.mask.nativeElement),this.autoZIndex&&f.P9.set("modal",this.mask.nativeElement,this.baseZIndex+this.config.zIndex.modal)}unblock(){this.animationEndListener=this.destroyModal.bind(this),this.mask.nativeElement.addEventListener("animationend",this.animationEndListener),_.p.addClass(this.mask.nativeElement,"p-component-overlay-leave")}destroyModal(){this._blocked=!1,_.p.removeClass(this.mask.nativeElement,"p-component-overlay-leave"),f.P9.clear(this.mask.nativeElement),this.el.nativeElement.appendChild(this.mask.nativeElement),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.nativeElement.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.unblock(),this.destroyModal()}}return T.\u0275fac=function(E){return new(E||T)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(u.b4))},T.\u0275cmp=e.Xpm({type:T,selectors:[["p-blockUI"]],contentQueries:function(E,D,U){if(1&E&&e.Suo(U,u.jx,4),2&E){let B;e.iGM(B=e.CRH())&&(D.templates=B)}},viewQuery:function(E,D){if(1&E&&e.Gf(P,5),2&E){let U;e.iGM(U=e.CRH())&&(D.mask=U.first)}},hostAttrs:[1,"p-element"],inputs:{target:"target",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",styleClass:"styleClass",blocked:"blocked"},ngContentSelectors:L,decls:4,vars:9,consts:[[3,"ngClass","ngStyle"],["mask",""],[4,"ngTemplateOutlet"]],template:function(E,D){1&E&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.YNc(3,x,1,0,"ng-container",2),e.qZA()),2&E&&(e.Tol(D.styleClass),e.Q6J("ngClass",e.VKq(5,r,!D.target))("ngStyle",e.VKq(7,R,D.blocked?"flex":"none")),e.xp6(3),e.Q6J("ngTemplateOutlet",D.contentTemplate))},dependencies:[d.mk,d.tP,d.PC],styles:[".p-blockui{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;display:flex;align-items:center;justify-content:center}.p-blockui.p-component-overlay{position:absolute}.p-blockui-document.p-component-overlay{position:fixed}.p-blockui-leave.p-component-overlay{background-color:transparent}\n"],encapsulation:2,changeDetection:0}),T})(),N=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[d.ez]}),T})()},7658:(hn,ft,b)=>{"use strict";b.d(ft,{a:()=>te,w:()=>W});var e=b(5e3),d=b(9808),u=b(3470),f=b(4119);function _(Y,Ae){if(1&Y&&e._UZ(0,"span",10),2&Y){const Ee=e.oxw(3);e.Q6J("ngClass",Ee.home.icon||"pi pi-home")("ngStyle",Ee.home.iconStyle)}}function P(Y,Ae){if(1&Y&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&Y){const Ee=e.oxw(4);e.xp6(1),e.Oqu(Ee.home.label)}}function x(Y,Ae){if(1&Y&&e._UZ(0,"span",14),2&Y){const Ee=e.oxw(4);e.Q6J("innerHTML",Ee.home.label,e.oJD)}}function r(Y,Ae){if(1&Y&&(e.ynx(0),e.YNc(1,P,2,1,"span",11),e.YNc(2,x,1,1,"ng-template",null,12,e.W1O),e.BQk()),2&Y){const Ee=e.MAs(3),qe=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==qe.home.escape)("ngIfElse",Ee)}}function R(Y,Ae){if(1&Y){const Ee=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(ye){e.CHM(Ee);const Ge=e.oxw(2);return e.KtG(Ge.itemClick(ye,Ge.home))}),e.YNc(1,_,1,2,"span",8),e.YNc(2,r,4,2,"ng-container",9),e.qZA()}if(2&Y){const Ee=e.oxw(2);e.Q6J("href",Ee.home.url?Ee.home.url:null,e.LSH)("target",Ee.home.target),e.uIk("aria-label",Ee.homeAriaLabel)("title",Ee.home.title)("id",Ee.home.id)("tabindex",Ee.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ee.home.icon),e.xp6(1),e.Q6J("ngIf",Ee.home.label)}}function L(Y,Ae){if(1&Y&&e._UZ(0,"span",10),2&Y){const Ee=e.oxw(3);e.Q6J("ngClass",Ee.home.icon||"pi pi-home")("ngStyle",Ee.home.iconStyle)}}function Q(Y,Ae){if(1&Y&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&Y){const Ee=e.oxw(4);e.xp6(1),e.Oqu(Ee.home.label)}}function N(Y,Ae){if(1&Y&&e._UZ(0,"span",14),2&Y){const Ee=e.oxw(4);e.Q6J("innerHTML",Ee.home.label,e.oJD)}}function T(Y,Ae){if(1&Y&&(e.ynx(0),e.YNc(1,Q,2,1,"span",11),e.YNc(2,N,1,1,"ng-template",null,16,e.W1O),e.BQk()),2&Y){const Ee=e.MAs(3),qe=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==qe.home.escape)("ngIfElse",Ee)}}const y=function(){return{exact:!1}};function E(Y,Ae){if(1&Y){const Ee=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(ye){e.CHM(Ee);const Ge=e.oxw(2);return e.KtG(Ge.itemClick(ye,Ge.home))}),e.YNc(1,L,1,2,"span",8),e.YNc(2,T,4,2,"ng-container",9),e.qZA()}if(2&Y){const Ee=e.oxw(2);e.Q6J("routerLink",Ee.home.routerLink)("queryParams",Ee.home.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Ee.home.routerLinkActiveOptions||e.DdM(17,y))("target",Ee.home.target)("fragment",Ee.home.fragment)("queryParamsHandling",Ee.home.queryParamsHandling)("preserveFragment",Ee.home.preserveFragment)("skipLocationChange",Ee.home.skipLocationChange)("replaceUrl",Ee.home.replaceUrl)("state",Ee.home.state),e.uIk("aria-label",Ee.homeAriaLabel)("title",Ee.home.title)("id",Ee.home.id)("tabindex",Ee.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ee.home.icon),e.xp6(1),e.Q6J("ngIf",Ee.home.label)}}const D=function(Y){return{"p-breadcrumb-home":!0,"p-disabled":Y}};function U(Y,Ae){if(1&Y&&(e.TgZ(0,"li",4),e.YNc(1,R,3,8,"a",5),e.YNc(2,E,3,18,"a",6),e.qZA()),2&Y){const Ee=e.oxw();e.Tol(Ee.home.styleClass),e.Q6J("ngClass",e.VKq(7,D,Ee.home.disabled))("ngStyle",Ee.home.style)("tooltipOptions",Ee.home.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!Ee.home.routerLink),e.xp6(1),e.Q6J("ngIf",Ee.home.routerLink)}}function B(Y,Ae){1&Y&&e._UZ(0,"li",17)}function ce(Y,Ae){if(1&Y&&e._UZ(0,"span",10),2&Y){const Ee=e.oxw(2).$implicit;e.Q6J("ngClass",Ee.icon)("ngStyle",Ee.iconStyle)}}function $(Y,Ae){if(1&Y&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&Y){const Ee=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Ee.label)}}function V(Y,Ae){if(1&Y&&e._UZ(0,"span",14),2&Y){const Ee=e.oxw(3).$implicit;e.Q6J("innerHTML",Ee.label,e.oJD)}}function k(Y,Ae){if(1&Y&&(e.ynx(0),e.YNc(1,$,2,1,"span",11),e.YNc(2,V,1,1,"ng-template",null,21,e.W1O),e.BQk()),2&Y){const Ee=e.MAs(3),qe=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==qe.escape)("ngIfElse",Ee)}}function O(Y,Ae){if(1&Y){const Ee=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(ye){e.CHM(Ee);const Ge=e.oxw().$implicit,X=e.oxw();return e.KtG(X.itemClick(ye,Ge))}),e.YNc(1,ce,1,2,"span",8),e.YNc(2,k,4,2,"ng-container",9),e.qZA()}if(2&Y){const Ee=e.oxw().$implicit;e.Q6J("target",Ee.target),e.uIk("href",Ee.url?Ee.url:null,e.LSH)("title",Ee.title)("id",Ee.id)("tabindex",Ee.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ee.icon),e.xp6(1),e.Q6J("ngIf",Ee.label)}}function K(Y,Ae){if(1&Y&&e._UZ(0,"span",10),2&Y){const Ee=e.oxw(2).$implicit;e.Q6J("ngClass",Ee.icon)("ngStyle",Ee.iconStyle)}}function ue(Y,Ae){if(1&Y&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&Y){const Ee=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Ee.label)}}function q(Y,Ae){if(1&Y&&e._UZ(0,"span",14),2&Y){const Ee=e.oxw(3).$implicit;e.Q6J("innerHTML",Ee.label,e.oJD)}}function G(Y,Ae){if(1&Y&&(e.ynx(0),e.YNc(1,ue,2,1,"span",11),e.YNc(2,q,1,1,"ng-template",null,22,e.W1O),e.BQk()),2&Y){const Ee=e.MAs(3),qe=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==qe.escape)("ngIfElse",Ee)}}function ne(Y,Ae){if(1&Y){const Ee=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(ye){e.CHM(Ee);const Ge=e.oxw().$implicit,X=e.oxw();return e.KtG(X.itemClick(ye,Ge))}),e.YNc(1,K,1,2,"span",8),e.YNc(2,G,4,2,"ng-container",9),e.qZA()}if(2&Y){const Ee=e.oxw().$implicit;e.Q6J("routerLink",Ee.routerLink)("queryParams",Ee.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Ee.routerLinkActiveOptions||e.DdM(16,y))("target",Ee.target)("fragment",Ee.fragment)("queryParamsHandling",Ee.queryParamsHandling)("preserveFragment",Ee.preserveFragment)("skipLocationChange",Ee.skipLocationChange)("replaceUrl",Ee.replaceUrl)("state",Ee.state),e.uIk("title",Ee.title)("id",Ee.id)("tabindex",Ee.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",Ee.icon),e.xp6(1),e.Q6J("ngIf",Ee.label)}}function Ce(Y,Ae){1&Y&&e._UZ(0,"li",17)}const oe=function(Y){return{"p-disabled":Y}};function z(Y,Ae){if(1&Y&&(e.TgZ(0,"li",18),e.YNc(1,O,3,7,"a",19),e.YNc(2,ne,3,17,"a",6),e.qZA(),e.YNc(3,Ce,1,0,"li",2)),2&Y){const Ee=Ae.$implicit,qe=Ae.last;e.Tol(Ee.styleClass),e.Q6J("ngStyle",Ee.style)("ngClass",e.VKq(8,oe,Ee.disabled))("tooltipOptions",Ee.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!Ee.routerLink),e.xp6(1),e.Q6J("ngIf",Ee.routerLink),e.xp6(1),e.Q6J("ngIf",!qe)}}let te=(()=>{class Y{constructor(){this.onItemClick=new e.vpe}itemClick(Ee,qe){qe.disabled?Ee.preventDefault():(!qe.url&&!qe.routerLink&&Ee.preventDefault(),qe.command&&qe.command({originalEvent:Ee,item:qe}),this.onItemClick.emit({originalEvent:Ee,item:qe}))}onHomeClick(Ee){this.home&&this.itemClick(Ee,this.home)}}return Y.\u0275fac=function(Ee){return new(Ee||Y)},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["p-breadcrumb"]],hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home",homeAriaLabel:"homeAriaLabel"},outputs:{onItemClick:"onItemClick"},decls:5,vars:7,consts:[[3,"ngStyle","ngClass"],["pTooltip","",3,"class","ngClass","ngStyle","tooltipOptions",4,"ngIf"],["class","p-breadcrumb-chevron pi pi-chevron-right",4,"ngIf"],["ngFor","",3,"ngForOf"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["class","p-menuitem-link",3,"href","target","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[1,"p-menuitem-link",3,"href","target","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlHomeLabel",""],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlHomeRouteLabel",""],[1,"p-breadcrumb-chevron","pi","pi-chevron-right"],["pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link",3,"target","click",4,"ngIf"],[1,"p-menuitem-link",3,"target","click"],["htmlLabel",""],["htmlRouteLabel",""]],template:function(Ee,qe){1&Ee&&(e.TgZ(0,"div",0)(1,"ul"),e.YNc(2,U,3,9,"li",1),e.YNc(3,B,1,0,"li",2),e.YNc(4,z,4,10,"ng-template",3),e.qZA()()),2&Ee&&(e.Tol(qe.styleClass),e.Q6J("ngStyle",qe.style)("ngClass","p-breadcrumb p-component"),e.xp6(2),e.Q6J("ngIf",qe.home),e.xp6(1),e.Q6J("ngIf",qe.model&&qe.home),e.xp6(1),e.Q6J("ngForOf",qe.model))},dependencies:[d.mk,d.sg,d.O5,d.PC,u.yS,u.Od,f.u],styles:[".p-breadcrumb{overflow-x:auto}.p-breadcrumb ul{margin:0;padding:0;list-style-type:none;display:flex;align-items:center;flex-wrap:nowrap}.p-breadcrumb .p-menuitem-text{line-height:1}.p-breadcrumb .p-menuitem-link{text-decoration:none;cursor:pointer}.p-breadcrumb::-webkit-scrollbar{display:none}\n"],encapsulation:2,changeDetection:0}),Y})(),W=(()=>{class Y{}return Y.\u0275fac=function(Ee){return new(Ee||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({imports:[d.ez,u.Bz,f.z,u.Bz,f.z]}),Y})()},845:(hn,ft,b)=>{"use strict";b.d(ft,{Hq:()=>y,hJ:()=>D,zx:()=>E});var e=b(9808),d=b(5e3),u=b(9783),f=b(5730),_=b(5787),P=b(5921);function x(U,B){1&U&&d.GkF(0)}const r=function(U,B,ce,$){return{"p-button-icon":!0,"p-button-icon-left":U,"p-button-icon-right":B,"p-button-icon-top":ce,"p-button-icon-bottom":$}};function R(U,B){if(1&U&&d._UZ(0,"span",4),2&U){const ce=d.oxw();d.Tol(ce.loading?"p-button-loading-icon "+ce.loadingIcon:ce.icon),d.Q6J("ngClass",d.l5B(4,r,"left"===ce.iconPos&&ce.label,"right"===ce.iconPos&&ce.label,"top"===ce.iconPos&&ce.label,"bottom"===ce.iconPos&&ce.label)),d.uIk("aria-hidden",!0)}}function L(U,B){if(1&U&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&U){const ce=d.oxw();d.uIk("aria-hidden",ce.icon&&!ce.label),d.xp6(1),d.Oqu(ce.label)}}function Q(U,B){if(1&U&&(d.TgZ(0,"span",4),d._uU(1),d.qZA()),2&U){const ce=d.oxw();d.Tol(ce.badgeClass),d.Q6J("ngClass",ce.badgeStyleClass()),d.xp6(1),d.Oqu(ce.badge)}}const N=function(U,B,ce,$,V){return{"p-button p-component":!0,"p-button-icon-only":U,"p-button-vertical":B,"p-disabled":ce,"p-button-loading":$,"p-button-loading-label-only":V}},T=["*"];let y=(()=>{class U{constructor(ce){this.el=ce,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}get label(){return this._label}set label(ce){this._label=ce,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(ce){this._icon=ce,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(ce){this._loading=ce,this.initialized&&(this.updateIcon(),this.setStyleClass())}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,f.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let ce="p-button p-component";return this.icon&&!this.label&&P.gb.isEmpty(this.el.nativeElement.textContent)&&(ce+=" p-button-icon-only"),this.loading&&(ce+=" p-disabled p-button-loading",!this.icon&&this.label&&(ce+=" p-button-loading-label-only")),ce}setStyleClass(){let ce=this.getStyleClass();this.el.nativeElement.className=ce+" "+this._initialStyleClass}createLabel(){if(this.label){let ce=document.createElement("span");this.icon&&!this.label&&ce.setAttribute("aria-hidden","true"),ce.className="p-button-label",ce.appendChild(document.createTextNode(this.label)),this.el.nativeElement.appendChild(ce)}}createIcon(){if(this.icon||this.loading){let ce=document.createElement("span");ce.className="p-button-icon",ce.setAttribute("aria-hidden","true");let $=this.label?"p-button-icon-"+this.iconPos:null;$&&f.p.addClass(ce,$);let V=this.getIconClass();V&&f.p.addMultipleClasses(ce,V),this.el.nativeElement.insertBefore(ce,this.el.nativeElement.firstChild)}}updateLabel(){let ce=f.p.findSingle(this.el.nativeElement,".p-button-label");this.label?ce?ce.textContent=this.label:this.createLabel():ce&&this.el.nativeElement.removeChild(ce)}updateIcon(){let ce=f.p.findSingle(this.el.nativeElement,".p-button-icon");this.icon||this.loading?ce?ce.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():ce&&this.el.nativeElement.removeChild(ce)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return U.\u0275fac=function(ce){return new(ce||U)(d.Y36(d.SBq))},U.\u0275dir=d.lG2({type:U,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),U})(),E=(()=>{class U{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe}ngAfterContentInit(){this.templates.forEach(ce=>{ce.getType(),this.contentTemplate=ce.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return U.\u0275fac=function(ce){return new(ce||U)},U.\u0275cmp=d.Xpm({type:U,selectors:[["p-button"]],contentQueries:function(ce,$,V){if(1&ce&&d.Suo(V,u.jx,4),2&ce){let k;d.iGM(k=d.CRH())&&($.templates=k)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:T,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(ce,$){1&ce&&(d.F$t(),d.TgZ(0,"button",0),d.NdJ("click",function(k){return $.onClick.emit(k)})("focus",function(k){return $.onFocus.emit(k)})("blur",function(k){return $.onBlur.emit(k)}),d.Hsn(1),d.YNc(2,x,1,0,"ng-container",1),d.YNc(3,R,1,9,"span",2),d.YNc(4,L,2,2,"span",3),d.YNc(5,Q,2,4,"span",2),d.qZA()),2&ce&&(d.Tol($.styleClass),d.Q6J("ngStyle",$.style)("disabled",$.disabled||$.loading)("ngClass",d.qbA(11,N,$.icon&&!$.label,("top"===$.iconPos||"bottom"===$.iconPos)&&$.label,$.disabled||$.loading,$.loading,$.loading&&!$.icon&&$.label)),d.uIk("type",$.type)("aria-label",$.ariaLabel),d.xp6(2),d.Q6J("ngTemplateOutlet",$.contentTemplate),d.xp6(1),d.Q6J("ngIf",!$.contentTemplate&&($.icon||$.loading)),d.xp6(1),d.Q6J("ngIf",!$.contentTemplate&&$.label),d.xp6(1),d.Q6J("ngIf",!$.contentTemplate&&$.badge))},dependencies:[e.mk,e.O5,e.tP,e.PC,_.H],encapsulation:2,changeDetection:0}),U})(),D=(()=>{class U{}return U.\u0275fac=function(ce){return new(ce||U)},U.\u0275mod=d.oAB({type:U}),U.\u0275inj=d.cJS({imports:[e.ez,_.T]}),U})()},5652:(hn,ft,b)=>{"use strict";b.d(ft,{_8:()=>lt,f:()=>Ye});var e=b(1777),d=b(9808),u=b(5e3),f=b(2382),_=b(9783),P=b(845),x=b(5730),r=b(5787),R=b(5921);const L=["container"],Q=["inputfield"],N=["contentWrapper"];function T(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"i",8),u.NdJ("click",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.clear())}),u.qZA()}}function y(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(he){u.CHM(se),u.oxw();const mt=u.MAs(1),cn=u.oxw();return u.KtG(cn.onButtonClick(he,mt))}),u.qZA()}if(2&Ke){const se=u.oxw(2);u.Q6J("icon",se.icon)("disabled",se.disabled),u.uIk("aria-label",se.iconAriaLabel)}}function E(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"input",4,5),u.NdJ("focus",function(he){u.CHM(se);const mt=u.oxw();return u.KtG(mt.onInputFocus(he))})("keydown",function(he){u.CHM(se);const mt=u.oxw();return u.KtG(mt.onInputKeydown(he))})("click",function(){u.CHM(se);const he=u.oxw();return u.KtG(he.onInputClick())})("blur",function(he){u.CHM(se);const mt=u.oxw();return u.KtG(mt.onInputBlur(he))})("input",function(he){u.CHM(se);const mt=u.oxw();return u.KtG(mt.onUserInput(he))}),u.qZA(),u.YNc(2,T,1,0,"i",6),u.YNc(3,y,1,3,"button",7)}if(2&Ke){const se=u.oxw();u.Tol(se.inputStyleClass),u.Q6J("value",se.inputFieldValue)("readonly",se.readonlyInput)("ngStyle",se.inputStyle)("placeholder",se.placeholder||"")("disabled",se.disabled)("ngClass","p-inputtext p-component"),u.uIk("id",se.inputId)("name",se.name)("required",se.required)("aria-required",se.required)("tabindex",se.tabindex)("inputmode",se.touchUI?"off":null)("aria-labelledby",se.ariaLabelledBy),u.xp6(2),u.Q6J("ngIf",se.showClear&&!se.disabled&&null!=se.value),u.xp6(1),u.Q6J("ngIf",se.showIcon)}}function D(Ke,Tt){1&Ke&&u.GkF(0)}function U(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"button",30),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(4);return u.KtG(mt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const mt=u.oxw(4);return u.KtG(mt.onPrevButtonClick(he))}),u._UZ(1,"span",31),u.qZA()}}function B(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(he){u.CHM(se);const mt=u.oxw(4);return u.KtG(mt.switchToMonthView(he))})("keydown",function(he){u.CHM(se);const mt=u.oxw(4);return u.KtG(mt.onContainerButtonKeydown(he))}),u._uU(1),u.qZA()}if(2&Ke){const se=u.oxw().$implicit,Fe=u.oxw(3);u.Q6J("disabled",Fe.switchViewButtonDisabled()),u.xp6(1),u.hij(" ",Fe.getMonthName(se.month)," ")}}function ce(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(he){u.CHM(se);const mt=u.oxw(4);return u.KtG(mt.switchToYearView(he))})("keydown",function(he){u.CHM(se);const mt=u.oxw(4);return u.KtG(mt.onContainerButtonKeydown(he))}),u._uU(1),u.qZA()}if(2&Ke){const se=u.oxw().$implicit,Fe=u.oxw(3);u.Q6J("disabled",Fe.switchViewButtonDisabled()),u.xp6(1),u.hij(" ",Fe.getYear(se)," ")}}function $(Ke,Tt){if(1&Ke&&(u.ynx(0),u._uU(1),u.BQk()),2&Ke){const se=u.oxw(5);u.xp6(1),u.AsE("",se.yearPickerValues()[0]," - ",se.yearPickerValues()[se.yearPickerValues().length-1],"")}}function V(Ke,Tt){1&Ke&&u.GkF(0)}const k=function(Ke){return{$implicit:Ke}};function O(Ke,Tt){if(1&Ke&&(u.TgZ(0,"span",34),u.YNc(1,$,2,2,"ng-container",13),u.YNc(2,V,1,0,"ng-container",35),u.qZA()),2&Ke){const se=u.oxw(4);u.xp6(1),u.Q6J("ngIf",!se.decadeTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",se.decadeTemplate)("ngTemplateOutletContext",u.VKq(3,k,se.yearPickerValues))}}function K(Ke,Tt){if(1&Ke&&(u.TgZ(0,"th",41)(1,"span"),u._uU(2),u.qZA()()),2&Ke){const se=u.oxw(5);u.xp6(2),u.Oqu(se.getTranslation("weekHeader"))}}function ue(Ke,Tt){if(1&Ke&&(u.TgZ(0,"th",42)(1,"span"),u._uU(2),u.qZA()()),2&Ke){const se=Tt.$implicit;u.xp6(2),u.Oqu(se)}}function q(Ke,Tt){if(1&Ke&&(u.TgZ(0,"td",45)(1,"span",46),u._uU(2),u.qZA()()),2&Ke){const se=u.oxw().index,Fe=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",Fe.weekNumbers[se]," ")}}function G(Ke,Tt){if(1&Ke&&(u.ynx(0),u._uU(1),u.BQk()),2&Ke){const se=u.oxw(2).$implicit;u.xp6(1),u.Oqu(se.day)}}function ne(Ke,Tt){1&Ke&&u.GkF(0)}const Ce=function(Ke,Tt){return{"p-highlight":Ke,"p-disabled":Tt}};function oe(Ke,Tt){if(1&Ke){const se=u.EpF();u.ynx(0),u.TgZ(1,"span",48),u.NdJ("click",function(he){u.CHM(se);const mt=u.oxw().$implicit,cn=u.oxw(6);return u.KtG(cn.onDateSelect(he,mt))})("keydown",function(he){u.CHM(se);const mt=u.oxw().$implicit,cn=u.oxw(3).index,Tn=u.oxw(3);return u.KtG(Tn.onDateCellKeydown(he,mt,cn))}),u.YNc(2,G,2,1,"ng-container",13),u.YNc(3,ne,1,0,"ng-container",35),u.qZA(),u.BQk()}if(2&Ke){const se=u.oxw().$implicit,Fe=u.oxw(6);u.xp6(1),u.Q6J("ngClass",u.WLB(4,Ce,Fe.isSelected(se),!se.selectable)),u.xp6(1),u.Q6J("ngIf",!Fe.dateTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",Fe.dateTemplate)("ngTemplateOutletContext",u.VKq(7,k,se))}}const z=function(Ke,Tt){return{"p-datepicker-other-month":Ke,"p-datepicker-today":Tt}};function te(Ke,Tt){if(1&Ke&&(u.TgZ(0,"td",47),u.YNc(1,oe,4,9,"ng-container",13),u.qZA()),2&Ke){const se=Tt.$implicit,Fe=u.oxw(6);u.Q6J("ngClass",u.WLB(2,z,se.otherMonth,se.today)),u.xp6(1),u.Q6J("ngIf",!se.otherMonth||Fe.showOtherMonths)}}function W(Ke,Tt){if(1&Ke&&(u.TgZ(0,"tr"),u.YNc(1,q,3,1,"td",43),u.YNc(2,te,2,5,"td",44),u.qZA()),2&Ke){const se=Tt.$implicit,Fe=u.oxw(5);u.xp6(1),u.Q6J("ngIf",Fe.showWeek),u.xp6(1),u.Q6J("ngForOf",se)}}function Y(Ke,Tt){if(1&Ke&&(u.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),u.YNc(4,K,3,1,"th",38),u.YNc(5,ue,3,1,"th",39),u.qZA()(),u.TgZ(6,"tbody"),u.YNc(7,W,3,2,"tr",40),u.qZA()()()),2&Ke){const se=u.oxw().$implicit,Fe=u.oxw(3);u.xp6(4),u.Q6J("ngIf",Fe.showWeek),u.xp6(1),u.Q6J("ngForOf",Fe.weekDays),u.xp6(2),u.Q6J("ngForOf",se.dates)}}function Ae(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"div",20)(1,"div",21),u.YNc(2,U,2,0,"button",22),u.TgZ(3,"div",23),u.YNc(4,B,2,2,"button",24),u.YNc(5,ce,2,2,"button",25),u.YNc(6,O,3,5,"span",26),u.qZA(),u.TgZ(7,"button",27),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onNextButtonClick(he))}),u._UZ(8,"span",28),u.qZA()(),u.YNc(9,Y,8,3,"div",29),u.qZA()}if(2&Ke){const se=Tt.index,Fe=u.oxw(3);u.xp6(2),u.Q6J("ngIf",0===se),u.xp6(2),u.Q6J("ngIf","date"===Fe.currentView),u.xp6(1),u.Q6J("ngIf","year"!==Fe.currentView),u.xp6(1),u.Q6J("ngIf","year"===Fe.currentView),u.xp6(1),u.Udp("display",1===Fe.numberOfMonths||se===Fe.numberOfMonths-1?"inline-flex":"none"),u.xp6(2),u.Q6J("ngIf","date"===Fe.currentView)}}function Ee(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"span",51),u.NdJ("click",function(he){const cn=u.CHM(se).index,Tn=u.oxw(4);return u.KtG(Tn.onMonthSelect(he,cn))})("keydown",function(he){const cn=u.CHM(se).index,Tn=u.oxw(4);return u.KtG(Tn.onMonthCellKeydown(he,cn))}),u._uU(1),u.qZA()}if(2&Ke){const se=Tt.$implicit,Fe=Tt.index,he=u.oxw(4);u.Q6J("ngClass",u.WLB(2,Ce,he.isMonthSelected(Fe),he.isMonthDisabled(Fe))),u.xp6(1),u.hij(" ",se," ")}}function qe(Ke,Tt){if(1&Ke&&(u.TgZ(0,"div",49),u.YNc(1,Ee,2,5,"span",50),u.qZA()),2&Ke){const se=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",se.monthPickerValues())}}const ye=function(Ke){return{"p-highlight":Ke}};function Ge(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"span",54),u.NdJ("click",function(he){const cn=u.CHM(se).$implicit,Tn=u.oxw(4);return u.KtG(Tn.onYearSelect(he,cn))})("keydown",function(he){const cn=u.CHM(se).$implicit,Tn=u.oxw(4);return u.KtG(Tn.onYearCellKeydown(he,cn))}),u._uU(1),u.qZA()}if(2&Ke){const se=Tt.$implicit,Fe=u.oxw(4);u.Q6J("ngClass",u.VKq(2,ye,Fe.isYearSelected(se))),u.xp6(1),u.hij(" ",se," ")}}function X(Ke,Tt){if(1&Ke&&(u.TgZ(0,"div",52),u.YNc(1,Ge,2,4,"span",53),u.qZA()),2&Ke){const se=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",se.yearPickerValues())}}function be(Ke,Tt){if(1&Ke&&(u.ynx(0),u.TgZ(1,"div",16),u.YNc(2,Ae,10,7,"div",17),u.qZA(),u.YNc(3,qe,2,1,"div",18),u.YNc(4,X,2,1,"div",19),u.BQk()),2&Ke){const se=u.oxw(2);u.xp6(2),u.Q6J("ngForOf",se.months),u.xp6(1),u.Q6J("ngIf","month"===se.currentView),u.xp6(1),u.Q6J("ngIf","year"===se.currentView)}}function we(Ke,Tt){1&Ke&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function Ie(Ke,Tt){1&Ke&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function ct(Ke,Tt){if(1&Ke&&(u.TgZ(0,"div",60)(1,"span"),u._uU(2),u.qZA()()),2&Ke){const se=u.oxw(3);u.xp6(2),u.Oqu(se.timeSeparator)}}function dt(Ke,Tt){1&Ke&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function et(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"div",65)(1,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.incrementSecond(he))})("keydown.space",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.incrementSecond(he))})("mousedown",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onTimePickerElementMouseDown(he,2,1))})("mouseup",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(3);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(2,"span",58),u.qZA(),u.TgZ(3,"span"),u.YNc(4,dt,2,0,"ng-container",13),u._uU(5),u.qZA(),u.TgZ(6,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.decrementSecond(he))})("keydown.space",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.decrementSecond(he))})("mousedown",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onTimePickerElementMouseDown(he,2,-1))})("mouseup",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(3);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(7,"span",59),u.qZA()()}if(2&Ke){const se=u.oxw(3);u.xp6(4),u.Q6J("ngIf",se.currentSecond<10),u.xp6(1),u.Oqu(se.currentSecond)}}function vt(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"div",66)(1,"button",67),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.toggleAMPM(he))})("keydown.enter",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.toggleAMPM(he))}),u._UZ(2,"span",58),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.TgZ(5,"button",67),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.toggleAMPM(he))})("keydown.enter",function(he){u.CHM(se);const mt=u.oxw(3);return u.KtG(mt.toggleAMPM(he))}),u._UZ(6,"span",59),u.qZA()()}if(2&Ke){const se=u.oxw(3);u.xp6(4),u.Oqu(se.pm?"PM":"AM")}}function ht(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"div",55)(1,"div",56)(2,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.incrementHour(he))})("keydown.space",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.incrementHour(he))})("mousedown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseDown(he,0,1))})("mouseup",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(3,"span",58),u.qZA(),u.TgZ(4,"span"),u.YNc(5,we,2,0,"ng-container",13),u._uU(6),u.qZA(),u.TgZ(7,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.decrementHour(he))})("keydown.space",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.decrementHour(he))})("mousedown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseDown(he,0,-1))})("mouseup",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(8,"span",59),u.qZA()(),u.TgZ(9,"div",60)(10,"span"),u._uU(11),u.qZA()(),u.TgZ(12,"div",61)(13,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.incrementMinute(he))})("keydown.space",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.incrementMinute(he))})("mousedown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseDown(he,1,1))})("mouseup",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(14,"span",58),u.qZA(),u.TgZ(15,"span"),u.YNc(16,Ie,2,0,"ng-container",13),u._uU(17),u.qZA(),u.TgZ(18,"button",57),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onContainerButtonKeydown(he))})("keydown.enter",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.decrementMinute(he))})("keydown.space",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.decrementMinute(he))})("mousedown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseDown(he,1,-1))})("mouseup",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.enter",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("keyup.space",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTimePickerElementMouseUp(he))})("mouseleave",function(){u.CHM(se);const he=u.oxw(2);return u.KtG(he.onTimePickerElementMouseLeave())}),u._UZ(19,"span",59),u.qZA()(),u.YNc(20,ct,3,1,"div",62),u.YNc(21,et,8,2,"div",63),u.YNc(22,vt,7,1,"div",64),u.qZA()}if(2&Ke){const se=u.oxw(2);u.xp6(5),u.Q6J("ngIf",se.currentHour<10),u.xp6(1),u.Oqu(se.currentHour),u.xp6(5),u.Oqu(se.timeSeparator),u.xp6(5),u.Q6J("ngIf",se.currentMinute<10),u.xp6(1),u.Oqu(se.currentMinute),u.xp6(3),u.Q6J("ngIf",se.showSeconds),u.xp6(1),u.Q6J("ngIf",se.showSeconds),u.xp6(1),u.Q6J("ngIf","12"==se.hourFormat)}}const Rt=function(Ke){return[Ke]};function Nt(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"div",68)(1,"button",69),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onTodayButtonClick(he))}),u.qZA(),u.TgZ(2,"button",69),u.NdJ("keydown",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onContainerButtonKeydown(he))})("click",function(he){u.CHM(se);const mt=u.oxw(2);return u.KtG(mt.onClearButtonClick(he))}),u.qZA()()}if(2&Ke){const se=u.oxw(2);u.xp6(1),u.Q6J("label",se.getTranslation("today"))("ngClass",u.VKq(4,Rt,se.todayButtonStyleClass)),u.xp6(1),u.Q6J("label",se.getTranslation("clear"))("ngClass",u.VKq(6,Rt,se.clearButtonStyleClass))}}function At(Ke,Tt){1&Ke&&u.GkF(0)}const st=function(Ke,Tt,se,Fe,he,mt){return{"p-datepicker p-component":!0,"p-datepicker-inline":Ke,"p-disabled":Tt,"p-datepicker-timeonly":se,"p-datepicker-multiple-month":Fe,"p-datepicker-monthpicker":he,"p-datepicker-touch-ui":mt}},ot=function(Ke,Tt){return{showTransitionParams:Ke,hideTransitionParams:Tt}},ge=function(Ke){return{value:"visibleTouchUI",params:Ke}},ke=function(Ke){return{value:"visible",params:Ke}};function rt(Ke,Tt){if(1&Ke){const se=u.EpF();u.TgZ(0,"div",10,11),u.NdJ("@overlayAnimation.start",function(he){u.CHM(se);const mt=u.oxw();return u.KtG(mt.onOverlayAnimationStart(he))})("@overlayAnimation.done",function(he){u.CHM(se);const mt=u.oxw();return u.KtG(mt.onOverlayAnimationDone(he))})("click",function(he){u.CHM(se);const mt=u.oxw();return u.KtG(mt.onOverlayClick(he))}),u.Hsn(2),u.YNc(3,D,1,0,"ng-container",12),u.YNc(4,be,5,3,"ng-container",13),u.YNc(5,ht,23,8,"div",14),u.YNc(6,Nt,3,8,"div",15),u.Hsn(7,1),u.YNc(8,At,1,0,"ng-container",12),u.qZA()}if(2&Ke){const se=u.oxw();u.Tol(se.panelStyleClass),u.Q6J("ngStyle",se.panelStyle)("ngClass",u.HTZ(11,st,se.inline,se.disabled,se.timeOnly,se.numberOfMonths>1,"month"===se.view,se.touchUI))("@overlayAnimation",se.touchUI?u.VKq(21,ge,u.WLB(18,ot,se.showTransitionOptions,se.hideTransitionOptions)):u.VKq(26,ke,u.WLB(23,ot,se.showTransitionOptions,se.hideTransitionOptions)))("@.disabled",!0===se.inline),u.xp6(3),u.Q6J("ngTemplateOutlet",se.headerTemplate),u.xp6(1),u.Q6J("ngIf",!se.timeOnly),u.xp6(1),u.Q6J("ngIf",(se.showTime||se.timeOnly)&&"date"===se.currentView),u.xp6(1),u.Q6J("ngIf",se.showButtonBar),u.xp6(2),u.Q6J("ngTemplateOutlet",se.footerTemplate)}}const yt=[[["p-header"]],[["p-footer"]]],Pt=function(Ke,Tt,se,Fe){return{"p-calendar":!0,"p-calendar-w-btn":Ke,"p-calendar-timeonly":Tt,"p-calendar-disabled":se,"p-focus":Fe}},Ht=["p-header","p-footer"],Ot={provide:f.JU,useExisting:(0,u.Gpc)(()=>Ye),multi:!0};let Ye=(()=>{class Ke{constructor(se,Fe,he,mt,cn,Tn){this.el=se,this.renderer=Fe,this.cd=he,this.zone=mt,this.config=cn,this.overlayService=Tn,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new u.vpe,this.onBlur=new u.vpe,this.onClose=new u.vpe,this.onSelect=new u.vpe,this.onClear=new u.vpe,this.onInput=new u.vpe,this.onTodayClick=new u.vpe,this.onClearClick=new u.vpe,this.onMonthChange=new u.vpe,this.onYearChange=new u.vpe,this.onClickOutside=new u.vpe,this.onShow=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(tn,bt){return"12"==this.hourFormat?12===tn?bt?12:0:bt?tn+12:tn:tn}}set content(se){this.contentViewChild=se,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(se){this._view=se,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(se){if(this._defaultDate=se,this.initialized){const Fe=se||new Date;this.currentMonth=Fe.getMonth(),this.currentYear=Fe.getFullYear(),this.initTime(Fe),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(se){this._minDate=se,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=se,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(se){this._disabledDates=se,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(se){this._disabledDays=se,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(se){if(this._yearRange=se,se){const Fe=se.split(":"),he=parseInt(Fe[0]),mt=parseInt(Fe[1]);this.populateYearOptions(he,mt)}}get showTime(){return this._showTime}set showTime(se){this._showTime=se,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(se){this._responsiveOptions=se,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(se){this._numberOfMonths=se,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(se){this._firstDayOfWeek=se,this.createWeekDays()}set locale(se){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,R.Th)();const se=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=se.getMonth(),this.currentYear=se.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(se),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(se=>{switch(se.getType()){case"date":default:this.dateTemplate=se.template;break;case"decade":this.decadeTemplate=se.template;break;case"disabledDate":this.disabledDateTemplate=se.template;break;case"header":this.headerTemplate=se.template;break;case"footer":this.footerTemplate=se.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=x.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(se){return this.config.getTranslation(se)}populateYearOptions(se,Fe){this.yearOptions=[];for(let he=se;he<=Fe;he++)this.yearOptions.push(he)}createWeekDays(){this.weekDays=[];let se=this.getFirstDateOfWeek(),Fe=this.getTranslation(_.ws.DAY_NAMES_MIN);for(let he=0;he<7;he++)this.weekDays.push(Fe[se]),se=6==se?0:++se}monthPickerValues(){let se=[];for(let Fe=0;Fe<=11;Fe++)se.push(this.config.getTranslation("monthNamesShort")[Fe]);return se}yearPickerValues(){let se=[],Fe=this.currentYear-this.currentYear%10;for(let he=0;he<10;he++)se.push(Fe+he);return se}createMonths(se,Fe){this.months=this.months=[];for(let he=0;he<this.numberOfMonths;he++){let mt=se+he,cn=Fe;mt>11&&(mt=mt%11-1,cn=Fe+1),this.months.push(this.createMonth(mt,cn))}}getWeekNumber(se){let Fe=new Date(se.getTime());Fe.setDate(Fe.getDate()+4-(Fe.getDay()||7));let he=Fe.getTime();return Fe.setMonth(0),Fe.setDate(1),Math.floor(Math.round((he-Fe.getTime())/864e5)/7)+1}createMonth(se,Fe){let he=[],mt=this.getFirstDayOfMonthIndex(se,Fe),cn=this.getDaysCountInMonth(se,Fe),Tn=this.getDaysCountInPrevMonth(se,Fe),tn=1,bt=new Date,nt=[],de=Math.ceil((cn+mt)/7);for(let Qe=0;Qe<de;Qe++){let ze=[];if(0==Qe){for(let Ze=Tn-mt+1;Ze<=Tn;Ze++){let $t=this.getPreviousMonthAndYear(se,Fe);ze.push({day:Ze,month:$t.month,year:$t.year,otherMonth:!0,today:this.isToday(bt,Ze,$t.month,$t.year),selectable:this.isSelectable(Ze,$t.month,$t.year,!0)})}let kt=7-ze.length;for(let Ze=0;Ze<kt;Ze++)ze.push({day:tn,month:se,year:Fe,today:this.isToday(bt,tn,se,Fe),selectable:this.isSelectable(tn,se,Fe,!1)}),tn++}else for(let kt=0;kt<7;kt++){if(tn>cn){let Ze=this.getNextMonthAndYear(se,Fe);ze.push({day:tn-cn,month:Ze.month,year:Ze.year,otherMonth:!0,today:this.isToday(bt,tn-cn,Ze.month,Ze.year),selectable:this.isSelectable(tn-cn,Ze.month,Ze.year,!0)})}else ze.push({day:tn,month:se,year:Fe,today:this.isToday(bt,tn,se,Fe),selectable:this.isSelectable(tn,se,Fe,!1)});tn++}this.showWeek&&nt.push(this.getWeekNumber(new Date(ze[0].year,ze[0].month,ze[0].day))),he.push(ze)}return{month:se,year:Fe,dates:he,weekNumbers:nt}}initTime(se){this.pm=se.getHours()>11,this.showTime?(this.currentMinute=se.getMinutes(),this.currentSecond=se.getSeconds(),this.setCurrentHourPM(se.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(se){this.disabled?se.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(se){this.disabled?se.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let se=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-se,this.yearOptions[this.yearOptions.length-1]-se)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let se=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+se,this.yearOptions[this.yearOptions.length-1]+se)}}switchToMonthView(se){this.setCurrentView("month"),se.preventDefault()}switchToYearView(se){this.setCurrentView("year"),se.preventDefault()}onDateSelect(se,Fe){!this.disabled&&Fe.selectable?(this.isMultipleSelection()&&this.isSelected(Fe)?(this.value=this.value.filter((he,mt)=>!this.isDateEquals(he,Fe)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(Fe)&&this.selectDate(Fe),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{se.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),se.preventDefault()):se.preventDefault()}shouldSelectDate(se){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(se,Fe){"month"===this.view?this.onDateSelect(se,{year:this.currentYear,month:Fe,day:1,selectable:!0}):(this.currentMonth=Fe,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(se,Fe){"year"===this.view?this.onDateSelect(se,{year:Fe,month:0,day:1,selectable:!0}):(this.currentYear=Fe,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let se="";if(this.value)if(this.isSingleSelection())se=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let Fe=0;Fe<this.value.length;Fe++)se+=this.formatDateTime(this.value[Fe]),Fe!==this.value.length-1&&(se+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let he=this.value[1];se=this.formatDateTime(this.value[0]),he&&(se+=" "+this.rangeSeparator+" "+this.formatDateTime(he))}this.inputFieldValue=se,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(se){let Fe=this.keepInvalid?se:null;return this.isValidDate(se)&&(this.timeOnly?Fe=this.formatTime(se):(Fe=this.formatDate(se,this.getDateFormat()),this.showTime&&(Fe+=" "+this.formatTime(se)))),Fe}setCurrentHourPM(se){"12"==this.hourFormat?(this.pm=se>11,this.currentHour=se>=12?12==se?12:se-12:0==se?12:se):this.currentHour=se}setCurrentView(se){this.currentView=se,this.cd.detectChanges(),this.alignOverlay()}selectDate(se){let Fe=new Date(se.year,se.month,se.day);if(this.showTime&&(Fe.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),Fe.setMinutes(this.currentMinute),Fe.setSeconds(this.currentSecond)),this.minDate&&this.minDate>Fe&&(Fe=this.minDate,this.setCurrentHourPM(Fe.getHours()),this.currentMinute=Fe.getMinutes(),this.currentSecond=Fe.getSeconds()),this.maxDate&&this.maxDate<Fe&&(Fe=this.maxDate,this.setCurrentHourPM(Fe.getHours()),this.currentMinute=Fe.getMinutes(),this.currentSecond=Fe.getSeconds()),this.isSingleSelection())this.updateModel(Fe);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,Fe]:[Fe]);else if(this.isRangeSelection())if(this.value&&this.value.length){let he=this.value[0],mt=this.value[1];!mt&&Fe.getTime()>=he.getTime()?mt=Fe:(he=Fe,mt=null),this.updateModel([he,mt])}else this.updateModel([Fe,null]);this.onSelect.emit(Fe)}updateModel(se){if(this.value=se,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let Fe=null;this.value&&(Fe=this.value.map(he=>this.formatDateTime(he))),this.onModelChange(Fe)}}getFirstDayOfMonthIndex(se,Fe){let he=new Date;he.setDate(1),he.setMonth(se),he.setFullYear(Fe);let mt=he.getDay()+this.getSundayIndex();return mt>=7?mt-7:mt}getDaysCountInMonth(se,Fe){return 32-this.daylightSavingAdjust(new Date(Fe,se,32)).getDate()}getDaysCountInPrevMonth(se,Fe){let he=this.getPreviousMonthAndYear(se,Fe);return this.getDaysCountInMonth(he.month,he.year)}getPreviousMonthAndYear(se,Fe){let he,mt;return 0===se?(he=11,mt=Fe-1):(he=se-1,mt=Fe),{month:he,year:mt}}getNextMonthAndYear(se,Fe){let he,mt;return 11===se?(he=0,mt=Fe+1):(he=se+1,mt=Fe),{month:he,year:mt}}getSundayIndex(){let se=this.getFirstDateOfWeek();return se>0?7-se:0}isSelected(se){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,se);if(this.isMultipleSelection()){let Fe=!1;for(let he of this.value)if(Fe=this.isDateEquals(he,se),Fe)break;return Fe}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],se)||this.isDateEquals(this.value[1],se)||this.isDateBetween(this.value[0],this.value[1],se):this.isDateEquals(this.value[0],se):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(se){if(this.isComparable()&&!this.isMultipleSelection()){const[Fe,he]=this.isRangeSelection()?this.value:[this.value,this.value],mt=new Date(this.currentYear,se,1);return mt>=Fe&&mt<=(null!=he?he:Fe)}return!1}isMonthDisabled(se){return!this.isSelectable(1,se,this.currentYear,!1)}isYearSelected(se){if(this.isComparable()){let Fe=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&Fe.getFullYear()===se}return!1}isDateEquals(se,Fe){return!!(se&&se instanceof Date)&&se.getDate()===Fe.day&&se.getMonth()===Fe.month&&se.getFullYear()===Fe.year}isDateBetween(se,Fe,he){if(se&&Fe){let cn=new Date(he.year,he.month,he.day);return se.getTime()<=cn.getTime()&&Fe.getTime()>=cn.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(se,Fe,he,mt){return se.getDate()===Fe&&se.getMonth()===he&&se.getFullYear()===mt}isSelectable(se,Fe,he,mt){let cn=!0,Tn=!0,tn=!0,bt=!0;return!(mt&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>he||this.minDate.getFullYear()===he&&(this.minDate.getMonth()>Fe||this.minDate.getMonth()===Fe&&this.minDate.getDate()>se))&&(cn=!1),this.maxDate&&(this.maxDate.getFullYear()<he||this.maxDate.getFullYear()===he&&(this.maxDate.getMonth()<Fe||this.maxDate.getMonth()===Fe&&this.maxDate.getDate()<se))&&(Tn=!1),this.disabledDates&&(tn=!this.isDateDisabled(se,Fe,he)),this.disabledDays&&(bt=!this.isDayDisabled(se,Fe,he)),cn&&Tn&&tn&&bt)}isDateDisabled(se,Fe,he){if(this.disabledDates)for(let mt of this.disabledDates)if(mt.getFullYear()===he&&mt.getMonth()===Fe&&mt.getDate()===se)return!0;return!1}isDayDisabled(se,Fe,he){if(this.disabledDays){let cn=new Date(he,Fe,se).getDay();return-1!==this.disabledDays.indexOf(cn)}return!1}onInputFocus(se){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(se)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(se){this.focus=!1,this.onBlur.emit(se),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(se,Fe){this.overlayVisible?this.hideOverlay():(Fe.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(se){this.overlayService.add({originalEvent:se,target:this.el.nativeElement})}getMonthName(se){return this.config.getTranslation("monthNames")[se]}getYear(se){return"month"===this.currentView?this.currentYear:se.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(se){this.navigationState={backward:!0,button:!0},this.navBackward(se)}onNextButtonClick(se){this.navigationState={backward:!1,button:!0},this.navForward(se)}onContainerButtonKeydown(se){switch(se.which){case 9:this.inline||this.trapFocus(se);break;case 27:this.overlayVisible=!1,se.preventDefault()}}onInputKeydown(se){this.isKeydown=!0,40===se.keyCode&&this.contentViewChild?this.trapFocus(se):27===se.keyCode||13===se.keyCode?this.overlayVisible&&(this.overlayVisible=!1,se.preventDefault()):9===se.keyCode&&this.contentViewChild&&(x.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(Fe=>Fe.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(se,Fe,he){const mt=se.currentTarget,cn=mt.parentElement;switch(se.which){case 40:{mt.tabIndex="-1";let Tn=x.p.index(cn),tn=cn.parentElement.nextElementSibling;tn?x.p.hasClass(tn.children[Tn].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(se)):(tn.children[Tn].children[0].tabIndex="0",tn.children[Tn].children[0].focus()):(this.navigationState={backward:!1},this.navForward(se)),se.preventDefault();break}case 38:{mt.tabIndex="-1";let Tn=x.p.index(cn),tn=cn.parentElement.previousElementSibling;if(tn){let bt=tn.children[Tn].children[0];x.p.hasClass(bt,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(se)):(bt.tabIndex="0",bt.focus())}else this.navigationState={backward:!0},this.navBackward(se);se.preventDefault();break}case 37:{mt.tabIndex="-1";let Tn=cn.previousElementSibling;if(Tn){let tn=Tn.children[0];x.p.hasClass(tn,"p-disabled")||x.p.hasClass(tn.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,he):(tn.tabIndex="0",tn.focus())}else this.navigateToMonth(!0,he);se.preventDefault();break}case 39:{mt.tabIndex="-1";let Tn=cn.nextElementSibling;if(Tn){let tn=Tn.children[0];x.p.hasClass(tn,"p-disabled")?this.navigateToMonth(!1,he):(tn.tabIndex="0",tn.focus())}else this.navigateToMonth(!1,he);se.preventDefault();break}case 13:case 32:this.onDateSelect(se,Fe),se.preventDefault();break;case 27:this.overlayVisible=!1,se.preventDefault();break;case 9:this.inline||this.trapFocus(se)}}onMonthCellKeydown(se,Fe){const he=se.currentTarget;switch(se.which){case 38:case 40:{he.tabIndex="-1";var mt=he.parentElement.children,cn=x.p.index(he);let Tn=mt[40===se.which?cn+3:cn-3];Tn&&(Tn.tabIndex="0",Tn.focus()),se.preventDefault();break}case 37:{he.tabIndex="-1";let Tn=he.previousElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!0},this.navBackward(se)),se.preventDefault();break}case 39:{he.tabIndex="-1";let Tn=he.nextElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!1},this.navForward(se)),se.preventDefault();break}case 13:this.onMonthSelect(se,Fe),se.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,se.preventDefault();break;case 9:this.inline||this.trapFocus(se)}}onYearCellKeydown(se,Fe){const he=se.currentTarget;switch(se.which){case 38:case 40:{he.tabIndex="-1";var mt=he.parentElement.children,cn=x.p.index(he);let Tn=mt[40===se.which?cn+2:cn-2];Tn&&(Tn.tabIndex="0",Tn.focus()),se.preventDefault();break}case 37:{he.tabIndex="-1";let Tn=he.previousElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!0},this.navBackward(se)),se.preventDefault();break}case 39:{he.tabIndex="-1";let Tn=he.nextElementSibling;Tn?(Tn.tabIndex="0",Tn.focus()):(this.navigationState={backward:!1},this.navForward(se)),se.preventDefault();break}case 13:case 32:this.onYearSelect(se,Fe),se.preventDefault();break;case 27:this.overlayVisible=!1,se.preventDefault();break;case 9:this.trapFocus(se)}}navigateToMonth(se,Fe){if(se)if(1===this.numberOfMonths||0===Fe)this.navigationState={backward:!0},this.navBackward(event);else{let mt=x.p.find(this.contentViewChild.nativeElement.children[Fe-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),cn=mt[mt.length-1];cn.tabIndex="0",cn.focus()}else if(1===this.numberOfMonths||Fe===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let mt=x.p.findSingle(this.contentViewChild.nativeElement.children[Fe+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");mt.tabIndex="0",mt.focus()}}updateFocus(){let se;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?x.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():x.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let Fe;Fe=x.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),Fe&&Fe.length>0&&(se=Fe[Fe.length-1])}else se=x.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");se&&(se.tabIndex="0",se.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){var se;const Fe=null===(se=this.contentViewChild)||void 0===se?void 0:se.nativeElement;let he;if("month"===this.currentView){let mt=x.p.find(Fe,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),cn=x.p.findSingle(Fe,".p-monthpicker .p-monthpicker-month.p-highlight");mt.forEach(Tn=>Tn.tabIndex=-1),he=cn||mt[0],0===mt.length&&x.p.find(Fe,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(tn=>tn.tabIndex=-1)}else if("year"===this.currentView){let mt=x.p.find(Fe,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),cn=x.p.findSingle(Fe,".p-yearpicker .p-yearpicker-year.p-highlight");mt.forEach(Tn=>Tn.tabIndex=-1),he=cn||mt[0],0===mt.length&&x.p.find(Fe,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(tn=>tn.tabIndex=-1)}else if(he=x.p.findSingle(Fe,"span.p-highlight"),!he){let mt=x.p.findSingle(Fe,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");he=mt||x.p.findSingle(Fe,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}he&&(he.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{he.focus()},1),this.preventFocus=!1)}trapFocus(se){let Fe=x.p.getFocusableElements(this.contentViewChild.nativeElement);if(Fe&&Fe.length>0)if(Fe[0].ownerDocument.activeElement){let he=Fe.indexOf(Fe[0].ownerDocument.activeElement);if(se.shiftKey)if(-1==he||0===he)if(this.focusTrap)Fe[Fe.length-1].focus();else{if(-1===he)return this.hideOverlay();if(0===he)return}else Fe[he-1].focus();else if(-1==he||he===Fe.length-1){if(!this.focusTrap&&-1!=he)return this.hideOverlay();Fe[0].focus()}else Fe[he+1].focus()}else Fe[0].focus();se.preventDefault()}onMonthDropdownChange(se){this.currentMonth=parseInt(se),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(se){this.currentYear=parseInt(se),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(se,Fe,he,mt){let cn=this.value;const Tn=this.convertTo24Hour(se,mt);this.isRangeSelection()&&(cn=this.value[1]||this.value[0]),this.isMultipleSelection()&&(cn=this.value[this.value.length-1]);const tn=cn?cn.toDateString():null;return!(this.minDate&&tn&&this.minDate.toDateString()===tn&&(this.minDate.getHours()>Tn||this.minDate.getHours()===Tn&&(this.minDate.getMinutes()>Fe||this.minDate.getMinutes()===Fe&&this.minDate.getSeconds()>he))||this.maxDate&&tn&&this.maxDate.toDateString()===tn&&(this.maxDate.getHours()<Tn||this.maxDate.getHours()===Tn&&(this.maxDate.getMinutes()<Fe||this.maxDate.getMinutes()===Fe&&this.maxDate.getSeconds()<he)))}incrementHour(se){let he=this.currentHour+this.stepHour,mt=this.pm;"24"==this.hourFormat?he=he>=24?he-24:he:"12"==this.hourFormat&&(this.currentHour<12&&he>11&&(mt=!this.pm),he=he>=13?he-12:he),this.validateTime(he,this.currentMinute,this.currentSecond,mt)&&(this.currentHour=he,this.pm=mt),se.preventDefault()}onTimePickerElementMouseDown(se,Fe,he){this.disabled||(this.repeat(se,null,Fe,he),se.preventDefault())}onTimePickerElementMouseUp(se){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(se,Fe,he,mt){let cn=Fe||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(se,100,he,mt),this.cd.markForCheck()},cn),he){case 0:1===mt?this.incrementHour(se):this.decrementHour(se);break;case 1:1===mt?this.incrementMinute(se):this.decrementMinute(se);break;case 2:1===mt?this.incrementSecond(se):this.decrementSecond(se)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(se){let Fe=this.currentHour-this.stepHour,he=this.pm;"24"==this.hourFormat?Fe=Fe<0?24+Fe:Fe:"12"==this.hourFormat&&(12===this.currentHour&&(he=!this.pm),Fe=Fe<=0?12+Fe:Fe),this.validateTime(Fe,this.currentMinute,this.currentSecond,he)&&(this.currentHour=Fe,this.pm=he),se.preventDefault()}incrementMinute(se){let Fe=this.currentMinute+this.stepMinute;Fe=Fe>59?Fe-60:Fe,this.validateTime(this.currentHour,Fe,this.currentSecond,this.pm)&&(this.currentMinute=Fe),se.preventDefault()}decrementMinute(se){let Fe=this.currentMinute-this.stepMinute;Fe=Fe<0?60+Fe:Fe,this.validateTime(this.currentHour,Fe,this.currentSecond,this.pm)&&(this.currentMinute=Fe),se.preventDefault()}incrementSecond(se){let Fe=this.currentSecond+this.stepSecond;Fe=Fe>59?Fe-60:Fe,this.validateTime(this.currentHour,this.currentMinute,Fe,this.pm)&&(this.currentSecond=Fe),se.preventDefault()}decrementSecond(se){let Fe=this.currentSecond-this.stepSecond;Fe=Fe<0?60+Fe:Fe,this.validateTime(this.currentHour,this.currentMinute,Fe,this.pm)&&(this.currentSecond=Fe),se.preventDefault()}updateTime(){let se=this.value;this.isRangeSelection()&&(se=this.value[1]||this.value[0]),this.isMultipleSelection()&&(se=this.value[this.value.length-1]),se=se?new Date(se.getTime()):new Date,se.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),se.setMinutes(this.currentMinute),se.setSeconds(this.currentSecond),this.isRangeSelection()&&(se=this.value[1]?[this.value[0],se]:[se,null]),this.isMultipleSelection()&&(se=[...this.value.slice(0,-1),se]),this.updateModel(se),this.onSelect.emit(se),this.updateInputfield()}toggleAMPM(se){const Fe=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,Fe)&&(this.pm=Fe,this.updateTime()),se.preventDefault()}onUserInput(se){if(!this.isKeydown)return;this.isKeydown=!1;let Fe=se.target.value;try{let he=this.parseValueFromString(Fe);this.isValidSelection(he)&&(this.updateModel(he),this.updateUI())}catch(he){this.updateModel(this.keepInvalid?Fe:null)}this.filled=null!=Fe&&Fe.length,this.onInput.emit(se)}isValidSelection(se){let Fe=!0;return this.isSingleSelection()?this.isSelectable(se.getDate(),se.getMonth(),se.getFullYear(),!1)||(Fe=!1):se.every(he=>this.isSelectable(he.getDate(),he.getMonth(),he.getFullYear(),!1))&&this.isRangeSelection()&&(Fe=se.length>1&&se[1]>se[0]),Fe}parseValueFromString(se){if(!se||0===se.trim().length)return null;let Fe;if(this.isSingleSelection())Fe=this.parseDateTime(se);else if(this.isMultipleSelection()){let he=se.split(this.multipleSeparator);Fe=[];for(let mt of he)Fe.push(this.parseDateTime(mt.trim()))}else if(this.isRangeSelection()){let he=se.split(" "+this.rangeSeparator+" ");Fe=[];for(let mt=0;mt<he.length;mt++)Fe[mt]=this.parseDateTime(he[mt].trim())}return Fe}parseDateTime(se){let Fe,he=se.split(" ");if(this.timeOnly)Fe=new Date,this.populateTime(Fe,he[0],he[1]);else{const mt=this.getDateFormat();if(this.showTime){let cn="12"==this.hourFormat?he.pop():null,Tn=he.pop();Fe=this.parseDate(he.join(" "),mt),this.populateTime(Fe,Tn,cn)}else Fe=this.parseDate(se,mt)}return Fe}populateTime(se,Fe,he){if("12"==this.hourFormat&&!he)throw"Invalid Time";this.pm="PM"===he||"pm"===he;let mt=this.parseTime(Fe);se.setHours(mt.hour),se.setMinutes(mt.minute),se.setSeconds(mt.second)}isValidDate(se){return se instanceof Date&&R.gb.isNotEmpty(se)}updateUI(){let se=this.value;Array.isArray(se)&&(se=se[0]);let Fe=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:se&&this.isValidDate(se)?se:new Date;this.currentMonth=Fe.getMonth(),this.currentYear=Fe.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(Fe.getHours()),this.currentMinute=Fe.getMinutes(),this.currentSecond=Fe.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(se){switch(se.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=se.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?R.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):R.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(se));break;case"void":this.onOverlayHide(),this.onClose.emit(se)}}onOverlayAnimationDone(se){switch(se.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&R.P9.clear(se.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):x.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=x.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=x.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=x.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",x.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):x.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(se){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(se.style.zIndex)-1),x.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",he=>{this.disableModality()}),document.body.appendChild(this.mask),x.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(x.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let Fe,se=document.body.children;for(let he=0;he<se.length;he++)if(x.p.hasClass(se[he],"p-datepicker-mask-scrollblocker")){Fe=!0;break}Fe||x.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(se){if(this.value=se,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(Fe){this.keepInvalid&&(this.value=se)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(se){this.onModelChange=se}registerOnTouched(se){this.onModelTouched=se}setDisabledState(se){this.disabled=se,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(_.ws.FIRST_DAY_OF_WEEK)}formatDate(se,Fe){if(!se)return"";let he;const mt=nt=>{const de=he+1<Fe.length&&Fe.charAt(he+1)===nt;return de&&he++,de},cn=(nt,de,Qe)=>{let ze=""+de;if(mt(nt))for(;ze.length<Qe;)ze="0"+ze;return ze},Tn=(nt,de,Qe,ze)=>mt(nt)?ze[de]:Qe[de];let tn="",bt=!1;if(se)for(he=0;he<Fe.length;he++)if(bt)"'"!==Fe.charAt(he)||mt("'")?tn+=Fe.charAt(he):bt=!1;else switch(Fe.charAt(he)){case"d":tn+=cn("d",se.getDate(),2);break;case"D":tn+=Tn("D",se.getDay(),this.getTranslation(_.ws.DAY_NAMES_SHORT),this.getTranslation(_.ws.DAY_NAMES));break;case"o":tn+=cn("o",Math.round((new Date(se.getFullYear(),se.getMonth(),se.getDate()).getTime()-new Date(se.getFullYear(),0,0).getTime())/864e5),3);break;case"m":tn+=cn("m",se.getMonth()+1,2);break;case"M":tn+=Tn("M",se.getMonth(),this.getTranslation(_.ws.MONTH_NAMES_SHORT),this.getTranslation(_.ws.MONTH_NAMES));break;case"y":tn+=mt("y")?se.getFullYear():(se.getFullYear()%100<10?"0":"")+se.getFullYear()%100;break;case"@":tn+=se.getTime();break;case"!":tn+=1e4*se.getTime()+this.ticksTo1970;break;case"'":mt("'")?tn+="'":bt=!0;break;default:tn+=Fe.charAt(he)}return tn}formatTime(se){if(!se)return"";let Fe="",he=se.getHours(),mt=se.getMinutes(),cn=se.getSeconds();return"12"==this.hourFormat&&he>11&&12!=he&&(he-=12),Fe+="12"==this.hourFormat&&0===he?12:he<10?"0"+he:he,Fe+=":",Fe+=mt<10?"0"+mt:mt,this.showSeconds&&(Fe+=":",Fe+=cn<10?"0"+cn:cn),"12"==this.hourFormat&&(Fe+=se.getHours()>11?" PM":" AM"),Fe}parseTime(se){let Fe=se.split(":");if(Fe.length!==(this.showSeconds?3:2))throw"Invalid time";let mt=parseInt(Fe[0]),cn=parseInt(Fe[1]),Tn=this.showSeconds?parseInt(Fe[2]):null;if(isNaN(mt)||isNaN(cn)||mt>23||cn>59||"12"==this.hourFormat&&mt>12||this.showSeconds&&(isNaN(Tn)||Tn>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==mt&&this.pm?mt+=12:!this.pm&&12===mt&&(mt-=12)),{hour:mt,minute:cn,second:Tn}}parseDate(se,Fe){if(null==Fe||null==se)throw"Invalid arguments";if(""===(se="object"==typeof se?se.toString():se+""))return null;let he,mt,cn,kt,Tn=0,tn="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),bt=-1,nt=-1,de=-1,Qe=-1,ze=!1,Ze=Mn=>{let Ut=he+1<Fe.length&&Fe.charAt(he+1)===Mn;return Ut&&he++,Ut},$t=Mn=>{let Ut=Ze(Mn),rn="@"===Mn?14:"!"===Mn?20:"y"===Mn&&Ut?4:"o"===Mn?3:2,Vn=new RegExp("^\\d{"+("y"===Mn?rn:1)+","+rn+"}"),ai=se.substring(Tn).match(Vn);if(!ai)throw"Missing number at position "+Tn;return Tn+=ai[0].length,parseInt(ai[0],10)},gn=(Mn,Ut,rn)=>{let Bn=-1,Vn=Ze(Mn)?rn:Ut,ai=[];for(let vi=0;vi<Vn.length;vi++)ai.push([vi,Vn[vi]]);ai.sort((vi,Ji)=>-(vi[1].length-Ji[1].length));for(let vi=0;vi<ai.length;vi++){let Ji=ai[vi][1];if(se.substr(Tn,Ji.length).toLowerCase()===Ji.toLowerCase()){Bn=ai[vi][0],Tn+=Ji.length;break}}if(-1!==Bn)return Bn+1;throw"Unknown name at position "+Tn},Gt=()=>{if(se.charAt(Tn)!==Fe.charAt(he))throw"Unexpected literal at position "+Tn;Tn++};for("month"===this.view&&(de=1),he=0;he<Fe.length;he++)if(ze)"'"!==Fe.charAt(he)||Ze("'")?Gt():ze=!1;else switch(Fe.charAt(he)){case"d":de=$t("d");break;case"D":gn("D",this.getTranslation(_.ws.DAY_NAMES_SHORT),this.getTranslation(_.ws.DAY_NAMES));break;case"o":Qe=$t("o");break;case"m":nt=$t("m");break;case"M":nt=gn("M",this.getTranslation(_.ws.MONTH_NAMES_SHORT),this.getTranslation(_.ws.MONTH_NAMES));break;case"y":bt=$t("y");break;case"@":kt=new Date($t("@")),bt=kt.getFullYear(),nt=kt.getMonth()+1,de=kt.getDate();break;case"!":kt=new Date(($t("!")-this.ticksTo1970)/1e4),bt=kt.getFullYear(),nt=kt.getMonth()+1,de=kt.getDate();break;case"'":Ze("'")?Gt():ze=!0;break;default:Gt()}if(Tn<se.length&&(cn=se.substr(Tn),!/^\s+/.test(cn)))throw"Extra/unparsed characters found in date: "+cn;if(-1===bt?bt=(new Date).getFullYear():bt<100&&(bt+=(new Date).getFullYear()-(new Date).getFullYear()%100+(bt<=tn?0:-100)),Qe>-1)for(nt=1,de=Qe;mt=this.getDaysCountInMonth(bt,nt-1),!(de<=mt);)nt++,de-=mt;if("year"===this.view&&(nt=-1===nt?1:nt,de=-1===de?1:de),kt=this.daylightSavingAdjust(new Date(bt,nt-1,de)),kt.getFullYear()!==bt||kt.getMonth()+1!==nt||kt.getDate()!==de)throw"Invalid date";return kt}daylightSavingAdjust(se){return se?(se.setHours(se.getHours()>12?se.getHours()+2:0),se):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(se){let Fe=new Date,he={day:Fe.getDate(),month:Fe.getMonth(),year:Fe.getFullYear(),otherMonth:Fe.getMonth()!==this.currentMonth||Fe.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(se,he),this.onTodayClick.emit(se)}onClearButtonClick(se){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(se)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let se="";if(this.responsiveOptions){let Fe=[...this.responsiveOptions].filter(he=>!(!he.breakpoint||!he.numMonths)).sort((he,mt)=>-1*he.breakpoint.localeCompare(mt.breakpoint,void 0,{numeric:!0}));for(let he=0;he<Fe.length;he++){let{breakpoint:mt,numMonths:cn}=Fe[he],Tn=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${cn}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let tn=cn;tn<this.numberOfMonths;tn++)Tn+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${tn+1}) {\n                                display: none !important;\n                            }\n                        `;se+=`\n                        @media screen and (max-width: ${mt}) {\n                            ${Tn}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=se}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",Fe=>{this.isOutsideClicked(Fe)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(Fe),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new x.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(se){return!(this.el.nativeElement.isSameNode(se.target)||this.isNavIconClicked(se)||this.el.nativeElement.contains(se.target)||this.overlay&&this.overlay.contains(se.target))}isNavIconClicked(se){return x.p.hasClass(se.target,"p-datepicker-prev")||x.p.hasClass(se.target,"p-datepicker-prev-icon")||x.p.hasClass(se.target,"p-datepicker-next")||x.p.hasClass(se.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!x.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&R.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return Ke.\u0275fac=function(se){return new(se||Ke)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(_.b4),u.Y36(_.F0))},Ke.\u0275cmp=u.Xpm({type:Ke,selectors:[["p-calendar"]],contentQueries:function(se,Fe,he){if(1&se&&u.Suo(he,_.jx,4),2&se){let mt;u.iGM(mt=u.CRH())&&(Fe.templates=mt)}},viewQuery:function(se,Fe){if(1&se&&(u.Gf(L,5),u.Gf(Q,5),u.Gf(N,5)),2&se){let he;u.iGM(he=u.CRH())&&(Fe.containerViewChild=he.first),u.iGM(he=u.CRH())&&(Fe.inputfieldViewChild=he.first),u.iGM(he=u.CRH())&&(Fe.content=he.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(se,Fe){2&se&&u.ekj("p-inputwrapper-filled",Fe.filled)("p-inputwrapper-focus",Fe.focus)("p-calendar-clearable",Fe.showClear&&!Fe.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[u._Bn([Ot])],ngContentSelectors:Ht,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(se,Fe){1&se&&(u.F$t(yt),u.TgZ(0,"span",0,1),u.YNc(2,E,4,17,"ng-template",2),u.YNc(3,rt,9,28,"div",3),u.qZA()),2&se&&(u.Tol(Fe.styleClass),u.Q6J("ngClass",u.l5B(6,Pt,Fe.showIcon,Fe.timeOnly,Fe.disabled,Fe.focus))("ngStyle",Fe.style),u.xp6(2),u.Q6J("ngIf",!Fe.inline),u.xp6(1),u.Q6J("ngIf",Fe.inline||Fe.overlayVisible))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,P.Hq,r.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.SB)("visibleTouchUI",(0,e.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,e.eR)("void => visible",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)("{{showTransitionParams}}",(0,e.oB)({opacity:1,transform:"*"}))]),(0,e.eR)("visible => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0}))]),(0,e.eR)("void => visibleTouchUI",[(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,e.jt)("{{showTransitionParams}}")]),(0,e.eR)("visibleTouchUI => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),Ke})(),lt=(()=>{class Ke{}return Ke.\u0275fac=function(se){return new(se||Ke)},Ke.\u0275mod=u.oAB({type:Ke}),Ke.\u0275inj=u.cJS({imports:[d.ez,P.hJ,_.m8,r.T,P.hJ,_.m8]}),Ke})()},7575:(hn,ft,b)=>{"use strict";b.d(ft,{S:()=>ac,C:()=>Rc});var e=b(5e3),d=b(9808);function u(m){return m+.5|0}const f=(m,c,g)=>Math.max(Math.min(m,g),c);function _(m){return f(u(2.55*m),0,255)}function x(m){return f(u(255*m),0,255)}function r(m){return f(u(m/2.55)/100,0,1)}function R(m){return f(u(100*m),0,100)}const L={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Q=[..."0123456789ABCDEF"],N=m=>Q[15&m],T=m=>Q[(240&m)>>4]+Q[15&m],y=m=>(240&m)>>4==(15&m);const ce=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $(m,c,g){const C=c*Math.min(g,1-g),I=(M,H=(M+m/30)%12)=>g-C*Math.max(Math.min(H-3,9-H,1),-1);return[I(0),I(8),I(4)]}function V(m,c,g){const C=(I,M=(I+m/60)%6)=>g-g*c*Math.max(Math.min(M,4-M,1),0);return[C(5),C(3),C(1)]}function k(m,c,g){const C=$(m,1,.5);let I;for(c+g>1&&(I=1/(c+g),c*=I,g*=I),I=0;I<3;I++)C[I]*=1-c-g,C[I]+=c;return C}function K(m){const g=m.r/255,C=m.g/255,I=m.b/255,M=Math.max(g,C,I),H=Math.min(g,C,I),ee=(M+H)/2;let fe,Oe,at;return M!==H&&(at=M-H,Oe=ee>.5?at/(2-M-H):at/(M+H),fe=function O(m,c,g,C,I){return m===I?(c-g)/C+(c<g?6:0):c===I?(g-m)/C+2:(m-c)/C+4}(g,C,I,at,M),fe=60*fe+.5),[0|fe,Oe||0,ee]}function ue(m,c,g,C){return(Array.isArray(c)?m(c[0],c[1],c[2]):m(c,g,C)).map(x)}function q(m,c,g){return ue($,m,c,g)}function Ce(m){return(m%360+360)%360}const W={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Y={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ee;const ye=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,be=m=>m<=.0031308?12.92*m:1.055*Math.pow(m,1/2.4)-.055,we=m=>m<=.04045?m/12.92:Math.pow((m+.055)/1.055,2.4);function ct(m,c,g){if(m){let C=K(m);C[c]=Math.max(0,Math.min(C[c]+C[c]*g,0===c?360:1)),C=q(C),m.r=C[0],m.g=C[1],m.b=C[2]}}function dt(m,c){return m&&Object.assign(c||{},m)}function et(m){var c={r:0,g:0,b:0,a:255};return Array.isArray(m)?m.length>=3&&(c={r:m[0],g:m[1],b:m[2],a:255},m.length>3&&(c.a=x(m[3]))):(c=dt(m,{r:0,g:0,b:0,a:1})).a=x(c.a),c}function vt(m){return"r"===m.charAt(0)?function Ge(m){const c=ye.exec(m);let C,I,M,g=255;if(c){if(c[7]!==C){const H=+c[7];g=c[8]?_(H):f(255*H,0,255)}return C=+c[1],I=+c[3],M=+c[5],C=255&(c[2]?_(C):f(C,0,255)),I=255&(c[4]?_(I):f(I,0,255)),M=255&(c[6]?_(M):f(M,0,255)),{r:C,g:I,b:M,a:g}}}(m):function oe(m){const c=ce.exec(m);let C,g=255;if(!c)return;c[5]!==C&&(g=c[6]?_(+c[5]):x(+c[5]));const I=Ce(+c[2]),M=+c[3]/100,H=+c[4]/100;return C="hwb"===c[1]?function G(m,c,g){return ue(k,m,c,g)}(I,M,H):"hsv"===c[1]?function ne(m,c,g){return ue(V,m,c,g)}(I,M,H):q(I,M,H),{r:C[0],g:C[1],b:C[2],a:g}}(m)}class ht{constructor(c){if(c instanceof ht)return c;const g=typeof c;let C;"object"===g?C=et(c):"string"===g&&(C=function D(m){var g,c=m.length;return"#"===m[0]&&(4===c||5===c?g={r:255&17*L[m[1]],g:255&17*L[m[2]],b:255&17*L[m[3]],a:5===c?17*L[m[4]]:255}:(7===c||9===c)&&(g={r:L[m[1]]<<4|L[m[2]],g:L[m[3]]<<4|L[m[4]],b:L[m[5]]<<4|L[m[6]],a:9===c?L[m[7]]<<4|L[m[8]]:255})),g}(c)||function qe(m){Ee||(Ee=function Ae(){const m={},c=Object.keys(Y),g=Object.keys(W);let C,I,M,H,ee;for(C=0;C<c.length;C++){for(H=ee=c[C],I=0;I<g.length;I++)M=g[I],ee=ee.replace(M,W[M]);M=parseInt(Y[H],16),m[ee]=[M>>16&255,M>>8&255,255&M]}return m}(),Ee.transparent=[0,0,0,0]);const c=Ee[m.toLowerCase()];return c&&{r:c[0],g:c[1],b:c[2],a:4===c.length?c[3]:255}}(c)||vt(c)),this._rgb=C,this._valid=!!C}get valid(){return this._valid}get rgb(){var c=dt(this._rgb);return c&&(c.a=r(c.a)),c}set rgb(c){this._rgb=et(c)}rgbString(){return this._valid?function X(m){return m&&(m.a<255?`rgba(${m.r}, ${m.g}, ${m.b}, ${r(m.a)})`:`rgb(${m.r}, ${m.g}, ${m.b})`)}(this._rgb):void 0}hexString(){return this._valid?function B(m){var c=(m=>y(m.r)&&y(m.g)&&y(m.b)&&y(m.a))(m)?N:T;return m?"#"+c(m.r)+c(m.g)+c(m.b)+((m,c)=>m<255?c(m):"")(m.a,c):void 0}(this._rgb):void 0}hslString(){return this._valid?function te(m){if(!m)return;const c=K(m),g=c[0],C=R(c[1]),I=R(c[2]);return m.a<255?`hsla(${g}, ${C}%, ${I}%, ${r(m.a)})`:`hsl(${g}, ${C}%, ${I}%)`}(this._rgb):void 0}mix(c,g){if(c){const C=this.rgb,I=c.rgb;let M;const H=g===M?.5:g,ee=2*H-1,fe=C.a-I.a,Oe=((ee*fe==-1?ee:(ee+fe)/(1+ee*fe))+1)/2;M=1-Oe,C.r=255&Oe*C.r+M*I.r+.5,C.g=255&Oe*C.g+M*I.g+.5,C.b=255&Oe*C.b+M*I.b+.5,C.a=H*C.a+(1-H)*I.a,this.rgb=C}return this}interpolate(c,g){return c&&(this._rgb=function Ie(m,c,g){const C=we(r(m.r)),I=we(r(m.g)),M=we(r(m.b));return{r:x(be(C+g*(we(r(c.r))-C))),g:x(be(I+g*(we(r(c.g))-I))),b:x(be(M+g*(we(r(c.b))-M))),a:m.a+g*(c.a-m.a)}}(this._rgb,c._rgb,g)),this}clone(){return new ht(this.rgb)}alpha(c){return this._rgb.a=x(c),this}clearer(c){return this._rgb.a*=1-c,this}greyscale(){const c=this._rgb,g=u(.3*c.r+.59*c.g+.11*c.b);return c.r=c.g=c.b=g,this}opaquer(c){return this._rgb.a*=1+c,this}negate(){const c=this._rgb;return c.r=255-c.r,c.g=255-c.g,c.b=255-c.b,this}lighten(c){return ct(this._rgb,2,c),this}darken(c){return ct(this._rgb,2,-c),this}saturate(c){return ct(this._rgb,1,c),this}desaturate(c){return ct(this._rgb,1,-c),this}rotate(c){return function z(m,c){var g=K(m);g[0]=Ce(g[0]+c),g=q(g),m.r=g[0],m.g=g[1],m.b=g[2]}(this._rgb,c),this}}function Nt(){}const At=(()=>{let m=0;return()=>m++})();function st(m){return null==m}function ot(m){if(Array.isArray&&Array.isArray(m))return!0;const c=Object.prototype.toString.call(m);return"[object"===c.slice(0,7)&&"Array]"===c.slice(-6)}function ge(m){return null!==m&&"[object Object]"===Object.prototype.toString.call(m)}function ke(m){return("number"==typeof m||m instanceof Number)&&isFinite(+m)}function rt(m,c){return ke(m)?m:c}function yt(m,c){return void 0===m?c:m}const Ht=(m,c)=>"string"==typeof m&&m.endsWith("%")?parseFloat(m)/100*c:+m;function Ot(m,c,g){if(m&&"function"==typeof m.call)return m.apply(g,c)}function Ye(m,c,g,C){let I,M,H;if(ot(m))if(M=m.length,C)for(I=M-1;I>=0;I--)c.call(g,m[I],I);else for(I=0;I<M;I++)c.call(g,m[I],I);else if(ge(m))for(H=Object.keys(m),M=H.length,I=0;I<M;I++)c.call(g,m[H[I]],H[I])}function lt(m,c){let g,C,I,M;if(!m||!c||m.length!==c.length)return!1;for(g=0,C=m.length;g<C;++g)if(I=m[g],M=c[g],I.datasetIndex!==M.datasetIndex||I.index!==M.index)return!1;return!0}function Ke(m){if(ot(m))return m.map(Ke);if(ge(m)){const c=Object.create(null),g=Object.keys(m),C=g.length;let I=0;for(;I<C;++I)c[g[I]]=Ke(m[g[I]]);return c}return m}function Tt(m){return-1===["__proto__","prototype","constructor"].indexOf(m)}function se(m,c,g,C){if(!Tt(m))return;const I=c[m],M=g[m];ge(I)&&ge(M)?Fe(I,M,C):c[m]=Ke(M)}function Fe(m,c,g){const C=ot(c)?c:[c],I=C.length;if(!ge(m))return m;const M=(g=g||{}).merger||se;let H;for(let ee=0;ee<I;++ee){if(H=C[ee],!ge(H))continue;const fe=Object.keys(H);for(let Oe=0,at=fe.length;Oe<at;++Oe)M(fe[Oe],m,H,g)}return m}function he(m,c){return Fe(m,c,{merger:mt})}function mt(m,c,g){if(!Tt(m))return;const C=c[m],I=g[m];ge(C)&&ge(I)?he(C,I):Object.prototype.hasOwnProperty.call(c,m)||(c[m]=Ke(I))}const Tn={"":m=>m,x:m=>m.x,y:m=>m.y};function nt(m,c){return(Tn[c]||(Tn[c]=function bt(m){const c=function tn(m){const c=m.split("."),g=[];let C="";for(const I of c)C+=I,C.endsWith("\\")?C=C.slice(0,-1)+".":(g.push(C),C="");return g}(m);return g=>{for(const C of c){if(""===C)break;g=g&&g[C]}return g}}(c)))(m)}function de(m){return m.charAt(0).toUpperCase()+m.slice(1)}const Qe=m=>void 0!==m,ze=m=>"function"==typeof m,kt=(m,c)=>{if(m.size!==c.size)return!1;for(const g of m)if(!c.has(g))return!1;return!0},$t=Math.PI,gn=2*$t,Gt=gn+$t,Mn=Number.POSITIVE_INFINITY,Ut=$t/180,rn=$t/2,Bn=$t/4,Vn=2*$t/3,ai=Math.log10,vi=Math.sign;function Ji(m,c,g){return Math.abs(m-c)<g}function Qi(m){const c=Math.round(m);m=Ji(m,c,m/1e3)?c:m;const g=Math.pow(10,Math.floor(ai(m))),C=m/g;return(C<=1?1:C<=2?2:C<=5?5:10)*g}function zt(m){return!isNaN(parseFloat(m))&&isFinite(m)}function xe(m,c,g){let C,I,M;for(C=0,I=m.length;C<I;C++)M=m[C][g],isNaN(M)||(c.min=Math.min(c.min,M),c.max=Math.max(c.max,M))}function He(m){return m*($t/180)}function pt(m){return m*(180/$t)}function dn(m){if(!ke(m))return;let c=1,g=0;for(;Math.round(m*c)/c!==m;)c*=10,g++;return g}function xn(m,c){const g=c.x-m.x,C=c.y-m.y,I=Math.sqrt(g*g+C*C);let M=Math.atan2(C,g);return M<-.5*$t&&(M+=gn),{angle:M,distance:I}}function Zt(m,c){return Math.sqrt(Math.pow(c.x-m.x,2)+Math.pow(c.y-m.y,2))}function bn(m,c){return(m-c+Gt)%gn-$t}function yn(m){return(m%gn+gn)%gn}function Wn(m,c,g,C){const I=yn(m),M=yn(c),H=yn(g),ee=yn(M-I),fe=yn(H-I),Oe=yn(I-M),at=yn(I-H);return I===M||I===H||C&&M===H||ee>fe&&Oe<at}function si(m,c,g){return Math.max(c,Math.min(g,m))}function ii(m,c,g,C=1e-6){return m>=Math.min(c,g)-C&&m<=Math.max(c,g)+C}function ki(m,c,g){g=g||(H=>m[H]<c);let M,C=m.length-1,I=0;for(;C-I>1;)M=I+C>>1,g(M)?I=M:C=M;return{lo:I,hi:C}}const qi=(m,c,g,C)=>ki(m,g,C?I=>{const M=m[I][c];return M<g||M===g&&m[I+1][c]===g}:I=>m[I][c]<g),Oo=(m,c,g)=>ki(m,g,C=>m[C][c]>=g),ho=["push","pop","shift","splice","unshift"];function Wo(m,c){const g=m._chartjs;if(!g)return;const C=g.listeners,I=C.indexOf(c);-1!==I&&C.splice(I,1),!(C.length>0)&&(ho.forEach(M=>{delete m[M]}),delete m._chartjs)}function vo(m){const c=new Set(m);return c.size===m.length?m:Array.from(c)}const os="undefined"==typeof window?function(m){return m()}:window.requestAnimationFrame;function us(m,c){let g=[],C=!1;return function(...I){g=I,C||(C=!0,os.call(window,()=>{C=!1,m.apply(c,g)}))}}const uo=m=>"start"===m?"left":"end"===m?"right":"center",Io=(m,c,g)=>"start"===m?c:"end"===m?g:(c+g)/2;function Cs(m,c,g){const C=c.length;let I=0,M=C;if(m._sorted){const{iScale:H,_parsed:ee}=m,fe=H.axis,{min:Oe,max:at,minDefined:wt,maxDefined:Vt}=H.getUserBounds();wt&&(I=si(Math.min(qi(ee,fe,Oe).lo,g?C:qi(c,fe,H.getPixelForValue(Oe)).lo),0,C-1)),M=Vt?si(Math.max(qi(ee,H.axis,at,!0).hi+1,g?0:qi(c,fe,H.getPixelForValue(at),!0).hi+1),I,C)-I:C-I}return{start:I,count:M}}function po(m){const{xScale:c,yScale:g,_scaleRanges:C}=m,I={xmin:c.min,xmax:c.max,ymin:g.min,ymax:g.max};if(!C)return m._scaleRanges=I,!0;const M=C.xmin!==c.min||C.xmax!==c.max||C.ymin!==g.min||C.ymax!==g.max;return Object.assign(C,I),M}const lo=m=>0===m||1===m,$o=(m,c,g)=>-Math.pow(2,10*(m-=1))*Math.sin((m-c)*gn/g),Us=(m,c,g)=>Math.pow(2,-10*m)*Math.sin((m-c)*gn/g)+1,Ss={linear:m=>m,easeInQuad:m=>m*m,easeOutQuad:m=>-m*(m-2),easeInOutQuad:m=>(m/=.5)<1?.5*m*m:-.5*(--m*(m-2)-1),easeInCubic:m=>m*m*m,easeOutCubic:m=>(m-=1)*m*m+1,easeInOutCubic:m=>(m/=.5)<1?.5*m*m*m:.5*((m-=2)*m*m+2),easeInQuart:m=>m*m*m*m,easeOutQuart:m=>-((m-=1)*m*m*m-1),easeInOutQuart:m=>(m/=.5)<1?.5*m*m*m*m:-.5*((m-=2)*m*m*m-2),easeInQuint:m=>m*m*m*m*m,easeOutQuint:m=>(m-=1)*m*m*m*m+1,easeInOutQuint:m=>(m/=.5)<1?.5*m*m*m*m*m:.5*((m-=2)*m*m*m*m+2),easeInSine:m=>1-Math.cos(m*rn),easeOutSine:m=>Math.sin(m*rn),easeInOutSine:m=>-.5*(Math.cos($t*m)-1),easeInExpo:m=>0===m?0:Math.pow(2,10*(m-1)),easeOutExpo:m=>1===m?1:1-Math.pow(2,-10*m),easeInOutExpo:m=>lo(m)?m:m<.5?.5*Math.pow(2,10*(2*m-1)):.5*(2-Math.pow(2,-10*(2*m-1))),easeInCirc:m=>m>=1?m:-(Math.sqrt(1-m*m)-1),easeOutCirc:m=>Math.sqrt(1-(m-=1)*m),easeInOutCirc:m=>(m/=.5)<1?-.5*(Math.sqrt(1-m*m)-1):.5*(Math.sqrt(1-(m-=2)*m)+1),easeInElastic:m=>lo(m)?m:$o(m,.075,.3),easeOutElastic:m=>lo(m)?m:Us(m,.075,.3),easeInOutElastic:m=>lo(m)?m:m<.5?.5*$o(2*m,.1125,.45):.5+.5*Us(2*m-1,.1125,.45),easeInBack:m=>m*m*(2.70158*m-1.70158),easeOutBack:m=>(m-=1)*m*(2.70158*m+1.70158)+1,easeInOutBack(m){let c=1.70158;return(m/=.5)<1?m*m*((1+(c*=1.525))*m-c)*.5:.5*((m-=2)*m*((1+(c*=1.525))*m+c)+2)},easeInBounce:m=>1-Ss.easeOutBounce(1-m),easeOutBounce:m=>m<1/2.75?7.5625*m*m:m<2/2.75?7.5625*(m-=1.5/2.75)*m+.75:m<2.5/2.75?7.5625*(m-=2.25/2.75)*m+.9375:7.5625*(m-=2.625/2.75)*m+.984375,easeInOutBounce:m=>m<.5?.5*Ss.easeInBounce(2*m):.5*Ss.easeOutBounce(2*m-1)+.5};function Hs(m){if(m&&"object"==typeof m){const c=m.toString();return"[object CanvasPattern]"===c||"[object CanvasGradient]"===c}return!1}function ds(m){return Hs(m)?m:new ht(m)}function br(m){return Hs(m)?m:new ht(m).saturate(.5).darken(.1).hexString()}const fa=["x","y","borderWidth","radius","tension"],yr=["color","borderColor","backgroundColor"],vs=new Map;function Ks(m,c,g){return function ua(m,c){c=c||{};const g=m+JSON.stringify(c);let C=vs.get(g);return C||(C=new Intl.NumberFormat(m,c),vs.set(g,C)),C}(c,g).format(m)}const Nr={values:m=>ot(m)?m:""+m,numeric(m,c,g){if(0===m)return"0";const C=this.chart.options.locale;let I,M=m;if(g.length>1){const Oe=Math.max(Math.abs(g[0].value),Math.abs(g[g.length-1].value));(Oe<1e-4||Oe>1e15)&&(I="scientific"),M=function Fr(m,c){let g=c.length>3?c[2].value-c[1].value:c[1].value-c[0].value;return Math.abs(g)>=1&&m!==Math.floor(m)&&(g=m-Math.floor(m)),g}(m,g)}const H=ai(Math.abs(M)),ee=isNaN(H)?1:Math.max(Math.min(-1*Math.floor(H),20),0),fe={notation:I,minimumFractionDigits:ee,maximumFractionDigits:ee};return Object.assign(fe,this.options.ticks.format),Ks(m,C,fe)},logarithmic(m,c,g){if(0===m)return"0";const C=g[c].significand||m/Math.pow(10,Math.floor(ai(m)));return[1,2,3,5,10,15].includes(C)||c>.8*g.length?Nr.numeric.call(this,m,c,g):""}};var Eo={formatters:Nr};const Ii=Object.create(null),nr=Object.create(null);function Ir(m,c){if(!c)return m;const g=c.split(".");for(let C=0,I=g.length;C<I;++C){const M=g[C];m=m[M]||(m[M]=Object.create(null))}return m}function As(m,c,g){return"string"==typeof c?Fe(Ir(m,c),g):Fe(Ir(m,""),c)}class ir{constructor(c,g){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=C=>C.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(C,I)=>br(I.backgroundColor),this.hoverBorderColor=(C,I)=>br(I.borderColor),this.hoverColor=(C,I)=>br(I.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(c),this.apply(g)}set(c,g){return As(this,c,g)}get(c){return Ir(this,c)}describe(c,g){return As(nr,c,g)}override(c,g){return As(Ii,c,g)}route(c,g,C,I){const M=Ir(this,c),H=Ir(this,C),ee="_"+g;Object.defineProperties(M,{[ee]:{value:M[g],writable:!0},[g]:{enumerable:!0,get(){const fe=this[ee],Oe=H[I];return ge(fe)?Object.assign({},Oe,fe):yt(fe,Oe)},set(fe){this[ee]=fe}}})}apply(c){c.forEach(g=>g(this))}}var $i=new ir({_scriptable:m=>!m.startsWith("on"),_indexable:m=>"events"!==m,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function xr(m){m.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),m.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:c=>"onProgress"!==c&&"onComplete"!==c&&"fn"!==c}),m.set("animations",{colors:{type:"color",properties:yr},numbers:{type:"number",properties:fa}}),m.describe("animations",{_fallback:"animation"}),m.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:c=>0|c}}}})},function wa(m){m.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function ei(m){m.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(c,g)=>g.lineWidth,tickColor:(c,g)=>g.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Eo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),m.route("scale.ticks","color","","color"),m.route("scale.grid","color","","borderColor"),m.route("scale.border","color","","borderColor"),m.route("scale.title","color","","color"),m.describe("scale",{_fallback:!1,_scriptable:c=>!c.startsWith("before")&&!c.startsWith("after")&&"callback"!==c&&"parser"!==c,_indexable:c=>"borderDash"!==c&&"tickBorderDash"!==c&&"dash"!==c}),m.describe("scales",{_fallback:"scale"}),m.describe("scale.ticks",{_scriptable:c=>"backdropPadding"!==c&&"callback"!==c,_indexable:c=>"backdropPadding"!==c})}]);function bs(m,c,g,C,I){let M=c[I];return M||(M=c[I]=m.measureText(I).width,g.push(I)),M>C&&(C=M),C}function cr(m,c,g,C){let I=(C=C||{}).data=C.data||{},M=C.garbageCollect=C.garbageCollect||[];C.font!==c&&(I=C.data={},M=C.garbageCollect=[],C.font=c),m.save(),m.font=c;let H=0;const ee=g.length;let fe,Oe,at,wt,Vt;for(fe=0;fe<ee;fe++)if(wt=g[fe],null==wt||ot(wt)){if(ot(wt))for(Oe=0,at=wt.length;Oe<at;Oe++)Vt=wt[Oe],null!=Vt&&!ot(Vt)&&(H=bs(m,I,M,H,Vt))}else H=bs(m,I,M,H,wt);m.restore();const nn=M.length/2;if(nn>g.length){for(fe=0;fe<nn;fe++)delete I[M[fe]];M.splice(0,nn)}return H}function Xo(m,c,g){const C=m.currentDevicePixelRatio,I=0!==g?Math.max(g/2,.5):0;return Math.round((c-I)*C)/C+I}function Tr(m,c){(c=c||m.getContext("2d")).save(),c.resetTransform(),c.clearRect(0,0,m.width,m.height),c.restore()}function rs(m,c,g,C){go(m,c,g,C,null)}function go(m,c,g,C,I){let M,H,ee,fe,Oe,at,wt,Vt;const nn=c.pointStyle,mn=c.rotation,Cn=c.radius;let In=(mn||0)*Ut;if(nn&&"object"==typeof nn&&(M=nn.toString(),"[object HTMLImageElement]"===M||"[object HTMLCanvasElement]"===M))return m.save(),m.translate(g,C),m.rotate(In),m.drawImage(nn,-nn.width/2,-nn.height/2,nn.width,nn.height),void m.restore();if(!(isNaN(Cn)||Cn<=0)){switch(m.beginPath(),nn){default:I?m.ellipse(g,C,I/2,Cn,0,0,gn):m.arc(g,C,Cn,0,gn),m.closePath();break;case"triangle":at=I?I/2:Cn,m.moveTo(g+Math.sin(In)*at,C-Math.cos(In)*Cn),In+=Vn,m.lineTo(g+Math.sin(In)*at,C-Math.cos(In)*Cn),In+=Vn,m.lineTo(g+Math.sin(In)*at,C-Math.cos(In)*Cn),m.closePath();break;case"rectRounded":Oe=.516*Cn,fe=Cn-Oe,H=Math.cos(In+Bn)*fe,wt=Math.cos(In+Bn)*(I?I/2-Oe:fe),ee=Math.sin(In+Bn)*fe,Vt=Math.sin(In+Bn)*(I?I/2-Oe:fe),m.arc(g-wt,C-ee,Oe,In-$t,In-rn),m.arc(g+Vt,C-H,Oe,In-rn,In),m.arc(g+wt,C+ee,Oe,In,In+rn),m.arc(g-Vt,C+H,Oe,In+rn,In+$t),m.closePath();break;case"rect":if(!mn){fe=Math.SQRT1_2*Cn,at=I?I/2:fe,m.rect(g-at,C-fe,2*at,2*fe);break}In+=Bn;case"rectRot":wt=Math.cos(In)*(I?I/2:Cn),H=Math.cos(In)*Cn,ee=Math.sin(In)*Cn,Vt=Math.sin(In)*(I?I/2:Cn),m.moveTo(g-wt,C-ee),m.lineTo(g+Vt,C-H),m.lineTo(g+wt,C+ee),m.lineTo(g-Vt,C+H),m.closePath();break;case"crossRot":In+=Bn;case"cross":wt=Math.cos(In)*(I?I/2:Cn),H=Math.cos(In)*Cn,ee=Math.sin(In)*Cn,Vt=Math.sin(In)*(I?I/2:Cn),m.moveTo(g-wt,C-ee),m.lineTo(g+wt,C+ee),m.moveTo(g+Vt,C-H),m.lineTo(g-Vt,C+H);break;case"star":wt=Math.cos(In)*(I?I/2:Cn),H=Math.cos(In)*Cn,ee=Math.sin(In)*Cn,Vt=Math.sin(In)*(I?I/2:Cn),m.moveTo(g-wt,C-ee),m.lineTo(g+wt,C+ee),m.moveTo(g+Vt,C-H),m.lineTo(g-Vt,C+H),In+=Bn,wt=Math.cos(In)*(I?I/2:Cn),H=Math.cos(In)*Cn,ee=Math.sin(In)*Cn,Vt=Math.sin(In)*(I?I/2:Cn),m.moveTo(g-wt,C-ee),m.lineTo(g+wt,C+ee),m.moveTo(g+Vt,C-H),m.lineTo(g-Vt,C+H);break;case"line":H=I?I/2:Math.cos(In)*Cn,ee=Math.sin(In)*Cn,m.moveTo(g-H,C-ee),m.lineTo(g+H,C+ee);break;case"dash":m.moveTo(g,C),m.lineTo(g+Math.cos(In)*(I?I/2:Cn),C+Math.sin(In)*Cn);break;case!1:m.closePath()}m.fill(),c.borderWidth>0&&m.stroke()}}function ys(m,c,g){return g=g||.5,!c||m&&m.x>c.left-g&&m.x<c.right+g&&m.y>c.top-g&&m.y<c.bottom+g}function xs(m,c){m.save(),m.beginPath(),m.rect(c.left,c.top,c.right-c.left,c.bottom-c.top),m.clip()}function ws(m){m.restore()}function Vs(m,c,g,C,I){if(!c)return m.lineTo(g.x,g.y);if("middle"===I){const M=(c.x+g.x)/2;m.lineTo(M,c.y),m.lineTo(M,g.y)}else"after"===I!=!!C?m.lineTo(c.x,g.y):m.lineTo(g.x,c.y);m.lineTo(g.x,g.y)}function Ar(m,c,g,C){if(!c)return m.lineTo(g.x,g.y);m.bezierCurveTo(C?c.cp1x:c.cp2x,C?c.cp1y:c.cp2y,C?g.cp2x:g.cp1x,C?g.cp2y:g.cp1y,g.x,g.y)}function Br(m,c,g,C,I){if(I.strikethrough||I.underline){const M=m.measureText(C),H=c-M.actualBoundingBoxLeft,ee=c+M.actualBoundingBoxRight,fe=g-M.actualBoundingBoxAscent,Oe=g+M.actualBoundingBoxDescent,at=I.strikethrough?(fe+Oe)/2:Oe;m.strokeStyle=m.fillStyle,m.beginPath(),m.lineWidth=I.decorationWidth||2,m.moveTo(H,at),m.lineTo(ee,at),m.stroke()}}function Er(m,c){const g=m.fillStyle;m.fillStyle=c.color,m.fillRect(c.left,c.top,c.width,c.height),m.fillStyle=g}function ps(m,c,g,C,I,M={}){const H=ot(c)?c:[c],ee=M.strokeWidth>0&&""!==M.strokeColor;let fe,Oe;for(m.save(),m.font=I.string,function wr(m,c){c.translation&&m.translate(c.translation[0],c.translation[1]),st(c.rotation)||m.rotate(c.rotation),c.color&&(m.fillStyle=c.color),c.textAlign&&(m.textAlign=c.textAlign),c.textBaseline&&(m.textBaseline=c.textBaseline)}(m,M),fe=0;fe<H.length;++fe)Oe=H[fe],M.backdrop&&Er(m,M.backdrop),ee&&(M.strokeColor&&(m.strokeStyle=M.strokeColor),st(M.strokeWidth)||(m.lineWidth=M.strokeWidth),m.strokeText(Oe,g,C,M.maxWidth)),m.fillText(Oe,g,C,M.maxWidth),Br(m,g,C,Oe,M),C+=Number(I.lineHeight);m.restore()}function Yo(m,c){const{x:g,y:C,w:I,h:M,radius:H}=c;m.arc(g+H.topLeft,C+H.topLeft,H.topLeft,-rn,$t,!0),m.lineTo(g,C+M-H.bottomLeft),m.arc(g+H.bottomLeft,C+M-H.bottomLeft,H.bottomLeft,$t,rn,!0),m.lineTo(g+I-H.bottomRight,C+M),m.arc(g+I-H.bottomRight,C+M-H.bottomRight,H.bottomRight,rn,0,!0),m.lineTo(g+I,C+H.topRight),m.arc(g+I-H.topRight,C+H.topRight,H.topRight,0,-rn,!0),m.lineTo(g+H.topLeft,C)}const Sr=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Et(m,c){const g=(""+m).match(Sr);if(!g||"normal"===g[1])return 1.2*c;switch(m=+g[2],g[3]){case"px":return m;case"%":m/=100}return c*m}const pn=m=>+m||0;function ie(m,c){const g={},C=ge(c),I=C?Object.keys(c):c,M=ge(m)?C?H=>yt(m[H],m[c[H]]):H=>m[H]:()=>m;for(const H of I)g[H]=pn(M(H));return g}function Le(m){return ie(m,{top:"y",right:"x",bottom:"y",left:"x"})}function It(m){return ie(m,["topLeft","topRight","bottomLeft","bottomRight"])}function Jt(m){const c=Le(m);return c.width=c.left+c.right,c.height=c.top+c.bottom,c}function Pn(m,c){let g=yt((m=m||{}).size,(c=c||$i.font).size);"string"==typeof g&&(g=parseInt(g,10));let C=yt(m.style,c.style);C&&!(""+C).match(kr)&&(console.warn('Invalid font style specified: "'+C+'"'),C=void 0);const I={family:yt(m.family,c.family),lineHeight:Et(yt(m.lineHeight,c.lineHeight),g),size:g,style:C,weight:yt(m.weight,c.weight),string:""};return I.string=function ss(m){return!m||st(m.size)||st(m.family)?null:(m.style?m.style+" ":"")+(m.weight?m.weight+" ":"")+m.size+"px "+m.family}(I),I}function qn(m,c,g,C){let M,H,ee,I=!0;for(M=0,H=m.length;M<H;++M)if(ee=m[M],void 0!==ee&&(void 0!==c&&"function"==typeof ee&&(ee=ee(c),I=!1),void 0!==g&&ot(ee)&&(ee=ee[g%ee.length],I=!1),void 0!==ee))return C&&!I&&(C.cacheable=!1),ee}function Zi(m,c){return Object.assign(Object.create(m),c)}function Ni(m,c=[""],g,C,I=(()=>m[0])){const M=g||m;void 0===C&&(C=ma("_fallback",m));const H={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:m,_rootScopes:M,_fallback:C,_getTarget:I,override:ee=>Ni([ee,...m],c,M,C)};return new Proxy(H,{deleteProperty:(ee,fe)=>(delete ee[fe],delete ee._keys,delete m[0][fe],!0),get:(ee,fe)=>bo(ee,fe,()=>function ur(m,c,g,C){let I;for(const M of c)if(I=ma(qs(M,m),g),void 0!==I)return jo(m,I)?Po(g,C,m,I):I}(fe,c,m,ee)),getOwnPropertyDescriptor:(ee,fe)=>Reflect.getOwnPropertyDescriptor(ee._scopes[0],fe),getPrototypeOf:()=>Reflect.getPrototypeOf(m[0]),has:(ee,fe)=>Qn(ee).includes(fe),ownKeys:ee=>Qn(ee),set(ee,fe,Oe){const at=ee._storage||(ee._storage=I());return ee[fe]=at[fe]=Oe,delete ee._keys,!0}})}function Si(m,c,g,C){const I={_cacheable:!1,_proxy:m,_context:c,_subProxy:g,_stack:new Set,_descriptors:hs(m,C),setContext:M=>Si(m,M,g,C),override:M=>Si(m.override(M),c,g,C)};return new Proxy(I,{deleteProperty:(M,H)=>(delete M[H],delete m[H],!0),get:(M,H,ee)=>bo(M,H,()=>function So(m,c,g){const{_proxy:C,_context:I,_subProxy:M,_descriptors:H}=m;let ee=C[c];return ze(ee)&&H.isScriptable(c)&&(ee=function ks(m,c,g,C){const{_proxy:I,_context:M,_subProxy:H,_stack:ee}=g;if(ee.has(m))throw new Error("Recursion detected: "+Array.from(ee).join("->")+"->"+m);ee.add(m);let fe=c(M,H||C);return ee.delete(m),jo(m,fe)&&(fe=Po(I._scopes,I,m,fe)),fe}(c,ee,m,g)),ot(ee)&&ee.length&&(ee=function Mi(m,c,g,C){const{_proxy:I,_context:M,_subProxy:H,_descriptors:ee}=g;if(void 0!==M.index&&C(m))return c[M.index%c.length];if(ge(c[0])){const fe=c,Oe=I._scopes.filter(at=>at!==fe);c=[];for(const at of fe){const wt=Po(Oe,I,m,at);c.push(Si(wt,M,H&&H[m],ee))}}return c}(c,ee,m,H.isIndexable)),jo(c,ee)&&(ee=Si(ee,I,M&&M[c],H)),ee}(M,H,ee)),getOwnPropertyDescriptor:(M,H)=>M._descriptors.allKeys?Reflect.has(m,H)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(m,H),getPrototypeOf:()=>Reflect.getPrototypeOf(m),has:(M,H)=>Reflect.has(m,H),ownKeys:()=>Reflect.ownKeys(m),set:(M,H,ee)=>(m[H]=ee,delete M[H],!0)})}function hs(m,c={scriptable:!0,indexable:!0}){const{_scriptable:g=c.scriptable,_indexable:C=c.indexable,_allKeys:I=c.allKeys}=m;return{allKeys:I,scriptable:g,indexable:C,isScriptable:ze(g)?g:()=>g,isIndexable:ze(C)?C:()=>C}}const qs=(m,c)=>m?m+de(c):c,jo=(m,c)=>ge(c)&&"adapters"!==m&&(null===Object.getPrototypeOf(c)||c.constructor===Object);function bo(m,c,g){if(Object.prototype.hasOwnProperty.call(m,c))return m[c];const C=g();return m[c]=C,C}function es(m,c,g){return ze(m)?m(c,g):m}const Bo=(m,c)=>!0===m?c:"string"==typeof m?nt(c,m):void 0;function Zr(m,c,g,C,I){for(const M of c){const H=Bo(g,M);if(H){m.add(H);const ee=es(H._fallback,g,I);if(void 0!==ee&&ee!==g&&ee!==C)return ee}else if(!1===H&&void 0!==C&&g!==C)return null}return!1}function Po(m,c,g,C){const I=c._rootScopes,M=es(c._fallback,g,C),H=[...m,...I],ee=new Set;ee.add(C);let fe=To(ee,H,g,M||g,C);return null!==fe&&(void 0===M||M===g||(fe=To(ee,H,M,fe,C),null!==fe))&&Ni(Array.from(ee),[""],I,M,()=>function Li(m,c,g){const C=m._getTarget();c in C||(C[c]={});const I=C[c];return ot(I)&&ge(g)?g:I||{}}(c,g,C))}function To(m,c,g,C,I){for(;g;)g=Zr(m,c,g,C,I);return g}function ma(m,c){for(const g of c){if(!g)continue;const C=g[m];if(void 0!==C)return C}}function Qn(m){let c=m._keys;return c||(c=m._keys=function Ri(m){const c=new Set;for(const g of m)for(const C of Object.keys(g).filter(I=>!I.startsWith("_")))c.add(C);return Array.from(c)}(m._scopes)),c}function zs(m,c,g,C){const{iScale:I}=m,{key:M="r"}=this._parsing,H=new Array(C);let ee,fe,Oe,at;for(ee=0,fe=C;ee<fe;++ee)Oe=ee+g,at=c[Oe],H[ee]={r:I.parse(nt(at,M),Oe)};return H}const Yr=Number.EPSILON||1e-14,eo=(m,c)=>c<m.length&&!m[c].skip&&m[c],Xr=m=>"x"===m?"y":"x";function dr(m,c,g,C){const I=m.skip?c:m,M=c,H=g.skip?c:g,ee=Zt(M,I),fe=Zt(H,M);let Oe=ee/(ee+fe),at=fe/(ee+fe);Oe=isNaN(Oe)?0:Oe,at=isNaN(at)?0:at;const wt=C*Oe,Vt=C*at;return{previous:{x:M.x-wt*(H.x-I.x),y:M.y-wt*(H.y-I.y)},next:{x:M.x+Vt*(H.x-I.x),y:M.y+Vt*(H.y-I.y)}}}function Js(m,c,g){return Math.max(Math.min(m,g),c)}function it(m,c,g,C,I){let M,H,ee,fe;if(c.spanGaps&&(m=m.filter(Oe=>!Oe.skip)),"monotone"===c.cubicInterpolationMode)!function Is(m,c="x"){const g=Xr(c),C=m.length,I=Array(C).fill(0),M=Array(C);let H,ee,fe,Oe=eo(m,0);for(H=0;H<C;++H)if(ee=fe,fe=Oe,Oe=eo(m,H+1),fe){if(Oe){const at=Oe[c]-fe[c];I[H]=0!==at?(Oe[g]-fe[g])/at:0}M[H]=ee?Oe?vi(I[H-1])!==vi(I[H])?0:(I[H-1]+I[H])/2:I[H-1]:I[H]}(function Ds(m,c,g){const C=m.length;let I,M,H,ee,fe,Oe=eo(m,0);for(let at=0;at<C-1;++at)if(fe=Oe,Oe=eo(m,at+1),fe&&Oe){if(Ji(c[at],0,Yr)){g[at]=g[at+1]=0;continue}I=g[at]/c[at],M=g[at+1]/c[at],ee=Math.pow(I,2)+Math.pow(M,2),!(ee<=9)&&(H=3/Math.sqrt(ee),g[at]=I*H*c[at],g[at+1]=M*H*c[at])}})(m,I,M),function da(m,c,g="x"){const C=Xr(g),I=m.length;let M,H,ee,fe=eo(m,0);for(let Oe=0;Oe<I;++Oe){if(H=ee,ee=fe,fe=eo(m,Oe+1),!ee)continue;const at=ee[g],wt=ee[C];H&&(M=(at-H[g])/3,ee[`cp1${g}`]=at-M,ee[`cp1${C}`]=wt-M*c[Oe]),fe&&(M=(fe[g]-at)/3,ee[`cp2${g}`]=at+M,ee[`cp2${C}`]=wt+M*c[Oe])}}(m,M,c)}(m,I);else{let Oe=C?m[m.length-1]:m[0];for(M=0,H=m.length;M<H;++M)ee=m[M],fe=dr(Oe,ee,m[Math.min(M+1,H-(C?0:1))%H],c.tension),ee.cp1x=fe.previous.x,ee.cp1y=fe.previous.y,ee.cp2x=fe.next.x,ee.cp2y=fe.next.y,Oe=ee}c.capBezierPoints&&function jr(m,c){let g,C,I,M,H,ee=ys(m[0],c);for(g=0,C=m.length;g<C;++g)H=M,M=ee,ee=g<C-1&&ys(m[g+1],c),M&&(I=m[g],H&&(I.cp1x=Js(I.cp1x,c.left,c.right),I.cp1y=Js(I.cp1y,c.top,c.bottom)),ee&&(I.cp2x=Js(I.cp2x,c.left,c.right),I.cp2y=Js(I.cp2y,c.top,c.bottom)))}(m,g)}function Ue(){return"undefined"!=typeof window&&"undefined"!=typeof document}function De(m){let c=m.parentNode;return c&&"[object ShadowRoot]"===c.toString()&&(c=c.host),c}function Mt(m,c,g){let C;return"string"==typeof m?(C=parseInt(m,10),-1!==m.indexOf("%")&&(C=C/100*c.parentNode[g])):C=m,C}const Ln=m=>m.ownerDocument.defaultView.getComputedStyle(m,null),Gi=["top","right","bottom","left"];function _o(m,c,g){const C={};g=g?"-"+g:"";for(let I=0;I<4;I++){const M=Gi[I];C[M]=parseFloat(m[c+"-"+M+g])||0}return C.width=C.left+C.right,C.height=C.top+C.bottom,C}function $s(m,c){if("native"in m)return m;const{canvas:g,currentDevicePixelRatio:C}=c,I=Ln(g),M="border-box"===I.boxSizing,H=_o(I,"padding"),ee=_o(I,"border","width"),{x:fe,y:Oe,box:at}=function gs(m,c){const g=m.touches,C=g&&g.length?g[0]:m,{offsetX:I,offsetY:M}=C;let ee,fe,H=!1;if(((m,c,g)=>(m>0||c>0)&&(!g||!g.shadowRoot))(I,M,m.target))ee=I,fe=M;else{const Oe=c.getBoundingClientRect();ee=C.clientX-Oe.left,fe=C.clientY-Oe.top,H=!0}return{x:ee,y:fe,box:H}}(m,g),wt=H.left+(at&&ee.left),Vt=H.top+(at&&ee.top);let{width:nn,height:mn}=c;return M&&(nn-=H.width+ee.width,mn-=H.height+ee.height),{x:Math.round((fe-wt)/nn*g.width/C),y:Math.round((Oe-Vt)/mn*g.height/C)}}const Dr=m=>Math.round(10*m)/10;function hr(m,c,g){const C=c||1,I=Math.floor(m.height*C),M=Math.floor(m.width*C);m.height=Math.floor(m.height),m.width=Math.floor(m.width);const H=m.canvas;return H.style&&(g||!H.style.height&&!H.style.width)&&(H.style.height=`${m.height}px`,H.style.width=`${m.width}px`),(m.currentDevicePixelRatio!==C||H.height!==I||H.width!==M)&&(m.currentDevicePixelRatio=C,H.height=I,H.width=M,m.ctx.setTransform(C,0,0,C,0,0),!0)}const or=function(){let m=!1;try{const c={get passive(){return m=!0,!1}};window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch(c){}return m}();function Ur(m,c){const g=function mi(m,c){return Ln(m).getPropertyValue(c)}(m,c),C=g&&g.match(/^(\d+)(\.\d+)?px$/);return C?+C[1]:void 0}function gr(m,c,g,C){return{x:m.x+g*(c.x-m.x),y:m.y+g*(c.y-m.y)}}function _a(m,c,g,C){return{x:m.x+g*(c.x-m.x),y:"middle"===C?g<.5?m.y:c.y:"after"===C?g<1?m.y:c.y:g>0?c.y:m.y}}function Ma(m,c,g,C){const I={x:m.cp2x,y:m.cp2y},M={x:c.cp1x,y:c.cp1y},H=gr(m,I,g),ee=gr(I,M,g),fe=gr(M,c,g),Oe=gr(H,ee,g),at=gr(ee,fe,g);return gr(Oe,at,g)}function gt(m,c,g){return m?function(m,c){return{x:g=>m+m+c-g,setWidth(g){c=g},textAlign:g=>"center"===g?g:"right"===g?"left":"right",xPlus:(g,C)=>g-C,leftForLtr:(g,C)=>g-C}}(c,g):{x:m=>m,setWidth(m){},textAlign:m=>m,xPlus:(m,c)=>m+c,leftForLtr:(m,c)=>m}}function Ve(m,c){let g,C;("ltr"===c||"rtl"===c)&&(g=m.canvas.style,C=[g.getPropertyValue("direction"),g.getPropertyPriority("direction")],g.setProperty("direction",c,"important"),m.prevTextDirection=C)}function Dt(m,c){void 0!==c&&(delete m.prevTextDirection,m.canvas.style.setProperty("direction",c[0],c[1]))}function on(m){return"angle"===m?{between:Wn,compare:bn,normalize:yn}:{between:ii,compare:(c,g)=>c-g,normalize:c=>c}}function Dn({start:m,end:c,count:g,loop:C,style:I}){return{start:m%g,end:c%g,loop:C&&(c-m+1)%g==0,style:I}}function ui(m,c,g){if(!g)return[m];const{property:C,start:I,end:M}=g,H=c.length,{compare:ee,between:fe,normalize:Oe}=on(C),{start:at,end:wt,loop:Vt,style:nn}=function Nn(m,c,g){const{property:C,start:I,end:M}=g,{between:H,normalize:ee}=on(C),fe=c.length;let Vt,nn,{start:Oe,end:at,loop:wt}=m;if(wt){for(Oe+=fe,at+=fe,Vt=0,nn=fe;Vt<nn&&H(ee(c[Oe%fe][C]),I,M);++Vt)Oe--,at--;Oe%=fe,at%=fe}return at<Oe&&(at+=fe),{start:Oe,end:at,loop:wt,style:m.style}}(m,c,g),mn=[];let Zn,Hn,Xn,Cn=!1,In=null;for(let hi=at,Fi=at;hi<=wt;++hi)Hn=c[hi%H],!Hn.skip&&(Zn=Oe(Hn[C]),Zn!==Xn&&(Cn=fe(Zn,I,M),null===In&&(Cn||fe(I,Xn,Zn)&&0!==ee(I,Xn))&&(In=0===ee(Zn,I)?hi:Fi),null!==In&&(!Cn||0===ee(M,Zn)||fe(M,Xn,Zn))&&(mn.push(Dn({start:In,end:hi,loop:Vt,count:H,style:nn})),In=null),Fi=hi,Xn=Zn));return null!==In&&mn.push(Dn({start:In,end:wt,loop:Vt,count:H,style:nn})),mn}function to(m,c){const g=[],C=m.segments;for(let I=0;I<C.length;I++){const M=ui(C[I],m.points,c);M.length&&g.push(...M)}return g}function Co(m){return{backgroundColor:m.backgroundColor,borderCapStyle:m.borderCapStyle,borderDash:m.borderDash,borderDashOffset:m.borderDashOffset,borderJoinStyle:m.borderJoinStyle,borderWidth:m.borderWidth,borderColor:m.borderColor}}function Ko(m,c){if(!c)return!1;const g=[],C=function(I,M){return Hs(M)?(g.includes(M)||g.push(M),g.indexOf(M)):M};return JSON.stringify(m,C)!==JSON.stringify(c,C)}class Xs{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(c,g,C,I){const H=g.duration;g.listeners[I].forEach(ee=>ee({chart:c,initial:g.initial,numSteps:H,currentStep:Math.min(C-g.start,H)}))}_refresh(){this._request||(this._running=!0,this._request=os.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(c=Date.now()){let g=0;this._charts.forEach((C,I)=>{if(!C.running||!C.items.length)return;const M=C.items;let fe,H=M.length-1,ee=!1;for(;H>=0;--H)fe=M[H],fe._active?(fe._total>C.duration&&(C.duration=fe._total),fe.tick(c),ee=!0):(M[H]=M[M.length-1],M.pop());ee&&(I.draw(),this._notify(I,C,c,"progress")),M.length||(C.running=!1,this._notify(I,C,c,"complete"),C.initial=!1),g+=M.length}),this._lastDate=c,0===g&&(this._running=!1)}_getAnims(c){const g=this._charts;let C=g.get(c);return C||(C={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},g.set(c,C)),C}listen(c,g,C){this._getAnims(c).listeners[g].push(C)}add(c,g){!g||!g.length||this._getAnims(c).items.push(...g)}has(c){return this._getAnims(c).items.length>0}start(c){const g=this._charts.get(c);!g||(g.running=!0,g.start=Date.now(),g.duration=g.items.reduce((C,I)=>Math.max(C,I._duration),0),this._refresh())}running(c){if(!this._running)return!1;const g=this._charts.get(c);return!(!g||!g.running||!g.items.length)}stop(c){const g=this._charts.get(c);if(!g||!g.items.length)return;const C=g.items;let I=C.length-1;for(;I>=0;--I)C[I].cancel();g.items=[],this._notify(c,g,Date.now(),"complete")}remove(c){return this._charts.delete(c)}}var as=new Xs;const sr="transparent",Ct={boolean:(m,c,g)=>g>.5?c:m,color(m,c,g){const C=ds(m||sr),I=C.valid&&ds(c||sr);return I&&I.valid?I.mix(C,g).hexString():c},number:(m,c,g)=>m+(c-m)*g};class ae{constructor(c,g,C,I){const M=g[C];I=qn([c.to,I,M,c.from]);const H=qn([c.from,M,I]);this._active=!0,this._fn=c.fn||Ct[c.type||typeof H],this._easing=Ss[c.easing]||Ss.linear,this._start=Math.floor(Date.now()+(c.delay||0)),this._duration=this._total=Math.floor(c.duration),this._loop=!!c.loop,this._target=g,this._prop=C,this._from=H,this._to=I,this._promises=void 0}active(){return this._active}update(c,g,C){if(this._active){this._notify(!1);const I=this._target[this._prop],M=C-this._start,H=this._duration-M;this._start=C,this._duration=Math.floor(Math.max(H,c.duration)),this._total+=M,this._loop=!!c.loop,this._to=qn([c.to,g,I,c.from]),this._from=qn([c.from,I,g])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(c){const g=c-this._start,C=this._duration,I=this._prop,M=this._from,H=this._loop,ee=this._to;let fe;if(this._active=M!==ee&&(H||g<C),!this._active)return this._target[I]=ee,void this._notify(!0);g<0?this._target[I]=M:(fe=g/C%2,fe=H&&fe>1?2-fe:fe,fe=this._easing(Math.min(1,Math.max(0,fe))),this._target[I]=this._fn(M,ee,fe))}wait(){const c=this._promises||(this._promises=[]);return new Promise((g,C)=>{c.push({res:g,rej:C})})}_notify(c){const g=c?"res":"rej",C=this._promises||[];for(let I=0;I<C.length;I++)C[I][g]()}}class pe{constructor(c,g){this._chart=c,this._properties=new Map,this.configure(g)}configure(c){if(!ge(c))return;const g=Object.keys($i.animation),C=this._properties;Object.getOwnPropertyNames(c).forEach(I=>{const M=c[I];if(!ge(M))return;const H={};for(const ee of g)H[ee]=M[ee];(ot(M.properties)&&M.properties||[I]).forEach(ee=>{(ee===I||!C.has(ee))&&C.set(ee,H)})})}_animateOptions(c,g){const C=g.options,I=function xt(m,c){if(!c)return;let g=m.options;if(g)return g.$shared&&(m.options=g=Object.assign({},g,{$shared:!1,$animations:{}})),g;m.options=c}(c,C);if(!I)return[];const M=this._createAnimations(I,C);return C.$shared&&function We(m,c){const g=[],C=Object.keys(c);for(let I=0;I<C.length;I++){const M=m[C[I]];M&&M.active()&&g.push(M.wait())}return Promise.all(g)}(c.options.$animations,C).then(()=>{c.options=C},()=>{}),M}_createAnimations(c,g){const C=this._properties,I=[],M=c.$animations||(c.$animations={}),H=Object.keys(g),ee=Date.now();let fe;for(fe=H.length-1;fe>=0;--fe){const Oe=H[fe];if("$"===Oe.charAt(0))continue;if("options"===Oe){I.push(...this._animateOptions(c,g));continue}const at=g[Oe];let wt=M[Oe];const Vt=C.get(Oe);if(wt){if(Vt&&wt.active()){wt.update(Vt,at,ee);continue}wt.cancel()}Vt&&Vt.duration?(M[Oe]=wt=new ae(Vt,c,Oe,at),I.push(wt)):c[Oe]=at}return I}update(c,g){if(0===this._properties.size)return void Object.assign(c,g);const C=this._createAnimations(c,g);return C.length?(as.add(this._chart,C),!0):void 0}}function Qt(m,c){const g=m&&m.options||{},C=g.reverse,I=void 0===g.min?c:0,M=void 0===g.max?c:0;return{start:C?M:I,end:C?I:M}}function Sn(m,c){const g=[],C=m._getSortedDatasetMetas(c);let I,M;for(I=0,M=C.length;I<M;++I)g.push(C[I].index);return g}function zn(m,c,g,C={}){const I=m.keys,M="single"===C.mode;let H,ee,fe,Oe;if(null!==c){for(H=0,ee=I.length;H<ee;++H){if(fe=+I[H],fe===g){if(C.all)continue;break}Oe=m.values[fe],ke(Oe)&&(M||0===c||vi(c)===vi(Oe))&&(c+=Oe)}return c}}function Ne(m,c){const g=m&&m.options.stacked;return g||void 0===g&&void 0!==c.stack}function Ft(m,c,g){const C=m[c]||(m[c]={});return C[g]||(C[g]={})}function an(m,c,g,C){for(const I of c.getMatchingVisibleMetas(C).reverse()){const M=m[I.index];if(g&&M>0||!g&&M<0)return I.index}return null}function An(m,c){const{chart:g,_cachedMeta:C}=m,I=g._stacks||(g._stacks={}),{iScale:M,vScale:H,index:ee}=C,fe=M.axis,Oe=H.axis,at=function Be(m,c,g){return`${m.id}.${c.id}.${g.stack||g.type}`}(M,H,C),wt=c.length;let Vt;for(let nn=0;nn<wt;++nn){const mn=c[nn],{[fe]:Cn,[Oe]:In}=mn;Vt=(mn._stacks||(mn._stacks={}))[Oe]=Ft(I,at,Cn),Vt[ee]=In,Vt._top=an(Vt,H,!0,C.type),Vt._bottom=an(Vt,H,!1,C.type),(Vt._visualValues||(Vt._visualValues={}))[ee]=In}}function On(m,c){const g=m.scales;return Object.keys(g).filter(C=>g[C].axis===c).shift()}function Ai(m,c){const g=m.controller.index,C=m.vScale&&m.vScale.axis;if(C){c=c||m._parsed;for(const I of c){const M=I._stacks;if(!M||void 0===M[C]||void 0===M[C][g])return;delete M[C][g],void 0!==M[C]._visualValues&&void 0!==M[C]._visualValues[g]&&delete M[C]._visualValues[g]}}}const yo=m=>"reset"===m||"none"===m,ts=(m,c)=>c?m:Object.assign({},m);class oo{constructor(c,g){this.chart=c,this._ctx=c.ctx,this.index=g,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const c=this._cachedMeta;this.configure(),this.linkScales(),c._stacked=Ne(c.vScale,c),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(c){this.index!==c&&Ai(this._cachedMeta),this.index=c}linkScales(){const c=this.chart,g=this._cachedMeta,C=this.getDataset(),I=(wt,Vt,nn,mn)=>"x"===wt?Vt:"r"===wt?mn:nn,M=g.xAxisID=yt(C.xAxisID,On(c,"x")),H=g.yAxisID=yt(C.yAxisID,On(c,"y")),ee=g.rAxisID=yt(C.rAxisID,On(c,"r")),fe=g.indexAxis,Oe=g.iAxisID=I(fe,M,H,ee),at=g.vAxisID=I(fe,H,M,ee);g.xScale=this.getScaleForId(M),g.yScale=this.getScaleForId(H),g.rScale=this.getScaleForId(ee),g.iScale=this.getScaleForId(Oe),g.vScale=this.getScaleForId(at)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(c){return this.chart.scales[c]}_getOtherScale(c){const g=this._cachedMeta;return c===g.iScale?g.vScale:g.iScale}reset(){this._update("reset")}_destroy(){const c=this._cachedMeta;this._data&&Wo(this._data,this),c._stacked&&Ai(c)}_dataCheck(){const c=this.getDataset(),g=c.data||(c.data=[]),C=this._data;if(ge(g))this._data=function Yt(m){const c=Object.keys(m),g=new Array(c.length);let C,I,M;for(C=0,I=c.length;C<I;++C)M=c[C],g[C]={x:M,y:m[M]};return g}(g);else if(C!==g){if(C){Wo(C,this);const I=this._cachedMeta;Ai(I),I._parsed=[]}g&&Object.isExtensible(g)&&function Go(m,c){m._chartjs?m._chartjs.listeners.push(c):(Object.defineProperty(m,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[c]}}),ho.forEach(g=>{const C="_onData"+de(g),I=m[g];Object.defineProperty(m,g,{configurable:!0,enumerable:!1,value(...M){const H=I.apply(this,M);return m._chartjs.listeners.forEach(ee=>{"function"==typeof ee[C]&&ee[C](...M)}),H}})}))}(g,this),this._syncList=[],this._data=g}}addElements(){const c=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(c.dataset=new this.datasetElementType)}buildOrUpdateElements(c){const g=this._cachedMeta,C=this.getDataset();let I=!1;this._dataCheck();const M=g._stacked;g._stacked=Ne(g.vScale,g),g.stack!==C.stack&&(I=!0,Ai(g),g.stack=C.stack),this._resyncElements(c),(I||M!==g._stacked)&&An(this,g._parsed)}configure(){const c=this.chart.config,g=c.datasetScopeKeys(this._type),C=c.getOptionScopes(this.getDataset(),g,!0);this.options=c.createResolver(C,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(c,g){const{_cachedMeta:C,_data:I}=this,{iScale:M,_stacked:H}=C,ee=M.axis;let at,wt,Vt,fe=0===c&&g===I.length||C._sorted,Oe=c>0&&C._parsed[c-1];if(!1===this._parsing)C._parsed=I,C._sorted=!0,Vt=I;else{Vt=ot(I[c])?this.parseArrayData(C,I,c,g):ge(I[c])?this.parseObjectData(C,I,c,g):this.parsePrimitiveData(C,I,c,g);const nn=()=>null===wt[ee]||Oe&&wt[ee]<Oe[ee];for(at=0;at<g;++at)C._parsed[at+c]=wt=Vt[at],fe&&(nn()&&(fe=!1),Oe=wt);C._sorted=fe}H&&An(this,Vt)}parsePrimitiveData(c,g,C,I){const{iScale:M,vScale:H}=c,ee=M.axis,fe=H.axis,Oe=M.getLabels(),at=M===H,wt=new Array(I);let Vt,nn,mn;for(Vt=0,nn=I;Vt<nn;++Vt)mn=Vt+C,wt[Vt]={[ee]:at||M.parse(Oe[mn],mn),[fe]:H.parse(g[mn],mn)};return wt}parseArrayData(c,g,C,I){const{xScale:M,yScale:H}=c,ee=new Array(I);let fe,Oe,at,wt;for(fe=0,Oe=I;fe<Oe;++fe)at=fe+C,wt=g[at],ee[fe]={x:M.parse(wt[0],at),y:H.parse(wt[1],at)};return ee}parseObjectData(c,g,C,I){const{xScale:M,yScale:H}=c,{xAxisKey:ee="x",yAxisKey:fe="y"}=this._parsing,Oe=new Array(I);let at,wt,Vt,nn;for(at=0,wt=I;at<wt;++at)Vt=at+C,nn=g[Vt],Oe[at]={x:M.parse(nt(nn,ee),Vt),y:H.parse(nt(nn,fe),Vt)};return Oe}getParsed(c){return this._cachedMeta._parsed[c]}getDataElement(c){return this._cachedMeta.data[c]}applyStack(c,g,C){const M=this._cachedMeta,H=g[c.axis];return zn({keys:Sn(this.chart,!0),values:g._stacks[c.axis]._visualValues},H,M.index,{mode:C})}updateRangeFromParsed(c,g,C,I){const M=C[g.axis];let H=null===M?NaN:M;const ee=I&&C._stacks[g.axis];I&&ee&&(I.values=ee,H=zn(I,M,this._cachedMeta.index)),c.min=Math.min(c.min,H),c.max=Math.max(c.max,H)}getMinMax(c,g){const C=this._cachedMeta,I=C._parsed,M=C._sorted&&c===C.iScale,H=I.length,ee=this._getOtherScale(c),fe=((m,c,g)=>m&&!c.hidden&&c._stacked&&{keys:Sn(this.chart,!0),values:null})(g,C),Oe={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:at,max:wt}=function _t(m){const{min:c,max:g,minDefined:C,maxDefined:I}=m.getUserBounds();return{min:C?c:Number.NEGATIVE_INFINITY,max:I?g:Number.POSITIVE_INFINITY}}(ee);let Vt,nn;function mn(){nn=I[Vt];const Cn=nn[ee.axis];return!ke(nn[c.axis])||at>Cn||wt<Cn}for(Vt=0;Vt<H&&(mn()||(this.updateRangeFromParsed(Oe,c,nn,fe),!M));++Vt);if(M)for(Vt=H-1;Vt>=0;--Vt)if(!mn()){this.updateRangeFromParsed(Oe,c,nn,fe);break}return Oe}getAllParsedValues(c){const g=this._cachedMeta._parsed,C=[];let I,M,H;for(I=0,M=g.length;I<M;++I)H=g[I][c.axis],ke(H)&&C.push(H);return C}getMaxOverflow(){return!1}getLabelAndValue(c){const g=this._cachedMeta,C=g.iScale,I=g.vScale,M=this.getParsed(c);return{label:C?""+C.getLabelForValue(M[C.axis]):"",value:I?""+I.getLabelForValue(M[I.axis]):""}}_update(c){const g=this._cachedMeta;this.update(c||"default"),g._clip=function _n(m){let c,g,C,I;return ge(m)?(c=m.top,g=m.right,C=m.bottom,I=m.left):c=g=C=I=m,{top:c,right:g,bottom:C,left:I,disabled:!1===m}}(yt(this.options.clip,function un(m,c,g){if(!1===g)return!1;const C=Qt(m,g),I=Qt(c,g);return{top:I.end,right:C.end,bottom:I.start,left:C.start}}(g.xScale,g.yScale,this.getMaxOverflow())))}update(c){}draw(){const c=this._ctx,C=this._cachedMeta,I=C.data||[],M=this.chart.chartArea,H=[],ee=this._drawStart||0,fe=this._drawCount||I.length-ee,Oe=this.options.drawActiveElementsOnTop;let at;for(C.dataset&&C.dataset.draw(c,M,ee,fe),at=ee;at<ee+fe;++at){const wt=I[at];wt.hidden||(wt.active&&Oe?H.push(wt):wt.draw(c,M))}for(at=0;at<H.length;++at)H[at].draw(c,M)}getStyle(c,g){const C=g?"active":"default";return void 0===c&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(C):this.resolveDataElementOptions(c||0,C)}getContext(c,g,C){const I=this.getDataset();let M;if(c>=0&&c<this._cachedMeta.data.length){const H=this._cachedMeta.data[c];M=H.$context||(H.$context=function Yn(m,c,g){return Zi(m,{active:!1,dataIndex:c,parsed:void 0,raw:void 0,element:g,index:c,mode:"default",type:"data"})}(this.getContext(),c,H)),M.parsed=this.getParsed(c),M.raw=I.data[c],M.index=M.dataIndex=c}else M=this.$context||(this.$context=function ti(m,c){return Zi(m,{active:!1,dataset:void 0,datasetIndex:c,index:c,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),M.dataset=I,M.index=M.datasetIndex=this.index;return M.active=!!g,M.mode=C,M}resolveDatasetElementOptions(c){return this._resolveElementOptions(this.datasetElementType.id,c)}resolveDataElementOptions(c,g){return this._resolveElementOptions(this.dataElementType.id,g,c)}_resolveElementOptions(c,g="default",C){const I="active"===g,M=this._cachedDataOpts,H=c+"-"+g,ee=M[H],fe=this.enableOptionSharing&&Qe(C);if(ee)return ts(ee,fe);const Oe=this.chart.config,at=Oe.datasetElementScopeKeys(this._type,c),wt=I?[`${c}Hover`,"hover",c,""]:[c,""],Vt=Oe.getOptionScopes(this.getDataset(),at),nn=Object.keys($i.elements[c]),Cn=Oe.resolveNamedOptions(Vt,nn,()=>this.getContext(C,I,g),wt);return Cn.$shared&&(Cn.$shared=fe,M[H]=Object.freeze(ts(Cn,fe))),Cn}_resolveAnimations(c,g,C){const I=this.chart,M=this._cachedDataOpts,H=`animation-${g}`,ee=M[H];if(ee)return ee;let fe;if(!1!==I.options.animation){const at=this.chart.config,wt=at.datasetAnimationScopeKeys(this._type,g),Vt=at.getOptionScopes(this.getDataset(),wt);fe=at.createResolver(Vt,this.getContext(c,C,g))}const Oe=new pe(I,fe&&fe.animations);return fe&&fe._cacheable&&(M[H]=Object.freeze(Oe)),Oe}getSharedOptions(c){if(c.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},c))}includeOptions(c,g){return!g||yo(c)||this.chart._animationsDisabled}_getSharedOptions(c,g){const C=this.resolveDataElementOptions(c,g),I=this._sharedOptions,M=this.getSharedOptions(C),H=this.includeOptions(g,M)||M!==I;return this.updateSharedOptions(M,g,C),{sharedOptions:M,includeOptions:H}}updateElement(c,g,C,I){yo(I)?Object.assign(c,C):this._resolveAnimations(g,I).update(c,C)}updateSharedOptions(c,g,C){c&&!yo(g)&&this._resolveAnimations(void 0,g).update(c,C)}_setStyle(c,g,C,I){c.active=I;const M=this.getStyle(g,I);this._resolveAnimations(g,C,I).update(c,{options:!I&&this.getSharedOptions(M)||M})}removeHoverStyle(c,g,C){this._setStyle(c,C,"active",!1)}setHoverStyle(c,g,C){this._setStyle(c,C,"active",!0)}_removeDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!1)}_setDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!0)}_resyncElements(c){const g=this._data,C=this._cachedMeta.data;for(const[ee,fe,Oe]of this._syncList)this[ee](fe,Oe);this._syncList=[];const I=C.length,M=g.length,H=Math.min(M,I);H&&this.parse(0,H),M>I?this._insertElements(I,M-I,c):M<I&&this._removeElements(M,I-M)}_insertElements(c,g,C=!0){const I=this._cachedMeta,M=I.data,H=c+g;let ee;const fe=Oe=>{for(Oe.length+=g,ee=Oe.length-1;ee>=H;ee--)Oe[ee]=Oe[ee-g]};for(fe(M),ee=c;ee<H;++ee)M[ee]=new this.dataElementType;this._parsing&&fe(I._parsed),this.parse(c,g),C&&this.updateElements(M,c,g,"reset")}updateElements(c,g,C,I){}_removeElements(c,g){const C=this._cachedMeta;if(this._parsing){const I=C._parsed.splice(c,g);C._stacked&&Ai(C,I)}C.data.splice(c,g)}_sync(c){if(this._parsing)this._syncList.push(c);else{const[g,C,I]=c;this[g](C,I)}this.chart._dataChanges.push([this.index,...c])}_onDataPush(){const c=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-c,c])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(c,g){g&&this._sync(["_removeElements",c,g]);const C=arguments.length-2;C&&this._sync(["_insertElements",c,C])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Zo(m){const c=m.iScale,g=function ls(m,c){if(!m._cache.$bar){const g=m.getMatchingVisibleMetas(c);let C=[];for(let I=0,M=g.length;I<M;I++)C=C.concat(g[I].controller.getAllParsedValues(m));m._cache.$bar=vo(C.sort((I,M)=>I-M))}return m._cache.$bar}(c,m.type);let I,M,H,ee,C=c._length;const fe=()=>{32767===H||-32768===H||(Qe(ee)&&(C=Math.min(C,Math.abs(H-ee)||C)),ee=H)};for(I=0,M=g.length;I<M;++I)H=c.getPixelForValue(g[I]),fe();for(ee=void 0,I=0,M=c.ticks.length;I<M;++I)H=c.getPixelForTick(I),fe();return C}function cs(m,c,g,C){return ot(m)?function Hr(m,c,g,C){const I=g.parse(m[0],C),M=g.parse(m[1],C),H=Math.min(I,M),ee=Math.max(I,M);let fe=H,Oe=ee;Math.abs(H)>Math.abs(ee)&&(fe=ee,Oe=H),c[g.axis]=Oe,c._custom={barStart:fe,barEnd:Oe,start:I,end:M,min:H,max:ee}}(m,c,g,C):c[g.axis]=g.parse(m,C),c}function Ca(m,c,g,C){const I=m.iScale,M=m.vScale,H=I.getLabels(),ee=I===M,fe=[];let Oe,at,wt,Vt;for(Oe=g,at=g+C;Oe<at;++Oe)Vt=c[Oe],wt={},wt[I.axis]=ee||I.parse(H[Oe],Oe),fe.push(cs(Vt,wt,M,Oe));return fe}function xi(m){return m&&void 0!==m.barStart&&void 0!==m.barEnd}function no(m,c,g,C){let I=c.borderSkipped;const M={};if(!I)return void(m.borderSkipped=M);if(!0===I)return void(m.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:H,end:ee,reverse:fe,top:Oe,bottom:at}=function Oi(m){let c,g,C,I,M;return m.horizontal?(c=m.base>m.x,g="left",C="right"):(c=m.base<m.y,g="bottom",C="top"),c?(I="end",M="start"):(I="start",M="end"),{start:g,end:C,reverse:c,top:I,bottom:M}}(m);"middle"===I&&g&&(m.enableBorderRadius=!0,(g._top||0)===C?I=Oe:(g._bottom||0)===C?I=at:(M[zo(at,H,ee,fe)]=!0,I=Oe)),M[zo(I,H,ee,fe)]=!0,m.borderSkipped=M}function zo(m,c,g,C){return C?(m=function Ro(m,c,g){return m===c?g:m===g?c:m}(m,c,g),m=Ms(m,g,c)):m=Ms(m,c,g),m}function Ms(m,c,g){return"start"===m?c:"end"===m?g:m}function fr(m,{inflateAmount:c},g){m.inflateAmount="auto"===c?1===g?.33:0:c}Ci(oo,"defaults",{}),Ci(oo,"datasetElementType",null),Ci(oo,"dataElementType",null);class Ao extends oo{parsePrimitiveData(c,g,C,I){return Ca(c,g,C,I)}parseArrayData(c,g,C,I){return Ca(c,g,C,I)}parseObjectData(c,g,C,I){const{iScale:M,vScale:H}=c,{xAxisKey:ee="x",yAxisKey:fe="y"}=this._parsing,Oe="x"===M.axis?ee:fe,at="x"===H.axis?ee:fe,wt=[];let Vt,nn,mn,Cn;for(Vt=C,nn=C+I;Vt<nn;++Vt)Cn=g[Vt],mn={},mn[M.axis]=M.parse(nt(Cn,Oe),Vt),wt.push(cs(nt(Cn,at),mn,H,Vt));return wt}updateRangeFromParsed(c,g,C,I){super.updateRangeFromParsed(c,g,C,I);const M=C._custom;M&&g===this._cachedMeta.vScale&&(c.min=Math.min(c.min,M.min),c.max=Math.max(c.max,M.max))}getMaxOverflow(){return 0}getLabelAndValue(c){const g=this._cachedMeta,{iScale:C,vScale:I}=g,M=this.getParsed(c),H=M._custom,ee=xi(H)?"["+H.start+", "+H.end+"]":""+I.getLabelForValue(M[I.axis]);return{label:""+C.getLabelForValue(M[C.axis]),value:ee}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(c){const g=this._cachedMeta;this.updateElements(g.data,0,g.data.length,c)}updateElements(c,g,C,I){const M="reset"===I,{index:H,_cachedMeta:{vScale:ee}}=this,fe=ee.getBasePixel(),Oe=ee.isHorizontal(),at=this._getRuler(),{sharedOptions:wt,includeOptions:Vt}=this._getSharedOptions(g,I);for(let nn=g;nn<g+C;nn++){const mn=this.getParsed(nn),Cn=M||st(mn[ee.axis])?{base:fe,head:fe}:this._calculateBarValuePixels(nn),In=this._calculateBarIndexPixels(nn,at),Zn=(mn._stacks||{})[ee.axis],Hn={horizontal:Oe,base:Cn.base,enableBorderRadius:!Zn||xi(mn._custom)||H===Zn._top||H===Zn._bottom,x:Oe?Cn.head:In.center,y:Oe?In.center:Cn.head,height:Oe?In.size:Math.abs(Cn.size),width:Oe?Math.abs(Cn.size):In.size};Vt&&(Hn.options=wt||this.resolveDataElementOptions(nn,c[nn].active?"active":I));const Xn=Hn.options||c[nn].options;no(Hn,Xn,Zn,H),fr(Hn,Xn,at.ratio),this.updateElement(c[nn],nn,Hn,I)}}_getStacks(c,g){const{iScale:C}=this._cachedMeta,I=C.getMatchingVisibleMetas(this._type).filter(fe=>fe.controller.options.grouped),M=C.options.stacked,H=[],ee=fe=>{const Oe=fe.controller.getParsed(g),at=Oe&&Oe[fe.vScale.axis];if(st(at)||isNaN(at))return!0};for(const fe of I)if((void 0===g||!ee(fe))&&((!1===M||-1===H.indexOf(fe.stack)||void 0===M&&void 0===fe.stack)&&H.push(fe.stack),fe.index===c))break;return H.length||H.push(void 0),H}_getStackCount(c){return this._getStacks(void 0,c).length}_getStackIndex(c,g,C){const I=this._getStacks(c,C),M=void 0!==g?I.indexOf(g):-1;return-1===M?I.length-1:M}_getRuler(){const c=this.options,g=this._cachedMeta,C=g.iScale,I=[];let M,H;for(M=0,H=g.data.length;M<H;++M)I.push(C.getPixelForValue(this.getParsed(M)[C.axis],M));const ee=c.barThickness;return{min:ee||Zo(g),pixels:I,start:C._startPixel,end:C._endPixel,stackCount:this._getStackCount(),scale:C,grouped:c.grouped,ratio:ee?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(c){const{_cachedMeta:{vScale:g,_stacked:C,index:I},options:{base:M,minBarLength:H}}=this,ee=M||0,fe=this.getParsed(c),Oe=fe._custom,at=xi(Oe);let mn,Cn,wt=fe[g.axis],Vt=0,nn=C?this.applyStack(g,fe,C):wt;nn!==wt&&(Vt=nn-wt,nn=wt),at&&(wt=Oe.barStart,nn=Oe.barEnd-Oe.barStart,0!==wt&&vi(wt)!==vi(Oe.barEnd)&&(Vt=0),Vt+=wt);const In=st(M)||at?Vt:M;let Zn=g.getPixelForValue(In);if(mn=this.chart.getDataVisibility(c)?g.getPixelForValue(Vt+nn):Zn,Cn=mn-Zn,Math.abs(Cn)<H){Cn=function wi(m,c,g){return 0!==m?vi(m):(c.isHorizontal()?1:-1)*(c.min>=g?1:-1)}(Cn,g,ee)*H,wt===ee&&(Zn-=Cn/2);const Hn=g.getPixelForDecimal(0),Xn=g.getPixelForDecimal(1),ni=Math.min(Hn,Xn),Gn=Math.max(Hn,Xn);Zn=Math.max(Math.min(Zn,Gn),ni),mn=Zn+Cn,C&&!at&&(fe._stacks[g.axis]._visualValues[I]=g.getValueForPixel(mn)-g.getValueForPixel(Zn))}if(Zn===g.getPixelForValue(ee)){const Hn=vi(Cn)*g.getLineWidthForValue(ee)/2;Zn+=Hn,Cn-=Hn}return{size:Cn,base:Zn,head:mn,center:mn+Cn/2}}_calculateBarIndexPixels(c,g){const C=g.scale,I=this.options,M=I.skipNull,H=yt(I.maxBarThickness,1/0);let ee,fe;if(g.grouped){const Oe=M?this._getStackCount(c):g.stackCount,at="flex"===I.barThickness?function Mr(m,c,g,C){const I=c.pixels,M=I[m];let H=m>0?I[m-1]:null,ee=m<I.length-1?I[m+1]:null;const fe=g.categoryPercentage;null===H&&(H=M-(null===ee?c.end-c.start:ee-M)),null===ee&&(ee=M+M-H);const Oe=M-(M-Math.min(H,ee))/2*fe;return{chunk:Math.abs(ee-H)/2*fe/C,ratio:g.barPercentage,start:Oe}}(c,g,I,Oe):function er(m,c,g,C){const I=g.barThickness;let M,H;return st(I)?(M=c.min*g.categoryPercentage,H=g.barPercentage):(M=I*C,H=1),{chunk:M/C,ratio:H,start:c.pixels[m]-M/2}}(c,g,I,Oe),wt=this._getStackIndex(this.index,this._cachedMeta.stack,M?c:void 0);ee=at.start+at.chunk*wt+at.chunk/2,fe=Math.min(H,at.chunk*at.ratio)}else ee=C.getPixelForValue(this.getParsed(c)[C.axis],c),fe=Math.min(H,g.min*g.ratio);return{base:ee-fe/2,head:ee+fe/2,center:ee,size:fe}}draw(){const c=this._cachedMeta,g=c.vScale,C=c.data,I=C.length;let M=0;for(;M<I;++M)null!==this.getParsed(M)[g.axis]&&C[M].draw(this._ctx)}}Ci(Ao,"id","bar"),Ci(Ao,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ci(Ao,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ea extends oo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,g,C,I){const M=super.parsePrimitiveData(c,g,C,I);for(let H=0;H<M.length;H++)M[H]._custom=this.resolveDataElementOptions(H+C).radius;return M}parseArrayData(c,g,C,I){const M=super.parseArrayData(c,g,C,I);for(let H=0;H<M.length;H++)M[H]._custom=yt(g[C+H][2],this.resolveDataElementOptions(H+C).radius);return M}parseObjectData(c,g,C,I){const M=super.parseObjectData(c,g,C,I);for(let H=0;H<M.length;H++){const ee=g[C+H];M[H]._custom=yt(ee&&ee.r&&+ee.r,this.resolveDataElementOptions(H+C).radius)}return M}getMaxOverflow(){const c=this._cachedMeta.data;let g=0;for(let C=c.length-1;C>=0;--C)g=Math.max(g,c[C].size(this.resolveDataElementOptions(C))/2);return g>0&&g}getLabelAndValue(c){const g=this._cachedMeta,C=this.chart.data.labels||[],{xScale:I,yScale:M}=g,H=this.getParsed(c),ee=I.getLabelForValue(H.x),fe=M.getLabelForValue(H.y),Oe=H._custom;return{label:C[c]||"",value:"("+ee+", "+fe+(Oe?", "+Oe:"")+")"}}update(c){const g=this._cachedMeta.data;this.updateElements(g,0,g.length,c)}updateElements(c,g,C,I){const M="reset"===I,{iScale:H,vScale:ee}=this._cachedMeta,{sharedOptions:fe,includeOptions:Oe}=this._getSharedOptions(g,I),at=H.axis,wt=ee.axis;for(let Vt=g;Vt<g+C;Vt++){const nn=c[Vt],mn=!M&&this.getParsed(Vt),Cn={},In=Cn[at]=M?H.getPixelForDecimal(.5):H.getPixelForValue(mn[at]),Zn=Cn[wt]=M?ee.getBasePixel():ee.getPixelForValue(mn[wt]);Cn.skip=isNaN(In)||isNaN(Zn),Oe&&(Cn.options=fe||this.resolveDataElementOptions(Vt,nn.active?"active":I),M&&(Cn.options.radius=0)),this.updateElement(nn,Vt,Cn,I)}}resolveDataElementOptions(c,g){const C=this.getParsed(c);let I=super.resolveDataElementOptions(c,g);I.$shared&&(I=Object.assign({},I,{$shared:!1}));const M=I.radius;return"active"!==g&&(I.radius=0),I.radius+=yt(C&&C._custom,M),I}}Ci(ea,"id","bubble"),Ci(ea,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ci(ea,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class No extends oo{constructor(c,g){super(c,g),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(c,g){const C=this.getDataset().data,I=this._cachedMeta;if(!1===this._parsing)I._parsed=C;else{let H,ee,M=fe=>+C[fe];if(ge(C[c])){const{key:fe="value"}=this._parsing;M=Oe=>+nt(C[Oe],fe)}for(H=c,ee=c+g;H<ee;++H)I._parsed[H]=M(H)}}_getRotation(){return He(this.options.rotation-90)}_getCircumference(){return He(this.options.circumference)}_getRotationExtents(){let c=gn,g=-gn;for(let C=0;C<this.chart.data.datasets.length;++C)if(this.chart.isDatasetVisible(C)&&this.chart.getDatasetMeta(C).type===this._type){const I=this.chart.getDatasetMeta(C).controller,M=I._getRotation(),H=I._getCircumference();c=Math.min(c,M),g=Math.max(g,M+H)}return{rotation:c,circumference:g-c}}update(c){const g=this.chart,{chartArea:C}=g,I=this._cachedMeta,M=I.data,H=this.getMaxBorderWidth()+this.getMaxOffset(M)+this.options.spacing,ee=Math.max((Math.min(C.width,C.height)-H)/2,0),fe=Math.min(((m,c)=>"string"==typeof m&&m.endsWith("%")?parseFloat(m)/100:+m/c)(this.options.cutout,ee),1),Oe=this._getRingWeight(this.index),{circumference:at,rotation:wt}=this._getRotationExtents(),{ratioX:Vt,ratioY:nn,offsetX:mn,offsetY:Cn}=function sl(m,c,g){let C=1,I=1,M=0,H=0;if(c<gn){const ee=m,fe=ee+c,Oe=Math.cos(ee),at=Math.sin(ee),wt=Math.cos(fe),Vt=Math.sin(fe),nn=(Xn,ni,Gn)=>Wn(Xn,ee,fe,!0)?1:Math.max(ni,ni*g,Gn,Gn*g),mn=(Xn,ni,Gn)=>Wn(Xn,ee,fe,!0)?-1:Math.min(ni,ni*g,Gn,Gn*g),Cn=nn(0,Oe,wt),In=nn(rn,at,Vt),Zn=mn($t,Oe,wt),Hn=mn($t+rn,at,Vt);C=(Cn-Zn)/2,I=(In-Hn)/2,M=-(Cn+Zn)/2,H=-(In+Hn)/2}return{ratioX:C,ratioY:I,offsetX:M,offsetY:H}}(wt,at,fe),Hn=Math.max(Math.min((C.width-H)/Vt,(C.height-H)/nn)/2,0),Xn=Ht(this.options.radius,Hn),Gn=(Xn-Math.max(Xn*fe,0))/this._getVisibleDatasetWeightTotal();this.offsetX=mn*Xn,this.offsetY=Cn*Xn,I.total=this.calculateTotal(),this.outerRadius=Xn-Gn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Gn*Oe,0),this.updateElements(M,0,M.length,c)}_circumference(c,g){const C=this.options,I=this._cachedMeta,M=this._getCircumference();return g&&C.animation.animateRotate||!this.chart.getDataVisibility(c)||null===I._parsed[c]||I.data[c].hidden?0:this.calculateCircumference(I._parsed[c]*M/gn)}updateElements(c,g,C,I){const M="reset"===I,H=this.chart,ee=H.chartArea,at=(ee.left+ee.right)/2,wt=(ee.top+ee.bottom)/2,Vt=M&&H.options.animation.animateScale,nn=Vt?0:this.innerRadius,mn=Vt?0:this.outerRadius,{sharedOptions:Cn,includeOptions:In}=this._getSharedOptions(g,I);let Hn,Zn=this._getRotation();for(Hn=0;Hn<g;++Hn)Zn+=this._circumference(Hn,M);for(Hn=g;Hn<g+C;++Hn){const Xn=this._circumference(Hn,M),ni=c[Hn],Gn={x:at+this.offsetX,y:wt+this.offsetY,startAngle:Zn,endAngle:Zn+Xn,circumference:Xn,outerRadius:mn,innerRadius:nn};In&&(Gn.options=Cn||this.resolveDataElementOptions(Hn,ni.active?"active":I)),Zn+=Xn,this.updateElement(ni,Hn,Gn,I)}}calculateTotal(){const c=this._cachedMeta,g=c.data;let I,C=0;for(I=0;I<g.length;I++){const M=c._parsed[I];null!==M&&!isNaN(M)&&this.chart.getDataVisibility(I)&&!g[I].hidden&&(C+=Math.abs(M))}return C}calculateCircumference(c){const g=this._cachedMeta.total;return g>0&&!isNaN(c)?gn*(Math.abs(c)/g):0}getLabelAndValue(c){const C=this.chart,I=C.data.labels||[],M=Ks(this._cachedMeta._parsed[c],C.options.locale);return{label:I[c]||"",value:M}}getMaxBorderWidth(c){let g=0;const C=this.chart;let I,M,H,ee,fe;if(!c)for(I=0,M=C.data.datasets.length;I<M;++I)if(C.isDatasetVisible(I)){H=C.getDatasetMeta(I),c=H.data,ee=H.controller;break}if(!c)return 0;for(I=0,M=c.length;I<M;++I)fe=ee.resolveDataElementOptions(I),"inner"!==fe.borderAlign&&(g=Math.max(g,fe.borderWidth||0,fe.hoverBorderWidth||0));return g}getMaxOffset(c){let g=0;for(let C=0,I=c.length;C<I;++C){const M=this.resolveDataElementOptions(C);g=Math.max(g,M.offset||0,M.hoverOffset||0)}return g}_getRingWeightOffset(c){let g=0;for(let C=0;C<c;++C)this.chart.isDatasetVisible(C)&&(g+=this._getRingWeight(C));return g}_getRingWeight(c){return Math.max(yt(this.chart.data.datasets[c].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ci(No,"id","doughnut"),Ci(No,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ci(No,"descriptors",{_scriptable:c=>"spacing"!==c,_indexable:c=>"spacing"!==c&&!c.startsWith("borderDash")&&!c.startsWith("hoverBorderDash")}),Ci(No,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const g=c.data;if(g.labels.length&&g.datasets.length){const{labels:{pointStyle:C,color:I}}=c.legend.options;return g.labels.map((M,H)=>{const fe=c.getDatasetMeta(0).controller.getStyle(H);return{text:M,fillStyle:fe.backgroundColor,strokeStyle:fe.borderColor,fontColor:I,lineWidth:fe.borderWidth,pointStyle:C,hidden:!c.getDataVisibility(H),index:H}})}return[]}},onClick(c,g,C){C.chart.toggleDataVisibility(g.index),C.chart.update()}}}});class Vr extends oo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(c){const g=this._cachedMeta,{dataset:C,data:I=[],_dataset:M}=g,H=this.chart._animationsDisabled;let{start:ee,count:fe}=Cs(g,I,H);this._drawStart=ee,this._drawCount=fe,po(g)&&(ee=0,fe=I.length),C._chart=this.chart,C._datasetIndex=this.index,C._decimated=!!M._decimated,C.points=I;const Oe=this.resolveDatasetElementOptions(c);this.options.showLine||(Oe.borderWidth=0),Oe.segment=this.options.segment,this.updateElement(C,void 0,{animated:!H,options:Oe},c),this.updateElements(I,ee,fe,c)}updateElements(c,g,C,I){const M="reset"===I,{iScale:H,vScale:ee,_stacked:fe,_dataset:Oe}=this._cachedMeta,{sharedOptions:at,includeOptions:wt}=this._getSharedOptions(g,I),Vt=H.axis,nn=ee.axis,{spanGaps:mn,segment:Cn}=this.options,In=zt(mn)?mn:Number.POSITIVE_INFINITY,Zn=this.chart._animationsDisabled||M||"none"===I,Hn=g+C,Xn=c.length;let ni=g>0&&this.getParsed(g-1);for(let Gn=0;Gn<Xn;++Gn){const ci=c[Gn],di=Zn?ci:{};if(Gn<g||Gn>=Hn){di.skip=!0;continue}const hi=this.getParsed(Gn),Fi=st(hi[nn]),ro=di[Vt]=H.getPixelForValue(hi[Vt],Gn),Wi=di[nn]=M||Fi?ee.getBasePixel():ee.getPixelForValue(fe?this.applyStack(ee,hi,fe):hi[nn],Gn);di.skip=isNaN(ro)||isNaN(Wi)||Fi,di.stop=Gn>0&&Math.abs(hi[Vt]-ni[Vt])>In,Cn&&(di.parsed=hi,di.raw=Oe.data[Gn]),wt&&(di.options=at||this.resolveDataElementOptions(Gn,ci.active?"active":I)),Zn||this.updateElement(ci,Gn,di,I),ni=hi}}getMaxOverflow(){const c=this._cachedMeta,g=c.dataset,C=g.options&&g.options.borderWidth||0,I=c.data||[];if(!I.length)return C;const M=I[0].size(this.resolveDataElementOptions(0)),H=I[I.length-1].size(this.resolveDataElementOptions(I.length-1));return Math.max(C,M,H)/2}draw(){const c=this._cachedMeta;c.dataset.updateControlPoints(this.chart.chartArea,c.iScale.axis),super.draw()}}Ci(Vr,"id","line"),Ci(Vr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ci(Vr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Qs extends oo{constructor(c,g){super(c,g),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(c){const C=this.chart,I=C.data.labels||[],M=Ks(this._cachedMeta._parsed[c].r,C.options.locale);return{label:I[c]||"",value:M}}parseObjectData(c,g,C,I){return zs.bind(this)(c,g,C,I)}update(c){const g=this._cachedMeta.data;this._updateRadius(),this.updateElements(g,0,g.length,c)}getMinMax(){const g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((C,I)=>{const M=this.getParsed(I).r;!isNaN(M)&&this.chart.getDataVisibility(I)&&(M<g.min&&(g.min=M),M>g.max&&(g.max=M))}),g}_updateRadius(){const c=this.chart,g=c.chartArea,C=c.options,I=Math.min(g.right-g.left,g.bottom-g.top),M=Math.max(I/2,0),ee=(M-Math.max(C.cutoutPercentage?M/100*C.cutoutPercentage:1,0))/c.getVisibleDatasetCount();this.outerRadius=M-ee*this.index,this.innerRadius=this.outerRadius-ee}updateElements(c,g,C,I){const M="reset"===I,H=this.chart,fe=H.options.animation,Oe=this._cachedMeta.rScale,at=Oe.xCenter,wt=Oe.yCenter,Vt=Oe.getIndexAngle(0)-.5*$t;let mn,nn=Vt;const Cn=360/this.countVisibleElements();for(mn=0;mn<g;++mn)nn+=this._computeAngle(mn,I,Cn);for(mn=g;mn<g+C;mn++){const In=c[mn];let Zn=nn,Hn=nn+this._computeAngle(mn,I,Cn),Xn=H.getDataVisibility(mn)?Oe.getDistanceFromCenterForValue(this.getParsed(mn).r):0;nn=Hn,M&&(fe.animateScale&&(Xn=0),fe.animateRotate&&(Zn=Hn=Vt));const ni={x:at,y:wt,innerRadius:0,outerRadius:Xn,startAngle:Zn,endAngle:Hn,options:this.resolveDataElementOptions(mn,In.active?"active":I)};this.updateElement(In,mn,ni,I)}}countVisibleElements(){let g=0;return this._cachedMeta.data.forEach((C,I)=>{!isNaN(this.getParsed(I).r)&&this.chart.getDataVisibility(I)&&g++}),g}_computeAngle(c,g,C){return this.chart.getDataVisibility(c)?He(this.resolveDataElementOptions(c,g).angle||C):0}}Ci(Qs,"id","polarArea"),Ci(Qs,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ci(Qs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const g=c.data;if(g.labels.length&&g.datasets.length){const{labels:{pointStyle:C,color:I}}=c.legend.options;return g.labels.map((M,H)=>{const fe=c.getDatasetMeta(0).controller.getStyle(H);return{text:M,fillStyle:fe.backgroundColor,strokeStyle:fe.borderColor,fontColor:I,lineWidth:fe.borderWidth,pointStyle:C,hidden:!c.getDataVisibility(H),index:H}})}return[]}},onClick(c,g,C){C.chart.toggleDataVisibility(g.index),C.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class va extends No{}Ci(va,"id","pie"),Ci(va,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ea extends oo{getLabelAndValue(c){const g=this._cachedMeta.vScale,C=this.getParsed(c);return{label:g.getLabels()[c],value:""+g.getLabelForValue(C[g.axis])}}parseObjectData(c,g,C,I){return zs.bind(this)(c,g,C,I)}update(c){const g=this._cachedMeta,C=g.dataset,I=g.data||[],M=g.iScale.getLabels();if(C.points=I,"resize"!==c){const H=this.resolveDatasetElementOptions(c);this.options.showLine||(H.borderWidth=0),this.updateElement(C,void 0,{_loop:!0,_fullLoop:M.length===I.length,options:H},c)}this.updateElements(I,0,I.length,c)}updateElements(c,g,C,I){const M=this._cachedMeta.rScale,H="reset"===I;for(let ee=g;ee<g+C;ee++){const fe=c[ee],Oe=this.resolveDataElementOptions(ee,fe.active?"active":I),at=M.getPointPositionForValue(ee,this.getParsed(ee).r),wt=H?M.xCenter:at.x,Vt=H?M.yCenter:at.y,nn={x:wt,y:Vt,angle:at.angle,skip:isNaN(wt)||isNaN(Vt),options:Oe};this.updateElement(fe,ee,nn,I)}}}Ci(Ea,"id","radar"),Ci(Ea,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ci(Ea,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Oa extends oo{getLabelAndValue(c){const g=this._cachedMeta,C=this.chart.data.labels||[],{xScale:I,yScale:M}=g,H=this.getParsed(c),ee=I.getLabelForValue(H.x),fe=M.getLabelForValue(H.y);return{label:C[c]||"",value:"("+ee+", "+fe+")"}}update(c){const g=this._cachedMeta,{data:C=[]}=g,I=this.chart._animationsDisabled;let{start:M,count:H}=Cs(g,C,I);if(this._drawStart=M,this._drawCount=H,po(g)&&(M=0,H=C.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:ee,_dataset:fe}=g;ee._chart=this.chart,ee._datasetIndex=this.index,ee._decimated=!!fe._decimated,ee.points=C;const Oe=this.resolveDatasetElementOptions(c);Oe.segment=this.options.segment,this.updateElement(ee,void 0,{animated:!I,options:Oe},c)}else this.datasetElementType&&(delete g.dataset,this.datasetElementType=!1);this.updateElements(C,M,H,c)}addElements(){const{showLine:c}=this.options;!this.datasetElementType&&c&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(c,g,C,I){const M="reset"===I,{iScale:H,vScale:ee,_stacked:fe,_dataset:Oe}=this._cachedMeta,at=this.resolveDataElementOptions(g,I),wt=this.getSharedOptions(at),Vt=this.includeOptions(I,wt),nn=H.axis,mn=ee.axis,{spanGaps:Cn,segment:In}=this.options,Zn=zt(Cn)?Cn:Number.POSITIVE_INFINITY,Hn=this.chart._animationsDisabled||M||"none"===I;let Xn=g>0&&this.getParsed(g-1);for(let ni=g;ni<g+C;++ni){const Gn=c[ni],ci=this.getParsed(ni),di=Hn?Gn:{},hi=st(ci[mn]),Fi=di[nn]=H.getPixelForValue(ci[nn],ni),ro=di[mn]=M||hi?ee.getBasePixel():ee.getPixelForValue(fe?this.applyStack(ee,ci,fe):ci[mn],ni);di.skip=isNaN(Fi)||isNaN(ro)||hi,di.stop=ni>0&&Math.abs(ci[nn]-Xn[nn])>Zn,In&&(di.parsed=ci,di.raw=Oe.data[ni]),Vt&&(di.options=wt||this.resolveDataElementOptions(ni,Gn.active?"active":I)),Hn||this.updateElement(Gn,ni,di,I),Xn=ci}this.updateSharedOptions(wt,I,at)}getMaxOverflow(){const c=this._cachedMeta,g=c.data||[];if(!this.options.showLine){let ee=0;for(let fe=g.length-1;fe>=0;--fe)ee=Math.max(ee,g[fe].size(this.resolveDataElementOptions(fe))/2);return ee>0&&ee}const C=c.dataset,I=C.options&&C.options.borderWidth||0;if(!g.length)return I;const M=g[0].size(this.resolveDataElementOptions(0)),H=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(I,M,H)/2}}Ci(Oa,"id","scatter"),Ci(Oa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ci(Oa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var rl=Object.freeze({__proto__:null,BarController:Ao,BubbleController:ea,DoughnutController:No,LineController:Vr,PieController:va,PolarAreaController:Qs,RadarController:Ea,ScatterController:Oa});function rr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pa{constructor(c){Ci(this,"options"),this.options=c||{}}static override(c){Object.assign(Pa.prototype,c)}init(){}formats(){return rr()}parse(){return rr()}format(){return rr()}add(){return rr()}diff(){return rr()}startOf(){return rr()}endOf(){return rr()}}var La__date=Pa;function Ra(m,c,g,C){const{controller:I,data:M,_sorted:H}=m,ee=I._cachedMeta.iScale;if(ee&&c===ee.axis&&"r"!==c&&H&&M.length){const fe=ee._reversePixels?Oo:qi;if(!C)return fe(M,c,g);if(I._sharedOptions){const Oe=M[0],at="function"==typeof Oe.getRange&&Oe.getRange(c);if(at){const wt=fe(M,c,g-at),Vt=fe(M,c,g+at);return{lo:wt.lo,hi:Vt.hi}}}}return{lo:0,hi:M.length-1}}function ba(m,c,g,C,I){const M=m.getSortedVisibleDatasetMetas(),H=g[c];for(let ee=0,fe=M.length;ee<fe;++ee){const{index:Oe,data:at}=M[ee],{lo:wt,hi:Vt}=Ra(M[ee],c,H,I);for(let nn=wt;nn<=Vt;++nn){const mn=at[nn];mn.skip||C(mn,Oe,nn)}}}function Ul(m,c,g,C,I){const M=[];return!I&&!m.isPointInArea(c)||ba(m,g,c,function(ee,fe,Oe){!I&&!ys(ee,m.chartArea,0)||ee.inRange(c.x,c.y,C)&&M.push({element:ee,datasetIndex:fe,index:Oe})},!0),M}function _c(m,c,g,C,I,M){return M||m.isPointInArea(c)?"r"!==g||C?function Fo(m,c,g,C,I,M){let H=[];const ee=function al(m){const c=-1!==m.indexOf("x"),g=-1!==m.indexOf("y");return function(C,I){const M=c?Math.abs(C.x-I.x):0,H=g?Math.abs(C.y-I.y):0;return Math.sqrt(Math.pow(M,2)+Math.pow(H,2))}}(g);let fe=Number.POSITIVE_INFINITY;return ba(m,g,c,function Oe(at,wt,Vt){const nn=at.inRange(c.x,c.y,I);if(C&&!nn)return;const mn=at.getCenterPoint(I);if(!M&&!m.isPointInArea(mn)&&!nn)return;const In=ee(c,mn);In<fe?(H=[{element:at,datasetIndex:wt,index:Vt}],fe=In):In===fe&&H.push({element:at,datasetIndex:wt,index:Vt})}),H}(m,c,g,C,I,M):function mc(m,c,g,C){let I=[];return ba(m,g,c,function M(H,ee,fe){const{startAngle:Oe,endAngle:at}=H.getProps(["startAngle","endAngle"],C),{angle:wt}=xn(H,{x:c.x,y:c.y});Wn(wt,Oe,at)&&I.push({element:H,datasetIndex:ee,index:fe})}),I}(m,c,g,I):[]}function Yc(m,c,g,C,I){const M=[],H="x"===g?"inXRange":"inYRange";let ee=!1;return ba(m,g,c,(fe,Oe,at)=>{fe[H](c[g],I)&&(M.push({element:fe,datasetIndex:Oe,index:at}),ee=ee||fe.inRange(c.x,c.y,I))}),C&&!ee?[]:M}var zu={evaluateInteractionItems:ba,modes:{index(m,c,g,C){const I=$s(c,m),M=g.axis||"x",H=g.includeInvisible||!1,ee=g.intersect?Ul(m,I,M,C,H):_c(m,I,M,!1,C,H),fe=[];return ee.length?(m.getSortedVisibleDatasetMetas().forEach(Oe=>{const at=ee[0].index,wt=Oe.data[at];wt&&!wt.skip&&fe.push({element:wt,datasetIndex:Oe.index,index:at})}),fe):[]},dataset(m,c,g,C){const I=$s(c,m),M=g.axis||"xy",H=g.includeInvisible||!1;let ee=g.intersect?Ul(m,I,M,C,H):_c(m,I,M,!1,C,H);if(ee.length>0){const fe=ee[0].datasetIndex,Oe=m.getDatasetMeta(fe).data;ee=[];for(let at=0;at<Oe.length;++at)ee.push({element:Oe[at],datasetIndex:fe,index:at})}return ee},point:(m,c,g,C)=>Ul(m,$s(c,m),g.axis||"xy",C,g.includeInvisible||!1),nearest:(m,c,g,C)=>_c(m,$s(c,m),g.axis||"xy",g.intersect,C,g.includeInvisible||!1),x:(m,c,g,C)=>Yc(m,$s(c,m),"x",g.intersect,C),y:(m,c,g,C)=>Yc(m,$s(c,m),"y",g.intersect,C)}};const Cc=["left","top","right","bottom"];function Tl(m,c){return m.filter(g=>g.pos===c)}function Ju(m,c){return m.filter(g=>-1===Cc.indexOf(g.pos)&&g.box.axis===c)}function Or(m,c){return m.sort((g,C)=>{const I=c?C:g,M=c?g:C;return I.weight===M.weight?I.index-M.index:I.weight-M.weight})}function Al(m,c,g,C){return Math.max(m[g],c[g])+Math.max(m[C],c[C])}function Va(m,c){m.top=Math.max(m.top,c.top),m.left=Math.max(m.left,c.left),m.bottom=Math.max(m.bottom,c.bottom),m.right=Math.max(m.right,c.right)}function Kc(m,c,g,C){const{pos:I,box:M}=g,H=m.maxPadding;if(!ge(I)){g.size&&(m[I]-=g.size);const wt=C[g.stack]||{size:0,count:1};wt.size=Math.max(wt.size,g.horizontal?M.height:M.width),g.size=wt.size/wt.count,m[I]+=g.size}M.getPadding&&Va(H,M.getPadding());const ee=Math.max(0,c.outerWidth-Al(H,m,"left","right")),fe=Math.max(0,c.outerHeight-Al(H,m,"top","bottom")),Oe=ee!==m.w,at=fe!==m.h;return m.w=ee,m.h=fe,g.horizontal?{same:Oe,other:at}:{same:at,other:Oe}}function zr(m,c){const g=c.maxPadding;return function C(I){const M={left:0,top:0,right:0,bottom:0};return I.forEach(H=>{M[H]=Math.max(c[H],g[H])}),M}(m?["left","right"]:["top","bottom"])}function mr(m,c,g,C){const I=[];let M,H,ee,fe,Oe,at;for(M=0,H=m.length,Oe=0;M<H;++M){ee=m[M],fe=ee.box,fe.update(ee.width||c.w,ee.height||c.h,zr(ee.horizontal,c));const{same:wt,other:Vt}=Kc(c,g,ee,C);Oe|=wt&&I.length,at=at||Vt,fe.fullSize||I.push(ee)}return Oe&&mr(I,c,g,C)||at}function Na(m,c,g,C,I){m.top=g,m.left=c,m.right=c+C,m.bottom=g+I,m.width=C,m.height=I}function za(m,c,g,C){const I=g.padding;let{x:M,y:H}=c;for(const ee of m){const fe=ee.box,Oe=C[ee.stack]||{count:1,placed:0,weight:1},at=ee.stackWeight/Oe.weight||1;if(ee.horizontal){const wt=c.w*at,Vt=Oe.size||fe.height;Qe(Oe.start)&&(H=Oe.start),fe.fullSize?Na(fe,I.left,H,g.outerWidth-I.right-I.left,Vt):Na(fe,c.left+Oe.placed,H,wt,Vt),Oe.start=H,Oe.placed+=wt,H=fe.bottom}else{const wt=c.h*at,Vt=Oe.size||fe.width;Qe(Oe.start)&&(M=Oe.start),fe.fullSize?Na(fe,M,I.top,Vt,g.outerHeight-I.bottom-I.top):Na(fe,M,c.top+Oe.placed,Vt,wt),Oe.start=M,Oe.placed+=wt,M=fe.right}}c.x=M,c.y=H}var Ps={addBox(m,c){m.boxes||(m.boxes=[]),c.fullSize=c.fullSize||!1,c.position=c.position||"top",c.weight=c.weight||0,c._layers=c._layers||function(){return[{z:0,draw(g){c.draw(g)}}]},m.boxes.push(c)},removeBox(m,c){const g=m.boxes?m.boxes.indexOf(c):-1;-1!==g&&m.boxes.splice(g,1)},configure(m,c,g){c.fullSize=g.fullSize,c.position=g.position,c.weight=g.weight},update(m,c,g,C){if(!m)return;const I=Jt(m.options.layout.padding),M=Math.max(c-I.width,0),H=Math.max(g-I.height,0),ee=function Os(m){const c=function ll(m){const c=[];let g,C,I,M,H,ee;for(g=0,C=(m||[]).length;g<C;++g)I=m[g],({position:M,options:{stack:H,stackWeight:ee=1}}=I),c.push({index:g,box:I,pos:M,horizontal:I.isHorizontal(),weight:I.weight,stack:H&&M+H,stackWeight:ee});return c}(m),g=Or(c.filter(Oe=>Oe.box.fullSize),!0),C=Or(Tl(c,"left"),!0),I=Or(Tl(c,"right")),M=Or(Tl(c,"top"),!0),H=Or(Tl(c,"bottom")),ee=Ju(c,"x"),fe=Ju(c,"y");return{fullSize:g,leftAndTop:C.concat(M),rightAndBottom:I.concat(fe).concat(H).concat(ee),chartArea:Tl(c,"chartArea"),vertical:C.concat(I).concat(fe),horizontal:M.concat(H).concat(ee)}}(m.boxes),fe=ee.vertical,Oe=ee.horizontal;Ye(m.boxes,Cn=>{"function"==typeof Cn.beforeLayout&&Cn.beforeLayout()});const at=fe.reduce((Cn,In)=>In.box.options&&!1===In.box.options.display?Cn:Cn+1,0)||1,wt=Object.freeze({outerWidth:c,outerHeight:g,padding:I,availableWidth:M,availableHeight:H,vBoxMaxWidth:M/2/at,hBoxMaxHeight:H/2}),Vt=Object.assign({},I);Va(Vt,Jt(C));const nn=Object.assign({maxPadding:Vt,w:M,h:H,x:I.left,y:I.top},I),mn=function Qu(m,c){const g=function jc(m){const c={};for(const g of m){const{stack:C,pos:I,stackWeight:M}=g;if(!C||!Cc.includes(I))continue;const H=c[C]||(c[C]={count:0,placed:0,weight:0,size:0});H.count++,H.weight+=M}return c}(m),{vBoxMaxWidth:C,hBoxMaxHeight:I}=c;let M,H,ee;for(M=0,H=m.length;M<H;++M){ee=m[M];const{fullSize:fe}=ee.box,Oe=g[ee.stack],at=Oe&&ee.stackWeight/Oe.weight;ee.horizontal?(ee.width=at?at*C:fe&&c.availableWidth,ee.height=I):(ee.width=C,ee.height=at?at*I:fe&&c.availableHeight)}return g}(fe.concat(Oe),wt);mr(ee.fullSize,nn,wt,mn),mr(fe,nn,wt,mn),mr(Oe,nn,wt,mn)&&mr(fe,nn,wt,mn),function Hl(m){const c=m.maxPadding;function g(C){const I=Math.max(c[C]-m[C],0);return m[C]+=I,I}m.y+=g("top"),m.x+=g("left"),g("right"),g("bottom")}(nn),za(ee.leftAndTop,nn,wt,mn),nn.x+=nn.w,nn.y+=nn.h,za(ee.rightAndBottom,nn,wt,mn),m.chartArea={left:nn.left,top:nn.top,right:nn.left+nn.w,bottom:nn.top+nn.h,height:nn.h,width:nn.w},Ye(ee.chartArea,Cn=>{const In=Cn.box;Object.assign(In,m.chartArea),In.update(nn.w,nn.h,{left:0,top:0,right:0,bottom:0})})}};class me{acquireContext(c,g){}releaseContext(c){return!1}addEventListener(c,g,C){}removeEventListener(c,g,C){}getDevicePixelRatio(){return 1}getMaximumSize(c,g,C,I){return g=Math.max(0,g||c.width),C=C||c.height,{width:g,height:Math.max(0,I?Math.floor(g/I):C)}}isAttached(c){return!0}updateConfig(c){}}class ve extends me{acquireContext(c){return c&&c.getContext&&c.getContext("2d")||null}updateConfig(c){c.options.animation=!1}}const le="$chartjs",Me={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tt=m=>null===m||""===m,en=!!or&&{passive:!0};function wn(m,c,g){m.canvas.removeEventListener(c,g,en)}function bi(m,c){for(const g of m)if(g===c||g.contains(c))return!0}function pi(m,c,g){const C=m.canvas,I=new MutationObserver(M=>{let H=!1;for(const ee of M)H=H||bi(ee.addedNodes,C),H=H&&!bi(ee.removedNodes,C);H&&g()});return I.observe(document,{childList:!0,subtree:!0}),I}function Ki(m,c,g){const C=m.canvas,I=new MutationObserver(M=>{let H=!1;for(const ee of M)H=H||bi(ee.removedNodes,C),H=H&&!bi(ee.addedNodes,C);H&&g()});return I.observe(document,{childList:!0,subtree:!0}),I}const so=new Map;let Gs=0;function Jr(){const m=window.devicePixelRatio;m!==Gs&&(Gs=m,so.forEach((c,g)=>{g.currentDevicePixelRatio!==m&&c()}))}function pa(m,c,g){const C=m.canvas,I=C&&De(C);if(!I)return;const M=us((ee,fe)=>{const Oe=I.clientWidth;g(ee,fe),Oe<I.clientWidth&&g()},window),H=new ResizeObserver(ee=>{const fe=ee[0],Oe=fe.contentRect.width,at=fe.contentRect.height;0===Oe&&0===at||M(Oe,at)});return H.observe(I),function ta(m,c){so.size||window.addEventListener("resize",Jr),so.set(m,c)}(m,M),H}function Vl(m,c,g){g&&g.disconnect(),"resize"===c&&function na(m){so.delete(m),so.size||window.removeEventListener("resize",Jr)}(m)}function _r(m,c,g){const C=m.canvas,I=us(M=>{null!==m.ctx&&g(function oi(m,c){const g=Me[m.type]||m.type,{x:C,y:I}=$s(m,c);return{type:g,chart:c,native:m,x:void 0!==C?C:null,y:void 0!==I?I:null}}(M,m))},m);return function sn(m,c,g){m.addEventListener(c,g,en)}(C,c,I),I}class zl extends me{acquireContext(c,g){const C=c&&c.getContext&&c.getContext("2d");return C&&C.canvas===c?(function St(m,c){const g=m.style,C=m.getAttribute("height"),I=m.getAttribute("width");if(m[le]={initial:{height:C,width:I,style:{display:g.display,height:g.height,width:g.width}}},g.display=g.display||"block",g.boxSizing=g.boxSizing||"border-box",tt(I)){const M=Ur(m,"width");void 0!==M&&(m.width=M)}if(tt(C))if(""===m.style.height)m.height=m.width/(c||2);else{const M=Ur(m,"height");void 0!==M&&(m.height=M)}}(c,g),C):null}releaseContext(c){const g=c.canvas;if(!g[le])return!1;const C=g[le].initial;["height","width"].forEach(M=>{const H=C[M];st(H)?g.removeAttribute(M):g.setAttribute(M,H)});const I=C.style||{};return Object.keys(I).forEach(M=>{g.style[M]=I[M]}),g.width=g.width,delete g[le],!0}addEventListener(c,g,C){this.removeEventListener(c,g),(c.$proxies||(c.$proxies={}))[g]=({attach:pi,detach:Ki,resize:pa}[g]||_r)(c,g,C)}removeEventListener(c,g){const C=c.$proxies||(c.$proxies={}),I=C[g];I&&(({attach:Vl,detach:Vl,resize:Vl}[g]||wn)(c,g,I),C[g]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(c,g,C,I){return function Kr(m,c,g,C){const I=Ln(m),M=_o(I,"margin"),H=Mt(I.maxWidth,m,"clientWidth")||Mn,ee=Mt(I.maxHeight,m,"clientHeight")||Mn,fe=function pr(m,c,g){let C,I;if(void 0===c||void 0===g){const M=De(m);if(M){const H=M.getBoundingClientRect(),ee=Ln(M),fe=_o(ee,"border","width"),Oe=_o(ee,"padding");c=H.width-Oe.width-fe.width,g=H.height-Oe.height-fe.height,C=Mt(ee.maxWidth,M,"clientWidth"),I=Mt(ee.maxHeight,M,"clientHeight")}else c=m.clientWidth,g=m.clientHeight}return{width:c,height:g,maxWidth:C||Mn,maxHeight:I||Mn}}(m,c,g);let{width:Oe,height:at}=fe;if("content-box"===I.boxSizing){const Vt=_o(I,"border","width"),nn=_o(I,"padding");Oe-=nn.width+Vt.width,at-=nn.height+Vt.height}return Oe=Math.max(0,Oe-M.width),at=Math.max(0,C?Oe/C:at-M.height),Oe=Dr(Math.min(Oe,H,fe.maxWidth)),at=Dr(Math.min(at,ee,fe.maxHeight)),Oe&&!at&&(at=Dr(Oe/2)),(void 0!==c||void 0!==g)&&C&&fe.height&&at>fe.height&&(at=fe.height,Oe=Dr(Math.floor(at*C))),{width:Oe,height:at}}(c,g,C,I)}isAttached(c){const g=De(c);return!(!g||!g.isConnected)}}class ya{constructor(){Ci(this,"x"),Ci(this,"y"),Ci(this,"active",!1),Ci(this,"options"),Ci(this,"$animations")}tooltipPosition(c){const{x:g,y:C}=this.getProps(["x","y"],c);return{x:g,y:C}}hasValue(){return zt(this.x)&&zt(this.y)}getProps(c,g){const C=this.$animations;if(!g||!C)return this;const I={};return c.forEach(M=>{I[M]=C[M]&&C[M].active()?C[M]._to:this[M]}),I}}function bc(m,c,g,C,I){const M=yt(C,0),H=Math.min(yt(I,m.length),m.length);let fe,Oe,at,ee=0;for(g=Math.ceil(g),I&&(fe=I-C,g=fe/Math.floor(fe/g)),at=M;at<0;)ee++,at=Math.round(M+ee*g);for(Oe=Math.max(M,0);Oe<H;Oe++)Oe===at&&(c.push(m[Oe]),ee++,at=Math.round(M+ee*g))}Ci(ya,"defaults",{}),Ci(ya,"defaultRoutes");const Xc=(m,c,g)=>"top"===c||"left"===c?m[c]+g:m[c]-g,yc=(m,c)=>Math.min(c||m,m);function cl(m,c){const g=[],C=m.length/c,I=m.length;let M=0;for(;M<I;M+=C)g.push(m[Math.floor(M)]);return g}function $d(m,c,g){const C=m.ticks.length,I=Math.min(c,C-1),M=m._startPixel,H=m._endPixel;let Oe,fe=m.getPixelForTick(I);if(!(g&&(Oe=1===C?Math.max(fe-M,H-fe):0===c?(m.getPixelForTick(1)-fe)/2:(fe-m.getPixelForTick(I-1))/2,fe+=I<c?Oe:-Oe,fe<M-1e-6||fe>H+1e-6)))return fe}function Jl(m){return m.drawTicks?m.tickLength:0}function xc(m,c){if(!m.display)return 0;const g=Pn(m.font,c),C=Jt(m.padding);return(ot(m.text)?m.text.length:1)*g.lineHeight+C.height}function Gl(m,c,g){let C=uo(m);return(g&&"right"!==c||!g&&"right"===c)&&(C=(m=>"left"===m?"right":"right"===m?"left":m)(C)),C}class Fa extends ya{constructor(c){super(),this.id=c.id,this.type=c.type,this.options=void 0,this.ctx=c.ctx,this.chart=c.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(c){this.options=c.setContext(this.getContext()),this.axis=c.axis,this._userMin=this.parse(c.min),this._userMax=this.parse(c.max),this._suggestedMin=this.parse(c.suggestedMin),this._suggestedMax=this.parse(c.suggestedMax)}parse(c,g){return c}getUserBounds(){let{_userMin:c,_userMax:g,_suggestedMin:C,_suggestedMax:I}=this;return c=rt(c,Number.POSITIVE_INFINITY),g=rt(g,Number.NEGATIVE_INFINITY),C=rt(C,Number.POSITIVE_INFINITY),I=rt(I,Number.NEGATIVE_INFINITY),{min:rt(c,C),max:rt(g,I),minDefined:ke(c),maxDefined:ke(g)}}getMinMax(c){let H,{min:g,max:C,minDefined:I,maxDefined:M}=this.getUserBounds();if(I&&M)return{min:g,max:C};const ee=this.getMatchingVisibleMetas();for(let fe=0,Oe=ee.length;fe<Oe;++fe)H=ee[fe].controller.getMinMax(this,c),I||(g=Math.min(g,H.min)),M||(C=Math.max(C,H.max));return g=M&&g>C?C:g,C=I&&g>C?g:C,{min:rt(g,rt(C,g)),max:rt(C,rt(g,C))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const c=this.chart.data;return this.options.labels||(this.isHorizontal()?c.xLabels:c.yLabels)||c.labels||[]}getLabelItems(c=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(c))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ot(this.options.beforeUpdate,[this])}update(c,g,C){const{beginAtZero:I,grace:M,ticks:H}=this.options,ee=H.sampleSize;this.beforeUpdate(),this.maxWidth=c,this.maxHeight=g,this._margins=C=Object.assign({left:0,right:0,top:0,bottom:0},C),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+C.left+C.right:this.height+C.top+C.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function fi(m,c,g){const{min:C,max:I}=m,M=Ht(c,(I-C)/2),H=(ee,fe)=>g&&0===ee?0:ee+fe;return{min:H(C,-Math.abs(M)),max:H(I,M)}}(this,M,I),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const fe=ee<this.ticks.length;this._convertTicksToLabels(fe?cl(this.ticks,ee):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),H.display&&(H.autoSkip||"auto"===H.source)&&(this.ticks=function qd(m,c){const g=m.options.ticks,C=function qc(m){const c=m.options.offset,g=m._tickSize();return Math.floor(Math.min(m._length/g+(c?0:1),m._maxLength/g))}(m),I=Math.min(g.maxTicksLimit||C,C),M=g.major.enabled?function Ls(m){const c=[];let g,C;for(g=0,C=m.length;g<C;g++)m[g].major&&c.push(g);return c}(c):[],H=M.length,ee=M[0],fe=M[H-1],Oe=[];if(H>I)return function Qr(m,c,g,C){let H,I=0,M=g[0];for(C=Math.ceil(C),H=0;H<m.length;H++)H===M&&(c.push(m[H]),I++,M=g[I*C])}(c,Oe,M,H/I),Oe;const at=function Gu(m,c,g){const C=function Ws(m){const c=m.length;let g,C;if(c<2)return!1;for(C=m[0],g=1;g<c;++g)if(m[g]-m[g-1]!==C)return!1;return C}(m),I=c.length/g;if(!C)return Math.max(I,1);const M=function Vo(m){const c=[],g=Math.sqrt(m);let C;for(C=1;C<g;C++)m%C==0&&(c.push(C),c.push(m/C));return g===(0|g)&&c.push(g),c.sort((I,M)=>I-M).pop(),c}(C);for(let H=0,ee=M.length-1;H<ee;H++){const fe=M[H];if(fe>I)return fe}return Math.max(I,1)}(M,c,I);if(H>0){let wt,Vt;const nn=H>1?Math.round((fe-ee)/(H-1)):null;for(bc(c,Oe,at,st(nn)?0:ee-nn,ee),wt=0,Vt=H-1;wt<Vt;wt++)bc(c,Oe,at,M[wt],M[wt+1]);return bc(c,Oe,at,fe,st(nn)?c.length:fe+nn),Oe}return bc(c,Oe,at),Oe}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),fe&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let g,C,c=this.options.reverse;this.isHorizontal()?(g=this.left,C=this.right):(g=this.top,C=this.bottom,c=!c),this._startPixel=g,this._endPixel=C,this._reversePixels=c,this._length=C-g,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ot(this.options.afterUpdate,[this])}beforeSetDimensions(){Ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ot(this.options.afterSetDimensions,[this])}_callHooks(c){this.chart.notifyPlugins(c,this.getContext()),Ot(this.options[c],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(c){const g=this.options.ticks;let C,I,M;for(C=0,I=c.length;C<I;C++)M=c[C],M.label=Ot(g.callback,[M.value,C,c],this)}afterTickToLabelConversion(){Ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const c=this.options,g=c.ticks,C=yc(this.ticks.length,c.ticks.maxTicksLimit),I=g.minRotation||0,M=g.maxRotation;let ee,fe,Oe,H=I;if(!this._isVisible()||!g.display||I>=M||C<=1||!this.isHorizontal())return void(this.labelRotation=I);const at=this._getLabelSizes(),wt=at.widest.width,Vt=at.highest.height,nn=si(this.chart.width-wt,0,this.maxWidth);ee=c.offset?this.maxWidth/C:nn/(C-1),wt+6>ee&&(ee=nn/(C-(c.offset?.5:1)),fe=this.maxHeight-Jl(c.grid)-g.padding-xc(c.title,this.chart.options.font),Oe=Math.sqrt(wt*wt+Vt*Vt),H=pt(Math.min(Math.asin(si((at.highest.height+6)/ee,-1,1)),Math.asin(si(fe/Oe,-1,1))-Math.asin(si(Vt/Oe,-1,1)))),H=Math.max(I,Math.min(M,H))),this.labelRotation=H}afterCalculateLabelRotation(){Ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ot(this.options.beforeFit,[this])}fit(){const c={width:0,height:0},{chart:g,options:{ticks:C,title:I,grid:M}}=this,H=this._isVisible(),ee=this.isHorizontal();if(H){const fe=xc(I,g.options.font);if(ee?(c.width=this.maxWidth,c.height=Jl(M)+fe):(c.height=this.maxHeight,c.width=Jl(M)+fe),C.display&&this.ticks.length){const{first:Oe,last:at,widest:wt,highest:Vt}=this._getLabelSizes(),nn=2*C.padding,mn=He(this.labelRotation),Cn=Math.cos(mn),In=Math.sin(mn);ee?c.height=Math.min(this.maxHeight,c.height+(C.mirror?0:In*wt.width+Cn*Vt.height)+nn):c.width=Math.min(this.maxWidth,c.width+(C.mirror?0:Cn*wt.width+In*Vt.height)+nn),this._calculatePadding(Oe,at,In,Cn)}}this._handleMargins(),ee?(this.width=this._length=g.width-this._margins.left-this._margins.right,this.height=c.height):(this.width=c.width,this.height=this._length=g.height-this._margins.top-this._margins.bottom)}_calculatePadding(c,g,C,I){const{ticks:{align:M,padding:H},position:ee}=this.options,fe=0!==this.labelRotation,Oe="top"!==ee&&"x"===this.axis;if(this.isHorizontal()){const at=this.getPixelForTick(0)-this.left,wt=this.right-this.getPixelForTick(this.ticks.length-1);let Vt=0,nn=0;fe?Oe?(Vt=I*c.width,nn=C*g.height):(Vt=C*c.height,nn=I*g.width):"start"===M?nn=g.width:"end"===M?Vt=c.width:"inner"!==M&&(Vt=c.width/2,nn=g.width/2),this.paddingLeft=Math.max((Vt-at+H)*this.width/(this.width-at),0),this.paddingRight=Math.max((nn-wt+H)*this.width/(this.width-wt),0)}else{let at=g.height/2,wt=c.height/2;"start"===M?(at=0,wt=c.height):"end"===M&&(at=g.height,wt=0),this.paddingTop=at+H,this.paddingBottom=wt+H}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ot(this.options.afterFit,[this])}isHorizontal(){const{axis:c,position:g}=this.options;return"top"===g||"bottom"===g||"x"===c}isFullSize(){return this.options.fullSize}_convertTicksToLabels(c){let g,C;for(this.beforeTickToLabelConversion(),this.generateTickLabels(c),g=0,C=c.length;g<C;g++)st(c[g].label)&&(c.splice(g,1),C--,g--);this.afterTickToLabelConversion()}_getLabelSizes(){let c=this._labelSizes;if(!c){const g=this.options.ticks.sampleSize;let C=this.ticks;g<C.length&&(C=cl(C,g)),this._labelSizes=c=this._computeLabelSizes(C,C.length,this.options.ticks.maxTicksLimit)}return c}_computeLabelSizes(c,g,C){const{ctx:I,_longestTextCache:M}=this,H=[],ee=[],fe=Math.floor(g/yc(g,C));let wt,Vt,nn,mn,Cn,In,Zn,Hn,Xn,ni,Gn,Oe=0,at=0;for(wt=0;wt<g;wt+=fe){if(mn=c[wt].label,Cn=this._resolveTickFontOptions(wt),I.font=In=Cn.string,Zn=M[In]=M[In]||{data:{},gc:[]},Hn=Cn.lineHeight,Xn=ni=0,st(mn)||ot(mn)){if(ot(mn))for(Vt=0,nn=mn.length;Vt<nn;++Vt)Gn=mn[Vt],!st(Gn)&&!ot(Gn)&&(Xn=bs(I,Zn.data,Zn.gc,Xn,Gn),ni+=Hn)}else Xn=bs(I,Zn.data,Zn.gc,Xn,mn),ni=Hn;H.push(Xn),ee.push(ni),Oe=Math.max(Xn,Oe),at=Math.max(ni,at)}!function Xd(m,c){Ye(m,g=>{const C=g.gc,I=C.length/2;let M;if(I>c){for(M=0;M<I;++M)delete g.data[C[M]];C.splice(0,I)}})}(M,g);const ci=H.indexOf(Oe),di=ee.indexOf(at),hi=Fi=>({width:H[Fi]||0,height:ee[Fi]||0});return{first:hi(0),last:hi(g-1),widest:hi(ci),highest:hi(di),widths:H,heights:ee}}getLabelForValue(c){return c}getPixelForValue(c,g){return NaN}getValueForPixel(c){}getPixelForTick(c){const g=this.ticks;return c<0||c>g.length-1?null:this.getPixelForValue(g[c].value)}getPixelForDecimal(c){this._reversePixels&&(c=1-c);const g=this._startPixel+c*this._length;return function gi(m){return si(m,-32768,32767)}(this._alignToPixels?Xo(this.chart,g,0):g)}getDecimalForPixel(c){const g=(c-this._startPixel)/this._length;return this._reversePixels?1-g:g}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:c,max:g}=this;return c<0&&g<0?g:c>0&&g>0?c:0}getContext(c){const g=this.ticks||[];if(c>=0&&c<g.length){const C=g[c];return C.$context||(C.$context=function Wu(m,c,g){return Zi(m,{tick:g,index:c,type:"tick"})}(this.getContext(),c,C))}return this.$context||(this.$context=function Ql(m,c){return Zi(m,{scale:c,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const c=this.options.ticks,g=He(this.labelRotation),C=Math.abs(Math.cos(g)),I=Math.abs(Math.sin(g)),M=this._getLabelSizes(),H=c.autoSkipPadding||0,ee=M?M.widest.width+H:0,fe=M?M.highest.height+H:0;return this.isHorizontal()?fe*C>ee*I?ee/C:fe/I:fe*I<ee*C?fe/C:ee/I}_isVisible(){const c=this.options.display;return"auto"!==c?!!c:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(c){const g=this.axis,C=this.chart,I=this.options,{grid:M,position:H,border:ee}=I,fe=M.offset,Oe=this.isHorizontal(),wt=this.ticks.length+(fe?1:0),Vt=Jl(M),nn=[],mn=ee.setContext(this.getContext()),Cn=mn.display?mn.width:0,In=Cn/2,Zn=function(fs){return Xo(C,fs,Cn)};let Hn,Xn,ni,Gn,ci,di,hi,Fi,ro,Wi,Do,Pr;if("top"===H)Hn=Zn(this.bottom),di=this.bottom-Vt,Fi=Hn-In,Wi=Zn(c.top)+In,Pr=c.bottom;else if("bottom"===H)Hn=Zn(this.top),Wi=c.top,Pr=Zn(c.bottom)-In,di=Hn+In,Fi=this.top+Vt;else if("left"===H)Hn=Zn(this.right),ci=this.right-Vt,hi=Hn-In,ro=Zn(c.left)+In,Do=c.right;else if("right"===H)Hn=Zn(this.left),ro=c.left,Do=Zn(c.right)-In,ci=Hn+In,hi=this.left+Vt;else if("x"===g){if("center"===H)Hn=Zn((c.top+c.bottom)/2+.5);else if(ge(H)){const fs=Object.keys(H)[0];Hn=Zn(this.chart.scales[fs].getPixelForValue(H[fs]))}Wi=c.top,Pr=c.bottom,di=Hn+In,Fi=di+Vt}else if("y"===g){if("center"===H)Hn=Zn((c.left+c.right)/2);else if(ge(H)){const fs=Object.keys(H)[0];Hn=Zn(this.chart.scales[fs].getPixelForValue(H[fs]))}ci=Hn-In,hi=ci-Vt,ro=c.left,Do=c.right}const la=yt(I.ticks.maxTicksLimit,wt),Uo=Math.max(1,Math.ceil(wt/la));for(Xn=0;Xn<wt;Xn+=Uo){const fs=this.getContext(Xn),tr=M.setContext(fs),Sa=ee.setContext(fs),ns=tr.lineWidth,lc=tr.color,_u=Sa.dash||[],Ns=Sa.dashOffset,ka=tr.tickWidth,Nc=tr.tickColor,xa=tr.tickBorderDash||[],Cu=tr.tickBorderDashOffset;ni=$d(this,Xn,fe),void 0!==ni&&(Gn=Xo(C,ni,ns),Oe?ci=hi=ro=Do=Gn:di=Fi=Wi=Pr=Gn,nn.push({tx1:ci,ty1:di,tx2:hi,ty2:Fi,x1:ro,y1:Wi,x2:Do,y2:Pr,width:ns,color:lc,borderDash:_u,borderDashOffset:Ns,tickWidth:ka,tickColor:Nc,tickBorderDash:xa,tickBorderDashOffset:Cu}))}return this._ticksLength=wt,this._borderValue=Hn,nn}_computeLabelItems(c){const g=this.axis,C=this.options,{position:I,ticks:M}=C,H=this.isHorizontal(),ee=this.ticks,{align:fe,crossAlign:Oe,padding:at,mirror:wt}=M,Vt=Jl(C.grid),nn=Vt+at,mn=wt?-at:nn,Cn=-He(this.labelRotation),In=[];let Zn,Hn,Xn,ni,Gn,ci,di,hi,Fi,ro,Wi,Do,Pr="middle";if("top"===I)ci=this.bottom-mn,di=this._getXAxisLabelAlignment();else if("bottom"===I)ci=this.top+mn,di=this._getXAxisLabelAlignment();else if("left"===I){const Uo=this._getYAxisLabelAlignment(Vt);di=Uo.textAlign,Gn=Uo.x}else if("right"===I){const Uo=this._getYAxisLabelAlignment(Vt);di=Uo.textAlign,Gn=Uo.x}else if("x"===g){if("center"===I)ci=(c.top+c.bottom)/2+nn;else if(ge(I)){const Uo=Object.keys(I)[0];ci=this.chart.scales[Uo].getPixelForValue(I[Uo])+nn}di=this._getXAxisLabelAlignment()}else if("y"===g){if("center"===I)Gn=(c.left+c.right)/2-nn;else if(ge(I)){const Uo=Object.keys(I)[0];Gn=this.chart.scales[Uo].getPixelForValue(I[Uo])}di=this._getYAxisLabelAlignment(Vt).textAlign}"y"===g&&("start"===fe?Pr="top":"end"===fe&&(Pr="bottom"));const la=this._getLabelSizes();for(Zn=0,Hn=ee.length;Zn<Hn;++Zn){Xn=ee[Zn],ni=Xn.label;const Uo=M.setContext(this.getContext(Zn));hi=this.getPixelForTick(Zn)+M.labelOffset,Fi=this._resolveTickFontOptions(Zn),ro=Fi.lineHeight,Wi=ot(ni)?ni.length:1;const fs=Wi/2,tr=Uo.color,Sa=Uo.textStrokeColor,ns=Uo.textStrokeWidth;let _u,lc=di;if(H?(Gn=hi,"inner"===di&&(lc=Zn===Hn-1?this.options.reverse?"left":"right":0===Zn?this.options.reverse?"right":"left":"center"),Do="top"===I?"near"===Oe||0!==Cn?-Wi*ro+ro/2:"center"===Oe?-la.highest.height/2-fs*ro+ro:ro/2-la.highest.height:"near"===Oe||0!==Cn?ro/2:"center"===Oe?la.highest.height/2-fs*ro:la.highest.height-Wi*ro,wt&&(Do*=-1),0!==Cn&&!Uo.showLabelBackdrop&&(Gn+=ro/2*Math.sin(Cn))):(ci=hi,Do=(1-Wi)*ro/2),Uo.showLabelBackdrop){const Ns=Jt(Uo.backdropPadding),ka=la.heights[Zn],Nc=la.widths[Zn];let xa=Do-Ns.top,Cu=0-Ns.left;switch(Pr){case"middle":xa-=ka/2;break;case"bottom":xa-=ka}switch(di){case"center":Cu-=Nc/2;break;case"right":Cu-=Nc}_u={left:Cu,top:xa,width:Nc+Ns.width,height:ka+Ns.height,color:Uo.backdropColor}}In.push({label:ni,font:Fi,textOffset:Do,options:{rotation:Cn,color:tr,strokeColor:Sa,strokeWidth:ns,textAlign:lc,textBaseline:Pr,translation:[Gn,ci],backdrop:_u}})}return In}_getXAxisLabelAlignment(){const{position:c,ticks:g}=this.options;if(-He(this.labelRotation))return"top"===c?"left":"right";let I="center";return"start"===g.align?I="left":"end"===g.align?I="right":"inner"===g.align&&(I="inner"),I}_getYAxisLabelAlignment(c){const{position:g,ticks:{crossAlign:C,mirror:I,padding:M}}=this.options,ee=c+M,fe=this._getLabelSizes().widest.width;let Oe,at;return"left"===g?I?(at=this.right+M,"near"===C?Oe="left":"center"===C?(Oe="center",at+=fe/2):(Oe="right",at+=fe)):(at=this.right-ee,"near"===C?Oe="right":"center"===C?(Oe="center",at-=fe/2):(Oe="left",at=this.left)):"right"===g?I?(at=this.left+M,"near"===C?Oe="right":"center"===C?(Oe="center",at-=fe/2):(Oe="left",at-=fe)):(at=this.left+ee,"near"===C?Oe="left":"center"===C?(Oe="center",at+=fe/2):(Oe="right",at=this.right)):Oe="right",{textAlign:Oe,x:at}}_computeLabelArea(){if(this.options.ticks.mirror)return;const c=this.chart,g=this.options.position;return"left"===g||"right"===g?{top:0,left:this.left,bottom:c.height,right:this.right}:"top"===g||"bottom"===g?{top:this.top,left:0,bottom:this.bottom,right:c.width}:void 0}drawBackground(){const{ctx:c,options:{backgroundColor:g},left:C,top:I,width:M,height:H}=this;g&&(c.save(),c.fillStyle=g,c.fillRect(C,I,M,H),c.restore())}getLineWidthForValue(c){const g=this.options.grid;if(!this._isVisible()||!g.display)return 0;const I=this.ticks.findIndex(M=>M.value===c);return I>=0?g.setContext(this.getContext(I)).lineWidth:0}drawGrid(c){const g=this.options.grid,C=this.ctx,I=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(c));let M,H;const ee=(fe,Oe,at)=>{!at.width||!at.color||(C.save(),C.lineWidth=at.width,C.strokeStyle=at.color,C.setLineDash(at.borderDash||[]),C.lineDashOffset=at.borderDashOffset,C.beginPath(),C.moveTo(fe.x,fe.y),C.lineTo(Oe.x,Oe.y),C.stroke(),C.restore())};if(g.display)for(M=0,H=I.length;M<H;++M){const fe=I[M];g.drawOnChartArea&&ee({x:fe.x1,y:fe.y1},{x:fe.x2,y:fe.y2},fe),g.drawTicks&&ee({x:fe.tx1,y:fe.ty1},{x:fe.tx2,y:fe.ty2},{color:fe.tickColor,width:fe.tickWidth,borderDash:fe.tickBorderDash,borderDashOffset:fe.tickBorderDashOffset})}}drawBorder(){const{chart:c,ctx:g,options:{border:C,grid:I}}=this,M=C.setContext(this.getContext()),H=C.display?M.width:0;if(!H)return;const ee=I.setContext(this.getContext(0)).lineWidth,fe=this._borderValue;let Oe,at,wt,Vt;this.isHorizontal()?(Oe=Xo(c,this.left,H)-H/2,at=Xo(c,this.right,ee)+ee/2,wt=Vt=fe):(wt=Xo(c,this.top,H)-H/2,Vt=Xo(c,this.bottom,ee)+ee/2,Oe=at=fe),g.save(),g.lineWidth=M.width,g.strokeStyle=M.color,g.beginPath(),g.moveTo(Oe,wt),g.lineTo(at,Vt),g.stroke(),g.restore()}drawLabels(c){if(!this.options.ticks.display)return;const C=this.ctx,I=this._computeLabelArea();I&&xs(C,I);const M=this.getLabelItems(c);for(const H of M)ps(C,H.label,0,H.textOffset,H.font,H.options);I&&ws(C)}drawTitle(){const{ctx:c,options:{position:g,title:C,reverse:I}}=this;if(!C.display)return;const M=Pn(C.font),H=Jt(C.padding),ee=C.align;let fe=M.lineHeight/2;"bottom"===g||"center"===g||ge(g)?(fe+=H.bottom,ot(C.text)&&(fe+=M.lineHeight*(C.text.length-1))):fe+=H.top;const{titleX:Oe,titleY:at,maxWidth:wt,rotation:Vt}=function ep(m,c,g,C){const{top:I,left:M,bottom:H,right:ee,chart:fe}=m,{chartArea:Oe,scales:at}=fe;let Vt,nn,mn,wt=0;const Cn=H-I,In=ee-M;if(m.isHorizontal()){if(nn=Io(C,M,ee),ge(g)){const Zn=Object.keys(g)[0];mn=at[Zn].getPixelForValue(g[Zn])+Cn-c}else mn="center"===g?(Oe.bottom+Oe.top)/2+Cn-c:Xc(m,g,c);Vt=ee-M}else{if(ge(g)){const Zn=Object.keys(g)[0];nn=at[Zn].getPixelForValue(g[Zn])-In+c}else nn="center"===g?(Oe.left+Oe.right)/2-In+c:Xc(m,g,c);mn=Io(C,H,I),wt="left"===g?-rn:rn}return{titleX:nn,titleY:mn,maxWidth:Vt,rotation:wt}}(this,fe,g,ee);ps(c,C.text,0,0,M,{color:C.color,maxWidth:wt,rotation:Vt,textAlign:Gl(ee,g,I),textBaseline:"middle",translation:[Oe,at]})}draw(c){!this._isVisible()||(this.drawBackground(),this.drawGrid(c),this.drawBorder(),this.drawTitle(),this.drawLabels(c))}_layers(){const c=this.options,g=c.ticks&&c.ticks.z||0,C=yt(c.grid&&c.grid.z,-1),I=yt(c.border&&c.border.z,0);return this._isVisible()&&this.draw===Fa.prototype.draw?[{z:C,draw:M=>{this.drawBackground(),this.drawGrid(M),this.drawTitle()}},{z:I,draw:()=>{this.drawBorder()}},{z:g,draw:M=>{this.drawLabels(M)}}]:[{z:g,draw:M=>{this.draw(M)}}]}getMatchingVisibleMetas(c){const g=this.chart.getSortedVisibleDatasetMetas(),C=this.axis+"AxisID",I=[];let M,H;for(M=0,H=g.length;M<H;++M){const ee=g[M];ee[C]===this.id&&(!c||ee.type===c)&&I.push(ee)}return I}_resolveTickFontOptions(c){return Pn(this.options.ticks.setContext(this.getContext(c)).font)}_maxDigits(){const c=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/c}}class qr{constructor(c,g,C){this.type=c,this.scope=g,this.override=C,this.items=Object.create(null)}isForType(c){return Object.prototype.isPrototypeOf.call(this.type.prototype,c.prototype)}register(c){const g=Object.getPrototypeOf(c);let C;(function tp(m){return"id"in m&&"defaults"in m})(g)&&(C=this.register(g));const I=this.items,M=c.id,H=this.scope+"."+M;if(!M)throw new Error("class does not have id: "+c);return M in I||(I[M]=c,function Wl(m,c,g){const C=Fe(Object.create(null),[g?$i.get(g):{},$i.get(c),m.defaults]);$i.set(c,C),m.defaultRoutes&&function Yu(m,c){Object.keys(c).forEach(g=>{const C=g.split("."),I=C.pop(),M=[m].concat(C).join("."),H=c[g].split("."),ee=H.pop(),fe=H.join(".");$i.route(M,I,fe,ee)})}(c,m.defaultRoutes),m.descriptors&&$i.describe(c,m.descriptors)}(c,H,C),this.override&&$i.override(c.id,c.overrides)),H}get(c){return this.items[c]}unregister(c){const g=this.items,C=c.id,I=this.scope;C in g&&delete g[C],I&&C in $i[I]&&(delete $i[I][C],this.override&&delete Ii[C])}}class np{constructor(){this.controllers=new qr(oo,"datasets",!0),this.elements=new qr(ya,"elements"),this.plugins=new qr(Object,"plugins"),this.scales=new qr(Fa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...c){this._each("register",c)}remove(...c){this._each("unregister",c)}addControllers(...c){this._each("register",c,this.controllers)}addElements(...c){this._each("register",c,this.elements)}addPlugins(...c){this._each("register",c,this.plugins)}addScales(...c){this._each("register",c,this.scales)}getController(c){return this._get(c,this.controllers,"controller")}getElement(c){return this._get(c,this.elements,"element")}getPlugin(c){return this._get(c,this.plugins,"plugin")}getScale(c){return this._get(c,this.scales,"scale")}removeControllers(...c){this._each("unregister",c,this.controllers)}removeElements(...c){this._each("unregister",c,this.elements)}removePlugins(...c){this._each("unregister",c,this.plugins)}removeScales(...c){this._each("unregister",c,this.scales)}_each(c,g,C){[...g].forEach(I=>{const M=C||this._getRegistryForType(I);C||M.isForType(I)||M===this.plugins&&I.id?this._exec(c,M,I):Ye(I,H=>{const ee=C||this._getRegistryForType(H);this._exec(c,ee,H)})})}_exec(c,g,C){const I=de(c);Ot(C["before"+I],[],C),g[c](C),Ot(C["after"+I],[],C)}_getRegistryForType(c){for(let g=0;g<this._typedRegistries.length;g++){const C=this._typedRegistries[g];if(C.isForType(c))return C}return this.plugins}_get(c,g,C){const I=g.get(c);if(void 0===I)throw new Error('"'+c+'" is not a registered '+C+".");return I}}var Gr=new np;class Yl{constructor(){this._init=[]}notify(c,g,C,I){"beforeInit"===g&&(this._init=this._createDescriptors(c,!0),this._notify(this._init,c,"install"));const M=I?this._descriptors(c).filter(I):this._descriptors(c),H=this._notify(M,c,g,C);return"afterDestroy"===g&&(this._notify(M,c,"stop"),this._notify(this._init,c,"uninstall")),H}_notify(c,g,C,I){I=I||{};for(const M of c){const H=M.plugin;if(!1===Ot(H[C],[g,I,M.options],H)&&I.cancelable)return!1}return!0}invalidate(){st(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(c){if(this._cache)return this._cache;const g=this._cache=this._createDescriptors(c);return this._notifyStateChanges(c),g}_createDescriptors(c,g){const C=c&&c.config,I=yt(C.options&&C.options.plugins,{}),M=function ip(m){const c={},g=[],C=Object.keys(Gr.plugins.items);for(let M=0;M<C.length;M++)g.push(Gr.getPlugin(C[M]));const I=m.plugins||[];for(let M=0;M<I.length;M++){const H=I[M];-1===g.indexOf(H)&&(g.push(H),c[H.id]=!0)}return{plugins:g,localIds:c}}(C);return!1!==I||g?function eu(m,{plugins:c,localIds:g},C,I){const M=[],H=m.getContext();for(const ee of c){const fe=ee.id,Oe=Ja(C[fe],I);null!==Oe&&M.push({plugin:ee,options:op(m.config,{plugin:ee,local:g[fe]},Oe,H)})}return M}(c,M,I,g):[]}_notifyStateChanges(c){const g=this._oldCache||[],C=this._cache,I=(M,H)=>M.filter(ee=>!H.some(fe=>ee.plugin.id===fe.plugin.id));this._notify(I(g,C),c,"stop"),this._notify(I(C,g),c,"start")}}function Ja(m,c){return c||!1!==m?!0===m?{}:m:null}function op(m,{plugin:c,local:g},C,I){const M=m.pluginScopeKeys(c),H=m.getOptionScopes(C,M);return g&&c.defaults&&H.push(c.defaults),m.createResolver(H,I,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ju(m,c){return((c.datasets||{})[m]||{}).indexAxis||c.indexAxis||($i.datasets[m]||{}).indexAxis||"x"}function qu(m){if("x"===m||"y"===m||"r"===m)return m}function Ic(m){return"top"===m||"bottom"===m?"x":"left"===m||"right"===m?"y":void 0}function Se(m,...c){if(qu(m))return m;for(const g of c){const C=g.axis||Ic(g.position)||m.length>1&&qu(m[0].toLowerCase());if(C)return C}throw new Error(`Cannot determine type of '${m}' axis. Please provide 'axis' or 'position' option.`)}function Bt(m,c,g){if(g[c+"AxisID"]===m)return{axis:c}}function qt(m){const c=m.options||(m.options={});c.plugins=yt(c.plugins,{}),c.scales=function je(m,c){const g=Ii[m.type]||{scales:{}},C=c.scales||{},I=ju(m.type,c),M=Object.create(null);return Object.keys(C).forEach(H=>{const ee=C[H];if(!ge(ee))return console.error(`Invalid scale configuration for scale: ${H}`);if(ee._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${H}`);const fe=Se(H,ee,function j(m,c){if(c.data&&c.data.datasets){const g=c.data.datasets.filter(C=>C.xAxisID===m||C.yAxisID===m);if(g.length)return Bt(m,"x",g[0])||Bt(m,"y",g[0])}return{}}(H,m),$i.scales[ee.type]),Oe=function Ku(m,c){return m===c?"_index_":"_value_"}(fe,I),at=g.scales||{};M[H]=he(Object.create(null),[{axis:fe},ee,at[fe],at[Oe]])}),m.data.datasets.forEach(H=>{const ee=H.type||m.type,fe=H.indexAxis||ju(ee,c),at=(Ii[ee]||{}).scales||{};Object.keys(at).forEach(wt=>{const Vt=function sp(m,c){let g=m;return"_index_"===m?g=c:"_value_"===m&&(g="x"===c?"y":"x"),g}(wt,fe),nn=H[Vt+"AxisID"]||Vt;M[nn]=M[nn]||Object.create(null),he(M[nn],[{axis:Vt},C[nn],at[wt]])})}),Object.keys(M).forEach(H=>{const ee=M[H];he(ee,[$i.scales[ee.type],$i.scale])}),M}(m,c)}function En(m){return(m=m||{}).datasets=m.datasets||[],m.labels=m.labels||[],m}const Ui=new Map,ar=new Set;function ha(m,c){let g=Ui.get(m);return g||(g=c(),Ui.set(m,g),ar.add(g)),g}const jl=(m,c,g)=>{const C=nt(c,g);void 0!==C&&m.add(C)};class Kl{constructor(c){this._config=function $n(m){return(m=m||{}).data=En(m.data),qt(m),m}(c),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(c){this._config.type=c}get data(){return this._config.data}set data(c){this._config.data=En(c)}get options(){return this._config.options}set options(c){this._config.options=c}get plugins(){return this._config.plugins}update(){const c=this._config;this.clearCache(),qt(c)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(c){return ha(c,()=>[[`datasets.${c}`,""]])}datasetAnimationScopeKeys(c,g){return ha(`${c}.transition.${g}`,()=>[[`datasets.${c}.transitions.${g}`,`transitions.${g}`],[`datasets.${c}`,""]])}datasetElementScopeKeys(c,g){return ha(`${c}-${g}`,()=>[[`datasets.${c}.elements.${g}`,`datasets.${c}`,`elements.${g}`,""]])}pluginScopeKeys(c){const g=c.id;return ha(`${this.type}-plugin-${g}`,()=>[[`plugins.${g}`,...c.additionalOptionScopes||[]]])}_cachedScopes(c,g){const C=this._scopeCache;let I=C.get(c);return(!I||g)&&(I=new Map,C.set(c,I)),I}getOptionScopes(c,g,C){const{options:I,type:M}=this,H=this._cachedScopes(c,C),ee=H.get(g);if(ee)return ee;const fe=new Set;g.forEach(at=>{c&&(fe.add(c),at.forEach(wt=>jl(fe,c,wt))),at.forEach(wt=>jl(fe,I,wt)),at.forEach(wt=>jl(fe,Ii[M]||{},wt)),at.forEach(wt=>jl(fe,$i,wt)),at.forEach(wt=>jl(fe,nr,wt))});const Oe=Array.from(fe);return 0===Oe.length&&Oe.push(Object.create(null)),ar.has(g)&&H.set(g,Oe),Oe}chartOptionScopes(){const{options:c,type:g}=this;return[c,Ii[g]||{},$i.datasets[g]||{},{type:g},$i,nr]}resolveNamedOptions(c,g,C,I=[""]){const M={$shared:!0},{resolver:H,subPrefixes:ee}=$u(this._resolverCache,c,I);let fe=H;(function Y_(m,c){const{isScriptable:g,isIndexable:C}=hs(m);for(const I of c){const M=g(I),H=C(I),ee=(H||M)&&m[I];if(M&&(ze(ee)||Xu(ee))||H&&ot(ee))return!0}return!1})(H,g)&&(M.$shared=!1,fe=Si(H,C=ze(C)?C():C,this.createResolver(c,C,ee)));for(const Oe of g)M[Oe]=fe[Oe];return M}createResolver(c,g,C=[""],I){const{resolver:M}=$u(this._resolverCache,c,C);return ge(g)?Si(M,g,void 0,I):M}}function $u(m,c,g){let C=m.get(c);C||(C=new Map,m.set(c,C));const I=g.join();let M=C.get(I);return M||(M={resolver:Ni(c,g),subPrefixes:g.filter(ee=>!ee.toLowerCase().includes("hover"))},C.set(I,M)),M}const Xu=m=>ge(m)&&Object.getOwnPropertyNames(m).reduce((c,g)=>c||ze(m[g]),!1),K_=["top","bottom","left","right","chartArea"];function Sh(m,c){return"top"===m||"bottom"===m||-1===K_.indexOf(m)&&"x"===c}function rp(m,c){return function(g,C){return g[m]===C[m]?g[c]-C[c]:g[m]-C[m]}}function ed(m){const c=m.chart,g=c.options.animation;c.notifyPlugins("afterRender"),Ot(g&&g.onComplete,[m],c)}function ap(m){const c=m.chart,g=c.options.animation;Ot(g&&g.onProgress,[m],c)}function lp(m){return Ue()&&"string"==typeof m?m=document.getElementById(m):m&&m.length&&(m=m[0]),m&&m.canvas&&(m=m.canvas),m}const Tc={},ia=m=>{const c=lp(m);return Object.values(Tc).filter(g=>g.canvas===c).pop()};function Pi(m,c,g){const C=Object.keys(m);for(const I of C){const M=+I;if(M>=c){const H=m[I];delete m[I],(g>0||M>c)&&(m[M+g]=H)}}}class oa{static register(...c){Gr.add(...c),Qa()}static unregister(...c){Gr.remove(...c),Qa()}constructor(c,g){const C=this.config=new Kl(g),I=lp(c),M=ia(I);if(M)throw new Error("Canvas is already in use. Chart with ID '"+M.id+"' must be destroyed before the canvas with ID '"+M.canvas.id+"' can be reused.");const H=C.createResolver(C.chartOptionScopes(),this.getContext());this.platform=new(C.platform||function vc(m){return!Ue()||"undefined"!=typeof OffscreenCanvas&&m instanceof OffscreenCanvas?ve:zl}(I)),this.platform.updateConfig(C);const ee=this.platform.acquireContext(I,H.aspectRatio),fe=ee&&ee.canvas,Oe=fe&&fe.height,at=fe&&fe.width;this.id=At(),this.ctx=ee,this.canvas=fe,this.width=at,this.height=Oe,this._options=H,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function _s(m,c){let g;return function(...C){return c?(clearTimeout(g),g=setTimeout(m,c,C)):m.apply(this,C),c}}(wt=>this.update(wt),H.resizeDelay||0),this._dataChanges=[],Tc[this.id]=this,ee&&fe?(as.listen(this,"complete",ed),as.listen(this,"progress",ap),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:c,maintainAspectRatio:g},width:C,height:I,_aspectRatio:M}=this;return st(c)?g&&M?M:I?C/I:null:c}get data(){return this.config.data}set data(c){this.config.data=c}get options(){return this._options}set options(c){this.config.options=c}get registry(){return Gr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tr(this.canvas,this.ctx),this}stop(){return as.stop(this),this}resize(c,g){as.running(this)?this._resizeBeforeDraw={width:c,height:g}:this._resize(c,g)}_resize(c,g){const C=this.options,H=this.platform.getMaximumSize(this.canvas,c,g,C.maintainAspectRatio&&this.aspectRatio),ee=C.devicePixelRatio||this.platform.getDevicePixelRatio(),fe=this.width?"resize":"attach";this.width=H.width,this.height=H.height,this._aspectRatio=this.aspectRatio,hr(this,ee,!0)&&(this.notifyPlugins("resize",{size:H}),Ot(C.onResize,[this,H],this),this.attached&&this._doResize(fe)&&this.render())}ensureScalesHaveIDs(){Ye(this.options.scales||{},(C,I)=>{C.id=I})}buildOrUpdateScales(){const c=this.options,g=c.scales,C=this.scales,I=Object.keys(C).reduce((H,ee)=>(H[ee]=!1,H),{});let M=[];g&&(M=M.concat(Object.keys(g).map(H=>{const ee=g[H],fe=Se(H,ee),Oe="r"===fe,at="x"===fe;return{options:ee,dposition:Oe?"chartArea":at?"bottom":"left",dtype:Oe?"radialLinear":at?"category":"linear"}}))),Ye(M,H=>{const ee=H.options,fe=ee.id,Oe=Se(fe,ee),at=yt(ee.type,H.dtype);(void 0===ee.position||Sh(ee.position,Oe)!==Sh(H.dposition))&&(ee.position=H.dposition),I[fe]=!0;let wt=null;fe in C&&C[fe].type===at?wt=C[fe]:(wt=new(Gr.getScale(at))({id:fe,type:at,ctx:this.ctx,chart:this}),C[wt.id]=wt),wt.init(ee,c)}),Ye(I,(H,ee)=>{H||delete C[ee]}),Ye(C,H=>{Ps.configure(this,H,H.options),Ps.addBox(this,H)})}_updateMetasets(){const c=this._metasets,g=this.data.datasets.length,C=c.length;if(c.sort((I,M)=>I.index-M.index),C>g){for(let I=g;I<C;++I)this._destroyDatasetMeta(I);c.splice(g,C-g)}this._sortedMetasets=c.slice(0).sort(rp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:c,data:{datasets:g}}=this;c.length>g.length&&delete this._stacks,c.forEach((C,I)=>{0===g.filter(M=>M===C._dataset).length&&this._destroyDatasetMeta(I)})}buildOrUpdateControllers(){const c=[],g=this.data.datasets;let C,I;for(this._removeUnreferencedMetasets(),C=0,I=g.length;C<I;C++){const M=g[C];let H=this.getDatasetMeta(C);const ee=M.type||this.config.type;if(H.type&&H.type!==ee&&(this._destroyDatasetMeta(C),H=this.getDatasetMeta(C)),H.type=ee,H.indexAxis=M.indexAxis||ju(ee,this.options),H.order=M.order||0,H.index=C,H.label=""+M.label,H.visible=this.isDatasetVisible(C),H.controller)H.controller.updateIndex(C),H.controller.linkScales();else{const fe=Gr.getController(ee),{datasetElementType:Oe,dataElementType:at}=$i.datasets[ee];Object.assign(fe,{dataElementType:Gr.getElement(at),datasetElementType:Oe&&Gr.getElement(Oe)}),H.controller=new fe(this,C),c.push(H.controller)}}return this._updateMetasets(),c}_resetElements(){Ye(this.data.datasets,(c,g)=>{this.getDatasetMeta(g).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(c){const g=this.config;g.update();const C=this._options=g.createResolver(g.chartOptionScopes(),this.getContext()),I=this._animationsDisabled=!C.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:c,cancelable:!0}))return;const M=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let H=0;for(let Oe=0,at=this.data.datasets.length;Oe<at;Oe++){const{controller:wt}=this.getDatasetMeta(Oe),Vt=!I&&-1===M.indexOf(wt);wt.buildOrUpdateElements(Vt),H=Math.max(+wt.getMaxOverflow(),H)}H=this._minPadding=C.layout.autoPadding?H:0,this._updateLayout(H),I||Ye(M,Oe=>{Oe.reset()}),this._updateDatasets(c),this.notifyPlugins("afterUpdate",{mode:c}),this._layers.sort(rp("z","_idx"));const{_active:ee,_lastEvent:fe}=this;fe?this._eventHandler(fe,!0):ee.length&&this._updateHoverStyles(ee,ee,!0),this.render()}_updateScales(){Ye(this.scales,c=>{Ps.removeBox(this,c)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const c=this.options,g=new Set(Object.keys(this._listeners)),C=new Set(c.events);(!kt(g,C)||!!this._responsiveListeners!==c.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:c}=this,g=this._getUniformDataChanges()||[];for(const{method:C,start:I,count:M}of g)Pi(c,I,"_removeElements"===C?-M:M)}_getUniformDataChanges(){const c=this._dataChanges;if(!c||!c.length)return;this._dataChanges=[];const g=this.data.datasets.length,C=M=>new Set(c.filter(H=>H[0]===M).map((H,ee)=>ee+","+H.splice(1).join(","))),I=C(0);for(let M=1;M<g;M++)if(!kt(I,C(M)))return;return Array.from(I).map(M=>M.split(",")).map(M=>({method:M[1],start:+M[2],count:+M[3]}))}_updateLayout(c){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ps.update(this,this.width,this.height,c);const g=this.chartArea,C=g.width<=0||g.height<=0;this._layers=[],Ye(this.boxes,I=>{C&&"chartArea"===I.position||(I.configure&&I.configure(),this._layers.push(...I._layers()))},this),this._layers.forEach((I,M)=>{I._idx=M}),this.notifyPlugins("afterLayout")}_updateDatasets(c){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:c,cancelable:!0})){for(let g=0,C=this.data.datasets.length;g<C;++g)this.getDatasetMeta(g).controller.configure();for(let g=0,C=this.data.datasets.length;g<C;++g)this._updateDataset(g,ze(c)?c({datasetIndex:g}):c);this.notifyPlugins("afterDatasetsUpdate",{mode:c})}}_updateDataset(c,g){const C=this.getDatasetMeta(c),I={meta:C,index:c,mode:g,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",I)&&(C.controller._update(g),I.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",I))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(as.has(this)?this.attached&&!as.running(this)&&as.start(this):(this.draw(),ed({chart:this})))}draw(){let c;if(this._resizeBeforeDraw){const{width:C,height:I}=this._resizeBeforeDraw;this._resize(C,I),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const g=this._layers;for(c=0;c<g.length&&g[c].z<=0;++c)g[c].draw(this.chartArea);for(this._drawDatasets();c<g.length;++c)g[c].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(c){const g=this._sortedMetasets,C=[];let I,M;for(I=0,M=g.length;I<M;++I){const H=g[I];(!c||H.visible)&&C.push(H)}return C}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const c=this.getSortedVisibleDatasetMetas();for(let g=c.length-1;g>=0;--g)this._drawDataset(c[g]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(c){const g=this.ctx,C=c._clip,I=!C.disabled,M=function Sf(m){const{xScale:c,yScale:g}=m;if(c&&g)return{left:c.left,right:c.right,top:g.top,bottom:g.bottom}}(c)||this.chartArea,H={meta:c,index:c.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",H)&&(I&&xs(g,{left:!1===C.left?0:M.left-C.left,right:!1===C.right?this.width:M.right+C.right,top:!1===C.top?0:M.top-C.top,bottom:!1===C.bottom?this.height:M.bottom+C.bottom}),c.controller.draw(),I&&ws(g),H.cancelable=!1,this.notifyPlugins("afterDatasetDraw",H))}isPointInArea(c){return ys(c,this.chartArea,this._minPadding)}getElementsAtEventForMode(c,g,C,I){const M=zu.modes[g];return"function"==typeof M?M(this,c,C,I):[]}getDatasetMeta(c){const g=this.data.datasets[c],C=this._metasets;let I=C.filter(M=>M&&M._dataset===g).pop();return I||(I={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:g&&g.order||0,index:c,_dataset:g,_parsed:[],_sorted:!1},C.push(I)),I}getContext(){return this.$context||(this.$context=Zi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(c){const g=this.data.datasets[c];if(!g)return!1;const C=this.getDatasetMeta(c);return"boolean"==typeof C.hidden?!C.hidden:!g.hidden}setDatasetVisibility(c,g){this.getDatasetMeta(c).hidden=!g}toggleDataVisibility(c){this._hiddenIndices[c]=!this._hiddenIndices[c]}getDataVisibility(c){return!this._hiddenIndices[c]}_updateVisibility(c,g,C){const I=C?"show":"hide",M=this.getDatasetMeta(c),H=M.controller._resolveAnimations(void 0,I);Qe(g)?(M.data[g].hidden=!C,this.update()):(this.setDatasetVisibility(c,C),H.update(M,{visible:C}),this.update(ee=>ee.datasetIndex===c?I:void 0))}hide(c,g){this._updateVisibility(c,g,!1)}show(c,g){this._updateVisibility(c,g,!0)}_destroyDatasetMeta(c){const g=this._metasets[c];g&&g.controller&&g.controller._destroy(),delete this._metasets[c]}_stop(){let c,g;for(this.stop(),as.remove(this),c=0,g=this.data.datasets.length;c<g;++c)this._destroyDatasetMeta(c)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:c,ctx:g}=this;this._stop(),this.config.clearCache(),c&&(this.unbindEvents(),Tr(c,g),this.platform.releaseContext(g),this.canvas=null,this.ctx=null),delete Tc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...c){return this.canvas.toDataURL(...c)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const c=this._listeners,g=this.platform,C=(M,H)=>{g.addEventListener(this,M,H),c[M]=H},I=(M,H,ee)=>{M.offsetX=H,M.offsetY=ee,this._eventHandler(M)};Ye(this.options.events,M=>C(M,I))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const c=this._responsiveListeners,g=this.platform,C=(fe,Oe)=>{g.addEventListener(this,fe,Oe),c[fe]=Oe},I=(fe,Oe)=>{c[fe]&&(g.removeEventListener(this,fe,Oe),delete c[fe])},M=(fe,Oe)=>{this.canvas&&this.resize(fe,Oe)};let H;const ee=()=>{I("attach",ee),this.attached=!0,this.resize(),C("resize",M),C("detach",H)};H=()=>{this.attached=!1,I("resize",M),this._stop(),this._resize(0,0),C("attach",ee)},g.isAttached(this.canvas)?ee():H()}unbindEvents(){Ye(this._listeners,(c,g)=>{this.platform.removeEventListener(this,g,c)}),this._listeners={},Ye(this._responsiveListeners,(c,g)=>{this.platform.removeEventListener(this,g,c)}),this._responsiveListeners=void 0}updateHoverStyle(c,g,C){const I=C?"set":"remove";let M,H,ee,fe;for("dataset"===g&&(M=this.getDatasetMeta(c[0].datasetIndex),M.controller["_"+I+"DatasetHoverStyle"]()),ee=0,fe=c.length;ee<fe;++ee){H=c[ee];const Oe=H&&this.getDatasetMeta(H.datasetIndex).controller;Oe&&Oe[I+"HoverStyle"](H.element,H.datasetIndex,H.index)}}getActiveElements(){return this._active||[]}setActiveElements(c){const g=this._active||[],C=c.map(({datasetIndex:M,index:H})=>{const ee=this.getDatasetMeta(M);if(!ee)throw new Error("No dataset found at index "+M);return{datasetIndex:M,element:ee.data[H],index:H}});!lt(C,g)&&(this._active=C,this._lastEvent=null,this._updateHoverStyles(C,g))}notifyPlugins(c,g,C){return this._plugins.notify(this,c,g,C)}isPluginEnabled(c){return 1===this._plugins._cache.filter(g=>g.plugin.id===c).length}_updateHoverStyles(c,g,C){const I=this.options.hover,M=(fe,Oe)=>fe.filter(at=>!Oe.some(wt=>at.datasetIndex===wt.datasetIndex&&at.index===wt.index)),H=M(g,c),ee=C?c:M(c,g);H.length&&this.updateHoverStyle(H,I.mode,!1),ee.length&&I.mode&&this.updateHoverStyle(ee,I.mode,!0)}_eventHandler(c,g){const C={event:c,replay:g,cancelable:!0,inChartArea:this.isPointInArea(c)},I=H=>(H.options.events||this.options.events).includes(c.native.type);if(!1===this.notifyPlugins("beforeEvent",C,I))return;const M=this._handleEvent(c,g,C.inChartArea);return C.cancelable=!1,this.notifyPlugins("afterEvent",C,I),(M||C.changed)&&this.render(),this}_handleEvent(c,g,C){const{_active:I=[],options:M}=this,ee=this._getActiveElements(c,I,C,g),fe=function Ze(m){return"mouseup"===m.type||"click"===m.type||"contextmenu"===m.type}(c),Oe=function kh(m,c,g,C){return g&&"mouseout"!==m.type?C?c:m:null}(c,this._lastEvent,C,fe);C&&(this._lastEvent=null,Ot(M.onHover,[c,ee,this],this),fe&&Ot(M.onClick,[c,ee,this],this));const at=!lt(ee,I);return(at||g)&&(this._active=ee,this._updateHoverStyles(ee,I,g)),this._lastEvent=Oe,at}_getActiveElements(c,g,C,I){if("mouseout"===c.type)return[];if(!C)return g;const M=this.options.hover;return this.getElementsAtEventForMode(c,M.mode,M,I)}}function Qa(){return Ye(oa.instances,m=>m._plugins.invalidate())}function Ga(m,c,g,C){return{x:g+m*Math.cos(c),y:C+m*Math.sin(c)}}function tu(m,c,g,C,I,M){const{x:H,y:ee,startAngle:fe,pixelMargin:Oe,innerRadius:at}=c,wt=Math.max(c.outerRadius+C+g-Oe,0),Vt=at>0?at+C+g+Oe:0;let nn=0;const mn=I-fe;if(C){const tr=((at>0?at-C:0)+(wt>0?wt-C:0))/2;nn=(mn-(0!==tr?mn*tr/(tr+C):mn))/2}const In=(mn-Math.max(.001,mn*wt-g/$t)/wt)/2,Zn=fe+In+nn,Hn=I-In-nn,{outerStart:Xn,outerEnd:ni,innerStart:Gn,innerEnd:ci}=function Oh(m,c,g,C){const I=function Mh(m){return ie(m,["outerStart","outerEnd","innerStart","innerEnd"])}(m.options.borderRadius),M=(g-c)/2,H=Math.min(M,C*c/2),ee=fe=>{const Oe=(g-Math.min(M,fe))*C/2;return si(fe,0,Math.min(M,Oe))};return{outerStart:ee(I.outerStart),outerEnd:ee(I.outerEnd),innerStart:si(I.innerStart,0,H),innerEnd:si(I.innerEnd,0,H)}}(c,Vt,wt,Hn-Zn),di=wt-Xn,hi=wt-ni,Fi=Zn+Xn/di,ro=Hn-ni/hi,Wi=Vt+Gn,Do=Vt+ci,Pr=Zn+Gn/Wi,la=Hn-ci/Do;if(m.beginPath(),M){const Uo=(Fi+ro)/2;if(m.arc(H,ee,wt,Fi,Uo),m.arc(H,ee,wt,Uo,ro),ni>0){const ns=Ga(hi,ro,H,ee);m.arc(ns.x,ns.y,ni,ro,Hn+rn)}const fs=Ga(Do,Hn,H,ee);if(m.lineTo(fs.x,fs.y),ci>0){const ns=Ga(Do,la,H,ee);m.arc(ns.x,ns.y,ci,Hn+rn,la+Math.PI)}const tr=(Hn-ci/Vt+(Zn+Gn/Vt))/2;if(m.arc(H,ee,Vt,Hn-ci/Vt,tr,!0),m.arc(H,ee,Vt,tr,Zn+Gn/Vt,!0),Gn>0){const ns=Ga(Wi,Pr,H,ee);m.arc(ns.x,ns.y,Gn,Pr+Math.PI,Zn-rn)}const Sa=Ga(di,Zn,H,ee);if(m.lineTo(Sa.x,Sa.y),Xn>0){const ns=Ga(di,Fi,H,ee);m.arc(ns.x,ns.y,Xn,Zn-rn,Fi)}}else{m.moveTo(H,ee);const Uo=Math.cos(Fi)*wt+H,fs=Math.sin(Fi)*wt+ee;m.lineTo(Uo,fs);const tr=Math.cos(ro)*wt+H,Sa=Math.sin(ro)*wt+ee;m.lineTo(tr,Sa)}m.closePath()}Ci(oa,"defaults",$i),Ci(oa,"instances",Tc),Ci(oa,"overrides",Ii),Ci(oa,"registry",Gr),Ci(oa,"version","4.3.3"),Ci(oa,"getChart",ia);class wl extends ya{constructor(g){super(),Ci(this,"circumference"),Ci(this,"endAngle"),Ci(this,"fullCircles"),Ci(this,"innerRadius"),Ci(this,"outerRadius"),Ci(this,"pixelMargin"),Ci(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,g&&Object.assign(this,g)}inRange(g,C,I){const M=this.getProps(["x","y"],I),{angle:H,distance:ee}=xn(M,{x:g,y:C}),{startAngle:fe,endAngle:Oe,innerRadius:at,outerRadius:wt,circumference:Vt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],I),nn=(this.options.spacing+this.options.borderWidth)/2,Cn=yt(Vt,Oe-fe)>=gn||Wn(H,fe,Oe),In=ii(ee,at+nn,wt+nn);return Cn&&In}getCenterPoint(g){const{x:C,y:I,startAngle:M,endAngle:H,innerRadius:ee,outerRadius:fe}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],g),{offset:Oe,spacing:at}=this.options,wt=(M+H)/2,Vt=(ee+fe+at+Oe)/2;return{x:C+Math.cos(wt)*Vt,y:I+Math.sin(wt)*Vt}}tooltipPosition(g){return this.getCenterPoint(g)}draw(g){const{options:C,circumference:I}=this,M=(C.offset||0)/4,H=(C.spacing||0)/2,ee=C.circular;if(this.pixelMargin="inner"===C.borderAlign?.33:0,this.fullCircles=I>gn?Math.floor(I/gn):0,0===I||this.innerRadius<0||this.outerRadius<0)return;g.save();const fe=(this.startAngle+this.endAngle)/2;g.translate(Math.cos(fe)*M,Math.sin(fe)*M);const at=M*(1-Math.sin(Math.min($t,I||0)));g.fillStyle=C.backgroundColor,g.strokeStyle=C.borderColor,function kf(m,c,g,C,I){const{fullCircles:M,startAngle:H,circumference:ee}=c;let fe=c.endAngle;if(M){tu(m,c,g,C,fe,I);for(let Oe=0;Oe<M;++Oe)m.fill();isNaN(ee)||(fe=H+(ee%gn||gn))}tu(m,c,g,C,fe,I),m.fill()}(g,this,at,H,ee),function Rs(m,c,g,C,I){const{fullCircles:M,startAngle:H,circumference:ee,options:fe}=c,{borderWidth:Oe,borderJoinStyle:at,borderDash:wt,borderDashOffset:Vt}=fe,nn="inner"===fe.borderAlign;if(!Oe)return;m.setLineDash(wt||[]),m.lineDashOffset=Vt,nn?(m.lineWidth=2*Oe,m.lineJoin=at||"round"):(m.lineWidth=Oe,m.lineJoin=at||"bevel");let mn=c.endAngle;if(M){tu(m,c,g,C,mn,I);for(let Cn=0;Cn<M;++Cn)m.stroke();isNaN(ee)||(mn=H+(ee%gn||gn))}nn&&function Dh(m,c,g){const{startAngle:C,pixelMargin:I,x:M,y:H,outerRadius:ee,innerRadius:fe}=c;let Oe=I/ee;m.beginPath(),m.arc(M,H,ee,C-Oe,g+Oe),fe>I?(Oe=I/fe,m.arc(M,H,fe,g+Oe,C-Oe,!0)):m.arc(M,H,I,g+rn,C-rn),m.closePath(),m.clip()}(m,c,mn),M||(tu(m,c,g,C,mn,I),m.stroke())}(g,this,at,H,ee),g.restore()}}function ln(m,c,g=c){m.lineCap=yt(g.borderCapStyle,c.borderCapStyle),m.setLineDash(yt(g.borderDash,c.borderDash)),m.lineDashOffset=yt(g.borderDashOffset,c.borderDashOffset),m.lineJoin=yt(g.borderJoinStyle,c.borderJoinStyle),m.lineWidth=yt(g.borderWidth,c.borderWidth),m.strokeStyle=yt(g.borderColor,c.borderColor)}function ql(m,c,g){m.lineTo(g.x,g.y)}function ko(m,c,g={}){const C=m.length,{start:I=0,end:M=C-1}=g,{start:H,end:ee}=c,fe=Math.max(I,H),Oe=Math.min(M,ee);return{count:C,start:fe,loop:c.loop,ilen:Oe<fe&&!(I<H&&M<H||I>ee&&M>ee)?C+Oe-fe:Oe-fe}}function Ph(m,c,g,C){const{points:I,options:M}=c,{count:H,start:ee,loop:fe,ilen:Oe}=ko(I,g,C),at=function Jo(m){return m.stepped?Vs:m.tension||"monotone"===m.cubicInterpolationMode?Ar:ql}(M);let nn,mn,Cn,{move:wt=!0,reverse:Vt}=C||{};for(nn=0;nn<=Oe;++nn)mn=I[(ee+(Vt?Oe-nn:nn))%H],!mn.skip&&(wt?(m.moveTo(mn.x,mn.y),wt=!1):at(m,Cn,mn,Vt,M.stepped),Cn=mn);return fe&&(mn=I[(ee+(Vt?Oe:0))%H],at(m,Cn,mn,Vt,M.stepped)),!!fe}function Lh(m,c,g,C){const I=c.points,{count:M,start:H,ilen:ee}=ko(I,g,C),{move:fe=!0,reverse:Oe}=C||{};let Vt,nn,mn,Cn,In,Zn,at=0,wt=0;const Hn=ni=>(H+(Oe?ee-ni:ni))%M,Xn=()=>{Cn!==In&&(m.lineTo(at,In),m.lineTo(at,Cn),m.lineTo(at,Zn))};for(fe&&(nn=I[Hn(0)],m.moveTo(nn.x,nn.y)),Vt=0;Vt<=ee;++Vt){if(nn=I[Hn(Vt)],nn.skip)continue;const ni=nn.x,Gn=nn.y,ci=0|ni;ci===mn?(Gn<Cn?Cn=Gn:Gn>In&&(In=Gn),at=(wt*at+ni)/++wt):(Xn(),m.lineTo(ni,Gn),mn=ci,wt=0,Cn=In=Gn),Zn=Gn}Xn()}function Ac(m){const c=m.options;return m._decimated||m._loop||c.tension||"monotone"===c.cubicInterpolationMode||c.stepped||c.borderDash&&c.borderDash.length?Ph:Lh}Ci(wl,"id","arc"),Ci(wl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ci(wl,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ci(wl,"descriptors",{_scriptable:!0,_indexable:g=>"borderDash"!==g});const nu="function"==typeof Path2D;class El extends ya{constructor(c){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,c&&Object.assign(this,c)}updateControlPoints(c,g){const C=this.options;!C.tension&&"monotone"!==C.cubicInterpolationMode||C.stepped||this._pointsUpdated||(it(this._points,C,c,C.spanGaps?this._loop:this._fullLoop,g),this._pointsUpdated=!0)}set points(c){this._points=c,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function ji(m,c){const g=m.points,C=m.options.spanGaps,I=g.length;if(!I)return[];const M=!!m._loop,{start:H,end:ee}=function co(m,c,g,C){let I=0,M=c-1;if(g&&!C)for(;I<c&&!m[I].skip;)I++;for(;I<c&&m[I].skip;)I++;for(I%=c,g&&(M+=I);M>I&&m[M%c].skip;)M--;return M%=c,{start:I,end:M}}(g,I,M,C);return function mo(m,c,g,C){return C&&C.setContext&&g?function yi(m,c,g,C){const I=m._chart.getContext(),M=Co(m.options),{_datasetIndex:H,options:{spanGaps:ee}}=m,fe=g.length,Oe=[];let at=M,wt=c[0].start,Vt=wt;function nn(mn,Cn,In,Zn){const Hn=ee?-1:1;if(mn!==Cn){for(mn+=fe;g[mn%fe].skip;)mn-=Hn;for(;g[Cn%fe].skip;)Cn+=Hn;mn%fe!=Cn%fe&&(Oe.push({start:mn%fe,end:Cn%fe,loop:In,style:Zn}),at=Zn,wt=Cn%fe)}}for(const mn of c){wt=ee?wt:mn.start;let In,Cn=g[wt%fe];for(Vt=wt+1;Vt<=mn.end;Vt++){const Zn=g[Vt%fe];In=Co(C.setContext(Zi(I,{type:"segment",p0:Cn,p1:Zn,p0DataIndex:(Vt-1)%fe,p1DataIndex:Vt%fe,datasetIndex:H}))),Ko(In,at)&&nn(wt,Vt-1,mn.loop,at),Cn=Zn,at=In}wt<Vt-1&&nn(wt,Vt-1,mn.loop,at)}return Oe}(m,c,g,C):c}(m,!0===C?[{start:H,end:ee,loop:M}]:function fo(m,c,g,C){const I=m.length,M=[];let fe,H=c,ee=m[c];for(fe=c+1;fe<=g;++fe){const Oe=m[fe%I];Oe.skip||Oe.stop?ee.skip||(M.push({start:c%I,end:(fe-1)%I,loop:C=!1}),c=H=Oe.stop?fe:null):(H=fe,ee.skip&&(c=fe)),ee=Oe}return null!==H&&M.push({start:c%I,end:H%I,loop:C}),M}(g,H,ee<H?ee+I:ee,!!m._fullLoop&&0===H&&ee===I-1),g,c)}(this,this.options.segment))}first(){const c=this.segments;return c.length&&this.points[c[0].start]}last(){const c=this.segments,C=c.length;return C&&this.points[c[C-1].end]}interpolate(c,g){const C=this.options,I=c[g],M=this.points,H=to(this,{property:g,start:I,end:I});if(!H.length)return;const ee=[],fe=function cp(m){return m.stepped?_a:m.tension||"monotone"===m.cubicInterpolationMode?Ma:gr}(C);let Oe,at;for(Oe=0,at=H.length;Oe<at;++Oe){const{start:wt,end:Vt}=H[Oe],nn=M[wt],mn=M[Vt];if(nn===mn){ee.push(nn);continue}const In=fe(nn,mn,Math.abs((I-nn[g])/(mn[g]-nn[g])),C.stepped);In[g]=c[g],ee.push(In)}return 1===ee.length?ee[0]:ee}pathSegment(c,g,C){return Ac(this)(c,this,g,C)}path(c,g,C){const I=this.segments,M=Ac(this);let H=this._loop;g=g||0,C=C||this.points.length-g;for(const ee of I)H&=M(c,this,ee,{start:g,end:g+C-1});return!!H}draw(c,g,C,I){(this.points||[]).length&&(this.options||{}).borderWidth&&(c.save(),function up(m,c,g,C){nu&&!c.options.segment?function Rh(m,c,g,C){let I=c._path;I||(I=c._path=new Path2D,c.path(I,g,C)&&I.closePath()),ln(m,c.options),m.stroke(I)}(m,c,g,C):function sa(m,c,g,C){const{segments:I,options:M}=c,H=Ac(c);for(const ee of I)ln(m,M,ee.style),m.beginPath(),H(m,c,ee,{start:g,end:g+C-1})&&m.closePath(),m.stroke()}(m,c,g,C)}(c,this,C,I),c.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function td(m,c,g,C){const I=m.options,{[g]:M}=m.getProps([g],C);return Math.abs(c-M)<I.radius+I.hitRadius}Ci(El,"id","line"),Ci(El,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ci(El,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ci(El,"descriptors",{_scriptable:!0,_indexable:c=>"borderDash"!==c&&"fill"!==c});class ul extends ya{constructor(g){super(),Ci(this,"parsed"),Ci(this,"skip"),Ci(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,g&&Object.assign(this,g)}inRange(g,C,I){const M=this.options,{x:H,y:ee}=this.getProps(["x","y"],I);return Math.pow(g-H,2)+Math.pow(C-ee,2)<Math.pow(M.hitRadius+M.radius,2)}inXRange(g,C){return td(this,g,"x",C)}inYRange(g,C){return td(this,g,"y",C)}getCenterPoint(g){const{x:C,y:I}=this.getProps(["x","y"],g);return{x:C,y:I}}size(g){let C=(g=g||this.options||{}).radius||0;return C=Math.max(C,C&&g.hoverRadius||0),2*(C+(C&&g.borderWidth||0))}draw(g,C){const I=this.options;this.skip||I.radius<.1||!ys(this,C,this.size(I)/2)||(g.strokeStyle=I.borderColor,g.lineWidth=I.borderWidth,g.fillStyle=I.backgroundColor,rs(g,I,this.x,this.y))}getRange(){const g=this.options||{};return g.radius+g.hitRadius}}function iu(m,c){const{x:g,y:C,base:I,width:M,height:H}=m.getProps(["x","y","base","width","height"],c);let ee,fe,Oe,at,wt;return m.horizontal?(wt=H/2,ee=Math.min(g,I),fe=Math.max(g,I),Oe=C-wt,at=C+wt):(wt=M/2,ee=g-wt,fe=g+wt,Oe=Math.min(C,I),at=Math.max(C,I)),{left:ee,top:Oe,right:fe,bottom:at}}function dl(m,c,g,C){return m?0:si(c,g,C)}function ou(m,c,g,C){const I=null===c,M=null===g,ee=m&&!(I&&M)&&iu(m,C);return ee&&(I||ii(c,ee.left,ee.right))&&(M||ii(g,ee.top,ee.bottom))}function dp(m,c){m.rect(c.x,c.y,c.w,c.h)}function Ec(m,c,g={}){const C=m.x!==g.x?-c:0,I=m.y!==g.y?-c:0;return{x:m.x+C,y:m.y+I,w:m.w+((m.x+m.w!==g.x+g.w?c:0)-C),h:m.h+((m.y+m.h!==g.y+g.h?c:0)-I),radius:m.radius}}Ci(ul,"id","point"),Ci(ul,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ci(ul,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Sc extends ya{constructor(c){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,c&&Object.assign(this,c)}draw(c){const{inflateAmount:g,options:{borderColor:C,backgroundColor:I}}=this,{inner:M,outer:H}=function wc(m){const c=iu(m),g=c.right-c.left,C=c.bottom-c.top,I=function Wa(m,c,g){const I=m.borderSkipped,M=Le(m.options.borderWidth);return{t:dl(I.top,M.top,0,g),r:dl(I.right,M.right,0,c),b:dl(I.bottom,M.bottom,0,g),l:dl(I.left,M.left,0,c)}}(m,g/2,C/2),M=function Nh(m,c,g){const{enableBorderRadius:C}=m.getProps(["enableBorderRadius"]),I=m.options.borderRadius,M=It(I),H=Math.min(c,g),ee=m.borderSkipped,fe=C||ge(I);return{topLeft:dl(!fe||ee.top||ee.left,M.topLeft,0,H),topRight:dl(!fe||ee.top||ee.right,M.topRight,0,H),bottomLeft:dl(!fe||ee.bottom||ee.left,M.bottomLeft,0,H),bottomRight:dl(!fe||ee.bottom||ee.right,M.bottomRight,0,H)}}(m,g/2,C/2);return{outer:{x:c.left,y:c.top,w:g,h:C,radius:M},inner:{x:c.left+I.l,y:c.top+I.t,w:g-I.l-I.r,h:C-I.t-I.b,radius:{topLeft:Math.max(0,M.topLeft-Math.max(I.t,I.l)),topRight:Math.max(0,M.topRight-Math.max(I.t,I.r)),bottomLeft:Math.max(0,M.bottomLeft-Math.max(I.b,I.l)),bottomRight:Math.max(0,M.bottomRight-Math.max(I.b,I.r))}}}}(this),ee=function Fh(m){return m.topLeft||m.topRight||m.bottomLeft||m.bottomRight}(H.radius)?Yo:dp;c.save(),(H.w!==M.w||H.h!==M.h)&&(c.beginPath(),ee(c,Ec(H,g,M)),c.clip(),ee(c,Ec(M,-g,H)),c.fillStyle=C,c.fill("evenodd")),c.beginPath(),ee(c,Ec(M,g)),c.fillStyle=I,c.fill(),c.restore()}inRange(c,g,C){return ou(this,c,g,C)}inXRange(c,g){return ou(this,c,null,g)}inYRange(c,g){return ou(this,null,c,g)}getCenterPoint(c){const{x:g,y:C,base:I,horizontal:M}=this.getProps(["x","y","base","horizontal"],c);return{x:M?(g+I)/2:g,y:M?C:(C+I)/2}}getRange(c){return"x"===c?this.width/2:this.height/2}}Ci(Sc,"id","bar"),Ci(Sc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ci(Sc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var q_=Object.freeze({__proto__:null,ArcElement:wl,BarElement:Sc,LineElement:El,PointElement:ul});const ra=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],su=ra.map(m=>m.replace("rgb(","rgba(").replace(")",", 0.5)"));function pp(m){return ra[m%ra.length]}function hp(m){return su[m%su.length]}function $l(m){let c;for(c in m)if(m[c].borderColor||m[c].backgroundColor)return!0;return!1}var nd={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(m,c,g){if(!g.enabled)return;const{data:{datasets:C},options:I}=m.config,{elements:M}=I;if(!g.forceOverride&&($l(C)||function Zh(m){return m&&(m.borderColor||m.backgroundColor)}(I)||M&&$l(M)))return;const H=function Bh(m){let c=0;return(g,C)=>{const I=m.getDatasetMeta(C).controller;I instanceof No?c=function Ts(m,c){return m.backgroundColor=m.data.map(()=>pp(c++)),c}(g,c):I instanceof Qs?c=function gp(m,c){return m.backgroundColor=m.data.map(()=>hp(c++)),c}(g,c):I&&(c=function Ya(m,c){return m.borderColor=pp(c),m.backgroundColor=hp(c),++c}(g,c))}}(m);C.forEach(H)}};function od(m){if(m._decimated){const c=m._data;delete m._decimated,delete m._data,Object.defineProperty(m,"data",{configurable:!0,enumerable:!0,writable:!0,value:c})}}function ru(m){m.data.datasets.forEach(c=>{od(c)})}var Xl={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(m,c,g)=>{if(!g.enabled)return void ru(m);const C=m.width;m.data.datasets.forEach((I,M)=>{const{_data:H,indexAxis:ee}=I,fe=m.getDatasetMeta(M),Oe=H||I.data;if("y"===qn([ee,m.options.indexAxis])||!fe.controller.supportsDecimation)return;const at=m.scales[fe.xAxisID];if("linear"!==at.type&&"time"!==at.type||m.options.parsing)return;let mn,{start:wt,count:Vt}=function Uh(m,c){const g=c.length;let I,C=0;const{iScale:M}=m,{min:H,max:ee,minDefined:fe,maxDefined:Oe}=M.getUserBounds();return fe&&(C=si(qi(c,M.axis,H).lo,0,g-1)),I=Oe?si(qi(c,M.axis,ee).hi+1,C,g)-C:g-C,{start:C,count:I}}(fe,Oe);if(Vt<=(g.threshold||4*C))od(I);else{switch(st(H)&&(I._data=Oe,delete I.data,Object.defineProperty(I,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Cn){this._data=Cn}})),g.algorithm){case"lttb":mn=function fp(m,c,g,C,I){const M=I.samples||C;if(M>=g)return m.slice(c,c+g);const H=[],ee=(g-2)/(M-2);let fe=0;const Oe=c+g-1;let wt,Vt,nn,mn,Cn,at=c;for(H[fe++]=m[at],wt=0;wt<M-2;wt++){let Hn,In=0,Zn=0;const Xn=Math.floor((wt+1)*ee)+1+c,ni=Math.min(Math.floor((wt+2)*ee)+1,g)+c,Gn=ni-Xn;for(Hn=Xn;Hn<ni;Hn++)In+=m[Hn].x,Zn+=m[Hn].y;In/=Gn,Zn/=Gn;const ci=Math.floor(wt*ee)+1+c,di=Math.min(Math.floor((wt+1)*ee)+1,g)+c,{x:hi,y:Fi}=m[at];for(nn=mn=-1,Hn=ci;Hn<di;Hn++)mn=.5*Math.abs((hi-In)*(m[Hn].y-Fi)-(hi-m[Hn].x)*(Zn-Fi)),mn>nn&&(nn=mn,Vt=m[Hn],Cn=Hn);H[fe++]=Vt,at=Cn}return H[fe++]=m[Oe],H}(Oe,wt,Vt,C,g);break;case"min-max":mn=function id(m,c,g,C){let H,ee,fe,Oe,at,wt,Vt,nn,mn,Cn,I=0,M=0;const In=[],Hn=m[c].x,ni=m[c+g-1].x-Hn;for(H=c;H<c+g;++H){ee=m[H],fe=(ee.x-Hn)/ni*C,Oe=ee.y;const Gn=0|fe;if(Gn===at)Oe<mn?(mn=Oe,wt=H):Oe>Cn&&(Cn=Oe,Vt=H),I=(M*I+ee.x)/++M;else{const ci=H-1;if(!st(wt)&&!st(Vt)){const di=Math.min(wt,Vt),hi=Math.max(wt,Vt);di!==nn&&di!==ci&&In.push(cb(lb({},m[di]),{x:I})),hi!==nn&&hi!==ci&&In.push(cb(lb({},m[hi]),{x:I}))}H>0&&ci!==nn&&In.push(m[ci]),In.push(ee),at=Gn,M=0,mn=Cn=Oe,wt=Vt=nn=H}}return In}(Oe,wt,Vt,C);break;default:throw new Error(`Unsupported decimation algorithm '${g.algorithm}'`)}I._decimated=mn}})},destroy(m){ru(m)}};function au(m,c,g,C){if(C)return;let I=c[m],M=g[m];return"angle"===m&&(I=yn(I),M=yn(M)),{property:m,start:I,end:M}}function ec(m,c,g){for(;c>m;c--){const C=g[c];if(!isNaN(C.x)&&!isNaN(C.y))break}return c}function mp(m,c,g,C){return m&&c?C(m[g],c[g]):m?m[g]:c?c[g]:0}function Hh(m,c){let g=[],C=!1;return ot(m)?(C=!0,g=m):g=function Sl(m,c){const{x:g=null,y:C=null}=m||{},I=c.points,M=[];return c.segments.forEach(({start:H,end:ee})=>{ee=ec(H,ee,I);const fe=I[H],Oe=I[ee];null!==C?(M.push({x:fe.x,y:C}),M.push({x:Oe.x,y:C})):null!==g&&(M.push({x:g,y:fe.y}),M.push({x:g,y:Oe.y}))}),M}(m,c),g.length?new El({points:g,options:{tension:0},_loop:C,_fullLoop:C}):null}function _p(m){return m&&!1!==m.fill}function rd(m,c,g){let I=m[c].fill;const M=[c];let H;if(!g)return I;for(;!1!==I&&-1===M.indexOf(I);){if(!ke(I))return I;if(H=m[I],!H)return!1;if(H.visible)return I;M.push(I),I=H.fill}return!1}function Df(m,c,g){const C=function Cp(m){const c=m.options,g=c.fill;let C=yt(g&&g.target,g);return void 0===C&&(C=!!c.backgroundColor),!1!==C&&null!==C&&(!0===C?"origin":C)}(m);if(ge(C))return!isNaN(C.value)&&C;let I=parseFloat(C);return ke(I)&&Math.floor(I)===I?function Vh(m,c,g,C){return("-"===m||"+"===m)&&(g=c+g),!(g===c||g<0||g>=C)&&g}(C[0],c,I,g):["origin","start","end","stack","shape"].indexOf(C)>=0&&C}function tc(m,c,g){const C=[];for(let I=0;I<g.length;I++){const M=g[I],{first:H,last:ee,point:fe}=ld(M,c,"x");if(!(!fe||H&&ee))if(H)C.unshift(fe);else if(m.push(fe),!ee)break}m.push(...C)}function ld(m,c,g){const C=m.interpolate(c,g);if(!C)return{};const I=C[g],M=m.segments,H=m.points;let ee=!1,fe=!1;for(let Oe=0;Oe<M.length;Oe++){const at=M[Oe],wt=H[at.start][g],Vt=H[at.end][g];if(ii(I,wt,Vt)){ee=I===wt,fe=I===Vt;break}}return{first:ee,last:fe,point:C}}class kc{constructor(c){this.x=c.x,this.y=c.y,this.radius=c.radius}pathSegment(c,g,C){const{x:I,y:M,radius:H}=this;return c.arc(I,M,H,(g=g||{start:0,end:gn}).end,g.start,!0),!C.bounds}interpolate(c){const{x:g,y:C,radius:I}=this,M=c.angle;return{x:g+Math.cos(M)*I,y:C+Math.sin(M)*I,angle:M}}}function yp(m,c,g){const C=function cd(m){const{chart:c,fill:g,line:C}=m;if(ke(g))return function ud(m,c){const g=m.getDatasetMeta(c);return g&&m.isDatasetVisible(c)?g.dataset:null}(c,g);if("stack"===g)return function vp(m){const{scale:c,index:g,line:C}=m,I=[],M=C.segments,H=C.points,ee=function ad(m,c){const g=[],C=m.getMatchingVisibleMetas("line");for(let I=0;I<C.length;I++){const M=C[I];if(M.index===c)break;M.hidden||g.unshift(M.dataset)}return g}(c,g);ee.push(Hh({x:null,y:c.bottom},C));for(let fe=0;fe<M.length;fe++){const Oe=M[fe];for(let at=Oe.start;at<=Oe.end;at++)tc(I,H[at],ee)}return new El({points:I,options:{}})}(m);if("shape"===g)return!0;const I=function nc(m){return(m.scale||{}).getPointPositionForValue?function dd(m){const{scale:c,fill:g}=m,C=c.options,I=c.getLabels().length,M=C.reverse?c.max:c.min,H=function zh(m,c,g){let C;return C="start"===m?g:"end"===m?c.options.reverse?c.min:c.max:ge(m)?m.value:c.getBaseValue(),C}(g,c,M),ee=[];if(C.grid.circular){const fe=c.getPointPositionForValue(0,M);return new kc({x:fe.x,y:fe.y,radius:c.getDistanceFromCenterForValue(H)})}for(let fe=0;fe<I;++fe)ee.push(c.getPointPositionForValue(fe,H));return ee}(m):function bp(m){const{scale:c={},fill:g}=m,C=function Mf(m,c){let g=null;return"start"===m?g=c.bottom:"end"===m?g=c.top:ge(m)?g=c.getPixelForValue(m.value):c.getBasePixel&&(g=c.getBasePixel()),g}(g,c);if(ke(C)){const I=c.isHorizontal();return{x:I?C:null,y:I?null:C}}return null}(m)}(m);return I instanceof kc?I:Hh(I,C)}(c),{line:I,scale:M,axis:H}=c,ee=I.options,fe=ee.fill,Oe=ee.backgroundColor,{above:at=Oe,below:wt=Oe}=fe||{};C&&I.points.length&&(xs(m,g),function Jh(m,c){const{line:g,target:C,above:I,below:M,area:H,scale:ee}=c,fe=g._loop?"angle":c.axis;m.save(),"x"===fe&&M!==I&&(xp(m,C,H.top),pd(m,{line:g,target:C,color:I,scale:ee,property:fe}),m.restore(),m.save(),xp(m,C,H.bottom)),pd(m,{line:g,target:C,color:M,scale:ee,property:fe}),m.restore()}(m,{line:I,target:C,above:at,below:wt,area:g,scale:M,axis:H}),ws(m))}function xp(m,c,g){const{segments:C,points:I}=c;let M=!0,H=!1;m.beginPath();for(const ee of C){const{start:fe,end:Oe}=ee,at=I[fe],wt=I[ec(fe,Oe,I)];M?(m.moveTo(at.x,at.y),M=!1):(m.lineTo(at.x,g),m.lineTo(at.x,at.y)),H=!!c.pathSegment(m,ee,{move:H}),H?m.closePath():m.lineTo(wt.x,g)}m.lineTo(c.first().x,g),m.closePath(),m.clip()}function pd(m,c){const{line:g,target:C,property:I,color:M,scale:H}=c,ee=function sd(m,c,g){const C=m.segments,I=m.points,M=c.points,H=[];for(const ee of C){let{start:fe,end:Oe}=ee;Oe=ec(fe,Oe,I);const at=au(g,I[fe],I[Oe],ee.loop);if(!c.segments){H.push({source:ee,target:at,start:I[fe],end:I[Oe]});continue}const wt=to(c,at);for(const Vt of wt){const nn=au(g,M[Vt.start],M[Vt.end],Vt.loop),mn=ui(ee,I,nn);for(const Cn of mn)H.push({source:Cn,target:Vt,start:{[g]:mp(at,nn,"start",Math.max)},end:{[g]:mp(at,nn,"end",Math.min)}})}}return H}(g,C,I);for(const{source:fe,target:Oe,start:at,end:wt}of ee){const{style:{backgroundColor:Vt=M}={}}=fe,nn=!0!==C;m.save(),m.fillStyle=Vt,lu(m,H,nn&&au(I,at,wt)),m.beginPath();const mn=!!g.pathSegment(m,fe);let Cn;if(nn){mn?m.closePath():hd(m,C,wt,I);const In=!!C.pathSegment(m,Oe,{move:mn,reverse:!0});Cn=mn&&In,Cn||hd(m,C,at,I)}m.closePath(),m.fill(Cn?"evenodd":"nonzero"),m.restore()}}function lu(m,c,g){const{top:C,bottom:I}=c.chart.chartArea,{property:M,start:H,end:ee}=g||{};"x"===M&&(m.beginPath(),m.rect(H,C,ee-H,I-C),m.clip())}function hd(m,c,g,C){const I=c.interpolate(g,C);I&&m.lineTo(I.x,I.y)}var ic={id:"filler",afterDatasetsUpdate(m,c,g){const C=(m.data.datasets||[]).length,I=[];let M,H,ee,fe;for(H=0;H<C;++H)M=m.getDatasetMeta(H),ee=M.dataset,fe=null,ee&&ee.options&&ee instanceof El&&(fe={visible:m.isDatasetVisible(H),index:H,fill:Df(ee,H,C),chart:m,axis:M.controller.options.indexAxis,scale:M.vScale,line:ee}),M.$filler=fe,I.push(fe);for(H=0;H<C;++H)fe=I[H],fe&&!1!==fe.fill&&(fe.fill=rd(I,H,g.propagate))},beforeDraw(m,c,g){const C="beforeDraw"===g.drawTime,I=m.getSortedVisibleDatasetMetas(),M=m.chartArea;for(let H=I.length-1;H>=0;--H){const ee=I[H].$filler;!ee||(ee.line.updateControlPoints(M,ee.axis),C&&ee.fill&&yp(m.ctx,ee,M))}},beforeDatasetsDraw(m,c,g){if("beforeDatasetsDraw"!==g.drawTime)return;const C=m.getSortedVisibleDatasetMetas();for(let I=C.length-1;I>=0;--I){const M=C[I].$filler;_p(M)&&yp(m.ctx,M,m.chartArea)}},beforeDatasetDraw(m,c,g){const C=c.meta.$filler;!_p(C)||"beforeDatasetDraw"!==g.drawTime||yp(m.ctx,C,m.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ip=(m,c)=>{let{boxHeight:g=c,boxWidth:C=c}=m;return m.usePointStyle&&(g=Math.min(g,c),C=m.pointStyleWidth||Math.min(C,c)),{boxWidth:C,boxHeight:g,itemHeight:Math.max(c,g)}};class Gh extends ya{constructor(c){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,g,C){this.maxWidth=c,this.maxHeight=g,this._margins=C,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const c=this.options.labels||{};let g=Ot(c.generateLabels,[this.chart],this)||[];c.filter&&(g=g.filter(C=>c.filter(C,this.chart.data))),c.sort&&(g=g.sort((C,I)=>c.sort(C,I,this.chart.data))),this.options.reverse&&g.reverse(),this.legendItems=g}fit(){const{options:c,ctx:g}=this;if(!c.display)return void(this.width=this.height=0);const C=c.labels,I=Pn(C.font),M=I.size,H=this._computeTitleHeight(),{boxWidth:ee,itemHeight:fe}=Ip(C,M);let Oe,at;g.font=I.string,this.isHorizontal()?(Oe=this.maxWidth,at=this._fitRows(H,M,ee,fe)+10):(at=this.maxHeight,Oe=this._fitCols(H,I,ee,fe)+10),this.width=Math.min(Oe,c.maxWidth||this.maxWidth),this.height=Math.min(at,c.maxHeight||this.maxHeight)}_fitRows(c,g,C,I){const{ctx:M,maxWidth:H,options:{labels:{padding:ee}}}=this,fe=this.legendHitBoxes=[],Oe=this.lineWidths=[0],at=I+ee;let wt=c;M.textAlign="left",M.textBaseline="middle";let Vt=-1,nn=-at;return this.legendItems.forEach((mn,Cn)=>{const In=C+g/2+M.measureText(mn.text).width;(0===Cn||Oe[Oe.length-1]+In+2*ee>H)&&(wt+=at,Oe[Oe.length-(Cn>0?0:1)]=0,nn+=at,Vt++),fe[Cn]={left:0,top:nn,row:Vt,width:In,height:I},Oe[Oe.length-1]+=In+ee}),wt}_fitCols(c,g,C,I){const{ctx:M,maxHeight:H,options:{labels:{padding:ee}}}=this,fe=this.legendHitBoxes=[],Oe=this.columnSizes=[],at=H-c;let wt=ee,Vt=0,nn=0,mn=0,Cn=0;return this.legendItems.forEach((In,Zn)=>{const{itemWidth:Hn,itemHeight:Xn}=function gd(m,c,g,C,I){const M=function fd(m,c,g,C){let I=m.text;return I&&"string"!=typeof I&&(I=I.reduce((M,H)=>M.length>H.length?M:H)),c+g.size/2+C.measureText(I).width}(C,m,c,g),H=function Of(m,c,g){let C=m;return"string"!=typeof c.text&&(C=oc(c,g)),C}(I,C,c.lineHeight);return{itemWidth:M,itemHeight:H}}(C,g,M,In,I);Zn>0&&nn+Xn+2*ee>at&&(wt+=Vt+ee,Oe.push({width:Vt,height:nn}),mn+=Vt+ee,Cn++,Vt=nn=0),fe[Zn]={left:mn,top:nn,col:Cn,width:Hn,height:Xn},Vt=Math.max(Vt,Hn),nn+=Xn+ee}),wt+=Vt,Oe.push({width:Vt,height:nn}),wt}adjustHitBoxes(){if(!this.options.display)return;const c=this._computeTitleHeight(),{legendHitBoxes:g,options:{align:C,labels:{padding:I},rtl:M}}=this,H=gt(M,this.left,this.width);if(this.isHorizontal()){let ee=0,fe=Io(C,this.left+I,this.right-this.lineWidths[ee]);for(const Oe of g)ee!==Oe.row&&(ee=Oe.row,fe=Io(C,this.left+I,this.right-this.lineWidths[ee])),Oe.top+=this.top+c+I,Oe.left=H.leftForLtr(H.x(fe),Oe.width),fe+=Oe.width+I}else{let ee=0,fe=Io(C,this.top+c+I,this.bottom-this.columnSizes[ee].height);for(const Oe of g)Oe.col!==ee&&(ee=Oe.col,fe=Io(C,this.top+c+I,this.bottom-this.columnSizes[ee].height)),Oe.top=fe,Oe.left+=this.left+I,Oe.left=H.leftForLtr(H.x(Oe.left),Oe.width),fe+=Oe.height+I}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const c=this.ctx;xs(c,this),this._draw(),ws(c)}}_draw(){const{options:c,columnSizes:g,lineWidths:C,ctx:I}=this,{align:M,labels:H}=c,ee=$i.color,fe=gt(c.rtl,this.left,this.width),Oe=Pn(H.font),{padding:at}=H,wt=Oe.size,Vt=wt/2;let nn;this.drawTitle(),I.textAlign=fe.textAlign("left"),I.textBaseline="middle",I.lineWidth=.5,I.font=Oe.string;const{boxWidth:mn,boxHeight:Cn,itemHeight:In}=Ip(H,wt),Xn=this.isHorizontal(),ni=this._computeTitleHeight();nn=Xn?{x:Io(M,this.left+at,this.right-C[0]),y:this.top+at+ni,line:0}:{x:this.left+at,y:Io(M,this.top+ni+at,this.bottom-g[0].height),line:0},Ve(this.ctx,c.textDirection);const Gn=In+at;this.legendItems.forEach((ci,di)=>{I.strokeStyle=ci.fontColor,I.fillStyle=ci.fontColor;const hi=I.measureText(ci.text).width,Fi=fe.textAlign(ci.textAlign||(ci.textAlign=H.textAlign)),ro=mn+Vt+hi;let Wi=nn.x,Do=nn.y;fe.setWidth(this.width),Xn?di>0&&Wi+ro+at>this.right&&(Do=nn.y+=Gn,nn.line++,Wi=nn.x=Io(M,this.left+at,this.right-C[nn.line])):di>0&&Do+Gn>this.bottom&&(Wi=nn.x=Wi+g[nn.line].width+at,nn.line++,Do=nn.y=Io(M,this.top+ni+at,this.bottom-g[nn.line].height)),function(ci,di,hi){if(isNaN(mn)||mn<=0||isNaN(Cn)||Cn<0)return;I.save();const Fi=yt(hi.lineWidth,1);if(I.fillStyle=yt(hi.fillStyle,ee),I.lineCap=yt(hi.lineCap,"butt"),I.lineDashOffset=yt(hi.lineDashOffset,0),I.lineJoin=yt(hi.lineJoin,"miter"),I.lineWidth=Fi,I.strokeStyle=yt(hi.strokeStyle,ee),I.setLineDash(yt(hi.lineDash,[])),H.usePointStyle){const ro={radius:Cn*Math.SQRT2/2,pointStyle:hi.pointStyle,rotation:hi.rotation,borderWidth:Fi},Wi=fe.xPlus(ci,mn/2);go(I,ro,Wi,di+Vt,H.pointStyleWidth&&mn)}else{const ro=di+Math.max((wt-Cn)/2,0),Wi=fe.leftForLtr(ci,mn),Do=It(hi.borderRadius);I.beginPath(),Object.values(Do).some(Pr=>0!==Pr)?Yo(I,{x:Wi,y:ro,w:mn,h:Cn,radius:Do}):I.rect(Wi,ro,mn,Cn),I.fill(),0!==Fi&&I.stroke()}I.restore()}(fe.x(Wi),Do,ci),Wi=((m,c,g,C)=>m===(C?"left":"right")?g:"center"===m?(c+g)/2:c)(Fi,Wi+mn+Vt,Xn?Wi+ro:this.right,c.rtl),function(ci,di,hi){ps(I,hi.text,ci,di+In/2,Oe,{strikethrough:hi.hidden,textAlign:fe.textAlign(hi.textAlign)})}(fe.x(Wi),Do,ci),Xn?nn.x+=ro+at:nn.y+="string"!=typeof ci.text?oc(ci,Oe.lineHeight)+at:Gn}),Dt(this.ctx,c.textDirection)}drawTitle(){const c=this.options,g=c.title,C=Pn(g.font),I=Jt(g.padding);if(!g.display)return;const M=gt(c.rtl,this.left,this.width),H=this.ctx,ee=g.position,Oe=I.top+C.size/2;let at,wt=this.left,Vt=this.width;if(this.isHorizontal())Vt=Math.max(...this.lineWidths),at=this.top+Oe,wt=Io(c.align,wt,this.right-Vt);else{const mn=this.columnSizes.reduce((Cn,In)=>Math.max(Cn,In.height),0);at=Oe+Io(c.align,this.top,this.bottom-mn-c.labels.padding-this._computeTitleHeight())}const nn=Io(ee,wt,wt+Vt);H.textAlign=M.textAlign(uo(ee)),H.textBaseline="middle",H.strokeStyle=g.color,H.fillStyle=g.color,H.font=C.string,ps(H,g.text,nn,at,C)}_computeTitleHeight(){const c=this.options.title,g=Pn(c.font),C=Jt(c.padding);return c.display?g.lineHeight+C.height:0}_getLegendItemAt(c,g){let C,I,M;if(ii(c,this.left,this.right)&&ii(g,this.top,this.bottom))for(M=this.legendHitBoxes,C=0;C<M.length;++C)if(I=M[C],ii(c,I.left,I.left+I.width)&&ii(g,I.top,I.top+I.height))return this.legendItems[C];return null}handleEvent(c){const g=this.options;if(!function cu(m,c){return!(("mousemove"!==m&&"mouseout"!==m||!c.onHover&&!c.onLeave)&&(!c.onClick||"click"!==m&&"mouseup"!==m))}(c.type,g))return;const C=this._getLegendItemAt(c.x,c.y);if("mousemove"===c.type||"mouseout"===c.type){const I=this._hoveredItem,M=((m,c)=>null!==m&&null!==c&&m.datasetIndex===c.datasetIndex&&m.index===c.index)(I,C);I&&!M&&Ot(g.onLeave,[c,I,this],this),this._hoveredItem=C,C&&!M&&Ot(g.onHover,[c,C,this],this)}else C&&Ot(g.onClick,[c,C,this],this)}}function oc(m,c){return c*(m.text?m.text.length:0)}var Tp={id:"legend",_element:Gh,start(m,c,g){const C=m.legend=new Gh({ctx:m.ctx,options:g,chart:m});Ps.configure(m,C,g),Ps.addBox(m,C)},stop(m){Ps.removeBox(m,m.legend),delete m.legend},beforeUpdate(m,c,g){const C=m.legend;Ps.configure(m,C,g),C.options=g},afterUpdate(m){const c=m.legend;c.buildLabels(),c.adjustHitBoxes()},afterEvent(m,c){c.replay||m.legend.handleEvent(c.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(m,c,g){const C=c.datasetIndex,I=g.chart;I.isDatasetVisible(C)?(I.hide(C),c.hidden=!0):(I.show(C),c.hidden=!1)},onHover:null,onLeave:null,labels:{color:m=>m.chart.options.color,boxWidth:40,padding:10,generateLabels(m){const c=m.data.datasets,{labels:{usePointStyle:g,pointStyle:C,textAlign:I,color:M,useBorderRadius:H,borderRadius:ee}}=m.legend.options;return m._getSortedDatasetMetas().map(fe=>{const Oe=fe.controller.getStyle(g?0:void 0),at=Jt(Oe.borderWidth);return{text:c[fe.index].label,fillStyle:Oe.backgroundColor,fontColor:M,hidden:!fe.visible,lineCap:Oe.borderCapStyle,lineDash:Oe.borderDash,lineDashOffset:Oe.borderDashOffset,lineJoin:Oe.borderJoinStyle,lineWidth:(at.width+at.height)/4,strokeStyle:Oe.borderColor,pointStyle:C||Oe.pointStyle,rotation:Oe.rotation,textAlign:I||Oe.textAlign,borderRadius:H&&(ee||Oe.borderRadius),datasetIndex:fe.index}},this)}},title:{color:m=>m.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:m=>!m.startsWith("on"),labels:{_scriptable:m=>!["generateLabels","filter","sort"].includes(m)}}};class md extends ya{constructor(c){super(),this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,g){const C=this.options;if(this.left=0,this.top=0,!C.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=c,this.height=this.bottom=g;const I=ot(C.text)?C.text.length:1;this._padding=Jt(C.padding);const M=I*Pn(C.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=M:this.width=M}isHorizontal(){const c=this.options.position;return"top"===c||"bottom"===c}_drawArgs(c){const{top:g,left:C,bottom:I,right:M,options:H}=this,ee=H.align;let Oe,at,wt,fe=0;return this.isHorizontal()?(at=Io(ee,C,M),wt=g+c,Oe=M-C):("left"===H.position?(at=C+c,wt=Io(ee,I,g),fe=-.5*$t):(at=M-c,wt=Io(ee,g,I),fe=.5*$t),Oe=I-g),{titleX:at,titleY:wt,maxWidth:Oe,rotation:fe}}draw(){const c=this.ctx,g=this.options;if(!g.display)return;const C=Pn(g.font),M=C.lineHeight/2+this._padding.top,{titleX:H,titleY:ee,maxWidth:fe,rotation:Oe}=this._drawArgs(M);ps(c,g.text,0,0,C,{color:g.color,maxWidth:fe,rotation:Oe,textAlign:uo(g.align),textBaseline:"middle",translation:[H,ee]})}}var wp={id:"title",_element:md,start(m,c,g){!function Ap(m,c){const g=new md({ctx:m.ctx,options:c,chart:m});Ps.configure(m,g,c),Ps.addBox(m,g),m.titleBlock=g}(m,g)},stop(m){Ps.removeBox(m,m.titleBlock),delete m.titleBlock},beforeUpdate(m,c,g){const C=m.titleBlock;Ps.configure(m,C,g),C.options=g},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ja=new WeakMap;var Pf={id:"subtitle",start(m,c,g){const C=new md({ctx:m.ctx,options:g,chart:m});Ps.configure(m,C,g),Ps.addBox(m,C),ja.set(m,C)},stop(m){Ps.removeBox(m,ja.get(m)),ja.delete(m)},beforeUpdate(m,c,g){const C=ja.get(m);Ps.configure(m,C,g),C.options=g},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const uu={average(m){if(!m.length)return!1;let c,g,C=0,I=0,M=0;for(c=0,g=m.length;c<g;++c){const H=m[c].element;if(H&&H.hasValue()){const ee=H.tooltipPosition();C+=ee.x,I+=ee.y,++M}}return{x:C/M,y:I/M}},nearest(m,c){if(!m.length)return!1;let M,H,ee,g=c.x,C=c.y,I=Number.POSITIVE_INFINITY;for(M=0,H=m.length;M<H;++M){const fe=m[M].element;if(fe&&fe.hasValue()){const at=Zt(c,fe.getCenterPoint());at<I&&(I=at,ee=fe)}}if(ee){const fe=ee.tooltipPosition();g=fe.x,C=fe.y}return{x:g,y:C}}};function Ka(m,c){return c&&(ot(c)?Array.prototype.push.apply(m,c):m.push(c)),m}function pl(m){return("string"==typeof m||m instanceof String)&&m.indexOf("\n")>-1?m.split("\n"):m}function Wh(m,c){const{element:g,datasetIndex:C,index:I}=c,M=m.getDatasetMeta(C).controller,{label:H,value:ee}=M.getLabelAndValue(I);return{chart:m,label:H,parsed:M.getParsed(I),raw:m.data.datasets[C].data[I],formattedValue:ee,dataset:M.getDataset(),dataIndex:I,datasetIndex:C,element:g}}function qa(m,c){const g=m.chart.ctx,{body:C,footer:I,title:M}=m,{boxWidth:H,boxHeight:ee}=c,fe=Pn(c.bodyFont),Oe=Pn(c.titleFont),at=Pn(c.footerFont),wt=M.length,Vt=I.length,nn=C.length,mn=Jt(c.padding);let Cn=mn.height,In=0,Zn=C.reduce((ni,Gn)=>ni+Gn.before.length+Gn.lines.length+Gn.after.length,0);Zn+=m.beforeBody.length+m.afterBody.length,wt&&(Cn+=wt*Oe.lineHeight+(wt-1)*c.titleSpacing+c.titleMarginBottom),Zn&&(Cn+=nn*(c.displayColors?Math.max(ee,fe.lineHeight):fe.lineHeight)+(Zn-nn)*fe.lineHeight+(Zn-1)*c.bodySpacing),Vt&&(Cn+=c.footerMarginTop+Vt*at.lineHeight+(Vt-1)*c.footerSpacing);let Hn=0;const Xn=function(ni){In=Math.max(In,g.measureText(ni).width+Hn)};return g.save(),g.font=Oe.string,Ye(m.title,Xn),g.font=fe.string,Ye(m.beforeBody.concat(m.afterBody),Xn),Hn=c.displayColors?H+2+c.boxPadding:0,Ye(C,ni=>{Ye(ni.before,Xn),Ye(ni.lines,Xn),Ye(ni.after,Xn)}),Hn=0,g.font=at.string,Ye(m.footer,Xn),g.restore(),In+=mn.width,{width:In,height:Cn}}function Yh(m,c,g,C){const{x:I,width:M}=g,{width:H,chartArea:{left:ee,right:fe}}=m;let Oe="center";return"center"===C?Oe=I<=(ee+fe)/2?"left":"right":I<=M/2?Oe="left":I>=H-M/2&&(Oe="right"),function Lf(m,c,g,C){const{x:I,width:M}=C,H=g.caretSize+g.caretPadding;if("left"===m&&I+M+H>c.width||"right"===m&&I-M-H<0)return!0}(Oe,m,c,g)&&(Oe="center"),Oe}function Ep(m,c,g){const C=g.yAlign||c.yAlign||function Dc(m,c){const{y:g,height:C}=c;return g<C/2?"top":g>m.height-C/2?"bottom":"center"}(m,g);return{xAlign:g.xAlign||c.xAlign||Yh(m,c,g,C),yAlign:C}}function qh(m,c,g,C){const{caretSize:I,caretPadding:M,cornerRadius:H}=m,{xAlign:ee,yAlign:fe}=g,Oe=I+M,{topLeft:at,topRight:wt,bottomLeft:Vt,bottomRight:nn}=It(H);let mn=function jh(m,c){let{x:g,width:C}=m;return"right"===c?g-=C:"center"===c&&(g-=C/2),g}(c,ee);const Cn=function Kh(m,c,g){let{y:C,height:I}=m;return"top"===c?C+=g:C-="bottom"===c?I+g:I/2,C}(c,fe,Oe);return"center"===fe?"left"===ee?mn+=Oe:"right"===ee&&(mn-=Oe):"left"===ee?mn-=Math.max(at,Vt)+I:"right"===ee&&(mn+=Math.max(wt,nn)+I),{x:si(mn,0,C.width-c.width),y:si(Cn,0,C.height-c.height)}}function _d(m,c,g){const C=Jt(g.padding);return"center"===c?m.x+m.width/2:"right"===c?m.x+m.width-C.right:m.x+C.left}function $h(m){return Ka([],pl(m))}function eg(m,c){const g=c&&c.dataset&&c.dataset.tooltip&&c.dataset.tooltip.callbacks;return g?m.override(g):m}const tg={beforeTitle:Nt,title(m){if(m.length>0){const c=m[0],g=c.chart.data.labels,C=g?g.length:0;if(this&&this.options&&"dataset"===this.options.mode)return c.dataset.label||"";if(c.label)return c.label;if(C>0&&c.dataIndex<C)return g[c.dataIndex]}return""},afterTitle:Nt,beforeBody:Nt,beforeLabel:Nt,label(m){if(this&&this.options&&"dataset"===this.options.mode)return m.label+": "+m.formattedValue||m.formattedValue;let c=m.dataset.label||"";c&&(c+=": ");const g=m.formattedValue;return st(g)||(c+=g),c},labelColor(m){const g=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{borderColor:g.borderColor,backgroundColor:g.backgroundColor,borderWidth:g.borderWidth,borderDash:g.borderDash,borderDashOffset:g.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(m){const g=m.chart.getDatasetMeta(m.datasetIndex).controller.getStyle(m.dataIndex);return{pointStyle:g.pointStyle,rotation:g.rotation}},afterLabel:Nt,afterBody:Nt,beforeFooter:Nt,footer:Nt,afterFooter:Nt};function Wr(m,c,g,C){const I=m[c].call(g,C);return void 0===I?tg[c].call(g,C):I}class Ba extends ya{constructor(c){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=c.chart,this.options=c.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(c){this.options=c,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const c=this._cachedAnimations;if(c)return c;const g=this.chart,C=this.options.setContext(this.getContext()),I=C.enabled&&g.options.animation&&C.animations,M=new pe(this.chart,I);return I._cacheable&&(this._cachedAnimations=Object.freeze(M)),M}getContext(){return this.$context||(this.$context=function Xh(m,c,g){return Zi(m,{tooltip:c,tooltipItems:g,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(c,g){const{callbacks:C}=g,I=Wr(C,"beforeTitle",this,c),M=Wr(C,"title",this,c),H=Wr(C,"afterTitle",this,c);let ee=[];return ee=Ka(ee,pl(I)),ee=Ka(ee,pl(M)),ee=Ka(ee,pl(H)),ee}getBeforeBody(c,g){return $h(Wr(g.callbacks,"beforeBody",this,c))}getBody(c,g){const{callbacks:C}=g,I=[];return Ye(c,M=>{const H={before:[],lines:[],after:[]},ee=eg(C,M);Ka(H.before,pl(Wr(ee,"beforeLabel",this,M))),Ka(H.lines,Wr(ee,"label",this,M)),Ka(H.after,pl(Wr(ee,"afterLabel",this,M))),I.push(H)}),I}getAfterBody(c,g){return $h(Wr(g.callbacks,"afterBody",this,c))}getFooter(c,g){const{callbacks:C}=g,I=Wr(C,"beforeFooter",this,c),M=Wr(C,"footer",this,c),H=Wr(C,"afterFooter",this,c);let ee=[];return ee=Ka(ee,pl(I)),ee=Ka(ee,pl(M)),ee=Ka(ee,pl(H)),ee}_createItems(c){const g=this._active,C=this.chart.data,I=[],M=[],H=[];let fe,Oe,ee=[];for(fe=0,Oe=g.length;fe<Oe;++fe)ee.push(Wh(this.chart,g[fe]));return c.filter&&(ee=ee.filter((at,wt,Vt)=>c.filter(at,wt,Vt,C))),c.itemSort&&(ee=ee.sort((at,wt)=>c.itemSort(at,wt,C))),Ye(ee,at=>{const wt=eg(c.callbacks,at);I.push(Wr(wt,"labelColor",this,at)),M.push(Wr(wt,"labelPointStyle",this,at)),H.push(Wr(wt,"labelTextColor",this,at))}),this.labelColors=I,this.labelPointStyles=M,this.labelTextColors=H,this.dataPoints=ee,ee}update(c,g){const C=this.options.setContext(this.getContext()),I=this._active;let M,H=[];if(I.length){const ee=uu[C.position].call(this,I,this._eventPosition);H=this._createItems(C),this.title=this.getTitle(H,C),this.beforeBody=this.getBeforeBody(H,C),this.body=this.getBody(H,C),this.afterBody=this.getAfterBody(H,C),this.footer=this.getFooter(H,C);const fe=this._size=qa(this,C),Oe=Object.assign({},ee,fe),at=Ep(this.chart,C,Oe),wt=qh(C,Oe,at,this.chart);this.xAlign=at.xAlign,this.yAlign=at.yAlign,M={opacity:1,x:wt.x,y:wt.y,width:fe.width,height:fe.height,caretX:ee.x,caretY:ee.y}}else 0!==this.opacity&&(M={opacity:0});this._tooltipItems=H,this.$context=void 0,M&&this._resolveAnimations().update(this,M),c&&C.external&&C.external.call(this,{chart:this.chart,tooltip:this,replay:g})}drawCaret(c,g,C,I){const M=this.getCaretPosition(c,C,I);g.lineTo(M.x1,M.y1),g.lineTo(M.x2,M.y2),g.lineTo(M.x3,M.y3)}getCaretPosition(c,g,C){const{xAlign:I,yAlign:M}=this,{caretSize:H,cornerRadius:ee}=C,{topLeft:fe,topRight:Oe,bottomLeft:at,bottomRight:wt}=It(ee),{x:Vt,y:nn}=c,{width:mn,height:Cn}=g;let In,Zn,Hn,Xn,ni,Gn;return"center"===M?(ni=nn+Cn/2,"left"===I?(In=Vt,Zn=In-H,Xn=ni+H,Gn=ni-H):(In=Vt+mn,Zn=In+H,Xn=ni-H,Gn=ni+H),Hn=In):(Zn="left"===I?Vt+Math.max(fe,at)+H:"right"===I?Vt+mn-Math.max(Oe,wt)-H:this.caretX,"top"===M?(Xn=nn,ni=Xn-H,In=Zn-H,Hn=Zn+H):(Xn=nn+Cn,ni=Xn+H,In=Zn+H,Hn=Zn-H),Gn=Xn),{x1:In,x2:Zn,x3:Hn,y1:Xn,y2:ni,y3:Gn}}drawTitle(c,g,C){const I=this.title,M=I.length;let H,ee,fe;if(M){const Oe=gt(C.rtl,this.x,this.width);for(c.x=_d(this,C.titleAlign,C),g.textAlign=Oe.textAlign(C.titleAlign),g.textBaseline="middle",H=Pn(C.titleFont),ee=C.titleSpacing,g.fillStyle=C.titleColor,g.font=H.string,fe=0;fe<M;++fe)g.fillText(I[fe],Oe.x(c.x),c.y+H.lineHeight/2),c.y+=H.lineHeight+ee,fe+1===M&&(c.y+=C.titleMarginBottom-ee)}}_drawColorBox(c,g,C,I,M){const H=this.labelColors[C],ee=this.labelPointStyles[C],{boxHeight:fe,boxWidth:Oe}=M,at=Pn(M.bodyFont),wt=_d(this,"left",M),Vt=I.x(wt),mn=g.y+(fe<at.lineHeight?(at.lineHeight-fe)/2:0);if(M.usePointStyle){const Cn={radius:Math.min(Oe,fe)/2,pointStyle:ee.pointStyle,rotation:ee.rotation,borderWidth:1},In=I.leftForLtr(Vt,Oe)+Oe/2,Zn=mn+fe/2;c.strokeStyle=M.multiKeyBackground,c.fillStyle=M.multiKeyBackground,rs(c,Cn,In,Zn),c.strokeStyle=H.borderColor,c.fillStyle=H.backgroundColor,rs(c,Cn,In,Zn)}else{c.lineWidth=ge(H.borderWidth)?Math.max(...Object.values(H.borderWidth)):H.borderWidth||1,c.strokeStyle=H.borderColor,c.setLineDash(H.borderDash||[]),c.lineDashOffset=H.borderDashOffset||0;const Cn=I.leftForLtr(Vt,Oe),In=I.leftForLtr(I.xPlus(Vt,1),Oe-2),Zn=It(H.borderRadius);Object.values(Zn).some(Hn=>0!==Hn)?(c.beginPath(),c.fillStyle=M.multiKeyBackground,Yo(c,{x:Cn,y:mn,w:Oe,h:fe,radius:Zn}),c.fill(),c.stroke(),c.fillStyle=H.backgroundColor,c.beginPath(),Yo(c,{x:In,y:mn+1,w:Oe-2,h:fe-2,radius:Zn}),c.fill()):(c.fillStyle=M.multiKeyBackground,c.fillRect(Cn,mn,Oe,fe),c.strokeRect(Cn,mn,Oe,fe),c.fillStyle=H.backgroundColor,c.fillRect(In,mn+1,Oe-2,fe-2))}c.fillStyle=this.labelTextColors[C]}drawBody(c,g,C){const{body:I}=this,{bodySpacing:M,bodyAlign:H,displayColors:ee,boxHeight:fe,boxWidth:Oe,boxPadding:at}=C,wt=Pn(C.bodyFont);let Vt=wt.lineHeight,nn=0;const mn=gt(C.rtl,this.x,this.width),Cn=function(hi){g.fillText(hi,mn.x(c.x+nn),c.y+Vt/2),c.y+=Vt+M},In=mn.textAlign(H);let Zn,Hn,Xn,ni,Gn,ci,di;for(g.textAlign=H,g.textBaseline="middle",g.font=wt.string,c.x=_d(this,In,C),g.fillStyle=C.bodyColor,Ye(this.beforeBody,Cn),nn=ee&&"right"!==In?"center"===H?Oe/2+at:Oe+2+at:0,ni=0,ci=I.length;ni<ci;++ni){for(Zn=I[ni],Hn=this.labelTextColors[ni],g.fillStyle=Hn,Ye(Zn.before,Cn),Xn=Zn.lines,ee&&Xn.length&&(this._drawColorBox(g,c,ni,mn,C),Vt=Math.max(wt.lineHeight,fe)),Gn=0,di=Xn.length;Gn<di;++Gn)Cn(Xn[Gn]),Vt=wt.lineHeight;Ye(Zn.after,Cn)}nn=0,Vt=wt.lineHeight,Ye(this.afterBody,Cn),c.y-=M}drawFooter(c,g,C){const I=this.footer,M=I.length;let H,ee;if(M){const fe=gt(C.rtl,this.x,this.width);for(c.x=_d(this,C.footerAlign,C),c.y+=C.footerMarginTop,g.textAlign=fe.textAlign(C.footerAlign),g.textBaseline="middle",H=Pn(C.footerFont),g.fillStyle=C.footerColor,g.font=H.string,ee=0;ee<M;++ee)g.fillText(I[ee],fe.x(c.x),c.y+H.lineHeight/2),c.y+=H.lineHeight+C.footerSpacing}}drawBackground(c,g,C,I){const{xAlign:M,yAlign:H}=this,{x:ee,y:fe}=c,{width:Oe,height:at}=C,{topLeft:wt,topRight:Vt,bottomLeft:nn,bottomRight:mn}=It(I.cornerRadius);g.fillStyle=I.backgroundColor,g.strokeStyle=I.borderColor,g.lineWidth=I.borderWidth,g.beginPath(),g.moveTo(ee+wt,fe),"top"===H&&this.drawCaret(c,g,C,I),g.lineTo(ee+Oe-Vt,fe),g.quadraticCurveTo(ee+Oe,fe,ee+Oe,fe+Vt),"center"===H&&"right"===M&&this.drawCaret(c,g,C,I),g.lineTo(ee+Oe,fe+at-mn),g.quadraticCurveTo(ee+Oe,fe+at,ee+Oe-mn,fe+at),"bottom"===H&&this.drawCaret(c,g,C,I),g.lineTo(ee+nn,fe+at),g.quadraticCurveTo(ee,fe+at,ee,fe+at-nn),"center"===H&&"left"===M&&this.drawCaret(c,g,C,I),g.lineTo(ee,fe+wt),g.quadraticCurveTo(ee,fe,ee+wt,fe),g.closePath(),g.fill(),I.borderWidth>0&&g.stroke()}_updateAnimationTarget(c){const g=this.chart,C=this.$animations,I=C&&C.x,M=C&&C.y;if(I||M){const H=uu[c.position].call(this,this._active,this._eventPosition);if(!H)return;const ee=this._size=qa(this,c),fe=Object.assign({},H,this._size),Oe=Ep(g,c,fe),at=qh(c,fe,Oe,g);(I._to!==at.x||M._to!==at.y)&&(this.xAlign=Oe.xAlign,this.yAlign=Oe.yAlign,this.width=ee.width,this.height=ee.height,this.caretX=H.x,this.caretY=H.y,this._resolveAnimations().update(this,at))}}_willRender(){return!!this.opacity}draw(c){const g=this.options.setContext(this.getContext());let C=this.opacity;if(!C)return;this._updateAnimationTarget(g);const I={width:this.width,height:this.height},M={x:this.x,y:this.y};C=Math.abs(C)<.001?0:C;const H=Jt(g.padding);g.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(c.save(),c.globalAlpha=C,this.drawBackground(M,c,I,g),Ve(c,g.textDirection),M.y+=H.top,this.drawTitle(M,c,g),this.drawBody(M,c,g),this.drawFooter(M,c,g),Dt(c,g.textDirection),c.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,g){const C=this._active,I=c.map(({datasetIndex:ee,index:fe})=>{const Oe=this.chart.getDatasetMeta(ee);if(!Oe)throw new Error("Cannot find a dataset at index "+ee);return{datasetIndex:ee,element:Oe.data[fe],index:fe}}),M=!lt(C,I),H=this._positionChanged(I,g);(M||H)&&(this._active=I,this._eventPosition=g,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(c,g,C=!0){if(g&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const I=this.options,M=this._active||[],H=this._getActiveElements(c,M,g,C),ee=this._positionChanged(H,c),fe=g||!lt(H,M)||ee;return fe&&(this._active=H,(I.enabled||I.external)&&(this._eventPosition={x:c.x,y:c.y},this.update(!0,g))),fe}_getActiveElements(c,g,C,I){const M=this.options;if("mouseout"===c.type)return[];if(!I)return g;const H=this.chart.getElementsAtEventForMode(c,M.mode,M,C);return M.reverse&&H.reverse(),H}_positionChanged(c,g){const{caretX:C,caretY:I,options:M}=this,H=uu[M.position].call(this,c,g);return!1!==H&&(C!==H.x||I!==H.y)}}Ci(Ba,"positioners",uu);var ng=Object.freeze({__proto__:null,Colors:nd,Decimation:Xl,Filler:ic,Legend:Tp,SubTitle:Pf,Title:wp,Tooltip:{id:"tooltip",_element:Ba,positioners:uu,afterInit(m,c,g){g&&(m.tooltip=new Ba({chart:m,options:g}))},beforeUpdate(m,c,g){m.tooltip&&m.tooltip.initialize(g)},reset(m,c,g){m.tooltip&&m.tooltip.initialize(g)},afterDraw(m){const c=m.tooltip;if(c&&c._willRender()){const g={tooltip:c};if(!1===m.notifyPlugins("beforeTooltipDraw",cb(lb({},g),{cancelable:!0})))return;c.draw(m.ctx),m.notifyPlugins("afterTooltipDraw",g)}},afterEvent(m,c){m.tooltip&&m.tooltip.handleEvent(c.event,c.replay,c.inChartArea)&&(c.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(m,c)=>c.bodyFont.size,boxWidth:(m,c)=>c.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:m=>"filter"!==m&&"itemSort"!==m&&"external"!==m,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function Rf(m){const c=this.getLabels();return m>=0&&m<c.length?c[m]:m}class og extends Fa{constructor(c){super(c),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(c){const g=this._addedLabels;if(g.length){const C=this.getLabels();for(const{index:I,label:M}of g)C[I]===M&&C.splice(I,1);this._addedLabels=[]}super.init(c)}parse(c,g){if(st(c))return null;const C=this.getLabels();return((m,c)=>null===m?null:si(Math.round(m),0,c))(g=isFinite(g)&&C[g]===c?g:function ig(m,c,g,C){const I=m.indexOf(c);return-1===I?((m,c,g,C)=>("string"==typeof c?(g=m.push(c)-1,C.unshift({index:g,label:c})):isNaN(c)&&(g=null),g))(m,c,g,C):I!==m.lastIndexOf(c)?g:I}(C,c,yt(g,c),this._addedLabels),C.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:g}=this.getUserBounds();let{min:C,max:I}=this.getMinMax(!0);"ticks"===this.options.bounds&&(c||(C=0),g||(I=this.getLabels().length-1)),this.min=C,this.max=I}buildTicks(){const c=this.min,g=this.max,C=this.options.offset,I=[];let M=this.getLabels();M=0===c&&g===M.length-1?M:M.slice(c,g+1),this._valueRange=Math.max(M.length-(C?0:1),1),this._startValue=this.min-(C?.5:0);for(let H=c;H<=g;H++)I.push({value:H});return I}getLabelForValue(c){return Rf.call(this,c)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(c){return"number"!=typeof c&&(c=this.parse(c)),null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getPixelForTick(c){const g=this.ticks;return c<0||c>g.length-1?null:this.getPixelForValue(g[c].value)}getValueForPixel(c){return Math.round(this._startValue+this.getDecimalForPixel(c)*this._valueRange)}getBasePixel(){return this.bottom}}function pu(m,c,{horizontal:g,minRotation:C}){const I=He(C),M=(g?Math.sin(I):Math.cos(I))||.001;return Math.min(c/M,.75*c*(""+m).length)}Ci(og,"id","category"),Ci(og,"defaults",{ticks:{callback:Rf}});class hu extends Fa{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(c,g){return st(c)||("number"==typeof c||c instanceof Number)&&!isFinite(+c)?null:+c}handleTickRangeOptions(){const{beginAtZero:c}=this.options,{minDefined:g,maxDefined:C}=this.getUserBounds();let{min:I,max:M}=this;const H=fe=>I=g?I:fe,ee=fe=>M=C?M:fe;if(c){const fe=vi(I),Oe=vi(M);fe<0&&Oe<0?ee(0):fe>0&&Oe>0&&H(0)}if(I===M){let fe=0===M?1:Math.abs(.05*M);ee(M+fe),c||H(I-fe)}this.min=I,this.max=M}getTickLimit(){const c=this.options.ticks;let I,{maxTicksLimit:g,stepSize:C}=c;return C?(I=Math.ceil(this.max/C)-Math.floor(this.min/C)+1,I>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${C} would result generating up to ${I} ticks. Limiting to 1000.`),I=1e3)):(I=this.computeTickLimit(),g=g||11),g&&(I=Math.min(g,I)),I}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const c=this.options,g=c.ticks;let C=this.getTickLimit();C=Math.max(2,C);const H=function sg(m,c){const g=[],{bounds:I,step:M,min:H,max:ee,precision:fe,count:Oe,maxTicks:at,maxDigits:wt,includeBounds:Vt}=m,nn=M||1,mn=at-1,{min:Cn,max:In}=c,Zn=!st(H),Hn=!st(ee),Xn=!st(Oe),ni=(In-Cn)/(wt+1);let ci,di,hi,Fi,Gn=Qi((In-Cn)/mn/nn)*nn;if(Gn<1e-14&&!Zn&&!Hn)return[{value:Cn},{value:In}];Fi=Math.ceil(In/Gn)-Math.floor(Cn/Gn),Fi>mn&&(Gn=Qi(Fi*Gn/mn/nn)*nn),st(fe)||(ci=Math.pow(10,fe),Gn=Math.ceil(Gn*ci)/ci),"ticks"===I?(di=Math.floor(Cn/Gn)*Gn,hi=Math.ceil(In/Gn)*Gn):(di=Cn,hi=In),Zn&&Hn&&M&&function Je(m,c){const g=Math.round(m);return g-c<=m&&g+c>=m}((ee-H)/M,Gn/1e3)?(Fi=Math.round(Math.min((ee-H)/Gn,at)),Gn=(ee-H)/Fi,di=H,hi=ee):Xn?(di=Zn?H:di,hi=Hn?ee:hi,Fi=Oe-1,Gn=(hi-di)/Fi):(Fi=(hi-di)/Gn,Fi=Ji(Fi,Math.round(Fi),Gn/1e3)?Math.round(Fi):Math.ceil(Fi));const ro=Math.max(dn(Gn),dn(di));ci=Math.pow(10,st(fe)?ro:fe),di=Math.round(di*ci)/ci,hi=Math.round(hi*ci)/ci;let Wi=0;for(Zn&&(Vt&&di!==H?(g.push({value:H}),di<H&&Wi++,Ji(Math.round((di+Wi*Gn)*ci)/ci,H,pu(H,ni,m))&&Wi++):di<H&&Wi++);Wi<Fi;++Wi){const Do=Math.round((di+Wi*Gn)*ci)/ci;if(Hn&&Do>ee)break;g.push({value:Do})}return Hn&&Vt&&hi!==ee?g.length&&Ji(g[g.length-1].value,ee,pu(ee,ni,m))?g[g.length-1].value=ee:g.push({value:ee}):(!Hn||hi===ee)&&g.push({value:hi}),g}({maxTicks:C,bounds:c.bounds,min:c.min,max:c.max,precision:g.precision,step:g.stepSize,count:g.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:g.minRotation||0,includeBounds:!1!==g.includeBounds},this._range||this);return"ticks"===c.bounds&&xe(H,this,"value"),c.reverse?(H.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),H}configure(){const c=this.ticks;let g=this.min,C=this.max;if(super.configure(),this.options.offset&&c.length){const I=(C-g)/Math.max(c.length-1,1)/2;g-=I,C+=I}this._startValue=g,this._endValue=C,this._valueRange=C-g}getLabelForValue(c){return Ks(c,this.chart.options.locale,this.options.ticks.format)}}class kp extends hu{determineDataLimits(){const{min:c,max:g}=this.getMinMax(!0);this.min=ke(c)?c:0,this.max=ke(g)?g:1,this.handleTickRangeOptions()}computeTickLimit(){const c=this.isHorizontal(),g=c?this.width:this.height,C=He(this.options.ticks.minRotation),I=(c?Math.sin(C):Math.cos(C))||.001,M=this._resolveTickFontOptions(0);return Math.ceil(g/Math.min(40,M.lineHeight/I))}getPixelForValue(c){return null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getValueForPixel(c){return this._startValue+this.getDecimalForPixel(c)*this._valueRange}}Ci(kp,"id","linear"),Ci(kp,"defaults",{ticks:{callback:Eo.formatters.numeric}});const hl=m=>Math.floor(ai(m)),sc=(m,c)=>Math.pow(10,hl(m)+c);function Dp(m){return m/Math.pow(10,hl(m))==1}function rg(m,c,g){const C=Math.pow(10,g),I=Math.floor(m/C);return Math.ceil(c/C)-I}class Mc extends Fa{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(c,g){const C=hu.prototype.parse.apply(this,[c,g]);if(0!==C)return ke(C)&&C>0?C:null;this._zero=!0}determineDataLimits(){const{min:c,max:g}=this.getMinMax(!0);this.min=ke(c)?Math.max(0,c):null,this.max=ke(g)?Math.max(0,g):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ke(this._userMin)&&(this.min=c===sc(this.min,0)?sc(this.min,-1):sc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:c,maxDefined:g}=this.getUserBounds();let C=this.min,I=this.max;const M=ee=>C=c?C:ee,H=ee=>I=g?I:ee;C===I&&(C<=0?(M(1),H(10)):(M(sc(C,-1)),H(sc(I,1)))),C<=0&&M(sc(I,-1)),I<=0&&H(sc(C,1)),this.min=C,this.max=I}buildTicks(){const c=this.options,C=function Cd(m,{min:c,max:g}){c=rt(m.min,c);const C=[],I=hl(c);let M=function ag(m,c){let C=hl(c-m);for(;rg(m,c,C)>10;)C++;for(;rg(m,c,C)<10;)C--;return Math.min(C,hl(m))}(c,g),H=M<0?Math.pow(10,Math.abs(M)):1;const ee=Math.pow(10,M),fe=I>M?Math.pow(10,I):0,Oe=Math.round((c-fe)*H)/H,at=Math.floor((c-fe)/ee/10)*ee*10;let wt=Math.floor((Oe-at)/Math.pow(10,M)),Vt=rt(m.min,Math.round((fe+at+wt*Math.pow(10,M))*H)/H);for(;Vt<g;)C.push({value:Vt,major:Dp(Vt),significand:wt}),wt>=10?wt=wt<15?15:20:wt++,wt>=20&&(M++,wt=2,H=M>=0?1:H),Vt=Math.round((fe+at+wt*Math.pow(10,M))*H)/H;const nn=rt(m.max,Vt);return C.push({value:nn,major:Dp(nn),significand:wt}),C}({min:this._userMin,max:this._userMax},this);return"ticks"===c.bounds&&xe(C,this,"value"),c.reverse?(C.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),C}getLabelForValue(c){return void 0===c?"0":Ks(c,this.chart.options.locale,this.options.ticks.format)}configure(){const c=this.min;super.configure(),this._startValue=ai(c),this._valueRange=ai(this.max)-ai(c)}getPixelForValue(c){return(void 0===c||0===c)&&(c=this.min),null===c||isNaN(c)?NaN:this.getPixelForDecimal(c===this.min?0:(ai(c)-this._startValue)/this._valueRange)}getValueForPixel(c){const g=this.getDecimalForPixel(c);return Math.pow(10,this._startValue+g*this._valueRange)}}function vd(m){const c=m.ticks;if(c.display&&m.display){const g=Jt(c.backdropPadding);return yt(c.font&&c.font.size,$i.font.size)+g.height}return 0}function Mp(m,c,g){return g=ot(g)?g:[g],{w:cr(m,c.string,g),h:g.length*c.lineHeight}}function bd(m,c,g,C,I){return m===C||m===I?{start:c-g/2,end:c+g/2}:m<C||m>I?{start:c-g,end:c}:{start:c,end:c+g}}function Op(m,c,g,C,I){const M=Math.abs(Math.sin(g)),H=Math.abs(Math.cos(g));let ee=0,fe=0;C.start<c.l?(ee=(c.l-C.start)/M,m.l=Math.min(m.l,c.l-ee)):C.end>c.r&&(ee=(C.end-c.r)/M,m.r=Math.max(m.r,c.r+ee)),I.start<c.t?(fe=(c.t-I.start)/H,m.t=Math.min(m.t,c.t-fe)):I.end>c.b&&(fe=(I.end-c.b)/H,m.b=Math.max(m.b,c.b+fe))}function Nf(m,c,g){const C=m.drawingArea,{extra:I,additionalAngle:M,padding:H,size:ee}=g,fe=m.getPointPosition(c,C+I+H,M),Oe=Math.round(pt(yn(fe.angle+rn))),at=function dg(m,c,g){return 90===g||270===g?m-=c/2:(g>270||g<90)&&(m-=c),m}(fe.y,ee.h,Oe),wt=function gu(m){return 0===m||180===m?"center":m<180?"left":"right"}(Oe),Vt=function ug(m,c,g){return"right"===g?m-=c:"center"===g&&(m-=c/2),m}(fe.x,ee.w,wt);return{visible:!0,x:fe.x,y:at,textAlign:wt,left:Vt,top:at,right:Vt+ee.w,bottom:at+ee.h}}function lg(m,c){if(!c)return!0;const{left:g,top:C,right:I,bottom:M}=m;return!(ys({x:g,y:C},c)||ys({x:g,y:M},c)||ys({x:I,y:C},c)||ys({x:I,y:M},c))}function pg(m,c,g){const{left:C,top:I,right:M,bottom:H}=g,{backdropColor:ee}=c;if(!st(ee)){const fe=It(c.borderRadius),Oe=Jt(c.backdropPadding);m.fillStyle=ee;const at=C-Oe.left,wt=I-Oe.top,Vt=M-C+Oe.width,nn=H-I+Oe.height;Object.values(fe).some(mn=>0!==mn)?(m.beginPath(),Yo(m,{x:at,y:wt,w:Vt,h:nn,radius:fe}),m.fill()):m.fillRect(at,wt,Vt,nn)}}function yd(m,c,g,C){const{ctx:I}=m;if(g)I.arc(m.xCenter,m.yCenter,c,0,gn);else{let M=m.getPointPosition(0,c);I.moveTo(M.x,M.y);for(let H=1;H<C;H++)M=m.getPointPosition(H,c),I.lineTo(M.x,M.y)}}Ci(Mc,"id","logarithmic"),Ci(Mc,"defaults",{ticks:{callback:Eo.formatters.logarithmic,major:{enabled:!0}}});class rc extends hu{constructor(c){super(c),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const c=this._padding=Jt(vd(this.options)/2),g=this.width=this.maxWidth-c.width,C=this.height=this.maxHeight-c.height;this.xCenter=Math.floor(this.left+g/2+c.left),this.yCenter=Math.floor(this.top+C/2+c.top),this.drawingArea=Math.floor(Math.min(g,C)/2)}determineDataLimits(){const{min:c,max:g}=this.getMinMax(!1);this.min=ke(c)&&!isNaN(c)?c:0,this.max=ke(g)&&!isNaN(g)?g:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vd(this.options))}generateTickLabels(c){hu.prototype.generateTickLabels.call(this,c),this._pointLabels=this.getLabels().map((g,C)=>{const I=Ot(this.options.pointLabels.callback,[g,C],this);return I||0===I?I:""}).filter((g,C)=>this.chart.getDataVisibility(C))}fit(){const c=this.options;c.display&&c.pointLabels.display?function xo(m){const c={l:m.left+m._padding.left,r:m.right-m._padding.right,t:m.top+m._padding.top,b:m.bottom-m._padding.bottom},g=Object.assign({},c),C=[],I=[],M=m._pointLabels.length,H=m.options.pointLabels,ee=H.centerPointLabels?$t/M:0;for(let fe=0;fe<M;fe++){const Oe=H.setContext(m.getPointLabelContext(fe));I[fe]=Oe.padding;const at=m.getPointPosition(fe,m.drawingArea+I[fe],ee),wt=Pn(Oe.font),Vt=Mp(m.ctx,wt,m._pointLabels[fe]);C[fe]=Vt;const nn=yn(m.getIndexAngle(fe)+ee),mn=Math.round(pt(nn));Op(g,c,nn,bd(mn,at.x,Vt.w,0,180),bd(mn,at.y,Vt.h,90,270))}m.setCenterPoint(c.l-g.l,g.r-c.r,c.t-g.t,g.b-c.b),m._pointLabelItems=function cg(m,c,g){const C=[],I=m._pointLabels.length,M=m.options,{centerPointLabels:H,display:ee}=M.pointLabels,fe={extra:vd(M)/2,additionalAngle:H?$t/I:0};let Oe;for(let at=0;at<I;at++){fe.padding=g[at],fe.size=c[at];const wt=Nf(m,at,fe);C.push(wt),"auto"===ee&&(wt.visible=lg(wt,Oe),wt.visible&&(Oe=wt))}return C}(m,C,I)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(c,g,C,I){this.xCenter+=Math.floor((c-g)/2),this.yCenter+=Math.floor((C-I)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(c,g,C,I))}getIndexAngle(c){return yn(c*(gn/(this._pointLabels.length||1))+He(this.options.startAngle||0))}getDistanceFromCenterForValue(c){if(st(c))return NaN;const g=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-c)*g:(c-this.min)*g}getValueForDistanceFromCenter(c){if(st(c))return NaN;const g=c/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-g:this.min+g}getPointLabelContext(c){const g=this._pointLabels||[];if(c>=0&&c<g.length){const C=g[c];return function Oc(m,c,g){return Zi(m,{label:g,index:c,type:"pointLabel"})}(this.getContext(),c,C)}}getPointPosition(c,g,C=0){const I=this.getIndexAngle(c)-rn+C;return{x:Math.cos(I)*g+this.xCenter,y:Math.sin(I)*g+this.yCenter,angle:I}}getPointPositionForValue(c,g){return this.getPointPosition(c,this.getDistanceFromCenterForValue(g))}getBasePosition(c){return this.getPointPositionForValue(c||0,this.getBaseValue())}getPointLabelPosition(c){const{left:g,top:C,right:I,bottom:M}=this._pointLabelItems[c];return{left:g,top:C,right:I,bottom:M}}drawBackground(){const{backgroundColor:c,grid:{circular:g}}=this.options;if(c){const C=this.ctx;C.save(),C.beginPath(),yd(this,this.getDistanceFromCenterForValue(this._endValue),g,this._pointLabels.length),C.closePath(),C.fillStyle=c,C.fill(),C.restore()}}drawGrid(){const c=this.ctx,g=this.options,{angleLines:C,grid:I,border:M}=g,H=this._pointLabels.length;let ee,fe,Oe;if(g.pointLabels.display&&function kl(m,c){const{ctx:g,options:{pointLabels:C}}=m;for(let I=c-1;I>=0;I--){const M=m._pointLabelItems[I];if(!M.visible)continue;const H=C.setContext(m.getPointLabelContext(I));pg(g,H,M);const ee=Pn(H.font),{x:fe,y:Oe,textAlign:at}=M;ps(g,m._pointLabels[I],fe,Oe+ee.lineHeight/2,ee,{color:H.color,textAlign:at,textBaseline:"middle"})}}(this,H),I.display&&this.ticks.forEach((at,wt)=>{if(0!==wt){fe=this.getDistanceFromCenterForValue(at.value);const Vt=this.getContext(wt),nn=I.setContext(Vt),mn=M.setContext(Vt);!function X_(m,c,g,C,I){const M=m.ctx,H=c.circular,{color:ee,lineWidth:fe}=c;!H&&!C||!ee||!fe||g<0||(M.save(),M.strokeStyle=ee,M.lineWidth=fe,M.setLineDash(I.dash),M.lineDashOffset=I.dashOffset,M.beginPath(),yd(m,g,H,C),M.closePath(),M.stroke(),M.restore())}(this,nn,fe,H,mn)}}),C.display){for(c.save(),ee=H-1;ee>=0;ee--){const at=C.setContext(this.getPointLabelContext(ee)),{color:wt,lineWidth:Vt}=at;!Vt||!wt||(c.lineWidth=Vt,c.strokeStyle=wt,c.setLineDash(at.borderDash),c.lineDashOffset=at.borderDashOffset,fe=this.getDistanceFromCenterForValue(g.ticks.reverse?this.min:this.max),Oe=this.getPointPosition(ee,fe),c.beginPath(),c.moveTo(this.xCenter,this.yCenter),c.lineTo(Oe.x,Oe.y),c.stroke())}c.restore()}}drawBorder(){}drawLabels(){const c=this.ctx,g=this.options,C=g.ticks;if(!C.display)return;const I=this.getIndexAngle(0);let M,H;c.save(),c.translate(this.xCenter,this.yCenter),c.rotate(I),c.textAlign="center",c.textBaseline="middle",this.ticks.forEach((ee,fe)=>{if(0===fe&&!g.reverse)return;const Oe=C.setContext(this.getContext(fe)),at=Pn(Oe.font);if(M=this.getDistanceFromCenterForValue(this.ticks[fe].value),Oe.showLabelBackdrop){c.font=at.string,H=c.measureText(ee.label).width,c.fillStyle=Oe.backdropColor;const wt=Jt(Oe.backdropPadding);c.fillRect(-H/2-wt.left,-M-at.size/2-wt.top,H+wt.width,at.size+wt.height)}ps(c,ee.label,0,-M,at,{color:Oe.color,strokeColor:Oe.textStrokeColor,strokeWidth:Oe.textStrokeWidth})}),c.restore()}drawTitle(){}}Ci(rc,"id","radialLinear"),Ci(rc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Eo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:c=>c,padding:5,centerPointLabels:!1}}),Ci(rc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ci(rc,"descriptors",{angleLines:{_fallback:"grid"}});const Pc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},aa=Object.keys(Pc);function xd(m,c){return m-c}function Pp(m,c){if(st(c))return null;const g=m._adapter,{parser:C,round:I,isoWeekday:M}=m._parseOpts;let H=c;return"function"==typeof C&&(H=C(H)),ke(H)||(H="string"==typeof C?g.parse(H,C):g.parse(H)),null===H?null:(I&&(H="week"!==I||!zt(M)&&!0!==M?g.startOf(H,I):g.startOf(H,"isoWeek",M)),+H)}function Id(m,c,g,C){const I=aa.length;for(let M=aa.indexOf(m);M<I-1;++M){const H=Pc[aa[M]],ee=H.steps?H.steps:Number.MAX_SAFE_INTEGER;if(H.common&&Math.ceil((g-c)/(ee*H.size))<=C)return aa[M]}return aa[I-1]}function Lp(m,c,g){if(g){if(g.length){const{lo:C,hi:I}=ki(g,c);m[g[C]>=c?g[C]:g[I]]=!0}}else m[c]=!0}function Td(m,c,g){const C=[],I={},M=c.length;let H,ee;for(H=0;H<M;++H)ee=c[H],I[ee]=H,C.push({value:ee,major:!1});return 0!==M&&g?function Ff(m,c,g,C){const I=m._adapter,M=+I.startOf(c[0].value,C),H=c[c.length-1].value;let ee,fe;for(ee=M;ee<=H;ee=+I.add(ee,1,C))fe=g[ee],fe>=0&&(c[fe].major=!0);return c}(m,C,I,g):C}class Lc extends Fa{constructor(c){super(c),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(c,g={}){const C=c.time||(c.time={}),I=this._adapter=new La__date(c.adapters.date);I.init(g),he(C.displayFormats,I.formats()),this._parseOpts={parser:C.parser,round:C.round,isoWeekday:C.isoWeekday},super.init(c),this._normalized=g.normalized}parse(c,g){return void 0===c?null:Pp(this,c)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,g=this._adapter,C=c.time.unit||"day";let{min:I,max:M,minDefined:H,maxDefined:ee}=this.getUserBounds();function fe(Oe){!H&&!isNaN(Oe.min)&&(I=Math.min(I,Oe.min)),!ee&&!isNaN(Oe.max)&&(M=Math.max(M,Oe.max))}(!H||!ee)&&(fe(this._getLabelBounds()),("ticks"!==c.bounds||"labels"!==c.ticks.source)&&fe(this.getMinMax(!1))),I=ke(I)&&!isNaN(I)?I:+g.startOf(Date.now(),C),M=ke(M)&&!isNaN(M)?M:+g.endOf(Date.now(),C)+1,this.min=Math.min(I,M-1),this.max=Math.max(I+1,M)}_getLabelBounds(){const c=this.getLabelTimestamps();let g=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY;return c.length&&(g=c[0],C=c[c.length-1]),{min:g,max:C}}buildTicks(){const c=this.options,g=c.time,C=c.ticks,I="labels"===C.source?this.getLabelTimestamps():this._generate();"ticks"===c.bounds&&I.length&&(this.min=this._userMin||I[0],this.max=this._userMax||I[I.length-1]);const M=this.min,ee=function li(m,c,g){let C=0,I=m.length;for(;C<I&&m[C]<c;)C++;for(;I>C&&m[I-1]>g;)I--;return C>0||I<m.length?m.slice(C,I):m}(I,M,this.max);return this._unit=g.unit||(C.autoSkip?Id(g.minUnit,this.min,this.max,this._getLabelCapacity(M)):function Dl(m,c,g,C,I){for(let M=aa.length-1;M>=aa.indexOf(g);M--){const H=aa[M];if(Pc[H].common&&m._adapter.diff(I,C,H)>=c-1)return H}return aa[g?aa.indexOf(g):0]}(this,ee.length,g.minUnit,this.min,this.max)),this._majorUnit=C.major.enabled&&"year"!==this._unit?function fu(m){for(let c=aa.indexOf(m)+1,g=aa.length;c<g;++c)if(Pc[aa[c]].common)return aa[c]}(this._unit):void 0,this.initOffsets(I),c.reverse&&ee.reverse(),Td(this,ee,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(c=>+c.value))}initOffsets(c=[]){let I,M,g=0,C=0;this.options.offset&&c.length&&(I=this.getDecimalForValue(c[0]),g=1===c.length?1-I:(this.getDecimalForValue(c[1])-I)/2,M=this.getDecimalForValue(c[c.length-1]),C=1===c.length?M:(M-this.getDecimalForValue(c[c.length-2]))/2);const H=c.length<3?.5:.25;g=si(g,0,H),C=si(C,0,H),this._offsets={start:g,end:C,factor:1/(g+1+C)}}_generate(){const c=this._adapter,g=this.min,C=this.max,I=this.options,M=I.time,H=M.unit||Id(M.minUnit,g,C,this._getLabelCapacity(g)),ee=yt(I.ticks.stepSize,1),fe="week"===H&&M.isoWeekday,Oe=zt(fe)||!0===fe,at={};let Vt,nn,wt=g;if(Oe&&(wt=+c.startOf(wt,"isoWeek",fe)),wt=+c.startOf(wt,Oe?"day":H),c.diff(C,g,H)>1e5*ee)throw new Error(g+" and "+C+" are too far apart with stepSize of "+ee+" "+H);const mn="data"===I.ticks.source&&this.getDataTimestamps();for(Vt=wt,nn=0;Vt<C;Vt=+c.add(Vt,ee,H),nn++)Lp(at,Vt,mn);return(Vt===C||"ticks"===I.bounds||1===nn)&&Lp(at,Vt,mn),Object.keys(at).sort(xd).map(Cn=>+Cn)}getLabelForValue(c){const C=this.options.time;return this._adapter.format(c,C.tooltipFormat?C.tooltipFormat:C.displayFormats.datetime)}format(c,g){return this._adapter.format(c,g||this.options.time.displayFormats[this._unit])}_tickFormatFunction(c,g,C,I){const M=this.options,H=M.ticks.callback;if(H)return Ot(H,[c,g,C],this);const ee=M.time.displayFormats,fe=this._unit,Oe=this._majorUnit,wt=Oe&&ee[Oe],Vt=C[g];return this._adapter.format(c,I||(Oe&&wt&&Vt&&Vt.major?wt:fe&&ee[fe]))}generateTickLabels(c){let g,C,I;for(g=0,C=c.length;g<C;++g)I=c[g],I.label=this._tickFormatFunction(I.value,g,c)}getDecimalForValue(c){return null===c?NaN:(c-this.min)/(this.max-this.min)}getPixelForValue(c){const g=this._offsets,C=this.getDecimalForValue(c);return this.getPixelForDecimal((g.start+C)*g.factor)}getValueForPixel(c){const g=this._offsets,C=this.getDecimalForPixel(c)/g.factor-g.end;return this.min+C*(this.max-this.min)}_getLabelSize(c){const g=this.options.ticks,C=this.ctx.measureText(c).width,I=He(this.isHorizontal()?g.maxRotation:g.minRotation),M=Math.cos(I),H=Math.sin(I),ee=this._resolveTickFontOptions(0).size;return{w:C*M+ee*H,h:C*H+ee*M}}_getLabelCapacity(c){const g=this.options.time,C=g.displayFormats,I=C[g.unit]||C.millisecond,M=this._tickFormatFunction(c,0,Td(this,[c],this._majorUnit),I),H=this._getLabelSize(M),ee=Math.floor(this.isHorizontal()?this.width/H.w:this.height/H.h)-1;return ee>0?ee:1}getDataTimestamps(){let g,C,c=this._cache.data||[];if(c.length)return c;const I=this.getMatchingVisibleMetas();if(this._normalized&&I.length)return this._cache.data=I[0].controller.getAllParsedValues(this);for(g=0,C=I.length;g<C;++g)c=c.concat(I[g].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){const c=this._cache.labels||[];let g,C;if(c.length)return c;const I=this.getLabels();for(g=0,C=I.length;g<C;++g)c.push(Pp(this,I[g]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(c){return vo(c.sort(xd))}}function mu(m,c,g){let M,H,ee,fe,C=0,I=m.length-1;g?(c>=m[C].pos&&c<=m[I].pos&&({lo:C,hi:I}=qi(m,"pos",c)),({pos:M,time:ee}=m[C]),({pos:H,time:fe}=m[I])):(c>=m[C].time&&c<=m[I].time&&({lo:C,hi:I}=qi(m,"time",c)),({time:M,pos:ee}=m[C]),({time:H,pos:fe}=m[I]));const Oe=H-M;return Oe?ee+(fe-ee)*(c-M)/Oe:ee}Ci(Lc,"id","time"),Ci(Lc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class gl extends Lc{constructor(c){super(c),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const c=this._getTimestampsForTable(),g=this._table=this.buildLookupTable(c);this._minPos=mu(g,this.min),this._tableRange=mu(g,this.max)-this._minPos,super.initOffsets(c)}buildLookupTable(c){const{min:g,max:C}=this,I=[],M=[];let H,ee,fe,Oe,at;for(H=0,ee=c.length;H<ee;++H)Oe=c[H],Oe>=g&&Oe<=C&&I.push(Oe);if(I.length<2)return[{time:g,pos:0},{time:C,pos:1}];for(H=0,ee=I.length;H<ee;++H)at=I[H+1],fe=I[H-1],Oe=I[H],Math.round((at+fe)/2)!==Oe&&M.push({time:Oe,pos:H/(ee-1)});return M}_generate(){const c=this.min,g=this.max;let C=super.getDataTimestamps();return(!C.includes(c)||!C.length)&&C.splice(0,0,c),(!C.includes(g)||1===C.length)&&C.push(g),C.sort((I,M)=>I-M)}_getTimestampsForTable(){let c=this._cache.all||[];if(c.length)return c;const g=this.getDataTimestamps(),C=this.getLabelTimestamps();return c=g.length&&C.length?this.normalize(g.concat(C)):g.length?g:C,c=this._cache.all=c,c}getDecimalForValue(c){return(mu(this._table,c)-this._minPos)/this._tableRange}getValueForPixel(c){const g=this._offsets,C=this.getDecimalForPixel(c)/g.factor-g.end;return mu(this._table,C*this._tableRange+this._minPos,!0)}}Ci(gl,"id","timeseries"),Ci(gl,"defaults",Lc.defaults),oa.register(rl,q_,ng,Object.freeze({__proto__:null,CategoryScale:og,LinearScale:kp,LogarithmicScale:Mc,RadialLinearScale:rc,TimeScale:Lc,TimeSeriesScale:gl}));const Ad=oa;let Rc=(()=>{class m{constructor(g){this.el=g,this.plugins=[],this.responsive=!0,this.onDataSelect=new e.vpe,this._options={}}get data(){return this._data}set data(g){this._data=g,this.reinit()}get options(){return this._options}set options(g){this._options=g,this.reinit()}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(g){if(this.chart){const C=this.chart.getElementsAtEventForMode(g,"nearest",{intersect:!0},!1),I=this.chart.getElementsAtEventForMode(g,"dataset",{intersect:!0},!1);C&&C[0]&&I&&this.onDataSelect.emit({originalEvent:g,element:C[0],dataset:I})}}initChart(){let g=this.options||{};g.responsive=this.responsive,g.responsive&&(this.height||this.width)&&(g.maintainAspectRatio=!1),this.chart=new Ad(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}return m.\u0275fac=function(g){return new(g||m)(e.Y36(e.SBq))},m.\u0275cmp=e.Xpm({type:m,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(g,C){1&g&&(e.TgZ(0,"div",0)(1,"canvas",1),e.NdJ("click",function(M){return C.onCanvasClick(M)}),e.qZA()()),2&g&&(e.Udp("width",C.responsive&&!C.width?null:C.width)("height",C.responsive&&!C.height?null:C.height),e.xp6(1),e.uIk("width",C.responsive&&!C.width?null:C.width)("height",C.responsive&&!C.height?null:C.height))},encapsulation:2,changeDetection:0}),m})(),ac=(()=>{class m{}return m.\u0275fac=function(g){return new(g||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[d.ez]}),m})()},1208:(hn,ft,b)=>{"use strict";b.d(ft,{XZ:()=>Q,nD:()=>N});var e=b(5e3),d=b(9808),u=b(2382),f=b(5921);const _=["cb"],P=function(T,y,E){return{"p-checkbox-label":!0,"p-checkbox-label-active":T,"p-disabled":y,"p-checkbox-label-focus":E}};function x(T,y){if(1&T){const E=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(U){e.CHM(E);const B=e.oxw(),ce=e.MAs(3);return e.KtG(B.onClick(U,ce,!0))}),e._uU(1),e.qZA()}if(2&T){const E=e.oxw();e.Tol(E.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,P,E.checked(),E.disabled,E.focused)),e.uIk("for",E.inputId),e.xp6(1),e.Oqu(E.label)}}const r=function(T,y,E){return{"p-checkbox p-component":!0,"p-checkbox-checked":T,"p-checkbox-disabled":y,"p-checkbox-focused":E}},R=function(T,y,E){return{"p-highlight":T,"p-disabled":y,"p-focus":E}},L={provide:u.JU,useExisting:(0,e.Gpc)(()=>Q),multi:!0};let Q=(()=>{class T{constructor(E){this.cd=E,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(E,D,U){E.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(E),U&&D.focus())}updateModel(E){let D;this.binary?(D=this.checked()?this.falseValue:this.trueValue,this.model=D,this.onModelChange(D)):(D=this.checked()?this.model.filter(U=>!f.gb.equals(U,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(D),this.model=D,this.formControl&&this.formControl.setValue(D)),this.onChange.emit({checked:D,originalEvent:E})}handleChange(E){this.readonly||this.updateModel(E)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(E){this.model=E,this.cd.markForCheck()}registerOnChange(E){this.onModelChange=E}registerOnTouched(E){this.onModelTouched=E}setDisabledState(E){this.disabled=E,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:f.gb.contains(this.value,this.model)}}return T.\u0275fac=function(E){return new(E||T)(e.Y36(e.sBO))},T.\u0275cmp=e.Xpm({type:T,selectors:[["p-checkbox"]],viewQuery:function(E,D){if(1&E&&e.Gf(_,5),2&E){let U;e.iGM(U=e.CRH())&&(D.inputViewChild=U.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([L])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(E,D){if(1&E){const U=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return D.onFocus()})("blur",function(){return D.onBlur()})("change",function(ce){return D.handleChange(ce)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(ce){e.CHM(U);const $=e.MAs(3);return e.KtG(D.onClick(ce,$,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,x,2,9,"label",6)}2&E&&(e.Tol(D.styleClass),e.Q6J("ngStyle",D.style)("ngClass",e.kEZ(18,r,D.checked(),D.disabled,D.focused)),e.xp6(2),e.Q6J("readonly",D.readonly)("value",D.value)("checked",D.checked())("disabled",D.disabled),e.uIk("id",D.inputId)("name",D.name)("tabindex",D.tabindex)("aria-labelledby",D.ariaLabelledBy)("aria-label",D.ariaLabel)("aria-checked",D.checked())("required",D.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,R,D.checked(),D.disabled,D.focused)),e.xp6(1),e.Q6J("ngClass",D.checked()?D.checkboxIcon:null),e.xp6(1),e.Q6J("ngIf",D.label))},dependencies:[d.mk,d.O5,d.PC],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),T})(),N=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[d.ez]}),T})()},6888:(hn,ft,b)=>{"use strict";b.d(ft,{e4:()=>O,zH:()=>k});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(2382),P=b(5921),x=b(9783);const r=["container"],R=["input"],L=["colorSelector"],Q=["colorHandle"],N=["hue"],T=["hueHandle"],y=function(K){return{"p-disabled":K}};function E(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"input",4,5),e.NdJ("focus",function(){e.CHM(q);const ne=e.oxw();return e.KtG(ne.onInputFocus())})("click",function(){e.CHM(q);const ne=e.oxw();return e.KtG(ne.onInputClick())})("keydown",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onInputKeydown(ne))}),e.qZA()}if(2&K){const q=e.oxw();e.Udp("background-color",q.inputBgColor),e.Q6J("ngClass",e.VKq(6,y,q.disabled))("disabled",q.disabled),e.uIk("id",q.inputId)("tabindex",q.tabindex)}}const D=function(K,ue){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":K,"p-disabled":ue}},U=function(K,ue){return{showTransitionParams:K,hideTransitionParams:ue}},B=function(K){return{value:"visible",params:K}};function ce(K,ue){if(1&K){const q=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onOverlayClick(ne))})("@overlayAnimation.start",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onOverlayAnimationStart(ne))})("@overlayAnimation.done",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onOverlayAnimationEnd(ne))}),e.TgZ(1,"div",7)(2,"div",8,9),e.NdJ("touchstart",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onColorTouchStart(ne))})("touchmove",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onMove(ne))})("touchend",function(){e.CHM(q);const ne=e.oxw();return e.KtG(ne.onDragEnd())})("mousedown",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onColorMousedown(ne))}),e.TgZ(4,"div",10),e._UZ(5,"div",11,12),e.qZA()(),e.TgZ(7,"div",13,14),e.NdJ("mousedown",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onHueMousedown(ne))})("touchstart",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onHueTouchStart(ne))})("touchmove",function(ne){e.CHM(q);const Ce=e.oxw();return e.KtG(Ce.onMove(ne))})("touchend",function(){e.CHM(q);const ne=e.oxw();return e.KtG(ne.onDragEnd())}),e._UZ(9,"div",15,16),e.qZA()()()}if(2&K){const q=e.oxw();e.Q6J("ngClass",e.WLB(3,D,!q.inline,q.disabled))("@overlayAnimation",e.VKq(9,B,e.WLB(6,U,q.showTransitionOptions,q.hideTransitionOptions)))("@.disabled",!0===q.inline)}}const $=function(K,ue){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":K,"p-colorpicker-dragging":ue}},V={provide:_.JU,useExisting:(0,e.Gpc)(()=>k),multi:!0};let k=(()=>{class K{constructor(q,G,ne,Ce,oe){this.el=q,this.renderer=G,this.cd=ne,this.config=Ce,this.overlayService=oe,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.value={h:0,s:100,b:100},this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set colorSelector(q){this.colorSelectorViewChild=q}set colorHandle(q){this.colorHandleViewChild=q}set hue(q){this.hueViewChild=q}set hueHandle(q){this.hueHandleViewChild=q}onHueMousedown(q){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(q))}onHueTouchStart(q){this.disabled||(this.hueDragging=!0,this.pickHue(q,q.changedTouches[0]))}onColorTouchStart(q){this.disabled||(this.colorDragging=!0,this.pickColor(q,q.changedTouches[0]))}pickHue(q,G){let ne=G?G.pageY:q.pageY,Ce=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,ne-Ce)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:q,value:this.getValueToUpdate()})}onColorMousedown(q){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(q))}onMove(q){this.colorDragging&&(this.pickColor(q,q.changedTouches[0]),q.preventDefault()),this.hueDragging&&(this.pickHue(q,q.changedTouches[0]),q.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(q,G){let ne=G?G.pageX:q.pageX,Ce=G?G.pageY:q.pageY,oe=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),z=oe.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),te=oe.left+document.body.scrollLeft,W=Math.floor(100*Math.max(0,Math.min(150,ne-te))/150),Y=Math.floor(100*(150-Math.max(0,Math.min(150,Ce-z)))/150);this.value=this.validateHSB({h:this.value.h,s:W,b:Y}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:q,value:this.getValueToUpdate()})}getValueToUpdate(){let q;switch(this.format){case"hex":q="#"+this.HSBtoHEX(this.value);break;case"rgb":q=this.HSBtoRGB(this.value);break;case"hsb":q=this.value}return q}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(q){if(q)switch(this.format){case"hex":this.value=this.HEXtoHSB(q);break;case"rgb":this.value=this.RGBtoHSB(q);break;case"hsb":this.value=q}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const q={s:100,b:100};q.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(q)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(q){switch(q.toState){case"visible":this.inline||(this.overlay=q.element,this.appendOverlay(),this.autoZIndex&&P.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(q){switch(q.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&P.P9.clear(q.element),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):f.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?f.p.absolutePosition(this.overlay,this.inputViewChild.nativeElement):f.p.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(q){switch(q.which){case 32:this.togglePanel(),q.preventDefault();break;case 27:case 9:this.hide()}}onOverlayClick(q){this.overlayService.add({originalEvent:q,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(q){this.onModelChange=q}registerOnTouched(q){this.onModelTouched=q}setDisabledState(q){this.disabled=q,this.cd.markForCheck()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousemove",G=>{this.colorDragging&&this.pickColor(G),this.hueDragging&&this.pickHue(G)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!f.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(q){return{h:Math.min(360,Math.max(0,q.h)),s:Math.min(100,Math.max(0,q.s)),b:Math.min(100,Math.max(0,q.b))}}validateRGB(q){return{r:Math.min(255,Math.max(0,q.r)),g:Math.min(255,Math.max(0,q.g)),b:Math.min(255,Math.max(0,q.b))}}validateHEX(q){var G=6-q.length;if(G>0){for(var ne=[],Ce=0;Ce<G;Ce++)ne.push("0");ne.push(q),q=ne.join("")}return q}HEXtoRGB(q){let G=parseInt(q.indexOf("#")>-1?q.substring(1):q,16);return{r:G>>16,g:(65280&G)>>8,b:255&G}}HEXtoHSB(q){return this.RGBtoHSB(this.HEXtoRGB(q))}RGBtoHSB(q){var G={h:0,s:0,b:0},ne=Math.min(q.r,q.g,q.b),Ce=Math.max(q.r,q.g,q.b),oe=Ce-ne;return G.b=Ce,G.s=0!=Ce?255*oe/Ce:0,G.h=0!=G.s?q.r==Ce?(q.g-q.b)/oe:q.g==Ce?2+(q.b-q.r)/oe:4+(q.r-q.g)/oe:-1,G.h*=60,G.h<0&&(G.h+=360),G.s*=100/255,G.b*=100/255,G}HSBtoRGB(q){var G={r:null,g:null,b:null};let ne=q.h,Ce=255*q.s/100,oe=255*q.b/100;if(0==Ce)G={r:oe,g:oe,b:oe};else{let z=oe,te=(255-Ce)*oe/255,W=ne%60*(z-te)/60;360==ne&&(ne=0),ne<60?(G.r=z,G.b=te,G.g=te+W):ne<120?(G.g=z,G.b=te,G.r=z-W):ne<180?(G.g=z,G.r=te,G.b=te+W):ne<240?(G.b=z,G.r=te,G.g=z-W):ne<300?(G.b=z,G.g=te,G.r=te+W):ne<360?(G.r=z,G.g=te,G.b=z-W):(G.r=0,G.g=0,G.b=0)}return{r:Math.round(G.r),g:Math.round(G.g),b:Math.round(G.b)}}RGBtoHEX(q){var G=[q.r.toString(16),q.g.toString(16),q.b.toString(16)];for(var ne in G)1==G[ne].length&&(G[ne]="0"+G[ne]);return G.join("")}HSBtoHEX(q){return this.RGBtoHEX(this.HSBtoRGB(q))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&P.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return K.\u0275fac=function(q){return new(q||K)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(x.b4),e.Y36(x.F0))},K.\u0275cmp=e.Xpm({type:K,selectors:[["p-colorPicker"]],viewQuery:function(q,G){if(1&q&&(e.Gf(r,5),e.Gf(R,5),e.Gf(L,5),e.Gf(Q,5),e.Gf(N,5),e.Gf(T,5)),2&q){let ne;e.iGM(ne=e.CRH())&&(G.containerViewChild=ne.first),e.iGM(ne=e.CRH())&&(G.inputViewChild=ne.first),e.iGM(ne=e.CRH())&&(G.colorSelector=ne.first),e.iGM(ne=e.CRH())&&(G.colorHandle=ne.first),e.iGM(ne=e.CRH())&&(G.hue=ne.first),e.iGM(ne=e.CRH())&&(G.hueHandle=ne.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:"inline",format:"format",appendTo:"appendTo",disabled:"disabled",tabindex:"tabindex",inputId:"inputId",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[e._Bn([V])],decls:4,vars:9,consts:[[3,"ngStyle","ngClass"],["container",""],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(q,G){1&q&&(e.TgZ(0,"div",0,1),e.YNc(2,E,2,8,"input",2),e.YNc(3,ce,11,11,"div",3),e.qZA()),2&q&&(e.Tol(G.styleClass),e.Q6J("ngStyle",G.style)("ngClass",e.WLB(6,$,!G.inline,G.colorDragging||G.hueDragging)),e.xp6(2),e.Q6J("ngIf",!G.inline),e.xp6(1),e.Q6J("ngIf",G.inline||G.overlayVisible))},dependencies:[u.mk,u.O5,u.PC],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),K})(),O=(()=>{class K{}return K.\u0275fac=function(q){return new(q||K)},K.\u0275mod=e.oAB({type:K}),K.\u0275inj=e.cJS({imports:[u.ez]}),K})()},9114:(hn,ft,b)=>{"use strict";b.d(ft,{D:()=>te,Q:()=>z});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(9783),P=b(845),x=b(5921),r=b(5787);const R=["content"];function L(W,Y){1&W&&e.GkF(0)}function Q(W,Y){if(1&W&&(e.TgZ(0,"div",10),e.YNc(1,L,1,0,"ng-container",11),e.qZA()),2&W){const Ae=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Ae.headerTemplate)}}function N(W,Y){if(1&W&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&W){const Ae=e.oxw(4);e.xp6(1),e.Oqu(Ae.option("header"))}}const T=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function y(W,Y){if(1&W){const Ae=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(qe){e.CHM(Ae);const ye=e.oxw(4);return e.KtG(ye.close(qe))})("keydown.enter",function(qe){e.CHM(Ae);const ye=e.oxw(4);return e.KtG(ye.close(qe))}),e._UZ(1,"span",17),e.qZA()}2&W&&e.Q6J("ngClass",e.DdM(1,T))}function E(W,Y){if(1&W&&(e.TgZ(0,"div",10),e.YNc(1,N,2,1,"span",12),e.TgZ(2,"div",13),e.YNc(3,y,2,2,"button",14),e.qZA()()),2&W){const Ae=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Ae.option("header")),e.xp6(2),e.Q6J("ngIf",Ae.closable)}}function D(W,Y){if(1&W&&e._UZ(0,"i",1),2&W){const Ae=e.oxw(3);e.Tol(Ae.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function U(W,Y){1&W&&e.GkF(0)}function B(W,Y){if(1&W&&(e.TgZ(0,"div",18),e.Hsn(1),e.YNc(2,U,1,0,"ng-container",11),e.qZA()),2&W){const Ae=e.oxw(3);e.xp6(2),e.Q6J("ngTemplateOutlet",Ae.footerTemplate)}}function ce(W,Y){if(1&W){const Ae=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(Ae);const qe=e.oxw(4);return e.KtG(qe.reject())}),e.qZA()}if(2&W){const Ae=e.oxw(4);e.Tol(Ae.option("rejectButtonStyleClass")),e.Q6J("icon",Ae.option("rejectIcon"))("label",Ae.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",Ae.rejectAriaLabel)}}function $(W,Y){if(1&W){const Ae=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(Ae);const qe=e.oxw(4);return e.KtG(qe.accept())}),e.qZA()}if(2&W){const Ae=e.oxw(4);e.Tol(Ae.option("acceptButtonStyleClass")),e.Q6J("icon",Ae.option("acceptIcon"))("label",Ae.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",Ae.acceptAriaLabel)}}function V(W,Y){if(1&W&&(e.TgZ(0,"div",18),e.YNc(1,ce,1,6,"button",19),e.YNc(2,$,1,6,"button",19),e.qZA()),2&W){const Ae=e.oxw(3);e.xp6(1),e.Q6J("ngIf",Ae.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",Ae.option("acceptVisible"))}}const k=function(W){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":W}},O=function(W,Y){return{transform:W,transition:Y}},K=function(W){return{value:"visible",params:W}};function ue(W,Y){if(1&W){const Ae=e.EpF();e.TgZ(0,"div",3),e.NdJ("@animation.start",function(qe){e.CHM(Ae);const ye=e.oxw(2);return e.KtG(ye.onAnimationStart(qe))})("@animation.done",function(qe){e.CHM(Ae);const ye=e.oxw(2);return e.KtG(ye.onAnimationEnd(qe))}),e.YNc(1,Q,2,1,"div",4),e.YNc(2,E,4,2,"div",4),e.TgZ(3,"div",5,6),e.YNc(5,D,1,3,"i",7),e._UZ(6,"span",8),e.qZA(),e.YNc(7,B,3,1,"div",9),e.YNc(8,V,3,2,"div",9),e.qZA()}if(2&W){const Ae=e.oxw(2);e.Tol(Ae.styleClass),e.Q6J("ngClass",e.VKq(11,k,Ae.rtl))("ngStyle",Ae.style)("@animation",e.VKq(16,K,e.WLB(13,O,Ae.transformOptions,Ae.transitionOptions))),e.xp6(1),e.Q6J("ngIf",Ae.headerTemplate),e.xp6(1),e.Q6J("ngIf",!Ae.headerTemplate),e.xp6(3),e.Q6J("ngIf",Ae.option("icon")),e.xp6(1),e.Q6J("innerHTML",Ae.option("message"),e.oJD),e.xp6(1),e.Q6J("ngIf",Ae.footer||Ae.footerTemplate),e.xp6(1),e.Q6J("ngIf",!Ae.footer&&!Ae.footerTemplate)}}function q(W,Y){if(1&W&&(e.TgZ(0,"div",1),e.YNc(1,ue,9,18,"div",2),e.qZA()),2&W){const Ae=e.oxw();e.Tol(Ae.maskStyleClass),e.Q6J("ngClass",Ae.getMaskClass()),e.xp6(1),e.Q6J("ngIf",Ae.visible)}}const G=[[["p-footer"]]],ne=["p-footer"],Ce=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}",(0,d.oB)({transform:"none",opacity:1}))]),oe=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let z=(()=>{class W{constructor(Ae,Ee,qe,ye,Ge,X){this.el=Ae,this.renderer=Ee,this.confirmationService=qe,this.zone=ye,this.cd=Ge,this.config=X,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new e.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=(0,x.Th)(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(be=>{be?be.key===this.key&&(this.confirmation=be,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(Ae){this._visible=Ae,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(Ae){switch(this._position=Ae,Ae){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(Ae=>{switch(Ae.getType()){case"header":this.headerTemplate=Ae.template;break;case"footer":this.footerTemplate=Ae.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(Ae){const Ee=this.confirmationOptions||this;if(Ee.hasOwnProperty(Ae))return Ee[Ae]}onAnimationStart(Ae){if("visible"===Ae.toState){this.container=Ae.element,this.wrapper=this.container.parentElement,this.contentContainer=f.p.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const Ee=this.getElementToFocus();Ee&&Ee.focus()}}onAnimationEnd(Ae){"void"===Ae.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return f.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return f.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return f.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):f.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&f.p.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Ae=>{this.wrapper&&this.wrapper.isSameNode(Ae.target)&&this.close(Ae)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&f.p.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Ae="";for(let Ee in this.breakpoints)Ae+=`\n                    @media screen and (max-width: ${Ee}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[Ee]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=Ae}}close(Ae){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(_.wB.CANCEL),this.hide(_.wB.CANCEL),Ae.preventDefault()}hide(Ae){this.onHide.emit(Ae),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(x.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let Ae={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return Ae[this.getPositionClass().toString()]=!0,Ae}getPositionClass(){const Ee=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(qe=>qe===this.position);return Ee?`p-dialog-${Ee}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Ee=>{if(27==Ee.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===x.P9.get(this.container)&&this.visible&&this.close(Ee),9===Ee.which&&this.focusTrap){Ee.preventDefault();let qe=f.p.getFocusableElements(this.container);if(qe&&qe.length>0)if(qe[0].ownerDocument.activeElement){let ye=qe.indexOf(qe[0].ownerDocument.activeElement);Ee.shiftKey?-1==ye||0===ye?qe[qe.length-1].focus():qe[ye-1].focus():-1==ye||ye===qe.length-1?qe[0].focus():qe[ye+1].focus()}else qe[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&x.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(_.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(_.wB.REJECT),this.hide(_.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(_.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(_.ws.REJECT)}}return W.\u0275fac=function(Ae){return new(Ae||W)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(_.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(_.b4))},W.\u0275cmp=e.Xpm({type:W,selectors:[["p-confirmDialog"]],contentQueries:function(Ae,Ee,qe){if(1&Ae&&(e.Suo(qe,_.$_,5),e.Suo(qe,_.jx,4)),2&Ae){let ye;e.iGM(ye=e.CRH())&&(Ee.footer=ye.first),e.iGM(ye=e.CRH())&&(Ee.templates=ye)}},viewQuery:function(Ae,Ee){if(1&Ae&&e.Gf(R,5),2&Ae){let qe;e.iGM(qe=e.CRH())&&(Ee.contentViewChild=qe.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:ne,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(Ae,Ee){1&Ae&&(e.F$t(G),e.YNc(0,q,2,4,"div",0)),2&Ae&&e.Q6J("ngIf",Ee.maskVisible)},dependencies:[u.mk,u.O5,u.tP,u.PC,P.Hq,r.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(Ce)]),(0,d.eR)("visible => void",[(0,d._7)(oe)])])]},changeDetection:0}),W})(),te=(()=>{class W{}return W.\u0275fac=function(Ae){return new(Ae||W)},W.\u0275mod=e.oAB({type:W}),W.\u0275inj=e.cJS({imports:[u.ez,P.hJ,r.T,P.hJ,_.m8]}),W})()},7307:(hn,ft,b)=>{"use strict";b.d(ft,{P:()=>y,n:()=>E});var e=b(5e3),d=b(9808),u=b(9783),f=b(845),_=b(5921),P=b(1777),x=b(5730);function r(D,U){if(1&D&&e._UZ(0,"i",8),2&D){const B=e.oxw(2);e.Tol(B.confirmation.icon),e.Q6J("ngClass","p-confirm-popup-icon")}}function R(D,U){if(1&D){const B=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(B);const $=e.oxw(2);return e.KtG($.reject())}),e.qZA()}if(2&D){const B=e.oxw(2);e.Tol(B.confirmation.rejectButtonStyleClass||"p-button-text"),e.Q6J("icon",B.confirmation.rejectIcon)("label",B.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),e.uIk("aria-label",B.rejectButtonLabel)}}function L(D,U){if(1&D){const B=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(B);const $=e.oxw(2);return e.KtG($.accept())}),e.qZA()}if(2&D){const B=e.oxw(2);e.Tol(B.confirmation.acceptButtonStyleClass),e.Q6J("icon",B.confirmation.acceptIcon)("label",B.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),e.uIk("aria-label",B.acceptButtonLabel)}}const Q=function(D,U){return{showTransitionParams:D,hideTransitionParams:U}},N=function(D){return{value:"open",params:D}};function T(D,U){if(1&D){const B=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function($){e.CHM(B);const V=e.oxw();return e.KtG(V.onOverlayClick($))})("@animation.start",function($){e.CHM(B);const V=e.oxw();return e.KtG(V.onAnimationStart($))})("@animation.done",function($){e.CHM(B);const V=e.oxw();return e.KtG(V.onAnimationEnd($))}),e.TgZ(1,"div",2,3),e.YNc(3,r,1,3,"i",4),e.TgZ(4,"span",5),e._uU(5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,R,1,6,"button",7),e.YNc(8,L,1,6,"button",7),e.qZA()()}if(2&D){const B=e.oxw();e.Tol(B.styleClass),e.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",B.style)("@animation",e.VKq(12,N,e.WLB(9,Q,B.showTransitionOptions,B.hideTransitionOptions))),e.xp6(3),e.Q6J("ngIf",B.confirmation.icon),e.xp6(2),e.Oqu(B.confirmation.message),e.xp6(2),e.Q6J("ngIf",!1!==B.confirmation.rejectVisible),e.xp6(1),e.Q6J("ngIf",!1!==B.confirmation.acceptVisible)}}let y=(()=>{class D{constructor(B,ce,$,V,k,O){this.el=B,this.confirmationService=ce,this.renderer=$,this.cd=V,this.config=k,this.overlayService=O,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(K=>{K?K.key===this.key&&(this.confirmation=K,this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(B){this._visible=B,this.cd.markForCheck()}onAnimationStart(B){if("open"===B.toState){this.container=B.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const ce=this.getElementToFocus();ce&&ce.focus()}}onAnimationEnd(B){"void"===B.toState&&this.onContainerDestroy()}getElementToFocus(){switch(this.defaultFocus){case"accept":return x.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return x.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&_.P9.set("overlay",this.container,this.config.zIndex.overlay),x.p.absolutePosition(this.container,this.confirmation.target);const B=x.p.getOffset(this.container),ce=x.p.getOffset(this.confirmation.target);let $=0;B.left<ce.left&&($=ce.left-B.left),this.container.style.setProperty("--overlayArrowLeft",`${$}px`),B.top<ce.top&&x.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(B){this.overlayService.add({originalEvent:B,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let B=x.p.isIOS()?"touchstart":"click";const ce=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(ce,B,$=>{let V=this.confirmation.target;this.container!==$.target&&!this.container.contains($.target)&&V!==$.target&&!V.contains($.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!x.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new x.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&_.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(u.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(u.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return D.\u0275fac=function(B){return new(B||D)(e.Y36(e.SBq),e.Y36(u.YP),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(u.b4),e.Y36(u.F0))},D.\u0275cmp=e.Xpm({type:D,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(B,ce){1&B&&e.YNc(0,T,9,14,"div",0),2&B&&e.Q6J("ngIf",ce.visible)},dependencies:[d.mk,d.O5,d.PC,f.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}\n'],encapsulation:2,data:{animation:[(0,P.X$)("animation",[(0,P.SB)("void",(0,P.oB)({transform:"scaleY(0.8)",opacity:0})),(0,P.SB)("open",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => open",(0,P.jt)("{{showTransitionParams}}")),(0,P.eR)("open => void",(0,P.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),D})(),E=(()=>{class D{}return D.\u0275fac=function(B){return new(B||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[d.ez,f.hJ]}),D})()},330:(hn,ft,b)=>{"use strict";b.d(ft,{vI:()=>qe,xV:()=>Ee});var e=b(5e3),d=b(9808),u=b(5730),f=b(9783),_=b(5787),P=b(5921),x=b(3470),r=b(7579),R=b(2722),L=b(4119);const Q=["sublist"],N=["menuitem"],T=function(ye){return{"p-hidden":ye}};function y(ye,Ge){if(1&ye&&e._UZ(0,"li",5,6),2&ye){const X=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,T,!1===X.visible))}}function E(ye,Ge){if(1&ye&&e._UZ(0,"span",17),2&ye){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.icon)("ngStyle",X.iconStyle)}}function D(ye,Ge){if(1&ye&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&ye){const X=e.oxw(3).$implicit;e.xp6(1),e.Oqu(X.label)}}function U(ye,Ge){if(1&ye&&e._UZ(0,"span",19),2&ye){const X=e.oxw(3).$implicit;e.Q6J("innerHTML",X.label,e.oJD)}}function B(ye,Ge){if(1&ye&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&ye){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.badgeStyleClass),e.xp6(1),e.Oqu(X.badge)}}function ce(ye,Ge){1&ye&&e._UZ(0,"span",21)}const $=function(ye){return{"p-menuitem-link":!0,"p-disabled":ye}};function V(ye,Ge){if(1&ye){const X=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(we){e.CHM(X),e.oxw();const Ie=e.MAs(1),ct=e.oxw(),dt=ct.$implicit,et=ct.index,vt=e.oxw();return e.KtG(vt.onItemClick(we,dt,Ie,vt.getKey(et)))}),e.YNc(1,E,1,2,"span",12),e.YNc(2,D,2,1,"span",13),e.YNc(3,U,1,1,"ng-template",null,14,e.W1O),e.YNc(5,B,2,2,"span",15),e.YNc(6,ce,1,0,"span",16),e.qZA()}if(2&ye){const X=e.MAs(4),be=e.oxw(2),we=be.$implicit,Ie=be.index,ct=e.oxw();e.Q6J("target",we.target)("ngClass",e.VKq(13,$,we.disabled)),e.uIk("href",we.url?we.url:null,e.LSH)("title",we.title)("id",we.id)("tabindex",we.disabled?null:"0")("aria-haspopup",null!=ct.item.items)("aria-expanded",ct.isActive(ct.getKey(Ie))),e.xp6(1),e.Q6J("ngIf",we.icon),e.xp6(1),e.Q6J("ngIf",!1!==we.escape)("ngIfElse",X),e.xp6(3),e.Q6J("ngIf",we.badge),e.xp6(1),e.Q6J("ngIf",we.items)}}function k(ye,Ge){if(1&ye&&e._UZ(0,"span",17),2&ye){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.icon)("ngStyle",X.iconStyle)}}function O(ye,Ge){if(1&ye&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&ye){const X=e.oxw(3).$implicit;e.xp6(1),e.Oqu(X.label)}}function K(ye,Ge){if(1&ye&&e._UZ(0,"span",19),2&ye){const X=e.oxw(3).$implicit;e.Q6J("innerHTML",X.label,e.oJD)}}function ue(ye,Ge){if(1&ye&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&ye){const X=e.oxw(3).$implicit;e.Q6J("ngClass",X.badgeStyleClass),e.xp6(1),e.Oqu(X.badge)}}function q(ye,Ge){1&ye&&e._UZ(0,"span",21)}const G=function(){return{exact:!1}};function ne(ye,Ge){if(1&ye){const X=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(we){e.CHM(X),e.oxw();const Ie=e.MAs(1),ct=e.oxw(),dt=ct.$implicit,et=ct.index,vt=e.oxw();return e.KtG(vt.onItemClick(we,dt,Ie,vt.getKey(et)))}),e.YNc(1,k,1,2,"span",12),e.YNc(2,O,2,1,"span",13),e.YNc(3,K,1,1,"ng-template",null,23,e.W1O),e.YNc(5,ue,2,2,"span",15),e.YNc(6,q,1,0,"span",16),e.qZA()}if(2&ye){const X=e.MAs(4),be=e.oxw(2).$implicit;e.Q6J("routerLink",be.routerLink)("queryParams",be.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",be.routerLinkActiveOptions||e.DdM(20,G))("target",be.target)("ngClass",e.VKq(21,$,be.disabled))("fragment",be.fragment)("queryParamsHandling",be.queryParamsHandling)("preserveFragment",be.preserveFragment)("skipLocationChange",be.skipLocationChange)("replaceUrl",be.replaceUrl)("state",be.state),e.uIk("title",be.title)("id",be.id)("tabindex",be.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",be.icon),e.xp6(1),e.Q6J("ngIf",!1!==be.escape)("ngIfElse",X),e.xp6(3),e.Q6J("ngIf",be.badge),e.xp6(1),e.Q6J("ngIf",be.items)}}function Ce(ye,Ge){if(1&ye){const X=e.EpF();e.TgZ(0,"p-contextMenuSub",24),e.NdJ("leafClick",function(){e.CHM(X);const we=e.oxw(3);return e.KtG(we.onLeafClick())}),e.qZA()}if(2&ye){const X=e.oxw(2),be=X.index,we=X.$implicit,Ie=e.oxw();e.Q6J("parentItemKey",Ie.getKey(be))("item",we)}}const oe=function(ye,Ge){return{"p-menuitem":!0,"p-menuitem-active":ye,"p-hidden":Ge}};function z(ye,Ge){if(1&ye){const X=e.EpF();e.TgZ(0,"li",7,6),e.NdJ("mouseenter",function(we){e.CHM(X);const Ie=e.oxw(),ct=Ie.$implicit,dt=Ie.index,et=e.oxw();return e.KtG(et.onItemMouseEnter(we,ct,et.getKey(dt)))})("mouseleave",function(we){e.CHM(X);const Ie=e.oxw().$implicit,ct=e.oxw();return e.KtG(ct.onItemMouseLeave(we,Ie))}),e.YNc(2,V,7,15,"a",8),e.YNc(3,ne,7,23,"a",9),e.YNc(4,Ce,1,2,"p-contextMenuSub",10),e.qZA()}if(2&ye){const X=e.oxw(),be=X.$implicit,we=X.index,Ie=e.oxw();e.Tol(be.styleClass),e.Q6J("ngClass",e.WLB(9,oe,Ie.isActive(Ie.getKey(we)),!1===be.visible))("ngStyle",be.style)("tooltipOptions",be.tooltipOptions),e.uIk("data-ik",Ie.getKey(we)),e.xp6(2),e.Q6J("ngIf",!be.routerLink),e.xp6(1),e.Q6J("ngIf",be.routerLink),e.xp6(1),e.Q6J("ngIf",be.items)}}function te(ye,Ge){if(1&ye&&(e.YNc(0,y,2,3,"li",3),e.YNc(1,z,5,12,"li",4)),2&ye){const X=Ge.$implicit;e.Q6J("ngIf",X.separator),e.xp6(1),e.Q6J("ngIf",!X.separator)}}const W=function(ye){return{"p-submenu-list":ye}},Y=["container"];let Ae=(()=>{class ye{constructor(X){this.leafClick=new e.vpe,this.contextMenu=X}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe((0,R.R)(this.contextMenu.ngDestroy$)).subscribe(X=>{this.activeItemKey=X,this.isActive(this.parentItemKey)&&u.p.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(X,be,we){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),be.disabled)this.activeItemKey=null;else{if(be.items){let Ie=u.p.findSingle(X.currentTarget,".p-submenu-list");u.p.addClass(Ie,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(we)}}onItemMouseLeave(X,be){be.disabled||this.contextMenu.el.nativeElement.contains(X.toElement)&&(be.items&&this.contextMenu.removeActiveFromSubLists(X.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(X,be,we,Ie){if(be.disabled)X.preventDefault();else{if(!be.url&&!be.routerLink&&X.preventDefault(),be.command&&be.command({originalEvent:X,item:be}),be.items){let ct=u.p.findSingle(we,".p-submenu-list");ct&&(this.isActive(Ie)&&u.p.hasClass(ct,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(we):u.p.addClass(ct,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(Ie))}be.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(X){return this.root?String(X):this.parentItemKey+"_"+X}isActive(X){return this.activeItemKey&&(this.activeItemKey.startsWith(X+"_")||this.activeItemKey===X)}}return ye.\u0275fac=function(X){return new(X||ye)(e.Y36((0,e.Gpc)(()=>Ee)))},ye.\u0275cmp=e.Xpm({type:ye,selectors:[["p-contextMenuSub"]],viewQuery:function(X,be){if(1&X&&(e.Gf(Q,5),e.Gf(N,5)),2&X){let we;e.iGM(we=e.CRH())&&(be.sublistViewChild=we.first),e.iGM(we=e.CRH())&&(be.menuitemViewChild=we.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["pTooltip","","role","none",3,"ngClass","ngStyle","class","tooltipOptions","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["pTooltip","","role","none",3,"ngClass","ngStyle","tooltipOptions","mouseenter","mouseleave"],["pRipple","",3,"target","ngClass","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(X,be){1&X&&(e.TgZ(0,"ul",0,1),e.YNc(2,te,2,2,"ng-template",2),e.qZA()),2&X&&(e.Q6J("ngClass",e.VKq(2,W,!be.root)),e.xp6(2),e.Q6J("ngForOf",be.root?be.item:be.item.items))},dependencies:[d.mk,d.sg,d.O5,d.PC,x.yS,x.Od,_.H,L.u,ye],encapsulation:2}),ye})(),Ee=(()=>{class ye{constructor(X,be,we,Ie,ct,dt){this.el=X,this.renderer=be,this.cd=we,this.zone=Ie,this.contextMenuService=ct,this.config=dt,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new e.vpe,this.onHide=new e.vpe,this.ngDestroy$=new r.x,this.preventDocumentDefault=!1}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,be=>{this.show(be),be.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,X=>{this.show(X),X.preventDefault()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):u.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(X){this.clearActiveItem(),this.position(X),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",this.preventDocumentDefault=!0,u.p.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),X&&X.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.autoZIndex&&P.P9.clear(this.containerViewChild.nativeElement),this.clearActiveItem(),this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&this.containerViewChild&&"block"!==this.containerViewChild.nativeElement.style.display&&P.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}toggle(X){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(X)}position(X){if(X){let be=X.pageX+1,we=X.pageY+1,Ie=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:u.p.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),ct=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:u.p.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),dt=u.p.getViewport();be+Ie-document.scrollingElement.scrollLeft>dt.width&&(be-=Ie),we+ct-document.scrollingElement.scrollTop>dt.height&&(we-=ct),be<document.scrollingElement.scrollLeft&&(be=document.scrollingElement.scrollLeft),we<document.scrollingElement.scrollTop&&(we=document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=be+"px",this.containerViewChild.nativeElement.style.top=we+"px"}}positionSubmenu(X){let be=X.parentElement.parentElement,we=u.p.getViewport(),Ie=X.offsetParent?X.offsetWidth:u.p.getHiddenElementOuterWidth(X),ct=X.offsetHeight?X.offsetHeight:u.p.getHiddenElementOuterHeight(X),dt=u.p.getOuterWidth(be.children[0]),et=u.p.getOuterHeight(be.children[0]),vt=u.p.getOffset(be.parentElement);X.style.zIndex=++u.p.zindex,parseInt(vt.top)+et+ct>we.height-u.p.calculateScrollbarHeight()?(X.style.removeProperty("top"),X.style.bottom="0px"):(X.style.removeProperty("bottom"),X.style.top="0px"),X.style.left=parseInt(vt.left)+dt+Ie>we.width-u.p.calculateScrollbarWidth()?-Ie+"px":dt+"px"}isItemMatched(X){return u.p.hasClass(X,"p-menuitem")&&!u.p.hasClass(X.children[0],"p-disabled")}findNextItem(X,be){let we=X.nextElementSibling;if(we)return this.isItemMatched(we)?we:this.findNextItem(we,be);{let Ie=X.parentElement.children[0];return this.isItemMatched(Ie)?Ie:be?null:this.findNextItem(Ie,!0)}}findPrevItem(X,be){let we=X.previousElementSibling;if(we)return this.isItemMatched(we)?we:this.findPrevItem(we,be);{let Ie=X.parentElement.children[X.parentElement.children.length-1];return this.isItemMatched(Ie)?Ie:be?null:this.findPrevItem(Ie,!0)}}getActiveItem(){let X=this.contextMenuService.activeItemKey;return null==X?null:u.p.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+X+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(X){let be=u.p.find(X,".p-submenu-list-active");for(let we of be)u.p.removeClass(we,"p-submenu-list-active")}removeActiveFromSublist(X){X&&u.p.findSingle(X,".p-submenu-list")&&u.p.hasClass(X,"p-submenu-list-active")&&u.p.removeClass(X,"p-submenu-list-active")}bindGlobalListeners(){if(!this.documentClickListener){const X=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(X,"click",be=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(be)&&!be.ctrlKey&&2!==be.button&&this.hide()}),this.documentTriggerListener=this.renderer.listen(X,this.triggerEvent,be=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(be)&&!this.preventDocumentDefault&&this.hide(),this.preventDocumentDefault=!1})}this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",be=>{let we=this.getActiveItem();switch(be.key){case"ArrowDown":if(we)this.removeActiveFromSublist(we),we=this.findNextItem(we);else{let Ie=u.p.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;we=this.isItemMatched(Ie)?Ie:this.findNextItem(Ie)}we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")),be.preventDefault();break;case"ArrowUp":if(we)this.removeActiveFromSublist(we),we=this.findPrevItem(we);else{let Ie=u.p.findSingle(this.containerViewChild.nativeElement,"ul"),ct=Ie.children[Ie.children.length-1];we=this.isItemMatched(ct)?ct:this.findPrevItem(ct)}we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")),be.preventDefault();break;case"ArrowRight":if(we){let Ie=u.p.findSingle(we,".p-submenu-list");Ie&&(u.p.addClass(Ie,"p-submenu-list-active"),we=u.p.findSingle(Ie,".p-menuitem-link:not(.p-disabled)").parentElement,we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")))}be.preventDefault();break;case"ArrowLeft":if(we){let Ie=we.parentElement;Ie&&u.p.hasClass(Ie,"p-submenu-list-active")&&(u.p.removeClass(Ie,"p-submenu-list-active"),we=Ie.parentElement.parentElement,we&&this.contextMenuService.changeKey(we.getAttribute("data-ik")))}be.preventDefault();break;case"Escape":this.hide(),be.preventDefault();break;case"Enter":we&&this.handleItemClick(be,this.findModelItemFromKey(this.contextMenuService.activeItemKey),we),be.preventDefault()}}))}findModelItemFromKey(X){return null!=X&&this.model?X.split("_").reduce((we,Ie)=>we?we.items[Ie]:this.model[Ie],null):null}handleItemClick(X,be,we){if(be&&!be.disabled){if(be.command&&be.command({originalEvent:X,item:be}),be.items){let Ie=u.p.findSingle(we,".p-submenu-list");Ie&&(u.p.hasClass(Ie,"p-submenu-list-active")?this.removeActiveFromSubLists(we):(u.p.addClass(Ie,"p-submenu-list-active"),this.positionSubmenu(Ie)))}be.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(X){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(X){return!(this.containerViewChild.nativeElement.isSameNode(X.target)||this.containerViewChild.nativeElement.contains(X.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.containerViewChild&&this.autoZIndex&&P.P9.clear(this.containerViewChild.nativeElement),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return ye.\u0275fac=function(X){return new(X||ye)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(f.Lk),e.Y36(f.b4))},ye.\u0275cmp=e.Xpm({type:ye,selectors:[["p-contextMenu"]],viewQuery:function(X,be){if(1&X&&e.Gf(Y,5),2&X){let we;e.iGM(we=e.CRH())&&(be.containerViewChild=we.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(X,be){1&X&&(e.TgZ(0,"div",0,1),e._UZ(2,"p-contextMenuSub",2),e.qZA()),2&X&&(e.Tol(be.styleClass),e.Q6J("ngClass","p-contextmenu p-component")("ngStyle",be.style),e.xp6(2),e.Q6J("item",be.model)("root",!0))},dependencies:[d.mk,d.PC,Ae],styles:[".p-contextmenu{position:absolute;display:none}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}\n"],encapsulation:2,changeDetection:0}),ye})(),qe=(()=>{class ye{}return ye.\u0275fac=function(X){return new(X||ye)},ye.\u0275mod=e.oAB({type:ye}),ye.\u0275inj=e.cJS({providers:[f.Lk],imports:[d.ez,x.Bz,_.T,L.z,x.Bz,L.z]}),ye})()},5315:(hn,ft,b)=>{"use strict";b.d(ft,{V:()=>Ae,S:()=>Ee});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(9783);let P=(()=>{class qe{constructor(Ge){this.el=Ge}onkeydown(Ge){if(!0!==this.pFocusTrapDisabled){Ge.preventDefault();let X=f.p.getFocusableElements(this.el.nativeElement);if(X&&X.length>0)if(X[0].ownerDocument.activeElement){let be=X.indexOf(X[0].ownerDocument.activeElement);Ge.shiftKey?-1==be||0===be?X[X.length-1].focus():X[be-1].focus():-1==be||be===X.length-1?X[0].focus():X[be+1].focus()}else X[0].focus()}}}return qe.\u0275fac=function(Ge){return new(Ge||qe)(e.Y36(e.SBq))},qe.\u0275dir=e.lG2({type:qe,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(Ge,X){1&Ge&&e.NdJ("keydown.tab",function(we){return X.onkeydown(we)})("keydown.shift.tab",function(we){return X.onkeydown(we)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),qe})(),x=(()=>{class qe{}return qe.\u0275fac=function(Ge){return new(Ge||qe)},qe.\u0275mod=e.oAB({type:qe}),qe.\u0275inj=e.cJS({imports:[u.ez]}),qe})();var r=b(5787),R=b(5921);const L=["titlebar"],Q=["content"],N=["footer"];function T(qe,ye){if(1&qe){const Ge=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(be){e.CHM(Ge);const we=e.oxw(3);return e.KtG(we.initResize(be))}),e.qZA()}}function y(qe,ye){if(1&qe&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&qe){const Ge=e.oxw(4);e.uIk("id",Ge.id+"-label"),e.xp6(1),e.Oqu(Ge.header)}}function E(qe,ye){if(1&qe&&(e.TgZ(0,"span",18),e.Hsn(1,1),e.qZA()),2&qe){const Ge=e.oxw(4);e.uIk("id",Ge.id+"-label")}}function D(qe,ye){1&qe&&e.GkF(0)}const U=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function B(qe,ye){if(1&qe){const Ge=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(Ge);const be=e.oxw(4);return e.KtG(be.maximize())})("keydown.enter",function(){e.CHM(Ge);const be=e.oxw(4);return e.KtG(be.maximize())}),e._UZ(1,"span",20),e.qZA()}if(2&qe){const Ge=e.oxw(4);e.Q6J("ngClass",e.DdM(2,U)),e.xp6(1),e.Q6J("ngClass",Ge.maximized?Ge.minimizeIcon:Ge.maximizeIcon)}}const ce=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function $(qe,ye){if(1&qe){const Ge=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(be){e.CHM(Ge);const we=e.oxw(4);return e.KtG(we.close(be))})("keydown.enter",function(be){e.CHM(Ge);const we=e.oxw(4);return e.KtG(we.close(be))}),e._UZ(1,"span",22),e.qZA()}if(2&qe){const Ge=e.oxw(4);e.Q6J("ngClass",e.DdM(4,ce)),e.uIk("aria-label",Ge.closeAriaLabel)("tabindex",Ge.closeTabindex),e.xp6(1),e.Q6J("ngClass",Ge.closeIcon)}}function V(qe,ye){if(1&qe){const Ge=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(be){e.CHM(Ge);const we=e.oxw(3);return e.KtG(we.initDrag(be))}),e.YNc(2,y,2,2,"span",14),e.YNc(3,E,2,1,"span",14),e.YNc(4,D,1,0,"ng-container",9),e.TgZ(5,"div",15),e.YNc(6,B,2,3,"button",16),e.YNc(7,$,2,5,"button",17),e.qZA()()}if(2&qe){const Ge=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!Ge.headerFacet&&!Ge.headerTemplate),e.xp6(1),e.Q6J("ngIf",Ge.headerFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",Ge.headerTemplate),e.xp6(2),e.Q6J("ngIf",Ge.maximizable),e.xp6(1),e.Q6J("ngIf",Ge.closable)}}function k(qe,ye){1&qe&&e.GkF(0)}function O(qe,ye){1&qe&&e.GkF(0)}function K(qe,ye){if(1&qe&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.YNc(3,O,1,0,"ng-container",9),e.qZA()),2&qe){const Ge=e.oxw(3);e.xp6(3),e.Q6J("ngTemplateOutlet",Ge.footerTemplate)}}const ue=function(qe,ye,Ge,X){return{"p-dialog p-component":!0,"p-dialog-rtl":qe,"p-dialog-draggable":ye,"p-dialog-resizable":Ge,"p-dialog-maximized":X}},q=function(qe,ye){return{transform:qe,transition:ye}},G=function(qe){return{value:"visible",params:qe}};function ne(qe,ye){if(1&qe){const Ge=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(be){e.CHM(Ge);const we=e.oxw(2);return e.KtG(we.onAnimationStart(be))})("@animation.done",function(be){e.CHM(Ge);const we=e.oxw(2);return e.KtG(we.onAnimationEnd(be))}),e.YNc(2,T,1,0,"div",5),e.YNc(3,V,8,5,"div",6),e.TgZ(4,"div",7,8),e.Hsn(6),e.YNc(7,k,1,0,"ng-container",9),e.qZA(),e.YNc(8,K,4,1,"div",10),e.qZA()}if(2&qe){const Ge=e.oxw(2);e.Tol(Ge.styleClass),e.Q6J("ngClass",e.l5B(15,ue,Ge.rtl,Ge.draggable,Ge.resizable,Ge.maximized))("ngStyle",Ge.style)("pFocusTrapDisabled",!1===Ge.focusTrap)("@animation",e.VKq(23,G,e.WLB(20,q,Ge.transformOptions,Ge.transitionOptions))),e.uIk("aria-labelledby",Ge.id+"-label"),e.xp6(2),e.Q6J("ngIf",Ge.resizable),e.xp6(1),e.Q6J("ngIf",Ge.showHeader),e.xp6(1),e.Tol(Ge.contentStyleClass),e.Q6J("ngClass","p-dialog-content")("ngStyle",Ge.contentStyle),e.xp6(3),e.Q6J("ngTemplateOutlet",Ge.contentTemplate),e.xp6(1),e.Q6J("ngIf",Ge.footerFacet||Ge.footerTemplate)}}const Ce=function(qe,ye,Ge,X,be,we,Ie,ct,dt,et){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":qe,"p-dialog-mask-scrollblocker":ye,"p-dialog-left":Ge,"p-dialog-right":X,"p-dialog-top":be,"p-dialog-top-left":we,"p-dialog-top-right":Ie,"p-dialog-bottom":ct,"p-dialog-bottom-left":dt,"p-dialog-bottom-right":et}};function oe(qe,ye){if(1&qe&&(e.TgZ(0,"div",1),e.YNc(1,ne,9,25,"div",2),e.qZA()),2&qe){const Ge=e.oxw();e.Tol(Ge.maskStyleClass),e.Q6J("ngClass",e.rFY(4,Ce,[Ge.modal,Ge.modal||Ge.blockScroll,"left"===Ge.position,"right"===Ge.position,"top"===Ge.position,"topleft"===Ge.position||"top-left"===Ge.position,"topright"===Ge.position||"top-right"===Ge.position,"bottom"===Ge.position,"bottomleft"===Ge.position||"bottom-left"===Ge.position,"bottomright"===Ge.position||"bottom-right"===Ge.position])),e.xp6(1),e.Q6J("ngIf",Ge.visible)}}const z=["*",[["p-header"]],[["p-footer"]]],te=["*","p-header","p-footer"],W=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}")]),Y=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let Ae=(()=>{class qe{constructor(Ge,X,be,we,Ie){this.el=Ge,this.renderer=X,this.zone=be,this.cd=we,this.config=Ie,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new e.vpe,this.onHide=new e.vpe,this.visibleChange=new e.vpe,this.onResizeInit=new e.vpe,this.onResizeEnd=new e.vpe,this.onDragEnd=new e.vpe,this.onMaximize=new e.vpe,this.id=(0,R.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(Ge){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(Ge){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(Ge){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(Ge){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(Ge=>{switch(Ge.getType()){case"header":this.headerTemplate=Ge.template;break;case"content":default:this.contentTemplate=Ge.template;break;case"footer":this.footerTemplate=Ge.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(Ge){this._visible=Ge,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(Ge){Ge&&(this._style=Object.assign({},Ge),this.originalStyle=Ge)}get position(){return this._position}set position(Ge){switch(this._position=Ge,Ge){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let Ge=f.p.findSingle(this.container,"[autofocus]");Ge&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Ge.focus(),5)})}close(Ge){this.visibleChange.emit(!1),Ge.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Ge=>{this.wrapper&&this.wrapper.isSameNode(Ge.target)&&this.close(Ge)})),this.modal&&f.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&f.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?f.p.addClass(document.body,"p-overflow-hidden"):f.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(R.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Ge="";for(let X in this.breakpoints)Ge+=`\n                    @media screen and (max-width: ${X}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[X]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=Ge}}initDrag(Ge){f.p.hasClass(Ge.target,"p-dialog-header-icon")||f.p.hasClass(Ge.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=Ge.pageX,this.lastPageY=Ge.pageY,this.container.style.margin="0",f.p.addClass(document.body,"p-unselectable-text"))}onKeydown(Ge){if(this.focusTrap&&9===Ge.which){Ge.preventDefault();let X=f.p.getFocusableElements(this.container);if(X&&X.length>0)if(X[0].ownerDocument.activeElement){let be=X.indexOf(X[0].ownerDocument.activeElement);Ge.shiftKey?-1==be||0===be?X[X.length-1].focus():X[be-1].focus():-1==be||be===X.length-1?X[0].focus():X[be+1].focus()}else X[0].focus()}}onDrag(Ge){if(this.dragging){let X=f.p.getOuterWidth(this.container),be=f.p.getOuterHeight(this.container),we=Ge.pageX-this.lastPageX,Ie=Ge.pageY-this.lastPageY,ct=this.container.getBoundingClientRect(),dt=ct.left+we,et=ct.top+Ie,vt=f.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(dt>=this.minX&&dt+X<vt.width&&(this._style.left=dt+"px",this.lastPageX=Ge.pageX,this.container.style.left=dt+"px"),et>=this.minY&&et+be<vt.height&&(this._style.top=et+"px",this.lastPageY=Ge.pageY,this.container.style.top=et+"px")):(this.lastPageX=Ge.pageX,this.container.style.left=dt+"px",this.lastPageY=Ge.pageY,this.container.style.top=et+"px")}}endDrag(Ge){this.dragging&&(this.dragging=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(Ge))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(Ge){this.resizable&&(this.resizing=!0,this.lastPageX=Ge.pageX,this.lastPageY=Ge.pageY,f.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(Ge))}onResize(Ge){if(this.resizing){let X=Ge.pageX-this.lastPageX,be=Ge.pageY-this.lastPageY,we=f.p.getOuterWidth(this.container),Ie=f.p.getOuterHeight(this.container),ct=f.p.getOuterHeight(this.contentViewChild.nativeElement),dt=we+X,et=Ie+be,vt=this.container.style.minWidth,ht=this.container.style.minHeight,Rt=this.container.getBoundingClientRect(),Nt=f.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(dt+=X,et+=be),(!vt||dt>parseInt(vt))&&Rt.left+dt<Nt.width&&(this._style.width=dt+"px",this.container.style.width=this._style.width),(!ht||et>parseInt(ht))&&Rt.top+et<Nt.height&&(this.contentViewChild.nativeElement.style.height=ct+et-Ie+"px",this._style.height&&(this._style.height=et+"px",this.container.style.height=this._style.height)),this.lastPageX=Ge.pageX,this.lastPageY=Ge.pageY}}resizeEnd(Ge){this.resizing&&(this.resizing=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(Ge))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",X=>{27==X.which&&this.close(X)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):f.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(Ge){switch(Ge.toState){case"visible":this.container=Ge.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&f.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&f.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Ge){switch(Ge.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(f.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&f.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&R.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return qe.\u0275fac=function(Ge){return new(Ge||qe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(_.b4))},qe.\u0275cmp=e.Xpm({type:qe,selectors:[["p-dialog"]],contentQueries:function(Ge,X,be){if(1&Ge&&(e.Suo(be,_.h4,5),e.Suo(be,_.$_,5),e.Suo(be,_.jx,4)),2&Ge){let we;e.iGM(we=e.CRH())&&(X.headerFacet=we.first),e.iGM(we=e.CRH())&&(X.footerFacet=we.first),e.iGM(we=e.CRH())&&(X.templates=we)}},viewQuery:function(Ge,X){if(1&Ge&&(e.Gf(L,5),e.Gf(Q,5),e.Gf(N,5)),2&Ge){let be;e.iGM(be=e.CRH())&&(X.headerViewChild=be.first),e.iGM(be=e.CRH())&&(X.contentViewChild=be.first),e.iGM(be=e.CRH())&&(X.footerViewChild=be.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:te,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(Ge,X){1&Ge&&(e.F$t(z),e.YNc(0,oe,2,15,"div",0)),2&Ge&&e.Q6J("ngIf",X.maskVisible)},dependencies:[u.mk,u.O5,u.tP,u.PC,P,r.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(W)]),(0,d.eR)("visible => void",[(0,d._7)(Y)])])]},changeDetection:0}),qe})(),Ee=(()=>{class qe{}return qe.\u0275fac=function(Ge){return new(Ge||qe)},qe.\u0275mod=e.oAB({type:qe}),qe.\u0275inj=e.cJS({imports:[u.ez,x,r.T,_.m8]}),qe})()},5730:(hn,ft,b)=>{"use strict";b.d(ft,{V:()=>d,p:()=>e});let e=(()=>{class u{static addClass(_,P){_&&P&&(_.classList?_.classList.add(P):_.className+=" "+P)}static addMultipleClasses(_,P){if(_&&P)if(_.classList){let x=P.trim().split(" ");for(let r=0;r<x.length;r++)_.classList.add(x[r])}else{let x=P.split(" ");for(let r=0;r<x.length;r++)_.className+=" "+x[r]}}static removeClass(_,P){_&&P&&(_.classList?_.classList.remove(P):_.className=_.className.replace(new RegExp("(^|\\b)"+P.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(_,P){return!(!_||!P)&&(_.classList?_.classList.contains(P):new RegExp("(^| )"+P+"( |$)","gi").test(_.className))}static siblings(_){return Array.prototype.filter.call(_.parentNode.children,function(P){return P!==_})}static find(_,P){return Array.from(_.querySelectorAll(P))}static findSingle(_,P){return _?_.querySelector(P):null}static index(_){let P=_.parentNode.childNodes,x=0;for(var r=0;r<P.length;r++){if(P[r]==_)return x;1==P[r].nodeType&&x++}return-1}static indexWithinGroup(_,P){let x=_.parentNode?_.parentNode.childNodes:[],r=0;for(var R=0;R<x.length;R++){if(x[R]==_)return r;x[R].attributes&&x[R].attributes[P]&&1==x[R].nodeType&&r++}return-1}static appendOverlay(_,P,x="self"){"self"!==x&&_&&P&&this.appendChild(_,P)}static alignOverlay(_,P,x="self",r=!0){_&&P&&(r&&(_.style.minWidth||(_.style.minWidth=u.getOuterWidth(P)+"px")),"self"===x?this.relativePosition(_,P):this.absolutePosition(_,P))}static relativePosition(_,P){const x=B=>{if(B)return"relative"===getComputedStyle(B).getPropertyValue("position")?B:x(B.parentElement)},r=_.offsetParent?{width:_.offsetWidth,height:_.offsetHeight}:this.getHiddenElementDimensions(_),R=P.offsetHeight,L=P.getBoundingClientRect(),Q=this.getWindowScrollTop(),N=this.getWindowScrollLeft(),T=this.getViewport(),y=x(_),E=(null==y?void 0:y.getBoundingClientRect())||{top:-1*Q,left:-1*N};let D,U;L.top+R+r.height>T.height?(D=L.top-E.top-r.height,_.style.transformOrigin="bottom",L.top+D<0&&(D=-1*L.top)):(D=R+L.top-E.top,_.style.transformOrigin="top"),U=r.width>T.width?-1*(L.left-E.left):L.left-E.left+r.width>T.width?-1*(L.left-E.left+r.width-T.width):L.left-E.left,_.style.top=D+"px",_.style.left=U+"px"}static absolutePosition(_,P){const x=_.offsetParent?{width:_.offsetWidth,height:_.offsetHeight}:this.getHiddenElementDimensions(_),r=x.height,R=x.width,L=P.offsetHeight,Q=P.offsetWidth,N=P.getBoundingClientRect(),T=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),E=this.getViewport();let D,U;N.top+L+r>E.height?(D=N.top+T-r,_.style.transformOrigin="bottom",D<0&&(D=T)):(D=L+N.top+T,_.style.transformOrigin="top"),U=N.left+R>E.width?Math.max(0,N.left+y+Q-R):N.left+y,_.style.top=D+"px",_.style.left=U+"px"}static getParents(_,P=[]){return null===_.parentNode?P:this.getParents(_.parentNode,P.concat([_.parentNode]))}static getScrollableParents(_){let P=[];if(_){let x=this.getParents(_);const r=/(auto|scroll)/,R=L=>{let Q=window.getComputedStyle(L,null);return r.test(Q.getPropertyValue("overflow"))||r.test(Q.getPropertyValue("overflowX"))||r.test(Q.getPropertyValue("overflowY"))};for(let L of x){let Q=1===L.nodeType&&L.dataset.scrollselectors;if(Q){let N=Q.split(",");for(let T of N){let y=this.findSingle(L,T);y&&R(y)&&P.push(y)}}9!==L.nodeType&&R(L)&&P.push(L)}}return P}static getHiddenElementOuterHeight(_){_.style.visibility="hidden",_.style.display="block";let P=_.offsetHeight;return _.style.display="none",_.style.visibility="visible",P}static getHiddenElementOuterWidth(_){_.style.visibility="hidden",_.style.display="block";let P=_.offsetWidth;return _.style.display="none",_.style.visibility="visible",P}static getHiddenElementDimensions(_){let P={};return _.style.visibility="hidden",_.style.display="block",P.width=_.offsetWidth,P.height=_.offsetHeight,_.style.display="none",_.style.visibility="visible",P}static scrollInView(_,P){let x=getComputedStyle(_).getPropertyValue("borderTopWidth"),r=x?parseFloat(x):0,R=getComputedStyle(_).getPropertyValue("paddingTop"),L=R?parseFloat(R):0,Q=_.getBoundingClientRect(),T=P.getBoundingClientRect().top+document.body.scrollTop-(Q.top+document.body.scrollTop)-r-L,y=_.scrollTop,E=_.clientHeight,D=this.getOuterHeight(P);T<0?_.scrollTop=y+T:T+D>E&&(_.scrollTop=y+T-E+D)}static fadeIn(_,P){_.style.opacity=0;let x=+new Date,r=0,R=function(){r=+_.style.opacity.replace(",",".")+((new Date).getTime()-x)/P,_.style.opacity=r,x=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(R)||setTimeout(R,16))};R()}static fadeOut(_,P){var x=1,L=50/P;let Q=setInterval(()=>{(x-=L)<=0&&(x=0,clearInterval(Q)),_.style.opacity=x},50)}static getWindowScrollTop(){let _=document.documentElement;return(window.pageYOffset||_.scrollTop)-(_.clientTop||0)}static getWindowScrollLeft(){let _=document.documentElement;return(window.pageXOffset||_.scrollLeft)-(_.clientLeft||0)}static matches(_,P){var x=Element.prototype;return(x.matches||x.webkitMatchesSelector||x.mozMatchesSelector||x.msMatchesSelector||function(R){return-1!==[].indexOf.call(document.querySelectorAll(R),this)}).call(_,P)}static getOuterWidth(_,P){let x=_.offsetWidth;if(P){let r=getComputedStyle(_);x+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return x}static getHorizontalPadding(_){let P=getComputedStyle(_);return parseFloat(P.paddingLeft)+parseFloat(P.paddingRight)}static getHorizontalMargin(_){let P=getComputedStyle(_);return parseFloat(P.marginLeft)+parseFloat(P.marginRight)}static innerWidth(_){let P=_.offsetWidth,x=getComputedStyle(_);return P+=parseFloat(x.paddingLeft)+parseFloat(x.paddingRight),P}static width(_){let P=_.offsetWidth,x=getComputedStyle(_);return P-=parseFloat(x.paddingLeft)+parseFloat(x.paddingRight),P}static getInnerHeight(_){let P=_.offsetHeight,x=getComputedStyle(_);return P+=parseFloat(x.paddingTop)+parseFloat(x.paddingBottom),P}static getOuterHeight(_,P){let x=_.offsetHeight;if(P){let r=getComputedStyle(_);x+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return x}static getHeight(_){let P=_.offsetHeight,x=getComputedStyle(_);return P-=parseFloat(x.paddingTop)+parseFloat(x.paddingBottom)+parseFloat(x.borderTopWidth)+parseFloat(x.borderBottomWidth),P}static getWidth(_){let P=_.offsetWidth,x=getComputedStyle(_);return P-=parseFloat(x.paddingLeft)+parseFloat(x.paddingRight)+parseFloat(x.borderLeftWidth)+parseFloat(x.borderRightWidth),P}static getViewport(){let _=window,P=document,x=P.documentElement,r=P.getElementsByTagName("body")[0];return{width:_.innerWidth||x.clientWidth||r.clientWidth,height:_.innerHeight||x.clientHeight||r.clientHeight}}static getOffset(_){var P=_.getBoundingClientRect();return{top:P.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:P.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(_,P){let x=_.parentNode;if(!x)throw"Can't replace element";return x.replaceChild(P,_)}static getUserAgent(){return navigator.userAgent}static isIE(){var _=window.navigator.userAgent;return _.indexOf("MSIE ")>0||(_.indexOf("Trident/")>0?(_.indexOf("rv:"),!0):_.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(_,P){if(this.isElement(P))P.appendChild(_);else{if(!P.el||!P.el.nativeElement)throw"Cannot append "+P+" to "+_;P.el.nativeElement.appendChild(_)}}static removeChild(_,P){if(this.isElement(P))P.removeChild(_);else{if(!P.el||!P.el.nativeElement)throw"Cannot remove "+_+" from "+P;P.el.nativeElement.removeChild(_)}}static removeElement(_){"remove"in Element.prototype?_.remove():_.parentNode.removeChild(_)}static isElement(_){return"object"==typeof HTMLElement?_ instanceof HTMLElement:_&&"object"==typeof _&&null!==_&&1===_.nodeType&&"string"==typeof _.nodeName}static calculateScrollbarWidth(_){if(_){let P=getComputedStyle(_);return _.offsetWidth-_.clientWidth-parseFloat(P.borderLeftWidth)-parseFloat(P.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let P=document.createElement("div");P.className="p-scrollbar-measure",document.body.appendChild(P);let x=P.offsetWidth-P.clientWidth;return document.body.removeChild(P),this.calculatedScrollbarWidth=x,x}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let _=document.createElement("div");_.className="p-scrollbar-measure",document.body.appendChild(_);let P=_.offsetHeight-_.clientHeight;return document.body.removeChild(_),this.calculatedScrollbarWidth=P,P}static invokeElementMethod(_,P,x){_[P].apply(_,x)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(_){}}static getBrowser(){if(!this.browser){let _=this.resolveUserAgent();this.browser={},_.browser&&(this.browser[_.browser]=!0,this.browser.version=_.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let _=navigator.userAgent.toLowerCase(),P=/(chrome)[ \/]([\w.]+)/.exec(_)||/(webkit)[ \/]([\w.]+)/.exec(_)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(_)||/(msie) ([\w.]+)/.exec(_)||_.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(_)||[];return{browser:P[1]||"",version:P[2]||"0"}}static isInteger(_){return Number.isInteger?Number.isInteger(_):"number"==typeof _&&isFinite(_)&&Math.floor(_)===_}static isHidden(_){return!_||null===_.offsetParent}static isVisible(_){return _&&null!=_.offsetParent}static isExist(_){return null!=_&&_.nodeName&&_.parentNode}static focus(_,P){_&&document.activeElement!==_&&_.focus(P)}static getFocusableElements(_){let P=u.find(_,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),x=[];for(let r of P)"none"!=getComputedStyle(r).display&&"hidden"!=getComputedStyle(r).visibility&&x.push(r);return x}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(_,P){if(!_)return null;switch(_){case"document":return document;case"window":return window;case"@next":return null==P?void 0:P.nextElementSibling;case"@prev":return null==P?void 0:P.previousElementSibling;case"@parent":return null==P?void 0:P.parentElement;case"@grandparent":return null==P?void 0:P.parentElement.parentElement;default:const x=typeof _;if("string"===x)return document.querySelector(_);if("object"===x&&_.hasOwnProperty("nativeElement"))return this.isExist(_.nativeElement)?_.nativeElement:void 0;const R=(L=_)&&L.constructor&&L.call&&L.apply?_():_;return R&&9===R.nodeType||this.isExist(R)?R:null}var L}}return u.zindex=1e3,u.calculatedScrollbarWidth=null,u.calculatedScrollbarHeight=null,u})();class d{constructor(f,_=(()=>{})){this.element=f,this.listener=_}bindScrollListener(){this.scrollableParents=e.getScrollableParents(this.element);for(let f=0;f<this.scrollableParents.length;f++)this.scrollableParents[f].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let f=0;f<this.scrollableParents.length;f++)this.scrollableParents[f].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},9873:(hn,ft,b)=>{"use strict";b.d(ft,{_l:()=>f,_t:()=>P,bK:()=>_});var e=b(5e3),d=b(9808),u=b(5730);let f=(()=>{class x{constructor(R,L){this.el=R,this.zone=L,this.onDragStart=new e.vpe,this.onDragEnd=new e.vpe,this.onDrag=new e.vpe}get pDraggableDisabled(){return this._pDraggableDisabled}set pDraggableDisabled(R){this._pDraggableDisabled=R,this._pDraggableDisabled?this.unbindMouseListeners():(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}ngAfterViewInit(){this.pDraggableDisabled||(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}bindDragListener(){this.dragListener||this.zone.runOutsideAngular(()=>{this.dragListener=this.drag.bind(this),this.el.nativeElement.addEventListener("drag",this.dragListener)})}unbindDragListener(){this.dragListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("drag",this.dragListener),this.dragListener=null})}bindMouseListeners(){!this.mouseDownListener&&!this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.mousedown.bind(this),this.mouseUpListener=this.mouseup.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.addEventListener("mouseup",this.mouseUpListener)})}unbindMouseListeners(){this.mouseDownListener&&this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.removeEventListener("mouseup",this.mouseUpListener),this.mouseDownListener=null,this.mouseUpListener=null})}drag(R){this.onDrag.emit(R)}dragStart(R){this.allowDrag()&&!this.pDraggableDisabled?(this.dragEffect&&(R.dataTransfer.effectAllowed=this.dragEffect),R.dataTransfer.setData("text",this.scope),this.onDragStart.emit(R),this.bindDragListener()):R.preventDefault()}dragEnd(R){this.onDragEnd.emit(R),this.unbindDragListener()}mousedown(R){this.handle=R.target}mouseup(R){this.handle=null}allowDrag(){return!this.dragHandle||!this.handle||u.p.matches(this.handle,this.dragHandle)}ngOnDestroy(){this.unbindDragListener(),this.unbindMouseListeners()}}return x.\u0275fac=function(R){return new(R||x)(e.Y36(e.SBq),e.Y36(e.R0b))},x.\u0275dir=e.lG2({type:x,selectors:[["","pDraggable",""]],hostAttrs:[1,"p-element"],hostBindings:function(R,L){1&R&&e.NdJ("dragstart",function(N){return L.dragStart(N)})("dragend",function(N){return L.dragEnd(N)})},inputs:{scope:["pDraggable","scope"],dragEffect:"dragEffect",dragHandle:"dragHandle",pDraggableDisabled:"pDraggableDisabled"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDrag:"onDrag"}}),x})(),_=(()=>{class x{constructor(R,L){this.el=R,this.zone=L,this.onDragEnter=new e.vpe,this.onDragLeave=new e.vpe,this.onDrop=new e.vpe}ngAfterViewInit(){this.pDroppableDisabled||this.bindDragOverListener()}bindDragOverListener(){this.dragOverListener||this.zone.runOutsideAngular(()=>{this.dragOverListener=this.dragOver.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener)})}unbindDragOverListener(){this.dragOverListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null})}dragOver(R){R.preventDefault()}drop(R){this.allowDrop(R)&&(u.p.removeClass(this.el.nativeElement,"p-draggable-enter"),R.preventDefault(),this.onDrop.emit(R))}dragEnter(R){R.preventDefault(),this.dropEffect&&(R.dataTransfer.dropEffect=this.dropEffect),u.p.addClass(this.el.nativeElement,"p-draggable-enter"),this.onDragEnter.emit(R)}dragLeave(R){R.preventDefault(),u.p.removeClass(this.el.nativeElement,"p-draggable-enter"),this.onDragLeave.emit(R)}allowDrop(R){let L=R.dataTransfer.getData("text");if("string"==typeof this.scope&&L==this.scope)return!0;if(this.scope instanceof Array)for(let Q=0;Q<this.scope.length;Q++)if(L==this.scope[Q])return!0;return!1}ngOnDestroy(){this.unbindDragOverListener()}}return x.\u0275fac=function(R){return new(R||x)(e.Y36(e.SBq),e.Y36(e.R0b))},x.\u0275dir=e.lG2({type:x,selectors:[["","pDroppable",""]],hostAttrs:[1,"p-element"],hostBindings:function(R,L){1&R&&e.NdJ("drop",function(N){return L.drop(N)})("dragenter",function(N){return L.dragEnter(N)})("dragleave",function(N){return L.dragLeave(N)})},inputs:{scope:["pDroppable","scope"],pDroppableDisabled:"pDroppableDisabled",dropEffect:"dropEffect"},outputs:{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"}}),x})(),P=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[d.ez]}),x})()},4036:(hn,ft,b)=>{"use strict";b.d(ft,{Lt:()=>Tn,kW:()=>tn});var e=b(9808),d=b(5e3),u=b(2382),f=b(9783),_=b(9618),P=b(5730),x=b(8050),r=b(5787),R=b(5871),L=b(4119),Q=b(5921);function N(bt,nt){if(1&bt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&bt){const de=d.oxw();d.xp6(1),d.Oqu(de.label||"empty")}}function T(bt,nt){1&bt&&d.GkF(0)}const y=function(bt){return{height:bt}},E=function(bt,nt){return{"p-dropdown-item":!0,"p-highlight":bt,"p-disabled":nt}},D=function(bt){return{$implicit:bt}},U=["container"],B=["filter"],ce=["in"],$=["editableInput"],V=["items"],k=["scroller"],O=["overlay"];function K(bt,nt){if(1&bt&&(d.ynx(0),d._uU(1),d.BQk()),2&bt){const de=d.oxw(2);d.xp6(1),d.Oqu(de.label||"empty")}}function ue(bt,nt){1&bt&&d.GkF(0)}const q=function(bt){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":bt}};function G(bt,nt){if(1&bt&&(d.TgZ(0,"span",14),d.YNc(1,K,2,1,"ng-container",15),d.YNc(2,ue,1,0,"ng-container",16),d.qZA()),2&bt){const de=d.oxw();d.Q6J("ngClass",d.VKq(9,q,null==de.label||0===de.label.length))("pTooltip",de.tooltip)("tooltipPosition",de.tooltipPosition)("positionStyle",de.tooltipPositionStyle)("tooltipStyleClass",de.tooltipStyleClass),d.uIk("id",de.labelId),d.xp6(1),d.Q6J("ngIf",!de.selectedItemTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",de.selectedItemTemplate)("ngTemplateOutletContext",d.VKq(11,D,de.selectedOption))}}const ne=function(bt){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":bt}};function Ce(bt,nt){if(1&bt&&(d.TgZ(0,"span",17),d._uU(1),d.qZA()),2&bt){const de=d.oxw();d.Q6J("ngClass",d.VKq(2,ne,null==de.placeholder||0===de.placeholder.length)),d.xp6(1),d.Oqu(de.placeholder||"empty")}}function oe(bt,nt){if(1&bt){const de=d.EpF();d.TgZ(0,"input",18,19),d.NdJ("input",function(ze){d.CHM(de);const kt=d.oxw();return d.KtG(kt.onEditableInputChange(ze))})("focus",function(ze){d.CHM(de);const kt=d.oxw();return d.KtG(kt.onEditableInputFocus(ze))})("blur",function(ze){d.CHM(de);const kt=d.oxw();return d.KtG(kt.onInputBlur(ze))}),d.qZA()}if(2&bt){const de=d.oxw();d.Q6J("disabled",de.disabled),d.uIk("maxlength",de.maxlength)("placeholder",de.placeholder)("aria-expanded",de.overlayVisible)}}function z(bt,nt){if(1&bt){const de=d.EpF();d.TgZ(0,"i",20),d.NdJ("click",function(ze){d.CHM(de);const kt=d.oxw();return d.KtG(kt.clear(ze))}),d.qZA()}}function te(bt,nt){1&bt&&d.GkF(0)}function W(bt,nt){1&bt&&d.GkF(0)}const Y=function(bt){return{options:bt}};function Ae(bt,nt){if(1&bt&&(d.ynx(0),d.YNc(1,W,1,0,"ng-container",16),d.BQk()),2&bt){const de=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",de.filterTemplate)("ngTemplateOutletContext",d.VKq(2,Y,de.filterOptions))}}function Ee(bt,nt){if(1&bt){const de=d.EpF();d.TgZ(0,"div",30)(1,"input",31,32),d.NdJ("keydown.enter",function(ze){return ze.preventDefault()})("keydown",function(ze){d.CHM(de);const kt=d.oxw(3);return d.KtG(kt.onKeydown(ze,!1))})("input",function(ze){d.CHM(de);const kt=d.oxw(3);return d.KtG(kt.onFilterInputChange(ze))}),d.qZA(),d._UZ(3,"span",33),d.qZA()}if(2&bt){const de=d.oxw(3);d.xp6(1),d.Q6J("value",de.filterValue||""),d.uIk("placeholder",de.filterPlaceholder)("aria-label",de.ariaFilterLabel)("aria-activedescendant",de.overlayVisible?"p-highlighted-option":de.labelId)}}function qe(bt,nt){if(1&bt&&(d.TgZ(0,"div",27),d.NdJ("click",function(Qe){return Qe.stopPropagation()}),d.YNc(1,Ae,2,4,"ng-container",28),d.YNc(2,Ee,4,4,"ng-template",null,29,d.W1O),d.qZA()),2&bt){const de=d.MAs(3),Qe=d.oxw(2);d.xp6(1),d.Q6J("ngIf",Qe.filterTemplate)("ngIfElse",de)}}function ye(bt,nt){1&bt&&d.GkF(0)}const Ge=function(bt,nt){return{$implicit:bt,options:nt}};function X(bt,nt){if(1&bt&&d.YNc(0,ye,1,0,"ng-container",16),2&bt){const de=nt.$implicit,Qe=nt.options;d.oxw(2);const ze=d.MAs(7);d.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",d.WLB(2,Ge,de,Qe))}}function be(bt,nt){1&bt&&d.GkF(0)}function we(bt,nt){if(1&bt&&d.YNc(0,be,1,0,"ng-container",16),2&bt){const de=nt.options,Qe=d.oxw(4);d.Q6J("ngTemplateOutlet",Qe.loaderTemplate)("ngTemplateOutletContext",d.VKq(2,Y,de))}}function Ie(bt,nt){1&bt&&(d.ynx(0),d.YNc(1,we,1,4,"ng-template",36),d.BQk())}function ct(bt,nt){if(1&bt){const de=d.EpF();d.TgZ(0,"p-scroller",34,35),d.NdJ("onLazyLoad",function(ze){d.CHM(de);const kt=d.oxw(2);return d.KtG(kt.onLazyLoad.emit(ze))}),d.YNc(2,X,1,5,"ng-template",13),d.YNc(3,Ie,2,0,"ng-container",15),d.qZA()}if(2&bt){const de=d.oxw(2);d.Akn(d.VKq(8,y,de.scrollHeight)),d.Q6J("items",de.optionsToDisplay)("itemSize",de.virtualScrollItemSize||de._itemSize)("autoSize",!0)("lazy",de.lazy)("options",de.virtualScrollOptions),d.xp6(3),d.Q6J("ngIf",de.loaderTemplate)}}function dt(bt,nt){1&bt&&d.GkF(0)}const et=function(){return{}};function vt(bt,nt){if(1&bt&&(d.ynx(0),d.YNc(1,dt,1,0,"ng-container",16),d.BQk()),2&bt){d.oxw();const de=d.MAs(7),Qe=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",de)("ngTemplateOutletContext",d.WLB(3,Ge,Qe.optionsToDisplay,d.DdM(2,et)))}}function ht(bt,nt){if(1&bt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&bt){const de=d.oxw().$implicit,Qe=d.oxw(4);d.xp6(1),d.Oqu(Qe.getOptionGroupLabel(de)||"empty")}}function Rt(bt,nt){1&bt&&d.GkF(0)}function Nt(bt,nt){1&bt&&d.GkF(0)}const At=function(bt,nt){return{$implicit:bt,selectedOption:nt}};function st(bt,nt){if(1&bt&&(d.TgZ(0,"li",42),d.YNc(1,ht,2,1,"span",15),d.YNc(2,Rt,1,0,"ng-container",16),d.qZA(),d.YNc(3,Nt,1,0,"ng-container",16)),2&bt){const de=nt.$implicit,Qe=d.oxw(2).options,ze=d.MAs(5),kt=d.oxw(2);d.Q6J("ngStyle",d.VKq(6,y,Qe.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!kt.groupTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",kt.groupTemplate)("ngTemplateOutletContext",d.VKq(8,D,de)),d.xp6(1),d.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",d.WLB(10,At,kt.getOptionGroupChildren(de),kt.selectedOption))}}function ot(bt,nt){if(1&bt&&(d.ynx(0),d.YNc(1,st,4,13,"ng-template",41),d.BQk()),2&bt){const de=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",de)}}function ge(bt,nt){1&bt&&d.GkF(0)}function ke(bt,nt){if(1&bt&&(d.ynx(0),d.YNc(1,ge,1,0,"ng-container",16),d.BQk()),2&bt){const de=d.oxw().$implicit,Qe=d.MAs(5),ze=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",Qe)("ngTemplateOutletContext",d.WLB(2,At,de,ze.selectedOption))}}function rt(bt,nt){if(1&bt){const de=d.EpF();d.TgZ(0,"p-dropdownItem",43),d.NdJ("onClick",function(ze){d.CHM(de);const kt=d.oxw(4);return d.KtG(kt.onItemClick(ze))}),d.qZA()}if(2&bt){const de=nt.$implicit,Qe=d.oxw().selectedOption,ze=d.oxw(3);d.Q6J("option",de)("selected",Qe==de)("label",ze.getOptionLabel(de))("disabled",ze.isOptionDisabled(de))("template",ze.itemTemplate)}}function yt(bt,nt){1&bt&&d.YNc(0,rt,1,5,"ng-template",41),2&bt&&d.Q6J("ngForOf",nt.$implicit)}function Pt(bt,nt){if(1&bt&&(d.ynx(0),d._uU(1),d.BQk()),2&bt){const de=d.oxw(4);d.xp6(1),d.hij(" ",de.emptyFilterMessageLabel," ")}}function Ht(bt,nt){1&bt&&d.GkF(0,null,45)}function Ot(bt,nt){if(1&bt&&(d.TgZ(0,"li",44),d.YNc(1,Pt,2,1,"ng-container",28),d.YNc(2,Ht,2,0,"ng-container",22),d.qZA()),2&bt){const de=d.oxw().options,Qe=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,y,de.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!Qe.emptyFilterTemplate&&!Qe.emptyTemplate)("ngIfElse",Qe.emptyFilter),d.xp6(1),d.Q6J("ngTemplateOutlet",Qe.emptyFilterTemplate||Qe.emptyTemplate)}}function Ye(bt,nt){if(1&bt&&(d.ynx(0),d._uU(1),d.BQk()),2&bt){const de=d.oxw(4);d.xp6(1),d.hij(" ",de.emptyMessageLabel," ")}}function lt(bt,nt){1&bt&&d.GkF(0,null,46)}function Ke(bt,nt){if(1&bt&&(d.TgZ(0,"li",44),d.YNc(1,Ye,2,1,"ng-container",28),d.YNc(2,lt,2,0,"ng-container",22),d.qZA()),2&bt){const de=d.oxw().options,Qe=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,y,de.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!Qe.emptyTemplate)("ngIfElse",Qe.empty),d.xp6(1),d.Q6J("ngTemplateOutlet",Qe.emptyTemplate)}}function Tt(bt,nt){if(1&bt&&(d.TgZ(0,"ul",37,38),d.YNc(2,ot,2,1,"ng-container",15),d.YNc(3,ke,2,5,"ng-container",15),d.YNc(4,yt,1,1,"ng-template",null,39,d.W1O),d.YNc(6,Ot,3,6,"li",40),d.YNc(7,Ke,3,6,"li",40),d.qZA()),2&bt){const de=nt.options,Qe=d.oxw(2);d.Akn(de.contentStyle),d.Q6J("ngClass",de.contentStyleClass),d.uIk("id",Qe.listId),d.xp6(2),d.Q6J("ngIf",Qe.group),d.xp6(1),d.Q6J("ngIf",!Qe.group),d.xp6(3),d.Q6J("ngIf",Qe.filterValue&&Qe.isEmpty()),d.xp6(1),d.Q6J("ngIf",!Qe.filterValue&&Qe.isEmpty())}}function se(bt,nt){1&bt&&d.GkF(0)}function Fe(bt,nt){if(1&bt&&(d.TgZ(0,"div",21),d.YNc(1,te,1,0,"ng-container",22),d.YNc(2,qe,4,2,"div",23),d.TgZ(3,"div",24),d.YNc(4,ct,4,10,"p-scroller",25),d.YNc(5,vt,2,6,"ng-container",15),d.YNc(6,Tt,8,8,"ng-template",null,26,d.W1O),d.qZA(),d.YNc(8,se,1,0,"ng-container",22),d.qZA()),2&bt){const de=d.oxw();d.Tol(de.panelStyleClass),d.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",de.panelStyle),d.xp6(1),d.Q6J("ngTemplateOutlet",de.headerTemplate),d.xp6(1),d.Q6J("ngIf",de.filter),d.xp6(1),d.Udp("max-height",de.virtualScroll?"auto":de.scrollHeight||"auto"),d.xp6(1),d.Q6J("ngIf",de.virtualScroll),d.xp6(1),d.Q6J("ngIf",!de.virtualScroll),d.xp6(3),d.Q6J("ngTemplateOutlet",de.footerTemplate)}}const he=function(bt,nt,de,Qe){return{"p-dropdown p-component":!0,"p-disabled":bt,"p-dropdown-open":nt,"p-focus":de,"p-dropdown-clearable":Qe}},mt={provide:u.JU,useExisting:(0,d.Gpc)(()=>Tn),multi:!0};let cn=(()=>{class bt{constructor(){this.onClick=new d.vpe}onOptionClick(de){this.onClick.emit({originalEvent:de,option:this.option})}}return bt.\u0275fac=function(de){return new(de||bt)},bt.\u0275cmp=d.Xpm({type:bt,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(de,Qe){1&de&&(d.TgZ(0,"li",0),d.NdJ("click",function(kt){return Qe.onOptionClick(kt)}),d.YNc(1,N,2,1,"span",1),d.YNc(2,T,1,0,"ng-container",2),d.qZA()),2&de&&(d.Q6J("ngStyle",d.VKq(8,y,Qe.itemSize+"px"))("id",Qe.selected?"p-highlighted-option":"")("ngClass",d.WLB(10,E,Qe.selected,Qe.disabled)),d.uIk("aria-label",Qe.label)("aria-selected",Qe.selected),d.xp6(1),d.Q6J("ngIf",!Qe.template),d.xp6(1),d.Q6J("ngTemplateOutlet",Qe.template)("ngTemplateOutletContext",d.VKq(13,D,Qe.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,r.H],encapsulation:2}),bt})(),Tn=(()=>{class bt{constructor(de,Qe,ze,kt,Ze,$t){this.el=de,this.renderer=Qe,this.cd=ze,this.zone=kt,this.filterService=Ze,this.config=$t,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new d.vpe,this.onFilter=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onClick=new d.vpe,this.onShow=new d.vpe,this.onHide=new d.vpe,this.onClear=new d.vpe,this.onLazyLoad=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=(0,Q.Th)()}get disabled(){return this._disabled}set disabled(de){de&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=de,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(de){this._itemSize=de,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(de){this._autoZIndex=de,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(de){this._baseZIndex=de,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(de){this._showTransitionOptions=de,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(de){this._hideTransitionOptions=de,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(de=>{switch(de.getType()){case"item":default:this.itemTemplate=de.template;break;case"selectedItem":this.selectedItemTemplate=de.template;break;case"header":this.headerTemplate=de.template;break;case"filter":this.filterTemplate=de.template;break;case"footer":this.footerTemplate=de.template;break;case"emptyfilter":this.emptyFilterTemplate=de.template;break;case"empty":this.emptyTemplate=de.template;break;case"group":this.groupTemplate=de.template;break;case"loader":this.loaderTemplate=de.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:de=>this.onFilterInputChange(de),reset:()=>this.resetFilter()})}get options(){return this._options}set options(de){this._options=de,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Q.gb.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(de){this._filterValue=de,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(f.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(f.ws.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(de){return this.optionLabel?Q.gb.resolveFieldData(de,this.optionLabel):de&&void 0!==de.label?de.label:de}getOptionValue(de){return this.optionValue?Q.gb.resolveFieldData(de,this.optionValue):!this.optionLabel&&de&&void 0!==de.value?de.value:de}isOptionDisabled(de){return this.optionDisabled?Q.gb.resolveFieldData(de,this.optionDisabled):!(!de||void 0===de.disabled)&&de.disabled}getOptionGroupLabel(de){return this.optionGroupLabel?Q.gb.resolveFieldData(de,this.optionGroupLabel):de&&void 0!==de.label?de.label:de}getOptionGroupChildren(de){return this.optionGroupChildren?Q.gb.resolveFieldData(de,this.optionGroupChildren):de.items}onItemClick(de){const Qe=de.option;this.isOptionDisabled(Qe)||(this.selectItem(de.originalEvent,Qe),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(de,Qe){this.selectedOption!=Qe&&(this.selectedOption=Qe,this.value=this.getOptionValue(Qe),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:de,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(P.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&P.p.scrollInView(this.itemsWrapper,P.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(de){this.filter&&this.resetFilter(),this.value=de,this.updateSelectedOption(de),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(de){this.selectedOption=this.findOption(de,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(de){this.onModelChange=de}registerOnTouched(de){this.onModelTouched=de}setDisabledState(de){this.disabled=de,this.cd.markForCheck()}onMouseclick(de){this.disabled||this.readonly||this.isInputClick(de)||(this.onClick.emit(de),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(de){return P.p.hasClass(de.target,"p-dropdown-clear-icon")||de.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&de.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(de){this.focused=!0,this.hide(),this.onFocus.emit(de)}onEditableInputChange(de){this.value=de.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:de,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(de){if("visible"===de.toState){if(this.itemsWrapper=P.p.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const Qe=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==Qe&&this.scroller.scrollToIndex(Qe)}else{let Qe=P.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");Qe&&Qe.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(de)}"void"===de.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(de))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(de){this.focused=!0,this.onFocus.emit(de)}onInputBlur(de){this.focused=!1,this.onBlur.emit(de),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(de){let Qe;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ze=de-1;0<=ze;ze--){let kt=this.optionsToDisplay[ze];if(!this.isOptionDisabled(kt)){Qe=kt;break}}if(!Qe)for(let ze=this.optionsToDisplay.length-1;ze>=de;ze--){let kt=this.optionsToDisplay[ze];if(!this.isOptionDisabled(kt)){Qe=kt;break}}}return Qe}findNextEnabledOption(de){let Qe;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ze=de+1;ze<this.optionsToDisplay.length;ze++){let kt=this.optionsToDisplay[ze];if(!this.isOptionDisabled(kt)){Qe=kt;break}}if(!Qe)for(let ze=0;ze<de;ze++){let kt=this.optionsToDisplay[ze];if(!this.isOptionDisabled(kt)){Qe=kt;break}}}return Qe}onKeydown(de,Qe){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(de.which){case 40:if(!this.overlayVisible&&de.altKey)this.show();else if(this.group){let ze=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ze){let kt=ze.itemIndex+1;kt<this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex]).length?(this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex])[kt]),this.selectedOptionUpdated=!0):this.optionsToDisplay[ze.groupIndex+1]&&(this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,kt=this.findNextEnabledOption(ze);kt&&(this.selectItem(de,kt),this.selectedOptionUpdated=!0)}de.preventDefault();break;case 38:if(this.group){let ze=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ze){let kt=ze.itemIndex-1;if(kt>=0)this.selectItem(de,this.getOptionGroupChildren(this.optionsToDisplay[ze.groupIndex])[kt]),this.selectedOptionUpdated=!0;else if(kt<0){let Ze=this.optionsToDisplay[ze.groupIndex-1];Ze&&(this.selectItem(de,this.getOptionGroupChildren(Ze)[this.getOptionGroupChildren(Ze).length-1]),this.selectedOptionUpdated=!0)}}}else{let ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,kt=this.findPrevEnabledOption(ze);kt&&(this.selectItem(de,kt),this.selectedOptionUpdated=!0)}de.preventDefault();break;case 32:Qe&&(this.overlayVisible?this.hide():this.show(),de.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),de.preventDefault();break;case 27:case 9:this.hide();break;default:Qe&&!de.metaKey&&17!==de.which&&this.search(de)}}search(de){this.searchTimeout&&clearTimeout(this.searchTimeout);const Qe=de.key;let ze;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=Qe,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+Qe:Qe,this.group){let kt=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};ze=this.searchOptionWithinGroup(kt)}else{let kt=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;ze=this.searchOption(++kt)}ze&&!this.isOptionDisabled(ze)&&(this.selectItem(de,ze),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(de){let Qe;return this.searchValue&&(Qe=this.searchOptionInRange(de,this.optionsToDisplay.length),Qe||(Qe=this.searchOptionInRange(0,de))),Qe}searchOptionInRange(de,Qe){for(let ze=de;ze<Qe;ze++){let kt=this.optionsToDisplay[ze];if(this.getOptionLabel(kt).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(kt))return kt}return null}searchOptionWithinGroup(de){if(this.searchValue){for(let ze=de.groupIndex;ze<this.optionsToDisplay.length;ze++)for(let kt=de.groupIndex===ze?de.itemIndex+1:0;kt<this.getOptionGroupChildren(this.optionsToDisplay[ze]).length;kt++){let Ze=this.getOptionGroupChildren(this.optionsToDisplay[ze])[kt];if(this.getOptionLabel(Ze).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Ze))return Ze}for(let ze=0;ze<=de.groupIndex;ze++)for(let kt=0;kt<(de.groupIndex===ze?de.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[ze]).length);kt++){let Ze=this.getOptionGroupChildren(this.optionsToDisplay[ze])[kt];if(this.getOptionLabel(Ze).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Ze))return Ze}}return null}findOptionIndex(de,Qe){let ze=-1;if(Qe)for(let kt=0;kt<Qe.length;kt++)if(null==de&&null==this.getOptionValue(Qe[kt])||Q.gb.equals(de,this.getOptionValue(Qe[kt]),this.dataKey)){ze=kt;break}return ze}findOptionGroupIndex(de,Qe){let ze,kt;if(Qe)for(let Ze=0;Ze<Qe.length&&(ze=Ze,kt=this.findOptionIndex(de,this.getOptionGroupChildren(Qe[Ze])),-1===kt);Ze++);return-1!==kt?{groupIndex:ze,itemIndex:kt}:-1}findOption(de,Qe,ze){if(this.group&&!ze){let kt;if(Qe&&Qe.length)for(let Ze of Qe)if(kt=this.findOption(de,this.getOptionGroupChildren(Ze),!0),kt)break;return kt}{let kt=this.findOptionIndex(de,Qe);return-1!=kt?Qe[kt]:null}}onFilterInputChange(de){let Qe=de.target.value;Qe&&Qe.length?(this._filterValue=Qe,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:de,filter:this._filterValue})}activateFilter(){let de=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let Qe=[];for(let ze of this.options){let kt=this.filterService.filter(this.getOptionGroupChildren(ze),de,this.filterValue,this.filterMatchMode,this.filterLocale);kt&&kt.length&&Qe.push(Object.assign(Object.assign({},ze),{[this.optionGroupChildren]:kt}))}this.optionsToDisplay=Qe}else this.optionsToDisplay=this.filterService.filter(this.options,de,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?P.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():P.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(de){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:de,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(de)}}return bt.\u0275fac=function(de){return new(de||bt)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(f.iZ),d.Y36(f.b4))},bt.\u0275cmp=d.Xpm({type:bt,selectors:[["p-dropdown"]],contentQueries:function(de,Qe,ze){if(1&de&&d.Suo(ze,f.jx,4),2&de){let kt;d.iGM(kt=d.CRH())&&(Qe.templates=kt)}},viewQuery:function(de,Qe){if(1&de&&(d.Gf(U,5),d.Gf(B,5),d.Gf(ce,5),d.Gf($,5),d.Gf(V,5),d.Gf(k,5),d.Gf(O,5)),2&de){let ze;d.iGM(ze=d.CRH())&&(Qe.containerViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.filterViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.accessibleViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.editableInputViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.itemsViewChild=ze.first),d.iGM(ze=d.CRH())&&(Qe.scroller=ze.first),d.iGM(ze=d.CRH())&&(Qe.overlayViewChild=ze.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(de,Qe){2&de&&d.ekj("p-inputwrapper-filled",Qe.filled)("p-inputwrapper-focus",Qe.focused||Qe.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[d._Bn([mt])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(de,Qe){1&de&&(d.TgZ(0,"div",0,1),d.NdJ("click",function(kt){return Qe.onMouseclick(kt)}),d.TgZ(2,"div",2)(3,"input",3,4),d.NdJ("focus",function(kt){return Qe.onInputFocus(kt)})("blur",function(kt){return Qe.onInputBlur(kt)})("keydown",function(kt){return Qe.onKeydown(kt,!0)}),d.qZA()(),d.YNc(5,G,3,13,"span",5),d.YNc(6,Ce,2,4,"span",6),d.YNc(7,oe,2,4,"input",7),d.YNc(8,z,1,0,"i",8),d.TgZ(9,"div",9),d._UZ(10,"span",10),d.qZA(),d.TgZ(11,"p-overlay",11,12),d.NdJ("visibleChange",function(kt){return Qe.overlayVisible=kt})("onAnimationStart",function(kt){return Qe.onOverlayAnimationStart(kt)})("onHide",function(){return Qe.hide()}),d.YNc(13,Fe,9,11,"ng-template",13),d.qZA()()),2&de&&(d.Tol(Qe.styleClass),d.Q6J("ngClass",d.l5B(27,he,Qe.disabled,Qe.overlayVisible,Qe.focused,Qe.showClear&&!Qe.disabled))("ngStyle",Qe.style),d.xp6(3),d.Q6J("disabled",Qe.disabled)("autofocus",Qe.autofocus),d.uIk("id",Qe.inputId)("placeholder",Qe.placeholder)("aria-label",Qe.ariaLabel)("aria-expanded",!1)("aria-labelledby",Qe.ariaLabelledBy)("tabindex",Qe.tabindex)("aria-activedescendant",Qe.overlayVisible?Qe.labelId:null),d.xp6(2),d.Q6J("ngIf",!Qe.editable&&null!=Qe.label),d.xp6(1),d.Q6J("ngIf",!Qe.editable&&null==Qe.label),d.xp6(1),d.Q6J("ngIf",Qe.editable),d.xp6(1),d.Q6J("ngIf",Qe.isVisibleClearIcon),d.xp6(1),d.uIk("aria-expanded",Qe.overlayVisible),d.xp6(1),d.Q6J("ngClass",Qe.dropdownIcon),d.xp6(1),d.Q6J("visible",Qe.overlayVisible)("options",Qe.overlayOptions)("target","@parent")("appendTo",Qe.appendTo)("autoZIndex",Qe.autoZIndex)("baseZIndex",Qe.baseZIndex)("showTransitionOptions",Qe.showTransitionOptions)("hideTransitionOptions",Qe.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,x.aV,f.jx,L.u,R.T,_.P,cn],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),bt})(),tn=(()=>{class bt{}return bt.\u0275fac=function(de){return new(de||bt)},bt.\u0275mod=d.oAB({type:bt}),bt.\u0275inj=d.cJS({imports:[e.ez,x.U8,f.m8,L.z,r.T,R.v,_.E,x.U8,f.m8,R.v]}),bt})()},5330:(hn,ft,b)=>{"use strict";b.d(ft,{DL:()=>Ce,E7:()=>ue,S:()=>K,xA:()=>z});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(5921),P=b(7579),x=b(9783);const r=["mask"],R=["content"],L=["titlebar"];function Q(te,W){if(1&te){const Y=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(Ee){e.CHM(Y);const qe=e.oxw(2);return e.KtG(qe.initResize(Ee))}),e.qZA()}}const N=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function T(te,W){if(1&te){const Y=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(Y);const Ee=e.oxw(3);return e.KtG(Ee.maximize())})("keydown.enter",function(){e.CHM(Y);const Ee=e.oxw(3);return e.KtG(Ee.maximize())}),e._UZ(1,"span",19),e.qZA()}if(2&te){const Y=e.oxw(3);e.Q6J("ngClass",e.DdM(2,N)),e.xp6(1),e.Q6J("ngClass",Y.maximized?Y.minimizeIcon:Y.maximizeIcon)}}function y(te,W){if(1&te){const Y=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(Y);const Ee=e.oxw(3);return e.KtG(Ee.hide())})("keydown.enter",function(){e.CHM(Y);const Ee=e.oxw(3);return e.KtG(Ee.hide())}),e._UZ(1,"span",21),e.qZA()}2&te&&e.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function E(te,W){if(1&te){const Y=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(Ee){e.CHM(Y);const qe=e.oxw(2);return e.KtG(qe.initDrag(Ee))}),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.TgZ(4,"div",15),e.YNc(5,T,2,3,"button",16),e.YNc(6,y,2,1,"button",17),e.qZA()()}if(2&te){const Y=e.oxw(2);e.xp6(3),e.Oqu(Y.config.header),e.xp6(2),e.Q6J("ngIf",Y.config.maximizable),e.xp6(1),e.Q6J("ngIf",!1!==Y.config.closable)}}function D(te,W){}function U(te,W){if(1&te&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&te){const Y=e.oxw(2);e.xp6(1),e.hij(" ",Y.config.footer," ")}}const B=function(te,W,Y,Ae){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":te,"p-dialog-resizable":W,"p-dialog-draggable":Y,"p-dialog-maximized":Ae}},ce=function(te,W){return{transform:te,transition:W}},$=function(te){return{value:"visible",params:te}};function V(te,W){if(1&te){const Y=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(Ee){e.CHM(Y);const qe=e.oxw();return e.KtG(qe.onAnimationStart(Ee))})("@animation.done",function(Ee){e.CHM(Y);const qe=e.oxw();return e.KtG(qe.onAnimationEnd(Ee))}),e.YNc(2,Q,1,0,"div",5),e.YNc(3,E,7,3,"div",6),e.TgZ(4,"div",7,8),e.YNc(6,D,0,0,"ng-template",9),e.qZA(),e.YNc(7,U,2,1,"div",10),e.qZA()}if(2&te){const Y=e.oxw();e.Tol(Y.config.styleClass),e.Udp("width",Y.config.width)("height",Y.config.height),e.Q6J("ngClass",e.l5B(13,B,Y.config.rtl,Y.config.resizable,Y.config.draggable,Y.maximized))("ngStyle",Y.config.style)("@animation",e.VKq(21,$,e.WLB(18,ce,Y.transformOptions,Y.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),e.xp6(2),e.Q6J("ngIf",Y.config.resizable),e.xp6(1),e.Q6J("ngIf",!1!==Y.config.showHeader),e.xp6(1),e.Q6J("ngStyle",Y.config.contentStyle),e.xp6(3),e.Q6J("ngIf",Y.config.footer)}}const k=function(te,W,Y,Ae,Ee,qe,ye,Ge,X){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":te,"p-dialog-left":W,"p-dialog-right":Y,"p-dialog-top":Ae,"p-dialog-bottom":Ee,"p-dialog-top-left":qe,"p-dialog-top-right":ye,"p-dialog-bottom-left":Ge,"p-dialog-bottom-right":X}};let O=(()=>{class te{constructor(Y){this.viewContainerRef=Y}}return te.\u0275fac=function(Y){return new(Y||te)(e.Y36(e.s_b))},te.\u0275dir=e.lG2({type:te,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),te})();class K{}class ue{constructor(){this._onClose=new P.x,this.onClose=this._onClose.asObservable(),this._onDestroy=new P.x,this.onDestroy=this._onDestroy.asObservable(),this._onDragStart=new P.x,this.onDragStart=this._onDragStart.asObservable(),this._onDragEnd=new P.x,this.onDragEnd=this._onDragEnd.asObservable(),this._onResizeInit=new P.x,this.onResizeInit=this._onResizeInit.asObservable(),this._onResizeEnd=new P.x,this.onResizeEnd=this._onResizeEnd.asObservable(),this._onMaximize=new P.x,this.onMaximize=this._onMaximize.asObservable()}close(W){this._onClose.next(W)}destroy(){this._onDestroy.next(null)}dragStart(W){this._onDragStart.next(W)}dragEnd(W){this._onDragEnd.next(W)}resizeInit(W){this._onResizeInit.next(W)}resizeEnd(W){this._onResizeEnd.next(W)}maximize(W){this._onMaximize.next(W)}}const q=(0,d.oQ)([(0,d.oB)({transform:"{{transform}}",opacity:0}),(0,d.jt)("{{transition}}",(0,d.oB)({transform:"none",opacity:1}))]),G=(0,d.oQ)([(0,d.jt)("{{transition}}",(0,d.oB)({transform:"{{transform}}",opacity:0}))]);let ne=(()=>{class te{constructor(Y,Ae,Ee,qe,ye,Ge,X){this.componentFactoryResolver=Y,this.cd=Ae,this.renderer=Ee,this.config=qe,this.dialogRef=ye,this.zone=Ge,this.primeNGConfig=X,this.visible=!0,this._style={},this.transformOptions="scale(0.7)"}get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon?this.config.maximizeIcon:"pi pi-window-maximize"}get minimizeIcon(){return this.config.minimizeIcon?this.config.minimizeIcon:"pi pi-window-minimize"}get style(){return this._style}get position(){return this.config.position}set style(Y){Y&&(this._style=Object.assign({},Y),this.originalStyle=Y)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(Y){var Ae;let Ee=this.componentFactoryResolver.resolveComponentFactory(Y),qe=null===(Ae=this.insertionPoint)||void 0===Ae?void 0:Ae.viewContainerRef;null==qe||qe.clear(),this.componentRef=null==qe?void 0:qe.createComponent(Ee)}moveOnTop(){!1!==this.config.autoZIndex&&(_.P9.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(Y){switch(Y.toState){case"visible":this.container=Y.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.wrapper&&!1!==this.config.modal&&f.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Y){"void"===Y.toState&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&_.P9.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Y=>{this.wrapper&&this.wrapper.isSameNode(Y.target)&&this.hide()})),!1!==this.config.modal&&f.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&f.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(Y){if(9===Y.which){Y.preventDefault();let Ae=f.p.getFocusableElements(this.container);if(Ae&&Ae.length>0)if(Ae[0].ownerDocument.activeElement){let Ee=Ae.indexOf(Ae[0].ownerDocument.activeElement);Y.shiftKey?-1==Ee||0===Ee?Ae[Ae.length-1].focus():Ae[Ee-1].focus():-1==Ee||Ee===Ae.length-1?Ae[0].focus():Ae[Ee+1].focus()}else Ae[0].focus()}}focus(){let Y=f.p.findSingle(this.container,"[autofocus]");Y&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Y.focus(),5)})}maximize(){this.maximized=!this.maximized,this.maximized?f.p.addClass(document.body,"p-overflow-hidden"):f.p.removeClass(document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(Y){this.config.resizable&&(this.resizing=!0,this.lastPageX=Y.pageX,this.lastPageY=Y.pageY,f.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.resizeInit(Y))}onResize(Y){if(this.resizing){let Ae=Y.pageX-this.lastPageX,Ee=Y.pageY-this.lastPageY,qe=f.p.getOuterWidth(this.container),ye=f.p.getOuterHeight(this.container),Ge=f.p.getOuterHeight(this.contentViewChild.nativeElement),X=qe+Ae,be=ye+Ee,we=this.container.style.minWidth,Ie=this.container.style.minHeight,ct=this.container.getBoundingClientRect(),dt=f.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(X+=Ae,be+=Ee),(!we||X>parseInt(we))&&ct.left+X<dt.width&&(this._style.width=X+"px",this.container.style.width=this._style.width),(!Ie||be>parseInt(Ie))&&ct.top+be<dt.height&&(this.contentViewChild.nativeElement.style.height=Ge+be-ye+"px",this._style.height&&(this._style.height=be+"px",this.container.style.height=this._style.height)),this.lastPageX=Y.pageX,this.lastPageY=Y.pageY}}resizeEnd(Y){this.resizing&&(this.resizing=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(Y))}initDrag(Y){f.p.hasClass(Y.target,"p-dialog-header-icon")||f.p.hasClass(Y.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=Y.pageX,this.lastPageY=Y.pageY,this.container.style.margin="0",f.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.dragStart(Y))}onDrag(Y){if(this.dragging){let Ae=f.p.getOuterWidth(this.container),Ee=f.p.getOuterHeight(this.container),qe=Y.pageX-this.lastPageX,ye=Y.pageY-this.lastPageY,Ge=this.container.getBoundingClientRect(),X=Ge.left+qe,be=Ge.top+ye,we=f.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(X>=this.minX&&X+Ae<we.width&&(this._style.left=X+"px",this.lastPageX=Y.pageX,this.container.style.left=X+"px"),be>=this.minY&&be+Ee<we.height&&(this._style.top=be+"px",this.lastPageY=Y.pageY,this.container.style.top=be+"px")):(this.lastPageX=Y.pageX,this.container.style.left=X+"px",this.lastPageY=Y.pageY,this.container.style.top=be+"px")}}endDrag(Y){this.dragging&&(this.dragging=!1,f.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.dragEnd(Y),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",Ae=>{27==Ae.which&&parseInt(this.container.style.zIndex)==_.P9.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return te.\u0275fac=function(Y){return new(Y||te)(e.Y36(e._Vd),e.Y36(e.sBO),e.Y36(e.Qsj),e.Y36(K),e.Y36(ue),e.Y36(e.R0b),e.Y36(x.b4))},te.\u0275cmp=e.Xpm({type:te,selectors:[["p-dynamicDialog"]],viewQuery:function(Y,Ae){if(1&Y&&(e.Gf(O,5),e.Gf(r,5),e.Gf(R,5),e.Gf(L,5)),2&Y){let Ee;e.iGM(Ee=e.CRH())&&(Ae.insertionPoint=Ee.first),e.iGM(Ee=e.CRH())&&(Ae.maskViewChild=Ee.first),e.iGM(Ee=e.CRH())&&(Ae.contentViewChild=Ee.first),e.iGM(Ee=e.CRH())&&(Ae.headerViewChild=Ee.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["content",""],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(Y,Ae){1&Y&&(e.TgZ(0,"div",0,1),e.YNc(2,V,8,23,"div",2),e.qZA()),2&Y&&(e.Tol(Ae.config.maskStyleClass),e.Q6J("ngClass",e.rFY(4,k,[!1!==Ae.config.modal,"left"===Ae.position,"right"===Ae.position,"top"===Ae.position,"bottom"===Ae.position,"topleft"===Ae.position||"top-left"===Ae.position,"topright"===Ae.position||"top-right"===Ae.position,"bottomleft"===Ae.position||"bottom-left"===Ae.position,"bottomright"===Ae.position||"bottom-right"===Ae.position])),e.xp6(2),e.Q6J("ngIf",Ae.visible))},dependencies:function(){return[u.mk,u.O5,u.PC,O]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,d.X$)("animation",[(0,d.eR)("void => visible",[(0,d._7)(q)]),(0,d.eR)("visible => void",[(0,d._7)(G)])])]}}),te})(),Ce=(()=>{class te{}return te.\u0275fac=function(Y){return new(Y||te)},te.\u0275mod=e.oAB({type:te}),te.\u0275inj=e.cJS({imports:[u.ez]}),te})();class oe{constructor(W,Y){this._parentInjector=W,this._additionalTokens=Y}get(W,Y,Ae){return this._additionalTokens.get(W)||this._parentInjector.get(W,Y)}}let z=(()=>{class te{constructor(Y,Ae,Ee){this.componentFactoryResolver=Y,this.appRef=Ae,this.injector=Ee,this.dialogComponentRefMap=new Map}open(Y,Ae){const Ee=this.appendDialogComponentToBody(Ae);return this.dialogComponentRefMap.get(Ee).instance.childComponentType=Y,Ee}appendDialogComponentToBody(Y){const Ae=new WeakMap;Ae.set(K,Y);const Ee=new ue;Ae.set(ue,Ee);const qe=Ee.onClose.subscribe(()=>{this.dialogComponentRefMap.get(Ee).instance.close()}),ye=Ee.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(Ee),ye.unsubscribe(),qe.unsubscribe()}),X=this.componentFactoryResolver.resolveComponentFactory(ne).create(new oe(this.injector,Ae));return this.appRef.attachView(X.hostView),document.body.appendChild(X.hostView.rootNodes[0]),this.dialogComponentRefMap.set(Ee,X),Ee}removeDialogComponentFromBody(Y){if(!Y||!this.dialogComponentRefMap.has(Y))return;const Ae=this.dialogComponentRefMap.get(Y);this.appRef.detachView(Ae.hostView),Ae.destroy(),this.dialogComponentRefMap.delete(Y)}}return te.\u0275fac=function(Y){return new(Y||te)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},te.\u0275prov=e.Yz7({token:te,factory:te.\u0275fac}),te})()},2537:(hn,ft,b)=>{"use strict";b.d(ft,{vy:()=>L,zz:()=>Q});var e=b(5e3),d=b(9808),u=b(5730),f=b(1424),_=b(2382),P=b(9618);const x=["input"];function r(N,T){if(1&N){const y=e.EpF();e.TgZ(0,"i",3),e.NdJ("click",function(){e.CHM(y);const D=e.oxw();return e.KtG(D.clear())}),e.qZA()}}const R={provide:_.JU,useExisting:(0,e.Gpc)(()=>L),multi:!0};let L=(()=>{class N{constructor(y,E){this.el=y,this.cd=E,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onInput=new e.vpe,this.onKeydown=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let y=u.p.getUserAgent();this.androidChrome=/chrome/i.test(y)&&/android/i.test(y),this.initMask()}get mask(){return this._mask}set mask(y){this._mask=y,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let y=this.mask.split("");for(let E=0;E<y.length;E++){let D=y[E];"?"==D?(this.len--,this.partialPosition=E):this.defs[D]?(this.tests.push(new RegExp(this.defs[D])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),E<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let E=0;E<y.length;E++){let D=y[E];"?"!=D&&this.buffer.push(this.defs[D]?this.getPlaceholder(E):D)}this.defaultBuffer=this.buffer.join("")}writeValue(y){this.value=y,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(y){this.onModelChange=y}registerOnTouched(y){this.onModelTouched=y}setDisabledState(y){this.disabled=y,this.cd.markForCheck()}caret(y,E){let D,U,B;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof y)return this.inputViewChild.nativeElement.setSelectionRange?(U=this.inputViewChild.nativeElement.selectionStart,B=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(D=document.selection.createRange(),U=0-D.duplicate().moveStart("character",-1e5),B=U+D.text.length),{begin:U,end:B};U=y,B="number"==typeof E?E:U,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(U,B):this.inputViewChild.nativeElement.createTextRange&&(D=this.inputViewChild.nativeElement.createTextRange(),D.collapse(!0),D.moveEnd("character",B),D.moveStart("character",U),D.select())}}isCompleted(){for(let E=this.firstNonMaskPos;E<=this.lastRequiredNonMaskPos;E++)if(this.tests[E]&&this.buffer[E]===this.getPlaceholder(E))return!1;return!0}getPlaceholder(y){return this.slotChar.charAt(y<this.slotChar.length?y:0)}seekNext(y){for(;++y<this.len&&!this.tests[y];);return y}seekPrev(y){for(;--y>=0&&!this.tests[y];);return y}shiftL(y,E){let D,U;if(!(y<0)){for(D=y,U=this.seekNext(E);D<this.len;D++)if(this.tests[D]){if(!(U<this.len&&this.tests[D].test(this.buffer[U])))break;this.buffer[D]=this.buffer[U],this.buffer[U]=this.getPlaceholder(U),U=this.seekNext(U)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,y))}}shiftR(y){let E,D,U,B;for(E=y,D=this.getPlaceholder(y);E<this.len;E++)if(this.tests[E]){if(U=this.seekNext(E),B=this.buffer[E],this.buffer[E]=D,!(U<this.len&&this.tests[U].test(B)))break;D=B}}handleAndroidInput(y){var E=this.inputViewChild.nativeElement.value,D=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>E.length){for(this.checkVal(!0);D.begin>0&&!this.tests[D.begin-1];)D.begin--;if(0===D.begin)for(;D.begin<this.firstNonMaskPos&&!this.tests[D.begin];)D.begin++;setTimeout(()=>{this.caret(D.begin,D.begin),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);D.begin<this.len&&!this.tests[D.begin];)D.begin++;setTimeout(()=>{this.caret(D.begin,D.begin),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(y){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(y),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(y);let E=document.createEvent("HTMLEvents");E.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(E)}}onInputKeydown(y){if(this.readonly)return;let D,U,B,E=y.which||y.keyCode,ce=/iphone/i.test(u.p.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(y),8===E||46===E||ce&&127===E?(D=this.caret(),U=D.begin,B=D.end,B-U==0&&(U=46!==E?this.seekPrev(U):B=this.seekNext(U-1),B=46===E?this.seekNext(B):B),this.clearBuffer(U,B),this.shiftL(U,B-1),this.updateModel(y),this.onInput.emit(y),y.preventDefault()):13===E?(this.onInputBlur(y),this.updateModel(y)):27===E&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(y),y.preventDefault())}onKeyPress(y){if(!this.readonly){var U,B,ce,$,E=y.which||y.keyCode,D=this.caret();y.ctrlKey||y.altKey||y.metaKey||E<32||E>34&&E<41||(E&&13!==E&&(D.end-D.begin!=0&&(this.clearBuffer(D.begin,D.end),this.shiftL(D.begin,D.end-1)),(U=this.seekNext(D.begin-1))<this.len&&(B=String.fromCharCode(E),this.tests[U].test(B)&&(this.shiftR(U),this.buffer[U]=B,this.writeBuffer(),ce=this.seekNext(U),/android/i.test(u.p.getUserAgent())?setTimeout(()=>{this.caret(ce)},0):this.caret(ce),D.begin<=this.lastRequiredNonMaskPos&&($=this.isCompleted()),this.onInput.emit(y))),y.preventDefault()),this.updateModel(y),this.updateFilledState(),$&&this.onComplete.emit())}}clearBuffer(y,E){let D;for(D=y;D<E&&D<this.len;D++)this.tests[D]&&(this.buffer[D]=this.getPlaceholder(D))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(y){let U,B,ce,E=this.inputViewChild.nativeElement.value,D=-1;for(U=0,ce=0;U<this.len;U++)if(this.tests[U]){for(this.buffer[U]=this.getPlaceholder(U);ce++<E.length;)if(B=E.charAt(ce-1),this.tests[U].test(B)){this.buffer[U]=B,D=U;break}if(ce>E.length){this.clearBuffer(U+1,this.len);break}}else this.buffer[U]===E.charAt(ce)&&ce++,U<this.partialPosition&&(D=U);return y?this.writeBuffer():D+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,D+1)),this.partialPosition?U:this.firstNonMaskPos}onInputFocus(y){if(this.readonly)return;let E;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,E=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),E==this.mask.replace("?","").length?this.caret(0,E):this.caret(E))},10),this.onFocus.emit(y)}onInputChange(y){this.androidChrome?this.handleAndroidInput(y):this.handleInputChange(y),this.onInput.emit(y)}handleInputChange(y){this.readonly||setTimeout(()=>{var E=this.checkVal(!0);this.caret(E),this.updateModel(y),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let y=[];for(let E=0;E<this.buffer.length;E++){let D=this.buffer[E];this.tests[E]&&D!=this.getPlaceholder(E)&&y.push(D)}return y.join("")}updateModel(y){const E=this.unmask?this.getUnmaskedValue():y.target.value;(null!==E||void 0!==E)&&(this.value=E,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return N.\u0275fac=function(y){return new(y||N)(e.Y36(e.SBq),e.Y36(e.sBO))},N.\u0275cmp=e.Xpm({type:N,selectors:[["p-inputMask"]],viewQuery:function(y,E){if(1&y&&e.Gf(x,7),2&y){let D;e.iGM(D=e.CRH())&&(E.inputViewChild=D.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(y,E){2&y&&e.ekj("p-inputwrapper-filled",E.filled)("p-inputwrapper-focus",E.focused)("p-inputmask-clearable",E.showClear&&!E.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[e._Bn([R])],decls:3,vars:18,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(y,E){1&y&&(e.TgZ(0,"input",0,1),e.NdJ("focus",function(U){return E.onInputFocus(U)})("blur",function(U){return E.onInputBlur(U)})("keydown",function(U){return E.onInputKeydown(U)})("keypress",function(U){return E.onKeyPress(U)})("input",function(U){return E.onInputChange(U)})("paste",function(U){return E.handleInputChange(U)}),e.qZA(),e.YNc(2,r,1,0,"i",2)),2&y&&(e.Q6J("ngStyle",E.style)("ngClass",E.styleClass)("disabled",E.disabled)("readonly",E.readonly)("autofocus",E.autoFocus),e.uIk("id",E.inputId)("type",E.type)("name",E.name)("placeholder",E.placeholder)("title",E.title)("size",E.size)("autocomplete",E.autocomplete)("maxlength",E.maxlength)("tabindex",E.tabindex)("aria-label",E.ariaLabel)("aria-required",E.ariaRequired)("required",E.required),e.xp6(2),e.Q6J("ngIf",null!=E.value&&E.filled&&E.showClear&&!E.disabled))},dependencies:[d.mk,d.O5,d.PC,f.o,P.P],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),N})(),Q=(()=>{class N{}return N.\u0275fac=function(y){return new(y||N)},N.\u0275mod=e.oAB({type:N}),N.\u0275inj=e.cJS({imports:[d.ez,f.j,P.E]}),N})()},7010:(hn,ft,b)=>{"use strict";b.d(ft,{L$:()=>U,Rn:()=>D});var e=b(9808),d=b(5e3),u=b(2382),f=b(845),_=b(5730),P=b(1424);const x=["input"];function r(B,ce){if(1&B){const $=d.EpF();d.TgZ(0,"i",6),d.NdJ("click",function(){d.CHM($);const k=d.oxw();return d.KtG(k.clear())}),d.qZA()}}const R=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},L=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Q(B,ce){if(1&B){const $=d.EpF();d.TgZ(0,"span",7)(1,"button",8),d.NdJ("mousedown",function(k){d.CHM($);const O=d.oxw();return d.KtG(O.onUpButtonMouseDown(k))})("mouseup",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onUpButtonMouseUp())})("mouseleave",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onUpButtonMouseLeave())})("keydown",function(k){d.CHM($);const O=d.oxw();return d.KtG(O.onUpButtonKeyDown(k))})("keyup",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onUpButtonKeyUp())}),d.qZA(),d.TgZ(2,"button",8),d.NdJ("mousedown",function(k){d.CHM($);const O=d.oxw();return d.KtG(O.onDownButtonMouseDown(k))})("mouseup",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onDownButtonMouseUp())})("mouseleave",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onDownButtonMouseLeave())})("keydown",function(k){d.CHM($);const O=d.oxw();return d.KtG(O.onDownButtonKeyDown(k))})("keyup",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onDownButtonKeyUp())}),d.qZA()()}if(2&B){const $=d.oxw();d.xp6(1),d.Tol($.incrementButtonClass),d.Q6J("ngClass",d.DdM(10,R))("icon",$.incrementButtonIcon)("disabled",$.disabled),d.xp6(1),d.Tol($.decrementButtonClass),d.Q6J("ngClass",d.DdM(11,L))("icon",$.decrementButtonIcon)("disabled",$.disabled)}}function N(B,ce){if(1&B){const $=d.EpF();d.TgZ(0,"button",8),d.NdJ("mousedown",function(k){d.CHM($);const O=d.oxw();return d.KtG(O.onUpButtonMouseDown(k))})("mouseup",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onUpButtonMouseUp())})("mouseleave",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onUpButtonMouseLeave())})("keydown",function(k){d.CHM($);const O=d.oxw();return d.KtG(O.onUpButtonKeyDown(k))})("keyup",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onUpButtonKeyUp())}),d.qZA()}if(2&B){const $=d.oxw();d.Tol($.incrementButtonClass),d.Q6J("ngClass",d.DdM(5,R))("icon",$.incrementButtonIcon)("disabled",$.disabled)}}function T(B,ce){if(1&B){const $=d.EpF();d.TgZ(0,"button",8),d.NdJ("mousedown",function(k){d.CHM($);const O=d.oxw();return d.KtG(O.onDownButtonMouseDown(k))})("mouseup",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onDownButtonMouseUp())})("mouseleave",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onDownButtonMouseLeave())})("keydown",function(k){d.CHM($);const O=d.oxw();return d.KtG(O.onDownButtonKeyDown(k))})("keyup",function(){d.CHM($);const k=d.oxw();return d.KtG(k.onDownButtonKeyUp())}),d.qZA()}if(2&B){const $=d.oxw();d.Tol($.decrementButtonClass),d.Q6J("ngClass",d.DdM(5,L))("icon",$.decrementButtonIcon)("disabled",$.disabled)}}const y=function(B,ce,$){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":B,"p-inputnumber-buttons-horizontal":ce,"p-inputnumber-buttons-vertical":$}},E={provide:u.JU,useExisting:(0,d.Gpc)(()=>D),multi:!0};let D=(()=>{class B{constructor($,V){this.el=$,this.cd=V,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onKeyDown=new d.vpe,this.onClear=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled($){$&&(this.focused=!1),this._disabled=$,this.timer&&this.clearTimer()}ngOnChanges($){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(k=>!!$[k])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const $=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),V=new Map($.map((k,O)=>[k,O]));this._numeral=new RegExp(`[${$.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=k=>V.get(k)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp($){return $.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const $=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${$.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const $=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=$.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const $=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${$.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const $=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${$.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const $=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=$.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const $=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=$.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue($){if(null!=$){if("-"===$)return $;if(this.format){let k=new Intl.NumberFormat(this.locale,this.getOptions()).format($);return this.prefix&&(k=this.prefix+k),this.suffix&&(k+=this.suffix),k}return $.toString()}return""}parseValue($){let V=$.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(V){if("-"===V)return V;let k=+V;return isNaN(k)?null:k}return null}repeat($,V,k){if(this.readonly)return;let O=V||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat($,40,k)},O),this.spin($,k)}spin($,V){let k=this.step*V,O=this.parseValue(this.input.nativeElement.value)||0,K=this.validateValue(O+k);this.maxlength&&this.maxlength<this.formatValue(K).length||(this.updateInput(K,null,"spin",null),this.updateModel($,K),this.handleOnInput($,O,K))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown($){this.input.nativeElement.focus(),this.repeat($,null,1),$.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown($){(32===$.keyCode||13===$.keyCode)&&this.repeat($,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown($){this.input.nativeElement.focus(),this.repeat($,null,-1),$.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown($){(32===$.keyCode||13===$.keyCode)&&this.repeat($,null,-1)}onUserInput($){this.readonly||(this.isSpecialChar&&($.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown($){if(this.readonly)return;if(this.lastValue=$.target.value,$.shiftKey||$.altKey)return void(this.isSpecialChar=!0);let V=$.target.selectionStart,k=$.target.selectionEnd,O=$.target.value,K=null;switch($.altKey&&$.preventDefault(),$.which){case 38:this.spin($,1),$.preventDefault();break;case 40:this.spin($,-1),$.preventDefault();break;case 37:this.isNumeralChar(O.charAt(V-1))||$.preventDefault();break;case 39:this.isNumeralChar(O.charAt(V))||$.preventDefault();break;case 13:K=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(K),this.input.nativeElement.setAttribute("aria-valuenow",K),this.updateModel($,K);break;case 8:if($.preventDefault(),V===k){const ue=O.charAt(V-1),{decimalCharIndex:q,decimalCharIndexWithoutPrefix:G}=this.getDecimalCharIndexes(O);if(this.isNumeralChar(ue)){const ne=this.getDecimalLength(O);if(this._group.test(ue))this._group.lastIndex=0,K=O.slice(0,V-2)+O.slice(V-1);else if(this._decimal.test(ue))this._decimal.lastIndex=0,ne?this.input.nativeElement.setSelectionRange(V-1,V-1):K=O.slice(0,V-1)+O.slice(V);else if(q>0&&V>q){const Ce=this.isDecimalMode()&&(this.minFractionDigits||0)<ne?"":"0";K=O.slice(0,V-1)+Ce+O.slice(V)}else 1===G?(K=O.slice(0,V-1)+"0"+O.slice(V),K=this.parseValue(K)>0?K:""):K=O.slice(0,V-1)+O.slice(V)}this.updateValue($,K,null,"delete-single")}else K=this.deleteRange(O,V,k),this.updateValue($,K,null,"delete-range");break;case 46:if($.preventDefault(),V===k){const ue=O.charAt(V),{decimalCharIndex:q,decimalCharIndexWithoutPrefix:G}=this.getDecimalCharIndexes(O);if(this.isNumeralChar(ue)){const ne=this.getDecimalLength(O);if(this._group.test(ue))this._group.lastIndex=0,K=O.slice(0,V)+O.slice(V+2);else if(this._decimal.test(ue))this._decimal.lastIndex=0,ne?this.input.nativeElement.setSelectionRange(V+1,V+1):K=O.slice(0,V)+O.slice(V+1);else if(q>0&&V>q){const Ce=this.isDecimalMode()&&(this.minFractionDigits||0)<ne?"":"0";K=O.slice(0,V)+Ce+O.slice(V+1)}else 1===G?(K=O.slice(0,V)+"0"+O.slice(V+1),K=this.parseValue(K)>0?K:""):K=O.slice(0,V)+O.slice(V+1)}this.updateValue($,K,null,"delete-back-single")}else K=this.deleteRange(O,V,k),this.updateValue($,K,null,"delete-range")}this.onKeyDown.emit($)}onInputKeyPress($){if(this.readonly)return;let V=$.which||$.keyCode,k=String.fromCharCode(V);const O=this.isDecimalSign(k),K=this.isMinusSign(k);13!=V&&$.preventDefault(),(48<=V&&V<=57||K||O)&&this.insert($,k,{isDecimalSign:O,isMinusSign:K})}onPaste($){if(!this.disabled&&!this.readonly){$.preventDefault();let V=($.clipboardData||window.clipboardData).getData("Text");if(V){let k=this.parseValue(V);null!=k&&this.insert($,k.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign($){return!(!this._minusSign.test($)&&"-"!==$||(this._minusSign.lastIndex=0,0))}isDecimalSign($){return!!this._decimal.test($)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes($){let V=$.search(this._decimal);this._decimal.lastIndex=0;const O=$.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:V,decimalCharIndexWithoutPrefix:O}}getCharIndexes($){const V=$.search(this._decimal);this._decimal.lastIndex=0;const k=$.search(this._minusSign);this._minusSign.lastIndex=0;const O=$.search(this._suffix);this._suffix.lastIndex=0;const K=$.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:V,minusCharIndex:k,suffixCharIndex:O,currencyCharIndex:K}}insert($,V,k={isDecimalSign:!1,isMinusSign:!1}){const O=V.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==O)return;let K=this.input.nativeElement.selectionStart,ue=this.input.nativeElement.selectionEnd,q=this.input.nativeElement.value.trim();const{decimalCharIndex:G,minusCharIndex:ne,suffixCharIndex:Ce,currencyCharIndex:oe}=this.getCharIndexes(q);let z;if(k.isMinusSign)0===K&&(z=q,(-1===ne||0!==ue)&&(z=this.insertText(q,V,0,ue)),this.updateValue($,z,V,"insert"));else if(k.isDecimalSign)G>0&&K===G?this.updateValue($,q,V,"insert"):(G>K&&G<ue||-1===G&&this.maxFractionDigits)&&(z=this.insertText(q,V,K,ue),this.updateValue($,z,V,"insert"));else{const te=this.numberFormat.resolvedOptions().maximumFractionDigits,W=K!==ue?"range-insert":"insert";if(G>0&&K>G){if(K+V.length-(G+1)<=te){const Y=oe>=K?oe-1:Ce>=K?Ce:q.length;z=q.slice(0,K)+V+q.slice(K+V.length,Y)+q.slice(Y),this.updateValue($,z,V,W)}}else z=this.insertText(q,V,K,ue),this.updateValue($,z,V,W)}}insertText($,V,k,O){if(2===("."===V?V:V.split(".")).length){const ue=$.slice(k,O).search(this._decimal);return this._decimal.lastIndex=0,ue>0?$.slice(0,k)+this.formatValue(V)+$.slice(O):$||this.formatValue(V)}return O-k===$.length?this.formatValue(V):0===k?V+$.slice(O):O===$.length?$.slice(0,k)+V:$.slice(0,k)+V+$.slice(O)}deleteRange($,V,k){let O;return O=k-V===$.length?"":0===V?$.slice(k):k===$.length?$.slice(0,V):$.slice(0,V)+$.slice(k),O}initCursor(){let $=this.input.nativeElement.selectionStart,V=this.input.nativeElement.value,k=V.length,O=null,K=(this.prefixChar||"").length;V=V.replace(this._prefix,""),$-=K;let ue=V.charAt($);if(this.isNumeralChar(ue))return $+K;let q=$-1;for(;q>=0;){if(ue=V.charAt(q),this.isNumeralChar(ue)){O=q+K;break}q--}if(null!==O)this.input.nativeElement.setSelectionRange(O+1,O+1);else{for(q=$;q<k;){if(ue=V.charAt(q),this.isNumeralChar(ue)){O=q+K;break}q++}null!==O&&this.input.nativeElement.setSelectionRange(O,O)}return O||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==_.p.getSelection()&&this.initCursor()}isNumeralChar($){return!(1!==$.length||!(this._numeral.test($)||this._decimal.test($)||this._group.test($)||this._minusSign.test($))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue($,V,k,O){let K=this.input.nativeElement.value,ue=null;null!=V&&(ue=this.parseValue(V),ue=ue||this.allowEmpty?ue:0,this.updateInput(ue,k,O,V),this.handleOnInput($,K,ue))}handleOnInput($,V,k){this.isValueChanged(V,k)&&this.onInput.emit({originalEvent:$,value:k,formattedValue:V})}isValueChanged($,V){return null===V&&null!==$||null!=V&&V!==("string"==typeof $?this.parseValue($):$)}validateValue($){return"-"===$||null==$?null:null!=this.min&&$<this.min?this.min:null!=this.max&&$>this.max?this.max:$}updateInput($,V,k,O){V=V||"";let K=this.input.nativeElement.value,ue=this.formatValue($),q=K.length;if(ue!==O&&(ue=this.concatValues(ue,O)),0===q){this.input.nativeElement.value=ue,this.input.nativeElement.setSelectionRange(0,0);const ne=this.initCursor()+V.length;this.input.nativeElement.setSelectionRange(ne,ne)}else{let G=this.input.nativeElement.selectionStart,ne=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<ue.length)return;this.input.nativeElement.value=ue;let Ce=ue.length;if("range-insert"===k){const oe=this.parseValue((K||"").slice(0,G)),te=(null!==oe?oe.toString():"").split("").join(`(${this.groupChar})?`),W=new RegExp(te,"g");W.test(ue);const Y=V.split("").join(`(${this.groupChar})?`),Ae=new RegExp(Y,"g");Ae.test(ue.slice(W.lastIndex)),ne=W.lastIndex+Ae.lastIndex,this.input.nativeElement.setSelectionRange(ne,ne)}else if(Ce===q)"insert"===k||"delete-back-single"===k?this.input.nativeElement.setSelectionRange(ne+1,ne+1):"delete-single"===k?this.input.nativeElement.setSelectionRange(ne-1,ne-1):("delete-range"===k||"spin"===k)&&this.input.nativeElement.setSelectionRange(ne,ne);else if("delete-back-single"===k){let oe=K.charAt(ne-1),z=K.charAt(ne),te=q-Ce,W=this._group.test(z);W&&1===te?ne+=1:!W&&this.isNumeralChar(oe)&&(ne+=-1*te+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(ne,ne)}else if("-"===K&&"insert"===k){this.input.nativeElement.setSelectionRange(0,0);const z=this.initCursor()+V.length+1;this.input.nativeElement.setSelectionRange(z,z)}else ne+=Ce-q,this.input.nativeElement.setSelectionRange(ne,ne)}this.input.nativeElement.setAttribute("aria-valuenow",$)}concatValues($,V){if($&&V){let k=V.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?$.replace(this.suffixChar,"").split(this._decimal)[0]+V.replace(this.suffixChar,"").slice(k)+this.suffixChar:-1!==k?$.split(this._decimal)[0]+V.slice(k):$}return $}getDecimalLength($){if($){const V=$.split(this._decimal);if(2===V.length)return V[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus($){this.focused=!0,this.onFocus.emit($)}onInputBlur($){this.focused=!1;let V=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(V),this.input.nativeElement.setAttribute("aria-valuenow",V),this.updateModel($,V),this.onBlur.emit($)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel($,V){this.value!==V&&(this.value=V,this.onModelChange(V)),this.onModelTouched()}writeValue($){this.value=$,this.cd.markForCheck()}registerOnChange($){this.onModelChange=$}registerOnTouched($){this.onModelTouched=$}setDisabledState($){this.disabled=$,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return B.\u0275fac=function($){return new($||B)(d.Y36(d.SBq),d.Y36(d.sBO))},B.\u0275cmp=d.Xpm({type:B,selectors:[["p-inputNumber"]],viewQuery:function($,V){if(1&$&&d.Gf(x,5),2&$){let k;d.iGM(k=d.CRH())&&(V.input=k.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function($,V){2&$&&d.ekj("p-inputwrapper-filled",V.filled)("p-inputwrapper-focus",V.focused)("p-inputnumber-clearable",V.showClear&&"vertical"!=V.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[d._Bn([E]),d.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function($,V){1&$&&(d.TgZ(0,"span",0)(1,"input",1,2),d.NdJ("input",function(O){return V.onUserInput(O)})("keydown",function(O){return V.onInputKeyDown(O)})("keypress",function(O){return V.onInputKeyPress(O)})("paste",function(O){return V.onPaste(O)})("click",function(){return V.onInputClick()})("focus",function(O){return V.onInputFocus(O)})("blur",function(O){return V.onInputBlur(O)}),d.qZA(),d.YNc(3,r,1,0,"i",3),d.YNc(4,Q,3,12,"span",4),d.YNc(5,N,1,6,"button",5),d.YNc(6,T,1,6,"button",5),d.qZA()),2&$&&(d.Tol(V.styleClass),d.Q6J("ngClass",d.kEZ(28,y,V.showButtons&&"stacked"===V.buttonLayout,V.showButtons&&"horizontal"===V.buttonLayout,V.showButtons&&"vertical"===V.buttonLayout))("ngStyle",V.style),d.xp6(1),d.Tol(V.inputStyleClass),d.Q6J("ngClass","p-inputnumber-input")("ngStyle",V.inputStyle)("value",V.formattedValue())("disabled",V.disabled)("readonly",V.readonly),d.uIk("placeholder",V.placeholder)("title",V.title)("id",V.inputId)("size",V.size)("name",V.name)("autocomplete",V.autocomplete)("maxlength",V.maxlength)("tabindex",V.tabindex)("aria-label",V.ariaLabel)("aria-required",V.ariaRequired)("required",V.required)("min",V.min)("max",V.max),d.xp6(2),d.Q6J("ngIf","vertical"!=V.buttonLayout&&V.showClear&&V.value),d.xp6(1),d.Q6J("ngIf",V.showButtons&&"stacked"===V.buttonLayout),d.xp6(1),d.Q6J("ngIf",V.showButtons&&"stacked"!==V.buttonLayout),d.xp6(1),d.Q6J("ngIf",V.showButtons&&"stacked"!==V.buttonLayout))},dependencies:[e.mk,e.O5,e.PC,P.o,f.Hq],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),B})(),U=(()=>{class B{}return B.\u0275fac=function($){return new($||B)},B.\u0275mod=d.oAB({type:B}),B.\u0275inj=d.cJS({imports:[e.ez,P.j,f.hJ]}),B})()},242:(hn,ft,b)=>{"use strict";b.d(ft,{Iu:()=>x,Ql:()=>P});var e=b(5e3),d=b(9808),u=b(2382);const f=function(r,R,L){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":r,"p-disabled":R,"p-focus":L}},_={provide:u.JU,useExisting:(0,e.Gpc)(()=>P),multi:!0};let P=(()=>{class r{constructor(L){this.cd=L,this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(L,Q){!this.disabled&&!this.readonly&&(L.preventDefault(),this.toggle(L),Q.focus())}onInputChange(L){this.readonly||this.updateModel(L,L.target.checked)}toggle(L){this.updateModel(L,!this.checked())}updateModel(L,Q){this.modelValue=Q?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:L,checked:this.modelValue})}onFocus(L){this.focused=!0}onBlur(L){this.focused=!1,this.onModelTouched()}writeValue(L){this.modelValue=L,this.cd.markForCheck()}registerOnChange(L){this.onModelChange=L}registerOnTouched(L){this.onModelTouched=L}setDisabledState(L){this.disabled=L,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return r.\u0275fac=function(L){return new(L||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[e._Bn([_])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(L,Q){if(1&L){const N=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(y){e.CHM(N);const E=e.MAs(3);return e.KtG(Q.onClick(y,E))}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(y){return Q.onInputChange(y)})("focus",function(y){return Q.onFocus(y)})("blur",function(y){return Q.onBlur(y)}),e.qZA()(),e._UZ(4,"span",4),e.qZA()}2&L&&(e.Tol(Q.styleClass),e.Q6J("ngClass",e.kEZ(12,f,Q.checked(),Q.disabled,Q.focused))("ngStyle",Q.style),e.xp6(2),e.Q6J("checked",Q.checked())("disabled",Q.disabled),e.uIk("aria-label",Q.ariaLabel)("id",Q.inputId)("name",Q.name)("tabindex",Q.tabindex)("aria-checked",Q.checked())("aria-labelledby",Q.ariaLabelledBy))},dependencies:[d.mk,d.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),r})(),x=(()=>{class r{}return r.\u0275fac=function(L){return new(L||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez]}),r})()},1424:(hn,ft,b)=>{"use strict";b.d(ft,{j:()=>_,o:()=>f});var e=b(5e3),d=b(9808),u=b(2382);let f=(()=>{class P{constructor(r,R,L){this.el=r,this.ngModel=R,this.cd=L}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(r){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return P.\u0275fac=function(r){return new(r||P)(e.Y36(e.SBq),e.Y36(u.On,8),e.Y36(e.sBO))},P.\u0275dir=e.lG2({type:P,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(r,R){1&r&&e.NdJ("input",function(Q){return R.onInput(Q)}),2&r&&e.ekj("p-filled",R.filled)}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(r){return new(r||P)},P.\u0275mod=e.oAB({type:P}),P.\u0275inj=e.cJS({imports:[d.ez]}),P})()},3407:(hn,ft,b)=>{"use strict";b.d(ft,{A:()=>_,g:()=>f});var e=b(5e3),d=b(9808),u=b(2382);let f=(()=>{class P{constructor(r,R,L,Q){this.el=r,this.ngModel=R,this.control=L,this.cd=Q,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(r){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(r){this.autoResize&&this.resize(r)}onBlur(r){this.autoResize&&this.resize(r)}resize(r){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(r||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return P.\u0275fac=function(r){return new(r||P)(e.Y36(e.SBq),e.Y36(u.On,8),e.Y36(u.a5,8),e.Y36(e.sBO))},P.\u0275dir=e.lG2({type:P,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(r,R){1&r&&e.NdJ("input",function(Q){return R.onInput(Q)})("focus",function(Q){return R.onFocus(Q)})("blur",function(Q){return R.onBlur(Q)}),2&r&&e.ekj("p-filled",R.filled)("p-inputtextarea-resizable",R.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),P})(),_=(()=>{class P{}return P.\u0275fac=function(r){return new(r||P)},P.\u0275mod=e.oAB({type:P}),P.\u0275inj=e.cJS({imports:[d.ez]}),P})()},657:(hn,ft,b)=>{"use strict";b.d(ft,{Fr:()=>R,kK:()=>L});var e=b(5e3),d=b(9808),u=b(5730);const _={provide:b(2382).Cf,useExisting:(0,e.Gpc)(()=>R),multi:!0},P={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},r={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};let R=(()=>{class Q{constructor(T){this.el=T,this.ngModelChange=new e.vpe,this.isAndroid=u.p.isAndroid()}get pattern(){return this._pattern}set pattern(T){this._pattern=T,this.regex=P[this._pattern]||this._pattern}isNavKeyPress(T){let y=T.keyCode;return y=u.p.getBrowser().safari&&r[y]||y,y>=33&&y<=40||13==y||9==y||27==y}isSpecialKey(T){let y=T.keyCode||T.charCode;return 9==y||13==y||27==y||16==y||17==y||y>=18&&y<=20||u.p.getBrowser().opera&&!T.shiftKey&&(8==y||y>=33&&y<=35||y>=36&&y<=39||y>=44&&y<=45)}getKey(T){let y=T.keyCode||T.charCode;return u.p.getBrowser().safari&&r[y]||y}getCharCode(T){return T.charCode||T.keyCode||T.which}findDelta(T,y){let E="";for(let D=0;D<T.length;D++)T.substr(0,D)+T.substr(D+T.length-y.length)===y&&(E=T.substr(D,T.length-y.length));return E}isValidChar(T){return this.regex.test(T)}isValidString(T){for(let y=0;y<T.length;y++)if(!this.isValidChar(T.substr(y,1)))return!1;return!0}onInput(T){if(this.isAndroid&&!this.pValidateOnly){let y=this.el.nativeElement.value,E=this.lastValue||"",D=this.findDelta(y,E),U=this.findDelta(E,y);D.length>1||!D&&!U?this.isValidString(y)||(this.el.nativeElement.value=E,this.ngModelChange.emit(E)):U||this.isValidChar(D)||(this.el.nativeElement.value=E,this.ngModelChange.emit(E)),y=this.el.nativeElement.value,this.isValidString(y)&&(this.lastValue=y)}}onKeyPress(T){if(this.isAndroid||this.pValidateOnly)return;let y=u.p.getBrowser(),E=this.getKey(T);if(y.mozilla&&(T.ctrlKey||T.altKey))return;if(17==E||18==E)return;let D=this.getCharCode(T),U=String.fromCharCode(D),B=!0;!y.mozilla&&(this.isSpecialKey(T)||!U)||(B=this.regex.test(U),B||T.preventDefault())}onPaste(T){const y=T.clipboardData||window.clipboardData.getData("text");if(y){const E=y.getData("text");for(let D of E.toString())if(!this.regex.test(D))return void T.preventDefault()}}validate(T){if(this.pValidateOnly){let y=this.el.nativeElement.value;if(y&&!this.regex.test(y))return{validatePattern:!1}}}}return Q.\u0275fac=function(T){return new(T||Q)(e.Y36(e.SBq))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(T,y){1&T&&e.NdJ("input",function(D){return y.onInput(D)})("keypress",function(D){return y.onKeyPress(D)})("paste",function(D){return y.onPaste(D)})},inputs:{pValidateOnly:"pValidateOnly",pattern:["pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[e._Bn([_])]}),Q})(),L=(()=>{class Q{}return Q.\u0275fac=function(T){return new(T||Q)},Q.\u0275mod=e.oAB({type:Q}),Q.\u0275inj=e.cJS({imports:[d.ez]}),Q})()},5055:(hn,ft,b)=>{"use strict";b.d(ft,{ON:()=>At,Ri:()=>Nt});var e=b(5e3),d=b(9808),u=b(9783),f=b(5730),_=b(5921),P=b(2382),x=b(5787);const r=["headerchkbox"],R=["filter"];function L(st,ot){1&st&&e.GkF(0)}function Q(st,ot){if(1&st&&(e.TgZ(0,"div",7),e.Hsn(1),e.YNc(2,L,1,0,"ng-container",8),e.qZA()),2&st){const ge=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",ge.headerTemplate)}}const N=function(st){return{"p-checkbox-disabled":st}},T=function(st,ot,ge){return{"p-highlight":st,"p-focus":ot,"p-disabled":ge}},y=function(st){return{"pi pi-check":st}};function E(st,ot){if(1&st){const ge=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"input",14),e.NdJ("focus",function(){e.CHM(ge);const rt=e.oxw(2);return e.KtG(rt.onHeaderCheckboxFocus())})("blur",function(){e.CHM(ge);const rt=e.oxw(2);return e.KtG(rt.onHeaderCheckboxBlur())})("keydown.space",function(rt){e.CHM(ge);const yt=e.oxw(2);return e.KtG(yt.toggleAll(rt))}),e.qZA()(),e.TgZ(3,"div",15,16),e.NdJ("click",function(rt){e.CHM(ge);const yt=e.oxw(2);return e.KtG(yt.toggleAll(rt))}),e._UZ(5,"span",17),e.qZA()()}if(2&st){const ge=e.oxw(2);e.Q6J("ngClass",e.VKq(5,N,ge.disabled||ge.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",ge.allChecked)("disabled",ge.disabled||ge.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,T,ge.allChecked,ge.headerCheckboxFocus,ge.disabled||ge.toggleAllDisabled)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,y,ge.allChecked))}}function D(st,ot){1&st&&e.GkF(0)}const U=function(st){return{options:st}};function B(st,ot){if(1&st&&(e.ynx(0),e.YNc(1,D,1,0,"ng-container",18),e.BQk()),2&st){const ge=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ge.filterTemplate)("ngTemplateOutletContext",e.VKq(2,U,ge.filterOptions))}}function ce(st,ot){if(1&st){const ge=e.EpF();e.TgZ(0,"div",20)(1,"input",21,22),e.NdJ("input",function(rt){e.CHM(ge);const yt=e.oxw(3);return e.KtG(yt.onFilter(rt))}),e.qZA(),e._UZ(3,"span",23),e.qZA()}if(2&st){const ge=e.oxw(3);e.xp6(1),e.Q6J("value",ge.filterValue||"")("disabled",ge.disabled),e.uIk("placeholder",ge.filterPlaceHolder)("aria-label",ge.ariaFilterLabel)}}function $(st,ot){if(1&st&&e.YNc(0,ce,4,4,"div",19),2&st){const ge=e.oxw(2);e.Q6J("ngIf",ge.filter)}}function V(st,ot){if(1&st&&(e.TgZ(0,"div",7),e.YNc(1,E,6,13,"div",9),e.YNc(2,B,2,4,"ng-container",10),e.YNc(3,$,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&st){const ge=e.MAs(4),ke=e.oxw();e.xp6(1),e.Q6J("ngIf",ke.checkbox&&ke.multiple&&ke.showToggleAll),e.xp6(1),e.Q6J("ngIf",ke.filterTemplate)("ngIfElse",ge)}}function k(st,ot){if(1&st&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&st){const ge=e.oxw().$implicit,ke=e.oxw(2);e.xp6(1),e.Oqu(ke.getOptionGroupLabel(ge)||"empty")}}function O(st,ot){1&st&&e.GkF(0)}function K(st,ot){1&st&&e.GkF(0)}const ue=function(st){return{$implicit:st}};function q(st,ot){if(1&st&&(e.TgZ(0,"li",25),e.YNc(1,k,2,1,"span",3),e.YNc(2,O,1,0,"ng-container",18),e.qZA(),e.YNc(3,K,1,0,"ng-container",18)),2&st){const ge=ot.$implicit,ke=e.oxw(2),rt=e.MAs(8);e.xp6(1),e.Q6J("ngIf",!ke.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ke.groupTemplate)("ngTemplateOutletContext",e.VKq(5,ue,ge)),e.xp6(1),e.Q6J("ngTemplateOutlet",rt)("ngTemplateOutletContext",e.VKq(7,ue,ke.getOptionGroupChildren(ge)))}}function G(st,ot){if(1&st&&(e.ynx(0),e.YNc(1,q,4,9,"ng-template",24),e.BQk()),2&st){const ge=e.oxw();e.xp6(1),e.Q6J("ngForOf",ge.optionsToRender)}}function ne(st,ot){1&st&&e.GkF(0)}function Ce(st,ot){if(1&st&&(e.ynx(0),e.YNc(1,ne,1,0,"ng-container",18),e.BQk()),2&st){const ge=e.oxw(),ke=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",ke)("ngTemplateOutletContext",e.VKq(2,ue,ge.optionsToRender))}}const oe=function(st){return{"p-highlight":st}};function z(st,ot){if(1&st&&(e.TgZ(0,"div",12)(1,"div",28),e._UZ(2,"span",17),e.qZA()()),2&st){const ge=e.oxw().$implicit,ke=e.oxw(2);e.Q6J("ngClass",e.VKq(3,N,ke.disabled||ke.isOptionDisabled(ge))),e.xp6(1),e.Q6J("ngClass",e.VKq(5,oe,ke.isSelected(ge))),e.xp6(1),e.Q6J("ngClass",e.VKq(7,y,ke.isSelected(ge)))}}function te(st,ot){if(1&st&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&st){const ge=e.oxw().$implicit,ke=e.oxw(2);e.xp6(1),e.Oqu(ke.getOptionLabel(ge))}}function W(st,ot){1&st&&e.GkF(0)}const Y=function(st,ot){return{"p-listbox-item":!0,"p-highlight":st,"p-disabled":ot}},Ae=function(st,ot){return{$implicit:st,index:ot}};function Ee(st,ot){if(1&st){const ge=e.EpF();e.TgZ(0,"li",27),e.NdJ("click",function(rt){const Pt=e.CHM(ge).$implicit,Ht=e.oxw(2);return e.KtG(Ht.onOptionClick(rt,Pt))})("dblclick",function(rt){const Pt=e.CHM(ge).$implicit,Ht=e.oxw(2);return e.KtG(Ht.onOptionDoubleClick(rt,Pt))})("touchend",function(){const yt=e.CHM(ge).$implicit,Pt=e.oxw(2);return e.KtG(Pt.onOptionTouchEnd(yt))})("keydown",function(rt){const Pt=e.CHM(ge).$implicit,Ht=e.oxw(2);return e.KtG(Ht.onOptionKeyDown(rt,Pt))}),e.YNc(1,z,3,9,"div",9),e.YNc(2,te,2,1,"span",3),e.YNc(3,W,1,0,"ng-container",18),e.qZA()}if(2&st){const ge=ot.$implicit,ke=ot.index,rt=e.oxw(2);e.Q6J("ngClass",e.WLB(8,Y,rt.isSelected(ge),rt.isOptionDisabled(ge))),e.uIk("tabindex",rt.disabled||rt.isOptionDisabled(ge)?null:"0")("aria-label",rt.getOptionLabel(ge))("aria-selected",rt.isSelected(ge)),e.xp6(1),e.Q6J("ngIf",rt.checkbox&&rt.multiple),e.xp6(1),e.Q6J("ngIf",!rt.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",rt.itemTemplate)("ngTemplateOutletContext",e.WLB(11,Ae,ge,ke))}}function qe(st,ot){1&st&&e.YNc(0,Ee,4,14,"li",26),2&st&&e.Q6J("ngForOf",ot.$implicit)}function ye(st,ot){if(1&st&&(e.ynx(0),e._uU(1),e.BQk()),2&st){const ge=e.oxw(2);e.xp6(1),e.hij(" ",ge.emptyFilterMessageLabel," ")}}function Ge(st,ot){1&st&&e.GkF(0,null,30)}function X(st,ot){if(1&st&&(e.TgZ(0,"li",29),e.YNc(1,ye,2,1,"ng-container",10),e.YNc(2,Ge,2,0,"ng-container",8),e.qZA()),2&st){const ge=e.oxw();e.xp6(1),e.Q6J("ngIf",!ge.emptyFilterTemplate&&!ge.emptyTemplate)("ngIfElse",ge.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",ge.emptyFilterTemplate||ge.emptyTemplate)}}function be(st,ot){if(1&st&&(e.ynx(0),e._uU(1),e.BQk()),2&st){const ge=e.oxw(2);e.xp6(1),e.hij(" ",ge.emptyMessageLabel," ")}}function we(st,ot){1&st&&e.GkF(0,null,31)}function Ie(st,ot){if(1&st&&(e.TgZ(0,"li",29),e.YNc(1,be,2,1,"ng-container",10),e.YNc(2,we,2,0,"ng-container",8),e.qZA()),2&st){const ge=e.oxw();e.xp6(1),e.Q6J("ngIf",!ge.emptyTemplate)("ngIfElse",ge.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",ge.emptyTemplate)}}function ct(st,ot){1&st&&e.GkF(0)}function dt(st,ot){if(1&st&&(e.TgZ(0,"div",32),e.Hsn(1,1),e.YNc(2,ct,1,0,"ng-container",8),e.qZA()),2&st){const ge=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",ge.footerTemplate)}}const et=[[["p-header"]],[["p-footer"]]],vt=function(st){return{"p-listbox p-component":!0,"p-disabled":st}},ht=["p-header","p-footer"],Rt={provide:P.JU,useExisting:(0,e.Gpc)(()=>Nt),multi:!0};let Nt=(()=>{class st{constructor(ge,ke,rt,yt){this.el=ge,this.cd=ke,this.filterService=rt,this.config=yt,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new e.vpe,this.onClick=new e.vpe,this.onDblClick=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(ge){this._options=ge,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(ge){this._filterValue=ge,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:ge=>this.onFilter(ge),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(ge=>{switch(ge.getType()){case"item":default:this.itemTemplate=ge.template;break;case"group":this.groupTemplate=ge.template;break;case"header":this.headerTemplate=ge.template;break;case"filter":this.filterTemplate=ge.template;break;case"footer":this.footerTemplate=ge.template;break;case"empty":this.emptyTemplate=ge.template;break;case"emptyfilter":this.emptyFilterTemplate=ge.template}})}getOptionLabel(ge){return this.optionLabel?_.gb.resolveFieldData(ge,this.optionLabel):null!=ge.label?ge.label:ge}getOptionGroupChildren(ge){return this.optionGroupChildren?_.gb.resolveFieldData(ge,this.optionGroupChildren):ge.items}getOptionGroupLabel(ge){return this.optionGroupLabel?_.gb.resolveFieldData(ge,this.optionGroupLabel):null!=ge.label?ge.label:ge}getOptionValue(ge){return this.optionValue?_.gb.resolveFieldData(ge,this.optionValue):this.optionLabel||void 0===ge.value?ge:ge.value}isOptionDisabled(ge){return this.optionDisabled?_.gb.resolveFieldData(ge,this.optionDisabled):void 0!==ge.disabled&&ge.disabled}writeValue(ge){this.value=ge,this.cd.markForCheck()}registerOnChange(ge){this.onModelChange=ge}registerOnTouched(ge){this.onModelTouched=ge}setDisabledState(ge){this.disabled=ge,this.cd.markForCheck()}onOptionClick(ge,ke){this.disabled||this.isOptionDisabled(ke)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(ge,ke):this.onOptionClickMultiple(ge,ke):this.onOptionClickSingle(ge,ke),this.onClick.emit({originalEvent:ge,option:ke,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(ge){this.disabled||this.isOptionDisabled(ge)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(ge,ke){this.disabled||this.isOptionDisabled(ke)||this.readonly||this.onDblClick.emit({originalEvent:ge,option:ke,value:this.value})}onOptionClickSingle(ge,ke){let rt=this.isSelected(ke),yt=!1;if(!this.optionTouched&&this.metaKeySelection){let Ht=ge.metaKey||ge.ctrlKey;rt?Ht&&(this.value=null,yt=!0):(this.value=this.getOptionValue(ke),yt=!0)}else this.value=rt?null:this.getOptionValue(ke),yt=!0;yt&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:ge,value:this.value}))}onOptionClickMultiple(ge,ke){let rt=this.isSelected(ke),yt=!1;if(!this.optionTouched&&this.metaKeySelection){let Ht=ge.metaKey||ge.ctrlKey;rt?(Ht?this.removeOption(ke):this.value=[this.getOptionValue(ke)],yt=!0):(this.value=Ht&&this.value||[],this.value=[...this.value,this.getOptionValue(ke)],yt=!0)}else rt?this.removeOption(ke):this.value=[...this.value||[],this.getOptionValue(ke)],yt=!0;yt&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:ge,value:this.value}))}onOptionClickCheckbox(ge,ke){this.disabled||this.readonly||(this.isSelected(ke)?this.removeOption(ke):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(ke)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:ge,value:this.value}))}removeOption(ge){this.value=this.value.filter(ke=>!_.gb.equals(ke,this.getOptionValue(ge),this.dataKey))}isSelected(ge){let ke=!1,rt=this.getOptionValue(ge);if(this.multiple){if(this.value)for(let yt of this.value)if(_.gb.equals(yt,rt,this.dataKey)){ke=!0;break}}else ke=_.gb.equals(this.value,rt,this.dataKey);return ke}get allChecked(){let ge=this.optionsToRender;if(!ge||0===ge.length)return!1;{let ke=0,rt=0,yt=0,Pt=this.group?0:this.optionsToRender.length;for(let Ht of ge)if(this.group)for(let Ot of this.getOptionGroupChildren(Ht)){let Ye=this.isOptionDisabled(Ot),lt=this.isSelected(Ot);if(Ye)lt?ke++:rt++;else{if(!lt)return!1;yt++}Pt++}else{let Ot=this.isOptionDisabled(Ht),Ye=this.isSelected(Ht);if(Ot)Ye?ke++:rt++;else{if(!Ye)return!1;yt++}}return Pt===ke||Pt===yt||yt&&Pt===yt+rt+ke}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(u.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(u.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilter(ge){this._filterValue=ge.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let ge=(this.filterBy||this.optionLabel||"label").split(","),ke=[];for(let rt of this.options){let yt=this.filterService.filter(this.getOptionGroupChildren(rt),ge,this.filterValue,this.filterMatchMode,this.filterLocale);yt&&yt.length&&ke.push(Object.assign(Object.assign({},rt),{[this.optionGroupChildren]:yt}))}this._filteredOptions=ke}else this._filteredOptions=this._options.filter(ge=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(ge),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let ge=this.optionsToRender;if(!ge||0===ge.length)return!0;for(let ke of ge)if(!this.isOptionDisabled(ke))return!1;return!0}toggleAll(ge){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:ge,value:this.value}),ge.preventDefault())}checkAll(){let ke=[];this.optionsToRender.forEach(rt=>{if(this.group){let yt=this.getOptionGroupChildren(rt);yt&&yt.forEach(Pt=>{let Ht=this.isOptionDisabled(Pt);(!Ht||Ht&&this.isSelected(Pt))&&ke.push(this.getOptionValue(Pt))})}else{let yt=this.isOptionDisabled(rt);(!yt||yt&&this.isSelected(rt))&&ke.push(this.getOptionValue(rt))}}),this.value=ke}uncheckAll(){let ke=[];this.optionsToRender.forEach(rt=>{this.group?rt.items&&rt.items.forEach(yt=>{this.isOptionDisabled(yt)&&this.isSelected(yt)&&ke.push(this.getOptionValue(yt))}):this.isOptionDisabled(rt)&&this.isSelected(rt)&&ke.push(this.getOptionValue(rt))}),this.value=ke}onOptionKeyDown(ge,ke){if(this.readonly)return;let rt=ge.currentTarget;switch(ge.which){case 40:var yt=this.findNextItem(rt);yt&&yt.focus(),ge.preventDefault();break;case 38:var Pt=this.findPrevItem(rt);Pt&&Pt.focus(),ge.preventDefault();break;case 13:this.onOptionClick(ge,ke),ge.preventDefault()}}findNextItem(ge){let ke=ge.nextElementSibling;return ke?f.p.hasClass(ke,"p-disabled")||f.p.isHidden(ke)||f.p.hasClass(ke,"p-listbox-item-group")?this.findNextItem(ke):ke:null}findPrevItem(ge){let ke=ge.previousElementSibling;return ke?f.p.hasClass(ke,"p-disabled")||f.p.isHidden(ke)||f.p.hasClass(ke,"p-listbox-item-group")?this.findPrevItem(ke):ke:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return st.\u0275fac=function(ge){return new(ge||st)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(u.iZ),e.Y36(u.b4))},st.\u0275cmp=e.Xpm({type:st,selectors:[["p-listbox"]],contentQueries:function(ge,ke,rt){if(1&ge&&(e.Suo(rt,u.h4,5),e.Suo(rt,u.$_,5),e.Suo(rt,u.jx,4)),2&ge){let yt;e.iGM(yt=e.CRH())&&(ke.headerFacet=yt.first),e.iGM(yt=e.CRH())&&(ke.footerFacet=yt.first),e.iGM(yt=e.CRH())&&(ke.templates=yt)}},viewQuery:function(ge,ke){if(1&ge&&(e.Gf(r,5),e.Gf(R,5)),2&ge){let rt;e.iGM(rt=e.CRH())&&(ke.headerCheckboxViewChild=rt.first),e.iGM(rt=e.CRH())&&(ke.filterViewChild=rt.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[e._Bn([Rt])],ngContentSelectors:ht,decls:12,vars:18,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-empty-message",4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(ge,ke){1&ge&&(e.F$t(et),e.TgZ(0,"div",0),e.YNc(1,Q,3,1,"div",1),e.YNc(2,V,5,3,"div",1),e.TgZ(3,"div",0)(4,"ul",2),e.YNc(5,G,2,1,"ng-container",3),e.YNc(6,Ce,2,4,"ng-container",3),e.YNc(7,qe,1,1,"ng-template",null,4,e.W1O),e.YNc(9,X,3,3,"li",5),e.YNc(10,Ie,3,3,"li",5),e.qZA()(),e.YNc(11,dt,3,1,"div",6),e.qZA()),2&ge&&(e.Tol(ke.styleClass),e.Q6J("ngClass",e.VKq(16,vt,ke.disabled))("ngStyle",ke.style),e.xp6(1),e.Q6J("ngIf",ke.headerFacet||ke.headerTemplate),e.xp6(1),e.Q6J("ngIf",ke.checkbox&&ke.multiple&&ke.showToggleAll||ke.filter),e.xp6(1),e.Tol(ke.listStyleClass),e.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",ke.listStyle),e.xp6(1),e.uIk("aria-multiselectable",ke.multiple),e.xp6(1),e.Q6J("ngIf",ke.group),e.xp6(1),e.Q6J("ngIf",!ke.group),e.xp6(3),e.Q6J("ngIf",ke.hasFilter()&&ke.isEmpty()),e.xp6(1),e.Q6J("ngIf",!ke.hasFilter()&&ke.isEmpty()),e.xp6(1),e.Q6J("ngIf",ke.footerFacet||ke.footerTemplate))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,x.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),st})(),At=(()=>{class st{}return st.\u0275fac=function(ge){return new(ge||st)},st.\u0275mod=e.oAB({type:st}),st.\u0275inj=e.cJS({imports:[d.ez,u.m8,x.T,u.m8]}),st})()},1874:(hn,ft,b)=>{"use strict";b.d(ft,{$9:()=>dt,v2:()=>ct});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(5921),P=b(3470),x=b(5787),r=b(4119),R=b(9783);const L=["pMenuItemContent",""];function Q(et,vt){if(1&et&&e._UZ(0,"span",7),2&et){const ht=e.oxw(2);e.Tol(ht.item.iconClass),e.Q6J("ngClass",ht.item.icon)("ngStyle",ht.item.iconStyle)}}function N(et,vt){if(1&et&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&et){const ht=e.oxw(2);e.xp6(1),e.Oqu(ht.item.label)}}function T(et,vt){if(1&et&&e._UZ(0,"span",9),2&et){const ht=e.oxw(2);e.Q6J("innerHTML",ht.item.label,e.oJD)}}function y(et,vt){if(1&et&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&et){const ht=e.oxw(2);e.Q6J("ngClass",ht.item.badgeStyleClass),e.xp6(1),e.Oqu(ht.item.badge)}}const E=function(et){return{"p-disabled":et}};function D(et,vt){if(1&et){const ht=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown",function(Nt){e.CHM(ht);const At=e.oxw();return e.KtG(At.onItemKeyDown(Nt))})("click",function(Nt){e.CHM(ht);const At=e.oxw();return e.KtG(At.menu.itemClick(Nt,At.item))}),e.YNc(1,Q,1,4,"span",3),e.YNc(2,N,2,1,"span",4),e.YNc(3,T,1,1,"ng-template",null,5,e.W1O),e.YNc(5,y,2,2,"span",6),e.qZA()}if(2&et){const ht=e.MAs(4),Rt=e.oxw();e.Q6J("target",Rt.item.target)("ngClass",e.VKq(12,E,Rt.item.disabled))("target",Rt.item.target),e.uIk("href",Rt.item.url||null,e.LSH)("tabindex",Rt.item.disabled?null:"0")("data-automationid",Rt.item.automationId)("title",Rt.item.title)("id",Rt.item.id),e.xp6(1),e.Q6J("ngIf",Rt.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Rt.item.escape)("ngIfElse",ht),e.xp6(3),e.Q6J("ngIf",Rt.item.badge)}}function U(et,vt){if(1&et&&e._UZ(0,"span",14),2&et){const ht=e.oxw(2);e.Q6J("ngClass",ht.item.icon)}}function B(et,vt){if(1&et&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&et){const ht=e.oxw(2);e.xp6(1),e.Oqu(ht.item.label)}}function ce(et,vt){if(1&et&&e._UZ(0,"span",9),2&et){const ht=e.oxw(2);e.Q6J("innerHTML",ht.item.label,e.oJD)}}function $(et,vt){if(1&et&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&et){const ht=e.oxw(2);e.Q6J("ngClass",ht.item.badgeStyleClass),e.xp6(1),e.Oqu(ht.item.badge)}}const V=function(){return{exact:!1}};function k(et,vt){if(1&et){const ht=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(Nt){e.CHM(ht);const At=e.oxw();return e.KtG(At.onItemKeyDown(Nt))})("click",function(Nt){e.CHM(ht);const At=e.oxw();return e.KtG(At.menu.itemClick(Nt,At.item))}),e.YNc(1,U,1,1,"span",12),e.YNc(2,B,2,1,"span",4),e.YNc(3,ce,1,1,"ng-template",null,13,e.W1O),e.YNc(5,$,2,2,"span",6),e.qZA()}if(2&et){const ht=e.MAs(4),Rt=e.oxw();e.Q6J("routerLink",Rt.item.routerLink)("queryParams",Rt.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Rt.item.routerLinkActiveOptions||e.DdM(20,V))("target",Rt.item.target)("ngClass",e.VKq(21,E,Rt.item.disabled))("fragment",Rt.item.fragment)("queryParamsHandling",Rt.item.queryParamsHandling)("preserveFragment",Rt.item.preserveFragment)("skipLocationChange",Rt.item.skipLocationChange)("replaceUrl",Rt.item.replaceUrl)("state",Rt.item.state),e.uIk("data-automationid",Rt.item.automationId)("id",Rt.item.id)("tabindex",Rt.item.disabled?null:"0")("title",Rt.item.title),e.xp6(1),e.Q6J("ngIf",Rt.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Rt.item.escape)("ngIfElse",ht),e.xp6(3),e.Q6J("ngIf",Rt.item.badge)}}const O=["container"],K=function(et){return{"p-hidden":et}};function ue(et,vt){if(1&et&&e._UZ(0,"li",8),2&et){const ht=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,K,!1===ht.visible))}}function q(et,vt){if(1&et&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&et){const ht=e.oxw(2).$implicit;e.xp6(1),e.Oqu(ht.label)}}function G(et,vt){if(1&et&&e._UZ(0,"span",12),2&et){const ht=e.oxw(2).$implicit;e.Q6J("innerHTML",ht.label,e.oJD)}}const ne=function(et,vt){return{"p-hidden":et,flex:vt}};function Ce(et,vt){if(1&et&&(e.TgZ(0,"li",9),e.YNc(1,q,2,1,"span",10),e.YNc(2,G,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&et){const ht=e.MAs(3),Rt=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(5,ne,!1===Rt.visible,Rt.visible))("tooltipOptions",Rt.tooltipOptions),e.uIk("data-automationid",Rt.automationId),e.xp6(1),e.Q6J("ngIf",!1!==Rt.escape)("ngIfElse",ht)}}function oe(et,vt){if(1&et&&e._UZ(0,"li",8),2&et){const ht=e.oxw().$implicit,Rt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,K,!1===ht.visible||!1===Rt.visible))}}function z(et,vt){if(1&et&&e._UZ(0,"li",14),2&et){const ht=e.oxw().$implicit,Rt=e.oxw().$implicit;e.Tol(ht.styleClass),e.Q6J("pMenuItemContent",ht)("ngClass",e.VKq(6,K,!1===ht.visible||!1===Rt.visible))("ngStyle",ht.style)("tooltipOptions",ht.tooltipOptions)}}function te(et,vt){if(1&et&&(e.YNc(0,oe,1,3,"li",6),e.YNc(1,z,1,8,"li",13)),2&et){const ht=vt.$implicit;e.Q6J("ngIf",ht.separator),e.xp6(1),e.Q6J("ngIf",!ht.separator)}}function W(et,vt){if(1&et&&(e.YNc(0,ue,1,3,"li",6),e.YNc(1,Ce,4,8,"li",7),e.YNc(2,te,2,2,"ng-template",5)),2&et){const ht=vt.$implicit;e.Q6J("ngIf",ht.separator),e.xp6(1),e.Q6J("ngIf",!ht.separator),e.xp6(1),e.Q6J("ngForOf",ht.items)}}function Y(et,vt){if(1&et&&e.YNc(0,W,3,3,"ng-template",5),2&et){const ht=e.oxw(2);e.Q6J("ngForOf",ht.model)}}function Ae(et,vt){if(1&et&&e._UZ(0,"li",8),2&et){const ht=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,K,!1===ht.visible))}}function Ee(et,vt){if(1&et&&e._UZ(0,"li",14),2&et){const ht=e.oxw().$implicit;e.Tol(ht.styleClass),e.Q6J("pMenuItemContent",ht)("ngClass",e.VKq(6,K,!1===ht.visible))("ngStyle",ht.style)("tooltipOptions",ht.tooltipOptions)}}function qe(et,vt){if(1&et&&(e.YNc(0,Ae,1,3,"li",6),e.YNc(1,Ee,1,8,"li",13)),2&et){const ht=vt.$implicit;e.Q6J("ngIf",ht.separator),e.xp6(1),e.Q6J("ngIf",!ht.separator)}}function ye(et,vt){if(1&et&&e.YNc(0,qe,2,2,"ng-template",5),2&et){const ht=e.oxw(2);e.Q6J("ngForOf",ht.model)}}const Ge=function(et){return{"p-menu p-component":!0,"p-menu-overlay":et}},X=function(et,vt){return{showTransitionParams:et,hideTransitionParams:vt}},be=function(et){return{value:"visible",params:et}};function we(et,vt){if(1&et){const ht=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(Nt){e.CHM(ht);const At=e.oxw();return e.KtG(At.onOverlayClick(Nt))})("@overlayAnimation.start",function(Nt){e.CHM(ht);const At=e.oxw();return e.KtG(At.onOverlayAnimationStart(Nt))})("@overlayAnimation.done",function(Nt){e.CHM(ht);const At=e.oxw();return e.KtG(At.onOverlayAnimationEnd(Nt))}),e.TgZ(2,"ul",3),e.YNc(3,Y,1,1,null,4),e.YNc(4,ye,1,1,null,4),e.qZA()()}if(2&et){const ht=e.oxw();e.Tol(ht.styleClass),e.Q6J("ngClass",e.VKq(8,Ge,ht.popup))("ngStyle",ht.style)("@overlayAnimation",e.VKq(13,be,e.WLB(10,X,ht.showTransitionOptions,ht.hideTransitionOptions)))("@.disabled",!0!==ht.popup),e.xp6(3),e.Q6J("ngIf",ht.hasSubMenu()),e.xp6(1),e.Q6J("ngIf",!ht.hasSubMenu())}}let Ie=(()=>{class et{constructor(ht){this.menu=ht}onItemKeyDown(ht){let Rt=ht.currentTarget.parentElement;switch(ht.code){case"ArrowDown":var Nt=this.findNextItem(Rt);Nt&&Nt.children[0].focus(),ht.preventDefault();break;case"ArrowUp":var At=this.findPrevItem(Rt);At&&At.children[0].focus(),ht.preventDefault();break;case"Space":case"Enter":Rt&&!f.p.hasClass(Rt,"p-disabled")&&Rt.children[0].click(),ht.preventDefault()}}findNextItem(ht){let Rt=ht.nextElementSibling;return Rt?f.p.hasClass(Rt,"p-disabled")||!f.p.hasClass(Rt,"p-menuitem")?this.findNextItem(Rt):Rt:null}findPrevItem(ht){let Rt=ht.previousElementSibling;return Rt?f.p.hasClass(Rt,"p-disabled")||!f.p.hasClass(Rt,"p-menuitem")?this.findPrevItem(Rt):Rt:null}}return et.\u0275fac=function(ht){return new(ht||et)(e.Y36((0,e.Gpc)(()=>ct)))},et.\u0275cmp=e.Xpm({type:et,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:L,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(ht,Rt){1&ht&&(e.YNc(0,D,6,14,"a",0),e.YNc(1,k,6,23,"a",1)),2&ht&&(e.Q6J("ngIf",!Rt.item.routerLink),e.xp6(1),e.Q6J("ngIf",Rt.item.routerLink))},dependencies:[u.mk,u.O5,u.PC,P.yS,P.Od,x.H],encapsulation:2}),et})(),ct=(()=>{class et{constructor(ht,Rt,Nt,At,st){this.el=ht,this.renderer=Rt,this.cd=Nt,this.config=At,this.overlayService=st,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe}toggle(ht){this.visible?this.hide():this.show(ht),this.preventDocumentDefault=!0}show(ht){this.target=ht.currentTarget,this.relativeAlign=ht.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(ht){switch(ht.toState){case"visible":this.popup&&(this.container=ht.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(ht){"void"===ht.toState&&this.autoZIndex&&_.P9.clear(ht.element)}alignOverlay(){this.relativeAlign?f.p.relativePosition(this.container,this.target):f.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):f.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&_.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!f.p.isTouchDevice()&&this.hide()}itemClick(ht,Rt){Rt.disabled?ht.preventDefault():(!Rt.url&&!Rt.routerLink&&ht.preventDefault(),Rt.command&&Rt.command({originalEvent:ht,item:Rt}),this.popup&&this.hide())}onOverlayClick(ht){this.popup&&this.overlayService.add({originalEvent:ht,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&_.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var ht of this.model)if(ht.items)return!0;return!1}}return et.\u0275fac=function(ht){return new(ht||et)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(R.b4),e.Y36(R.F0))},et.\u0275cmp=e.Xpm({type:et,selectors:[["p-menu"]],viewQuery:function(ht,Rt){if(1&ht&&e.Gf(O,5),2&ht){let Nt;e.iGM(Nt=e.CRH())&&(Rt.containerViewChild=Nt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(ht,Rt){1&ht&&e.YNc(0,we,5,15,"div",0),2&ht&&e.Q6J("ngIf",!Rt.popup||Rt.visible)},dependencies:[u.mk,u.sg,u.O5,u.PC,r.u,Ie],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),et})(),dt=(()=>{class et{}return et.\u0275fac=function(ht){return new(ht||et)},et.\u0275mod=e.oAB({type:et}),et.\u0275inj=e.cJS({imports:[u.ez,P.Bz,x.T,r.z,P.Bz,r.z]}),et})()},7172:(hn,ft,b)=>{"use strict";b.d(ft,{W6:()=>we,nm:()=>be});var e=b(5e3),d=b(9808),u=b(5921),f=b(9783),_=b(3470),P=b(5787),x=b(4119);const r=function(Ie){return{"p-hidden":Ie}};function R(Ie,ct){if(1&Ie&&e._UZ(0,"li",4),2&Ie){const dt=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,r,!1===dt.visible))}}function L(Ie,ct){if(1&Ie&&e._UZ(0,"span",16),2&Ie){const dt=e.oxw(3).$implicit;e.Q6J("ngClass",dt.icon)("ngStyle",dt.iconStyle)}}function Q(Ie,ct){if(1&Ie&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&Ie){const dt=e.oxw(3).$implicit;e.xp6(1),e.Oqu(dt.label)}}function N(Ie,ct){if(1&Ie&&e._UZ(0,"span",18),2&Ie){const dt=e.oxw(3).$implicit;e.Q6J("innerHTML",dt.label,e.oJD)}}function T(Ie,ct){if(1&Ie&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&Ie){const dt=e.oxw(3).$implicit;e.Q6J("ngClass",dt.badgeStyleClass),e.xp6(1),e.Oqu(dt.badge)}}const y=function(Ie,ct){return{"pi-angle-down":Ie,"pi-angle-right":ct}};function E(Ie,ct){if(1&Ie&&e._UZ(0,"span",20),2&Ie){const dt=e.oxw(4);e.Q6J("ngClass",e.WLB(1,y,dt.root,!dt.root))}}const D=function(Ie){return{"p-menuitem-link":!0,"p-disabled":Ie}};function U(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(vt){e.CHM(dt);const ht=e.oxw(2).$implicit,Rt=e.oxw();return e.KtG(Rt.onItemClick(vt,ht))})("mouseenter",function(vt){e.CHM(dt);const ht=e.oxw(2).$implicit,Rt=e.oxw();return e.KtG(Rt.onItemMouseEnter(vt,ht))}),e.YNc(1,L,1,2,"span",11),e.YNc(2,Q,2,1,"span",12),e.YNc(3,N,1,1,"ng-template",null,13,e.W1O),e.YNc(5,T,2,2,"span",14),e.YNc(6,E,1,4,"span",15),e.qZA()}if(2&Ie){const dt=e.MAs(4),et=e.oxw(2).$implicit,vt=e.oxw();e.Q6J("target",et.target)("ngClass",e.VKq(14,D,et.disabled)),e.uIk("href",et.url,e.LSH)("data-automationid",et.automationId)("title",et.title)("id",et.id)("tabindex",et.disabled?null:"0")("aria-haspopup",null!=vt.item.items)("aria-expanded",vt.item===vt.activeItem),e.xp6(1),e.Q6J("ngIf",et.icon),e.xp6(1),e.Q6J("ngIf",!1!==et.escape)("ngIfElse",dt),e.xp6(3),e.Q6J("ngIf",et.badge),e.xp6(1),e.Q6J("ngIf",et.items)}}function B(Ie,ct){if(1&Ie&&e._UZ(0,"span",16),2&Ie){const dt=e.oxw(3).$implicit;e.Q6J("ngClass",dt.icon)("ngStyle",dt.iconStyle)}}function ce(Ie,ct){if(1&Ie&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&Ie){const dt=e.oxw(3).$implicit;e.xp6(1),e.Oqu(dt.label)}}function $(Ie,ct){if(1&Ie&&e._UZ(0,"span",18),2&Ie){const dt=e.oxw(3).$implicit;e.Q6J("innerHTML",dt.label,e.oJD)}}function V(Ie,ct){if(1&Ie&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&Ie){const dt=e.oxw(3).$implicit;e.Q6J("ngClass",dt.badgeStyleClass),e.xp6(1),e.Oqu(dt.badge)}}function k(Ie,ct){if(1&Ie&&e._UZ(0,"span",20),2&Ie){const dt=e.oxw(4);e.Q6J("ngClass",e.WLB(1,y,dt.root,!dt.root))}}const O=function(){return{exact:!1}};function K(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(vt){e.CHM(dt);const ht=e.oxw(2).$implicit,Rt=e.oxw();return e.KtG(Rt.onItemClick(vt,ht))})("mouseenter",function(vt){e.CHM(dt);const ht=e.oxw(2).$implicit,Rt=e.oxw();return e.KtG(Rt.onItemMouseEnter(vt,ht))}),e.YNc(1,B,1,2,"span",11),e.YNc(2,ce,2,1,"span",12),e.YNc(3,$,1,1,"ng-template",null,22,e.W1O),e.YNc(5,V,2,2,"span",14),e.YNc(6,k,1,4,"span",15),e.qZA()}if(2&Ie){const dt=e.MAs(4),et=e.oxw(2).$implicit;e.Q6J("routerLink",et.routerLink)("queryParams",et.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",et.routerLinkActiveOptions||e.DdM(21,O))("target",et.target)("ngClass",e.VKq(22,D,et.disabled))("fragment",et.fragment)("queryParamsHandling",et.queryParamsHandling)("preserveFragment",et.preserveFragment)("skipLocationChange",et.skipLocationChange)("replaceUrl",et.replaceUrl)("state",et.state),e.uIk("data-automationid",et.automationId)("title",et.title)("id",et.id)("tabindex",et.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",et.icon),e.xp6(1),e.Q6J("ngIf",!1!==et.escape)("ngIfElse",dt),e.xp6(3),e.Q6J("ngIf",et.badge),e.xp6(1),e.Q6J("ngIf",et.items)}}function ue(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"p-menubarSub",23),e.NdJ("leafClick",function(){e.CHM(dt);const vt=e.oxw(3);return e.KtG(vt.onLeafClick())}),e.qZA()}if(2&Ie){const dt=e.oxw(2).$implicit,et=e.oxw();e.Q6J("parentActive",dt===et.activeItem)("item",dt)("mobileActive",et.mobileActive)("autoDisplay",et.autoDisplay)}}const q=function(Ie,ct){return{"p-menuitem":!0,"p-menuitem-active":Ie,"p-hidden":ct}};function G(Ie,ct){if(1&Ie&&(e.TgZ(0,"li",5,6),e.YNc(2,U,7,16,"a",7),e.YNc(3,K,7,24,"a",8),e.YNc(4,ue,1,4,"p-menubarSub",9),e.qZA()),2&Ie){const dt=e.oxw().$implicit,et=e.oxw();e.Tol(dt.styleClass),e.Q6J("ngClass",e.WLB(8,q,dt===et.activeItem,!1===dt.visible))("ngStyle",dt.style)("tooltipOptions",dt.tooltipOptions),e.xp6(2),e.Q6J("ngIf",!dt.routerLink),e.xp6(1),e.Q6J("ngIf",dt.routerLink),e.xp6(1),e.Q6J("ngIf",dt.items)}}function ne(Ie,ct){if(1&Ie&&(e.YNc(0,R,1,3,"li",2),e.YNc(1,G,5,11,"li",3)),2&Ie){const dt=ct.$implicit;e.Q6J("ngIf",dt.separator),e.xp6(1),e.Q6J("ngIf",!dt.separator)}}const Ce=function(Ie,ct){return{"p-submenu-list":Ie,"p-menubar-root-list":ct}},oe=["menubutton"],z=["rootmenu"];function te(Ie,ct){1&Ie&&e.GkF(0)}function W(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",7),e.YNc(1,te,1,0,"ng-container",8),e.qZA()),2&Ie){const dt=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",dt.startTemplate)}}function Y(Ie,ct){if(1&Ie){const dt=e.EpF();e.TgZ(0,"a",9,10),e.NdJ("click",function(vt){e.CHM(dt);const ht=e.oxw();return e.KtG(ht.toggle(vt))}),e._UZ(2,"i",11),e.qZA()}}function Ae(Ie,ct){1&Ie&&e.GkF(0)}function Ee(Ie,ct){if(1&Ie&&(e.TgZ(0,"div",12),e.YNc(1,Ae,1,0,"ng-container",8),e.qZA()),2&Ie){const dt=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",dt.endTemplate)}}function qe(Ie,ct){1&Ie&&(e.TgZ(0,"div",12),e.Hsn(1),e.qZA())}const ye=function(Ie){return{"p-menubar p-component":!0,"p-menubar-mobile-active":Ie}},Ge=["*"];let X=(()=>{class Ie{constructor(dt,et,vt){this.el=dt,this.renderer=et,this.cd=vt,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new e.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(dt){this.root||(this._parentActive=dt,dt||(this.activeItem=null))}onItemClick(dt,et){et.disabled?dt.preventDefault():(!et.url&&!et.routerLink&&dt.preventDefault(),et.command&&et.command({originalEvent:dt,item:et}),et.items&&(this.activeItem&&et===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=et,this.root&&this.bindDocumentClickListener())),et.items||this.onLeafClick())}onItemMouseEnter(dt,et){et.disabled||this.mobileActive?dt.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=et,this.bindDocumentClickListener()):(this.activeItem=et,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=dt=>{this.el&&!this.el.nativeElement.contains(dt.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return Ie.\u0275fac=function(dt){return new(dt||Ie)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},Ie.\u0275cmp=e.Xpm({type:Ie,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(dt,et){1&dt&&(e.TgZ(0,"ul",0),e.YNc(1,ne,2,2,"ng-template",1),e.qZA()),2&dt&&(e.Q6J("ngClass",e.WLB(3,Ce,!et.root,et.root)),e.uIk("role",et.root?"menubar":"menu"),e.xp6(1),e.Q6J("ngForOf",et.root?et.item:et.item.items))},dependencies:[d.mk,d.sg,d.O5,d.PC,_.yS,_.Od,P.H,x.u,Ie],encapsulation:2}),Ie})(),be=(()=>{class Ie{constructor(dt,et,vt,ht){this.el=dt,this.renderer=et,this.cd=vt,this.config=ht,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(dt=>{switch(dt.getType()){case"start":this.startTemplate=dt.template;break;case"end":this.endTemplate=dt.template}})}toggle(dt){this.mobileActive?(this.hide(),u.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,u.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),dt.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=dt=>{this.mobileActive&&this.rootmenu.el.nativeElement!==dt.target&&!this.rootmenu.el.nativeElement.contains(dt.target)&&this.menubutton.nativeElement!==dt.target&&!this.menubutton.nativeElement.contains(dt.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),u.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return Ie.\u0275fac=function(dt){return new(dt||Ie)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(f.b4))},Ie.\u0275cmp=e.Xpm({type:Ie,selectors:[["p-menubar"]],contentQueries:function(dt,et,vt){if(1&dt&&e.Suo(vt,f.jx,4),2&dt){let ht;e.iGM(ht=e.CRH())&&(et.templates=ht)}},viewQuery:function(dt,et){if(1&dt&&(e.Gf(oe,5),e.Gf(z,5)),2&dt){let vt;e.iGM(vt=e.CRH())&&(et.menubutton=vt.first),e.iGM(vt=e.CRH())&&(et.rootmenu=vt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:Ge,decls:8,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","class","p-menubar-button",3,"click",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-menubar-end"]],template:function(dt,et){if(1&dt&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,W,2,1,"div",1),e.YNc(2,Y,3,0,"a",2),e.TgZ(3,"p-menubarSub",3,4),e.NdJ("leafClick",function(){return et.onLeafClick()}),e.qZA(),e.YNc(5,Ee,2,1,"div",5),e.YNc(6,qe,2,0,"ng-template",null,6,e.W1O),e.qZA()),2&dt){const vt=e.MAs(7);e.Tol(et.styleClass),e.Q6J("ngClass",e.VKq(13,ye,et.mobileActive))("ngStyle",et.style),e.xp6(1),e.Q6J("ngIf",et.startTemplate),e.xp6(1),e.Q6J("ngIf",et.model&&et.model.length>0),e.xp6(1),e.Q6J("item",et.model)("baseZIndex",et.baseZIndex)("autoZIndex",et.autoZIndex)("mobileActive",et.mobileActive)("autoDisplay",et.autoDisplay),e.xp6(2),e.Q6J("ngIf",et.endTemplate)("ngIfElse",vt)}},dependencies:[d.mk,d.O5,d.tP,d.PC,X],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),Ie})(),we=(()=>{class Ie{}return Ie.\u0275fac=function(dt){return new(dt||Ie)},Ie.\u0275mod=e.oAB({type:Ie}),Ie.\u0275inj=e.cJS({imports:[d.ez,_.Bz,P.T,x.z,f.m8,_.Bz,x.z,f.m8]}),Ie})()},6526:(hn,ft,b)=>{"use strict";b.d(ft,{NU:()=>$t,q4:()=>gn});var e=b(9808),d=b(5e3),u=b(2382),f=b(9783),_=b(5730),P=b(8050),x=b(5787),r=b(5871),R=b(4119),L=b(5921);function Q(Gt,Mn){if(1&Gt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Gt){const Ut=d.oxw();d.xp6(1),d.Oqu(Ut.label)}}function N(Gt,Mn){1&Gt&&d.GkF(0)}const T=function(Gt){return{height:Gt}},y=function(Gt,Mn){return{"p-highlight":Gt,"p-disabled":Mn}},E=function(Gt){return{"p-highlight":Gt}},D=function(Gt){return{"pi pi-check":Gt}},U=function(Gt){return{$implicit:Gt}},B=["container"],ce=["overlay"],$=["filterInput"],V=["in"],k=["items"],O=["scroller"];function K(Gt,Mn){if(1&Gt&&(d.ynx(0),d._uU(1),d.BQk()),2&Gt){const Ut=d.oxw(2);d.xp6(1),d.Oqu(Ut.valuesAsString||"empty")}}function ue(Gt,Mn){if(1&Gt){const Ut=d.EpF();d.TgZ(0,"span",20),d.NdJ("click",function(Bn){d.CHM(Ut);const Vn=d.oxw().$implicit,ai=d.oxw(3);return d.KtG(ai.removeChip(Vn,Bn))}),d.qZA()}}function q(Gt,Mn){if(1&Gt&&(d.TgZ(0,"div",16,17)(2,"span",18),d._uU(3),d.qZA(),d.YNc(4,ue,1,0,"span",19),d.qZA()),2&Gt){const Ut=Mn.$implicit,rn=d.oxw(3);d.xp6(3),d.Oqu(rn.findLabelByValue(Ut)),d.xp6(1),d.Q6J("ngIf",!rn.disabled)}}function G(Gt,Mn){if(1&Gt&&(d.ynx(0),d._uU(1),d.BQk()),2&Gt){const Ut=d.oxw(3);d.xp6(1),d.Oqu(Ut.placeholder||Ut.defaultLabel||"empty")}}function ne(Gt,Mn){if(1&Gt&&(d.ynx(0),d.YNc(1,q,5,2,"div",15),d.YNc(2,G,2,1,"ng-container",7),d.BQk()),2&Gt){const Ut=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",Ut.value),d.xp6(1),d.Q6J("ngIf",!Ut.value||0===Ut.value.length)}}function Ce(Gt,Mn){if(1&Gt&&(d.ynx(0),d.YNc(1,K,2,1,"ng-container",7),d.YNc(2,ne,3,2,"ng-container",7),d.BQk()),2&Gt){const Ut=d.oxw();d.xp6(1),d.Q6J("ngIf","comma"===Ut.display),d.xp6(1),d.Q6J("ngIf","chip"===Ut.display)}}function oe(Gt,Mn){1&Gt&&d.GkF(0)}function z(Gt,Mn){if(1&Gt){const Ut=d.EpF();d.TgZ(0,"i",21),d.NdJ("click",function(Bn){d.CHM(Ut);const Vn=d.oxw();return d.KtG(Vn.clear(Bn))}),d.qZA()}}function te(Gt,Mn){1&Gt&&d.GkF(0)}function W(Gt,Mn){1&Gt&&d.GkF(0)}const Y=function(Gt){return{options:Gt}};function Ae(Gt,Mn){if(1&Gt&&(d.ynx(0),d.YNc(1,W,1,0,"ng-container",8),d.BQk()),2&Gt){const Ut=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",Ut.filterTemplate)("ngTemplateOutletContext",d.VKq(2,Y,Ut.filterOptions))}}const Ee=function(Gt){return{"p-checkbox-disabled":Gt}},qe=function(Gt,Mn,Ut){return{"p-highlight":Gt,"p-focus":Mn,"p-disabled":Ut}};function ye(Gt,Mn){if(1&Gt){const Ut=d.EpF();d.TgZ(0,"div",36)(1,"div",2)(2,"input",37),d.NdJ("focus",function(){d.CHM(Ut);const Bn=d.oxw(4);return d.KtG(Bn.onHeaderCheckboxFocus())})("blur",function(){d.CHM(Ut);const Bn=d.oxw(4);return d.KtG(Bn.onHeaderCheckboxBlur())})("keydown.space",function(Bn){d.CHM(Ut);const Vn=d.oxw(4);return d.KtG(Vn.toggleAll(Bn))}),d.qZA()(),d.TgZ(3,"div",38),d.NdJ("click",function(Bn){d.CHM(Ut);const Vn=d.oxw(4);return d.KtG(Vn.toggleAll(Bn))}),d._UZ(4,"span",39),d.qZA()()}if(2&Gt){const Ut=d.oxw(4);d.Q6J("ngClass",d.VKq(6,Ee,Ut.disabled||Ut.toggleAllDisabled)),d.xp6(2),d.Q6J("checked",Ut.allChecked)("disabled",Ut.disabled||Ut.toggleAllDisabled),d.xp6(1),d.Q6J("ngClass",d.kEZ(8,qe,Ut.allChecked,Ut.headerCheckboxFocus,Ut.disabled||Ut.toggleAllDisabled)),d.uIk("aria-checked",Ut.allChecked),d.xp6(1),d.Q6J("ngClass",d.VKq(12,D,Ut.allChecked))}}function Ge(Gt,Mn){if(1&Gt){const Ut=d.EpF();d.TgZ(0,"div",40)(1,"input",41,42),d.NdJ("input",function(Bn){d.CHM(Ut);const Vn=d.oxw(4);return d.KtG(Vn.onFilterInputChange(Bn))}),d.qZA(),d._UZ(3,"span",43),d.qZA()}if(2&Gt){const Ut=d.oxw(4);d.xp6(1),d.Q6J("value",Ut.filterValue||"")("disabled",Ut.disabled),d.uIk("autocomplete",Ut.autocomplete)("placeholder",Ut.filterPlaceHolder)("aria-label",Ut.ariaFilterLabel)}}function X(Gt,Mn){if(1&Gt){const Ut=d.EpF();d.YNc(0,ye,5,14,"div",32),d.YNc(1,Ge,4,5,"div",33),d.TgZ(2,"button",34),d.NdJ("click",function(Bn){d.CHM(Ut);const Vn=d.oxw(3);return d.KtG(Vn.close(Bn))}),d._UZ(3,"span",35),d.qZA()}if(2&Gt){const Ut=d.oxw(3);d.Q6J("ngIf",Ut.showToggleAll&&!Ut.selectionLimit),d.xp6(1),d.Q6J("ngIf",Ut.filter)}}function be(Gt,Mn){if(1&Gt&&(d.TgZ(0,"div",28),d.Hsn(1),d.YNc(2,te,1,0,"ng-container",29),d.YNc(3,Ae,2,4,"ng-container",30),d.YNc(4,X,4,2,"ng-template",null,31,d.W1O),d.qZA()),2&Gt){const Ut=d.MAs(5),rn=d.oxw(2);d.xp6(2),d.Q6J("ngTemplateOutlet",rn.headerTemplate),d.xp6(1),d.Q6J("ngIf",rn.filterTemplate)("ngIfElse",Ut)}}function we(Gt,Mn){1&Gt&&d.GkF(0)}const Ie=function(Gt,Mn){return{$implicit:Gt,options:Mn}};function ct(Gt,Mn){if(1&Gt&&d.YNc(0,we,1,0,"ng-container",8),2&Gt){const Ut=Mn.$implicit,rn=Mn.options;d.oxw(2);const Bn=d.MAs(6);d.Q6J("ngTemplateOutlet",Bn)("ngTemplateOutletContext",d.WLB(2,Ie,Ut,rn))}}function dt(Gt,Mn){1&Gt&&d.GkF(0)}function et(Gt,Mn){if(1&Gt&&d.YNc(0,dt,1,0,"ng-container",8),2&Gt){const Ut=Mn.options,rn=d.oxw(4);d.Q6J("ngTemplateOutlet",rn.loaderTemplate)("ngTemplateOutletContext",d.VKq(2,Y,Ut))}}function vt(Gt,Mn){1&Gt&&(d.ynx(0),d.YNc(1,et,1,4,"ng-template",46),d.BQk())}function ht(Gt,Mn){if(1&Gt){const Ut=d.EpF();d.TgZ(0,"p-scroller",44,45),d.NdJ("onLazyLoad",function(Bn){d.CHM(Ut);const Vn=d.oxw(2);return d.KtG(Vn.onLazyLoad.emit(Bn))}),d.YNc(2,ct,1,5,"ng-template",14),d.YNc(3,vt,2,0,"ng-container",7),d.qZA()}if(2&Gt){const Ut=d.oxw(2);d.Akn(d.VKq(9,T,Ut.scrollHeight)),d.Q6J("items",Ut.optionsToRender)("itemSize",Ut.virtualScrollItemSize||Ut._itemSize)("autoSize",!0)("tabindex",-1)("lazy",Ut.lazy)("options",Ut.virtualScrollOptions),d.xp6(3),d.Q6J("ngIf",Ut.loaderTemplate)}}function Rt(Gt,Mn){1&Gt&&d.GkF(0)}const Nt=function(){return{}};function At(Gt,Mn){if(1&Gt&&(d.ynx(0),d.YNc(1,Rt,1,0,"ng-container",8),d.BQk()),2&Gt){d.oxw();const Ut=d.MAs(6),rn=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",Ut)("ngTemplateOutletContext",d.WLB(3,Ie,rn.optionsToRender,d.DdM(2,Nt)))}}function st(Gt,Mn){if(1&Gt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Gt){const Ut=d.oxw().$implicit,rn=d.oxw(4);d.xp6(1),d.Oqu(rn.getOptionGroupLabel(Ut)||"empty")}}function ot(Gt,Mn){1&Gt&&d.GkF(0)}function ge(Gt,Mn){1&Gt&&d.GkF(0)}function ke(Gt,Mn){if(1&Gt&&(d.TgZ(0,"li",52),d.YNc(1,st,2,1,"span",7),d.YNc(2,ot,1,0,"ng-container",8),d.qZA(),d.YNc(3,ge,1,0,"ng-container",8)),2&Gt){const Ut=Mn.$implicit,rn=d.oxw(2).options,Bn=d.MAs(5),Vn=d.oxw(2);d.Q6J("ngStyle",d.VKq(6,T,rn.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!Vn.groupTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",Vn.groupTemplate)("ngTemplateOutletContext",d.VKq(8,U,Ut)),d.xp6(1),d.Q6J("ngTemplateOutlet",Bn)("ngTemplateOutletContext",d.VKq(10,U,Vn.getOptionGroupChildren(Ut)))}}function rt(Gt,Mn){if(1&Gt&&(d.ynx(0),d.YNc(1,ke,4,12,"ng-template",51),d.BQk()),2&Gt){const Ut=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",Ut)}}function yt(Gt,Mn){1&Gt&&d.GkF(0)}function Pt(Gt,Mn){if(1&Gt&&(d.ynx(0),d.YNc(1,yt,1,0,"ng-container",8),d.BQk()),2&Gt){const Ut=d.oxw().$implicit,rn=d.MAs(5);d.xp6(1),d.Q6J("ngTemplateOutlet",rn)("ngTemplateOutletContext",d.VKq(2,U,Ut))}}function Ht(Gt,Mn){if(1&Gt){const Ut=d.EpF();d.TgZ(0,"p-multiSelectItem",53),d.NdJ("onClick",function(Bn){d.CHM(Ut);const Vn=d.oxw(4);return d.KtG(Vn.onOptionClick(Bn))})("onKeydown",function(Bn){d.CHM(Ut);const Vn=d.oxw(4);return d.KtG(Vn.onOptionKeydown(Bn))}),d.qZA()}if(2&Gt){const Ut=Mn.$implicit,rn=d.oxw(2).options,Bn=d.oxw(2);d.Q6J("option",Ut)("selected",Bn.isSelected(Ut))("label",Bn.getOptionLabel(Ut))("disabled",Bn.isOptionDisabled(Ut))("template",Bn.itemTemplate)("itemSize",rn.itemSize)}}function Ot(Gt,Mn){1&Gt&&d.YNc(0,Ht,1,6,"ng-template",51),2&Gt&&d.Q6J("ngForOf",Mn.$implicit)}function Ye(Gt,Mn){if(1&Gt&&(d.ynx(0),d._uU(1),d.BQk()),2&Gt){const Ut=d.oxw(4);d.xp6(1),d.hij(" ",Ut.emptyFilterMessageLabel," ")}}function lt(Gt,Mn){1&Gt&&d.GkF(0,null,55)}function Ke(Gt,Mn){if(1&Gt&&(d.TgZ(0,"li",54),d.YNc(1,Ye,2,1,"ng-container",30),d.YNc(2,lt,2,0,"ng-container",29),d.qZA()),2&Gt){const Ut=d.oxw().options,rn=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,T,Ut.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!rn.emptyFilterTemplate&&!rn.emptyTemplate)("ngIfElse",rn.emptyFilter),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.emptyFilterTemplate||rn.emptyTemplate)}}function Tt(Gt,Mn){if(1&Gt&&(d.ynx(0),d._uU(1),d.BQk()),2&Gt){const Ut=d.oxw(4);d.xp6(1),d.hij(" ",Ut.emptyMessageLabel," ")}}function se(Gt,Mn){1&Gt&&d.GkF(0,null,56)}function Fe(Gt,Mn){if(1&Gt&&(d.TgZ(0,"li",54),d.YNc(1,Tt,2,1,"ng-container",30),d.YNc(2,se,2,0,"ng-container",29),d.qZA()),2&Gt){const Ut=d.oxw().options,rn=d.oxw(2);d.Q6J("ngStyle",d.VKq(4,T,Ut.itemSize+"px")),d.xp6(1),d.Q6J("ngIf",!rn.emptyTemplate)("ngIfElse",rn.empty),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.emptyTemplate)}}function he(Gt,Mn){if(1&Gt&&(d.TgZ(0,"ul",47,48),d.YNc(2,rt,2,1,"ng-container",7),d.YNc(3,Pt,2,4,"ng-container",7),d.YNc(4,Ot,1,1,"ng-template",null,49,d.W1O),d.YNc(6,Ke,3,6,"li",50),d.YNc(7,Fe,3,6,"li",50),d.qZA()),2&Gt){const Ut=Mn.options,rn=d.oxw(2);d.Akn(Ut.contentStyle),d.Q6J("ngClass",Ut.contentStyleClass),d.xp6(2),d.Q6J("ngIf",rn.group),d.xp6(1),d.Q6J("ngIf",!rn.group),d.xp6(3),d.Q6J("ngIf",rn.hasFilter()&&rn.isEmpty()),d.xp6(1),d.Q6J("ngIf",!rn.hasFilter()&&rn.isEmpty())}}function mt(Gt,Mn){1&Gt&&d.GkF(0)}function cn(Gt,Mn){if(1&Gt&&(d.TgZ(0,"div",57),d.Hsn(1,1),d.YNc(2,mt,1,0,"ng-container",29),d.qZA()),2&Gt){const Ut=d.oxw(2);d.xp6(2),d.Q6J("ngTemplateOutlet",Ut.footerTemplate)}}const Tn=function(){return["p-multiselect-panel p-component"]};function tn(Gt,Mn){if(1&Gt){const Ut=d.EpF();d.TgZ(0,"div",22),d.NdJ("keydown",function(Bn){d.CHM(Ut);const Vn=d.oxw();return d.KtG(Vn.onKeydown(Bn))}),d.YNc(1,be,6,3,"div",23),d.TgZ(2,"div",24),d.YNc(3,ht,4,11,"p-scroller",25),d.YNc(4,At,2,6,"ng-container",7),d.YNc(5,he,8,7,"ng-template",null,26,d.W1O),d.qZA(),d.YNc(7,cn,3,1,"div",27),d.qZA()}if(2&Gt){const Ut=d.oxw();d.Tol(Ut.panelStyleClass),d.Q6J("ngClass",d.DdM(10,Tn))("ngStyle",Ut.panelStyle),d.xp6(1),d.Q6J("ngIf",Ut.showHeader),d.xp6(1),d.Udp("max-height",Ut.virtualScroll?"auto":Ut.scrollHeight||"auto"),d.xp6(1),d.Q6J("ngIf",Ut.virtualScroll),d.xp6(1),d.Q6J("ngIf",!Ut.virtualScroll),d.xp6(3),d.Q6J("ngIf",Ut.footerFacet||Ut.footerTemplate)}}const bt=[[["p-header"]],[["p-footer"]]],nt=function(Gt,Mn,Ut,rn){return{"p-multiselect p-component":!0,"p-multiselect-open":Gt,"p-multiselect-chip":Mn,"p-focus":Ut,"p-disabled":rn}},de=function(Gt,Mn){return{"p-placeholder":Gt,"p-multiselect-label-empty":Mn}},Qe=function(){return{"p-multiselect-trigger":!0}},ze=["p-header","p-footer"],kt={provide:u.JU,useExisting:(0,d.Gpc)(()=>$t),multi:!0};let Ze=(()=>{class Gt{constructor(){this.onClick=new d.vpe,this.onKeydown=new d.vpe}onOptionClick(Ut){this.onClick.emit({originalEvent:Ut,option:this.option})}onOptionKeydown(Ut){this.onKeydown.emit({originalEvent:Ut,option:this.option})}}return Gt.\u0275fac=function(Ut){return new(Ut||Gt)},Gt.\u0275cmp=d.Xpm({type:Gt,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Ut,rn){1&Ut&&(d.TgZ(0,"li",0),d.NdJ("click",function(Vn){return rn.onOptionClick(Vn)})("keydown",function(Vn){return rn.onOptionKeydown(Vn)}),d.TgZ(1,"div",1)(2,"div",2),d._UZ(3,"span",3),d.qZA()(),d.YNc(4,Q,2,1,"span",4),d.YNc(5,N,1,0,"ng-container",5),d.qZA()),2&Ut&&(d.Q6J("ngStyle",d.VKq(9,T,rn.itemSize+"px"))("ngClass",d.WLB(11,y,rn.selected,rn.disabled)),d.uIk("aria-label",rn.label)("tabindex",rn.disabled?null:"0"),d.xp6(2),d.Q6J("ngClass",d.VKq(14,E,rn.selected)),d.xp6(1),d.Q6J("ngClass",d.VKq(16,D,rn.selected)),d.xp6(1),d.Q6J("ngIf",!rn.template),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.template)("ngTemplateOutletContext",d.VKq(18,U,rn.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,x.H],encapsulation:2}),Gt})(),$t=(()=>{class Gt{constructor(Ut,rn,Bn,Vn,ai,vi,Ji){this.el=Ut,this.renderer=rn,this.cd=Bn,this.zone=Vn,this.filterService=ai,this.config=vi,this.overlayService=Ji,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new d.vpe,this.onFilter=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onClick=new d.vpe,this.onClear=new d.vpe,this.onPanelShow=new d.vpe,this.onPanelHide=new d.vpe,this.onLazyLoad=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex(Ut){this._autoZIndex=Ut,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(Ut){this._baseZIndex=Ut,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(Ut){this._showTransitionOptions=Ut,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(Ut){this._hideTransitionOptions=Ut,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(Ut){this._defaultLabel=Ut,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(Ut){this._placeholder=Ut,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(Ut){this._options=Ut,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(Ut){this._filterValue=Ut,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(Ut){this._itemSize=Ut,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:Ut=>this.onFilterInputChange(Ut),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(Ut=>{switch(Ut.getType()){case"item":default:this.itemTemplate=Ut.template;break;case"group":this.groupTemplate=Ut.template;break;case"selectedItems":this.selectedItemsTemplate=Ut.template;break;case"header":this.headerTemplate=Ut.template;break;case"filter":this.filterTemplate=Ut.template;break;case"emptyfilter":this.emptyFilterTemplate=Ut.template;break;case"empty":this.emptyTemplate=Ut.template;break;case"footer":this.footerTemplate=Ut.template;break;case"loader":this.loaderTemplate=Ut.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{var Ut;null===(Ut=this.overlayViewChild)||void 0===Ut||Ut.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(Ut){return this.optionLabel?L.gb.resolveFieldData(Ut,this.optionLabel):Ut&&null!=Ut.label?Ut.label:Ut}getOptionValue(Ut){return this.optionValue?L.gb.resolveFieldData(Ut,this.optionValue):!this.optionLabel&&Ut&&void 0!==Ut.value?Ut.value:Ut}getOptionGroupLabel(Ut){return this.optionGroupLabel?L.gb.resolveFieldData(Ut,this.optionGroupLabel):Ut&&null!=Ut.label?Ut.label:Ut}getOptionGroupChildren(Ut){return this.optionGroupChildren?L.gb.resolveFieldData(Ut,this.optionGroupChildren):Ut.items}isOptionDisabled(Ut){return(this.optionDisabled?L.gb.resolveFieldData(Ut,this.optionDisabled):!(!Ut||void 0===Ut.disabled)&&Ut.disabled)||this.maxSelectionLimitReached&&!this.isSelected(Ut)}writeValue(Ut){this.value=Ut,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(Ut){this.onModelChange=Ut}registerOnTouched(Ut){this.onModelTouched=Ut}setDisabledState(Ut){this.disabled=Ut,this.cd.markForCheck()}onOptionClick(Ut){let rn=Ut.option;if(this.isOptionDisabled(rn))return;let Bn=this.getOptionValue(rn),Vn=this.findSelectionIndex(Bn);-1!=Vn?(this.value=this.value.filter((ai,vi)=>vi!=Vn),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],Bn]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:Ut.originalEvent,value:this.value,itemValue:Bn}),this.updateLabel(),this.updateFilledState()}isSelected(Ut){return-1!=this.findSelectionIndex(this.getOptionValue(Ut))}findSelectionIndex(Ut){let rn=-1;if(this.value)for(let Bn=0;Bn<this.value.length;Bn++)if(L.gb.equals(this.value[Bn],Ut,this.dataKey)){rn=Bn;break}return rn}get toggleAllDisabled(){let Ut=this.optionsToRender;if(!Ut||0===Ut.length)return!0;for(let rn of Ut)if(!this.isOptionDisabled(rn))return!1;return!0}toggleAll(Ut){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:Ut,value:this.value}),this.updateFilledState(),this.updateLabel(),Ut.preventDefault())}checkAll(){let rn=[];this.optionsToRender.forEach(Bn=>{if(this.group){let Vn=this.getOptionGroupChildren(Bn);Vn&&Vn.forEach(ai=>{let vi=this.isOptionDisabled(ai);(!vi||vi&&this.isSelected(ai))&&rn.push(this.getOptionValue(ai))})}else{let Vn=this.isOptionDisabled(Bn);(!Vn||Vn&&this.isSelected(Bn))&&rn.push(this.getOptionValue(Bn))}}),this.value=rn}uncheckAll(){let rn=[];this.optionsToRender.forEach(Bn=>{this.group?Bn.items&&Bn.items.forEach(Vn=>{this.isOptionDisabled(Vn)&&this.isSelected(Vn)&&rn.push(this.getOptionValue(Vn))}):this.isOptionDisabled(Bn)&&this.isSelected(Bn)&&rn.push(this.getOptionValue(Bn))}),this.value=rn}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(Ut){var rn;switch(Ut.toState){case"visible":this.virtualScroll&&(null===(rn=this.scroller)||void 0===rn||rn.setContentEl(this.itemsViewChild.nativeElement)),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(Ut){this.hide(),Ut.preventDefault(),Ut.stopPropagation()}clear(Ut){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),Ut.stopPropagation()}onMouseclick(Ut,rn){var Bn,Vn,ai;this.disabled||this.readonly||Ut.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(Ut),(null===(ai=null===(Vn=null===(Bn=this.overlayViewChild)||void 0===Bn?void 0:Bn.el)||void 0===Vn?void 0:Vn.nativeElement)||void 0===ai||!ai.contains(Ut.target))&&!_.p.hasClass(Ut.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),rn.focus()))}removeChip(Ut,rn){this.value=this.value.filter(Bn=>!L.gb.equals(Bn,Ut,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:rn,value:this.value,itemValue:Ut}),this.updateLabel(),this.updateFilledState()}onInputFocus(Ut){this.focus=!0,this.onFocus.emit({originalEvent:Ut})}onInputBlur(Ut){this.focus=!1,this.onBlur.emit({originalEvent:Ut}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(Ut){if(!this.readonly)switch(Ut.originalEvent.which){case 40:var rn=this.findNextItem(Ut.originalEvent.target.parentElement);rn&&rn.focus(),Ut.originalEvent.preventDefault();break;case 38:var Bn=this.findPrevItem(Ut.originalEvent.target.parentElement);Bn&&Bn.focus(),Ut.originalEvent.preventDefault();break;case 13:this.onOptionClick(Ut),Ut.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(Ut){let rn=Ut.nextElementSibling;return rn?_.p.hasClass(rn.children[0],"p-disabled")||_.p.isHidden(rn.children[0])||_.p.hasClass(rn,"p-multiselect-item-group")?this.findNextItem(rn):rn.children[0]:null}findPrevItem(Ut){let rn=Ut.previousElementSibling;return rn?_.p.hasClass(rn.children[0],"p-disabled")||_.p.isHidden(rn.children[0])||_.p.hasClass(rn,"p-multiselect-item-group")?this.findPrevItem(rn):rn.children[0]:null}onKeydown(Ut){switch(Ut.which){case 40:!this.overlayVisible&&Ut.altKey&&(this.show(),Ut.preventDefault());break;case 32:this.overlayVisible||(this.show(),Ut.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let Ut="";for(let rn=0;rn<this.value.length;rn++){let Bn=this.findLabelByValue(this.value[rn]);Bn&&(Ut.length>0&&(Ut+=", "),Ut+=Bn)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=Ut;else{let rn=/{(.*?)}/;this.valuesAsString=rn.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(rn)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(Ut){if(this.group){let rn=null;for(let Bn=0;Bn<this.options.length;Bn++){let Vn=this.getOptionGroupChildren(this.options[Bn]);if(Vn&&(rn=this.searchLabelByValue(Ut,Vn),rn))break}return rn}return this.searchLabelByValue(Ut,this.options)}searchLabelByValue(Ut,rn){let Bn=null;for(let Vn=0;Vn<rn.length;Vn++){let ai=rn[Vn],vi=this.getOptionValue(ai);if(null==Ut&&null==vi||L.gb.equals(Ut,vi,this.dataKey)){Bn=this.getOptionLabel(ai);break}}return Bn}get allChecked(){let Ut=this.optionsToRender;if(!Ut||0===Ut.length)return!1;{let rn=0,Bn=0,Vn=0,ai=this.group?0:this.optionsToRender.length;for(let vi of Ut)if(this.group)for(let Ji of this.getOptionGroupChildren(vi)){let Qi=this.isOptionDisabled(Ji),Vo=this.isSelected(Ji);if(Qi)Vo?rn++:Bn++;else{if(!Vo)return!1;Vn++}ai++}else{let Ji=this.isOptionDisabled(vi),Qi=this.isSelected(vi);if(Ji)Qi?rn++:Bn++;else{if(!Qi)return!1;Vn++}}return ai===rn||ai===Vn||Vn&&ai===Vn+Bn+rn}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(f.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(f.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(Ut){this._filterValue=Ut.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:Ut,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let Ut=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let rn=[];for(let Bn of this.options){let Vn=this.filterService.filter(this.getOptionGroupChildren(Bn),Ut,this.filterValue,this.filterMatchMode,this.filterLocale);Vn&&Vn.length&&rn.push(Object.assign(Object.assign({},Bn),{[this.optionGroupChildren]:Vn}))}this._filteredOptions=rn}else this._filteredOptions=this.filterService.filter(this.options,Ut,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return Gt.\u0275fac=function(Ut){return new(Ut||Gt)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(f.iZ),d.Y36(f.b4),d.Y36(f.F0))},Gt.\u0275cmp=d.Xpm({type:Gt,selectors:[["p-multiSelect"]],contentQueries:function(Ut,rn,Bn){if(1&Ut&&(d.Suo(Bn,f.$_,5),d.Suo(Bn,f.h4,5),d.Suo(Bn,f.jx,4)),2&Ut){let Vn;d.iGM(Vn=d.CRH())&&(rn.footerFacet=Vn.first),d.iGM(Vn=d.CRH())&&(rn.headerFacet=Vn.first),d.iGM(Vn=d.CRH())&&(rn.templates=Vn)}},viewQuery:function(Ut,rn){if(1&Ut&&(d.Gf(B,5),d.Gf(ce,5),d.Gf($,5),d.Gf(V,5),d.Gf(k,5),d.Gf(O,5)),2&Ut){let Bn;d.iGM(Bn=d.CRH())&&(rn.containerViewChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.overlayViewChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.filterInputChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.accessibleViewChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.itemsViewChild=Bn.first),d.iGM(Bn=d.CRH())&&(rn.scroller=Bn.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(Ut,rn){2&Ut&&d.ekj("p-inputwrapper-filled",rn.filled)("p-inputwrapper-focus",rn.focus||rn.overlayVisible)("p-multiselect-clearable",rn.showClear&&!rn.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[d._Bn([kt])],ngContentSelectors:ze,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(Ut,rn){if(1&Ut){const Bn=d.EpF();d.F$t(bt),d.TgZ(0,"div",0,1),d.NdJ("click",function(ai){d.CHM(Bn);const vi=d.MAs(4);return d.KtG(rn.onMouseclick(ai,vi))}),d.TgZ(2,"div",2)(3,"input",3,4),d.NdJ("focus",function(ai){return rn.onInputFocus(ai)})("blur",function(ai){return rn.onInputBlur(ai)})("keydown",function(ai){return rn.onKeydown(ai)}),d.qZA()(),d.TgZ(5,"div",5)(6,"div",6),d.YNc(7,Ce,3,2,"ng-container",7),d.YNc(8,oe,1,0,"ng-container",8),d.qZA(),d.YNc(9,z,1,0,"i",9),d.qZA(),d.TgZ(10,"div",10),d._UZ(11,"span",11),d.qZA(),d.TgZ(12,"p-overlay",12,13),d.NdJ("visibleChange",function(ai){return rn.overlayVisible=ai})("onAnimationStart",function(ai){return rn.onOverlayAnimationStart(ai)})("onHide",function(){return rn.hide()}),d.YNc(14,tn,8,11,"ng-template",14),d.qZA()()}2&Ut&&(d.Tol(rn.styleClass),d.Q6J("ngClass",d.l5B(30,nt,rn.overlayVisible,"chip"===rn.display,rn.focus,rn.disabled))("ngStyle",rn.style),d.xp6(3),d.Q6J("disabled",rn.disabled),d.uIk("label",rn.label)("id",rn.inputId)("name",rn.name)("tabindex",rn.tabindex)("aria-expanded",rn.overlayVisible)("aria-labelledby",rn.ariaLabelledBy),d.xp6(2),d.Q6J("pTooltip",rn.tooltip)("tooltipPosition",rn.tooltipPosition)("positionStyle",rn.tooltipPositionStyle)("tooltipStyleClass",rn.tooltipStyleClass),d.xp6(1),d.Q6J("ngClass",d.WLB(35,de,rn.valuesAsString===(rn.defaultLabel||rn.placeholder),!(null!=rn.valuesAsString&&0!==rn.valuesAsString.length||null!=rn.placeholder&&0!==rn.placeholder.length))),d.xp6(1),d.Q6J("ngIf",!rn.selectedItemsTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",rn.selectedItemsTemplate)("ngTemplateOutletContext",d.VKq(38,U,rn.value)),d.xp6(1),d.Q6J("ngIf",null!=rn.value&&rn.filled&&!rn.disabled&&rn.showClear),d.xp6(1),d.Q6J("ngClass",d.DdM(40,Qe)),d.xp6(1),d.Q6J("ngClass",rn.dropdownIcon),d.xp6(1),d.Q6J("visible",rn.overlayVisible)("options",rn.overlayOptions)("target","@parent")("appendTo",rn.appendTo)("autoZIndex",rn.autoZIndex)("baseZIndex",rn.baseZIndex)("showTransitionOptions",rn.showTransitionOptions)("hideTransitionOptions",rn.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,P.aV,f.jx,R.u,x.H,r.T,Ze],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),Gt})(),gn=(()=>{class Gt{}return Gt.\u0275fac=function(Ut){return new(Ut||Gt)},Gt.\u0275mod=d.oAB({type:Gt}),Gt.\u0275inj=d.cJS({imports:[e.ez,P.U8,f.m8,R.z,x.T,r.v,P.U8,f.m8,r.v]}),Gt})()},8050:(hn,ft,b)=>{"use strict";b.d(ft,{U8:()=>O,aV:()=>k});var e=b(1777),d=b(9808),u=b(5e3),f=b(2382),_=b(9783),P=b(5730),x=b(5921);const r=["overlay"],R=["content"];function L(K,ue){1&K&&u.GkF(0)}const Q=function(K,ue,q){return{showTransitionParams:K,hideTransitionParams:ue,transform:q}},N=function(K){return{value:"visible",params:K}},T=function(K){return{mode:K}},y=function(K){return{$implicit:K}};function E(K,ue){if(1&K){const q=u.EpF();u.TgZ(0,"div",1,3),u.NdJ("click",function(ne){u.CHM(q);const Ce=u.oxw(2);return u.KtG(Ce.onOverlayContentClick(ne))})("@overlayContentAnimation.start",function(ne){u.CHM(q);const Ce=u.oxw(2);return u.KtG(Ce.onOverlayContentAnimationStart(ne))})("@overlayContentAnimation.done",function(ne){u.CHM(q);const Ce=u.oxw(2);return u.KtG(Ce.onOverlayContentAnimationDone(ne))}),u.Hsn(2),u.YNc(3,L,1,0,"ng-container",4),u.qZA()}if(2&K){const q=u.oxw(2);u.Tol(q.contentStyleClass),u.Q6J("ngStyle",q.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",u.VKq(11,N,u.kEZ(7,Q,q.showTransitionOptions,q.hideTransitionOptions,q.transformOptions[q.modal?q.overlayResponsiveDirection:"default"]))),u.xp6(3),u.Q6J("ngTemplateOutlet",q.contentTemplate)("ngTemplateOutletContext",u.VKq(15,y,u.VKq(13,T,q.overlayMode)))}}const D=function(K,ue,q,G,ne,Ce,oe,z,te,W,Y,Ae,Ee,qe){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":K,"p-overlay-center":ue,"p-overlay-top":q,"p-overlay-top-start":G,"p-overlay-top-end":ne,"p-overlay-bottom":Ce,"p-overlay-bottom-start":oe,"p-overlay-bottom-end":z,"p-overlay-left":te,"p-overlay-left-start":W,"p-overlay-left-end":Y,"p-overlay-right":Ae,"p-overlay-right-start":Ee,"p-overlay-right-end":qe}};function U(K,ue){if(1&K){const q=u.EpF();u.TgZ(0,"div",1,2),u.NdJ("click",function(ne){u.CHM(q);const Ce=u.oxw();return u.KtG(Ce.onOverlayClick(ne))}),u.YNc(2,E,4,17,"div",0),u.qZA()}if(2&K){const q=u.oxw();u.Tol(q.styleClass),u.Q6J("ngStyle",q.style)("ngClass",u.rFY(5,D,[q.modal,q.modal&&"center"===q.overlayResponsiveDirection,q.modal&&"top"===q.overlayResponsiveDirection,q.modal&&"top-start"===q.overlayResponsiveDirection,q.modal&&"top-end"===q.overlayResponsiveDirection,q.modal&&"bottom"===q.overlayResponsiveDirection,q.modal&&"bottom-start"===q.overlayResponsiveDirection,q.modal&&"bottom-end"===q.overlayResponsiveDirection,q.modal&&"left"===q.overlayResponsiveDirection,q.modal&&"left-start"===q.overlayResponsiveDirection,q.modal&&"left-end"===q.overlayResponsiveDirection,q.modal&&"right"===q.overlayResponsiveDirection,q.modal&&"right-start"===q.overlayResponsiveDirection,q.modal&&"right-end"===q.overlayResponsiveDirection])),u.xp6(2),u.Q6J("ngIf",q.visible)}}const B=["*"],ce={provide:f.JU,useExisting:(0,u.Gpc)(()=>k),multi:!0},$=(0,e.oQ)([(0,e.oB)({transform:"{{transform}}",opacity:0}),(0,e.jt)("{{showTransitionParams}}")]),V=(0,e.oQ)([(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({transform:"{{transform}}",opacity:0}))]);let k=(()=>{class K{constructor(q,G,ne,Ce,oe,z){this.document=q,this.el=G,this.renderer=ne,this.config=Ce,this.overlayService=oe,this.cd=z,this.visibleChange=new u.vpe,this.onBeforeShow=new u.vpe,this.onShow=new u.vpe,this.onBeforeHide=new u.vpe,this.onHide=new u.vpe,this.onAnimationStart=new u.vpe,this.onAnimationDone=new u.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(q){this._visible=q,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){var q;return this._mode||(null===(q=this.overlayOptions)||void 0===q?void 0:q.mode)}set mode(q){this._mode=q}get style(){var q,G;return x.gb.merge(this._style,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.style:null===(G=this.overlayOptions)||void 0===G?void 0:G.style)}set style(q){this._style=q}get styleClass(){var q,G;return x.gb.merge(this._styleClass,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.styleClass:null===(G=this.overlayOptions)||void 0===G?void 0:G.styleClass)}set styleClass(q){this._styleClass=q}get contentStyle(){var q,G;return x.gb.merge(this._contentStyle,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.contentStyle:null===(G=this.overlayOptions)||void 0===G?void 0:G.contentStyle)}set contentStyle(q){this._contentStyle=q}get contentStyleClass(){var q,G;return x.gb.merge(this._contentStyleClass,this.modal?null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.contentStyleClass:null===(G=this.overlayOptions)||void 0===G?void 0:G.contentStyleClass)}set contentStyleClass(q){this._contentStyleClass=q}get target(){var q;const G=this._target||(null===(q=this.overlayOptions)||void 0===q?void 0:q.target);return void 0===G?"@prev":G}set target(q){this._target=q}get appendTo(){var q;return this._appendTo||(null===(q=this.overlayOptions)||void 0===q?void 0:q.appendTo)}set appendTo(q){this._appendTo=q}get autoZIndex(){var q;const G=this._autoZIndex||(null===(q=this.overlayOptions)||void 0===q?void 0:q.autoZIndex);return void 0===G||G}set autoZIndex(q){this._autoZIndex=q}get baseZIndex(){var q;const G=this._baseZIndex||(null===(q=this.overlayOptions)||void 0===q?void 0:q.baseZIndex);return void 0===G?0:G}set baseZIndex(q){this._baseZIndex=q}get showTransitionOptions(){var q;const G=this._showTransitionOptions||(null===(q=this.overlayOptions)||void 0===q?void 0:q.showTransitionOptions);return void 0===G?".12s cubic-bezier(0, 0, 0.2, 1)":G}set showTransitionOptions(q){this._showTransitionOptions=q}get hideTransitionOptions(){var q;const G=this._hideTransitionOptions||(null===(q=this.overlayOptions)||void 0===q?void 0:q.hideTransitionOptions);return void 0===G?".1s linear":G}set hideTransitionOptions(q){this._hideTransitionOptions=q}get listener(){var q;return this._listener||(null===(q=this.overlayOptions)||void 0===q?void 0:q.listener)}set listener(q){this._listener=q}get responsive(){var q;return this._responsive||(null===(q=this.overlayOptions)||void 0===q?void 0:q.responsive)}set responsive(q){this._responsive=q}get options(){return this._options}set options(q){this._options=q}get modal(){var q,G;return"modal"===this.mode||this.overlayResponsiveOptions&&(null===(q=this.window)||void 0===q?void 0:q.matchMedia((null===(G=this.overlayResponsiveOptions.media)||void 0===G?void 0:G.replace("@media",""))||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches)}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){var q;return Object.assign(Object.assign({},null===(q=this.config)||void 0===q?void 0:q.overlayOptions),this.options)}get overlayResponsiveOptions(){var q;return Object.assign(Object.assign({},null===(q=this.overlayOptions)||void 0===q?void 0:q.responsive),this.responsive)}get overlayResponsiveDirection(){var q;return(null===(q=this.overlayResponsiveOptions)||void 0===q?void 0:q.direction)||"center"}get overlayEl(){var q;return null===(q=this.overlayViewChild)||void 0===q?void 0:q.nativeElement}get contentEl(){var q;return null===(q=this.contentViewChild)||void 0===q?void 0:q.nativeElement}get targetEl(){var q;return P.p.getTargetElement(this.target,null===(q=this.el)||void 0===q?void 0:q.nativeElement)}ngAfterContentInit(){var q;null===(q=this.templates)||void 0===q||q.forEach(G=>{G.getType(),this.contentTemplate=G.template})}show(q,G=!1){var ne;this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:q||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),G&&P.p.focus(this.targetEl),this.modal&&P.p.addClass(null===(ne=this.document)||void 0===ne?void 0:ne.body,"p-overflow-hidden")}hide(q,G=!1){var ne;this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:q||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),G&&P.p.focus(this.targetEl),this.modal&&P.p.removeClass(null===(ne=this.document)||void 0===ne?void 0:ne.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&P.p.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(q){this._visible=q,this.visibleChange.emit(q)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(q){this.overlayService.add({originalEvent:q,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(q){var G;switch(q.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&x.P9.set(this.overlayMode,this.overlayEl,this.baseZIndex+(null===(G=this.config)||void 0===G?void 0:G.zIndex[this.overlayMode])),P.p.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&P.p.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",q)}onOverlayContentAnimationDone(q){const G=this.overlayEl||q.element.parentElement;switch(q.toState){case"visible":this.show(G,!0),this.bindListeners();break;case"void":this.hide(G,!0),this.unbindListeners(),P.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),x.P9.clear(G),this.modalVisible=!1}this.handleEvents("onAnimationDone",q)}handleEvents(q,G){var ne,Ce,oe;this[q].emit(G),this.options&&this.options[q]&&this.options[q](G),(null===(ne=this.config)||void 0===ne?void 0:ne.overlayOptions)&&(null===(Ce=this.config)||void 0===Ce?void 0:Ce.overlayOptions[q])&&(null===(oe=this.config)||void 0===oe||oe.overlayOptions[q](G))}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new P.V(this.targetEl,q=>{(!this.listener||this.listener(q,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(q,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",q=>{const ne=!(this.targetEl&&(this.targetEl.isSameNode(q.target)||!this.isOverlayClicked&&this.targetEl.contains(q.target))||this.isOverlayContentClicked);(this.listener?this.listener(q,{type:"outside",mode:this.overlayMode,valid:3!==q.which&&ne}):ne)&&this.hide(q),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",q=>{(this.listener?this.listener(q,{type:"resize",mode:this.overlayMode,valid:!P.p.isTouchDevice()}):!P.p.isTouchDevice())&&this.hide(q,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(P.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),x.P9.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return K.\u0275fac=function(q){return new(q||K)(u.Y36(d.K0),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(_.b4),u.Y36(_.F0),u.Y36(u.sBO))},K.\u0275cmp=u.Xpm({type:K,selectors:[["p-overlay"]],contentQueries:function(q,G,ne){if(1&q&&u.Suo(ne,_.jx,4),2&q){let Ce;u.iGM(Ce=u.CRH())&&(G.templates=Ce)}},viewQuery:function(q,G){if(1&q&&(u.Gf(r,5),u.Gf(R,5)),2&q){let ne;u.iGM(ne=u.CRH())&&(G.overlayViewChild=ne.first),u.iGM(ne=u.CRH())&&(G.contentViewChild=ne.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[u._Bn([ce])],ngContentSelectors:B,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(q,G){1&q&&(u.F$t(),u.YNc(0,U,3,20,"div",0)),2&q&&u.Q6J("ngIf",G.modalVisible)},dependencies:[d.mk,d.O5,d.tP,d.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayContentAnimation",[(0,e.eR)(":enter",[(0,e._7)($)]),(0,e.eR)(":leave",[(0,e._7)(V)])])]},changeDetection:0}),K})(),O=(()=>{class K{}return K.\u0275fac=function(q){return new(q||K)},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({imports:[d.ez,_.m8,_.m8]}),K})()},3640:(hn,ft,b)=>{"use strict";b.d(ft,{T:()=>y,y:()=>E});var e=b(5e3),d=b(9808),u=b(5730),f=b(9783),_=b(5787),P=b(1777),x=b(5921);function r(D,U){1&D&&e.GkF(0)}function R(D,U){if(1&D){const B=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function($){e.CHM(B);const V=e.oxw(2);return e.KtG(V.onCloseClick($))})("keydown.enter",function(){e.CHM(B);const $=e.oxw(2);return e.KtG($.hide())}),e._UZ(1,"span",6),e.qZA()}if(2&D){const B=e.oxw(2);e.uIk("aria-label",B.ariaCloseLabel)}}const L=function(D,U){return{showTransitionParams:D,hideTransitionParams:U}},Q=function(D,U){return{value:D,params:U}};function N(D,U){if(1&D){const B=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function($){e.CHM(B);const V=e.oxw();return e.KtG(V.onOverlayClick($))})("@animation.start",function($){e.CHM(B);const V=e.oxw();return e.KtG(V.onAnimationStart($))})("@animation.done",function($){e.CHM(B);const V=e.oxw();return e.KtG(V.onAnimationEnd($))}),e.TgZ(1,"div",2),e.NdJ("click",function(){e.CHM(B);const $=e.oxw();return e.KtG($.onContentClick())})("mousedown",function(){e.CHM(B);const $=e.oxw();return e.KtG($.onContentClick())}),e.Hsn(2),e.YNc(3,r,1,0,"ng-container",3),e.qZA(),e.YNc(4,R,2,1,"button",4),e.qZA()}if(2&D){const B=e.oxw();e.Tol(B.styleClass),e.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",B.style)("@animation",e.WLB(10,Q,B.overlayVisible?"open":"close",e.WLB(7,L,B.showTransitionOptions,B.hideTransitionOptions))),e.xp6(3),e.Q6J("ngTemplateOutlet",B.contentTemplate),e.xp6(1),e.Q6J("ngIf",B.showCloseIcon)}}const T=["*"];let y=(()=>{class D{constructor(B,ce,$,V,k,O){this.el=B,this.renderer=ce,this.cd=$,this.zone=V,this.config=k,this.overlayService=O,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.overlayVisible=!1,this.render=!1,this.isOverlayAnimationInProgress=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(B=>{B.getType(),this.contentTemplate=B.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let B=u.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",B,$=>{!this.container.contains($.target)&&this.target!==$.target&&!this.target.contains($.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(B,ce){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(B,ce)&&(this.destroyCallback=()=>{this.show(null,ce||B.currentTarget||B.target)}),this.hide()):this.show(B,ce))}show(B,ce){this.isOverlayAnimationInProgress||(this.target=ce||B.currentTarget||B.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(B){this.overlayService.add({originalEvent:B,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(B,ce){return null!=this.target&&this.target!==(ce||B.currentTarget||B.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):u.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&x.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),u.p.absolutePosition(this.container,this.target);const B=u.p.getOffset(this.container),ce=u.p.getOffset(this.target);let $=0;B.left<ce.left&&($=ce.left-B.left),this.container.style.setProperty("--overlayArrowLeft",`${$}px`),B.top<ce.top&&(u.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&(this.container.style.marginTop="30px"))}onAnimationStart(B){"open"===B.toState&&(this.container=B.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=ce=>{this.container&&this.container.contains(ce.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(B){switch(B.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&x.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let B=u.p.findSingle(this.container,"[autofocus]");B&&this.zone.runOutsideAngular(()=>{setTimeout(()=>B.focus(),5)})}hide(){this.isOverlayAnimationInProgress||(this.overlayVisible=!1,this.cd.markForCheck())}onCloseClick(B){this.hide(),B.preventDefault()}onWindowResize(B){this.overlayVisible&&!u.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new u.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&x.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return D.\u0275fac=function(B){return new(B||D)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(f.b4),e.Y36(f.F0))},D.\u0275cmp=e.Xpm({type:D,selectors:[["p-overlayPanel"]],contentQueries:function(B,ce,$){if(1&B&&e.Suo($,f.jx,4),2&B){let V;e.iGM(V=e.CRH())&&(ce.templates=V)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:T,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(B,ce){1&B&&(e.F$t(),e.YNc(0,N,5,13,"div",0)),2&B&&e.Q6J("ngIf",ce.render)},dependencies:[d.mk,d.O5,d.tP,d.PC,_.H],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,P.X$)("animation",[(0,P.SB)("void",(0,P.oB)({transform:"scaleY(0.8)",opacity:0})),(0,P.SB)("close",(0,P.oB)({opacity:0})),(0,P.SB)("open",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => open",(0,P.jt)("{{showTransitionParams}}")),(0,P.eR)("open => close",(0,P.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),D})(),E=(()=>{class D{}return D.\u0275fac=function(B){return new(B||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[d.ez,_.T,f.m8,f.m8]}),D})()},4132:(hn,ft,b)=>{"use strict";b.d(ft,{D:()=>ne,U:()=>Ce});var e=b(5e3),d=b(9808),u=b(2382),f=b(4036),_=b(5787),P=b(9783),x=b(7010);function r(oe,z){1&oe&&e.GkF(0)}const R=function(oe){return{$implicit:oe}};function L(oe,z){if(1&oe&&(e.TgZ(0,"div",15),e.YNc(1,r,1,0,"ng-container",16),e.qZA()),2&oe){const te=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",te.templateLeft)("ngTemplateOutletContext",e.VKq(2,R,te.paginatorState))}}function Q(oe,z){if(1&oe&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&oe){const te=e.oxw(2);e.xp6(1),e.Oqu(te.currentPageReport)}}const N=function(oe){return{"p-disabled":oe}};function T(oe,z){if(1&oe){const te=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(Y){e.CHM(te);const Ae=e.oxw(2);return e.KtG(Ae.changePageToFirst(Y))}),e._UZ(1,"span",19),e.qZA()}if(2&oe){const te=e.oxw(2);e.Q6J("disabled",te.isFirstPage()||te.empty())("ngClass",e.VKq(2,N,te.isFirstPage()||te.empty()))}}const y=function(oe){return{"p-highlight":oe}};function E(oe,z){if(1&oe){const te=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(Y){const Ee=e.CHM(te).$implicit,qe=e.oxw(3);return e.KtG(qe.onPageLinkClick(Y,Ee-1))}),e._uU(1),e.qZA()}if(2&oe){const te=z.$implicit,W=e.oxw(3);e.Q6J("ngClass",e.VKq(2,y,te-1==W.getPage())),e.xp6(1),e.hij(" ",te," ")}}function D(oe,z){if(1&oe&&(e.TgZ(0,"span",20),e.YNc(1,E,2,4,"button",21),e.qZA()),2&oe){const te=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",te.pageLinks)}}function U(oe,z){if(1&oe&&e._uU(0),2&oe){const te=e.oxw(3);e.Oqu(te.currentPageReport)}}function B(oe,z){if(1&oe){const te=e.EpF();e.TgZ(0,"p-dropdown",23),e.NdJ("onChange",function(Y){e.CHM(te);const Ae=e.oxw(2);return e.KtG(Ae.onPageDropdownChange(Y))}),e.YNc(1,U,1,1,"ng-template",24),e.qZA()}if(2&oe){const te=e.oxw(2);e.Q6J("options",te.pageItems)("ngModel",te.getPage())("disabled",te.empty())("appendTo",te.dropdownAppendTo)("scrollHeight",te.dropdownScrollHeight)}}function ce(oe,z){if(1&oe){const te=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(Y){e.CHM(te);const Ae=e.oxw(2);return e.KtG(Ae.changePageToLast(Y))}),e._UZ(1,"span",26),e.qZA()}if(2&oe){const te=e.oxw(2);e.Q6J("disabled",te.isLastPage()||te.empty())("ngClass",e.VKq(2,N,te.isLastPage()||te.empty()))}}function $(oe,z){if(1&oe){const te=e.EpF();e.TgZ(0,"p-inputNumber",27),e.NdJ("ngModelChange",function(Y){e.CHM(te);const Ae=e.oxw(2);return e.KtG(Ae.changePage(Y-1))}),e.qZA()}if(2&oe){const te=e.oxw(2);e.Q6J("ngModel",te.currentPage())("disabled",te.empty())}}function V(oe,z){1&oe&&e.GkF(0)}function k(oe,z){if(1&oe&&e.YNc(0,V,1,0,"ng-container",16),2&oe){const te=z.$implicit,W=e.oxw(4);e.Q6J("ngTemplateOutlet",W.dropdownItemTemplate)("ngTemplateOutletContext",e.VKq(2,R,te))}}function O(oe,z){1&oe&&(e.ynx(0),e.YNc(1,k,1,4,"ng-template",30),e.BQk())}function K(oe,z){if(1&oe){const te=e.EpF();e.TgZ(0,"p-dropdown",28),e.NdJ("ngModelChange",function(Y){e.CHM(te);const Ae=e.oxw(2);return e.KtG(Ae.rows=Y)})("onChange",function(Y){e.CHM(te);const Ae=e.oxw(2);return e.KtG(Ae.onRppChange(Y))}),e.YNc(1,O,2,0,"ng-container",29),e.qZA()}if(2&oe){const te=e.oxw(2);e.Q6J("options",te.rowsPerPageItems)("ngModel",te.rows)("disabled",te.empty())("appendTo",te.dropdownAppendTo)("scrollHeight",te.dropdownScrollHeight),e.xp6(1),e.Q6J("ngIf",te.dropdownItemTemplate)}}function ue(oe,z){1&oe&&e.GkF(0)}function q(oe,z){if(1&oe&&(e.TgZ(0,"div",31),e.YNc(1,ue,1,0,"ng-container",16),e.qZA()),2&oe){const te=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",te.templateRight)("ngTemplateOutletContext",e.VKq(2,R,te.paginatorState))}}function G(oe,z){if(1&oe){const te=e.EpF();e.TgZ(0,"div",1),e.YNc(1,L,2,4,"div",2),e.YNc(2,Q,2,1,"span",3),e.YNc(3,T,2,4,"button",4),e.TgZ(4,"button",5),e.NdJ("click",function(Y){e.CHM(te);const Ae=e.oxw();return e.KtG(Ae.changePageToPrev(Y))}),e._UZ(5,"span",6),e.qZA(),e.YNc(6,D,2,1,"span",7),e.YNc(7,B,2,5,"p-dropdown",8),e.TgZ(8,"button",9),e.NdJ("click",function(Y){e.CHM(te);const Ae=e.oxw();return e.KtG(Ae.changePageToNext(Y))}),e._UZ(9,"span",10),e.qZA(),e.YNc(10,ce,2,4,"button",11),e.YNc(11,$,1,2,"p-inputNumber",12),e.YNc(12,K,2,6,"p-dropdown",13),e.YNc(13,q,2,4,"div",14),e.qZA()}if(2&oe){const te=e.oxw();e.Tol(te.styleClass),e.Q6J("ngStyle",te.style)("ngClass","p-paginator p-component"),e.xp6(1),e.Q6J("ngIf",te.templateLeft),e.xp6(1),e.Q6J("ngIf",te.showCurrentPageReport),e.xp6(1),e.Q6J("ngIf",te.showFirstLastIcon),e.xp6(1),e.Q6J("disabled",te.isFirstPage()||te.empty())("ngClass",e.VKq(17,N,te.isFirstPage()||te.empty())),e.xp6(2),e.Q6J("ngIf",te.showPageLinks),e.xp6(1),e.Q6J("ngIf",te.showJumpToPageDropdown),e.xp6(1),e.Q6J("disabled",te.isLastPage()||te.empty())("ngClass",e.VKq(19,N,te.isLastPage()||te.empty())),e.xp6(2),e.Q6J("ngIf",te.showFirstLastIcon),e.xp6(1),e.Q6J("ngIf",te.showJumpToPageInput),e.xp6(1),e.Q6J("ngIf",te.rowsPerPageOptions),e.xp6(1),e.Q6J("ngIf",te.templateRight)}}let ne=(()=>{class oe{constructor(te){this.cd=te,this.pageLinkSize=5,this.onPageChange=new e.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(te){te.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),te.first&&(this._first=te.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),te.rows&&(this.updatePageLinks(),this.updatePaginatorState()),te.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(te){this._first=te}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let te of this.rowsPerPageOptions)"object"==typeof te&&te.showAll?this.rowsPerPageItems.unshift({label:te.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(te),value:te})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let te=this.getPageCount(),W=Math.min(this.pageLinkSize,te),Y=Math.max(0,Math.ceil(this.getPage()-W/2)),Ae=Math.min(te-1,Y+W-1);return Y=Math.max(0,Y-(this.pageLinkSize-(Ae-Y+1))),[Y,Ae]}updatePageLinks(){this.pageLinks=[];let te=this.calculatePageLinkBoundaries(),Y=te[1];for(let Ae=te[0];Ae<=Y;Ae++)this.pageLinks.push(Ae+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let Ae=0;Ae<this.getPageCount();Ae++)this.pageItems.push({label:String(Ae+1),value:Ae})}}changePage(te){var W=this.getPageCount();if(te>=0&&te<W){this._first=this.rows*te;var Y={page:te,first:this.first,rows:this.rows,pageCount:W};this.updatePageLinks(),this.onPageChange.emit(Y),this.updatePaginatorState()}}updateFirst(){const te=this.getPage();te>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(te-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(te){this.isFirstPage()||this.changePage(0),te.preventDefault()}changePageToPrev(te){this.changePage(this.getPage()-1),te.preventDefault()}changePageToNext(te){this.changePage(this.getPage()+1),te.preventDefault()}changePageToLast(te){this.isLastPage()||this.changePage(this.getPageCount()-1),te.preventDefault()}onPageLinkClick(te,W){this.changePage(W),te.preventDefault()}onRppChange(te){this.changePage(this.getPage())}onPageDropdownChange(te){this.changePage(te.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return oe.\u0275fac=function(te){return new(te||oe)(e.Y36(e.sBO))},oe.\u0275cmp=e.Xpm({type:oe,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[e.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(te,W){1&te&&e.YNc(0,G,14,21,"div",0),2&te&&e.Q6J("ngIf",!!W.alwaysShow||W.pageLinks&&W.pageLinks.length>1)},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,f.Lt,P.jx,x.Rn,u.JJ,u.On,_.H],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),oe})(),Ce=(()=>{class oe{}return oe.\u0275fac=function(te){return new(te||oe)},oe.\u0275mod=e.oAB({type:oe}),oe.\u0275inj=e.cJS({imports:[d.ez,f.kW,x.L$,u.u5,P.m8,_.T,f.kW,x.L$,u.u5,P.m8]}),oe})()},5132:(hn,ft,b)=>{"use strict";b.d(ft,{G:()=>Rt,f:()=>Nt});var e=b(5e3),d=b(9808),u=b(845),f=b(9783),_=b(5730),P=b(5787),x=b(5573),r=b(5921);const R=["sourcelist"],L=["targetlist"],Q=["sourceFilter"],N=["targetFilter"];function T(At,st){if(1&At){const ot=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(ot);const ke=e.oxw(),rt=e.MAs(6);return e.KtG(ke.moveUp(rt,ke.source,ke.selectedItemsSource,ke.onSourceReorder,ke.SOURCE_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(ot);const ke=e.oxw(),rt=e.MAs(6);return e.KtG(ke.moveTop(rt,ke.source,ke.selectedItemsSource,ke.onSourceReorder,ke.SOURCE_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(ot);const ke=e.oxw(),rt=e.MAs(6);return e.KtG(ke.moveDown(rt,ke.source,ke.selectedItemsSource,ke.onSourceReorder,ke.SOURCE_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(ot);const ke=e.oxw(),rt=e.MAs(6);return e.KtG(ke.moveBottom(rt,ke.source,ke.selectedItemsSource,ke.onSourceReorder,ke.SOURCE_LIST))}),e.qZA()()}if(2&At){const ot=e.oxw();e.xp6(1),e.Q6J("disabled",ot.sourceMoveDisabled()),e.uIk("aria-label",ot.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ot.sourceMoveDisabled()),e.uIk("aria-label",ot.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ot.sourceMoveDisabled()),e.uIk("aria-label",ot.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ot.sourceMoveDisabled()),e.uIk("aria-label",ot.bottomButtonAriaLabel)}}function y(At,st){if(1&At&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&At){const ot=e.oxw(2);e.xp6(1),e.Oqu(ot.sourceHeader)}}function E(At,st){1&At&&e.GkF(0)}function D(At,st){if(1&At&&(e.TgZ(0,"div",23),e.YNc(1,y,2,1,"div",24),e.YNc(2,E,1,0,"ng-container",25),e.qZA()),2&At){const ot=e.oxw();e.xp6(1),e.Q6J("ngIf",!ot.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ot.sourceHeaderTemplate)}}function U(At,st){1&At&&e.GkF(0)}const B=function(At){return{options:At}};function ce(At,st){if(1&At&&(e.ynx(0),e.YNc(1,U,1,0,"ng-container",30),e.BQk()),2&At){const ot=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ot.sourceFilterTemplate)("ngTemplateOutletContext",e.VKq(2,B,ot.sourceFilterOptions))}}function $(At,st){if(1&At){const ot=e.EpF();e.TgZ(0,"div",31)(1,"input",32,33),e.NdJ("keyup",function(ke){e.CHM(ot);const rt=e.oxw(2);return e.KtG(rt.onFilter(ke,rt.SOURCE_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&At){const ot=e.oxw(2);e.xp6(1),e.Q6J("disabled",ot.disabled),e.uIk("placeholder",ot.sourceFilterPlaceholder)("aria-label",ot.ariaSourceFilterLabel)}}function V(At,st){if(1&At&&(e.TgZ(0,"div",27),e.YNc(1,ce,2,4,"ng-container",28),e.YNc(2,$,4,3,"ng-template",null,29,e.W1O),e.qZA()),2&At){const ot=e.MAs(3),ge=e.oxw();e.xp6(1),e.Q6J("ngIf",ge.sourceFilterTemplate)("ngIfElse",ot)}}function k(At,st){1&At&&e.GkF(0)}const O=function(At,st){return{"p-picklist-item":!0,"p-highlight":At,"p-disabled":st}},K=function(At,st){return{$implicit:At,index:st}};function ue(At,st){if(1&At){const ot=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(ke){e.CHM(ot);const rt=e.oxw().$implicit,yt=e.oxw();return e.KtG(yt.onItemClick(ke,rt,yt.selectedItemsSource,yt.onSourceSelect))})("dblclick",function(){e.CHM(ot);const ke=e.oxw(2);return e.KtG(ke.onSourceItemDblClick())})("touchend",function(){e.CHM(ot);const ke=e.oxw(2);return e.KtG(ke.onItemTouchEnd())})("keydown",function(ke){e.CHM(ot);const rt=e.oxw().$implicit,yt=e.oxw();return e.KtG(yt.onItemKeydown(ke,rt,yt.selectedItemsSource,yt.onSourceSelect))}),e.YNc(1,k,1,0,"ng-container",30),e.qZA()}if(2&At){const ot=e.oxw(),ge=ot.$implicit,ke=ot.index,rt=e.oxw();e.Q6J("ngClass",e.WLB(6,O,rt.isSelected(ge,rt.selectedItemsSource),rt.disabled))("cdkDragData",ge)("cdkDragDisabled",!rt.dragdrop),e.uIk("aria-selected",rt.isSelected(ge,rt.selectedItemsSource)),e.xp6(1),e.Q6J("ngTemplateOutlet",rt.itemTemplate)("ngTemplateOutletContext",e.WLB(9,K,ge,ke))}}function q(At,st){if(1&At&&e.YNc(0,ue,2,12,"li",35),2&At){const ot=st.$implicit,ge=e.oxw();e.Q6J("ngIf",ge.isItemVisible(ot,ge.SOURCE_LIST))}}function G(At,st){1&At&&e.GkF(0)}function ne(At,st){if(1&At&&(e.TgZ(0,"li",38),e.YNc(1,G,1,0,"ng-container",25),e.qZA()),2&At){const ot=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ot.emptyMessageSourceTemplate)}}function Ce(At,st){1&At&&e.GkF(0)}function oe(At,st){if(1&At&&(e.TgZ(0,"li",38),e.YNc(1,Ce,1,0,"ng-container",25),e.qZA()),2&At){const ot=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ot.emptyFilterMessageSourceTemplate)}}function z(At,st){if(1&At&&(e.ynx(0),e.YNc(1,ne,2,1,"li",37),e.YNc(2,oe,2,1,"li",37),e.BQk()),2&At){const ot=e.oxw();e.xp6(1),e.Q6J("ngIf",!ot.filterValueSource||!ot.emptyFilterMessageSourceTemplate),e.xp6(1),e.Q6J("ngIf",ot.filterValueSource)}}function te(At,st){if(1&At&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&At){const ot=e.oxw(2);e.xp6(1),e.Oqu(ot.targetHeader)}}function W(At,st){1&At&&e.GkF(0)}function Y(At,st){if(1&At&&(e.TgZ(0,"div",23),e.YNc(1,te,2,1,"div",24),e.YNc(2,W,1,0,"ng-container",25),e.qZA()),2&At){const ot=e.oxw();e.xp6(1),e.Q6J("ngIf",!ot.targetHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",ot.targetHeaderTemplate)}}function Ae(At,st){1&At&&e.GkF(0)}function Ee(At,st){if(1&At&&(e.ynx(0),e.YNc(1,Ae,1,0,"ng-container",30),e.BQk()),2&At){const ot=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ot.targetFilterTemplate)("ngTemplateOutletContext",e.VKq(2,B,ot.targetFilterOptions))}}function qe(At,st){if(1&At){const ot=e.EpF();e.TgZ(0,"div",31)(1,"input",32,40),e.NdJ("keyup",function(ke){e.CHM(ot);const rt=e.oxw(2);return e.KtG(rt.onFilter(ke,rt.TARGET_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&At){const ot=e.oxw(2);e.xp6(1),e.Q6J("disabled",ot.disabled),e.uIk("placeholder",ot.targetFilterPlaceholder)("aria-label",ot.ariaTargetFilterLabel)}}function ye(At,st){if(1&At&&(e.TgZ(0,"div",27),e.YNc(1,Ee,2,4,"ng-container",28),e.YNc(2,qe,4,3,"ng-template",null,39,e.W1O),e.qZA()),2&At){const ot=e.MAs(3),ge=e.oxw();e.xp6(1),e.Q6J("ngIf",ge.targetFilterTemplate)("ngIfElse",ot)}}function Ge(At,st){1&At&&e.GkF(0)}function X(At,st){if(1&At){const ot=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(ke){e.CHM(ot);const rt=e.oxw().$implicit,yt=e.oxw();return e.KtG(yt.onItemClick(ke,rt,yt.selectedItemsTarget,yt.onTargetSelect))})("dblclick",function(){e.CHM(ot);const ke=e.oxw(2);return e.KtG(ke.onTargetItemDblClick())})("touchend",function(){e.CHM(ot);const ke=e.oxw(2);return e.KtG(ke.onItemTouchEnd())})("keydown",function(ke){e.CHM(ot);const rt=e.oxw().$implicit,yt=e.oxw();return e.KtG(yt.onItemKeydown(ke,rt,yt.selectedItemsTarget,yt.onTargetSelect))}),e.YNc(1,Ge,1,0,"ng-container",30),e.qZA()}if(2&At){const ot=e.oxw(),ge=ot.$implicit,ke=ot.index,rt=e.oxw();e.Q6J("ngClass",e.WLB(6,O,rt.isSelected(ge,rt.selectedItemsTarget),rt.disabled))("cdkDragData",ge)("cdkDragDisabled",!rt.dragdrop),e.uIk("aria-selected",rt.isSelected(ge,rt.selectedItemsTarget)),e.xp6(1),e.Q6J("ngTemplateOutlet",rt.itemTemplate)("ngTemplateOutletContext",e.WLB(9,K,ge,ke))}}function be(At,st){if(1&At&&e.YNc(0,X,2,12,"li",35),2&At){const ot=st.$implicit,ge=e.oxw();e.Q6J("ngIf",ge.isItemVisible(ot,ge.TARGET_LIST))}}function we(At,st){1&At&&e.GkF(0)}function Ie(At,st){if(1&At&&(e.TgZ(0,"li",38),e.YNc(1,we,1,0,"ng-container",25),e.qZA()),2&At){const ot=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ot.emptyMessageTargetTemplate)}}function ct(At,st){1&At&&e.GkF(0)}function dt(At,st){if(1&At&&(e.TgZ(0,"li",38),e.YNc(1,ct,1,0,"ng-container",25),e.qZA()),2&At){const ot=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",ot.emptyFilterMessageTargetTemplate)}}function et(At,st){if(1&At&&(e.ynx(0),e.YNc(1,Ie,2,1,"li",37),e.YNc(2,dt,2,1,"li",37),e.BQk()),2&At){const ot=e.oxw();e.xp6(1),e.Q6J("ngIf",!ot.filterValueTarget||!ot.emptyFilterMessageTargetTemplate),e.xp6(1),e.Q6J("ngIf",ot.filterValueTarget)}}function vt(At,st){if(1&At){const ot=e.EpF();e.TgZ(0,"div",41)(1,"button",19),e.NdJ("click",function(){e.CHM(ot);const ke=e.oxw(),rt=e.MAs(18);return e.KtG(ke.moveUp(rt,ke.target,ke.selectedItemsTarget,ke.onTargetReorder,ke.TARGET_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(ot);const ke=e.oxw(),rt=e.MAs(18);return e.KtG(ke.moveTop(rt,ke.target,ke.selectedItemsTarget,ke.onTargetReorder,ke.TARGET_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(ot);const ke=e.oxw(),rt=e.MAs(18);return e.KtG(ke.moveDown(rt,ke.target,ke.selectedItemsTarget,ke.onTargetReorder,ke.TARGET_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(ot);const ke=e.oxw(),rt=e.MAs(18);return e.KtG(ke.moveBottom(rt,ke.target,ke.selectedItemsTarget,ke.onTargetReorder,ke.TARGET_LIST))}),e.qZA()()}if(2&At){const ot=e.oxw();e.xp6(1),e.Q6J("disabled",ot.targetMoveDisabled()),e.uIk("aria-label",ot.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ot.targetMoveDisabled()),e.uIk("aria-label",ot.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ot.targetMoveDisabled()),e.uIk("aria-label",ot.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ot.targetMoveDisabled()),e.uIk("aria-label",ot.bottomButtonAriaLabel)}}const ht=function(At){return{"p-picklist p-component":!0,"p-picklist-striped":At}};let Rt=(()=>{class At{constructor(ot,ge,ke){this.el=ot,this.cd=ge,this.filterService=ke,this.trackBy=(rt,yt)=>yt,this.showSourceFilter=!0,this.showTargetFilter=!0,this.metaKeySelection=!0,this.dragdrop=!1,this.showSourceControls=!0,this.showTargetControls=!0,this.disabled=!1,this.filterMatchMode="contains",this.breakpoint="960px",this.keepSelection=!1,this.onMoveToSource=new e.vpe,this.onMoveAllToSource=new e.vpe,this.onMoveAllToTarget=new e.vpe,this.onMoveToTarget=new e.vpe,this.onSourceReorder=new e.vpe,this.onTargetReorder=new e.vpe,this.onSourceSelect=new e.vpe,this.onTargetSelect=new e.vpe,this.onSourceFilter=new e.vpe,this.onTargetFilter=new e.vpe,this.selectedItemsSource=[],this.selectedItemsTarget=[],this.id=(0,r.Th)(),this.SOURCE_LIST=-1,this.TARGET_LIST=1}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.sourceFilterOptions={filter:ot=>this.filterSource(ot),reset:()=>this.resetSourceFilter()},this.targetFilterOptions={filter:ot=>this.filterTarget(ot),reset:()=>this.resetTargetFilter()})}ngAfterContentInit(){this.templates.forEach(ot=>{switch(ot.getType()){case"item":default:this.itemTemplate=ot.template;break;case"sourceHeader":this.sourceHeaderTemplate=ot.template;break;case"targetHeader":this.targetHeaderTemplate=ot.template;break;case"sourceFilter":this.sourceFilterTemplate=ot.template;break;case"targetFilter":this.targetFilterTemplate=ot.template;break;case"emptymessagesource":this.emptyMessageSourceTemplate=ot.template;break;case"emptyfiltermessagesource":this.emptyFilterMessageSourceTemplate=ot.template;break;case"emptymessagetarget":this.emptyMessageTargetTemplate=ot.template;break;case"emptyfiltermessagetarget":this.emptyFilterMessageTargetTemplate=ot.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let ge,ot=_.p.find(this.reorderedListElement,"li.p-highlight");ge=this.movedUp?ot[0]:ot[ot.length-1],_.p.scrollInView(this.reorderedListElement,ge),this.movedUp=!1,this.movedDown=!1,this.reorderedListElement=null}}onItemClick(ot,ge,ke,rt){if(this.disabled)return;let yt=this.findIndexInSelection(ge,ke),Pt=-1!=yt;if(!this.itemTouched&&this.metaKeySelection){let Ot=ot.metaKey||ot.ctrlKey||ot.shiftKey;Pt&&Ot?ke.splice(yt,1):(Ot||(ke.length=0),ke.push(ge))}else Pt?ke.splice(yt,1):ke.push(ge);rt.emit({originalEvent:ot,items:ke}),this.itemTouched=!1}onSourceItemDblClick(){this.disabled||this.moveRight()}onTargetItemDblClick(){this.disabled||this.moveLeft()}onFilter(ot,ge){let ke=ot.target.value;ge===this.SOURCE_LIST?this.filterSource(ke):ge===this.TARGET_LIST&&this.filterTarget(ke)}filterSource(ot=""){this.filterValueSource=ot.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.source,this.SOURCE_LIST)}filterTarget(ot=""){this.filterValueTarget=ot.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.target,this.TARGET_LIST)}filter(ot,ge){let ke=this.filterBy.split(",");ge===this.SOURCE_LIST?(this.visibleOptionsSource=this.filterService.filter(ot,ke,this.filterValueSource,this.filterMatchMode,this.filterLocale),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})):ge===this.TARGET_LIST&&(this.visibleOptionsTarget=this.filterService.filter(ot,ke,this.filterValueTarget,this.filterMatchMode,this.filterLocale),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget}))}isItemVisible(ot,ge){return ge==this.SOURCE_LIST?this.isVisibleInList(this.visibleOptionsSource,ot,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,ot,this.filterValueTarget)}isEmpty(ot){return ot==this.SOURCE_LIST?this.filterValueSource?!this.visibleOptionsSource||0===this.visibleOptionsSource.length:!this.source||0===this.source.length:this.filterValueTarget?!this.visibleOptionsTarget||0===this.visibleOptionsTarget.length:!this.target||0===this.target.length}isVisibleInList(ot,ge,ke){if(!ke||!ke.trim().length)return!0;for(let rt=0;rt<ot.length;rt++)if(ge==ot[rt])return!0}onItemTouchEnd(){this.disabled||(this.itemTouched=!0)}sortByIndexInList(ot,ge){return ot.sort((ke,rt)=>r.gb.findIndexInList(ke,ge)-r.gb.findIndexInList(rt,ge))}moveUp(ot,ge,ke,rt,yt){if(ke&&ke.length){ke=this.sortByIndexInList(ke,ge);for(let Pt=0;Pt<ke.length;Pt++){let Ot=r.gb.findIndexInList(ke[Pt],ge);if(0==Ot)break;{let lt=ge[Ot-1];ge[Ot-1]=ge[Ot],ge[Ot]=lt}}this.dragdrop&&(this.filterValueSource&&yt===this.SOURCE_LIST||this.filterValueTarget&&yt===this.TARGET_LIST)&&this.filter(ge,yt),this.movedUp=!0,this.reorderedListElement=ot,rt.emit({items:ke})}}moveTop(ot,ge,ke,rt,yt){if(ke&&ke.length){ke=this.sortByIndexInList(ke,ge);for(let Pt=0;Pt<ke.length;Pt++){let Ot=r.gb.findIndexInList(ke[Pt],ge);if(0==Ot)break;{let Ye=ge.splice(Ot,1)[0];ge.unshift(Ye)}}this.dragdrop&&(this.filterValueSource&&yt===this.SOURCE_LIST||this.filterValueTarget&&yt===this.TARGET_LIST)&&this.filter(ge,yt),ot.scrollTop=0,rt.emit({items:ke})}}moveDown(ot,ge,ke,rt,yt){if(ke&&ke.length){for(let Pt=(ke=this.sortByIndexInList(ke,ge)).length-1;Pt>=0;Pt--){let Ot=r.gb.findIndexInList(ke[Pt],ge);if(Ot==ge.length-1)break;{let lt=ge[Ot+1];ge[Ot+1]=ge[Ot],ge[Ot]=lt}}this.dragdrop&&(this.filterValueSource&&yt===this.SOURCE_LIST||this.filterValueTarget&&yt===this.TARGET_LIST)&&this.filter(ge,yt),this.movedDown=!0,this.reorderedListElement=ot,rt.emit({items:ke})}}moveBottom(ot,ge,ke,rt,yt){if(ke&&ke.length){for(let Pt=(ke=this.sortByIndexInList(ke,ge)).length-1;Pt>=0;Pt--){let Ot=r.gb.findIndexInList(ke[Pt],ge);if(Ot==ge.length-1)break;{let Ye=ge.splice(Ot,1)[0];ge.push(Ye)}}this.dragdrop&&(this.filterValueSource&&yt===this.SOURCE_LIST||this.filterValueTarget&&yt===this.TARGET_LIST)&&this.filter(ge,yt),ot.scrollTop=ot.scrollHeight,rt.emit({items:ke})}}moveRight(){if(this.selectedItemsSource&&this.selectedItemsSource.length){for(let ot=0;ot<this.selectedItemsSource.length;ot++){let ge=this.selectedItemsSource[ot];-1==r.gb.findIndexInList(ge,this.target)&&(this.target.push(this.source.splice(r.gb.findIndexInList(ge,this.source),1)[0]),this.visibleOptionsSource&&this.visibleOptionsSource.splice(r.gb.findIndexInList(ge,this.visibleOptionsSource),1))}this.onMoveToTarget.emit({items:this.selectedItemsSource}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}moveAllRight(){if(this.source){let ot=[];for(let ge=0;ge<this.source.length;ge++)if(this.isItemVisible(this.source[ge],this.SOURCE_LIST)){let ke=this.source.splice(ge,1)[0];this.target.push(ke),ot.push(ke),ge--}this.onMoveAllToTarget.emit({items:ot}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.visibleOptionsSource=[]}}moveLeft(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){for(let ot=0;ot<this.selectedItemsTarget.length;ot++){let ge=this.selectedItemsTarget[ot];-1==r.gb.findIndexInList(ge,this.source)&&(this.source.push(this.target.splice(r.gb.findIndexInList(ge,this.target),1)[0]),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(r.gb.findIndexInList(ge,this.visibleOptionsTarget),1))}this.onMoveToSource.emit({items:this.selectedItemsTarget}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}}moveAllLeft(){if(this.target){let ot=[];for(let ge=0;ge<this.target.length;ge++)if(this.isItemVisible(this.target[ge],this.TARGET_LIST)){let ke=this.target.splice(ge,1)[0];this.source.push(ke),ot.push(ke),ge--}this.onMoveAllToSource.emit({items:ot}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.visibleOptionsTarget=[]}}isSelected(ot,ge){return-1!=this.findIndexInSelection(ot,ge)}findIndexInSelection(ot,ge){return r.gb.findIndexInList(ot,ge)}onDrop(ot,ge){let ke=ot.previousContainer!==ot.container,rt=this.getDropIndexes(ot.previousIndex,ot.currentIndex,ge,ke,ot.item.data);if(ge===this.SOURCE_LIST){if(ke){(0,x.EA)(ot.previousContainer.data,ot.container.data,rt.previousIndex,rt.currentIndex);let yt=r.gb.findIndexInList(ot.item.data,this.selectedItemsTarget);-1!=yt&&(this.selectedItemsTarget.splice(yt,1),this.keepSelection&&this.selectedItemsTarget.push(ot.item.data)),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(ot.previousIndex,1),this.onMoveToSource.emit({items:[ot.item.data]})}else(0,x.bA)(ot.container.data,rt.previousIndex,rt.currentIndex),this.onSourceReorder.emit({items:[ot.item.data]});this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}else{if(ke){(0,x.EA)(ot.previousContainer.data,ot.container.data,rt.previousIndex,rt.currentIndex);let yt=r.gb.findIndexInList(ot.item.data,this.selectedItemsSource);-1!=yt&&(this.selectedItemsSource.splice(yt,1),this.keepSelection&&this.selectedItemsTarget.push(ot.item.data)),this.visibleOptionsSource&&this.visibleOptionsSource.splice(ot.previousIndex,1),this.onMoveToTarget.emit({items:[ot.item.data]})}else(0,x.bA)(ot.container.data,rt.previousIndex,rt.currentIndex),this.onTargetReorder.emit({items:[ot.item.data]});this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}getDropIndexes(ot,ge,ke,rt,yt){let Pt,Ht;return ke===this.SOURCE_LIST?(Pt=rt?this.filterValueTarget?r.gb.findIndexInList(yt,this.target):ot:this.filterValueSource?r.gb.findIndexInList(yt,this.source):ot,Ht=this.filterValueSource?this.findFilteredCurrentIndex(this.visibleOptionsSource,ge,this.source):ge):(Pt=rt?this.filterValueSource?r.gb.findIndexInList(yt,this.source):ot:this.filterValueTarget?r.gb.findIndexInList(yt,this.target):ot,Ht=this.filterValueTarget?this.findFilteredCurrentIndex(this.visibleOptionsTarget,ge,this.target):ge),{previousIndex:Pt,currentIndex:Ht}}findFilteredCurrentIndex(ot,ge,ke){return ot.length===ge?r.gb.findIndexInList(ot[ge-1],ke)+1:r.gb.findIndexInList(ot[ge],ke)}resetSourceFilter(){this.visibleOptionsSource=null,this.filterValueSource=null,this.sourceFilterViewChild&&(this.sourceFilterViewChild.nativeElement.value="")}resetTargetFilter(){this.visibleOptionsTarget=null,this.filterValueTarget=null,this.targetFilterViewChild&&(this.targetFilterViewChild.nativeElement.value="")}resetFilter(){this.resetSourceFilter(),this.resetTargetFilter()}onItemKeydown(ot,ge,ke,rt){let yt=ot.currentTarget;switch(ot.which){case 40:var Pt=this.findNextItem(yt);Pt&&Pt.focus(),ot.preventDefault();break;case 38:var Ht=this.findPrevItem(yt);Ht&&Ht.focus(),ot.preventDefault();break;case 13:this.onItemClick(ot,ge,ke,rt),ot.preventDefault()}}findNextItem(ot){let ge=ot.nextElementSibling;return ge?!_.p.hasClass(ge,"p-picklist-item")||_.p.isHidden(ge)?this.findNextItem(ge):ge:null}findPrevItem(ot){let ge=ot.previousElementSibling;return ge?!_.p.hasClass(ge,"p-picklist-item")||_.p.isHidden(ge)?this.findPrevItem(ge):ge:null}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n            @media screen and (max-width: ${this.breakpoint}) {\n                .p-picklist[${this.id}] {\n                    flex-direction: column;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons {\n                    padding: var(--content-padding);\n                    flex-direction: row;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button {\n                    margin-right: var(--inline-spacing);\n                    margin-bottom: 0;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button:last-child {\n                    margin-right: 0;\n                }\n\n                .p-picklist[${this.id}] .pi-angle-right:before {\n                    content: "\\e930"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-right:before {\n                    content: "\\e92c"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-left:before {\n                    content: "\\e933"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-left:before {\n                    content: "\\e92f"\n                }\n            }\n            `)}sourceMoveDisabled(){if(this.disabled||!this.selectedItemsSource.length)return!0}targetMoveDisabled(){if(this.disabled||!this.selectedItemsTarget.length)return!0}moveRightDisabled(){return this.disabled||r.gb.isEmpty(this.selectedItemsSource)}moveLeftDisabled(){return this.disabled||r.gb.isEmpty(this.selectedItemsTarget)}moveAllRightDisabled(){return this.disabled||r.gb.isEmpty(this.source)}moveAllLeftDisabled(){return this.disabled||r.gb.isEmpty(this.target)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return At.\u0275fac=function(ot){return new(ot||At)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(f.iZ))},At.\u0275cmp=e.Xpm({type:At,selectors:[["p-pickList"]],contentQueries:function(ot,ge,ke){if(1&ot&&e.Suo(ke,f.jx,4),2&ot){let rt;e.iGM(rt=e.CRH())&&(ge.templates=rt)}},viewQuery:function(ot,ge){if(1&ot&&(e.Gf(R,5),e.Gf(L,5),e.Gf(Q,5),e.Gf(N,5)),2&ot){let ke;e.iGM(ke=e.CRH())&&(ge.listViewSourceChild=ke.first),e.iGM(ke=e.CRH())&&(ge.listViewTargetChild=ke.first),e.iGM(ke=e.CRH())&&(ge.sourceFilterViewChild=ke.first),e.iGM(ke=e.CRH())&&(ge.targetFilterViewChild=ke.first)}},hostAttrs:[1,"p-element"],inputs:{source:"source",target:"target",sourceHeader:"sourceHeader",rightButtonAriaLabel:"rightButtonAriaLabel",leftButtonAriaLabel:"leftButtonAriaLabel",allRightButtonAriaLabel:"allRightButtonAriaLabel",allLeftButtonAriaLabel:"allLeftButtonAriaLabel",upButtonAriaLabel:"upButtonAriaLabel",downButtonAriaLabel:"downButtonAriaLabel",topButtonAriaLabel:"topButtonAriaLabel",bottomButtonAriaLabel:"bottomButtonAriaLabel",targetHeader:"targetHeader",responsive:"responsive",filterBy:"filterBy",filterLocale:"filterLocale",trackBy:"trackBy",sourceTrackBy:"sourceTrackBy",targetTrackBy:"targetTrackBy",showSourceFilter:"showSourceFilter",showTargetFilter:"showTargetFilter",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",style:"style",styleClass:"styleClass",sourceStyle:"sourceStyle",targetStyle:"targetStyle",showSourceControls:"showSourceControls",showTargetControls:"showTargetControls",sourceFilterPlaceholder:"sourceFilterPlaceholder",targetFilterPlaceholder:"targetFilterPlaceholder",disabled:"disabled",ariaSourceFilterLabel:"ariaSourceFilterLabel",ariaTargetFilterLabel:"ariaTargetFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",keepSelection:"keepSelection"},outputs:{onMoveToSource:"onMoveToSource",onMoveAllToSource:"onMoveAllToSource",onMoveAllToTarget:"onMoveAllToTarget",onMoveToTarget:"onMoveToTarget",onSourceReorder:"onSourceReorder",onTargetReorder:"onTargetReorder",onSourceSelect:"onSourceSelect",onTargetSelect:"onTargetSelect",onSourceFilter:"onSourceFilter",onTargetFilter:"onTargetFilter"},decls:22,vars:30,consts:[["cdkDropListGroup","",3,"ngStyle","ngClass"],["class","p-picklist-buttons p-picklist-source-controls",4,"ngIf"],[1,"p-picklist-list-wrapper","p-picklist-source-wrapper"],["class","p-picklist-header",4,"ngIf"],["class","p-picklist-filter-container",4,"ngIf"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-source",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["sourcelist",""],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"p-picklist-buttons","p-picklist-transfer-buttons"],["type","button","pButton","","pRipple","","icon","pi pi-angle-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-left",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-left",3,"disabled","click"],[1,"p-picklist-list-wrapper","p-picklist-target-wrapper"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-target",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["targetlist",""],["class","p-picklist-buttons p-picklist-target-controls",4,"ngIf"],[1,"p-picklist-buttons","p-picklist-source-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-picklist-header"],["class","p-picklist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-picklist-title"],[1,"p-picklist-filter-container"],[4,"ngIf","ngIfElse"],["builtInSourceElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-picklist-filter"],["type","text","role","textbox",1,"p-picklist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["sourceFilter",""],[1,"p-picklist-filter-icon","pi","pi-search"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown",4,"ngIf"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown"],["class","p-picklist-empty-message",4,"ngIf"],[1,"p-picklist-empty-message"],["builtInTargetElement",""],["targetFilter",""],[1,"p-picklist-buttons","p-picklist-target-controls"]],template:function(ot,ge){1&ot&&(e.TgZ(0,"div",0),e.YNc(1,T,5,8,"div",1),e.TgZ(2,"div",2),e.YNc(3,D,3,2,"div",3),e.YNc(4,V,4,2,"div",4),e.TgZ(5,"ul",5,6),e.NdJ("cdkDropListDropped",function(rt){return ge.onDrop(rt,ge.SOURCE_LIST)}),e.YNc(7,q,1,1,"ng-template",7),e.YNc(8,z,3,2,"ng-container",8),e.qZA()(),e.TgZ(9,"div",9)(10,"button",10),e.NdJ("click",function(){return ge.moveRight()}),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){return ge.moveAllRight()}),e.qZA(),e.TgZ(12,"button",12),e.NdJ("click",function(){return ge.moveLeft()}),e.qZA(),e.TgZ(13,"button",13),e.NdJ("click",function(){return ge.moveAllLeft()}),e.qZA()(),e.TgZ(14,"div",14),e.YNc(15,Y,3,2,"div",3),e.YNc(16,ye,4,2,"div",4),e.TgZ(17,"ul",15,16),e.NdJ("cdkDropListDropped",function(rt){return ge.onDrop(rt,ge.TARGET_LIST)}),e.YNc(19,be,1,1,"ng-template",7),e.YNc(20,et,3,2,"ng-container",8),e.qZA()(),e.YNc(21,vt,5,8,"div",17),e.qZA()),2&ot&&(e.Tol(ge.styleClass),e.Q6J("ngStyle",ge.style)("ngClass",e.VKq(28,ht,ge.stripedRows)),e.xp6(1),e.Q6J("ngIf",ge.showSourceControls),e.xp6(2),e.Q6J("ngIf",ge.sourceHeader||ge.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngIf",ge.filterBy&&!1!==ge.showSourceFilter),e.xp6(1),e.Q6J("cdkDropListData",ge.source)("ngStyle",ge.sourceStyle),e.xp6(2),e.Q6J("ngForOf",ge.source)("ngForTrackBy",ge.sourceTrackBy||ge.trackBy),e.xp6(1),e.Q6J("ngIf",ge.isEmpty(ge.SOURCE_LIST)&&(ge.emptyMessageSourceTemplate||ge.emptyFilterMessageSourceTemplate)),e.xp6(2),e.Q6J("disabled",ge.moveRightDisabled()),e.uIk("aria-label",ge.rightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ge.moveAllRightDisabled()),e.uIk("aria-label",ge.allRightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ge.moveLeftDisabled()),e.uIk("aria-label",ge.leftButtonAriaLabel),e.xp6(1),e.Q6J("disabled",ge.moveAllLeftDisabled()),e.uIk("aria-label",ge.allLeftButtonAriaLabel),e.xp6(2),e.Q6J("ngIf",ge.targetHeader||ge.targetHeaderTemplate),e.xp6(1),e.Q6J("ngIf",ge.filterBy&&!1!==ge.showTargetFilter),e.xp6(1),e.Q6J("cdkDropListData",ge.target)("ngStyle",ge.targetStyle),e.xp6(2),e.Q6J("ngForOf",ge.target)("ngForTrackBy",ge.targetTrackBy||ge.trackBy),e.xp6(1),e.Q6J("ngIf",ge.isEmpty(ge.TARGET_LIST)&&(ge.emptyMessageTargetTemplate||ge.emptyFilterMessageTargetTemplate)),e.xp6(1),e.Q6J("ngIf",ge.showTargetControls))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.Hq,P.H,x.Wj,x.Fd,x.Zt],styles:[".p-picklist{display:flex}.p-picklist-buttons{display:flex;flex-direction:column;justify-content:center}.p-picklist-list-wrapper{flex:1 1 50%}.p-picklist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-picklist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-picklist-item:not(.cdk-drag-disabled){cursor:move}.p-picklist-item.cdk-drag-placeholder{opacity:0}.p-picklist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-picklist-filter{position:relative}.p-picklist-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-picklist-filter-input{width:100%}.p-picklist-list.cdk-drop-list-dragging .p-picklist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),At})(),Nt=(()=>{class At{}return At.\u0275fac=function(ot){return new(ot||At)},At.\u0275mod=e.oAB({type:At}),At.\u0275inj=e.cJS({imports:[d.ez,u.hJ,f.m8,P.T,x._t,f.m8,x._t]}),At})()},8185:(hn,ft,b)=>{"use strict";b.d(ft,{k:()=>x,q:()=>r});var e=b(5e3),d=b(9808);function u(R,L){if(1&R&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&R){const Q=e.oxw(2);e.Udp("display",null!=Q.value&&0!==Q.value?"flex":"none"),e.xp6(1),e.AsE("",Q.value,"",Q.unit,"")}}function f(R,L){if(1&R&&(e.TgZ(0,"div",3),e.YNc(1,u,2,4,"div",4),e.qZA()),2&R){const Q=e.oxw();e.Udp("width",Q.value+"%"),e.xp6(1),e.Q6J("ngIf",Q.showValue)}}function _(R,L){1&R&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.qZA())}const P=function(R,L){return{"p-progressbar p-component":!0,"p-progressbar-determinate":R,"p-progressbar-indeterminate":L}};let x=(()=>{class R{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return R.\u0275fac=function(Q){return new(Q||R)},R.\u0275cmp=e.Xpm({type:R,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(Q,N){1&Q&&(e.TgZ(0,"div",0),e.YNc(1,f,2,3,"div",1),e.YNc(2,_,2,0,"div",2),e.qZA()),2&Q&&(e.Tol(N.styleClass),e.Q6J("ngStyle",N.style)("ngClass",e.WLB(7,P,"determinate"===N.mode,"indeterminate"===N.mode)),e.uIk("aria-valuenow",N.value),e.xp6(1),e.Q6J("ngIf","determinate"===N.mode),e.xp6(1),e.Q6J("ngIf","indeterminate"===N.mode))},dependencies:[d.mk,d.O5,d.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),R})(),r=(()=>{class R{}return R.\u0275fac=function(Q){return new(Q||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({imports:[d.ez]}),R})()},6198:(hn,ft,b)=>{"use strict";b.d(ft,{G:()=>u,L:()=>f});var e=b(5e3),d=b(9808);let u=(()=>{class _{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(x,r){1&x&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"circle",2),e.qZA()()),2&x&&(e.Q6J("ngStyle",r.style)("ngClass",r.styleClass),e.xp6(1),e.Udp("animation-duration",r.animationDuration),e.xp6(1),e.uIk("fill",r.fill)("stroke-width",r.strokeWidth))},dependencies:[d.mk,d.PC],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),_})(),f=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[d.ez]}),_})()},5787:(hn,ft,b)=>{"use strict";b.d(ft,{H:()=>_,T:()=>P});var e=b(5e3),d=b(9808),u=b(5730),f=b(9783);let _=(()=>{class x{constructor(R,L,Q){this.el=R,this.zone=L,this.config=Q}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(R){let L=this.getInk();if(!L||"none"===getComputedStyle(L,null).display)return;if(u.p.removeClass(L,"p-ink-active"),!u.p.getHeight(L)&&!u.p.getWidth(L)){let y=Math.max(u.p.getOuterWidth(this.el.nativeElement),u.p.getOuterHeight(this.el.nativeElement));L.style.height=y+"px",L.style.width=y+"px"}let Q=u.p.getOffset(this.el.nativeElement),N=R.pageX-Q.left+document.body.scrollTop-u.p.getWidth(L)/2,T=R.pageY-Q.top+document.body.scrollLeft-u.p.getHeight(L)/2;L.style.top=T+"px",L.style.left=N+"px",u.p.addClass(L,"p-ink-active"),this.timeout=setTimeout(()=>{let y=this.getInk();y&&u.p.removeClass(y,"p-ink-active")},401)}getInk(){for(let R=0;R<this.el.nativeElement.children.length;R++)if(-1!==this.el.nativeElement.children[R].className.indexOf("p-ink"))return this.el.nativeElement.children[R];return null}resetInk(){let R=this.getInk();R&&u.p.removeClass(R,"p-ink-active")}onAnimationEnd(R){this.timeout&&clearTimeout(this.timeout),u.p.removeClass(R.currentTarget,"p-ink-active")}create(){let R=document.createElement("span");R.className="p-ink",this.el.nativeElement.appendChild(R),this.animationListener=this.onAnimationEnd.bind(this),R.addEventListener("animationend",this.animationListener)}remove(){let R=this.getInk();R&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),R.removeEventListener("animationend",this.animationListener),u.p.removeElement(R))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return x.\u0275fac=function(R){return new(R||x)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(f.b4,8))},x.\u0275dir=e.lG2({type:x,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),x})(),P=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[d.ez]}),x})()},5871:(hn,ft,b)=>{"use strict";b.d(ft,{T:()=>Y,v:()=>Ae});var e=b(9808),d=b(5e3),u=b(9783),f=b(5730);const _=["element"],P=["content"];function x(Ee,qe){1&Ee&&d.GkF(0)}const r=function(Ee,qe){return{$implicit:Ee,options:qe}};function R(Ee,qe){if(1&Ee&&(d.ynx(0),d.YNc(1,x,1,0,"ng-container",7),d.BQk()),2&Ee){const ye=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",ye.contentTemplate)("ngTemplateOutletContext",d.WLB(2,r,ye.loadedItems,ye.getContentOptions()))}}function L(Ee,qe){1&Ee&&d.GkF(0)}function Q(Ee,qe){if(1&Ee&&(d.ynx(0),d.YNc(1,L,1,0,"ng-container",7),d.BQk()),2&Ee){const ye=qe.$implicit,Ge=qe.index,X=d.oxw(3);d.xp6(1),d.Q6J("ngTemplateOutlet",X.itemTemplate)("ngTemplateOutletContext",d.WLB(2,r,ye,X.getOptions(Ge)))}}const N=function(Ee){return{"p-scroller-loading":Ee}};function T(Ee,qe){if(1&Ee&&(d.TgZ(0,"div",8,9),d.YNc(2,Q,2,5,"ng-container",10),d.qZA()),2&Ee){const ye=d.oxw(2);d.Q6J("ngClass",d.VKq(4,N,ye.d_loading))("ngStyle",ye.contentStyle),d.xp6(2),d.Q6J("ngForOf",ye.loadedItems)("ngForTrackBy",ye._trackBy||ye.index)}}function y(Ee,qe){if(1&Ee&&d._UZ(0,"div",11),2&Ee){const ye=d.oxw(2);d.Q6J("ngStyle",ye.spacerStyle)}}function E(Ee,qe){1&Ee&&d.GkF(0)}const D=function(Ee){return{numCols:Ee}},U=function(Ee){return{options:Ee}};function B(Ee,qe){if(1&Ee&&(d.ynx(0),d.YNc(1,E,1,0,"ng-container",7),d.BQk()),2&Ee){const ye=qe.index,Ge=d.oxw(4);d.xp6(1),d.Q6J("ngTemplateOutlet",Ge.loaderTemplate)("ngTemplateOutletContext",d.VKq(4,U,Ge.getLoaderOptions(ye,Ge.both&&d.VKq(2,D,Ge._numItemsInViewport.cols))))}}function ce(Ee,qe){if(1&Ee&&(d.ynx(0),d.YNc(1,B,2,6,"ng-container",14),d.BQk()),2&Ee){const ye=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",ye.loaderArr)}}function $(Ee,qe){1&Ee&&d.GkF(0)}const V=function(){return{styleClass:"p-scroller-loading-icon"}};function k(Ee,qe){if(1&Ee&&(d.ynx(0),d.YNc(1,$,1,0,"ng-container",7),d.BQk()),2&Ee){const ye=d.oxw(4);d.xp6(1),d.Q6J("ngTemplateOutlet",ye.loaderIconTemplate)("ngTemplateOutletContext",d.VKq(3,U,d.DdM(2,V)))}}function O(Ee,qe){1&Ee&&d._UZ(0,"i",16)}function K(Ee,qe){if(1&Ee&&(d.YNc(0,k,2,5,"ng-container",0),d.YNc(1,O,1,0,"ng-template",null,15,d.W1O)),2&Ee){const ye=d.MAs(2),Ge=d.oxw(3);d.Q6J("ngIf",Ge.loaderIconTemplate)("ngIfElse",ye)}}const ue=function(Ee){return{"p-component-overlay":Ee}};function q(Ee,qe){if(1&Ee&&(d.TgZ(0,"div",12),d.YNc(1,ce,2,1,"ng-container",0),d.YNc(2,K,3,2,"ng-template",null,13,d.W1O),d.qZA()),2&Ee){const ye=d.MAs(3),Ge=d.oxw(2);d.Q6J("ngClass",d.VKq(3,ue,!Ge.loaderTemplate)),d.xp6(1),d.Q6J("ngIf",Ge.loaderTemplate)("ngIfElse",ye)}}const G=function(Ee,qe,ye){return{"p-scroller":!0,"p-scroller-inline":Ee,"p-both-scroll":qe,"p-horizontal-scroll":ye}};function ne(Ee,qe){if(1&Ee){const ye=d.EpF();d.ynx(0),d.TgZ(1,"div",2,3),d.NdJ("scroll",function(X){d.CHM(ye);const be=d.oxw();return d.KtG(be.onContainerScroll(X))}),d.YNc(3,R,2,5,"ng-container",0),d.YNc(4,T,3,6,"ng-template",null,4,d.W1O),d.YNc(6,y,1,1,"div",5),d.YNc(7,q,4,5,"div",6),d.qZA(),d.BQk()}if(2&Ee){const ye=d.MAs(5),Ge=d.oxw();d.xp6(1),d.Tol(Ge._styleClass),d.Q6J("ngStyle",Ge._style)("ngClass",d.kEZ(10,G,Ge.inline,Ge.both,Ge.horizontal)),d.uIk("id",Ge._id)("tabindex",Ge.tabindex),d.xp6(2),d.Q6J("ngIf",Ge.contentTemplate)("ngIfElse",ye),d.xp6(3),d.Q6J("ngIf",Ge._showSpacer),d.xp6(1),d.Q6J("ngIf",!Ge.loaderDisabled&&Ge._showLoader&&Ge.d_loading)}}function Ce(Ee,qe){1&Ee&&d.GkF(0)}const oe=function(Ee,qe){return{rows:Ee,columns:qe}};function z(Ee,qe){if(1&Ee&&(d.ynx(0),d.YNc(1,Ce,1,0,"ng-container",7),d.BQk()),2&Ee){const ye=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",ye.contentTemplate)("ngTemplateOutletContext",d.WLB(5,r,ye.items,d.WLB(2,oe,ye._items,ye.loadedColumns)))}}function te(Ee,qe){if(1&Ee&&(d.Hsn(0),d.YNc(1,z,2,8,"ng-container",17)),2&Ee){const ye=d.oxw();d.xp6(1),d.Q6J("ngIf",ye.contentTemplate)}}const W=["*"];let Y=(()=>{class Ee{constructor(ye,Ge){this.cd=ye,this.zone=Ge,this.onLazyLoad=new d.vpe,this.onScroll=new d.vpe,this.onScrollIndexChange=new d.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(ye){this._id=ye}get style(){return this._style}set style(ye){this._style=ye}get styleClass(){return this._styleClass}set styleClass(ye){this._styleClass=ye}get tabindex(){return this._tabindex}set tabindex(ye){this._tabindex=ye}get items(){return this._items}set items(ye){this._items=ye}get itemSize(){return this._itemSize}set itemSize(ye){this._itemSize=ye}get scrollHeight(){return this._scrollHeight}set scrollHeight(ye){this._scrollHeight=ye}get scrollWidth(){return this._scrollWidth}set scrollWidth(ye){this._scrollWidth=ye}get orientation(){return this._orientation}set orientation(ye){this._orientation=ye}get step(){return this._step}set step(ye){this._step=ye}get delay(){return this._delay}set delay(ye){this._delay=ye}get resizeDelay(){return this._resizeDelay}set resizeDelay(ye){this._resizeDelay=ye}get appendOnly(){return this._appendOnly}set appendOnly(ye){this._appendOnly=ye}get inline(){return this._inline}set inline(ye){this._inline=ye}get lazy(){return this._lazy}set lazy(ye){this._lazy=ye}get disabled(){return this._disabled}set disabled(ye){this._disabled=ye}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(ye){this._loaderDisabled=ye}get columns(){return this._columns}set columns(ye){this._columns=ye}get showSpacer(){return this._showSpacer}set showSpacer(ye){this._showSpacer=ye}get showLoader(){return this._showLoader}set showLoader(ye){this._showLoader=ye}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(ye){this._numToleratedItems=ye}get loading(){return this._loading}set loading(ye){this._loading=ye}get autoSize(){return this._autoSize}set autoSize(ye){this._autoSize=ye}get trackBy(){return this._trackBy}set trackBy(ye){this._trackBy=ye}get options(){return this._options}set options(ye){this._options=ye,ye&&"object"==typeof ye&&Object.entries(ye).forEach(([Ge,X])=>this[`_${Ge}`]!==X&&(this[`_${Ge}`]=X))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(ye=>this._columns?ye:ye.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(ye){var Ge,X,be,we;let Ie=!1;if(ye.loading){const{previousValue:ct,currentValue:dt}=ye.loading;this.lazy&&ct!==dt&&dt!==this.d_loading&&(this.d_loading=dt,Ie=!0)}if(ye.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),ye.numToleratedItems){const{previousValue:ct,currentValue:dt}=ye.numToleratedItems;ct!==dt&&dt!==this.d_numToleratedItems&&(this.d_numToleratedItems=dt)}if(ye.options){const{previousValue:ct,currentValue:dt}=ye.options;this.lazy&&(null==ct?void 0:ct.loading)!==(null==dt?void 0:dt.loading)&&(null==dt?void 0:dt.loading)!==this.d_loading&&(this.d_loading=dt.loading,Ie=!0),(null==ct?void 0:ct.numToleratedItems)!==(null==dt?void 0:dt.numToleratedItems)&&(null==dt?void 0:dt.numToleratedItems)!==this.d_numToleratedItems&&(this.d_numToleratedItems=dt.numToleratedItems)}this.initialized&&!Ie&&((null===(X=null===(Ge=ye.items)||void 0===Ge?void 0:Ge.previousValue)||void 0===X?void 0:X.length)!==(null===(we=null===(be=ye.items)||void 0===be?void 0:be.currentValue)||void 0===we?void 0:we.length)||ye.itemSize||ye.scrollHeight||ye.scrollWidth)&&this.init()}ngAfterContentInit(){this.templates.forEach(ye=>{switch(ye.getType()){case"content":this.contentTemplate=ye.template;break;case"item":default:this.itemTemplate=ye.template;break;case"loader":this.loaderTemplate=ye.template;break;case"loadericon":this.loaderIconTemplate=ye.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit(),this.calculateAutoSize()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){var ye;f.p.isVisible(null===(ye=this.elementViewChild)||void 0===ye?void 0:ye.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=f.p.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=f.p.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(ye){var Ge,X;this.contentEl=ye||(null===(Ge=this.contentViewChild)||void 0===Ge?void 0:Ge.nativeElement)||f.p.findSingle(null===(X=this.elementViewChild)||void 0===X?void 0:X.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(ye){var Ge,X;this.lastScrollPos=this.both?{top:0,left:0}:0,null===(X=null===(Ge=this.elementViewChild)||void 0===Ge?void 0:Ge.nativeElement)||void 0===X||X.scrollTo(ye)}scrollToIndex(ye,Ge="auto"){const{numToleratedItems:X}=this.calculateNumItems(),be=this.getContentPosition(),we=(dt=0,et)=>dt<=et?0:dt,Ie=(dt,et,vt)=>dt*et+vt,ct=(dt=0,et=0)=>this.scrollTo({left:dt,top:et,behavior:Ge});this.both?(this.first={rows:we(ye[0],X[0]),cols:we(ye[1],X[1])},ct(Ie(this.first.cols,this._itemSize[1],be.left),Ie(this.first.rows,this._itemSize[0],be.top))):(this.first=we(ye,X),this.horizontal?ct(Ie(this.first,this._itemSize,be.left),0):ct(0,Ie(this.first,this._itemSize,be.top)))}scrollInView(ye,Ge,X="auto"){if(Ge){const{first:be,viewport:we}=this.getRenderedRange(),Ie=(et=0,vt=0)=>this.scrollTo({left:et,top:vt,behavior:X}),dt="to-end"===Ge;if("to-start"===Ge){if(this.both)we.first.rows-be.rows>ye[0]?Ie(we.first.cols*this._itemSize[1],(we.first.rows-1)*this._itemSize[0]):we.first.cols-be.cols>ye[1]&&Ie((we.first.cols-1)*this._itemSize[1],we.first.rows*this._itemSize[0]);else if(we.first-be>ye){const et=(we.first-1)*this._itemSize;this.horizontal?Ie(et,0):Ie(0,et)}}else if(dt)if(this.both)we.last.rows-be.rows<=ye[0]+1?Ie(we.first.cols*this._itemSize[1],(we.first.rows+1)*this._itemSize[0]):we.last.cols-be.cols<=ye[1]+1&&Ie((we.first.cols+1)*this._itemSize[1],we.first.rows*this._itemSize[0]);else if(we.last-be<=ye+1){const et=(we.first+1)*this._itemSize;this.horizontal?Ie(et,0):Ie(0,et)}}else this.scrollToIndex(ye,X)}getRenderedRange(){var ye;const Ge=(we,Ie)=>Math.floor(we/(Ie||we));let X=this.first,be=0;if(null!==(ye=this.elementViewChild)&&void 0!==ye&&ye.nativeElement){const{scrollTop:we,scrollLeft:Ie}=this.elementViewChild.nativeElement;this.both?(X={rows:Ge(we,this._itemSize[0]),cols:Ge(Ie,this._itemSize[1])},be={rows:X.rows+this.numItemsInViewport.rows,cols:X.cols+this.numItemsInViewport.cols}):(X=Ge(this.horizontal?Ie:we,this._itemSize),be=X+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:X,last:be}}}calculateNumItems(){var ye,Ge;const X=this.getContentPosition(),be=null!==(ye=this.elementViewChild)&&void 0!==ye&&ye.nativeElement?this.elementViewChild.nativeElement.offsetWidth-X.left:0,we=null!==(Ge=this.elementViewChild)&&void 0!==Ge&&Ge.nativeElement?this.elementViewChild.nativeElement.offsetHeight-X.top:0,Ie=(vt,ht)=>Math.ceil(vt/(ht||vt)),ct=vt=>Math.ceil(vt/2),dt=this.both?{rows:Ie(we,this._itemSize[0]),cols:Ie(be,this._itemSize[1])}:Ie(this.horizontal?be:we,this._itemSize);return{numItemsInViewport:dt,numToleratedItems:this.d_numToleratedItems||(this.both?[ct(dt.rows),ct(dt.cols)]:ct(dt))}}calculateOptions(){const{numItemsInViewport:ye,numToleratedItems:Ge}=this.calculateNumItems(),X=(Ie,ct,dt,et=!1)=>this.getLast(Ie+ct+(Ie<dt?2:3)*dt,et),be=this.first,we=this.both?{rows:X(this.first.rows,ye.rows,Ge[0]),cols:X(this.first.cols,ye.cols,Ge[1],!0)}:X(this.first,ye,Ge);this.last=we,this.numItemsInViewport=ye,this.d_numToleratedItems=Ge,this.showLoader&&(this.loaderArr=this.both?Array.from({length:ye.rows}).map(()=>Array.from({length:ye.cols})):Array.from({length:ye})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:be.cols}:0:be,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:ye,offsetHeight:Ge}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(ye<this.defaultWidth?ye:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(Ge<this.defaultHeight?Ge:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(ye=0,Ge=!1){return this._items?Math.min(Ge?(this._columns||this._items[0]).length:this._items.length,ye):0}getContentPosition(){if(this.contentEl){const ye=getComputedStyle(this.contentEl),Ge=parseFloat(ye.paddingLeft)+Math.max(parseFloat(ye.left)||0,0),X=parseFloat(ye.paddingRight)+Math.max(parseFloat(ye.right)||0,0),be=parseFloat(ye.paddingTop)+Math.max(parseFloat(ye.top)||0,0),we=parseFloat(ye.paddingBottom)+Math.max(parseFloat(ye.bottom)||0,0);return{left:Ge,right:X,top:be,bottom:we,x:Ge+X,y:be+we}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){var ye;if(null!==(ye=this.elementViewChild)&&void 0!==ye&&ye.nativeElement){const Ge=this.elementViewChild.nativeElement.parentElement.parentElement,X=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||Ge.offsetWidth}px`,be=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||Ge.offsetHeight}px`,we=(Ie,ct)=>this.elementViewChild.nativeElement.style[Ie]=ct;this.both||this.horizontal?(we("height",be),we("width",X)):we("height",be)}}setSpacerSize(){if(this._items){const ye=this.getContentPosition(),Ge=(X,be,we,Ie=0)=>this.spacerStyle=Object.assign(Object.assign({},this.spacerStyle),{[`${X}`]:(be||[]).length*we+Ie+"px"});this.both?(Ge("height",this._items,this._itemSize[0],ye.y),Ge("width",this._columns||this._items[1],this._itemSize[1],ye.x)):this.horizontal?Ge("width",this._columns||this._items,this._itemSize,ye.x):Ge("height",this._items,this._itemSize,ye.y)}}setContentPosition(ye){if(this.contentEl&&!this._appendOnly){const Ge=ye?ye.first:this.first,X=(we,Ie)=>we*Ie,be=(we=0,Ie=0)=>this.contentStyle=Object.assign(Object.assign({},this.contentStyle),{transform:`translate3d(${we}px, ${Ie}px, 0)`});if(this.both)be(X(Ge.cols,this._itemSize[1]),X(Ge.rows,this._itemSize[0]));else{const we=X(Ge,this._itemSize);this.horizontal?be(we,0):be(0,we)}}}onScrollPositionChange(ye){const Ge=ye.target,X=this.getContentPosition(),be=(st,ot)=>st?st>ot?st-ot:st:0,we=(st,ot)=>Math.floor(st/(ot||st)),Ie=(st,ot,ge,ke,rt,yt)=>st<=rt?rt:yt?ge-ke-rt:ot+rt-1,ct=(st,ot,ge,ke,rt,yt,Pt)=>st<=yt?0:Math.max(0,Pt?st<ot?ge:st-yt:st>ot?ge:st-2*yt),dt=(st,ot,ge,ke,rt,yt=!1)=>{let Pt=ot+ke+2*rt;return st>=rt&&(Pt+=rt+1),this.getLast(Pt,yt)},et=be(Ge.scrollTop,X.top),vt=be(Ge.scrollLeft,X.left);let ht=this.both?{rows:0,cols:0}:0,Rt=this.last,Nt=!1,At=this.lastScrollPos;if(this.both){const st=this.lastScrollPos.top<=et,ot=this.lastScrollPos.left<=vt;if(!this._appendOnly||this._appendOnly&&(st||ot)){const ge={rows:we(et,this._itemSize[0]),cols:we(vt,this._itemSize[1])},ke={rows:Ie(ge.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],st),cols:Ie(ge.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],ot)};ht={rows:ct(ge.rows,ke.rows,this.first.rows,0,0,this.d_numToleratedItems[0],st),cols:ct(ge.cols,ke.cols,this.first.cols,0,0,this.d_numToleratedItems[1],ot)},Rt={rows:dt(ge.rows,ht.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:dt(ge.cols,ht.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},Nt=ht.rows!==this.first.rows||Rt.rows!==this.last.rows||ht.cols!==this.first.cols||Rt.cols!==this.last.cols,At={top:et,left:vt}}}else{const st=this.horizontal?vt:et,ot=this.lastScrollPos<=st;if(!this._appendOnly||this._appendOnly&&ot){const ge=we(st,this._itemSize);ht=ct(ge,Ie(ge,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,ot),this.first,0,0,this.d_numToleratedItems,ot),Rt=dt(ge,ht,0,this.numItemsInViewport,this.d_numToleratedItems),Nt=ht!==this.first||Rt!==this.last,At=st}}return{first:ht,last:Rt,isRangeChanged:Nt,scrollPos:At}}onScrollChange(ye){const{first:Ge,last:X,isRangeChanged:be,scrollPos:we}=this.onScrollPositionChange(ye);if(be){const Ie={first:Ge,last:X};if(this.setContentPosition(Ie),this.first=Ge,this.last=X,this.lastScrollPos=we,this.handleEvents("onScrollIndexChange",Ie),this._lazy&&this.isPageChanged){const ct={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):Ge,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:X,this.items.length)};(this.lazyLoadState.first!==ct.first||this.lazyLoadState.last!==ct.last)&&this.handleEvents("onLazyLoad",ct),this.lazyLoadState=ct}}}onContainerScroll(ye){if(this.handleEvents("onScroll",{originalEvent:ye}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:Ge}=this.onScrollPositionChange(ye);(Ge||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(ye),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(ye)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{var ye;if(f.p.isVisible(null===(ye=this.elementViewChild)||void 0===ye?void 0:ye.nativeElement)){const[Ge,X]=[f.p.getWidth(this.elementViewChild.nativeElement),f.p.getHeight(this.elementViewChild.nativeElement)],[be,we]=[Ge!==this.defaultWidth,X!==this.defaultHeight];(this.both?be||we:this.horizontal?be:this.vertical&&we)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=Ge,this.defaultHeight=X,this.init()})}},this._resizeDelay)}handleEvents(ye,Ge){return this.options&&this.options[ye]?this.options[ye](Ge):this[ye].emit(Ge)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:ye=>this.getOptions(ye),loading:this.d_loading,getLoaderOptions:(ye,Ge)=>this.getLoaderOptions(ye,Ge),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(ye){const Ge=(this._items||[]).length,X=this.both?this.first.rows+ye:this.first+ye;return{index:X,count:Ge,first:0===X,last:X===Ge-1,even:X%2==0,odd:X%2!=0}}getLoaderOptions(ye,Ge){const X=this.loaderArr.length;return Object.assign({index:ye,count:X,first:0===ye,last:ye===X-1,even:ye%2==0,odd:ye%2!=0},Ge)}}return Ee.\u0275fac=function(ye){return new(ye||Ee)(d.Y36(d.sBO),d.Y36(d.R0b))},Ee.\u0275cmp=d.Xpm({type:Ee,selectors:[["p-scroller"]],contentQueries:function(ye,Ge,X){if(1&ye&&d.Suo(X,u.jx,4),2&ye){let be;d.iGM(be=d.CRH())&&(Ge.templates=be)}},viewQuery:function(ye,Ge){if(1&ye&&(d.Gf(_,5),d.Gf(P,5)),2&ye){let X;d.iGM(X=d.CRH())&&(Ge.elementViewChild=X.first),d.iGM(X=d.CRH())&&(Ge.contentViewChild=X.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[d.TTD],ngContentSelectors:W,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(ye,Ge){if(1&ye&&(d.F$t(),d.YNc(0,ne,8,14,"ng-container",0),d.YNc(1,te,2,1,"ng-template",null,1,d.W1O)),2&ye){const X=d.MAs(2);d.Q6J("ngIf",!Ge._disabled)("ngIfElse",X)}},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),Ee})(),Ae=(()=>{class Ee{}return Ee.\u0275fac=function(ye){return new(ye||Ee)},Ee.\u0275mod=d.oAB({type:Ee}),Ee.\u0275inj=d.cJS({imports:[e.ez]}),Ee})()},7102:(hn,ft,b)=>{"use strict";b.d(ft,{Qy:()=>E,UN:()=>y});var e=b(5e3),d=b(9808),u=b(5921),f=b(5787),_=b(2382);function P(D,U){if(1&D&&e._UZ(0,"span",8),2&D){const B=e.oxw(2).$implicit;e.Tol(B.icon),e.Q6J("ngClass","p-button-icon p-button-icon-left")}}function x(D,U){if(1&D&&(e.ynx(0),e.YNc(1,P,1,3,"span",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.BQk()),2&D){const B=e.oxw().$implicit,ce=e.oxw();e.xp6(1),e.Q6J("ngIf",B.icon),e.xp6(2),e.Oqu(ce.getOptionLabel(B))}}function r(D,U){1&D&&e.GkF(0)}const R=function(D,U){return{$implicit:D,index:U}};function L(D,U){if(1&D&&e.YNc(0,r,1,0,"ng-container",9),2&D){const B=e.oxw(),ce=B.$implicit,$=B.index,V=e.oxw();e.Q6J("ngTemplateOutlet",V.itemTemplate)("ngTemplateOutletContext",e.WLB(2,R,ce,$))}}const Q=function(D,U,B){return{"p-highlight":D,"p-disabled":U,"p-button-icon-only":B}};function N(D,U){if(1&D){const B=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("click",function($){const V=e.CHM(B),k=V.$implicit,O=V.index,K=e.oxw();return e.KtG(K.onItemClick($,k,O))})("keydown.enter",function($){const V=e.CHM(B),k=V.$implicit,O=V.index,K=e.oxw();return e.KtG(K.onItemClick($,k,O))})("blur",function(){e.CHM(B);const $=e.oxw();return e.KtG($.onBlur())}),e.YNc(2,x,4,2,"ng-container",4),e.YNc(3,L,1,5,"ng-template",null,5,e.W1O),e.qZA()}if(2&D){const B=U.$implicit,ce=e.MAs(4),$=e.oxw();e.Tol(B.styleClass),e.Q6J("ngClass",e.kEZ(10,Q,$.isSelected(B),$.disabled||$.isOptionDisabled(B),B.icon&&!$.getOptionLabel(B))),e.uIk("aria-pressed",$.isSelected(B))("title",B.title)("aria-label",B.label)("tabindex",$.disabled?null:$.tabindex)("aria-labelledby",$.getOptionLabel(B)),e.xp6(2),e.Q6J("ngIf",!$.itemTemplate)("ngIfElse",ce)}}const T={provide:_.JU,useExisting:(0,e.Gpc)(()=>y),multi:!0};let y=(()=>{class D{constructor(B){this.cd=B,this.tabindex=0,this.onOptionClick=new e.vpe,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(B){return this.optionLabel?u.gb.resolveFieldData(B,this.optionLabel):null!=B.label?B.label:B}getOptionValue(B){return this.optionValue?u.gb.resolveFieldData(B,this.optionValue):this.optionLabel||void 0===B.value?B:B.value}isOptionDisabled(B){return this.optionDisabled?u.gb.resolveFieldData(B,this.optionDisabled):void 0!==B.disabled&&B.disabled}writeValue(B){this.value=B,this.cd.markForCheck()}registerOnChange(B){this.onModelChange=B}registerOnTouched(B){this.onModelTouched=B}setDisabledState(B){this.disabled=B,this.cd.markForCheck()}onItemClick(B,ce,$){if(!this.disabled&&!this.isOptionDisabled(ce)){if(this.multiple)this.isSelected(ce)?this.removeOption(ce):this.value=[...this.value||[],this.getOptionValue(ce)],this.onModelChange(this.value),this.onChange.emit({originalEvent:B,value:this.value});else{let V=this.getOptionValue(ce);this.value!==V&&(this.value=this.getOptionValue(ce),this.onModelChange(this.value),this.onChange.emit({originalEvent:B,value:this.value}))}this.onOptionClick.emit({originalEvent:B,option:ce,index:$})}}onBlur(){this.onModelTouched()}removeOption(B){this.value=this.value.filter(ce=>!u.gb.equals(ce,this.getOptionValue(B),this.dataKey))}isSelected(B){let ce=!1,$=this.getOptionValue(B);if(this.multiple){if(this.value&&this.value instanceof Array)for(let V of this.value)if(u.gb.equals(V,$,this.dataKey)){ce=!0;break}}else ce=u.gb.equals(this.getOptionValue(B),this.value,this.dataKey);return ce}}return D.\u0275fac=function(B){return new(B||D)(e.Y36(e.sBO))},D.\u0275cmp=e.Xpm({type:D,selectors:[["p-selectButton"]],contentQueries:function(B,ce,$){if(1&B&&e.Suo($,e.Rgc,5),2&B){let V;e.iGM(V=e.CRH())&&(ce.itemTemplate=V.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[e._Bn([T])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(B,ce){1&B&&(e.TgZ(0,"div",0),e.YNc(1,N,5,14,"div",1),e.qZA()),2&B&&(e.Tol(ce.styleClass),e.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",ce.style),e.xp6(1),e.Q6J("ngForOf",ce.options))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,f.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),D})(),E=(()=>{class D{}return D.\u0275fac=function(B){return new(B||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[d.ez,f.T]}),D})()},4500:(hn,ft,b)=>{"use strict";b.d(ft,{O:()=>u,m:()=>f});var e=b(5e3),d=b(9808);let u=(()=>{class _{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return Object.assign(Object.assign({},this.style),this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius})}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(x,r){1&x&&e._UZ(0,"div",0),2&x&&(e.Tol(r.styleClass),e.Q6J("ngClass",r.containerClass())("ngStyle",r.containerStyle()))},dependencies:[d.mk,d.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),_})(),f=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[d.ez]}),_})()},4496:(hn,ft,b)=>{"use strict";b.d(ft,{aj:()=>Ge,ce:()=>X});var e=b(5e3),d=b(1777),u=b(9808),f=b(5730),_=b(3470),P=b(5921),x=b(4119),r=b(9783);const R=["sublist"],L=function(be){return{"p-hidden":be}};function Q(be,we){if(1&be&&e._UZ(0,"li",5),2&be){const Ie=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,L,!1===Ie.visible))}}function N(be,we){if(1&be&&e._UZ(0,"span",17),2&be){const Ie=e.oxw(3).$implicit;e.Q6J("ngClass",Ie.icon)("ngStyle",Ie.iconStyle)}}function T(be,we){if(1&be&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&be){const Ie=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Ie.label)}}function y(be,we){if(1&be&&e._UZ(0,"span",19),2&be){const Ie=e.oxw(3).$implicit;e.Q6J("innerHTML",Ie.label,e.oJD)}}function E(be,we){if(1&be&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&be){const Ie=e.oxw(3).$implicit;e.Q6J("ngClass",Ie.badgeStyleClass),e.xp6(1),e.Oqu(Ie.badge)}}function D(be,we){1&be&&e._UZ(0,"span",21)}const U=function(be){return{"p-disabled":be}};function B(be,we){if(1&be){const Ie=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(dt){e.CHM(Ie);const et=e.oxw(3);return e.KtG(et.onItemKeyDown(dt))})("click",function(dt){e.CHM(Ie),e.oxw();const et=e.MAs(1),vt=e.oxw().$implicit,ht=e.oxw();return e.KtG(ht.itemClick(dt,vt,et))}),e.YNc(1,N,1,2,"span",12),e.YNc(2,T,2,1,"span",13),e.YNc(3,y,1,1,"ng-template",null,14,e.W1O),e.YNc(5,E,2,2,"span",15),e.YNc(6,D,1,0,"span",16),e.qZA()}if(2&be){const Ie=e.MAs(4),ct=e.oxw(2).$implicit,dt=e.oxw();e.Q6J("target",ct.target)("ngClass",e.VKq(11,U,ct.disabled)),e.uIk("href",ct.url,e.LSH)("title",ct.title)("id",ct.id)("tabindex",ct.disabled||!dt.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",ct.icon),e.xp6(1),e.Q6J("ngIf",!1!==ct.escape)("ngIfElse",Ie),e.xp6(3),e.Q6J("ngIf",ct.badge),e.xp6(1),e.Q6J("ngIf",ct.items)}}function ce(be,we){if(1&be&&e._UZ(0,"span",17),2&be){const Ie=e.oxw(3).$implicit;e.Q6J("ngClass",Ie.icon)("ngStyle",Ie.iconStyle)}}function $(be,we){if(1&be&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&be){const Ie=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Ie.label)}}function V(be,we){if(1&be&&e._UZ(0,"span",19),2&be){const Ie=e.oxw(3).$implicit;e.Q6J("innerHTML",Ie.label,e.oJD)}}function k(be,we){if(1&be&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&be){const Ie=e.oxw(3).$implicit;e.Q6J("ngClass",Ie.badgeStyleClass),e.xp6(1),e.Oqu(Ie.badge)}}function O(be,we){1&be&&e._UZ(0,"span",24)}const K=function(){return{exact:!1}};function ue(be,we){if(1&be){const Ie=e.EpF();e.TgZ(0,"a",22),e.NdJ("keydown",function(dt){e.CHM(Ie);const et=e.oxw(3);return e.KtG(et.onItemKeyDown(dt))})("click",function(dt){e.CHM(Ie),e.oxw();const et=e.MAs(1),vt=e.oxw().$implicit,ht=e.oxw();return e.KtG(ht.itemClick(dt,vt,et))}),e.YNc(1,ce,1,2,"span",12),e.YNc(2,$,2,1,"span",13),e.YNc(3,V,1,1,"ng-template",null,14,e.W1O),e.YNc(5,k,2,2,"span",15),e.YNc(6,O,1,0,"span",23),e.qZA()}if(2&be){const Ie=e.MAs(4),ct=e.oxw(2).$implicit,dt=e.oxw();e.Q6J("routerLink",ct.routerLink)("queryParams",ct.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",ct.routerLinkActiveOptions||e.DdM(21,K))("href",ct.url,e.LSH)("target",ct.target)("ngClass",e.VKq(22,U,ct.disabled))("fragment",ct.fragment)("queryParamsHandling",ct.queryParamsHandling)("preserveFragment",ct.preserveFragment)("skipLocationChange",ct.skipLocationChange)("replaceUrl",ct.replaceUrl)("state",ct.state),e.uIk("title",ct.title)("id",ct.id)("tabindex",ct.disabled||!dt.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",ct.icon),e.xp6(1),e.Q6J("ngIf",!1!==ct.escape)("ngIfElse",Ie),e.xp6(3),e.Q6J("ngIf",ct.badge),e.xp6(1),e.Q6J("ngIf",ct.items)}}function q(be,we){if(1&be&&e._UZ(0,"p-slideMenuSub",25),2&be){const Ie=e.oxw(2).$implicit,ct=e.oxw();e.Q6J("item",Ie)("index",ct.index+1)("menuWidth",ct.menuWidth)}}const G=function(be,we){return{"p-menuitem":!0,"p-menuitem-active":be,"p-hidden":we}};function ne(be,we){if(1&be&&(e.TgZ(0,"li",6,7),e.YNc(2,B,7,13,"a",8),e.YNc(3,ue,7,24,"a",9),e.YNc(4,q,1,3,"p-slideMenuSub",10),e.qZA()),2&be){const Ie=e.MAs(1),ct=e.oxw().$implicit,dt=e.oxw();e.Tol(ct.styleClass),e.Q6J("ngClass",e.WLB(8,G,Ie==dt.activeItem,!1===ct.visible))("tooltipOptions",ct.tooltipOptions)("ngStyle",ct.style),e.xp6(2),e.Q6J("ngIf",!ct.routerLink),e.xp6(1),e.Q6J("ngIf",ct.routerLink),e.xp6(1),e.Q6J("ngIf",ct.items)}}function Ce(be,we){if(1&be&&(e.YNc(0,Q,1,3,"li",3),e.YNc(1,ne,5,11,"li",4)),2&be){const Ie=we.$implicit;e.Q6J("ngIf",Ie.separator),e.xp6(1),e.Q6J("ngIf",!Ie.separator)}}const oe=function(be,we,Ie){return{"p-slidemenu-rootlist":be,"p-submenu-list":we,"p-active-submenu":Ie}},z=["container"],te=["backward"],W=["slideMenuContent"],Y=function(be){return{"p-slidemenu p-component":!0,"p-slidemenu-overlay":be}},Ae=function(be,we){return{showTransitionParams:be,hideTransitionParams:we}},Ee=function(be){return{value:"visible",params:be}};function qe(be,we){if(1&be){const Ie=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(dt){e.CHM(Ie);const et=e.oxw();return e.KtG(et.onOverlayClick(dt))})("@overlayAnimation.start",function(dt){e.CHM(Ie);const et=e.oxw();return e.KtG(et.onOverlayAnimationStart(dt))})("@overlayAnimation.done",function(dt){e.CHM(Ie);const et=e.oxw();return e.KtG(et.onOverlayAnimationEnd(dt))}),e.TgZ(2,"div",3)(3,"div",4,5),e._UZ(5,"p-slideMenuSub",6),e.qZA(),e.TgZ(6,"a",7,8),e.NdJ("keydown.enter",function(dt){e.CHM(Ie);const et=e.oxw();return e.KtG(et.onBackwardKeydown(dt))})("keydown.space",function(dt){e.CHM(Ie);const et=e.oxw();return e.KtG(et.onBackwardKeydown(dt))})("click",function(){e.CHM(Ie);const dt=e.oxw();return e.KtG(dt.goBack())}),e._UZ(8,"span",9),e.TgZ(9,"span"),e._uU(10),e.qZA()()()()}if(2&be){const Ie=e.oxw();e.Tol(Ie.styleClass),e.Q6J("ngClass",e.VKq(18,Y,Ie.popup))("ngStyle",Ie.style)("@overlayAnimation",e.VKq(23,Ee,e.WLB(20,Ae,Ie.showTransitionOptions,Ie.hideTransitionOptions)))("@.disabled",!0!==Ie.popup),e.xp6(2),e.Udp("height",Ie.left?Ie.viewportHeight+"px":"auto")("width",Ie.menuWidth+"px"),e.xp6(3),e.Q6J("item",Ie.model)("index",0)("menuWidth",Ie.menuWidth)("effectDuration",Ie.effectDuration)("easing",Ie.easing),e.xp6(1),e.Udp("display",Ie.left?"block":"none"),e.xp6(4),e.Oqu(Ie.backLabel)}}let ye=(()=>{class be{constructor(Ie){this.backLabel="Back",this.easing="ease-out",this.slideMenu=Ie}itemClick(Ie,ct,dt){ct.disabled?Ie.preventDefault():(!ct.url&&!ct.routerLink&&Ie.preventDefault(),ct.command&&ct.command({originalEvent:Ie,item:ct}),ct.items&&!this.slideMenu.animating&&(this.slideMenu.left-=this.slideMenu.menuWidth,this.activeItem=dt,this.slideMenu.animating=!0,setTimeout(()=>this.slideMenu.animating=!1,this.effectDuration)),!ct.items&&this.slideMenu.popup&&this.slideMenu.hide())}focusNextList(Ie){if(!this.slideMenu.animating){let ct=f.p.getFocusableElements(Ie);ct&&ct.length>0&&ct[0].focus(),this.unbindTransitionEndListener()}}onItemKeyDown(Ie){let ct=Ie.currentTarget.parentElement;switch(Ie.code){case"Space":case"Enter":ct&&!f.p.hasClass(ct,"p-disabled")&&(ct.children[0].click(),this.transitionEndListener=this.focusNextList.bind(this,ct),this.sublistViewChild.nativeElement.addEventListener("transitionend",this.transitionEndListener)),Ie.preventDefault()}}unbindTransitionEndListener(){this.transitionEndListener&&this.sublistViewChild&&(this.sublistViewChild.nativeElement.removeEventListener("transitionend",this.transitionEndListener),this.transitionEndListener=null)}ngOnDestroy(){this.activeItem=null,this.unbindTransitionEndListener()}get isActive(){return-this.slideMenu.left==this.index*this.menuWidth}}return be.\u0275fac=function(Ie){return new(Ie||be)(e.Y36((0,e.Gpc)(()=>Ge)))},be.\u0275cmp=e.Xpm({type:be,selectors:[["p-slideMenuSub"]],viewQuery:function(Ie,ct){if(1&Ie&&e.Gf(R,5),2&Ie){let dt;e.iGM(dt=e.CRH())&&(ct.sublistViewChild=dt.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",backLabel:"backLabel",menuWidth:"menuWidth",effectDuration:"effectDuration",easing:"easing",index:"index"},decls:3,vars:16,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","tooltipOptions","class","ngStyle",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","tooltipOptions","ngStyle"],["listitem",""],["class","p-menuitem-link",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["class","p-submenu",3,"item","index","menuWidth",4,"ngIf"],[1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlRouteLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-fw pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-fw","pi-angle-right"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-submenu-icon pi pi-fw pi-caret-right",4,"ngIf"],[1,"p-submenu-icon","pi","pi-fw","pi-caret-right"],[1,"p-submenu",3,"item","index","menuWidth"]],template:function(Ie,ct){1&Ie&&(e.TgZ(0,"ul",0,1),e.YNc(2,Ce,2,2,"ng-template",2),e.qZA()),2&Ie&&(e.Udp("width",ct.menuWidth,"px")("left",ct.root?ct.slideMenu.left:ct.slideMenu.menuWidth,"px")("transition-property",ct.root?"left":"none")("transition-duration",ct.effectDuration+"ms")("transition-timing-function",ct.easing),e.Q6J("ngClass",e.kEZ(12,oe,ct.root,!ct.root,ct.isActive)),e.xp6(2),e.Q6J("ngForOf",ct.root?ct.item:ct.item.items))},dependencies:[u.mk,u.sg,u.O5,u.PC,_.yS,_.Od,x.u,be],encapsulation:2}),be})(),Ge=(()=>{class be{constructor(Ie,ct,dt,et,vt){this.el=Ie,this.renderer=ct,this.cd=dt,this.config=et,this.overlayService=vt,this.menuWidth=190,this.viewportHeight=180,this.effectDuration=250,this.easing="ease-out",this.backLabel="Back",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.left=0,this.animating=!1}ngAfterViewChecked(){!this.viewportUpdated&&!this.popup&&this.containerViewChild&&(this.updateViewPort(),this.viewportUpdated=!0)}set container(Ie){this.containerViewChild=Ie}set backward(Ie){this.backwardViewChild=Ie}set slideMenuContent(Ie){this.slideMenuContentViewChild=Ie}updateViewPort(){this.slideMenuContentViewChild.nativeElement.style.height=this.viewportHeight-f.p.getHiddenElementOuterHeight(this.backwardViewChild.nativeElement)+"px"}toggle(Ie){this.visible?this.hide():this.show(Ie),this.preventDocumentDefault=!0}show(Ie){this.target=Ie.currentTarget,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(Ie){this.popup&&this.overlayService.add({originalEvent:Ie,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(Ie){switch(Ie.toState){case"visible":this.popup&&(this.updateViewPort(),this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),f.p.absolutePosition(this.containerViewChild.nativeElement,this.target),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(Ie){"void"===Ie.toState&&P.P9.clear(Ie.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):f.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement)}moveOnTop(){this.autoZIndex&&P.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!f.p.isTouchDevice()&&this.hide()}goBack(){this.left+=this.menuWidth}onBackwardKeydown(Ie){this.goBack(),this.left||setTimeout(()=>{let ct=f.p.getFocusableElements(this.el.nativeElement);ct&&ct.length>0&&ct[0].focus()},1),Ie.preventDefault()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||(this.hide(),this.cd.detectChanges()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.left=0,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}}return be.\u0275fac=function(Ie){return new(Ie||be)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(r.b4),e.Y36(r.F0))},be.\u0275cmp=e.Xpm({type:be,selectors:[["p-slideMenu"]],viewQuery:function(Ie,ct){if(1&Ie&&(e.Gf(z,5),e.Gf(te,5),e.Gf(W,5)),2&Ie){let dt;e.iGM(dt=e.CRH())&&(ct.container=dt.first),e.iGM(dt=e.CRH())&&(ct.backward=dt.first),e.iGM(dt=e.CRH())&&(ct.slideMenuContent=dt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",menuWidth:"menuWidth",viewportHeight:"viewportHeight",effectDuration:"effectDuration",easing:"easing",backLabel:"backLabel",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-slidemenu-wrapper"],[1,"p-slidemenu-content"],["slideMenuContent",""],["root","root",3,"item","index","menuWidth","effectDuration","easing"],["tabindex","0",1,"p-slidemenu-backward","p-menuitem-link",3,"keydown.enter","keydown.space","click"],["backward",""],[1,"p-slidemenu-backward-icon","pi","pi-fw","pi-caret-left"]],template:function(Ie,ct){1&Ie&&e.YNc(0,qe,11,25,"div",0),2&Ie&&e.Q6J("ngIf",!ct.popup||ct.visible)},dependencies:[u.mk,u.O5,u.PC,ye],styles:[".p-slidemenu{width:12.5rem}.p-slidemenu.p-slidemenu-overlay{position:absolute;top:0;left:0}.p-slidemenu ul{list-style:none;margin:0;padding:0}.p-slidemenu .p-slidemenu-rootlist{position:absolute;top:0}.p-slidemenu .p-submenu-list{display:none;position:absolute;top:0;width:12.5rem}.p-slidemenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden}.p-slidemenu .p-menuitem-icon,.p-slidemenu .p-menuitem-text{vertical-align:middle}.p-slidemenu .p-menuitem{position:relative}.p-slidemenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-slidemenu .p-slidemenu-wrapper{position:relative}.p-slidemenu .p-slidemenu-content{overflow-x:hidden;overflow-y:auto;position:relative}.p-slidemenu-backward{position:absolute;bottom:0;width:100%;cursor:pointer;display:none}.p-slidemenu-backward .p-slidemenu-backward-icon,.p-slidemenu-backward span{vertical-align:middle}.p-slidemenu .p-menuitem-active{position:static}.p-slidemenu .p-menuitem-active>.p-submenu>.p-submenu-list{display:block}.p-slidemenu ul:not(.p-active-submenu)>.p-menuitem:not(.p-menuitem-active),.p-slidemenu .p-active-submenu>.p-menuitem-active>.p-submenu>.p-submenu-list{display:none}.p-slidemenu .p-active-submenu>.p-menuitem-active~.p-menuitem{display:block}\n"],encapsulation:2,data:{animation:[(0,d.X$)("overlayAnimation",[(0,d.eR)(":enter",[(0,d.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,d.jt)("{{showTransitionParams}}")]),(0,d.eR)(":leave",[(0,d.jt)("{{hideTransitionParams}}",(0,d.oB)({opacity:0}))])])]},changeDetection:0}),be})(),X=(()=>{class be{}return be.\u0275fac=function(Ie){return new(Ie||be)},be.\u0275mod=e.oAB({type:be}),be.\u0275inj=e.cJS({imports:[u.ez,_.Bz,x.z,_.Bz,x.z]}),be})()},4776:(hn,ft,b)=>{"use strict";b.d(ft,{JH:()=>K,iR:()=>O});var e=b(9808),d=b(5e3),u=b(2382),f=b(5730);const _=["sliderHandle"],P=["sliderHandleStart"],x=["sliderHandleEnd"],r=function(ue,q){return{left:ue,width:q}};function R(ue,q){if(1&ue&&d._UZ(0,"span",4),2&ue){const G=d.oxw();d.Q6J("ngStyle",d.WLB(1,r,null!=G.offset?G.offset+"%":G.handleValues[0]+"%",G.diff?G.diff+"%":G.handleValues[1]-G.handleValues[0]+"%"))}}const L=function(ue,q){return{bottom:ue,height:q}};function Q(ue,q){if(1&ue&&d._UZ(0,"span",4),2&ue){const G=d.oxw();d.Q6J("ngStyle",d.WLB(1,L,null!=G.offset?G.offset+"%":G.handleValues[0]+"%",G.diff?G.diff+"%":G.handleValues[1]-G.handleValues[0]+"%"))}}const N=function(ue){return{height:ue}};function T(ue,q){if(1&ue&&d._UZ(0,"span",4),2&ue){const G=d.oxw();d.Q6J("ngStyle",d.VKq(1,N,G.handleValue+"%"))}}const y=function(ue){return{width:ue}};function E(ue,q){if(1&ue&&d._UZ(0,"span",4),2&ue){const G=d.oxw();d.Q6J("ngStyle",d.VKq(1,y,G.handleValue+"%"))}}const D=function(ue,q){return{left:ue,bottom:q}};function U(ue,q){if(1&ue){const G=d.EpF();d.TgZ(0,"span",5,6),d.NdJ("keydown",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onHandleKeydown(Ce))})("mousedown",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onMouseDown(Ce))})("touchstart",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchStart(Ce))})("touchmove",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchMove(Ce))})("touchend",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchEnd(Ce))}),d.qZA()}if(2&ue){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(8,D,"horizontal"==G.orientation?G.handleValue+"%":null,"vertical"==G.orientation?G.handleValue+"%":null)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}const B=function(ue){return{"p-slider-handle-active":ue}};function ce(ue,q){if(1&ue){const G=d.EpF();d.TgZ(0,"span",7,8),d.NdJ("keydown",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onHandleKeydown(Ce,0))})("mousedown",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onMouseDown(Ce,0))})("touchstart",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchStart(Ce,0))})("touchmove",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchMove(Ce,0))})("touchend",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchEnd(Ce))}),d.qZA()}if(2&ue){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(9,D,G.rangeStartLeft,G.rangeStartBottom))("ngClass",d.VKq(12,B,0==G.handleIndex)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value?G.value[0]:null)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}function $(ue,q){if(1&ue){const G=d.EpF();d.TgZ(0,"span",7,9),d.NdJ("keydown",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onHandleKeydown(Ce,1))})("mousedown",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onMouseDown(Ce,1))})("touchstart",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchStart(Ce,1))})("touchmove",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchMove(Ce,1))})("touchend",function(Ce){d.CHM(G);const oe=d.oxw();return d.KtG(oe.onTouchEnd(Ce))}),d.qZA()}if(2&ue){const G=d.oxw();d.Udp("transition",G.dragging?"none":null),d.Q6J("ngStyle",d.WLB(9,D,G.rangeEndLeft,G.rangeEndBottom))("ngClass",d.VKq(12,B,1==G.handleIndex)),d.uIk("tabindex",G.disabled?null:G.tabindex)("aria-valuemin",G.min)("aria-valuenow",G.value?G.value[1]:null)("aria-valuemax",G.max)("aria-labelledby",G.ariaLabelledBy)}}const V=function(ue,q,G,ne){return{"p-slider p-component":!0,"p-disabled":ue,"p-slider-horizontal":q,"p-slider-vertical":G,"p-slider-animate":ne}},k={provide:u.JU,useExisting:(0,d.Gpc)(()=>O),multi:!0};let O=(()=>{class ue{constructor(G,ne,Ce,oe){this.el=G,this.renderer=ne,this.ngZone=Ce,this.cd=oe,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new d.vpe,this.onSlideEnd=new d.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(G,ne){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:ne,this.bindDragListeners(),G.target.focus(),G.preventDefault(),this.animate&&f.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(G,ne){if(!this.disabled){var Ce=G.changedTouches[0];this.startHandleValue=this.range?this.handleValues[ne]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:ne,"horizontal"===this.orientation?(this.startx=parseInt(Ce.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(Ce.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&f.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),G.preventDefault()}}onTouchMove(G,ne){if(!this.disabled){var oe,Ce=G.changedTouches[0];oe="horizontal"===this.orientation?Math.floor(100*(parseInt(Ce.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(Ce.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(G,oe),G.preventDefault()}}onTouchEnd(G,ne){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:G,values:this.values}:{originalEvent:G,value:this.value}),this.animate&&f.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),G.preventDefault())}onBarClick(G){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(G)),this.sliderHandleClick=!1)}onHandleKeydown(G,ne){this.disabled||(38==G.which||39==G.which?this.spin(G,1,ne):(37==G.which||40==G.which)&&this.spin(G,-1,ne))}spin(G,ne,Ce){let oe=(this.step||1)*ne;this.range?(this.handleIndex=Ce,this.updateValue(this.values[this.handleIndex]+oe),this.updateHandleValue()):(this.updateValue(this.value+oe),this.updateHandleValue()),G.preventDefault()}handleChange(G){let ne=this.calculateHandleValue(G);this.setValueFromHandle(G,ne)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const G=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(G,"mousemove",ne=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(ne)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(G,"mouseup",ne=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:ne,values:this.values}:{originalEvent:ne,value:this.value}),this.animate&&f.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(G,ne){this.sliderHandleClick=!1;let Ce=this.getValueFromHandle(ne);this.range?this.step?this.handleStepChange(Ce,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=ne,this.updateValue(Ce,G)):this.step?this.handleStepChange(Ce,this.value):(this.handleValue=ne,this.updateValue(Ce,G)),this.cd.markForCheck()}handleStepChange(G,ne){let Ce=G-ne,oe=ne;Ce<0?oe=ne+Math.ceil(G/this.step-ne/this.step)*this.step:Ce>0&&(oe=ne+Math.floor(G/this.step-ne/this.step)*this.step),this.updateValue(oe),this.updateHandleValue()}writeValue(G){this.range?this.values=G||[0,0]:this.value=G||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(G){this.onModelChange=G}registerOnTouched(G){this.onModelTouched=G}setDisabledState(G){this.disabled=G,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let G=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=G.left+f.p.getWindowScrollLeft(),this.initY=G.top+f.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(G){return"horizontal"===this.orientation?100*(G.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-G.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(G,ne){if(this.range){let Ce=G;0==this.handleIndex?(Ce<this.min?(Ce=this.min,this.handleValues[0]=0):Ce>this.values[1]&&Ce>this.max&&(Ce=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(Ce>this.max?(Ce=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):Ce<this.min?(Ce=this.min,this.handleValues[1]=0):Ce<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(Ce),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:ne,values:this.values})}else G<this.min?(G=this.min,this.handleValue=0):G>this.max&&(G=this.max,this.handleValue=100),this.value=this.getNormalizedValue(G),this.onModelChange(this.value),this.onChange.emit({event:ne,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(G){return G/100*(this.max-this.min)+this.min}getDecimalsCount(G){return G&&Math.floor(G)!==G&&G.toString().split(".")[1].length||0}getNormalizedValue(G){let ne=this.getDecimalsCount(this.step);return ne>0?+parseFloat(G.toString()).toFixed(ne):Math.floor(G)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return ue.\u0275fac=function(G){return new(G||ue)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(d.sBO))},ue.\u0275cmp=d.Xpm({type:ue,selectors:[["p-slider"]],viewQuery:function(G,ne){if(1&G&&(d.Gf(_,5),d.Gf(P,5),d.Gf(x,5)),2&G){let Ce;d.iGM(Ce=d.CRH())&&(ne.sliderHandle=Ce.first),d.iGM(Ce=d.CRH())&&(ne.sliderHandleStart=Ce.first),d.iGM(Ce=d.CRH())&&(ne.sliderHandleEnd=Ce.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[d._Bn([k])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(G,ne){1&G&&(d.TgZ(0,"div",0),d.NdJ("click",function(oe){return ne.onBarClick(oe)}),d.YNc(1,R,1,4,"span",1),d.YNc(2,Q,1,4,"span",1),d.YNc(3,T,1,3,"span",1),d.YNc(4,E,1,3,"span",1),d.YNc(5,U,2,11,"span",2),d.YNc(6,ce,2,14,"span",3),d.YNc(7,$,2,14,"span",3),d.qZA()),2&G&&(d.Tol(ne.styleClass),d.Q6J("ngStyle",ne.style)("ngClass",d.l5B(11,V,ne.disabled,"horizontal"==ne.orientation,"vertical"==ne.orientation,ne.animate)),d.xp6(1),d.Q6J("ngIf",ne.range&&"horizontal"==ne.orientation),d.xp6(1),d.Q6J("ngIf",ne.range&&"vertical"==ne.orientation),d.xp6(1),d.Q6J("ngIf",!ne.range&&"vertical"==ne.orientation),d.xp6(1),d.Q6J("ngIf",!ne.range&&"horizontal"==ne.orientation),d.xp6(1),d.Q6J("ngIf",!ne.range),d.xp6(1),d.Q6J("ngIf",ne.range),d.xp6(1),d.Q6J("ngIf",ne.range))},dependencies:[e.mk,e.O5,e.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),ue})(),K=(()=>{class ue{}return ue.\u0275fac=function(G){return new(G||ue)},ue.\u0275mod=d.oAB({type:ue}),ue.\u0275inj=d.cJS({imports:[e.ez]}),ue})()},9955:(hn,ft,b)=>{"use strict";b.d(ft,{l:()=>Ie});var e=b(5e3),d=b(9808),u=b(845),f=b(3470),_=b(5787),P=b(4119);let Ae=(()=>{class ct{}return ct.\u0275fac=function(et){return new(et||ct)},ct.\u0275mod=e.oAB({type:ct}),ct.\u0275inj=e.cJS({imports:[d.ez,f.Bz,_.T,P.z,f.Bz,P.z]}),ct})(),Ie=(()=>{class ct{}return ct.\u0275fac=function(et){return new(et||ct)},ct.\u0275mod=e.oAB({type:ct}),ct.\u0275inj=e.cJS({imports:[d.ez,u.hJ,Ae,u.hJ,Ae]}),ct})()},8952:(hn,ft,b)=>{"use strict";b.d(ft,{YL:()=>Vs,xl:()=>Yo,Wq:()=>rs,on:()=>Ir,jB:()=>cr,Ei:()=>$i,fz:()=>ir,lQ:()=>As,iA:()=>ei,U$:()=>kr});var e=b(1777),d=b(9808),u=b(5e3),f=b(2382),_=b(9783),P=b(845),x=b(5652),r=b(5730),R=b(4036),L=b(7010),Q=b(1424),N=b(4132),T=b(5871),y=b(7102);const E=function(Et,pn,ie){return{"p-checkbox-label-active":Et,"p-disabled":pn,"p-checkbox-label-focus":ie}};function D(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"label",7),u.NdJ("click",function(It){u.CHM(ie);const Jt=u.oxw(),Pn=u.MAs(3);return u.KtG(Jt.onClick(It,Pn))}),u._uU(1),u.qZA()}if(2&Et){const ie=u.oxw();u.Q6J("ngClass",u.kEZ(3,E,null!=ie.value,ie.disabled,ie.focused)),u.uIk("for",ie.inputId),u.xp6(1),u.Oqu(ie.label)}}const U=function(Et,pn){return{"p-checkbox p-component":!0,"p-checkbox-disabled":Et,"p-checkbox-focused":pn}},B=function(Et,pn,ie){return{"p-highlight":Et,"p-disabled":pn,"p-focus":ie}},ce={provide:f.JU,useExisting:(0,u.Gpc)(()=>$),multi:!0};let $=(()=>{class Et{constructor(ie){this.cd=ie,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(ie,Le){!this.disabled&&!this.readonly&&(this.toggle(ie),this.focused=!0,Le.focus())}onKeydown(ie){32==ie.keyCode&&ie.preventDefault()}onKeyup(ie){32==ie.keyCode&&!this.readonly&&(this.toggle(ie),ie.preventDefault())}toggle(ie){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:ie,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(ie){this.onModelChange=ie}registerOnTouched(ie){this.onModelTouched=ie}writeValue(ie){this.value=ie,this.cd.markForCheck()}setDisabledState(ie){this.disabled=ie,this.cd.markForCheck()}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(u.sBO))},Et.\u0275cmp=u.Xpm({type:Et,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[u._Bn([ce])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(ie,Le){if(1&ie){const It=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),u.NdJ("keyup",function(Pn){return Le.onKeyup(Pn)})("keydown",function(Pn){return Le.onKeydown(Pn)})("focus",function(){return Le.onFocus()})("blur",function(){return Le.onBlur()}),u.qZA()(),u.TgZ(4,"div",4),u.NdJ("click",function(Pn){u.CHM(It);const qn=u.MAs(3);return u.KtG(Le.onClick(Pn,qn))}),u._UZ(5,"span",5),u.qZA()(),u.YNc(6,D,2,7,"label",6)}2&ie&&(u.Tol(Le.styleClass),u.Q6J("ngStyle",Le.style)("ngClass",u.WLB(14,U,Le.disabled,Le.focused)),u.xp6(2),u.Q6J("name",Le.name)("readonly",Le.readonly)("disabled",Le.disabled),u.uIk("id",Le.inputId)("tabindex",Le.tabindex)("aria-labelledby",Le.ariaLabelledBy),u.xp6(2),u.Q6J("ngClass",u.kEZ(17,B,null!=Le.value,Le.disabled,Le.focused)),u.uIk("aria-checked",!0===Le.value),u.xp6(1),u.Q6J("ngClass",!0===Le.value?Le.checkboxTrueIcon:!1===Le.value?Le.checkboxFalseIcon:""),u.xp6(1),u.Q6J("ngIf",Le.label))},dependencies:[d.mk,d.O5,d.PC],encapsulation:2,changeDetection:0}),Et})(),V=(()=>{class Et{}return Et.\u0275fac=function(ie){return new(ie||Et)},Et.\u0275mod=u.oAB({type:Et}),Et.\u0275inj=u.cJS({imports:[d.ez]}),Et})();var k=b(5921),O=b(7579);const K=["container"],ue=["resizeHelper"],q=["reorderIndicatorUp"],G=["reorderIndicatorDown"],ne=["wrapper"],Ce=["table"],oe=["thead"],z=["tfoot"],te=["scroller"];function W(Et,pn){if(1&Et&&(u.TgZ(0,"div",15),u._UZ(1,"i"),u.qZA()),2&Et){const ie=u.oxw();u.xp6(1),u.Tol("p-datatable-loading-icon pi-spin "+ie.loadingIcon)}}function Y(Et,pn){1&Et&&u.GkF(0)}function Ae(Et,pn){if(1&Et&&(u.TgZ(0,"div",16),u.YNc(1,Y,1,0,"ng-container",17),u.qZA()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ie.captionTemplate)}}function Ee(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"p-paginator",18),u.NdJ("onPageChange",function(It){u.CHM(ie);const Jt=u.oxw();return u.KtG(Jt.onPageChange(It))}),u.qZA()}if(2&Et){const ie=u.oxw();u.Q6J("rows",ie.rows)("first",ie.first)("totalRecords",ie.totalRecords)("pageLinkSize",ie.pageLinks)("alwaysShow",ie.alwaysShowPaginator)("rowsPerPageOptions",ie.rowsPerPageOptions)("templateLeft",ie.paginatorLeftTemplate)("templateRight",ie.paginatorRightTemplate)("dropdownAppendTo",ie.paginatorDropdownAppendTo)("dropdownScrollHeight",ie.paginatorDropdownScrollHeight)("currentPageReportTemplate",ie.currentPageReportTemplate)("showFirstLastIcon",ie.showFirstLastIcon)("dropdownItemTemplate",ie.paginatorDropdownItemTemplate)("showCurrentPageReport",ie.showCurrentPageReport)("showJumpToPageDropdown",ie.showJumpToPageDropdown)("showJumpToPageInput",ie.showJumpToPageInput)("showPageLinks",ie.showPageLinks)}}function qe(Et,pn){1&Et&&u.GkF(0)}const ye=function(Et,pn){return{$implicit:Et,options:pn}};function Ge(Et,pn){if(1&Et&&u.YNc(0,qe,1,0,"ng-container",22),2&Et){const ie=pn.$implicit,Le=pn.options;u.oxw(2);const It=u.MAs(10);u.Q6J("ngTemplateOutlet",It)("ngTemplateOutletContext",u.WLB(2,ye,ie,Le))}}const X=function(Et){return{height:Et}};function be(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"p-scroller",19,20),u.NdJ("onLazyLoad",function(It){u.CHM(ie);const Jt=u.oxw();return u.KtG(Jt.onLazyItemLoad(It))}),u.YNc(2,Ge,1,5,"ng-template",21),u.qZA()}if(2&Et){const ie=u.oxw();u.Akn(u.VKq(14,X,"flex"!==ie.scrollHeight?ie.scrollHeight:void 0)),u.Q6J("items",ie.processedData)("columns",ie.columns)("scrollHeight","flex"!==ie.scrollHeight?void 0:"100%")("itemSize",ie.virtualScrollItemSize||ie._virtualRowHeight)("step",ie.rows)("delay",ie.lazy?ie.virtualScrollDelay:0)("inline",!0)("lazy",ie.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",ie.loadingBodyTemplate)("options",ie.virtualScrollOptions)}}function we(Et,pn){1&Et&&u.GkF(0)}const Ie=function(Et){return{columns:Et}};function ct(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,we,1,0,"ng-container",22),u.BQk()),2&Et){const ie=u.oxw(),Le=u.MAs(10);u.xp6(1),u.Q6J("ngTemplateOutlet",Le)("ngTemplateOutletContext",u.WLB(4,ye,ie.processedData,u.VKq(2,Ie,ie.columns)))}}function dt(Et,pn){1&Et&&u.GkF(0)}function et(Et,pn){1&Et&&u.GkF(0)}function vt(Et,pn){if(1&Et&&u._UZ(0,"tbody",31),2&Et){const ie=u.oxw().options,Le=u.oxw();u.Q6J("value",Le.frozenValue)("frozenRows",!0)("pTableBody",ie.columns)("pTableBodyTemplate",Le.frozenBodyTemplate)("frozen",!0)}}function ht(Et,pn){if(1&Et&&u._UZ(0,"tbody",32),2&Et){const ie=u.oxw().options;u.Akn("height: calc("+ie.spacerStyle.height+" - "+ie.rows.length*ie.itemSize+"px);")}}function Rt(Et,pn){1&Et&&u.GkF(0)}const Nt=function(Et){return{$implicit:Et}};function At(Et,pn){if(1&Et&&(u.TgZ(0,"tfoot",33,34),u.YNc(2,Rt,1,0,"ng-container",22),u.qZA()),2&Et){const ie=u.oxw().options,Le=u.oxw();u.xp6(2),u.Q6J("ngTemplateOutlet",Le.footerGroupedTemplate||Le.footerTemplate)("ngTemplateOutletContext",u.VKq(2,Nt,ie.columns))}}const st=function(Et,pn,ie){return{"p-datatable-table":!0,"p-datatable-scrollable-table":Et,"p-datatable-resizable-table":pn,"p-datatable-resizable-table-fit":ie}};function ot(Et,pn){if(1&Et&&(u.TgZ(0,"table",23,24),u.YNc(2,dt,1,0,"ng-container",22),u.TgZ(3,"thead",25,26),u.YNc(5,et,1,0,"ng-container",22),u.qZA(),u.YNc(6,vt,1,5,"tbody",27),u._UZ(7,"tbody",28),u.YNc(8,ht,1,2,"tbody",29),u.YNc(9,At,3,4,"tfoot",30),u.qZA()),2&Et){const ie=pn.options,Le=u.oxw();u.Akn(Le.tableStyle),u.Tol(Le.tableStyleClass),u.Q6J("ngClass",u.kEZ(20,st,Le.scrollable,Le.resizableColumns,Le.resizableColumns&&"fit"===Le.columnResizeMode)),u.uIk("id",Le.id+"-table"),u.xp6(2),u.Q6J("ngTemplateOutlet",Le.colGroupTemplate)("ngTemplateOutletContext",u.VKq(24,Nt,ie.columns)),u.xp6(3),u.Q6J("ngTemplateOutlet",Le.headerGroupedTemplate||Le.headerTemplate)("ngTemplateOutletContext",u.VKq(26,Nt,ie.columns)),u.xp6(1),u.Q6J("ngIf",Le.frozenValue||Le.frozenBodyTemplate),u.xp6(1),u.Akn(ie.contentStyle),u.Q6J("ngClass",ie.contentStyleClass)("value",Le.dataToRender(ie.rows))("pTableBody",ie.columns)("pTableBodyTemplate",Le.bodyTemplate)("scrollerOptions",ie),u.xp6(1),u.Q6J("ngIf",ie.spacerStyle),u.xp6(1),u.Q6J("ngIf",Le.footerGroupedTemplate||Le.footerTemplate)}}function ge(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"p-paginator",35),u.NdJ("onPageChange",function(It){u.CHM(ie);const Jt=u.oxw();return u.KtG(Jt.onPageChange(It))}),u.qZA()}if(2&Et){const ie=u.oxw();u.Q6J("rows",ie.rows)("first",ie.first)("totalRecords",ie.totalRecords)("pageLinkSize",ie.pageLinks)("alwaysShow",ie.alwaysShowPaginator)("rowsPerPageOptions",ie.rowsPerPageOptions)("templateLeft",ie.paginatorLeftTemplate)("templateRight",ie.paginatorRightTemplate)("dropdownAppendTo",ie.paginatorDropdownAppendTo)("dropdownScrollHeight",ie.paginatorDropdownScrollHeight)("currentPageReportTemplate",ie.currentPageReportTemplate)("showFirstLastIcon",ie.showFirstLastIcon)("dropdownItemTemplate",ie.paginatorDropdownItemTemplate)("showCurrentPageReport",ie.showCurrentPageReport)("showJumpToPageDropdown",ie.showJumpToPageDropdown)("showJumpToPageInput",ie.showJumpToPageInput)("showPageLinks",ie.showPageLinks)}}function ke(Et,pn){1&Et&&u.GkF(0)}function rt(Et,pn){if(1&Et&&(u.TgZ(0,"div",36),u.YNc(1,ke,1,0,"ng-container",17),u.qZA()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ie.summaryTemplate)}}function yt(Et,pn){1&Et&&u._UZ(0,"div",37,38)}function Pt(Et,pn){1&Et&&u._UZ(0,"span",39,40)}function Ht(Et,pn){1&Et&&u._UZ(0,"span",41,42)}const Ot=function(Et,pn,ie){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":Et,"p-datatable-scrollable":pn,"p-datatable-flex-scrollable":ie}},Ye=function(Et){return{maxHeight:Et}},lt=["pTableBody",""];function Ke(Et,pn){1&Et&&u.GkF(0)}const Tt=function(Et,pn,ie,Le,It){return{$implicit:Et,rowIndex:pn,columns:ie,editing:Le,frozen:It}};function se(Et,pn){if(1&Et&&(u.ynx(0,3),u.YNc(1,Ke,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw(),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Jt.dt.groupHeaderTemplate)("ngTemplateOutletContext",u.qbA(2,Tt,Le,Jt.getRowIndex(It),Jt.columns,"row"===Jt.dt.editMode&&Jt.dt.isRowEditing(Le),Jt.frozen))}}function Fe(Et,pn){1&Et&&u.GkF(0)}function he(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,Fe,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw(),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Le?Jt.template:Jt.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.qbA(2,Tt,Le,Jt.getRowIndex(It),Jt.columns,"row"===Jt.dt.editMode&&Jt.dt.isRowEditing(Le),Jt.frozen))}}function mt(Et,pn){1&Et&&u.GkF(0)}const cn=function(Et,pn,ie,Le,It,Jt,Pn){return{$implicit:Et,rowIndex:pn,columns:ie,editing:Le,frozen:It,rowgroup:Jt,rowspan:Pn}};function Tn(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,mt,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw(),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Le?Jt.template:Jt.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.Hh0(2,cn,Le,Jt.getRowIndex(It),Jt.columns,"row"===Jt.dt.editMode&&Jt.dt.isRowEditing(Le),Jt.frozen,Jt.shouldRenderRowspan(Jt.value,Le,It),Jt.calculateRowGroupSize(Jt.value,Le,It)))}}function tn(Et,pn){1&Et&&u.GkF(0)}function bt(Et,pn){if(1&Et&&(u.ynx(0,3),u.YNc(1,tn,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw(),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Jt.dt.groupFooterTemplate)("ngTemplateOutletContext",u.qbA(2,Tt,Le,Jt.getRowIndex(It),Jt.columns,"row"===Jt.dt.editMode&&Jt.dt.isRowEditing(Le),Jt.frozen))}}function nt(Et,pn){if(1&Et&&(u.YNc(0,se,2,8,"ng-container",2),u.YNc(1,he,2,8,"ng-container",0),u.YNc(2,Tn,2,10,"ng-container",0),u.YNc(3,bt,2,8,"ng-container",2)),2&Et){const ie=pn.$implicit,Le=pn.index,It=u.oxw(2);u.Q6J("ngIf",It.dt.groupHeaderTemplate&&!It.dt.virtualScroll&&"subheader"===It.dt.rowGroupMode&&It.shouldRenderRowGroupHeader(It.value,ie,Le)),u.xp6(1),u.Q6J("ngIf","rowspan"!==It.dt.rowGroupMode),u.xp6(1),u.Q6J("ngIf","rowspan"===It.dt.rowGroupMode),u.xp6(1),u.Q6J("ngIf",It.dt.groupFooterTemplate&&!It.dt.virtualScroll&&"subheader"===It.dt.rowGroupMode&&It.shouldRenderRowGroupFooter(It.value,ie,Le))}}function de(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,nt,4,4,"ng-template",1),u.BQk()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngForOf",ie.value)("ngForTrackBy",ie.dt.rowTrackBy)}}function Qe(Et,pn){1&Et&&u.GkF(0)}const ze=function(Et,pn,ie,Le,It,Jt){return{$implicit:Et,rowIndex:pn,columns:ie,expanded:Le,editing:It,frozen:Jt}};function kt(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,Qe,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw(),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Jt.template)("ngTemplateOutletContext",u.HTZ(2,ze,Le,Jt.getRowIndex(It),Jt.columns,Jt.dt.isRowExpanded(Le),"row"===Jt.dt.editMode&&Jt.dt.isRowEditing(Le),Jt.frozen))}}function Ze(Et,pn){1&Et&&u.GkF(0)}function $t(Et,pn){if(1&Et&&(u.ynx(0,3),u.YNc(1,Ze,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw(),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Jt.dt.groupHeaderTemplate)("ngTemplateOutletContext",u.HTZ(2,ze,Le,Jt.getRowIndex(It),Jt.columns,Jt.dt.isRowExpanded(Le),"row"===Jt.dt.editMode&&Jt.dt.isRowEditing(Le),Jt.frozen))}}function gn(Et,pn){1&Et&&u.GkF(0)}function Gt(Et,pn){1&Et&&u.GkF(0)}function Mn(Et,pn){if(1&Et&&(u.ynx(0,3),u.YNc(1,Gt,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw(2),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Jt.dt.groupFooterTemplate)("ngTemplateOutletContext",u.HTZ(2,ze,Le,Jt.getRowIndex(It),Jt.columns,Jt.dt.isRowExpanded(Le),"row"===Jt.dt.editMode&&Jt.dt.isRowEditing(Le),Jt.frozen))}}const Ut=function(Et,pn,ie,Le){return{$implicit:Et,rowIndex:pn,columns:ie,frozen:Le}};function rn(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,gn,1,0,"ng-container",4),u.YNc(2,Mn,2,9,"ng-container",2),u.BQk()),2&Et){const ie=u.oxw(),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Jt.dt.expandedRowTemplate)("ngTemplateOutletContext",u.l5B(3,Ut,Le,Jt.getRowIndex(It),Jt.columns,Jt.frozen)),u.xp6(1),u.Q6J("ngIf",Jt.dt.groupFooterTemplate&&"subheader"===Jt.dt.rowGroupMode&&Jt.shouldRenderRowGroupFooter(Jt.value,Le,Jt.getRowIndex(It)))}}function Bn(Et,pn){if(1&Et&&(u.YNc(0,kt,2,9,"ng-container",0),u.YNc(1,$t,2,9,"ng-container",2),u.YNc(2,rn,3,8,"ng-container",0)),2&Et){const ie=pn.$implicit,Le=pn.index,It=u.oxw(2);u.Q6J("ngIf",!It.dt.groupHeaderTemplate),u.xp6(1),u.Q6J("ngIf",It.dt.groupHeaderTemplate&&"subheader"===It.dt.rowGroupMode&&It.shouldRenderRowGroupHeader(It.value,ie,It.getRowIndex(Le))),u.xp6(1),u.Q6J("ngIf",It.dt.isRowExpanded(ie))}}function Vn(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,Bn,3,3,"ng-template",1),u.BQk()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngForOf",ie.value)("ngForTrackBy",ie.dt.rowTrackBy)}}function ai(Et,pn){1&Et&&u.GkF(0)}function vi(Et,pn){1&Et&&u.GkF(0)}function Ji(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,vi,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw(),Le=ie.$implicit,It=ie.index,Jt=u.oxw(2);u.xp6(1),u.Q6J("ngTemplateOutlet",Jt.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",u.l5B(2,Ut,Le,Jt.getRowIndex(It),Jt.columns,Jt.frozen))}}function Qi(Et,pn){if(1&Et&&(u.YNc(0,ai,1,0,"ng-container",4),u.YNc(1,Ji,2,7,"ng-container",0)),2&Et){const ie=pn.$implicit,Le=pn.index,It=u.oxw(2);u.Q6J("ngTemplateOutlet",It.template)("ngTemplateOutletContext",u.HTZ(3,ze,ie,It.getRowIndex(Le),It.columns,It.dt.isRowExpanded(ie),"row"===It.dt.editMode&&It.dt.isRowEditing(ie),It.frozen)),u.xp6(1),u.Q6J("ngIf",It.dt.isRowExpanded(ie))}}function Vo(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,Qi,2,10,"ng-template",1),u.BQk()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngForOf",ie.value)("ngForTrackBy",ie.dt.rowTrackBy)}}function zt(Et,pn){1&Et&&u.GkF(0)}const Je=function(Et,pn){return{$implicit:Et,frozen:pn}};function xe(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,zt,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ie.dt.loadingBodyTemplate)("ngTemplateOutletContext",u.WLB(2,Je,ie.columns,ie.frozen))}}function He(Et,pn){1&Et&&u.GkF(0)}function pt(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,He,1,0,"ng-container",4),u.BQk()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ie.dt.emptyMessageTemplate)("ngTemplateOutletContext",u.WLB(2,Je,ie.columns,ie.frozen))}}function dn(Et,pn){if(1&Et&&(u.TgZ(0,"span",2),u._uU(1),u.qZA()),2&Et){const ie=u.oxw();u.xp6(1),u.Oqu(ie.getBadgeValue())}}const xn=function(Et,pn,ie){return{"pi-sort-amount-up-alt":Et,"pi-sort-amount-down":pn,"pi-sort-alt":ie}};function Zt(Et,pn){1&Et&&u.GkF(0)}function bn(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,Zt,1,0,"ng-container",1),u.BQk()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ie.inputTemplate)}}function yn(Et,pn){1&Et&&u.GkF(0)}function Wn(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,yn,1,0,"ng-container",1),u.BQk()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ie.outputTemplate)}}const li=["icon"];function ho(Et,pn){if(1&Et&&u._UZ(0,"p-columnFilterFormElement",5),2&Et){const ie=u.oxw();u.Q6J("type",ie.type)("field",ie.field)("filterConstraint",ie.dt.filters[ie.field])("filterTemplate",ie.filterTemplate)("placeholder",ie.placeholder)("minFractionDigits",ie.minFractionDigits)("maxFractionDigits",ie.maxFractionDigits)("prefix",ie.prefix)("suffix",ie.suffix)("locale",ie.locale)("localeMatcher",ie.localeMatcher)("currency",ie.currency)("currencyDisplay",ie.currencyDisplay)("useGrouping",ie.useGrouping)("showButtons",ie.showButtons)}}const Go=function(Et,pn){return{"p-column-filter-menu-button-open":Et,"p-column-filter-menu-button-active":pn}};function Wo(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"button",6,7),u.NdJ("click",function(){u.CHM(ie);const It=u.oxw();return u.KtG(It.toggleMenu())})("keydown",function(It){u.CHM(ie);const Jt=u.oxw();return u.KtG(Jt.onToggleButtonKeyDown(It))}),u._UZ(2,"span",8),u.qZA()}if(2&Et){const ie=u.oxw();u.Q6J("ngClass",u.WLB(2,Go,ie.overlayVisible,ie.hasFilter())),u.uIk("aria-expanded",ie.overlayVisible)}}const vo=function(Et){return{"p-hidden-space":Et}};function Xi(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"button",9,7),u.NdJ("click",function(){u.CHM(ie);const It=u.oxw();return u.KtG(It.clearFilter())}),u._UZ(2,"span",10),u.qZA()}if(2&Et){const ie=u.oxw();u.Q6J("ngClass",u.VKq(1,vo,!ie.hasRowFilter()))}}function os(Et,pn){1&Et&&u.GkF(0)}const us=function(Et){return{"p-highlight":Et}};function _s(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"li",19),u.NdJ("click",function(){const Jt=u.CHM(ie).$implicit,Pn=u.oxw(3);return u.KtG(Pn.onRowMatchModeChange(Jt.value))})("keydown",function(It){u.CHM(ie);const Jt=u.oxw(3);return u.KtG(Jt.onRowMatchModeKeyDown(It))})("keydown.enter",function(){const Jt=u.CHM(ie).$implicit,Pn=u.oxw(3);return u.KtG(Pn.onRowMatchModeChange(Jt.value))}),u._uU(1),u.qZA()}if(2&Et){const ie=pn.$implicit,Le=pn.index,It=u.oxw(3);u.Q6J("ngClass",u.VKq(3,us,It.isRowMatchModeSelected(ie.value))),u.uIk("tabindex",0===Le?"0":null),u.xp6(1),u.hij(" ",ie.label," ")}}function uo(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"ul",15),u.YNc(1,_s,2,5,"li",16),u._UZ(2,"li",17),u.TgZ(3,"li",18),u.NdJ("click",function(){u.CHM(ie);const It=u.oxw(2);return u.KtG(It.onRowClearItemClick())})("keydown",function(It){u.CHM(ie);const Jt=u.oxw(2);return u.KtG(Jt.onRowMatchModeKeyDown(It))})("keydown.enter",function(){u.CHM(ie);const It=u.oxw(2);return u.KtG(It.onRowClearItemClick())}),u._uU(4),u.qZA()()}if(2&Et){const ie=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",ie.matchModes),u.xp6(3),u.Oqu(ie.noFilterLabel)}}function Io(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"div",27)(1,"p-dropdown",28),u.NdJ("ngModelChange",function(It){u.CHM(ie);const Jt=u.oxw(3);return u.KtG(Jt.onOperatorChange(It))}),u.qZA()()}if(2&Et){const ie=u.oxw(3);u.xp6(1),u.Q6J("options",ie.operatorOptions)("ngModel",ie.operator)}}function Di(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"p-dropdown",33),u.NdJ("ngModelChange",function(It){u.CHM(ie);const Jt=u.oxw().$implicit,Pn=u.oxw(3);return u.KtG(Pn.onMenuMatchModeChange(It,Jt))}),u.qZA()}if(2&Et){const ie=u.oxw().$implicit,Le=u.oxw(3);u.Q6J("options",Le.matchModes)("ngModel",ie.matchMode)}}function Cs(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"button",34),u.NdJ("click",function(){u.CHM(ie);const It=u.oxw().$implicit,Jt=u.oxw(3);return u.KtG(Jt.removeConstraint(It))}),u.qZA()}if(2&Et){const ie=u.oxw(4);u.Q6J("label",ie.removeRuleButtonLabel)}}function po(Et,pn){if(1&Et&&(u.TgZ(0,"div",29),u.YNc(1,Di,1,2,"p-dropdown",30),u._UZ(2,"p-columnFilterFormElement",31),u.TgZ(3,"div"),u.YNc(4,Cs,1,1,"button",32),u.qZA()()),2&Et){const ie=pn.$implicit,Le=u.oxw(3);u.xp6(1),u.Q6J("ngIf",Le.showMatchModes&&Le.matchModes),u.xp6(1),u.Q6J("type",Le.type)("field",Le.field)("filterConstraint",ie)("filterTemplate",Le.filterTemplate)("placeholder",Le.placeholder)("minFractionDigits",Le.minFractionDigits)("maxFractionDigits",Le.maxFractionDigits)("prefix",Le.prefix)("suffix",Le.suffix)("locale",Le.locale)("localeMatcher",Le.localeMatcher)("currency",Le.currency)("currencyDisplay",Le.currencyDisplay)("useGrouping",Le.useGrouping),u.xp6(2),u.Q6J("ngIf",Le.showRemoveIcon)}}function lo(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"div",35)(1,"button",36),u.NdJ("click",function(){u.CHM(ie);const It=u.oxw(3);return u.KtG(It.addConstraint())}),u.qZA()()}if(2&Et){const ie=u.oxw(3);u.xp6(1),u.Q6J("label",ie.addRuleButtonLabel)}}function $o(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"button",37),u.NdJ("click",function(){u.CHM(ie);const It=u.oxw(3);return u.KtG(It.clearFilter())}),u.qZA()}if(2&Et){const ie=u.oxw(3);u.Q6J("label",ie.clearButtonLabel)}}function Us(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){u.CHM(ie);const It=u.oxw(3);return u.KtG(It.applyFilter())}),u.qZA()}if(2&Et){const ie=u.oxw(3);u.Q6J("label",ie.applyButtonLabel)}}function Ss(Et,pn){if(1&Et&&(u.YNc(0,Io,2,2,"div",20),u.TgZ(1,"div",21),u.YNc(2,po,5,16,"div",22),u.qZA(),u.YNc(3,lo,2,1,"div",23),u.TgZ(4,"div",24),u.YNc(5,$o,1,1,"button",25),u.YNc(6,Us,1,1,"button",26),u.qZA()),2&Et){const ie=u.oxw(2);u.Q6J("ngIf",ie.isShowOperator),u.xp6(2),u.Q6J("ngForOf",ie.fieldConstraints),u.xp6(1),u.Q6J("ngIf",ie.isShowAddConstraint),u.xp6(2),u.Q6J("ngIf",ie.showClearButton),u.xp6(1),u.Q6J("ngIf",ie.showApplyButton)}}function Hs(Et,pn){1&Et&&u.GkF(0)}const ds=function(Et){return{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":Et}};function br(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"div",11),u.NdJ("click",function(){u.CHM(ie);const It=u.oxw();return u.KtG(It.onContentClick())})("@overlayAnimation.start",function(It){u.CHM(ie);const Jt=u.oxw();return u.KtG(Jt.onOverlayAnimationStart(It))})("@overlayAnimation.done",function(It){u.CHM(ie);const Jt=u.oxw();return u.KtG(Jt.onOverlayAnimationEnd(It))})("keydown.escape",function(){u.CHM(ie);const It=u.oxw();return u.KtG(It.onEscape())}),u.YNc(1,os,1,0,"ng-container",12),u.YNc(2,uo,5,2,"ul",13),u.YNc(3,Ss,7,5,"ng-template",null,14,u.W1O),u.YNc(5,Hs,1,0,"ng-container",12),u.qZA()}if(2&Et){const ie=u.MAs(4),Le=u.oxw();u.Q6J("ngClass",u.VKq(8,ds,"menu"===Le.display))("@overlayAnimation","visible"),u.xp6(1),u.Q6J("ngTemplateOutlet",Le.headerTemplate)("ngTemplateOutletContext",u.VKq(10,Nt,Le.field)),u.xp6(1),u.Q6J("ngIf","row"===Le.display)("ngIfElse",ie),u.xp6(3),u.Q6J("ngTemplateOutlet",Le.footerTemplate)("ngTemplateOutletContext",u.VKq(12,Nt,Le.field))}}const fa=function(Et,pn){return{"p-column-filter-row":Et,"p-column-filter-menu":pn}};function yr(Et,pn){1&Et&&u.GkF(0)}const xr=function(Et,pn){return{$implicit:Et,filterCallback:pn}};function wa(Et,pn){if(1&Et&&(u.ynx(0),u.YNc(1,yr,1,0,"ng-container",2),u.BQk()),2&Et){const ie=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",ie.filterTemplate)("ngTemplateOutletContext",u.WLB(2,xr,ie.filterConstraint.value,ie.filterCallback))}}function vs(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"input",8),u.NdJ("input",function(It){u.CHM(ie);const Jt=u.oxw(2);return u.KtG(Jt.onModelChange(It.target.value))})("keydown.enter",function(It){u.CHM(ie);const Jt=u.oxw(2);return u.KtG(Jt.onTextInputEnterKeyDown(It))}),u.qZA()}if(2&Et){const ie=u.oxw(2);u.Q6J("value",null==ie.filterConstraint?null:ie.filterConstraint.value),u.uIk("placeholder",ie.placeholder)}}function ua(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"p-inputNumber",9),u.NdJ("ngModelChange",function(It){u.CHM(ie);const Jt=u.oxw(2);return u.KtG(Jt.onModelChange(It))})("onKeyDown",function(It){u.CHM(ie);const Jt=u.oxw(2);return u.KtG(Jt.onNumericInputKeyDown(It))}),u.qZA()}if(2&Et){const ie=u.oxw(2);u.Q6J("ngModel",null==ie.filterConstraint?null:ie.filterConstraint.value)("showButtons",ie.showButtons)("minFractionDigits",ie.minFractionDigits)("maxFractionDigits",ie.maxFractionDigits)("prefix",ie.prefix)("suffix",ie.suffix)("placeholder",ie.placeholder)("mode",ie.currency?"currency":"decimal")("locale",ie.locale)("localeMatcher",ie.localeMatcher)("currency",ie.currency)("currencyDisplay",ie.currencyDisplay)("useGrouping",ie.useGrouping)}}function Ks(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"p-triStateCheckbox",10),u.NdJ("ngModelChange",function(It){u.CHM(ie);const Jt=u.oxw(2);return u.KtG(Jt.onModelChange(It))}),u.qZA()}if(2&Et){const ie=u.oxw(2);u.Q6J("ngModel",null==ie.filterConstraint?null:ie.filterConstraint.value)}}function Nr(Et,pn){if(1&Et){const ie=u.EpF();u.TgZ(0,"p-calendar",11),u.NdJ("ngModelChange",function(It){u.CHM(ie);const Jt=u.oxw(2);return u.KtG(Jt.onModelChange(It))}),u.qZA()}if(2&Et){const ie=u.oxw(2);u.Q6J("placeholder",ie.placeholder)("ngModel",null==ie.filterConstraint?null:ie.filterConstraint.value)}}function Fr(Et,pn){if(1&Et&&(u.ynx(0,3),u.YNc(1,vs,1,2,"input",4),u.YNc(2,ua,1,13,"p-inputNumber",5),u.YNc(3,Ks,1,1,"p-triStateCheckbox",6),u.YNc(4,Nr,1,2,"p-calendar",7),u.BQk()),2&Et){const ie=u.oxw();u.Q6J("ngSwitch",ie.type),u.xp6(1),u.Q6J("ngSwitchCase","text"),u.xp6(1),u.Q6J("ngSwitchCase","numeric"),u.xp6(1),u.Q6J("ngSwitchCase","boolean"),u.xp6(1),u.Q6J("ngSwitchCase","date")}}let Eo=(()=>{class Et{constructor(){this.sortSource=new O.x,this.selectionSource=new O.x,this.contextMenuSource=new O.x,this.valueSource=new O.x,this.totalRecordsSource=new O.x,this.columnsSource=new O.x,this.resetSource=new O.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(ie){this.sortSource.next(ie)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(ie){this.contextMenuSource.next(ie)}onValueChange(ie){this.valueSource.next(ie)}onTotalRecordsChange(ie){this.totalRecordsSource.next(ie)}onColumnsChange(ie){this.columnsSource.next(ie)}}return Et.\u0275fac=function(ie){return new(ie||Et)},Et.\u0275prov=u.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),ei=(()=>{class Et{constructor(ie,Le,It,Jt,Pn,qn){this.el=ie,this.zone=Le,this.tableService=It,this.cd=Jt,this.filterService=Pn,this.overlayService=qn,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new u.vpe,this.selectionChange=new u.vpe,this.contextMenuSelectionChange=new u.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(fi,Zi)=>Zi,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new u.vpe,this.onRowUnselect=new u.vpe,this.onPage=new u.vpe,this.onSort=new u.vpe,this.onFilter=new u.vpe,this.onLazyLoad=new u.vpe,this.onRowExpand=new u.vpe,this.onRowCollapse=new u.vpe,this.onContextMenuSelect=new u.vpe,this.onColResize=new u.vpe,this.onColReorder=new u.vpe,this.onRowReorder=new u.vpe,this.onEditInit=new u.vpe,this.onEditComplete=new u.vpe,this.onEditCancel=new u.vpe,this.onHeaderCheckboxToggle=new u.vpe,this.sortFunction=new u.vpe,this.firstChange=new u.vpe,this.rowsChange=new u.vpe,this.onStateSave=new u.vpe,this.onStateRestore=new u.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=(0,k.Th)()}get responsive(){return this._responsive}set responsive(ie){this._responsive=ie,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(ie){this._virtualRowHeight=ie,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(ie=>{switch(ie.getType()){case"caption":this.captionTemplate=ie.template;break;case"header":this.headerTemplate=ie.template;break;case"headergrouped":this.headerGroupedTemplate=ie.template;break;case"body":this.bodyTemplate=ie.template;break;case"loadingbody":this.loadingBodyTemplate=ie.template;break;case"footer":this.footerTemplate=ie.template;break;case"footergrouped":this.footerGroupedTemplate=ie.template;break;case"summary":this.summaryTemplate=ie.template;break;case"colgroup":this.colGroupTemplate=ie.template;break;case"rowexpansion":this.expandedRowTemplate=ie.template;break;case"groupheader":this.groupHeaderTemplate=ie.template;break;case"rowspan":this.rowspanTemplate=ie.template;break;case"groupfooter":this.groupFooterTemplate=ie.template;break;case"frozenrows":this.frozenRowsTemplate=ie.template;break;case"frozenheader":this.frozenHeaderTemplate=ie.template;break;case"frozenbody":this.frozenBodyTemplate=ie.template;break;case"frozenfooter":this.frozenFooterTemplate=ie.template;break;case"frozencolgroup":this.frozenColGroupTemplate=ie.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=ie.template;break;case"emptymessage":this.emptyMessageTemplate=ie.template;break;case"paginatorleft":this.paginatorLeftTemplate=ie.template;break;case"paginatorright":this.paginatorRightTemplate=ie.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=ie.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(ie){ie.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=ie.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(ie.value.currentValue)),ie.columns&&(this._columns=ie.columns.currentValue,this.tableService.onColumnsChange(ie.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),ie.sortField&&(this._sortField=ie.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),ie.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),ie.sortOrder&&(this._sortOrder=ie.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),ie.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),ie.multiSortMeta&&(this._multiSortMeta=ie.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),ie.selection&&(this._selection=ie.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),ie.selectAll&&(this._selectAll=ie.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(ie){this._value=ie}get columns(){return this._columns}set columns(ie){this._columns=ie}get first(){return this._first}set first(ie){this._first=ie}get rows(){return this._rows}set rows(ie){this._rows=ie}get totalRecords(){return this._totalRecords}set totalRecords(ie){this._totalRecords=ie,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(ie){this._sortField=ie}get sortOrder(){return this._sortOrder}set sortOrder(ie){this._sortOrder=ie}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(ie){this._multiSortMeta=ie}get selection(){return this._selection}set selection(ie){this._selection=ie}get selectAll(){return this._selection}set selectAll(ie){this._selection=ie}get processedData(){return this.filteredValue||this.value||[]}dataToRender(ie){const Le=ie||this.processedData;if(Le&&this.paginator){const It=this.lazy?0:this.first;return Le.slice(It,It+this.rows)}return Le}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let ie of this._selection)this.selectionKeys[String(k.gb.resolveFieldData(ie,this.dataKey))]=1;else this.selectionKeys[String(k.gb.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(ie){this.first=ie.first,this.rows=ie.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(ie){let Le=ie.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===ie.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=ie.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let It=Le.metaKey||Le.ctrlKey,Jt=this.getSortMeta(ie.field);Jt?It?Jt.order=-1*Jt.order:(this._multiSortMeta=[{field:ie.field,order:-1*Jt.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!It||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:ie.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let ie=this.sortField||this.groupRowsBy,Le=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(ie&&Le){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:ie,order:Le}):(this.value.sort((Jt,Pn)=>{let qn=k.gb.resolveFieldData(Jt,ie),fi=k.gb.resolveFieldData(Pn,ie),Zi=null;return Zi=null==qn&&null!=fi?-1:null!=qn&&null==fi?1:null==qn&&null==fi?0:"string"==typeof qn&&"string"==typeof fi?qn.localeCompare(fi):qn<fi?-1:qn>fi?1:0,Le*Zi}),this._value=[...this.value]),this.hasFilter()&&this._filter());let It={field:ie,order:Le};this.onSort.emit(It),this.tableService.onSort(It)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((ie,Le)=>this.multisortField(ie,Le,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(ie,Le,It,Jt){const Pn=k.gb.resolveFieldData(ie,It[Jt].field),qn=k.gb.resolveFieldData(Le,It[Jt].field);return 0===k.gb.compare(Pn,qn,this.filterLocale)?It.length-1>Jt?this.multisortField(ie,Le,It,Jt+1):0:this.compareValuesOnSort(Pn,qn,It[Jt].order)}compareValuesOnSort(ie,Le,It){return k.gb.sort(ie,Le,It,this.filterLocale,this.sortOrder)}getSortMeta(ie){if(this.multiSortMeta&&this.multiSortMeta.length)for(let Le=0;Le<this.multiSortMeta.length;Le++)if(this.multiSortMeta[Le].field===ie)return this.multiSortMeta[Le];return null}isSorted(ie){if("single"===this.sortMode)return this.sortField&&this.sortField===ie;if("multiple"===this.sortMode){let Le=!1;if(this.multiSortMeta)for(let It=0;It<this.multiSortMeta.length;It++)if(this.multiSortMeta[It].field==ie){Le=!0;break}return Le}}handleRowClick(ie){let Le=ie.originalEvent.target,It=Le.nodeName,Jt=Le.parentElement&&Le.parentElement.nodeName;if("INPUT"!=It&&"BUTTON"!=It&&"A"!=It&&"INPUT"!=Jt&&"BUTTON"!=Jt&&"A"!=Jt&&!r.p.hasClass(ie.originalEvent.target,"p-clickable")){if(this.selectionMode){let Pn=ie.rowData,qn=ie.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&ie.originalEvent.shiftKey&&null!=this.anchorRowIndex)r.p.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(ie.originalEvent),this.rangeRowIndex=qn,this.selectRange(ie.originalEvent,qn);else{let fi=this.isSelected(Pn);if(!fi&&!this.isRowSelectable(Pn,qn))return;let Zi=!this.rowTouched&&this.metaKeySelection,Ni=this.dataKey?String(k.gb.resolveFieldData(Pn,this.dataKey)):null;if(this.anchorRowIndex=qn,this.rangeRowIndex=qn,Zi){let Si=ie.originalEvent.metaKey||ie.originalEvent.ctrlKey;if(fi&&Si){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let hs=this.findIndexInSelection(Pn);this._selection=this.selection.filter((qs,jo)=>jo!=hs),this.selectionChange.emit(this.selection),Ni&&delete this.selectionKeys[Ni]}this.onRowUnselect.emit({originalEvent:ie.originalEvent,data:Pn,type:"row"})}else this.isSingleSelectionMode()?(this._selection=Pn,this.selectionChange.emit(Pn),Ni&&(this.selectionKeys={},this.selectionKeys[Ni]=1)):this.isMultipleSelectionMode()&&(Si?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,Pn],this.selectionChange.emit(this.selection),Ni&&(this.selectionKeys[Ni]=1)),this.onRowSelect.emit({originalEvent:ie.originalEvent,data:Pn,type:"row",index:qn})}else if("single"===this.selectionMode)fi?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:ie.originalEvent,data:Pn,type:"row",index:qn})):(this._selection=Pn,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ie.originalEvent,data:Pn,type:"row",index:qn}),Ni&&(this.selectionKeys={},this.selectionKeys[Ni]=1));else if("multiple"===this.selectionMode)if(fi){let Si=this.findIndexInSelection(Pn);this._selection=this.selection.filter((hs,qs)=>qs!=Si),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:ie.originalEvent,data:Pn,type:"row",index:qn}),Ni&&delete this.selectionKeys[Ni]}else this._selection=this.selection?[...this.selection,Pn]:[Pn],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ie.originalEvent,data:Pn,type:"row",index:qn}),Ni&&(this.selectionKeys[Ni]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(ie){this.rowTouched=!0}handleRowRightClick(ie){if(this.contextMenu){const Le=ie.rowData,It=ie.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=Le,this.contextMenuSelectionChange.emit(Le),this.onContextMenuSelect.emit({originalEvent:ie.originalEvent,data:Le,index:ie.rowIndex}),this.contextMenu.show(ie.originalEvent),this.tableService.onContextMenu(Le);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let Jt=this.isSelected(Le),Pn=this.dataKey?String(k.gb.resolveFieldData(Le,this.dataKey)):null;if(!Jt){if(!this.isRowSelectable(Le,It))return;this.isSingleSelectionMode()?(this.selection=Le,this.selectionChange.emit(Le),Pn&&(this.selectionKeys={},this.selectionKeys[Pn]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,Le]:[Le],this.selectionChange.emit(this.selection),Pn&&(this.selectionKeys[Pn]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(ie.originalEvent),this.onContextMenuSelect.emit({originalEvent:ie,data:Le,index:ie.rowIndex})}}}selectRange(ie,Le){let It,Jt;this.anchorRowIndex>Le?(It=Le,Jt=this.anchorRowIndex):this.anchorRowIndex<Le?(It=this.anchorRowIndex,Jt=Le):(It=Le,Jt=Le),this.lazy&&this.paginator&&(It-=this.first,Jt-=this.first);let Pn=[];for(let qn=It;qn<=Jt;qn++){let fi=this.filteredValue?this.filteredValue[qn]:this.value[qn];if(!this.isSelected(fi)){if(!this.isRowSelectable(fi,Le))continue;Pn.push(fi),this._selection=[...this.selection,fi];let Zi=this.dataKey?String(k.gb.resolveFieldData(fi,this.dataKey)):null;Zi&&(this.selectionKeys[Zi]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ie,data:Pn,type:"row"})}clearSelectionRange(ie){let Le,It;this.rangeRowIndex>this.anchorRowIndex?(Le=this.anchorRowIndex,It=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(Le=this.rangeRowIndex,It=this.anchorRowIndex):(Le=this.rangeRowIndex,It=this.rangeRowIndex);for(let Jt=Le;Jt<=It;Jt++){let Pn=this.value[Jt],qn=this.findIndexInSelection(Pn);this._selection=this.selection.filter((Zi,Ni)=>Ni!=qn);let fi=this.dataKey?String(k.gb.resolveFieldData(Pn,this.dataKey)):null;fi&&delete this.selectionKeys[fi],this.onRowUnselect.emit({originalEvent:ie,data:Pn,type:"row"})}}isSelected(ie){return!(!ie||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[k.gb.resolveFieldData(ie,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(ie)>-1:this.equals(ie,this.selection))}findIndexInSelection(ie){let Le=-1;if(this.selection&&this.selection.length)for(let It=0;It<this.selection.length;It++)if(this.equals(ie,this.selection[It])){Le=It;break}return Le}isRowSelectable(ie,Le){return!(this.rowSelectable&&!this.rowSelectable({data:ie,index:Le}))}toggleRowWithRadio(ie,Le){if(this.preventSelectionSetterPropagation=!0,this.selection!=Le){if(!this.isRowSelectable(Le,ie.rowIndex))return;this._selection=Le,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ie.originalEvent,index:ie.rowIndex,data:Le,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(k.gb.resolveFieldData(Le,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:ie.originalEvent,index:ie.rowIndex,data:Le,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(ie,Le){this.selection=this.selection||[];let It=this.isSelected(Le),Jt=this.dataKey?String(k.gb.resolveFieldData(Le,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,It){let Pn=this.findIndexInSelection(Le);this._selection=this.selection.filter((qn,fi)=>fi!=Pn),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:ie.originalEvent,index:ie.rowIndex,data:Le,type:"checkbox"}),Jt&&delete this.selectionKeys[Jt]}else{if(!this.isRowSelectable(Le,ie.rowIndex))return;this._selection=this.selection?[...this.selection,Le]:[Le],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:ie.originalEvent,index:ie.rowIndex,data:Le,type:"checkbox"}),Jt&&(this.selectionKeys[Jt]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(ie,Le){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:ie,checked:Le});else{const It=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let Jt=this.selectionPageOnly&&this._selection?this._selection.filter(Pn=>!It.some(qn=>this.equals(Pn,qn))):[];Le&&(Jt=this.frozenValue?[...Jt,...this.frozenValue,...It]:[...Jt,...It],Jt=this.rowSelectable?Jt.filter((Pn,qn)=>this.rowSelectable({data:Pn,index:qn})):Jt),this._selection=Jt,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:ie,checked:Le}),this.isStateful()&&this.saveState()}}equals(ie,Le){return"equals"===this.compareSelectionBy?ie===Le:k.gb.equals(ie,Le,this.dataKey)}filter(ie,Le,It){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(ie)?this.filters[Le]&&delete this.filters[Le]:this.filters[Le]={value:ie,matchMode:It},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(ie,Le){this.filter(ie,"global",Le)}isFilterBlank(ie){return null==ie||"string"==typeof ie&&0==ie.trim().length||ie instanceof Array&&0==ie.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let ie;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");ie=this.globalFilterFields||this.columns}this.filteredValue=[];for(let Le=0;Le<this.value.length;Le++){let qn,It=!0,Jt=!1,Pn=!1;for(let fi in this.filters)if(this.filters.hasOwnProperty(fi)&&"global"!==fi){Pn=!0;let Zi=fi,Ni=this.filters[Zi];if(Array.isArray(Ni)){for(let Si of Ni)if(It=this.executeLocalFilter(Zi,this.value[Le],Si),Si.operator===_.pg.OR&&It||Si.operator===_.pg.AND&&!It)break}else It=this.executeLocalFilter(Zi,this.value[Le],Ni);if(!It)break}if(this.filters.global&&!Jt&&ie)for(let fi=0;fi<ie.length&&(Jt=this.filterService.filters[this.filters.global.matchMode](k.gb.resolveFieldData(this.value[Le],ie[fi].field||ie[fi]),this.filters.global.value,this.filterLocale),!Jt);fi++);qn=this.filters.global?Pn?Pn&&It&&Jt:Jt:Pn&&It,qn&&this.filteredValue.push(this.value[Le])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(ie,Le,It){let Jt=It.value,Pn=It.matchMode||_.a6.STARTS_WITH,qn=k.gb.resolveFieldData(Le,ie);return(0,this.filterService.filters[Pn])(qn,Jt,this.filterLocale)}hasFilter(){let ie=!0;for(let Le in this.filters)if(this.filters.hasOwnProperty(Le)){ie=!1;break}return!ie}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(ie){return ie[this.exportHeader]||ie.header||ie.field}exportCSV(ie){let Le,It="",Jt=this.columns;ie&&ie.selectionOnly?Le=this.selection||[]:(Le=this.filteredValue||this.value,this.frozenValue&&(Le=Le?[...this.frozenValue,...Le]:this.frozenValue));for(let fi=0;fi<Jt.length;fi++){let Zi=Jt[fi];!1!==Zi.exportable&&Zi.field&&(It+='"'+this.getExportHeader(Zi)+'"',fi<Jt.length-1&&(It+=this.csvSeparator))}Le.forEach((fi,Zi)=>{It+="\n";for(let Ni=0;Ni<Jt.length;Ni++){let Si=Jt[Ni];if(!1!==Si.exportable&&Si.field){let hs=k.gb.resolveFieldData(fi,Si.field);hs=null!=hs?this.exportFunction?this.exportFunction({data:hs,field:Si.field}):String(hs).replace(/"/g,'""'):"",It+='"'+hs+'"',Ni<Jt.length-1&&(It+=this.csvSeparator)}}});let Pn=new Blob([It],{type:"text/csv;charset=utf-8;"}),qn=document.createElement("a");qn.style.display="none",document.body.appendChild(qn),void 0!==qn.download?(qn.setAttribute("href",URL.createObjectURL(Pn)),qn.setAttribute("download",this.exportFilename+".csv"),qn.click()):(It="data:text/csv;charset=utf-8,"+It,window.open(encodeURI(It))),document.body.removeChild(qn)}onLazyItemLoad(ie){this.onLazyLoad.emit(Object.assign(Object.assign(Object.assign({},this.createLazyLoadMetadata()),ie),{rows:ie.last-ie.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(ie){this.virtualScroll&&this.scroller.scrollToIndex(ie)}scrollTo(ie){this.virtualScroll?this.scroller.scrollTo(ie):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(ie):(this.wrapperViewChild.nativeElement.scrollLeft=ie.left,this.wrapperViewChild.nativeElement.scrollTop=ie.top))}updateEditingCell(ie,Le,It,Jt){this.editingCell=ie,this.editingCellData=Le,this.editingCellField=It,this.editingCellRowIndex=Jt,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===r.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=ie=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(r.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:ie,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(ie){let Le=String(k.gb.resolveFieldData(ie,this.dataKey));this.editingRowKeys[Le]=!0}saveRowEdit(ie,Le){if(0===r.p.find(Le,".ng-invalid.ng-dirty").length){let It=String(k.gb.resolveFieldData(ie,this.dataKey));delete this.editingRowKeys[It]}}cancelRowEdit(ie){let Le=String(k.gb.resolveFieldData(ie,this.dataKey));delete this.editingRowKeys[Le]}toggleRow(ie,Le){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let It=String(k.gb.resolveFieldData(ie,this.dataKey));null!=this.expandedRowKeys[It]?(delete this.expandedRowKeys[It],this.onRowCollapse.emit({originalEvent:Le,data:ie})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[It]=!0,this.onRowExpand.emit({originalEvent:Le,data:ie})),Le&&Le.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(ie){return!0===this.expandedRowKeys[String(k.gb.resolveFieldData(ie,this.dataKey))]}isRowEditing(ie){return!0===this.editingRowKeys[String(k.gb.resolveFieldData(ie,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(ie){let Le=r.p.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=ie.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=ie.pageX-Le+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(ie),ie.preventDefault()}onColumnResize(ie){let Le=r.p.getOffset(this.containerViewChild.nativeElement).left;r.p.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=ie.pageX-Le+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let ie=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,It=this.resizeColumnElement.offsetWidth+ie;if(It>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let qn=this.resizeColumnElement.nextElementSibling.offsetWidth-ie;It>15&&qn>15&&this.resizeTableCells(It,qn)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+ie+"px"),this.resizeTableCells(It,null));this.onColResize.emit({element:this.resizeColumnElement,delta:ie}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",r.p.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(ie,Le){let It=r.p.index(this.resizeColumnElement),Jt=[];const Pn=r.p.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");r.p.find(Pn,"tr > th").forEach(Zi=>Jt.push(r.p.getOuterWidth(Zi))),this.destroyStyleElement(),this.createStyleElement();let fi="";Jt.forEach((Zi,Ni)=>{let Si=Ni===It?ie:Le&&Ni===It+1?Le:Zi;fi+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${Ni+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${Ni+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${Ni+1}) {\n                    width: ${Si}px !important; max-width: ${Si}px !important;\n                }\n            `}),this.styleElement.innerHTML=fi}onColumnDragStart(ie,Le){this.reorderIconWidth=r.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=r.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=Le,ie.dataTransfer.setData("text","b")}onColumnDragEnter(ie,Le){if(this.reorderableColumns&&this.draggedColumn&&Le){ie.preventDefault();let It=r.p.getOffset(this.containerViewChild.nativeElement),Jt=r.p.getOffset(Le);if(this.draggedColumn!=Le){let Pn=r.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),qn=r.p.indexWithinGroup(Le,"preorderablecolumn"),fi=Jt.left-It.left,Ni=Jt.left+Le.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=Jt.top-It.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=Jt.top-It.top+Le.offsetHeight+"px",ie.pageX>Ni?(this.reorderIndicatorUpViewChild.nativeElement.style.left=fi+Le.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=fi+Le.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=fi-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=fi-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),qn-Pn==1&&-1===this.dropPosition||qn-Pn==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else ie.dataTransfer.dropEffect="none"}}onColumnDragLeave(ie){this.reorderableColumns&&this.draggedColumn&&(ie.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(ie,Le){if(ie.preventDefault(),this.draggedColumn){let It=r.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),Jt=r.p.indexWithinGroup(Le,"preorderablecolumn"),Pn=It!=Jt;Pn&&(Jt-It==1&&-1===this.dropPosition||It-Jt==1&&1===this.dropPosition)&&(Pn=!1),Pn&&Jt<It&&1===this.dropPosition&&(Jt+=1),Pn&&Jt>It&&-1===this.dropPosition&&(Jt-=1),Pn&&(k.gb.reorderArray(this.columns,It,Jt),this.onColReorder.emit({dragIndex:It,dropIndex:Jt,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(ie,Le){this.rowDragging=!0,this.draggedRowIndex=Le,ie.dataTransfer.setData("text","b")}onRowDragOver(ie,Le,It){if(this.rowDragging&&this.draggedRowIndex!==Le){let Jt=r.p.getOffset(It).top+r.p.getWindowScrollTop(),Pn=ie.pageY,qn=Jt+r.p.getOuterHeight(It)/2,fi=It.previousElementSibling;Pn<qn?(r.p.removeClass(It,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=Le,fi?r.p.addClass(fi,"p-datatable-dragpoint-bottom"):r.p.addClass(It,"p-datatable-dragpoint-top")):(fi?r.p.removeClass(fi,"p-datatable-dragpoint-bottom"):r.p.addClass(It,"p-datatable-dragpoint-top"),this.droppedRowIndex=Le+1,r.p.addClass(It,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(ie,Le){let It=Le.previousElementSibling;It&&r.p.removeClass(It,"p-datatable-dragpoint-bottom"),r.p.removeClass(Le,"p-datatable-dragpoint-bottom"),r.p.removeClass(Le,"p-datatable-dragpoint-top")}onRowDragEnd(ie){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(ie,Le){if(null!=this.droppedRowIndex){let It=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;k.gb.reorderArray(this.value,this.draggedRowIndex,It),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:It})}this.onRowDragLeave(ie,Le),this.onRowDragEnd(ie)}isEmpty(){let ie=this.filteredValue||this.value;return null==ie||0==ie.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const ie=this.getStorage();let Le={};this.paginator&&(Le.first=this.first,Le.rows=this.rows),this.sortField&&(Le.sortField=this.sortField,Le.sortOrder=this.sortOrder),this.multiSortMeta&&(Le.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(Le.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(Le),this.reorderableColumns&&this.saveColumnOrder(Le),this.selection&&(Le.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(Le.expandedRowKeys=this.expandedRowKeys),ie.setItem(this.stateKey,JSON.stringify(Le)),this.onStateSave.emit(Le)}clearState(){const ie=this.getStorage();this.stateKey&&ie.removeItem(this.stateKey)}restoreState(){const Le=this.getStorage().getItem(this.stateKey),It=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(Le){let Pn=JSON.parse(Le,function(Pn,qn){return"string"==typeof qn&&It.test(qn)?new Date(qn):qn});this.paginator&&(void 0!==this.first&&(this.first=Pn.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=Pn.rows,this.rowsChange.emit(this.rows))),Pn.sortField&&(this.restoringSort=!0,this._sortField=Pn.sortField,this._sortOrder=Pn.sortOrder),Pn.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=Pn.multiSortMeta),Pn.filters&&(this.restoringFilter=!0,this.filters=Pn.filters),this.resizableColumns&&(this.columnWidthsState=Pn.columnWidths,this.tableWidthState=Pn.tableWidth),Pn.expandedRowKeys&&(this.expandedRowKeys=Pn.expandedRowKeys),Pn.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(Pn.selection)),this.stateRestored=!0,this.onStateRestore.emit(Pn)}}saveColumnWidths(ie){let Le=[];r.p.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(Jt=>Le.push(r.p.getOuterWidth(Jt))),ie.columnWidths=Le.join(","),"expand"===this.columnResizeMode&&(ie.tableWidth=r.p.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(ie){this.tableViewChild.nativeElement.style.width=ie,this.tableViewChild.nativeElement.style.minWidth=ie}restoreColumnWidths(){if(this.columnWidthsState){let ie=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),k.gb.isNotEmpty(ie)){this.createStyleElement();let Le="";ie.forEach((It,Jt)=>{Le+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${Jt+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${Jt+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${Jt+1}) {\n                            width: ${It}px !important; max-width: ${It}px !important\n                        }\n                    `}),this.styleElement.innerHTML=Le}}}saveColumnOrder(ie){if(this.columns){let Le=[];this.columns.map(It=>{Le.push(It.field||It.key)}),ie.columnOrder=Le}}restoreColumnOrder(){const Le=this.getStorage().getItem(this.stateKey);if(Le){let Jt=JSON.parse(Le).columnOrder;if(Jt){let Pn=[];Jt.map(qn=>{let fi=this.findColumnByKey(qn);fi&&Pn.push(fi)}),this.columnOrderStateRestored=!0,this.columns=Pn}}}findColumnByKey(ie){if(!this.columns)return null;for(let Le of this.columns)if(Le.key===ie||Le.field===ie)return Le}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Eo),u.Y36(u.sBO),u.Y36(_.iZ),u.Y36(_.F0))},Et.\u0275cmp=u.Xpm({type:Et,selectors:[["p-table"]],contentQueries:function(ie,Le,It){if(1&ie&&u.Suo(It,_.jx,4),2&ie){let Jt;u.iGM(Jt=u.CRH())&&(Le.templates=Jt)}},viewQuery:function(ie,Le){if(1&ie&&(u.Gf(K,5),u.Gf(ue,5),u.Gf(q,5),u.Gf(G,5),u.Gf(ne,5),u.Gf(Ce,5),u.Gf(oe,5),u.Gf(z,5),u.Gf(te,5)),2&ie){let It;u.iGM(It=u.CRH())&&(Le.containerViewChild=It.first),u.iGM(It=u.CRH())&&(Le.resizeHelperViewChild=It.first),u.iGM(It=u.CRH())&&(Le.reorderIndicatorUpViewChild=It.first),u.iGM(It=u.CRH())&&(Le.reorderIndicatorDownViewChild=It.first),u.iGM(It=u.CRH())&&(Le.wrapperViewChild=It.first),u.iGM(It=u.CRH())&&(Le.tableViewChild=It.first),u.iGM(It=u.CRH())&&(Le.tableHeaderViewChild=It.first),u.iGM(It=u.CRH())&&(Le.tableFooterViewChild=It.first),u.iGM(It=u.CRH())&&(Le.scroller=It.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[u._Bn([Eo]),u.TTD],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(ie,Le){1&ie&&(u.TgZ(0,"div",0,1),u.YNc(2,W,2,2,"div",2),u.YNc(3,Ae,2,1,"div",3),u.YNc(4,Ee,1,17,"p-paginator",4),u.TgZ(5,"div",5,6),u.YNc(7,be,3,16,"p-scroller",7),u.YNc(8,ct,2,7,"ng-container",8),u.YNc(9,ot,10,28,"ng-template",null,9,u.W1O),u.qZA(),u.YNc(11,ge,1,17,"p-paginator",10),u.YNc(12,rt,2,1,"div",11),u.YNc(13,yt,2,0,"div",12),u.YNc(14,Pt,2,0,"span",13),u.YNc(15,Ht,2,0,"span",14),u.qZA()),2&ie&&(u.Tol(Le.styleClass),u.Q6J("ngStyle",Le.style)("ngClass",u.kEZ(16,Ot,Le.rowHover||Le.selectionMode,Le.scrollable,Le.scrollable&&"flex"===Le.scrollHeight)),u.uIk("id",Le.id),u.xp6(2),u.Q6J("ngIf",Le.loading&&Le.showLoader),u.xp6(1),u.Q6J("ngIf",Le.captionTemplate),u.xp6(1),u.Q6J("ngIf",Le.paginator&&("top"===Le.paginatorPosition||"both"==Le.paginatorPosition)),u.xp6(1),u.Q6J("ngStyle",u.VKq(20,Ye,Le.virtualScroll?"":Le.scrollHeight)),u.xp6(2),u.Q6J("ngIf",Le.virtualScroll),u.xp6(1),u.Q6J("ngIf",!Le.virtualScroll),u.xp6(3),u.Q6J("ngIf",Le.paginator&&("bottom"===Le.paginatorPosition||"both"==Le.paginatorPosition)),u.xp6(1),u.Q6J("ngIf",Le.summaryTemplate),u.xp6(1),u.Q6J("ngIf",Le.resizableColumns),u.xp6(1),u.Q6J("ngIf",Le.reorderableColumns),u.xp6(1),u.Q6J("ngIf",Le.reorderableColumns))},dependencies:function(){return[d.mk,d.O5,d.tP,d.PC,N.D,_.jx,T.T,Ii]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),Et})(),Ii=(()=>{class Et{constructor(ie,Le,It,Jt){this.dt=ie,this.tableService=Le,this.cd=It,this.el=Jt,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(ie){this._value=ie,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(ie,Le,It){let Jt=k.gb.resolveFieldData(Le,this.dt.groupRowsBy),Pn=ie[It-1];return!Pn||Jt!==k.gb.resolveFieldData(Pn,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(ie,Le,It){let Jt=k.gb.resolveFieldData(Le,this.dt.groupRowsBy),Pn=ie[It+1];return!Pn||Jt!==k.gb.resolveFieldData(Pn,this.dt.groupRowsBy)}shouldRenderRowspan(ie,Le,It){let Jt=k.gb.resolveFieldData(Le,this.dt.groupRowsBy),Pn=ie[It-1];return!Pn||Jt!==k.gb.resolveFieldData(Pn,this.dt.groupRowsBy)}calculateRowGroupSize(ie,Le,It){let Jt=k.gb.resolveFieldData(Le,this.dt.groupRowsBy),Pn=Jt,qn=0;for(;Jt===Pn;){qn++;let fi=ie[++It];if(!fi)break;Pn=k.gb.resolveFieldData(fi,this.dt.groupRowsBy)}return 1===qn?null:qn}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=r.p.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let ie=r.p.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=ie+"px"}}getScrollerOption(ie,Le){return this.dt.virtualScroll&&(Le=Le||this.scrollerOptions)?Le[ie]:null}getRowIndex(ie){const Le=this.dt.paginator?this.dt.first+ie:ie,It=this.getScrollerOption("getItemOptions");return It?It(Le).index:Le}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(ei),u.Y36(Eo),u.Y36(u.sBO),u.Y36(u.SBq))},Et.\u0275cmp=u.Xpm({type:Et,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:lt,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(ie,Le){1&ie&&(u.YNc(0,de,2,2,"ng-container",0),u.YNc(1,Vn,2,2,"ng-container",0),u.YNc(2,Vo,2,2,"ng-container",0),u.YNc(3,xe,2,5,"ng-container",0),u.YNc(4,pt,2,5,"ng-container",0)),2&ie&&(u.Q6J("ngIf",!Le.dt.expandedRowTemplate),u.xp6(1),u.Q6J("ngIf",Le.dt.expandedRowTemplate&&!(Le.frozen&&Le.dt.frozenExpandedRowTemplate)),u.xp6(1),u.Q6J("ngIf",Le.dt.frozenExpandedRowTemplate&&Le.frozen),u.xp6(1),u.Q6J("ngIf",Le.dt.loading),u.xp6(1),u.Q6J("ngIf",Le.dt.isEmpty()&&!Le.dt.loading))},dependencies:[d.sg,d.O5,d.tP],encapsulation:2}),Et})(),Ir=(()=>{class Et{constructor(ie){this.el=ie,this.alignFrozen="left",this._frozen=!0}get frozen(){return this._frozen}set frozen(ie){this._frozen=ie,this.updateStickyPosition()}ngAfterViewInit(){setTimeout(()=>{this.updateStickyPosition()},1e3)}updateStickyPosition(){if(this._frozen){if("right"===this.alignFrozen){let Le=0,It=this.el.nativeElement.nextElementSibling;It&&(Le=r.p.getOuterWidth(It)+(parseFloat(It.style.right)||0)),this.el.nativeElement.style.right=Le+"px"}else{let Le=0,It=this.el.nativeElement.previousElementSibling;It&&(Le=r.p.getOuterWidth(It)+(parseFloat(It.style.left)||0)),this.el.nativeElement.style.left=Le+"px"}let ie=this.el.nativeElement.parentElement.nextElementSibling;if(ie){let Le=r.p.index(this.el.nativeElement);ie.children&&ie.children[Le]&&(ie.children[Le].style.left=this.el.nativeElement.style.left,ie.children[Le].style.right=this.el.nativeElement.style.right)}}}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(u.SBq))},Et.\u0275dir=u.lG2({type:Et,selectors:[["","pFrozenColumn",""]],hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(ie,Le){2&ie&&u.ekj("p-frozen-column",Le.frozen)},inputs:{frozen:"frozen",alignFrozen:"alignFrozen"}}),Et})(),As=(()=>{class Et{constructor(ie){this.dt=ie,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(Le=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(ie){this.isEnabled()&&!this.isFilterElement(ie.target)&&(this.updateSortState(),this.dt.sort({originalEvent:ie,field:this.field}),r.p.clearSelection())}onEnterKey(ie){this.onClick(ie)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(ie){return r.p.hasClass(ie,"pi-filter-icon")||r.p.hasClass(ie,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(ei))},Et.\u0275dir=u.lG2({type:Et,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(ie,Le){1&ie&&u.NdJ("click",function(Jt){return Le.onClick(Jt)})("keydown.enter",function(Jt){return Le.onEnterKey(Jt)}),2&ie&&(u.uIk("tabindex",Le.isEnabled()?"0":null)("role","columnheader")("aria-sort",Le.sortOrder),u.ekj("p-sortable-column",Le.isEnabled())("p-highlight",Le.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),Et})(),ir=(()=>{class Et{constructor(ie,Le){this.dt=ie,this.cd=Le,this.subscription=this.dt.tableService.sortSource$.subscribe(It=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(ie){ie.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let ie=this.dt.getSortMeta(this.field);this.sortOrder=ie?ie.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let ie=this.dt._multiSortMeta,Le=-1;if(ie&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||ie.length>1))for(let It=0;It<ie.length;It++){let Jt=ie[It];if(Jt.field===this.field||Jt.field===this.field){Le=It;break}}return Le}getBadgeValue(){let ie=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&ie>-1?ie:ie+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(ei),u.Y36(u.sBO))},Et.\u0275cmp=u.Xpm({type:Et,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(ie,Le){1&ie&&(u._UZ(0,"i",0),u.YNc(1,dn,2,1,"span",1)),2&ie&&(u.Q6J("ngClass",u.kEZ(2,xn,1===Le.sortOrder,-1===Le.sortOrder,0===Le.sortOrder)),u.xp6(1),u.Q6J("ngIf",Le.isMultiSorted()))},dependencies:[d.mk,d.O5],encapsulation:2,changeDetection:0}),Et})(),$i=(()=>{class Et{constructor(ie,Le){this.dt=ie,this.tableService=Le,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(ie){this.isEnabled()&&this.dt.handleRowClick({originalEvent:ie,rowData:this.data,rowIndex:this.index})}onTouchEnd(ie){this.isEnabled()&&this.dt.handleRowTouchEnd(ie)}onArrowDownKeyDown(ie){if(!this.isEnabled())return;const It=this.findNextSelectableRow(ie.currentTarget);It&&It.focus(),ie.preventDefault()}onArrowUpKeyDown(ie){if(!this.isEnabled())return;const It=this.findPrevSelectableRow(ie.currentTarget);It&&It.focus(),ie.preventDefault()}onEnterKeyDown(ie){!this.isEnabled()||this.dt.handleRowClick({originalEvent:ie,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.scroller.elementViewChild.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.scroller.elementViewChild.nativeElement.focus()}findNextSelectableRow(ie){let Le=ie.nextElementSibling;return Le?r.p.hasClass(Le,"p-selectable-row")?Le:this.findNextSelectableRow(Le):null}findPrevSelectableRow(ie){let Le=ie.previousElementSibling;return Le?r.p.hasClass(Le,"p-selectable-row")?Le:this.findPrevSelectableRow(Le):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(ei),u.Y36(Eo))},Et.\u0275dir=u.lG2({type:Et,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(ie,Le){1&ie&&u.NdJ("click",function(Jt){return Le.onClick(Jt)})("touchend",function(Jt){return Le.onTouchEnd(Jt)})("keydown.arrowdown",function(Jt){return Le.onArrowDownKeyDown(Jt)})("keydown.arrowup",function(Jt){return Le.onArrowUpKeyDown(Jt)})("keydown.enter",function(Jt){return Le.onEnterKeyDown(Jt)})("keydown.shift.enter",function(Jt){return Le.onEnterKeyDown(Jt)})("keydown.meta.enter",function(Jt){return Le.onEnterKeyDown(Jt)})("keydown.pagedown",function(){return Le.onPageDownKeyDown()})("keydown.pageup",function(){return Le.onPageDownKeyDown()})("keydown.home",function(){return Le.onPageDownKeyDown()})("keydown.end",function(){return Le.onPageDownKeyDown()})("keydown.space",function(){return Le.onSpaceKeydown()}),2&ie&&(u.uIk("tabindex",Le.isEnabled()?0:void 0),u.ekj("p-selectable-row",Le.isEnabled())("p-highlight",Le.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),Et})(),cr=(()=>{class Et{constructor(ie){this.dt=ie}onClick(ie){this.isEnabled()&&(this.dt.toggleRow(this.data,ie),ie.preventDefault())}isEnabled(){return!0!==this.pRowTogglerDisabled}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(ei))},Et.\u0275dir=u.lG2({type:Et,selectors:[["","pRowToggler",""]],hostAttrs:[1,"p-element"],hostBindings:function(ie,Le){1&ie&&u.NdJ("click",function(Jt){return Le.onClick(Jt)})},inputs:{data:["pRowToggler","data"],pRowTogglerDisabled:"pRowTogglerDisabled"}}),Et})(),rs=(()=>{class Et{constructor(ie,Le,It){this.dt=ie,this.el=Le,this.zone=It}ngAfterViewInit(){this.isEnabled()&&r.p.addClass(this.el.nativeElement,"p-editable-column")}onClick(ie){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,ie),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),r.p.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let Le=r.p.findSingle(this.el.nativeElement,this.pFocusCellSelector||"input, textarea, select");Le&&Le.focus()},50)}),this.overlayEventListener=ie=>{this.el&&this.el.nativeElement.contains(ie.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(ie,Le){ie?this.dt.onEditComplete.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:Le,index:this.dt.editingCellRowIndex}):this.dt.onEditCancel.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:Le,index:this.dt.editingCellRowIndex}),r.p.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(ie){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ie),ie.preventDefault())}onTabKeyDown(ie){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ie),ie.preventDefault())}onEscapeKeyDown(ie){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,ie),ie.preventDefault())}onShiftKeyDown(ie){this.isEnabled()&&(ie.shiftKey?this.moveToPreviousCell(ie):this.moveToNextCell(ie))}onArrowDown(ie){if(this.isEnabled()){let Le=this.findCell(ie.target);if(Le){let It=r.p.index(Le),Jt=this.findNextEditableColumnByIndex(Le,It);Jt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ie),r.p.invokeElementMethod(ie.target,"blur"),r.p.invokeElementMethod(Jt,"click")),ie.preventDefault()}}}onArrowUp(ie){if(this.isEnabled()){let Le=this.findCell(ie.target);if(Le){let It=r.p.index(Le),Jt=this.findPrevEditableColumnByIndex(Le,It);Jt&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ie),r.p.invokeElementMethod(ie.target,"blur"),r.p.invokeElementMethod(Jt,"click")),ie.preventDefault()}}}onArrowLeft(ie){this.isEnabled()&&this.moveToPreviousCell(ie)}onArrowRight(ie){this.isEnabled()&&this.moveToNextCell(ie)}findCell(ie){if(ie){let Le=ie;for(;Le&&!r.p.hasClass(Le,"p-cell-editing");)Le=Le.parentElement;return Le}return null}moveToPreviousCell(ie){let Le=this.findCell(ie.target);if(Le){let It=this.findPreviousEditableColumn(Le);It&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ie),r.p.invokeElementMethod(ie.target,"blur"),r.p.invokeElementMethod(It,"click"),ie.preventDefault())}}moveToNextCell(ie){let Le=this.findCell(ie.target);if(Le){let It=this.findNextEditableColumn(Le);It&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,ie),r.p.invokeElementMethod(ie.target,"blur"),r.p.invokeElementMethod(It,"click"),ie.preventDefault())}}findPreviousEditableColumn(ie){let Le=ie.previousElementSibling;if(!Le){let It=ie.parentElement.previousElementSibling;It&&(Le=It.lastElementChild)}return Le?r.p.hasClass(Le,"p-editable-column")?Le:this.findPreviousEditableColumn(Le):null}findNextEditableColumn(ie){let Le=ie.nextElementSibling;if(!Le){let It=ie.parentElement.nextElementSibling;It&&(Le=It.firstElementChild)}return Le?r.p.hasClass(Le,"p-editable-column")?Le:this.findNextEditableColumn(Le):null}findNextEditableColumnByIndex(ie,Le){let It=ie.parentElement.nextElementSibling;if(It){let Jt=It.children[Le];return Jt&&r.p.hasClass(Jt,"p-editable-column")?Jt:null}return null}findPrevEditableColumnByIndex(ie,Le){let It=ie.parentElement.previousElementSibling;if(It){let Jt=It.children[Le];return Jt&&r.p.hasClass(Jt,"p-editable-column")?Jt:null}return null}isEnabled(){return!0!==this.pEditableColumnDisabled}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(ei),u.Y36(u.SBq),u.Y36(u.R0b))},Et.\u0275dir=u.lG2({type:Et,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(ie,Le){1&ie&&u.NdJ("click",function(Jt){return Le.onClick(Jt)})("keydown.enter",function(Jt){return Le.onEnterKeyDown(Jt)})("keydown.tab",function(Jt){return Le.onShiftKeyDown(Jt)})("keydown.escape",function(Jt){return Le.onEscapeKeyDown(Jt)})("keydown.shift.tab",function(Jt){return Le.onShiftKeyDown(Jt)})("keydown.meta.tab",function(Jt){return Le.onShiftKeyDown(Jt)})("keydown.arrowdown",function(Jt){return Le.onArrowDown(Jt)})("keydown.arrowup",function(Jt){return Le.onArrowUp(Jt)})("keydown.arrowleft",function(Jt){return Le.onArrowLeft(Jt)})("keydown.arrowright",function(Jt){return Le.onArrowRight(Jt)})},inputs:{data:["pEditableColumn","data"],field:["pEditableColumnField","field"],rowIndex:["pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:"pEditableColumnDisabled",pFocusCellSelector:"pFocusCellSelector"}}),Et})(),go=(()=>{class Et{constructor(ie){this.el=ie}isEnabled(){return!0!==this.pEditableRowDisabled}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(u.SBq))},Et.\u0275dir=u.lG2({type:Et,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:["pEditableRow","data"],pEditableRowDisabled:"pEditableRowDisabled"}}),Et})(),Vs=(()=>{class Et{constructor(ie,Le,It){this.dt=ie,this.editableColumn=Le,this.editableRow=It}ngAfterContentInit(){this.templates.forEach(ie=>{switch(ie.getType()){case"input":this.inputTemplate=ie.template;break;case"output":this.outputTemplate=ie.template}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&"row"===this.dt.editMode&&this.dt.isRowEditing(this.editableRow.data)}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(ei),u.Y36(rs,8),u.Y36(go,8))},Et.\u0275cmp=u.Xpm({type:Et,selectors:[["p-cellEditor"]],contentQueries:function(ie,Le,It){if(1&ie&&u.Suo(It,_.jx,4),2&ie){let Jt;u.iGM(Jt=u.CRH())&&(Le.templates=Jt)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(ie,Le){1&ie&&(u.YNc(0,bn,2,1,"ng-container",0),u.YNc(1,Wn,2,1,"ng-container",0)),2&ie&&(u.Q6J("ngIf",Le.editing),u.xp6(1),u.Q6J("ngIf",!Le.editing))},dependencies:[d.O5,d.tP],encapsulation:2}),Et})(),Yo=(()=>{class Et{constructor(ie,Le,It,Jt,Pn){this.el=ie,this.dt=Le,this.renderer=It,this.config=Jt,this.overlayService=Pn,this.type="text",this.display="row",this.showMenu=!0,this.operator=_.pg.AND,this.showOperator=!0,this.showClearButton=!0,this.showApplyButton=!0,this.showMatchModes=!0,this.showAddButton=!0,this.hideOnClear=!1,this.maxConstraints=2,this.useGrouping=!0,this.showButtons=!0}ngOnInit(){this.dt.filters[this.field]||this.initFieldFilterConstraint(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.generateMatchModeOptions(),this.generateOperatorOptions()}),this.resetSubscription=this.dt.tableService.resetSource$.subscribe(()=>{this.initFieldFilterConstraint()}),this.generateMatchModeOptions(),this.generateOperatorOptions()}generateMatchModeOptions(){var ie;this.matchModes=this.matchModeOptions||(null===(ie=this.config.filterMatchModeOptions[this.type])||void 0===ie?void 0:ie.map(Le=>({label:this.config.getTranslation(Le),value:Le})))}generateOperatorOptions(){this.operatorOptions=[{label:this.config.getTranslation(_.ws.MATCH_ALL),value:_.pg.AND},{label:this.config.getTranslation(_.ws.MATCH_ANY),value:_.pg.OR}]}ngAfterContentInit(){this.templates.forEach(ie=>{switch(ie.getType()){case"header":this.headerTemplate=ie.template;break;case"filter":default:this.filterTemplate=ie.template;break;case"footer":this.footerTemplate=ie.template}})}initFieldFilterConstraint(){let ie=this.getDefaultMatchMode();this.dt.filters[this.field]="row"==this.display?{value:null,matchMode:ie}:[{value:null,matchMode:ie,operator:this.operator}]}onMenuMatchModeChange(ie,Le){Le.matchMode=ie,this.showApplyButton||this.dt._filter()}onRowMatchModeChange(ie){this.dt.filters[this.field].matchMode=ie,this.dt._filter(),this.hide()}onRowMatchModeKeyDown(ie){let Le=ie.target;switch(ie.key){case"ArrowDown":var It=this.findNextItem(Le);It&&(Le.removeAttribute("tabindex"),It.tabIndex="0",It.focus()),ie.preventDefault();break;case"ArrowUp":var Jt=this.findPrevItem(Le);Jt&&(Le.removeAttribute("tabindex"),Jt.tabIndex="0",Jt.focus()),ie.preventDefault()}}onRowClearItemClick(){this.clearFilter(),this.hide()}isRowMatchModeSelected(ie){return this.dt.filters[this.field].matchMode===ie}addConstraint(){this.dt.filters[this.field].push({value:null,matchMode:this.getDefaultMatchMode(),operator:this.getDefaultOperator()})}removeConstraint(ie){this.dt.filters[this.field]=this.dt.filters[this.field].filter(Le=>Le!==ie),this.dt._filter()}onOperatorChange(ie){this.dt.filters[this.field].forEach(Le=>{Le.operator=ie,this.operator=ie}),this.showApplyButton||this.dt._filter()}toggleMenu(){this.overlayVisible=!this.overlayVisible}onToggleButtonKeyDown(ie){switch(ie.key){case"Escape":case"Tab":this.overlayVisible=!1;break;case"ArrowDown":if(this.overlayVisible){let Le=r.p.getFocusableElements(this.overlay);Le&&Le[0].focus(),ie.preventDefault()}else ie.altKey&&(this.overlayVisible=!0,ie.preventDefault())}}onEscape(){this.overlayVisible=!1,this.icon.nativeElement.focus()}findNextItem(ie){let Le=ie.nextElementSibling;return Le?r.p.hasClass(Le,"p-column-filter-separator")?this.findNextItem(Le):Le:ie.parentElement.firstElementChild}findPrevItem(ie){let Le=ie.previousElementSibling;return Le?r.p.hasClass(Le,"p-column-filter-separator")?this.findPrevItem(Le):Le:ie.parentElement.lastElementChild}onContentClick(){this.selfClick=!0}onOverlayAnimationStart(ie){switch(ie.toState){case"visible":this.overlay=ie.element,document.body.appendChild(this.overlay),k.P9.set("overlay",this.overlay,this.config.zIndex.overlay),r.p.absolutePosition(this.overlay,this.icon.nativeElement),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.overlayEventListener=Le=>{this.overlay&&this.overlay.contains(Le.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener);break;case"void":this.onOverlayHide(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}onOverlayAnimationEnd(ie){"void"===ie.toState&&k.P9.clear(ie.element)}getDefaultMatchMode(){return this.matchMode?this.matchMode:"text"===this.type?_.a6.STARTS_WITH:"numeric"===this.type?_.a6.EQUALS:"date"===this.type?_.a6.DATE_IS:_.a6.CONTAINS}getDefaultOperator(){return this.dt.filters?this.dt.filters[this.field][0].operator:this.operator}hasRowFilter(){return this.dt.filters[this.field]&&!this.dt.isFilterBlank(this.dt.filters[this.field].value)}get fieldConstraints(){return this.dt.filters?this.dt.filters[this.field]:null}get showRemoveIcon(){return!!this.fieldConstraints&&this.fieldConstraints.length>1}get showMenuButton(){return this.showMenu&&("row"!==this.display||"boolean"!==this.type)}get isShowOperator(){return this.showOperator&&"boolean"!==this.type}get isShowAddConstraint(){return this.showAddButton&&"boolean"!==this.type&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints}get applyButtonLabel(){return this.config.getTranslation(_.ws.APPLY)}get clearButtonLabel(){return this.config.getTranslation(_.ws.CLEAR)}get addRuleButtonLabel(){return this.config.getTranslation(_.ws.ADD_RULE)}get removeRuleButtonLabel(){return this.config.getTranslation(_.ws.REMOVE_RULE)}get noFilterLabel(){return this.config.getTranslation(_.ws.NO_FILTER)}hasFilter(){let ie=this.dt.filters[this.field];return!!ie&&(Array.isArray(ie)?!this.dt.isFilterBlank(ie[0].value):!this.dt.isFilterBlank(ie.value))}isOutsideClicked(ie){return!(this.overlay.isSameNode(ie.target)||this.overlay.contains(ie.target)||this.icon.nativeElement.isSameNode(ie.target)||this.icon.nativeElement.contains(ie.target)||r.p.hasClass(ie.target,"p-column-filter-add-button")||r.p.hasClass(ie.target.parentElement,"p-column-filter-add-button")||r.p.hasClass(ie.target,"p-column-filter-remove-button")||r.p.hasClass(ie.target.parentElement,"p-column-filter-remove-button"))}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",Le=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(Le)&&this.hide(),this.selfClick=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}bindDocumentResizeListener(){this.documentResizeListener=()=>{this.overlayVisible&&!r.p.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new r.V(this.icon.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}hide(){this.overlayVisible=!1}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}clearFilter(){this.initFieldFilterConstraint(),this.dt._filter(),this.hideOnClear&&this.hide()}applyFilter(){this.dt._filter(),this.hide()}ngOnDestroy(){this.overlay&&(this.el.nativeElement.appendChild(this.overlay),k.P9.clear(this.overlay),this.onOverlayHide()),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.resetSubscription&&this.resetSubscription.unsubscribe(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(u.SBq),u.Y36(ei),u.Y36(u.Qsj),u.Y36(_.b4),u.Y36(_.F0))},Et.\u0275cmp=u.Xpm({type:Et,selectors:[["p-columnFilter"]],contentQueries:function(ie,Le,It){if(1&ie&&u.Suo(It,_.jx,4),2&ie){let Jt;u.iGM(Jt=u.CRH())&&(Le.templates=Jt)}},viewQuery:function(ie,Le){if(1&ie&&u.Gf(li,5),2&ie){let It;u.iGM(It=u.CRH())&&(Le.icon=It.first)}},hostAttrs:[1,"p-element"],inputs:{field:"field",type:"type",display:"display",showMenu:"showMenu",matchMode:"matchMode",operator:"operator",showOperator:"showOperator",showClearButton:"showClearButton",showApplyButton:"showApplyButton",showMatchModes:"showMatchModes",showAddButton:"showAddButton",hideOnClear:"hideOnClear",placeholder:"placeholder",matchModeOptions:"matchModeOptions",maxConstraints:"maxConstraints",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",locale:"locale",localeMatcher:"localeMatcher",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",showButtons:"showButtons"},decls:5,vars:8,consts:[[1,"p-column-filter",3,"ngClass"],["class","p-fluid",3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping","showButtons",4,"ngIf"],["type","button","class","p-column-filter-menu-button p-link","aria-haspopup","true",3,"ngClass","click","keydown",4,"ngIf"],["type","button","class","p-column-filter-clear-button p-link",3,"ngClass","click",4,"ngIf"],[3,"ngClass","click","keydown.escape",4,"ngIf"],[1,"p-fluid",3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping","showButtons"],["type","button","aria-haspopup","true",1,"p-column-filter-menu-button","p-link",3,"ngClass","click","keydown"],["icon",""],[1,"pi","pi-filter-icon","pi-filter"],["type","button",1,"p-column-filter-clear-button","p-link",3,"ngClass","click"],[1,"pi","pi-filter-slash"],[3,"ngClass","click","keydown.escape"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-column-filter-row-items",4,"ngIf","ngIfElse"],["menu",""],[1,"p-column-filter-row-items"],["class","p-column-filter-row-item",3,"ngClass","click","keydown","keydown.enter",4,"ngFor","ngForOf"],[1,"p-column-filter-separator"],[1,"p-column-filter-row-item",3,"click","keydown","keydown.enter"],[1,"p-column-filter-row-item",3,"ngClass","click","keydown","keydown.enter"],["class","p-column-filter-operator",4,"ngIf"],[1,"p-column-filter-constraints"],["class","p-column-filter-constraint",4,"ngFor","ngForOf"],["class","p-column-filter-add-rule",4,"ngIf"],[1,"p-column-filter-buttonbar"],["type","button","pButton","","class","p-button-outlined p-button-sm","pRipple","",3,"label","click",4,"ngIf"],["type","button","pButton","","class","p-button-sm","pRipple","",3,"label","click",4,"ngIf"],[1,"p-column-filter-operator"],["styleClass","p-column-filter-operator-dropdown",3,"options","ngModel","ngModelChange"],[1,"p-column-filter-constraint"],["styleClass","p-column-filter-matchmode-dropdown",3,"options","ngModel","ngModelChange",4,"ngIf"],[3,"type","field","filterConstraint","filterTemplate","placeholder","minFractionDigits","maxFractionDigits","prefix","suffix","locale","localeMatcher","currency","currencyDisplay","useGrouping"],["type","button","pButton","","icon","pi pi-trash","class","p-column-filter-remove-button p-button-text p-button-danger p-button-sm","pRipple","",3,"label","click",4,"ngIf"],["styleClass","p-column-filter-matchmode-dropdown",3,"options","ngModel","ngModelChange"],["type","button","pButton","","icon","pi pi-trash","pRipple","",1,"p-column-filter-remove-button","p-button-text","p-button-danger","p-button-sm",3,"label","click"],[1,"p-column-filter-add-rule"],["type","button","pButton","","icon","pi pi-plus","pRipple","",1,"p-column-filter-add-button","p-button-text","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","",1,"p-button-outlined","p-button-sm",3,"label","click"],["type","button","pButton","","pRipple","",1,"p-button-sm",3,"label","click"]],template:function(ie,Le){1&ie&&(u.TgZ(0,"div",0),u.YNc(1,ho,1,15,"p-columnFilterFormElement",1),u.YNc(2,Wo,3,5,"button",2),u.YNc(3,Xi,3,3,"button",3),u.YNc(4,br,6,14,"div",4),u.qZA()),2&ie&&(u.Q6J("ngClass",u.WLB(5,fa,"row"===Le.display,"menu"===Le.display)),u.xp6(1),u.Q6J("ngIf","row"===Le.display),u.xp6(1),u.Q6J("ngIf",Le.showMenuButton),u.xp6(1),u.Q6J("ngIf",Le.showClearButton&&"row"===Le.display),u.xp6(1),u.Q6J("ngIf",Le.showMenu&&Le.overlayVisible))},dependencies:function(){return[d.mk,d.sg,d.O5,d.tP,R.Lt,f.JJ,f.On,P.Hq,Sr]},encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)(".12s cubic-bezier(0, 0, 0.2, 1)")]),(0,e.eR)(":leave",[(0,e.jt)(".1s linear",(0,e.oB)({opacity:0}))])])]}}),Et})(),Sr=(()=>{class Et{constructor(ie,Le){this.dt=ie,this.colFilter=Le,this.useGrouping=!0}get showButtons(){return this.colFilter.showButtons}ngOnInit(){this.filterCallback=ie=>{this.filterConstraint.value=ie,this.dt._filter()}}onModelChange(ie){this.filterConstraint.value=ie,("boolean"===this.type||""===ie)&&this.dt._filter()}onTextInputEnterKeyDown(ie){this.dt._filter(),ie.preventDefault()}onNumericInputKeyDown(ie){"Enter"===ie.key&&(this.dt._filter(),ie.preventDefault())}}return Et.\u0275fac=function(ie){return new(ie||Et)(u.Y36(ei),u.Y36(Yo))},Et.\u0275cmp=u.Xpm({type:Et,selectors:[["p-columnFilterFormElement"]],hostAttrs:[1,"p-element"],inputs:{field:"field",type:"type",filterConstraint:"filterConstraint",filterTemplate:"filterTemplate",placeholder:"placeholder",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",locale:"locale",localeMatcher:"localeMatcher",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["builtInElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["type","text","pInputText","",3,"value","input","keydown.enter",4,"ngSwitchCase"],[3,"ngModel","showButtons","minFractionDigits","maxFractionDigits","prefix","suffix","placeholder","mode","locale","localeMatcher","currency","currencyDisplay","useGrouping","ngModelChange","onKeyDown",4,"ngSwitchCase"],[3,"ngModel","ngModelChange",4,"ngSwitchCase"],[3,"placeholder","ngModel","ngModelChange",4,"ngSwitchCase"],["type","text","pInputText","",3,"value","input","keydown.enter"],[3,"ngModel","showButtons","minFractionDigits","maxFractionDigits","prefix","suffix","placeholder","mode","locale","localeMatcher","currency","currencyDisplay","useGrouping","ngModelChange","onKeyDown"],[3,"ngModel","ngModelChange"],[3,"placeholder","ngModel","ngModelChange"]],template:function(ie,Le){if(1&ie&&(u.YNc(0,wa,2,5,"ng-container",0),u.YNc(1,Fr,5,5,"ng-template",null,1,u.W1O)),2&ie){const It=u.MAs(2);u.Q6J("ngIf",Le.filterTemplate)("ngIfElse",It)}},dependencies:[d.O5,d.tP,d.RF,d.n9,L.Rn,f.JJ,f.On,Q.o,x.f,$],encapsulation:2}),Et})(),kr=(()=>{class Et{}return Et.\u0275fac=function(ie){return new(ie||Et)},Et.\u0275mod=u.oAB({type:Et}),Et.\u0275inj=u.cJS({imports:[d.ez,N.U,Q.j,R.kW,f.u5,P.hJ,y.Qy,x._8,L.L$,V,T.v,_.m8,T.v]}),Et})()},3725:(hn,ft,b)=>{"use strict";b.d(ft,{LU:()=>oe,x4:()=>ne,xf:()=>Ce});var e=b(5e3),d=b(9808),u=b(4119),f=b(5787),_=b(9783),P=b(5730);function x(z,te){1&z&&e.GkF(0)}function r(z,te){if(1&z&&(e.ynx(0),e.YNc(1,x,1,0,"ng-container",3),e.BQk()),2&z){const W=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",W.contentTemplate)}}function R(z,te){if(1&z&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,r,2,1,"ng-container",2),e.qZA()),2&z){const W=e.oxw();e.Q6J("hidden",!W.selected),e.uIk("id",W.id)("aria-hidden",!W.selected)("aria-labelledby",W.id+"-label"),e.xp6(2),e.Q6J("ngIf",W.contentTemplate&&(W.cache?W.loaded:W.selected))}}const L=["*"],Q=["content"],N=["navbar"],T=["prevBtn"],y=["nextBtn"],E=["inkbar"];function D(z,te){if(1&z){const W=e.EpF();e.TgZ(0,"button",12,13),e.NdJ("click",function(){e.CHM(W);const Ae=e.oxw();return e.KtG(Ae.navBackward())}),e._UZ(2,"span",14),e.qZA()}}function U(z,te){if(1&z&&e._UZ(0,"span",24),2&z){const W=e.oxw(3).$implicit;e.Q6J("ngClass",W.leftIcon)}}function B(z,te){if(1&z&&e._UZ(0,"span",25),2&z){const W=e.oxw(3).$implicit;e.Q6J("ngClass",W.rightIcon)}}function ce(z,te){if(1&z&&(e.ynx(0),e.YNc(1,U,1,1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.YNc(4,B,1,1,"span",23),e.BQk()),2&z){const W=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",W.leftIcon),e.xp6(2),e.Oqu(W.header),e.xp6(1),e.Q6J("ngIf",W.rightIcon)}}function $(z,te){1&z&&e.GkF(0)}function V(z,te){if(1&z){const W=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(Ae){e.CHM(W);const Ee=e.oxw(2).$implicit,qe=e.oxw();return e.KtG(qe.close(Ae,Ee))}),e.qZA()}}const k=function(z,te){return{"p-highlight":z,"p-disabled":te}};function O(z,te){if(1&z){const W=e.EpF();e.TgZ(0,"li",16)(1,"a",17),e.NdJ("click",function(Ae){e.CHM(W);const Ee=e.oxw().$implicit,qe=e.oxw();return e.KtG(qe.open(Ae,Ee))})("keydown.enter",function(Ae){e.CHM(W);const Ee=e.oxw().$implicit,qe=e.oxw();return e.KtG(qe.open(Ae,Ee))}),e.YNc(2,ce,5,3,"ng-container",18),e.YNc(3,$,1,0,"ng-container",19),e.YNc(4,V,1,0,"span",20),e.qZA()()}if(2&z){const W=e.oxw().$implicit;e.Tol(W.headerStyleClass),e.Q6J("ngClass",e.WLB(16,k,W.selected,W.disabled))("ngStyle",W.headerStyle),e.xp6(1),e.Q6J("pTooltip",W.tooltip)("tooltipPosition",W.tooltipPosition)("positionStyle",W.tooltipPositionStyle)("tooltipStyleClass",W.tooltipStyleClass),e.uIk("id",W.id+"-label")("aria-selected",W.selected)("aria-controls",W.id)("aria-selected",W.selected)("tabindex",W.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",!W.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",W.headerTemplate),e.xp6(1),e.Q6J("ngIf",W.closable)}}function K(z,te){1&z&&e.YNc(0,O,5,19,"li",15),2&z&&e.Q6J("ngIf",!te.$implicit.closed)}function ue(z,te){if(1&z){const W=e.EpF();e.TgZ(0,"button",27,28),e.NdJ("click",function(){e.CHM(W);const Ae=e.oxw();return e.KtG(Ae.navForward())}),e._UZ(2,"span",29),e.qZA()}}const q=function(z){return{"p-tabview p-component":!0,"p-tabview-scrollable":z}};let G=0,ne=(()=>{class z{constructor(W,Y,Ae){this.viewContainer=Y,this.cd=Ae,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+G++,this.tabView=W}ngAfterContentInit(){this.templates.forEach(W=>{"header"===W.getType()?this.headerTemplate=W.template:this.contentTemplate=W.template})}get selected(){return this._selected}set selected(W){this._selected=W,this.loaded||this.cd.detectChanges(),W&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(W){this._disabled=W,this.tabView.cd.markForCheck()}get header(){return this._header}set header(W){this._header=W,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(W){this._leftIcon=W,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(W){this._rightIcon=W,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return z.\u0275fac=function(W){return new(W||z)(e.Y36((0,e.Gpc)(()=>Ce)),e.Y36(e.s_b),e.Y36(e.sBO))},z.\u0275cmp=e.Xpm({type:z,selectors:[["p-tabPanel"]],contentQueries:function(W,Y,Ae){if(1&W&&e.Suo(Ae,_.jx,4),2&W){let Ee;e.iGM(Ee=e.CRH())&&(Y.templates=Ee)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:L,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(W,Y){1&W&&(e.F$t(),e.YNc(0,R,3,5,"div",0)),2&W&&e.Q6J("ngIf",!Y.closed)},dependencies:[d.O5,d.tP],encapsulation:2}),z})(),Ce=(()=>{class z{constructor(W,Y){this.el=W,this.cd=Y,this.orientation="top",this.onChange=new e.vpe,this.onClose=new e.vpe,this.activeIndexChange=new e.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(W=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe()}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(W,Y){if(Y.disabled)W&&W.preventDefault();else{if(!Y.selected){let Ae=this.findSelectedTab();Ae&&(Ae.selected=!1),this.tabChanged=!0,Y.selected=!0;let Ee=this.findTabIndex(Y);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(Ee),this.onChange.emit({originalEvent:W,index:Ee}),this.updateScrollBar(Ee)}W&&W.preventDefault()}}close(W,Y){this.controlClose?this.onClose.emit({originalEvent:W,index:this.findTabIndex(Y),close:()=>{this.closeTab(Y)}}):(this.closeTab(Y),this.onClose.emit({originalEvent:W,index:this.findTabIndex(Y)})),W.stopPropagation()}closeTab(W){if(!W.disabled){if(W.selected){this.tabChanged=!0,W.selected=!1;for(let Y=0;Y<this.tabs.length;Y++){let Ae=this.tabs[Y];if(!Ae.closed&&!W.disabled){Ae.selected=!0;break}}}W.closed=!0}}findSelectedTab(){for(let W=0;W<this.tabs.length;W++)if(this.tabs[W].selected)return this.tabs[W];return null}findTabIndex(W){let Y=-1;for(let Ae=0;Ae<this.tabs.length;Ae++)if(this.tabs[Ae]==W){Y=Ae;break}return Y}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(W){this._activeIndex=W,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(W))}updateInkBar(){if(this.navbar){const W=P.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!W)return;this.inkbar.nativeElement.style.width=P.p.getWidth(W)+"px",this.inkbar.nativeElement.style.left=P.p.getOffset(W).left-P.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(W){this.navbar.nativeElement.children[W].scrollIntoView({block:"nearest"})}updateButtonState(){const W=this.content.nativeElement,{scrollLeft:Y,scrollWidth:Ae}=W,Ee=P.p.getWidth(W);this.backwardIsDisabled=0===Y,this.forwardIsDisabled=parseInt(Y)===Ae-Ee}onScroll(W){this.scrollable&&this.updateButtonState(),W.preventDefault()}getVisibleButtonWidths(){var W,Y;return[null===(W=this.prevBtn)||void 0===W?void 0:W.nativeElement,null===(Y=this.nextBtn)||void 0===Y?void 0:Y.nativeElement].reduce((Ae,Ee)=>Ee?Ae+P.p.getWidth(Ee):Ae,0)}navBackward(){const W=this.content.nativeElement,Y=P.p.getWidth(W)-this.getVisibleButtonWidths(),Ae=W.scrollLeft-Y;W.scrollLeft=Ae<=0?0:Ae}navForward(){const W=this.content.nativeElement,Y=P.p.getWidth(W)-this.getVisibleButtonWidths(),Ae=W.scrollLeft+Y,Ee=W.scrollWidth-Y;W.scrollLeft=Ae>=Ee?Ee:Ae}}return z.\u0275fac=function(W){return new(W||z)(e.Y36(e.SBq),e.Y36(e.sBO))},z.\u0275cmp=e.Xpm({type:z,selectors:[["p-tabView"]],contentQueries:function(W,Y,Ae){if(1&W&&e.Suo(Ae,ne,4),2&W){let Ee;e.iGM(Ee=e.CRH())&&(Y.tabPanels=Ee)}},viewQuery:function(W,Y){if(1&W&&(e.Gf(Q,5),e.Gf(N,5),e.Gf(T,5),e.Gf(y,5),e.Gf(E,5)),2&W){let Ae;e.iGM(Ae=e.CRH())&&(Y.content=Ae.first),e.iGM(Ae=e.CRH())&&(Y.navbar=Ae.first),e.iGM(Ae=e.CRH())&&(Y.prevBtn=Ae.first),e.iGM(Ae=e.CRH())&&(Y.nextBtn=Ae.first),e.iGM(Ae=e.CRH())&&(Y.inkbar=Ae.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:L,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(W,Y){1&W&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,D,3,0,"button",2),e.TgZ(3,"div",3,4),e.NdJ("scroll",function(Ee){return Y.onScroll(Ee)}),e.TgZ(5,"ul",5,6),e.YNc(7,K,1,1,"ng-template",7),e._UZ(8,"li",8,9),e.qZA()(),e.YNc(10,ue,3,0,"button",10),e.qZA(),e.TgZ(11,"div",11),e.Hsn(12),e.qZA()()),2&W&&(e.Tol(Y.styleClass),e.Q6J("ngClass",e.VKq(7,q,Y.scrollable))("ngStyle",Y.style),e.xp6(2),e.Q6J("ngIf",Y.scrollable&&!Y.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",Y.tabs),e.xp6(3),e.Q6J("ngIf",Y.scrollable&&!Y.forwardIsDisabled))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.u,f.H],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),z})(),oe=(()=>{class z{}return z.\u0275fac=function(W){return new(W||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({imports:[d.ez,_.m8,u.z,f.T,_.m8]}),z})()},7773:(hn,ft,b)=>{"use strict";b.d(ft,{EV:()=>ce,FN:()=>B});var e=b(5e3),d=b(9808),u=b(9783),f=b(5921),_=b(5787),P=b(1777);const x=["container"],r=function($,V,k,O){return{"pi-info-circle":$,"pi-exclamation-triangle":V,"pi-times-circle":k,"pi-check":O}};function R($,V){if(1&$&&(e.ynx(0),e._UZ(1,"span",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.BQk()),2&$){const k=e.oxw();e.xp6(1),e.Tol("p-toast-message-icon pi"+(k.message.icon?" "+k.message.icon:"")),e.Q6J("ngClass",e.l5B(5,r,"info"==k.message.severity,"warn"==k.message.severity,"error"==k.message.severity,"success"==k.message.severity)),e.xp6(3),e.Oqu(k.message.summary),e.xp6(2),e.Oqu(k.message.detail)}}function L($,V){1&$&&e.GkF(0)}function Q($,V){if(1&$){const k=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(K){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onCloseIconClick(K))})("keydown.enter",function(K){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onCloseIconClick(K))}),e._UZ(1,"span",11),e.qZA()}}const N=function($){return[$,"p-toast-message"]},T=function($,V,k,O){return{showTransformParams:$,hideTransformParams:V,showTransitionParams:k,hideTransitionParams:O}},y=function($){return{value:"visible",params:$}},E=function($){return{$implicit:$}};function D($,V){if(1&$){const k=e.EpF();e.TgZ(0,"p-toastItem",3),e.NdJ("onClose",function(K){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onMessageClose(K))})("@toastAnimation.start",function(K){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onAnimationStart(K))})("@toastAnimation.done",function(K){e.CHM(k);const ue=e.oxw();return e.KtG(ue.onAnimationEnd(K))}),e.qZA()}if(2&$){const k=V.$implicit,O=V.index,K=e.oxw();e.Q6J("message",k)("index",O)("template",K.template)("@toastAnimation",void 0)("showTransformOptions",K.showTransformOptions)("hideTransformOptions",K.hideTransformOptions)("showTransitionOptions",K.showTransitionOptions)("hideTransitionOptions",K.hideTransitionOptions)}}let U=(()=>{class ${constructor(k){this.zone=k,this.onClose=new e.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(k){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),k.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return $.\u0275fac=function(k){return new(k||$)(e.Y36(e.R0b))},$.\u0275cmp=e.Xpm({type:$,selectors:[["p-toastItem"]],viewQuery:function(k,O){if(1&k&&e.Gf(x,5),2&k){let K;e.iGM(K=e.CRH())&&(O.containerViewChild=K.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(k,O){1&k&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return O.onMouseEnter()})("mouseleave",function(){return O.onMouseLeave()}),e.TgZ(2,"div",2),e.YNc(3,R,7,10,"ng-container",3),e.YNc(4,L,1,0,"ng-container",4),e.YNc(5,Q,2,0,"button",5),e.qZA()()),2&k&&(e.Tol(O.message.styleClass),e.Q6J("ngClass",e.VKq(10,N,"p-toast-message-"+O.message.severity))("@messageState",e.VKq(17,y,e.l5B(12,T,O.showTransformOptions,O.hideTransformOptions,O.showTransitionOptions,O.hideTransitionOptions))),e.uIk("id",O.message.id),e.xp6(2),e.Q6J("ngClass",O.message.contentStyleClass),e.xp6(1),e.Q6J("ngIf",!O.template),e.xp6(1),e.Q6J("ngTemplateOutlet",O.template)("ngTemplateOutletContext",e.VKq(19,E,O.message)),e.xp6(1),e.Q6J("ngIf",!1!==O.message.closable))},dependencies:[d.mk,d.O5,d.tP,_.H],encapsulation:2,data:{animation:[(0,P.X$)("messageState",[(0,P.SB)("visible",(0,P.oB)({transform:"translateY(0)",opacity:1})),(0,P.eR)("void => *",[(0,P.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,P.jt)("{{showTransitionParams}}")]),(0,P.eR)("* => void",[(0,P.jt)("{{hideTransitionParams}}",(0,P.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),$})(),B=(()=>{class ${constructor(k,O,K){this.messageService=k,this.cd=O,this.config=K,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new e.vpe,this.id=(0,f.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(k=>{if(k)if(k instanceof Array){const O=k.filter(K=>this.canAdd(K));this.add(O)}else this.canAdd(k)&&this.add([k])}),this.clearSubscription=this.messageService.clearObserver.subscribe(k=>{k?this.key===k&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(k){this.messages=this.messages?[...this.messages,...k]:[...k],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...k]:[...k]),this.cd.markForCheck()}canAdd(k){let O=this.key===k.key;return O&&this.preventOpenDuplicates&&(O=!this.containsMessage(this.messages,k)),O&&this.preventDuplicates&&(O=!this.containsMessage(this.messagesArchieve,k)),O}containsMessage(k,O){return!!k&&null!=k.find(K=>K.summary===O.summary&&K.detail==O.detail&&K.severity===O.severity)}ngAfterContentInit(){this.templates.forEach(k=>{k.getType(),this.template=k.template})}onMessageClose(k){this.messages.splice(k.index,1),this.onClose.emit({message:k.message}),this.cd.detectChanges()}onAnimationStart(k){"void"===k.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&f.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(k){"void"===k.toState&&this.autoZIndex&&f.gb.isEmpty(this.messages)&&f.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let k="";for(let O in this.breakpoints){let K="";for(let ue in this.breakpoints[O])K+=ue+":"+this.breakpoints[O][ue]+" !important;";k+=`\n                    @media screen and (max-width: ${O}) {\n                        .p-toast[${this.id}] {\n                           ${K}\n                        }\n                    }\n                `}this.styleElement.innerHTML=k}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&f.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return $.\u0275fac=function(k){return new(k||$)(e.Y36(u.ez),e.Y36(e.sBO),e.Y36(u.b4))},$.\u0275cmp=e.Xpm({type:$,selectors:[["p-toast"]],contentQueries:function(k,O,K){if(1&k&&e.Suo(K,u.jx,4),2&k){let ue;e.iGM(ue=e.CRH())&&(O.templates=ue)}},viewQuery:function(k,O){if(1&k&&e.Gf(x,5),2&k){let K;e.iGM(K=e.CRH())&&(O.containerViewChild=K.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(k,O){1&k&&(e.TgZ(0,"div",0,1),e.YNc(2,D,1,8,"p-toastItem",2),e.qZA()),2&k&&(e.Tol(O.styleClass),e.Q6J("ngClass","p-toast p-component p-toast-"+O.position)("ngStyle",O.style),e.xp6(2),e.Q6J("ngForOf",O.messages))},dependencies:[d.mk,d.sg,d.PC,U],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,P.X$)("toastAnimation",[(0,P.eR)(":enter, :leave",[(0,P.IO)("@*",(0,P.pV)())])])]},changeDetection:0}),$})(),ce=(()=>{class ${}return $.\u0275fac=function(k){return new(k||$)},$.\u0275mod=e.oAB({type:$}),$.\u0275inj=e.cJS({imports:[d.ez,_.T,u.m8]}),$})()},4119:(hn,ft,b)=>{"use strict";b.d(ft,{u:()=>P,z:()=>x});var e=b(5e3),d=b(9808),u=b(5730),f=b(5921),_=b(9783);let P=(()=>{class r{constructor(L,Q,N){this.el=L,this.zone=Q,this.config=N,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(L){this._disabled=L,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let L=this.getTarget(this.el.nativeElement);L.addEventListener("focus",this.focusListener),L.addEventListener("blur",this.blurListener)}})}ngOnChanges(L){L.tooltipPosition&&this.setOption({tooltipPosition:L.tooltipPosition.currentValue}),L.tooltipEvent&&this.setOption({tooltipEvent:L.tooltipEvent.currentValue}),L.appendTo&&this.setOption({appendTo:L.appendTo.currentValue}),L.positionStyle&&this.setOption({positionStyle:L.positionStyle.currentValue}),L.tooltipStyleClass&&this.setOption({tooltipStyleClass:L.tooltipStyleClass.currentValue}),L.tooltipZIndex&&this.setOption({tooltipZIndex:L.tooltipZIndex.currentValue}),L.escape&&this.setOption({escape:L.escape.currentValue}),L.showDelay&&this.setOption({showDelay:L.showDelay.currentValue}),L.hideDelay&&this.setOption({hideDelay:L.hideDelay.currentValue}),L.life&&this.setOption({life:L.life.currentValue}),L.positionTop&&this.setOption({positionTop:L.positionTop.currentValue}),L.positionLeft&&this.setOption({positionLeft:L.positionLeft.currentValue}),L.disabled&&this.setOption({disabled:L.disabled.currentValue}),L.text&&(this.setOption({tooltipLabel:L.text.currentValue}),this.active&&(L.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),L.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),L.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(L){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(L){this.deactivate()}onFocus(L){this.activate()}onBlur(L){this.deactivate()}onClick(L){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let L=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},L)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let L=document.createElement("div");L.className="p-tooltip-arrow",this.container.appendChild(L),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?u.p.appendChild(this.container,this.el.nativeElement):u.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),u.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?f.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&f.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let L=this.el.nativeElement.getBoundingClientRect();return{left:L.left+u.p.getWindowScrollLeft(),top:L.top+u.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let L=this.getHostOffset(),Q=L.left+u.p.getOuterWidth(this.el.nativeElement),N=L.top+(u.p.getOuterHeight(this.el.nativeElement)-u.p.getOuterHeight(this.container))/2;this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let L=this.getHostOffset(),Q=L.left-u.p.getOuterWidth(this.container),N=L.top+(u.p.getOuterHeight(this.el.nativeElement)-u.p.getOuterHeight(this.container))/2;this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let L=this.getHostOffset(),Q=L.left+(u.p.getOuterWidth(this.el.nativeElement)-u.p.getOuterWidth(this.container))/2,N=L.top-u.p.getOuterHeight(this.container);this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let L=this.getHostOffset(),Q=L.left+(u.p.getOuterWidth(this.el.nativeElement)-u.p.getOuterWidth(this.container))/2,N=L.top+u.p.getOuterHeight(this.el.nativeElement);this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=N+this.getOption("positionTop")+"px"}setOption(L){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),L)}getOption(L){return this._tooltipOptions[L]}getTarget(L){return u.p.hasClass(L,"p-inputwrapper")?u.p.findSingle(L,"input"):L}preAlign(L){this.container.style.left="-999px",this.container.style.top="-999px";let Q="p-tooltip p-component p-tooltip-"+L;this.container.className=this.getOption("tooltipStyleClass")?Q+" "+this.getOption("tooltipStyleClass"):Q}isOutOfBounds(){let L=this.container.getBoundingClientRect(),Q=L.top,N=L.left,T=u.p.getOuterWidth(this.container),y=u.p.getOuterHeight(this.container),E=u.p.getViewport();return N+T>E.width||N<0||Q<0||Q+y>E.height}onWindowResize(L){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new u.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let L=this.getTarget(this.el.nativeElement);L.removeEventListener("focus",this.focusListener),L.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):u.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&f.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return r.\u0275fac=function(L){return new(L||r)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(_.b4))},r.\u0275dir=e.lG2({type:r,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[e.TTD]}),r})(),x=(()=>{class r{}return r.\u0275fac=function(L){return new(L||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez]}),r})()},2629:(hn,ft,b)=>{"use strict";b.d(ft,{mp:()=>de,xc:()=>Qe});var e=b(5e3),d=b(9808),u=b(9783),f=b(5921),_=b(5730),P=b(5787),x=b(5871);const r=function(ze){return{"p-treenode-droppoint-active":ze}};function R(ze,kt){if(1&ze){const Ze=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropPoint(gn,-1))})("dragover",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragOver(gn))})("dragenter",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragEnter(gn,-1))})("dragleave",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragLeave(gn))}),e.qZA()}if(2&ze){const Ze=e.oxw(2);e.Q6J("ngClass",e.VKq(1,r,Ze.draghoverPrev))}}const L=function(ze){return{"p-checkbox-disabled":ze}},Q=function(ze,kt){return{"p-highlight":ze,"p-indeterminate":kt}},N=function(ze,kt){return{"pi-check":ze,"pi-minus":kt}};function T(ze,kt){if(1&ze&&(e.TgZ(0,"div",13)(1,"div",14),e._UZ(2,"span",15),e.qZA()()),2&ze){const Ze=e.oxw(3);e.Q6J("ngClass",e.VKq(4,L,!1===Ze.node.selectable)),e.uIk("aria-checked",Ze.isSelected()),e.xp6(1),e.Q6J("ngClass",e.WLB(6,Q,Ze.isSelected(),Ze.node.partialSelected)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,N,Ze.isSelected(),Ze.node.partialSelected))}}function y(ze,kt){if(1&ze&&e._UZ(0,"span"),2&ze){const Ze=e.oxw(3);e.Tol(Ze.getIcon())}}function E(ze,kt){if(1&ze&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ze){const Ze=e.oxw(3);e.xp6(1),e.Oqu(Ze.node.label)}}function D(ze,kt){1&ze&&e.GkF(0)}const U=function(ze){return{$implicit:ze}};function B(ze,kt){if(1&ze&&(e.TgZ(0,"span"),e.YNc(1,D,1,0,"ng-container",16),e.qZA()),2&ze){const Ze=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Ze.tree.getTemplateForNode(Ze.node))("ngTemplateOutletContext",e.VKq(2,U,Ze.node))}}function ce(ze,kt){if(1&ze&&e._UZ(0,"p-treeNode",19),2&ze){const Ze=kt.$implicit,$t=kt.first,gn=kt.last,Gt=kt.index,Mn=e.oxw(4);e.Q6J("node",Ze)("parentNode",Mn.node)("firstChild",$t)("lastChild",gn)("index",Gt)("itemSize",Mn.itemSize)("level",Mn.level+1)}}function $(ze,kt){if(1&ze&&(e.TgZ(0,"ul",17),e.YNc(1,ce,1,7,"p-treeNode",18),e.qZA()),2&ze){const Ze=e.oxw(3);e.Udp("display",Ze.node.expanded?"block":"none"),e.xp6(1),e.Q6J("ngForOf",Ze.node.children)("ngForTrackBy",Ze.tree.trackBy)}}const V=function(ze,kt){return["p-treenode",ze,kt]},k=function(ze){return{height:ze}},O=function(ze,kt,Ze){return{"p-treenode-selectable":ze,"p-treenode-dragover":kt,"p-highlight":Ze}},K=function(ze,kt){return{"pi-chevron-right":ze,"pi-chevron-down":kt}};function ue(ze,kt){if(1&ze){const Ze=e.EpF();e.TgZ(0,"li",5)(1,"div",6),e.NdJ("click",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onNodeClick(gn))})("contextmenu",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onNodeRightClick(gn))})("touchend",function(){e.CHM(Ze);const gn=e.oxw(2);return e.KtG(gn.onNodeTouchEnd())})("drop",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropNode(gn))})("dragover",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropNodeDragOver(gn))})("dragenter",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropNodeDragEnter(gn))})("dragleave",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropNodeDragLeave(gn))})("dragstart",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDragStart(gn))})("dragend",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDragStop(gn))})("keydown",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onKeyDown(gn))}),e.TgZ(2,"button",7),e.NdJ("click",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.toggle(gn))}),e._UZ(3,"span",8),e.qZA(),e.YNc(4,T,3,12,"div",9),e.YNc(5,y,1,2,"span",3),e.TgZ(6,"span",10),e.YNc(7,E,2,1,"span",11),e.YNc(8,B,2,4,"span",11),e.qZA()(),e.YNc(9,$,2,4,"ul",12),e.qZA()}if(2&ze){const Ze=e.oxw(2);e.Akn(Ze.node.style),e.Q6J("ngClass",e.WLB(20,V,Ze.node.styleClass||"",Ze.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.VKq(23,k,Ze.itemSize+"px")),e.xp6(1),e.Udp("padding-left",Ze.level*Ze.indentation+"rem"),e.Q6J("draggable",Ze.tree.draggableNodes)("ngClass",e.kEZ(25,O,Ze.tree.selectionMode&&!1!==Ze.node.selectable,Ze.draghoverNode,Ze.isSelected())),e.uIk("tabindex",0)("aria-posinset",Ze.index+1)("aria-expanded",Ze.node.expanded)("aria-selected",Ze.isSelected())("aria-label",Ze.node.label),e.xp6(1),e.uIk("aria-label",Ze.tree.togglerAriaLabel),e.xp6(1),e.Q6J("ngClass",e.WLB(29,K,!Ze.node.expanded,Ze.node.expanded)),e.xp6(1),e.Q6J("ngIf","checkbox"==Ze.tree.selectionMode),e.xp6(1),e.Q6J("ngIf",Ze.node.icon||Ze.node.expandedIcon||Ze.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!Ze.tree.getTemplateForNode(Ze.node)),e.xp6(1),e.Q6J("ngIf",Ze.tree.getTemplateForNode(Ze.node)),e.xp6(1),e.Q6J("ngIf",!Ze.tree.virtualScroll&&Ze.node.children&&Ze.node.expanded)}}function q(ze,kt){if(1&ze){const Ze=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropPoint(gn,1))})("dragover",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragOver(gn))})("dragenter",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragEnter(gn,1))})("dragleave",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onDropPointDragLeave(gn))}),e.qZA()}if(2&ze){const Ze=e.oxw(2);e.Q6J("ngClass",e.VKq(1,r,Ze.draghoverNext))}}const G=function(ze){return{"p-treenode-connector-line":ze}};function ne(ze,kt){if(1&ze&&(e.TgZ(0,"td",25)(1,"table",26)(2,"tbody")(3,"tr"),e._UZ(4,"td",27),e.qZA(),e.TgZ(5,"tr"),e._UZ(6,"td",27),e.qZA()()()()),2&ze){const Ze=e.oxw(3);e.xp6(4),e.Q6J("ngClass",e.VKq(2,G,!Ze.firstChild)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,G,!Ze.lastChild))}}const Ce=function(ze,kt){return{"pi-plus":ze,"pi-minus":kt}};function oe(ze,kt){if(1&ze){const Ze=e.EpF();e.TgZ(0,"span",28),e.NdJ("click",function(gn){e.CHM(Ze);const Gt=e.oxw(3);return e.KtG(Gt.toggle(gn))}),e.qZA()}if(2&ze){const Ze=e.oxw(3);e.Q6J("ngClass",e.WLB(2,Ce,!Ze.node.expanded,Ze.node.expanded)),e.uIk("aria-label",Ze.tree.togglerAriaLabel)}}function z(ze,kt){if(1&ze&&e._UZ(0,"span"),2&ze){const Ze=e.oxw(3);e.Tol(Ze.getIcon())}}function te(ze,kt){if(1&ze&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ze){const Ze=e.oxw(3);e.xp6(1),e.Oqu(Ze.node.label)}}function W(ze,kt){1&ze&&e.GkF(0)}function Y(ze,kt){if(1&ze&&(e.TgZ(0,"span"),e.YNc(1,W,1,0,"ng-container",16),e.qZA()),2&ze){const Ze=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",Ze.tree.getTemplateForNode(Ze.node))("ngTemplateOutletContext",e.VKq(2,U,Ze.node))}}function Ae(ze,kt){if(1&ze&&e._UZ(0,"p-treeNode",32),2&ze){const $t=kt.first,gn=kt.last;e.Q6J("node",kt.$implicit)("firstChild",$t)("lastChild",gn)}}function Ee(ze,kt){if(1&ze&&(e.TgZ(0,"td",29)(1,"div",30),e.YNc(2,Ae,1,3,"p-treeNode",31),e.qZA()()),2&ze){const Ze=e.oxw(3);e.Udp("display",Ze.node.expanded?"table-cell":"none"),e.xp6(2),e.Q6J("ngForOf",Ze.node.children)("ngForTrackBy",Ze.tree.trackBy)}}const qe=function(ze){return{"p-treenode-collapsed":ze}},ye=function(ze,kt){return{"p-treenode-selectable":ze,"p-highlight":kt}};function Ge(ze,kt){if(1&ze){const Ze=e.EpF();e.TgZ(0,"table")(1,"tbody")(2,"tr"),e.YNc(3,ne,7,6,"td",20),e.TgZ(4,"td",21)(5,"div",22),e.NdJ("click",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onNodeClick(gn))})("contextmenu",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onNodeRightClick(gn))})("touchend",function(){e.CHM(Ze);const gn=e.oxw(2);return e.KtG(gn.onNodeTouchEnd())})("keydown",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onNodeKeydown(gn))}),e.YNc(6,oe,1,5,"span",23),e.YNc(7,z,1,2,"span",3),e.TgZ(8,"span",10),e.YNc(9,te,2,1,"span",11),e.YNc(10,Y,2,4,"span",11),e.qZA()()(),e.YNc(11,Ee,3,4,"td",24),e.qZA()()()}if(2&ze){const Ze=e.oxw(2);e.Tol(Ze.node.styleClass),e.xp6(3),e.Q6J("ngIf",!Ze.root),e.xp6(1),e.Q6J("ngClass",e.VKq(10,qe,!Ze.node.expanded)),e.xp6(1),e.Q6J("ngClass",e.WLB(12,ye,Ze.tree.selectionMode,Ze.isSelected())),e.xp6(1),e.Q6J("ngIf",!Ze.isLeaf()),e.xp6(1),e.Q6J("ngIf",Ze.node.icon||Ze.node.expandedIcon||Ze.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!Ze.tree.getTemplateForNode(Ze.node)),e.xp6(1),e.Q6J("ngIf",Ze.tree.getTemplateForNode(Ze.node)),e.xp6(1),e.Q6J("ngIf",Ze.node.children&&Ze.node.expanded)}}function X(ze,kt){if(1&ze&&(e.YNc(0,R,1,3,"li",1),e.YNc(1,ue,10,32,"li",2),e.YNc(2,q,1,3,"li",1),e.YNc(3,Ge,12,15,"table",3)),2&ze){const Ze=e.oxw();e.Q6J("ngIf",Ze.tree.droppableNodes),e.xp6(1),e.Q6J("ngIf",!Ze.tree.horizontal),e.xp6(1),e.Q6J("ngIf",Ze.tree.droppableNodes&&Ze.lastChild),e.xp6(1),e.Q6J("ngIf",Ze.tree.horizontal)}}const be=["filter"],we=["scroller"],Ie=["wrapper"];function ct(ze,kt){if(1&ze&&(e.TgZ(0,"div",9),e._UZ(1,"i"),e.qZA()),2&ze){const Ze=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+Ze.loadingIcon)}}function dt(ze,kt){1&ze&&e.GkF(0)}function et(ze,kt){if(1&ze){const Ze=e.EpF();e.TgZ(0,"div",10)(1,"input",11,12),e.NdJ("keydown.enter",function(gn){return gn.preventDefault()})("input",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt._filter(gn.target.value))}),e.qZA(),e._UZ(3,"span",13),e.qZA()}if(2&ze){const Ze=e.oxw(2);e.xp6(1),e.uIk("placeholder",Ze.filterPlaceholder)}}function vt(ze,kt){if(1&ze&&e._UZ(0,"p-treeNode",20),2&ze){const Ze=kt.$implicit,$t=kt.first,gn=kt.last,Gt=kt.index,Mn=e.oxw(2).options,Ut=e.oxw(3);e.Q6J("level",Ze.level)("rowNode",Ze)("node",Ze.node)("firstChild",$t)("lastChild",gn)("index",Ut.getIndex(Mn,Gt))("itemSize",Mn.itemSize)("indentation",Ut.indentation)}}function ht(ze,kt){if(1&ze&&(e.TgZ(0,"ul",18),e.YNc(1,vt,1,8,"p-treeNode",19),e.qZA()),2&ze){const Ze=e.oxw(),$t=Ze.options,gn=Ze.$implicit,Gt=e.oxw(3);e.Akn($t.contentStyle),e.Q6J("ngClass",$t.contentStyleClass),e.uIk("aria-label",Gt.ariaLabel)("aria-labelledby",Gt.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",gn)("ngForTrackBy",Gt.trackBy)}}function Rt(ze,kt){1&ze&&e.YNc(0,ht,2,7,"ul",17),2&ze&&e.Q6J("ngIf",kt.$implicit)}function Nt(ze,kt){1&ze&&e.GkF(0)}const At=function(ze){return{options:ze}};function st(ze,kt){if(1&ze&&e.YNc(0,Nt,1,0,"ng-container",22),2&ze){const Ze=kt.options,$t=e.oxw(4);e.Q6J("ngTemplateOutlet",$t.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,At,Ze))}}function ot(ze,kt){1&ze&&(e.ynx(0),e.YNc(1,st,1,4,"ng-template",21),e.BQk())}function ge(ze,kt){if(1&ze){const Ze=e.EpF();e.TgZ(0,"p-scroller",14,15),e.NdJ("onScroll",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onScroll.emit(gn))})("onScrollIndexChange",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onScrollIndexChange.emit(gn))})("onLazyLoad",function(gn){e.CHM(Ze);const Gt=e.oxw(2);return e.KtG(Gt.onLazyLoad.emit(gn))}),e.YNc(2,Rt,1,1,"ng-template",16),e.YNc(3,ot,2,0,"ng-container",7),e.qZA()}if(2&ze){const Ze=e.oxw(2);e.Akn(e.VKq(7,k,Ze.scrollHeight)),e.Q6J("items",Ze.serializedValue)("itemSize",Ze.virtualScrollItemSize||Ze._virtualNodeHeight)("lazy",Ze.lazy)("options",Ze.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",Ze.loaderTemplate)}}function ke(ze,kt){if(1&ze&&e._UZ(0,"p-treeNode",28),2&ze){const $t=kt.first,gn=kt.last,Gt=kt.index;e.Q6J("node",kt.$implicit)("firstChild",$t)("lastChild",gn)("index",Gt)("level",0)}}function rt(ze,kt){if(1&ze&&(e.TgZ(0,"ul",26),e.YNc(1,ke,1,5,"p-treeNode",27),e.qZA()),2&ze){const Ze=e.oxw(3);e.uIk("aria-label",Ze.ariaLabel)("aria-labelledby",Ze.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",Ze.getRootNode())("ngForTrackBy",Ze.trackBy)}}function yt(ze,kt){if(1&ze&&(e.ynx(0),e.TgZ(1,"div",23,24),e.YNc(3,rt,2,4,"ul",25),e.qZA(),e.BQk()),2&ze){const Ze=e.oxw(2);e.xp6(1),e.Udp("max-height",Ze.scrollHeight),e.xp6(2),e.Q6J("ngIf",Ze.getRootNode())}}function Pt(ze,kt){if(1&ze&&(e.ynx(0),e._uU(1),e.BQk()),2&ze){const Ze=e.oxw(3);e.xp6(1),e.hij(" ",Ze.emptyMessageLabel," ")}}function Ht(ze,kt){1&ze&&e.GkF(0,null,31)}function Ot(ze,kt){if(1&ze&&(e.TgZ(0,"div",29),e.YNc(1,Pt,2,1,"ng-container",30),e.YNc(2,Ht,2,0,"ng-container",4),e.qZA()),2&ze){const Ze=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!Ze.emptyMessageTemplate)("ngIfElse",Ze.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",Ze.emptyMessageTemplate)}}function Ye(ze,kt){1&ze&&e.GkF(0)}const lt=function(ze,kt,Ze,$t){return{"p-tree p-component":!0,"p-tree-selectable":ze,"p-treenode-dragover":kt,"p-tree-loading":Ze,"p-tree-flex-scrollable":$t}};function Ke(ze,kt){if(1&ze){const Ze=e.EpF();e.TgZ(0,"div",2),e.NdJ("drop",function(gn){e.CHM(Ze);const Gt=e.oxw();return e.KtG(Gt.onDrop(gn))})("dragover",function(gn){e.CHM(Ze);const Gt=e.oxw();return e.KtG(Gt.onDragOver(gn))})("dragenter",function(){e.CHM(Ze);const gn=e.oxw();return e.KtG(gn.onDragEnter())})("dragleave",function(gn){e.CHM(Ze);const Gt=e.oxw();return e.KtG(Gt.onDragLeave(gn))}),e.YNc(1,ct,2,2,"div",3),e.YNc(2,dt,1,0,"ng-container",4),e.YNc(3,et,4,1,"div",5),e.YNc(4,ge,4,9,"p-scroller",6),e.YNc(5,yt,4,3,"ng-container",7),e.YNc(6,Ot,3,3,"div",8),e.YNc(7,Ye,1,0,"ng-container",4),e.qZA()}if(2&ze){const Ze=e.oxw();e.Tol(Ze.styleClass),e.Q6J("ngClass",e.l5B(11,lt,Ze.selectionMode,Ze.dragHover,Ze.loading,"flex"===Ze.scrollHeight))("ngStyle",Ze.style),e.xp6(1),e.Q6J("ngIf",Ze.loading),e.xp6(1),e.Q6J("ngTemplateOutlet",Ze.headerTemplate),e.xp6(1),e.Q6J("ngIf",Ze.filter),e.xp6(1),e.Q6J("ngIf",Ze.virtualScroll),e.xp6(1),e.Q6J("ngIf",!Ze.virtualScroll),e.xp6(1),e.Q6J("ngIf",!Ze.loading&&(null==Ze.getRootNode()||0===Ze.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",Ze.footerTemplate)}}function Tt(ze,kt){1&ze&&e.GkF(0)}function se(ze,kt){if(1&ze&&(e.TgZ(0,"div",34),e._UZ(1,"i"),e.qZA()),2&ze){const Ze=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+Ze.loadingIcon)}}function Fe(ze,kt){if(1&ze&&(e.TgZ(0,"table"),e._UZ(1,"p-treeNode",35),e.qZA()),2&ze){const Ze=e.oxw(2);e.xp6(1),e.Q6J("node",Ze.value[0])("root",!0)}}function he(ze,kt){if(1&ze&&(e.ynx(0),e._uU(1),e.BQk()),2&ze){const Ze=e.oxw(3);e.xp6(1),e.hij(" ",Ze.emptyMessageLabel," ")}}function mt(ze,kt){1&ze&&e.GkF(0,null,31)}function cn(ze,kt){if(1&ze&&(e.TgZ(0,"div",29),e.YNc(1,he,2,1,"ng-container",30),e.YNc(2,mt,2,0,"ng-container",4),e.qZA()),2&ze){const Ze=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!Ze.emptyMessageTemplate)("ngIfElse",Ze.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",Ze.emptyMessageTemplate)}}function Tn(ze,kt){1&ze&&e.GkF(0)}const tn=function(ze){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":ze}};function bt(ze,kt){if(1&ze&&(e.TgZ(0,"div",32),e.YNc(1,Tt,1,0,"ng-container",4),e.YNc(2,se,2,2,"div",33),e.YNc(3,Fe,2,2,"table",7),e.YNc(4,cn,3,3,"div",8),e.YNc(5,Tn,1,0,"ng-container",4),e.qZA()),2&ze){const Ze=e.oxw();e.Tol(Ze.styleClass),e.Q6J("ngClass",e.VKq(9,tn,Ze.selectionMode))("ngStyle",Ze.style),e.xp6(1),e.Q6J("ngTemplateOutlet",Ze.headerTemplate),e.xp6(1),e.Q6J("ngIf",Ze.loading),e.xp6(1),e.Q6J("ngIf",Ze.value&&Ze.value[0]),e.xp6(1),e.Q6J("ngIf",!Ze.loading&&(null==Ze.getRootNode()||0===Ze.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",Ze.footerTemplate)}}let nt=(()=>{class ze{constructor(Ze){this.tree=Ze}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let Ze;return Ze=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,ze.ICON_CLASS+" "+Ze}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(Ze){this.node.expanded?this.collapse(Ze):this.expand(Ze)}expand(Ze){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:Ze,node:this.node})}collapse(Ze){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:Ze,node:this.node})}onNodeClick(Ze){this.tree.onNodeClick(Ze,this.node)}onNodeKeydown(Ze){13===Ze.which&&this.tree.onNodeClick(Ze,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(Ze){this.tree.onNodeRightClick(Ze,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(Ze,$t){Ze.preventDefault();let gn=this.tree.dragNode,Ut=this.tree.dragNodeTree!==this.tree||1===$t||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(gn,this.node,this.tree.dragNodeScope)&&Ut){let rn=Object.assign({},this.createDropPointEventMetadata($t));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:Ze,dragNode:gn,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(rn)}}):(this.processPointDrop(rn),this.tree.onNodeDrop.emit({originalEvent:Ze,dragNode:gn,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(Ze){let $t=Ze.dropNode.parent?Ze.dropNode.parent.children:this.tree.value;Ze.dragNodeSubNodes.splice(Ze.dragNodeIndex,1);let gn=this.index;Ze.position<0?(gn=Ze.dragNodeSubNodes===$t?Ze.dragNodeIndex>Ze.index?Ze.index:Ze.index-1:Ze.index,$t.splice(gn,0,Ze.dragNode)):(gn=$t.length,$t.push(Ze.dragNode)),this.tree.dragDropService.stopDrag({node:Ze.dragNode,subNodes:Ze.dropNode.parent?Ze.dropNode.parent.children:this.tree.value,index:Ze.dragNodeIndex})}createDropPointEventMetadata(Ze){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:Ze}}onDropPointDragOver(Ze){Ze.dataTransfer.dropEffect="move",Ze.preventDefault()}onDropPointDragEnter(Ze,$t){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&($t<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(Ze){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(Ze){this.tree.draggableNodes&&!1!==this.node.draggable?(Ze.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):Ze.preventDefault()}onDragStop(Ze){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(Ze){Ze.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(Ze.preventDefault(),Ze.stopPropagation())}onDropNode(Ze){if(this.tree.droppableNodes&&!1!==this.node.droppable){let $t=this.tree.dragNode;if(this.tree.allowDrop($t,this.node,this.tree.dragNodeScope)){let gn=Object.assign({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:Ze,dragNode:$t,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(gn)}}):(this.processNodeDrop(gn),this.tree.onNodeDrop.emit({originalEvent:Ze,dragNode:$t,dropNode:this.node,index:this.index}))}}Ze.preventDefault(),Ze.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(Ze){let $t=Ze.dragNodeIndex;Ze.dragNodeSubNodes.splice($t,1),Ze.dropNode.children?Ze.dropNode.children.push(Ze.dragNode):Ze.dropNode.children=[Ze.dragNode],this.tree.dragDropService.stopDrag({node:Ze.dragNode,subNodes:Ze.dropNode.parent?Ze.dropNode.parent.children:this.tree.value,index:$t})}onDropNodeDragEnter(Ze){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(Ze){if(this.tree.droppableNodes){let $t=Ze.currentTarget.getBoundingClientRect();(Ze.x>$t.left+$t.width||Ze.x<$t.left||Ze.y>=Math.floor($t.top+$t.height)||Ze.y<$t.top)&&(this.draghoverNode=!1)}}onKeyDown(Ze){const $t=Ze.target.parentElement.parentElement;if(!("P-TREENODE"!==$t.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild.nativeElement.style.display))switch(Ze.which){case 40:const gn=this.tree.droppableNodes?$t.children[1].children[1]:$t.children[0].children[1];if(gn&&gn.children.length>0)this.focusNode(gn.children[0]);else{const Gt=$t.nextElementSibling;if(Gt)this.focusNode(Gt);else{let Mn=this.findNextSiblingOfAncestor($t);Mn&&this.focusNode(Mn)}}Ze.preventDefault();break;case 38:if($t.previousElementSibling)this.focusNode(this.findLastVisibleDescendant($t.previousElementSibling));else{let Gt=this.getParentNodeElement($t);Gt&&this.focusNode(Gt)}Ze.preventDefault();break;case 39:!this.node.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(Ze),Ze.preventDefault();break;case 37:if(this.node.expanded)this.collapse(Ze);else{let Gt=this.getParentNodeElement($t);Gt&&this.focusNode(Gt)}Ze.preventDefault();break;case 13:this.tree.onNodeClick(Ze,this.node),Ze.preventDefault()}}findNextSiblingOfAncestor(Ze){let $t=this.getParentNodeElement(Ze);return $t?$t.nextElementSibling?$t.nextElementSibling:this.findNextSiblingOfAncestor($t):null}findLastVisibleDescendant(Ze){const gn=Array.from(Ze.children).find(Gt=>_.p.hasClass(Gt,"p-treenode")).children[1];return gn&&gn.children.length>0?this.findLastVisibleDescendant(gn.children[gn.children.length-1]):Ze}getParentNodeElement(Ze){const $t=Ze.parentElement.parentElement.parentElement;return"P-TREENODE"===$t.tagName?$t:null}focusNode(Ze){this.tree.droppableNodes?Ze.children[1].children[0].focus():Ze.children[0].children[0].focus()}}return ze.ICON_CLASS="p-treenode-icon ",ze.\u0275fac=function(Ze){return new(Ze||ze)(e.Y36((0,e.Gpc)(()=>de)))},ze.\u0275cmp=e.Xpm({type:ze,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation",itemSize:"itemSize"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","style",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass","ngStyle"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[1,"p-tree-toggler-icon","pi","pi-fw",3,"ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],[4,"ngIf"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon","pi",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],["class","p-tree-toggler pi pi-fw",3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[1,"p-tree-toggler","pi","pi-fw",3,"ngClass","click"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(Ze,$t){1&Ze&&e.YNc(0,X,4,4,"ng-template",0),2&Ze&&e.Q6J("ngIf",$t.node)},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,P.H,ze],encapsulation:2}),ze})(),de=(()=>{class ze{constructor(Ze,$t,gn){this.el=Ze,this.dragDropService=$t,this.config=gn,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="",this.filterBy="label",this.filterMode="lenient",this.lazy=!1,this.indentation=1.5,this.trackBy=(Gt,Mn)=>Mn,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.onNodeContextMenuSelect=new e.vpe,this.onNodeDrop=new e.vpe,this.onLazyLoad=new e.vpe,this.onScroll=new e.vpe,this.onScrollIndexChange=new e.vpe,this.onFilter=new e.vpe}get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(Ze){this._virtualNodeHeight=Ze,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(Ze=>{this.dragNodeTree=Ze.tree,this.dragNode=Ze.node,this.dragNodeSubNodes=Ze.subNodes,this.dragNodeIndex=Ze.index,this.dragNodeScope=Ze.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(Ze=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(Ze){Ze.value&&this.updateSerializedValue()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(u.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(Ze=>{switch(Ze.getType()){case"header":this.headerTemplate=Ze.template;break;case"empty":this.emptyMessageTemplate=Ze.template;break;case"footer":this.footerTemplate=Ze.template;break;case"loader":this.loaderTemplate=Ze.template;break;default:this._templateMap[Ze.name]=Ze.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(Ze,$t,gn,Gt){if($t&&$t.length)for(let Mn of $t){Mn.parent=Ze;const Ut={node:Mn,parent:Ze,level:gn,visible:Gt&&(!Ze||Ze.expanded)};this.serializedValue.push(Ut),Ut.visible&&Mn.expanded&&this.serializeNodes(Mn,Mn.children,gn+1,Ut.visible)}}onNodeClick(Ze,$t){let gn=Ze.target;if(!_.p.hasClass(gn,"p-tree-toggler")&&!_.p.hasClass(gn,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===$t.selectable||this.hasFilteredNodes()&&!($t=this.getNodeWithKey($t.key,this.value)))return;let Gt=this.findIndexInSelection($t),Mn=Gt>=0;if(this.isCheckboxSelectionMode())Mn?(this.propagateSelectionDown?this.propagateDown($t,!1):this.selection=this.selection.filter((Ut,rn)=>rn!=Gt),this.propagateSelectionUp&&$t.parent&&this.propagateUp($t.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:Ze,node:$t})):(this.propagateSelectionDown?this.propagateDown($t,!0):this.selection=[...this.selection||[],$t],this.propagateSelectionUp&&$t.parent&&this.propagateUp($t.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:Ze,node:$t}));else if(!this.nodeTouched&&this.metaKeySelection){let rn=Ze.metaKey||Ze.ctrlKey;Mn&&rn?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((Bn,Vn)=>Vn!=Gt),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:Ze,node:$t})):(this.isSingleSelectionMode()?this.selectionChange.emit($t):this.isMultipleSelectionMode()&&(this.selection=rn&&this.selection||[],this.selection=[...this.selection,$t],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:Ze,node:$t}))}else this.isSingleSelectionMode()?Mn?(this.selection=null,this.onNodeUnselect.emit({originalEvent:Ze,node:$t})):(this.selection=$t,this.onNodeSelect.emit({originalEvent:Ze,node:$t})):Mn?(this.selection=this.selection.filter((rn,Bn)=>Bn!=Gt),this.onNodeUnselect.emit({originalEvent:Ze,node:$t})):(this.selection=[...this.selection||[],$t],this.onNodeSelect.emit({originalEvent:Ze,node:$t})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(Ze,$t){if(this.contextMenu){let gn=Ze.target;if(gn.className&&0===gn.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection($t)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit($t):this.selectionChange.emit([$t])),this.contextMenu.show(Ze),this.onNodeContextMenuSelect.emit({originalEvent:Ze,node:$t})}}findIndexInSelection(Ze){let $t=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())$t=this.selection.key&&this.selection.key===Ze.key||this.selection==Ze?0:-1;else for(let gn=0;gn<this.selection.length;gn++){let Gt=this.selection[gn];if(Gt.key&&Gt.key===Ze.key||Gt==Ze){$t=gn;break}}return $t}syncNodeOption(Ze,$t,gn,Gt){const Mn=this.hasFilteredNodes()?this.getNodeWithKey(Ze.key,$t):null;Mn&&(Mn[gn]=Gt||Ze[gn])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(Ze,$t){for(let gn of $t){if(gn.key===Ze)return gn;if(gn.children){let Gt=this.getNodeWithKey(Ze,gn.children);if(Gt)return Gt}}}propagateUp(Ze,$t){if(Ze.children&&Ze.children.length){let Gt=0,Mn=!1;for(let Ut of Ze.children)this.isSelected(Ut)?Gt++:Ut.partialSelected&&(Mn=!0);if($t&&Gt==Ze.children.length)this.selection=[...this.selection||[],Ze],Ze.partialSelected=!1;else{if(!$t){let Ut=this.findIndexInSelection(Ze);Ut>=0&&(this.selection=this.selection.filter((rn,Bn)=>Bn!=Ut))}Ze.partialSelected=!!(Mn||Gt>0&&Gt!=Ze.children.length)}this.syncNodeOption(Ze,this.filteredNodes,"partialSelected")}let gn=Ze.parent;gn&&this.propagateUp(gn,$t)}propagateDown(Ze,$t){let gn=this.findIndexInSelection(Ze);if($t&&-1==gn?this.selection=[...this.selection||[],Ze]:!$t&&gn>-1&&(this.selection=this.selection.filter((Gt,Mn)=>Mn!=gn)),Ze.partialSelected=!1,this.syncNodeOption(Ze,this.filteredNodes,"partialSelected"),Ze.children&&Ze.children.length)for(let Gt of Ze.children)this.propagateDown(Gt,$t)}isSelected(Ze){return-1!=this.findIndexInSelection(Ze)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(Ze){return 0!=Ze.leaf&&!(Ze.children&&Ze.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(Ze){return this._templateMap?Ze.type?this._templateMap[Ze.type]:this._templateMap.default:null}onDragOver(Ze){this.droppableNodes&&(!this.value||0===this.value.length)&&(Ze.dataTransfer.dropEffect="move",Ze.preventDefault())}onDrop(Ze){if(this.droppableNodes&&(!this.value||0===this.value.length)){Ze.preventDefault();let $t=this.dragNode;if(this.allowDrop($t,null,this.dragNodeScope)){let gn=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:Ze,dragNode:$t,dropNode:null,index:gn,accept:()=>{this.processTreeDrop($t,gn)}}):(this.onNodeDrop.emit({originalEvent:Ze,dragNode:$t,dropNode:null,index:gn}),this.processTreeDrop($t,gn))}}}processTreeDrop(Ze,$t){this.dragNodeSubNodes.splice($t,1),this.value.push(Ze),this.dragDropService.stopDrag({node:Ze})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(Ze){if(this.droppableNodes){let $t=Ze.currentTarget.getBoundingClientRect();(Ze.x>$t.left+$t.width||Ze.x<$t.left||Ze.y>$t.top+$t.height||Ze.y<$t.top)&&(this.dragHover=!1)}}allowDrop(Ze,$t,gn){if(Ze){if(this.isValidDragScope(gn)){let Gt=!0;if($t)if(Ze===$t)Gt=!1;else{let Mn=$t.parent;for(;null!=Mn;){if(Mn===Ze){Gt=!1;break}Mn=Mn.parent}}return Gt}return!1}return!1}isValidDragScope(Ze){let $t=this.droppableScope;if($t){if("string"==typeof $t){if("string"==typeof Ze)return $t===Ze;if(Ze instanceof Array)return-1!=Ze.indexOf($t)}else if($t instanceof Array){if("string"==typeof Ze)return-1!=$t.indexOf(Ze);if(Ze instanceof Array)for(let gn of $t)for(let Gt of Ze)if(gn===Gt)return!0}return!1}return!0}_filter(Ze){let $t=Ze;if(""===$t)this.filteredNodes=null;else{this.filteredNodes=[];const gn=this.filterBy.split(","),Gt=f.gb.removeAccents($t).toLocaleLowerCase(this.filterLocale),Mn="strict"===this.filterMode;for(let Ut of this.value){let rn=Object.assign({},Ut),Bn={searchFields:gn,filterText:Gt,isStrictMode:Mn};(Mn&&(this.findFilteredNodes(rn,Bn)||this.isFilterMatched(rn,Bn))||!Mn&&(this.isFilterMatched(rn,Bn)||this.findFilteredNodes(rn,Bn)))&&this.filteredNodes.push(rn)}}this.updateSerializedValue(),this.onFilter.emit({filter:$t,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(Ze){this.virtualScroll&&this.scroller.scrollToIndex(Ze)}scrollTo(Ze){this.virtualScroll?this.scroller.scrollTo(Ze):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(Ze):(this.wrapperViewChild.nativeElement.scrollLeft=Ze.left,this.wrapperViewChild.nativeElement.scrollTop=Ze.top))}findFilteredNodes(Ze,$t){if(Ze){let gn=!1;if(Ze.children){let Gt=[...Ze.children];Ze.children=[];for(let Mn of Gt){let Ut=Object.assign({},Mn);this.isFilterMatched(Ut,$t)&&(gn=!0,Ze.children.push(Ut))}}if(gn)return Ze.expanded=!0,!0}}isFilterMatched(Ze,{searchFields:$t,filterText:gn,isStrictMode:Gt}){let Mn=!1;for(let Ut of $t)f.gb.removeAccents(String(f.gb.resolveFieldData(Ze,Ut))).toLocaleLowerCase(this.filterLocale).indexOf(gn)>-1&&(Mn=!0);return(!Mn||Gt&&!this.isNodeLeaf(Ze))&&(Mn=this.findFilteredNodes(Ze,{searchFields:$t,filterText:gn,isStrictMode:Gt})||Mn),Mn}getIndex(Ze,$t){const gn=Ze.getItemOptions;return gn?gn($t).index:$t}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}}return ze.\u0275fac=function(Ze){return new(Ze||ze)(e.Y36(e.SBq),e.Y36(u.Y,8),e.Y36(u.b4))},ze.\u0275cmp=e.Xpm({type:ze,selectors:[["p-tree"]],contentQueries:function(Ze,$t,gn){if(1&Ze&&e.Suo(gn,u.jx,4),2&Ze){let Gt;e.iGM(Gt=e.CRH())&&($t.templates=Gt)}},viewQuery:function(Ze,$t){if(1&Ze&&(e.Gf(be,5),e.Gf(we,5),e.Gf(Ie,5)),2&Ze){let gn;e.iGM(gn=e.CRH())&&($t.filterViewChild=gn.first),e.iGM(gn=e.CRH())&&($t.scroller=gn.first),e.iGM(gn=e.CRH())&&($t.wrapperViewChild=gn.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",indentation:"indentation",_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],["styleClass","p-tree-wrapper",3,"items","style","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[1,"p-tree-filter-icon","pi","pi-search"],["styleClass","p-tree-wrapper",3,"items","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad"],["scroller",""],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper"],["wrapper",""],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(Ze,$t){1&Ze&&(e.YNc(0,Ke,8,16,"div",0),e.YNc(1,bt,6,11,"div",1)),2&Ze&&(e.Q6J("ngIf",!$t.horizontal),e.xp6(1),e.Q6J("ngIf",$t.horizontal))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,u.jx,x.T,nt],styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}\n"],encapsulation:2}),ze})(),Qe=(()=>{class ze{}return ze.\u0275fac=function(Ze){return new(Ze||ze)},ze.\u0275mod=e.oAB({type:ze}),ze.\u0275inj=e.cJS({imports:[d.ez,u.m8,P.T,x.v,u.m8,x.v]}),ze})()},5921:(hn,ft,b)=>{"use strict";b.d(ft,{P9:()=>_,Th:()=>u,gb:()=>e});class e{static equals(x,r,R){return R?this.resolveFieldData(x,R)===this.resolveFieldData(r,R):this.equalsByValue(x,r)}static equalsByValue(x,r){if(x===r)return!0;if(x&&r&&"object"==typeof x&&"object"==typeof r){var Q,N,T,R=Array.isArray(x),L=Array.isArray(r);if(R&&L){if((N=x.length)!=r.length)return!1;for(Q=N;0!=Q--;)if(!this.equalsByValue(x[Q],r[Q]))return!1;return!0}if(R!=L)return!1;var y=x instanceof Date,E=r instanceof Date;if(y!=E)return!1;if(y&&E)return x.getTime()==r.getTime();var D=x instanceof RegExp,U=r instanceof RegExp;if(D!=U)return!1;if(D&&U)return x.toString()==r.toString();var B=Object.keys(x);if((N=B.length)!==Object.keys(r).length)return!1;for(Q=N;0!=Q--;)if(!Object.prototype.hasOwnProperty.call(r,B[Q]))return!1;for(Q=N;0!=Q--;)if(!this.equalsByValue(x[T=B[Q]],r[T]))return!1;return!0}return x!=x&&r!=r}static resolveFieldData(x,r){if(x&&r){if(this.isFunction(r))return r(x);if(-1==r.indexOf("."))return x[r];{let R=r.split("."),L=x;for(let Q=0,N=R.length;Q<N;++Q){if(null==L)return null;L=L[R[Q]]}return L}}return null}static isFunction(x){return!!(x&&x.constructor&&x.call&&x.apply)}static reorderArray(x,r,R){x&&r!==R&&(R>=x.length&&(R%=x.length,r%=x.length),x.splice(R,0,x.splice(r,1)[0]))}static insertIntoOrderedArray(x,r,R,L){if(R.length>0){let Q=!1;for(let N=0;N<R.length;N++)if(this.findIndexInList(R[N],L)>r){R.splice(N,0,x),Q=!0;break}Q||R.push(x)}else R.push(x)}static findIndexInList(x,r){let R=-1;if(r)for(let L=0;L<r.length;L++)if(r[L]==x){R=L;break}return R}static contains(x,r){if(null!=x&&r&&r.length)for(let R of r)if(this.equals(x,R))return!0;return!1}static removeAccents(x){return x&&x.search(/[\xC0-\xFF]/g)>-1&&(x=x.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),x}static isEmpty(x){return null==x||""===x||Array.isArray(x)&&0===x.length||!(x instanceof Date)&&"object"==typeof x&&0===Object.keys(x).length}static isNotEmpty(x){return!this.isEmpty(x)}static compare(x,r,R,L=1){let Q=-1;const N=this.isEmpty(x),T=this.isEmpty(r);return Q=N&&T?0:N?L:T?-L:"string"==typeof x&&"string"==typeof r?x.localeCompare(r,R,{numeric:!0}):x<r?-1:x>r?1:0,Q}static sort(x,r,R=1,L,Q=1){return(1===Q?R:Q)*e.compare(x,r,L,R)}static merge(x,r){return null!=x&&"object"!=typeof x||null!=r&&"object"!=typeof r?null!=x&&"string"!=typeof x||null!=r&&"string"!=typeof r?r||x:[x||"",r||""].join(" "):Object.assign(Object.assign({},x||{}),r||{})}}var d=0;function u(){return"pr_id_"+ ++d}var _=function f(){let P=[];const L=Q=>Q&&parseInt(Q.style.zIndex,10)||0;return{get:L,set:(Q,N,T)=>{N&&(N.style.zIndex=String(((Q,N)=>{let T=P.length>0?P[P.length-1]:{key:Q,value:N},y=T.value+(T.key===Q?0:N)+1;return P.push({key:Q,value:y}),y})(Q,T)))},clear:Q=>{Q&&((Q=>{P=P.filter(N=>N.value!==Q)})(L(Q)),Q.style.zIndex="")},getCurrent:()=>P.length>0?P[P.length-1].value:0}}()},5861:(hn,ft,b)=>{"use strict";function e(u,f,_,P,x,r,R){try{var L=u[r](R),Q=L.value}catch(N){return void _(N)}L.done?f(Q):Promise.resolve(Q).then(P,x)}function d(u){return function(){var f=this,_=arguments;return new Promise(function(P,x){var r=u.apply(f,_);function R(Q){e(r,P,x,R,L,"next",Q)}function L(Q){e(r,P,x,R,L,"throw",Q)}R(void 0)})}}b.d(ft,{Z:()=>d})}},hn=>{hn(hn.s=8255)}]);