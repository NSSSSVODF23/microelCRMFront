"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[179],{4e3:(Ht,et,_)=>{_.d(et,{Ji:()=>I,PJ:()=>U,S9:()=>s,U1:()=>L,ls:()=>g,mo:()=>le,x$:()=>re,zW:()=>H});var e=_(1777);const s=(0,e.X$)("flowInChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateY(-1.5rem)"}),(0,e.EY)(101,(0,e.jt)(".4s",(0,e.oB)({opacity:1,transform:"translateY(0)"})))],{optional:!0})])]),g=(0,e.X$)("flow",[(0,e.eR)(":enter",[(0,e.oB)({opacity:.6,transform:"translateY(.6rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateY(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateY(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateY(.6rem)"}))])]),H=(0,e.X$)("flowLeft",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(10rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateX(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateX(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateX(10rem)",height:0}))])]),L=(0,e.X$)("fade",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0}))])]),I=(0,e.X$)("fadeIn",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))])]),U=(0,e.X$)("fadeAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:.2})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),le=(0,e.X$)("fadeFullAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:1})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),re=(0,e.X$)("swipeChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(-2rem)"}),(0,e.EY)(85,[(0,e.jt)("250ms",(0,e.oB)({opacity:1,transform:"none"}))])],{optional:!0})])])},9477:(Ht,et,_)=>{_.d(et,{Q:()=>V});var e=_(5e3),s=_(2382),g=_(383),H=_(4968),L=_(4004),I=_(8372),U=_(1884),le=_(8505),re=_(3900),K=_(9646),pe=_(8738),ue=_(9808),Oe=_(8050),Te=_(1424),ke=_(7813);const we=["inputEl"],Fe=["overlay"],Y=["list"];function Pe(w,F){1&w&&(e.TgZ(0,"div",8),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function de(w,F){1&w&&(e.TgZ(0,"div",9),e._UZ(1,"i",10),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430"),e.qZA()())}const N=function(w){return{selected:w}};function O(w,F){if(1&w){const q=e.EpF();e.TgZ(0,"div",14),e.NdJ("mousemove",function(){const Le=e.CHM(q).index,Me=e.oxw(2);return e.KtG(Me.selectedSuggestion=Le)})("mouseleave",function(){e.CHM(q);const De=e.oxw(2);return e.KtG(De.selectedSuggestion=-1)})("click",function(De){e.CHM(q);const Le=e.oxw(2);return De.preventDefault(),e.KtG(Le.selectSuggestion())}),e.TgZ(1,"span",15),e._uU(2),e.qZA()()}if(2&w){const q=F.$implicit,_e=F.index,De=e.oxw(2);e.Q6J("ngClass",e.VKq(2,N,_e===De.selectedSuggestion)),e.xp6(2),e.Oqu(q.addressName)}}function ye(w,F){if(1&w&&(e.TgZ(0,"div",11,12),e.YNc(2,O,3,4,"div",13),e.qZA()),2&w){const q=e.oxw();e.xp6(2),e.Q6J("ngForOf",q.suggestions)}}const Ce=function(w,F){return{unconfirmed:w,confirmed:F}},ve=function(){return{breakpoint:"640px",contentStyleClass:"h-20rem"}};let V=(()=>{class w{constructor(q){this.api=q,this.onBlur=new e.vpe,this.value=null,this.subscriptions=new g.xf,this.suggestions=[],this.showSuggestions=!1,this.isLoading=!1,this.isEmpty=!1,this.selectedSuggestion=-1,this.inputedValue="",this.disabled=!1,this.placeholder="\u041c\u0430\u0440\u043a\u0441\u0430 33 35 \u043f1 \u044d9",this.onChange=_e=>{},this.onTouched=()=>{}}ngOnInit(){}scrollToActiveSuggestion(){setTimeout(()=>{if(!this.list)return;const q=this.list.nativeElement.querySelector(".selected");q&&q.scrollIntoView({behavior:"auto",block:"nearest"})})}ngAfterViewInit(){var q;if(null!==(q=this.inputEl)&&void 0!==q&&q.nativeElement){const _e=(0,H.R)(this.inputEl.nativeElement,"input").pipe((0,L.U)(Le=>Le.target.value),(0,I.b)(1e3),(0,U.x)((Le,Me)=>Le===Me),(0,le.b)(Le=>{this.value=null,this.onChange(null),this.inputedValue=Le,this.showSuggestions=Le.length>1,this.isLoading=!0,this.isEmpty=!1,this.reAlignOverlay()}),(0,re.w)(Le=>Le.length<2?(0,K.of)([]):this.api.getAddressSuggestions(Le))).subscribe(this.applySuggestion.bind(this)),De=(0,H.R)(this.inputEl.nativeElement,"keydown").pipe((0,L.U)(Le=>Le),(0,le.b)(Le=>{["ArrowDown","ArrowUp","Enter"].includes(Le.key)&&Le.preventDefault()}),(0,le.b)(Le=>{const Me=Le.key;"ArrowDown"===Me?(this.selectedSuggestion++,this.selectedSuggestion>=this.suggestions.length&&(this.selectedSuggestion=-1),this.setAddressAsInputValue(),this.scrollToActiveSuggestion(),this.selectLastPosOfInputValue()):"ArrowUp"===Me?(this.selectedSuggestion--,this.selectedSuggestion<-1&&(this.selectedSuggestion=this.suggestions.length-1),this.setAddressAsInputValue(),this.scrollToActiveSuggestion(),this.selectLastPosOfInputValue()):"Enter"===Me&&this.selectSuggestion()})).subscribe();this.subscriptions.addSubscription("inpChg",_e),this.subscriptions.addSubscription("kdown",De)}}selectSuggestion(){this.selectedSuggestion>=0&&(this.value=this.suggestions[this.selectedSuggestion],this.onChange(this.suggestions[this.selectedSuggestion]),this.setAddressAsInputValue(),this.selectLastPosOfInputValue(),this.showSuggestions=!1,this.selectedSuggestion=-1)}selectLastPosOfInputValue(){setTimeout(()=>{var q;null===(q=this.inputEl)||void 0===q||!q.nativeElement||(this.inputEl.nativeElement.scrollLeft=this.inputEl.nativeElement.scrollWidth)})}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange(q){this.onChange=q}registerOnTouched(q){this.onTouched=q}setDisabledState(q){this.disabled=q}writeValue(q){this.value=q,this.setAddressAsInputValue()}setAddressAsInputValue(){var q,_e,De;if(null!==(q=this.inputEl)&&void 0!==q&&q.nativeElement){if(this.value)return void(this.inputEl.nativeElement.value=null!==(_e=this.value.addressName)&&void 0!==_e?_e:"");if(-1===this.selectedSuggestion)return void(this.inputEl.nativeElement.value=this.inputedValue);this.inputEl.nativeElement.value=null!==(De=this.suggestions[this.selectedSuggestion].addressName)&&void 0!==De?De:""}}applySuggestion(q){this.suggestions=q,this.selectedSuggestion=-1,this.isLoading=!1,0===q.length&&(this.isEmpty=!0),this.reAlignOverlay()}reAlignOverlay(){setTimeout(()=>{var q;null===(q=this.overlay)||void 0===q||q.alignOverlay()})}}return w.\u0275fac=function(q){return new(q||w)(e.Y36(pe.s))},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-address-input"]],viewQuery:function(q,_e){if(1&q&&(e.Gf(we,5),e.Gf(Fe,5),e.Gf(Y,5)),2&q){let De;e.iGM(De=e.CRH())&&(_e.inputEl=De.first),e.iGM(De=e.CRH())&&(_e.overlay=De.first),e.iGM(De=e.CRH())&&(_e.list=De.first)}},outputs:{onBlur:"onBlur"},features:[e._Bn([{provide:s.JU,useExisting:w,multi:!0}])],decls:9,vars:15,consts:[[1,"p-input-icon-left","wrapper"],["autocomplete","off","pInputText","","type","text",1,"address-input",3,"disabled","ngClass","placeholder","spellcheck","blur"],["inputEl",""],["appendTo","body","contentStyleClass","overlay",3,"visible","responsive","visibleChange"],["overlay",""],["class","loading",4,"ngIf"],["class","empty",4,"ngIf"],["class","overlay-list",4,"ngIf"],[1,"loading"],[1,"empty"],[1,"mdi-domain_disabled"],[1,"overlay-list"],["list",""],["class","overlay-list-item",3,"ngClass","mousemove","mouseleave","click",4,"ngFor","ngForOf"],[1,"overlay-list-item",3,"ngClass","mousemove","mouseleave","click"],[1,"address-label"]],template:function(q,_e){1&q&&(e.TgZ(0,"span",0),e._UZ(1,"i"),e.TgZ(2,"input",1,2),e.NdJ("blur",function(){return _e.onTouched(),_e.onBlur.emit()}),e.qZA()(),e.TgZ(4,"p-overlay",3,4),e.NdJ("visibleChange",function(Le){return _e.showSuggestions=Le}),e.YNc(6,Pe,2,0,"div",5),e.YNc(7,de,4,0,"div",6),e.YNc(8,ye,3,1,"div",7),e.qZA()),2&q&&(e.xp6(1),e.Tol((_e.value?"mdi-domain active":"mdi-domain_disabled unactive")+" icon"),e.xp6(1),e.Q6J("disabled",_e.disabled)("ngClass",e.WLB(11,Ce,!_e.value,_e.value))("placeholder",_e.placeholder)("spellcheck",!1),e.xp6(2),e.Q6J("visible",_e.showSuggestions)("responsive",e.DdM(14,ve)),e.xp6(2),e.Q6J("ngIf",_e.isLoading),e.xp6(1),e.Q6J("ngIf",_e.isEmpty),e.xp6(1),e.Q6J("ngIf",!_e.isLoading&&!_e.isEmpty))},dependencies:[ue.mk,ue.sg,ue.O5,Oe.aV,Te.o,ke.x],styles:[".wrapper[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--tc-300)}.loading[_ngcontent-%COMP%]{min-width:10rem;min-height:7rem;display:flex;justify-content:center;align-items:center}.empty[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem 1.2rem;font-size:1rem;color:var(--red-300);gap:.3rem;white-space:nowrap}.address-label[_ngcontent-%COMP%]{white-space:nowrap}.address-input[_ngcontent-%COMP%]{font-size:1rem}.unconfirmed[_ngcontent-%COMP%]{color:var(--tc-600)}.confirmed[_ngcontent-%COMP%]{color:var(--mc-400)}.active[_ngcontent-%COMP%]{color:var(--mc-400)!important}.unactive[_ngcontent-%COMP%]{color:var(--tc-600)!important}"]}),w})()},7092:(Ht,et,_)=>{_.d(et,{_:()=>H});var e=_(5e3),s=_(8738);function g(L,I){1&L&&e._UZ(0,"app-employee-label",1),2&L&&e.Q6J("employee",I.$implicit)("inline",!0)}let H=(()=>{class L{constructor(U){this.api=U,this.workLog={}}set logId(U){this.api.getWorkLog(U,!0).subscribe(le=>{this.workLog=le})}ngOnInit(){}static createElement(U){const le=document.createElement("appointed-installers-element");return le.logId=U,le}}return L.\u0275fac=function(U){return new(U||L)(e.Y36(s.s))},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-appointed-installers"]],inputs:{logId:"logId"},decls:1,vars:1,consts:[[3,"employee","inline",4,"ngFor","ngForOf"],[3,"employee","inline"]],template:function(U,le){1&U&&e.YNc(0,g,1,2,"app-employee-label",0),2&U&&e.Q6J("ngForOf",le.workLog.employees)},styles:["[_nghost-%COMP%]{display:inline-flex;flex-wrap:wrap;gap:.5rem}"]}),L})()},5072:(Ht,et,_)=>{_.d(et,{A:()=>pe});var e=_(383),s=_(540),g=_(5e3),H=_(9808);const L=["wrapperEl"],I=["captionEl"];function U(ue,Oe){1&ue&&g._UZ(0,"i",8)}function le(ue,Oe){if(1&ue&&(g.TgZ(0,"span"),g._uU(1),g.qZA()),2&ue){const Te=g.oxw();g.xp6(1),g.Oqu(Te.getInitials())}}function re(ue,Oe){if(1&ue){const Te=g.EpF();g.TgZ(0,"img",9),g.NdJ("load",function(){g.CHM(Te);const we=g.oxw();return g.KtG(we.isLoad=!0)}),g.qZA()}if(2&ue){const Te=g.oxw();g.Q6J("src","api/private/avatar/"+Te.src,g.LSH)}}function K(ue,Oe){if(1&ue&&g._UZ(0,"div",10),2&ue){const Te=g.oxw();g.Akn(Te.indicatorStyle)}}let pe=(()=>{class ue{constructor(){this.size=3.5,this.deleted=!1,this.shape="circle",this.isLoad=!1}get captionStyle(){return{}}get wrapperStyle(){return{borderRadius:"circle"===this.shape?"999px":"25%",width:this.size+"rem",height:this.size+"rem",fontSize:this.size+"rem",background:this.isLoad?"transparent":this.deleted?"var(--bgc-500)":this.colorize()}}get indicatorStyle(){const Te={};switch("square"===this.shape&&(Te.transform="translate(25%, -25%)"),this.status){case s.LE.ONLINE:Te.backgroundColor="#36ff3b";break;case s.LE.AWAY:Te.backgroundColor="#ffc107";break;case s.LE.OFFLINE:Te.backgroundColor="#d5dde1"}return Te}ngOnInit(){}getInitials(){if(this.name){const Te=this.name.trim();return(Te.charAt(0)+(Te.indexOf(" ")>=0?Te.charAt(Te.indexOf(" ")+1):"")).toUpperCase()}return"?"}colorize(){var Te;return e.cQ.stringToGradient(null!==(Te=this.name)&&void 0!==Te?Te:"?")}ngOnChanges(Te){this.isLoad=!1}}return ue.\u0275fac=function(Te){return new(Te||ue)},ue.\u0275cmp=g.Xpm({type:ue,selectors:[["app-avatar"]],viewQuery:function(Te,ke){if(1&Te&&(g.Gf(L,5),g.Gf(I,5)),2&Te){let we;g.iGM(we=g.CRH())&&(ke.wrapperEl=we.first),g.iGM(we=g.CRH())&&(ke.captionEl=we.first)}},inputs:{size:"size",deleted:"deleted",src:"src",name:"name",status:"status",shape:"shape"},features:[g.TTD],decls:8,vars:8,consts:[[1,"avatar"],["wrapperEl",""],[1,"avatar-caption"],["captionEl",""],["class","mdi-person_off",4,"ngIf"],[4,"ngIf"],["alt","avatar","class","avatar-image",3,"src","load",4,"ngIf"],["class","status-indicator",3,"style",4,"ngIf"],[1,"mdi-person_off"],["alt","avatar",1,"avatar-image",3,"src","load"],[1,"status-indicator"]],template:function(Te,ke){1&Te&&(g.TgZ(0,"div",0,1)(2,"div",2,3),g.YNc(4,U,1,0,"i",4),g.YNc(5,le,2,1,"span",5),g.qZA(),g.YNc(6,re,1,1,"img",6),g.YNc(7,K,1,2,"div",7),g.qZA()),2&Te&&(g.Akn(ke.wrapperStyle),g.xp6(2),g.Akn(ke.captionStyle),g.xp6(2),g.Q6J("ngIf",ke.deleted),g.xp6(1),g.Q6J("ngIf",!ke.deleted),g.xp6(1),g.Q6J("ngIf",null!=ke.src),g.xp6(1),g.Q6J("ngIf",ke.status))},dependencies:[H.O5],styles:["[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.avatar[_ngcontent-%COMP%]{position:relative;aspect-ratio:1;border-radius:50%;overflow:hidden}.avatar-caption[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-47%,-47%);transform-origin:center;text-transform:uppercase;color:#fff;font-size:.38em}.avatar-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;top:0;left:0}.status-indicator[_ngcontent-%COMP%]{width:30%;aspect-ratio:1;border-radius:999px;background-color:#1aff12;box-shadow:0 0 1px 1px #00000040,0 1px 10px #00000020;position:absolute;top:0;right:0}"]}),ue})()},446:(Ht,et,_)=>{_.d(et,{r:()=>K});var e=_(5e3),s=_(9808),g=_(845),H=_(9783);function L(pe,ue){if(1&pe&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&pe){const Oe=e.oxw(3);e.xp6(1),e.Oqu(Oe.icon)}}function I(pe,ue){if(1&pe&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&pe){const Oe=e.oxw(3);e.xp6(1),e.Oqu(Oe.icon)}}function U(pe,ue){if(1&pe&&(e.TgZ(0,"div",5),e.YNc(1,L,2,1,"span",6),e._uU(2),e.YNc(3,I,2,1,"span",7),e.qZA()),2&pe){const Oe=e.oxw(2);e.xp6(1),e.Q6J("ngIf",Oe.icon&&"left"===Oe.iconPos),e.xp6(1),e.hij(" ",Oe.label," "),e.xp6(1),e.Q6J("ngIf",Oe.icon&&"right"===Oe.iconPos)}}function le(pe,ue){if(1&pe&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"div"),e.qZA()()),2&pe){const Oe=e.oxw(2);e.xp6(2),e.Tol("loading-indicator__spinner "+Oe.model)}}function re(pe,ue){if(1&pe&&(e.YNc(0,U,4,3,"div",3),e.YNc(1,le,3,2,"div",4)),2&pe){const Oe=e.oxw();e.Q6J("ngIf",!Oe.loading),e.xp6(1),e.Q6J("ngIf",Oe.loading)}}let K=(()=>{class pe{constructor(){this.disabled=!1,this.iconPos="left",this.onClick=new e.vpe,this.loading=!1}ngOnInit(){}}return pe.\u0275fac=function(Oe){return new(Oe||pe)},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["app-button"]],inputs:{model:"model",icon:"icon",label:"label",disabled:"disabled",iconPos:"iconPos",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:2,consts:[[3,"styleClass","disabled","onClick"],["button",""],["pTemplate","content"],["class","flexed hcenter gap1 button-content",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"flexed","hcenter","gap1","button-content"],["class","material-icons-round left",4,"ngIf"],["class","material-icons-round right",4,"ngIf"],[1,"material-icons-round","left"],[1,"material-icons-round","right"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(Oe,Te){1&Oe&&(e.TgZ(0,"p-button",0,1),e.NdJ("onClick",function(we){return!Te.loading&&Te.onClick.emit(we)}),e.YNc(2,re,2,2,"ng-template",2),e.qZA()),2&Oe&&e.Q6J("styleClass","button "+Te.model)("disabled",Te.disabled)},dependencies:[s.O5,g.zx,H.jx],styles:[".button-content[_ngcontent-%COMP%]{font-size:1.1rem;white-space:nowrap}.button-content[_ngcontent-%COMP%] > span.left[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(-.3rem)}.button-content[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(.3rem)}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.p-button-text.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.p-button-text.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.p-button-text.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.p-button-text.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.p-button-text.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.p-button-text.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.p-button-text.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),pe})()},1828:(Ht,et,_)=>{_.d(et,{C:()=>H});var e=_(383),s=_(5e3);const g=["wrapper"];let H=(()=>{class L{constructor(){}ngAfterViewInit(){this.colorize()}ngOnInit(){}colorize(){!this.wrapper||(this.color?this.wrapper.nativeElement.style.background=this.color:this.captionForColor?this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.captionForColor):this.caption&&(this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.caption)))}ngOnChanges(U){this.colorize()}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275cmp=s.Xpm({type:L,selectors:[["app-colored-tag"]],viewQuery:function(U,le){if(1&U&&s.Gf(g,5),2&U){let re;s.iGM(re=s.CRH())&&(le.wrapper=re.first)}},inputs:{caption:"caption",captionForColor:"captionForColor",color:"color"},features:[s.TTD],decls:3,vars:1,consts:[[1,"tag"],["wrapper",""]],template:function(U,le){1&U&&(s.TgZ(0,"span",0,1),s._uU(2),s.qZA()),2&U&&(s.xp6(2),s.hij(" ",le.caption,"\n"))},styles:[".tag[_ngcontent-%COMP%]{display:inline-block;color:#fff;text-align:center;min-width:2rem;font-size:.85rem;font-weight:700;padding:.15rem;border-radius:999px;line-height:normal}"]}),L})()},7805:(Ht,et,_)=>{_.d(et,{y:()=>ke});var e=_(5e3),s=_(8738);const g=["preview"];function H(we,Fe){1&we&&e.GkF(0)}function L(we,Fe){1&we&&e.GkF(0)}function I(we,Fe){if(1&we&&(e.ynx(0),e._uU(1),e.BQk()),2&we){const Y=e.oxw(2);e.xp6(1),e.hij("$",Y._departmentId,"")}}function U(we,Fe){if(1&we&&(e.TgZ(0,"span",7),e.YNc(1,H,1,0,"ng-container",8),e.YNc(2,L,1,0,"ng-container",8),e.YNc(3,I,2,1,"ng-container",1),e.qZA()),2&we){const Y=e.oxw(),Pe=e.MAs(5),de=e.MAs(3);e.xp6(1),e.Q6J("ngIf",Y.department&&(null==Y.department?null:Y.department.departmentId))("ngIfThen",Pe),e.xp6(1),e.Q6J("ngIf",!(Y.department&&null!=Y.department&&Y.department.departmentId||Y.failed))("ngIfThen",de),e.xp6(1),e.Q6J("ngIf",Y.failed)}}function le(we,Fe){if(1&we){const Y=e.EpF();e.TgZ(0,"span",11),e.NdJ("mouseenter",function(de){e.CHM(Y);const N=e.oxw(2);return e.KtG(N.showPreview(de))})("mouseleave",function(){e.CHM(Y);const de=e.oxw(2);return e.KtG(de.hidePreview())}),e._uU(1),e.qZA()}if(2&we){const Y=e.oxw(2);e.xp6(1),e.Oqu(Y.department.name)}}function re(we,Fe){if(1&we&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&we){const Y=e.oxw(2);e.xp6(1),e.hij(" ",Y._departmentId," ")}}function K(we,Fe){1&we&&e._UZ(0,"p-skeleton",12)}function pe(we,Fe){if(1&we&&(e.ynx(0),e.YNc(1,le,2,1,"span",9),e.YNc(2,re,2,1,"span",1),e.YNc(3,K,1,0,"p-skeleton",10),e.BQk()),2&we){const Y=e.oxw();e.xp6(1),e.Q6J("ngIf",Y.department&&(null==Y.department?null:Y.department.name)),e.xp6(1),e.Q6J("ngIf",Y.failed),e.xp6(1),e.Q6J("ngIf",!(Y.department&&null!=Y.department&&Y.department.name||Y.failed))}}function ue(we,Fe){if(1&we&&e._UZ(0,"p-skeleton",13)(1,"p-skeleton",14),2&we){const Y=e.oxw();e.Q6J("shape",Y.inline?"square":"circle")}}function Oe(we,Fe){if(1&we&&(e._UZ(0,"app-avatar",15),e.TgZ(1,"span",16),e._uU(2),e.qZA()),2&we){const Y=e.oxw();e.Q6J("name",null==Y.department?null:Y.department.name)("size",Y.size)("shape",Y.inline?"square":"circle"),e.xp6(2),e.hij(" ",null==Y.department?null:Y.department.name," ")}}function Te(we,Fe){if(1&we&&(e.TgZ(0,"div",17),e._UZ(1,"app-avatar",18),e.TgZ(2,"div",19),e._uU(3),e.qZA(),e.TgZ(4,"div",20),e._uU(5),e.qZA()()),2&we){const Y=e.oxw();e.xp6(1),e.Q6J("size",6)("deleted",null==Y.department?null:Y.department.deleted)("name",null==Y.department?null:Y.department.name),e.xp6(2),e.hij(" ",null==Y.department?null:Y.department.name," "),e.xp6(2),e.Oqu(null==Y.department?null:Y.department.description)}}let ke=(()=>{class we{constructor(Y){this.api=Y,this.department={},this.size=1.7,this.inline=!1,this.failed=!1}set departmentId(Y){this._departmentId=Y,this.api.getDepartment(Y,!0).subscribe({next:Pe=>this.department=Pe,error:()=>this.failed=!0})}static createElement(Y,Pe){const de=document.createElement("department-label-element");return de.departmentId=Y,de.inline=Pe,de}ngOnInit(){}showPreview(Y){this.preview&&this.preview.show(Y)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}}return we.\u0275fac=function(Y){return new(Y||we)(e.Y36(s.s))},we.\u0275cmp=e.Xpm({type:we,selectors:[["app-department-label"]],viewQuery:function(Y,Pe){if(1&Y&&e.Gf(g,5),2&Y){let de;e.iGM(de=e.CRH())&&(Pe.preview=de.first)}},inputs:{department:"department",size:"size",inline:"inline",departmentId:"departmentId"},decls:9,vars:2,consts:[["class","flexed gap2 one-line hcenter",4,"ngIf"],[4,"ngIf"],["loading",""],["info",""],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap2","one-line","hcenter"],[4,"ngIf","ngIfThen"],["class","like-link",3,"mouseenter","mouseleave",4,"ngIf"],["height",".9rem","width","5rem",4,"ngIf"],[1,"like-link",3,"mouseenter","mouseleave"],["height",".9rem","width","5rem"],["size","1.7rem",3,"shape"],["width","8rem","height",".8rem"],[3,"name","size","shape"],[1,"caption","size-small"],[1,"department-preview"],["shape","square",1,"avatar",3,"size","deleted","name"],[1,"name","caption","size-big"],[1,"description","caption","size-small","f-color-500"]],template:function(Y,Pe){1&Y&&(e.YNc(0,U,4,5,"span",0),e.YNc(1,pe,4,3,"ng-container",1),e.YNc(2,ue,2,1,"ng-template",null,2,e.W1O),e.YNc(4,Oe,3,4,"ng-template",null,3,e.W1O),e.TgZ(6,"p-overlayPanel",4,5),e.YNc(8,Te,6,5,"ng-template",6),e.qZA()),2&Y&&(e.Q6J("ngIf",!Pe.inline),e.xp6(1),e.Q6J("ngIf",Pe.inline))},styles:['.department-preview[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar description";column-gap:1rem}.department-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.department-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.department-preview[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;max-width:20rem;display:-webkit-box;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical}']}),we})()},4304:(Ht,et,_)=>{_.d(et,{h:()=>K});var e=_(5e3),s=_(9808),g=_(2382),H=_(9618),L=_(5651);function I(pe,ue){if(1&pe&&(e.ynx(0),e._uU(1),e.BQk()),2&pe){const Oe=e.oxw();e.xp6(1),e.Oqu(Oe.caption)}}function U(pe,ue){if(1&pe){const Oe=e.EpF();e.TgZ(0,"input",5),e.NdJ("blur",function(){e.CHM(Oe);const ke=e.oxw();return e.KtG(ke.stopEditing())})("keyup",function(ke){e.CHM(Oe);const we=e.oxw();return e.KtG(we.stopEditing(ke))})("ngModelChange",function(ke){e.CHM(Oe);const we=e.oxw();return e.KtG(we.captionChange.emit(ke))})("ngModelChange",function(ke){e.CHM(Oe);const we=e.oxw();return e.KtG(we.caption=ke)}),e.qZA()}if(2&pe){const Oe=e.oxw();e.Q6J("ngModel",Oe.caption)("autofocus",!0)}}function le(pe,ue){if(1&pe){const Oe=e.EpF();e.TgZ(0,"app-icon-button",6),e.NdJ("click",function(){e.CHM(Oe);const ke=e.oxw();return e.KtG(ke.editing=!0)}),e.qZA()}2&pe&&e.Q6J("size",1.2)}function re(pe,ue){if(1&pe){const Oe=e.EpF();e.TgZ(0,"app-icon-button",7),e.NdJ("click",function(){e.CHM(Oe);const ke=e.oxw();return e.KtG(ke.stopEditing())}),e.qZA()}2&pe&&e.Q6J("size",1.2)}let K=(()=>{class pe{constructor(){this.editing=!1,this.caption="",this.captionChange=new e.vpe,this.onStopEditing=new e.vpe}ngOnInit(){}stopEditing(Oe){if(!Oe)return this.editing=!1,void this.onStopEditing.emit(this.caption);("Enter"===Oe.key||"Escape"===Oe.key)&&(this.editing=!1,this.onStopEditing.emit(this.caption))}}return pe.\u0275fac=function(Oe){return new(Oe||pe)},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["app-editing-caption"]],inputs:{caption:"caption"},outputs:{captionChange:"captionChange",onStopEditing:"onStopEditing"},decls:6,vars:4,consts:[[1,"flexed","hcenter","gap2"],[4,"ngIf"],["class","caption-input","pAutoFocus","","type","text",3,"ngModel","autofocus","blur","keyup","ngModelChange",4,"ngIf"],["icon","edit",3,"size","click",4,"ngIf"],["icon","check",3,"size","click",4,"ngIf"],["pAutoFocus","","type","text",1,"caption-input",3,"ngModel","autofocus","blur","keyup","ngModelChange"],["icon","edit",3,"size","click"],["icon","check",3,"size","click"]],template:function(Oe,Te){1&Oe&&(e.TgZ(0,"div",0)(1,"span"),e.YNc(2,I,2,1,"ng-container",1),e.YNc(3,U,1,2,"input",2),e.qZA(),e.YNc(4,le,1,1,"app-icon-button",3),e.YNc(5,re,1,1,"app-icon-button",4),e.qZA()),2&Oe&&(e.xp6(2),e.Q6J("ngIf",!Te.editing),e.xp6(1),e.Q6J("ngIf",Te.editing),e.xp6(1),e.Q6J("ngIf",!Te.editing),e.xp6(1),e.Q6J("ngIf",Te.editing))},dependencies:[s.O5,g.Fj,g.JJ,g.On,H.P,L.r],styles:[".caption-input[_ngcontent-%COMP%]{outline:0;border:0}"]}),pe})()},1110:(Ht,et,_)=>{_.d(et,{x:()=>O});var e=_(540),s=_(417),g=_(5e3),H=_(8738),L=_(8007);const I=["preview"];function U(ye,Ce){if(1&ye&&g._UZ(0,"app-avatar",11),2&ye){const ve=g.oxw(3);let V;g.Q6J("deleted",null==ve._employee?null:ve._employee.deleted)("name",null!==(V=null==ve._employee?null:ve._employee.fullName)&&void 0!==V?V:"")("shape","circle")("size",ve.size)("src",null==ve._employee?null:ve._employee.avatar)("status",null==ve._employee?null:ve._employee.status)}}function le(ye,Ce){if(1&ye&&g._UZ(0,"app-avatar",12),2&ye){const ve=g.oxw(3);let V;g.Q6J("deleted",null==ve._employee?null:ve._employee.deleted)("name",null!==(V=null==ve._employee?null:ve._employee.fullName)&&void 0!==V?V:"")("shape","circle")("size",ve.size)("src",null==ve._employee?null:ve._employee.avatar)}}function re(ye,Ce){if(1&ye&&(g.ynx(0),g.YNc(1,U,1,6,"app-avatar",8),g.YNc(2,le,1,5,"app-avatar",9),g.TgZ(3,"span",10),g._uU(4),g.qZA(),g.BQk()),2&ye){const ve=g.oxw(2);g.xp6(1),g.Q6J("ngIf",ve.showStatus),g.xp6(1),g.Q6J("ngIf",!ve.showStatus),g.xp6(2),g.hij(" ",null==ve._employee?null:ve._employee.fullName," ")}}function K(ye,Ce){if(1&ye&&(g.ynx(0),g._UZ(1,"p-skeleton",13)(2,"p-skeleton",14),g.BQk()),2&ye){const ve=g.oxw(2);g.xp6(1),g.Q6J("shape","circle")("size",ve.size+"rem")}}function pe(ye,Ce){1&ye&&(g.ynx(0),g.TgZ(1,"span",15),g._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),g.qZA(),g.BQk())}function ue(ye,Ce){1&ye&&g.GkF(0)}function Oe(ye,Ce){if(1&ye&&(g.TgZ(0,"span",5),g.ynx(1,6),g.YNc(2,re,5,3,"ng-container",7),g.YNc(3,K,3,2,"ng-container",7),g.YNc(4,pe,3,0,"ng-container",7),g.YNc(5,ue,1,0,"ng-container",7),g.BQk(),g.qZA()),2&ye){const ve=g.oxw();g.xp6(1),g.Q6J("ngSwitch",ve.loadStatus),g.xp6(1),g.Q6J("ngSwitchCase","ready"),g.xp6(1),g.Q6J("ngSwitchCase","loading"),g.xp6(1),g.Q6J("ngSwitchCase","error"),g.xp6(1),g.Q6J("ngSwitchCase","empty")}}function Te(ye,Ce){if(1&ye){const ve=g.EpF();g.ynx(0),g.TgZ(1,"span",16),g.NdJ("mouseenter",function(w){g.CHM(ve);const F=g.oxw(2);return g.KtG(F.showPreview(w))})("mouseleave",function(){g.CHM(ve);const w=g.oxw(2);return g.KtG(w.hidePreview())}),g._uU(2),g.qZA(),g.BQk()}if(2&ye){const ve=g.oxw(2);g.xp6(2),g.Oqu(null==ve._employee?null:ve._employee.fullName)}}function ke(ye,Ce){1&ye&&(g.ynx(0),g._UZ(1,"p-skeleton",17),g.BQk()),2&ye&&(g.xp6(1),g.Udp("display","inline-block"))}function we(ye,Ce){1&ye&&(g.ynx(0),g.TgZ(1,"span",15),g._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),g.qZA(),g.BQk())}function Fe(ye,Ce){1&ye&&g.GkF(0)}function Y(ye,Ce){if(1&ye&&(g.ynx(0)(1,6),g.YNc(2,Te,3,1,"ng-container",7),g.YNc(3,ke,2,2,"ng-container",7),g.YNc(4,we,3,0,"ng-container",7),g.YNc(5,Fe,1,0,"ng-container",7),g.BQk()()),2&ye){const ve=g.oxw();g.xp6(1),g.Q6J("ngSwitch",ve.loadStatus),g.xp6(1),g.Q6J("ngSwitchCase","ready"),g.xp6(1),g.Q6J("ngSwitchCase","loading"),g.xp6(1),g.Q6J("ngSwitchCase","error"),g.xp6(1),g.Q6J("ngSwitchCase","empty")}}function Pe(ye,Ce){if(1&ye&&(g.TgZ(0,"span",26),g._uU(1),g.qZA()),2&ye){const ve=g.oxw(2);g.Akn(ve.statusStyle),g.xp6(1),g.Oqu(ve.status)}}function de(ye,Ce){1&ye&&(g.TgZ(0,"span",27),g._uU(1,"(\u0443\u0434\u0430\u043b\u0435\u043d)"),g.qZA())}function N(ye,Ce){if(1&ye&&(g.TgZ(0,"div",18),g._UZ(1,"app-avatar",19),g.TgZ(2,"div",20),g._uU(3),g.qZA(),g.TgZ(4,"div",21),g.YNc(5,Pe,2,3,"span",22),g.YNc(6,de,2,0,"span",23),g.qZA(),g.TgZ(7,"div",24),g._uU(8),g.qZA(),g.TgZ(9,"div",25),g._uU(10),g.qZA()()),2&ye){const ve=g.oxw();let V;g.xp6(1),g.Q6J("size",6)("deleted",null==ve._employee?null:ve._employee.deleted)("src",null==ve._employee?null:ve._employee.avatar)("name",null!==(V=null==ve._employee?null:ve._employee.fullName)&&void 0!==V?V:"")("status",null==ve._employee?null:ve._employee.status),g.xp6(2),g.hij(" ",null==ve._employee?null:ve._employee.fullName," "),g.xp6(2),g.Q6J("ngIf",ve.status),g.xp6(1),g.Q6J("ngIf",null==ve._employee?null:ve._employee.deleted),g.xp6(2),g.Oqu(null==ve._employee||null==ve._employee.department?null:ve._employee.department.name),g.xp6(2),g.Oqu(null==ve._employee||null==ve._employee.position?null:ve._employee.position.name)}}let O=(()=>{class ye{constructor(ve,V){this.api=ve,this.rt=V,this.size=1.7,this.inline=!1,this.showStatus=!1,this.loadStatus="loading"}get statusStyle(){var ve;const V={};switch(null===(ve=this._employee)||void 0===ve?void 0:ve.status){case e.LE.ONLINE:V.color="#36ff3b";break;case e.LE.AWAY:V.color="#ffc107";break;case e.LE.OFFLINE:V.color="#d5dde1"}return V}get status(){var ve,V;switch(null===(ve=this._employee)||void 0===ve?void 0:ve.status){case e.LE.ONLINE:return"\u0412 \u0441\u0435\u0442\u0438";case e.LE.AWAY:return"\u041e\u0442\u043e\u0448\u0435\u043b";case e.LE.OFFLINE:return(new s.t).transform(null===(V=this._employee)||void 0===V?void 0:V.lastSeen,"\u0411\u044b\u043b(\u0430) \u0432 \u0441\u0435\u0442\u0438 "," \u043d\u0430\u0437\u0430\u0434");default:return""}}static createElement(ve,V){const w=document.createElement("employee-label-element");return w.employee=ve,w.inline=V,w}ngOnInit(){this.loadingEmployee()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}showPreview(ve){this.preview&&this.preview.show(ve)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}ngOnChanges(ve){const V=ve.employee;V&&V.currentValue&&this.loadingEmployee()}loadingEmployee(){this.employee?"string"==typeof this.employee?this.api.getEmployee(this.employee,!0).subscribe({next:ve=>{this._employee=ve,this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(V=>{this._employee=V}),this.loadStatus="ready"},error:()=>{this.loadStatus="error"}}):(this._employee=this.employee,this.loadStatus="ready",this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(ve=>{this._employee=ve})):this.loadStatus="empty"}}return ye.\u0275fac=function(ve){return new(ve||ye)(g.Y36(H.s),g.Y36(L.U))},ye.\u0275cmp=g.Xpm({type:ye,selectors:[["app-employee-label"]],viewQuery:function(ve,V){if(1&ve&&g.Gf(I,5),2&ve){let w;g.iGM(w=g.CRH())&&(V.preview=w.first)}},inputs:{size:"size",inline:"inline",showStatus:"showStatus",employee:"employee"},features:[g.TTD],decls:5,vars:2,consts:[["class","flexed gap4 hcenter",4,"ngIf"],[4,"ngIf"],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap4","hcenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"deleted","name","shape","size","src","status",4,"ngIf"],[3,"deleted","name","shape","size","src",4,"ngIf"],[1,"caption","size-small","one-line"],[3,"deleted","name","shape","size","src","status"],[3,"deleted","name","shape","size","src"],[3,"shape","size"],["height",".8rem","width","8rem"],[1,""],[1,"like-link",3,"mouseenter","mouseleave"],["height",".8rem","width","5rem"],[1,"employee-preview"],["shape","square",1,"avatar",3,"size","deleted","src","name","status"],[1,"name","caption","size-big"],[1,"status"],["class","caption size-small wt-bold f-color-500",3,"style",4,"ngIf"],["class","caption size-small",4,"ngIf"],[1,"department","caption","size-small","f-color-500"],[1,"position","caption","size-small","f-color-500"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small"]],template:function(ve,V){1&ve&&(g.YNc(0,Oe,6,5,"span",0),g.YNc(1,Y,6,5,"ng-container",1),g.TgZ(2,"p-overlayPanel",2,3),g.YNc(4,N,11,10,"ng-template",4),g.qZA()),2&ve&&(g.Q6J("ngIf",!V.inline),g.xp6(1),g.Q6J("ngIf",V.inline))},styles:['.employee-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar status" "avatar department" "avatar position";column-gap:1rem}.employee-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.employee-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.employee-preview[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{grid-area:status}.employee-preview[_ngcontent-%COMP%]   .department[_ngcontent-%COMP%]{grid-area:department}.employee-preview[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{grid-area:position}']}),ye})()},538:(Ht,et,_)=>{_.d(et,{V:()=>K});var e=_(5e3),s=_(5572);const g=["titleElem"],H=["wrapperElem"],L=["childElem"];function I(pe,ue){if(1&pe&&e._UZ(0,"app-colored-tag",9),2&pe){const Oe=e.oxw();e.Q6J("caption",Oe.badge)}}const U=function(pe){return{rotated:pe}};function le(pe,ue){if(1&pe&&(e.TgZ(0,"span",10),e._uU(1,"expand_more"),e.qZA()),2&pe){const Oe=e.oxw();e.Q6J("ngClass",e.VKq(1,U,Oe._isExtended))}}function re(pe,ue){if(1&pe&&e._UZ(0,"app-sub-extended-menu-item",11),2&pe){const Oe=ue.$implicit;e.Q6J("caption",Oe.label)("children",Oe.children)("isExtended",Oe.extended)("link",Oe.link)("nLevel",Oe.nestingLevel)}}let K=(()=>{class pe{constructor(Oe){this.route=Oe,this._isExtended=!1,this.icon="",this.caption="",this.elements=[]}set isExtended(Oe){this._isExtended=Oe,this.extending()}ngAfterViewInit(){this.extending()}ngOnInit(){}toggle(){!this.hasChild()||(this.isExtended=!this._isExtended)}hasChild(){return this.elements&&this.elements.length>0}extending(){!this.wrapperElem||!this.titleElem||(this._isExtended?(this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.wrapperElem.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",setTimeout(()=>{this.wrapperElem.nativeElement.style.height=this.titleElem.nativeElement.offsetHeight+"px"})))}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(e.Y36(s.gz))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["app-extended-menu-item"]],viewQuery:function(Oe,Te){if(1&Oe&&(e.Gf(g,5),e.Gf(H,5),e.Gf(L,5)),2&Oe){let ke;e.iGM(ke=e.CRH())&&(Te.titleElem=ke.first),e.iGM(ke=e.CRH())&&(Te.wrapperElem=ke.first),e.iGM(ke=e.CRH())&&(Te.childElem=ke.first)}},inputs:{isExtended:"isExtended",icon:"icon",caption:"caption",elements:"elements",link:"link",badge:"badge"},decls:11,vars:6,consts:[[1,"flexed","column","wrapper"],["wrapperElem",""],["routerLinkActive","active",1,"title","flexed","gap6","hcenter",3,"routerLink","click"],["titleElem",""],[1,"material-icons-round","title-icon"],[1,"stretched"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["class","material-icons-round title-expanded-icon",3,"ngClass",4,"ngIf"],[3,"caption","children","isExtended","link","nLevel",4,"ngFor","ngForOf"],["color","var(--mc-500)",3,"caption"],[1,"material-icons-round","title-expanded-icon",3,"ngClass"],[3,"caption","children","isExtended","link","nLevel"]],template:function(Oe,Te){1&Oe&&(e.TgZ(0,"div",0,1)(2,"div",2,3),e.NdJ("click",function(){return Te.toggle()}),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e._uU(6),e._UZ(7,"div",5),e.YNc(8,I,1,1,"app-colored-tag",6),e.YNc(9,le,2,3,"span",7),e.qZA(),e.YNc(10,re,1,5,"app-sub-extended-menu-item",8),e.qZA()),2&Oe&&(e.xp6(2),e.Q6J("routerLink",Te.link),e.xp6(3),e.Oqu(Te.icon),e.xp6(1),e.hij(" ",Te.caption," "),e.xp6(2),e.Q6J("ngIf",Te.badge),e.xp6(1),e.Q6J("ngIf",Te.hasChild()),e.xp6(1),e.Q6J("ngForOf",Te.elements))},styles:[".wrapper[_ngcontent-%COMP%]{overflow:hidden;transition:height .2s ease-out;border-radius:.5rem}.title[_ngcontent-%COMP%]{padding:.7rem;font-size:1.2rem;color:var(--tc-700);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .15s ease-out}.title.active[_ngcontent-%COMP%]{color:var(--mc-500);background-color:var(--mc-0);cursor:default}.title[_ngcontent-%COMP%]:not(.active):hover{color:var(--mc-400)}.title-icon[_ngcontent-%COMP%]{font-size:1.5rem}.title-expanded-icon[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(1,-.6,0,1.65)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}"]}),pe})()},6288:(Ht,et,_)=>{_.d(et,{Y:()=>Oe});var e=_(5e3),s=_(2382),g=_(9783),H=_(9808),L=_(1874),I=_(4119),U=_(845),le=_(85);const re=["fileManager"],K=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function pe(Te,ke){if(1&Te&&e._UZ(0,"p-badge",7),2&Te){const we=e.oxw();e.Akn(e.DdM(3,K)),e.Q6J("value",we.filesLoaded.toString())}}let Oe=(()=>{class Te{constructor(we){this.toast=we,this.files=[],this.short=!1,this.filesChange=new e.vpe,this.filesCatching=0,this.filesLoaded=0,this.loading=!1,this.disabled=!1,this.menuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",command:this.openFileManager.bind(this)},{label:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",icon:"mdi-highlight_off",command:this.clear.bind(this)}],this.onChange=Fe=>{},this.onTouched=()=>{}}get hasFiles(){return this.files.length>0}get style(){return this.short?"p-button-text p-button-icon p-button-rounded"+(this.hasFiles?" p-button-info":" p-button-secondary"):"p-button-text"+(this.hasFiles?" p-button-info":" p-button-secondary")}get label(){return this.short?"":"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}ngOnInit(){}openFileManager(){this.clear(),this.fileManager.nativeElement.click()}clear(){this.filesCatching=0,this.filesLoaded=0,this.files=[],this.filesChange.emit([]),this.onChange([]),this.fileManager.nativeElement.value=""}catchFiles(we){var Fe;if(0===we.target.files.length)return;this.loading=!0,this.filesCatching=0,this.filesLoaded=0;const Y=Object.values(null!==(Fe=this.fileManager.nativeElement.files)&&void 0!==Fe?Fe:{});this.filesCatching=Y.length+this.files.length;for(const Pe of Y){if(Pe.size>20971520){this.toast.add({severity:"warn",summary:"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430",detail:`\u0424\u0430\u0439\u043b ${Pe.name} \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${(Pe.size/1048576).toFixed(2)} \u041c\u0431\u0430\u0439\u0442 \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b \u043b\u0438\u043c\u0438\u0442 \u0432 ${20..toFixed(2)} \u041c\u0431\u0430\u0439\u0442`}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1);continue}const de=new FileReader;de.onload=N=>{var O;const ye=null===(O=N.target)||void 0===O?void 0:O.result;ye instanceof ArrayBuffer&&(Array.isArray(this.files)||(this.files=[]),this.files.push({name:Pe.name,modified:Pe.lastModified,data:Object.values(new Uint8Array(ye)),type:Pe.type}),this.lastFileName=Pe.name,this.filesLoaded=this.files.length,this.filesChange.emit(this.files),this.onChange(this.files),this.filesLoaded===this.filesCatching&&(this.loading=!1))},de.onerror=N=>{this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430",detail:N.type}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1)},de.readAsArrayBuffer(Pe)}}ngOnDestroy(){}registerOnChange(we){this.onChange=we}registerOnTouched(we){this.onTouched=we}setDisabledState(we){this.disabled=we}writeValue(we){this.files=we,this.filesChange.emit(this.files)}}return Te.\u0275fac=function(we){return new(we||Te)(e.Y36(g.ez))},Te.\u0275cmp=e.Xpm({type:Te,selectors:[["app-file-input"]],viewQuery:function(we,Fe){if(1&we&&e.Gf(re,5),2&we){let Y;e.iGM(Y=e.CRH())&&(Fe.fileManager=Y.first)}},inputs:{files:"files",short:"short",disabled:"disabled"},outputs:{filesChange:"filesChange"},features:[e._Bn([{provide:s.JU,useExisting:Te,multi:!0}])],decls:7,vars:11,consts:[["tooltipPosition","left",1,"button-wrapper",3,"pTooltip","tooltipDisabled"],["icon","mdi-attach_file",3,"disabled","label","styleClass","onClick"],["class","ur-badge",3,"style","value",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],["type","file",3,"multiple","change"],["fileManager",""],[1,"ur-badge",3,"value"]],template:function(we,Fe){if(1&we){const Y=e.EpF();e.TgZ(0,"div",0)(1,"p-button",1),e.NdJ("onClick",function(de){e.CHM(Y);const N=e.MAs(4);return e.KtG(Fe.hasFiles?N.toggle(de):Fe.openFileManager())}),e.qZA(),e.YNc(2,pe,1,4,"p-badge",2),e._UZ(3,"p-menu",3,4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("change",function(de){return Fe.catchFiles(de)}),e.qZA()}2&we&&(e.Q6J("pTooltip","\u0424\u0430\u0439\u043b\u043e\u0432 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e "+Fe.filesLoaded+"/"+Fe.filesCatching+"\n\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0439: \n"+Fe.lastFileName)("tooltipDisabled",!Fe.hasFiles),e.xp6(1),e.Q6J("disabled",Fe.disabled||Fe.loading)("label",Fe.label)("styleClass",Fe.style),e.xp6(1),e.Q6J("ngIf",Fe.hasFiles),e.xp6(1),e.Q6J("model",Fe.menuItems)("popup",!0),e.xp6(2),e.Udp("display","none"),e.Q6J("multiple",!0))},dependencies:[H.O5,L.v2,I.u,U.zx,le.Ct],styles:[".button-wrapper[_ngcontent-%COMP%]{position:relative}"]}),Te})()},5651:(Ht,et,_)=>{_.d(et,{r:()=>I});var e=_(5e3),s=_(9808);function g(U,le){if(1&U&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&U){const re=e.oxw();e.Udp("font-size",re.size+"rem"),e.xp6(1),e.Oqu(re.icon)}}function H(U,le){if(1&U&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"div"),e.qZA()()),2&U){const re=e.oxw();e.xp6(2),e.Tol("loading-indicator__spinner "+re.model)}}const L=function(U){return{disabled:U}};let I=(()=>{class U{constructor(){this.icon="",this.size=1.9,this.disabled=!1,this.onClick=new e.vpe,this.model="primary",this.loading=!1}ngOnInit(){}clickHandler(re){this.disabled||this.onClick.emit(re)}}return U.\u0275fac=function(re){return new(re||U)},U.\u0275cmp=e.Xpm({type:U,selectors:[["app-icon-button"]],inputs:{icon:"icon",size:"size",disabled:"disabled",model:"model",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:7,consts:[[3,"ngClass","click"],["class","material-icons-round",3,"font-size",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"material-icons-round"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(re,K){1&re&&(e.TgZ(0,"div",0),e.NdJ("click",function(ue){return K.clickHandler(ue)}),e.YNc(1,g,2,3,"span",1),e.YNc(2,H,3,2,"div",2),e.qZA()),2&re&&(e.Tol("button "+K.model),e.Q6J("ngClass",e.VKq(5,L,K.disabled)),e.xp6(1),e.Q6J("ngIf",!K.loading),e.xp6(1),e.Q6J("ngIf",K.loading))},dependencies:[s.mk,s.O5],styles:[".button[_ngcontent-%COMP%]{display:flex;padding:.2rem;-webkit-user-select:none;user-select:none;cursor:pointer;border-radius:.4rem;transition:color .2s ease-out}.button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{line-height:normal!important}.button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.button.primary[_ngcontent-%COMP%]:hover{color:#2542a4}.button.danger[_ngcontent-%COMP%]{color:#ef4444}.button.danger[_ngcontent-%COMP%]:hover{color:#b73030}.button.success[_ngcontent-%COMP%]{color:#22c55e}.button.success[_ngcontent-%COMP%]:hover{color:#1ba94f}.button.secondary[_ngcontent-%COMP%]{color:#64748b}.button.secondary[_ngcontent-%COMP%]:hover{color:#4d5a6c}.button.info[_ngcontent-%COMP%]{color:#3b82f6}.button.info[_ngcontent-%COMP%]:hover{color:#2c61b7}.button.warning[_ngcontent-%COMP%]{color:#f59e0b}.button.warning[_ngcontent-%COMP%]:hover{color:#c07d09}.button.help[_ngcontent-%COMP%]{color:#a855f7}.button.help[_ngcontent-%COMP%]:hover{color:#7b3db6}.button.light[_ngcontent-%COMP%]{color:var(--tc-100)}.button.light[_ngcontent-%COMP%]:hover{color:var(--tc-300)}.disabled[_ngcontent-%COMP%]{color:var(--bgc-300)!important;cursor:default}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),U})()},2777:(Ht,et,_)=>{_.d(et,{U:()=>pe});var e=_(5e3),s=_(8738);const g=["previewConnectedTask"],H=function(ue){return["/task",ue]};function L(ue,Oe){if(1&ue){const Te=e.EpF();e.TgZ(0,"span",6),e.NdJ("click",function(){e.CHM(Te);const we=e.oxw();return e.KtG(we.hidePreview())})("mouseenter",function(we){e.CHM(Te);const Fe=e.oxw();return e.KtG(Fe.showPreview(we))})("mouseleave",function(){e.CHM(Te);const we=e.oxw();return e.KtG(we.hidePreview())}),e._uU(1),e.qZA()}if(2&ue){const Te=e.oxw();e.Q6J("routerLink",e.VKq(2,H,null==Te.task?null:Te.task.taskId)),e.xp6(1),e.hij("#",null==Te.task?null:Te.task.taskId,"")}}function I(ue,Oe){1&ue&&e._UZ(0,"p-skeleton",7),2&ue&&e.Udp("display","inline-block")}function U(ue,Oe){if(1&ue&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ue){const Te=e.oxw();e.xp6(1),e.hij("#",Te._taskId,"")}}const le=function(){return{width:"40vw",minWidth:"min-content"}};function re(ue,Oe){if(1&ue&&e._UZ(0,"app-task-list-element",9),2&ue){const Te=e.oxw(2);e.Akn(e.DdM(5,le)),e.Q6J("isHover",!1)("item",Te.task)("inlined",!0)}}function K(ue,Oe){if(1&ue&&e.YNc(0,re,1,6,"app-task-list-element",8),2&ue){const Te=e.oxw();e.Q6J("ngIf",null==Te.task?null:Te.task.taskId)}}let pe=(()=>{class ue{constructor(Te){this.api=Te,this.failed=!1}set taskId(Te){0!==Te&&(this._taskId=Te,this.api.getTask(this._taskId,!0).subscribe({next:ke=>this.task=ke,error:()=>this.failed=!0}))}static createElement(Te){const ke=document.createElement("task-link-element");return ke.taskId=Te,ke}ngOnInit(){}showPreview(Te){this.previewConnectedTask&&this.previewConnectedTask.show(Te)}hidePreview(){setTimeout(()=>{this.previewConnectedTask&&this.previewConnectedTask.hide()})}}return ue.\u0275fac=function(Te){return new(Te||ue)(e.Y36(s.s))},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-task-link"]],viewQuery:function(Te,ke){if(1&Te&&e.Gf(g,5),2&Te){let we;e.iGM(we=e.CRH())&&(ke.previewConnectedTask=we.first)}},inputs:{task:"task",taskId:"taskId"},decls:6,vars:3,consts:[["class","like-link",3,"routerLink","click","mouseenter","mouseleave",4,"ngIf"],["width","4rem","height",".8rem",3,"display",4,"ngIf"],[4,"ngIf"],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["previewConnectedTask",""],["pTemplate","content"],[1,"like-link",3,"routerLink","click","mouseenter","mouseleave"],["width","4rem","height",".8rem"],[3,"isHover","item","inlined","style",4,"ngIf"],[3,"isHover","item","inlined"]],template:function(Te,ke){1&Te&&(e.YNc(0,L,2,4,"span",0),e.YNc(1,I,1,2,"p-skeleton",1),e.YNc(2,U,2,1,"span",2),e.TgZ(3,"p-overlayPanel",3,4),e.YNc(5,K,1,1,"ng-template",5),e.qZA()),2&Te&&(e.Q6J("ngIf",0!==(null==ke.task?null:ke.task.taskId)),e.xp6(1),e.Q6J("ngIf",0===(null==ke.task?null:ke.task.taskId)&&!ke.failed),e.xp6(1),e.Q6J("ngIf",ke.failed))}}),ue})()},6502:(Ht,et,_)=>{_.d(et,{o:()=>Ue});var e=_(5e3),s=_(540),g=_(2382),H=_(8738);function L(fe,qe){1&fe&&e.GkF(0)}const I=function(){return{label:"\u0414\u0430",value:!0}},U=function(){return{label:"\u041d\u0435\u0442",value:!1}},le=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},re=function(fe,qe,je){return[fe,qe,je]};function K(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,L,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",8),e.NdJ("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("onBlur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)("options",e.kEZ(6,re,e.DdM(3,I),e.DdM(4,U),e.DdM(5,le)))}}function pe(fe,qe){1&fe&&e.GkF(0)}function ue(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,pe,1,0,"ng-container",7),e.TgZ(2,"input",9),e.NdJ("blur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function Oe(fe,qe){1&fe&&e.GkF(0)}function Te(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Oe,1,0,"ng-container",7),e.TgZ(2,"textarea",10),e.NdJ("blur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)("autoResize",!0)("rows",7)}}function ke(fe,qe){1&fe&&e.GkF(0)}function we(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ke,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",11),e.NdJ("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("onBlur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function Fe(fe,qe){1&fe&&e.GkF(0)}function Y(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Fe,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",12),e.NdJ("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("onBlur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)("minFractionDigits",1)}}function Pe(fe,qe){1&fe&&e.GkF(0)}function de(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Pe,1,0,"ng-container",7),e.TgZ(2,"app-address-input",11),e.NdJ("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("onBlur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function N(fe,qe){1&fe&&e.GkF(0)}function O(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,N,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function ye(fe,qe){1&fe&&e.GkF(0)}function Ce(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ye,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function ve(fe,qe){1&fe&&e.GkF(0)}function V(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ve,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function w(fe,qe){1&fe&&e.GkF(0)}function F(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,w,1,0,"ng-container",7),e.TgZ(2,"app-ip-input",11),e.NdJ("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("onBlur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function q(fe,qe){1&fe&&e.GkF(0)}function _e(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,q,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function De(fe,qe){1&fe&&e.GkF(0)}function Le(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6),e.YNc(1,De,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function Me(fe,qe){1&fe&&e.GkF(0)}function ht(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",14)(2,"legend"),e.YNc(3,Me,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-phone-list-input",11),e.NdJ("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.onChange(bt))})("onBlur",function(){e.CHM(je);const bt=e.oxw();return e.KtG(bt.onTouched())})("ngModelChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.controlValue=bt)}),e.qZA()()()}if(2&fe){const je=e.oxw(),mt=e.MAs(20);e.xp6(3),e.Q6J("ngTemplateOutlet",mt),e.xp6(1),e.Q6J("ngModel",je.controlValue)}}function at(fe,qe){1&fe&&e._UZ(0,"div"),2&fe&&e.Udp("background-color","red")}function Se(fe,qe){if(1&fe){const je=e.EpF();e.TgZ(0,"label",15)(1,"app-editing-caption",16),e.NdJ("captionChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.setName(bt))}),e.qZA(),e.TgZ(2,"app-input-variation-selector",17),e.NdJ("valueChange",function(bt){e.CHM(je);const st=e.oxw();return e.KtG(st.currentVariation=bt)}),e.qZA()()}if(2&fe){const je=e.oxw();e.xp6(1),e.Q6J("caption",null==je.field?null:je.field.name),e.xp6(1),e.Q6J("variationList",je.currentVariationsList)("value",je.currentVariation)}}function $(fe,qe){if(1&fe&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&fe){const je=e.oxw();e.xp6(1),e.hij(" ",null==je.field?null:je.field.name," ")}}function B(fe,qe){1&fe&&e.GkF(0)}function j(fe,qe){if(1&fe&&e.YNc(0,B,1,0,"ng-container",18),2&fe){const je=e.oxw(),mt=e.MAs(16),bt=e.MAs(18);e.Q6J("ngIf",je.isExample)("ngIfThen",mt)("ngIfElse",bt)}}let Ue=(()=>{class fe{constructor(je){this.api=je,this.isExample=!1,this.onChange=mt=>{},this.onTouched=()=>{}}get type(){return this.field?"type"in this.field?this.field.type:"wireframeFieldType"in this.field?this.field.wireframeFieldType:"":""}get currentVariationsList(){return this.field&&"type"in this.field&&this.field.type===s._r.ADDRESS?[{id:"ALL",name:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},{id:"APARTMENT_ONLY",name:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"},{id:"HOUSE_ONLY",name:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"}]:[]}get currentVariation(){var je;return this.field&&"variation"in this.field&&null!==(je=this.field.variation)&&void 0!==je?je:""}set currentVariation(je){!this.field||"type"in this.field&&(this.field.variation=je)}registerOnChange(je){this.onChange=je}registerOnTouched(je){this.onTouched=je}writeValue(je){this.controlValue=je}ngOnInit(){}isName(je){return"name"in je}setName(je){this.field&&"name"in this.field&&(this.field.name=je)}}return fe.\u0275fac=function(je){return new(je||fe)(e.Y36(H.s))},fe.\u0275cmp=e.Xpm({type:fe,selectors:[["app-task-template-input"]],inputs:{field:"field",isExample:"isExample"},features:[e._Bn([{provide:g.JU,useExisting:(0,e.Gpc)(()=>fe),multi:!0}])],decls:21,vars:14,consts:[[3,"ngSwitch"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],["editedLabel",""],["staticLabel",""],["label",""],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],[3,"ngModel","options","ngModelChange","onBlur"],["pInputText","",3,"ngModel","blur","ngModelChange"],["pInputTextarea","",3,"ngModel","autoResize","rows","blur","ngModelChange"],[3,"ngModel","ngModelChange","onBlur"],[3,"ngModel","minFractionDigits","ngModelChange","onBlur"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$",3,"ngModel","blur","ngModelChange"],[1,"node","flexed","gap5","column"],[1,"flexed","hcenter","gap5"],[3,"caption","captionChange"],[3,"variationList","value","valueChange"],[4,"ngIf","ngIfThen","ngIfElse"]],template:function(je,mt){1&je&&(e.ynx(0,0),e.YNc(1,K,3,10,"div",1),e.YNc(2,ue,3,2,"div",1),e.YNc(3,Te,3,4,"div",1),e.YNc(4,we,3,2,"div",1),e.YNc(5,Y,3,3,"div",1),e.YNc(6,de,3,2,"div",1),e.YNc(7,O,3,2,"div",1),e.YNc(8,Ce,3,2,"div",1),e.YNc(9,V,3,2,"div",1),e.YNc(10,F,3,2,"div",1),e.YNc(11,_e,3,2,"div",1),e.YNc(12,Le,3,2,"div",1),e.YNc(13,ht,5,2,"div",1),e.YNc(14,at,1,2,"div",2),e.BQk(),e.YNc(15,Se,3,3,"ng-template",null,3,e.W1O),e.YNc(17,$,2,1,"ng-template",null,4,e.W1O),e.YNc(19,j,1,3,"ng-template",null,5,e.W1O)),2&je&&(e.Q6J("ngSwitch",mt.type),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"))}}),fe})()},1787:(Ht,et,_)=>{_.d(et,{k:()=>Oe});var e=_(383),s=_(5e3),g=_(9808),H=_(8050),L=_(9783),I=_(5072),U=_(1110);const le=function(Te,ke,we){return{marginLeft:Te,mask:ke,webkitMask:we}};function re(Te,ke){if(1&Te&&s._UZ(0,"app-avatar",5),2&Te){const we=ke.$implicit,Fe=ke.index,Y=s.oxw();s.Akn(s.kEZ(6,le,Fe>0?Y.margin+"rem":"",Fe<Y.sliced.length-1?Y.mask:"",Fe<Y.sliced.length-1?Y.mask:"")),s.Q6J("deleted",we.deleted)("name",we.fullName)("size",Y.size)("src",we.avatar)}}function K(Te,ke){if(1&Te&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&Te){const we=s.oxw();s.xp6(1),s.hij(" +",we.numberOfOverflowed," ")}}function pe(Te,ke){1&Te&&s._UZ(0,"app-employee-label",8),2&Te&&s.Q6J("employee",ke.$implicit)}function ue(Te,ke){if(1&Te&&(s.TgZ(0,"div",6),s.YNc(1,pe,1,1,"app-employee-label",7),s.qZA()),2&Te){const we=s.oxw();s.xp6(1),s.Q6J("ngForOf",we.employees)("ngForTrackBy",we.trackByEmployee)}}let Oe=(()=>{class Te{constructor(){this.employees=[],this.size=2,this.isListShow=!1,this.subscriptions=new e.xf}get margin(){return-2*(.2+this.shift())}get mask(){return`radial-gradient(circle at ${this.size+this.size/2+this.margin}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`}get sliced(){return this.employees.slice(0,6)}get numberOfOverflowed(){let we=this.employees.length-6;return we<0&&(we=0),we}trackByEmployee(we,Fe){return Fe.login}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}shift(){let we=.05*this.sliced.length;return we>.3&&(we=.3),we}}return Te.\u0275fac=function(we){return new(we||Te)},Te.\u0275cmp=s.Xpm({type:Te,selectors:[["app-avatar-list"]],inputs:{employees:"employees",size:"size"},decls:5,vars:6,consts:[[1,"avatars",3,"mouseenter","mouseleave"],[3,"deleted","name","size","src","style",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["appendTo","body","hideTransitionOptions","0ms","showTransitionOptions","0ms",3,"visible","visibleChange"],["pTemplate","content"],[3,"deleted","name","size","src"],[1,"employees-overlay-list"],[3,"employee",4,"ngFor","ngForOf","ngForTrackBy"],[3,"employee"]],template:function(we,Fe){1&we&&(s.TgZ(0,"div",0),s.NdJ("mouseenter",function(){return Fe.isListShow=Fe.sliced.length>0})("mouseleave",function(){return Fe.isListShow=!1}),s.YNc(1,re,1,10,"app-avatar",1),s.YNc(2,K,2,1,"span",2),s.qZA(),s.TgZ(3,"p-overlay",3),s.NdJ("visibleChange",function(Pe){return Fe.isListShow=Pe}),s.YNc(4,ue,2,2,"ng-template",4),s.qZA()),2&we&&(s.xp6(1),s.Q6J("ngForOf",Fe.sliced)("ngForTrackBy",Fe.trackByEmployee),s.xp6(1),s.Q6J("ngIf",Fe.numberOfOverflowed>0),s.xp6(1),s.Udp("z-index","3500 !important"),s.Q6J("visible",Fe.isListShow))},dependencies:[g.sg,g.O5,H.aV,L.jx,I.A,U.x],styles:[".avatars[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;cursor:default;-webkit-user-select:none;user-select:none;padding:.1rem}.avatars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);margin-left:.2rem}.employees-overlay-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-radius:.5rem;background-color:#fff;padding:.7rem;height:max-content;width:-moz-fit-content;width:fit-content;box-shadow:0 .2px .7px #00000006,0 .6px 1.9px #00000009,0 1.5px 4.5px #0000000c,0 5px 15px #00000012}"]}),Te})()},7813:(Ht,et,_)=>{_.d(et,{x:()=>s});var e=_(5e3);let s=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(L){return new(L||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-circle-loading-indicator"]],decls:4,vars:0,consts:[[1,"loading-indicator"],[1,"circle","first"],[1,"circle","second"],[1,"circle","third"]],template:function(L,I){1&L&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"div",2)(3,"div",3),e.qZA())},styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.3rem;height:.8rem}.circle[_ngcontent-%COMP%]{width:auto;height:100%;aspect-ratio:1;border-radius:50%;background-color:#b2b9c230}.first[_ngcontent-%COMP%]{animation:1.2s pulse ease-in infinite}.second[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .4s infinite}.third[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .8s infinite}@keyframes pulse{0%{transform:scale(1);background-color:#b2b9c230}15%{transform:scale(.9);background-color:#b2b9c2}33%,to{transform:scale(1);background-color:#b2b9c230}}"]}),g})()},4881:(Ht,et,_)=>{_.d(et,{E:()=>at});var e=_(5e3),s=_(540),g=_(4488),H=_(8738),L=_(9808),I=_(5572),U=_(2382),le=_(1208),re=_(3640),K=_(1819),pe=_(1110),ue=_(1787),Oe=_(7728);const Te=["tagsPreview"];function ke(Se,$){if(1&Se){const B=e.EpF();e.TgZ(0,"p-checkbox",24),e.NdJ("click",function(Ue){return Ue.stopPropagation()})("ngModelChange",function(Ue){e.CHM(B);const fe=e.oxw();return e.KtG(fe.checkChange.emit(Ue))})("ngModelChange",function(Ue){e.CHM(B);const fe=e.oxw();return e.KtG(fe.check=Ue)}),e.qZA()}if(2&Se){const B=e.oxw();e.Q6J("ngModel",B.check)("name",B.checkGroup)("value",null==B.item?null:B.item.taskId)}}function we(Se,$){if(1&Se&&(e.TgZ(0,"span",3)(1,"span",4),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430"),e.qZA()(),e.TgZ(5,"span",27),e._uU(6),e.ALo(7,"titlecase"),e.ALo(8,"date"),e.qZA()()),2&Se){const B=e.oxw(2);e.xp6(6),e.Oqu(e.lcZ(7,1,e.xi3(8,3,null==B.item?null:B.item.actualFrom,"EEEE, dd MMMM yyyy HH:mm")))}}function Fe(Se,$){if(1&Se&&(e.TgZ(0,"span",3)(1,"span",4),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u0421\u0440\u043e\u043a"),e.qZA()(),e.TgZ(5,"span",27),e._uU(6),e.ALo(7,"titlecase"),e.ALo(8,"date"),e.qZA()()),2&Se){const B=e.oxw(2);e.xp6(6),e.Oqu(e.lcZ(7,1,e.xi3(8,3,null==B.item?null:B.item.actualTo,"EEEE, dd MMMM yyyy HH:mm")))}}function Y(Se,$){if(1&Se&&(e.ynx(0),e.YNc(1,we,9,6,"span",25),e.YNc(2,Fe,9,6,"span",25),e.BQk()),2&Se){const B=e.oxw();e.xp6(1),e.Q6J("ngIf",null==B.item?null:B.item.actualFrom),e.xp6(1),e.Q6J("ngIf",(null==B.item?null:B.item.actualTo)&&!(null!=B.item&&B.item.actualFrom))}}function Pe(Se,$){1&Se&&e.GkF(0)}function de(Se,$){if(1&Se&&e._UZ(0,"app-employee-label",28),2&Se){const B=e.oxw();e.Q6J("employee",null==B.item?null:B.item.responsible)}}const N=function(){return[]};function O(Se,$){if(1&Se&&e._UZ(0,"app-avatar-list",29),2&Se){const B=e.oxw();let j;e.Q6J("employees",null!==(j=null==B.actualWorkLog?null:B.actualWorkLog.employees)&&void 0!==j?j:e.DdM(2,N))("size",1.7)}}function ye(Se,$){if(1&Se&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Se){const B=e.oxw().$implicit;e.xp6(1),e.Oqu(null==B?null:B.textRepresentation)}}function Ce(Se,$){if(1&Se&&(e.ynx(0),e.YNc(1,ye,2,1,"span",9),e.BQk()),2&Se){const B=$.index,j=e.oxw(2);e.xp6(1),e.Q6J("ngIf",B<j.fieldCountArray.length)}}function ve(Se,$){if(1&Se&&(e.ynx(0),e.YNc(1,Ce,2,1,"ng-container",30),e.BQk()),2&Se){const B=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==B.item?null:B.item.listItemFields)("ngForTrackBy",B.trackByField)}}function V(Se,$){if(1&Se){const B=e.EpF();e.ynx(0),e.TgZ(1,"app-select-field-to-view-button",31),e.NdJ("selectView",function(Ue){e.CHM(B);const fe=e.oxw(2);return e.KtG(fe.selectFieldToView.emit(Ue))}),e.qZA(),e.BQk()}if(2&Se){const B=$.$implicit,j=e.oxw(2);e.xp6(1),e.Q6J("fields",j.wireframeFieldsList)("index",B)}}function w(Se,$){if(1&Se&&(e.ynx(0),e.YNc(1,V,2,2,"ng-container",30),e.BQk()),2&Se){const B=e.oxw();e.xp6(1),e.Q6J("ngForOf",B.fieldCountArray)("ngForTrackBy",B.trackByIndex)}}function F(Se,$){if(1&Se&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.qZA(),e.TgZ(3,"span",34),e._uU(4),e.qZA()()),2&Se){const B=e.oxw();e.xp6(2),e.hij(" ",null==B.item||null==B.item.lastComment||null==B.item.lastComment.creator?null:B.item.lastComment.creator.fullName,": "),e.xp6(2),e.hij(" ",null==B.item||null==B.item.lastComment?null:B.item.lastComment.simpleText," ")}}function q(Se,$){if(1&Se&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&Se){const B=$.$implicit;e.Udp("background-color",B.color),e.xp6(1),e.Oqu(B.name)}}function _e(Se,$){if(1&Se){const B=e.EpF();e.TgZ(0,"div",39),e.NdJ("mouseenter",function(Ue){e.CHM(B);const fe=e.oxw(2);return e.KtG(fe.tagsPreviewShow(Ue))})("mouseleave",function(){e.CHM(B);const Ue=e.oxw(2);return e.KtG(Ue.tagsPreviewHide())}),e._uU(1),e.qZA()}if(2&Se){const B=e.oxw(2);e.xp6(1),e.hij("",B.remainingNumberOfTags,"+ ")}}function De(Se,$){if(1&Se&&(e.TgZ(0,"div",35),e.YNc(1,q,2,3,"div",36),e.ALo(2,"slice"),e.YNc(3,_e,2,1,"div",37),e.qZA()),2&Se){const B=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,null==B.item?null:B.item.tags,0,2))("ngForTrackBy",B.trackByTag),e.xp6(2),e.Q6J("ngIf",B.isMoreTwoTags)}}function Le(Se,$){if(1&Se&&(e.TgZ(0,"div",40),e._uU(1),e.qZA()),2&Se){const B=$.$implicit;e.Udp("background-color",B.color),e.xp6(1),e.Oqu(B.name)}}const Me=function(Se,$,B){return{processing:Se,inlined:$,hovered:B}},ht=function(Se){return["/task",Se]};let at=(()=>{class Se{constructor(B,j){this.taskService=B,this.api=j,this.viewExample=!1,this.wireframeFieldsList=[],this.checkChange=new e.vpe,this.checkGroup="task",this.selectFieldToView=new e.vpe,this.isHover=!0,this.inlined=!1,this.onClick=new e.vpe,this.customClickHandler=!1,this.statusClass={},this.itemClass={}}get fieldCountArray(){var B,j;switch(null===(j=null===(B=this.item)||void 0===B?void 0:B.modelWireframe)||void 0===j?void 0:j.listViewType){case"SIMPLE":return[1];case"COMPOSITE":return[1,2];case"DETAILED":return[1,2,3];default:return[]}}get statusColor(){var B,j,Ue;return{active:(null===(B=this.item)||void 0===B?void 0:B.taskStatus)===s.hY.ACTIVE,processing:(null===(j=this.item)||void 0===j?void 0:j.taskStatus)===s.hY.PROCESSING,close:(null===(Ue=this.item)||void 0===Ue?void 0:Ue.taskStatus)===s.hY.CLOSE}}get isMoreTwoTags(){var B;return!(null===(B=this.item)||void 0===B||!B.tags)&&this.item.tags.length>2}get remainingNumberOfTags(){var B;return null!==(B=this.item)&&void 0!==B&&B.tags?this.item.tags.length-2:0}get bodyClass(){var B,j,Ue,fe,qe,je;return{simple:"SIMPLE"===(null===(j=null===(B=this.item)||void 0===B?void 0:B.modelWireframe)||void 0===j?void 0:j.listViewType),composite:"COMPOSITE"===(null===(fe=null===(Ue=this.item)||void 0===Ue?void 0:Ue.modelWireframe)||void 0===fe?void 0:fe.listViewType),detailed:"DETAILED"===(null===(je=null===(qe=this.item)||void 0===qe?void 0:qe.modelWireframe)||void 0===je?void 0:je.listViewType)}}trackByIndex(B,j){return B}trackByTag(B,j){return j.taskTagId+j.name+j.color}trackByField(B,j){return j?j.id+j.name+j.textRepresentation:""}ngOnInit(){var B;!(null===(B=this.item)||void 0===B)&&B.taskStatus&&(this.statusClass={active:this.item.taskStatus===s.hY.ACTIVE,processed:this.item.taskStatus===s.hY.PROCESSING,close:this.item.taskStatus===s.hY.CLOSE}),this.updateActualWorkLog(),this.itemClass=Object.assign({"view-example":this.viewExample,hovered:this.isHover,selected:this.check},this.statusClass)}tagsPreviewShow(B){var j;null===(j=this.tagsPreview)||void 0===j||j.show(B)}tagsPreviewHide(){setTimeout(()=>{var B;null===(B=this.tagsPreview)||void 0===B||B.hide()})}getFieldValue(B){return this.item&&null!=this.item.listItemFields[B]?this.item.listItemFields[B].textRepresentation:""}ngOnChanges(B){const{item:j}=B;j&&j.currentValue&&this.updateActualWorkLog()}updateActualWorkLog(){var B;(null===(B=this.item)||void 0===B?void 0:B.taskStatus)===s.hY.PROCESSING&&this.api.getActiveWorkLogByTaskId(this.item.taskId).subscribe({next:j=>{this.actualWorkLog=j}})}}return Se.\u0275fac=function(B){return new(B||Se)(e.Y36(g.U),e.Y36(H.s))},Se.\u0275cmp=e.Xpm({type:Se,selectors:[["app-task-list-element"]],viewQuery:function(B,j){if(1&B&&e.Gf(Te,5),2&B){let Ue;e.iGM(Ue=e.CRH())&&(j.tagsPreview=Ue.first)}},inputs:{item:"item",viewExample:"viewExample",wireframeFieldsList:"wireframeFieldsList",check:"check",checkGroup:"checkGroup",isHover:"isHover",inlined:"inlined",customClickHandler:"customClickHandler"},outputs:{checkChange:"checkChange",selectFieldToView:"selectFieldToView",onClick:"onClick"},features:[e.TTD],decls:40,vars:37,consts:[[1,"task-item",3,"ngClass","routerLink","click"],[1,"task-item-header"],[3,"ngModel","name","value","click","ngModelChange",4,"ngIf"],[1,"with-label"],[1,"label"],[1,"mdi-article"],[1,"value",3,"ngClass"],[1,"mdi-flag"],[1,"value","status-caption",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"stretched"],[3,"employee",4,"ngIf"],[3,"employees","size",4,"ngIf"],[1,"task-item-body",3,"ngClass"],["class","task-item-last-comment",4,"ngIf"],[1,"task-item-footer"],[1,"caption","size-tiny","wt-bold","f-color-500",3,"employee","inline"],[1,"caption","size-tiny","wt-bold","f-color-500"],["statusTags",""],["hideTransitionOptions","0ms","showTransitionOptions","0ms",3,"appendTo"],["tagsPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngModel","name","value","click","ngModelChange"],["class","with-label",4,"ngIf"],[1,"mdi-today"],[1,"value"],[3,"employee"],[3,"employees","size"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"fields","index","selectView"],[1,"task-item-last-comment"],[1,"autor"],[1,"comment"],[1,"tags-view"],["class","tags-view-item small",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item small",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-item","small"],[1,"tags-view-item","small",3,"mouseenter","mouseleave"],[1,"tags-view-item"]],template:function(B,j){if(1&B&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return j.onClick.emit(j.item)}),e.TgZ(1,"div",1),e.YNc(2,ke,1,3,"p-checkbox",2),e.TgZ(3,"span",3)(4,"span",4),e._UZ(5,"i",5),e.TgZ(6,"span"),e._uU(7,"\u0422\u0438\u043f"),e.qZA()(),e.TgZ(8,"span",6),e._uU(9),e.qZA()(),e.TgZ(10,"span",3)(11,"span",4),e._UZ(12,"i",7),e.TgZ(13,"span"),e._uU(14,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA()(),e.TgZ(15,"span",8),e._uU(16),e.ALo(17,"taskStatus"),e.qZA()(),e.YNc(18,Y,3,2,"ng-container",9),e.YNc(19,Pe,1,0,"ng-container",10),e._UZ(20,"div",11),e.YNc(21,de,1,1,"app-employee-label",12),e.YNc(22,O,1,3,"app-avatar-list",13),e.qZA(),e.TgZ(23,"div",14),e.YNc(24,ve,2,2,"ng-container",9),e.YNc(25,w,2,2,"ng-container",9),e.qZA(),e.YNc(26,F,5,2,"div",15),e.TgZ(27,"div",16),e._UZ(28,"app-employee-label",17),e.TgZ(29,"span",18),e._uU(30),e.ALo(31,"titlecase"),e.ALo(32,"date"),e.qZA()()(),e.YNc(33,De,4,7,"ng-template",null,19,e.W1O),e.TgZ(35,"p-overlayPanel",20,21)(37,"div",22),e.YNc(38,Le,2,3,"div",23),e.ALo(39,"slice"),e.qZA()()),2&B){const Ue=e.MAs(34);e.Q6J("ngClass",e.kEZ(31,Me,"PROCESSING"===(null==j.item?null:j.item.taskStatus),j.inlined,j.isHover))("routerLink",j.viewExample||j.customClickHandler?null:e.VKq(35,ht,null==j.item?null:j.item.taskId)),e.xp6(2),e.Q6J("ngIf",j.check),e.xp6(6),e.Q6J("ngClass",j.statusColor),e.xp6(1),e.Oqu(null==j.item||null==j.item.modelWireframe?null:j.item.modelWireframe.name),e.xp6(6),e.Q6J("ngClass",j.statusColor),e.xp6(1),e.Oqu(e.lcZ(17,21,j.item)),e.xp6(2),e.Q6J("ngIf",(null==j.item?null:j.item.actualFrom)||(null==j.item?null:j.item.actualTo)),e.xp6(1),e.Q6J("ngTemplateOutlet",Ue),e.xp6(2),e.Q6J("ngIf","PROCESSING"!==(null==j.item?null:j.item.taskStatus)),e.xp6(1),e.Q6J("ngIf","PROCESSING"===(null==j.item?null:j.item.taskStatus)&&(null==j.actualWorkLog?null:j.actualWorkLog.employees)),e.xp6(1),e.Q6J("ngClass",null==j.item||null==j.item.modelWireframe?null:j.item.modelWireframe.listViewType),e.xp6(1),e.Q6J("ngIf",!j.viewExample),e.xp6(1),e.Q6J("ngIf",j.viewExample),e.xp6(1),e.Q6J("ngIf",null==j.item?null:j.item.lastComment),e.xp6(2),e.Q6J("employee",null==j.item?null:j.item.creator)("inline",!0),e.xp6(2),e.hij(" ",e.lcZ(31,23,e.xi3(32,25,null==j.item?null:j.item.created,"EEEE, dd MMMM yyyy HH:mm"))," "),e.xp6(5),e.Q6J("appendTo","body"),e.xp6(3),e.Q6J("ngForOf",e.xi3(39,28,null==j.item?null:j.item.tags,2))("ngForTrackBy",j.trackByTag)}},dependencies:[L.mk,L.sg,L.O5,L.tP,I.rH,U.JJ,U.On,le.XZ,re.T,K.g,pe.x,ue.k,Oe.A,L.OU,L.rS,L.uU],styles:["[_nghost-%COMP%]{width:100%;display:block;text-align:initial}.task-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:1rem;gap:.5rem;transition:box-shadow .1s ease-in-out;cursor:pointer;background-color:#fff;outline-offset:-1px}.task-item[_ngcontent-%COMP%]:not(.inlined){border:1px solid var(--bgc-300);border-radius:var(--br-200)}.task-item.inlined[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-300)}.task-item.checking[_ngcontent-%COMP%]{grid:auto-flow/min-content 1fr}.task-item.hovered[_ngcontent-%COMP%]:not(.inlined):hover{box-shadow:0 0 .3rem var(--mc-200)}.task-item.hovered.inlined[_ngcontent-%COMP%]:hover{outline:1px solid var(--mc-200)}.task-item.processing[_ngcontent-%COMP%]{border:1px solid var(--warm-400)}.task-item-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.task-item-header[_ngcontent-%COMP%]   .status-caption[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.task-item-header[_ngcontent-%COMP%]   .status-caption.active[_ngcontent-%COMP%]{color:var(--mc-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.processing[_ngcontent-%COMP%]{color:var(--warm-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.close[_ngcontent-%COMP%]{color:var(--tc-400)}.task-item-body[_ngcontent-%COMP%]{row-gap:.3rem;column-gap:.8rem;font-size:.9rem;color:var(--tc-700);margin:0 1rem}.task-item-body.SIMPLE[_ngcontent-%COMP%]{display:flex}.task-item-body.COMPOSITE[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/1fr}.task-item-body.COMPOSITE[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}.task-item-body.DETAILED[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/fit-content(50%) 1fr}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child){display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3;grid-area:2/1/3/3}.task-item-last-comment[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:.4rem .8rem;gap:.5rem;font-size:.9rem;color:var(--tc-600);margin:0 1rem;border-radius:.8rem;background-color:var(--bgc-200)}.task-item-last-comment[_ngcontent-%COMP%] > .autor[_ngcontent-%COMP%]{color:var(--tc-500);white-space:nowrap}.task-item-last-comment[_ngcontent-%COMP%] > .comment[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:.5rem}.with-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;height:min-content;font-size:.9rem;font-weight:600;color:var(--tc-600)}.with-label[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2rem}.with-label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{margin-left:1.5rem;color:var(--tc-700)}"]}),Se})()},1819:(Ht,et,_)=>{_.d(et,{g:()=>U});var e=_(5e3),s=_(9808),g=_(1874);const H=["menu"];function L(le,re){if(1&le){const K=e.EpF();e.TgZ(0,"span",4),e.NdJ("click",function(ue){e.CHM(K);const Oe=e.oxw();return e.KtG(Oe.openContextMenu(ue))}),e._uU(1," \u0412\u044b\u0431\u0440\u0430\u0442\u044c\n"),e.qZA()}}function I(le,re){if(1&le){const K=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(ue){e.CHM(K);const Oe=e.oxw();return e.KtG(Oe.openContextMenu(ue))}),e._uU(1),e.qZA()}if(2&le){const K=e.oxw();e.Tol(K.classes+" highlight"),e.xp6(1),e.hij(" ",K.selectedField.label,"\n")}}let U=(()=>{class le{constructor(){this.selectView=new e.vpe}openContextMenu(K){this.fields=this.fields.map(pe=>(pe.command=()=>{this.selectedField=pe,pe.listViewIndex=this.index,console.log("\u041f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e:",pe.id,this.index),this.selectView.emit({id:pe.id,index:this.index})},pe)),this.selectingField(),this.menu.toggle(K)}ngOnInit(){this.selectingField()}ngAfterViewInit(){}selectingField(){var K;null===(K=this.fields)||void 0===K||K.forEach(pe=>{pe.listViewIndex&&pe.listViewIndex===this.index&&(this.selectedField=pe)})}}return le.\u0275fac=function(K){return new(K||le)},le.\u0275cmp=e.Xpm({type:le,selectors:[["app-select-field-to-view-button"]],viewQuery:function(K,pe){if(1&K&&e.Gf(H,5),2&K){let ue;e.iGM(ue=e.CRH())&&(pe.menu=ue.first)}},inputs:{classes:"classes",index:"index",fields:"fields"},outputs:{selectView:"selectView"},decls:4,vars:4,consts:[["class","caption highlight",3,"click",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"model","popup"],["menu",""],[1,"caption","highlight",3,"click"],[3,"click"]],template:function(K,pe){1&K&&(e.YNc(0,L,2,0,"span",0),e.YNc(1,I,2,3,"span",1),e._UZ(2,"p-menu",2,3)),2&K&&(e.Q6J("ngIf",!pe.selectedField),e.xp6(1),e.Q6J("ngIf",pe.selectedField),e.xp6(1),e.Q6J("model",pe.fields)("popup",!0))},dependencies:[s.O5,g.v2],styles:[".highlight[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease-out}.highlight[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"]}),le})()},1886:(Ht,et,_)=>{_.d(et,{k:()=>s});var e=_(5e3);let s=(()=>{class g{constructor(){}letterChange(L){!L.ctrlKey&&this.patternRx&&!new RegExp(this.patternRx).test(L.target.value+L.key)&&!["Enter","Space","Tab","Backspace"].some(le=>le===L.key)&&L.preventDefault()}}return g.\u0275fac=function(L){return new(L||g)},g.\u0275dir=e.lG2({type:g,selectors:[["","appRegexPatternChecker",""]],hostBindings:function(L,I){1&L&&e.NdJ("keydown",function(le){return I.letterChange(le)})},inputs:{patternRx:"patternRx"}}),g})()},2716:(Ht,et,_)=>{_.d(et,{J:()=>I});var e=_(2777),s=_(1110),g=_(7805),H=_(7092),L=_(5e3);let I=(()=>{class U{constructor(re,K,pe){this.element=re,this.viewContainerRef=K,this.componentFactoryResolver=pe,this.arrayOfSubstitutions=[],this.loaded=!1}set value(re){!this.loaded||(this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents())}ngAfterViewInit(){this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents(),this.loaded=!0}ngOnInit(){}findTagsAndReplaceToPlaceholders(){const re=this.element.nativeElement;re.innerHTML=re.innerHTML.replaceAll(/\B#(\d+)/g,(Te,ke)=>(this.arrayOfSubstitutions.push({data:parseInt(ke),type:"task"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),re.innerHTML=re.innerHTML.replaceAll(/\B@([A-z\d.\-_]+)/g,(Te,ke)=>(this.arrayOfSubstitutions.push({data:ke,type:"employee"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),re.innerHTML=re.innerHTML.replaceAll(/\B\$(\d+)/g,(Te,ke)=>(this.arrayOfSubstitutions.push({data:parseInt(ke),type:"department"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),re.innerHTML=re.innerHTML.replaceAll(/\B\^\((\d+)\)/g,(Te,ke)=>(this.arrayOfSubstitutions.push({data:parseInt(ke),type:"appointedInstallers"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`))}replacePlaceholdersToComponents(){this.arrayOfSubstitutions.forEach((re,K)=>{const ue=this.element.nativeElement.querySelector(`#replace${K}`);switch(re.type){case"task":ue.replaceWith(e.U.createElement(parseInt(re.data)));break;case"employee":ue.replaceWith(s.x.createElement(re.data,!0));break;case"department":ue.replaceWith(g.y.createElement(re.data,!0));break;case"appointedInstallers":ue.replaceWith(H._.createElement(re.data))}})}}return U.\u0275fac=function(re){return new(re||U)(L.Y36(L.SBq),L.Y36(L.s_b),L.Y36(L._Vd))},U.\u0275dir=L.lG2({type:U,selectors:[["","appTextRevival",""]],inputs:{value:"value"}}),U})()},2059:(Ht,et,_)=>{_.d(et,{W:()=>L});var e=_(383),s=_(4968),g=_(7445),H=_(5e3);let L=(()=>{class I{constructor(le){this.elementRef=le,this.subscriptions=new e.xf,this.measureElement=document.createElement("div")}ngAfterViewInit(){const le=this.elementRef.nativeElement;document.body.append(this.measureElement),le.style.boxSizing="border-box";const re=window.getComputedStyle(le);this.measureElement.style.fontSize=re.fontSize,this.measureElement.style.fontFamily=re.fontFamily,this.measureElement.style.fontWeight=re.fontWeight,this.measureElement.style.fontStyle=re.fontStyle,this.measureElement.style.padding=re.padding,this.measureElement.style.lineHeight=re.lineHeight,this.measureElement.style.letterSpacing=re.letterSpacing,this.measureElement.style.border=re.border,this.measureElement.style.minHeight=parseFloat(re.fontSize)+5+"px",this.measureElement.style.whiteSpace="pre-wrap",this.measureElement.style.boxSizing="border-box",this.measureElement.style.visibility="hidden",this.measureElement.style.position="fixed",this.measureElement.style.top="0",this.measureElement.style.left="0",this.measureElement.style.overflow="hidden",this.measureElement.style.width=le.offsetWidth+"px",this.measureElement.style.height="auto",this.measureElement.style.overflowWrap="break-word";const K=(0,s.R)(le,"input"),pe=(0,g.F)(300),ue=(0,s.R)(window,"resize"),Oe=K.subscribe(this.resize.bind(this)),Te=pe.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("input",Oe),this.subscriptions.addSubscription("interval",Te);const ke=ue.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("winResize",ke),this.resize()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}resize(){const le=this.elementRef.nativeElement,re=le.value;this.measureElement.style.width=le.offsetWidth+"px",this.measureElement.innerText=re;let K=0;"\n"===re[re.length-1]&&(K=parseFloat(window.getComputedStyle(le).fontSize)+5,console.log(K)),this.measureElement.style.boxSizing=0===le.value.length?"content-box":"border-box",le.style.height=this.measureElement.offsetHeight+K+"px"}}return I.\u0275fac=function(le){return new(le||I)(H.Y36(H.SBq))},I.\u0275dir=H.lG2({type:I,selectors:[["","appTextareaAutoresize",""]]}),I})()},6641:(Ht,et,_)=>{_.d(et,{U:()=>Bl});var e=_(9808),s=_(5e3),g=_(8028),H=_(5572),L=_(8738),I=_(9744),U=_(1874),le=_(845),re=_(5315),K=_(85),pe=_(655),ue=_(2313);const Oe=["wrapper"],Te=["sourceImage"];function ke(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"img",4,5),s.NdJ("load",function(){s.CHM(f);const W=s.oxw();return s.KtG(W.imageLoadedInView())})("mousedown",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.startMove(W,be.moveTypes.Drag))})("touchstart",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.startMove(W,be.moveTypes.Drag))}),s.qZA()}if(2&P){const f=s.oxw();s.Udp("visibility",f.imageVisible?"visible":"hidden")("transform",f.safeTransformStyle),s.ekj("ngx-ic-draggable",!f.disabled&&f.allowMoveImage),s.Q6J("src",f.safeImgDataUrl,s.LSH),s.uIk("alt",f.imageAltText)}}function we(P,Ge){if(1&P){const f=s.EpF();s.ynx(0),s.TgZ(1,"span",9),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"topleft"))})("touchstart",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"topleft"))}),s._UZ(2,"span",10),s.qZA(),s.TgZ(3,"span",11),s._UZ(4,"span",10),s.qZA(),s.TgZ(5,"span",12),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"topright"))})("touchstart",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"topright"))}),s._UZ(6,"span",10),s.qZA(),s.TgZ(7,"span",13),s._UZ(8,"span",10),s.qZA(),s.TgZ(9,"span",14),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"bottomright"))})("touchstart",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"bottomright"))}),s._UZ(10,"span",10),s.qZA(),s.TgZ(11,"span",15),s._UZ(12,"span",10),s.qZA(),s.TgZ(13,"span",16),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"bottomleft"))})("touchstart",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"bottomleft"))}),s._UZ(14,"span",10),s.qZA(),s.TgZ(15,"span",17),s._UZ(16,"span",10),s.qZA(),s.TgZ(17,"span",18),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"top"))})("touchstart",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"top"))}),s.qZA(),s.TgZ(18,"span",19),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"right"))})("touchstart",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"right"))}),s.qZA(),s.TgZ(19,"span",20),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"bottom"))})("touchstart",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"bottom"))}),s.qZA(),s.TgZ(20,"span",21),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"left"))})("touchstart",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.startMove(W,be.moveTypes.Resize,"left"))}),s.qZA(),s.BQk()}}function Fe(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",6),s.NdJ("keydown",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.keyboardAccess(W))}),s.TgZ(1,"div",7),s.NdJ("mousedown",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.startMove(W,be.moveTypes.Move))})("touchstart",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.startMove(W,be.moveTypes.Move))}),s.qZA(),s.YNc(2,we,21,0,"ng-container",8),s.qZA()}if(2&P){const f=s.oxw();s.Udp("top",f.cropper.y1,"px")("left",f.cropper.x1,"px")("width",f.cropper.x2-f.cropper.x1,"px")("height",f.cropper.y2-f.cropper.y1,"px")("margin-left","center"===f.alignImage?f.marginLeft:null)("visibility",f.imageVisible?"visible":"hidden"),s.ekj("ngx-ic-round",f.roundCropper),s.xp6(2),s.Q6J("ngIf",!f.hideResizeSquares)}}class Y{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(Ge){Object.keys(Ge).filter(f=>f in this).forEach(f=>this[f]=Ge[f]),this.validateOptions()}setOptionsFromChanges(Ge){Object.keys(Ge).filter(f=>f in this).forEach(f=>this[f]=Ge[f].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var Pe=(()=>{return(P=Pe||(Pe={})).Drag="drag",P.Move="move",P.Resize="resize",P.Pinch="pinch",Pe;var P})();function Ce(P,Ge){return P/100*Ge}let ve=(()=>{class P{crop(f,v,W,be){const pt=this.getImagePosition(f,v,W,be),Zt=pt.x2-pt.x1,Sn=pt.y2-pt.y1,ui=document.createElement("canvas");ui.width=Zt,ui.height=Sn;const Oi=ui.getContext("2d");if(!Oi)return null;null!=be.backgroundColor&&(Oi.fillStyle=be.backgroundColor,Oi.fillRect(0,0,Zt,Sn));const so=(be.transform.scale||1)*(be.transform.flipH?-1:1),ka=(be.transform.scale||1)*(be.transform.flipV?-1:1),{translateH:Ua,translateV:Ma}=this.getCanvasTranslate(f,v,be),Tr=v.transformed;Oi.setTransform(so,0,0,ka,Tr.size.width/2+Ua,Tr.size.height/2+Ma),Oi.translate(-pt.x1/so,-pt.y1/ka),Oi.rotate((be.transform.rotate||0)*Math.PI/180),Oi.drawImage(Tr.image,-Tr.size.width/2,-Tr.size.height/2);const Ws={width:Zt,height:Sn,imagePosition:pt,cropperPosition:Object.assign({},W)};be.containWithinAspectRatio&&(Ws.offsetImagePosition=this.getOffsetImagePosition(f,v,W,be));const Hl=this.getResizeRatio(Zt,Sn,be);return 1!==Hl&&(Ws.width=Math.round(Zt*Hl),Ws.height=be.maintainAspectRatio?Math.round(Ws.width/be.aspectRatio):Math.round(Sn*Hl),function ye(P,Ge,f){const v=P.width,W=P.height,be=v/(Ge=Math.round(Ge)),pt=W/(f=Math.round(f)),Zt=Math.ceil(be/2),Sn=Math.ceil(pt/2),ui=P.getContext("2d");if(ui){const Oi=ui.getImageData(0,0,v,W),so=ui.createImageData(Ge,f),ka=Oi.data,Ua=so.data;for(let Ma=0;Ma<f;Ma++)for(let Tr=0;Tr<Ge;Tr++){const Ws=4*(Tr+Ma*Ge),Hl=Ma*pt;let ra=0,za=0,Nu=0,gp=0,Fu=0,tf=0,Bu=0;const f0=Math.floor(Tr*be),nf=Math.floor(Ma*pt);let Hu=Math.ceil((Tr+1)*be),nl=Math.ceil((Ma+1)*pt);Hu=Math.min(Hu,v),nl=Math.min(nl,W);for(let Vu=nf;Vu<nl;Vu++){const sf=Math.abs(Hl-Vu)/Sn,Zu=Tr*be,m0=sf*sf;for(let Uu=f0;Uu<Hu;Uu++){const rf=Math.abs(Zu-Uu)/Zt,Vl=Math.sqrt(m0+rf*rf);if(Vl>=1)continue;ra=2*Vl*Vl*Vl-3*Vl*Vl+1;const Zl=4*(Uu+Vu*v);Bu+=ra*ka[Zl+3],Nu+=ra,ka[Zl+3]<255&&(ra=ra*ka[Zl+3]/250),gp+=ra*ka[Zl],Fu+=ra*ka[Zl+1],tf+=ra*ka[Zl+2],za+=ra}}Ua[Ws]=gp/za,Ua[Ws+1]=Fu/za,Ua[Ws+2]=tf/za,Ua[Ws+3]=Bu/Nu}P.width=Ge,P.height=f,ui.putImageData(so,0,0)}}(ui,Ws.width,Ws.height)),Ws.base64=ui.toDataURL("image/"+be.format,this.getQuality(be)),Ws}getCanvasTranslate(f,v,W){if("px"===W.transform.translateUnit){const be=this.getRatio(f,v);return{translateH:(W.transform.translateH||0)*be,translateV:(W.transform.translateV||0)*be}}return{translateH:W.transform.translateH?Ce(W.transform.translateH,v.transformed.size.width):0,translateV:W.transform.translateV?Ce(W.transform.translateV,v.transformed.size.height):0}}getRatio(f,v){return v.transformed.size.width/f.nativeElement.offsetWidth}getImagePosition(f,v,W,be){const pt=this.getRatio(f,v),Zt={x1:Math.round(W.x1*pt),y1:Math.round(W.y1*pt),x2:Math.round(W.x2*pt),y2:Math.round(W.y2*pt)};return be.containWithinAspectRatio||(Zt.x1=Math.max(Zt.x1,0),Zt.y1=Math.max(Zt.y1,0),Zt.x2=Math.min(Zt.x2,v.transformed.size.width),Zt.y2=Math.min(Zt.y2,v.transformed.size.height)),Zt}getOffsetImagePosition(f,v,W,be){const Sn=v.transformed.size.width/f.nativeElement.offsetWidth;let ui,Oi;(be.canvasRotation+v.exifTransform.rotate)%2?(ui=(v.transformed.size.width-v.original.size.height)/2,Oi=(v.transformed.size.height-v.original.size.width)/2):(ui=(v.transformed.size.width-v.original.size.width)/2,Oi=(v.transformed.size.height-v.original.size.height)/2);const so={x1:Math.round(W.x1*Sn)-ui,y1:Math.round(W.y1*Sn)-Oi,x2:Math.round(W.x2*Sn)-ui,y2:Math.round(W.y2*Sn)-Oi};return be.containWithinAspectRatio||(so.x1=Math.max(so.x1,0),so.y1=Math.max(so.y1,0),so.x2=Math.min(so.x2,v.transformed.size.width),so.y2=Math.min(so.y2,v.transformed.size.height)),so}getResizeRatio(f,v,W){const be=W.resizeToWidth/f,pt=W.resizeToHeight/v,Zt=new Array;W.resizeToWidth>0&&Zt.push(be),W.resizeToHeight>0&&Zt.push(pt);const Sn=0===Zt.length?1:Math.min(...Zt);return Sn>1&&!W.onlyScaleDown?Sn:Math.min(Sn,1)}getQuality(f){return Math.min(1,Math.max(0,f.imageQuality/100))}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275prov=s.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),V=(()=>{class P{resetCropperPosition(f,v,W){if(null==f||!f.nativeElement)return;const be=f.nativeElement;if(W.cropperStaticHeight&&W.cropperStaticWidth)v.x1=0,v.x2=be.offsetWidth>W.cropperStaticWidth?W.cropperStaticWidth:be.offsetWidth,v.y1=0,v.y2=be.offsetHeight>W.cropperStaticHeight?W.cropperStaticHeight:be.offsetHeight;else{const pt=Math.min(W.cropperScaledMaxWidth,be.offsetWidth),Zt=Math.min(W.cropperScaledMaxHeight,be.offsetHeight);if(W.maintainAspectRatio)if(be.offsetWidth/W.aspectRatio<be.offsetHeight){v.x1=0,v.x2=pt;const Sn=pt/W.aspectRatio;v.y1=(be.offsetHeight-Sn)/2,v.y2=v.y1+Sn}else{v.y1=0,v.y2=Zt;const Sn=Zt*W.aspectRatio;v.x1=(be.offsetWidth-Sn)/2,v.x2=v.x1+Sn}else v.x1=0,v.x2=pt,v.y1=0,v.y2=Zt}}move(f,v,W){const be=this.getClientX(f)-v.clientX,pt=this.getClientY(f)-v.clientY;W.x1=v.x1+be,W.y1=v.y1+pt,W.x2=v.x2+be,W.y2=v.y2+pt}resize(f,v,W,be,pt){const Zt=this.getClientX(f)-v.clientX,Sn=this.getClientY(f)-v.clientY;switch(v.position){case"left":W.x1=Math.min(Math.max(v.x1+Zt,W.x2-pt.cropperScaledMaxWidth),W.x2-pt.cropperScaledMinWidth);break;case"topleft":W.x1=Math.min(Math.max(v.x1+Zt,W.x2-pt.cropperScaledMaxWidth),W.x2-pt.cropperScaledMinWidth),W.y1=Math.min(Math.max(v.y1+Sn,W.y2-pt.cropperScaledMaxHeight),W.y2-pt.cropperScaledMinHeight);break;case"top":W.y1=Math.min(Math.max(v.y1+Sn,W.y2-pt.cropperScaledMaxHeight),W.y2-pt.cropperScaledMinHeight);break;case"topright":W.x2=Math.max(Math.min(v.x2+Zt,W.x1+pt.cropperScaledMaxWidth),W.x1+pt.cropperScaledMinWidth),W.y1=Math.min(Math.max(v.y1+Sn,W.y2-pt.cropperScaledMaxHeight),W.y2-pt.cropperScaledMinHeight);break;case"right":W.x2=Math.max(Math.min(v.x2+Zt,W.x1+pt.cropperScaledMaxWidth),W.x1+pt.cropperScaledMinWidth);break;case"bottomright":W.x2=Math.max(Math.min(v.x2+Zt,W.x1+pt.cropperScaledMaxWidth),W.x1+pt.cropperScaledMinWidth),W.y2=Math.max(Math.min(v.y2+Sn,W.y1+pt.cropperScaledMaxHeight),W.y1+pt.cropperScaledMinHeight);break;case"bottom":W.y2=Math.max(Math.min(v.y2+Sn,W.y1+pt.cropperScaledMaxHeight),W.y1+pt.cropperScaledMinHeight);break;case"bottomleft":W.x1=Math.min(Math.max(v.x1+Zt,W.x2-pt.cropperScaledMaxWidth),W.x2-pt.cropperScaledMinWidth),W.y2=Math.max(Math.min(v.y2+Sn,W.y1+pt.cropperScaledMaxHeight),W.y1+pt.cropperScaledMinHeight);break;case"center":const ui=f.scale,Oi=Math.min(Math.max(pt.cropperScaledMinWidth,Math.abs(v.x2-v.x1)*ui),pt.cropperScaledMaxWidth),so=Math.min(Math.max(pt.cropperScaledMinHeight,Math.abs(v.y2-v.y1)*ui),pt.cropperScaledMaxHeight);W.x1=v.clientX-Oi/2,W.x2=v.clientX+Oi/2,W.y1=v.clientY-so/2,W.y2=v.clientY+so/2,W.x1<0?(W.x2-=W.x1,W.x1=0):W.x2>be.width&&(W.x1-=W.x2-be.width,W.x2=be.width),W.y1<0?(W.y2-=W.y1,W.y1=0):W.y2>be.height&&(W.y1-=W.y2-be.height,W.y2=be.height)}pt.maintainAspectRatio&&this.checkAspectRatio(v.position,W,be,pt)}checkAspectRatio(f,v,W,be){let pt=0,Zt=0;switch(f){case"top":v.x2=v.x1+(v.y2-v.y1)*be.aspectRatio,pt=Math.max(v.x2-W.width,0),Zt=Math.max(0-v.y1,0),(pt>0||Zt>0)&&(v.x2-=Zt*be.aspectRatio>pt?Zt*be.aspectRatio:pt,v.y1+=Zt*be.aspectRatio>pt?Zt:pt/be.aspectRatio);break;case"bottom":v.x2=v.x1+(v.y2-v.y1)*be.aspectRatio,pt=Math.max(v.x2-W.width,0),Zt=Math.max(v.y2-W.height,0),(pt>0||Zt>0)&&(v.x2-=Zt*be.aspectRatio>pt?Zt*be.aspectRatio:pt,v.y2-=Zt*be.aspectRatio>pt?Zt:pt/be.aspectRatio);break;case"topleft":v.y1=v.y2-(v.x2-v.x1)/be.aspectRatio,pt=Math.max(0-v.x1,0),Zt=Math.max(0-v.y1,0),(pt>0||Zt>0)&&(v.x1+=Zt*be.aspectRatio>pt?Zt*be.aspectRatio:pt,v.y1+=Zt*be.aspectRatio>pt?Zt:pt/be.aspectRatio);break;case"topright":v.y1=v.y2-(v.x2-v.x1)/be.aspectRatio,pt=Math.max(v.x2-W.width,0),Zt=Math.max(0-v.y1,0),(pt>0||Zt>0)&&(v.x2-=Zt*be.aspectRatio>pt?Zt*be.aspectRatio:pt,v.y1+=Zt*be.aspectRatio>pt?Zt:pt/be.aspectRatio);break;case"right":case"bottomright":v.y2=v.y1+(v.x2-v.x1)/be.aspectRatio,pt=Math.max(v.x2-W.width,0),Zt=Math.max(v.y2-W.height,0),(pt>0||Zt>0)&&(v.x2-=Zt*be.aspectRatio>pt?Zt*be.aspectRatio:pt,v.y2-=Zt*be.aspectRatio>pt?Zt:pt/be.aspectRatio);break;case"left":case"bottomleft":v.y2=v.y1+(v.x2-v.x1)/be.aspectRatio,pt=Math.max(0-v.x1,0),Zt=Math.max(v.y2-W.height,0),(pt>0||Zt>0)&&(v.x1+=Zt*be.aspectRatio>pt?Zt*be.aspectRatio:pt,v.y2-=Zt*be.aspectRatio>pt?Zt:pt/be.aspectRatio);break;case"center":v.x2=v.x1+(v.y2-v.y1)*be.aspectRatio,v.y2=v.y1+(v.x2-v.x1)/be.aspectRatio;const Sn=Math.max(0-v.x1,0),ui=Math.max(v.x2-W.width,0),Oi=Math.max(v.y2-W.height,0),so=Math.max(0-v.y1,0);(Sn>0||ui>0||Oi>0||so>0)&&(v.x1+=Oi*be.aspectRatio>Sn?Oi*be.aspectRatio:Sn,v.x2-=so*be.aspectRatio>ui?so*be.aspectRatio:ui,v.y1+=so*be.aspectRatio>ui?so:ui/be.aspectRatio,v.y2-=Oi*be.aspectRatio>Sn?Oi:Sn/be.aspectRatio)}}getClientX(f){var v;return(null===(v=f.touches)||void 0===v?void 0:v[0].clientX)||f.clientX||0}getClientY(f){var v;return(null===(v=f.touches)||void 0===v?void 0:v[0].clientY)||f.clientY||0}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275prov=s.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();let Le=(()=>{class P{constructor(){this.autoRotateSupported=function F(){return new Promise(P=>{const Ge=new Image;Ge.onload=()=>{P(1===Ge.width&&2===Ge.height)},Ge.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(f,v){return new Promise((W,be)=>{const pt=new FileReader;pt.onload=Zt=>{this.loadImage(Zt.target.result,f.type,v).then(W).catch(be)},pt.readAsDataURL(f)})}loadImage(f,v,W){return this.isValidImageType(v)?this.loadBase64Image(f,W):Promise.reject(new Error("Invalid image type"))}isValidImageType(f){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(f)}loadImageFromURL(f,v){return new Promise((W,be)=>{const pt=new Image;pt.onerror=()=>be,pt.onload=()=>{const Zt=document.createElement("canvas"),Sn=Zt.getContext("2d");Zt.width=pt.width,Zt.height=pt.height,null==Sn||Sn.drawImage(pt,0,0),this.loadBase64Image(Zt.toDataURL(),v).then(W)},pt.crossOrigin="anonymous",pt.src=f})}loadBase64Image(f,v){return new Promise((W,be)=>{const pt=new Image;pt.onload=()=>W({originalImage:pt,originalBase64:f}),pt.onerror=be,pt.src=f}).then(W=>this.transformImageBase64(W,v))}transformImageBase64(f,v){return(0,pe.mG)(this,void 0,void 0,function*(){const W=yield this.autoRotateSupported,be=yield function q(P){switch("string"==typeof P&&(P=function _e(P){const Ge=new DataView(function De(P){P=P.replace(/^data\:([^\;]+)\;base64,/gim,"");const Ge=atob(P),f=Ge.length,v=new Uint8Array(f);for(let W=0;W<f;W++)v[W]=Ge.charCodeAt(W);return v.buffer}(P));if(65496!==Ge.getUint16(0,!1))return-2;const f=Ge.byteLength;let v=2;for(;v<f;){if(Ge.getUint16(v+2,!1)<=8)return-1;const W=Ge.getUint16(v,!1);if(v+=2,65505==W){if(1165519206!==Ge.getUint32(v+=2,!1))return-1;const be=18761==Ge.getUint16(v+=6,!1);v+=Ge.getUint32(v+4,be);const pt=Ge.getUint16(v,be);v+=2;for(let Zt=0;Zt<pt;Zt++)if(274==Ge.getUint16(v+12*Zt,be))return Ge.getUint16(v+12*Zt+8,be)}else{if(65280!=(65280&W))break;v+=Ge.getUint16(v,!1)}}return-1}(P)),P){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(W?-1:f.originalBase64);return f.originalImage&&f.originalImage.complete?this.transformLoadedImage({original:{base64:f.originalBase64,image:f.originalImage,size:{width:f.originalImage.naturalWidth,height:f.originalImage.naturalHeight}},exifTransform:be},v):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(f,v){return(0,pe.mG)(this,void 0,void 0,function*(){const W=v.canvasRotation+f.exifTransform.rotate,be={width:f.original.image.naturalWidth,height:f.original.image.naturalHeight};if(0===W&&!f.exifTransform.flip&&!v.containWithinAspectRatio)return{original:{base64:f.original.base64,image:f.original.image,size:Object.assign({},be)},transformed:{base64:f.original.base64,image:f.original.image,size:Object.assign({},be)},exifTransform:f.exifTransform};const pt=this.getTransformedSize(be,f.exifTransform,v),Zt=document.createElement("canvas");Zt.width=pt.width,Zt.height=pt.height;const Sn=Zt.getContext("2d");null==Sn||Sn.setTransform(f.exifTransform.flip?-1:1,0,0,1,Zt.width/2,Zt.height/2),null==Sn||Sn.rotate(Math.PI*(W/2)),null==Sn||Sn.drawImage(f.original.image,-be.width/2,-be.height/2);const ui=Zt.toDataURL(),Oi=yield this.loadImageFromBase64(ui);return{original:{base64:f.original.base64,image:f.original.image,size:Object.assign({},be)},transformed:{base64:ui,image:Oi,size:{width:Oi.width,height:Oi.height}},exifTransform:f.exifTransform}})}loadImageFromBase64(f){return new Promise((v,W)=>{const be=new Image;be.onload=()=>v(be),be.onerror=W,be.src=f})}getTransformedSize(f,v,W){const be=W.canvasRotation+v.rotate;if(W.containWithinAspectRatio){if(be%2){const Zt=f.height/W.aspectRatio;return{width:Math.max(f.height,f.width*W.aspectRatio),height:Math.max(f.width,Zt)}}{const Zt=f.width/W.aspectRatio;return{width:Math.max(f.width,f.height*W.aspectRatio),height:Math.max(f.height,Zt)}}}return be%2?{height:f.width,width:f.height}:{width:f.width,height:f.height}}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275prov=s.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Me=(()=>{class P{constructor(f,v,W,be,pt){this.cropService=f,this.cropperPositionService=v,this.loadImageService=W,this.sanitizer=be,this.cd=pt,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new Y,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Pe,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new s.vpe,this.startCropImage=new s.vpe,this.imageLoaded=new s.vpe,this.cropperReady=new s.vpe,this.loadImageFailed=new s.vpe,this.transformChange=new s.vpe,this.reset()}ngOnChanges(f){var v;this.onChangesUpdateSettings(f),this.onChangesInputImage(f),(null===(v=this.loadedImage)||void 0===v?void 0:v.original.image.complete)&&(f.containWithinAspectRatio||f.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(W=>this.setLoadedImage(W)).catch(W=>this.loadImageError(W)),(f.cropper||f.maintainAspectRatio||f.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!f.maintainAspectRatio&&!f.aspectRatio?f.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),f.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),f.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(f){this.settings.setOptionsFromChanges(f),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(f){(f.imageChangedEvent||f.imageURL||f.imageBase64||f.imageFile)&&this.reset(),f.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),f.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),f.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),f.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var f,v,W;return(null===(W=null===(v=null===(f=this.imageChangedEvent)||void 0===f?void 0:f.target)||void 0===v?void 0:v.files)||void 0===W?void 0:W.length)>0}setCssTransform(){var f;const v=(null===(f=this.transform)||void 0===f?void 0:f.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${v}, ${this.transform.translateV||0}${v}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(f){this.loadImageService.loadImageFile(f,this.settings).then(v=>this.setLoadedImage(v)).catch(v=>this.loadImageError(v))}loadBase64Image(f){this.loadImageService.loadBase64Image(f,this.settings).then(v=>this.setLoadedImage(v)).catch(v=>this.loadImageError(v))}loadImageFromURL(f){this.loadImageService.loadImageFromURL(f,this.settings).then(v=>this.setLoadedImage(v)).catch(v=>this.loadImageError(v))}setLoadedImage(f){this.loadedImage=f,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(f.transformed.base64),this.cd.markForCheck()}loadImageError(f){console.error(f),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var f,v;return(null===(v=null===(f=this.sourceImage)||void 0===f?void 0:f.nativeElement)||void 0===v?void 0:v.offsetWidth)>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const f=new this.Hammer(this.wrapper.nativeElement);f.get("pinch").set({enable:!0}),f.on("pinchmove",this.onPinch.bind(this)),f.on("pinchend",this.pinchStop.bind(this)),f.on("pinchstart",this.startPinch.bind(this))}else(0,s.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const f=this.sourceImage.nativeElement;(this.maxSize.width!==f.offsetWidth||this.maxSize.height!==f.offsetHeight)&&(this.cropper.x1=this.cropper.x1*f.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*f.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*f.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*f.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(f){this.changeKeyboardStepSize(f),this.keyboardMoveCropper(f)}changeKeyboardStepSize(f){const v=+f.key;v>=1&&v<=9&&(this.settings.stepSize=v)}keyboardMoveCropper(f){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(f.key))return;const W=f.shiftKey?Pe.Resize:Pe.Move,be=f.altKey?function N(P){switch(P){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(f.key):function de(P){switch(P){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(f.key),pt=function O(P,Ge){switch(P){case"ArrowUp":return{clientX:0,clientY:-1*Ge};case"ArrowRight":return{clientX:Ge,clientY:0};case"ArrowDown":return{clientX:0,clientY:Ge};default:return{clientX:-1*Ge,clientY:0}}}(f.key,this.settings.stepSize);f.preventDefault(),f.stopPropagation(),this.startMove({clientX:0,clientY:0},W,be),this.moveImg(pt),this.moveStop()}startMove(f,v,W=null){var be,pt;this.disabled||(null===(be=this.moveStart)||void 0===be?void 0:be.active)&&(null===(pt=this.moveStart)||void 0===pt?void 0:pt.type)===Pe.Pinch||v===Pe.Drag&&!this.allowMoveImage||(f.preventDefault&&f.preventDefault(),this.moveStart=Object.assign({active:!0,type:v,position:W,transform:Object.assign({},this.transform),clientX:this.cropperPositionService.getClientX(f),clientY:this.cropperPositionService.getClientY(f)},this.cropper))}startPinch(f){!this.safeImgDataUrl||(f.preventDefault&&f.preventDefault(),this.moveStart=Object.assign({active:!0,type:Pe.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(f){var v,W;if(this.moveStart.active){if(f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault(),this.moveStart.type===Pe.Move)this.cropperPositionService.move(f,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Pe.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(f,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Pe.Drag){const be=this.cropperPositionService.getClientX(f)-this.moveStart.clientX,pt=this.cropperPositionService.getClientY(f)-this.moveStart.clientY;this.transform=Object.assign(Object.assign({},this.transform),{translateH:((null===(v=this.moveStart.transform)||void 0===v?void 0:v.translateH)||0)+be,translateV:((null===(W=this.moveStart.transform)||void 0===W?void 0:W.translateV)||0)+pt}),this.setCssTransform()}this.cd.detectChanges()}}onPinch(f){this.moveStart.active&&(f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault(),this.moveStart.type===Pe.Pinch&&(this.cropperPositionService.resize(f,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const f=this.sourceImage.nativeElement;this.maxSize.width=f.offsetWidth,this.maxSize.height=f.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var f,v;null!==(v=null===(f=this.loadedImage)||void 0===f?void 0:f.transformed)&&void 0!==v&&v.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var f,v;if(null!==(v=null===(f=this.loadedImage)||void 0===f?void 0:f.transformed)&&void 0!==v&&v.image){const W=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/W:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/W:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(f=!1){this.cropper.x1<0&&(this.cropper.x2-=f?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=f?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=f?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=f?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var f;this.moveStart.active&&(this.moveStart.active=!1,(null===(f=this.moveStart)||void 0===f?void 0:f.type)===Pe.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var f,v;if(null!=(null===(v=null===(f=this.loadedImage)||void 0===f?void 0:f.transformed)||void 0===v?void 0:v.image)){this.startCropImage.emit();const W=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=W&&this.imageCropped.emit(W),W}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(ve),s.Y36(V),s.Y36(Le),s.Y36(ue.H7),s.Y36(s.sBO))},P.\u0275cmp=s.Xpm({type:P,selectors:[["image-cropper"]],viewQuery:function(f,v){if(1&f&&(s.Gf(Oe,7),s.Gf(Te,5)),2&f){let W;s.iGM(W=s.CRH())&&(v.wrapper=W.first),s.iGM(W=s.CRH())&&(v.sourceImage=W.first)}},hostVars:6,hostBindings:function(f,v){1&f&&s.NdJ("resize",function(){return v.onResize()},!1,s.Jf7)("mousemove",function(be){return v.moveImg(be)},!1,s.evT)("touchmove",function(be){return v.moveImg(be)},!1,s.evT)("mouseup",function(){return v.moveStop()},!1,s.evT)("touchend",function(){return v.moveStop()},!1,s.evT),2&f&&(s.Udp("text-align",v.alignImage),s.ekj("disabled",v.disabled)("ngx-ix-hidden",v.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[s.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(f,v){1&f&&(s.TgZ(0,"div",null,0),s.YNc(2,ke,2,8,"img",1),s._UZ(3,"div",2),s.YNc(4,Fe,3,15,"div",3),s.qZA()),2&f&&(s.Udp("background",v.imageVisible&&v.backgroundColor),s.xp6(2),s.Q6J("ngIf",v.safeImgDataUrl),s.xp6(1),s.Udp("width",v.maxSize.width,"px")("height",v.maxSize.height,"px")("margin-left","center"===v.alignImage?v.marginLeft:null),s.xp6(1),s.Q6J("ngIf",v.imageVisible))},dependencies:[e.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),P})(),ht=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({imports:[[e.ez]]}),P})();var Se=_(5072);function $(P,Ge){1&P&&s.GkF(0)}function B(P,Ge){1&P&&(s.TgZ(0,"div",23),s._UZ(1,"i",24),s.qZA())}function j(P,Ge){if(1&P&&s._UZ(0,"img",25),2&P){const f=s.oxw();s.Q6J("src",f.croppedImage,s.LSH)}}function Ue(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"p-button",26),s.NdJ("onClick",function(){s.CHM(f);const W=s.oxw();return s.KtG(W.notifyService.showSideBar())}),s.qZA()}}function fe(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"span",27)(1,"p-button",28),s.NdJ("onClick",function(){s.CHM(f);const W=s.oxw();return s.KtG(W.notifyService.showSideBar())}),s.qZA()()}if(2&P){const f=s.oxw();s.Q6J("value",f.notifyService.unreadCount.toString())}}const qe=function(){return{maxWidth:"40vw",minWidth:"15rem",height:"fit-content"}};let je=(()=>{class P{constructor(f,v,W,be){this.personality=f,this.router=v,this.api=W,this.notifyService=be,this.avatarChangeDialogVisible=!1,this.controls=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",command:()=>this.avatarChangeDialogVisible=!0},{label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},{label:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",command:this.exitFromAccount.bind(this)}],this.imageChangedEvent="",this.croppedImage="",this.avatarUpload=!1}ngOnInit(){}exitFromAccount(){this.api.signOut().subscribe(()=>{this.router.navigate(["/login"]).then()})}imageCropped(f){this.croppedImage=f.base64}imageLoaded(f){}cropperReady(){}loadImageFailed(){}saveAvatar(){!this.croppedImage||(this.avatarUpload=!0,this.api.setAvatar(this.croppedImage).subscribe({next:()=>{this.avatarUpload=!1,this.avatarChangeDialogVisible=!1,this.imageChangedEvent=void 0},error:()=>{this.avatarUpload=!1}}))}selectFile(f){f.click()}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(g.F),s.Y36(H.F0),s.Y36(L.s),s.Y36(I.T))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-account-panel"]],decls:29,vars:29,consts:[[1,"flexed","hcenter","gap5","wrapper"],[3,"name","size","src"],[1,"flexed","column","account"],[1,"account-name"],[1,"account-position"],["icon","mdi-more_vert","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],[4,"ngIf","ngIfThen","ngIfElse"],["appendTo","body","header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",3,"visible","draggable","modal","resizable","visibleChange"],[1,"avatar-change-content"],[1,"flexed","gap10","p5","hcenter","vcenter"],[1,"preview-wrapper"],["class","preview unselect",4,"ngIf"],["class","preview","alt","",3,"src",4,"ngIf"],[1,"flexed","column","gap5"],["label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-image","styleClass","p-button-text p-button-secondary",3,"disabled","onClick"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-upload",3,"loading","disabled","onClick"],["type","file","accept","image/jpeg, image/png, image/jpg, image/bmp",3,"change"],["fileInput",""],["format","png",3,"aspectRatio","cropperMinWidth","cropperMinHeight","imageChangedEvent","maintainAspectRatio","cropperReady","imageCropped","imageLoaded","loadImageFailed"],[3,"model","popup"],["menu",""],["emptyNoti",""],["fullNoti",""],[1,"preview","unselect"],[1,"mdi-image"],["alt","",1,"preview",3,"src"],["icon","mdi-notifications_none","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["pBadge","","severity","warning",3,"value"],["icon","mdi-notifications_active","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"]],template:function(f,v){if(1&f){const W=s.EpF();s.TgZ(0,"div",0),s._UZ(1,"app-avatar",1),s.TgZ(2,"div",2)(3,"span",3),s._uU(4),s.qZA(),s.TgZ(5,"span",4),s._uU(6),s.qZA()(),s.TgZ(7,"p-button",5),s.NdJ("onClick",function(pt){s.CHM(W);const Zt=s.MAs(24);return s.KtG(Zt.toggle(pt))}),s.qZA(),s.YNc(8,$,1,0,"ng-container",6),s.qZA(),s.TgZ(9,"p-dialog",7),s.NdJ("visibleChange",function(pt){return v.avatarChangeDialogVisible=pt}),s.TgZ(10,"div",8)(11,"div",9)(12,"div",10),s.YNc(13,B,2,0,"div",11),s.YNc(14,j,1,1,"img",12),s.TgZ(15,"span"),s._uU(16," \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),s.qZA()(),s.TgZ(17,"div",13)(18,"p-button",14),s.NdJ("onClick",function(){s.CHM(W);const pt=s.MAs(21);return s.KtG(v.selectFile(pt))}),s.qZA(),s.TgZ(19,"p-button",15),s.NdJ("onClick",function(){return v.saveAvatar()}),s.qZA()(),s.TgZ(20,"input",16,17),s.NdJ("change",function(pt){return v.imageChangedEvent=pt}),s.qZA()(),s.TgZ(22,"image-cropper",18),s.NdJ("cropperReady",function(){return v.cropperReady()})("imageCropped",function(pt){return v.imageCropped(pt)})("imageLoaded",function(pt){return v.imageLoaded(pt)})("loadImageFailed",function(){return v.loadImageFailed()}),s.qZA()()(),s._UZ(23,"p-menu",19,20),s.YNc(25,Ue,1,0,"ng-template",null,21,s.W1O),s.YNc(27,fe,2,1,"ng-template",null,22,s.W1O)}if(2&f){const W=s.MAs(26),be=s.MAs(28);s.xp6(1),s.Q6J("name",null==v.personality.me?null:v.personality.me.fullName)("size",3)("src",null==v.personality.me?null:v.personality.me.avatar),s.xp6(3),s.Oqu(null==v.personality.me?null:v.personality.me.fullName),s.xp6(2),s.Oqu(null==v.personality.me||null==v.personality.me.position?null:v.personality.me.position.name),s.xp6(2),s.Q6J("ngIf",v.notifyService.isHasUnread)("ngIfThen",be)("ngIfElse",W),s.xp6(1),s.Q6J("visible",v.avatarChangeDialogVisible)("draggable",!1)("modal",!0)("resizable",!1),s.xp6(4),s.Q6J("ngIf",!v.croppedImage),s.xp6(1),s.Q6J("ngIf",v.croppedImage),s.xp6(4),s.Q6J("disabled",v.avatarUpload),s.xp6(1),s.Q6J("loading",v.avatarUpload)("disabled",!v.croppedImage),s.xp6(1),s.Udp("display","none"),s.xp6(2),s.Akn(s.DdM(28,qe)),s.Q6J("aspectRatio",1)("cropperMinWidth",64)("cropperMinHeight",64)("imageChangedEvent",v.imageChangedEvent)("maintainAspectRatio",!0),s.xp6(1),s.Q6J("model",v.controls)("popup",!0)}},dependencies:[e.O5,U.v2,le.zx,re.V,K.lM,Me,Se.A],styles:[".avatar-change-content[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]{display:grid;gap:1rem}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.preview-wrapper[_ngcontent-%COMP%]{display:grid;gap:.5rem;background-color:var(--bgc-100);border-radius:1rem;color:var(--tc-600);justify-items:center;padding:1rem;font-weight:700}.preview-wrapper[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:6rem;height:6rem;border-radius:50%;object-fit:cover;object-position:center}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]{background-color:var(--bgc-400);border:1px solid var(--bgc-500);color:#fff;font-size:1.5rem;position:relative}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;transform-origin:center;top:50%;left:50%;transform:translate(-50%,-50%)}.account-name[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1.1rem;white-space:nowrap}.account-position[_ngcontent-%COMP%]{color:var(--tc-500);font-size:.9rem}.cropper-style[_ngcontent-%COMP%]{min-width:20rem;min-height:20rem;max-width:50vw;max-height:50vh;border:1px solid var(--bgc-300);border-radius:.5rem;overflow:hidden}.avatar-preview[_ngcontent-%COMP%]{width:10rem;height:10rem;margin-top:.5rem;overflow:hidden;border-radius:50%;display:grid;grid:1fr/1fr;outline:var(--bgc-300) solid 2px;outline-offset:1px}.avatar-preview[_ngcontent-%COMP%] > .ph[_ngcontent-%COMP%]{background-color:var(--bgc-500);color:#fff;font-weight:500}.avatar-preview[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:inherit;height:inherit}.avatar-preview-image[_ngcontent-%COMP%]{width:inherit;height:inherit;z-index:1}.noti[_ngcontent-%COMP%]{margin:0}"]}),P})();var mt=_(446),bt=_(4304),st=_(538);const xt=["parentWrapper"],ot=["titleElement"],We=function(P){return{rotated:P}};function hn(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"span",8),s.NdJ("click",function(){s.CHM(f);const W=s.oxw();return s.KtG(W.toggleExtend())}),s._uU(1,"expand_more"),s.qZA()}if(2&P){const f=s.oxw();s.Q6J("ngClass",s.VKq(1,We,f._isExtended))}}function fn(P,Ge){if(1&P&&s._UZ(0,"app-sub-extended-menu-item",9),2&P){const f=Ge.$implicit;let v;s.Q6J("caption",f.label)("link",f.link)("children",f.children)("nLevel",(null!==(v=f.nestingLevel)&&void 0!==v?v:0)+1)}}const St=function(P){return{"can-extend":P}},ln=function(P){return{show:P}},Ye=function(){return[]};let Mt=(()=>{class P{constructor(f){this.route=f,this.caption="",this._isExtended=!1}set isExtended(f){this._isExtended=f,this.extending()}ngOnInit(){}ngAfterViewInit(){!this.hasElements()||this.extending()}toggleExtend(){!this.hasElements()||(this.isExtended=!this._isExtended)}extending(){var f;null===(f=this.parentWrapper)||void 0===f||!f.nativeElement||(this._isExtended?(this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.parentWrapper.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",setTimeout(()=>{this.parentWrapper.nativeElement.style.height=this.titleElement.nativeElement.offsetHeight+"px"})))}hasElements(){return this.parentWrapper&&this.titleElement}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(H.gz))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-sub-extended-menu-item"]],viewQuery:function(f,v){if(1&f&&(s.Gf(xt,5),s.Gf(ot,5)),2&f){let W;s.iGM(W=s.CRH())&&(v.parentWrapper=W.first),s.iGM(W=s.CRH())&&(v.titleElement=W.first)}},inputs:{caption:"caption",link:"link",children:"children",nLevel:"nLevel",isExtended:"isExtended"},decls:9,vars:11,consts:[[1,"parent-wrapper"],["parentWrapper",""],[1,"flexed","title",3,"ngClass"],["class","material-icons-round title-expanded-icon",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active",1,"item",3,"routerLink"],["titleElement",""],[1,"child-wrapper",3,"ngClass"],[3,"caption","link","children","nLevel",4,"ngFor","ngForOf"],[1,"material-icons-round","title-expanded-icon",3,"ngClass","click"],[3,"caption","link","children","nLevel"]],template:function(f,v){if(1&f&&(s.TgZ(0,"div",0,1)(2,"div",2),s.YNc(3,hn,2,3,"span",3),s.TgZ(4,"div",4,5),s._uU(6),s.qZA()(),s.TgZ(7,"div",6),s.YNc(8,fn,1,4,"app-sub-extended-menu-item",7),s.qZA()()),2&f){let W;s.xp6(2),s.Q6J("ngClass",s.VKq(6,St,v.children)),s.xp6(1),s.Q6J("ngIf",v.children),s.xp6(1),s.Q6J("routerLink",v.link),s.xp6(2),s.hij(" ",v.caption," "),s.xp6(1),s.Q6J("ngClass",s.VKq(8,ln,v._isExtended)),s.xp6(1),s.Q6J("ngForOf",null!==(W=v.children)&&void 0!==W?W:s.DdM(10,Ye))}},dependencies:[e.mk,e.sg,e.O5,H.rH,H.Od,P],styles:[".item[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);padding:.2rem 0;transition:color .2s ease-out;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.item.active[_ngcontent-%COMP%]{color:var(--mc-500)}.item.can-extend[_ngcontent-%COMP%]{transform:translate(-.8rem)}.title-expanded-icon[_ngcontent-%COMP%]{color:var(--bgc-400);cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(1,-.6,0,1.65),color .2s ease-out;transform:rotate(270deg)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(0);color:var(--mc-500)}.title-expanded-icon[_ngcontent-%COMP%]:hover{color:var(--bgc-600)}.item[_ngcontent-%COMP%]:hover{color:var(--tc-700)}.parent-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;overflow:hidden;padding-left:1.5rem;transition:height .2s ease-out}.child-wrapper[_ngcontent-%COMP%]{padding-left:2rem;opacity:0;transition:opacity .3s ease-out}.child-wrapper.show[_ngcontent-%COMP%]{opacity:1}"]}),P})();var Ft=_(6502),tn=_(4e3),Vn=_(3064),oi=_(6198),Kn=_(9936);function Ut(P,Ge){1&P&&s.GkF(0)}function ft(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",4),s.NdJ("click",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.hide(W))}),s.YNc(1,Ut,1,0,"ng-container",5),s.qZA()}if(2&P){s.oxw();const f=s.MAs(2);s.xp6(1),s.Q6J("ngTemplateOutlet",f)}}function Be(P,Ge){1&P&&(s.TgZ(0,"div",13),s._UZ(1,"p-progressSpinner",14),s.qZA())}function It(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",15),s.NdJ("mouseenter",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.showNavigation="unfade")})("mouseleave",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.showNavigation="fade")}),s.TgZ(1,"div",16),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",18),s._uU(5),s.qZA(),s.TgZ(6,"div",19),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&P){const f=s.oxw(3);s.xp6(1),s.Q6J("@fadeAlt",f.showNavigation),s.xp6(3),s.Q6J("@fadeFullAlt",f.showNavigation),s.xp6(1),s.AsE(" ",f.albumIndex+1," / ",f.mediaAlbum.length," "),s.xp6(1),s.Q6J("@fadeAlt",f.showNavigation)}}function S(P,Ge){1&P&&s._UZ(0,"ng-component")}function he(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",9),s.YNc(1,Be,2,0,"div",10),s.TgZ(2,"img",11),s.NdJ("error",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.imageLoadError(W))})("load",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.imageLoad(W))}),s.qZA(),s.YNc(3,It,9,5,"div",12),s.YNc(4,S,1,0,"ng-component",5),s.qZA()}if(2&P){const f=s.oxw(2),v=s.MAs(4);s.xp6(1),s.Q6J("ngIf",f.imageLoadingIndicator),s.xp6(1),s.Q6J("src","/api/private/attachment/"+(null==f.media?null:f.media.name),s.LSH),s.xp6(1),s.Q6J("ngIf",f.mediaAlbum&&f.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",v)}}function Ae(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",24)(1,"div",25),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",26),s._uU(5),s.qZA(),s.TgZ(6,"div",27),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&P){const f=s.oxw(3);s.xp6(5),s.AsE(" ",f.albumIndex+1," / ",f.mediaAlbum.length," ")}}function Qe(P,Ge){1&P&&s._UZ(0,"ng-component")}const Ot=function(P){return{"controls-out":P}};function Kt(P,Ge){if(1&P&&(s.TgZ(0,"div",20)(1,"div",21),s._UZ(2,"video",22),s.YNc(3,Ae,9,2,"div",23),s.qZA(),s.YNc(4,Qe,1,0,"ng-component",5),s.qZA()),2&P){const f=s.oxw(2),v=s.MAs(4);s.xp6(2),s.Q6J("ngClass",s.VKq(5,Ot,!(f.mediaAlbum&&f.mediaAlbum.length>1)))("controls",!0)("src","/api/private/attachment/"+(null==f.media?null:f.media.name),s.LSH),s.xp6(1),s.Q6J("ngIf",f.mediaAlbum&&f.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",v)}}function en(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",31)(1,"div",32),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",33),s._uU(5),s.qZA(),s.TgZ(6,"div",34),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&P){const f=s.oxw(3);s.xp6(5),s.AsE(" ",f.albumIndex+1," / ",f.mediaAlbum.length," ")}}function Xe(P,Ge){1&P&&s._UZ(0,"ng-component")}function wt(P,Ge){if(1&P&&(s.TgZ(0,"div",28),s._UZ(1,"audio",29),s.YNc(2,en,9,2,"div",30),s.YNc(3,Xe,1,0,"ng-component",5),s.qZA()),2&P){const f=s.oxw(2),v=s.MAs(4);s.xp6(1),s.Q6J("controls",!0)("src","/api/private/attachment/"+(null==f.media?null:f.media.name),s.LSH),s.xp6(1),s.Q6J("ngIf",f.mediaAlbum&&f.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",v)}}function ee(P,Ge){1&P&&(s.YNc(0,he,5,4,"div",6),s.YNc(1,Kt,5,7,"div",7),s.YNc(2,wt,4,4,"div",8)),2&P&&(s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"))}function Ve(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",35)(1,"span",36),s._uU(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435"),s.qZA(),s.TgZ(3,"div",37)(4,"div",38)(5,"span",39),s._uU(6,"\u0418\u043c\u044f"),s.qZA(),s.TgZ(7,"span",40),s._uU(8),s.qZA()(),s.TgZ(9,"div",38)(10,"span",39),s._uU(11,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430"),s.qZA(),s.TgZ(12,"span",40),s._uU(13),s.qZA()(),s.TgZ(14,"div",38)(15,"span",39),s._uU(16,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),s.qZA(),s.TgZ(17,"span",40),s._uU(18),s.ALo(19,"date"),s.qZA()(),s.TgZ(20,"div",38)(21,"span",39),s._uU(22,"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),s.qZA(),s.TgZ(23,"span",40),s._uU(24),s.ALo(25,"date"),s.qZA()()(),s._UZ(26,"div",41),s.TgZ(27,"app-button",42),s.NdJ("onClick",function(){s.CHM(f);const W=s.MAs(29);return s.KtG(W.click())}),s.qZA(),s._UZ(28,"a",43,44),s.qZA()}if(2&P){const f=s.oxw();let v;s.xp6(8),s.Oqu(null==f.media?null:f.media.name),s.xp6(5),s.hij("",((null!==(v=null==f.media?null:f.media.size)&&void 0!==v?v:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442"),s.xp6(5),s.Oqu(s.lcZ(19,8,null==f.media?null:f.media.modified)),s.xp6(6),s.Oqu(s.lcZ(25,10,null==f.media?null:f.media.created)),s.xp6(4),s.Udp("display","none"),s.Q6J("download",null==f.media?null:f.media.name)("href","/api/private/attachment/"+(null==f.media?null:f.media.name),s.LSH)}}let ct=(()=>{class P{constructor(f){this.service=f,this.showFullscreen=!1,this.albumIndex=0,this.showNavigation="fade",this.imageLoadingIndicator=!0}ngOnInit(){this.service.media().subscribe({next:f=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.media=f,this.albumIndex=0,this.mediaAlbum=void 0}}),this.service.mediaAlbum().subscribe({next:f=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.albumIndex=f.index,this.mediaAlbum=f.album,this.media=this.mediaAlbum[this.albumIndex]}})}hide(f){f.target===f.currentTarget&&(this.showFullscreen=!1)}imageLoad(f){this.imageLoadingIndicator=!1,console.log("Loadend:",f)}imageLoadError(f){console.log("Load error:",f)}goPrev(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex>0?this.media=this.mediaAlbum[--this.albumIndex]:(this.albumIndex=this.mediaAlbum.length-1,this.media=this.mediaAlbum[this.albumIndex]))}goNext(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex<this.mediaAlbum.length-1?this.media=this.mediaAlbum[++this.albumIndex]:(this.albumIndex=0,this.media=this.mediaAlbum[this.albumIndex]))}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(Vn.E))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-media-viewer"]],decls:5,vars:2,consts:[["class","page-cover",3,"click",4,"ngIf"],[3,"ngSwitch"],["content",""],["metadata",""],[1,"page-cover",3,"click"],[4,"ngTemplateOutlet"],["class","photo-view",4,"ngSwitchCase"],["class","video-view",4,"ngSwitchCase"],["class","audio-view",4,"ngSwitchCase"],[1,"photo-view"],["class","image-loading-indicator",4,"ngIf"],[3,"src","error","load"],["class","navigation",3,"mouseenter","mouseleave",4,"ngIf"],[1,"image-loading-indicator"],[1,"white-spinner"],[1,"navigation",3,"mouseenter","mouseleave"],[1,"navigation-button","back",3,"click"],[1,"material-icons-round"],[1,"navigation-counter"],[1,"navigation-button","forward",3,"click"],[1,"video-view"],[1,"video-wrapper"],[3,"ngClass","controls","src"],["class","video-navigation",4,"ngIf"],[1,"video-navigation"],[1,"video-navigation-button","back",3,"click"],[1,"video-navigation-counter"],[1,"video-navigation-button","forward",3,"click"],[1,"audio-view"],[3,"controls","src"],["class","audio-navigation",4,"ngIf"],[1,"audio-navigation"],[1,"audio-navigation-button","back",3,"click"],[1,"audio-navigation-counter"],[1,"audio-navigation-button","forward",3,"click"],[1,"metadata"],[1,"caption","size-big"],[1,"flexed","column","gap3","p5"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small","f-inline"],[1,"stretched"],["icon","download","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[3,"download","href"],["downloadLink",""]],template:function(f,v){1&f&&(s.YNc(0,ft,2,1,"div",0),s.YNc(1,ee,3,3,"ng-template",1,2,s.W1O),s.YNc(3,Ve,30,12,"ng-template",null,3,s.W1O)),2&f&&(s.Q6J("ngIf",v.showFullscreen),s.xp6(1),s.Q6J("ngSwitch",null==v.media?null:v.media.type))},dependencies:[e.mk,e.O5,e.tP,e.RF,e.n9,H.fw,oi.G,mt.r,Kn.h,e.uU],styles:[".page-cover[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000b3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:1101}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .image-loading-indicator[_ngcontent-%COMP%]{min-width:50vw;min-height:40vh;width:100%;height:100%;background-color:var(--bgc-200);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:2rem;grid-area:1/1/2/2;border-radius:.5rem 0 0 .5rem}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;object-fit:cover;object-position:center}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:calc(100% - 4rem);background-color:#000}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video.controls-out[_ngcontent-%COMP%]{height:100%!important}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;height:4rem;background-color:#fff}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]{display:flex;padding-top:1rem;gap:.5rem;flex-direction:column;align-items:center;width:max-content;height:max-content;background-color:#fff;border-radius:1rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation[_ngcontent-%COMP%]{display:flex;flex:1;padding:.5rem;align-self:stretch;align-items:center}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.navigation[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;grid-area:1/1/2/2}.navigation-counter[_ngcontent-%COMP%]{color:var(--tc-100);width:max-content;height:max-content;align-self:flex-end;margin-bottom:2rem;font-size:1.2rem;font-weight:500;text-shadow:0 0 4px rgba(0,0,0,.3)}.navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;opacity:.2;transition:opacity .2s ease-out;color:var(--tc-100)}.navigation-button[_ngcontent-%COMP%]:hover{opacity:1!important}.navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end;background:linear-gradient(90deg,rgba(0,0,0,0),rgba(0,0,0,.15))}.navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start;background:linear-gradient(270deg,rgba(0,0,0,0),rgba(0,0,0,.15))}"],data:{animation:[tn.PJ,tn.mo]}}),P})();var Ct=_(4881),sn=_(2382),$n=_(4036),Wi=_(7010),kt=_(3407),rn=_(3725),$e=_(7773),yt=_(1424),Yt=_(5730),$t=_(9618);const xn=["input"];function Pn(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"i",3),s.NdJ("click",function(){s.CHM(f);const W=s.oxw();return s.KtG(W.clear())}),s.qZA()}}const di={provide:sn.JU,useExisting:(0,s.Gpc)(()=>Ci),multi:!0};let Ci=(()=>{class P{constructor(f,v){this.el=f,this.cd=v,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onInput=new s.vpe,this.onKeydown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let f=Yt.p.getUserAgent();this.androidChrome=/chrome/i.test(f)&&/android/i.test(f),this.initMask()}get mask(){return this._mask}set mask(f){this._mask=f,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let f=this.mask.split("");for(let v=0;v<f.length;v++){let W=f[v];"?"==W?(this.len--,this.partialPosition=v):this.defs[W]?(this.tests.push(new RegExp(this.defs[W])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),v<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let v=0;v<f.length;v++){let W=f[v];"?"!=W&&this.buffer.push(this.defs[W]?this.getPlaceholder(v):W)}this.defaultBuffer=this.buffer.join("")}writeValue(f){this.value=f,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(f){this.onModelChange=f}registerOnTouched(f){this.onModelTouched=f}setDisabledState(f){this.disabled=f,this.cd.markForCheck()}caret(f,v){let W,be,pt;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof f)return this.inputViewChild.nativeElement.setSelectionRange?(be=this.inputViewChild.nativeElement.selectionStart,pt=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(W=document.selection.createRange(),be=0-W.duplicate().moveStart("character",-1e5),pt=be+W.text.length),{begin:be,end:pt};be=f,pt="number"==typeof v?v:be,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(be,pt):this.inputViewChild.nativeElement.createTextRange&&(W=this.inputViewChild.nativeElement.createTextRange(),W.collapse(!0),W.moveEnd("character",pt),W.moveStart("character",be),W.select())}}isCompleted(){for(let v=this.firstNonMaskPos;v<=this.lastRequiredNonMaskPos;v++)if(this.tests[v]&&this.buffer[v]===this.getPlaceholder(v))return!1;return!0}getPlaceholder(f){return this.slotChar.charAt(f<this.slotChar.length?f:0)}seekNext(f){for(;++f<this.len&&!this.tests[f];);return f}seekPrev(f){for(;--f>=0&&!this.tests[f];);return f}shiftL(f,v){let W,be;if(!(f<0)){for(W=f,be=this.seekNext(v);W<this.len;W++)if(this.tests[W]){if(!(be<this.len&&this.tests[W].test(this.buffer[be])))break;this.buffer[W]=this.buffer[be],this.buffer[be]=this.getPlaceholder(be),be=this.seekNext(be)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,f))}}shiftR(f){let v,W,be,pt;for(v=f,W=this.getPlaceholder(f);v<this.len;v++)if(this.tests[v]){if(be=this.seekNext(v),pt=this.buffer[v],this.buffer[v]=W,!(be<this.len&&this.tests[be].test(pt)))break;W=pt}}handleAndroidInput(f){var v=this.inputViewChild.nativeElement.value,W=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>v.length){for(this.checkVal(!0);W.begin>0&&!this.tests[W.begin-1];)W.begin--;if(0===W.begin)for(;W.begin<this.firstNonMaskPos&&!this.tests[W.begin];)W.begin++;setTimeout(()=>{this.caret(W.begin,W.begin),this.updateModel(f),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);W.begin<this.len&&!this.tests[W.begin];)W.begin++;setTimeout(()=>{this.caret(W.begin,W.begin),this.updateModel(f),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(f){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(f),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(f);let v=document.createEvent("HTMLEvents");v.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(v)}}onInputKeydown(f){if(this.readonly)return;let W,be,pt,v=f.which||f.keyCode,Zt=/iphone/i.test(Yt.p.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(f),8===v||46===v||Zt&&127===v?(W=this.caret(),be=W.begin,pt=W.end,pt-be==0&&(be=46!==v?this.seekPrev(be):pt=this.seekNext(be-1),pt=46===v?this.seekNext(pt):pt),this.clearBuffer(be,pt),this.shiftL(be,pt-1),this.updateModel(f),this.onInput.emit(f),f.preventDefault()):13===v?(this.onInputBlur(f),this.updateModel(f)):27===v&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(f),f.preventDefault())}onKeyPress(f){if(!this.readonly){var be,pt,Zt,Sn,v=f.which||f.keyCode,W=this.caret();f.ctrlKey||f.altKey||f.metaKey||v<32||v>34&&v<41||(v&&13!==v&&(W.end-W.begin!=0&&(this.clearBuffer(W.begin,W.end),this.shiftL(W.begin,W.end-1)),(be=this.seekNext(W.begin-1))<this.len&&(pt=String.fromCharCode(v),this.tests[be].test(pt)&&(this.shiftR(be),this.buffer[be]=pt,this.writeBuffer(),Zt=this.seekNext(be),/android/i.test(Yt.p.getUserAgent())?setTimeout(()=>{this.caret(Zt)},0):this.caret(Zt),W.begin<=this.lastRequiredNonMaskPos&&(Sn=this.isCompleted()),this.onInput.emit(f))),f.preventDefault()),this.updateModel(f),this.updateFilledState(),Sn&&this.onComplete.emit())}}clearBuffer(f,v){let W;for(W=f;W<v&&W<this.len;W++)this.tests[W]&&(this.buffer[W]=this.getPlaceholder(W))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(f){let be,pt,Zt,v=this.inputViewChild.nativeElement.value,W=-1;for(be=0,Zt=0;be<this.len;be++)if(this.tests[be]){for(this.buffer[be]=this.getPlaceholder(be);Zt++<v.length;)if(pt=v.charAt(Zt-1),this.tests[be].test(pt)){this.buffer[be]=pt,W=be;break}if(Zt>v.length){this.clearBuffer(be+1,this.len);break}}else this.buffer[be]===v.charAt(Zt)&&Zt++,be<this.partialPosition&&(W=be);return f?this.writeBuffer():W+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,W+1)),this.partialPosition?be:this.firstNonMaskPos}onInputFocus(f){if(this.readonly)return;let v;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,v=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),v==this.mask.replace("?","").length?this.caret(0,v):this.caret(v))},10),this.onFocus.emit(f)}onInputChange(f){this.androidChrome?this.handleAndroidInput(f):this.handleInputChange(f),this.onInput.emit(f)}handleInputChange(f){this.readonly||setTimeout(()=>{var v=this.checkVal(!0);this.caret(v),this.updateModel(f),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let f=[];for(let v=0;v<this.buffer.length;v++){let W=this.buffer[v];this.tests[v]&&W!=this.getPlaceholder(v)&&f.push(W)}return f.join("")}updateModel(f){const v=this.unmask?this.getUnmaskedValue():f.target.value;(null!==v||void 0!==v)&&(this.value=v,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(s.SBq),s.Y36(s.sBO))},P.\u0275cmp=s.Xpm({type:P,selectors:[["p-inputMask"]],viewQuery:function(f,v){if(1&f&&s.Gf(xn,7),2&f){let W;s.iGM(W=s.CRH())&&(v.inputViewChild=W.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(f,v){2&f&&s.ekj("p-inputwrapper-filled",v.filled)("p-inputwrapper-focus",v.focused)("p-inputmask-clearable",v.showClear&&!v.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[s._Bn([di])],decls:3,vars:18,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(f,v){1&f&&(s.TgZ(0,"input",0,1),s.NdJ("focus",function(be){return v.onInputFocus(be)})("blur",function(be){return v.onInputBlur(be)})("keydown",function(be){return v.onInputKeydown(be)})("keypress",function(be){return v.onKeyPress(be)})("input",function(be){return v.onInputChange(be)})("paste",function(be){return v.handleInputChange(be)}),s.qZA(),s.YNc(2,Pn,1,0,"i",2)),2&f&&(s.Q6J("ngStyle",v.style)("ngClass",v.styleClass)("disabled",v.disabled)("readonly",v.readonly)("autofocus",v.autoFocus),s.uIk("id",v.inputId)("type",v.type)("name",v.name)("placeholder",v.placeholder)("title",v.title)("size",v.size)("autocomplete",v.autocomplete)("maxlength",v.maxlength)("tabindex",v.tabindex)("aria-label",v.ariaLabel)("aria-required",v.ariaRequired)("required",v.required),s.xp6(2),s.Q6J("ngIf",null!=v.value&&v.filled&&v.showClear&&!v.disabled))},dependencies:[e.mk,e.O5,e.PC,yt.o,$t.P],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),P})(),Ki=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({imports:[e.ez,yt.j,$t.E]}),P})();var Je=_(9925),X=_(4500),D=_(1886);const oe=["one"],Ie=["two"],vt=["three"],Dt=["four"];let Et=(()=>{class P{constructor(){this._ipValue=[],this.onBlur=new s.vpe,this.propagateChange=f=>{}}get ipValue(){return this._ipValue.join(".")}set ipValue(f){this._ipValue=this.ipFormat(f),this.propagateChange(this.ipValue),this.one&&(this.one.nativeElement.value=this._ipValue[0].toString()),this.two&&(this.two.nativeElement.value=this._ipValue[1].toString()),this.three&&(this.three.nativeElement.value=this._ipValue[2].toString()),this.four&&(this.four.nativeElement.value=this._ipValue[3].toString())}ipFormat(f){return f?f.trim().split(".").map(W=>{let be=parseInt(W.replace(/\D/g,""));return isNaN(be)||be<0?0:be>255?255:be}).slice(0,4):[0,0,0,0]}registerOnChange(f){this.propagateChange=f}registerOnTouched(){}writeValue(f){f&&(this.ipValue="0.0.0.0"),this.ipValue=f}octetChange(f,v){const W=v.target;this._ipValue[f]=parseInt(W.value),this.ipValue=this._ipValue.join("."),W.value=this._ipValue[f].toString()}octetFocus(f){f.target.select()}octetKeyUp(f,v){(" "===v.key||","===v.key||"."===v.key||3===v.target.value.length)&&(0===f?this.two.nativeElement.focus():1===f?this.three.nativeElement.focus():2===f&&this.four.nativeElement.focus())}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-ip-input"]],viewQuery:function(f,v){if(1&f&&(s.Gf(oe,5),s.Gf(Ie,5),s.Gf(vt,5),s.Gf(Dt,5)),2&f){let W;s.iGM(W=s.CRH())&&(v.one=W.first),s.iGM(W=s.CRH())&&(v.two=W.first),s.iGM(W=s.CRH())&&(v.three=W.first),s.iGM(W=s.CRH())&&(v.four=W.first)}},inputs:{ipValue:"ipValue"},outputs:{onBlur:"onBlur"},features:[s._Bn([{provide:sn.JU,useExisting:(0,s.Gpc)(()=>P),multi:!0}])],decls:15,vars:0,consts:[[1,"node","flexed","octet-wrapper",3,"blur"],[1,"octet-input",3,"focus","input","keyup"],["one",""],["two",""],["three",""],["four",""]],template:function(f,v){1&f&&(s.TgZ(0,"fieldset",0),s.NdJ("blur",function(){return v.onBlur.emit()}),s.TgZ(1,"input",1,2),s.NdJ("focus",function(be){return v.octetFocus(be)})("input",function(be){return v.octetChange(0,be)})("keyup",function(be){return v.octetKeyUp(0,be)}),s.qZA(),s.TgZ(3,"span"),s._uU(4,"."),s.qZA(),s.TgZ(5,"input",1,3),s.NdJ("focus",function(be){return v.octetFocus(be)})("input",function(be){return v.octetChange(1,be)})("keyup",function(be){return v.octetKeyUp(1,be)}),s.qZA(),s.TgZ(7,"span"),s._uU(8,"."),s.qZA(),s.TgZ(9,"input",1,4),s.NdJ("focus",function(be){return v.octetFocus(be)})("input",function(be){return v.octetChange(2,be)})("keyup",function(be){return v.octetKeyUp(2,be)}),s.qZA(),s.TgZ(11,"span"),s._uU(12,"."),s.qZA(),s.TgZ(13,"input",1,5),s.NdJ("focus",function(be){return v.octetFocus(be)})("input",function(be){return v.octetChange(3,be)})("keyup",function(be){return v.octetKeyUp(3,be)}),s.qZA()())},styles:[".octet-wrapper[_ngcontent-%COMP%]{width:max-content;padding:.7rem!important;transition:border-color .15s ease-in-out}.octet-wrapper[_ngcontent-%COMP%]:focus-within{border:1px solid var(--primary-color)!important;box-shadow:var(--focus-ring)}.octet-wrapper[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-color)!important}.octet-input[_ngcontent-%COMP%]{padding:0;border:none;outline:none;width:3rem;text-align:center;font-size:1.1rem}"]}),P})();var Vt=_(1828),pn=_(1208),bn=_(9354),yn=_(3640),An=_(5845),In=_(2340);function Ti(){const P=new An.f;return P.configure((()=>{var P;return console.log(localStorage.getItem("token")),{brokerURL:In.N.wsHost,connectHeaders:{passcode:"guest",login:null!==(P=localStorage.getItem("token"))&&void 0!==P?P:""},heartbeatIncoming:0,heartbeatOutgoing:2e4,reconnectDelay:200,debug:Ge=>{}}})()),P.activate(),P}var zi=_(2777),gn=_(6526),yi=_(7307),_o=_(6888),Yi=_(9477),Fi=_(1588);const ai=function(){return{width:"100%"}};function wi(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",3)(1,"p-inputMask",4),s.NdJ("ngModelChange",function(W){const pt=s.CHM(f).$implicit,Zt=s.oxw();return s.KtG(Zt.controlValue[pt.key]=W)})("ngModelChange",function(W){const pt=s.CHM(f).$implicit,Zt=s.oxw();return Zt.controlValue[pt.key]=W,s.KtG(Zt.onChange(Zt.controlValue))})("onBlur",function(){s.CHM(f);const W=s.oxw();return s.KtG(W.onBlur.emit())}),s.qZA(),s.TgZ(2,"button",5),s.NdJ("click",function(){const be=s.CHM(f).$implicit,pt=s.oxw();return s.KtG(pt.removePhone(be.key))}),s.qZA()()}if(2&P){const f=Ge.$implicit,v=s.oxw();s.xp6(1),s.Akn(s.DdM(4,ai)),s.Q6J("ngModel",v.controlValue[f.key]),s.xp6(1),s.Q6J("disabled",v.count<2)}}let Si=(()=>{class P{constructor(){this.controlValue={},this.onBlur=new s.vpe,this.onChange=f=>{},this.onTouched=()=>{}}get count(){return this.controlValue?Object.keys(this.controlValue).length:0}ngAfterViewInit(){}ngOnInit(){}registerOnChange(f){this.onChange=f}registerOnTouched(f){this.onTouched=f}writeValue(f){this.controlValue=f}appendPhone(){this.controlValue||(this.controlValue={});const f=(0,Fi.Z)();this.controlValue[f]="",this.onChange(this.controlValue)}removePhone(f){!this.controlValue||(delete this.controlValue[f],this.onChange(this.controlValue))}valuesTrack(f,v){return v.key}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-phone-list-input"]],outputs:{onBlur:"onBlur"},features:[s._Bn([{provide:sn.JU,useExisting:(0,s.Gpc)(()=>P),multi:!0}])],decls:4,vars:4,consts:[[1,"flexed","gap5","column"],["class","p-inputgroup",4,"ngFor","ngForOf","ngForTrackBy"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440",3,"onClick"],[1,"p-inputgroup"],["mask","8 (999) 999-99-99",3,"ngModel","ngModelChange","onBlur"],["icon","pi pi-trash","pButton","","type","button",1,"p-button-danger",3,"disabled","click"]],template:function(f,v){1&f&&(s.TgZ(0,"div",0),s.YNc(1,wi,3,5,"div",1),s.ALo(2,"keyvalue"),s.TgZ(3,"app-button",2),s.NdJ("onClick",function(){return v.appendPhone()}),s.qZA()()),2&f&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,2,v.controlValue))("ngForTrackBy",v.valuesTrack))},dependencies:[e.sg,le.Hq,sn.JJ,sn.On,Ci,mt.r,e.Nd]}),P})();var Ji=_(1110),Bi=_(5787);let Co=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({imports:[e.ez,Bi.T]}),P})();var fr=_(2716);const ea=function(P){return{unread:P}};let $s=(()=>{class P{constructor(f){this.notifyService=f,this.notification={}}ngOnInit(){}getIcon(f){return this.notifyService.icons[f]+" icon header"}getTitle(f){return this.notifyService.titles[f]}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(I.T))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-notification-item"]],inputs:{notification:"notification"},decls:9,vars:11,consts:[[1,"notification",3,"ngClass"],[1,"title","header"],["appTextRevival","",1,"description","indent05"],[1,"timestamp"]],template:function(f,v){1&f&&(s.TgZ(0,"div",0),s._UZ(1,"i"),s.TgZ(2,"span",1),s._uU(3),s.qZA(),s.TgZ(4,"div",2),s._uU(5),s.qZA(),s.TgZ(6,"span",3),s._uU(7),s.ALo(8,"date"),s.qZA()()),2&f&&(s.Q6J("ngClass",s.VKq(9,ea,v.notification.unread)),s.xp6(1),s.Tol(v.getIcon(v.notification.type)),s.xp6(2),s.hij(" ",v.getTitle(v.notification.type)," "),s.xp6(2),s.hij(" ",v.notification.message," "),s.xp6(2),s.hij(" ",s.xi3(8,6,v.notification.created,"dd MMMM yyyy HH:mm")," "))},dependencies:[e.mk,fr.J,e.uU],styles:['[_nghost-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}[_nghost-%COMP%]{flex:1}.notification[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;align-items:center;opacity:.5;transition:opacity .2s ease-in-out;cursor:default;grid:repeat(3,min-content)/repeat(2,min-content);grid-template-areas:"icon title title" ". description description" "timestamp timestamp timestamp"}.notification[_ngcontent-%COMP%]:hover, .notification.unread[_ngcontent-%COMP%]{opacity:1}.notification.unread[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--mc-400)}.notification[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{grid-area:icon}.notification[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-area:title}.notification[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;font-weight:500;font-size:.9rem;color:var(--tc-700);white-space:pre-line}.notification[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{grid-area:timestamp;font-size:.8rem;font-weight:700;place-self:flex-end;color:var(--tc-300)}.header[_ngcontent-%COMP%]{color:var(--tc-600)}.header.icon[_ngcontent-%COMP%]{font-size:1.4rem}.header.title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}']}),P})();var mr=_(8913),Vs=_(4119);let Cr=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({imports:[e.ez,H.Bz,Bi.T,Vs.z,H.Bz,Vs.z]}),P})(),Ms=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({imports:[e.ez,le.hJ,Cr,le.hJ,Cr]}),P})();var ri=_(7805),Fr=_(7092),es=_(4132),na=_(5055),yo=_(5652);let Fo=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({imports:[e.ez]}),P})();var ho=_(1777),to=_(9783),ts=_(5921);function Cs(P,Ge){1&P&&s.GkF(0)}function nn(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"button",8),s.NdJ("click",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.close(W))})("keydown.enter",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.close(W))}),s._UZ(1,"span",9),s.qZA()}if(2&P){const f=s.oxw(2);s.uIk("aria-label",f.ariaCloseLabel)}}function ei(P,Ge){1&P&&s.GkF(0)}function ns(P,Ge){1&P&&s.GkF(0)}const vs=function(P,Ge,f,v,W,be){return{"p-sidebar":!0,"p-sidebar-active":P,"p-sidebar-left":Ge,"p-sidebar-right":f,"p-sidebar-top":v,"p-sidebar-bottom":W,"p-sidebar-full":be}},Li=function(P,Ge){return{transform:P,transition:Ge}},yr=function(P){return{value:"visible",params:P}};function Us(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",1,2),s.NdJ("@panelState.start",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.onAnimationStart(W))})("@panelState.done",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.onAnimationEnd(W))}),s.TgZ(2,"div",3),s.YNc(3,Cs,1,0,"ng-container",4),s.YNc(4,nn,2,1,"button",5),s.qZA(),s.TgZ(5,"div",6),s.Hsn(6),s.YNc(7,ei,1,0,"ng-container",4),s.qZA(),s.TgZ(8,"div",7),s.YNc(9,ns,1,0,"ng-container",4),s.qZA()()}if(2&P){const f=s.oxw();s.Tol(f.styleClass),s.Q6J("ngClass",s.HTZ(10,vs,f.visible,"left"===f.position&&!f.fullScreen,"right"===f.position&&!f.fullScreen,"top"===f.position&&!f.fullScreen,"bottom"===f.position&&!f.fullScreen,f.fullScreen))("@panelState",s.VKq(20,yr,s.WLB(17,Li,f.transformOptions,f.transitionOptions)))("ngStyle",f.style),s.uIk("aria-modal",f.modal),s.xp6(3),s.Q6J("ngTemplateOutlet",f.headerTemplate),s.xp6(1),s.Q6J("ngIf",f.showCloseIcon),s.xp6(3),s.Q6J("ngTemplateOutlet",f.contentTemplate),s.xp6(2),s.Q6J("ngTemplateOutlet",f.footerTemplate)}}const Hi=["*"],bs=(0,ho.oQ)([(0,ho.oB)({transform:"{{transform}}",opacity:0}),(0,ho.jt)("{{transition}}")]),Br=(0,ho.oQ)([(0,ho.jt)("{{transition}}",(0,ho.oB)({transform:"{{transform}}",opacity:0}))]);let ya=(()=>{class P{constructor(f,v,W,be){this.el=f,this.renderer=v,this.cd=W,this.config=be,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new s.vpe,this.onHide=new s.vpe,this.visibleChange=new s.vpe,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates.forEach(f=>{switch(f.getType()){case"content":default:this.contentTemplate=f.template;break;case"header":this.headerTemplate=f.template;break;case"footer":this.footerTemplate=f.template}})}get visible(){return this._visible}set visible(f){this._visible=f}get position(){return this._position}set position(f){switch(this._position=f,f){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(f){this._fullScreen=f,f&&(this.transformOptions="none")}show(){this.autoZIndex&&ts.P9.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(f){this.hide(),this.visibleChange.emit(!1),f.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),Yt.p.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",f=>{this.dismissible&&this.close(f)})),document.body.appendChild(this.mask),this.blockScroll&&Yt.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Yt.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyModal(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&Yt.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(f){"visible"===f.toState&&(this.container=f.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(f){"void"===f.toState&&(this.hide(),ts.P9.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Yt.p.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",v=>{27==v.which&&parseInt(this.container.style.zIndex)===ts.P9.get(this.container)&&this.close(v)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&ts.P9.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(to.b4))},P.\u0275cmp=s.Xpm({type:P,selectors:[["p-sidebar"]],contentQueries:function(f,v,W){if(1&f&&s.Suo(W,to.jx,4),2&f){let be;s.iGM(be=s.CRH())&&(v.templates=be)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:Hi,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],[4,"ngTemplateOutlet"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[1,"p-sidebar-footer"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(f,v){1&f&&(s.F$t(),s.YNc(0,Us,10,22,"div",0)),2&f&&s.Q6J("ngIf",v.visible)},dependencies:[e.mk,e.O5,e.tP,e.PC,Bi.H],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[(0,ho.X$)("panelState",[(0,ho.eR)("void => visible",[(0,ho._7)(bs)]),(0,ho.eR)("visible => void",[(0,ho._7)(Br)])])]},changeDetection:0}),P})(),or=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({imports:[e.ez,Bi.T]}),P})(),ge=(()=>{class P{constructor(){this.onScrollToBottom=new s.vpe}onScroll(f){f.target.scrollHeight-Math.abs(f.target.scrollTop)-f.target.clientHeight<25&&this.onScrollToBottom.emit()}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275dir=s.lG2({type:P,selectors:[["","appScrollToBottomEmitter",""]],hostBindings:function(f,v){1&f&&s.NdJ("scroll",function(be){return v.onScroll(be)})},outputs:{onScrollToBottom:"onScrollToBottom"}}),P})();function te(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",1),s.NdJ("mouseleave",function(){const be=s.CHM(f).$implicit,pt=s.oxw();return s.KtG(pt.notifyService.resumeClosure(be.notificationId))})("mouseenter",function(){const be=s.CHM(f).$implicit,pt=s.oxw();return s.KtG(pt.notifyService.suspendClosing(be.notificationId))}),s._UZ(1,"app-notification-item",2),s.TgZ(2,"div",3),s.NdJ("click",function(){const be=s.CHM(f).$implicit,pt=s.oxw();return s.KtG(pt.notifyService.close(be.notificationId))}),s.qZA()()}if(2&P){const f=Ge.$implicit;s.Q6J("@flowLeft",void 0),s.xp6(1),s.Q6J("notification",f)}}let z=(()=>{class P{constructor(f){this.notifyService=f}ngOnInit(){}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(I.T))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-notifications-popup-panel"]],decls:1,vars:1,consts:[["class","notification-wrapper",3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],[1,"notification-wrapper",3,"mouseleave","mouseenter"],[3,"notification"],[1,"close-button","mdi-close",3,"click"]],template:function(f,v){1&f&&s.YNc(0,te,3,2,"div",0),2&f&&s.Q6J("ngForOf",v.notifyService.receivedNotifications)},dependencies:[e.sg,$s],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:max-content;min-width:25rem;max-width:30vw;height:auto;max-height:70vh;position:fixed;top:100px;right:1rem;z-index:1010;gap:1rem;transition:all .5s ease-in-out}.notification-wrapper[_ngcontent-%COMP%]{display:flex;background-color:#fff;box-shadow:0 0 1px 1px #0000001a,0 .1rem 1rem #0000000d;border-radius:.5rem;padding:.3rem .6rem;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:.7rem;cursor:pointer;transition:all .2s ease-in-out;color:var(--tc-500)}.close-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"],data:{animation:[tn.zW]}}),P})();var Ze=_(383),Gt=_(8050);const Tn=["contextMenu"];function pi(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",4),s.NdJ("click",function(){const be=s.CHM(f).$implicit;s.oxw();const pt=s.MAs(1);return be.command(),s.KtG(pt.hide())}),s._UZ(1,"i"),s.TgZ(2,"span"),s._uU(3),s.qZA()()}if(2&P){const f=Ge.$implicit;s.Tol("context-button "+f.style),s.xp6(1),s.Tol(f.icon),s.xp6(2),s.Oqu(f.label)}}const So=function(){return{minWidth:"max-content",transform:"translate(1rem, .3rem)"}};var Bo=(()=>((Bo||(Bo={})).DANGER="danger",Bo))();let Os=(()=>{class P{constructor(){this.contextMenuVisible=!1,this.contextButtons=[],this.onShow=new s.vpe,this.onHide=new s.vpe}ngOnInit(){}show(f,v){!this.contextMenu||(f.preventDefault(),this.contextButtons=v,this.contextMenu.target=f.target,this.contextMenuVisible?this.contextMenu.alignOverlay():setTimeout(()=>{!this.contextMenu||this.contextMenu.show()}))}onScrollEvent(f){!this.contextMenu||this.contextMenu.visible&&this.contextMenu.alignOverlay()}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-context-menu"]],viewQuery:function(f,v){if(1&f&&s.Gf(Tn,5),2&f){let W;s.iGM(W=s.CRH())&&(v.contextMenu=W.first)}},hostBindings:function(f,v){1&f&&s.NdJ("scroll",function(be){return v.onScrollEvent(be)},!1,s.Jf7)},outputs:{onShow:"onShow",onHide:"onHide"},decls:4,vars:5,consts:[["appendTo","body",3,"visible","visibleChange","onShow","onHide"],["contextMenu",""],[1,"context-body"],["pRipple","",3,"class","click",4,"ngFor","ngForOf"],["pRipple","",3,"click"]],template:function(f,v){1&f&&(s.TgZ(0,"p-overlay",0,1),s.NdJ("visibleChange",function(be){return v.contextMenuVisible=be})("onShow",function(){return v.onShow.emit()})("onHide",function(){return v.onHide.emit()}),s.TgZ(2,"div",2),s.YNc(3,pi,4,5,"div",3),s.qZA()()),2&f&&(s.Akn(s.DdM(4,So)),s.Q6J("visible",v.contextMenuVisible),s.xp6(3),s.Q6J("ngForOf",v.contextButtons))},dependencies:[e.sg,Gt.aV,Bi.H],styles:[".context-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;background-color:#fff;overflow:hidden;box-shadow:0 0 .8px #00000006,0 0 2.1px #00000009,0 0 5.1px #0000000c,0 0 17px #00000012}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:min-content;padding:.7rem 1.4rem .7rem 1.2rem;cursor:pointer;gap:.3rem;transition:all .15s ease-in-out;font-size:1rem;color:var(--tc-600);-webkit-user-select:none;user-select:none}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]{color:var(--danger-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-100);color:var(--danger-800)}"]}),P})();var is=_(8505),zs=_(8372),ys=_(9014),sr=_(8007),Gs=_(6288);let ia=(()=>{class P{constructor(f){this.root=f,this.intersection=new s.vpe,this.observer=new IntersectionObserver((v,W)=>this.intersection.emit(v),{threshold:.5,root:this.root.nativeElement}),this.childMutationObserver=new MutationObserver(this.onChildMutation.bind(this))}ngOnInit(){this.childMutationObserver.observe(this.root.nativeElement,{childList:!0,subtree:!1})}onChildMutation(f){for(const v of f)"childList"===v.type&&(v.addedNodes.forEach(W=>{try{this.observer.observe(W)}catch(be){}}),v.removedNodes.forEach(W=>{try{this.observer.unobserve(W)}catch(be){}}))}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(s.SBq))},P.\u0275dir=s.lG2({type:P,selectors:[["","appIntersectionObserver",""]],outputs:{intersection:"intersection"}}),P})();var go=_(4968),rr=_(4482),oa=_(5403),sa=_(8421),Ia=_(5032);function Q(P){return(0,rr.e)((Ge,f)=>{let v=!1;const W=new oa.Q(f,()=>{null==W||W.unsubscribe(),v=!0},Ia.Z);(0,sa.Xf)(P).subscribe(W),Ge.subscribe(new oa.Q(f,be=>v&&f.next(be)))})}var xe=_(2722),ne=_(599),He=_(8185),ut=_(4776);let Bt=(()=>{class P{transform(f){return null!=f||null!=f?Math.floor("string"==typeof f?parseFloat(f):f):null}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275pipe=s.Yjl({name:"floor",type:P,pure:!0}),P})();const jt=["player"],Cn=["volumeOverlay"],hi=["durationControl"],li=["timeOverlay"];function gi(P,Ge){1&P&&s._UZ(0,"i",28)}function ti(P,Ge){1&P&&s._UZ(0,"i",29)}function ji(P,Ge){1&P&&s._UZ(0,"i",30)}function fi(P,Ge){1&P&&s._UZ(0,"i",31)}function Ni(P,Ge){if(1&P&&s._UZ(0,"div",32),2&P){const f=s.oxw();s.Udp("left",f.markerPosition+"px")}}function os(P,Ge){1&P&&s._UZ(0,"i",33)}function Io(P,Ge){1&P&&s._UZ(0,"i",34)}function ss(P,Ge){1&P&&s._UZ(0,"i",35)}function Is(P,Ge){1&P&&s._UZ(0,"i",36)}const jo=function(P){return{disabled:P}},Ps=function(){return{height:".7rem"}},Ee=function(){return{transform:"translate(-25%, 1rem)"}};var b=(()=>{return(P=b||(b={})).Paused="Paused",P.Playing="Playing",P.Loading="Loading",P.Error="Error",b;var P})();let x=(()=>{class P{constructor(){this.playerState=b.Loading,this.currentTime=0,this.totalTime=0,this.subscriptions=new Ze.xf,this.showVolumeLevel=!1,this.showTimeMarker=!1}get markerPosition(){return this.totalTime&&this.durationControl?this.currentTime/this.totalTime*this.durationControl.nativeElement.clientWidth:0}get totalMinutes(){return Math.floor(this.totalTime/60).toString().padStart(2,"0")}get totalSeconds(){return Math.floor(this.totalTime%60).toString().padStart(2,"0")}get currentMinutes(){return Math.floor(this.currentTime/60).toString().padStart(2,"0")}get currentSeconds(){return Math.floor(this.currentTime%60).toString().padStart(2,"0")}ngOnInit(){}ngAfterViewInit(){if(this.player){const f=this.player.nativeElement;this.subscriptions.addSubscription("onLoad",(0,go.R)(f,"loadeddata",{capture:!0}).subscribe(()=>{this.playerState=b.Paused})),this.subscriptions.addSubscription("onPlay",(0,go.R)(f,"play",{capture:!0}).subscribe(()=>{this.playerState=b.Playing})),this.subscriptions.addSubscription("onPause",(0,go.R)(f,"pause",{capture:!0}).subscribe(()=>{this.playerState=b.Paused})),this.subscriptions.addSubscription("onAbort",(0,go.R)(f,"abort",{capture:!0}).subscribe(()=>{this.playerState=b.Error})),this.subscriptions.addSubscription("onError",(0,go.R)(f,"error",{capture:!0}).subscribe(()=>{this.playerState=b.Error})),this.subscriptions.addSubscription("onEmptied",(0,go.R)(f,"emptied",{capture:!0}).subscribe(()=>{this.playerState=b.Error})),this.subscriptions.addSubscription("onTimeupdate",(0,go.R)(f,"timeupdate",{capture:!0}).subscribe(()=>{this.currentTime=f.currentTime})),this.subscriptions.addSubscription("onDurationchange",(0,go.R)(f,"durationchange",{capture:!0}).subscribe(()=>{this.totalTime=f.duration}))}if(this.player&&this.durationControl){const f=this.player.nativeElement,v=this.durationControl.nativeElement,W=(0,go.R)(document,"mousemove"),be=(0,go.R)(v,"mousedown").pipe((0,is.b)(()=>{f.pause(),this.showTimeMarker=!0})),pt=(0,go.R)(document,"mouseup").pipe(Q(be),(0,is.b)(this.calculateTime.bind(this)),(0,is.b)(()=>{this.playerState=b.Loading}),(0,is.b)(this.changeTime.bind(this))),Zt=W.pipe(Q(be),(0,xe.R)(pt),(0,ne.r)()).subscribe(this.calculateTime.bind(this));this.subscriptions.addSubscription("mouseMove",Zt)}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}calculateTime(f){var v;if(this.player&&this.durationControl){const be=this.durationControl.nativeElement,pt=this.player.nativeElement;let ui=(f.clientX-be.getBoundingClientRect().left)/be.clientWidth;ui<0?ui=0:ui>1&&(ui=1),this.currentTime=ui*pt.duration,null===(v=this.timeOverlay)||void 0===v||v.alignOverlay()}}changeTime(f){if(this.showTimeMarker=!1,this.player){const v=this.player.nativeElement;v.currentTime=this.currentTime,v.play()}}playerButtonClick(){var f,v;switch(this.playerState){case b.Playing:null===(f=this.player)||void 0===f||f.nativeElement.pause();break;case b.Paused:null===(v=this.player)||void 0===v||v.nativeElement.play()}}changeVolume(f){this.player&&(this.player.nativeElement.volume=f.value)}openVolumeOverlay(){this.showVolumeLevel=!0}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-audio-player"]],viewQuery:function(f,v){if(1&f&&(s.Gf(jt,5),s.Gf(Cn,5),s.Gf(hi,5),s.Gf(li,5)),2&f){let W;s.iGM(W=s.CRH())&&(v.player=W.first),s.iGM(W=s.CRH())&&(v.volumeOverlay=W.first),s.iGM(W=s.CRH())&&(v.durationControl=W.first),s.iGM(W=s.CRH())&&(v.timeOverlay=W.first)}},inputs:{url:"url"},decls:33,vars:39,consts:[[1,"flexed","hend","full-width","gap5"],[1,"play-button",3,"ngClass","click"],[3,"ngSwitch"],["class","mdi-play_arrow",4,"ngSwitchCase"],["class","mdi-pause",4,"ngSwitchCase"],["class","mdi-downloading",4,"ngSwitchCase"],["class","mdi-warning",4,"ngSwitchCase"],[1,"flexed","column","stretched","gap3"],[1,"timeline"],["durationControl",""],[3,"showValue","value"],["class","timeline-marker",3,"left",4,"ngIf"],["appendTo","body",3,"visible"],["timeOverlay",""],[1,"time-overlay"],[1,"flexed","hcenter","gap10"],[1,"duration"],[1,"volume-button",3,"click"],["class","mdi-volume_up",4,"ngIf"],["class","mdi-volume_down",4,"ngIf"],["class","mdi-volume_mute",4,"ngIf"],["class","mdi-volume_off",4,"ngIf"],["appendTo","body",3,"visible","visibleChange"],[1,"volume-level"],["volumeOverlay",""],["orientation","vertical",3,"min","max","step","ngModel","onChange"],[3,"src"],["player",""],[1,"mdi-play_arrow"],[1,"mdi-pause"],[1,"mdi-downloading"],[1,"mdi-warning"],[1,"timeline-marker"],[1,"mdi-volume_up"],[1,"mdi-volume_down"],[1,"mdi-volume_mute"],[1,"mdi-volume_off"]],template:function(f,v){if(1&f&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return v.playerButtonClick()}),s.ynx(2,2),s.YNc(3,gi,1,0,"i",3),s.YNc(4,ti,1,0,"i",4),s.YNc(5,ji,1,0,"i",5),s.YNc(6,fi,1,0,"i",6),s.BQk(),s.qZA(),s.TgZ(7,"div",7)(8,"div",8,9),s._UZ(10,"p-progressBar",10),s.YNc(11,Ni,1,2,"div",11),s.TgZ(12,"p-overlay",12,13)(14,"div",14),s._uU(15),s.qZA()()(),s.TgZ(16,"div",15)(17,"span",16),s._uU(18),s.qZA(),s.TgZ(19,"div",17),s.NdJ("click",function(){return v.openVolumeOverlay()}),s.YNc(20,os,1,0,"i",18),s.YNc(21,Io,1,0,"i",19),s.YNc(22,ss,1,0,"i",20),s.YNc(23,Is,1,0,"i",21),s.qZA(),s.TgZ(24,"p-overlay",22),s.NdJ("visibleChange",function(be){return v.showVolumeLevel=be}),s.TgZ(25,"div",23,24)(27,"p-slider",25),s.NdJ("onChange",function(be){return v.changeVolume(be)}),s.qZA(),s.TgZ(28,"div"),s._uU(29),s.ALo(30,"floor"),s.qZA()()()()()(),s._UZ(31,"audio",26,27)),2&f){const W=s.MAs(32);s.Udp("user-select","none"),s.xp6(1),s.Q6J("ngClass",s.VKq(35,jo,!v.url||"Loading"===v.playerState||"Error"===v.playerState)),s.xp6(1),s.Q6J("ngSwitch",v.playerState),s.xp6(1),s.Q6J("ngSwitchCase","Paused"),s.xp6(1),s.Q6J("ngSwitchCase","Playing"),s.xp6(1),s.Q6J("ngSwitchCase","Loading"),s.xp6(1),s.Q6J("ngSwitchCase","Error"),s.xp6(4),s.Akn(s.DdM(37,Ps)),s.Q6J("showValue",!1)("value",v.currentTime/v.totalTime*100),s.xp6(1),s.Q6J("ngIf",v.showTimeMarker),s.xp6(1),s.Akn(s.DdM(38,Ee)),s.Q6J("visible",v.showTimeMarker),s.xp6(3),s.AsE(" ",v.currentMinutes,":",v.currentSeconds," "),s.xp6(3),s.HOy("",v.currentMinutes,":",v.currentSeconds," / ",v.totalMinutes,":",v.totalSeconds,""),s.xp6(2),s.Q6J("ngIf",W.volume>.8),s.xp6(1),s.Q6J("ngIf",W.volume<=.8&&W.volume>.5),s.xp6(1),s.Q6J("ngIf",W.volume<=.5&&W.volume>0),s.xp6(1),s.Q6J("ngIf",0===W.volume),s.xp6(1),s.Q6J("visible",v.showVolumeLevel),s.xp6(3),s.Q6J("min",0)("max",1)("step",.05)("ngModel",W.volume),s.xp6(2),s.hij("",s.lcZ(30,33,100*W.volume),"%"),s.xp6(2),s.Q6J("src",v.url,s.LSH)}},dependencies:[e.mk,e.O5,e.RF,e.n9,sn.JJ,sn.On,Gt.aV,He.k,ut.iR,Bt],styles:[".play-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s}.play-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.play-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}.volume-button[_ngcontent-%COMP%]{color:var(--tc-500);cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative}.volume-level[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1.2rem .7rem .5rem;box-shadow:0 .4px .4px #00000005,0 1px 1px #00000007,0 1.9px 1.9px #00000009,0 3.4px 3.4px #0000000b,0 6.3px 6.3px #0000000d,0 15px 15px #00000012}.volume-level[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:var(--tc-500)}.timeline[_ngcontent-%COMP%]{position:relative}.timeline-marker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:translate(-50%,-.25rem);width:1.2rem;height:1.2rem;border-radius:50%;background-color:var(--mc-300);box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}.time-overlay[_ngcontent-%COMP%]{border-radius:.3rem;padding:.5rem;background-color:#fff;box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}"]}),P})(),se=(()=>{class P{constructor(f){this.element=f}ngAfterViewInit(){const f=this.element.nativeElement;f.innerHTML=f.innerHTML.replace(new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"g"),'<span class="emoji">$&</span>')}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(s.SBq))},P.\u0275dir=s.lG2({type:P,selectors:[["","appEmojiStyleApply",""]]}),P})();var Re=_(2059);function Ke(P,Ge){1&P&&s._UZ(0,"i",10)}function _t(P,Ge){1&P&&s._UZ(0,"i",11)}function At(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",6),s.NdJ("click",function(W){s.CHM(f);const be=s.oxw();return s.KtG(be.open(W))}),s.ynx(1,7),s.YNc(2,Ke,1,0,"i",8),s.YNc(3,_t,1,0,"i",9),s.BQk(),s.qZA()}if(2&P){const f=s.oxw();s.xp6(1),s.Q6J("ngSwitch",f.attachmentType),s.xp6(1),s.Q6J("ngSwitchCase","DOCUMENT"),s.xp6(1),s.Q6J("ngSwitchCase","FILE")}}function Lt(P,Ge){1&P&&(s.TgZ(0,"div",12),s._UZ(1,"i",13),s.qZA())}let Xt=(()=>{class P{constructor(f){this.router=f,this.baseUrl="/api/private/attachment/"}get hasAttachment(){return!!this.attachment}get attachmentType(){var f,v;return null!==(v=null===(f=this.attachment)||void 0===f?void 0:f.type)&&void 0!==v?v:"unknown"}get name(){var f,v;return null!==(v=null===(f=this.attachment)||void 0===f?void 0:f.name)&&void 0!==v?v:"\u041d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"}get size(){return this.attachment&&this.attachment.size?this.attachment.size>1e6?(this.attachment.size/1e6).toFixed(2)+" MByte":this.attachment.size>1e3?(this.attachment.size/1e3).toFixed(2)+" KByte":this.attachment.size+" byte":"-- byte"}ngOnInit(){}open(f){this.attachment&&window.open(this.baseUrl+this.attachment.name,"_blank")}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(H.F0))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-file-attachment"]],inputs:{attachment:"attachment"},decls:8,vars:6,consts:[[1,"flexed","hend","full-width","gap5"],["class","file-button",3,"click",4,"ngIf"],["class","file-button disabled",4,"ngIf"],[1,"flexed","column","stretched","gap3"],[1,"caption","one-line"],[1,"caption","size-small","f-color-500"],[1,"file-button",3,"click"],[3,"ngSwitch"],["class","mdi-description",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchCase"],[1,"mdi-description"],[1,"mdi-insert_drive_file"],[1,"file-button","disabled"],[1,"mdi-warning"]],template:function(f,v){1&f&&(s.TgZ(0,"div",0),s.YNc(1,At,4,3,"div",1),s.YNc(2,Lt,2,0,"div",2),s.TgZ(3,"div",3)(4,"span",4),s._uU(5),s.qZA(),s.TgZ(6,"span",5),s._uU(7),s.qZA()()()),2&f&&(s.Udp("user-select","none"),s.xp6(1),s.Q6J("ngIf",v.hasAttachment),s.xp6(1),s.Q6J("ngIf",!v.hasAttachment),s.xp6(3),s.Oqu(v.name),s.xp6(2),s.Oqu(v.size))},dependencies:[e.O5,e.RF,e.n9],styles:[".file-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1rem;cursor:pointer;transition:all .3s}.file-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.file-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}"]}),P})();var mn=_(4004);function En(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",7),s.NdJ("click",function(){const be=s.CHM(f).$implicit,pt=s.oxw();return s.KtG(pt.choosingEventEmitter.emit(be))}),s.TgZ(1,"span"),s._uU(2),s.qZA()()}if(2&P){const f=Ge.$implicit;s.xp6(2),s.Oqu(f.code)}}const jn=function(P){return{active:P}};function Yn(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",8),s.NdJ("click",function(){const be=s.CHM(f).index,pt=s.oxw();return s.KtG(pt.activeCategory=be)}),s.TgZ(1,"span"),s._uU(2),s.qZA(),s.TgZ(3,"div"),s._uU(4),s.qZA()()}if(2&P){const f=Ge.$implicit,v=Ge.index,W=s.oxw();s.Q6J("ngClass",s.VKq(3,jn,W.activeCategory===v)),s.xp6(2),s.Oqu(f.titleEmoji),s.xp6(2),s.Oqu(f.name)}}let Nn=(()=>{class P{constructor(){this.activeCategory=0,this.emojis=[],this.categories=[{titleEmoji:String.fromCodePoint(128512),name:"\u0421\u043c\u0430\u0439\u043b\u044b",emojiRanges:[{start:128512,end:128591},{start:9785,end:9786},{start:9994,end:9997},{start:128064,end:128079},{start:128102,end:128127},{start:129296,end:129327}]},{titleEmoji:String.fromCodePoint(128054),name:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430",emojiRanges:[{start:128e3,end:128063},{start:127744,end:127777},{start:127780,end:127788},{start:127792,end:127812}]},{titleEmoji:String.fromCodePoint(127789),name:"\u0415\u0434\u0430",emojiRanges:[{start:127789,end:127791},{start:127813,end:127871},{start:129360,end:129391}]}],this.choosingEventEmitter=new s.vpe,this.onChoosing=this.choosingEventEmitter.pipe((0,is.b)(()=>{this.showPanel=!1}),(0,mn.U)(f=>f.code)),this.showPanel=!1,this.subscriptions=new Ze.xf}get activeEmojis(){return this.categories[this.activeCategory].emojiRanges.map(f=>{const v=[];for(let W=f.start;W<=f.end;W++)v.push(this.fromCodePoint(W));return v}).flat()}ngOnInit(){const f=(0,go.R)(document,"scroll");this.subscriptions.addSubscription("wscr",f.subscribe(()=>{this.showPanel=!1}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}fromCodePoint(...f){return{name:f.map(v=>v.toString(16)).join(),code:String.fromCodePoint(...f)}}emojiTrack(f,v){return v.name}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-emoji-panel"]],outputs:{onChoosing:"onChoosing"},decls:7,vars:4,consts:[["styleClass","p-button-secondary p-button-icon p-button-text p-button-rounded","icon","mdi-sentiment_satisfied_alt",3,"onClick"],["appendTo","body",3,"visible","visibleChange"],[1,"emoji-panel"],[1,"emoji-panel-list"],["class","emoji-panel-list-item primary","pRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"emoji-panel-categories"],["class","emoji-panel-categories-category","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["pRipple","",1,"emoji-panel-list-item","primary",3,"click"],["pRipple","",1,"emoji-panel-categories-category",3,"ngClass","click"]],template:function(f,v){1&f&&(s.TgZ(0,"p-button",0),s.NdJ("onClick",function(){return v.showPanel=!0}),s.qZA(),s.TgZ(1,"p-overlay",1),s.NdJ("visibleChange",function(be){return v.showPanel=be}),s.TgZ(2,"div",2)(3,"div",3),s.YNc(4,En,3,1,"div",4),s.qZA(),s.TgZ(5,"div",5),s.YNc(6,Yn,5,5,"div",6),s.qZA()()()),2&f&&(s.xp6(1),s.Q6J("visible",v.showPanel),s.xp6(3),s.Q6J("ngForOf",v.activeEmojis)("ngForTrackBy",v.emojiTrack),s.xp6(2),s.Q6J("ngForOf",v.categories))},dependencies:[e.mk,e.sg,le.zx,Gt.aV,Bi.H],styles:[".emoji-panel[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr min-content;gap:.5rem;padding:1rem;border-radius:.5rem;background-color:#fff;box-shadow:0 .2px .7px #00000006,0 .6px 1.9px #00000009,0 1.5px 4.5px #0000000c,0 5px 15px #00000012}.emoji-panel[_ngcontent-%COMP%]   .emoji-panel-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:20rem;max-height:25rem;overflow-x:hidden;overflow-y:auto;gap:.1rem;overscroll-behavior:none}.emoji-panel[_ngcontent-%COMP%]   .emoji-panel-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:min-content;aspect-ratio:1;border-radius:.3rem;border:1px solid transparent;transition:border .2s ease;padding:.3rem;cursor:pointer}.emoji-panel[_ngcontent-%COMP%]   .emoji-panel-list-item[_ngcontent-%COMP%]:hover{border-color:var(--mc-400)}.emoji-panel[_ngcontent-%COMP%]   .emoji-panel-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Noto Color Emoji,serif;font-size:1.5rem}.emoji-panel-categories[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden}.emoji-panel-categories-category[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.5rem .5rem .2rem;border-radius:.3rem;border-bottom:1px solid transparent;color:var(--tc-500);cursor:pointer;-webkit-user-select:none;user-select:none}.emoji-panel-categories-category.active[_ngcontent-%COMP%]{color:var(--mc-400);border-radius:0;border-bottom-color:var(--mc-400);cursor:default}.emoji-panel-categories-category[_ngcontent-%COMP%]:not(.active):hover{background-color:var(--bgc-200)}.emoji-panel-categories-category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Noto Color Emoji,serif;font-size:1.5rem}.emoji-panel-categories-category[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;text-align:center}"]}),P})();var Hn=_(1787);const ci=["messageInput"],vi=["contextMenu"],no=function(){return[]};function Ho(P,Ge){if(1&P&&(s.TgZ(0,"div",6)(1,"span",7),s._UZ(2,"i",8),s._uU(3),s.qZA(),s._UZ(4,"app-avatar-list",9),s.qZA()),2&P){const f=s.oxw();let v;s.xp6(3),s.hij(" ",null==f.currentChat?null:f.currentChat.title,""),s.xp6(1),s.Q6J("employees",null!==(v=null==f.currentChat?null:f.currentChat.members)&&void 0!==v?v:s.DdM(2,no))}}function io(P,Ge){1&P&&s.GkF(0)}const Qs=function(P){return{shaded:P}},Wo=function(P){return{$implicit:P}};function Mi(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",22),s.NdJ("contextmenu",function(W){const pt=s.CHM(f).$implicit,Zt=s.oxw(3);return s.KtG(Zt.showContext(W,pt))}),s._UZ(1,"app-avatar",23),s.YNc(2,io,1,0,"ng-container",24),s.qZA()}if(2&P){const f=Ge.$implicit,v=s.oxw(3),W=s.MAs(6);s.Q6J("@fade",void 0)("ngClass",s.VKq(9,Qs,v.messageContexted===f.superMessageId)),s.uIk("data-msg",v.getMessagesIds(f)),s.xp6(1),s.Q6J("deleted",f.author.deleted)("name",f.author.fullName)("size",2.3)("src",f.author.avatar),s.xp6(1),s.Q6J("ngTemplateOutlet",W)("ngTemplateOutletContext",s.VKq(11,Wo,f))}}function Ko(P,Ge){1&P&&(s.TgZ(0,"div",26),s._UZ(1,"p-skeleton",27)(2,"p-skeleton",28),s.qZA())}function As(P,Ge){if(1&P&&(s.ynx(0),s.YNc(1,Ko,3,0,"div",25),s.BQk()),2&P){const f=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",f.loadingsStubs)}}function Ao(P,Ge){if(1&P&&s._UZ(0,"div",29),2&P){s.oxw();const f=s.MAs(1);s.Udp("transform","translateY("+f.scrollTop+"px)"),s.Q6J("@fade",void 0)}}const ar=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function Rs(P,Ge){if(1&P&&s._UZ(0,"p-badge",33),2&P){const f=s.oxw(4);s.Akn(s.DdM(3,ar)),s.Q6J("value",f.unreadCount.toString())}}function us(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",30),s.NdJ("click",function(){s.CHM(f),s.oxw();const W=s.MAs(1);return s.KtG(W.scrollTo({top:0,behavior:"smooth"}))}),s.YNc(1,Rs,1,4,"p-badge",31),s._UZ(2,"i",32),s.qZA()}if(2&P){s.oxw();const f=s.MAs(1),v=s.oxw(2);s.Udp("transform","translateY("+f.scrollTop+"px)"),s.Q6J("@fade",void 0),s.xp6(1),s.Q6J("ngIf",v.unreadCount>0)}}const lr=function(P){return{unread:P}};function Aa(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",14,15),s.NdJ("intersection",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.readMessage(W))})("onScrollToBottom",function(){s.CHM(f);const W=s.oxw(2);return s.KtG(W.loadMessages())})("scroll",function(){s.CHM(f);const W=s.oxw(2);return s.KtG(W.startButtonVisibleEmitter.emit())}),s.YNc(2,Mi,3,13,"div",16),s.YNc(3,As,2,1,"ng-container",17),s.YNc(4,Ao,1,3,"div",18),s.TgZ(5,"app-context-menu",19,20),s.NdJ("onHide",function(){s.CHM(f);const W=s.oxw(2);return s.KtG(W.shaderVisible=!1)})("onShow",function(){s.CHM(f);const W=s.oxw(2);return s.KtG(W.shaderVisible=!0)}),s.qZA(),s.YNc(7,us,3,4,"div",21),s.qZA()}if(2&P){const f=s.MAs(1),v=s.oxw(2);s.Udp("overflow",v.shaderVisible?"hidden":""),s.Q6J("ngClass",s.VKq(8,lr,v.unreadCount>0)),s.xp6(2),s.Q6J("ngForOf",v.messages)("ngForTrackBy",v.trackMessages),s.xp6(1),s.Q6J("ngIf",v.isLoading),s.xp6(1),s.Q6J("ngIf",v.shaderVisible),s.xp6(3),s.Q6J("ngIf",f.scrollTop<-100&&v.startButtonVisible&&!v.shaderVisible)}}function Mn(P,Ge){1&P&&(s.TgZ(0,"div",34),s._UZ(1,"i",8),s.TgZ(2,"span"),s._uU(3," \u0427\u0430\u0442 \u043f\u0443\u0441\u0442 "),s.qZA()())}function Rn(P,Ge){1&P&&s.GkF(0)}function Fn(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",44)(1,"div",45),s._UZ(2,"i",46),s.TgZ(3,"span"),s._uU(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),s.qZA()(),s.TgZ(5,"div",6),s.YNc(6,Rn,1,0,"ng-container",24),s.TgZ(7,"p-button",47),s.NdJ("onClick",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.clearEditMessage())}),s.qZA()()()}if(2&P){const f=s.oxw(3),v=s.MAs(4);s.xp6(6),s.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",s.VKq(2,Wo,f.editMessage))}}function ni(P,Ge){1&P&&s.GkF(0)}function Wn(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",44)(1,"div",45),s._UZ(2,"i",48),s.TgZ(3,"span"),s._uU(4,"\u041e\u0442\u0432\u0435\u0442"),s.qZA()(),s.TgZ(5,"div",6),s.YNc(6,ni,1,0,"ng-container",24),s.TgZ(7,"p-button",47),s.NdJ("onClick",function(){s.CHM(f);const W=s.oxw(3);return s.KtG(W.clearReplyMessage())}),s.qZA()()()}if(2&P){const f=s.oxw(3),v=s.MAs(4);s.xp6(6),s.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",s.VKq(2,Wo,f.replyMessage))}}function Vo(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",35),s.YNc(1,Fn,8,4,"div",36),s.YNc(2,Wn,8,4,"div",36),s.TgZ(3,"div",37)(4,"textarea",38,39),s.NdJ("keydown",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.messageInputKeyDown(W))})("ngModelChange",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.sendingText=W)}),s.qZA(),s.TgZ(6,"div",40)(7,"app-emoji-panel",41),s.NdJ("onChoosing",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.insertEmoji(W))}),s.qZA(),s.TgZ(8,"app-file-input",42),s.NdJ("filesChange",function(W){s.CHM(f);const be=s.oxw(2);return s.KtG(be.sendingFiles=W)}),s.qZA(),s.TgZ(9,"p-button",43),s.NdJ("onClick",function(){s.CHM(f);const W=s.oxw(2);return s.KtG(W.sendMessage())}),s.qZA()()()()}if(2&P){const f=s.oxw(2);s.Q6J("ngClass",s.VKq(10,lr,f.unreadCount>0)),s.xp6(1),s.Q6J("ngIf",f.editMessage),s.xp6(1),s.Q6J("ngIf",f.replyMessage),s.xp6(2),s.Q6J("ngModel",f.sendingText)("disabled",f.isBeginSending),s.xp6(4),s.Q6J("files",f.sendingFiles)("disabled",f.isBeginSending||!!f.editMessage)("short",!0),s.xp6(1),s.Q6J("disabled",f.isNotReady)("loading",f.isBeginSending)}}function Zo(P,Ge){1&P&&(s.TgZ(0,"div",49)(1,"span",50),s._UZ(2,"i",51),s.TgZ(3,"span"),s._uU(4,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),s.qZA()()())}function rs(P,Ge){if(1&P&&(s.YNc(0,Aa,8,10,"div",10),s.YNc(1,Mn,4,0,"div",11),s.YNc(2,Vo,10,12,"div",12),s.YNc(3,Zo,5,0,"div",13)),2&P){const f=s.oxw();s.Q6J("ngIf",f.isLoading||f.messages.length>0),s.xp6(1),s.Q6J("ngIf",!f.isLoading&&0===f.messages.length),s.xp6(1),s.Q6J("ngIf",!(null!=f.currentChat&&f.currentChat.closed)),s.xp6(1),s.Q6J("ngIf",null==f.currentChat?null:f.currentChat.closed)}}function xi(P,Ge){if(1&P&&(s.TgZ(0,"div",52),s._UZ(1,"app-avatar",53),s.TgZ(2,"span",54),s._uU(3),s.qZA(),s.TgZ(4,"span",55),s._uU(5),s.qZA()()),2&P){const f=Ge.$implicit;s.xp6(1),s.Q6J("name",f.author.fullName)("size",1.7)("src",f.author.avatar),s.xp6(2),s.Oqu(f.author.fullName),s.xp6(2),s.Oqu(f.text)}}function Js(P,Ge){1&P&&s.GkF(0)}function $a(P,Ge){if(1&P&&(s.ynx(0),s.YNc(1,Js,1,0,"ng-container",24),s.BQk()),2&P){const f=s.oxw(2).$implicit;s.oxw();const v=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",s.VKq(2,Wo,f.replyTo))}}function ao(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",67),s.NdJ("click",function(){s.CHM(f);const W=s.oxw().$implicit,be=s.oxw(5);return s.KtG(be.mediaViewer.showMedia(W))}),s._UZ(1,"img",68),s.qZA()}if(2&P){const f=s.oxw().$implicit,v=s.oxw(5);s.xp6(1),s.Q6J("src",v.thumbnailUrl+f.name,s.LSH)}}function js(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",69),s.NdJ("click",function(){s.CHM(f);const W=s.oxw().$implicit,be=s.oxw(5);return s.KtG(be.mediaViewer.showMedia(W))}),s._UZ(1,"img",68),s.TgZ(2,"div",70),s._UZ(3,"i",71),s.qZA()()}if(2&P){const f=s.oxw().$implicit,v=s.oxw(5);s.xp6(1),s.Q6J("src",v.thumbnailUrl+f.name,s.LSH)}}function ds(P,Ge){if(1&P&&(s.TgZ(0,"div",61),s.YNc(1,ao,2,1,"div",65),s.YNc(2,js,4,1,"div",66),s.qZA()),2&P){const f=Ge.$implicit;s.Tol("media-item i"+Ge.index),s.Q6J("ngSwitch",f.type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO")}}function Hr(P,Ge){if(1&P&&(s.TgZ(0,"div"),s.YNc(1,ds,3,5,"div",64),s.qZA()),2&P){const f=s.oxw(3).$implicit,v=s.oxw();s.Tol("media-grid g"+f.attachments.length),s.xp6(1),s.Q6J("ngForOf",f.attachments)("ngForTrackBy",v.trackAttachment)}}function cr(P,Ge){if(1&P&&s._UZ(0,"app-audio-player",74),2&P){const f=Ge.$implicit,v=s.oxw(5);s.Q6J("url",v.fileUrl+f.name)}}function Vr(P,Ge){if(1&P&&(s.TgZ(0,"div",72),s.YNc(1,cr,1,1,"app-audio-player",73),s.qZA()),2&P){const f=s.oxw(3).$implicit;s.xp6(1),s.Q6J("ngForOf",f.attachments)}}function ur(P,Ge){1&P&&s._UZ(0,"app-file-attachment",76),2&P&&s.Q6J("attachment",Ge.$implicit)}function Ta(P,Ge){if(1&P&&(s.TgZ(0,"div",72),s.YNc(1,ur,1,1,"app-file-attachment",75),s.qZA()),2&P){const f=s.oxw(3).$implicit;s.xp6(1),s.Q6J("ngForOf",f.attachments)}}function qa(P,Ge){if(1&P&&(s.ynx(0,61),s.YNc(1,Hr,2,4,"div",62),s.YNc(2,Vr,2,1,"div",63),s.YNc(3,Ta,2,1,"div",63),s.BQk()),2&P){const f=s.oxw(2).$implicit;s.Q6J("ngSwitch",f.attachmentType),s.xp6(1),s.Q6J("ngSwitchCase","VISUAL"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"),s.xp6(1),s.Q6J("ngSwitchCase","FILE")}}const Ls=function(P,Ge,f){return{my:P,unread:Ge,reply:f}};function Ir(P,Ge){if(1&P&&(s.ynx(0),s.TgZ(1,"div",56),s.YNc(2,$a,2,4,"ng-container",17),s.TgZ(3,"div",57),s._uU(4),s.qZA(),s.YNc(5,qa,4,4,"ng-container",58),s.TgZ(6,"div",55)(7,"span",59),s._uU(8),s.qZA(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.ALo(12,"date"),s.qZA()()()(),s.BQk()),2&P){const f=s.oxw().$implicit,v=s.oxw();s.xp6(1),s.Q6J("ngClass",s.kEZ(9,Ls,v.isMy(f.author),!v.readOut(f),f.replyTo)),s.xp6(1),s.Q6J("ngIf",f.replyTo),s.xp6(2),s.hij(" ",f.author.fullName," "),s.xp6(1),s.Q6J("ngIf",f.mediaGroup),s.xp6(3),s.Oqu(f.text),s.xp6(3),s.Oqu(s.xi3(12,6,f.sendAt,"HH:mm"))}}function cp(P,Ge){1&P&&s.GkF(0)}function Rl(P,Ge){if(1&P&&(s.ynx(0),s.YNc(1,cp,1,0,"ng-container",24),s.BQk()),2&P){const f=s.oxw(2).$implicit;s.oxw();const v=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",s.VKq(2,Wo,f.replyTo))}}function Di(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",67),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(2).$implicit,be=s.oxw();return s.KtG(be.mediaViewer.showMedia(W.attachments[0]))}),s._UZ(1,"img",68),s.qZA()}if(2&P){const f=s.oxw(2).$implicit,v=s.oxw();s.xp6(1),s.Q6J("src",v.thumbnailUrl+f.attachments[0].name,s.LSH)}}function Ll(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",69),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(2).$implicit,be=s.oxw();return s.KtG(be.mediaViewer.showMedia(W.attachments[0]))}),s._UZ(1,"img",68),s.TgZ(2,"div",70),s._UZ(3,"i",71),s.qZA()()}if(2&P){const f=s.oxw(2).$implicit,v=s.oxw();s.xp6(1),s.Q6J("src",v.thumbnailUrl+f.attachments[0].name,s.LSH)}}function Su(P,Ge){if(1&P&&(s.TgZ(0,"div",80),s._UZ(1,"app-audio-player",74),s.qZA()),2&P){const f=s.oxw(2).$implicit,v=s.oxw();s.xp6(1),s.Q6J("url",v.fileUrl+f.attachments[0].name)}}function ku(P,Ge){if(1&P&&(s.TgZ(0,"div",81),s._UZ(1,"app-file-attachment",76),s.qZA()),2&P){const f=s.oxw(2).$implicit;s.xp6(1),s.Q6J("attachment",f.attachments[0])}}function Mu(P,Ge){if(1&P&&(s.ynx(0),s.TgZ(1,"div",77),s.YNc(2,Rl,2,4,"ng-container",17),s.TgZ(3,"div",57),s._uU(4),s.qZA(),s.ynx(5,61),s.YNc(6,Di,2,1,"div",65),s.YNc(7,Ll,4,1,"div",66),s.YNc(8,Su,2,1,"div",78),s.YNc(9,ku,2,1,"div",79),s.BQk(),s.TgZ(10,"div",55)(11,"span",59),s._uU(12),s.qZA(),s.TgZ(13,"div",60)(14,"span"),s._uU(15),s.ALo(16,"date"),s.qZA()()()(),s.BQk()),2&P){const f=s.oxw().$implicit,v=s.oxw();s.xp6(1),s.Q6J("ngClass",s.kEZ(12,Ls,v.isMy(f.author),!v.readOut(f),f.replyTo)),s.xp6(1),s.Q6J("ngIf",f.replyTo),s.xp6(2),s.hij(" ",f.author.fullName," "),s.xp6(1),s.Q6J("ngSwitch",f.attachments[0].type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"),s.xp6(4),s.Oqu(f.text),s.xp6(3),s.Oqu(s.xi3(16,9,f.sendAt,"HH:mm"))}}function Lc(P,Ge){1&P&&s.GkF(0)}function Du(P,Ge){if(1&P&&(s.ynx(0),s.YNc(1,Lc,1,0,"ng-container",24),s.BQk()),2&P){const f=s.oxw(2).$implicit;s.oxw();const v=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",s.VKq(2,Wo,f.replyTo))}}function Ou(P,Ge){if(1&P&&(s.ynx(0),s.TgZ(1,"div",82),s.YNc(2,Du,2,4,"ng-container",17),s.TgZ(3,"div",57),s._uU(4),s.qZA(),s.TgZ(5,"div",55)(6,"span",59),s._uU(7),s.qZA(),s.TgZ(8,"div",60)(9,"span"),s._uU(10),s.ALo(11,"date"),s.qZA()()()(),s.BQk()),2&P){const f=s.oxw().$implicit,v=s.oxw();s.xp6(1),s.Q6J("ngClass",s.kEZ(8,Ls,v.isMy(f.author),!v.readOut(f),f.replyTo)),s.xp6(1),s.Q6J("ngIf",f.replyTo),s.xp6(2),s.hij(" ",f.author.fullName," "),s.xp6(3),s.Oqu(f.text),s.xp6(3),s.Oqu(s.xi3(11,5,f.sendAt,"HH:mm"))}}function Ar(P,Ge){if(1&P&&(s.YNc(0,Ir,13,13,"ng-container",17),s.YNc(1,Mu,17,16,"ng-container",17),s.YNc(2,Ou,12,12,"ng-container",17)),2&P){const f=Ge.$implicit;s.Q6J("ngIf",f.attachments.length>1),s.xp6(1),s.Q6J("ngIf",1===f.attachments.length),s.xp6(1),s.Q6J("ngIf",0===f.attachments.length)}}function up(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",67),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(2).$implicit,be=s.oxw();return s.KtG(be.mediaViewer.showMedia(W.attachments[0]))}),s._UZ(1,"img",68),s.qZA()}if(2&P){const f=s.oxw(2).$implicit,v=s.oxw();s.xp6(1),s.Q6J("src",v.thumbnailUrl+f.attachments[0].name,s.LSH)}}function Nc(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",69),s.NdJ("click",function(){s.CHM(f);const W=s.oxw(2).$implicit,be=s.oxw();return s.KtG(be.mediaViewer.showMedia(W.attachments[0]))}),s._UZ(1,"video",84),s.TgZ(2,"div",70),s._UZ(3,"i",71),s.qZA()()}if(2&P){const f=s.oxw(2).$implicit,v=s.oxw();s.xp6(1),s.Q6J("controls",!1)("src",v.thumbnailUrl+f.attachments[0].name,s.LSH)}}function fo(P,Ge){if(1&P&&(s.TgZ(0,"div",80),s._UZ(1,"app-audio-player",74),s.qZA()),2&P){const f=s.oxw(2).$implicit,v=s.oxw();s.xp6(1),s.Q6J("url",v.fileUrl+f.attachments[0].name)}}function Zr(P,Ge){if(1&P&&(s.TgZ(0,"div",81),s._UZ(1,"app-file-attachment",76),s.qZA()),2&P){const f=s.oxw(2).$implicit;s.xp6(1),s.Q6J("attachment",f.attachments[0])}}function wa(P,Ge){if(1&P&&(s.ynx(0)(1,61),s.YNc(2,up,2,1,"div",65),s.YNc(3,Nc,4,2,"div",66),s.YNc(4,fo,2,1,"div",78),s.YNc(5,Zr,2,1,"div",79),s.BQk()()),2&P){const f=s.oxw().$implicit;s.xp6(1),s.Q6J("ngSwitch",f.attachments[0].type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO")}}function Xa(P,Ge){if(1&P&&(s.TgZ(0,"div",83)(1,"div",57),s._uU(2),s.qZA(),s.YNc(3,wa,6,4,"ng-container",17),s.TgZ(4,"div",55)(5,"span",59),s._uU(6),s.qZA()()()),2&P){const f=Ge.$implicit;s.xp6(2),s.hij(" ",f.author.fullName," "),s.xp6(1),s.Q6J("ngIf",f.attachments&&1===f.attachments.length),s.xp6(3),s.Oqu(f.text)}}const Ur=function(){return{width:"min-content",height:"50vh",minWidth:"27rem",minHeight:"15rem",maxWidth:"70vw",maxHeight:"90vh"}},Uo=function(){return{display:"grid",padding:"0",height:"100%",grid:"1fr min-content / 1fr"}};let zr=(()=>{class P{constructor(f,v,W,be,pt){this.personality=f,this.api=v,this.mediaViewer=W,this.chatService=be,this.rt=pt,this.chatId=0,this.isShow=!1,this.thumbnailUrl="/api/private/thumbnail/",this.fileUrl="/api/private/attachment/",this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.unreadCount=0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.shaderVisible=!1,this.messageContexted=-1,this.startButtonVisibleEmitter=new s.vpe,this.startButtonVisible=!0,this.loadingsStubs=Array(5).fill(null),this.subscriptions=new Ze.xf}get isNotReady(){return 0===this.sendingText.trim().length&&0===this.sendingFiles.length}trackAttachment(f,v){return v.name}isMy(f){var v;return(null===(v=this.personality.me)||void 0===v?void 0:v.login)===f.login}ngOnInit(){}ngAfterViewInit(){const f=this.startButtonVisibleEmitter.pipe((0,is.b)(()=>this.startButtonVisible=!1),(0,zs.b)(300));this.subscriptions.addSubscription("startButton",f.subscribe(()=>this.startButtonVisible=!0))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}show(f){const v=this.chatId!==f;if(this.chatId=f,this.isShow&&v)return this.isShow=!1,void setTimeout(()=>{this.isShow=!0},500);this.isShow=!0}trackMessages(f,v){return v.superMessageId+v.text}loadChat(){this.api.getChat(this.chatId).subscribe({next:f=>{this.currentChat=f,this.chatService.currentOpenChat=f.chatId}}),this.api.getCountOfUnreadMessages(this.chatId).subscribe(f=>this.unreadCount=f),this.subscriptions.addSubscription("chatUpd",this.rt.chatUpdated().subscribe(this.updateChat.bind(this)))}loadMessages(){!this.isEnd&&!this.isLoading&&(this.isLoading=!0,this.api.getChatMessages(this.chatId,this.first,25).subscribe({next:f=>{this.first=this.first+f.size,this.totalMessages=f.totalElements,this.isEnd=f.last,this.isLoading=!1,this.messages=[...this.messages,...f.content]},error:()=>{this.isLoading=!1}}))}sendMessage(){var f;this.isBeginSending=!0,this.editMessage?this.api.editChatMessage(this.editMessage.superMessageId,this.sendingText).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.editMessage=void 0,setTimeout(()=>{var v;null===(v=this.messageInput)||void 0===v||v.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var v;null===(v=this.messageInput)||void 0===v||v.nativeElement.focus()})}}):this.api.sendChatMessage(this.chatId,this.sendingText,this.sendingFiles,null===(f=this.replyMessage)||void 0===f?void 0:f.superMessageId).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,setTimeout(()=>{var v;null===(v=this.messageInput)||void 0===v||v.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var v;null===(v=this.messageInput)||void 0===v||v.nativeElement.focus()})}})}messageInputKeyDown(f){var v,W;if("Enter"===f.key)if(f.ctrlKey||this.isNotReady){const be=f.target,pt=be.selectionStart,Zt=be.selectionEnd;be.value=be.value.substring(0,null!=pt?pt:-1)+"\n"+be.value.substring(null!=Zt?Zt:-1),this.sendingText=be.value,be.selectionStart=null!==(v=pt+1)&&void 0!==v?v:0,be.selectionEnd=null!==(W=pt+1)&&void 0!==W?W:0}else f.preventDefault(),this.sendMessage()}insertEmoji(f){var v,W,be;if(null===(v=this.messageInput)||void 0===v||!v.nativeElement)return;const pt=this.messageInput.nativeElement;pt.focus();const Zt=pt.selectionStart,Sn=pt.selectionEnd;pt.value=pt.value.substring(0,null!=Zt?Zt:-1)+f+pt.value.substring(null!=Sn?Sn:-1),pt.selectionStart=null!==(W=Zt+1)&&void 0!==W?W:0,pt.selectionEnd=null!==(be=Zt+1)&&void 0!==be?be:0,this.sendingText=pt.value}whenOpenPanel(){var f,v;this.loadChat(),this.loadMessages(),this.subscriptions.addSubscription("msgCr",this.rt.chatMessageCreated(this.chatId).subscribe(this.createMessage.bind(this))),this.subscriptions.addSubscription("msgUpd",this.rt.chatMessageUpdated(this.chatId).subscribe(this.updateMessage.bind(this))),this.subscriptions.addSubscription("msgDel",this.rt.chatMessageDeleted(this.chatId).subscribe(this.deleteMessage.bind(this))),this.subscriptions.addSubscription("unreadCount",this.rt.updateCountUnreadMessages(null!==(v=null===(f=this.personality.me)||void 0===f?void 0:f.login)&&void 0!==v?v:"").subscribe(W=>{this.chatId===W.chatId&&(this.unreadCount=W.count)}))}flushMessages(){this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.chatService.currentOpenChat=void 0,this.subscriptions.unsubscribeAll()}readMessage(f){f.forEach(v=>{var W,be;if(v.isIntersecting){const pt=JSON.parse(null!==(be=null===(W=v.target.attributes.getNamedItem("data-msg"))||void 0===W?void 0:W.value)&&void 0!==be?be:"null");1===this.messages.filter(Sn=>JSON.stringify(Sn.includedMessages)===JSON.stringify(pt)&&!this.readOut(Sn)).length&&this.api.setMessagesAsRead(pt).subscribe()}})}getMessagesIds(f){return f.includedMessages?JSON.stringify(f.includedMessages):"[]"}readOut(f){var v,W;const be=this.personality.me;return!be||null===(v=this.currentChat)||void 0===v||!v.members.map(pt=>pt.login).includes(be.login)||(null===(W=f.readByEmployees)||void 0===W?void 0:W.map(pt=>pt.login).includes(be.login))}showContext(f,v){if(!this.contextMenu)return;this.messageContexted=v.superMessageId;const W=[{label:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",icon:"mdi-reply",command:()=>{var be;this.replyMessage=v,null===(be=this.messageInput)||void 0===be||be.nativeElement.focus()}}];this.isMy(v.author)&&W.push({label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>{var be;this.editMessage=v,this.sendingText=v.text,null===(be=this.messageInput)||void 0===be||be.nativeElement.focus()}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",style:Bo.DANGER,command:()=>{this.api.deleteChatMessage(this.chatId,v.superMessageId).subscribe()}}),this.contextMenu.show(f,W)}clearReplyMessage(){this.replyMessage=void 0}clearEditMessage(){this.editMessage=void 0,this.sendingText=""}createMessage(f){this.messages=[f,...this.messages],this.first++,this.totalMessages++}updateMessage(f){const v=this.messages.findIndex(W=>W.superMessageId===f.superMessageId);-1!=v&&this.messages.splice(v,1,f)}deleteMessage(f){this.messages=this.messages.filter(v=>v.superMessageId!==f.superMessageId)}updateChat(f){f.chatId===this.chatId&&(this.currentChat=f)}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(g.F),s.Y36(L.s),s.Y36(Vn.E),s.Y36(ys.a),s.Y36(sr.U))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-chat-panel"]],viewQuery:function(f,v){if(1&f&&(s.Gf(ci,5),s.Gf(vi,5)),2&f){let W;s.iGM(W=s.CRH())&&(v.messageInput=W.first),s.iGM(W=s.CRH())&&(v.contextMenu=W.first)}},decls:9,vars:6,consts:[["appendTo","body","position","bottom-right",3,"visible","contentStyle","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["editMessagePreview",""],["messageBody",""],["replyMessageTemp",""],[1,"flexed","hcenter","gap5"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-chat"],[3,"employees"],["appIntersectionObserver","","appScrollToBottomEmitter","","class","chat-view",3,"ngClass","overflow","intersection","onScrollToBottom","scroll",4,"ngIf"],["class","chat-view empty caption size-big wt-bold f-color-500",4,"ngIf"],["class","chat-input",3,"ngClass",4,"ngIf"],["class","chat-input p10 flexed hcenter vcenter",4,"ngIf"],["appIntersectionObserver","","appScrollToBottomEmitter","",1,"chat-view",3,"ngClass","intersection","onScrollToBottom","scroll"],["list",""],["class","message-wrapper",3,"ngClass","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","shader",3,"transform",4,"ngIf"],[3,"onHide","onShow"],["contextMenu",""],["class","scroll-to-start-button",3,"transform","click",4,"ngIf"],[1,"message-wrapper",3,"ngClass","contextmenu"],[3,"deleted","name","size","src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","message-wrapper",4,"ngFor","ngForOf"],[1,"message-wrapper"],["size","2.3rem","shape","circle"],["width","15rem","height","5rem","borderRadius","1rem 1rem 1rem .3rem"],[1,"shader"],[1,"scroll-to-start-button",3,"click"],["class","ur-badge","severity","warning",3,"style","value",4,"ngIf"],[1,"mdi-arrow_downward"],["severity","warning",1,"ur-badge",3,"value"],[1,"chat-view","empty","caption","size-big","wt-bold","f-color-500"],[1,"chat-input",3,"ngClass"],["class","preview-message-wrapper",4,"ngIf"],[1,"input-wrapper"],["appTextareaAutoresize","","placeholder","\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",1,"borderless-text-field",3,"ngModel","disabled","keydown","ngModelChange"],["messageInput",""],[1,"button-block"],[3,"onChoosing"],[3,"files","disabled","short","filesChange"],["icon","mdi-send","styleClass","p-button-text p-button-icon p-button-rounded",3,"disabled","loading","onClick"],[1,"preview-message-wrapper"],[1,"flexed","hcenter","gap2","caption","size-small","wt-bold","f-color-500"],[1,"mdi-edit"],["icon","mdi-close","styleClass","p-button-text p-button-icon p-button-secondary p-button-rounded",3,"onClick"],[1,"mdi-reply"],[1,"chat-input","p10","flexed","hcenter","vcenter"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter"],[1,"mdi-history"],[1,"message-preview"],["shape","square",1,"avatar",3,"name","size","src"],[1,"author-name"],[1,"message-text"],[1,"chat-message","media-group",3,"ngClass"],[1,"message-header"],[3,"ngSwitch",4,"ngIf"],["appEmojiStyleApply","",1,"content"],[1,"message-footer"],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],["class","flexed column gap5",4,"ngSwitchCase"],[3,"class","ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","img-container",3,"click",4,"ngSwitchCase"],["class","vid-container",3,"click",4,"ngSwitchCase"],[1,"img-container",3,"click"],["alt","",3,"src"],[1,"vid-container",3,"click"],[1,"play-icon"],[1,"mdi-play_arrow"],[1,"flexed","column","gap5"],[3,"url",4,"ngFor","ngForOf"],[3,"url"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"],[1,"chat-message","single-media",3,"ngClass"],["class","aud-container",4,"ngSwitchCase"],["class","file-container",4,"ngSwitchDefault"],[1,"aud-container"],[1,"file-container"],[1,"chat-message",3,"ngClass"],[1,"reply-message"],[3,"controls","src"]],template:function(f,v){1&f&&(s.TgZ(0,"p-dialog",0),s.NdJ("onHide",function(){return v.flushMessages()})("onShow",function(){return v.whenOpenPanel()})("visibleChange",function(be){return v.isShow=be}),s.YNc(1,Ho,5,3,"ng-template",1),s.YNc(2,rs,4,4,"ng-template",2),s.qZA(),s.YNc(3,xi,6,5,"ng-template",null,3,s.W1O),s.YNc(5,Ar,3,3,"ng-template",null,4,s.W1O),s.YNc(7,Xa,7,3,"ng-template",null,5,s.W1O)),2&f&&(s.Akn(s.DdM(4,Ur)),s.Q6J("visible",v.isShow)("contentStyle",s.DdM(5,Uo)))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.RF,e.n9,e.ED,le.zx,sn.Fj,sn.JJ,sn.On,to.jx,re.V,K.Ct,X.O,Se.A,Gs.Y,ia,ge,x,se,Re.W,Xt,Nn,Hn.k,Os,e.uU],styles:['.chat-view[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column-reverse;position:relative;gap:.5rem;overflow-y:auto;overflow-x:hidden;padding:.5rem 1rem 1.5rem;overscroll-behavior-y:none;background-color:var(--bgc-001);border-top:1px solid var(--bgc-200)}.chat-view.empty[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;align-items:center;justify-content:center;height:100%;width:100%}.chat-view.unread[_ngcontent-%COMP%]{box-shadow:inset 0 0 2px var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{display:grid;grid:100%/min-content 1fr;gap:.5rem;width:100%;align-items:flex-end;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper.shaded[_ngcontent-%COMP%]{z-index:1}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr;padding:.7rem 1rem;background-color:var(--bgc-200);box-shadow:0 0 1px 1px var(--tc-300);border-radius:1rem 1rem 1rem .3rem;width:-moz-fit-content;width:fit-content;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.reply[_ngcontent-%COMP%]{grid:min-content min-content 1fr/1fr}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]{background-color:var(--mc-0);box-shadow:0 0 1px 1px var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--mc-400)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--mc-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]{background-color:var(--warm-100);box-shadow:0 0 1px 1px var(--warm-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--warm-700)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]{overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]{padding:.4rem;display:grid;gap:.3rem;width:100%;height:100%;max-width:20rem;top:0;left:0}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g[_ngcontent-%COMP%]{width:100%;height:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g2[_ngcontent-%COMP%]{grid-template-areas:"a b"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g3[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g4[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b c d"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g5[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c" "d e"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g6[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b b c" "d e f"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g7[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d d" "e f g"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g8[_ngcontent-%COMP%]{grid-template-areas:"a b" "c d" "e f" "g h"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g9[_ngcontent-%COMP%]{grid-template-areas:"a a b" "c d e" "f g g" "h h i"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g10[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d e" "f g h" "i j j"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:.3rem;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i0[_ngcontent-%COMP%]{grid-area:a}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i1[_ngcontent-%COMP%]{grid-area:b}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i2[_ngcontent-%COMP%]{grid-area:c}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i3[_ngcontent-%COMP%]{grid-area:d}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i4[_ngcontent-%COMP%]{grid-area:e}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i5[_ngcontent-%COMP%]{grid-area:f}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i6[_ngcontent-%COMP%]{grid-area:g}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i7[_ngcontent-%COMP%]{grid-area:h}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i8[_ngcontent-%COMP%]{grid-area:i}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i9[_ngcontent-%COMP%]{grid-area:j}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{padding:.4rem;position:relative;width:100%;height:100%;max-width:20rem;min-width:5rem;aspect-ratio:1;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .aud-container[_ngcontent-%COMP%]{padding:.4rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--tc-600);font-size:.85rem;font-weight:700;margin-bottom:.2rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1rem;display:flex;flex-wrap:wrap;justify-content:flex-end;overflow-wrap:break-word;white-space:pre-wrap;overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{display:flex;transform:translateY(.3rem);align-items:flex-end;color:var(--tc-400);font-size:.8rem;font-weight:700;margin-left:.5rem}.scroll-to-start-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:.5rem;z-index:1;cursor:pointer;color:#fff;background-color:var(--bgc-400);width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:.7;font-size:1.2rem;box-shadow:0 0 .7px #00000006,0 0 1.9px #00000009,0 0 4.5px #0000000c,0 0 15px #00000012;transition:all .2s ease-in-out}.scroll-to-start-button[_ngcontent-%COMP%]:hover{opacity:1}.message-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"avatar name" "avatar message";height:max-content;row-gap:0;column-gap:.5rem;flex:1;margin-left:.7rem}.message-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.message-preview[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{grid-area:name;font-size:.8rem;font-weight:700;color:var(--tc-600)}.message-preview[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{grid-area:message;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;color:var(--tc-700);font-size:.9rem;font-weight:500}.chat-input[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;height:max-content;z-index:1;box-shadow:0 0 .3px #00000005,0 0 .8px #00000007,0 0 1.5px #00000009,0 0 2.7px #0000000b,0 0 5px #0000000d,0 0 12px #00000012}.chat-input[_ngcontent-%COMP%]   .preview-message-wrapper[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.chat-input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.3rem;height:max-content}.chat-input.unread[_ngcontent-%COMP%]{box-shadow:0 0 .3px #ff961f05,0 0 .8px #ff961f07,0 0 1.5px #ff961f09,0 0 2.7px #ff961f0b,0 0 5px #ff961f0d,0 0 12px #ff961f12}.chat-input[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem}.shader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;pointer-events:none}.play-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00000080;border-radius:50%;width:2rem;height:2rem;font-size:1rem;display:flex;justify-content:center;align-items:center;color:#fff}.reply-message[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;border-left:2px solid var(--mc-300);padding:.1rem .5rem;border-radius:.2rem;margin-bottom:.4rem}'],data:{animation:[tn.U1]}}),P})();var Gr=_(9114);let G=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({}),P})(),Ne=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({imports:[e.ez]}),P})();function lt(P,Ge){if(1&P&&s._UZ(0,"p-badge",7),2&P){const f=s.oxw();s.Q6J("value",f.chatService.allUnreadCount.toString())}}function dt(P,Ge){1&P&&s.GkF(0)}const Rt=function(P){return{$implicit:P}};function un(P,Ge){if(1&P&&(s.ynx(0),s.YNc(1,dt,1,0,"ng-container",13),s.BQk()),2&P){const f=Ge.$implicit;s.oxw(3);const v=s.MAs(7);s.xp6(1),s.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",s.VKq(2,Rt,f))}}function Dn(P,Ge){if(1&P&&(s.ynx(0),s.TgZ(1,"div",10),s._uU(2,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0447\u0430\u0442\u044b"),s.qZA(),s.TgZ(3,"div",11),s.YNc(4,un,2,4,"ng-container",12),s.qZA(),s.BQk()),2&P){const f=s.oxw(2);s.xp6(3),s.Udp("max-height","30rem"),s.xp6(1),s.Q6J("ngForOf",f.chatService.chats)("ngForTrackBy",f.trackByChat)}}function vn(P,Ge){1&P&&(s.TgZ(0,"div",14),s._UZ(1,"i",15),s.TgZ(2,"span"),s._uU(3,"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0447\u0430\u0442\u043e\u0432"),s.qZA()())}function qn(P,Ge){if(1&P&&(s.YNc(0,Dn,5,4,"ng-container",8),s.YNc(1,vn,4,0,"div",9)),2&P){const f=s.oxw();s.Q6J("ngIf",f.chatService.chats.length>0),s.xp6(1),s.Q6J("ngIf",0==f.chatService.chats.length)}}function bi(P,Ge){if(1&P&&(s.TgZ(0,"span",23),s._UZ(1,"i",24),s.TgZ(2,"span"),s._uU(3),s.qZA()()),2&P){const f=s.oxw().$implicit,v=s.oxw();s.xp6(3),s.hij(" \u041d\u043e\u0432\u044b\u0445: ",v.chatService.unreadMessagesCount[f.chatId]," ")}}function zo(P,Ge){if(1&P&&(s.TgZ(0,"div",25)(1,"span",22),s._uU(2),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA()()),2&P){const f=s.oxw().$implicit;s.xp6(2),s.hij("",f.lastMessage.author.fullName,": "),s.xp6(2),s.Oqu(f.lastMessage.text)}}const Ns=function(P){return{"without-msg":P}};function Ts(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",16),s.NdJ("click",function(){const be=s.CHM(f).$implicit,pt=s.oxw(),Zt=s.MAs(4);return pt.chatService.open.emit(be.chatId),s.KtG(Zt.hide())}),s.TgZ(1,"div",17),s.YNc(2,bi,4,1,"span",18),s.TgZ(3,"span"),s._uU(4),s.qZA()(),s.YNc(5,zo,5,2,"div",19),s.TgZ(6,"div",20),s._UZ(7,"app-avatar-list",21),s.TgZ(8,"span",22),s._uU(9),s.ALo(10,"date"),s.qZA()()()}if(2&P){const f=Ge.$implicit,v=s.oxw();s.Q6J("ngClass",s.VKq(10,Ns,!f.lastMessage)),s.xp6(2),s.Q6J("ngIf",v.chatService.unreadMessagesCount[f.chatId]),s.xp6(2),s.Oqu(f.title),s.xp6(1),s.Q6J("ngIf",f.lastMessage),s.xp6(2),s.Q6J("employees",f.members)("size",1.2),s.xp6(2),s.Oqu(s.xi3(10,7,f.created,"dd-MM-yyyy HH:mm"))}}let Fs=(()=>{class P{constructor(f){this.chatService=f,this.overlayPanelVisible=!1}ngOnInit(){}trackByChat(f,v){return v.chatId+v.updated+v.lastMessage+v.title+v.members}alignOverlay(f){setTimeout(()=>{f.alignOverlay()},150)}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(ys.a))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-my-active-chats"]],decls:8,vars:2,consts:[[1,"relative","flexed"],["icon","mdi-chat","styleClass","p-button-text p-button-icon p-button-rounded p-button-secondary",3,"onClick"],["class","ur-badge","severity","warning",3,"value",4,"ngIf"],["appendTo","body",3,"baseZIndex"],["overlayPanelEl",""],["pTemplate","content"],["chatListItem",""],["severity","warning",1,"ur-badge",3,"value"],[4,"ngIf"],["class","caption size-big wt-bold f-color-500 flexed hcenter gap3",4,"ngIf"],[1,"caption","size-big","title"],[1,"chats","list-view"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-speaker_notes_off"],[1,"chat-list-item",3,"ngClass","click"],[1,"caption","size-big","flexed","column"],["class","caption size-tiny wt-bold f-color-500 flexed hcenter gap2",4,"ngIf"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],[1,"meta"],[3,"employees","size"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-tiny","wt-bold","f-color-500","flexed","hcenter","gap2"],[1,"mdi-save_alt"],[1,"caption","size-small","wt-bold","f-color-500"]],template:function(f,v){if(1&f){const W=s.EpF();s.TgZ(0,"span",0)(1,"p-button",1),s.NdJ("onClick",function(pt){s.CHM(W);const Zt=s.MAs(4);return v.overlayPanelVisible=!0,s.KtG(Zt.toggle(pt))}),s.qZA(),s.YNc(2,lt,1,1,"p-badge",2),s.qZA(),s.TgZ(3,"p-overlayPanel",3,4),s.YNc(5,qn,2,2,"ng-template",5),s.qZA(),s.YNc(6,Ts,11,12,"ng-template",null,6,s.W1O)}2&f&&(s.xp6(2),s.Q6J("ngIf",v.chatService.isHasUnreadMessages&&v.chatService.allUnreadCount),s.xp6(1),s.Q6J("baseZIndex",2e3))},dependencies:[e.mk,e.sg,e.O5,e.tP,le.zx,to.jx,K.Ct,yn.T,Hn.k,e.uU],styles:['.chats[_ngcontent-%COMP%]{max-width:30rem}.title[_ngcontent-%COMP%]{padding-bottom:.3rem;border-bottom:1px solid var(--bgc-200)}.chat-list-item[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/1fr max-content;grid-template-areas:"header meta" "lastmsg meta";align-items:center;column-gap:1rem;cursor:pointer;padding:.7rem 1.2rem;transition:background-color .15s ease}.chat-list-item[_ngcontent-%COMP%]:hover{background-color:var(--bgc-100)}.chat-list-item.without-msg[_ngcontent-%COMP%]{grid-template-areas:"header meta" "header meta"}.chat-list-item[_ngcontent-%COMP%]   .caption-header[_ngcontent-%COMP%]{grid-area:header;width:max-content}.chat-list-item[_ngcontent-%COMP%]   .caption-header[_ngcontent-%COMP%]   .caption-tiny[_ngcontent-%COMP%]{color:var(--warm-700)!important}.chat-list-item[_ngcontent-%COMP%]   .caption-secondary[_ngcontent-%COMP%]{grid-area:lastmsg;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin-left:.5rem}.chat-list-item[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{grid-area:meta}']}),P})();var Ea=_(7445);let Sa=(()=>{class P{constructor(){this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434",this.subscriptions=new Ze.xf}ngOnInit(){this.subscriptions.addSubscription("time",(0,Ea.F)(100).subscribe(this.updateTime.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}updateTime(){if(!this.startTime)return void(this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434");let f=0;f=this.startTime instanceof Date?this.startTime.getTime():"string"==typeof this.startTime?new Date(this.startTime).getTime():this.startTime;const v=(new Date).getTime()-f,W=Math.floor(v/1e3)%60,be=Math.floor(v/6e4)%60,pt=Math.floor(v/36e5)%24,Zt=Math.floor(v/864e5);let Sn="";Zt>0&&(Sn+=`${Zt} ${Ze.cQ.declineOfNumber(Zt,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])}`),pt>0&&(Zt>0&&(Sn+=" "),Sn+=`${pt} ${Ze.cQ.declineOfNumber(pt,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}`),be>0&&((pt>0||Zt>0)&&(Sn+=" "),Sn+=`${be} ${Ze.cQ.declineOfNumber(be,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])}`),W>0&&0===Zt&&0===pt&&0===be&&((be>0||pt>0||Zt>0)&&(Sn+=" "),Sn+=`${W} ${Ze.cQ.declineOfNumber(W,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}`),this.value=Sn||"-- \u0441\u0435\u043a\u0443\u043d\u0434"}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-time-elapsed"]],inputs:{startTime:"startTime"},decls:2,vars:1,template:function(f,v){1&f&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&f&&(s.xp6(1),s.hij(" ",v.value,"\n"))}}),P})();function ws(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"span",5)(1,"p-button",6),s.NdJ("onClick",function(W){s.CHM(f),s.oxw();const be=s.MAs(2);return s.KtG(be.toggle(W))}),s.qZA(),s._UZ(2,"p-badge",7),s.qZA()}if(2&P){const f=s.oxw();s.xp6(2),s.Q6J("value",f.countOfActive.toString())}}function el(P,Ge){1&P&&s.GkF(0)}const Wg=function(P){return{$implicit:P}};function Kg(P,Ge){if(1&P&&(s.ynx(0),s.YNc(1,el,1,0,"ng-container",11),s.BQk()),2&P){const f=Ge.$implicit;s.oxw(2);const v=s.MAs(5);s.xp6(1),s.Q6J("ngTemplateOutlet",v)("ngTemplateOutletContext",s.VKq(2,Wg,f))}}function Yg(P,Ge){if(1&P&&(s.TgZ(0,"div",8),s._uU(1,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0436\u0443\u0440\u043d\u0430\u043b\u044b \u0440\u0430\u0431\u043e\u0442"),s.qZA(),s.TgZ(2,"div",9),s.YNc(3,Kg,2,4,"ng-container",10),s.qZA()),2&P){const f=s.oxw();s.xp6(2),s.Udp("max-height","30rem"),s.xp6(1),s.Q6J("ngForOf",f.workLogs)("ngForTrackBy",f.trackByWorkLog)}}function dp(P,Ge){1&P&&(s.TgZ(0,"span",21),s._uU(1,"-"),s.qZA())}function Nl(P,Ge){if(1&P&&s._UZ(0,"app-avatar-list",22),2&P){const f=s.oxw().$implicit;s.Q6J("employees",f.whoActive)("size",1.7)}}const tl=function(){return{whiteSpace:"nowrap"}},$g=function(P){return["/task",P]},ko=function(){return{}};function pp(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",12)(1,"p-button",13),s.NdJ("onClick",function(){s.CHM(f),s.oxw();const W=s.MAs(2);return s.KtG(W.hide())}),s.qZA(),s.TgZ(2,"div",14)(3,"span",15),s._uU(4,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438:"),s.qZA(),s.YNc(5,dp,2,0,"span",16),s.YNc(6,Nl,1,2,"app-avatar-list",17),s.qZA(),s.TgZ(7,"div")(8,"div",18)(9,"span",15),s._uU(10,"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u043b:"),s.qZA(),s._UZ(11,"app-employee-label",19),s.qZA(),s.TgZ(12,"div")(13,"span",15),s._uU(14,"\u041f\u0440\u043e\u0448\u043b\u043e:"),s.qZA(),s._UZ(15,"app-time-elapsed",20),s.qZA()()()}if(2&P){const f=Ge.$implicit;s.xp6(1),s.Akn(s.DdM(10,tl)),s.Q6J("label","\u0417\u0430\u0434\u0430\u0447\u0430 #"+f.task.taskId)("routerLink",s.VKq(11,$g,f.task.taskId)),s.xp6(1),s.Akn(s.DdM(13,ko)),s.xp6(3),s.Q6J("ngIf",0===f.whoActive.length),s.xp6(1),s.Q6J("ngIf",f.whoActive.length>0),s.xp6(5),s.Q6J("employee",f.creator),s.xp6(4),s.Q6J("startTime",f.created)}}let hp=(()=>{class P{constructor(f,v){this.api=f,this.rt=v,this.workLogs=[],this.loading=!1,this.countOfActive=0,this.subscriptions=new Ze.xf}ngOnInit(){this.loading=!0,this.api.getActiveWorkLogs().subscribe({next:this.loadWorkLogs.bind(this),error:()=>this.loading=!1}),this.api.getCountOfActiveWorkLogs().subscribe({next:f=>this.countOfActive=f,error:()=>this.countOfActive=0}),this.subscriptions.addSubscription("wlCr",this.rt.workLogCreated().subscribe(this.createWorkLog.bind(this))),this.subscriptions.addSubscription("wlUpt",this.rt.workLogUpdated().subscribe(this.updateWorkLog.bind(this))),this.subscriptions.addSubscription("wlCls",this.rt.workLogClosed().subscribe(this.closeWorkLog.bind(this)))}createWorkLog(f){this.workLogs.push(f),this.countOfActive++}updateWorkLog(f){const v=this.workLogs.findIndex(W=>W.workLogId===f.workLogId);v>=0&&(this.workLogs[v]=f)}closeWorkLog(f){const v=this.workLogs.findIndex(W=>W.workLogId===f.workLogId);v>=0&&(this.workLogs.splice(v,1),this.countOfActive--)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadWorkLogs(f){this.loading=!1,this.workLogs=f}trackByWorkLog(f,v){return v.workLogId+JSON.stringify(v.whoAccepted)+JSON.stringify(v.workReports)}}return P.\u0275fac=function(f){return new(f||P)(s.Y36(L.s),s.Y36(sr.U))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-active-work-logs-panel"]],decls:6,vars:2,consts:[["class","relative flexed",4,"ngIf"],["appendTo","body",3,"baseZIndex"],["overlayPanelEl",""],["pTemplate","content"],["workLogItem",""],[1,"relative","flexed"],["icon","mdi-engineering","styleClass","p-button-secondary p-button-icon p-button-rounded p-button-text",3,"onClick"],[1,"ur-badge",3,"value"],[1,"caption","size-big","title"],[1,"work-logs","list-view"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"work-log-item"],["styleClass","p-button-info p-button-text",3,"label","routerLink","onClick"],[1,"flexed","column"],[1,"caption","size-tiny","wt-bold","f-color-500"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],[3,"employees","size",4,"ngIf"],[1,"flexed","gap3","hcenter"],[3,"employee"],[1,"caption","size-small","wt-bold","f-color-500",3,"startTime"],[1,"caption","size-small","wt-bold","f-color-500"],[3,"employees","size"]],template:function(f,v){1&f&&(s.YNc(0,ws,3,1,"span",0),s.TgZ(1,"p-overlayPanel",1,2),s.YNc(3,Yg,4,4,"ng-template",3),s.qZA(),s.YNc(4,pp,16,14,"ng-template",null,4,s.W1O)),2&f&&(s.Q6J("ngIf",v.countOfActive),s.xp6(1),s.Q6J("baseZIndex",2e3))},dependencies:[e.sg,e.O5,e.tP,H.rH,le.zx,to.jx,K.Ct,yn.T,Ji.x,Hn.k,Sa],styles:[".title[_ngcontent-%COMP%]{padding-bottom:.3rem;border-bottom:1px solid var(--bgc-200)}.work-log-item[_ngcontent-%COMP%]{display:grid;grid:min-content/max-content max-content 1fr;gap:.5rem;padding:.5rem;align-items:center}.work-log-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}"]}),P})();function Ru(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"span",4),s.NdJ("click",function(W){s.CHM(f),s.oxw();const be=s.MAs(2);return s.KtG(be.toggle(W))}),s.TgZ(1,"span"),s._uU(2),s.qZA(),s._UZ(3,"i",5),s.qZA()}if(2&P){const f=s.oxw();s.xp6(2),s.Oqu(f.currentName)}}function Fl(P,Ge){if(1&P){const f=s.EpF();s.TgZ(0,"div",7),s.NdJ("click",function(){const be=s.CHM(f).$implicit,pt=s.oxw(2),Zt=s.MAs(2);return pt.onChange(be.id),s.KtG(Zt.hide())}),s._uU(1),s.qZA()}if(2&P){const f=Ge.$implicit;s.xp6(1),s.hij(" ",f.name," ")}}function qg(P,Ge){if(1&P&&s.YNc(0,Fl,2,1,"div",6),2&P){const f=s.oxw();s.Q6J("ngForOf",f.variationList)("ngForTrackBy",f.trackByVariation)}}let Xg=(()=>{class P{constructor(){this.variationList=[],this.value="",this.valueChange=new s.vpe}get currentName(){var f,v;return this.value&&null!==(v=null===(f=this.variationList.find(W=>W.id===this.value))||void 0===f?void 0:f.name)&&void 0!==v?v:""}trackByVariation(f,v){return v.id}ngOnInit(){}ngOnChanges(f){const v=f.value;v&&!v.currentValue&&this.variationList&&this.variationList.length&&this.onChange(this.variationList[0].id)}onChange(f){console.log("Change",f),this.value=f,this.valueChange.emit(f)}}return P.\u0275fac=function(f){return new(f||P)},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-input-variation-selector"]],inputs:{variationList:"variationList",value:"value"},outputs:{valueChange:"valueChange"},features:[s.TTD],decls:4,vars:1,consts:[["class","caption size-small wt-bold f-color-primary flexed hstart input-field",3,"click",4,"ngIf"],["styleClass","no-paddings"],["overlayPanelEl",""],["pTemplate","content"],[1,"caption","size-small","wt-bold","f-color-primary","flexed","hstart","input-field",3,"click"],[1,"mdi-arrow_drop_down"],["pRipple","","class","list-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["pRipple","",1,"list-item",3,"click"]],template:function(f,v){1&f&&(s.YNc(0,Ru,4,1,"span",0),s.TgZ(1,"p-overlayPanel",1,2),s.YNc(3,qg,1,2,"ng-template",3),s.qZA()),2&f&&s.Q6J("ngIf",v.variationList&&v.variationList.length)},dependencies:[e.sg,e.O5,to.jx,yn.T,Bi.H],styles:[".input-field[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:opacity .15s ease-in-out}.input-field[_ngcontent-%COMP%]:hover{opacity:.8}.list-item[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .15s ease-in-out;color:var(--tc-600);padding:.5rem .9rem}.list-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),P})();var ef=_(7102),Lu=_(2145);let Bl=(()=>{class P{}return P.\u0275fac=function(f){return new(f||P)},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({providers:[{provide:An.f,useFactory:Ti}],imports:[Je.z,e.ez,U.$9,le.hJ,sn.u5,$n.kW,Wi.L$,kt.A,re.S,rn.LU,K.TX,oi.L,$e.EV,yt.j,Ki,ht,X.m,pn.nD,bn.JP,yn.y,gn.q4,yi.n,_o.e4,$t.E,sn.UX,Co,mr.qH,Ms,es.U,na.ON,yo._8,Fo,or,Gr.D,He.q,ut.JH,G,Bi.T,Ne,ef.Qy,Lu.WN]}),P})();s.B6R(st.V,[e.mk,e.sg,e.O5,H.rH,H.Od,Mt,Vt.C],[]),s.B6R(Ft.o,[e.O5,e.tP,e.RF,e.n9,e.ED,sn.Fj,sn.JJ,sn.On,$n.Lt,Wi.Rn,kt.g,yt.o,bt.h,D.k,Et,Yi.Q,Si,Xg],[]),s.B6R(Kn.h,[e.sg,e.O5,H.lC,H.rH,le.zx,to.jx,ya,Gr.Q,je,mt.r,ct,$s,ge,z,zr,Fs,hp],[]),s.B6R(zi.U,[e.O5,H.rH,to.jx,X.O,yn.T,Ct.E],[]),s.B6R(Ji.x,[e.O5,e.RF,e.n9,to.jx,X.O,yn.T,Se.A],[]),s.B6R(ri.y,[e.O5,to.jx,X.O,yn.T,Se.A],[]),s.B6R(Fr._,[e.sg,Ji.x],[])},9925:(Ht,et,_)=>{_.d(et,{z:()=>g});var e=_(9808),s=_(5e3);let g=(()=>{class H{}return H.\u0275fac=function(I){return new(I||H)},H.\u0275mod=s.oAB({type:H}),H.\u0275inj=s.cJS({imports:[e.ez]}),H})()},975:(Ht,et,_)=>{_.r(et),_.d(et,{LoginModule:()=>at});var e=_(5572),s=_(2382),g=_(4e3),H=_(5e3),L=_(8738),I=_(1424),U=_(9808),le=_(845);function re(Se,$){1&Se&&(H.TgZ(0,"span",9),H._uU(1,"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0435\u0440\u043d\u044b"),H.qZA()),2&Se&&H.Q6J("@fade",void 0)}const pe=[{path:"",component:(()=>{class Se{constructor(B,j){this.api=B,this.router=j,this.loginForm=new s.cw({login:new s.NI("",s.kI.required),password:new s.NI("",s.kI.required)}),this.isWrongCredentials=!1,this.isLogining=!1}ngOnInit(){}setWrongCredentials(){this.wrongCredentialsTimer&&clearTimeout(this.wrongCredentialsTimer),this.isWrongCredentials=!0,this.wrongCredentialsTimer=setTimeout(()=>this.isWrongCredentials=!1,3e3)}signIn(){!this.loginForm.valid||(this.isLogining=!0,this.api.signIn(this.loginForm.getRawValue()).subscribe({next:()=>{this.router.navigate(["/"]).then(),this.isLogining=!1},error:B=>{this.setWrongCredentials(),this.isLogining=!1}}))}}return Se.\u0275fac=function(B){return new(B||Se)(H.Y36(L.s),H.Y36(e.F0))},Se.\u0275cmp=H.Xpm({type:Se,selectors:[["ng-component"]],decls:15,vars:5,consts:[[1,"page-wrapper"],[1,"login-panel",3,"formGroup","keyup.enter"],[1,"caption"],["src","assets/logo-dark.svg"],[1,"input-label-wrapper","full-width"],["formControlName","login","pInputText","",3,"autocomplete"],["formControlName","password","pInputText","","type","password",3,"autocomplete"],["styleClass","b-stretched p-button-outlined","icon","mdi-login","label","\u0412\u043e\u0439\u0442\u0438",3,"loading","onClick"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(B,j){1&B&&(H.TgZ(0,"div",0)(1,"form",1),H.NdJ("keyup.enter",function(){return j.signIn()}),H.TgZ(2,"span",2),H._UZ(3,"img",3),H.qZA(),H.TgZ(4,"span",4)(5,"label"),H._uU(6,"\u041b\u043e\u0433\u0438\u043d"),H.qZA(),H._UZ(7,"input",5),H.qZA(),H.TgZ(8,"span",4)(9,"label"),H._uU(10,"\u041f\u0430\u0440\u043e\u043b\u044c"),H.qZA(),H._UZ(11,"input",6),H.qZA(),H._UZ(12,"span"),H.TgZ(13,"p-button",7),H.NdJ("onClick",function(){return j.signIn()}),H.qZA()(),H.YNc(14,re,2,1,"span",8),H.qZA()),2&B&&(H.xp6(1),H.Q6J("formGroup",j.loginForm),H.xp6(6),H.Q6J("autocomplete","off"),H.xp6(4),H.Q6J("autocomplete","off"),H.xp6(2),H.Q6J("loading",j.isLogining),H.xp6(1),H.Q6J("ngIf",j.isWrongCredentials))},dependencies:[I.o,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,U.O5,le.zx],styles:[".page-wrapper[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.page-wrapper[_ngcontent-%COMP%]   .login-panel[_ngcontent-%COMP%]{width:max-content;height:max-content;min-width:27rem;display:flex;flex-direction:column;gap:1rem;padding:2rem;border-radius:1rem;background-color:#fff;box-shadow:var(--shadow-200)}.error-message[_ngcontent-%COMP%]{position:absolute;background-color:#f56262;color:#fff;border-radius:.5rem;padding:.7rem 1rem;font-size:.9rem;font-weight:700;bottom:10%}"],data:{animation:[g.U1]}}),Se})()}];let ue=(()=>{class Se{}return Se.\u0275fac=function(B){return new(B||Se)},Se.\u0275mod=H.oAB({type:Se}),Se.\u0275inj=H.cJS({imports:[e.Bz.forChild(pe),e.Bz]}),Se})();var Oe=_(1777),Te=_(5730),ke=_(9783),we=_(5921);const Fe=["input"];function Y(Se,$){if(1&Se){const B=H.EpF();H.TgZ(0,"i",5),H.NdJ("click",function(){H.CHM(B);const Ue=H.oxw();return H.KtG(Ue.clear())}),H.qZA()}}function Pe(Se,$){if(1&Se){const B=H.EpF();H.TgZ(0,"i",6),H.NdJ("click",function(){H.CHM(B);const Ue=H.oxw();return H.KtG(Ue.onMaskToggle())}),H.ALo(1,"mapper"),H.qZA()}if(2&Se){const B=H.oxw();H.Q6J("ngClass",H.xi3(1,1,B.unmasked,B.toggleIconClass))}}function de(Se,$){1&Se&&H.GkF(0)}function N(Se,$){1&Se&&H.GkF(0)}function O(Se,$){if(1&Se&&(H.ynx(0),H.YNc(1,N,1,0,"ng-container",8),H.BQk()),2&Se){const B=H.oxw(2);H.xp6(1),H.Q6J("ngTemplateOutlet",B.contentTemplate)}}const ye=function(Se){return{width:Se}};function Ce(Se,$){if(1&Se&&(H.TgZ(0,"div",11),H._UZ(1,"div",0),H.ALo(2,"mapper"),H.qZA(),H.TgZ(3,"div",12),H._uU(4),H.qZA()),2&Se){const B=H.oxw(2);H.xp6(1),H.Q6J("ngClass",H.xi3(2,3,B.meter,B.strengthClass))("ngStyle",H.VKq(6,ye,B.meter?B.meter.width:"")),H.xp6(3),H.Oqu(B.infoText)}}function ve(Se,$){1&Se&&H.GkF(0)}const V=function(Se,$){return{showTransitionParams:Se,hideTransitionParams:$}},w=function(Se){return{value:"visible",params:Se}};function F(Se,$){if(1&Se){const B=H.EpF();H.TgZ(0,"div",6,7),H.NdJ("click",function(Ue){H.CHM(B);const fe=H.oxw();return H.KtG(fe.onOverlayClick(Ue))})("@overlayAnimation.start",function(Ue){H.CHM(B);const fe=H.oxw();return H.KtG(fe.onAnimationStart(Ue))})("@overlayAnimation.done",function(Ue){H.CHM(B);const fe=H.oxw();return H.KtG(fe.onAnimationEnd(Ue))}),H.YNc(2,de,1,0,"ng-container",8),H.YNc(3,O,2,1,"ng-container",9),H.YNc(4,Ce,5,8,"ng-template",null,10,H.W1O),H.YNc(6,ve,1,0,"ng-container",8),H.qZA()}if(2&Se){const B=H.MAs(5),j=H.oxw();H.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",H.VKq(9,w,H.WLB(6,V,j.showTransitionOptions,j.hideTransitionOptions))),H.xp6(2),H.Q6J("ngTemplateOutlet",j.headerTemplate),H.xp6(1),H.Q6J("ngIf",j.contentTemplate)("ngIfElse",B),H.xp6(3),H.Q6J("ngTemplateOutlet",j.footerTemplate)}}let _e=(()=>{class Se{transform(B,j,...Ue){return j(B,...Ue)}}return Se.\u0275fac=function(B){return new(B||Se)},Se.\u0275pipe=H.Yjl({name:"mapper",type:Se,pure:!0}),Se})();const De={provide:s.JU,useExisting:(0,H.Gpc)(()=>Le),multi:!0};let Le=(()=>{class Se{constructor(B,j,Ue,fe){this.cd=B,this.config=j,this.el=Ue,this.overlayService=fe,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new H.vpe,this.onBlur=new H.vpe,this.onClear=new H.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(B=>{switch(B.getType()){case"content":default:this.contentTemplate=B.template;break;case"header":this.headerTemplate=B.template;break;case"footer":this.footerTemplate=B.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(B){switch(B.toState){case"visible":this.overlay=B.element,we.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(B){"void"===B.toState&&we.P9.clear(B.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=Te.p.getOuterWidth(this.input.nativeElement)+"px",Te.p.absolutePosition(this.overlay,this.input.nativeElement)):Te.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(B){this.value=B.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(B){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(B)}onInputBlur(B){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(B)}onKeyDown(B){"Escape"===B.key&&(this.overlayVisible=!1)}onKeyUp(B){this.feedback&&(this.updateUI(B.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(B){let j=null,Ue=null;switch(this.testStrength(B)){case 1:j=this.weakText(),Ue={strength:"weak",width:"33.33%"};break;case 2:j=this.mediumText(),Ue={strength:"medium",width:"66.66%"};break;case 3:j=this.strongText(),Ue={strength:"strong",width:"100%"};break;default:j=this.promptText(),Ue=null}this.meter=Ue,this.infoText=j}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(B){this.overlayService.add({originalEvent:B,target:this.el.nativeElement})}testStrength(B){let j=0;return this.strongCheckRegExp.test(B)?j=3:this.mediumCheckRegExp.test(B)?j=2:B.length&&(j=1),j}writeValue(B){this.value=void 0===B?null:B,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(B){this.onModelChange=B}registerOnTouched(B){this.onModelTouched=B}setDisabledState(B){this.disabled=B}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Te.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!Te.p.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(B){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":B}}inputFieldClass(B){return{"p-password-input":!0,"p-disabled":B}}toggleIconClass(B){return B?"pi pi-eye-slash":"pi pi-eye"}strengthClass(B){return`p-password-strength ${B?B.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(ke.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(ke.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(ke.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(ke.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(B){return B?"text":"password"}getTranslation(B){return this.config.getTranslation(B)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(we.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return Se.\u0275fac=function(B){return new(B||Se)(H.Y36(H.sBO),H.Y36(ke.b4),H.Y36(H.SBq),H.Y36(ke.F0))},Se.\u0275cmp=H.Xpm({type:Se,selectors:[["p-password"]],contentQueries:function(B,j,Ue){if(1&B&&H.Suo(Ue,ke.jx,4),2&B){let fe;H.iGM(fe=H.CRH())&&(j.templates=fe)}},viewQuery:function(B,j){if(1&B&&H.Gf(Fe,5),2&B){let Ue;H.iGM(Ue=H.CRH())&&(j.input=Ue.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(B,j){2&B&&H.ekj("p-inputwrapper-filled",j.filled())("p-inputwrapper-focus",j.focused)("p-password-clearable",j.showClear)("p-password-mask",j.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[H._Bn([De])],decls:9,vars:27,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(B,j){1&B&&(H.TgZ(0,"div",0),H.ALo(1,"mapper"),H.TgZ(2,"input",1,2),H.NdJ("input",function(fe){return j.onInput(fe)})("focus",function(fe){return j.onInputFocus(fe)})("blur",function(fe){return j.onInputBlur(fe)})("keyup",function(fe){return j.onKeyUp(fe)})("keydown",function(fe){return j.onKeyDown(fe)}),H.ALo(4,"mapper"),H.ALo(5,"mapper"),H.qZA(),H.YNc(6,Y,1,0,"i",3),H.YNc(7,Pe,2,4,"i",4),H.YNc(8,F,7,11,"div",4),H.qZA()),2&B&&(H.Tol(j.styleClass),H.Q6J("ngClass",H.xi3(1,18,j.toggleMask,j.containerClass))("ngStyle",j.style),H.xp6(2),H.Tol(j.inputStyleClass),H.Q6J("ngClass",H.xi3(4,21,j.disabled,j.inputFieldClass))("ngStyle",j.inputStyle)("value",j.value),H.uIk("label",j.label)("aria-label",j.ariaLabel)("aria-labelledBy",j.ariaLabelledBy)("id",j.inputId)("type",H.xi3(5,24,j.unmasked,j.inputType))("placeholder",j.placeholder),H.xp6(4),H.Q6J("ngIf",j.showClear&&null!=j.value),H.xp6(1),H.Q6J("ngIf",j.toggleMask),H.xp6(1),H.Q6J("ngIf",j.overlayVisible))},dependencies:[U.mk,U.O5,U.tP,U.PC,I.o,_e],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,Oe.X$)("overlayAnimation",[(0,Oe.eR)(":enter",[(0,Oe.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,Oe.jt)("{{showTransitionParams}}")]),(0,Oe.eR)(":leave",[(0,Oe.jt)("{{hideTransitionParams}}",(0,Oe.oB)({opacity:0}))])])]},changeDetection:0}),Se})(),Me=(()=>{class Se{}return Se.\u0275fac=function(B){return new(B||Se)},Se.\u0275mod=H.oAB({type:Se}),Se.\u0275inj=H.cJS({imports:[U.ez,I.j,ke.m8]}),Se})();var ht=_(6641);let at=(()=>{class Se{}return Se.\u0275fac=function(B){return new(B||Se)},Se.\u0275mod=H.oAB({type:Se}),Se.\u0275inj=H.cJS({imports:[ue,I.j,Me,ht.U,s.UX,le.hJ]}),Se})()},8529:(Ht,et,_)=>{_.r(et),_.d(et,{MainModule:()=>fF});var e=_(5e3),s=_(5572),g=_(4488),H=_(8738),L=_(4004),I=_(9808),U=_(538);function le(n,o){1&n&&e.GkF(0)}function re(n,o){if(1&n&&(e.ynx(0),e.YNc(1,le,1,0,"ng-container",8),e.BQk()),2&n){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function K(n,o){1&n&&e.GkF(0)}function pe(n,o){if(1&n&&(e.ynx(0),e.YNc(1,K,1,0,"ng-container",8),e.BQk()),2&n){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ue(n,o){1&n&&e.GkF(0)}function Oe(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ue,1,0,"ng-container",8),e.BQk()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Te(n,o){1&n&&e.GkF(0)}function ke(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Te,1,0,"ng-container",8),e.BQk()),2&n){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}const we=function(){return["/tasks","incoming"]},Fe=function(){return["/employees"]},Y=function(){return["/salary","table"]};function Pe(n,o){1&n&&e._UZ(0,"app-extended-menu-item",9)(1,"app-extended-menu-item",10)(2,"app-extended-menu-item",11)(3,"app-extended-menu-item",12)(4,"app-extended-menu-item",13)(5,"app-extended-menu-item",14)(6,"app-extended-menu-item",15),2&n&&(e.Q6J("link",e.DdM(3,we)),e.xp6(5),e.Q6J("link",e.DdM(4,Fe)),e.xp6(1),e.Q6J("link",e.DdM(5,Y)))}function de(n,o){1&n&&e.GkF(0)}const N=function(){return{name:"\u0417\u0430\u0434\u0430\u0447\u0438"}},O=function(){return["/tasks","calendar"]},ye=function(){return["/tasks","list"]},Ce=function(){return["/tasks","templates"]};function ve(n,o){if(1&n&&(e.YNc(0,de,1,0,"ng-container",16),e._UZ(1,"app-extended-menu-item",17),e.ALo(2,"async"),e._UZ(3,"app-extended-menu-item",18)(4,"app-extended-menu-item",19)(5,"app-extended-menu-item",20)(6,"app-extended-menu-item",21)),2&n){const t=e.oxw(),i=e.MAs(13);let r;e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.DdM(11,N)),e.xp6(1),e.Q6J("link",e.DdM(12,we))("badge",null!==(r=e.lcZ(2,9,t.incomingCount$))&&void 0!==r?r:""),e.xp6(2),e.Q6J("link",e.DdM(13,O)),e.xp6(1),e.Q6J("link",e.DdM(14,ye)),e.xp6(1),e.Q6J("elements",t.stagesMenuItems)("isExtended",t.stageMenuExtended),e.xp6(1),e.Q6J("link",e.DdM(15,Ce))}}function V(n,o){1&n&&e.GkF(0)}const w=function(){return{name:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}},F=function(){return["/salary","estimation"]},q=function(){return["/salary","works"]},_e=function(){return["/salary","paid-actions"]};function De(n,o){if(1&n&&(e.YNc(0,V,1,0,"ng-container",16),e._UZ(1,"app-extended-menu-item",22)(2,"app-extended-menu-item",23)(3,"app-extended-menu-item",24)(4,"app-extended-menu-item",25)),2&n){e.oxw();const t=e.MAs(13);e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(6,w)),e.xp6(1),e.Q6J("link",e.DdM(7,Y)),e.xp6(1),e.Q6J("link",e.DdM(8,F)),e.xp6(1),e.Q6J("link",e.DdM(9,q)),e.xp6(1),e.Q6J("link",e.DdM(10,_e))}}const Le=function(){return["/"]};function Me(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",26)(2,"span",27),e._uU(3,"navigate_before"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e._UZ(6,"hr",28),e.qZA()),2&n){const t=o.name;e.xp6(1),e.Q6J("routerLink",e.DdM(4,Le)),e.xp6(4),e.Oqu(t),e.xp6(1),e.Udp("margin",".7rem 1rem 1rem 1rem")}}let ht=(()=>{class n{constructor(t,i){this.api=t,this.route=i,this.stagesMenuItems=[],this.stageMenuExtended=!1,this.stagesLoaded=!1,this.category="main",this.incomingCount$=this.api.getCountIncomingTasks().pipe((0,L.U)(r=>r.toString()))}ngOnInit(){this.route.url.pipe((0,L.U)(t=>t.map(i=>i.path))).subscribe(t=>{this.category=t[0],this.stagesLoaded||this.api.getWireframesNames().subscribe(i=>{i.forEach(r=>{const c=["/tasks/stages",r.wireframeId.toString()];this.stagesMenuItems=[...this.stagesMenuItems,{label:r.name,link:c,extended:!1}],"/"+t.join("/")===c.join("/")&&(this.stageMenuExtended=!0)}),this.stagesLoaded=!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(s.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-main-menu-panel"]],decls:14,vars:4,consts:[[1,"menu-panel"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["main",""],["tasks",""],["salary",""],["backButton",""],[4,"ngTemplateOutlet"],["caption","\u0417\u0430\u0434\u0430\u0447\u0438","icon","task",3,"link"],["caption","\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b","icon","group"],["caption","\u0414\u043e\u043c\u0430","icon","home_work"],["caption","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b","icon","dns"],["caption","\u0421\u043a\u043b\u0430\u0434","icon","warehouse"],["caption","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","icon","account_circle",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430","icon","currency_ruble",3,"link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["caption","\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435","icon","inbox",3,"link","badge"],["caption","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c","icon","calendar_month",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a","icon","format_list_bulleted",3,"link"],["caption","\u0414\u043e\u0441\u043a\u0430","icon","checklist",3,"elements","isExtended"],["caption","\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b","icon","ballot",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430","icon","table_chart",3,"link"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442","icon","exposure_plus_2",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442","icon","construction",3,"link"],["caption","\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","icon","toc",3,"link"],[1,"back-button",3,"routerLink"],[1,"material-icons-round","parent-inherit"],[1,"h-divider"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,re,2,1,"ng-container",2),e.YNc(3,pe,2,1,"ng-container",2),e.YNc(4,Oe,2,1,"ng-container",2),e.YNc(5,ke,2,1,"ng-container",3),e.BQk(),e.qZA(),e.YNc(6,Pe,7,6,"ng-template",null,4,e.W1O),e.YNc(8,ve,7,16,"ng-template",null,5,e.W1O),e.YNc(10,De,5,11,"ng-template",null,6,e.W1O),e.YNc(12,Me,7,5,"ng-template",null,7,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngSwitch",i.category),e.xp6(1),e.Q6J("ngSwitchCase","main"),e.xp6(1),e.Q6J("ngSwitchCase","tasks"),e.xp6(1),e.Q6J("ngSwitchCase","salary"))},dependencies:[I.tP,I.RF,I.n9,I.ED,s.rH,U.V,I.Ov],styles:[".menu-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:var(--shadow-0);background-color:#fff;border-radius:var(--br-200);height:-moz-fit-content;height:fit-content;min-width:20rem;padding:1rem;gap:1rem;position:sticky;top:calc(var(--top-panel-height) + 1.5rem)}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:.5rem;color:var(--tc-800);font-size:1.2rem;transition:color .15s ease-out}.back-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}"]}),n})();var at=_(4881);let Se=(()=>{class n{constructor(t){this.host=t,this.limited=!1,this.shift=0,"complete"===document.readyState&&setTimeout(this.onResize.bind(this),0)}onLoad(){}onResize(){const{y:t}=this.host.element.nativeElement.getBoundingClientRect(),i=window.innerHeight;this.limited||(this.host.element.nativeElement.style.minHeight=i-(t<0?0:t)-this.shift+"px"),this.limited&&(this.host.element.nativeElement.style.height=i-(t<0?0:t)-this.shift+"px")}onScroll(t){this.onResize()}ngAfterViewInit(){this.onResize()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","appExtendPageHeight",""]],hostBindings:function(t,i){1&t&&e.NdJ("load",function(){return i.onLoad()},!1,e.Jf7)("resize",function(){return i.onResize()},!1,e.Jf7)("scroll",function(c){return i.onScroll(c)},!1,e.Jf7)},inputs:{limited:"limited",shift:"shift"}}),n})();var $=_(2382),B=_(383),j=_(9783),Ue=_(3640),fe=_(6526);function qe(n,o){1&n&&(e.TgZ(0,"div",10),e._uU(1,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438"),e.qZA())}function je(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function mt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("mouseenter",function(r){e.CHM(t),e.oxw(2);const c=e.MAs(4);return e.KtG(c.show(r))})("mouseleave",function(){e.CHM(t),e.oxw(2);const r=e.MAs(4);return e.KtG(r.hide())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" \u0418 \u0435\u0449\u0435 ",t.selectedTags.length-2," ")}}function bt(n,o){if(1&n&&(e.YNc(0,qe,2,0,"div",7),e.TgZ(1,"div",8),e.YNc(2,je,2,3,"div",6),e.ALo(3,"slice"),e.YNc(4,mt,2,1,"div",9),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngIf",!t.selectedTags||0===t.selectedTags.length),e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,4,t.selectedTags,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2)}}function st(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function xt(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}let ot=(()=>{class n{constructor(t){this.api=t,this.availableTags=[],this.control=new $.NI(null),this.subscription=new B.xf,this.onChange=()=>{},this.onTouched=()=>{}}get selectedTags(){return this.availableTags.filter(t=>{var i;return null===(i=this.control.value)||void 0===i?void 0:i.includes(t.taskTagId)})}trackByTaskTag(t,i){return i.taskTagId}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.api.getTaskTags(!0).subscribe(t=>{this.availableTags=t}),this.subscription.addSubscription("change",this.control.valueChanges.pipe((0,L.U)(t=>null!=t?t:[])).subscribe(t=>{console.log(t),this.onChange(t)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-filter-input"]],features:[e._Bn([{provide:$.JU,multi:!0,useExisting:n}])],decls:8,vars:9,consts:[["filterBy","name","appendTo","body","defaultLabel","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438","optionValue","taskTagId","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438",3,"formControl","filter","options","showClear","onBlur"],["pTemplate","selectedItems"],["pTemplate","item"],["showTransitionOptions","0ms","hideTransitionOptions","0ms"],["extraPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-placeholder",4,"ngIf"],[1,"tags-view"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-placeholder"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"p-multiSelect",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,bt,5,8,"ng-template",1),e.YNc(2,st,2,3,"ng-template",2),e.qZA(),e.TgZ(3,"p-overlayPanel",3,4)(5,"div",5),e.YNc(6,xt,2,3,"div",6),e.ALo(7,"slice"),e.qZA()()),2&t&&(e.Q6J("formControl",i.control)("filter",!0)("options",i.availableTags)("showClear",!0),e.xp6(6),e.Q6J("ngForOf",e.xi3(7,6,i.selectedTags,2))("ngForTrackBy",i.trackByTaskTag))},dependencies:[I.sg,I.O5,$.JJ,j.jx,Ue.T,fe.NU,$.oH,I.OU]}),n})();var We=_(540),hn=_(7102);let fn=(()=>{class n{constructor(){this.chooserControl=new $.NI([]),this.options=[{name:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:We.hY.ACTIVE},{name:"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",value:We.hY.PROCESSING},{name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:We.hY.CLOSE}],this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.chooserControl.valueChanges.subscribe(t=>{this.onChange(t||[])})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.chooserControl.disable({emitEvent:!1}):this.chooserControl.enable({emitEvent:!1})}writeValue(t){this.chooserControl.setValue(t||[])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-status-chooser"]],features:[e._Bn([{provide:$.JU,multi:!0,useExisting:n}])],decls:1,vars:3,consts:[["optionLabel","name","optionValue","value",3,"options","formControl","multiple"]],template:function(t,i){1&t&&e._UZ(0,"p-selectButton",0),2&t&&e.Q6J("options",i.options)("formControl",i.chooserControl)("multiple",!0)},dependencies:[$.JJ,$.oH,hn.UN]}),n})();var St=_(4036),ln=_(7010),Ye=_(1424),Mt=_(1886),Ft=_(9477);function tn(n,o){1&n&&e.GkF(0)}const Vn=function(){return{label:"\u0414\u0430",value:!0}},oi=function(){return{label:"\u041d\u0435\u0442",value:!1}},Kn=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},Ut=function(n,o,t){return[n,o,t]};function ft(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,tn,1,0,"ng-container",5),e.TgZ(2,"p-dropdown",6),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)("options",e.kEZ(6,Ut,e.DdM(3,Vn),e.DdM(4,oi),e.DdM(5,Kn)))}}function Be(n,o){1&n&&e.GkF(0)}function It(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Be,1,0,"ng-container",5),e.TgZ(2,"input",7),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function S(n,o){1&n&&e.GkF(0)}function he(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,S,1,0,"ng-container",5),e.TgZ(2,"input",7),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Ae(n,o){1&n&&e.GkF(0)}function Qe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Ae,1,0,"ng-container",5),e.TgZ(2,"p-inputNumber",8),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Ot(n,o){1&n&&e.GkF(0)}function Kt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Ot,1,0,"ng-container",5),e.TgZ(2,"p-inputNumber",9),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)("minFractionDigits",1)}}function en(n,o){1&n&&e.GkF(0)}function Xe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,en,1,0,"ng-container",5),e.TgZ(2,"app-address-input",10),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("onBlur",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onTouched())})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function wt(n,o){1&n&&e.GkF(0)}function ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,wt,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Ve(n,o){1&n&&e.GkF(0)}function ct(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Ve,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Ct(n,o){1&n&&e.GkF(0)}function sn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Ct,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function $n(n,o){1&n&&e.GkF(0)}function Wi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,$n,1,0,"ng-container",5),e.TgZ(2,"input",12),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function kt(n,o){1&n&&e.GkF(0)}function rn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,kt,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function $e(n,o){1&n&&e.GkF(0)}function yt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,$e,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Yt(n,o){1&n&&e.GkF(0)}function $t(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Yt,1,0,"ng-container",5),e.TgZ(2,"input",13),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function xn(n,o){1&n&&e._UZ(0,"div"),2&n&&e.Udp("background-color","red")}function Pn(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.field?null:t.field.name," ")}}let di=(()=>{class n{constructor(t){this.api=t,this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.controlValue=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-filter-input"]],inputs:{field:"field"},features:[e._Bn([{provide:$.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:17,vars:14,consts:[[3,"ngSwitch"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],["label",""],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],[3,"ngModel","options","ngModelChange"],["pInputText","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"ngModel","minFractionDigits","ngModelChange"],[3,"ngModel","ngModelChange","onBlur"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$",3,"ngModel","ngModelChange"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\d\\.]+$",3,"ngModel","ngModelChange"],["appRegexPatternChecker","","pInputText","","patternRx","^[1-9]\\d{0,10}$",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.ynx(0,0),e.YNc(1,ft,3,10,"div",1),e.YNc(2,It,3,2,"div",1),e.YNc(3,he,3,2,"div",1),e.YNc(4,Qe,3,2,"div",1),e.YNc(5,Kt,3,3,"div",1),e.YNc(6,Xe,3,2,"div",1),e.YNc(7,ee,3,2,"div",1),e.YNc(8,ct,3,2,"div",1),e.YNc(9,sn,3,2,"div",1),e.YNc(10,Wi,3,2,"div",1),e.YNc(11,rn,3,2,"div",1),e.YNc(12,yt,3,2,"div",1),e.YNc(13,$t,3,2,"div",1),e.YNc(14,xn,1,2,"div",2),e.BQk(),e.YNc(15,Pn,2,1,"ng-template",null,3,e.W1O)),2&t&&(e.Q6J("ngSwitch",null==i.field?null:i.field.type),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"))},dependencies:[I.tP,I.RF,I.n9,I.ED,$.Fj,$.JJ,$.On,St.Lt,ln.Rn,Ye.o,Mt.k,Ft.Q]}),n})();var Ci=_(2076),Ki=_(5577),Je=_(4119),X=_(6198),D=_(5787),oe=_(1828);const Ie=function(n){return{disabled:n}};function vt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectAll())}),e._UZ(1,"i",10),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,Ie,t.disabled))}}function Dt(n,o){1&n&&e.GkF(0)}const Et=function(n){return{$implicit:n}};function Vt(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Dt,1,0,"ng-container",12),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Et,t))}}function pn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Vt,2,4,"ng-container",11),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.templates)("ngForTrackBy",t.templateTrack)}}function bn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13),e._UZ(2,"p-progressSpinner",14),e.qZA(),e.BQk())}function yn(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",15),e._UZ(3,"i",16),e.TgZ(4,"span"),e._uU(5," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()(),e.BQk())}function An(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",17),e._UZ(3,"i",18),e.TgZ(4,"span"),e._uU(5," \u0428\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435\u0442 "),e.qZA()()(),e.BQk())}function In(n,o){1&n&&e.GkF(0)}function Jn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,In,1,0,"ng-container",12),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Et,t))}}const Ti=function(n){return{closed:n}};function zi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleExpand())}),e.TgZ(2,"span",3),e._uU(3," \u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 "),e.qZA(),e._UZ(4,"i",21),e.qZA(),e.TgZ(5,"div",22,23),e.YNc(7,Jn,2,4,"ng-container",11),e.qZA()()}if(2&n){const t=e.MAs(6),i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(5,Ti,i.closed)),e.xp6(4),e.Udp("height",i.closed?"0px":t.scrollHeight+"px"),e.xp6(2),e.Q6J("ngForOf",i.deletedTemplates)("ngForTrackBy",i.templateTrack)}}function gn(n,o){if(1&n&&e._UZ(0,"app-colored-tag",29),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("caption",i.getCount(t.wireframeId).toString())}}const yi=function(n,o,t){return{selected:n,"un-target":o,disabled:t}},_o=function(n,o,t){return{"mdi-radio_button_unchecked":n,"mdi-check_circle_outline":o,"mdi-close":t}};function Yi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",24),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.uniselect(c.wireframeId))}),e.TgZ(1,"i",25),e.NdJ("click",function(r){const p=e.CHM(t).$implicit,C=e.oxw();return r.stopPropagation(),e.KtG(C.toggle(p.wireframeId))}),e.qZA(),e.TgZ(2,"span",26),e.NdJ("mouseenter",function(){const c=e.CHM(t).$implicit,p=e.oxw();return p.uniTargetMode=!0,e.KtG(p.uniTargetId=c.wireframeId)})("mouseleave",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.uniTargetMode=!1)}),e.TgZ(3,"span",27),e._uU(4),e.qZA(),e.YNc(5,gn,1,1,"app-colored-tag",28),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.kEZ(4,yi,i.isSelect(t.wireframeId),i.isUntarget(t.wireframeId),i.disabled)),e.xp6(1),e.Q6J("ngClass",e.kEZ(8,_o,!i.isSelect(t.wireframeId),i.isSelect(t.wireframeId),i.isSelect(t.wireframeId)&&i.isUntarget(t.wireframeId))),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",i.getCount(t.wireframeId)>0)}}const Fi=function(n){return{panel:n}};let ai=(()=>{class n{constructor(t){this.api=t,this.templates=[],this.deletedTemplates=[],this.selected=[],this.countersType="incoming",this.inline=!1,this.counters=[],this.status="loading",this.uniTargetMode=!1,this.uniTargetId=0,this.disabled=!1,this.closed=!0,this.onChange=i=>{},this.onTouched=()=>{}}isUntarget(t){return this.uniTargetMode&&this.uniTargetId!==t}setDisabledState(t){this.disabled=t}uniselect(t){this.selected=[t],this.onChange(this.selected)}select(t){this.selected.push(t),this.onChange(this.selected)}unselect(t){this.selected.length>1&&(this.selected=this.selected.filter(i=>i!==t),this.onChange(this.selected))}isSelect(t){return this.selected.includes(t)}templateTrack(t,i){return i.wireframeId}ngOnInit(){this.status="loading",this.api.getWireframes(!0).subscribe({next:t=>{this.templates=t.filter(i=>!i.deleted),this.deletedTemplates=t.filter(i=>i.deleted),0===this.templates.length?this.status="empty":(0===this.selected.length&&(this.selected=[this.templates[0].wireframeId],this.onChange(this.selected)),this.counters=[],"none"!==this.countersType&&(0,Ci.D)(this.templates).pipe((0,Ki.z)(i=>"incoming"===this.countersType?this.api.getCountIncomingTasksByWireframeId(i.wireframeId).pipe((0,L.U)(r=>({id:i.wireframeId,num:r}))):this.api.getCountAllTasksByWireframeId(i.wireframeId).pipe((0,L.U)(r=>({id:i.wireframeId,num:r}))))).subscribe(i=>this.counters.push(i)),this.status="ready")},error:()=>{this.status="error"}})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.selected=t}toggle(t){this.isSelect(t)?this.unselect(t):this.select(t)}getCount(t){var i;return(null===(i=this.counters.find(r=>r.id===t))||void 0===i?void 0:i.num)||0}selectAll(){this.selected=this.templates.map(t=>t.wireframeId),this.onChange(this.selected)}toggleExpand(){this.closed=!this.closed}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-multi-selector"]],inputs:{countersType:"countersType",inline:"inline"},features:[e._Bn([{provide:$.JU,useExisting:n,multi:!0}])],decls:14,vars:10,consts:[[1,"template-selector",3,"ngClass"],[1,"template-selector-title"],[1,"mdi-checklist"],[1,"stretched"],["class","select-all-button","pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",3,"ngClass","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","flexed column",4,"ngIf"],["templateItem",""],["pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",1,"select-all-button",3,"ngClass","click"],[1,"mdi-select_all"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"template-selector-message"],["strokeWidth","1",1,"primary-spinner"],[1,"caption","size-big","wt-bold","f-color-danger","flexed","hcenter","gap3"],[1,"mdi-warning"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],[1,"flexed","column"],[1,"expand-button",3,"ngClass","click"],[1,"mdi-expand_more"],[1,"expand-list"],["expandListEl",""],[1,"template-selector-item",3,"ngClass","click"],[3,"ngClass","click"],[1,"flexed","hcenter",3,"mouseenter","mouseleave"],[1,"one-line"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["color","var(--mc-500)",3,"caption"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4," \u0422\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447 "),e.qZA(),e.YNc(5,vt,2,3,"span",4),e.qZA(),e.ynx(6,5),e.YNc(7,pn,2,2,"ng-container",6),e.YNc(8,bn,3,0,"ng-container",6),e.YNc(9,yn,6,0,"ng-container",6),e.YNc(10,An,6,0,"ng-container",6),e.BQk(),e.YNc(11,zi,8,7,"div",7),e.qZA(),e.YNc(12,Yi,6,12,"ng-template",null,8,e.W1O)),2&t&&(e.Q6J("ngClass",e.VKq(8,Fi,!i.inline)),e.xp6(5),e.Q6J("ngIf",i.selected.length<i.templates.length),e.xp6(1),e.Q6J("ngSwitch",i.status),e.xp6(1),e.Q6J("ngSwitchCase","ready"),e.xp6(1),e.Q6J("ngSwitchCase","loading"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","empty"),e.xp6(1),e.Q6J("ngIf",i.deletedTemplates.length))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.RF,I.n9,Je.u,X.G,D.H,oe.C],styles:["[_nghost-%COMP%]{height:-moz-fit-content;height:fit-content}.select-all-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.3rem;cursor:pointer;border-radius:var(--br-100);background-color:transparent;transition:color .1s ease-in-out,background-color .1s ease-in-out}.select-all-button[_ngcontent-%COMP%]:hover{color:var(--mc-400);background-color:var(--bgc-100)}.select-all-button.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.template-selector[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:.5rem}.template-selector-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;font-weight:500;color:var(--tc-700);gap:.4rem;padding:.4rem;margin:0 .3rem .3rem;border-bottom:1px solid var(--bgc-100)}.template-selector-message[_ngcontent-%COMP%]{display:flex;padding:2rem;align-items:center;justify-content:center}.template-selector-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;transition:all .1s ease-in-out;color:var(--tc-700)}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.5rem 0 .5rem .8rem}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem .8rem .5rem 0;flex:1}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item.selected[_ngcontent-%COMP%]{color:var(--mc-500)}.template-selector-item.un-target[_ngcontent-%COMP%]{color:var(--tc-200)}.template-selector-item.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.expand-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.3rem .5rem .3rem .7rem;border-top:1px solid var(--bgc-100);cursor:pointer;color:var(--tc-600);font-size:.85rem;margin:.3rem 0;transition:color .1s ease-in-out;-webkit-user-select:none;user-select:none}.expand-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.expand-button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transition:all .1s ease-in-out;transform-origin:50% 40%;transform:translateY(.1rem)}.expand-button.closed[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-.2rem)}.expand-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;transition:height .1s ease-in-out}"]}),n})();var wi=_(1110);function Si(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}function Ji(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}let Bi=(()=>{class n{constructor(t){this.api=t,this.employees=[],this.control=new $.NI(null),this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t}),this.control.valueChanges.subscribe(t=>{this.onChange(t)})}ngOnDestroy(){}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-selector"]],features:[e._Bn([{provide:$.JU,useExisting:n,multi:!0}])],decls:3,vars:3,consts:[["styleClass","full-width","optionValue","login","appendTo","body","placeholder","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",3,"options","formControl","showClear","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[3,"size","employee"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,Si,1,2,"ng-template",1),e.YNc(2,Ji,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("options",i.employees)("formControl",i.control)("showClear",!0)},dependencies:[$.JJ,St.Lt,j.jx,$.oH,wi.x]}),n})();var To=_(5652);let _i=(()=>{class n{constructor(){this.control=new $.NI(null),this.subscription=new B.xf,this.onChange=t=>{},this.onTouched=()=>{}}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.subscription.addSubscription("change",this.control.valueChanges.pipe((0,L.U)(t=>B.cQ.dateArrayToRange(t))).subscribe(t=>this.onChange(t)))}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){if(!t)return void this.control.setValue(null);const i=[];t.start&&(i[0]=new Date(t.start)),t.end&&(i[1]=new Date(t.end)),this.control.setValue(i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-data-range-input"]],features:[e._Bn([{provide:$.JU,useExisting:n,multi:!0}])],decls:1,vars:4,consts:[["placeholder","\u0414\u0430\u0442\u0430","appendTo","body","styleClass","full-width",3,"formControl","showClear","selectionMode","readonlyInput","onBlur"]],template:function(t,i){1&t&&(e.TgZ(0,"p-calendar",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.qZA()),2&t&&e.Q6J("formControl",i.control)("showClear",!0)("selectionMode","range")("readonlyInput",!0)},dependencies:[$.JJ,$.oH,To.f]}),n})();var ki=_(5315),Ii=_(845),kn=_(1777),zt=_(5730),an=_(5921);const as=function(n,o){return{showTransitionParams:n,hideTransitionParams:o}},Hs=function(n){return{value:"open",params:n}};function Oo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("@animation.start",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onEnter(r))})("@animation.done",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onLeave(r))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onClick())}),e._UZ(1,"span",2),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("@animation",e.VKq(11,Hs,e.WLB(8,as,t.showTransitionOptions,t.hideTransitionOptions)))("ngClass",t.containerClass())("ngStyle",t.style),e.xp6(1),e.Tol(t.icon),e.Q6J("ngClass","p-scrolltop-icon")}}let hs=(()=>{class n{constructor(t,i,r){this.el=t,this.cd=i,this.config=r,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(t){switch(t.toState){case"open":this.overlay=t.element,an.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(t){"void"===t.toState&&an.P9.clear(t.element)}checkVisibility(t){this.visible=t>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(zt.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(an.P9.clear(this.overlay),this.overlay=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(j.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(t,i){1&t&&e.YNc(0,Oo,2,13,"button",0),2&t&&e.Q6J("ngIf",i.visible)},dependencies:[I.mk,I.O5,I.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,kn.X$)("animation",[(0,kn.SB)("void",(0,kn.oB)({opacity:0})),(0,kn.SB)("open",(0,kn.oB)({opacity:1})),(0,kn.eR)("void => open",(0,kn.jt)("{{showTransitionParams}}")),(0,kn.eR)("open => void",(0,kn.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),n})(),Pr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez]}),n})();var Jo=_(4132);const Rr=["paginator"];function Ya(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"p-progressSpinner",24),e.qZA())}function Co(n,o){1&n&&e._UZ(0,"app-task-list-element",27),2&n&&e.Q6J("item",o.$implicit)}function fr(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",25),e.YNc(2,Co,1,1,"app-task-list-element",26),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.taskService.taskItems)("ngForTrackBy",t.trackByTask)}}function ea(n,o){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"i",29),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function $s(n,o){1&n&&(e.TgZ(0,"div",30),e._UZ(1,"i",31),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function mr(n,o){if(1&n&&e._UZ(0,"app-task-template-filter-input",42),2&n){const t=o.$implicit;e.Q6J("field",t)("formControlName",t.id)}}function Vs(n,o){if(1&n&&(e.ynx(0),e.YNc(1,mr,1,2,"app-task-template-filter-input",41),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.taskService.templateFilterFields)("ngForTrackBy",t.trackByField)}}function Lr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"span",34)(3,"label"),e._uU(4,"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(5,"app-employee-selector",35),e.qZA(),e.TgZ(6,"span",34)(7,"label"),e._uU(8,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(9,"app-data-range-input",36),e.qZA(),e.YNc(10,Vs,2,2,"ng-container",37),e.qZA(),e.TgZ(11,"span",38)(12,"p-button",39),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.filterDialogVisible=!1,e.KtG(r.taskService.filtersApply())}),e.qZA(),e.TgZ(13,"p-button",40),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearTemplateFilters())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.taskService.templateFilterForm),e.xp6(9),e.Q6J("ngIf",t.taskService.templateFilterFields.length>0)}}const qs=function(){return{width:"25rem"}},eo=function(){return{"960px":"640px","640px":"100vw"}};let $o=(()=>{class n{constructor(t,i,r){this.taskService=t,this.api=i,this.route=r,this.employees=[],this.loadingItems=Array.from({length:10}).fill(null),this.filterDialogVisible=!1}trackByField(t,i){return i.id+i.variation}trackByTask(t,i){var r;return i.taskId+(null!==(r=i.updated)&&void 0!==r?r:"")}ngOnInit(){this.taskService.loadPage(),this.api.getEmployees().subscribe(t=>{this.employees=t})}ngAfterViewInit(){this.taskService.setPaginatorPage=t=>{this.paginator&&this.paginator.changePage(t)}}isNewDate(t,i){if(0===i)return!0;const r=t[i-1],c=t[i];if(!r||!c)return!1;const p=new Date(r.created);p.setHours(0,0,0,0);const C=new Date(c.created);return C.setHours(0,0,0,0),p.getTime()>C.getTime()}taskLazyLoad(t){(!t.fields||0===t.fields.length)&&this.api.getFieldsTask(t.taskId).subscribe(i=>{t.fields=i})}clearTemplateFilters(){this.taskService.templateFilterForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.U),e.Y36(H.s),e.Y36(s.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(Rr,5),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},decls:26,vars:20,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"tasks-list"],[1,"global-filters",3,"formGroup"],[1,"flexed","gap5"],[1,"p-input-icon-left","stretched"],[1,"mdi-search"],["formControlName","searchPhrase","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text",1,"full-width"],["icon","mdi-filter_alt","label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","styleClass","p-button-text",3,"onClick"],["formControlName","tags",1,"stretched"],["formControlName","status",1,"stretched"],[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"sticky","bottom1"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"],["paginator",""],[3,"formGroup"],["countersType","all","formControlName","template",1,"sticky-type-selector"],["header","\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"primary-spinner"],[1,"flexed","gap10","column"],[3,"item",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"flexed","column","gap15"],[1,"flexed","column","gap5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","author"],["formControlName","dateOfCreation"],[4,"ngIf"],[1,"flexed","gap10"],["icon","mdi-filter_alt","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],["icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-secondary p-button-outlined",3,"onClick"],[3,"field","formControlName",4,"ngFor","ngForOf","ngForTrackBy"],[3,"field","formControlName"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4)(6,"span",5),e._UZ(7,"i",6)(8,"input",7),e.qZA(),e.TgZ(9,"p-button",8),e.NdJ("onClick",function(){return i.filterDialogVisible=!0}),e.qZA()(),e.TgZ(10,"span",4),e._UZ(11,"app-task-tag-filter-input",9)(12,"app-task-status-chooser",10),e.qZA()(),e.ynx(13,11),e.YNc(14,Ya,2,0,"div",12),e.YNc(15,fr,3,2,"ng-container",13),e.YNc(16,ea,4,0,"div",14),e.YNc(17,$s,4,0,"div",15),e.BQk(),e.TgZ(18,"div",16)(19,"p-paginator",17,18),e.NdJ("onPageChange",function(c){return i.taskService.pageChange(c)}),e.qZA()()(),e.ynx(21,19),e._UZ(22,"app-task-template-multi-selector",20),e.BQk(),e.qZA()(),e._UZ(23,"p-scrollTop"),e.TgZ(24,"p-dialog",21),e.NdJ("visibleChange",function(c){return i.filterDialogVisible=c}),e.YNc(25,Lr,14,2,"ng-template",22),e.qZA()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.taskService.filterForm),e.xp6(9),e.Q6J("ngSwitch",i.taskService.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("alwaysShow",!1)("rows",i.taskService.TASK_PAGE_SIZE)("showCurrentPageReport",!0)("totalRecords",i.taskService.totalTaskItems),e.xp6(2),e.Q6J("formGroup",i.taskService.filterForm),e.xp6(3),e.Akn(e.DdM(18,qs)),e.Q6J("visible",i.filterDialogVisible)("breakpoints",e.DdM(19,eo))("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[ht,at.E,Se,ot,fn,di,ai,Bi,_i,$.Fj,$.JJ,$.JL,j.jx,I.sg,ki.V,$.sg,$.u,I.O5,Ii.zx,I.RF,I.n9,hs,Ye.o,X.G,Jo.D],styles:[".top-interceptor[_ngcontent-%COMP%]{position:fixed;width:100vw;height:50px;top:0;left:0;border:1px solid var(--tc-700)}.global-filters[_ngcontent-%COMP%]{display:grid;gap:.5rem;justify-content:center;background-color:#fff;box-shadow:var(--shadow-0);border-radius:var(--br-200);padding:1rem;width:-moz-fit-content;width:fit-content;place-self:center}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.tasks-list[_ngcontent-%COMP%]{display:grid;position:relative;grid:min-content 1fr min-content/1fr;gap:1rem;flex:1;padding-bottom:2rem}"]}),n})();var wo=_(4e3);class si{static taskInput(o,t){switch(o){case We._r.BOOLEAN:return i=>si.isValueEmpty(i.value)?{required:!0}:!0===i.value||!1===i.value?null:{required:!0};case We._r.FLOAT:case We._r.INTEGER:case We._r.IP:case We._r.LOGIN:case We._r.LARGE_TEXT:case We._r.SMALL_TEXT:return i=>si.isValueEmpty(i.value)?{required:!0}:null;case We._r.PHONE_ARRAY:return i=>si.isValueEmpty(i.value)||Object.keys(i.value).some(r=>!si.isValidUUID(r))&&Object.values(i.value).some(r=>!si.isValidPhone(r))?{required:!0}:null;case We._r.ADDRESS:return i=>{var r,c,p,C,E,ie;const ae=i.value;if(si.isValueEmpty(ae))return{required:!0};switch(t){case"APARTMENT_ONLY":if(si.isValueEmpty(null===(r=ae.city)||void 0===r?void 0:r.cityId)||si.isValueEmpty(null===(c=ae.street)||void 0===c?void 0:c.streetId)||si.isValueEmpty(ae.houseNum)||si.isValueEmpty(ae.apartmentNum))return{required:!0};break;case"HOUSE_ONLY":if(si.isValueEmpty(null===(p=ae.city)||void 0===p?void 0:p.cityId)||si.isValueEmpty(null===(C=ae.street)||void 0===C?void 0:C.streetId)||si.isValueEmpty(ae.houseNum))return{required:!0};break;default:if(si.isValueEmpty(null===(E=ae.city)||void 0===E?void 0:E.cityId)||si.isValueEmpty(null===(ie=ae.street)||void 0===ie?void 0:ie.streetId)||si.isValueEmpty(ae.houseNum)||si.isValueEmpty(ae.entrance)||si.isValueEmpty(ae.floor)||si.isValueEmpty(ae.apartmentNum))return{required:!0}}return null};default:return i=>si.isValueEmpty(i.value)?{required:!0}:null}}static notEmpty(o){return si.isValueEmpty(o.value)||Array.isArray(o.value)&&0===o.value.length?{required:!0}:null}static isValueEmpty(o){return null==o||""===o}static isValidUUID(o){if("string"!=typeof o)return!1;const t=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi;return console.log(`isValidUUID: ${o} ${t.test(o)}`),t.test(o)}static isValidPhone(o){if("string"!=typeof o)return!1;const t=/^8 \(\d{3}\) \d{3}-\d{2}-\d{2}$/;return console.log(`isValidPhone: ${o} ${t.test(o)}`),t.test(o)}}var Xs=_(8028),$i=_(446),qo=_(6502);function _r(n,o){1&n&&e.GkF(0)}function er(n,o){if(1&n&&e._UZ(0,"app-task-template-input",12),2&n){const t=o.$implicit;e.Q6J("formControlName",t.id)("field",t)}}function gs(n,o){1&n&&e.GkF(0)}function Po(n,o){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8),e._uU(2),e.qZA(),e.TgZ(3,"div",9),e.YNc(4,er,1,2,"app-task-template-input",10),e.qZA(),e.YNc(5,gs,1,0,"ng-container",11),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(4);e.Q6J("@flow",void 0),e.xp6(2),e.AsE("\u042d\u0442\u0430\u043f ",t.currentStep+1," : ",t.selectedTemplate?t.selectedTemplate.steps[t.currentStep].name:"",""),e.xp6(1),e.Q6J("@swipeChild",t.currentStepFields.length)("formGroup",t.currentStepForm),e.xp6(1),e.Q6J("ngForOf",t.currentStepFields),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function Ro(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e._UZ(1,"div",16),e.TgZ(2,"app-button",17),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",!t.isValidCurrentStep)}}function ls(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"app-button",18),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",16),e.TgZ(3,"app-button",17),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",!t.isValidCurrentStep)}}function xo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"app-button",18),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",16),e.TgZ(3,"app-button",19),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTask())}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",!t.taskCreationForm.valid)}}function tr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e._UZ(1,"div",16),e.TgZ(2,"app-button",19),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTask())}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",!t.taskCreationForm.valid)}}function Lo(n,o){if(1&n&&(e.ynx(0,13),e.YNc(1,Ro,3,1,"div",14),e.YNc(2,ls,4,1,"div",14),e.YNc(3,xo,4,1,"div",14),e.YNc(4,tr,3,1,"div",14),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.controlsType()),e.xp6(1),e.Q6J("ngSwitchCase","NEXT_ONLY"),e.xp6(1),e.Q6J("ngSwitchCase","BOTH"),e.xp6(1),e.Q6J("ngSwitchCase","PREV_FIN"),e.xp6(1),e.Q6J("ngSwitchCase","FIN_ONLY")}}const Zs=function(){return[]};function ta(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"span",21),e._uU(2,"\u0412\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"div",22)(4,"p-dropdown",23),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedTemplate=r)}),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"app-button",24),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectTemplateForTask())}),e.qZA()()()}if(2&n){const t=e.oxw();let i;e.xp6(4),e.Q6J("ngModel",t.selectedTemplate)("disabled",t.isTemplateSelected)("options",null!==(i=e.lcZ(5,4,t.templateOptionsList$))&&void 0!==i?i:e.DdM(6,Zs)),e.xp6(2),e.Q6J("disabled",t.isTemplateSelected)}}function fs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"span",26),e._uU(2,"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d:"),e.qZA(),e.TgZ(3,"span",21),e._uU(4),e.qZA(),e.TgZ(5,"app-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unselectTemplateForTask())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(null==t.selectedTemplate?null:t.selectedTemplate.name),e.xp6(1),e.Q6J("disabled",!t.isTemplateSelected)}}function nr(n,o){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"p-progressSpinner",29),e.qZA())}var No=(()=>{return(n=No||(No={})).NEXT_ONLY="NEXT_ONLY",n.BOTH="BOTH",n.PREV_FIN="PREV_FIN",n.FIN_ONLY="FIN_ONLY",n.NONE="NONE",No;var n})();let uo=(()=>{class n{constructor(t,i,r,c){this.api=t,this.route=i,this.personality=r,this.toast=c,this.templateOptionsList$=this.api.getWireframes(),this.isTemplateSelected=!1,this.currentStep=0,this.isCreatedTask=!1,this.taskCreationForm=new $.Oe([]),this._selectedTemplate=null,document.body.classList.add("whited")}get selectedTemplate(){return this._selectedTemplate}set selectedTemplate(t){this._selectedTemplate=t}get currentStepFields(){var t,i;return this.isTemplateSelected&&null!==(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep].fields)&&void 0!==i?i:[]}get currentStepForm(){return this.taskCreationForm.at(this.currentStep)}get isValidCurrentStep(){return this.currentStepForm.valid}get taskCreationBody(){if(!this.selectedTemplate)return null;const t=this.taskCreationForm.getRawValue().reduce((i,r)=>Object.assign(Object.assign({},i),r),{});return{wireframeId:this.selectedTemplate.wireframeId,childId:this.childId,parentId:this.parentId,fields:B.PU.convert(t,this.selectedTemplate)}}ngOnInit(){this.route.queryParams.subscribe(t=>{const{child:i,parent:r}=t;i?this.childId=parseInt(i):r&&(this.parentId=parseInt(r))})}selectTemplateForTask(){!this.selectedTemplate||(this.isTemplateSelected=!0,this.taskCreationForm=new $.Oe(this.selectedTemplate.steps.map(t=>new $.cw(t.fields.reduce((i,r)=>Object.assign(Object.assign({},i),{[r.id]:new $.NI(null,[si.taskInput(r.type,r.variation)])}),{})))))}unselectTemplateForTask(){this.selectedTemplate=null,this.isTemplateSelected=!1,this.currentStep=0,this.isTemplateSelected=!1}changeCreationStep(t=0){this.currentStep+=t}controlsType(){return this.selectedTemplate?0===this.currentStep?this.selectedTemplate.steps.length>1?No.NEXT_ONLY:No.FIN_ONLY:this.selectedTemplate.steps.length-1===this.currentStep?No.PREV_FIN:No.BOTH:No.NONE}createTask(){this.taskCreationBody?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).subscribe({next:()=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(s.gz),e.Y36(Xs.F),e.Y36(j.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:7,consts:[["appExtendPageHeight","",1,"flexed","gap10","column"],[4,"ngIf","ngIfThen","ngIfElse"],["class","stage-view",4,"ngIf"],["controls",""],["unselectedTemplatePanel",""],["selectedTemplatePanel",""],["class","stub-when-creating-a-task",4,"ngIf"],[1,"stage-view"],[1,"caption"],[1,"flexed","column","p10","gap10",3,"formGroup"],["class","stretched",3,"formControlName","field",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[1,"stretched",3,"formControlName","field"],[3,"ngSwitch"],["class","flexed",4,"ngSwitchCase"],[1,"flexed"],[1,"stretched"],["icon","navigate_next","iconPos","right","label","\u0414\u0430\u043b\u0435\u0435",3,"disabled","onClick"],["icon","navigate_before","label","\u041d\u0430\u0437\u0430\u0434","model","p-button-text p-button-secondary",3,"onClick"],["icon","add_circle_outline","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","onClick"],[1,"flexed","gap10","column"],[1,"header400"],[1,"flexed","gap5","hcenter"],["optionLabel","name","placeholder","\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0437\u0430\u0434\u0430\u0447",3,"ngModel","disabled","options","ngModelChange"],["icon","done","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","model","fit-content p-button-success",3,"disabled","onClick"],[1,"flexed","hcenter","gap5"],[1,"header300"],["icon","published_with_changes","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440","model","p-button-text p-button-danger fit-content",3,"disabled","onClick"],[1,"stub-when-creating-a-task"],[1,"white-spinner"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,_r,1,0,"ng-container",1),e.YNc(2,Po,6,7,"div",2),e.qZA(),e.YNc(3,Lo,5,5,"ng-template",null,3,e.W1O),e.YNc(5,ta,7,7,"ng-template",null,4,e.W1O),e.YNc(7,fs,6,2,"ng-template",null,5,e.W1O),e.YNc(9,nr,2,0,"div",6)),2&t){const r=e.MAs(6),c=e.MAs(8);e.Udp("padding","0 2rem 2rem 2rem"),e.xp6(1),e.Q6J("ngIf",i.isTemplateSelected)("ngIfThen",c)("ngIfElse",r),e.xp6(1),e.Q6J("ngIf",i.isTemplateSelected),e.xp6(7),e.Q6J("ngIf",i.isCreatedTask)}},dependencies:[$i.r,qo.o,Se,$.JJ,$.JL,$.On,I.sg,$.sg,$.u,St.Lt,I.O5,I.tP,I.RF,I.n9,X.G,I.Ov],styles:[".stage-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:0 2rem;width:100%;min-width:max-content;max-width:54rem;align-self:center}.stub-when-creating-a-task[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:10000;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"],data:{animation:[wo.U1,wo.ls,wo.x$]}}),n})();var Xo=_(9014);let ir=(()=>{class n{constructor(t,i){this.location=t,this.router=i}backOrDefault(t){1!==this.location.getState().navigationId?this.location.back():this.router.navigate(t).then()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(I.Ye),e.LFG(s.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Zi=_(8007),ms=_(5072),Cr=_(6288),Gi=_(3064),vo=_(3725),vr=_(85);function cs(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u043e\u0442\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.images.length.toString())}}function bo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const c=e.CHM(t).index,p=e.oxw();return e.KtG(p.viewerService.showMediaAlbum(c,p.images))}),e._UZ(1,"img",14),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("src",i.baseUrl+t.name,e.LSH)}}function ks(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0412\u0438\u0434\u0435\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.videos.length.toString())}}function Nr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const c=e.CHM(t).index,p=e.oxw();return e.KtG(p.viewerService.showMediaAlbum(c,p.videos))}),e.TgZ(1,"span",16),e._uU(2,"movie"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function Ms(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0410\u0443\u0434\u0438\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.audios.length.toString())}}function ri(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const c=e.CHM(t).index,p=e.oxw();return e.KtG(p.viewerService.showMediaAlbum(c,p.audios))}),e.TgZ(1,"span",16),e._uU(2,"music_note"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function Fr(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.documents.length.toString())}}function es(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(6);return e.KtG(r.click())}),e.TgZ(1,"span",16),e._uU(2,"picture_as_pdf"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",18,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("href",i.baseUrl+t.name+"/",e.LSH)}}function na(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u0430\u0439\u043b\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.files.length.toString())}}function yo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(6);return e.KtG(r.click())}),e.TgZ(1,"span",16),e._uU(2,"description"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",20,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("download",t.name)("href",i.baseUrl+t.name+"/",e.LSH)}}let po=(()=>{class n{constructor(t,i){this.api=t,this.viewerService=i,this.show=!1,this.showChange=new e.vpe,this.baseUrl="/api/private/attachment/",this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}ngOnInit(){this.clearAllAttachments(),this.taskId&&this.api.getAllTaskAttachments(this.taskId).subscribe(t=>{for(const i of t)switch(i.type){case We.sf.PHOTO:this.images.push(i);break;case We.sf.VIDEO:this.videos.push(i);break;case We.sf.AUDIO:this.audios.push(i);break;case We.sf.DOCUMENT:this.documents.push(i);break;case We.sf.FILE:this.files.push(i)}})}clearAllAttachments(){this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Gi.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attachments-history-dialog"]],inputs:{taskId:"taskId",show:"show"},outputs:{showChange:"showChange"},decls:22,vars:9,consts:[["header","\u0424\u0430\u0439\u043b\u044b \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"draggable","visible","modal","resizable","visibleChange"],["header","\u0424\u043e\u0442\u043e"],["pTemplate","header"],[1,"flexed-list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],["header","\u0412\u0438\u0434\u0435\u043e"],["class","list-item p5",3,"click",4,"ngFor","ngForOf"],["header","\u0410\u0443\u0434\u0438\u043e"],["header","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],["header","\u0424\u0430\u0439\u043b\u044b"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"value"],[1,"list-item",3,"click"],[3,"src"],[1,"list-item","p5",3,"click"],[1,"material-icons-round"],[1,"filename"],["target","_blank",3,"href"],["link",""],[3,"download","href"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(c){return i.showChange.emit(c)})("visibleChange",function(c){return i.show=c}),e.TgZ(1,"p-tabView")(2,"p-tabPanel",1),e.YNc(3,cs,4,1,"ng-template",2),e.TgZ(4,"div",3),e.YNc(5,bo,2,1,"div",4),e.qZA()(),e.TgZ(6,"p-tabPanel",5),e.YNc(7,ks,4,1,"ng-template",2),e.TgZ(8,"div",3),e.YNc(9,Nr,5,1,"div",6),e.qZA()(),e.TgZ(10,"p-tabPanel",7),e.YNc(11,Ms,4,1,"ng-template",2),e.TgZ(12,"div",3),e.YNc(13,ri,5,1,"div",6),e.qZA()(),e.TgZ(14,"p-tabPanel",8),e.YNc(15,Fr,4,1,"ng-template",2),e.TgZ(16,"div",3),e.YNc(17,es,7,4,"div",6),e.qZA()(),e.TgZ(18,"p-tabPanel",9),e.YNc(19,na,4,1,"ng-template",2),e.TgZ(20,"div",3),e.YNc(21,yo,7,5,"div",6),e.qZA()()()()),2&t&&(e.Q6J("draggable",!1)("visible",i.show)("modal",!0)("resizable",!1),e.xp6(5),e.Q6J("ngForOf",i.images),e.xp6(4),e.Q6J("ngForOf",i.videos),e.xp6(4),e.Q6J("ngForOf",i.audios),e.xp6(4),e.Q6J("ngForOf",i.documents),e.xp6(4),e.Q6J("ngForOf",i.files))},dependencies:[I.sg,j.jx,ki.V,vo.xf,vo.x4,vr.Ct],styles:[".flexed-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;overflow-x:auto;width:50vw;max-height:40vh;min-width:100%}.list-item[_ngcontent-%COMP%]{width:19%;aspect-ratio:1;border:1px solid var(--bgc-300);max-width:15rem;min-width:7rem;overflow:hidden;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%;object-fit:cover;width:auto;height:auto}.filename[_ngcontent-%COMP%]{display:inline-block;color:var(--tc-500);font-size:.8rem;font-weight:500;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;text-align:center}"]}),n})(),Ds=(()=>{class n{constructor(t){this.el=t}get colorString(){return this._colorString}set colorString(t){var i,r;this._colorString=t,this.el.nativeElement.style.color=B.cQ.stringToColor(null!==(r=null===(i=this._colorString)||void 0===i?void 0:i.trim())&&void 0!==r?r:"")}ngAfterViewInit(){this.el.nativeElement.style.color=B.cQ.stringToColor(this.el.nativeElement.innerText.trim())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appColorize",""]],inputs:{colorString:"colorString"}}),n})(),Ln=(()=>{class n{constructor(t){this.el=t,this.isMouseDown=!1,t.nativeElement.style.cursor="grab",t.nativeElement.style.userSelect="none"}onMouseDown(t){0===t.button&&(this.isMouseDown=!0,this.el.nativeElement.style.cursor="grabbing")}onMouseUp(t){0===t.button&&(this.isMouseDown=!1,this.el.nativeElement.style.cursor="grab")}onMouseMove(t){if(this.isMouseDown){const i=this.el.nativeElement;i.scrollTo(i.scrollLeft-t.movementX,i.scrollTop-t.movementY)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appDragScrolling",""]],hostBindings:function(t,i){1&t&&e.NdJ("mousedown",function(c){return i.onMouseDown(c)})("mouseup",function(c){return i.onMouseUp(c)})("mousemove",function(c){return i.onMouseMove(c)})}}),n})();var br=_(4500),Eo=_(9354),_s=_(8913),Fo=_(7813);function ho(n,o){1&n&&e.GkF(0)}function to(n,o){if(1&n&&(e.TgZ(0,"a",3),e.YNc(1,ho,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(3);e.Q6J("download",t.download())("href",t.url(),e.LSH),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function ts(n,o){1&n&&e.GkF(0)}function Cs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.attachmentOpen())})("mouseenter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.hovered=!0)})("mouseleave",function(){e.CHM(t);const r=e.oxw();return r.hovered=!1,e.KtG(r.previewLoading=!1)}),e.YNc(1,ts,1,0,"ng-container",4),e.qZA()}if(2&n){e.oxw();const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function nn(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function ei(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9),e.YNc(1,nn,2,0,"div",10),e.TgZ(2,"img",11),e.NdJ("load",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.previewLoading=!0)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.previewLoading),e.xp6(1),e.Q6J("src","/api/private/thumbnail/"+(null==t.attachment?null:t.attachment.name),e.LSH)}}function ns(n,o){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.qZA(),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA(),e.YNc(6,ei,3,2,"div",8)),2&n){const t=e.oxw();let i;e.Udp("font-size","1.4rem"),e.xp6(1),e.hij(" ",t.attachmentIconName()," "),e.xp6(2),e.hij(" ",null==t.attachment?null:t.attachment.name," "),e.xp6(2),e.hij(" ",((null!==(i=null==t.attachment?null:t.attachment.size)&&void 0!==i?i:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442 "),e.xp6(1),e.Q6J("ngIf","PHOTO"===(null==t.attachment?null:t.attachment.type)&&t.hovered)}}let vs=(()=>{class n{constructor(t){this.mediaViewer=t,this.hovered=!1,this.previewLoading=!1}ngOnInit(){}attachmentIconName(){var t;switch(null===(t=this.attachment)||void 0===t?void 0:t.type){case"PHOTO":return"image";case"VIDEO":return"movie";case"AUDIO":return"music_note";case"DOCUMENT":return"picture_as_pdf";case"FILE":return"description";default:return"question_mark"}}url(){var t;return"FILE"==(null===(t=this.attachment)||void 0===t?void 0:t.type)?"/api/private/attachment/":""}download(){var t;return"FILE"==(null===(t=this.attachment)||void 0===t?void 0:t.type)?this.attachment.name:""}attachmentOpen(){var t;switch(null===(t=this.attachment)||void 0===t?void 0:t.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewer.showMedia(this.attachment);break;case"DOCUMENT":window.open("/api/private/attachment/"+this.attachment.name,"_blank")}this.hovered=!1,this.previewLoading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Gi.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attachment-link"]],inputs:{attachment:"attachment"},decls:4,vars:2,consts:[["class","attachment-wrapper",3,"download","href",4,"ngIf"],["class","attachment-wrapper",3,"click","mouseenter","mouseleave",4,"ngIf"],["content",""],[1,"attachment-wrapper",3,"download","href"],[4,"ngTemplateOutlet"],[1,"attachment-wrapper",3,"click","mouseenter","mouseleave"],[1,"material-icons-round"],[1,"caption","size-small","wt-bold","f-color-500"],["class","photo-preview-panel",4,"ngIf"],[1,"photo-preview-panel"],["class","preview-loading-indicator flexed vcenter hcenter",4,"ngIf"],[1,"preview-image",3,"src","load"],[1,"preview-loading-indicator","flexed","vcenter","hcenter"]],template:function(t,i){1&t&&(e.YNc(0,to,2,3,"a",0),e.YNc(1,Cs,2,1,"div",1),e.YNc(2,ns,7,6,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("ngIf","FILE"===(null==i.attachment?null:i.attachment.type)),e.xp6(1),e.Q6J("ngIf","FILE"!==(null==i.attachment?null:i.attachment.type)))},dependencies:[I.O5,I.tP,Fo.x],styles:[".attachment-wrapper[_ngcontent-%COMP%]{display:flex;gap:.3rem;align-items:center;color:var(--tc-600);font-weight:500;font-size:.9rem;cursor:pointer;transition:color .2s ease-out;text-decoration:none!important;width:max-content}.attachment-wrapper[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.photo-preview-panel[_ngcontent-%COMP%]{position:absolute;display:grid;grid:1fr/1fr;padding:.7rem;border-radius:.5rem;background-color:#fff;box-shadow:0 0 2px #0003,0 4px 8px #0000000d;width:max-content;height:max-content;max-width:21rem;min-width:8rem;min-height:8rem;align-items:center;justify-content:center;z-index:3;overflow:hidden;transform:translate(100%,-50%)}.preview-image[_ngcontent-%COMP%]{grid-area:1/1/2/2;border-radius:.4rem;width:100%;height:100%;min-width:5rem;min-height:5rem;max-height:21rem}.preview-loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-area:1/1/2/2;width:100%;height:100%}"]}),n})();var Li=_(5651);let yr=(()=>{class n{constructor(){this.loading=!1,this.loadingChange=new e.vpe,this.load=new e.vpe,this.initialScrollPos=0,this.initialScrollPosChange=new e.vpe}ngOnInit(){setTimeout(()=>window.scrollTo({top:this.initialScrollPos,behavior:"instant"}),100)}windowScroll(t){document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)==0&&!this.loading&&(this.loading=!0,this.loadingChange.emit(!0),this.load.emit()),this.initialScrollPos=window.scrollY,this.initialScrollPosChange.emit(window.scrollY)}windowResize(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appLazyPageLoader",""]],hostBindings:function(t,i){1&t&&e.NdJ("scroll",function(c){return i.windowScroll(c)},!1,e.Jf7)("resize",function(c){return i.windowResize(c)},!1,e.Jf7)},inputs:{loading:"loading",initialScrollPos:"initialScrollPos"},outputs:{loadingChange:"loadingChange",load:"load",initialScrollPosChange:"initialScrollPosChange"}}),n})();function Us(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.showContent())}),e.TgZ(1,"span",3),e._uU(2,"visibility"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.buttonCaption," ")}}function Hi(n,o){1&n&&(e.ynx(0),e.Hsn(1),e.BQk())}const bs=["*"];let Br=(()=>{class n{constructor(){this.buttonCaption="",this.display=!1,this.displayChange=new e.vpe}ngOnInit(){}showContent(){this.display=!0,this.displayChange.emit(this.display)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-expanding-panel"]],inputs:{buttonCaption:"buttonCaption",display:"display"},outputs:{displayChange:"displayChange"},ngContentSelectors:bs,decls:3,vars:2,consts:[["class","expand-button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"expand-button",3,"click"],[1,"material-icons-round","parent-inherit"]],template:function(t,i){1&t&&(e.F$t(),e.ynx(0),e.YNc(1,Us,4,1,"span",0),e.YNc(2,Hi,2,0,"ng-container",1),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.display),e.xp6(1),e.Q6J("ngIf",i.display))},dependencies:[I.O5],styles:[".expand-button[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;font-size:.8rem;font-weight:600;color:var(--mc-500);line-height:normal;padding:.3rem .5rem;border-radius:.3rem;align-self:center;align-items:center;justify-content:center;gap:.2rem;transition:background-color .2s ease-out}.expand-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mc-500)}.expand-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}"]}),n})();var ya=_(2716),or=_(417);let ge=(()=>{class n{transform(t){if(!("type"in t))return"";switch(t.type){case We.dA.CHANGE_STAGE:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0430 \u044d\u0442\u0430\u043f: ";case We.dA.CREATE_WORK_LOG:return"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case We.dA.FORCE_CLOSE_WORK_LOG:return"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case We.dA.CLOSE_WORK_LOG:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case We.dA.CHANGE_RESPONSIBILITY:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439: ";case We.dA.LINKED_TO_PARENT_TASK:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u0430 \u043a \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435";case We.dA.UNLINKED_FROM_PARENT_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438";case We.dA.UNLINK_CHILD_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u0447";case We.dA.LINKED_TO_CHILD_TASKS:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";case We.dA.CHANGE_TAGS:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b \u0442\u0435\u0433\u0438: ";case We.dA.CLEAN_TAGS:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0447\u0438\u0449\u0435\u043d\u0430 \u043e\u0442 \u0442\u0435\u0433\u043e\u0432";case We.dA.CHANGE_OBSERVERS:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438: ";case We.dA.UNBIND_RESPONSIBLE:return"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u0431\u0440\u0430\u043d";case We.dA.CHANGE_ACTUAL_FROM:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430: ";case We.dA.CHANGE_ACTUAL_TO:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: ";case We.dA.CLEAR_ACTUAL_FROM_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0434\u0430\u0442\u0430";case We.dA.CLEAR_ACTUAL_TO_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f";case We.dA.CLOSE_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430";case We.dA.REOPEN_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u0430";case We.dA.EDIT_FIELDS:return"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430";case We.dA.REPORT_CREATED:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435: "}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"taskEventTranslate",type:n,pure:!0}),n})();function te(n,o){1&n&&e.GkF(0)}function z(n,o){1&n&&e._UZ(0,"div",17)}function Ze(n,o){1&n&&e.GkF(0)}function Gt(n,o){if(1&n&&e._UZ(0,"quill-view-html",18),2&n){const t=e.oxw(2).$implicit;e.Q6J("content",t.message)}}function Tn(n,o){if(1&n&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.message)}}function pi(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.ALo(3,"taskEventTranslate"),e.qZA(),e.YNc(4,Tn,2,1,"span",20),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t)),e.xp6(2),e.Q6J("ngIf",t.message)}}function So(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function Bo(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function Os(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,Bo,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(t)-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t,!1))("ngForTrackBy",i.trackByAttachment)}}function is(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,So,1,1,"app-attachment-link",23),e.YNc(2,Os,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(t)>3)}}function zs(n,o){1&n&&e.GkF(0)}function ys(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function sr(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function Gs(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,sr,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(4).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(i.getReplyComment(t))-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t),!1))("ngForTrackBy",i.trackByAttachment)}}function ia(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,ys,1,1,"app-attachment-link",23),e.YNc(2,Gs,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t)))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(i.getReplyComment(t))>3)}}const go=function(n){return{$implicit:n,reply:!0}};function rr(n,o){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"div",28),e.TgZ(2,"div",9),e._UZ(3,"app-avatar",29),e.qZA(),e.YNc(4,zs,1,0,"ng-container",7),e.TgZ(5,"div",30),e._UZ(6,"markdown",31),e.YNc(7,ia,3,3,"div",14),e.qZA()()),2&n){const t=e.oxw(2).$implicit,i=e.oxw(),r=e.MAs(6);let c,p,C;e.xp6(3),e.Q6J("name",null==(c=i.getReplyComment(t))||null==c.creator?null:c.creator.fullName)("src",null==(p=i.getReplyComment(t))||null==p.creator?null:p.creator.avatar)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(7,go,i.getReplyComment(t))),e.xp6(2),e.Q6J("data",null==(C=i.getReplyComment(t))?null:C.message),e.xp6(1),e.Q6J("ngIf",i.hasAttachments(i.getReplyComment(t)))}}function oa(n,o){1&n&&e._UZ(0,"div",32)}const sa=function(n,o){return{event:n,reply:o}},Ia=function(n){return{$implicit:n}},Q=function(n){return{$implicit:n,reply:!1}};function xe(n,o){if(1&n&&(e.TgZ(0,"div",6),e.ynx(1),e.YNc(2,te,1,0,"ng-container",7),e.YNc(3,z,1,0,"div",8),e.TgZ(4,"div",9),e._UZ(5,"app-avatar",10),e.qZA(),e.YNc(6,Ze,1,0,"ng-container",7),e.TgZ(7,"div",11),e.YNc(8,Gt,1,1,"quill-view-html",12),e.YNc(9,pi,5,4,"div",13),e.YNc(10,is,3,3,"div",14),e.qZA(),e.YNc(11,rr,8,9,"div",15),e.YNc(12,oa,1,0,"div",16),e.BQk(),e.qZA()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(),p=e.MAs(4),C=e.MAs(6);e.Q6J("@fade",void 0)("ngClass",e.WLB(16,sa,!c.isComment(i),c.isHasReply(i))),e.xp6(2),e.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",e.VKq(19,Ia,i)),e.xp6(1),e.Q6J("ngIf",r<c.displayedEntries.length-1),e.xp6(2),e.Q6J("src",null==i.creator?null:i.creator.avatar)("name",null==i.creator?null:i.creator.fullName)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",C)("ngTemplateOutletContext",e.VKq(21,Q,i)),e.xp6(1),e.Q6J("ngClass",e.WLB(23,sa,!c.isComment(i),c.isHasReply(i))),e.xp6(1),e.Q6J("ngIf",c.isComment(i)),e.xp6(1),e.Q6J("ngIf",!c.isComment(i)),e.xp6(1),e.Q6J("ngIf",c.hasAttachments(i)),e.xp6(1),e.Q6J("ngIf",c.isHasReply(i)),e.xp6(1),e.Q6J("ngIf",!c.isComment(i))}}function ne(n,o){if(1&n&&(e.ynx(0),e.YNc(1,xe,13,26,"div",5),e.BQk()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.isComment(t)&&i.showEvents||i.isComment(t))}}function He(n,o){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"p-skeleton",35)(2,"p-skeleton",36),e.TgZ(3,"div",37)(4,"div",38),e._UZ(5,"p-skeleton",39)(6,"p-skeleton",40),e.qZA()(),e._UZ(7,"p-skeleton",41),e.qZA()),2&n&&(e.xp6(5),e.Udp("padding-bottom",".5rem"))}function ut(n,o){if(1&n&&(e.ynx(0),e.YNc(1,He,8,2,"div",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.skeletons)}}function Bt(n,o){if(1&n&&(e.TgZ(0,"span",42)(1,"span",43),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.Udp("background-color",i.getEventColor(t)),e.xp6(2),e.Oqu(i.getEventIcon(t))}}function jt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.selectCommentToReply(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function Cn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-icon-button",52),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const c=e.MAs(10);return e.KtG(c.toggle(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function hi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2).$implicit,c=e.MAs(10);return e.oxw().selectCommentToEdit(r),e.KtG(c.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function li(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",56),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2).$implicit,c=e.MAs(10);return e.oxw().confirmToDeleteComment(r),e.KtG(c.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function gi(n,o){if(1&n&&(e.YNc(0,hi,1,1,"app-button",53),e.YNc(1,li,1,1,"app-button",54)),2&n){const t=e.oxw(),i=t.$implicit,r=t.reply,c=e.oxw();e.Q6J("ngIf",c.isMyComment(i)&&!r),e.xp6(1),e.Q6J("ngIf",c.isMyComment(i)&&!r)}}function ti(n,o){if(1&n&&(e.TgZ(0,"div",37)(1,"div",38)(2,"span",44),e._uU(3),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.ALo(6,"elapsedTime"),e.qZA()(),e.YNc(7,jt,1,1,"app-button",46),e.YNc(8,Cn,1,1,"app-icon-button",47),e.TgZ(9,"p-overlayPanel",48,49),e.YNc(11,gi,2,2,"ng-template",50),e.qZA()()),2&n){const t=o.$implicit,i=o.reply,r=e.oxw();e.xp6(3),e.Oqu(null==t.creator?null:t.creator.fullName),e.xp6(2),e.Oqu(e.Dn7(6,4,t.created,t.type?"":"\u043d\u0430\u043f\u0438\u0441\u0430\u043b(\u0430) "," \u043d\u0430\u0437\u0430\u0434")),e.xp6(2),e.Q6J("ngIf",r.isComment(t)&&!i),e.xp6(1),e.Q6J("ngIf",r.isMyComment(t)&&!i)}}let ji=(()=>{class n{constructor(t,i,r,c){this.api=t,this.personality=i,this.confirmation=r,this.rt=c,this.rtSubscriptions=new B.xf,this.replyCommentChange=new e.vpe,this.editCommentChange=new e.vpe,this.onFirstLoad=new e.vpe,this.entries=[],this.skeletons=Array.from({length:10}),this.totalEntries=0,this.loading=!1,this.firstLoad=!0,this.showEvents=!0,this.counters=[],this._taskId=-1}get displayedEntries(){return this.showEvents?this.entries:this.entries.filter(t=>"commentId"in t)}trackByEntry(t,i){return"commentId"in i?i.commentId+i.message+i.edited:"taskEventId"in i?i.taskEventId:null}set taskId(t){this._taskId=t,this.clearEntries(),this.loadComments(),this.rtSubscriptions.addSubscription("crCom",this.rt.commentCreated(t).subscribe(this.onCommentCreate.bind(this))),this.rtSubscriptions.addSubscription("crUpt",this.rt.commentUpdated(t).subscribe(this.onCommentUpdate.bind(this))),this.rtSubscriptions.addSubscription("crDel",this.rt.commentDeleted(t).subscribe(this.onCommentDelete.bind(this))),this.rtSubscriptions.addSubscription("crEv",this.rt.taskEventCreated(t).subscribe(this.onEventCreate.bind(this))),this.rtSubscriptions.addSubscription("empUpt",this.rt.employeeUpdated().subscribe(this.onEmployeeUpdate.bind(this)))}get taskId(){return this._taskId}onCommentCreate(t){this.entries.some(i=>"commentId"in i&&i.commentId===t.commentId)||(this.entries.unshift(t),this.totalEntries++,this.onFirstLoad.emit(!0))}onCommentDelete(t){const i=this.entries.findIndex(r=>"commentId"in r&&r.commentId===t.commentId);-1!==i&&(this.entries.splice(i,1),this.totalEntries--)}onCommentUpdate(t){const i=this.entries.findIndex(r=>"commentId"in r&&r.commentId===t.commentId);-1!==i&&this.entries.splice(i,1,t)}onEventCreate(t){this.entries.some(i=>"taskEventId"in i&&i.taskEventId===t.taskEventId)||(this.entries.unshift(t),this.onFirstLoad.emit(!0))}ngOnDestroy(){this.rtSubscriptions.unsubscribeAll()}ngOnInit(){}loadComments(){if(!this._taskId)return;const t=this.entries.filter(i=>"commentId"in i).length;t<this.totalEntries?this.api.getTaskJournal(this._taskId,t,10).subscribe(i=>{0===this.entries.length&&(this.totalEntries=i.totalElements),this.entries=[...this.entries,...i.content],this.loading=!1}):this.firstLoad?this.api.getTaskJournal(this._taskId,0,10).subscribe(i=>{this.totalEntries=i.totalElements,this.entries=i.content,this.loading=!1,this.firstLoad=!1,this.onFirstLoad.emit(this.totalEntries>0||i.content.length>0)}):this.loading=!1}isComment(t){return"commentId"in t}isMyComment(t){var i,r;return"commentId"in t&&(null===(i=this.personality.me)||void 0===i?void 0:i.login)===(null===(r=t.creator)||void 0===r?void 0:r.login)}isAnActionOnComments(){return!!this.replyComment||!!this.editComment}getEventIcon(t){if(!("type"in t))return"comment";switch(t.type){case We.dA.CHANGE_STAGE:return"swipe_right_alt";case We.dA.CREATE_WORK_LOG:return"assignment";case We.dA.FORCE_CLOSE_WORK_LOG:case We.dA.CLOSE_WORK_LOG:return"assignment_return";case We.dA.CHANGE_RESPONSIBILITY:return"person";case We.dA.LINKED_TO_PARENT_TASK:return"link";case We.dA.UNLINKED_FROM_PARENT_TASK:case We.dA.UNLINK_CHILD_TASK:return"link_off";case We.dA.LINKED_TO_CHILD_TASKS:return"link";case We.dA.CHANGE_TAGS:return"label";case We.dA.CLEAN_TAGS:return"label_off";case We.dA.CHANGE_OBSERVERS:return"groups";case We.dA.UNBIND_RESPONSIBLE:return"person_off";case We.dA.CHANGE_ACTUAL_FROM:return"pending_actions";case We.dA.CHANGE_ACTUAL_TO:return"today";case We.dA.CLEAR_ACTUAL_FROM_TASK:return"alarm_off";case We.dA.CLEAR_ACTUAL_TO_TASK:return"hourglass_disabled";case We.dA.CLOSE_TASK:return"swipe_down_alt";case We.dA.REOPEN_TASK:return"swipe_up_alt";case We.dA.EDIT_FIELDS:return"edit";case We.dA.REPORT_CREATED:return"history_edu";default:return"adjust"}}getEventColor(t){if(!("type"in t))return"#7a7f8d";switch(t.type){case We.dA.CHANGE_STAGE:return"#289de7";case We.dA.CREATE_WORK_LOG:return"#49DF30";case We.dA.FORCE_CLOSE_WORK_LOG:return"#e81a30";case We.dA.CLOSE_WORK_LOG:return"#52ff89";case We.dA.CHANGE_RESPONSIBILITY:return"#ff9f3b";case We.dA.LINKED_TO_PARENT_TASK:return"#9933ec";case We.dA.UNLINKED_FROM_PARENT_TASK:case We.dA.UNLINK_CHILD_TASK:return"#ef369d";case We.dA.LINKED_TO_CHILD_TASKS:return"#9933ec";case We.dA.CHANGE_TAGS:return"#13c587";case We.dA.CLEAN_TAGS:return"#c73953";case We.dA.CHANGE_OBSERVERS:return"#ff763b";case We.dA.UNBIND_RESPONSIBLE:return"#3bdbff";case We.dA.CHANGE_ACTUAL_FROM:return"#3bff3e";case We.dA.CHANGE_ACTUAL_TO:return"#a7e52e";case We.dA.CLEAR_ACTUAL_FROM_TASK:return"#c79436";case We.dA.CLEAR_ACTUAL_TO_TASK:return"#a65c48";case We.dA.CLOSE_TASK:return"#866e6e";case We.dA.REOPEN_TASK:return"#1a7ae8";case We.dA.EDIT_FIELDS:return"#61d78d";case We.dA.REPORT_CREATED:return"#ff9f3b";default:return"#ff0000"}}hasAttachments(t){var i,r;return!!t&&"attachments"in t&&(null!==(r=null===(i=t.attachments)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>0}getAttachments(t,i=!0){if(!t)return[];const r="attachments"in t&&t.attachments?t.attachments:[];return i?r.slice(0,3):r.slice(3)}getAttachmentsCount(t){return t&&"attachments"in t&&t.attachments?t.attachments.length:0}trackByAttachment(t,i){return i?i.name:t}selectCommentToReply(t){this.replyComment=t,console.log(this.replyComment),this.replyCommentChange.emit(this.replyComment)}selectCommentToEdit(t){this.editComment=t,this.editCommentChange.emit(this.editComment)}isHasReply(t){return"replyComment"in t&&t.replyComment}getReplyComment(t){return"replyComment"in t?t.replyComment:void 0}confirmToDeleteComment(t){this.confirmation.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439?",accept:()=>this.api.deleteComment(t.commentId).subscribe()})}onEmployeeUpdate(t){var i;for(const r of this.entries)(null===(i=r.creator)||void 0===i?void 0:i.login)===t.login&&(r.creator=t)}clearEntries(){this.entries=[],this.totalEntries=0,this.firstLoad=!0,this.counters=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Xs.F),e.Y36(j.YP),e.Y36(Zi.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-journal"]],inputs:{replyComment:"replyComment",editComment:"editComment",showEvents:"showEvents",taskId:"taskId"},outputs:{replyCommentChange:"replyCommentChange",editCommentChange:"editCommentChange",onFirstLoad:"onFirstLoad"},decls:7,vars:4,consts:[["appLazyPageLoader","",1,"journal",3,"loading","load","loadingChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["eventIcon",""],["eventHeader",""],["class","journal-item",3,"ngClass",4,"ngIf"],[1,"journal-item",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","vertical-line",4,"ngIf"],[1,"employee-avatar-wrapper"],[3,"src","name","size"],[1,"journal-event-body",3,"ngClass"],["appTextRevival","",3,"content",4,"ngIf"],["class","flexed gap5 hcenter",4,"ngIf"],["class","attachments-list",4,"ngIf"],["class","reply-comment",4,"ngIf"],["class","event-footer",4,"ngIf"],[1,"vertical-line"],["appTextRevival","",3,"content"],[1,"flexed","gap5","hcenter"],["appTextRevival","",4,"ngIf"],["appTextRevival",""],[1,"attachments-list"],[3,"attachment",4,"ngFor","ngForOf","ngForTrackBy"],[3,"buttonCaption",4,"ngIf"],[3,"attachment"],[3,"buttonCaption"],[1,"reply-comment"],[1,"reply-marker"],[3,"name","src","size"],[1,"journal-event-body"],[3,"data"],[1,"event-footer"],["class","journal-item skeleton",4,"ngFor","ngForOf"],[1,"journal-item","skeleton"],["shape","circle","size","2rem",1,"event-type-wrapper","skeleton"],["shape","circle","size","2.8rem",1,"employee-avatar-wrapper"],[1,"journal-event-header"],[1,"basic-information"],["height","1rem","width","10rem"],["height",".8rem","width","7rem"],["height","6rem",1,"journal-event-body"],[1,"event-type-wrapper"],[1,"material-icons-round"],[1,"employee-name"],[1,"creation-time"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick",4,"ngIf"],["icon","more_vert",3,"disabled","onClick",4,"ngIf"],["appendTo","body"],["ownCommentMenu",""],["pTemplate","content"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick"],["icon","more_vert",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick",4,"ngIf"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.NdJ("load",function(){return i.loadComments()})("loadingChange",function(c){return i.loading=c}),e.YNc(1,ne,2,1,"ng-container",1),e.YNc(2,ut,2,1,"ng-container",2),e.qZA(),e.YNc(3,Bt,3,3,"ng-template",null,3,e.W1O),e.YNc(5,ti,12,8,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("loading",i.loading),e.xp6(1),e.Q6J("ngForOf",i.displayedEntries)("ngForTrackBy",i.trackByEntry),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[I.mk,I.sg,I.O5,I.tP,j.jx,br.O,Eo.lF,Ue.T,_s.qH,vs,ms.A,$i.r,Li.r,yr,Br,ya.J,or.t,ge],styles:['.journal[_ngcontent-%COMP%]{display:flex;flex-direction:column}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]{display:grid;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body"}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]   .journal-event-body[_ngcontent-%COMP%]:not(.event):not(.reply){padding-bottom:3rem}.journal[_ngcontent-%COMP%]   .journal-item.event[_ngcontent-%COMP%]{grid:min-content min-content/repeat(3,max-content) 1fr;grid-template-areas:"event-type employee-avatar event-header event-body" "event-stick event-footer event-footer event-footer"}.journal[_ngcontent-%COMP%]   .journal-item.reply[_ngcontent-%COMP%]{grid:repeat(3,min-content)/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body" "event-stick reply-comment reply-comment"}.event-type-wrapper[_ngcontent-%COMP%]{grid-area:event-type;display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;color:#fff;border-radius:9999px;align-self:center}.event-type-wrapper[_ngcontent-%COMP%]:not(.skeleton){background-color:var(--gray-600)}.event-type-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.employee-avatar-wrapper[_ngcontent-%COMP%]{align-items:center;grid-area:employee-avatar;display:flex;padding:0 1rem 0 1.5rem}.journal-item[_ngcontent-%COMP%]:not(:last-child)   .vertical-line[_ngcontent-%COMP%]{grid-area:event-stick;background-color:var(--bgc-300);width:1px;justify-self:center}.journal-event-header[_ngcontent-%COMP%]{grid-area:event-header;display:flex;align-items:center;gap:1rem}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]{display:flex;align-self:center;flex-direction:column}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--tc-800);line-height:normal}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .creation-time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);line-height:normal}.journal-event-body[_ngcontent-%COMP%]{grid-area:event-body;padding-top:.5rem}.journal-event-body.event[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:1.2rem;display:flex;align-items:center}.reply-comment[_ngcontent-%COMP%]{grid-area:reply-comment;display:grid;opacity:.9;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"reply-marker employee-avatar event-header" "reply-marker . event-body"}.reply-comment[_ngcontent-%COMP%]   .reply-marker[_ngcontent-%COMP%]{grid-area:reply-marker;margin:0 0 2rem 2.8rem;background-color:var(--mc-300);width:3px;border-radius:3px}.reply-comment[_ngcontent-%COMP%]   .journal-event-header[_ngcontent-%COMP%], .reply-comment[_ngcontent-%COMP%]   .employee-avatar-wrapper[_ngcontent-%COMP%]{margin-top:1rem}.event-footer[_ngcontent-%COMP%]{grid-area:event-footer;height:2rem}.attachments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem;padding-top:.6rem}'],data:{animation:[wo.U1]}}),n})();function fi(n,o){if(1&n&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.icon)}}function Ni(n,o){if(1&n&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.label)}}const os=function(n,o){return{disabled:n,iconed:o}};let Io=(()=>{class n{constructor(){this.disabled=!1,this.size=1,this.model="primary",this.onClick=new e.vpe}ngOnInit(){}clickHandler(t){this.disabled||this.onClick.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tiny-button"]],inputs:{icon:"icon",label:"label",disabled:"disabled",size:"size",model:"model"},outputs:{onClick:"onClick"},decls:3,vars:10,consts:[[3,"ngClass","click"],["class","material-icons-round t-button-icon",4,"ngIf"],["class","t-button-label",4,"ngIf"],[1,"material-icons-round","t-button-icon"],[1,"t-button-label"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(c){return i.clickHandler(c)}),e.YNc(1,fi,2,1,"span",1),e.YNc(2,Ni,2,1,"span",2),e.qZA()),2&t&&(e.Tol("t-button "+i.model),e.Udp("font-size",i.size+"rem"),e.Q6J("ngClass",e.WLB(7,os,i.disabled,i.icon&&i.label)),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",i.label))},dependencies:[I.mk,I.O5],styles:[".t-button[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;padding:.3rem;transition:background-color .2s ease-in;cursor:pointer;color:var(--mc-500);font-weight:700;border-radius:.3rem}.t-button.disabled[_ngcontent-%COMP%]{cursor:default;background-color:var(--bgc-200)!important;color:var(--tc-400)!important}.t-button.iconed[_ngcontent-%COMP%]{padding-right:.6rem}.t-button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.t-button.primary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.secondary[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.t-button.secondary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.success[_ngcontent-%COMP%]{color:var(--green-500)}.t-button.success[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--green-100)}.t-button.danger[_ngcontent-%COMP%]{color:#ef4444}.t-button.danger[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--red-100)}.t-button.warn[_ngcontent-%COMP%]{color:#f59e0b}.t-button.warn[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--yellow-100)}.t-button.info[_ngcontent-%COMP%]{color:var(--blue-500)}.t-button.info[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--blue-100)}.t-button[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button-icon[_ngcontent-%COMP%]{color:inherit;font-size:1.3em}.t-button-label[_ngcontent-%COMP%]{color:inherit;font-size:inherit;line-height:normal;white-space:nowrap}"]}),n})();var ss=_(2777);const Is=["panel"],jo=["target"],Ps=["list"],Ee=function(n){return{selected:n}};function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw(2),C=e.MAs(3);return null==C||C.hide(),e.KtG(p.onSelect.emit(c))})("mouseenter",function(){const c=e.CHM(t).index,p=e.oxw(2);return e.KtG(p.selectedEmployeeIndex=c)}),e._UZ(1,"app-employee-label",9),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.Q6J("ngClass",e.VKq(2,Ee,r.selectedEmployeeIndex===i)),e.xp6(1),e.Q6J("employee",t)}}function x(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5,6),e.NdJ("keydown",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.navigate(r))}),e.YNc(2,b,2,4,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("tabIndex",0),e.xp6(2),e.Q6J("ngForOf",t.employees)}}let se=(()=>{class n{constructor(t){this.api=t,this.targetPosition={top:"0px",left:"0px"},this.employees=[],this.selectedEmployeeIndex=0,this.onSelect=new e.vpe,this.onReturnFocus=new e.vpe}setQuillEvent(t){var i;!B.cQ.isCorrectSequenceOfCharacters(t,"@",[" ","\n"])||(null===(i=this.panel)||void 0===i||i.hide(),this.api.getEmployees(void 0,!1,!1).subscribe(r=>{var c,p,C;this.employees=r;const{editor:ie}=t,tt=ie.getSelection(),{top:rt,left:it}=ie.getBounds(null!==(c=null==tt?void 0:tt.index)&&void 0!==c?c:0),Jt=t.editor.root.getBoundingClientRect();this.targetPosition={left:it+Jt.x+window.scrollX+"px",top:rt+Jt.y+window.scrollY+"px"},null===(p=this.panel)||void 0===p||p.show(new MouseEvent("click"),null===(C=this.target)||void 0===C?void 0:C.nativeElement),setTimeout(()=>{var cn,On;null===(On=null===(cn=this.list)||void 0===cn?void 0:cn.nativeElement)||void 0===On||On.focus()},100)}))}ngOnInit(){}navigate(t){var i,r;switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex++,this.selectedEmployeeIndex>=this.employees.length&&(this.selectedEmployeeIndex=0);break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex--,this.selectedEmployeeIndex<0&&(this.selectedEmployeeIndex=this.employees.length-1);break;case"Enter":null===(i=this.panel)||void 0===i||i.hide(),this.onSelect.emit(this.employees[this.selectedEmployeeIndex]);break;default:null===(r=this.panel)||void 0===r||r.hide(),this.onReturnFocus.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-insert-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Is,5),e.Gf(jo,5),e.Gf(Ps,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.panel=r.first),e.iGM(r=e.CRH())&&(i.target=r.first),e.iGM(r=e.CRH())&&(i.list=r.first)}},outputs:{onSelect:"onSelect",onReturnFocus:"onReturnFocus"},decls:5,vars:3,consts:[[1,"overlay-target"],["target",""],["appCloseIfScroll","","showTransitionOptions","0ms","hideTransitionOptions","0ms",3,"dismissable"],["panel",""],["pTemplate","content"],[1,"list-view",3,"tabIndex","keydown"],["list",""],["class","p5",3,"ngClass","click","mouseenter",4,"ngFor","ngForOf"],[1,"p5",3,"ngClass","click","mouseenter"],[3,"employee"]],template:function(t,i){1&t&&(e._UZ(0,"div",0,1),e.TgZ(2,"p-overlayPanel",2,3),e.YNc(4,x,3,2,"ng-template",4),e.qZA()),2&t&&(e.Akn(i.targetPosition),e.xp6(2),e.Q6J("dismissable",!0))},dependencies:[I.mk,I.sg,j.jx,Ue.T,wi.x],styles:[".overlay-target[_ngcontent-%COMP%]{width:1px;height:13px;position:absolute;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]{outline:0}.list-view[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]   *.selected[_ngcontent-%COMP%]{background-color:var(--gray-200)}"]}),n})();var Re=_(7805),Ke=_(8372),_t=_(1884);function At(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"p-progressSpinner",12),e.qZA(),e.BQk())}function Lt(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function Xt(n,o){1&n&&e.GkF(0)}function mn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Xt,1,0,"ng-container",16),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(3),r=e.MAs(5);e.xp6(1),e.Q6J("ngIf","single"===t.linkingMode)("ngIfThen",i)("ngIfElse",r)}}function En(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",17),e._UZ(3,"i",18),e.TgZ(4,"span"),e._uU(5,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()(),e.BQk())}function jn(n,o){1&n&&e.GkF(0)}function Yn(n,o){1&n&&e.GkF(0)}function Nn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",19),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectChild())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",0===t.selectedChildTask.length)}}function Hn(n,o){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function ci(n,o){if(1&n&&(e.ynx(0,6),e.YNc(1,At,3,0,"ng-container",7),e.YNc(2,Lt,6,0,"ng-container",7),e.YNc(3,mn,2,3,"ng-container",7),e.YNc(4,En,6,0,"ng-container",7),e.BQk(),e.YNc(5,jn,1,0,"ng-container",8),e.YNc(6,Yn,1,0,"ng-container",8),e.YNc(7,Nn,1,1,"p-button",9),e.YNc(8,Hn,2,0,"div",10)),2&n){const t=e.oxw(),i=e.MAs(7),r=e.MAs(9);e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngIf","multiply"===t.linkingMode),e.xp6(1),e.Q6J("ngIf",t.linkingInProgress)}}function vi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",23),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.selectParent(c.taskId))}),e.qZA()}2&n&&e.Q6J("item",o.$implicit)("customClickHandler",!0)("inlined",!0)}function no(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,vi,1,3,"app-task-list-element",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function Ho(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",25),e.NdJ("checkChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectedChildTask=r)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.selectedChildTask)("item",t)("customClickHandler",!0)("inlined",!0)("isHover",!1)}}function io(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,Ho,1,5,"app-task-list-element",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function Qs(n,o){1&n&&e._UZ(0,"app-task-status-chooser",33)}function Wo(n,o){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"app-task-template-multi-selector",27),e.YNc(2,Qs,1,0,"app-task-status-chooser",28),e._UZ(3,"input",29)(4,"app-employee-selector",30)(5,"app-data-range-input",31)(6,"app-task-tag-filter-input",32),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.mainFilterForm),e.xp6(1),e.Q6J("inline",!0),e.xp6(1),e.Q6J("ngIf",!t.onlyMy)}}function Mi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",34),e.NdJ("onPageChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.changePage(r))}),e.qZA()}if(2&n){const t=e.oxw();let i;e.Q6J("alwaysShow",!0)("rows",25)("showCurrentPageReport",!0)("totalRecords",null!==(i=null==t.pageOfTasks?null:t.pageOfTasks.totalElements)&&void 0!==i?i:0)}}const Ko=function(){return{width:"80vw"}},As=function(){return{"960px":"90vw","640px":"100vw"}};let Ao=(()=>{class n{constructor(t,i){this.api=t,this.confirm=i,this.excludedTasks=[],this.header="",this.onlyMy=!1,this.onSelected=new e.vpe,this.onMultiplySelected=new e.vpe,this.isShow=!1,this.linkingMode="single",this.selectedChildTask=[],this.currentPage=0,this.loadingState=We.Gu.LOADING,this.linkingInProgress=!1,this.lastAppliedMainFilter={},this.dialogContentStyle={padding:"0 1rem 0 1rem",display:"grid",grid:"1fr min-content/ 1fr max-content",gridTemplateAreas:"'list filter''paginator paginator'",columnGap:"1rem"},this.mainFilterForm=new $.cw({searchPhrase:new $.NI(null),template:new $.NI([],[si.notEmpty]),status:new $.NI([We.hY.ACTIVE,We.hY.PROCESSING,We.hY.CLOSE],[si.notEmpty]),author:new $.NI(null),dateOfCreation:new $.NI(null),tags:new $.NI([])}),this.subscriptions=new B.xf}ngOnInit(){const t=this.mainFilterForm.valueChanges.pipe((0,Ke.b)(1e3),(0,_t.x)());this.subscriptions.addSubscription("filter",t.subscribe(i=>{this.loadingState=We.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),this.api.getPageOfTasks(0,Object.assign(Object.assign({},i),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}open(t){this.isShow=!0,this.linkingMode=t}changePage(t){this.loadingState=We.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),this.api.getPageOfTasks(t.page,Object.assign(Object.assign({},this.mainFilterForm.getRawValue()),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler())}loadHandler(){return{next:t=>{this.pageOfTasks=t,this.loadingState=t.totalElements>0?We.Gu.READY:We.Gu.EMPTY,this.mainFilterForm.enable({emitEvent:!1})},error:()=>{this.loadingState=We.Gu.ERROR,this.mainFilterForm.enable({emitEvent:!1})}}}selectParent(t){this.onSelected.emit(t),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}selectChild(){this.onMultiplySelected.emit(this.selectedChildTask),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}closeHandler(){this.mainFilterForm.setValue({template:[],status:[We.hY.ACTIVE,We.hY.PROCESSING,We.hY.CLOSE],dateOfCreation:[],tags:[],author:"",searchPhrase:""}),this.pageOfTasks=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(j.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-selecting-dialog"]],inputs:{excludedTasks:"excludedTasks",header:"header",onlyMy:"onlyMy"},outputs:{onSelected:"onSelected",onMultiplySelected:"onMultiplySelected"},decls:10,vars:11,consts:[[3,"visible","breakpoints","draggable","modal","resizable","contentStyle","header","visibleChange","onHide"],["pTemplate","content"],["parentTaskList",""],["childTaskList",""],["filter",""],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["styleClass","p-button-success","class","float-button","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",3,"disabled","onClick",4,"ngIf"],["class","loading-shader",4,"ngIf"],[1,"list","flexed","hcenter","vcenter"],["strokeWidth","1",1,"primary-spinner"],[1,"list","flexed","hcenter","vcenter","flexed","hcenter","gap3"],[1,"caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],["styleClass","p-button-success","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",1,"float-button",3,"disabled","onClick"],[1,"loading-shader"],[1,"list"],[3,"item","customClickHandler","inlined","onClick",4,"ngFor","ngForOf"],[3,"item","customClickHandler","inlined","onClick"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange",4,"ngFor","ngForOf"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange"],[1,"filters",3,"formGroup"],["formControlName","template",3,"inline"],["formControlName","status",4,"ngIf"],["pInputText","","formControlName","searchPhrase","placeholder","\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"],["formControlName","author"],["formControlName","dateOfCreation"],["formControlName","tags",1,"full-width"],["formControlName","status"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447",1,"paginator",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(c){return i.isShow=c})("onHide",function(){return i.closeHandler()}),e.YNc(1,ci,9,9,"ng-template",1),e.qZA(),e.YNc(2,no,2,1,"ng-template",null,2,e.W1O),e.YNc(4,io,2,1,"ng-template",null,3,e.W1O),e.YNc(6,Wo,7,3,"ng-template",null,4,e.W1O),e.YNc(8,Mi,1,4,"ng-template",null,5,e.W1O)),2&t&&(e.Akn(e.DdM(9,Ko)),e.Q6J("visible",i.isShow)("breakpoints",e.DdM(10,As))("draggable",!1)("modal",!0)("resizable",!1)("contentStyle",i.dialogContentStyle)("header",i.header))},dependencies:[I.sg,I.O5,I.tP,I.RF,I.n9,Ii.zx,$.Fj,$.JJ,$.JL,j.jx,ki.V,X.G,Ye.o,$.sg,$.u,Jo.D,Fo.x,at.E,ot,fn,ai,Bi,_i],styles:[".filters[_ngcontent-%COMP%]{grid-area:filter;display:flex;flex-direction:column;gap:.5rem;position:sticky;top:0;height:max-content;padding-bottom:1rem}.list[_ngcontent-%COMP%]{grid-area:list;display:flex;flex-direction:column}.paginator[_ngcontent-%COMP%]{grid-area:paginator;position:sticky;bottom:0}.loading-shader[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:1;background-color:#fff9;top:0;left:0;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);border-radius:1rem}.float-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}"]}),n})();var ar=_(2059),Rs=_(1787);function us(n,o){1&n&&(e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"i",9),e.TgZ(3,"span"),e._uU(4," \u041d\u0435\u0442 \u0436\u0443\u0440\u043d\u0430\u043b\u043e\u0432 \u0440\u0430\u0431\u043e\u0442 "),e.qZA()()())}function lr(n,o){1&n&&e.GkF(0)}function Aa(n,o){if(1&n&&(e.TgZ(0,"span",28)(1,"span",15),e._UZ(2,"i",29),e.TgZ(3,"span"),e._uU(4,"\u041e\u0442\u0447\u0435\u0442"),e.qZA()(),e.TgZ(5,"span",30),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(6),e.Oqu(t.report)}}const Mn=function(n){return{$implicit:n}};function Rn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.YNc(1,lr,1,0,"ng-container",13),e.TgZ(2,"span",14)(3,"span")(4,"span",15),e._UZ(5,"i",16),e.TgZ(6,"span"),e._uU(7,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b:"),e.qZA()(),e._UZ(8,"app-avatar-list",17),e.qZA(),e.TgZ(9,"span")(10,"span",15),e._UZ(11,"i",16),e.TgZ(12,"span"),e._uU(13,"\u041f\u0440\u0438\u043d\u044f\u043b\u0438:"),e.qZA()(),e._UZ(14,"app-avatar-list",17),e.qZA(),e.TgZ(15,"span")(16,"span",15),e._UZ(17,"i",16),e.TgZ(18,"span"),e._uU(19,"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438:"),e.qZA()(),e._UZ(20,"app-avatar-list",17),e.qZA(),e.TgZ(21,"span")(22,"span",15),e._UZ(23,"i",18),e.TgZ(24,"span"),e._uU(25,"\u0421\u043e\u0437\u0434\u0430\u043b:"),e.qZA()(),e._UZ(26,"app-employee-label",19),e.qZA()(),e.TgZ(27,"span",20)(28,"span",21)(29,"span",15),e._UZ(30,"i",22),e.TgZ(31,"span"),e._uU(32,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA()(),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"date"),e.qZA()(),e.TgZ(36,"span",21)(37,"span",15),e._UZ(38,"i",23),e.TgZ(39,"span"),e._uU(40,"\u0417\u0430\u043a\u0440\u044b\u0442:"),e.qZA()(),e.TgZ(41,"span"),e._uU(42),e.ALo(43,"date"),e.qZA()(),e.TgZ(44,"span",21)(45,"span",15),e._UZ(46,"i",24),e.TgZ(47,"span"),e._uU(48,"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438:"),e.qZA()(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"elapsedTime"),e.qZA()()(),e.TgZ(52,"span",14)(53,"p-button",25),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.chatService.open.emit(c.chat.chatId))}),e.qZA(),e._UZ(54,"p-button",26),e.qZA(),e.YNc(55,Aa,7,1,"span",27),e.qZA()}if(2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(22,Mn,t.status)),e.xp6(7),e.Q6J("employees",t.employees),e.xp6(6),e.Q6J("employees",t.whoAccepted),e.xp6(6),e.Q6J("employees",t.whoClosed),e.xp6(6),e.Q6J("employee",t.creator)("size",2),e.xp6(8),e.Oqu(e.xi3(35,11,t.created,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.xi3(43,14,t.closed,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.gM2(51,17,t.leadTime,"","",!0)),e.xp6(5),e.Q6J("ngIf",t.report)}}function Fn(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,Rn,56,24,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.workLogs)("ngForTrackBy",t.trackByWorkLog)}}function ni(n,o){1&n&&e.GkF(0)}function Wn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ni,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Vo(n,o){if(1&n&&(e.YNc(0,us,5,0,"div",4),e.YNc(1,Fn,2,2,"div",5),e.YNc(2,Wn,2,1,"ng-container",6)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading&&!t.workLogs.length),e.xp6(1),e.Q6J("ngIf",!t.isLoading&&t.workLogs.length),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}const Zo=function(){return{color:"var(--warm-600)"}};function rs(n,o){1&n&&(e.TgZ(0,"span",34),e._UZ(1,"i",35),e.TgZ(2,"span"),e._uU(3," \u0412 \u0440\u0430\u0431\u043e\u0442\u0435 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,Zo))}const xi=function(){return{color:"var(--green-400)"}};function Js(n,o){1&n&&(e.TgZ(0,"span",34),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,xi))}const $a=function(){return{color:"var(--red-400)"}};function ao(n,o){1&n&&(e.TgZ(0,"span",34),e._UZ(1,"i",37),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e "),e.qZA()()),2&n&&e.Akn(e.DdM(2,$a))}function js(n,o){1&n&&(e.ynx(0,32),e.YNc(1,rs,4,3,"span",33),e.YNc(2,Js,4,3,"span",33),e.YNc(3,ao,4,3,"span",33),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","ACTIVE"),e.xp6(1),e.Q6J("ngSwitchCase","CLOSE"),e.xp6(1),e.Q6J("ngSwitchCase","FORCE_CLOSE"))}function ds(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-skeleton",39),e.TgZ(2,"span",14)(3,"span"),e._UZ(4,"p-skeleton",40),e.qZA(),e.TgZ(5,"span"),e._UZ(6,"p-skeleton",40),e.qZA(),e.TgZ(7,"span"),e._UZ(8,"p-skeleton",40),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"p-skeleton",40),e.qZA()(),e.TgZ(11,"span",20)(12,"span",21),e._UZ(13,"p-skeleton",41),e.qZA(),e.TgZ(14,"span",21),e._UZ(15,"p-skeleton",41),e.qZA(),e.TgZ(16,"span",21),e._UZ(17,"p-skeleton",41),e.qZA()(),e.TgZ(18,"span",14),e._UZ(19,"p-skeleton",42)(20,"p-skeleton",43),e.qZA(),e._UZ(21,"p-skeleton",44),e.qZA())}function Hr(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,ds,22,0,"div",38),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.loadingPlaceholders)}}const cr=function(){return{maxWidth:"50vw",width:"fit-content",maxHeight:"60vh",minHeight:"10rem"}},Vr=function(){return{"960px":"75vw","640px":"100vw"}},ur=function(){return{display:"grid"}};let Ta=(()=>{class n{constructor(t,i,r){this.api=t,this.rt=i,this.chatService=r,this.dialogVisible=!1,this.workLogs=[],this.isLoading=!1,this.subscriptions=new B.xf,this.loadingPlaceholders=Array(3).fill(null)}ngOnInit(){this.rt.workLogCreated().subscribe(this.workLogCreate.bind(this)),this.rt.workLogUpdated().subscribe(this.workLogUpdate.bind(this)),this.rt.workLogDeleted().subscribe(this.workLogDelete.bind(this))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}workLogCreate(t){this.workLogs.unshift(t)}workLogUpdate(t){const i=this.workLogs.findIndex(r=>r.workLogId===t.workLogId);this.workLogs[i]=t}workLogDelete(t){const i=this.workLogs.findIndex(r=>r.workLogId===t.workLogId);this.workLogs.splice(i,1)}trackByWorkLog(t,i){return i.workLogId+i.status+i.whoAccepted.length+i.workReports.length}open(t){this.dialogVisible=!0,this.isLoading=!0,this.api.getWorkLogsByTaskId(t).subscribe({next:this.loadWorkLogs.bind(this),error:this.onErrorDuringLoad.bind(this)})}loadWorkLogs(t){this.isLoading=!1,this.workLogs=t}onErrorDuringLoad(){this.isLoading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Zi.U),e.Y36(Xo.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-work-logs-dialog"]],decls:6,vars:11,consts:[["appendTo","body","header","\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043e\u0442\u0447\u0435\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","contentStyle","draggable","modal","resizable","visibleChange"],["pTemplate","content"],["statusCaption",""],["loadingPlaceholderEl",""],["class","flexed column hcenter vcenter p10",4,"ngIf"],["class","flexed gap5 column list-view",4,"ngIf"],[4,"ngIf"],[1,"flexed","column","hcenter","vcenter","p10"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap2"],[1,"mdi-playlist_remove"],[1,"flexed","gap5","column","list-view"],["class","work-log-element",4,"ngFor","ngForOf","ngForTrackBy"],[1,"work-log-element"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","gap10"],[1,"flexed","gap3","hcenter","caption","size-small","wt-bold","f-color-500"],[1,"mdi-groups"],[3,"employees"],[1,"mdi-person"],[3,"employee","size"],[1,"flexed","gap10","caption","size-small"],[1,"flexed","column"],[1,"mdi-schedule_send"],[1,"mdi-cancel_schedule_send"],[1,"mdi-timelapse"],["icon","mdi-history","label","\u0427\u0430\u0442","styleClass","p-button-secondary p-button-outlined",3,"onClick"],["icon","mdi-summarize","label","\u041e\u0442\u0447\u0435\u0442\u044b","styleClass","p-button-secondary p-button-outlined"],["class","report",4,"ngIf"],[1,"report"],[1,"mdi-summarize"],[1,"report-text"],[4,"ngTemplateOutlet"],[3,"ngSwitch"],["class","caption size-small f-color-500 flexed hcenter gap3",3,"style",4,"ngSwitchCase"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-engineering"],[1,"mdi-verified"],[1,"mdi-close"],["class","work-log-element",4,"ngFor","ngForOf"],["height",".9rem","width","10rem"],["height","3.5rem","width","5rem"],["height","2rem","width","7rem"],["height","2.5rem","width","5rem"],["height","2.5rem","width","6rem"],["height","5rem","width","25rem"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(c){return i.dialogVisible=c}),e.YNc(1,Vo,3,3,"ng-template",1),e.qZA(),e.YNc(2,js,4,4,"ng-template",null,2,e.W1O),e.YNc(4,Hr,2,1,"ng-template",null,3,e.W1O)),2&t&&(e.Akn(e.DdM(8,cr)),e.Q6J("visible",i.dialogVisible)("breakpoints",e.DdM(9,Vr))("contentStyle",e.DdM(10,ur))("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[I.sg,I.O5,I.tP,I.RF,I.n9,Ii.zx,j.jx,ki.V,br.O,wi.x,Rs.k,or.t,I.uU],styles:[".work-log-element[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/1fr;gap:.5rem;padding:1rem}.work-log-element[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.report[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]{white-space:pre-line;font-size:.9rem;color:var(--tc-700)}"]}),n})();var qa=_(8050),Ls=_(2145);const Ir=["inputEl"];function cp(n,o){1&n&&(e.TgZ(0,"span",7),e._uU(1,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433\u0438..."),e.qZA())}function Rl(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function Di(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("mouseenter",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.extraPreviewVisible=!0)})("mouseleave",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.extraPreviewVisible=!1)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" +",t.control.value.length-2," ")}}function Ll(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}const Su=function(n){return{disabled:n}};function ku(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.focusing())}),e.YNc(1,cp,2,0,"span",3),e.YNc(2,Rl,2,3,"span",4),e.ALo(3,"slice"),e.YNc(4,Di,2,1,"span",5),e.TgZ(5,"p-overlay",6),e.NdJ("visibleChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.extraPreviewVisible=r)}),e.YNc(6,Ll,2,3,"span",4),e.ALo(7,"slice"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(15,Su,t.control.disabled)),e.xp6(1),e.Q6J("ngIf",0===(null==t.control.value?null:t.control.value.length)),e.xp6(1),e.Q6J("ngForOf",e.Dn7(3,8,t.control.value,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2),e.xp6(1),e.Q6J("visible",t.extraPreviewVisible),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,12,t.control.value,2))("ngForTrackBy",t.trackByTaskTag)}}function Mu(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function Lc(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function Du(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"p-autoComplete",11,12),e.NdJ("completeMethod",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.search(r))}),e.YNc(3,Mu,2,3,"ng-template",13),e.YNc(4,Lc,2,3,"ng-template",14),e.qZA(),e.TgZ(5,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.accept())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.control)("suggestions",t.suggestions)("multiple",!0)("completeOnFocus",!0)}}let Ou=(()=>{class n{constructor(t){this.api=t,this.control=new $.NI([]),this.suggestions=[],this.focused=!1,this.extraPreviewVisible=!1,this.previousVariableValue="",this.onChange=i=>{},this.onTouched=()=>{}}search(t){this.api.getTaskTagsBySearch(t.query).subscribe(i=>{this.suggestions=i.filter(r=>{var c;return!(null!==(c=this.control.value)&&void 0!==c&&c.some(p=>r.taskTagId===p.taskTagId))})})}trackByTaskTag(t,i){return i.taskTagId+i.name+i.color}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?(this.control.disable({emitEvent:!1}),this.focused=!1):this.control.enable({emitEvent:!1})}writeValue(t){this.control.setValue(t),this.previousVariableValue=JSON.stringify(t)}ngOnInit(){}ngOnDestroy(){}accept(){JSON.stringify(this.control.value)!==this.previousVariableValue&&this.onChange(this.control.value),this.focused=!1}focusing(){this.control.disabled||(this.previousVariableValue=JSON.stringify(this.control.value),this.focused=!0,this.onTouched(),setTimeout(()=>{var t,i;null===(i=null===(t=this.inputEl)||void 0===t?void 0:t.multiInputEL)||void 0===i||i.nativeElement.focus()}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-selector"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ir,5),2&t){let r;e.iGM(r=e.CRH())&&(i.inputEl=r.first)}},features:[e._Bn([{provide:$.JU,multi:!0,useExisting:n}])],decls:2,vars:2,consts:[["class","p-component p-inputtext wrapper",3,"ngClass","click",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],[1,"p-component","p-inputtext","wrapper",3,"ngClass","click"],["class","placeholder-text",4,"ngIf"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],["contentStyleClass","overlay flexed wrapped p10 gap5","showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"visible","visibleChange"],[1,"placeholder-text"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"],[1,"p-inputgroup"],["styleClass","task-tag-selector w-full","appendTo","body",3,"formControl","suggestions","multiple","completeOnFocus","completeMethod"],["inputEl",""],["pTemplate","selectedItem"],["pTemplate","item"],["pButton","","icon","mdi-save",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,ku,8,17,"div",0),e.YNc(1,Du,6,4,"div",1)),2&t&&(e.Q6J("ngIf",!(i.focused||0===(null==i.control.value?null:i.control.value.length)&&i.control.disabled)),e.xp6(1),e.Q6J("ngIf",i.focused))},dependencies:[I.mk,I.sg,I.O5,Ii.Hq,$.JJ,qa.aV,j.jx,$.oH,Ls.Qc,I.OU],styles:[".placeholder-text[_ngcontent-%COMP%]{color:var(--tc-400)}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;cursor:text}.wrapper.disabled[_ngcontent-%COMP%]{cursor:default}.wrapper[_ngcontent-%COMP%]:not(.disabled):hover{border-color:var(--mc-500)}"]}),n})();const Ar=function(n,o){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":o}};function up(n,o){if(1&n&&e._UZ(0,"span",3),2&n){const t=e.oxw();e.Tol(t.checked?t.onIcon:t.offIcon),e.Q6J("ngClass",e.WLB(3,Ar,"left"===t.iconPos,"right"===t.iconPos))}}const Nc=function(n,o,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":o,"p-disabled":t}},fo={provide:$.JU,useExisting:(0,e.Gpc)(()=>Zr),multi:!0};let Zr=(()=>{class n{constructor(t){this.cd=t,this.iconPos="left",this.onChange=new e.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[e._Bn([fo])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(c){return i.toggle(c)})("keydown.enter",function(c){return i.toggle(c)}),e.YNc(1,up,1,6,"span",1),e.TgZ(2,"span",2),e._uU(3),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(8,Nc,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style),e.uIk("tabindex",i.disabled?null:"0")("aria-checked",i.checked),e.xp6(1),e.Q6J("ngIf",i.onIcon||i.offIcon),e.xp6(2),e.Oqu(i.checked?i.hasOnLabel?i.onLabel:"":i.hasOffLabel?i.offLabel:""))},dependencies:[I.mk,I.O5,I.PC,D.H],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}'],changeDetection:0}),n})(),wa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,D.T]}),n})();var Xa=_(1208),Ur=_(3407),Uo=_(1874),oo=_(925);function zr(n){return null!=n&&"false"!=`${n}`}function Gr(n,o=0){return function xa(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):o}function M(n){return n instanceof e.SBq?n.nativeElement:n}var Pi=_(7579),wr=_(727),xf=_(7445),Ef=_(4408);const Vc={schedule(n){let o=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Vc;i&&(o=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=o(c=>{t=void 0,n(c)});return new wr.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:o}=Vc;return((null==o?void 0:o.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:o}=Vc;return((null==o?void 0:o.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var Sf=_(7565);const ol=new class Oa extends Sf.v{flush(o){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;o=o||t.shift();const c=t.length;do{if(i=o.execute(o.state,o.delay))break}while(++r<c&&(o=t.shift()));if(this._active=!1,i){for(;++r<c&&(o=t.shift());)o.unsubscribe();throw i}}}(class K0 extends Ef.o{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o._scheduled||(o._scheduled=Vc.requestAnimationFrame(()=>o.flush(void 0))))}recycleAsyncId(o,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(o,t,i);0===o.actions.length&&(Vc.cancelAnimationFrame(t),o._scheduled=void 0)}});var bp=_(9751),kf=_(6451),sl=_(2722),yp=_(8675),Zc=_(5698),Uc=_(8505),Ip=_(3900),Ap=_(9646),ju=_(4968);let zl,Y0=1;const xr={};function Gl(n){return n in xr&&(delete xr[n],!0)}const Mf={setImmediate(n){const o=Y0++;return xr[o]=!0,zl||(zl=Promise.resolve()),zl.then(()=>Gl(o)&&n()),o},clearImmediate(n){Gl(n)}},{setImmediate:Df,clearImmediate:J1}=Mf,Tp={setImmediate(...n){const{delegate:o}=Tp;return((null==o?void 0:o.setImmediate)||Df)(...n)},clearImmediate(n){const{delegate:o}=Tp;return((null==o?void 0:o.clearImmediate)||J1)(n)},delegate:void 0};new class wp extends Sf.v{flush(o){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;o=o||t.shift();const c=t.length;do{if(i=o.execute(o.state,o.delay))break}while(++r<c&&(o=t.shift()));if(this._active=!1,i){for(;++r<c&&(o=t.shift());)o.unsubscribe();throw i}}}(class j1 extends Ef.o{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o._scheduled||(o._scheduled=Tp.setImmediate(o.flush.bind(o,void 0))))}recycleAsyncId(o,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(o,t,i);0===o.actions.length&&(Tp.clearImmediate(t),o._scheduled=void 0)}});var q0=_(4986),Wu=_(4482),X0=_(8421),Ku=_(5403),Of=_(5963);function Ep(n,o=q0.P){return function eb(n){return(0,Wu.e)((o,t)=>{let i=!1,r=null,c=null,p=!1;const C=()=>{if(null==c||c.unsubscribe(),c=null,i){i=!1;const ie=r;r=null,t.next(ie)}p&&t.complete()},E=()=>{c=null,p&&t.complete()};o.subscribe(new Ku.Q(t,ie=>{i=!0,r=ie,c||(0,X0.Xf)(n(ie)).subscribe(c=new Ku.Q(t,C,E))},()=>{p=!0,(!i||!c||c.closed)&&t.complete()}))})}(()=>(0,Of.H)(n,o))}var rl=_(9300);const Pf=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function Sp(){return(0,e.f3M)(I.K0)}}),tb=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let kp=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new e.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Mo(n){const o=(null==n?void 0:n.toLowerCase())||"";return"auto"===o&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?tb.test(navigator.language)?"rtl":"ltr":"rtl"===o?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Pf,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),tT=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Pi.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new bp.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Ep(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ap.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,rl.h)(c=>!c||r.indexOf(c)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,c)=>{this._scrollableContainsElement(c,t)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=M(i),c=t.getElementRef().nativeElement;do{if(r==c)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,ju.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(oo.t4),e.LFG(I.K0,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nf=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Pi.x,this._changeListener=c=>{this._change.next(c)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,c=r.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-c.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ep(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(oo.t4),e.LFG(e.R0b),e.LFG(I.K0,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),Hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Yu,qu,Yu,qu]}),n})();function Pa(n,o,t){for(let i in o)if(o.hasOwnProperty(i)){const r=o[i];r?n.setProperty(i,r,null!=t&&t.has(i)?"important":""):n.removeProperty(i)}return n}function Ql(n,o){const t=o?"":"none";Pa(n.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Xu(n,o,t){Pa(n.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},t)}function al(n,o){return o&&"none"!=o?n+" "+o:n}function Vf(n){const o=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*o}function Jl(n,o){return n.getPropertyValue(o).split(",").map(i=>i.trim())}function Ra(n){const o=n.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function ed(n,o,t){const{top:i,bottom:r,left:c,right:p}=n;return t>=i&&t<=r&&o>=c&&o<=p}function ll(n,o,t){n.top+=o,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function Zf(n,o,t,i){const{top:r,right:c,bottom:p,left:C,width:E,height:ie}=n,ae=E*o,tt=ie*o;return i>r-tt&&i<p+tt&&t>C-ae&&t<c+ae}class Uf{constructor(o){this._document=o,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ra(t)})})}handleScroll(o){const t=(0,oo.sA)(o),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let c,p;if(t===this._document){const ie=this.getViewportScrollPosition();c=ie.top,p=ie.left}else c=t.scrollTop,p=t.scrollLeft;const C=r.top-c,E=r.left-p;return this.positions.forEach((ie,ae)=>{ie.clientRect&&t!==ae&&t.contains(ae)&&ll(ie.clientRect,C,E)}),r.top=c,r.left=p,{top:C,left:E}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Dp(n){const o=n.cloneNode(!0),t=o.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();o.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?Gf(n,o):("input"===i||"select"===i||"textarea"===i)&&zf(n,o),cl("canvas",n,o,Gf),cl("input, textarea, select",n,o,zf),o}function cl(n,o,t,i){const r=o.querySelectorAll(n);if(r.length){const c=t.querySelectorAll(n);for(let p=0;p<r.length;p++)i(r[p],c[p])}}let rb=0;function zf(n,o){"file"!==o.type&&(o.value=n.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${rb++}`)}function Gf(n,o){const t=o.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(i){}}const Qf=(0,oo.i$)({passive:!0}),jl=(0,oo.i$)({passive:!1}),td=new Set(["position"]);class lb{constructor(o,t,i,r,c,p){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=c,this._dragDropRegistry=p,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Pi.x,this._pointerMoveSubscription=wr.w0.EMPTY,this._pointerUpSubscription=wr.w0.EMPTY,this._scrollSubscription=wr.w0.EMPTY,this._resizeSubscription=wr.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Pi.x,this.started=new Pi.x,this.released=new Pi.x,this.ended=new Pi.x,this.entered=new Pi.x,this.exited=new Pi.x,this.dropped=new Pi.x,this.moved=this._moveEvents,this._pointerDown=C=>{if(this.beforeStarted.next(),this._handles.length){const E=this._getTargetHandle(C);E&&!this._disabledHandles.has(E)&&!this.disabled&&this._initializeDragSequence(E,C)}else this.disabled||this._initializeDragSequence(this._rootElement,C)},this._pointerMove=C=>{const E=this._getPointerPositionOnPage(C);if(!this._hasStartedDragging){if(Math.abs(E.x-this._pickupPositionOnPage.x)+Math.abs(E.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const it=Date.now()>=this._dragStartTime+this._getDragStartDelay(C),Pt=this._dropContainer;if(!it)return void this._endDragSequence(C);(!Pt||!Pt.isDragging()&&!Pt.isReceiving())&&(C.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(C)))}return}C.preventDefault();const ie=this._getConstrainedPointerPosition(E);if(this._hasMoved=!0,this._lastKnownPointerPosition=E,this._updatePointerDirectionDelta(ie),this._dropContainer)this._updateActiveDropContainer(ie,E);else{const ae=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,tt=this._activeTransform;tt.x=ie.x-ae.x+this._passiveTransform.x,tt.y=ie.y-ae.y+this._passiveTransform.y,this._applyRootElementTransform(tt.x,tt.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ie,event:C,distance:this._getDragDistance(ie),delta:this._pointerDirectionDelta})})},this._pointerUp=C=>{this._endDragSequence(C)},this._nativeDragStart=C=>{if(this._handles.length){const E=this._getTargetHandle(C);E&&!this._disabledHandles.has(E)&&!this.disabled&&C.preventDefault()}else this.disabled||C.preventDefault()},this.withRootElement(o).withParent(t.parentDragRef||null),this._parentPositions=new Uf(i),p.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){const t=zr(o);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Ql(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(i=>M(i)),this._handles.forEach(i=>Ql(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const t=M(o);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,jl),t.addEventListener("touchstart",this._pointerDown,Qf),t.addEventListener("dragstart",this._nativeDragStart,jl)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?M(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){var o,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(o=this._rootElement)||void 0===o||o.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),Ql(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),Ql(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var o,t;null===(o=this._preview)||void 0===o||o.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var o,t;null===(o=this._placeholder)||void 0===o||o.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){Gc(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,c=this._placeholder=this._createPlaceholderElement(),p=this._anchor=this._anchor||this._document.createComment(""),C=this._getShadowRoot();r.insertBefore(p,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Xu(i,!1,td),this._document.body.appendChild(r.replaceChild(c,i)),this._getPreviewInsertionPoint(r,C).appendChild(this._preview),this.started.next({source:this,event:o}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(o,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=Gc(t),c=!r&&0!==t.button,p=this._rootElement,C=(0,oo.sA)(t),E=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ie=r?function z0(n){const o=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}(t):function Hc(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(C&&C.draggable&&"mousedown"===t.type&&t.preventDefault(),i||c||E||ie)return;if(this._handles.length){const rt=p.style;this._rootElementTapHighlight=rt.webkitTapHighlightColor||"",rt.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(rt=>this._updateOnScroll(rt)),this._boundaryElement&&(this._boundaryRect=Ra(this._boundaryElement));const ae=this._previewTemplate;this._pickupPositionInElement=ae&&ae.template&&!ae.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,o,t);const tt=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:tt.x,y:tt.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(o){Xu(this._rootElement,!0,td),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(o),c=this._getDragDistance(r),p=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:c,dropPoint:r,event:o}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:p,distance:c,dropPoint:r,event:o}),t.drop(this,i,this._initialIndex,this._initialContainer,p,c,r,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:t},{x:i,y:r}){let c=this._initialContainer._getSiblingContainerFromPosition(this,o,t);!c&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,t)&&(c=this._initialContainer),c&&c!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=c,this._dropContainer.enter(this,o,t,c===this._initialContainer&&c.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:c,currentIndex:c.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,o,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,t):this._applyPreviewTransform(o-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,t=this.previewClass,i=o?o.template:null;let r;if(i&&o){const c=o.matchSize?this._initialClientRect:null,p=o.viewContainer.createEmbeddedView(i,o.context);p.detectChanges(),r=Wl(p,this._document),this._previewRef=p,o.matchSize?Jf(r,c):r.style.transform=zc(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=Dp(this._rootElement),Jf(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Pa(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},td),Ql(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(c=>r.classList.add(c)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const t=function Mp(n){const o=getComputedStyle(n),t=Jl(o,"transition-property"),i=t.find(C=>"transform"===C||"all"===C);if(!i)return 0;const r=t.indexOf(i),c=Jl(o,"transition-duration"),p=Jl(o,"transition-delay");return Vf(c[r])+Vf(p[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=p=>{var C;(!p||(0,oo.sA)(p)===this._preview&&"transform"===p.propertyName)&&(null===(C=this._preview)||void 0===C||C.removeEventListener("transitionend",r),i(),clearTimeout(c))},c=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,t=o?o.template:null;let i;return t?(this._placeholderRef=o.viewContainer.createEmbeddedView(t,o.context),this._placeholderRef.detectChanges(),i=Wl(this._placeholderRef,this._document)):i=Dp(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(o,t,i){const r=t===this._rootElement?null:t,c=r?r.getBoundingClientRect():o,p=Gc(i)?i.targetTouches[0]:i,C=this._getViewportScrollPosition();return{x:c.left-o.left+(p.pageX-c.left-C.left),y:c.top-o.top+(p.pageY-c.top-C.top)}}_getPointerPositionOnPage(o){const t=this._getViewportScrollPosition(),i=Gc(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,r=i.pageX-t.left,c=i.pageY-t.top;if(this._ownerSVGElement){const p=this._ownerSVGElement.getScreenCTM();if(p){const C=this._ownerSVGElement.createSVGPoint();return C.x=r,C.y=c,C.matrixTransform(p.inverse())}}return{x:r,y:c}}_getConstrainedPointerPosition(o){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(o,this,this._initialClientRect,this._pickupPositionInElement):o;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:c,y:p}=this._pickupPositionInElement,C=this._boundaryRect,{width:E,height:ie}=this._getPreviewRect(),ae=C.top+p,tt=C.bottom-(ie-p);i=cb(i,C.left+c,C.right-(E-c)),r=cb(r,ae,tt)}return{x:i,y:r}}_updatePointerDirectionDelta(o){const{x:t,y:i}=o,r=this._pointerDirectionDelta,c=this._pointerPositionAtLastDirectionChange,p=Math.abs(t-c.x),C=Math.abs(i-c.y);return p>this._config.pointerDirectionChangeThreshold&&(r.x=t>c.x?1:-1,c.x=t),C>this._config.pointerDirectionChangeThreshold&&(r.y=i>c.y?1:-1,c.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,Ql(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,jl),o.removeEventListener("touchstart",this._pointerDown,Qf),o.removeEventListener("dragstart",this._nativeDragStart,jl)}_applyRootElementTransform(o,t){const i=zc(o,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=al(i,this._initialTransform)}_applyPreviewTransform(o,t){var i;const r=null!==(i=this._previewTemplate)&&void 0!==i&&i.template?void 0:this._initialTransform,c=zc(o,t);this._preview.style.transform=al(c,r)}_getDragDistance(o){const t=this._pickupPositionOnPage;return t?{x:o.x-t.x,y:o.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:t}=this._passiveTransform;if(0===o&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const c=r.left-i.left,p=i.right-r.right,C=r.top-i.top,E=i.bottom-r.bottom;r.width>i.width?(c>0&&(o+=c),p>0&&(o-=p)):o=0,r.height>i.height?(C>0&&(t+=C),E>0&&(t-=E)):t=0,(o!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:o})}_getDragStartDelay(o){const t=this.dragStartDelay;return"number"==typeof t?t:Gc(o)?t.touch:t?t.mouse:0}_updateOnScroll(o){const t=this._parentPositions.handleScroll(o);if(t){const i=(0,oo.sA)(o);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&ll(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var o;return(null===(o=this._parentPositions.positions.get(this._document))||void 0===o?void 0:o.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,oo.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,t){const i=this._previewContainer||"global";if("parent"===i)return o;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return M(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(o){return this._handles.find(t=>o.target&&(o.target===t||t.contains(o.target)))}}function zc(n,o){return`translate3d(${Math.round(n)}px, ${Math.round(o)}px, 0)`}function cb(n,o,t){return Math.max(o,Math.min(t,n))}function Gc(n){return"t"===n.type[0]}function Wl(n,o){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===o.ELEMENT_NODE)return t[0];const i=o.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function Jf(n,o){n.style.width=`${o.width}px`,n.style.height=`${o.height}px`,n.style.transform=zc(o.left,o.top)}function aa(n,o,t){const i=nd(o,n.length-1),r=nd(t,n.length-1);if(i===r)return;const c=n[i],p=r<i?-1:1;for(let C=i;C!==r;C+=p)n[C]=n[C+p];n[r]=c}function Kl(n,o,t,i){const r=nd(t,n.length-1),c=nd(i,o.length);n.length&&o.splice(c,0,n.splice(r,1)[0])}function nd(n,o){return Math.max(0,Math.min(o,n))}class jf{constructor(o,t){this._element=o,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(o){this.withItems(o)}sort(o,t,i,r){const c=this._itemPositions,p=this._getItemIndexFromPointerPosition(o,t,i,r);if(-1===p&&c.length>0)return null;const C="horizontal"===this.orientation,E=c.findIndex(Jt=>Jt.drag===o),ie=c[p],tt=ie.clientRect,rt=E>p?1:-1,it=this._getItemOffsetPx(c[E].clientRect,tt,rt),Pt=this._getSiblingOffsetPx(E,c,rt),Wt=c.slice();return aa(c,E,p),c.forEach((Jt,cn)=>{if(Wt[cn]===Jt)return;const On=Jt.drag===o,Xn=On?it:Pt,Gn=On?o.getPlaceholderElement():Jt.drag.getRootElement();Jt.offset+=Xn,C?(Gn.style.transform=al(`translate3d(${Math.round(Jt.offset)}px, 0, 0)`,Jt.initialTransform),ll(Jt.clientRect,0,Xn)):(Gn.style.transform=al(`translate3d(0, ${Math.round(Jt.offset)}px, 0)`,Jt.initialTransform),ll(Jt.clientRect,Xn,0))}),this._previousSwap.overlaps=ed(tt,t,i),this._previousSwap.drag=ie.drag,this._previousSwap.delta=C?r.x:r.y,{previousIndex:E,currentIndex:p}}enter(o,t,i,r){const c=null==r||r<0?this._getItemIndexFromPointerPosition(o,t,i):r,p=this._activeDraggables,C=p.indexOf(o),E=o.getPlaceholderElement();let ie=p[c];if(ie===o&&(ie=p[c+1]),!ie&&(null==c||-1===c||c<p.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(ie=p[0]),C>-1&&p.splice(C,1),ie&&!this._dragDropRegistry.isDragging(ie)){const ae=ie.getRootElement();ae.parentElement.insertBefore(E,ae),p.splice(c,0,o)}else M(this._element).appendChild(E),p.push(o);E.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables.forEach(o=>{var t;const i=o.getRootElement();if(i){const r=null===(t=this._itemPositions.find(c=>c.drag===o))||void 0===t?void 0:t.initialTransform;i.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===o)}updateOnScroll(o,t){this._itemPositions.forEach(({clientRect:i})=>{ll(i,o,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const o="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Ra(i)}}).sort((t,i)=>o?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(o,t,i){const r="horizontal"===this.orientation;let c=r?t.left-o.left:t.top-o.top;return-1===i&&(c+=r?t.width-o.width:t.height-o.height),c}_getSiblingOffsetPx(o,t,i){const r="horizontal"===this.orientation,c=t[o].clientRect,p=t[o+-1*i];let C=c[r?"width":"height"]*i;if(p){const E=r?"left":"top",ie=r?"right":"bottom";-1===i?C-=p.clientRect[E]-c[ie]:C+=c[E]-p.clientRect[ie]}return C}_shouldEnterAsFirstChild(o,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const p=i[i.length-1].clientRect;return r?o>=p.right:t>=p.bottom}{const p=i[0].clientRect;return r?o<=p.left:t<=p.top}}_getItemIndexFromPointerPosition(o,t,i,r){const c="horizontal"===this.orientation,p=this._itemPositions.findIndex(({drag:C,clientRect:E})=>{if(C===o)return!1;if(r){const ie=c?r.x:r.y;if(C===this._previousSwap.drag&&this._previousSwap.overlaps&&ie===this._previousSwap.delta)return!1}return c?t>=Math.floor(E.left)&&t<Math.floor(E.right):i>=Math.floor(E.top)&&i<Math.floor(E.bottom)});return-1!==p&&this._sortPredicate(p,o)?p:-1}}class ub{constructor(o,t,i,r,c){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=c,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Pi.x,this.entered=new Pi.x,this.exited=new Pi.x,this.dropped=new Pi.x,this.sorted=new Pi.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=wr.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Pi.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,xf.F)(0,ol).pipe((0,sl.R)(this._stopScrollTimers)).subscribe(()=>{const p=this._scrollNode,C=this.autoScrollStep;1===this._verticalScrollDirection?p.scrollBy(0,-C):2===this._verticalScrollDirection&&p.scrollBy(0,C),1===this._horizontalScrollDirection?p.scrollBy(-C,0):2===this._horizontalScrollDirection&&p.scrollBy(C,0)})},this.element=M(o),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Uf(i),this._sortStrategy=new jf(this.element,t),this._sortStrategy.withSortPredicate((p,C)=>this.sortPredicate(p,C,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(o)),this._sortStrategy.enter(o,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,t,i,r,c,p,C,E={}){this._reset(),this.dropped.next({item:o,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:c,distance:p,dropPoint:C,event:E})}withItems(o){const t=this._draggables;return this._draggables=o,o.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===o.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._sortStrategy.direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._sortStrategy.orientation=o,this}withScrollableParents(o){const t=M(this.element);return this._scrollableElements=-1===o.indexOf(t)?[t,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,t,i,r){if(this.sortingDisabled||!this._clientRect||!Zf(this._clientRect,.05,t,i))return;const c=this._sortStrategy.sort(o,t,i,r);c&&this.sorted.next({previousIndex:c.previousIndex,currentIndex:c.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,t){if(this.autoScrollDisabled)return;let i,r=0,c=0;if(this._parentPositions.positions.forEach((p,C)=>{C===this._document||!p.clientRect||i||Zf(p.clientRect,.05,o,t)&&([r,c]=function Pp(n,o,t,i){const r=Op(o,i),c=Yf(o,t);let p=0,C=0;if(r){const E=n.scrollTop;1===r?E>0&&(p=1):n.scrollHeight-E>n.clientHeight&&(p=2)}if(c){const E=n.scrollLeft;1===c?E>0&&(C=1):n.scrollWidth-E>n.clientWidth&&(C=2)}return[p,C]}(C,p.clientRect,o,t),(r||c)&&(i=C))}),!r&&!c){const{width:p,height:C}=this._viewportRuler.getViewportSize(),E={width:p,height:C,top:0,right:p,bottom:C,left:0};r=Op(E,t),c=Yf(E,o),i=window}i&&(r!==this._verticalScrollDirection||c!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=c,this._scrollNode=i,(r||c)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=M(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=M(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_reset(){this._isDragging=!1;const o=M(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(o,t){return null!=this._clientRect&&ed(this._clientRect,o,t)}_getSiblingContainerFromPosition(o,t,i){return this._siblings.find(r=>r._canReceive(o,t,i))}_canReceive(o,t,i){if(!this._clientRect||!ed(this._clientRect,t,i)||!this.enterPredicate(o,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const c=M(this.element);return r===c||c.contains(r)}_startReceiving(o,t){const i=this._activeSiblings;!i.has(o)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(o),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(o);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,oo.kV)(M(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,o))}}function Op(n,o){const{top:t,bottom:i,height:r}=n,c=.05*r;return o>=t-c&&o<=t+c?1:o>=i-c&&o<=i+c?2:0}function Yf(n,o){const{left:t,right:i,width:r}=n,c=.05*r;return o>=t-c&&o<=t+c?1:o>=i-c&&o<=i+c?2:0}const Yl=(0,oo.i$)({passive:!1,capture:!0});let db=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Pi.x,this.pointerUp=new Pi.x,this.scroll=new Pi.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Yl)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Yl)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:c=>this.pointerUp.next(c),options:!0}).set("scroll",{handler:c=>this.scroll.next(c),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Yl}),r||this._globalListeners.set("mousemove",{handler:c=>this.pointerMove.next(c),options:Yl}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((c,p)=>{this._document.addEventListener(p,c.handler,c.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new bp.y(r=>this._ngZone.runOutsideAngular(()=>{const p=C=>{this._activeDragInstances.length&&r.next(C)};return t.addEventListener("scroll",p,!0),()=>{t.removeEventListener("scroll",p,!0)}}))),(0,kf.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(I.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rp={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ul=(()=>{class n{constructor(t,i,r,c){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=c}createDrag(t,i=Rp){return new lb(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new ub(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(I.K0),e.LFG(e.R0b),e.LFG(Nf),e.LFG(db))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $f=new e.OlP("CDK_DRAG_PARENT"),Lp=new e.OlP("CdkDropListGroup");let pb=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=zr(t)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[e._Bn([{provide:Lp,useExisting:n}])]}),n})();const qf=new e.OlP("CDK_DRAG_CONFIG");let Xf=0;const em=new e.OlP("CdkDropList");let dl=(()=>{class n{constructor(t,i,r,c,p,C,E){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=c,this._dir=p,this._group=C,this._destroyed=new Pi.x,this.connectedTo=[],this.id="cdk-drop-list-"+Xf++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,E&&this._assignDefaults(E),this._dropListRef.enterPredicate=(ie,ae)=>this.enterPredicate(ie.data,ae.data),this._dropListRef.sortPredicate=(ie,ae,tt)=>this.sortPredicate(ie,ae.data,tt.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),C&&C._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=zr(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,yp.O)(this._dir.value),(0,sl.R)(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=function Pu(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(p=>p.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(c=>c.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=zr(this.sortingDisabled),t.autoScrollDisabled=zr(this.autoScrollDisabled),t.autoScrollStep=Gr(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:c,listAutoScrollDisabled:p,listOrientation:C}=t;this.disabled=null!=r&&r,this.sortingDisabled=null!=c&&c,this.autoScrollDisabled=null!=p&&p,this.orientation=C||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(ul),e.Y36(e.sBO),e.Y36(tT),e.Y36(kp,8),e.Y36(Lp,12),e.Y36(qf,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(e.uIk("id",i.id),e.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:Lp,useValue:void 0},{provide:em,useExisting:n}])]}),n})();const la=new e.OlP("CdkDragHandle"),gb=new e.OlP("CdkDragPlaceholder"),rT=new e.OlP("CdkDragPreview");let Np=(()=>{class n{constructor(t,i,r,c,p,C,E,ie,ae,tt,rt){this.element=t,this.dropContainer=i,this._ngZone=c,this._viewContainerRef=p,this._dir=E,this._changeDetectorRef=ae,this._selfHandle=tt,this._parentDrag=rt,this._destroyed=new Pi.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new bp.y(it=>{const Pt=this._dragRef.moved.pipe((0,L.U)(Wt=>({source:this,pointerPosition:Wt.pointerPosition,event:Wt.event,delta:Wt.delta,distance:Wt.distance}))).subscribe(it);return()=>{Pt.unsubscribe()}}),this._dragRef=ie.createDrag(t,{dragStartThreshold:C&&null!=C.dragStartThreshold?C.dragStartThreshold:5,pointerDirectionChangeThreshold:C&&null!=C.pointerDirectionChangeThreshold?C.pointerDirectionChangeThreshold:5,zIndex:null==C?void 0:C.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),C&&this._assignDefaults(C),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=zr(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Zc.q)(1),(0,sl.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const i=this.element.nativeElement;let r=i;this.rootElementSelector&&(r=void 0!==i.closest?i.closest(this.rootElementSelector):null===(t=i.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):M(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,c=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,p=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:Gr(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(c).withPreviewTemplate(p).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,Zc.q)(1)).subscribe(()=>{var i;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent((null===(i=n._dragInstances.find(c=>c.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:c,previewClass:p,boundaryElement:C,draggingDisabled:E,rootElementSelector:ie,previewContainer:ae}=t;this.disabled=null!=E&&E,this.dragStartDelay=r||0,i&&(this.lockAxis=i),c&&(this.constrainPosition=c),p&&(this.previewClass=p),C&&(this.boundaryElement=C),ie&&(this.rootElementSelector=ie),ae&&(this.previewContainer=ae)}_setupHandlesListener(){this._handles.changes.pipe((0,yp.O)(this._handles),(0,Uc.b)(t=>{const i=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,Ip.w)(t=>(0,kf.T)(...t.map(i=>i._stateChanges.pipe((0,yp.O)(i))))),(0,sl.R)(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(em,12),e.Y36(I.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(qf,8),e.Y36(kp,8),e.Y36(ul),e.Y36(e.sBO),e.Y36(la,10),e.Y36($f,12))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,rT,5),e.Suo(r,gb,5),e.Suo(r,la,5)),2&t){let c;e.iGM(c=e.CRH())&&(i._previewTemplate=c.first),e.iGM(c=e.CRH())&&(i._placeholderTemplate=c.first),e.iGM(c=e.CRH())&&(i._handles=c)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&e.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:$f,useExisting:n}]),e.TTD]}),n})(),Fp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ul],imports:[qu]}),n})();const tm=["sourcelist"],mb=["targetlist"],nm=["sourceFilter"],_b=["targetFilter"];function Cb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(6);return e.KtG(r.moveUp(c,r.source,r.selectedItemsSource,r.onSourceReorder,r.SOURCE_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(6);return e.KtG(r.moveTop(c,r.source,r.selectedItemsSource,r.onSourceReorder,r.SOURCE_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(6);return e.KtG(r.moveDown(c,r.source,r.selectedItemsSource,r.onSourceReorder,r.SOURCE_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(6);return e.KtG(r.moveBottom(c,r.source,r.selectedItemsSource,r.onSourceReorder,r.SOURCE_LIST))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.sourceMoveDisabled()),e.uIk("aria-label",t.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.sourceMoveDisabled()),e.uIk("aria-label",t.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.sourceMoveDisabled()),e.uIk("aria-label",t.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.sourceMoveDisabled()),e.uIk("aria-label",t.bottomButtonAriaLabel)}}function Qr(n,o){if(1&n&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.sourceHeader)}}function vb(n,o){1&n&&e.GkF(0)}function im(n,o){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,Qr,2,1,"div",24),e.YNc(2,vb,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.sourceHeaderTemplate)}}function bb(n,o){1&n&&e.GkF(0)}const om=function(n){return{options:n}};function yb(n,o){if(1&n&&(e.ynx(0),e.YNc(1,bb,1,0,"ng-container",30),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.sourceFilterTemplate)("ngTemplateOutletContext",e.VKq(2,om,t.sourceFilterOptions))}}function Ib(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"input",32,33),e.NdJ("keyup",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onFilter(r,c.SOURCE_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.sourceFilterPlaceholder)("aria-label",t.ariaSourceFilterLabel)}}function sm(n,o){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,yb,2,4,"ng-container",28),e.YNc(2,Ib,4,3,"ng-template",null,29,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.sourceFilterTemplate)("ngIfElse",t)}}function Ab(n,o){1&n&&e.GkF(0)}const rm=function(n,o){return{"p-picklist-item":!0,"p-highlight":n,"p-disabled":o}},am=function(n,o){return{$implicit:n,index:o}};function ii(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw();return e.KtG(p.onItemClick(r,c,p.selectedItemsSource,p.onSourceSelect))})("dblclick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onSourceItemDblClick())})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onItemTouchEnd())})("keydown",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw();return e.KtG(p.onItemKeydown(r,c,p.selectedItemsSource,p.onSourceSelect))}),e.YNc(1,Ab,1,0,"ng-container",30),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw();e.Q6J("ngClass",e.WLB(6,rm,c.isSelected(i,c.selectedItemsSource),c.disabled))("cdkDragData",i)("cdkDragDisabled",!c.dragdrop),e.uIk("aria-selected",c.isSelected(i,c.selectedItemsSource)),e.xp6(1),e.Q6J("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",e.WLB(9,am,i,r))}}function lm(n,o){if(1&n&&e.YNc(0,ii,2,12,"li",35),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t,i.SOURCE_LIST))}}function cm(n,o){1&n&&e.GkF(0)}function um(n,o){if(1&n&&(e.TgZ(0,"li",38),e.YNc(1,cm,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageSourceTemplate)}}function Tb(n,o){1&n&&e.GkF(0)}function wb(n,o){if(1&n&&(e.TgZ(0,"li",38),e.YNc(1,Tb,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageSourceTemplate)}}function dm(n,o){if(1&n&&(e.ynx(0),e.YNc(1,um,2,1,"li",37),e.YNc(2,wb,2,1,"li",37),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValueSource||!t.emptyFilterMessageSourceTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValueSource)}}function xb(n,o){if(1&n&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.targetHeader)}}function pm(n,o){1&n&&e.GkF(0)}function Eb(n,o){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,xb,2,1,"div",24),e.YNc(2,pm,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.targetHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.targetHeaderTemplate)}}function Sb(n,o){1&n&&e.GkF(0)}function lT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Sb,1,0,"ng-container",30),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.targetFilterTemplate)("ngTemplateOutletContext",e.VKq(2,om,t.targetFilterOptions))}}function hm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"input",32,40),e.NdJ("keyup",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onFilter(r,c.TARGET_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.targetFilterPlaceholder)("aria-label",t.ariaTargetFilterLabel)}}function gm(n,o){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,lT,2,4,"ng-container",28),e.YNc(2,hm,4,3,"ng-template",null,39,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.targetFilterTemplate)("ngIfElse",t)}}function pl(n,o){1&n&&e.GkF(0)}function kb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw();return e.KtG(p.onItemClick(r,c,p.selectedItemsTarget,p.onTargetSelect))})("dblclick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onTargetItemDblClick())})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onItemTouchEnd())})("keydown",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw();return e.KtG(p.onItemKeydown(r,c,p.selectedItemsTarget,p.onTargetSelect))}),e.YNc(1,pl,1,0,"ng-container",30),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw();e.Q6J("ngClass",e.WLB(6,rm,c.isSelected(i,c.selectedItemsTarget),c.disabled))("cdkDragData",i)("cdkDragDisabled",!c.dragdrop),e.uIk("aria-selected",c.isSelected(i,c.selectedItemsTarget)),e.xp6(1),e.Q6J("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",e.WLB(9,am,i,r))}}function Bp(n,o){if(1&n&&e.YNc(0,kb,2,12,"li",35),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t,i.TARGET_LIST))}}function Hp(n,o){1&n&&e.GkF(0)}function Mb(n,o){if(1&n&&(e.TgZ(0,"li",38),e.YNc(1,Hp,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTargetTemplate)}}function cT(n,o){1&n&&e.GkF(0)}function uT(n,o){if(1&n&&(e.TgZ(0,"li",38),e.YNc(1,cT,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageTargetTemplate)}}function dT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Mb,2,1,"li",37),e.YNc(2,uT,2,1,"li",37),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValueTarget||!t.emptyFilterMessageTargetTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValueTarget)}}function Db(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(18);return e.KtG(r.moveUp(c,r.target,r.selectedItemsTarget,r.onTargetReorder,r.TARGET_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(18);return e.KtG(r.moveTop(c,r.target,r.selectedItemsTarget,r.onTargetReorder,r.TARGET_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(18);return e.KtG(r.moveDown(c,r.target,r.selectedItemsTarget,r.onTargetReorder,r.TARGET_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(18);return e.KtG(r.moveBottom(c,r.target,r.selectedItemsTarget,r.onTargetReorder,r.TARGET_LIST))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.targetMoveDisabled()),e.uIk("aria-label",t.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.targetMoveDisabled()),e.uIk("aria-label",t.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.targetMoveDisabled()),e.uIk("aria-label",t.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.targetMoveDisabled()),e.uIk("aria-label",t.bottomButtonAriaLabel)}}const fm=function(n){return{"p-picklist p-component":!0,"p-picklist-striped":n}};let Ob=(()=>{class n{constructor(t,i,r){this.el=t,this.cd=i,this.filterService=r,this.trackBy=(c,p)=>p,this.showSourceFilter=!0,this.showTargetFilter=!0,this.metaKeySelection=!0,this.dragdrop=!1,this.showSourceControls=!0,this.showTargetControls=!0,this.disabled=!1,this.filterMatchMode="contains",this.breakpoint="960px",this.keepSelection=!1,this.onMoveToSource=new e.vpe,this.onMoveAllToSource=new e.vpe,this.onMoveAllToTarget=new e.vpe,this.onMoveToTarget=new e.vpe,this.onSourceReorder=new e.vpe,this.onTargetReorder=new e.vpe,this.onSourceSelect=new e.vpe,this.onTargetSelect=new e.vpe,this.onSourceFilter=new e.vpe,this.onTargetFilter=new e.vpe,this.selectedItemsSource=[],this.selectedItemsTarget=[],this.id=(0,an.Th)(),this.SOURCE_LIST=-1,this.TARGET_LIST=1}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.sourceFilterOptions={filter:t=>this.filterSource(t),reset:()=>this.resetSourceFilter()},this.targetFilterOptions={filter:t=>this.filterTarget(t),reset:()=>this.resetTargetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"sourceHeader":this.sourceHeaderTemplate=t.template;break;case"targetHeader":this.targetHeaderTemplate=t.template;break;case"sourceFilter":this.sourceFilterTemplate=t.template;break;case"targetFilter":this.targetFilterTemplate=t.template;break;case"emptymessagesource":this.emptyMessageSourceTemplate=t.template;break;case"emptyfiltermessagesource":this.emptyFilterMessageSourceTemplate=t.template;break;case"emptymessagetarget":this.emptyMessageTargetTemplate=t.template;break;case"emptyfiltermessagetarget":this.emptyFilterMessageTargetTemplate=t.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let i,t=zt.p.find(this.reorderedListElement,"li.p-highlight");i=this.movedUp?t[0]:t[t.length-1],zt.p.scrollInView(this.reorderedListElement,i),this.movedUp=!1,this.movedDown=!1,this.reorderedListElement=null}}onItemClick(t,i,r,c){if(this.disabled)return;let p=this.findIndexInSelection(i,r),C=-1!=p;if(!this.itemTouched&&this.metaKeySelection){let ie=t.metaKey||t.ctrlKey||t.shiftKey;C&&ie?r.splice(p,1):(ie||(r.length=0),r.push(i))}else C?r.splice(p,1):r.push(i);c.emit({originalEvent:t,items:r}),this.itemTouched=!1}onSourceItemDblClick(){this.disabled||this.moveRight()}onTargetItemDblClick(){this.disabled||this.moveLeft()}onFilter(t,i){let r=t.target.value;i===this.SOURCE_LIST?this.filterSource(r):i===this.TARGET_LIST&&this.filterTarget(r)}filterSource(t=""){this.filterValueSource=t.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.source,this.SOURCE_LIST)}filterTarget(t=""){this.filterValueTarget=t.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.target,this.TARGET_LIST)}filter(t,i){let r=this.filterBy.split(",");i===this.SOURCE_LIST?(this.visibleOptionsSource=this.filterService.filter(t,r,this.filterValueSource,this.filterMatchMode,this.filterLocale),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})):i===this.TARGET_LIST&&(this.visibleOptionsTarget=this.filterService.filter(t,r,this.filterValueTarget,this.filterMatchMode,this.filterLocale),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget}))}isItemVisible(t,i){return i==this.SOURCE_LIST?this.isVisibleInList(this.visibleOptionsSource,t,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,t,this.filterValueTarget)}isEmpty(t){return t==this.SOURCE_LIST?this.filterValueSource?!this.visibleOptionsSource||0===this.visibleOptionsSource.length:!this.source||0===this.source.length:this.filterValueTarget?!this.visibleOptionsTarget||0===this.visibleOptionsTarget.length:!this.target||0===this.target.length}isVisibleInList(t,i,r){if(!r||!r.trim().length)return!0;for(let c=0;c<t.length;c++)if(i==t[c])return!0}onItemTouchEnd(){this.disabled||(this.itemTouched=!0)}sortByIndexInList(t,i){return t.sort((r,c)=>an.gb.findIndexInList(r,i)-an.gb.findIndexInList(c,i))}moveUp(t,i,r,c,p){if(r&&r.length){r=this.sortByIndexInList(r,i);for(let C=0;C<r.length;C++){let ie=an.gb.findIndexInList(r[C],i);if(0==ie)break;{let tt=i[ie-1];i[ie-1]=i[ie],i[ie]=tt}}this.dragdrop&&(this.filterValueSource&&p===this.SOURCE_LIST||this.filterValueTarget&&p===this.TARGET_LIST)&&this.filter(i,p),this.movedUp=!0,this.reorderedListElement=t,c.emit({items:r})}}moveTop(t,i,r,c,p){if(r&&r.length){r=this.sortByIndexInList(r,i);for(let C=0;C<r.length;C++){let ie=an.gb.findIndexInList(r[C],i);if(0==ie)break;{let ae=i.splice(ie,1)[0];i.unshift(ae)}}this.dragdrop&&(this.filterValueSource&&p===this.SOURCE_LIST||this.filterValueTarget&&p===this.TARGET_LIST)&&this.filter(i,p),t.scrollTop=0,c.emit({items:r})}}moveDown(t,i,r,c,p){if(r&&r.length){for(let C=(r=this.sortByIndexInList(r,i)).length-1;C>=0;C--){let ie=an.gb.findIndexInList(r[C],i);if(ie==i.length-1)break;{let tt=i[ie+1];i[ie+1]=i[ie],i[ie]=tt}}this.dragdrop&&(this.filterValueSource&&p===this.SOURCE_LIST||this.filterValueTarget&&p===this.TARGET_LIST)&&this.filter(i,p),this.movedDown=!0,this.reorderedListElement=t,c.emit({items:r})}}moveBottom(t,i,r,c,p){if(r&&r.length){for(let C=(r=this.sortByIndexInList(r,i)).length-1;C>=0;C--){let ie=an.gb.findIndexInList(r[C],i);if(ie==i.length-1)break;{let ae=i.splice(ie,1)[0];i.push(ae)}}this.dragdrop&&(this.filterValueSource&&p===this.SOURCE_LIST||this.filterValueTarget&&p===this.TARGET_LIST)&&this.filter(i,p),t.scrollTop=t.scrollHeight,c.emit({items:r})}}moveRight(){if(this.selectedItemsSource&&this.selectedItemsSource.length){for(let t=0;t<this.selectedItemsSource.length;t++){let i=this.selectedItemsSource[t];-1==an.gb.findIndexInList(i,this.target)&&(this.target.push(this.source.splice(an.gb.findIndexInList(i,this.source),1)[0]),this.visibleOptionsSource&&this.visibleOptionsSource.splice(an.gb.findIndexInList(i,this.visibleOptionsSource),1))}this.onMoveToTarget.emit({items:this.selectedItemsSource}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}moveAllRight(){if(this.source){let t=[];for(let i=0;i<this.source.length;i++)if(this.isItemVisible(this.source[i],this.SOURCE_LIST)){let r=this.source.splice(i,1)[0];this.target.push(r),t.push(r),i--}this.onMoveAllToTarget.emit({items:t}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.visibleOptionsSource=[]}}moveLeft(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){for(let t=0;t<this.selectedItemsTarget.length;t++){let i=this.selectedItemsTarget[t];-1==an.gb.findIndexInList(i,this.source)&&(this.source.push(this.target.splice(an.gb.findIndexInList(i,this.target),1)[0]),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(an.gb.findIndexInList(i,this.visibleOptionsTarget),1))}this.onMoveToSource.emit({items:this.selectedItemsTarget}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}}moveAllLeft(){if(this.target){let t=[];for(let i=0;i<this.target.length;i++)if(this.isItemVisible(this.target[i],this.TARGET_LIST)){let r=this.target.splice(i,1)[0];this.source.push(r),t.push(r),i--}this.onMoveAllToSource.emit({items:t}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.visibleOptionsTarget=[]}}isSelected(t,i){return-1!=this.findIndexInSelection(t,i)}findIndexInSelection(t,i){return an.gb.findIndexInList(t,i)}onDrop(t,i){let r=t.previousContainer!==t.container,c=this.getDropIndexes(t.previousIndex,t.currentIndex,i,r,t.item.data);if(i===this.SOURCE_LIST){if(r){Kl(t.previousContainer.data,t.container.data,c.previousIndex,c.currentIndex);let p=an.gb.findIndexInList(t.item.data,this.selectedItemsTarget);-1!=p&&(this.selectedItemsTarget.splice(p,1),this.keepSelection&&this.selectedItemsTarget.push(t.item.data)),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(t.previousIndex,1),this.onMoveToSource.emit({items:[t.item.data]})}else aa(t.container.data,c.previousIndex,c.currentIndex),this.onSourceReorder.emit({items:[t.item.data]});this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}else{if(r){Kl(t.previousContainer.data,t.container.data,c.previousIndex,c.currentIndex);let p=an.gb.findIndexInList(t.item.data,this.selectedItemsSource);-1!=p&&(this.selectedItemsSource.splice(p,1),this.keepSelection&&this.selectedItemsTarget.push(t.item.data)),this.visibleOptionsSource&&this.visibleOptionsSource.splice(t.previousIndex,1),this.onMoveToTarget.emit({items:[t.item.data]})}else aa(t.container.data,c.previousIndex,c.currentIndex),this.onTargetReorder.emit({items:[t.item.data]});this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}getDropIndexes(t,i,r,c,p){let C,E;return r===this.SOURCE_LIST?(C=c?this.filterValueTarget?an.gb.findIndexInList(p,this.target):t:this.filterValueSource?an.gb.findIndexInList(p,this.source):t,E=this.filterValueSource?this.findFilteredCurrentIndex(this.visibleOptionsSource,i,this.source):i):(C=c?this.filterValueSource?an.gb.findIndexInList(p,this.source):t:this.filterValueTarget?an.gb.findIndexInList(p,this.target):t,E=this.filterValueTarget?this.findFilteredCurrentIndex(this.visibleOptionsTarget,i,this.target):i),{previousIndex:C,currentIndex:E}}findFilteredCurrentIndex(t,i,r){return t.length===i?an.gb.findIndexInList(t[i-1],r)+1:an.gb.findIndexInList(t[i],r)}resetSourceFilter(){this.visibleOptionsSource=null,this.filterValueSource=null,this.sourceFilterViewChild&&(this.sourceFilterViewChild.nativeElement.value="")}resetTargetFilter(){this.visibleOptionsTarget=null,this.filterValueTarget=null,this.targetFilterViewChild&&(this.targetFilterViewChild.nativeElement.value="")}resetFilter(){this.resetSourceFilter(),this.resetTargetFilter()}onItemKeydown(t,i,r,c){let p=t.currentTarget;switch(t.which){case 40:var C=this.findNextItem(p);C&&C.focus(),t.preventDefault();break;case 38:var E=this.findPrevItem(p);E&&E.focus(),t.preventDefault();break;case 13:this.onItemClick(t,i,r,c),t.preventDefault()}}findNextItem(t){let i=t.nextElementSibling;return i?!zt.p.hasClass(i,"p-picklist-item")||zt.p.isHidden(i)?this.findNextItem(i):i:null}findPrevItem(t){let i=t.previousElementSibling;return i?!zt.p.hasClass(i,"p-picklist-item")||zt.p.isHidden(i)?this.findPrevItem(i):i:null}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n            @media screen and (max-width: ${this.breakpoint}) {\n                .p-picklist[${this.id}] {\n                    flex-direction: column;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons {\n                    padding: var(--content-padding);\n                    flex-direction: row;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button {\n                    margin-right: var(--inline-spacing);\n                    margin-bottom: 0;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button:last-child {\n                    margin-right: 0;\n                }\n\n                .p-picklist[${this.id}] .pi-angle-right:before {\n                    content: "\\e930"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-right:before {\n                    content: "\\e92c"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-left:before {\n                    content: "\\e933"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-left:before {\n                    content: "\\e92f"\n                }\n            }\n            `)}sourceMoveDisabled(){if(this.disabled||!this.selectedItemsSource.length)return!0}targetMoveDisabled(){if(this.disabled||!this.selectedItemsTarget.length)return!0}moveRightDisabled(){return this.disabled||an.gb.isEmpty(this.selectedItemsSource)}moveLeftDisabled(){return this.disabled||an.gb.isEmpty(this.selectedItemsTarget)}moveAllRightDisabled(){return this.disabled||an.gb.isEmpty(this.source)}moveAllLeftDisabled(){return this.disabled||an.gb.isEmpty(this.target)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(j.iZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-pickList"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,j.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(tm,5),e.Gf(mb,5),e.Gf(nm,5),e.Gf(_b,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.listViewSourceChild=r.first),e.iGM(r=e.CRH())&&(i.listViewTargetChild=r.first),e.iGM(r=e.CRH())&&(i.sourceFilterViewChild=r.first),e.iGM(r=e.CRH())&&(i.targetFilterViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{source:"source",target:"target",sourceHeader:"sourceHeader",rightButtonAriaLabel:"rightButtonAriaLabel",leftButtonAriaLabel:"leftButtonAriaLabel",allRightButtonAriaLabel:"allRightButtonAriaLabel",allLeftButtonAriaLabel:"allLeftButtonAriaLabel",upButtonAriaLabel:"upButtonAriaLabel",downButtonAriaLabel:"downButtonAriaLabel",topButtonAriaLabel:"topButtonAriaLabel",bottomButtonAriaLabel:"bottomButtonAriaLabel",targetHeader:"targetHeader",responsive:"responsive",filterBy:"filterBy",filterLocale:"filterLocale",trackBy:"trackBy",sourceTrackBy:"sourceTrackBy",targetTrackBy:"targetTrackBy",showSourceFilter:"showSourceFilter",showTargetFilter:"showTargetFilter",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",style:"style",styleClass:"styleClass",sourceStyle:"sourceStyle",targetStyle:"targetStyle",showSourceControls:"showSourceControls",showTargetControls:"showTargetControls",sourceFilterPlaceholder:"sourceFilterPlaceholder",targetFilterPlaceholder:"targetFilterPlaceholder",disabled:"disabled",ariaSourceFilterLabel:"ariaSourceFilterLabel",ariaTargetFilterLabel:"ariaTargetFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",keepSelection:"keepSelection"},outputs:{onMoveToSource:"onMoveToSource",onMoveAllToSource:"onMoveAllToSource",onMoveAllToTarget:"onMoveAllToTarget",onMoveToTarget:"onMoveToTarget",onSourceReorder:"onSourceReorder",onTargetReorder:"onTargetReorder",onSourceSelect:"onSourceSelect",onTargetSelect:"onTargetSelect",onSourceFilter:"onSourceFilter",onTargetFilter:"onTargetFilter"},decls:22,vars:30,consts:[["cdkDropListGroup","",3,"ngStyle","ngClass"],["class","p-picklist-buttons p-picklist-source-controls",4,"ngIf"],[1,"p-picklist-list-wrapper","p-picklist-source-wrapper"],["class","p-picklist-header",4,"ngIf"],["class","p-picklist-filter-container",4,"ngIf"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-source",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["sourcelist",""],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"p-picklist-buttons","p-picklist-transfer-buttons"],["type","button","pButton","","pRipple","","icon","pi pi-angle-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-left",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-left",3,"disabled","click"],[1,"p-picklist-list-wrapper","p-picklist-target-wrapper"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-target",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["targetlist",""],["class","p-picklist-buttons p-picklist-target-controls",4,"ngIf"],[1,"p-picklist-buttons","p-picklist-source-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-picklist-header"],["class","p-picklist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-picklist-title"],[1,"p-picklist-filter-container"],[4,"ngIf","ngIfElse"],["builtInSourceElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-picklist-filter"],["type","text","role","textbox",1,"p-picklist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["sourceFilter",""],[1,"p-picklist-filter-icon","pi","pi-search"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown",4,"ngIf"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown"],["class","p-picklist-empty-message",4,"ngIf"],[1,"p-picklist-empty-message"],["builtInTargetElement",""],["targetFilter",""],[1,"p-picklist-buttons","p-picklist-target-controls"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Cb,5,8,"div",1),e.TgZ(2,"div",2),e.YNc(3,im,3,2,"div",3),e.YNc(4,sm,4,2,"div",4),e.TgZ(5,"ul",5,6),e.NdJ("cdkDropListDropped",function(c){return i.onDrop(c,i.SOURCE_LIST)}),e.YNc(7,lm,1,1,"ng-template",7),e.YNc(8,dm,3,2,"ng-container",8),e.qZA()(),e.TgZ(9,"div",9)(10,"button",10),e.NdJ("click",function(){return i.moveRight()}),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){return i.moveAllRight()}),e.qZA(),e.TgZ(12,"button",12),e.NdJ("click",function(){return i.moveLeft()}),e.qZA(),e.TgZ(13,"button",13),e.NdJ("click",function(){return i.moveAllLeft()}),e.qZA()(),e.TgZ(14,"div",14),e.YNc(15,Eb,3,2,"div",3),e.YNc(16,gm,4,2,"div",4),e.TgZ(17,"ul",15,16),e.NdJ("cdkDropListDropped",function(c){return i.onDrop(c,i.TARGET_LIST)}),e.YNc(19,Bp,1,1,"ng-template",7),e.YNc(20,dT,3,2,"ng-container",8),e.qZA()(),e.YNc(21,Db,5,8,"div",17),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.VKq(28,fm,i.stripedRows)),e.xp6(1),e.Q6J("ngIf",i.showSourceControls),e.xp6(2),e.Q6J("ngIf",i.sourceHeader||i.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy&&!1!==i.showSourceFilter),e.xp6(1),e.Q6J("cdkDropListData",i.source)("ngStyle",i.sourceStyle),e.xp6(2),e.Q6J("ngForOf",i.source)("ngForTrackBy",i.sourceTrackBy||i.trackBy),e.xp6(1),e.Q6J("ngIf",i.isEmpty(i.SOURCE_LIST)&&(i.emptyMessageSourceTemplate||i.emptyFilterMessageSourceTemplate)),e.xp6(2),e.Q6J("disabled",i.moveRightDisabled()),e.uIk("aria-label",i.rightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",i.moveAllRightDisabled()),e.uIk("aria-label",i.allRightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",i.moveLeftDisabled()),e.uIk("aria-label",i.leftButtonAriaLabel),e.xp6(1),e.Q6J("disabled",i.moveAllLeftDisabled()),e.uIk("aria-label",i.allLeftButtonAriaLabel),e.xp6(2),e.Q6J("ngIf",i.targetHeader||i.targetHeaderTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy&&!1!==i.showTargetFilter),e.xp6(1),e.Q6J("cdkDropListData",i.target)("ngStyle",i.targetStyle),e.xp6(2),e.Q6J("ngForOf",i.target)("ngForTrackBy",i.targetTrackBy||i.trackBy),e.xp6(1),e.Q6J("ngIf",i.isEmpty(i.TARGET_LIST)&&(i.emptyMessageTargetTemplate||i.emptyFilterMessageTargetTemplate)),e.xp6(1),e.Q6J("ngIf",i.showTargetControls))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC,Ii.Hq,D.H,dl,pb,Np],styles:[".p-picklist{display:flex}.p-picklist-buttons{display:flex;flex-direction:column;justify-content:center}.p-picklist-list-wrapper{flex:1 1 50%}.p-picklist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-picklist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-picklist-item:not(.cdk-drag-disabled){cursor:move}.p-picklist-item.cdk-drag-placeholder{opacity:0}.p-picklist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-picklist-filter{position:relative}.p-picklist-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-picklist-filter-input{width:100%}.p-picklist-list.cdk-drop-list-dragging .p-picklist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),n})(),Pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Ii.hJ,j.m8,D.T,Fp,j.m8,Fp]}),n})();const $l=["pOrganizationChartNode",""];function Rb(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.node.label)}}function mm(n,o){1&n&&e.GkF(0)}const id=function(n){return{$implicit:n}};function Lb(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,mm,1,0,"ng-container",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.chart.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,id,t.node))}}const _m=function(n,o){return{"pi-chevron-down":n,"pi-chevron-up":o}};function Nb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleNode(r,c.node))})("keydown.enter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleNode(r,c.node))}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(1,_m,t.node.expanded,!t.node.expanded))}}function Fb(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"div",4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",t.colspan)}}const Cm=function(n){return{"p-organizationchart-line-top":n}};function Bb(n,o){if(1&n&&(e.TgZ(0,"td",11),e._uU(1,"\xa0"),e.qZA(),e.TgZ(2,"td",12),e._uU(3,"\xa0"),e.qZA()),2&n){const i=o.last;e.Q6J("ngClass",e.VKq(2,Cm,!o.first)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,Cm,!i))}}function Hb(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Bb,4,6,"ng-template",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function vm(n,o){if(1&n&&(e.TgZ(0,"td",13),e._UZ(1,"table",14),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("node",t)}}const Vb=function(n,o){return{"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":n,"p-highlight":o}};function bm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",1),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onNodeClick(r,c.node))}),e.YNc(4,Rb,2,1,"div",0),e.YNc(5,Lb,2,4,"div",0),e.YNc(6,Nb,2,4,"a",2),e.qZA()()(),e.TgZ(7,"tr",3)(8,"td"),e._UZ(9,"div",4),e.qZA()(),e.TgZ(10,"tr",3),e.YNc(11,Fb,3,1,"ng-container",0),e.YNc(12,Hb,2,1,"ng-container",0),e.qZA(),e.TgZ(13,"tr",5),e.YNc(14,vm,2,1,"td",6),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.colspan),e.xp6(1),e.Tol(t.node.styleClass),e.Q6J("ngClass",e.WLB(17,Vb,t.chart.selectionMode&&!1!==t.node.selectable,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.leaf),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.uIk("colspan",t.colspan),e.xp6(2),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngIf",t.node.children&&1===t.node.children.length),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.children.length>1),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function ym(n,o){if(1&n&&e._UZ(0,"table",2),2&n){const t=e.oxw();e.Q6J("node",t.root)}}const Vp=function(n){return{"p-organizationchart p-component":!0,"p-organizationchart-preservespace":n}};let pT=(()=>{class n{constructor(t,i){this.cd=i,this.chart=t,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(t,i){this.chart.onNodeClick(t,i)}toggleNode(t,i){i.expanded=!i.expanded,i.expanded?this.chart.onNodeExpand.emit({originalEvent:t,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:t,node:this.node}),t.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>od)),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:"root",first:"first",last:"last"},attrs:$l,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter",4,"ngIf"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter"],[1,"p-node-toggler-icon","pi",3,"ngClass"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&e.YNc(0,bm,15,20,"tbody",0),2&t&&e.Q6J("ngIf",i.node)},dependencies:[I.mk,I.sg,I.O5,I.tP,n],styles:[".p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}\n"],encapsulation:2,data:{animation:[(0,kn.X$)("childState",[(0,kn.SB)("in",(0,kn.oB)({opacity:1})),(0,kn.eR)("void => *",[(0,kn.oB)({opacity:0}),(0,kn.jt)(150)]),(0,kn.eR)("* => void",[(0,kn.jt)(150,(0,kn.oB)({opacity:0}))])])]},changeDetection:0}),n})(),od=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.preserveSpace=!0,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.selectionSource=new Pi.x,this.selectionSource$=this.selectionSource.asObservable()}get selection(){return this._selection}set selection(t){this._selection=t,this.initialized&&this.selectionSource.next(null)}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{this.templateMap[t.getType()]=t.template}),this.initialized=!0}getTemplateForNode(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null}onNodeClick(t,i){let r=t.target;if((!r.className||-1===r.className.indexOf("p-node-toggler")&&-1===r.className.indexOf("p-node-toggler-icon"))&&this.selectionMode){if(!1===i.selectable)return;let c=this.findIndexInSelection(i),p=c>=0;"single"===this.selectionMode?p?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=i,this.onNodeSelect.emit({originalEvent:t,node:i})):"multiple"===this.selectionMode&&(p?(this.selection=this.selection.filter((C,E)=>E!=c),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=[...this.selection||[],i],this.onNodeSelect.emit({originalEvent:t,node:i}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(t){let i=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)i=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(let r=0;r<this.selection.length;r++)if(this.selection[r]==t){i=r;break}return i}isSelected(t){return-1!=this.findIndexInSelection(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-organizationChart"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,j.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",preserveSpace:"preserveSpace",selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ym,1,1,"table",1),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.VKq(5,Vp,i.preserveSpace)),e.xp6(1),e.Q6J("ngIf",i.root))},dependencies:[I.mk,I.O5,I.PC,pT],encapsulation:2,changeDetection:0}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,j.m8]}),n})();var Im=_(7307);const ql=function(n){return{"p-hidden":n}};function Am(n,o){if(1&n&&e._UZ(0,"li",4),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,ql,!1===t.visible))}}function Tm(n,o){if(1&n&&e._UZ(0,"span",16),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function sd(n,o){if(1&n&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function Jr(n,o){if(1&n&&e._UZ(0,"span",18),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function wm(n,o){if(1&n&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}const xm=function(n,o){return{"pi-angle-down":n,"pi-angle-right":o}};function Zp(n,o){if(1&n&&e._UZ(0,"span",20),2&n){const t=e.oxw(4);e.Q6J("ngClass",e.WLB(1,xm,t.root,!t.root))}}const ca=function(n){return{"p-menuitem-link":!0,"p-disabled":n}};function Up(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2).$implicit,p=e.oxw();return e.KtG(p.onItemClick(r,c))})("mouseenter",function(r){e.CHM(t);const c=e.oxw(2).$implicit,p=e.oxw();return e.KtG(p.onItemMouseEnter(r,c))}),e.YNc(1,Tm,1,2,"span",11),e.YNc(2,sd,2,1,"span",12),e.YNc(3,Jr,1,1,"ng-template",null,13,e.W1O),e.YNc(5,wm,2,2,"span",14),e.YNc(6,Zp,1,4,"span",15),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2).$implicit,r=e.oxw();e.Q6J("target",i.target)("ngClass",e.VKq(14,ca,i.disabled)),e.uIk("href",i.url,e.LSH)("data-automationid",i.automationId)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0")("aria-haspopup",null!=r.item.items)("aria-expanded",r.item===r.activeItem),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.badge),e.xp6(1),e.Q6J("ngIf",i.items)}}function Em(n,o){if(1&n&&e._UZ(0,"span",16),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function zp(n,o){if(1&n&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function hT(n,o){if(1&n&&e._UZ(0,"span",18),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function Sm(n,o){if(1&n&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}function gT(n,o){if(1&n&&e._UZ(0,"span",20),2&n){const t=e.oxw(4);e.Q6J("ngClass",e.WLB(1,xm,t.root,!t.root))}}const rd=function(){return{exact:!1}};function ad(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2).$implicit,p=e.oxw();return e.KtG(p.onItemClick(r,c))})("mouseenter",function(r){e.CHM(t);const c=e.oxw(2).$implicit,p=e.oxw();return e.KtG(p.onItemMouseEnter(r,c))}),e.YNc(1,Em,1,2,"span",11),e.YNc(2,zp,2,1,"span",12),e.YNc(3,hT,1,1,"ng-template",null,22,e.W1O),e.YNc(5,Sm,2,2,"span",14),e.YNc(6,gT,1,4,"span",15),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2).$implicit;e.Q6J("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||e.DdM(21,rd))("target",i.target)("ngClass",e.VKq(22,ca,i.disabled))("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),e.uIk("data-automationid",i.automationId)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.badge),e.xp6(1),e.Q6J("ngIf",i.items)}}function Gp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-menubarSub",23),e.NdJ("leafClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onLeafClick())}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.Q6J("parentActive",t===i.activeItem)("item",t)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)}}const Qp=function(n,o){return{"p-menuitem":!0,"p-menuitem-active":n,"p-hidden":o}};function Jp(n,o){if(1&n&&(e.TgZ(0,"li",5,6),e.YNc(2,Up,7,16,"a",7),e.YNc(3,ad,7,24,"a",8),e.YNc(4,Gp,1,4,"p-menubarSub",9),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.WLB(8,Qp,t===i.activeItem,!1===t.visible))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),e.xp6(2),e.Q6J("ngIf",!t.routerLink),e.xp6(1),e.Q6J("ngIf",t.routerLink),e.xp6(1),e.Q6J("ngIf",t.items)}}function fT(n,o){if(1&n&&(e.YNc(0,Am,1,3,"li",2),e.YNc(1,Jp,5,11,"li",3)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}const Ub=function(n,o){return{"p-submenu-list":n,"p-menubar-root-list":o}},zb=["menubutton"],Gb=["rootmenu"];function Qb(n,o){1&n&&e.GkF(0)}function km(n,o){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,Qb,1,0,"ng-container",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.startTemplate)}}function mT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",9,10),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.toggle(r))}),e._UZ(2,"i",11),e.qZA()}}function Jb(n,o){1&n&&e.GkF(0)}function _T(n,o){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,Jb,1,0,"ng-container",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.endTemplate)}}function Mm(n,o){1&n&&(e.TgZ(0,"div",12),e.Hsn(1),e.qZA())}const Dm=function(n){return{"p-menubar p-component":!0,"p-menubar-mobile-active":n}},jb=["*"];let jp=(()=>{class n{constructor(t,i,r){this.el=t,this.renderer=i,this.cd=r,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new e.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(t){this.root||(this._parentActive=t,t||(this.activeItem=null))}onItemClick(t,i){i.disabled?t.preventDefault():(!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),i.items&&(this.activeItem&&i===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=i,this.root&&this.bindDocumentClickListener())),i.items||this.onLeafClick())}onItemMouseEnter(t,i){i.disabled||this.mobileActive?t.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=i,this.bindDocumentClickListener()):(this.activeItem=i,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=t=>{this.el&&!this.el.nativeElement.contains(t.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(t,i){1&t&&(e.TgZ(0,"ul",0),e.YNc(1,fT,2,2,"ng-template",1),e.qZA()),2&t&&(e.Q6J("ngClass",e.WLB(3,Ub,!i.root,i.root)),e.uIk("role",i.root?"menubar":"menu"),e.xp6(1),e.Q6J("ngForOf",i.root?i.item:i.item.items))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,D.H,Je.u,n],encapsulation:2}),n})(),CT=(()=>{class n{constructor(t,i,r,c){this.el=t,this.renderer=i,this.cd=r,this.config=c,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template}})}toggle(t){this.mobileActive?(this.hide(),an.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,an.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),t.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.mobileActive&&this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target)&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),an.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(j.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-menubar"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,j.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(zb,5),e.Gf(Gb,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.menubutton=r.first),e.iGM(r=e.CRH())&&(i.rootmenu=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:jb,decls:8,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","class","p-menubar-button",3,"click",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-menubar-end"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,km,2,1,"div",1),e.YNc(2,mT,3,0,"a",2),e.TgZ(3,"p-menubarSub",3,4),e.NdJ("leafClick",function(){return i.onLeafClick()}),e.qZA(),e.YNc(5,_T,2,1,"div",5),e.YNc(6,Mm,2,0,"ng-template",null,6,e.W1O),e.qZA()),2&t){const r=e.MAs(7);e.Tol(i.styleClass),e.Q6J("ngClass",e.VKq(13,Dm,i.mobileActive))("ngStyle",i.style),e.xp6(1),e.Q6J("ngIf",i.startTemplate),e.xp6(1),e.Q6J("ngIf",i.model&&i.model.length>0),e.xp6(1),e.Q6J("item",i.model)("baseZIndex",i.baseZIndex)("autoZIndex",i.autoZIndex)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay),e.xp6(2),e.Q6J("ngIf",i.endTemplate)("ngIfElse",r)}},dependencies:[I.mk,I.O5,I.tP,I.PC,jp],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),n})(),vT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,s.Bz,D.T,Je.z,j.m8,s.Bz,Je.z,j.m8]}),n})();var bT=_(7728);const yT=["filesInput"],IT=["taskActualDateSetPanel"],AT=["commentEditor"],TT=["taskLinkingDialog"],wT=["workLogsDialogEl"];function xT(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-progressSpinner",59),e.BQk())}function ET(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",60)(2,"div",61),e._UZ(3,"span",62),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.customNav.backOrDefault(["/tasks","list"]))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" \u0417\u0430\u0434\u0430\u0447\u0438 #",t.taskId," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 ")}}function Ga(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",94),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.moveToNextStage())}),e._uU(1," \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f "),e._UZ(2,"i",95),e.qZA()}}function Wp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",88)(1,"p-button",89),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.customNav.backOrDefault(["/tasks","list"]))}),e.qZA(),e.TgZ(2,"div",8)(3,"span",90),e._uU(4),e.qZA(),e.TgZ(5,"div",91)(6,"span"),e._uU(7,"\u0421\u0442\u0430\u0434\u0438\u044f:"),e.qZA(),e.TgZ(8,"app-tiny-button",92),e.NdJ("onClick",function(r){e.CHM(t),e.oxw(2);const c=e.MAs(75);return e.KtG(c.toggle(r))}),e.qZA(),e.YNc(9,Ga,3,0,"span",93),e.qZA()()()}if(2&n){const t=e.oxw(2);let i,r;e.xp6(4),e.Oqu(null!==(i=null==t.currentTask||null==t.currentTask.modelWireframe?null:t.currentTask.modelWireframe.name)&&void 0!==i?i:""),e.xp6(4),e.Q6J("disabled",!(null!=t.currentTask&&t.currentTask.currentStage))("label",null!==(r=null==t.currentTask||null==t.currentTask.currentStage?null:t.currentTask.currentStage.label)&&void 0!==r?r:"\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430")("size",.9),e.xp6(1),e.Q6J("ngIf",!t.isLastStage()&&(null==t.currentTask?null:t.currentTask.currentStage))}}function Wb(n,o){1&n&&e.GkF(0)}function Om(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Wb,1,0,"ng-container",97),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(3),i=e.MAs(80),r=e.MAs(82);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,t.isBeforeActualFrom$))("ngIfThen",i)("ngIfElse",r)}}function Kp(n,o){if(1&n&&(e.YNc(0,Om,3,5,"ng-container",96),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",(null==t.currentTask?null:t.currentTask.actualTo)||(null==t.currentTask?null:t.currentTask.actualFrom)&&e.lcZ(1,1,t.isBeforeActualFrom$))}}function Pm(n,o){if(1&n&&(e.TgZ(0,"div",98)(1,"div",99),e._uU(2),e.qZA(),e.TgZ(3,"div",100),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.textRepresentation," ")}}function Yp(n,o){if(1&n&&(e.TgZ(0,"div",74),e._UZ(1,"i",77),e.TgZ(2,"span",76),e._uU(3," \u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 "),e.qZA(),e.TgZ(4,"span",78),e._UZ(5,"app-employee-label",79),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("employee",null==t.currentTask?null:t.currentTask.responsible)}}function Kb(n,o){1&n&&e._UZ(0,"app-employee-label",79),2&n&&e.Q6J("employee",o.$implicit)}function Qa(n,o){if(1&n&&(e.TgZ(0,"div",101)(1,"div",102),e._UZ(2,"i",103),e.TgZ(3,"span",100),e._uU(4," \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 "),e.qZA()(),e.TgZ(5,"div",104),e.YNc(6,Kb,1,1,"app-employee-label",105),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.activeWorkLog.employees)}}function Rm(n,o){if(1&n&&(e.TgZ(0,"div",107),e._UZ(1,"app-department-label",108),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("department",t)}}function Yb(n,o){if(1&n&&(e.TgZ(0,"span",107),e._UZ(1,"app-employee-label",79),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("employee",t)}}function $b(n,o){if(1&n&&(e.TgZ(0,"div",101)(1,"div",102),e._UZ(2,"i",103),e.TgZ(3,"span",100),e._uU(4," \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 "),e.qZA()(),e.TgZ(5,"div",104),e.YNc(6,Rm,2,1,"div",106),e.YNc(7,Yb,2,1,"span",106),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.departmentsObservers),e.xp6(1),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.employeesObservers)}}function Lm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-tiny-button",116),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.unlinkParentTask())}),e.qZA()}}function qb(n,o){if(1&n&&(e.TgZ(0,"div",113)(1,"span",9),e._uU(2,"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f:"),e.qZA(),e._UZ(3,"app-task-link",114),e.YNc(4,Lm,1,0,"app-tiny-button",115),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(3),e.Q6J("taskId",null!==(i=null==t.currentTask?null:t.currentTask.parent)&&void 0!==i?i:0),e.xp6(1),e.Q6J("ngIf",!(null==t.currentTask||!t.currentTask.parent))}}function Xb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",120),e._UZ(1,"app-task-link",121),e.TgZ(2,"app-tiny-button",116),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.unlinkParentTask(c.taskId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("task",t)}}function ld(n,o){if(1&n&&(e.TgZ(0,"div",117)(1,"span"),e._uU(2,"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435:"),e.qZA(),e.TgZ(3,"div",118),e.YNc(4,Xb,3,1,"span",119),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.children)}}function Xl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",101)(1,"div",102),e._UZ(2,"i",109),e.TgZ(3,"span",100),e._uU(4," \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA(),e.TgZ(5,"app-tiny-button",110),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openTaskChainDialog())}),e.qZA()(),e.TgZ(6,"div",104),e.YNc(7,qb,5,2,"div",111),e.YNc(8,ld,5,1,"div",112),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.isTaskHasParent()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasChilds())}}function $p(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",125),e._UZ(1,"i",126),e.TgZ(2,"div",8),e._UZ(3,"app-employee-label",127),e.TgZ(4,"div",128),e._uU(5),e.qZA()(),e._UZ(6,"div",37),e.TgZ(7,"p-button",129),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.replyComment=void 0)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(3),e.Q6J("employee",t.replyComment.creator)("size",2),e.xp6(2),e.hij(" ",t.replyComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function ec(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",125),e._UZ(1,"i",130),e.TgZ(2,"div",118)(3,"span"),e._uU(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"div",100),e._uU(6),e.qZA()(),e._UZ(7,"div",37),e.TgZ(8,"p-button",129),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(3);return r.editComment=void 0,e.KtG(r.commentInputForm.reset({text:"",files:[]}))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(6),e.hij(" ",t.editComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function qp(n,o){1&n&&e._UZ(0,"app-file-input",136),2&n&&e.Q6J("short",!0)}function cd(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",131)(2,"p-button",132),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.commentEditorMode="extended")}),e.qZA(),e.TgZ(3,"textarea",133),e.NdJ("keydown",function(r){e.CHM(t);const c=e.oxw(4);return e.KtG(c.sendCommentByEnter(r))}),e.qZA(),e.YNc(4,qp,1,1,"app-file-input",134),e.TgZ(5,"p-button",135),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.sendComment())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding",".5rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("disabled",t.isTaskClose()),e.xp6(1),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled)}}function Nm(n,o){1&n&&e._UZ(0,"app-file-input",143)}const Fm=function(){return{maxHeight:"30vh",minHeight:"10rem",overflow:"auto"}};function Xp(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",137)(2,"span",107)(3,"p-button",138),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return r.commentEditorMode="simple",e.KtG(r.clearCommentText())}),e.qZA(),e._UZ(4,"div",37),e.YNc(5,Nm,1,0,"app-file-input",139),e.TgZ(6,"p-button",140),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.sendComment())}),e.qZA()(),e.TgZ(7,"quill-editor",141,142),e.NdJ("keydown",function(r){e.CHM(t);const c=e.oxw(4);return e.KtG(c.sendCommentByEnter(r))})("onContentChanged",function(r){e.CHM(t),e.oxw(4);const c=e.MAs(78);return e.KtG(c.setQuillEvent(r))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding","1rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(2),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("modules",t.quillModules)("disabled",t.isTaskClose())("styles",e.DdM(9,Fm))}}function eh(n,o){if(1&n&&(e.ynx(0,1),e.YNc(1,cd,6,7,"ng-container",2),e.YNc(2,Xp,9,10,"ng-container",2),e.BQk()),2&n){const t=e.oxw(3);e.Q6J("ngSwitch",t.commentEditorMode),e.xp6(1),e.Q6J("ngSwitchCase","simple"),e.xp6(1),e.Q6J("ngSwitchCase","extended")}}function Bm(n,o){if(1&n&&(e.TgZ(0,"div",122),e.YNc(1,$p,8,6,"div",123),e.YNc(2,ec,9,4,"div",123),e.YNc(3,eh,3,3,"ng-container",124),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("formGroup",t.commentInputForm),e.xp6(1),e.Q6J("ngIf",t.replyComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose())}}const th=function(){return{border:"none"}},ey=function(){return{grid:"1fr/1fr max-content"}},ST=function(){return[]};function ty(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",64)(2,"p-menubar",65),e.YNc(3,Wp,10,5,"ng-template",66),e.YNc(4,Kp,2,3,"ng-template",67),e.qZA(),e.TgZ(5,"div",68)(6,"div",69)(7,"div",70)(8,"label"),e._uU(9,"\u0422\u0435\u0433\u0438"),e.qZA(),e._UZ(10,"app-task-tag-selector",71),e.qZA(),e.YNc(11,Pm,5,2,"div",72),e.qZA(),e.TgZ(12,"div",73)(13,"div",74),e._UZ(14,"i",75),e.TgZ(15,"span",76),e._uU(16," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"taskStatus"),e.qZA()(),e.TgZ(20,"div",74),e._UZ(21,"i",77),e.TgZ(22,"span",76),e._uU(23," \u0410\u0432\u0442\u043e\u0440 "),e.qZA(),e.TgZ(24,"span",78),e._UZ(25,"app-employee-label",79),e.qZA()(),e.TgZ(26,"div",74),e._UZ(27,"i",80),e.TgZ(28,"span",76),e._uU(29," \u0421\u043e\u0437\u0434\u0430\u043d\u0430 "),e.qZA(),e.TgZ(30,"span",78),e._uU(31),e.ALo(32,"titlecase"),e.ALo(33,"date"),e.qZA()(),e.YNc(34,Yp,6,1,"div",81),e.YNc(35,Qa,7,1,"div",82),e.YNc(36,$b,8,2,"div",82),e.YNc(37,Xl,9,2,"div",82),e.qZA()(),e.TgZ(38,"div",83)(39,"span",84)(40,"span"),e._uU(41," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 "),e.qZA(),e.TgZ(42,"p-toggleButton",85),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.taskEventsVisible=r)}),e.qZA()(),e.TgZ(43,"app-task-journal",86),e.NdJ("editCommentChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.editCommentChanged(r))})("onFirstLoad",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.journalVisible=r)})("editCommentChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.editComment=r)})("replyCommentChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.replyComment=r)}),e.qZA()()(),e.YNc(44,Bm,4,4,"div",87),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(2),e.Akn(e.DdM(30,th)),e.Q6J("model",t.managementMenu),e.xp6(3),e.Akn(e.DdM(31,ey)),e.xp6(5),e.Q6J("formControl",t.installedTags),e.xp6(1),e.Q6J("ngForOf",null!==(i=null==t.currentTask?null:t.currentTask.fields)&&void 0!==i?i:e.DdM(32,ST)),e.xp6(6),e.Tol("task-control-panel-item-value status "+(null==t.currentTask?null:t.currentTask.taskStatus)),e.xp6(1),e.hij(" ",e.lcZ(19,23,t.currentTask)," "),e.xp6(7),e.Q6J("employee",null==t.currentTask?null:t.currentTask.creator),e.xp6(6),e.hij(" ",e.lcZ(32,25,e.xi3(33,27,null==t.currentTask?null:t.currentTask.created,"dd MMM yyyy HH:mm"))," "),e.xp6(3),e.Q6J("ngIf",null==t.currentTask?null:t.currentTask.responsible),e.xp6(1),e.Q6J("ngIf",t.activeWorkLog),e.xp6(1),e.Q6J("ngIf",t.isTaskHasObservers()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasParent()||t.isTaskHasChilds()),e.xp6(1),e.Q6J("hidden",!t.journalVisible),e.xp6(4),e.Q6J("ngModel",t.taskEventsVisible),e.xp6(1),e.Q6J("editComment",t.editComment)("replyComment",t.replyComment)("taskId",t.taskId)("showEvents",t.taskEventsVisible),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose())}}function Hm(n,o){if(1&n&&(e.TgZ(0,"div",107),e._UZ(1,"app-employee-label",127),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("employee",t)("size",1.9)}}function ny(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",144)(1,"p-checkbox",145),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedDepartmentObservers=r)}),e.qZA(),e.TgZ(2,"span",146),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedDepartmentObservers)("value",t.departmentId),e.xp6(2),e.Oqu(t.name)}}function Vm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",144)(1,"p-checkbox",147),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedEmployeeObservers=r)}),e.qZA(),e._UZ(2,"app-employee-label",127),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedEmployeeObservers)("value",t.login),e.xp6(1),e.Q6J("employee",t)("size",2.3)}}function Zm(n,o){1&n&&(e.TgZ(0,"span",151),e._uU(1,"(\u0412\u044b\u0431\u0440\u0430\u043d)"),e.qZA())}const iy=function(n){return{selected:n}};function dr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",148),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.selectedEmployeeAsResponsible=c)}),e._UZ(1,"app-avatar",149),e.TgZ(2,"div",8)(3,"span",100),e._uU(4),e.qZA(),e.TgZ(5,"span",99),e._uU(6),e.qZA()(),e.YNc(7,Zm,2,0,"span",150),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(7,iy,(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)),e.xp6(1),e.Q6J("name",t.fullName)("size",2.3)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Oqu(null==t.department?null:t.department.name),e.xp6(1),e.Q6J("ngIf",(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)}}const Um=function(){return{maxWidth:"45rem",minWidth:"35rem"}};function oy(n,o){if(1&n&&e._UZ(0,"app-task-list-element",152),2&n){const t=o.$implicit;e.Akn(e.DdM(3,Um)),e.Q6J("item",t.data)}}function kT(n,o){if(1&n&&e._UZ(0,"app-task-template-input",153),2&n){const t=o.$implicit;e.Q6J("field",t)("formControlName",t.modelItemId)}}function sy(n,o){if(1&n&&(e.TgZ(0,"div",154)(1,"span",113),e._uU(2," \u0412\u0440\u0435\u043c\u044f: "),e.TgZ(3,"span",155),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"span",156),e._uU(7," \u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440: "),e._UZ(8,"app-employee-label",79),e.qZA(),e.TgZ(9,"span",155),e._uU(10),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.xi3(5,4,t.editTaskSnapshots[t.indexEditSnapshot].whenEdited,"dd MMMM yyyy HH:mm")," "),e.xp6(4),e.Q6J("employee",t.editTaskSnapshots[t.indexEditSnapshot].whoEdited),e.xp6(2),e.AsE(" \u0421\u043d\u0438\u043c\u043e\u043a ",t.indexEditSnapshot+1," \u0438\u0437 ",t.editTaskSnapshots.length," ")}}function nh(n,o){1&n&&(e.TgZ(0,"span",159),e._uU(1,"keyboard_double_arrow_right"),e.qZA())}function zm(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"span",157),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.YNc(7,nh,2,0,"span",158),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(3),e.hij(" ",t.before.name," "),e.xp6(2),e.hij(" ",t.before.textRepresentation," "),e.xp6(2),e.Q6J("ngIf",!i.areFieldsEqual(t.before,t.after)),e.xp6(2),e.hij(" ",t.after.textRepresentation," ")}}function ry(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"p-calendar",160),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedTaskDateTime=r)}),e.qZA(),e.TgZ(2,"app-button",161),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.setDateTimeOfTaskRelevance())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectedTaskDateTime)("inline",!0)("selectOtherMonths",!0)("showTime",!0),e.xp6(1),e.Q6J("loading",t.changingTaskDateTime)}}function ay(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",162)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e.TgZ(4,"textarea",10),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.forceCloseWorkLogReason=r)}),e.qZA()(),e.TgZ(5,"div",163)(6,"p-button",164),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.forceCloseWorkLogDialogVisible=!1,e.KtG(r.forceCloseWorkLogReason="")}),e.qZA(),e.TgZ(7,"p-button",165),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.forceCloseWorkLog())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.forceCloseWorkLogReason)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isForceClosingWorkLog),e.xp6(1),e.Q6J("disabled",!t.forceCloseWorkLogReason)("loading",t.isForceClosingWorkLog)}}function ly(n,o){if(1&n&&(e.TgZ(0,"div",166),e.ALo(1,"date"),e._UZ(2,"i",167),e.TgZ(3,"span"),e._uU(4," \u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#f7ce2a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualFrom,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualFromTime$)," ")}}function Gm(n,o){if(1&n&&(e.TgZ(0,"div",166),e.ALo(1,"date"),e._UZ(2,"i",167),e.TgZ(3,"span"),e._uU(4," \u0421\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#ff512a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualTo,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualToTime$)," ")}}const Qm=function(){return{width:"50vw"}},Qc=function(){return{"960px":"75vw","640px":"100vw"}},Jm=function(){return{height:"40vh",maxHeight:"15rem"}},cy=function(){return{minHeight:"8rem"}},jm=function(){return{width:"35rem",height:"50vh"}},Wm=function(){return{"960px":"50vw","640px":"100vw"}},uy=function(){return{width:"60vw"}},ua=function(){return{overflow:"auto",minHeight:"100%"}},ih=function(){return{width:"50vw",maxHeight:"70vh"}},dy=function(){return{width:"75vw",maxHeight:"70vh"}},py=function(){return{"960px":"85vw","640px":"100vw"}},MT=function(){return{maxHeight:"70vh"}},Km=function(){return{width:"50vw",minWidth:"fit-content"}};let hy=(()=>{class n{constructor(t,i,r,c,p,C,E){this.api=t,this.route=i,this.chatService=r,this.confirmation=c,this.toast=p,this.customNav=C,this.rt=E,this.loadingState=We.Gu.LOADING,this.commentSending=!1,this.quillModules=B.tg,this.attachedFiles=[],this.countAllAttachments=0,this.showFilesHistory=!1,this.stageMenuItems=[],this.sourceInstallers=[],this.targetInstallers=[],this.appointmentRequested=!1,this.showAppointInstallersMenu=!1,this.showChangeObserversDialog=!1,this.showTaskLinkingDialog=!1,this.taskLinkingType="parent",this.isLinkingBegin=!1,this.listOfChildTaskLinking=[],this.departmentList=[],this.employeeList=[],this.selectedDepartmentObservers=[],this.selectedEmployeeObservers=[],this.changingTaskObservers=!1,this.employees$=this.api.getEmployeesOptionsList(),this.linkingTaskSkeletonArray=Array.from({length:50}),this.subscriptions=new B.xf,this.taskChain=[],this.showTaskChainDialog=!1,this.listOfExistingTasksToLink=[],this.totalExistingTasksToLink=0,this.loadingExistingTasksToLink=!1,this.globalTaskSearchString="",this.taskCreationDateFilterForLinking=[],this.taskAuthorEmployeeFilter="",this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1,this.setDateTimeToTaskType="from",this.selectedTaskDateTime=new Date,this.changingTaskDateTime=!1,this.showChatHistory=!1,this.isShowEditTaskDialog=!1,this.editTaskForm=new $.cw({}),this.editBlocked=!1,this.isShowEditHistoryDialog=!1,this.editTaskSnapshots=[],this.indexEditSnapshot=0,this.managementMenu=[],this.isShowSchedulingDialog=!1,this.targetDescription="",this.forceCloseWorkLogDialogVisible=!1,this.forceCloseWorkLogReason="",this.isForceClosingWorkLog=!1,this.commentInputForm=new $.cw({text:new $.NI(""),files:new $.NI([])}),this.commentEditorMode="simple",this.taskEventsVisible=!0,this.journalVisible=!1,this.installedTags=new $.NI([]),this.actualFromDurationCounter=new B.pd,this.actualFromTime$=this.actualFromDurationCounter.observer.pipe((0,L.U)(ie=>ie.actualLabel)),this.isBeforeActualFrom$=this.actualFromDurationCounter.observer.pipe((0,L.U)(ie=>"before"==ie.mode)),this.actualToDurationCounter=new B.pd,this.actualToTime$=this.actualToDurationCounter.observer.pipe((0,L.U)(ie=>"after"===ie.mode?"-"+ie.actualLabel:ie.actualLabel)),this._taskId=0}get taskId(){return this._taskId}set taskId(t){this._taskId=t,this.api.getTask(this._taskId).subscribe({next:i=>{var r;this.currentTask=i,this.loadingState=i.deleted?We.Gu.ERROR:We.Gu.READY,this.installedTags.setValue(null!==(r=i.tags)&&void 0!==r?r:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.subscriptions.addSubscription("edTaskTg",this.installedTags.valueChanges.subscribe(c=>{!c||this.api.setTaskTags(i.taskId,c).subscribe()})),this.api.getActiveWorkLogByTaskId(i.taskId).subscribe(c=>{this.activeWorkLog=c}),this.orderFields(),this.stageMenuItems=this.getStageMenuItems(),this.subscriptions.addSubscription("taskUpd",this.rt.taskUpdated(t).subscribe(c=>{var p;this.currentTask=c,this.installedTags.setValue(null!==(p=c.tags)&&void 0!==p?p:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.stageMenuItems=this.getStageMenuItems(),this.orderFields(),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()})),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()},error:()=>{this.loadingState=We.Gu.ERROR}})}get taskFields(){var t,i;return this.isShowEditTaskDialog&&null!==(i=null===(t=this.currentTask)||void 0===t?void 0:t.fields)&&void 0!==i?i:[]}get excludedTasks(){if(!this.currentTask)return[];const t=[];return this.currentTask.children&&this.currentTask.children.forEach(i=>t.push(i.taskId)),this.currentTask.parent&&t.push(this.currentTask.parent),t.push(this._taskId),t}trackSnapshotPair(t,i){return i.before.modelItemId}snapshotFieldPairs(t){if(!t)return[];const i=[];return t.beforeEditing.forEach(r=>{const c=t.afterEditing.find(p=>p.id===r.id);c&&i.push({before:r,after:c})}),i}areFieldsEqual(t,i){return JSON.stringify(t)===JSON.stringify(i)}ngOnInit(){this.route.params.subscribe(t=>{this.taskId=parseInt(t.id),this.api.getCountAllTaskAttachments(this._taskId).subscribe(i=>this.countAllAttachments=i),this.updateObservableList()}),this.subscriptions.addSubscription("wlCrd",this.rt.workLogCreated().subscribe(this.workLogCreated.bind(this))),this.subscriptions.addSubscription("wlCls",this.rt.workLogClosed().subscribe(this.workLogClosed.bind(this)))}updateObservableList(){this.api.getDepartments().subscribe(t=>{var i,r,c;this.departmentList=t,this.selectedDepartmentObservers=[];for(const p of t)p.departmentId&&null!==(c=null===(r=null===(i=this.currentTask)||void 0===i?void 0:i.departmentsObservers)||void 0===r?void 0:r.some(C=>C.departmentId===p.departmentId))&&void 0!==c&&c&&this.selectedDepartmentObservers.push(p.departmentId)}),this.api.getEmployees(void 0,!1,!1).subscribe(t=>{var i,r,c;this.employeeList=t,this.selectedEmployeeObservers=[];for(const p of t)p.login&&null!==(c=null===(r=null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers)||void 0===r?void 0:r.some(C=>C.login===p.login))&&void 0!==c&&c&&this.selectedEmployeeObservers.push(p.login)})}sendComment(){var t,i,r;const c=this.commentInputForm.getRawValue();if(0!==(null===(t=c.text)||void 0===t?void 0:t.trim().length)||0!==(null===(i=c.files)||void 0===i?void 0:i.length)){if(this.commentInputForm.disable({emitEvent:!1}),this.editComment){if(null===c.text||0===c.text.trim().length||c.text===this.editComment.message)return;return this.editComment.message=c.text,void this.api.updateComment(this.editComment).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.editComment=void 0},error:()=>this.commentInputForm.enable({emitEvent:!1})})}this.api.createComment(c.text,this._taskId,c.files,null===(r=this.replyComment)||void 0===r?void 0:r.commentId).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.replyComment=void 0},error:()=>this.commentInputForm.enable({emitEvent:!1})})}}sendCommentByEnter(t){"Enter"===t.key&&t.ctrlKey&&this.sendComment()}deleteTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>this.api.deleteTask(this._taskId).subscribe()})}getStageMenuItems(){var t,i;return null!==(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)&&void 0!==i&&i.stages?this.currentTask.modelWireframe.stages.sort((r,c)=>r.orderIndex-c.orderIndex).map(r=>{var c,p,C,E;return r.stageId==(null===(p=null===(c=this.currentTask)||void 0===c?void 0:c.currentStage)||void 0===p?void 0:p.stageId)?{label:null!==(C=`${r.label} (\u0442\u0435\u043a\u0443\u0449\u0430\u044f)`)&&void 0!==C?C:"",disabled:!0,icon:"pi pi-fw pi-check"}:{label:null!==(E=r.label)&&void 0!==E?E:"",command:()=>this.api.changeTaskStage(this.taskId,r.stageId).subscribe(),icon:"pi pi-fw pi-chevron-circle-right"}}):[]}moveToNextStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const r=this.currentTask.modelWireframe.stages.sort((p,C)=>p.orderIndex-C.orderIndex),c=r.findIndex(p=>{var C,E;return p.stageId===(null===(E=null===(C=this.currentTask)||void 0===C?void 0:C.currentStage)||void 0===E?void 0:E.stageId)});c<r.length-1&&this.api.changeTaskStage(this.taskId,r[c+1].stageId).subscribe()}isLastStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const r=this.currentTask.modelWireframe.stages.sort((p,C)=>p.orderIndex-C.orderIndex);return r.findIndex(p=>{var C,E;return p.stageId===(null===(E=null===(C=this.currentTask)||void 0===C?void 0:C.currentStage)||void 0===E?void 0:E.stageId)})===r.length-1}editCommentChanged(t){this.commentInputForm.patchValue({text:t.message})}ngOnDestroy(){this.subscriptions.unsubscribeAll()}appointInstallers(){this.api.getInstallersEmployees().subscribe(t=>{this.sourceInstallers=t,this.targetInstallers=[],this.showAppointInstallersMenu=!0})}sendListAppointedInstallers(){this.appointmentRequested=!0,this.api.assignInstallersToTask(this._taskId,{installers:this.targetInstallers,description:this.targetDescription}).subscribe({next:()=>{this.appointmentRequested=!1,this.showAppointInstallersMenu=!1},error:()=>this.appointmentRequested=!1})}clearAppointInstallers(){this.targetDescription="",this.targetInstallers=[]}resetListAppointedInstallers(){this.sourceInstallers=[...this.sourceInstallers,...this.targetInstallers],this.targetInstallers=[]}forceCloseWorkLog(){this.api.forceCloseWorkLog(this._taskId,this.forceCloseWorkLogReason).subscribe({next:()=>{this.forceCloseWorkLogDialogVisible=!1,this.forceCloseWorkLogReason="",this.isForceClosingWorkLog=!1},error:()=>this.isForceClosingWorkLog=!1})}sendObservableList(){this.changingTaskObservers=!0,this.api.changeTaskObservers(this._taskId,this.selectedDepartmentObservers,this.selectedEmployeeObservers).subscribe({next:()=>{this.showChangeObserversDialog=!1,this.changingTaskObservers=!1},error:()=>{this.changingTaskObservers=!1}})}createLinkedTask(t){window.open(`/task/create?${t}=${this._taskId}`,"_blank",`popup=yes,width=800,height=800,left=${screen.width/2-400},top=${screen.height/2-400}`)}unlinkParentTask(t){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.unlinkParentTask(t||this._taskId).subscribe()}})}openTaskChainDialog(){var t,i;this.taskChain=[],null!==(t=this.currentTask)&&void 0!==t&&t.taskId&&this.api.getRootTask(null===(i=this.currentTask)||void 0===i?void 0:i.taskId).subscribe(r=>{this.taskChain=[{data:r,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(r)}],this.showTaskChainDialog=!0})}changeTaskListPageToLink(t){var i,r,c,p;this.loadingExistingTasksToLink=!0;const C=[this._taskId,...null!==(c=null===(r=null===(i=this.currentTask)||void 0===i?void 0:i.children)||void 0===r?void 0:r.map(E=>E.taskId))&&void 0!==c?c:[]];!(null===(p=this.currentTask)||void 0===p)&&p.parent&&C.push(this.currentTask.parent),this.api.getPageOfTasks(t.page,{status:[We.hY.ACTIVE,We.hY.PROCESSING,We.hY.CLOSE],searchPhrase:this.globalTaskSearchString,author:this.taskAuthorEmployeeFilter,dateOfCreation:this.taskCreationDateFilterForLinking,exclusionIds:C}).subscribe({next:E=>{this.applyPageOfTasks(E),this.loadingExistingTasksToLink=!1},error:()=>{this.loadingExistingTasksToLink=!1}})}applyPageOfTasks(t){this.listOfExistingTasksToLink=t.content,this.totalExistingTasksToLink=t.totalElements}filteringTasksToLink(){setTimeout(()=>{this.changeTaskListPageToLink({page:0})})}openChangeResponsibleDialog(){var t;this.showChangeResponsibleDialog=!0,this.selectedEmployeeAsResponsible=null===(t=this.currentTask)||void 0===t?void 0:t.responsible}changeResponsible(){!this.selectedEmployeeAsResponsible||(this.selectingResponsible=!0,this.api.changeTaskResponsible(this._taskId,this.selectedEmployeeAsResponsible).subscribe({next:()=>{this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1},error:()=>{this.selectingResponsible=!1}}))}confirmUnbindResponsible(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0431\u0440\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e?",accept:()=>{this.api.unbindResponsible(this._taskId).subscribe()}})}openChangeObserversDialog(){this.showChangeObserversDialog=!0,this.updateObservableList()}openChangeDateDialog(t){this.isShowSchedulingDialog=!0,this.setDateTimeToTaskType=t;const i=new Date,r=i.getMinutes();r>45?i.setHours(i.getHours()+1,0,0,0):r>30?i.setMinutes(45,0,0):r>15?i.setMinutes(30,0,0):r>0&&i.setMinutes(15,0,0),this.selectedTaskDateTime=i}setDateTimeOfTaskRelevance(){this.changingTaskDateTime=!0,"from"===this.setDateTimeToTaskType?this.api.changeTaskActualFrom(this._taskId,this.selectedTaskDateTime).subscribe({next:()=>{this.changingTaskDateTime=!1,this.isShowSchedulingDialog=!1},error:()=>{this.changingTaskDateTime=!1}}):"to"===this.setDateTimeToTaskType&&this.api.changeTaskActualTo(this._taskId,this.selectedTaskDateTime).subscribe({next:()=>{this.changingTaskDateTime=!1,this.isShowSchedulingDialog=!1},error:()=>{this.changingTaskDateTime=!1}})}removeActualFromDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430?",accept:()=>{this.api.clearActualFromDate(this._taskId).subscribe()}})}removeActualToDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0438?",accept:()=>{this.api.clearActualToDate(this._taskId).subscribe()}})}closeTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.closeTask(this._taskId).subscribe()}})}isTaskActive(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===We.hY.ACTIVE}isTaskProcessing(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===We.hY.PROCESSING}isTaskClose(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===We.hY.CLOSE}reopenTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.reopenTask(this._taskId).subscribe()}})}showEditTaskDialog(){var t,i;this.editTaskForm=new $.cw(null!==(t=this.currentTask)&&void 0!==t&&t.fields?null===(i=this.currentTask)||void 0===i?void 0:i.fields.reduce((r,c)=>Object.assign(Object.assign({},r),{[c.modelItemId]:new $.NI(B.cQ.getValueFromModelItem(c),si.taskInput(c.wireframeFieldType))}),{}):{}),this.isShowEditTaskDialog=!0}doEditTask(){var t,i,r;null===(t=this.currentTask)||void 0===t||!t.modelWireframe||(this.editBlocked=!0,this.api.editTask(this._taskId,B.PU.editExisting(this.editTaskForm.getRawValue(),null!==(r=null===(i=this.currentTask)||void 0===i?void 0:i.fields)&&void 0!==r?r:[])).subscribe({next:()=>{this.editBlocked=!1,this.isShowEditTaskDialog=!1},error:()=>{this.editBlocked=!1}}))}showEditHistoryDialog(){this.api.getEditTaskSnapshots(this._taskId).subscribe(t=>{this.editTaskSnapshots=t,this.indexEditSnapshot=0,this.isShowEditHistoryDialog=!0})}changeCurrentSnapshot(t){this.indexEditSnapshot+=t,this.indexEditSnapshot>this.editTaskSnapshots.length-1?this.indexEditSnapshot=0:this.indexEditSnapshot<0&&(this.indexEditSnapshot=this.editTaskSnapshots.length-1)}isTaskHasParent(){var t;return"number"==typeof(null===(t=this.currentTask)||void 0===t?void 0:t.parent)}isTaskHasChilds(){var t,i;return(null===(t=this.currentTask)||void 0===t?void 0:t.children)&&(null===(i=this.currentTask)||void 0===i?void 0:i.children.length)>0}isTaskHasObservers(){var t,i,r,c;return(null===(t=this.currentTask)||void 0===t?void 0:t.employeesObservers)&&(null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers.length)>0||(null===(r=this.currentTask)||void 0===r?void 0:r.departmentsObservers)&&(null===(c=this.currentTask)||void 0===c?void 0:c.departmentsObservers.length)>0}insertEmployeeToCommentEditor(t){setTimeout(()=>{var i,r;const c=null===(i=this.commentEditor)||void 0===i?void 0:i.quillEditor;if(!c)return;const p=c.getSelection(!0),C=null!==(r=t.login+" ")&&void 0!==r?r:"";c.insertText(p.index,C,"user"),c.setSelection(p.index+C.length,0)},100)}forceFocusCommentInput(){var t;null===(t=this.commentEditor)||void 0===t||t.quillEditor.focus()}linkToParentTask(t){!t||this.api.changeLinkToParentTask(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}linkToChildTasks(t){!t||0===t.length||this.api.appendLinksToChildrenTasks(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}clearCommentText(){let t=this.commentInputForm.value.text;t&&(t=t.replace(/<\/?[^>]+(>|$)/g,"")),this.commentInputForm.patchValue({text:t})}workLogCreated(t){console.log(t.task.taskId,this._taskId),t.task.taskId===this._taskId&&(this.activeWorkLog=t)}workLogClosed(t){console.log(t.task.taskId,this._taskId),t.task.taskId===this._taskId&&(this.activeWorkLog=void 0)}openWorkLogsDialog(){!this.workLogsDialogEl||this.workLogsDialogEl.open(this._taskId)}taskManagementMenu(){return[{icon:"mdi-task",label:"\u0417\u0430\u0434\u0430\u0447\u0430",items:[{label:"\u0414\u0430\u043d\u043d\u044b\u0435",icon:"mdi-format_list_bulleted",items:[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",command:this.showEditTaskDialog.bind(this)},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",icon:"mdi-history",command:this.showEditHistoryDialog.bind(this)}],disabled:this.isTaskClose()},{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",icon:"mdi-person",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:this.openChangeResponsibleDialog.bind(this)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c",icon:"mdi-close",command:this.confirmUnbindResponsible.bind(this)}],disabled:this.isTaskClose()},{label:"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438",icon:"mdi-groups",items:[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:this.openChangeObserversDialog.bind(this)}],disabled:this.isTaskClose()},{label:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",icon:"mdi-link",items:[{label:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f",icon:"mdi-call_merge",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:this.createLinkedTask.bind(this,"child")},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var t;null===(t=this.taskLinkingDialog)||void 0===t||t.open("single")}}]},{label:"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435",icon:"mdi-call_split",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:this.createLinkedTask.bind(this,"parent")},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var t;null===(t=this.taskLinkingDialog)||void 0===t||t.open("multiply")}}]}]},{label:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",icon:"mdi-schedule",items:[{label:"\u041d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-pending_actions",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>this.openChangeDateDialog("from")},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("from")}]},{label:"\u041a\u043e\u043d\u0435\u0446",icon:"mdi-today",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>this.openChangeDateDialog("to")},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("to")}]}],disabled:this.isTaskClose()},{label:"\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_up_alt",command:this.reopenTask.bind(this),visible:this.isTaskClose()},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_down_alt",command:this.closeTask.bind(this),visible:this.isTaskActive()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:this.deleteTask.bind(this),disabled:!this.isTaskActive()}]},{icon:"mdi-engineering",label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",items:[{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",command:this.appointInstallers.bind(this),visible:this.isTaskActive()},{label:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c",icon:"mdi-assignment_return",command:()=>this.forceCloseWorkLogDialogVisible=!0,visible:this.isTaskProcessing()},{label:"\u041e\u0442\u0447\u0435\u0442\u044b",icon:"mdi-history_edu",command:this.openWorkLogsDialog.bind(this)}]},{icon:"mdi-inventory_2",label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b",command:()=>this.showFilesHistory=!0},{icon:"mdi-forum",label:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0447\u0430\u0442",visible:this.isTaskProcessing(),command:()=>this.api.getActiveTaskChat(this._taskId).subscribe(t=>this.chatService.open.emit(t.chatId))}]}updateTaskActualTimers(){var t,i;this.actualFromDurationCounter.setTime(null===(t=this.currentTask)||void 0===t?void 0:t.actualFrom),this.actualToDurationCounter.setTime(null===(i=this.currentTask)||void 0===i?void 0:i.actualTo)}orderFields(){var t,i,r,c;const p=[];null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||i.steps.forEach(C=>C.fields.forEach(E=>p.push(E))),null===(c=null===(r=this.currentTask)||void 0===r?void 0:r.fields)||void 0===c||c.sort((C,E)=>{var ie,ae,tt,rt;return(null!==(ae=null===(ie=p.find(Wt=>Wt.id===C.id))||void 0===ie?void 0:ie.orderPosition)&&void 0!==ae?ae:0)-(null!==(rt=null===(tt=p.find(Wt=>Wt.id===E.id))||void 0===tt?void 0:tt.orderPosition)&&void 0!==rt?rt:0)})}recursivelyCreatingChainOfTasks(t){var i,r;return t&&null!==(r=null===(i=t.children)||void 0===i?void 0:i.map(c=>({data:c,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(c)})))&&void 0!==r?r:[]}confirmUnbindDate(t){this.confirmation.confirm("from"===t?{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0434\u0430\u0442\u0443?",accept:()=>this.api.clearActualFromDate(this.taskId).subscribe()}:{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f?",accept:()=>this.api.clearActualToDate(this.taskId).subscribe()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(s.gz),e.Y36(Xo.a),e.Y36(j.YP),e.Y36(j.ez),e.Y36(ir),e.Y36(Zi.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(yT,5),e.Gf(IT,5),e.Gf(AT,5),e.Gf(TT,5),e.Gf(wT,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.filesInput=r.first),e.iGM(r=e.CRH())&&(i.taskActualDateSetPanel=r.first),e.iGM(r=e.CRH())&&(i.commentEditor=r.first),e.iGM(r=e.CRH())&&(i.taskLinkingDialog=r.first),e.iGM(r=e.CRH())&&(i.workLogsDialogEl=r.first)}},decls:83,vars:117,consts:[["appExtendPageHeight","",1,"flexed","column","vcenter","gap20"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"show","taskId","showChange"],["header","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"visible","breakpoints","draggable","modal","resizable","onHide","visibleChange"],[1,"flexed","column","gap10"],["sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435","targetHeader","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435",3,"dragdrop","showSourceControls","showTargetControls","sourceStyle","source","targetStyle","target"],["pTemplate","item"],[1,"flexed","column"],[1,"caption","size-small","f-color-500"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","gap5","vend"],["icon","delete","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"disabled","onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],["header","\u041e\u0442\u0434\u0435\u043b\u044b"],[1,"list-view"],["class","list-view-item bordered flexed hcenter gap10",4,"ngFor","ngForOf"],["header","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"],[1,"flexed","gap10","hcenter","vend"],["icon","cancel","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","full-height"],[1,"list-view","stretched","p5","gap5"],["class","list-view-item hovered bordered flexed hcenter gap10",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flexed","vend","hcenter","gap10"],["icon","check","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438",3,"excludedTasks","onMultiplySelected","onSelected"],["taskLinkingDialog",""],["header","\u0426\u0435\u043f\u043e\u0447\u043a\u0430 \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","draggable","maximizable","modal","resizable","visibleChange"],["appDragScrolling",""],[3,"value"],["pTemplate","task"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","gap7","column",3,"formGroup"],["class","stretched",3,"field","formControlName",4,"ngFor","ngForOf"],[1,"stretched"],[1,"flexed","vend","hcenter","sticky","bottom0"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","model","p-button-raised",3,"disabled","loading","onClick"],["header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","hcenter","vcenter","gap20","p5"],["icon","chevron_left","label","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439","model","p-button-text",3,"onClick"],["class","flexed column hcenter vcenter gap5",4,"ngIf"],["icon","chevron_right","iconPos","right","label","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439","model","p-button-text",3,"onClick"],[1,"change-comparison-table"],[1,"one-line"],[4,"ngFor","ngForOf","ngForTrackBy"],["header","\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",3,"visible","draggable","modal","resizable","visibleChange"],["pTemplate","content"],["header","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0436\u0443\u0440\u043d\u0430\u043b \u0440\u0430\u0431\u043e\u0442?",3,"visible","draggable","modal","resizable","visibleChange"],["workLogsDialogEl",""],["appendTo","body",3,"model","popup"],["stageMenu",""],["key","popup"],[3,"onReturnFocus","onSelect"],["empInsertPanel",""],["actualFromLabel",""],["actualToLabel",""],["strokeWidth","1",1,"primary-spinner","center-of-page"],[1,"panel","flexed","column","hcenter","vcenter","gap15","p20","caption","size-big","wt-bold","f-color-danger","responsive-wrapper"],[1,"flexed","column","hcenter"],[1,"mds-error"],["label","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430\u0437\u0430\u0434","icon","mdi-chevron_left","styleClass","p-button-outlined",3,"onClick"],[1,"responsive-wrapper","stretched","flexed","gap10","column"],["styleClass","panel",3,"model"],["pTemplate","start"],["pTemplate","end"],[1,"grided","gap10","spbtw"],[1,"flexed","gap7","column","panel","p15","stretched","h-min"],[1,"input-label-wrapper","w","max-fit"],[3,"formControl"],["class","flexed gap1 column",4,"ngFor","ngForOf"],[1,"task-control-panel","panel","p15","h-min"],[1,"task-control-panel-item"],[1,"mdi-flag"],[1,"task-control-panel-item-name"],[1,"mdi-person"],[1,"task-control-panel-item-value"],[3,"employee"],[1,"mdi-event"],["class","task-control-panel-item",4,"ngIf"],["class","dedicated-panel",4,"ngIf"],[1,"panel","flexed","column","gap20","p20",3,"hidden"],[1,"header500","flexed","hcenter","gap10"],["onLabel","C\u043e\u0431\u044b\u0442\u0438\u044f","offLabel","C\u043e\u0431\u044b\u0442\u0438\u044f","onIcon","mdi-visibility","offIcon","mdi-visibility_off",3,"ngModel","ngModelChange"],[1,"indent1",3,"editComment","replyComment","taskId","showEvents","editCommentChange","onFirstLoad","replyCommentChange"],["class","sticky bottom1 flexed vcenter column gap10",3,"formGroup",4,"ngIf"],[1,"flexed","gap10","p5","indent1","hcenter"],["icon","mdi-chevron_left","pTooltip","\u041d\u0430\u0437\u0430\u0434","styleClass","p-button-icon p-button-text","tooltipPosition","bottom",3,"onClick"],[1,"header400"],[1,"flexed","bline","gap5","caption","size-small","f-color-500"],["pTooltip","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","tooltipPosition","bottom",3,"disabled","label","size","onClick"],["class","next-stage-button",3,"click",4,"ngIf"],[1,"next-stage-button",3,"click"],[1,"mdi-chevron_right"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"flexed","gap1","column"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption"],[1,"dedicated-panel"],[1,"title"],[1,"mdi-groups"],[1,"list"],[3,"employee",4,"ngFor","ngForOf"],["class","flexed hcenter gap5",4,"ngFor","ngForOf"],[1,"flexed","hcenter","gap5"],[3,"department"],[1,"mdi-account_tree"],["icon","account_tree","pTooltip","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u0443","tooltipPosition","bottom",3,"onClick"],["class","flexed hcenter gap3",4,"ngIf"],["class","flexed gap5 caption size-small f-color-500",4,"ngIf"],[1,"flexed","hcenter","gap3"],[3,"taskId"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick",4,"ngIf"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick"],[1,"flexed","gap5","caption","size-small","f-color-500"],[1,"flexed","column","gap3"],["class","flexed gap3 hcenter",4,"ngFor","ngForOf"],[1,"flexed","gap3","hcenter"],[3,"task"],[1,"sticky","bottom1","flexed","vcenter","column","gap10",3,"formGroup"],["class","flexed hcenter gap15 panel responsive-wrapper caption size-small wt-bold f-color-primary",3,"padding",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[1,"flexed","hcenter","gap15","panel","responsive-wrapper","caption","size-small","wt-bold","f-color-primary"],[1,"mdi-reply"],[3,"employee","size"],[1,"caption","indent2"],["icon","mdi-cancel","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],[1,"mdi-edit"],[1,"flexed","hcenter","gap5","panel","responsive-wrapper"],["icon","mdi-text_fields","pTooltip","\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["appTextareaAutoresize","","formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"borderless-text-field","stretched",3,"disabled","keydown"],["formControlName","files",3,"short",4,"ngIf"],["icon","mdi-send","styleClass","p-button-icon p-button-text p-button-rounded",3,"disabled","onClick"],["formControlName","files",3,"short"],[1,"flexed","column","gap5","panel","responsive-wrapper"],["icon","mdi-short_text","label","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","pTooltip","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["formControlName","files",4,"ngIf"],["icon","mdi-send","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass"," p-button-text",3,"disabled","onClick"],["formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"input",3,"modules","disabled","styles","keydown","onContentChanged"],["commentEditor",""],["formControlName","files"],[1,"list-view-item","bordered","flexed","hcenter","gap10"],["name","dep",3,"ngModel","value","ngModelChange"],["appColorize","",1,"caption"],["name","emp",3,"ngModel","value","ngModelChange"],[1,"list-view-item","hovered","bordered","flexed","hcenter","gap10",3,"ngClass","click"],[3,"name","size","src"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],[3,"item"],[1,"stretched",3,"field","formControlName"],[1,"flexed","column","hcenter","vcenter","gap5"],[1,"caption","size-small"],[1,"flexed","hcenter","gap6"],[1,"caption","size-big","one-line"],["class","material-icons-round caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"material-icons-round","caption","size-small","wt-bold","f-color-primary"],[3,"ngModel","inline","selectOtherMonths","showTime","ngModelChange"],["label","\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",3,"loading","onClick"],[1,"input-label-wrapper"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"],["tooltipPosition","bottom",1,"flexed","gap3","caption","hcenter","p10",3,"pTooltip"],[1,"mdi-today","parent-inherit"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,xT,2,0,"ng-container",2),e.YNc(3,ET,7,1,"ng-container",2),e.YNc(4,ty,45,33,"ng-container",2),e.BQk(),e.qZA(),e.TgZ(5,"app-attachments-history-dialog",3),e.NdJ("showChange",function(c){return i.showFilesHistory=c}),e.qZA(),e.TgZ(6,"p-dialog",4),e.NdJ("onHide",function(){return i.clearAppointInstallers()})("visibleChange",function(c){return i.showAppointInstallersMenu=c}),e.TgZ(7,"div",5)(8,"p-pickList",6),e.YNc(9,Hm,2,2,"ng-template",7),e.qZA(),e.TgZ(10,"div",8)(11,"div",9),e._uU(12,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0446\u0435\u043b\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"),e.qZA(),e.TgZ(13,"textarea",10),e.NdJ("ngModelChange",function(c){return i.targetDescription=c}),e.qZA()(),e.TgZ(14,"div",11)(15,"app-button",12),e.NdJ("onClick",function(){return i.resetListAppointedInstallers()}),e.qZA(),e.TgZ(16,"app-button",13),e.NdJ("onClick",function(){return i.sendListAppointedInstallers()}),e.qZA()()()(),e.TgZ(17,"p-dialog",14),e.NdJ("visibleChange",function(c){return i.showChangeObserversDialog=c}),e.TgZ(18,"p-tabView")(19,"p-tabPanel",15)(20,"div",16),e.YNc(21,ny,4,3,"div",17),e.qZA()(),e.TgZ(22,"p-tabPanel",18)(23,"div",16),e.YNc(24,Vm,3,4,"div",17),e.qZA()()(),e.TgZ(25,"div",19)(26,"app-button",20),e.NdJ("onClick",function(){return i.updateObservableList()}),e.qZA(),e.TgZ(27,"app-button",21),e.NdJ("onClick",function(){return i.sendObservableList()}),e.qZA()()(),e.TgZ(28,"p-dialog",22),e.NdJ("visibleChange",function(c){return i.showChangeResponsibleDialog=c}),e.TgZ(29,"div",23)(30,"div",24),e.YNc(31,dr,8,9,"div",25),e.qZA(),e.TgZ(32,"div",26)(33,"app-button",27),e.NdJ("onClick",function(){return i.changeResponsible()}),e.qZA()()()(),e.TgZ(34,"app-task-selecting-dialog",28,29),e.NdJ("onMultiplySelected",function(c){return i.linkToChildTasks(c)})("onSelected",function(c){return i.linkToParentTask(c)}),e.qZA(),e.TgZ(36,"p-dialog",30),e.NdJ("visibleChange",function(c){return i.showTaskChainDialog=c}),e.TgZ(37,"div",31)(38,"p-organizationChart",32),e.YNc(39,oy,1,4,"ng-template",33),e.qZA()()(),e.TgZ(40,"p-dialog",34),e.NdJ("visibleChange",function(c){return i.isShowEditTaskDialog=c}),e.TgZ(41,"div",5)(42,"div",35),e.YNc(43,kT,1,2,"app-task-template-input",36),e.qZA(),e._UZ(44,"div",37),e.TgZ(45,"div",38)(46,"app-button",39),e.NdJ("onClick",function(){return i.doEditTask()}),e.qZA()()()(),e.TgZ(47,"p-dialog",40),e.NdJ("visibleChange",function(c){return i.isShowEditHistoryDialog=c}),e.TgZ(48,"div",5)(49,"div",41)(50,"app-button",42),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(-1)}),e.qZA(),e.YNc(51,sy,11,7,"div",43),e.TgZ(52,"app-button",44),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(1)}),e.qZA()(),e.TgZ(53,"table",45)(54,"thead")(55,"tr")(56,"th")(57,"span",46),e._uU(58," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "),e.qZA()(),e.TgZ(59,"th")(60,"span",46),e._uU(61," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e "),e.qZA()(),e._UZ(62,"th"),e.TgZ(63,"th")(64,"span",46),e._uU(65," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 "),e.qZA()()()(),e.TgZ(66,"tbody"),e.YNc(67,zm,10,4,"tr",47),e.qZA()()()(),e.TgZ(68,"p-dialog",48),e.NdJ("visibleChange",function(c){return i.isShowSchedulingDialog=c}),e.YNc(69,ry,3,5,"ng-template",49),e.qZA(),e.TgZ(70,"p-dialog",50),e.NdJ("visibleChange",function(c){return i.forceCloseWorkLogDialogVisible=c}),e.YNc(71,ay,8,6,"ng-template",49),e.qZA(),e._UZ(72,"app-work-logs-dialog",null,51)(74,"p-menu",52,53)(76,"p-confirmPopup",54),e.TgZ(77,"app-employee-insert-panel",55,56),e.NdJ("onReturnFocus",function(){return i.forceFocusCommentInput()})("onSelect",function(c){return i.insertEmployeeToCommentEditor(c)}),e.qZA(),e.YNc(79,ly,8,9,"ng-template",null,57,e.W1O),e.YNc(81,Gm,8,9,"ng-template",null,58,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("show",i.showFilesHistory)("taskId",i.taskId),e.xp6(1),e.Akn(e.DdM(99,Qm)),e.Q6J("visible",i.showAppointInstallersMenu)("breakpoints",e.DdM(100,Qc))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("sourceStyle",e.DdM(101,Jm))("source",i.sourceInstallers)("targetStyle",e.DdM(102,Jm))("target",i.targetInstallers),e.xp6(2),e.Akn(e.DdM(103,cy)),e.xp6(3),e.Q6J("ngModel",i.targetDescription)("autoResize",!0)("rows",3),e.xp6(2),e.Q6J("disabled",0===i.targetInstallers.length||i.appointmentRequested),e.xp6(1),e.Q6J("disabled",0===i.targetInstallers.length)("loading",i.appointmentRequested),e.xp6(1),e.Akn(e.DdM(104,Qm)),e.Q6J("visible",i.showChangeObserversDialog)("breakpoints",e.DdM(105,Qc))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.departmentList),e.xp6(2),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.employeeList),e.xp6(3),e.Q6J("loading",i.changingTaskObservers),e.xp6(1),e.Akn(e.DdM(106,jm)),e.Q6J("visible",i.showChangeResponsibleDialog)("breakpoints",e.DdM(107,Wm))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngForOf",i.employeeList),e.xp6(2),e.Q6J("disabled",!i.selectedEmployeeAsResponsible)("loading",i.selectingResponsible),e.xp6(1),e.Q6J("excludedTasks",i.excludedTasks),e.xp6(2),e.Akn(e.DdM(108,uy)),e.Q6J("visible",i.showTaskChainDialog)("breakpoints",e.DdM(109,Qc))("draggable",!1)("maximizable",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn(e.DdM(110,ua)),e.xp6(1),e.Q6J("value",i.taskChain),e.xp6(2),e.Akn(e.DdM(111,ih)),e.Q6J("visible",i.isShowEditTaskDialog)("breakpoints",e.DdM(112,Qc))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("formGroup",i.editTaskForm),e.xp6(1),e.Q6J("ngForOf",i.taskFields),e.xp6(3),e.Q6J("disabled",!i.editTaskForm.valid)("loading",i.editBlocked),e.xp6(1),e.Akn(e.DdM(113,dy)),e.Q6J("visible",i.isShowEditHistoryDialog)("breakpoints",e.DdM(114,py))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(4),e.Q6J("ngIf",null==i.editTaskSnapshots?null:i.editTaskSnapshots.length),e.xp6(16),e.Q6J("ngForOf",i.snapshotFieldPairs(i.editTaskSnapshots[i.indexEditSnapshot]))("ngForTrackBy",i.trackSnapshotPair),e.xp6(1),e.Akn(e.DdM(115,MT)),e.Q6J("visible",i.isShowSchedulingDialog)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(116,Km)),e.Q6J("visible",i.forceCloseWorkLogDialogVisible)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(4),e.Q6J("model",i.stageMenuItems)("popup",!0))},dependencies:[ms.A,$i.r,Cr.Y,qo.o,po,at.E,Ds,Se,Ln,ji,Io,ss.U,wi.x,se,Re.y,Ao,ar.W,Ta,Ou,$.Fj,$.JJ,$.JL,$.On,vo.xf,vo.x4,j.jx,I.sg,ki.V,$.oH,$.sg,$.u,Zr,Xa.XZ,I.O5,Ur.g,Ii.zx,I.RF,I.n9,To.f,Je.u,Uo.v2,Ob,I.mk,X.G,od,Im.P,CT,_s.g6,I.Ov,I.uU,bT.A,I.rS],styles:['.comment-panel[_ngcontent-%COMP%]{margin:.5rem 0}.status.ACTIVE[_ngcontent-%COMP%]{color:var(--mc-400)}.status.PROCESSING[_ngcontent-%COMP%]{color:var(--warm-400)}.status.CLOSE[_ngcontent-%COMP%]{color:var(--tc-400)}.stage-button[_ngcontent-%COMP%]{color:var(--mc-500);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .2s ease-out}.stage-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}.next-stage-button[_ngcontent-%COMP%]{color:var(--green-400);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;font-size:.85rem;font-weight:700;transition:color .2s ease-out}.next-stage-button[_ngcontent-%COMP%] > .material-icons-round[_ngcontent-%COMP%]{font-size:.95rem!important}.next-stage-button[_ngcontent-%COMP%]:hover{color:var(--green-600)}.text-preview[_ngcontent-%COMP%]{padding:1rem;background-color:var(--bgc-100)}.task-control-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.task-control-panel-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:max-content;gap:.2rem}.task-control-panel-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.task-control-panel-item-name[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700}.task-control-panel-item-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;margin-left:.5rem;font-size:1.1rem;color:var(--tc-700);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:.2rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700;flex:1}.dedicated-panel[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem;margin-left:2rem}.reply-comment-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"icon name cancel" "icon message cancel";column-gap:1rem;row-gap:.3rem;align-items:center;padding:1rem 1.2rem;border:1px solid var(--bgc-300);border-bottom:none}.reply-comment-preview[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{grid-area:icon;color:var(--bgc-600);font-size:2.5rem;line-height:normal}.reply-comment-preview[_ngcontent-%COMP%]   .whose-comment[_ngcontent-%COMP%]{grid-area:name;color:var(--tc-800);font-size:1.1rem;line-height:normal;font-weight:600}.reply-comment-preview[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{grid-area:message;color:var(--tc-700);font-size:1rem;line-height:normal;font-weight:400}.reply-comment-preview[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{grid-area:cancel}.comment-input-wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:1rem}.flow-button[_ngcontent-%COMP%]{position:absolute;transform:translateY(-110%);right:0}.global-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;position:sticky;top:0;padding:1rem 0;z-index:1;background-color:#ffffff80;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.linked-tasks-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;height:60vh;overflow-y:auto}.linked-task-skeleton[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:1rem}.tasks-loading-panel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;grid-area:1/1/-1/-1;display:flex;align-items:center;justify-content:center;background-color:#00000030;z-index:2}.change-comparison-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5rem 1rem}'],data:{animation:[wo.U1,wo.Ji]}}),n})();var oh=_(6888);function gy(n,o){1&n&&e._UZ(0,"i",19)}const sh=function(){return{width:"max-content"}},fy=function(){return{"960px":"75vw"}};let my=(()=>{class n{constructor(t,i){this.confirm=t,this.api=i,this.showEditTagDialog=!1,this.tagNameToEdit="",this.tagColorToEdit="",this.isTagEditing=!1}ngOnInit(){}openEditTagDialog(){var t,i,r,c;this.tagNameToEdit=null!==(i=null===(t=this.tag)||void 0===t?void 0:t.name)&&void 0!==i?i:"",this.tagColorToEdit=null!==(c=null===(r=this.tag)||void 0===r?void 0:r.color)&&void 0!==c?c:"",this.showEditTagDialog=!0}editTag(){var t,i,r,c;this.isTagEditing=!0,this.api.modifyTaskTag({taskTagId:null!==(i=null===(t=this.tag)||void 0===t?void 0:t.taskTagId)&&void 0!==i?i:0,deleted:null!==(c=null===(r=this.tag)||void 0===r?void 0:r.deleted)&&void 0!==c&&c,name:this.tagNameToEdit,color:this.tagColorToEdit}).subscribe({next:()=>{this.isTagEditing=!1,this.showEditTagDialog=!1},error:()=>{this.isTagEditing=!1}})}deleteTag(t){var i;this.confirm.confirm({key:null===(i=this.tag)||void 0===i?void 0:i.taskTagId.toString(),target:t.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0433?",icon:"pi pi-exclamation-triangle",accept:()=>{var r;null!==(r=this.tag)&&void 0!==r&&r.taskTagId&&this.api.deleteTaskTag(this.tag.taskTagId).subscribe()},reject:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.YP),e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-list-item"]],inputs:{tag:"tag"},decls:26,vars:26,consts:[[1,"tag-item"],[1,"color"],[1,"flexed","column"],[1,"name","flexed","hcenter","gap3"],["class","mdi-not_interested",4,"ngIf"],[1,"flexed","hcenter","gap2"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"stretched"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"disabled","onClick"],["styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","icon","mdi-delete",3,"disabled","onClick"],[3,"key"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0433",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","p3"],[1,"flexed","hcenter","gap15"],["pInputText","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430","type","text",3,"ngModel","ngModelChange"],[1,"flexed","hcenter","gap3"],["appendTo","body",3,"ngModel","ngModelChange"],["icon","check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"mdi-not_interested"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.YNc(4,gy,1,0,"i",4),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"span",5)(8,"span",6),e._uU(9,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.ALo(12,"date"),e.qZA()()(),e._UZ(13,"div",8),e.TgZ(14,"p-button",9),e.NdJ("onClick",function(){return i.openEditTagDialog()}),e.qZA(),e.TgZ(15,"p-button",10),e.NdJ("onClick",function(c){return i.deleteTag(c)}),e.qZA()(),e._UZ(16,"p-confirmPopup",11),e.TgZ(17,"p-dialog",12),e.NdJ("visibleChange",function(c){return i.showEditTagDialog=c}),e.TgZ(18,"div",13)(19,"div",14)(20,"input",15),e.NdJ("ngModelChange",function(c){return i.tagNameToEdit=c}),e.qZA(),e.TgZ(21,"span",16)(22,"span"),e._uU(23,"\u0424\u043e\u043d \u0442\u0435\u0433\u0430"),e.qZA(),e.TgZ(24,"p-colorPicker",17),e.NdJ("ngModelChange",function(c){return i.tagColorToEdit=c}),e.qZA()()(),e.TgZ(25,"app-button",18),e.NdJ("onClick",function(){return i.editTag()}),e.qZA()()()),2&t){let r,c,p;e.xp6(1),e.Udp("background-color",null==i.tag?null:i.tag.color),e.xp6(2),e.Udp("opacity",null!=i.tag&&i.tag.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",null==i.tag?null:i.tag.deleted),e.xp6(2),e.hij(" ",null==i.tag?null:i.tag.name," "),e.xp6(5),e.Oqu(e.xi3(12,21,null==i.tag?null:i.tag.created,"dd MMM yyyy HH:mm")),e.xp6(3),e.Q6J("disabled",null!==(r=null==i.tag?null:i.tag.deleted)&&void 0!==r&&r),e.xp6(1),e.Q6J("disabled",null!==(c=null==i.tag?null:i.tag.deleted)&&void 0!==c&&c),e.xp6(1),e.Q6J("key",(null!==(p=null==i.tag?null:i.tag.taskTagId)&&void 0!==p?p:"").toString()),e.xp6(1),e.Akn(e.DdM(24,sh)),e.Q6J("visible",i.showEditTagDialog)("breakpoints",e.DdM(25,fy))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngModel",i.tagNameToEdit),e.xp6(4),e.Q6J("ngModel",i.tagColorToEdit),e.xp6(1),e.Q6J("disabled",!i.tagNameToEdit&&!i.tagColorToEdit)("loading",i.isTagEditing)}},dependencies:[I.O5,Ii.zx,$.Fj,$.JJ,$.On,ki.V,Ye.o,Im.P,oh.zH,$i.r,I.uU],styles:['.task-tags-list-item[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/repeat(2,max-content);grid-template-areas:"name creator" "time creator";border-radius:999px;color:var(--tc-100);white-space:nowrap;height:min-content;overflow:hidden;position:relative;box-shadow:0 0 .7px #00000003,0 .3px 2.8px #00000009,0 4px 10px #00000026}.task-tags-list-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;grid-area:name;padding:.5rem 1rem 0 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-200);grid-area:time;padding:0 1rem .5rem 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;grid-area:creator;background-color:#fff;padding:1rem}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;border-radius:inherit;background-color:#00000060;transition:opacity .2s ease-out}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]:hover{opacity:1}.tag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.5rem}.tag-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}.tag-item[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:999px}.tag-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;color:var(--tc-700)}']}),n})();function ud(n,o){1&n&&e.GkF(0)}function rh(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",21),e._UZ(2,"p-progressSpinner",22),e.qZA(),e.BQk())}function dd(n,o){1&n&&e.GkF(0)}const DT=function(n){return{$implicit:n}};function ah(n,o){if(1&n&&(e.ynx(0),e.YNc(1,dd,1,0,"ng-container",24),e.BQk()),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,DT,t))}}function OT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ah,2,4,"ng-container",23),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.templateItems)("ngForTrackBy",t.trackByTemplate)}}function Ym(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",25),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}function $m(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}function qm(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",21),e._UZ(2,"p-progressSpinner",22),e.qZA(),e.BQk())}function Xm(n,o){1&n&&e._UZ(0,"app-task-tag-list-item",29),2&n&&e.Q6J("tag",o.$implicit)}function lh(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Xm,1,1,"app-task-tag-list-item",28),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.availableTags)("ngForTrackBy",t.trackByTag)}}function La(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",25),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}function pd(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}const Jc=function(){return["constructor"]};function jc(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabView")(1,"p-tabPanel",13)(2,"div",14),e._UZ(3,"p-button",15)(4,"p-toggleButton",16),e.qZA(),e.ynx(5,17),e.YNc(6,rh,3,0,"ng-container",18),e.YNc(7,OT,2,2,"ng-container",18),e.YNc(8,Ym,5,0,"ng-container",18),e.YNc(9,$m,5,0,"ng-container",18),e.BQk(),e.qZA(),e.TgZ(10,"p-tabPanel",19)(11,"div",14)(12,"p-button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openCreateTagDialog())}),e.qZA(),e._UZ(13,"p-toggleButton",16),e.qZA(),e.ynx(14,17),e.YNc(15,qm,3,0,"ng-container",18),e.YNc(16,lh,2,2,"ng-container",18),e.YNc(17,La,5,0,"ng-container",18),e.YNc(18,pd,5,0,"ng-container",18),e.BQk(),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Udp("padding-bottom","1rem"),e.xp6(1),e.Q6J("routerLink",e.DdM(17,Jc)),e.xp6(1),e.Q6J("formControl",t.deletedTemplatesSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(2),e.Udp("padding-bottom","1rem"),e.xp6(2),e.Q6J("formControl",t.deletedTagsSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.tagLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function _y(n,o){1&n&&e._UZ(0,"i",38)}function ch(n,o){if(1&n&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}const e_=function(n){return{editingId:n}};function Cy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"span",32),e.YNc(3,_y,1,0,"i",33),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",34),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.YNc(9,ch,2,1,"span",35),e.qZA(),e._UZ(10,"p-button",36),e.TgZ(11,"p-button",37),e.NdJ("onClick",function(r){const p=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.confirmDeleteWireframe(r,p.wireframeId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("opacity",t.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" \u0421\u043e\u0437\u0434\u0430\u043d\u0430: ",e.xi3(8,10,t.created,"dd MMMM yyyy HH:mm")," "),e.xp6(2),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("routerLink",e.DdM(13,Jc))("disabled",t.deleted)("queryParams",e.VKq(14,e_,t.wireframeId)),e.xp6(1),e.Q6J("disabled",t.deleted)}}const vy=function(){return{width:"max-content"}},Wc=function(){return{"960px":"75vw"}};let by=(()=>{class n{constructor(t,i,r){this.api=t,this.rt=i,this.confirmation=r,this.templateItems=[],this.availableTags=[],this.showCreateTagDialog=!1,this.tagNameToCreate="",this.tagColorToCreate="",this.isTagCreating=!1,this.subscription=new B.xf,this.deletedTemplatesSwitcher=new $.NI(!1),this.deletedTagsSwitcher=new $.NI(!1),this.templateLoadingState=We.Gu.LOADING,this.tagLoadingState=We.Gu.LOADING,this.templateLoadingHandler={next:c=>{this.templateLoadingState=c.length>0?We.Gu.READY:We.Gu.EMPTY,this.templateItems=c},error:()=>{this.templateLoadingState=We.Gu.ERROR}},this.tagLoadingHandler={next:c=>{this.tagLoadingState=c.length>0?We.Gu.READY:We.Gu.EMPTY,this.availableTags=c},error:()=>{this.tagLoadingState=We.Gu.ERROR}}}ngOnInit(){this.subscription.addSubscription("crTag",this.rt.taskTagCreated().subscribe(this.tagCreated.bind(this))),this.subscription.addSubscription("updTag",this.rt.taskTagUpdated().subscribe(this.tagUpdated.bind(this))),this.subscription.addSubscription("delTag",this.rt.taskTagDeleted().subscribe(this.tagDeleted.bind(this))),this.subscription.addSubscription("crTemp",this.rt.wireframeCreated().subscribe(this.templateCreated.bind(this))),this.subscription.addSubscription("updTemp",this.rt.wireframeUpdated().subscribe(this.templateUpdated.bind(this))),this.subscription.addSubscription("delTemp",this.rt.wireframeDeleted().subscribe(this.templateDeleted.bind(this))),this.api.getWireframes(!1).subscribe(this.templateLoadingHandler),this.subscription.addSubscription("swDelTemp",this.deletedTemplatesSwitcher.valueChanges.subscribe(t=>{this.templateLoadingState=We.Gu.LOADING,this.api.getWireframes(null!=t&&t).subscribe(this.templateLoadingHandler)})),this.api.getTaskTags().subscribe(this.tagLoadingHandler),this.subscription.addSubscription("swDelTag",this.deletedTagsSwitcher.valueChanges.subscribe(t=>{this.tagLoadingState=We.Gu.LOADING,this.api.getTaskTags(null!=t&&t).subscribe(this.tagLoadingHandler)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}tagCreated(t){this.availableTags.some(i=>i.taskTagId===t.taskTagId)||this.availableTags.unshift(t)}tagUpdated(t){const i=this.availableTags.findIndex(r=>r.taskTagId===t.taskTagId);i>=0&&(this.availableTags[i]=t)}tagDeleted(t){const i=this.availableTags.findIndex(r=>r.taskTagId===t.taskTagId);if(i>=0){if(t.deleted&&this.deletedTagsSwitcher.value)return void(this.availableTags[i].deleted=!0);this.availableTags.splice(i,1)}}templateCreated(t){this.templateItems.some(i=>i.wireframeId===t.wireframeId)||this.templateItems.unshift(t)}templateUpdated(t){const i=this.templateItems.findIndex(r=>r.wireframeId===t.wireframeId);i>=0&&(this.templateItems[i]=t)}templateDeleted(t){const i=this.templateItems.findIndex(r=>r.wireframeId===t.wireframeId);if(i>=0){if(t.deleted&&this.deletedTemplatesSwitcher.value)return void(this.templateItems[i].deleted=!0);this.templateItems.splice(i,1)}}createTag(){this.isTagCreating=!0,this.api.createTaskTag({taskTagId:0,deleted:!1,name:this.tagNameToCreate,color:this.tagColorToCreate}).subscribe({next:()=>{this.isTagCreating=!1,this.showCreateTagDialog=!1},error:()=>{this.isTagCreating=!1}})}openCreateTagDialog(){this.tagNameToCreate="",this.tagColorToCreate=this.generateRandomHslColor(),this.showCreateTagDialog=!0}confirmDeleteWireframe(t,i){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d?",accept:()=>this.api.deleteWireframe(i).subscribe()})}trackByTemplate(t,i){return i.wireframeId+i.name+i.description}trackByTag(t,i){return i.taskTagId+i.name+i.color}hslToHex(t,i,r){let c,p,C;if(t/=360,r/=100,0==(i/=100))c=p=C=r;else{const ie=(rt,it,Pt)=>(Pt<0&&(Pt+=1),Pt>1&&(Pt-=1),Pt<.16666666666666666?rt+6*(it-rt)*Pt:Pt<.5?it:Pt<.6666666666666666?rt+(it-rt)*(.6666666666666666-Pt)*6:rt),ae=r<.5?r*(1+i):r+i-r*i,tt=2*r-ae;c=ie(tt,ae,t+1/3),p=ie(tt,ae,t),C=ie(tt,ae,t-1/3)}const E=ie=>{const ae=Math.round(255*ie).toString(16);return 1===ae.length?"0"+ae:ae};return`#${E(c)}${E(p)}${E(C)}`}generateRandomHslColor(t=50,i=60,r=50,c=60){let p=Math.floor(360*Math.random()),C=Math.floor(Math.random()*(i-t)+t),E=Math.floor(Math.random()*(c-r)+r);return this.hslToHex(p,C,E)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Zi.U),e.Y36(j.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:18,vars:16,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","stretched","gap10","panel","overflow"],[4,"ngTemplateOutlet"],["tabview",""],["templateItem",""],["header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0433",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","p3"],[1,"flexed","hcenter","gap15"],["pInputText","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430","type","text",3,"ngModel","ngModelChange"],[1,"flexed","hcenter","gap3"],["appendTo","body",3,"ngModel","ngModelChange"],["icon","check","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt"],[1,"flexed","gap10"],["styleClass","p-button-outlined p-button-success","icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"routerLink"],["onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",3,"formControl"],[3,"ngSwitch"],[4,"ngSwitchCase"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer"],["styleClass","p-button-outlined p-button-success","icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"click"],[1,"flexed","hcenter","vcenter","p20"],["strokeWidth","1",1,"primary-spinner"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","hcenter","vcenter","p20","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-alert"],[1,"flexed","hcenter","vcenter","p20","caption","size-big","wt-bold","f-color-500"],[3,"tag",4,"ngFor","ngForOf","ngForTrackBy"],[3,"tag"],[1,"template-item","flexed","hcenter","gap5"],[1,"flexed","column","gap5","stretched"],[1,"flexed","hcenter","caption","stretched","hcenter","gap3"],["class","mdi-not_interested",4,"ngIf"],[1,"caption","size-tiny","wt-bold","f-color-500","indent1"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],["label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit","styleClass","p-button-warning p-button-text",3,"routerLink","disabled","queryParams"],["styleClass","p-button-danger p-button-text","icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"disabled","onClick"],[1,"mdi-not_interested"],[1,"caption","size-small","wt-bold","f-color-500"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,ud,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,jc,19,18,"ng-template",null,4,e.W1O),e.YNc(7,Cy,12,16,"ng-template",null,5,e.W1O),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(c){return i.showCreateTagDialog=c}),e.TgZ(10,"div",7)(11,"div",8)(12,"input",9),e.NdJ("ngModelChange",function(c){return i.tagNameToCreate=c}),e.qZA(),e.TgZ(13,"span",10)(14,"span"),e._uU(15,"\u0424\u043e\u043d \u0442\u0435\u0433\u0430"),e.qZA(),e.TgZ(16,"p-colorPicker",11),e.NdJ("ngModelChange",function(c){return i.tagColorToCreate=c}),e.qZA()()(),e.TgZ(17,"app-button",12),e.NdJ("onClick",function(){return i.createTag()}),e.qZA()()()),2&t){const r=e.MAs(6);e.xp6(3),e.Udp("margin-bottom","1rem"),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(5),e.Akn(e.DdM(14,vy)),e.Q6J("visible",i.showCreateTagDialog)("breakpoints",e.DdM(15,Wc))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngModel",i.tagNameToCreate),e.xp6(4),e.Q6J("ngModel",i.tagColorToCreate),e.xp6(1),e.Q6J("disabled",!i.tagNameToCreate&&!i.tagColorToCreate)("loading",i.isTagCreating)}},dependencies:[$i.r,ht,Se,my,s.rH,$.Fj,$.JJ,$.On,vo.xf,vo.x4,I.sg,ki.V,$.oH,Zr,I.O5,Ii.zx,I.tP,I.RF,I.n9,Ye.o,X.G,oh.zH,I.uU],styles:[".templates-scroller[_ngcontent-%COMP%]{height:100%}.template-item[_ngcontent-%COMP%]{padding:.8rem .8rem 1.1rem 1.1rem;font-size:1.2rem;color:var(--tc-700);transition:background-color .2s ease-out}.template-item-main-info-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-500)}.template-item-created-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);display:flex;flex-direction:column;align-items:flex-end}.title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:300;color:var(--tc-600)}.task-tags-list[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;overflow-y:auto}.append-tag-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1rem;font-weight:700;padding:1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .1s ease-out}.append-tag-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.template-create-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1.2rem;font-weight:700;padding:2rem 1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease-out}.template-create-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),n})();var Er=_(1588),yy=_(4304),PT=_(1819);let Iy=(()=>{class n{constructor(t){this.api=t,this.control=new $.NI([]),this.suggestions=[],this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(t=>{this.onChange(null!=t?t:[])})}search(t){this.api.getAvailableObserversSuggestions(t.query).subscribe(i=>{this.suggestions=i})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-observer-selector-input"]],features:[e._Bn([{provide:$.JU,useExisting:n,multi:!0}])],decls:1,vars:7,consts:[["emptyMessage","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","field","name","placeholder","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","multiple","onBlur","completeMethod"]],template:function(t,i){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return i.onTouched()})("completeMethod",function(c){return i.search(c)}),e.qZA()),2&t&&e.Q6J("formControl",i.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",i.suggestions)("forceSelection",!0)("completeOnFocus",!0)("multiple",!0)},dependencies:[$.JJ,$.oH,Ls.Qc],styles:["[_nghost-%COMP%]{display:flex}"]}),n})();function Ay(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.uIk("id",t.id+"_header"),e.xp6(1),e.Oqu(t.header)}}function Ty(n,o){1&n&&e.GkF(0)}function t_(n,o){}function uh(n,o){1&n&&e.YNc(0,t_,0,0,"ng-template")}function wy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onIconClick(r))})("keydown.enter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onIconClick(r))}),e._UZ(1,"span"),e.qZA()}if(2&n){const t=e.oxw(2);e.uIk("aria-label","collapse button")("id",t.id+"-label")("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),e.xp6(1),e.Tol(t.collapsed?t.expandIcon:t.collapseIcon)}}const dh=function(n,o,t){return{"p-panel-icons-start":n,"p-panel-icons-end":o,"p-panel-icons-center":t}};function xy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onHeaderClick(r))}),e.YNc(1,Ay,2,2,"span",7),e.Hsn(2,1),e.YNc(3,Ty,1,0,"ng-container",4),e.TgZ(4,"div",8),e.YNc(5,uh,1,0,null,4),e.YNc(6,wy,2,6,"button",9),e.qZA()()}if(2&n){const t=e.oxw();e.uIk("id",t.id+"-titlebar"),e.xp6(1),e.Q6J("ngIf",t.header),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngClass",e.kEZ(6,dh,"start"===t.iconPos,"end"===t.iconPos,"center"===t.iconPos)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.iconTemplate),e.xp6(1),e.Q6J("ngIf",t.toggleable)}}function Ey(n,o){1&n&&e.GkF(0)}function Sy(n,o){1&n&&e.GkF(0)}function ky(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,2),e.YNc(2,Sy,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const My=["*",[["p-header"]],[["p-footer"]]],Dy=function(n,o){return{"p-panel p-component":!0,"p-panel-toggleable":n,"p-panel-expanded":o}},hd=function(n){return{transitionParams:n,height:"0",opacity:"0"}},hl=function(n){return{value:"hidden",params:n}},RT=function(n){return{transitionParams:n,height:"*",opacity:"1"}},Kc=function(n){return{value:"visible",params:n}},Oy=["*","p-header","p-footer"];let Py=0,gd=(()=>{class n{constructor(t){this.el=t,this.collapsed=!1,this.iconPos="end",this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new e.vpe,this.onBeforeToggle=new e.vpe,this.onAfterToggle=new e.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+Py++}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"icons":this.iconTemplate=t.template}})}onHeaderClick(t){"header"===this.toggler&&this.toggle(t)}onIconClick(t){"icon"===this.toggler&&this.toggle(t)}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(t):this.collapse(t)),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1,this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-panel"]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,j.$_,5),e.Suo(r,j.jx,4)),2&t){let c;e.iGM(c=e.CRH())&&(i.footerFacet=c.first),e.iGM(c=e.CRH())&&(i.templates=c)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Oy,decls:7,vars:23,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],["role","tablist",1,"p-panel-icons",3,"ngClass"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(t,i){1&t&&(e.F$t(My),e.TgZ(0,"div",0),e.YNc(1,xy,7,10,"div",1),e.TgZ(2,"div",2),e.NdJ("@panelContent.done",function(c){return i.onToggleDone(c)}),e.TgZ(3,"div",3),e.Hsn(4),e.YNc(5,Ey,1,0,"ng-container",4),e.qZA(),e.YNc(6,ky,3,1,"div",5),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(12,Dy,i.toggleable,!i.collapsed&&i.toggleable))("ngStyle",i.style),e.uIk("id",i.id),e.xp6(1),e.Q6J("ngIf",i.showHeader),e.xp6(1),e.Q6J("@panelContent",i.collapsed?e.VKq(17,hl,e.VKq(15,hd,i.animating?i.transitionOptions:"0ms")):e.VKq(21,Kc,e.VKq(19,RT,i.animating?i.transitionOptions:"0ms"))),e.uIk("id",i.id+"-content")("aria-hidden",i.collapsed)("aria-labelledby",i.id+"-titlebar"),e.xp6(3),e.Q6J("ngTemplateOutlet",i.contentTemplate),e.xp6(1),e.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[I.mk,I.O5,I.tP,I.PC,D.H],styles:[".p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded .p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,kn.X$)("panelContent",[(0,kn.SB)("hidden",(0,kn.oB)({height:"0"})),(0,kn.SB)("void",(0,kn.oB)({height:"{{height}}"}),{params:{height:"0"}}),(0,kn.SB)("visible",(0,kn.oB)({height:"*"})),(0,kn.eR)("visible <=> hidden",[(0,kn.jt)("{{transitionParams}}")]),(0,kn.eR)("void => hidden",(0,kn.jt)("{{transitionParams}}")),(0,kn.eR)("void => visible",(0,kn.jt)("{{transitionParams}}"))])]},changeDetection:0}),n})(),Ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,j.m8,D.T,j.m8]}),n})();function da(n,o){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.label)}}function Yc(n,o){if(1&n&&e._UZ(0,"span",12),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}const xs=function(){return{exact:!1}};function gl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(),p=c.$implicit,C=c.index,E=e.oxw();return e.KtG(E.itemClick(r,p,C))})("keydown.enter",function(r){e.CHM(t);const c=e.oxw(),p=c.$implicit,C=c.index,E=e.oxw();return e.KtG(E.itemClick(r,p,C))}),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.YNc(3,da,2,1,"span",9),e.YNc(4,Yc,1,1,"ng-template",null,10,e.W1O),e.qZA()}if(2&n){const t=e.MAs(5),i=e.oxw(),r=i.$implicit,c=i.index,p=e.oxw();e.Q6J("routerLink",r.routerLink)("queryParams",r.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.routerLinkActiveOptions||e.DdM(16,xs))("target",r.target)("fragment",r.fragment)("queryParamsHandling",r.queryParamsHandling)("preserveFragment",r.preserveFragment)("skipLocationChange",r.skipLocationChange)("replaceUrl",r.replaceUrl)("state",r.state),e.uIk("id",r.id)("tabindex",r.disabled||p.readonly?null:r.tabindex?r.tabindex:"0"),e.xp6(2),e.Oqu(c+1),e.xp6(1),e.Q6J("ngIf",!1!==r.escape)("ngIfElse",t)}}function fd(n,o){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.label)}}function Sr(n,o){if(1&n&&e._UZ(0,"span",12),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function ph(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(),p=c.$implicit,C=c.index,E=e.oxw();return e.KtG(E.itemClick(r,p,C))})("keydown.enter",function(r){e.CHM(t);const c=e.oxw(),p=c.$implicit,C=c.index,E=e.oxw();return e.KtG(E.itemClick(r,p,C))}),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.YNc(3,fd,2,1,"span",9),e.YNc(4,Sr,1,1,"ng-template",null,14,e.W1O),e.qZA()}if(2&n){const t=e.MAs(5),i=e.oxw(),r=i.$implicit,c=i.index,p=e.oxw();e.Q6J("target",r.target),e.uIk("href",r.url,e.LSH)("id",r.id)("tabindex",r.disabled||c!==p.activeIndex&&p.readonly?null:r.tabindex?r.tabindex:"0"),e.xp6(2),e.Oqu(c+1),e.xp6(1),e.Q6J("ngIf",!1!==r.escape)("ngIfElse",t)}}const tc=function(n,o){return{"p-highlight p-steps-current":n,"p-disabled":o}};function nc(n,o){if(1&n&&(e.TgZ(0,"li",3,4),e.YNc(2,gl,6,17,"a",5),e.YNc(3,ph,6,7,"ng-template",null,6,e.W1O),e.qZA()),2&n){const t=o.$implicit,i=o.index,r=e.MAs(4),c=e.oxw();e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("tooltipOptions",t.tooltipOptions)("ngClass",e.WLB(9,tc,c.isActive(t,i),t.disabled||c.readonly&&!c.isActive(t,i))),e.uIk("aria-selected",i===c.activeIndex)("aria-expanded",i===c.activeIndex),e.xp6(2),e.Q6J("ngIf",c.isClickableRouterLink(t))("ngIfElse",r)}}const ic=function(n){return{"p-steps p-component":!0,"p-readonly":n}};let oc=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.cd=r,this.activeIndex=0,this.readonly=!0,this.activeIndexChange=new e.vpe}ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}itemClick(t,i,r){this.readonly||i.disabled?t.preventDefault():(this.activeIndexChange.emit(r),!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i,index:r}))}isClickableRouterLink(t){return t.routerLink&&!this.readonly&&!t.disabled}isActive(t,i){if(t.routerLink){let r=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(r,{relativeTo:this.route}).toString(),!1)}return i===this.activeIndex}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.F0),e.Y36(s.gz),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-steps"]],hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",model:"model",readonly:"readonly",style:"style",styleClass:"styleClass"},outputs:{activeIndexChange:"activeIndexChange"},decls:3,vars:7,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["class","p-steps-item","role","tab","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["role","tab","pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["menuitem",""],["role","presentation","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter",4,"ngIf","ngIfElse"],["elseBlock",""],["role","presentation",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","presentation",1,"p-menuitem-link",3,"target","click","keydown.enter"],["htmlRouteLabel",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ul",1),e.YNc(2,nc,5,12,"li",2),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.VKq(5,ic,i.readonly))("ngStyle",i.style),e.xp6(2),e.Q6J("ngForOf",i.model))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,Je.u],styles:[".p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),sc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,s.Bz,Je.z,s.Bz,Je.z]}),n})();const rc=["listelement"],ac=["filter"];function lc(n,o){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.header)}}function cc(n,o){1&n&&e.GkF(0)}function n_(n,o){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,lc,2,1,"div",14),e.YNc(2,cc,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function i_(n,o){1&n&&e.GkF(0)}const o_=function(n){return{options:n}};function s_(n,o){if(1&n&&(e.ynx(0),e.YNc(1,i_,1,0,"ng-container",20),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,o_,t.filterOptions))}}function r_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("keyup",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onFilterKeyup(r))}),e.qZA(),e._UZ(3,"span",24),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)}}function a_(n,o){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,s_,2,4,"ng-container",18),e.YNc(2,r_,4,3,"ng-template",null,19,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.filterTemplate)("ngIfElse",t)}}function l_(n,o){1&n&&e.GkF(0)}const c_=function(n,o){return{"p-highlight":n,"p-disabled":o}},u_=function(n,o){return{$implicit:n,index:o}};function Ly(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",26),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(),p=c.$implicit,C=c.index,E=e.oxw();return e.KtG(E.onItemClick(r,p,C))})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onItemTouchEnd())})("keydown",function(r){e.CHM(t);const c=e.oxw(),p=c.$implicit,C=c.index,E=e.oxw();return e.KtG(E.onItemKeydown(r,p,C))}),e.YNc(1,l_,1,0,"ng-container",20),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw();e.Q6J("ngClass",e.WLB(6,c_,c.isSelected(i),c.disabled))("cdkDragData",i)("cdkDragDisabled",!c.dragdrop),e.uIk("aria-selected",c.isSelected(i)),e.xp6(1),e.Q6J("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",e.WLB(9,u_,i,r))}}function Ny(n,o){if(1&n&&e.YNc(0,Ly,2,12,"li",25),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t))}}function d_(n,o){1&n&&e.GkF(0)}function Fy(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,d_,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function p_(n,o){1&n&&e.GkF(0)}function hh(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,p_,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageTemplate)}}function gh(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Fy,2,1,"li",27),e.YNc(2,hh,2,1,"li",27),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValue||!t.emptyFilterMessageTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValue)}}const By=function(n,o,t){return{"p-orderlist p-component":!0,"p-orderlist-striped":n,"p-orderlist-controls-left":o,"p-orderlist-controls-right":t}};let md=(()=>{class n{constructor(t,i,r){this.el=t,this.cd=i,this.filterService=r,this.metaKeySelection=!0,this.dragdrop=!1,this.controlsPosition="left",this.filterMatchMode="contains",this.breakpoint="960px",this.disabled=!1,this.selectionChange=new e.vpe,this.trackBy=(c,p)=>p,this.onReorder=new e.vpe,this.onSelectionChange=new e.vpe,this.onFilterEvent=new e.vpe,this._selection=[],this.id=(0,an.Th)()}get selection(){return this._selection}set selection(t){this._selection=t}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterKeyup(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"emptyfilter":this.emptyFilterMessageTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"header":this.headerTemplate=t.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let i,t=zt.p.find(this.listViewChild.nativeElement,"li.p-highlight");t.length>0&&(i=this.movedUp?t[0]:t[t.length-1],zt.p.scrollInView(this.listViewChild.nativeElement,i)),this.movedUp=!1,this.movedDown=!1}}get value(){return this._value}set value(t){this._value=t,this.filterValue&&this.filter()}onItemClick(t,i,r){this.itemTouched=!1;let c=an.gb.findIndexInList(i,this.selection),p=-1!=c;if(!this.itemTouched&&this.metaKeySelection){let E=t.metaKey||t.ctrlKey||t.shiftKey;p&&E?this._selection=this._selection.filter((ie,ae)=>ae!==c):(this._selection=E&&this._selection?[...this._selection]:[],an.gb.insertIntoOrderedArray(i,r,this._selection,this.value))}else p?this._selection=this._selection.filter((E,ie)=>ie!==c):(this._selection=this._selection?[...this._selection]:[],an.gb.insertIntoOrderedArray(i,r,this._selection,this.value));this.selectionChange.emit(this._selection),this.onSelectionChange.emit({originalEvent:t,value:this._selection})}onFilterKeyup(t){this.filterValue=t.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:t,value:this.visibleOptions})}filter(){let t=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,t,this.filterValue,this.filterMatchMode,this.filterLocale)}resetFilter(){this.filterValue=null,this.filterViewChild&&(this.filterViewChild.nativeElement.value="")}isItemVisible(t){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(let i=0;i<this.visibleOptions.length;i++)if(t==this.visibleOptions[i])return!0}onItemTouchEnd(){this.itemTouched=!0}isSelected(t){return-1!=an.gb.findIndexInList(t,this.selection)}isEmpty(){return this.filterValue?!this.visibleOptions||0===this.visibleOptions.length:!this.value||0===this.value.length}moveUp(){if(this.selection){for(let t=0;t<this.selection.length;t++){let r=an.gb.findIndexInList(this.selection[t],this.value);if(0==r)break;{let p=this.value[r-1];this.value[r-1]=this.value[r],this.value[r]=p}}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}}moveTop(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let r=an.gb.findIndexInList(this.selection[t],this.value);if(0==r)break;{let c=this.value.splice(r,1)[0];this.value.unshift(c)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=0}}moveDown(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let r=an.gb.findIndexInList(this.selection[t],this.value);if(r==this.value.length-1)break;{let p=this.value[r+1];this.value[r+1]=this.value[r],this.value[r]=p}}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}}moveBottom(){if(this.selection){for(let t=0;t<this.selection.length;t++){let r=an.gb.findIndexInList(this.selection[t],this.value);if(r==this.value.length-1)break;{let c=this.value.splice(r,1)[0];this.value.push(c)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=this.listViewChild.nativeElement.scrollHeight}}onDrop(t){let i=t.previousIndex,r=t.currentIndex;i!==r&&(this.visibleOptions&&(this.filterValue&&(i=an.gb.findIndexInList(t.item.data,this.value),r=an.gb.findIndexInList(this.visibleOptions[r],this.value)),aa(this.visibleOptions,t.previousIndex,t.currentIndex)),aa(this.value,i,r),this.onReorder.emit([t.item.data]))}onItemKeydown(t,i,r){let c=t.currentTarget;switch(t.which){case 40:var p=this.findNextItem(c);p&&p.focus(),t.preventDefault();break;case 38:var C=this.findPrevItem(c);C&&C.focus(),t.preventDefault();break;case 13:this.onItemClick(t,i,r),t.preventDefault()}}findNextItem(t){let i=t.nextElementSibling;return i?!zt.p.hasClass(i,"p-orderlist-item")||zt.p.isHidden(i)?this.findNextItem(i):i:null}findPrevItem(t){let i=t.previousElementSibling;return i?!zt.p.hasClass(i,"p-orderlist-item")||zt.p.isHidden(i)?this.findPrevItem(i):i:null}moveDisabled(){if(this.disabled||!this.selection.length)return!0}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n                @media screen and (max-width: ${this.breakpoint}) {\n                    .p-orderlist[${this.id}] {\n                        flex-direction: column;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls {\n                        padding: var(--content-padding);\n                        flex-direction: row;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button {\n                        margin-right: var(--inline-spacing);\n                        margin-bottom: 0;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button:last-child {\n                        margin-right: 0;\n                    }\n                }\n            `)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(j.iZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-orderList"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,j.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(rc,5),e.Gf(ac,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.listViewChild=r.first),e.iGM(r=e.CRH())&&(i.filterViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",style:"style",styleClass:"styleClass",listStyle:"listStyle",responsive:"responsive",filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",controlsPosition:"controlsPosition",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",disabled:"disabled",trackBy:"trackBy",selection:"selection",value:"value"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent"},decls:13,vars:18,consts:[[3,"ngClass","ngStyle"],[1,"p-orderlist-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-orderlist-list-container"],["class","p-orderlist-header",4,"ngIf"],["class","p-orderlist-filter-container",4,"ngIf"],["cdkDropList","",1,"p-orderlist-list",3,"ngStyle","cdkDropListDropped"],["listelement",""],["ngFor","",3,"ngForTrackBy","ngForOf"],[4,"ngIf"],[1,"p-orderlist-header"],["class","p-orderlist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-orderlist-title"],[1,"p-orderlist-filter-container"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-orderlist-filter"],["type","text","role","textbox",1,"p-orderlist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["filter",""],[1,"p-orderlist-filter-icon","pi","pi-search"],["class","p-orderlist-item","tabindex","0","cdkDrag","","pRipple","","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown",4,"ngIf"],["tabindex","0","cdkDrag","","pRipple","","role","option",1,"p-orderlist-item",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown"],["class","p-orderlist-empty-message",4,"ngIf"],[1,"p-orderlist-empty-message"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.moveUp()}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.moveTop()}),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return i.moveDown()}),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return i.moveBottom()}),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,n_,3,2,"div",7),e.YNc(8,a_,4,2,"div",8),e.TgZ(9,"ul",9,10),e.NdJ("cdkDropListDropped",function(c){return i.onDrop(c)}),e.YNc(11,Ny,1,1,"ng-template",11),e.YNc(12,gh,3,2,"ng-container",12),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(14,By,i.stripedRows,"left"===i.controlsPosition,"right"===i.controlsPosition))("ngStyle",i.style),e.xp6(2),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(2),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy),e.xp6(1),e.Q6J("ngStyle",i.listStyle),e.xp6(2),e.Q6J("ngForTrackBy",i.trackBy)("ngForOf",i.value),e.xp6(1),e.Q6J("ngIf",i.isEmpty()&&(i.emptyMessageTemplate||i.emptyFilterMessageTemplate)))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC,Ii.Hq,D.H,dl,Np],styles:[".p-orderlist{display:flex}.p-orderlist-controls{display:flex;flex-direction:column;justify-content:center}.p-orderlist-list-container{flex:1 1 auto}.p-orderlist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-orderlist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-orderlist-item:not(.cdk-drag-disabled){cursor:move}.p-orderlist-item.cdk-drag-placeholder{opacity:0}.p-orderlist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-orderlist.p-state-disabled .p-orderlist-item,.p-orderlist.p-state-disabled .p-button{cursor:default}.p-orderlist.p-state-disabled .p-orderlist-list{overflow:hidden}.p-orderlist-filter{position:relative}.p-orderlist-filter-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-orderlist-filter-input{width:100%}.p-orderlist-controls-right .p-orderlist-controls{order:2}.p-orderlist-controls-right .p-orderlist-list-container{order:1}.p-orderlist-list.cdk-drop-list-dragging .p-orderlist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),n})(),_d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Ii.hJ,j.m8,D.T,Fp,j.m8,Fp]}),n})();const fh=["stepsContextMenuElem"];function Hy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e._UZ(1,"app-task-template-input",29),e.TgZ(2,"app-icon-button",30),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.deleteField(c.id))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("field",t)("isExample",!0),e.xp6(1),e.Udp("transform","translateY(.5rem)")}}function Cd(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"p-button",9),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.nav.backOrDefault(["/"]))}),e.qZA(),e.TgZ(4,"p-button",10),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeStagesSettingsStep())}),e.qZA()(),e.TgZ(5,"div",11)(6,"div",12)(7,"label"),e._uU(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(9,"input",13),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.wireframe.name=r)}),e.qZA()()(),e.TgZ(10,"div",12)(11,"label"),e._uU(12,"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),e.qZA(),e.TgZ(13,"app-observer-selector-input",14),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.wireframe.defaultObservers=r)}),e.qZA()(),e.TgZ(14,"div",15)(15,"div",16)(16,"label"),e._uU(17,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(18,"textarea",17),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.wireframe.description=r)}),e.qZA()()(),e.TgZ(19,"p-button",18),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createStep())}),e.qZA(),e._UZ(20,"p-steps",19),e.qZA(),e.TgZ(21,"div",20)(22,"div",21)(23,"div",22)(24,"span",23),e._uU(25),e.qZA(),e.TgZ(26,"app-editing-caption",24),e.NdJ("captionChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.stepsPanelCaptionUpdate(r))})("onStopEditing",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.fillingEmptyStepName())})("captionChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.wireframe.steps[c.activeStepIndex].name=r)}),e.qZA()(),e.TgZ(27,"div",25),e.YNc(28,Hy,3,4,"div",26),e.TgZ(29,"app-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.chooseFieldTypeDialogVisible=!0)}),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("ngModel",t.wireframe.name)("disabled",void 0!==t.editingId),e.xp6(4),e.Q6J("ngModel",t.wireframe.defaultObservers),e.xp6(5),e.Q6J("ngModel",t.wireframe.description)("autoResize",!0),e.xp6(2),e.Q6J("activeIndex",t.activeStepIndex)("model",t.stepsArray)("readonly",!1),e.xp6(5),e.hij("\u042d\u0442\u0430\u043f ",t.activeStepIndex+1,":"),e.xp6(1),e.Q6J("caption",t.wireframe.steps[t.activeStepIndex].name),e.xp6(2),e.Q6J("ngForOf",t.wireframe.steps[t.activeStepIndex].fields)}}function vd(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"span",40),e._uU(2,"drag_indicator"),e.qZA(),e.TgZ(3,"span",41),e._uU(4),e.qZA(),e.TgZ(5,"input",42),e.NdJ("mousedown",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.mouseDown(r))})("ngModelChange",function(r){const p=e.CHM(t).$implicit;return e.KtG(p.label=r)}),e.qZA(),e._UZ(6,"div",43),e.TgZ(7,"app-icon-button",44),e.NdJ("mousedown",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.mouseDown(r))})("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.removeStage(c.stageId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("",t.orderIndex+1,"."),e.xp6(1),e.Q6J("ngModel",t.label),e.xp6(2),e.Q6J("size",1.4)}}const mh=function(){return[]};function h_(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",31)(2,"div",32)(3,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.constructStage="FIELDS")}),e.qZA(),e.TgZ(4,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeViewSettingsStep())}),e.qZA()()(),e.TgZ(5,"div",20)(6,"p-panel",35)(7,"div",31)(8,"app-button",36),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createStage())}),e.qZA(),e.TgZ(9,"p-orderList",37),e.NdJ("onReorder",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reorderStages())}),e.YNc(10,vd,8,3,"ng-template",38),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("dragdrop",!0)("value",null!==(i=t.wireframe.stages)&&void 0!==i?i:e.DdM(4,mh))}}function _h(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createWireframe())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.wireframe.name)}}function g_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",56),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateWireframe())}),e.qZA()}}function f_(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function Ch(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",45)(2,"div",46)(3,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.constructStage="STAGES")}),e.qZA(),e.YNc(4,_h,1,1,"app-button",47),e.YNc(5,g_,1,0,"app-button",48),e.qZA(),e.TgZ(6,"div",49)(7,"span",50),e._uU(8," \u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 "),e.qZA(),e.TgZ(9,"div",51)(10,"div",12)(11,"label"),e._uU(12," \u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f "),e.qZA(),e.TgZ(13,"p-dropdown",52),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c._wireframe.listViewType=r)}),e.qZA()(),e.TgZ(14,"app-task-list-element",53),e.NdJ("selectFieldToView",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectFieldToView(r))}),e.qZA()()(),e.TgZ(15,"div",49)(16,"span",50),e._uU(17," \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043f\u043e\u043b\u0435\u0439 "),e.qZA(),e.TgZ(18,"div",54)(19,"p-orderList",37),e.NdJ("onReorder",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reorderFields())}),e.YNc(20,f_,2,1,"ng-template",38),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("ngIf",void 0===t.editingId),e.xp6(1),e.Q6J("ngIf",void 0!==t.editingId),e.xp6(8),e.Q6J("ngModel",t._wireframe.listViewType)("options",t.listItemViewOptions),e.xp6(1),e.Q6J("item",t.taskItemForView())("viewExample",!0)("isHover",!1)("wireframeFieldsList",t.wireframeFieldsList),e.xp6(5),e.Q6J("dragdrop",!0)("value",t.wireframeFieldsList)}}function m_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"p-dropdown",58),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.createFieldType=r)}),e.qZA(),e.TgZ(2,"app-button",59),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createField(r.createFieldType))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.createFieldType)("options",t.fieldTypeOptions)}}function Vy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"app-select-field-to-view-button",63),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA(),e._UZ(2,"div",43),e.TgZ(3,"div",8),e._UZ(4,"app-avatar",64),e.TgZ(5,"span",65),e._uU(6,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("size",1.8)}}function __(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",66)(2,"app-select-field-to-view-button",63),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA(),e.TgZ(3,"app-select-field-to-view-button",67),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA()(),e._UZ(4,"div",43),e.TgZ(5,"div",8),e._UZ(6,"app-avatar",64),e.TgZ(7,"span",65),e._uU(8,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(3),e.Q6J("size",1.8)}}function C_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",66)(2,"div",28)(3,"app-select-field-to-view-button",63),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA(),e.TgZ(4,"span",65),e._uU(5,"-"),e.qZA(),e.TgZ(6,"app-select-field-to-view-button",68),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA()(),e.TgZ(7,"app-select-field-to-view-button",67),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA()(),e._UZ(8,"div",43),e.TgZ(9,"div",8),e._UZ(10,"app-avatar",64),e.TgZ(11,"span",65),e._uU(12,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",3),e.xp6(3),e.Q6J("size",1.8)}}function v_(n,o){if(1&n&&(e.ynx(0,60),e.YNc(1,Vy,7,3,"div",61),e.YNc(2,__,9,5,"div",61),e.YNc(3,C_,13,7,"div",61),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.wireframe.listViewType),e.xp6(1),e.Q6J("ngSwitchCase","SIMPLE"),e.xp6(1),e.Q6J("ngSwitchCase","COMPOSITE"),e.xp6(1),e.Q6J("ngSwitchCase","DETAILED")}}const b_=function(){return{width:"30vw"}},Zy={id:0,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[]};let y_=(()=>{class n{constructor(t,i,r){this.api=t,this.route=i,this.nav=r,this.activeStepIndex=0,this.stepsArray=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:()=>this.selectStep(0)}],this.wireframeFieldsList=[],this.stepsContextMenu=[],this.chooseFieldTypeDialogVisible=!1,this.fieldTypeOptions=[{label:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",value:We._r.BOOLEAN},{label:"\u041c\u0430\u043b\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",value:We._r.SMALL_TEXT},{label:"\u0422\u0435\u043a\u0441\u0442",value:We._r.LARGE_TEXT},{label:"\u0426\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e\u0435",value:We._r.INTEGER},{label:"\u041d\u0435 \u0446\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e\u0435",value:We._r.FLOAT},{label:"\u0410\u0434\u0440\u0435\u0441",value:We._r.ADDRESS},{label:"\u041b\u043e\u0433\u0438\u043d",value:We._r.LOGIN},{label:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",value:We._r.AD_SOURCE},{label:"\u0422\u0438\u043f \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0437\u0430\u044f\u0432\u043a\u0438",value:We._r.REQUEST_INITIATOR},{label:"IP \u0410\u0434\u0440\u0435\u0441",value:We._r.IP},{label:"\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u043e\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",value:We._r.EQUIPMENTS},{label:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438",value:We._r.CONNECTION_SERVICES},{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430",value:We._r.PHONE_ARRAY}],this.createFieldType=We._r.SMALL_TEXT,this.constructStage="FIELDS",this.listItemViewOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439",value:"SIMPLE"},{label:"\u0421\u043e\u0441\u0442\u0430\u0432\u043d\u043e\u0439",value:"COMPOSITE"},{label:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439",value:"DETAILED"}],this._wireframe={wireframeId:0,created:"",deleted:!1,name:"",description:"",creator:{login:"admin"},wireframeType:We.Ez.MODEL,steps:[Zy],defaultObservers:[],stages:[{label:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439",stageId:(0,Er.Z)(),orderIndex:0}],listViewType:"SIMPLE"}}get wireframe(){return this._wireframe}set wireframe(t){this._wireframe=t,this.wireframeFieldsList=this.fieldsLabelsList()}ngOnInit(){this.route.queryParams.subscribe(t=>{t.editingId&&(this.editingId=t.editingId,this.api.getWireframe(t.editingId).subscribe(i=>{var r;this.wireframe=i,this.fillingSteps(i.steps),null===(r=this.wireframe.stages)||void 0===r||r.sort((c,p)=>c.orderIndex-p.orderIndex),this.wireframe=this.wireframe}))})}createField(t){const i=(0,Er.Z)(),r=this.wireframe.steps.find(c=>c.id===this.activeStepIndex);r?r.fields.push({name:"\u0418\u043c\u044f \u043f\u043e\u043b\u044f",id:i,type:t}):console.error("\u042d\u0442\u0430\u043f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}deleteField(t){const i=this.wireframe.steps.find(r=>r.id===this.activeStepIndex);i&&(i.fields=i.fields.filter(r=>r.id!==t))}createStep(){const t=this.stepsArray.length;this.stepsArray.push({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:i=>this.openStepContextMenu(t,i.originalEvent)}),this.stepsArray=[...this.stepsArray],this.wireframe.steps.push({name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[],id:t}),this.selectStep(t)}selectStep(t){this.activeStepIndex=t}removeStep(t){this.activeStepIndex===t&&this.selectStep(0),this.stepsArray.splice(t,1),this.stepsArray=this.stepsArray.map((i,r)=>({label:i.label,command:0===r?()=>this.selectStep(r):c=>this.openStepContextMenu(r,c.originalEvent)})),this.wireframe.steps.splice(t,1),this.wireframe.steps=this.wireframe.steps.map((i,r)=>(i.id=r,i))}openStepContextMenu(t,i){this.stepsContextMenu=[{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",command:this.selectStep.bind(this,t)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:this.removeStep.bind(this,t)}],this.stepsContextMenuElem&&this.stepsContextMenuElem.toggle(i)}stepsPanelCaptionUpdate(t){this.stepsArray[this.activeStepIndex].label=t,this.stepsArray=[...this.stepsArray]}fillingEmptyStepName(){this.wireframe.steps[this.activeStepIndex]&&""===this.wireframe.steps[this.activeStepIndex].name&&(this.wireframe.steps[this.activeStepIndex].name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray[this.activeStepIndex].label="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray=[...this.stepsArray])}createWireframe(){this.api.createWireframe(this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fillingSteps(t){this.stepsArray=t.map((i,r)=>({label:i.name,command:0===r?()=>this.selectStep(i.id):c=>this.openStepContextMenu(i.id,c.originalEvent)}))}updateWireframe(){this.api.updateWireframe(this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fieldsLabelsList(){const t=[];return this.wireframe.steps.forEach(i=>{i.fields.forEach(r=>{t.push({label:r.name,id:r.id,listViewIndex:r.listViewIndex,orderPosition:r.orderPosition})})}),t.sort((i,r)=>i.orderPosition-r.orderPosition),t}selectFieldToView(t){this._wireframe.steps.forEach(i=>{console.log(i.fields,t),i.fields.forEach(r=>{r.id===t.id?r.listViewIndex=t.index:r.listViewIndex===t.index&&(r.listViewIndex=void 0)})})}reorderFields(){this.wireframeFieldsList.forEach((t,i)=>{this.wireframe.steps.forEach(r=>{r.fields.forEach(c=>{c.id===t.id&&(c.orderPosition=i)})})})}changeStagesSettingsStep(){this.constructStage="STAGES",this.wireframe=this.wireframe,this.reorderFields()}changeViewSettingsStep(){this.constructStage="VIEW"}taskItemForView(){return{taskId:0,modelWireframe:this.wireframe,listItemFields:[],allEmployeesObservers:[]}}createStage(){var t,i,r;this.wireframe.stages=[...null!==(t=this.wireframe.stages)&&void 0!==t?t:[],{label:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0434\u0438\u044f",stageId:(0,Er.Z)(),orderIndex:null!==(r=null===(i=this.wireframe.stages)||void 0===i?void 0:i.length)&&void 0!==r?r:0}]}removeStage(t){var i;this.wireframe.stages=null===(i=this.wireframe.stages)||void 0===i?void 0:i.filter(r=>r.stageId!==t).map((r,c)=>(r.orderIndex=c,r))}mouseDown(t){t.stopPropagation()}reorderStages(){var t;this.wireframe.stages=null===(t=this.wireframe.stages)||void 0===t?void 0:t.map((i,r)=>(i.orderIndex=r,i))}viewTestFieldsFromWireframe(t){const i={test:"8 (999) 123-45-67",test2:"8 (898) 555-35-35"},C={city:{name:"\u0412\u043e\u043b\u0433\u043e\u0434\u043e\u043d\u0441\u043a"},district:{name:"\u0412-8"},street:{name:"\u041a.\u041c\u0430\u0440\u043a\u0441\u0430"},houseNum:44,apartmentNum:46,entrance:2,floor:5},ae=[];return t.steps.forEach(tt=>{tt.fields.forEach(rt=>{"number"==typeof rt.orderPosition&&ae.push({name:rt.name,id:rt.id,wireframeFieldType:rt.type,modelItemId:0,phoneData:i,stringData:"\u041f\u0440\u0438\u043d\u0438\u043c\u0430\u044f \u0432\u043e \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u0438, \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u043e\u0432\u0435\u0441\u0442\u043a\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u0435\u0433\u043e \u0434\u043d\u044f \u0432\u044b\u044f\u0432\u043b\u044f\u0435\u0442 \u0441\u0440\u043e\u0447\u043d\u0443\u044e \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0435\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0430\u0437\u0443\u043c\u0430 \u043d\u0430\u0434 \u044d\u043c\u043e\u0446\u0438\u044f\u043c\u0438. \u041d\u043e \u0433\u043b\u0443\u0431\u043e\u043a\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u043e\u0433\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442 \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0443\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u043c\u043e\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u0446\u0435\u043d\u043d\u043e\u0441\u0442\u0435\u0439. \u041f\u0440\u0438\u043d\u0438\u043c\u0430\u044f \u0432\u043e \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u0438, \u043f\u0435\u0440\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0448\u0430\u043d\u0441\u0430 \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u043a\u0430\u0434\u0440\u043e\u0432, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439 \u043d\u0430\u0441\u0443\u0449\u043d\u044b\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u044f\u043c. \u0421 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b, \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f \u0441 \u0448\u0438\u0440\u043e\u043a\u0438\u043c \u0430\u043a\u0442\u0438\u0432\u043e\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0435 \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u043e\u0432 \u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432.",integerData:23,floatData:325.56,addressData:C,booleanData:!0,timestampData:"1995-09-01T17:30:00"})})}),ae}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(s.gz),e.Y36(ir))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-wireframe-constructor-page"]],viewQuery:function(t,i){if(1&t&&e.Gf(fh,5),2&t){let r;e.iGM(r=e.CRH())&&(i.stepsContextMenuElem=r.first)}},decls:10,vars:13,consts:[["appExtendPageHeight","",1,"flexed","vcenter","column","gap15",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"model","popup"],["stepsContextMenuElem",""],["header","\u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",3,"visible","modal","visibleChange"],["pTemplate","content"],["listElementTemplate",""],[1,"flexed","column","gap10","panel","p10"],[1,"flexed","gap5"],["label","\u0412\u044b\u0439\u0442\u0438","icon","mdi-close","styleClass","p-button-secondary p-button-text",3,"onClick"],["label","\u0414\u0430\u043b\u0435\u0435: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0442\u0430\u0434\u0438\u0439 \u0437\u0430\u0434\u0430\u0447\u0438","icon","mdi-navigate_next",3,"disabled","onClick"],[1,"gap10","flexed","hend"],[1,"input-label-wrapper"],["pInputText","",3,"ngModel","disabled","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"flexed"],[1,"input-label-wrapper","stretched"],["pInputTextarea","",3,"ngModel","autoResize","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0430\u043f","icon","mdi-add","styleClass","p-button-success",1,"self-center",3,"onClick"],[1,"stretched",3,"activeIndex","model","readonly"],[1,"flexed","hcenter","column","stretched"],[1,"step-construct-view","panel"],[1,"step-construct-view-header"],[1,"step-construct-view-header-step-number"],[1,"step-construct-view-header-caption",3,"caption","captionChange","onStopEditing"],[1,"flexed","column","p20","gap5"],["class","flexed gap5 hcenter",4,"ngFor","ngForOf"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435","model","p-button-success",3,"onClick"],[1,"flexed","gap5","hcenter"],[1,"stretched",3,"field","isExample"],["icon","delete","model","danger",3,"click"],[1,"flexed","column","gap10"],[1,"gap15","flexed","hend","panel","p10"],["icon","arrow_back_ios","label","\u041d\u0430\u0437\u0430\u0434","model","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","navigate_next","label","\u0414\u0430\u043b\u0435\u0435: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",3,"disabled","onClick"],["header","\u0421\u0442\u0430\u0434\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438",1,"stage-list-panel"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0434\u0438\u044e","model","p-button-success",3,"onClick"],[3,"dragdrop","value","onReorder"],["pTemplate","item"],[1,"flexed","hcenter","gap5","caption"],[1,"material-icons-round","drag-icon"],[1,"caption","size-small","f-color-500"],[1,"inline-input",3,"ngModel","mousedown","ngModelChange"],[1,"stretched"],["icon","delete","model","danger",3,"size","mousedown","onClick"],[1,"flexed","column","gap20","panel","p10"],[1,"gap15","flexed","hend","vend"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick",4,"ngIf"],[1,"gap5","flexed","column","p10"],[1,"header400"],[1,"gap10","flexed","column"],[3,"ngModel","options","ngModelChange"],[3,"item","viewExample","isHover","wireframeFieldsList","selectFieldToView"],[1,"gap5","flexed","column","overflow"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick"],[1,"flexed","column","p10","gap10"],["appendTo","body","styleClass","full-width",3,"ngModel","options","ngModelChange"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],[3,"ngSwitch"],["class","flexed p8 hcenter item-example",4,"ngSwitchCase"],[1,"flexed","p8","hcenter","item-example"],["classes","caption",3,"fields","index","selectView"],[3,"size"],[1,"caption"],[1,"flexed","column","gap5"],["classes","caption size-small wt-bold f-color-500",3,"fields","index","selectView"],["classes","caption size-small",3,"fields","index","selectView"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Cd,30,12,"ng-container",1),e.YNc(2,h_,11,5,"ng-container",1),e.YNc(3,Ch,21,11,"ng-container",1),e.qZA(),e._UZ(4,"p-menu",2,3),e.TgZ(6,"p-dialog",4),e.NdJ("visibleChange",function(c){return i.chooseFieldTypeDialogVisible=c}),e.YNc(7,m_,3,2,"ng-template",5),e.qZA(),e.YNc(8,v_,4,4,"ng-template",null,6,e.W1O)),2&t&&(e.Udp("padding-bottom","2rem"),e.Q6J("ngSwitch",i.constructStage),e.xp6(1),e.Q6J("ngSwitchCase","FIELDS"),e.xp6(1),e.Q6J("ngSwitchCase","STAGES"),e.xp6(1),e.Q6J("ngSwitchCase","VIEW"),e.xp6(1),e.Q6J("model",i.stepsContextMenu)("popup",!0),e.xp6(2),e.Akn(e.DdM(12,b_)),e.Q6J("visible",i.chooseFieldTypeDialogVisible)("modal",!0))},dependencies:[ms.A,$i.r,yy.h,Li.r,qo.o,at.E,PT.g,Se,Iy,$.Fj,$.JJ,$.On,j.jx,I.sg,ki.V,St.Lt,gd,I.O5,Ur.g,Ii.zx,I.RF,I.n9,oc,md,Uo.v2,Ye.o],styles:[".item-example[_ngcontent-%COMP%]{box-shadow:0 0 2px #0003,0 .5rem 1rem #0000001a}.step-enumerator-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:min-content;min-width:40rem}.step-construct-view[_ngcontent-%COMP%]{min-width:40rem;width:max-content}.step-construct-view-header[_ngcontent-%COMP%]{display:flex;padding:1.7rem 2.1rem;gap:.5rem;align-items:center}.step-construct-view-header-step-number[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:var(--tc-500)}.step-construct-view-header-caption[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:var(--tc-700)}.step-construct-view-header-edit-button[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--mc-500);transform:translateY(.15rem)}.step-construct-view-content[_ngcontent-%COMP%]{display:flex}.stage-list-panel[_ngcontent-%COMP%]{min-width:30rem}.inline-input[_ngcontent-%COMP%]{border:0;outline:0;background-color:transparent;color:var(--tc-600);transition:color .2s ease-in-out}.inline-input[_ngcontent-%COMP%]:hover{color:var(--tc-900)}.drag-icon[_ngcontent-%COMP%]{color:var(--tc-300)}"]}),n})();const I_=function(n,o,t){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":n,"p-disabled":o,"p-focus":t}},A_={provide:$.JU,useExisting:(0,e.Gpc)(()=>bd),multi:!0};let bd=(()=>{class n{constructor(t){this.cd=t,this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(t,i){!this.disabled&&!this.readonly&&(t.preventDefault(),this.toggle(t),i.focus())}onInputChange(t){this.readonly||this.updateModel(t,t.target.checked)}toggle(t){this.updateModel(t,!this.checked())}updateModel(t,i){this.modelValue=i?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:t,checked:this.modelValue})}onFocus(t){this.focused=!0}onBlur(t){this.focused=!1,this.onModelTouched()}writeValue(t){this.modelValue=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[e._Bn([A_])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(p){e.CHM(r);const C=e.MAs(3);return e.KtG(i.onClick(p,C))}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(p){return i.onInputChange(p)})("focus",function(p){return i.onFocus(p)})("blur",function(p){return i.onBlur(p)}),e.qZA()(),e._UZ(4,"span",4),e.qZA()}2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(12,I_,i.checked(),i.disabled,i.focused))("ngStyle",i.style),e.xp6(2),e.Q6J("checked",i.checked())("disabled",i.disabled),e.uIk("aria-label",i.ariaLabel)("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-checked",i.checked())("aria-labelledby",i.ariaLabelledBy))},dependencies:[I.mk,I.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),n})(),T_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez]}),n})();function w_(n,o){1&n&&(e.TgZ(0,"div",26),e._UZ(1,"i",27),e.TgZ(2,"span"),e._uU(3," \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 "),e.qZA()())}function x_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e._UZ(1,"app-avatar",29),e.TgZ(2,"div",4)(3,"span",30),e._uU(4),e.qZA(),e.TgZ(5,"div",31)(6,"span",32),e._uU(7),e.qZA(),e.TgZ(8,"span",32),e._uU(9),e.qZA()()(),e._UZ(10,"div",33),e.TgZ(11,"p-button",34),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.openEmployeeEditor(c.login))}),e.qZA(),e.TgZ(12,"p-button",35),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.employeeDeleteConfirm(c))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();let r,c,p;e.xp6(1),e.Q6J("deleted",null!==(r=t.deleted)&&void 0!==r&&r)("name",t.fullName)("size",2.5)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(3),e.hij(" ",null==t.department?null:t.department.name," "),e.xp6(2),e.hij(" ",null==t.position?null:t.position.name," "),e.xp6(2),e.Q6J("disabled",null!==(c=t.deleted)&&void 0!==c&&c),e.xp6(1),e.Q6J("disabled",null!==(p=t.deleted)&&void 0!==p&&p)("loading",!!t.login&&i.isBeginDeleteEmployee[t.login])}}function E_(n,o){1&n&&(e.TgZ(0,"div",26),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3," \u041e\u0442\u0434\u0435\u043b\u044b "),e.qZA()())}const vh=function(){return{maxWidth:"20rem",marginLeft:".5rem"}};function S_(n,o){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,vh)),e.xp6(1),e.hij(" ",t.description," ")}}function k_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"span",39),e._uU(3),e.qZA(),e.YNc(4,S_,2,4,"div",40),e.qZA(),e._UZ(5,"div",33),e.TgZ(6,"p-button",34),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw();let C;return e.KtG(p.openDepartmentEditor(null!==(C=c.name)&&void 0!==C?C:"",null!==(C=c.description)&&void 0!==C?C:"",c.departmentId))}),e.qZA(),e.TgZ(7,"p-button",41),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.departmentDeleteConfirm(c))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();let r;e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(r=t.deleted)&&void 0!==r&&r),e.xp6(1),e.Q6J("loading",!!t.departmentId&&i.isBeginDeleteDepartment[t.departmentId])}}function M_(n,o){1&n&&(e.TgZ(0,"div",26),e._UZ(1,"i",43),e.TgZ(2,"span"),e._uU(3," \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438 "),e.qZA()())}function LT(n,o){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,vh)),e.xp6(1),e.hij(" ",t.description," ")}}function Uy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"span",39),e._uU(3),e.qZA(),e.YNc(4,LT,2,4,"div",40),e.qZA(),e._UZ(5,"div",33),e.TgZ(6,"p-button",34),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw();let C;return e.KtG(p.openPositionEditor(null!==(C=c.name)&&void 0!==C?C:"",null!==(C=c.description)&&void 0!==C?C:"",null!==(C=c.access)&&void 0!==C?C:0,c.positionId))}),e.qZA(),e.TgZ(7,"p-button",41),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.positionDeleteConfirm(c))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();let r;e.xp6(3),e.hij(" ",null==t?null:t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(r=t.deleted)&&void 0!==r&&r),e.xp6(1),e.Q6J("loading",!!t.positionId&&i.isBeginDeletePosition[t.positionId])}}function zy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"span",45)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",46),e.qZA(),e.TgZ(5,"span",45)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",47),e.qZA(),e.TgZ(9,"app-button",48),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.departmentCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginCreatingDepartment)}}function D_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"span",45)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",46),e.qZA(),e.TgZ(5,"span",45)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",47),e.qZA(),e.TgZ(9,"app-button",49),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.departmentEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginEditingDepartment)}}function Gy(n,o){if(1&n&&e._UZ(0,"p-checkbox",53),2&n){const t=o.$implicit;e.Q6J("label",t.name)("value",t.value)}}function Yo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"span",45)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",46),e.qZA(),e.TgZ(5,"span",45)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",47),e.qZA(),e.TgZ(9,"p-panel",50)(10,"div",51),e.YNc(11,Gy,1,2,"p-checkbox",52),e.qZA()(),e.TgZ(12,"app-button",48),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.positionCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(3),e.Q6J("ngForOf",t.accessFlags()),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginCreatingPosition)}}function O_(n,o){if(1&n&&e._UZ(0,"p-checkbox",53),2&n){const t=o.$implicit;e.Q6J("label",t.name)("value",t.value)}}function Qy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"span",45)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",46),e.qZA(),e.TgZ(5,"span",45)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",47),e.qZA(),e.TgZ(9,"p-panel",50)(10,"div",51),e.YNc(11,O_,1,2,"p-checkbox",52),e.qZA()(),e.TgZ(12,"app-button",49),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.positionEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(3),e.Q6J("ngForOf",t.accessFlags()),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginEditingPosition)}}function Jy(n,o){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.Oqu(t.name)}}function P_(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function jy(n,o){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function R_(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function L_(n,o){if(1&n&&e._UZ(0,"p-checkbox",53),2&n){const t=o.$implicit;e.Q6J("label",t.name)("value",t.value)}}function uc(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,L_,1,2,"p-checkbox",52),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())}}const yd=function(){return{standalone:!0}};function Wy(n,o){if(1&n&&e._UZ(0,"p-checkbox",75),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("disabled",!0)("label",t.name)("ngModelOptions",e.DdM(5,yd))("ngModel",i.accessOfSelectedPosition)("value",t.value)}}function N_(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,Wy,1,6,"p-checkbox",74),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.accessFlagTrackBy)}}const bh=function(){return{lineHeight:"0"}};function F_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"div",54)(2,"span",55)(3,"label"),e._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(5,"input",56),e.qZA(),e.TgZ(6,"span",55)(7,"label"),e._uU(8,"\u0418\u043c\u044f"),e.qZA(),e._UZ(9,"input",57),e.qZA(),e.TgZ(10,"span",55)(11,"label"),e._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(13,"input",58),e.qZA()(),e.TgZ(14,"div",54)(15,"span",55)(16,"label"),e._uU(17,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(18,"input",59),e.qZA(),e.TgZ(19,"span",55)(20,"label"),e._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(22,"input",60),e.qZA()(),e.TgZ(23,"div",54)(24,"span",55)(25,"label"),e._uU(26,"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(27,"input",61),e.qZA(),e.TgZ(28,"span",55)(29,"label"),e._uU(30,"Telegram ID"),e.qZA(),e._UZ(31,"input",62),e.qZA()(),e.TgZ(32,"div",54)(33,"span",45)(34,"label"),e._uU(35,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(36,"p-dropdown",63),e.YNc(37,Jy,2,2,"ng-template",64),e.YNc(38,P_,2,1,"ng-template",65),e.qZA()(),e.TgZ(39,"span",45)(40,"label"),e._uU(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(42,"p-dropdown",66),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.positionSelecting(r))}),e.YNc(43,jy,2,2,"ng-template",64),e.YNc(44,R_,2,1,"ng-template",65),e.qZA()(),e.TgZ(45,"span",67)(46,"label"),e._uU(47,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),e.qZA(),e._UZ(48,"p-inputSwitch",68),e.qZA()(),e.TgZ(49,"p-panel",50)(50,"div",18)(51,"div",54)(52,"p-toggleButton",69),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.checkAllAccess(r))}),e.qZA(),e.TgZ(53,"p-toggleButton",70),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.accessOverrideChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.isAccessOverride=r)}),e.qZA()(),e.YNc(54,uc,2,1,"div",71),e.YNc(55,N_,2,2,"div",71),e.qZA()(),e.TgZ(56,"app-button",72),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.employeeCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.employeeForm),e.xp6(36),e.Q6J("options",t.departments),e.xp6(6),e.Q6J("options",t.positions),e.xp6(6),e.Q6J("falseValue",!1)("ngStyle",e.DdM(12,bh))("trueValue",!0),e.xp6(4),e.Q6J("disabled",!t.isAccessOverride),e.xp6(1),e.Q6J("ngModel",t.isAccessOverride)("ngModelOptions",e.DdM(13,yd)),e.xp6(1),e.Q6J("ngIf",t.isAccessOverride),e.xp6(1),e.Q6J("ngIf",!t.isAccessOverride),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)}}function NT(n,o){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.Oqu(t.name)}}function yh(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function Ih(n,o){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function jr(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ky(n,o){if(1&n&&e._UZ(0,"p-checkbox",53),2&n){const t=o.$implicit;e.Q6J("label",t.name)("value",t.value)}}function B_(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,Ky,1,2,"p-checkbox",52),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())}}function pa(n,o){if(1&n&&e._UZ(0,"p-checkbox",75),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("disabled",!0)("label",t.name)("ngModelOptions",e.DdM(5,yd))("ngModel",i.accessOfSelectedPosition)("value",t.value)}}function Wr(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,pa,1,6,"p-checkbox",74),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.accessFlagTrackBy)}}function Kr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"div",54)(2,"span",55)(3,"label"),e._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(5,"input",56),e.qZA(),e.TgZ(6,"span",55)(7,"label"),e._uU(8,"\u0418\u043c\u044f"),e.qZA(),e._UZ(9,"input",57),e.qZA(),e.TgZ(10,"span",55)(11,"label"),e._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(13,"input",58),e.qZA()(),e.TgZ(14,"div",54)(15,"span",55)(16,"label"),e._uU(17,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(18,"input",59),e.qZA(),e.TgZ(19,"span",55)(20,"label"),e._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(22,"input",76),e.qZA()(),e.TgZ(23,"div",54)(24,"span",55)(25,"label"),e._uU(26,"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(27,"input",61),e.qZA(),e.TgZ(28,"span",55)(29,"label"),e._uU(30,"Telegram ID"),e.qZA(),e._UZ(31,"input",62),e.qZA()(),e.TgZ(32,"div",54)(33,"span",45)(34,"label"),e._uU(35,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(36,"p-dropdown",63),e.YNc(37,NT,2,2,"ng-template",64),e.YNc(38,yh,2,1,"ng-template",65),e.qZA()(),e.TgZ(39,"span",45)(40,"label"),e._uU(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(42,"p-dropdown",66),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.positionSelecting(r))}),e.YNc(43,Ih,2,2,"ng-template",64),e.YNc(44,jr,2,1,"ng-template",65),e.qZA()(),e.TgZ(45,"span",67)(46,"label"),e._uU(47,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),e.qZA(),e._UZ(48,"p-inputSwitch",68),e.qZA()(),e.TgZ(49,"p-panel",50)(50,"div",18)(51,"div",54)(52,"p-toggleButton",69),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.checkAllAccess(r))}),e.qZA(),e.TgZ(53,"p-toggleButton",70),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.accessOverrideChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.isAccessOverride=r)}),e.qZA()(),e.YNc(54,B_,2,1,"div",71),e.YNc(55,Wr,2,2,"div",71),e.qZA()(),e.TgZ(56,"app-button",77),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.employeeEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.employeeForm),e.xp6(36),e.Q6J("options",t.departments),e.xp6(6),e.Q6J("options",t.positions),e.xp6(6),e.Q6J("falseValue",!1)("ngStyle",e.DdM(12,bh))("trueValue",!0),e.xp6(4),e.Q6J("disabled",!t.isAccessOverride),e.xp6(1),e.Q6J("ngModel",t.isAccessOverride)("ngModelOptions",e.DdM(13,yd)),e.xp6(1),e.Q6J("ngIf",t.isAccessOverride),e.xp6(1),e.Q6J("ngIf",!t.isAccessOverride),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)}}let dc=(()=>{class n{static getName(t){return 0===t?"\u0411\u0435\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u0430":1===t?"\u0427\u0442\u0435\u043d\u0438\u0435":2===t?"\u0417\u0430\u043f\u0438\u0441\u044c":4===t?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435":8===t?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435":16===t?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c\u0438":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439"}static flagList(){return this.array().map(t=>({name:this.getName(t),value:t}))}static read(t){const i=[];for(const r of n.array())t&r&&i.push(r);return i}static array(){return Object.values(n)}}return n.NONE=0,n.READ=1,n.WRITE=2,n.DELETE=4,n.ADMIN=8,n.EMPLOYEE_MANAGEMENT=16,n})(),H_=(()=>{class n{constructor(t,i,r){this.api=t,this.confirm=i,this.rt=r,this.employees=[],this.departments=[],this.positions=[],this.showCreateDepartmentDialog=!1,this.showEditDepartmentDialog=!1,this.isBeginCreatingDepartment=!1,this.isBeginEditingDepartment=!1,this.isBeginDeleteDepartment={},this.departmentForm=new $.cw({id:new $.NI(void 0),name:new $.NI("",$.kI.required),description:new $.NI("")}),this.positionForm=new $.cw({id:new $.NI(void 0),name:new $.NI("",$.kI.required),description:new $.NI(""),access:new $.NI([])}),this.showCreatePositionDialog=!1,this.showEditPositionDialog=!1,this.isBeginCreatingPosition=!1,this.isBeginEditingPosition=!1,this.isBeginDeletePosition={},this.showCreateEmployeeDialog=!1,this.showEditEmployeeDialog=!1,this.employeeFiltrationForm=new $.cw({query:new $.NI(""),showDeleted:new $.NI(!1)}),this.employeeForm=new $.cw({lastName:new $.NI(""),firstName:new $.NI("",$.kI.required),secondName:new $.NI(""),internalPhoneNumber:new $.NI,access:new $.NI([]),login:new $.NI("",$.kI.required),password:new $.NI("",$.kI.required),telegramUserId:new $.NI(""),department:new $.NI(void 0,$.kI.required),position:new $.NI(void 0,$.kI.required),offsite:new $.NI(!1)}),this.isAccessOverride=!1,this.accessOfSelectedPosition=[],this.isBeginDeleteEmployee={},this.isBeginCreatingEmployee=!1,this.isBeginEditingEmployee=!1,this.subscriptions=new B.xf}trackByEmployee(t,i){return i.login+i.fullName+JSON.stringify(i.position)+JSON.stringify(i.department)+i.deleted+i.avatar+i.deleted}trackByPosition(t,i){return i.positionId+i.name+i.description+i.deleted}trackByDepartment(t,i){return i.departmentId+i.name+i.description+i.deleted}ngOnDestroy(){this.subscriptions.unsubscribeAll()}ngOnInit(){this.api.getEmployees(void 0,!1).subscribe(t=>this.employees=t),this.api.getDepartments().subscribe(t=>this.departments=t),this.api.getPositions().subscribe(t=>this.positions=t),this.subscriptions.addSubscription("empUpd",this.rt.employeeUpdated().subscribe(t=>{const i=this.employees.findIndex(r=>r.login===t.login);i>=0&&(this.employees[i]=t)})),this.subscriptions.addSubscription("empCr",this.rt.employeeCreated().subscribe(t=>{this.employees.push(t)})),this.subscriptions.addSubscription("empDel",this.rt.employeeDeleted().subscribe(t=>{const i=this.employees.findIndex(r=>r.login===t.login);i>=0&&this.employees.splice(i,1)})),this.subscriptions.addSubscription("depUpd",this.rt.departmentUpdated().subscribe(t=>{const i=this.departments.findIndex(r=>r.departmentId===t.departmentId);i>=0&&(this.departments[i]=t),this.employees.filter(r=>{var c;return(null===(c=r.department)||void 0===c?void 0:c.departmentId)===t.departmentId}).forEach(r=>{r.department=t})})),this.subscriptions.addSubscription("depCr",this.rt.departmentCreated().subscribe(t=>{this.departments.push(t)})),this.subscriptions.addSubscription("depDel",this.rt.departmentDeleted().subscribe(t=>{const i=this.departments.findIndex(r=>r.departmentId===t.departmentId);i>=0&&this.departments.splice(i,1)})),this.subscriptions.addSubscription("posUpd",this.rt.positionUpdated().subscribe(t=>{const i=this.positions.findIndex(r=>r.positionId===t.positionId);i>=0&&(this.positions[i]=t),this.employees.filter(r=>{var c;return(null===(c=r.position)||void 0===c?void 0:c.positionId)===t.positionId}).forEach(r=>{r.position=t})})),this.subscriptions.addSubscription("posCr",this.rt.positionCreated().subscribe(t=>{this.positions.push(t)})),this.subscriptions.addSubscription("posDel",this.rt.positionDeleted().subscribe(t=>{const i=this.positions.findIndex(r=>r.positionId===t.positionId);i>=0&&this.positions.splice(i,1)})),this.subscriptions.addSubscription("empSearch",this.employeeFiltrationForm.valueChanges.pipe((0,Ke.b)(1e3),(0,_t.x)()).subscribe(t=>{var i,r;this.employeeFiltrationForm.disable({emitEvent:!1}),this.api.getEmployees(null!==(i=t.query)&&void 0!==i?i:void 0,null!==(r=t.showDeleted)&&void 0!==r?r:void 0).subscribe({next:c=>{this.employees=c,this.employeeFiltrationForm.enable({emitEvent:!1})},error:()=>this.employeeFiltrationForm.enable({emitEvent:!1})})}))}departmentCreate(){this.isBeginCreatingDepartment=!0,this.api.createDepartment(this.departmentForm.getRawValue()).subscribe({complete:()=>{this.isBeginCreatingDepartment=!1,this.showCreateDepartmentDialog=!1},error:()=>{this.isBeginCreatingDepartment=!1}})}departmentDelete(t){"number"==typeof t&&(this.isBeginDeleteDepartment[t]=!0,this.api.deleteDepartment(t).subscribe({complete:()=>{delete this.isBeginDeleteDepartment[t]},error:()=>{delete this.isBeginDeleteDepartment[t]}}))}departmentDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b: "+t.name+"?",accept:()=>{this.departmentDelete(t.departmentId)}})}departmentEdit(){const t=this.departmentForm.value.id;"number"==typeof t&&(this.isBeginEditingDepartment=!0,this.api.editDepartment(this.departmentForm.getRawValue(),t).subscribe({complete:()=>{this.isBeginEditingDepartment=!1,this.showEditDepartmentDialog=!1},error:()=>{this.isBeginEditingDepartment=!1}}))}openDepartmentEditor(t,i,r){"number"==typeof r&&(this.showEditDepartmentDialog=!0,this.departmentForm.setValue({id:r,name:t,description:i}))}openDepartmentCreator(){this.showCreateDepartmentDialog=!0,this.departmentForm.reset()}openPositionCreator(){this.showCreatePositionDialog=!0,this.positionForm.reset()}openPositionEditor(t,i,r,c){"number"==typeof c&&(this.showEditPositionDialog=!0,this.positionForm.setValue({id:c,name:t,description:i,access:dc.read(r)}))}accessFlags(){return dc.flagList()}positionCreate(){const t=this.positionForm.getRawValue();this.isBeginCreatingPosition=!0,Array.isArray(t.access)&&(t.access=t.access.reduce((i,r)=>i+r,0)),this.api.createPosition(t).subscribe({complete:()=>{this.isBeginCreatingPosition=!1,this.showCreatePositionDialog=!1},error:()=>{this.isBeginCreatingPosition=!1}})}positionEdit(){const t=this.positionForm.getRawValue();"number"==typeof t.id&&(this.isBeginEditingPosition=!0,Array.isArray(t.access)&&(t.access=t.access.reduce((i,r)=>i+r,0)),this.api.editPosition(t,t.id).subscribe({complete:()=>{this.isBeginEditingPosition=!1,this.showEditPositionDialog=!1},error:()=>{this.isBeginEditingPosition=!1}}))}positionDelete(t){"number"==typeof t&&(this.isBeginDeletePosition[t]=!0,this.api.deletePosition(t).subscribe({complete:()=>{delete this.isBeginDeletePosition[t]},error:()=>{delete this.isBeginDeletePosition[t]}}))}positionDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: "+t.name+"?",accept:()=>{this.positionDelete(t.positionId)}})}openEmployeeCreator(){this.showCreateEmployeeDialog=!0}accessOverrideChange(t){t||this.employeeForm.patchValue({access:[]})}positionSelecting(t){const i=this.positions.find(r=>r.positionId===t.value);i&&i.access&&(this.accessOfSelectedPosition=dc.read(i.access))}accessFlagTrackBy(t,i){return i.value}checkAllAccess(t){const{checked:i}=t;this.employeeForm.patchValue(i?{access:dc.array()}:{access:[]})}employeeCreate(){const t=this.employeeForm.getRawValue();this.isBeginCreatingEmployee=!0,Array.isArray(t.access)&&(t.access=t.access.reduce((i,r)=>i+r,0)),this.api.createEmployee(t).subscribe({complete:()=>{this.isBeginCreatingEmployee=!1,this.showCreateEmployeeDialog=!1},error:()=>{this.isBeginCreatingEmployee=!1}})}employeeDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+t.login+"?",accept:()=>{this.employeeDelete(t.login)}})}employeeDelete(t){"string"==typeof t&&(this.isBeginDeleteEmployee[t]=!0,this.api.deleteEmployee(t).subscribe({complete:()=>{delete this.isBeginDeleteEmployee[t]},error:()=>{delete this.isBeginDeleteEmployee[t]}}))}employeeEdit(){const t=this.employeeForm.getRawValue();"string"==typeof t.login&&(this.isBeginEditingEmployee=!0,Array.isArray(t.access)&&(t.access=t.access.reduce((i,r)=>i+r,0)),this.api.editEmployee(t,t.login).subscribe({complete:()=>{this.isBeginEditingEmployee=!1,this.showEditEmployeeDialog=!1},error:()=>{this.isBeginEditingEmployee=!1}}))}openEmployeeEditor(t){"string"==typeof t&&this.api.getEmployee(t).subscribe({next:i=>{var r,c,p,C;this.employeeForm.patchValue({login:i.login,password:"password",access:dc.read(null!==(r=i.access)&&void 0!==r?r:0),department:null===(c=i.department)||void 0===c?void 0:c.departmentId,position:null===(p=i.position)||void 0===p?void 0:p.positionId,secondName:i.secondName,firstName:i.firstName,lastName:i.lastName,internalPhoneNumber:i.internalPhoneNumber,telegramUserId:i.telegramUserId,offsite:i.offsite}),this.positionSelecting({value:null===(C=i.position)||void 0===C?void 0:C.positionId}),this.showEditEmployeeDialog=!0},error:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(j.YP),e.Y36(Zi.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:43,vars:31,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"stretched","panel","overflow"],["pTemplate","header"],[1,"flexed","column"],[1,"flexed","gap10","vcenter","hcenter",3,"formGroup"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text"],[1,"caption","size-small","f-color-500","flexed","column","hcenter"],["formControlName","showDeleted",3,"falseValue","ngStyle","trueValue"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-text p-button-success",3,"onClick"],[1,"employee-list"],["class","employee-list-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","column","gap10"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[1,"list-view"],["class","list-view-item bordered",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap10","column"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","resizable","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","resizable","visibleChange"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","resizable","visibleChange"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","resizable","visibleChange"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","resizable","visibleChange"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","resizable","visibleChange"],[1,"flexed","gap3","hcenter"],[1,"mdi-person"],[1,"employee-list-item"],[3,"deleted","name","size","src"],[1,"caption"],[1,"flexed","gap5","hcenter"],["appColorize",""],[1,"stretched"],["icon","mdi-edit","styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"disabled","onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"mdi-groups"],[1,"list-view-item","bordered"],[1,"flexed","column","gap5"],["appColorize","",1,"caption","size-small","f-color-500"],["class","caption size-small",3,"style",4,"ngIf"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"loading","onClick"],[1,"caption","size-small"],[1,"mdi-badge"],[1,"flexed","column","gap5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText","","type","text"],["formControlName","description","pInputTextarea","",3,"autoResize","cols","rows"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430"],[1,"flexed","gap10","wrapped"],["formControlName","access","name","access",3,"label","value",4,"ngFor","ngForOf"],["formControlName","access","name","access",3,"label","value"],[1,"flexed","gap10","hcenter"],[1,"input-label-wrapper","full-width"],["appRegexPatternChecker","","formControlName","lastName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text"],["appRegexPatternChecker","","formControlName","firstName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text"],["appRegexPatternChecker","","formControlName","secondName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text"],["appRegexPatternChecker","","formControlName","login","pInputText","","patternRx","^[A-z\\d\\.-_]+$","type","text"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[A-z\\d\\.-_]+$","type","text"],["appRegexPatternChecker","","formControlName","internalPhoneNumber","pInputText","","patternRx","^\\d+$","type","text"],["appRegexPatternChecker","","formControlName","telegramUserId","pInputText","","patternRx","^\\d+$","type","text"],["formControlName","department","optionLabel","name","optionValue","departmentId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options"],["pTemplate","selectedItem"],["pTemplate","item"],["formControlName","position","optionLabel","name","optionValue","positionId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","onChange"],[1,"input-label-wrapper","flexed","vcenter"],["formControlName","offsite",3,"falseValue","ngStyle","trueValue"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"disabled","onChange"],["offLabel","\u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c","onLabel","\u0418\u0437 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"ngModel","ngModelOptions","ngModelChange"],["class","flexed gap10 wrapped",4,"ngIf"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","onClick"],["appColorize","",3,"colorString"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value",4,"ngFor","ngForOf","ngForTrackBy"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[A-z\\d\\.-_]+$","type","password"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"p-tabView",2)(4,"p-tabPanel"),e.YNc(5,w_,4,0,"ng-template",3),e.TgZ(6,"div",4)(7,"div",5)(8,"span",6),e._UZ(9,"i",7)(10,"input",8),e.qZA(),e.TgZ(11,"span",9),e._UZ(12,"p-inputSwitch",10),e._uU(13," \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435? "),e.qZA(),e.TgZ(14,"span")(15,"app-button",11),e.NdJ("onClick",function(){return i.openEmployeeCreator()}),e.qZA()()(),e.TgZ(16,"div",12),e.YNc(17,x_,13,10,"div",13),e.qZA()()(),e.TgZ(18,"p-tabPanel"),e.YNc(19,E_,4,0,"ng-template",3),e.TgZ(20,"div",14)(21,"div")(22,"app-button",15),e.NdJ("onClick",function(){return i.openDepartmentCreator()}),e.qZA()(),e.TgZ(23,"div",16),e.YNc(24,k_,8,4,"div",17),e.qZA()()(),e.TgZ(25,"p-tabPanel"),e.YNc(26,M_,4,0,"ng-template",3),e.TgZ(27,"div",18)(28,"app-button",15),e.NdJ("onClick",function(){return i.openPositionCreator()}),e.qZA(),e.TgZ(29,"div",16),e.YNc(30,Uy,8,4,"div",17),e.qZA()()()()()(),e.TgZ(31,"p-dialog",19),e.NdJ("visibleChange",function(c){return i.showCreateDepartmentDialog=c}),e.YNc(32,zy,10,6,"ng-template",20),e.qZA(),e.TgZ(33,"p-dialog",21),e.NdJ("visibleChange",function(c){return i.showEditDepartmentDialog=c}),e.YNc(34,D_,10,6,"ng-template",20),e.qZA(),e.TgZ(35,"p-dialog",22),e.NdJ("visibleChange",function(c){return i.showCreatePositionDialog=c}),e.YNc(36,Yo,13,7,"ng-template",20),e.qZA(),e.TgZ(37,"p-dialog",23),e.NdJ("visibleChange",function(c){return i.showEditPositionDialog=c}),e.YNc(38,Qy,13,7,"ng-template",20),e.qZA(),e.TgZ(39,"p-dialog",24),e.NdJ("visibleChange",function(c){return i.showCreateEmployeeDialog=c}),e.YNc(40,F_,57,14,"ng-template",20),e.qZA(),e.TgZ(41,"p-dialog",25),e.NdJ("visibleChange",function(c){return i.showEditEmployeeDialog=c}),e.YNc(42,Kr,57,14,"ng-template",20),e.qZA()),2&t&&(e.xp6(1),e.Udp("padding-bottom","2rem"),e.xp6(6),e.Q6J("formGroup",i.employeeFiltrationForm),e.xp6(5),e.Q6J("falseValue",!1)("ngStyle",e.DdM(30,bh))("trueValue",!0),e.xp6(5),e.Q6J("ngForOf",i.employees)("ngForTrackBy",i.trackByEmployee),e.xp6(7),e.Q6J("ngForOf",i.departments)("ngForTrackBy",i.trackByDepartment),e.xp6(6),e.Q6J("ngForOf",i.positions)("ngForTrackBy",i.trackByPosition),e.xp6(1),e.Q6J("visible",i.showCreateDepartmentDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditDepartmentDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreatePositionDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditPositionDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreateEmployeeDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditEmployeeDialog)("modal",!0)("resizable",!1))},dependencies:[ms.A,$i.r,ht,Mt.k,Ds,Se,bd,$._Y,$.Fj,$.JJ,$.JL,$.On,I.PC,vo.xf,vo.x4,j.jx,I.sg,ki.V,$.sg,$.u,St.Lt,gd,Zr,Xa.XZ,I.O5,Ur.g,Ii.zx,Ye.o],styles:[".employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.employee-list-item[_ngcontent-%COMP%]{display:flex;cursor:pointer;padding:1rem;gap:1rem;align-items:center;transition:background-color .2s ease-out}.employee-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.department-menu[_ngcontent-%COMP%]{border-left:1px solid var(--bgc-300)}"]}),n})();var Yy=_(9936);const $y=["headerItm"],qy=["contentItm"];function Xy(n,o){1&n&&e.GkF(0)}function Ah(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.header," ")}}function $c(n,o){1&n&&e.GkF(0)}const eI=function(n){return{$implicit:n}};function V_(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,$c,1,0,"ng-container",7),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(2,eI,t))}}let tI=(()=>{class n{constructor(t){this.host=t,this._items=[],this.header="",this.headerTemplate=null,this.itemTemplate=null,this.onScrollDown=new e.vpe}set items(t){this._items=t}get items(){return this._items}onResize(){const t=this.host.nativeElement,i=this.host.nativeElement.parentElement,r=getComputedStyle(i),c=parseFloat(r.getPropertyValue("padding-top")),p=parseFloat(r.getPropertyValue("padding-bottom"));t.style.maxHeight=i.clientHeight-(c+p)+"px"}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>this.onResize()),this.contentItm.nativeElement.onwheel=t=>{const i=t.target;i.scrollHeight-(i.offsetHeight+i.scrollTop)==0&&this.onScrollDown.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf($y,5),e.Gf(qy,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.headerItm=r.first),e.iGM(r=e.CRH())&&(i.contentItm=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)},inputs:{items:"items",header:"header",headerTemplate:"headerTemplate",itemTemplate:"itemTemplate"},outputs:{onScrollDown:"onScrollDown"},decls:7,vars:3,consts:[[1,"header"],["headerItm",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"content"],["contentItm",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,Xy,1,0,"ng-container",2),e.YNc(3,Ah,2,1,"ng-container",3),e.qZA(),e.TgZ(4,"div",4,5),e.YNc(6,V_,2,4,"div",6),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngTemplateOutlet",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",!i.headerTemplate),e.xp6(3),e.Q6J("ngForOf",i.items))},dependencies:[I.sg,I.O5,I.tP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;border:1px solid var(--bgc-300);min-height:100px;height:max-content;min-width:15rem;max-width:30rem;overflow:hidden}[_nghost-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:.9rem 1.1rem;background-color:#fff;color:var(--tc-700);font-size:1.1rem;font-weight:700;border-bottom:1px solid var(--bgc-300)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;height:100%}"]}),n})();const Z_=["taskMovePanel"];function U_(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-button",13),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkedTasks=[])}),e.qZA(),e.TgZ(2,"app-button",14),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const c=e.MAs(14);return e.KtG(c.toggle(r))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("@fade",void 0)("disabled",!(null!=t.wireframe&&t.wireframe.stages)||0===(null==t.wireframe||null==t.wireframe.stages?null:t.wireframe.stages.length))}}function Id(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.allTaskChecked("null-pointer",r))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3," \u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438 "),e.qZA(),e._UZ(4,"app-colored-tag",21),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("binary",!0),e.xp6(3),e.Q6J("caption",t.getCount("null-pointer"))}}function nI(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.checkedTasks=r)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function z_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.stageScrollDown("null-pointer"))}),e.YNc(1,Id,5,2,"ng-template",null,16,e.W1O),e.YNc(3,nI,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=e.MAs(2),i=e.MAs(4),r=e.oxw();e.Q6J("headerTemplate",t)("itemTemplate",i)("items",r.tasks["null-pointer"])}}function G_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw();return e.KtG(p.allTaskChecked(c.stageId,r))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3),e.qZA(),e._UZ(4,"app-colored-tag",23),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("binary",!0),e.xp6(2),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("captionForColor",t.label)("caption",i.getCount(t.stageId))}}function Th(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.checkedTasks=r)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function Ad(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.stageScrollDown(c.stageId))}),e.YNc(1,G_,5,4,"ng-template",null,16,e.W1O),e.YNc(3,Th,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=o.$implicit,i=e.MAs(2),r=e.MAs(4),c=e.oxw();e.Q6J("headerTemplate",i)("itemTemplate",r)("items",c.tasks[t.stageId])}}const wh=function(){return[]};let xh=(()=>{class n{constructor(t,i,r){this.api=t,this.route=i,this.rt=r,this.tasks={},this.tasksCount={},this.tasksLoading={},this.checkedTasks=[],this.taskMoving=!1}ngOnInit(){this.route.params.subscribe(t=>{const{template:i}=t;this.api.getWireframe(i).subscribe(r=>{var c,p;this.api.getActiveTaskInNullStage(0,10,r.wireframeId).subscribe(C=>{this.tasks["null-pointer"]=C.content,this.tasksCount["null-pointer"]=C.totalElements}),r.stages=null===(c=r.stages)||void 0===c?void 0:c.sort((C,E)=>C.orderIndex-E.orderIndex),null===(p=r.stages)||void 0===p||p.forEach(C=>{this.api.getActiveTaskInStage(0,10,r.wireframeId,C.stageId).subscribe(E=>{this.tasks[C.stageId]=E.content,this.tasksCount[C.stageId]=E.totalElements})}),this.wireframe=r,this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe(),this.anyTaskUpdatingSub=this.rt.taskUpdated().subscribe(this.onAnyTaskUpdate.bind(this))})})}ngOnDestroy(){this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe()}onAnyTaskUpdate(t){var i,r,c,p;for(const C in this.tasks){const E=this.tasks[C].findIndex(ie=>ie.taskId===t.taskId);if(E>=0){const ie=null===(i=this.tasks[C][E].currentStage)||void 0===i?void 0:i.stageId,ae=null===(r=t.currentStage)||void 0===r?void 0:r.stageId;ae&&ae!==ie?(this.tasks[C].splice(E,1),null===(c=this.tasks[ae])||void 0===c||c.push(t),ie&&this.tasksCount[ie]--,this.tasksCount[ae]++,this.tasks[ae]=null===(p=this.tasks[ae])||void 0===p?void 0:p.sort((tt,rt)=>{var it,Pt;return new Date(null!==(it=rt.created)&&void 0!==it?it:"").getTime()-new Date(null!==(Pt=tt.created)&&void 0!==Pt?Pt:"").getTime()})):this.tasks[C].splice(E,1,t)}}}stageScrollDown(t){this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"!==t?(this.tasksLoading[t]=!0,this.api.getActiveTaskInStage(this.tasks[t].length,10,this.wireframe.wireframeId,t).subscribe(i=>{this.tasks[t]=[...this.tasks[t],...i.content],this.tasksLoading[t]=!1})):this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"===t&&(this.tasksLoading["null-pointer"]=!0,this.api.getActiveTaskInStage(this.tasks["null-pointer"].length,10,this.wireframe.wireframeId,"null-pointer").subscribe(i=>{this.tasks["null-pointer"]=[...this.tasks["null-pointer"],...i.content],this.tasksLoading["null-pointer"]=!1}))}declineTask(t){return B.cQ.declineOfNumber(t,["\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447","\u0437\u0430\u0434\u0430\u0447"])}taskMoveApply(){const t=[];this.checkedTasks.forEach(i=>{"string"==typeof this.selectedStageToMove&&(this.taskMoving=!0,this.api.changeTaskStage(i,this.selectedStageToMove).subscribe({next:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(r=>!t.includes(r)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)},error:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(r=>!t.includes(r)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)}}))})}allTaskChecked(t,i){var r,c;!this.wireframe||("null-pointer"!==t?this.api.getActiveTaskIdsInStage(null===(r=this.wireframe)||void 0===r?void 0:r.wireframeId,t).subscribe(p=>{this.checkedTasks=i.checked?[...this.checkedTasks,...p]:this.checkedTasks.filter(C=>!p.includes(C))}):this.api.getActiveTaskIdsInNullStage(null===(c=this.wireframe)||void 0===c?void 0:c.wireframeId).subscribe(p=>{this.checkedTasks=i.checked?[...this.checkedTasks,...p]:this.checkedTasks.filter(C=>!p.includes(C))}))}getCount(t){return this.tasksCount[t]?this.tasksCount[t].toString():"0"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(s.gz),e.Y36(Zi.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(Z_,5),2&t){let r;e.iGM(r=e.CRH())&&(i.taskMovePanel=r.first)}},decls:20,vars:13,consts:[["appExtendPageHeight","",1,"flexed","gap10",3,"limited"],[1,"flexed","column","gap5","overflow"],[1,"caption","size-big","p10","flexed","hcenter","gap5"],[1,"material-icons-round"],[1,"stretched"],[4,"ngIf"],["appDragScrolling","",1,"stages-wrapper"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngIf"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngFor","ngForOf"],["taskMovePanel",""],[1,"flexed","gap10","column"],["optionLabel","label","optionValue","stageId","appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"loading","onClick"],["label","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435","icon","deselect","model","p-button-secondary p-button-outlined",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c","icon","swap_horiz","model","p-button-outlined p-button-help",3,"disabled","onClick"],[3,"headerTemplate","itemTemplate","items","onScrollDown"],["header",""],["taskElem",""],[1,"flexed","hcenter","stretched","spbtw"],[3,"binary","onChange"],["appColorize",""],["captionForColor","\u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438",3,"caption"],[3,"check","item","inlined","checkChange"],[3,"captionForColor","caption"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"span",3),e._uU(5,"checklist"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"div",4),e.YNc(9,U_,3,3,"ng-container",5),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,z_,5,3,"app-list-panel",7),e.YNc(12,Ad,5,3,"app-list-panel",8),e.qZA()()(),e.TgZ(13,"p-overlayPanel",null,9)(15,"div",10)(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"p-dropdown",11),e.NdJ("ngModelChange",function(c){return i.selectedStageToMove=c}),e.qZA(),e.TgZ(19,"app-button",12),e.NdJ("onClick",function(){return i.taskMoveApply()}),e.qZA()()()),2&t){let r;e.Udp("padding-left","1rem"),e.Q6J("limited",!0),e.xp6(7),e.hij(" \u0421\u0442\u0430\u0434\u0438\u0438 \u0437\u0430\u0434\u0430\u0447: ",null==i.wireframe?null:i.wireframe.name," "),e.xp6(2),e.Q6J("ngIf",i.checkedTasks.length>0),e.xp6(2),e.Q6J("ngIf",i.tasksCount["null-pointer"]>0),e.xp6(1),e.Q6J("ngForOf",null==i.wireframe?null:i.wireframe.stages),e.xp6(5),e.AsE("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0434\u0438\u044e \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f ",i.checkedTasks.length," ",i.declineTask(i.checkedTasks.length),""),e.xp6(1),e.Q6J("options",null!==(r=null==i.wireframe?null:i.wireframe.stages)&&void 0!==r?r:e.DdM(12,wh))("ngModel",i.selectedStageToMove),e.xp6(1),e.Q6J("loading",i.taskMoving)}},dependencies:[$i.r,ht,at.E,Ds,Se,Ln,tI,oe.C,$.JJ,$.On,I.sg,St.Lt,Xa.XZ,I.O5,Ue.T],styles:[".stages-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;padding:0 2rem 2rem;gap:1rem;overflow-x:scroll;overflow-y:hidden}.stages-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:500px}.stages-content[_ngcontent-%COMP%]{display:grid;grid:1fr/max-content 1fr}.stage-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex:1;background-color:#fff}"],data:{animation:[wo.U1]}}),n})(),Q_=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:0,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div")(4,"h2"),e._uU(5,"\u0417\u0434\u0435\u0441\u044c \u043e\u0431\u0449\u0438\u0439 \u0434\u0430\u0448\u0431\u043e\u0430\u0440\u0434"),e.qZA()()()())},dependencies:[ht,Se]}),n})(),J_=(()=>{class n{constructor(t){this.api=t,this.items=[],this.fields=[{name:"\u0411\u0443\u043b\u0435\u0432\u043e",id:(0,Er.Z)(),type:We._r.BOOLEAN,orderPosition:1,listViewIndex:1},{name:"\u0418\u043d\u0442\u0435\u0433\u0435\u0440",id:(0,Er.Z)(),type:We._r.INTEGER,orderPosition:1,listViewIndex:1},{name:"\u0424\u043b\u043e\u0430\u0442",id:(0,Er.Z)(),type:We._r.FLOAT,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043a\u0441\u0442",id:(0,Er.Z)(),type:We._r.LARGE_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0421\u0442\u0440\u043e\u043a\u0430",id:(0,Er.Z)(),type:We._r.SMALL_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0410\u0434\u0440\u0435\u0441",id:(0,Er.Z)(),type:We._r.ADDRESS,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",id:(0,Er.Z)(),type:We._r.PHONE_ARRAY,orderPosition:1,listViewIndex:1}],this.form=new $.cw({}),this.employees$=this.api.getEmployees()}ngOnInit(){for(let t=0;t<1e4;t++)this.generateRandomString();for(const t of this.fields)this.form.addControl(t.id,new $.NI(null));this.form.valueChanges.subscribe(t=>console.log(t))}generateRandomString(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";const r=t.length;for(let c=0;c<5;c++)i+=t.charAt(Math.floor(Math.random()*r));this.items.push(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:0,consts:[["appExtendPageHeight","",1,"flexed","hcenter","vcenter","p10"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-task-tag-selector"),e.qZA())},dependencies:[Se,Ou],styles:[".hovered[_ngcontent-%COMP%]{background-color:#fff;transition:background-color .2s ease-in-out;cursor:pointer}.hovered[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();const j_=["paginator"];function W_(n,o){1&n&&e.GkF(0)}function K_(n,o){1&n&&e._UZ(0,"app-task-list-element",15),2&n&&e.Q6J("item",o.$implicit)}const iI=function(){return{flex:"1",minHeight:"2rem"}};function oI(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.YNc(1,K_,1,1,"app-task-list-element",11),e._UZ(2,"div"),e.TgZ(3,"div",12)(4,"p-paginator",13,14),e.NdJ("onPageChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changePage(r))}),e.qZA()()()}if(2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngForOf",t.tasks)("ngForTrackBy",t.taskTrack),e.xp6(1),e.Akn(e.DdM(8,iI)),e.xp6(2),e.Q6J("alwaysShow",!1)("rows",t.PAGE_SIZE)("showCurrentPageReport",!0)("totalRecords",null!==(i=null==t.taskPage?null:t.taskPage.totalElements)&&void 0!==i?i:0)}}function sI(n,o){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"p-progressSpinner",17),e.qZA())}function rI(n,o){1&n&&(e.TgZ(0,"div",16)(1,"span",18),e._UZ(2,"span",19),e.TgZ(3,"span"),e._uU(4," \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0437\u0430\u0434\u0430\u0447 \u043d\u0435\u0442 "),e.qZA()()())}function aI(n,o){if(1&n&&(e.ynx(0,7),e.YNc(1,oI,6,9,"div",8),e.YNc(2,sI,2,0,"div",9),e.YNc(3,rI,5,0,"div",9),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.status),e.xp6(1),e.Q6J("ngSwitchCase","ready"),e.xp6(1),e.Q6J("ngSwitchCase","loading"),e.xp6(1),e.Q6J("ngSwitchCase","empty")}}let lI=(()=>{class n{constructor(t,i,r){this.api=t,this.rt=i,this.personality=r,this.PAGE_SIZE=25,this.filtersForm=new $.cw({template:new $.NI([])}),this.status="loading",this.subscribes=new B.xf,this._pageNum=0}get pageNum(){var t;return null!==(t=this._pageNum)&&void 0!==t?t:0}set pageNum(t){this._pageNum=null!=t?t:0}get tasks(){var t;return(null===(t=this.taskPage)||void 0===t?void 0:t.content)||[]}ngOnInit(){this.personality.onGettingUserData.subscribe(i=>{this.subscribes.addSubscription("tskCr",this.rt.incomingTaskCreated(i.login).subscribe(this.rtCreateTask.bind(this)))}),this.subscribes.addSubscription("tskUp",this.rt.taskUpdated().subscribe(this.rtUpdateTask.bind(this))),this.subscribes.addSubscription("cngFltr",this.filtersForm.valueChanges.pipe((0,rl.h)(i=>!!i.template&&i.template.length>0)).subscribe(i=>{this.toFirstPage(),this.loadTasks(i)})),this.pageNum=B.Ke.load("incomingPageNum");const t=B.Ke.load("incomingFilters");t&&this.filtersForm.setValue(t)}toFirstPage(){this.pageNum=0,this.paginator&&(this.paginator.first=0)}rtCreateTask(t){var i,r;null!==(i=this.taskPage)&&void 0!==i&&i.first&&(null===(r=this.taskPage.content)||void 0===r||r.unshift(t))}rtUpdateTask(t){var i;if(null!==(i=this.taskPage)&&void 0!==i&&i.content){const r=this.taskPage.content.findIndex(c=>c.taskId===t.taskId);-1!==r&&(this.taskPage.content[r]=t)}}loadTasks(t){this.status="loading",this.api.getIncomingTasks(this.pageNum,this.PAGE_SIZE,t).pipe((0,Ip.w)(i=>i.pageable.pageNumber<=i.totalPages?(0,Ap.of)(i):(this.toFirstPage(),this.api.getIncomingTasks(this.pageNum,this.PAGE_SIZE,t)))).subscribe({next:i=>{this.taskPage=i,B.Ke.save("incomingPageNum",this.pageNum),B.Ke.save("incomingFilters",t),this.status=0===this.taskPage.totalElements?"empty":"ready"},error:()=>{this.status="error"}})}changePage(t){this.pageNum=t.page,this.loadTasks(this.filtersForm.getRawValue())}taskTrack(t,i){return i.taskId}isNewDate(t,i){if(0===i)return!0;const r=t[i-1],c=t[i];if(!r||!c)return!1;const p=new Date(r.created);p.setHours(0,0,0,0);const C=new Date(c.created);return C.setHours(0,0,0,0),p.getTime()>C.getTime()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Zi.U),e.Y36(Xs.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(j_,5),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},decls:9,vars:2,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","gap10","stretched"],[4,"ngTemplateOutlet"],[3,"formGroup"],["formControlName","template"],["taskList",""],[3,"ngSwitch"],["class","flexed column stretched gap10",4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter self-center",4,"ngSwitchCase"],[1,"flexed","column","stretched","gap10"],[3,"item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky","bottom0"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"],["paginator",""],[3,"item"],[1,"flexed","column","stretched","hcenter","vcenter","self-center"],["strokeWidth","1",1,"primary-spinner"],[1,"caption","size-big","wt-bold","f-color-500","flexed","column","hcenter","vcenter"],[1,"mds-inbox"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,W_,1,0,"ng-container",3),e.ynx(5,4),e._UZ(6,"app-task-template-multi-selector",5),e.BQk(),e.qZA()()(),e.YNc(7,aI,4,4,"ng-template",null,6,e.W1O)),2&t){const r=e.MAs(8);e.xp6(4),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("formGroup",i.filtersForm)}},dependencies:[ht,at.E,Se,ai,$.JJ,$.JL,I.sg,$.sg,$.u,I.tP,I.RF,I.n9,X.G,Jo.D]}),n})();var qc,Bn,Y_,hc,fl,$_,q_,X_,Td={},eC=[],uI=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ha(n,o){for(var t in o)n[t]=o[t];return n}function Eh(n){var o=n.parentNode;o&&o.removeChild(n)}function gt(n,o,t){var i,r,c,p={};for(c in o)"key"==c?i=o[c]:"ref"==c?r=o[c]:p[c]=o[c];if(arguments.length>2&&(p.children=arguments.length>3?qc.call(arguments,2):t),"function"==typeof n&&null!=n.defaultProps)for(c in n.defaultProps)void 0===p[c]&&(p[c]=n.defaultProps[c]);return gc(n,p,i,r,null)}function gc(n,o,t,i,r){var c={type:n,props:o,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++Y_:r};return null==r&&null!=Bn.vnode&&Bn.vnode(c),c}function Vi(n){return n.children}function Sh(n,o,t){"-"===o[0]?n.setProperty(o,null==t?"":t):n[o]=null==t?"":"number"!=typeof t||uI.test(o)?t:t+"px"}function Xc(n,o,t,i,r){var c;e:if("style"===o)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(o in i)t&&o in t||Sh(n.style,o,"");if(t)for(o in t)i&&t[o]===i[o]||Sh(n.style,o,t[o])}else if("o"===o[0]&&"n"===o[1])c=o!==(o=o.replace(/Capture$/,"")),o=o.toLowerCase()in n?o.toLowerCase().slice(2):o.slice(2),n.l||(n.l={}),n.l[o+c]=t,t?i||n.addEventListener(o,c?Mh:kh,c):n.removeEventListener(o,c?Mh:kh,c);else if("dangerouslySetInnerHTML"!==o){if(r)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==o&&"height"!==o&&"href"!==o&&"list"!==o&&"form"!==o&&"tabIndex"!==o&&"download"!==o&&o in n)try{n[o]=null==t?"":t;break e}catch(p){}"function"==typeof t||(null==t||!1===t&&-1==o.indexOf("-")?n.removeAttribute(o):n.setAttribute(o,t))}}function kh(n){hc=!0;try{return this.l[n.type+!1](Bn.event?Bn.event(n):n)}finally{hc=!1}}function Mh(n){hc=!0;try{return this.l[n.type+!0](Bn.event?Bn.event(n):n)}finally{hc=!1}}function Go(n,o){this.props=n,this.context=o}function eu(n,o){if(null==o)return n.__?eu(n.__,n.__.__k.indexOf(n)+1):null;for(var t;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e)return t.__e;return"function"==typeof n.type?eu(n):null}function nC(n){var o,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,o=0;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return nC(n)}}function fc(n){hc?setTimeout(n):q_(n)}function Dh(n){(!n.__d&&(n.__d=!0)&&fl.push(n)&&!mc.__r++||$_!==Bn.debounceRendering)&&(($_=Bn.debounceRendering)||fc)(mc)}function mc(){var n,o,t,i,r,c,p,C;for(fl.sort(function(E,ie){return E.__v.__b-ie.__v.__b});n=fl.shift();)n.__d&&(o=fl.length,i=void 0,r=void 0,p=(c=(t=n).__v).__e,(C=t.__P)&&(i=[],(r=ha({},c)).__v=c.__v+1,Ph(C,c,r,t.__n,void 0!==C.ownerSVGElement,null!=c.__h?[p]:null,i,null==p?eu(c):p,c.__h),iC(i,c),c.__e!=p&&nC(c)),fl.length>o&&fl.sort(function(E,ie){return E.__v.__b-ie.__v.__b}));mc.__r=0}function dI(n,o,t,i,r,c,p,C,E,ie){var ae,tt,rt,it,Pt,Wt,Jt,cn=i&&i.__k||eC,On=cn.length;for(t.__k=[],ae=0;ae<o.length;ae++)if(null!=(it=t.__k[ae]=null==(it=o[ae])||"boolean"==typeof it?null:"string"==typeof it||"number"==typeof it||"bigint"==typeof it?gc(null,it,null,null,it):Array.isArray(it)?gc(Vi,{children:it},null,null,null):it.__b>0?gc(it.type,it.props,it.key,it.ref?it.ref:null,it.__v):it)){if(it.__=t,it.__b=t.__b+1,null===(rt=cn[ae])||rt&&it.key==rt.key&&it.type===rt.type)cn[ae]=void 0;else for(tt=0;tt<On;tt++){if((rt=cn[tt])&&it.key==rt.key&&it.type===rt.type){cn[tt]=void 0;break}rt=null}Ph(n,it,rt=rt||Td,r,c,p,C,E,ie),Pt=it.__e,(tt=it.ref)&&rt.ref!=tt&&(Jt||(Jt=[]),rt.ref&&Jt.push(rt.ref,null,it),Jt.push(tt,it.__c||Pt,it)),null!=Pt?(null==Wt&&(Wt=Pt),"function"==typeof it.type&&it.__k===rt.__k?it.__d=E=Oh(it,E,n):E=pI(n,it,rt,cn,Pt,E),"function"==typeof t.type&&(t.__d=E)):E&&rt.__e==E&&E.parentNode!=n&&(E=eu(rt))}for(t.__e=Wt,ae=On;ae--;)null!=cn[ae]&&("function"==typeof t.type&&null!=cn[ae].__e&&cn[ae].__e==t.__d&&(t.__d=zn(i).nextSibling),oC(cn[ae],cn[ae]));if(Jt)for(ae=0;ae<Jt.length;ae++)ml(Jt[ae],Jt[++ae],Jt[++ae])}function Oh(n,o,t){for(var i,r=n.__k,c=0;r&&c<r.length;c++)(i=r[c])&&(i.__=n,o="function"==typeof i.type?Oh(i,o,t):pI(t,i,i,r,i.__e,o));return o}function ga(n,o){return o=o||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(t){ga(t,o)}):o.push(n)),o}function pI(n,o,t,i,r,c){var p,C,E;if(void 0!==o.__d)p=o.__d,o.__d=void 0;else if(null==t||r!=c||null==r.parentNode)e:if(null==c||c.parentNode!==n)n.appendChild(r),p=null;else{for(C=c,E=0;(C=C.nextSibling)&&E<i.length;E+=1)if(C==r)break e;n.insertBefore(r,c),p=c}return void 0!==p?p:r.nextSibling}function zn(n){var o,t,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(o=n.__k.length-1;o>=0;o--)if((t=n.__k[o])&&(i=zn(t)))return i;return null}function Ph(n,o,t,i,r,c,p,C,E){var ie,ae,tt,rt,it,Pt,Wt,Jt,cn,On,Xn,Gn,Ei,co,Do,Ri=o.type;if(void 0!==o.constructor)return null;null!=t.__h&&(E=t.__h,C=o.__e=t.__e,o.__h=null,c=[C]),(ie=Bn.__b)&&ie(o);try{e:if("function"==typeof Ri){if(Jt=o.props,cn=(ie=Ri.contextType)&&i[ie.__c],On=ie?cn?cn.props.value:ie.__:i,t.__c?Wt=(ae=o.__c=t.__c).__=ae.__E:("prototype"in Ri&&Ri.prototype.render?o.__c=ae=new Ri(Jt,On):(o.__c=ae=new Go(Jt,On),ae.constructor=Ri,ae.render=wd),cn&&cn.sub(ae),ae.props=Jt,ae.state||(ae.state={}),ae.context=On,ae.__n=i,tt=ae.__d=!0,ae.__h=[],ae._sb=[]),null==ae.__s&&(ae.__s=ae.state),null!=Ri.getDerivedStateFromProps&&(ae.__s==ae.state&&(ae.__s=ha({},ae.__s)),ha(ae.__s,Ri.getDerivedStateFromProps(Jt,ae.__s))),rt=ae.props,it=ae.state,ae.__v=o,tt)null==Ri.getDerivedStateFromProps&&null!=ae.componentWillMount&&ae.componentWillMount(),null!=ae.componentDidMount&&ae.__h.push(ae.componentDidMount);else{if(null==Ri.getDerivedStateFromProps&&Jt!==rt&&null!=ae.componentWillReceiveProps&&ae.componentWillReceiveProps(Jt,On),!ae.__e&&null!=ae.shouldComponentUpdate&&!1===ae.shouldComponentUpdate(Jt,ae.__s,On)||o.__v===t.__v){for(o.__v!==t.__v&&(ae.props=Jt,ae.state=ae.__s,ae.__d=!1),o.__e=t.__e,o.__k=t.__k,o.__k.forEach(function(Rc){Rc&&(Rc.__=o)}),Xn=0;Xn<ae._sb.length;Xn++)ae.__h.push(ae._sb[Xn]);ae._sb=[],ae.__h.length&&p.push(ae);break e}null!=ae.componentWillUpdate&&ae.componentWillUpdate(Jt,ae.__s,On),null!=ae.componentDidUpdate&&ae.__h.push(function(){ae.componentDidUpdate(rt,it,Pt)})}if(ae.context=On,ae.props=Jt,ae.__P=n,Gn=Bn.__r,Ei=0,"prototype"in Ri&&Ri.prototype.render){for(ae.state=ae.__s,ae.__d=!1,Gn&&Gn(o),ie=ae.render(ae.props,ae.state,ae.context),co=0;co<ae._sb.length;co++)ae.__h.push(ae._sb[co]);ae._sb=[]}else do{ae.__d=!1,Gn&&Gn(o),ie=ae.render(ae.props,ae.state,ae.context),ae.state=ae.__s}while(ae.__d&&++Ei<25);ae.state=ae.__s,null!=ae.getChildContext&&(i=ha(ha({},i),ae.getChildContext())),tt||null==ae.getSnapshotBeforeUpdate||(Pt=ae.getSnapshotBeforeUpdate(rt,it)),Do=null!=ie&&ie.type===Vi&&null==ie.key?ie.props.children:ie,dI(n,Array.isArray(Do)?Do:[Do],o,t,i,r,c,p,C,E),ae.base=o.__e,o.__h=null,ae.__h.length&&p.push(ae),Wt&&(ae.__E=ae.__=null),ae.__e=!1}else null==c&&o.__v===t.__v?(o.__k=t.__k,o.__e=t.__e):o.__e=function hI(n,o,t,i,r,c,p,C){var E,ie,ae,tt=t.props,rt=o.props,it=o.type,Pt=0;if("svg"===it&&(r=!0),null!=c)for(;Pt<c.length;Pt++)if((E=c[Pt])&&"setAttribute"in E==!!it&&(it?E.localName===it:3===E.nodeType)){n=E,c[Pt]=null;break}if(null==n){if(null===it)return document.createTextNode(rt);n=r?document.createElementNS("http://www.w3.org/2000/svg",it):document.createElement(it,rt.is&&rt),c=null,C=!1}if(null===it)tt===rt||C&&n.data===rt||(n.data=rt);else{if(c=c&&qc.call(n.childNodes),ie=(tt=t.props||Td).dangerouslySetInnerHTML,ae=rt.dangerouslySetInnerHTML,!C){if(null!=c)for(tt={},Pt=0;Pt<n.attributes.length;Pt++)tt[n.attributes[Pt].name]=n.attributes[Pt].value;(ae||ie)&&(ae&&(ie&&ae.__html==ie.__html||ae.__html===n.innerHTML)||(n.innerHTML=ae&&ae.__html||""))}if(function tC(n,o,t,i,r){var c;for(c in t)"children"===c||"key"===c||c in o||Xc(n,c,null,t[c],i);for(c in o)r&&"function"!=typeof o[c]||"children"===c||"key"===c||"value"===c||"checked"===c||t[c]===o[c]||Xc(n,c,o[c],t[c],i)}(n,rt,tt,r,C),ae)o.__k=[];else if(Pt=o.props.children,dI(n,Array.isArray(Pt)?Pt:[Pt],o,t,i,r&&"foreignObject"!==it,c,p,c?c[0]:t.__k&&eu(t,0),C),null!=c)for(Pt=c.length;Pt--;)null!=c[Pt]&&Eh(c[Pt]);C||("value"in rt&&void 0!==(Pt=rt.value)&&(Pt!==n.value||"progress"===it&&!Pt||"option"===it&&Pt!==tt.value)&&Xc(n,"value",Pt,tt.value,!1),"checked"in rt&&void 0!==(Pt=rt.checked)&&Pt!==n.checked&&Xc(n,"checked",Pt,tt.checked,!1))}return n}(t.__e,o,t,i,r,c,p,E);(ie=Bn.diffed)&&ie(o)}catch(Rc){o.__v=null,(E||null!=c)&&(o.__e=C,o.__h=!!E,c[c.indexOf(C)]=null),Bn.__e(Rc,o,t)}}function iC(n,o){Bn.__c&&Bn.__c(o,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Bn.__e(i,t.__v)}})}function ml(n,o,t){try{"function"==typeof n?n(o):n.current=o}catch(i){Bn.__e(i,t)}}function oC(n,o,t){var i,r;if(Bn.unmount&&Bn.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||ml(i,null,o)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(c){Bn.__e(c,o)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&oC(i[r],o,t||"function"!=typeof n.type);t||null==n.__e||Eh(n.__e),n.__=n.__e=n.__d=void 0}function wd(n,o,t){return this.constructor(n,t)}function Yr(n,o,t){var i,r,c;Bn.__&&Bn.__(n,o),r=(i="function"==typeof t)?null:t&&t.__k||o.__k,c=[],Ph(o,n=(!i&&t||o).__k=gt(Vi,null,[n]),r||Td,Td,void 0!==o.ownerSVGElement,!i&&t?[t]:r?null:o.firstChild?qc.call(o.childNodes):null,c,!i&&t?t:r?r.__e:o.firstChild,i),iC(c,n)}qc=eC.slice,Bn={__e:function(n,o,t,i){for(var r,c,p;o=o.__;)if((r=o.__c)&&!r.__)try{if((c=r.constructor)&&null!=c.getDerivedStateFromError&&(r.setState(c.getDerivedStateFromError(n)),p=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(n,i||{}),p=r.__d),p)return r.__E=r}catch(C){n=C}throw n}},Y_=0,hc=!1,Go.prototype.setState=function(n,o){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ha({},this.state),"function"==typeof n&&(n=n(ha({},t),this.props)),n&&ha(t,n),null!=n&&this.__v&&(o&&this._sb.push(o),Dh(this))},Go.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Dh(this))},Go.prototype.render=Vi,fl=[],q_="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,mc.__r=0,X_=0;var ro,xd,Lh,Nh=[],Ed=[],sC=Bn.__b,rC=Bn.__r,_c=Bn.diffed,aC=Bn.__c,lC=Bn.unmount;function uC(){for(var n;n=Nh.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Sd),n.__H.__h.forEach(Hh),n.__H.__h=[]}catch(o){n.__H.__h=[],Bn.__e(o,n.__v)}}Bn.__b=function(n){ro=null,sC&&sC(n)},Bn.__r=function(n){rC&&rC(n);var o=(ro=n.__c).__H;o&&(xd===ro?(o.__h=[],ro.__h=[],o.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Ed,t.__N=t.i=void 0})):(o.__h.forEach(Sd),o.__h.forEach(Hh),o.__h=[])),xd=ro},Bn.diffed=function(n){_c&&_c(n);var o=n.__c;o&&o.__H&&(o.__H.__h.length&&(1!==Nh.push(o)&&Lh===Bn.requestAnimationFrame||((Lh=Bn.requestAnimationFrame)||pC)(uC)),o.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Ed&&(t.__=t.__V),t.i=void 0,t.__V=Ed})),xd=ro=null},Bn.__c=function(n,o){o.some(function(t){try{t.__h.forEach(Sd),t.__h=t.__h.filter(function(i){return!i.__||Hh(i)})}catch(i){o.some(function(r){r.__h&&(r.__h=[])}),o=[],Bn.__e(i,t.__v)}}),aC&&aC(n,o)},Bn.unmount=function(n){lC&&lC(n);var o,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Sd(i)}catch(r){o=r}}),t.__H=void 0,o&&Bn.__e(o,t.__v))};var dC="function"==typeof requestAnimationFrame;function pC(n){var o,t=function(){clearTimeout(i),dC&&cancelAnimationFrame(o),setTimeout(n)},i=setTimeout(t,100);dC&&(o=requestAnimationFrame(t))}function Sd(n){var o=ro,t=n.__c;"function"==typeof t&&(n.__c=void 0,t()),ro=o}function Hh(n){var o=ro;n.__c=n.__(),ro=o}function gC(n,o){for(var t in n)if("__source"!==t&&!(t in o))return!0;for(var i in o)if("__source"!==i&&n[i]!==o[i])return!0;return!1}function vc(n){this.props=n}(vc.prototype=new Go).isPureReactComponent=!0,vc.prototype.shouldComponentUpdate=function(n,o){return gC(this.props,n)||gC(this.state,o)};var fC=Bn.__b;Bn.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),fC&&fC(n)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var AI=Bn.__e;Bn.__e=function(n,o,t,i){if(n.then)for(var r,c=o;c=c.__;)if((r=c.__c)&&r.__c)return null==o.__e&&(o.__e=t.__e,o.__k=t.__k),r.__c(n,o);AI(n,o,t,i)};var CC=Bn.unmount;function vC(n,o,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){"function"==typeof i.__c&&i.__c()}),n.__c.__H=null),null!=(n=function bI(n,o){for(var t in o)n[t]=o[t];return n}({},n)).__c&&(n.__c.__P===t&&(n.__c.__P=o),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return vC(i,o,t)})),n}function Vh(n,o,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return Vh(i,o,t)}),n.__c&&n.__c.__P===o&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Md(){this.__u=0,this.t=null,this.__b=null}function bC(n){var o=n.__.__c;return o&&o.__a&&o.__a(n)}function su(){this.u=null,this.o=null}Bn.unmount=function(n){var o=n.__c;o&&o.__R&&o.__R(),o&&!0===n.__h&&(n.type=null),CC&&CC(n)},(Md.prototype=new Go).__c=function(n,o){var t=o.__c,i=this;null==i.t&&(i.t=[]),i.t.push(t);var r=bC(i.__v),c=!1,p=function(){c||(c=!0,t.__R=null,r?r(C):C())};t.__R=p;var C=function(){if(!--i.__u){if(i.state.__a){var ie=i.state.__a;i.__v.__k[0]=Vh(ie,ie.__c.__P,ie.__c.__O)}var ae;for(i.setState({__a:i.__b=null});ae=i.t.pop();)ae.forceUpdate()}},E=!0===o.__h;i.__u++||E||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(p,p)},Md.prototype.componentWillUnmount=function(){this.t=[]},Md.prototype.render=function(n,o){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=vC(this.__b,t,i.__O=i.__P)}this.__b=null}var r=o.__a&&gt(Vi,null,n.fallback);return r&&(r.__h=null),[gt(Vi,null,o.__a?null:n.children),r]};var Zh=function(n,o,t){if(++t[1]===t[0]&&n.o.delete(o),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function TI(n){return this.getChildContext=function(){return n.context},n.children}function yC(n){var o=this,t=n.i;o.componentWillUnmount=function(){Yr(null,o.l),o.l=null,o.i=null},o.i&&o.i!==t&&o.componentWillUnmount(),n.__v?(o.l||(o.i=t,o.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),o.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),o.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),o.i.removeChild(i)}}),Yr(gt(TI,{context:o.context},n.__v),o.l)):o.l&&o.componentWillUnmount()}(su.prototype=new Go).__a=function(n){var o=this,t=bC(o.__v),i=o.o.get(n);return i[0]++,function(r){var c=function(){o.props.revealOrder?(i.push(r),Zh(o,n,i)):r()};t?t(c):c()}},su.prototype.render=function(n){this.u=null,this.o=new Map;var o=ga(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&o.reverse();for(var t=o.length;t--;)this.o.set(o[t],this.u=[1,0,this.u]);return n.children},su.prototype.componentDidUpdate=su.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(o,t){Zh(n,t,o)})};var Uh="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,wI=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,zh="undefined"!=typeof document,xI=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};Go.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Go.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(o){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:o})}})});var wC=Bn.event;function EI(){}function SI(){return this.cancelBubble}function Gh(){return this.defaultPrevented}Bn.event=function(n){return wC&&(n=wC(n)),n.persist=EI,n.isPropagationStopped=SI,n.isDefaultPrevented=Gh,n.nativeEvent=n};var Qh={configurable:!0,get:function(){return this.class}},EC=Bn.vnode;Bn.vnode=function(n){var o=n.type,t=n.props,i=t;if("string"==typeof o){var r=-1===o.indexOf("-");for(var c in i={},t){var p=t[c];zh&&"children"===c&&"noscript"===o||"value"===c&&"defaultValue"in t&&null==p||("defaultValue"===c&&"value"in t&&null==t.value?c="value":"download"===c&&!0===p?p="":/ondoubleclick/i.test(c)?c="ondblclick":/^onchange(textarea|input)/i.test(c+o)&&!xI(t.type)?c="oninput":/^onfocus$/i.test(c)?c="onfocusin":/^onblur$/i.test(c)?c="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(c)?c=c.toLowerCase():r&&wI.test(c)?c=c.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===p&&(p=void 0),/^oninput$/i.test(c)&&(c=c.toLowerCase(),i[c]&&(c="oninputCapture")),i[c]=p)}"select"==o&&i.multiple&&Array.isArray(i.value)&&(i.value=ga(t.children).forEach(function(C){C.props.selected=-1!=i.value.indexOf(C.props.value)})),"select"==o&&null!=i.defaultValue&&(i.value=ga(t.children).forEach(function(C){C.props.selected=i.multiple?-1!=i.defaultValue.indexOf(C.props.value):i.defaultValue==C.props.value})),n.props=i,t.class!=t.className&&(Qh.enumerable="className"in t,null!=t.className&&(i.class=t.className),Object.defineProperty(i,"className",Qh))}n.$$typeof=Uh,EC&&EC(n)};var SC=Bn.__r;Bn.__r=function(n){SC&&SC(n)};const Wh=[],ru=new Map,PC=" fullcalendar styles ";function Dd(n){Wh.push(n),ru.forEach(o=>{bl(n,o)})}function RC(n,o=n,t=o.firstChild){if(!ru.has(n)){const i=document.createComment(PC),r=document.createComment(` END${PC}`);o.insertBefore(r,t),o.insertBefore(i,r),ru.set(n,r),function LC(n){for(const o of Wh)bl(o,n)}(r)}}function bl(n,o){const t=document.createElement("style"),i=function BI(){return void 0===Od&&(Od=function HT(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const o=document.querySelector("script[nonce]");return o&&o.nonce||""}()),Od}();i&&(t.nonce=i),t.innerText=n,o.parentNode.insertBefore(t,o)}let Od;function au(n){n.parentNode&&n.parentNode.removeChild(n)}function Es(n,o){if(n.closest)return n.closest(o);if(!document.documentElement.contains(n))return null;do{if(Pd(n,o))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function Pd(n,o){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,o)}"undefined"!=typeof document&&RC(document,document.head,document.head.querySelector("script,link,style")),Dd(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const Yh=/(top|left|right|bottom|width|height)$/i;function bc(n,o){for(let t in o)$h(n,t,o[t])}function $h(n,o,t){n.style[o]=null==t?"":"number"==typeof t&&Yh.test(o)?`${t}px`:t}function qh(n){var o,t;return null!==(t=null===(o=n.composedPath)||void 0===o?void 0:o.call(n)[0])&&void 0!==t?t:n.target}let Xh=0;function Ja(){return Xh+=1,"fc-dom-"+Xh}function Rd(n){n.preventDefault()}function FC(n,o,t,i){let r=function ZI(n,o){return t=>{let i=Es(t.target,n);i&&o.call(i,t,i)}}(t,i);return n.addEventListener(o,r),()=>{n.removeEventListener(o,r)}}const UI=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function VC(n){return Object.assign({onClick:n},ZC(n))}function ZC(n){return{tabIndex:0,onKeyDown(o){("Enter"===o.key||" "===o.key)&&(n(o),o.preventDefault())}}}let zI=0;function yc(){return zI+=1,String(zI)}function eg(){document.body.classList.add("fc-not-allowed")}function tg(){document.body.classList.remove("fc-not-allowed")}function WC(n,o,t){return t.func?t.func(n,o):function KC(n,o){return n||o?null==o?-1:null==n?1:"string"==typeof n||"string"==typeof o?String(n).localeCompare(String(o)):n-o:0}(n[t.field],o[t.field])*(t.order||1)}function Ic(n,o){let t=String(n);return"000".substr(0,o-t.length)+t}function Ac(n,o,t){return"function"==typeof n?n(...o):"string"==typeof n?o.reduce((i,r,c)=>i.replace("$"+c,r||""),n):t}function lu(n,o){return n-o}function cu(n){return n%1==0}function YC(n){let o=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!o)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-o.getBoundingClientRect().width+t.getBoundingClientRect().width}const ng=["years","months","days","milliseconds"],$C=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function mi(n,o){return"string"==typeof n?function qC(n){let o=$C.exec(n);if(o){let t=o[1]?-1:1;return{years:0,months:0,days:t*(o[2]?parseInt(o[2],10):0),milliseconds:t*(60*(o[3]?parseInt(o[3],10):0)*60*1e3+60*(o[4]?parseInt(o[4],10):0)*1e3+1e3*(o[5]?parseInt(o[5],10):0)+(o[6]?parseInt(o[6],10):0))}}return null}(n):"object"==typeof n&&n?XC(n):"number"==typeof n?XC({[o||"milliseconds"]:n}):null}function XC(n){let o={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:60*(n.hours||n.hour||0)*60*1e3+60*(n.minutes||n.minute||0)*1e3+1e3*(n.seconds||n.second||0)+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(o.days+=7*t,o.specifiedWeeks=!0),o}function Ld(n,o){return{years:n.years+o.years,months:n.months+o.months,days:n.days+o.days,milliseconds:n.milliseconds+o.milliseconds}}function Tc(n){return pr(n)/864e5}function pr(n){return 31536e6*n.years+2592e6*n.months+864e5*n.days+n.milliseconds}function du(n,o){let t=null;for(let i=0;i<ng.length;i+=1){let r=ng[i];if(o[r]){let c=n[r]/o[r];if(!cu(c)||null!==t&&t!==c)return null;t=c}else if(n[r])return null}return t}function yl(n){let o=n.milliseconds;if(o){if(o%1e3!=0)return{unit:"millisecond",value:o};if(o%6e4!=0)return{unit:"second",value:o/1e3};if(o%36e5!=0)return{unit:"minute",value:o/6e4};if(o)return{unit:"hour",value:o/36e5}}return n.days?n.specifiedWeeks&&n.days%7==0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}const{hasOwnProperty:Nd}=Object.prototype;function ig(n,o){let t={};if(o)for(let i in o)if(o[i]===wl){let r=[];for(let c=n.length-1;c>=0;c-=1){let p=n[c][i];if("object"==typeof p&&p)r.unshift(p);else if(void 0!==p){t[i]=p;break}}r.length&&(t[i]=ig(r))}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let c in r)c in t||(t[c]=r[c])}return t}function Il(n,o){let t={};for(let i in n)o(n[i],i)&&(t[i]=n[i]);return t}function kr(n,o){let t={};for(let i in n)t[i]=o(n[i],i);return t}function pu(n){let o={};for(let t of n)o[t]=!0;return o}function og(n){let o=[];for(let t in n)o.push(n[t]);return o}function fa(n,o){if(n===o)return!0;for(let t in n)if(Nd.call(n,t)&&!(t in o))return!1;for(let t in o)if(Nd.call(o,t)&&n[t]!==o[t])return!1;return!0}const iv=/^on[A-Z]/;function hu(n,o){let t=[];for(let i in n)Nd.call(n,i)&&(i in o||t.push(i));for(let i in o)Nd.call(o,i)&&n[i]!==o[i]&&t.push(i);return t}function Fd(n,o,t={}){if(n===o)return!0;for(let i in o)if(!(i in n)||!JI(n[i],o[i],t[i]))return!1;for(let i in n)if(!(i in o))return!1;return!0}function JI(n,o,t){return n===o||!0===t||!!t&&t(n,o)}function Mr(n,o,t){if(n===o)return!0;let r,i=n.length;if(i!==o.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],o[r]):n[r]===o[r]))return!1;return!0}const Bd=["sun","mon","tue","wed","thu","fri","sat"];function sg(n,o){let t=hr(n);return t[2]+=7*o,Ys(t)}function Qo(n,o){let t=hr(n);return t[2]+=o,Ys(t)}function ma(n,o){let t=hr(n);return t[6]+=o,Ys(t)}function ja(n,o){return(o.valueOf()-n.valueOf())/864e5}function gu(n,o){return Al(n)===Al(o)?Math.round(ja(n,o)):null}function Qi(n){return Ys([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function ag(n,o,t,i){let r=Ys([o,0,1+uv(o,t,i)]),c=Qi(n),p=Math.round(ja(r,c));return Math.floor(p/7)+1}function uv(n,o,t){let i=7+o-t;return-(7+Ys([n,0,i]).getUTCDay()-o)%7+i-1}function lg(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function Ss(n){return new Date(n[0],n[1]||0,null==n[2]?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function hr(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Ys(n){return 1===n.length&&(n=n.concat([0])),new Date(Date.UTC(...n))}function dv(n){return!isNaN(n.valueOf())}function Al(n){return 1e3*n.getUTCHours()*60*60+1e3*n.getUTCMinutes()*60+1e3*n.getUTCSeconds()+n.getUTCMilliseconds()}function qI(n,o,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==o?i=i.replace("Z",""):0!==o&&(i=i.replace("Z",cg(o,!0)))),i}function wc(n){return n.toISOString().replace(/T.*$/,"")}function fu(n){return Ic(n.getUTCHours(),2)+":"+Ic(n.getUTCMinutes(),2)+":"+Ic(n.getUTCSeconds(),2)}function cg(n,o=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),c=Math.round(i%60);return o?`${t+Ic(r,2)}:${Ic(c,2)}`:`GMT${t}${r}${c?`:${Ic(c,2)}`:""}`}function Zn(n,o,t){let i,r;return function(...c){if(i){if(!Mr(i,c)){t&&t(r);let p=n.apply(this,c);(!o||!o(p,r))&&(r=p)}}else r=n.apply(this,c);return i=c,r}}function Hd(n,o,t){let i,r;return c=>{if(i){if(!fa(i,c)){t&&t(r);let p=n.call(this,c);(!o||!o(p,r))&&(r=p)}}else r=n.call(this,c);return i=c,r}}const hv={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Vd={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},xc=/\s*([ap])\.?m\.?/i,gv=/,/g,fv=/\s+/g,Zd=/\u200e/g,ug=/UTC|GMT/;class UT{constructor(o){let t={},i={},r=0;for(let c in o)c in hv?(i[c]=o[c],r=Math.max(hv[c],r)):(t[c]=o[c],c in Vd&&(r=Math.max(Vd[c],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=Zn(dg)}format(o,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(o)}formatRange(o,t,i,r){let{standardDateProps:c,extendedSettings:p}=this,C=function pg(n,o,t){return t.getMarkerYear(n)!==t.getMarkerYear(o)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(o)?4:t.getMarkerDay(n)!==t.getMarkerDay(o)?2:Al(n)!==Al(o)?1:0}(o.marker,t.marker,i.calendarSystem);if(!C)return this.format(o,i);let E=C;E>1&&("numeric"===c.year||"2-digit"===c.year)&&("numeric"===c.month||"2-digit"===c.month)&&("numeric"===c.day||"2-digit"===c.day)&&(E=1);let ie=this.format(o,i),ae=this.format(t,i);if(ie===ae)return ie;let tt=function zT(n,o){let t={};for(let i in n)(!(i in Vd)||Vd[i]<=o)&&(t[i]=n[i]);return t}(c,E),rt=dg(tt,p,i),it=rt(o),Pt=rt(t),Wt=function nA(n,o,t,i){let r=0;for(;r<n.length;){let c=n.indexOf(o,r);if(-1===c)break;let p=n.substr(0,c);r=c+o.length;let C=n.substr(r),E=0;for(;E<t.length;){let ie=t.indexOf(i,E);if(-1===ie)break;let ae=t.substr(0,ie);E=ie+i.length;let tt=t.substr(E);if(p===ae&&C===tt)return{before:p,after:C}}}return null}(ie,it,ae,Pt),Jt=p.separator||r||i.defaultSeparator||"";return Wt?Wt.before+it+Jt+Pt+Wt.after:ie+Jt+ae}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function dg(n,o,t){let i=Object.keys(n).length;return 1===i&&"short"===n.timeZoneName?r=>cg(r.timeZoneOffset):0===i&&o.week?r=>function _v(n,o,t,i,r){let c=[];return"long"===r?c.push(t):("short"===r||"narrow"===r)&&c.push(o),("long"===r||"short"===r)&&c.push(" "),c.push(i.simpleNumberFormat.format(n)),"rtl"===i.options.direction&&c.reverse(),c.join("")}(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,o.week):function eA(n,o,t){n=Object.assign({},n),o=Object.assign({},o),function mv(n,o){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),"long"===n.timeZoneName&&(n.timeZoneName="short"),o.omitZeroMinute&&(n.second||n.millisecond)&&delete o.omitZeroMinute}(n,o),n.timeZone="UTC";let r,i=new Intl.DateTimeFormat(t.locale.codes,n);if(o.omitZeroMinute){let c=Object.assign({},n);delete c.minute,r=new Intl.DateTimeFormat(t.locale.codes,c)}return c=>{let C,{marker:p}=c;return C=r&&!p.getUTCMinutes()?r:i,function Ec(n,o,t,i,r){return n=n.replace(Zd,""),"short"===t.timeZoneName&&(n=function tA(n,o){let t=!1;return n=n.replace(ug,()=>(t=!0,o)),t||(n+=` ${o}`),n}(n,"UTC"===r.timeZone||null==o.timeZoneOffset?"UTC":cg(o.timeZoneOffset))),i.omitCommas&&(n=n.replace(gv,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),!1===i.meridiem?n=n.replace(xc,"").trim():"narrow"===i.meridiem?n=n.replace(xc,(c,p)=>p.toLocaleLowerCase()):"short"===i.meridiem?n=n.replace(xc,(c,p)=>`${p.toLocaleLowerCase()}m`):"lowercase"===i.meridiem&&(n=n.replace(xc,c=>c.toLocaleLowerCase())),(n=n.replace(fv," ")).trim()}(C.format(p),c,n,o,t)}}(n,o,t)}function iA(n,o){let t=o.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Ud(n,o,t,i){let r=iA(n,t.calendarSystem);return{date:r,start:r,end:o?iA(o,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class oA{constructor(o){this.cmdStr=o}format(o,t,i){return t.cmdFormatter(this.cmdStr,Ud(o,null,t,i))}formatRange(o,t,i,r){return i.cmdFormatter(this.cmdStr,Ud(o,t,i,r))}}class sA{constructor(o){this.func=o}format(o,t,i){return this.func(Ud(o,null,t,i))}formatRange(o,t,i,r){return this.func(Ud(o,t,i,r))}}function qi(n){return"object"==typeof n&&n?new UT(n):"string"==typeof n?new oA(n):"function"==typeof n?new sA(n):null}const hg={navLinkDayClick:Qt,navLinkWeekClick:Qt,duration:mi,bootstrapFontAwesome:Qt,buttonIcons:Qt,customButtons:Qt,defaultAllDayEventDuration:mi,defaultTimedEventDuration:mi,nextDayThreshold:mi,scrollTime:mi,scrollTimeReset:Boolean,slotMinTime:mi,slotMaxTime:mi,dayPopoverFormat:qi,slotDuration:mi,snapDuration:mi,headerToolbar:Qt,footerToolbar:Qt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:qi,dayHeaderClassNames:Qt,dayHeaderContent:Qt,dayHeaderDidMount:Qt,dayHeaderWillUnmount:Qt,dayCellClassNames:Qt,dayCellContent:Qt,dayCellDidMount:Qt,dayCellWillUnmount:Qt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Qt,weekNumbers:Boolean,weekNumberClassNames:Qt,weekNumberContent:Qt,weekNumberDidMount:Qt,weekNumberWillUnmount:Qt,editable:Boolean,viewClassNames:Qt,viewDidMount:Qt,viewWillUnmount:Qt,nowIndicator:Boolean,nowIndicatorClassNames:Qt,nowIndicatorContent:Qt,nowIndicatorDidMount:Qt,nowIndicatorWillUnmount:Qt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Qt,locale:Qt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Qt,eventOrder:function JC(n){let i,r,o=[],t=[];for("string"==typeof n?t=n.split(/\s*,\s*/):"function"==typeof n?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],"string"==typeof r?o.push("-"===r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&o.push({func:r});return o},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Qt,contentHeight:Qt,direction:String,weekNumberFormat:qi,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Qt,initialDate:Qt,now:Qt,eventDataTransform:Qt,stickyHeaderDates:Qt,stickyFooterScrollbar:Qt,viewHeight:Qt,defaultAllDay:Boolean,eventSourceFailure:Qt,eventSourceSuccess:Qt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Qt,eventConstraint:Qt,eventAllow:Qt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Qt,eventContent:Qt,eventDidMount:Qt,eventWillUnmount:Qt,selectConstraint:Qt,selectOverlap:Qt,selectAllow:Qt,droppable:Boolean,unselectCancel:String,slotLabelFormat:Qt,slotLaneClassNames:Qt,slotLaneContent:Qt,slotLaneDidMount:Qt,slotLaneWillUnmount:Qt,slotLabelClassNames:Qt,slotLabelContent:Qt,slotLabelDidMount:Qt,slotLabelWillUnmount:Qt,dayMaxEvents:Qt,dayMaxEventRows:Qt,dayMinWidth:Number,slotLabelInterval:mi,allDayText:String,allDayClassNames:Qt,allDayContent:Qt,allDayDidMount:Qt,allDayWillUnmount:Qt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:qi,rerenderDelay:Number,moreLinkText:Qt,moreLinkHint:Qt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Qt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:mi,hiddenDays:Qt,fixedWeekCount:Boolean,validRange:Qt,visibleRange:Qt,titleFormat:Qt,eventInteractive:Boolean,noEventsText:String,viewHint:Qt,navLinkHint:Qt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Qt,moreLinkClassNames:Qt,moreLinkContent:Qt,moreLinkDidMount:Qt,moreLinkWillUnmount:Qt,monthStartFormat:qi,handleCustomRendering:Qt,customRenderingMetaMap:Qt,customRenderingReplacesEl:Boolean},mu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},gg={datesSet:Qt,eventsSet:Qt,eventAdd:Qt,eventChange:Qt,eventRemove:Qt,windowResize:Qt,eventClick:Qt,eventMouseEnter:Qt,eventMouseLeave:Qt,select:Qt,unselect:Qt,loading:Qt,_unmount:Qt,_beforeprint:Qt,_afterprint:Qt,_noEventDrop:Qt,_noEventResize:Qt,_resize:Qt,_scrollRequest:Qt},fg={buttonText:Qt,buttonHints:Qt,views:Qt,plugins:Qt,initialEvents:Qt,events:Qt,eventSources:Qt},Tl={headerToolbar:wl,footerToolbar:wl,buttonText:wl,buttonHints:wl,buttonIcons:wl,dateIncrement:wl,plugins:_u,events:_u,eventSources:_u,resources:_u};function wl(n,o){return"object"==typeof n&&"object"==typeof o&&n&&o?fa(n,o):n===o}function _u(n,o){return Array.isArray(n)&&Array.isArray(o)?Mr(n,o):n===o}const rA={type:String,component:Qt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Qt,usesMinMaxTime:Boolean,classNames:Qt,content:Qt,didMount:Qt,willUnmount:Qt};function zd(n){return ig(n,Tl)}function Cu(n,o){let t={},i={};for(let r in o)r in n&&(t[r]=o[r](n[r]));for(let r in n)r in o||(i[r]=n[r]);return{refined:t,extra:i}}function Qt(n){return n}function Gd(n,o,t,i){return{instanceId:yc(),defId:n,range:o,forcedStartTzo:null==t?null:t,forcedEndTzo:null==i?null:i}}function xl(n,o,t){let{dateEnv:i,pluginHooks:r,options:c}=t,{defs:p,instances:C}=n;C=Il(C,E=>!p[E.defId].recurringDef);for(let E in p){let ie=p[E];if(ie.recurringDef){let{duration:ae}=ie.recurringDef;ae||(ae=ie.allDay?c.defaultAllDayEventDuration:c.defaultTimedEventDuration);let tt=GT(ie,ae,o,i,r.recurringTypes);for(let rt of tt){let it=Gd(E,{start:rt,end:i.add(rt,ae)});C[it.instanceId]=it}}}return{defs:p,instances:C}}function GT(n,o,t,i,r){let p=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,o),end:t.end},i);return n.allDay&&(p=p.map(Qi)),p}function Sc(n,o,t,i,r,c){let p={defs:{},instances:{}},C=wv(t);for(let E of n){let ie=Tv(E,o,t,i,C,r,c);ie&&Cv(ie,p)}return p}function Cv(n,o={defs:{},instances:{}}){return o.defs[n.def.defId]=n.def,n.instance&&(o.instances[n.instance.instanceId]=n.instance),o}function vv(n,o){let t=n.instances[o];if(t){let i=n.defs[t.defId],r=mg(n,c=>function QT(n,o){return Boolean(n.groupId&&n.groupId===o.groupId)}(i,c));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return{defs:{},instances:{}}}function bv(n,o){return{defs:Object.assign(Object.assign({},n.defs),o.defs),instances:Object.assign(Object.assign({},n.instances),o.instances)}}function mg(n,o){let t=Il(n.defs,o),i=Il(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function vu(n){return Array.isArray(n)?n:"string"==typeof n?n.split(/\s+/):[]}const _g={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Qt,overlap:Qt,allow:Qt,className:vu,classNames:vu,color:String,backgroundColor:String,borderColor:String,textColor:String},yv={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function El(n,o){let t=function jT(n,o){return Array.isArray(n)?Sc(n,null,o,!0):"object"==typeof n&&n?Sc([n],null,o,!0):null!=n?String(n):null}(n.constraint,o);return{display:n.display||null,startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=t?[t]:[],overlap:null!=n.overlap?n.overlap:null,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function Cg(n){return n.reduce(Iv,yv)}function Iv(n,o){return{display:null!=o.display?o.display:n.display,startEditable:null!=o.startEditable?o.startEditable:n.startEditable,durationEditable:null!=o.durationEditable?o.durationEditable:n.durationEditable,constraints:n.constraints.concat(o.constraints),overlap:"boolean"==typeof o.overlap?o.overlap:n.overlap,allows:n.allows.concat(o.allows),backgroundColor:o.backgroundColor||n.backgroundColor,borderColor:o.borderColor||n.borderColor,textColor:o.textColor||n.textColor,classNames:n.classNames.concat(o.classNames)}}const vg={id:String,groupId:String,title:String,url:String,interactive:Boolean},Qd={start:Qt,end:Qt,date:Qt,allDay:Boolean},Av=Object.assign(Object.assign(Object.assign({},vg),Qd),{extendedProps:Qt});function Tv(n,o,t,i,r=wv(t),c,p){let{refined:C,extra:E}=bg(n,t,r),ie=function cA(n,o){let t=null;return n&&(t=n.defaultAllDay),null==t&&(t=o.options.defaultAllDay),t}(o,t),ae=function aA(n,o,t,i){for(let r=0;r<i.length;r+=1){let c=i[r].parse(n,t);if(c){let{allDay:p}=n;return null==p&&(p=o,null==p&&(p=c.allDayGuess,null==p&&(p=!1))),{allDay:p,duration:c.duration,typeData:c.typeData,typeId:r}}}return null}(C,ie,t.dateEnv,t.pluginHooks.recurringTypes);if(ae){let rt=yg(C,E,o?o.sourceId:"",ae.allDay,Boolean(ae.duration),t,c);return rt.recurringDef={typeId:ae.typeId,typeData:ae.typeData,duration:ae.duration},{def:rt,instance:null}}let tt=function lA(n,o,t,i){let c,E,{allDay:r}=n,p=null,C=!1,ie=null;if(c=t.dateEnv.createMarkerMeta(null!=n.start?n.start:n.date),c)p=c.marker;else if(!i)return null;return null!=n.end&&(E=t.dateEnv.createMarkerMeta(n.end)),null==r&&(r=null!=o?o:(!c||c.isTimeUnspecified)&&(!E||E.isTimeUnspecified)),r&&p&&(p=Qi(p)),E&&(ie=E.marker,r&&(ie=Qi(ie)),p&&ie<=p&&(ie=null)),ie?C=!0:i||(C=t.options.forceEventDuration||!1,ie=t.dateEnv.add(p,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:C,range:{start:p,end:ie},forcedStartTzo:c?c.forcedTzo:null,forcedEndTzo:E?E.forcedTzo:null}}(C,ie,t,i);if(tt){let rt=yg(C,E,o?o.sourceId:"",tt.allDay,tt.hasEnd,t,c),it=Gd(rt.defId,tt.range,tt.forcedStartTzo,tt.forcedEndTzo);return p&&rt.publicId&&p[rt.publicId]&&(it.instanceId=p[rt.publicId]),{def:rt,instance:it}}return null}function bg(n,o,t=wv(o)){return Cu(n,t)}function wv(n){return Object.assign(Object.assign(Object.assign({},_g),Av),n.pluginHooks.eventRefiners)}function yg(n,o,t,i,r,c,p){let C={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(p&&n.id?p[n.id]:"")||yc(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:El(n,c),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),o)};for(let E of c.pluginHooks.eventDefMemberAdders)Object.assign(C,E(n));return Object.freeze(C.ui.classNames),Object.freeze(C.extendedProps),C}const Jd={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function dA(n){let o=Math.floor(ja(n.start,n.end))||1,t=Qi(n.start);return{start:t,end:Qo(t,o)}}function xv(n,o=mi(0)){let t=null,i=null;if(n.end){i=Qi(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=pr(o)&&(i=Qo(i,1))}return n.start&&(t=Qi(n.start),i&&i<=t&&(i=Qo(t,1))),{start:t,end:i}}function kc(n,o,t,i){return"year"===i?mi(t.diffWholeYears(n,o),"year"):"month"===i?mi(t.diffWholeMonths(n,o),"month"):function rg(n,o){let t=Qi(n),i=Qi(o);return{years:0,months:0,days:Math.round(ja(t,i)),milliseconds:o.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}(n,o)}function hA(n,o){return n.left>=o.left&&n.left<o.right&&n.top>=o.top&&n.top<o.bottom}function gA(n,o){let t={left:Math.max(n.left,o.left),right:Math.min(n.right,o.right),top:Math.max(n.top,o.top),bottom:Math.min(n.bottom,o.bottom)};return t.left<t.right&&t.top<t.bottom&&t}let gr;function kv(){return null==gr&&(gr=function Ig(){if("undefined"==typeof document)return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}()),gr}const Ag={defs:{},instances:{}};function fA(n,o,t){let i=[];n&&i.push(n),o&&i.push(o);let r={"":Cg(i)};return t&&Object.assign(r,t),r}function Mv(n,o){let r,c,t=[],{start:i}=o;for(n.sort(mA),r=0;r<n.length;r+=1)c=n[r],c.start>i&&t.push({start:i,end:c.start}),c.end>i&&(i=c.end);return i<o.end&&t.push({start:i,end:o.end}),t}function mA(n,o){return n.start.valueOf()-o.start.valueOf()}function _a(n,o){let{start:t,end:i}=n,r=null;return null!==o.start&&(t=null===t?o.start:new Date(Math.max(t.valueOf(),o.start.valueOf()))),null!=o.end&&(i=null===i?o.end:new Date(Math.min(i.valueOf(),o.end.valueOf()))),(null===t||null===i||t<i)&&(r={start:t,end:i}),r}function jd(n,o){return(null===n.end||null===o.start||n.end>o.start)&&(null===n.start||null===o.end||n.start<o.end)}function Wd(n,o){return(null===n.start||null!==o.start&&o.start>=n.start)&&(null===n.end||null!==o.end&&o.end<=n.end)}function Ca(n,o){return(null===n.start||o>=n.start)&&(null===n.end||o<n.end)}function wg(n,o,t,i){return{dow:n.getUTCDay(),isDisabled:Boolean(i&&!Ca(i.activeRange,n)),isOther:Boolean(i&&!Ca(i.currentRange,n)),isToday:Boolean(o&&Ca(o,n)),isPast:Boolean(t?n<t:!!o&&n<o.start),isFuture:Boolean(t?n>t:!!o&&n>=o.end)}}function bu(n,o){let t=["fc-day",`fc-day-${Bd[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(o.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const yu=qi({year:"numeric",month:"long",day:"numeric"}),va=qi({week:"long"});function Sl(n,o,t="day",i=!0){const{dateEnv:r,options:c,calendarApi:p}=n;let C=r.format(o,"week"===t?va:yu);if(c.navLinks){let E=r.toDate(o);const ie=ae=>{let tt="day"===t?c.navLinkDayClick:"week"===t?c.navLinkWeekClick:null;"function"==typeof tt?tt.call(p,r.toDate(o),ae):("string"==typeof tt&&(t=tt),p.zoomTo(o,t))};return Object.assign({title:Ac(c.navLinkHint,[C,E],C),"data-navlink":""},i?VC(ie):{onClick:ie})}return{"aria-label":C}}let Pv,Iu=null;function Rv(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function Lv(n,o=!1,t){let i=t?n.getBoundingClientRect():Nv(n),r=function bA(n,o=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,c=parseInt(t.borderTopWidth,10)||0,p=parseInt(t.borderBottomWidth,10)||0,C=Rv(n),E=C.y-i-r,ae={borderLeft:i,borderRight:r,borderTop:c,borderBottom:p,scrollbarBottom:C.x-c-p,scrollbarLeft:0,scrollbarRight:0};return function Ba(){return null===Iu&&(Iu=function _A(){let n=document.createElement("div");bc(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return au(n),t}()),Iu}()&&"rtl"===t.direction?ae.scrollbarLeft=E:ae.scrollbarRight=E,o&&(ae.paddingLeft=parseInt(t.paddingLeft,10)||0,ae.paddingRight=parseInt(t.paddingRight,10)||0,ae.paddingTop=parseInt(t.paddingTop,10)||0,ae.paddingBottom=parseInt(t.paddingBottom,10)||0),ae}(n,o),c={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return o&&(c.left+=r.paddingLeft,c.right-=r.paddingRight,c.top+=r.paddingTop,c.bottom-=r.paddingBottom),c}function Nv(n){let o=n.getBoundingClientRect();return{left:o.left+window.pageXOffset,top:o.top+window.pageYOffset,right:o.right+window.pageXOffset,bottom:o.bottom+window.pageYOffset}}function Bv(n){let o=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&o.push(n),n=n.parentNode}return o}class xg{constructor(){this.handlers={},this.thisContext=null}setThisContext(o){this.thisContext=o}setOptions(o){this.options=o}on(o,t){!function Eg(n,o,t){(n[o]||(n[o]=[])).push(t)}(this.handlers,o,t)}off(o,t){!function Vv(n,o,t){t?n[o]&&(n[o]=n[o].filter(i=>i!==t)):delete n[o]}(this.handlers,o,t)}trigger(o,...t){let c=[].concat(this.options&&this.options[o]||[],this.handlers[o]||[]);for(let p of c)p.apply(this.thisContext,t)}hasHandlers(o){return Boolean(this.handlers[o]&&this.handlers[o].length||this.options&&this.options[o])}}class kl{constructor(o,t,i,r){this.els=t;let c=this.originClientRect=o.getBoundingClientRect();i&&this.buildElHorizontals(c.left),r&&this.buildElVerticals(c.top)}buildElHorizontals(o){let t=[],i=[];for(let r of this.els){let c=r.getBoundingClientRect();t.push(c.left-o),i.push(c.right-o)}this.lefts=t,this.rights=i}buildElVerticals(o){let t=[],i=[];for(let r of this.els){let c=r.getBoundingClientRect();t.push(c.top-o),i.push(c.bottom-o)}this.tops=t,this.bottoms=i}leftToIndex(o){let c,{lefts:t,rights:i}=this,r=t.length;for(c=0;c<r;c+=1)if(o>=t[c]&&o<i[c])return c}topToIndex(o){let c,{tops:t,bottoms:i}=this,r=t.length;for(c=0;c<r;c+=1)if(o>=t[c]&&o<i[c])return c}getWidth(o){return this.rights[o]-this.lefts[o]}getHeight(o){return this.bottoms[o]-this.tops[o]}similarTo(o){return Au(this.tops||[],o.tops||[])&&Au(this.bottoms||[],o.bottoms||[])&&Au(this.lefts||[],o.lefts||[])&&Au(this.rights||[],o.rights||[])}}function Au(n,o){const t=n.length;if(t!==o.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(o[i]))return!1;return!0}class Kd{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Zv extends Kd{constructor(o){super(),this.el=o}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(o){this.el.scrollTop=o}setScrollLeft(o){this.el.scrollLeft=o}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Yd extends Kd{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(o){window.scroll(window.pageXOffset,o)}setScrollLeft(o){window.scroll(o,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Wa{constructor(o){this.iconOverrideOption&&this.setIconOverride(o[this.iconOverrideOption])}setIconOverride(o){let t,i;if("object"==typeof o&&o){for(i in t=Object.assign({},this.iconClasses),o)t[i]=this.applyIconOverridePrefix(o[i]);this.iconClasses=t}else!1===o&&(this.iconClasses={})}applyIconOverridePrefix(o){let t=this.iconOverridePrefix;return t&&0!==o.indexOf(t)&&(o=t+o),o}getClass(o){return this.classes[o]||""}getIconClass(o,t){let i;return i=t&&this.rtlIconClasses&&this.rtlIconClasses[o]||this.iconClasses[o],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(o){let t;return this.iconOverrideCustomButtonOption&&(t=o[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function Sg(n){n();let o=Bn.debounceRendering,t=[];for(Bn.debounceRendering=function i(r){t.push(r)},Yr(gt(yA,{}),document.createElement("div"));t.length;)t.shift()();Bn.debounceRendering=o}Wa.prototype.classes={},Wa.prototype.iconClasses={},Wa.prototype.baseIconClass="",Wa.prototype.iconOverridePrefix="";class yA extends Go{render(){return gt("div",{})}componentDidMount(){this.setState({})}}function kg(n){let o=function Rh(n,o){var t={__c:o="__cC"+X_++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,c;return this.getChildContext||(r=[],(c={})[o]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(p){this.props.value!==p.value&&r.some(function(C){C.__e=!0,Dh(C)})},this.sub=function(p){r.push(p);var C=p.componentWillUnmount;p.componentWillUnmount=function(){r.splice(r.indexOf(p),1),C&&C.call(p)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}(n),t=o.Provider;return o.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let c=[];this.shouldComponentUpdate=p=>{this.props.value!==p.value&&c.forEach(C=>{C.context=p.value,C.forceUpdate()})},this.sub=p=>{c.push(p);let C=p.componentWillUnmount;p.componentWillUnmount=()=>{c.splice(c.indexOf(p),1),C&&C.call(p)}}}return r},o}class Uv{constructor(o,t,i,r){this.execFunc=o,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=c=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},c),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(o){o&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ha=kg({});function IA(n,o,t,i,r,c,p,C,E,ie,ae,tt,rt){return{dateEnv:r,options:t,pluginHooks:p,emitter:ie,dispatch:C,getCurrentData:E,calendarApi:ae,viewSpec:n,viewApi:o,dateProfileGenerator:i,theme:c,isRtl:"rtl"===t.direction,addResizeHandler(it){ie.on("_resize",it)},removeResizeHandler(it){ie.off("_resize",it)},createScrollResponder:it=>new Uv(it,ie,mi(t.scrollTime),t.scrollTimeReset),registerInteractiveComponent:tt,unregisterInteractiveComponent:rt}}let Mg=(()=>{class n extends Go{shouldComponentUpdate(t,i){return this.debug&&console.log(hu(t,this.props),hu(i,this.state)),!Fd(this.props,t,this.propEquality)||!Fd(this.state,i,this.stateEquality)}safeSetState(t){Fd(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=zv,n.addStateEquality=AA,n.contextType=Ha,n})();Mg.prototype.propEquality={},Mg.prototype.stateEquality={};let Ui=(()=>{class n extends Mg{}return n.contextType=Ha,n})();function zv(n){let o=Object.create(this.prototype.propEquality);Object.assign(o,n),this.prototype.propEquality=o}function AA(n){let o=Object.create(this.prototype.stateEquality);Object.assign(o,n),this.prototype.stateEquality=o}function Va(n,o){"function"==typeof n?n(o):n&&(n.current=o)}class $r extends Ui{constructor(){super(...arguments),this.uid=yc()}prepareHits(){}queryHit(o,t,i,r){return null}isValidSegDownEl(o){return!this.props.eventDrag&&!this.props.eventResize&&!Es(o,".fc-event-mirror")}isValidDateDownEl(o){return!(Es(o,".fc-event:not(.fc-bg-event)")||Es(o,".fc-more-link")||Es(o,"a[data-navlink]")||Es(o,".fc-popover"))}}function $d(n,o){return"function"==typeof n&&(n=n()),null==n?o.createNowMarker():o.createMarker(n)}class TA{constructor(o){this.props=o,this.nowDate=$d(o.nowInput,o.dateEnv),this.initHiddenDays()}buildPrev(o,t,i){let{dateEnv:r}=this.props,c=r.subtract(r.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(c,-1,i)}buildNext(o,t,i){let{dateEnv:r}=this.props,c=r.add(r.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(c,1,i)}build(o,t,i=!0){let c,p,C,E,ie,ae,{props:r}=this;return c=this.buildValidRange(),c=this.trimHiddenDays(c),i&&(o=function Ov(n,o){return null!=o.start&&n<o.start?o.start:null!=o.end&&n>=o.end?new Date(o.end.valueOf()-1):n}(o,c)),p=this.buildCurrentRangeInfo(o,t),C=/^(year|month|week|day)$/.test(p.unit),E=this.buildRenderRange(this.trimHiddenDays(p.range),p.unit,C),E=this.trimHiddenDays(E),ie=E,r.showNonCurrentDates||(ie=_a(ie,p.range)),ie=this.adjustActiveRange(ie),ie=_a(ie,c),ae=jd(p.range,c),Ca(E,o)||(o=E.start),{currentDate:o,validRange:c,currentRange:p.range,currentRangeUnit:p.unit,isRangeAllDay:C,activeRange:ie,renderRange:E,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:ae,dateIncrement:this.buildDateIncrement(p.duration)}}buildValidRange(){let o=this.props.validRangeInput,t="function"==typeof o?o.call(this.props.calendarApi,this.nowDate):o;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(o,t){let C,{props:i}=this,r=null,c=null,p=null;return i.duration?(r=i.duration,c=i.durationUnit,p=this.buildRangeFromDuration(o,t,r,c)):(C=this.props.dayCount)?(c="day",p=this.buildRangeFromDayCount(o,t,C)):(p=this.buildCustomVisibleRange(o))?c=i.dateEnv.greatestWholeUnit(p.start,p.end).unit:(r=this.getFallbackDuration(),c=yl(r).unit,p=this.buildRangeFromDuration(o,t,r,c)),{duration:r,unit:c,range:p}}getFallbackDuration(){return mi({day:1})}adjustActiveRange(o){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:c}=this.props,{start:p,end:C}=o;return i&&(Tc(r)<0&&(p=Qi(p),p=t.add(p,r)),Tc(c)>1&&(C=Qi(C),C=Qo(C,-1),C=t.add(C,c))),{start:p,end:C}}buildRangeFromDuration(o,t,i,r){let C,E,ie,{dateEnv:c,dateAlignment:p}=this.props;if(!p){let{dateIncrement:tt}=this.props;p=tt&&pr(tt)<pr(i)?yl(tt).unit:r}function ae(){C=c.startOf(o,p),E=c.add(C,i),ie={start:C,end:E}}return Tc(i)<=1&&this.isHiddenDay(C)&&(C=this.skipHiddenDays(C,t),C=Qi(C)),ae(),this.trimHiddenDays(ie)||(o=this.skipHiddenDays(o,t),ae()),ie}buildRangeFromDayCount(o,t,i){let E,{dateEnv:r,dateAlignment:c}=this.props,p=0,C=o;c&&(C=r.startOf(C,c)),C=Qi(C),C=this.skipHiddenDays(C,t),E=C;do{E=Qo(E,1),this.isHiddenDay(E)||(p+=1)}while(p<i);return{start:C,end:E}}buildCustomVisibleRange(o){let{props:t}=this,i=t.visibleRangeInput,r="function"==typeof i?i.call(t.calendarApi,t.dateEnv.toDate(o)):i,c=this.refineRange(r);return!c||null!=c.start&&null!=c.end?c:null}buildRenderRange(o,t,i){return o}buildDateIncrement(o){let i,{dateIncrement:t}=this.props;return t||((i=this.props.dateAlignment)?mi(1,i):o||mi({days:1}))}refineRange(o){if(o){let t=function Tg(n,o){let t=null,i=null;return n.start&&(t=o.createMarker(n.start)),n.end&&(i=o.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}(o,this.props.dateEnv);return t&&(t=xv(t)),t}return null}initHiddenDays(){let r,o=this.props.hiddenDays||[],t=[],i=0;for(!1===this.props.weekends&&o.push(0,6),r=0;r<7;r+=1)(t[r]=-1!==o.indexOf(r))||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(o){let{start:t,end:i}=o;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),null==t||null==i||t<i?{start:t,end:i}:null}isHiddenDay(o){return o instanceof Date&&(o=o.getUTCDay()),this.isHiddenDayHash[o]}skipHiddenDays(o,t=1,i=!1){for(;this.isHiddenDayHash[(o.getUTCDay()+(i?t:0)+7)%7];)o=Qo(o,t);return o}}function wA(n,o,t){t.emitter.trigger("select",Object.assign(Object.assign({},Mc(n,t)),{jsEvent:o?o.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function Mc(n,o){let t={};for(let i of o.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,o));return Object.assign(t,function Fg(n,o){return Object.assign(Object.assign({},qv(n.range,o,n.allDay)),{allDay:n.allDay})}(n,o.dateEnv)),t}function Gv(n,o,t){let{dateEnv:i,options:r}=t,c=o;return n?(c=Qi(c),c=i.add(c,r.defaultAllDayEventDuration)):c=i.add(c,r.defaultTimedEventDuration),c}function Dg(n,o,t,i){let r=Pg(n.defs,o),c={defs:{},instances:{}};for(let p in n.defs)c.defs[p]=Qv(n.defs[p],r[p],t,i);for(let p in n.instances){let C=n.instances[p];c.instances[p]=Ml(C,c.defs[C.defId],r[C.defId],t,i)}return c}function Qv(n,o,t,i){let r=t.standardProps||{};null==r.hasEnd&&o.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let c=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(c.extendedProps=Object.assign(Object.assign({},c.extendedProps),t.extendedProps));for(let p of i.pluginHooks.eventDefMutationAppliers)p(c,t,i);return!c.hasEnd&&i.options.forceEventDuration&&(c.hasEnd=!0),c}function Ml(n,o,t,i,r){let{dateEnv:c}=r,p=i.standardProps&&!0===i.standardProps.allDay,C=i.standardProps&&!1===i.standardProps.hasEnd,E=Object.assign({},n);return p&&(E.range=dA(E.range)),i.datesDelta&&t.startEditable&&(E.range={start:c.add(E.range.start,i.datesDelta),end:c.add(E.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(E.range={start:c.add(E.range.start,i.startDelta),end:E.range.end}),i.endDelta&&t.durationEditable&&(E.range={start:E.range.start,end:c.add(E.range.end,i.endDelta)}),C&&(E.range={start:E.range.start,end:Gv(o.allDay,E.range.start,r)}),o.allDay&&(E.range={start:Qi(E.range.start),end:Qi(E.range.end)}),E.range.end<E.range.start&&(E.range.end=Gv(o.allDay,E.range.start,r)),E}class Dl{constructor(o,t){this.context=o,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Xi{constructor(o,t,i){this._context=o,this._def=t,this._instance=i||null}setProp(o,t){if(o in Qd)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===o)t=vg[o](t),this.mutate({standardProps:{publicId:t}});else if(o in vg)t=vg[o](t),this.mutate({standardProps:{[o]:t}});else if(o in _g){let i=_g[o](t);i="color"===o?{backgroundColor:t,borderColor:t}:"editable"===o?{startEditable:t,durationEditable:t}:{[o]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${o}'. Use setExtendedProp instead.`)}setExtendedProp(o,t){this.mutate({extendedProps:{[o]:t}})}setStart(o,t={}){let{dateEnv:i}=this._context,r=i.createMarker(o);if(r&&this._instance){let p=kc(this._instance.range.start,r,i,t.granularity);this.mutate(t.maintainDuration?{datesDelta:p}:{startDelta:p})}}setEnd(o,t={}){let r,{dateEnv:i}=this._context;if((null==o||(r=i.createMarker(o),r))&&this._instance)if(r){let c=kc(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:c})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(o,t,i={}){let C,{dateEnv:r}=this._context,c={allDay:i.allDay},p=r.createMarker(o);if(p&&(null==t||(C=r.createMarker(t),C))&&this._instance){let E=this._instance.range;!0===i.allDay&&(E=dA(E));let ie=kc(E.start,p,r,i.granularity);if(C){let ae=kc(E.end,C,r,i.granularity);!function VT(n,o){return n.years===o.years&&n.months===o.months&&n.days===o.days&&n.milliseconds===o.milliseconds}(ie,ae)?this.mutate({startDelta:ie,endDelta:ae,standardProps:c}):this.mutate({datesDelta:ie,standardProps:c})}else c.hasEnd=!1,this.mutate({datesDelta:ie,standardProps:c})}}moveStart(o){let t=mi(o);t&&this.mutate({startDelta:t})}moveEnd(o){let t=mi(o);t&&this.mutate({endDelta:t})}moveDates(o){let t=mi(o);t&&this.mutate({datesDelta:t})}setAllDay(o,t={}){let i={allDay:o},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==o&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(o){let{dateEnv:t}=this._context,i=this._instance,r=qi(o);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(o){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:c}=r.getCurrentData(),p=vv(c,t.instanceId);p=Dg(p,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},o,r);let E=new Xi(r,i,t);this._def=p.defs[i.defId],this._instance=p.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:p}),r.emitter.trigger("eventChange",{oldEvent:E,event:this,relatedEvents:Ol(p,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:c})}})}}remove(){let o=this._context,t=qd(this);o.dispatch({type:"REMOVE_EVENTS",eventStore:t}),o.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:o}=this._def;return o?new Dl(this._context,this._context.getCurrentData().eventSources[o]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let o=this._instance;return o?this._context.dateEnv.formatIso(o.range.start,{omitTime:this._def.allDay,forcedTzo:o.forcedStartTzo}):""}get endStr(){let o=this._instance;return o&&this._def.hasEnd?this._context.dateEnv.formatIso(o.range.end,{omitTime:this._def.allDay,forcedTzo:o.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(o={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:c}=this,p={allDay:t.allDay};return t.title&&(p.title=t.title),r&&(p.start=r),c&&(p.end=c),t.publicId&&(p.id=t.publicId),t.groupId&&(p.groupId=t.groupId),t.url&&(p.url=t.url),i.display&&"auto"!==i.display&&(p.display=i.display),o.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?p.color=i.backgroundColor:(i.backgroundColor&&(p.backgroundColor=i.backgroundColor),i.borderColor&&(p.borderColor=i.borderColor)),i.textColor&&(p.textColor=i.textColor),i.classNames.length&&(p.classNames=i.classNames),Object.keys(t.extendedProps).length&&(o.collapseExtendedProps?Object.assign(p,t.extendedProps):p.extendedProps=t.extendedProps),p}toJSON(){return this.toPlainObject()}}function qd(n){let o=n._def,t=n._instance;return{defs:{[o.defId]:o},instances:t?{[t.instanceId]:t}:{}}}function Ol(n,o,t){let{defs:i,instances:r}=n,c=[],p=t?t.instanceId:"";for(let C in r){let E=r[C],ie=i[E.defId];E.instanceId!==p&&c.push(new Xi(o,ie,E))}return c}function Tu(n,o,t,i){let r={},c={},p={},C=[],E=[],ie=Pg(n.defs,o);for(let ae in n.defs){let tt=n.defs[ae];"inverse-background"===ie[tt.defId].display&&(tt.groupId?(r[tt.groupId]=[],p[tt.groupId]||(p[tt.groupId]=tt)):c[ae]=[])}for(let ae in n.instances){let tt=n.instances[ae],rt=n.defs[tt.defId],it=ie[rt.defId],Pt=tt.range,Wt=!rt.allDay&&i?xv(Pt,i):Pt,Jt=_a(Wt,t);Jt&&("inverse-background"===it.display?rt.groupId?r[rt.groupId].push(Jt):c[tt.defId].push(Jt):"none"!==it.display&&("background"===it.display?C:E).push({def:rt,ui:it,instance:tt,range:Jt,isStart:Wt.start&&Wt.start.valueOf()===Jt.start.valueOf(),isEnd:Wt.end&&Wt.end.valueOf()===Jt.end.valueOf()}))}for(let ae in r){let rt=Mv(r[ae],t);for(let it of rt){let Pt=p[ae];C.push({def:Pt,ui:ie[Pt.defId],instance:null,range:it,isStart:!1,isEnd:!1})}}for(let ae in c){let rt=Mv(c[ae],t);for(let it of rt)C.push({def:n.defs[ae],ui:ie[ae],instance:null,range:it,isStart:!1,isEnd:!1})}return{bg:C,fg:E}}function wu(n,o){n.fcSeg=o}function xu(n){return n.fcSeg||n.parentNode.fcSeg||null}function Pg(n,o){return kr(n,t=>EA(t,o))}function EA(n,o){let t=[];return o[""]&&t.push(o[""]),o[n.defId]&&t.push(o[n.defId]),t.push(n.ui),Cg(t)}function Jv(n,o){let t=n.map(jv);return t.sort((i,r)=>function jC(n,o,t){let i,r;for(i=0;i<t.length;i+=1)if(r=WC(n,o,t[i]),r)return r;return 0}(i,r,o)),t.map(i=>i._seg)}function jv(n){let{eventRange:o}=n,t=o.def,i=o.instance?o.instance.range:o.range,r=i.start?i.start.valueOf():0,c=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:c,duration:c-r,allDay:Number(t.allDay),_seg:n})}function SA(n,o){let{pluginHooks:t}=o,i=t.isDraggableTransformers,{def:r,ui:c}=n.eventRange,p=c.startEditable;for(let C of i)p=C(p,r,c,o);return p}function kA(n,o){return n.isStart&&n.eventRange.ui.durationEditable&&o.options.eventResizableFromStart}function Eu(n,o,t,i,r,c,p){let{dateEnv:C,options:E}=t,{displayEventTime:ie,displayEventEnd:ae}=E,tt=n.eventRange.def,rt=n.eventRange.instance;null==ie&&(ie=!1!==i),null==ae&&(ae=!1!==r);let it=rt.range.start,Pt=rt.range.end,Wt=c||n.start||n.eventRange.range.start,Jt=p||n.end||n.eventRange.range.end,cn=Qi(it).valueOf()===Qi(Wt).valueOf(),On=Qi(ma(Pt,-1)).valueOf()===Qi(ma(Jt,-1)).valueOf();return ie&&!tt.allDay&&(cn||On)?(Wt=cn?it:Wt,Jt=On?Pt:Jt,ae&&tt.hasEnd?C.formatRange(Wt,Jt,o,{forcedStartTzo:c?null:rt.forcedStartTzo,forcedEndTzo:p?null:rt.forcedEndTzo}):C.format(Wt,o,{forcedTzo:c?null:rt.forcedStartTzo})):""}function ba(n,o,t){let i=n.eventRange.range;return{isPast:i.end<(t||o.start),isFuture:i.start>=(t||o.end),isToday:o&&Ca(o,i.start)}}function Wv(n){let o=["fc-event"];return n.isMirror&&o.push("fc-event-mirror"),n.isDraggable&&o.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&o.push("fc-event-resizable"),n.isDragging&&o.push("fc-event-dragging"),n.isResizing&&o.push("fc-event-resizing"),n.isSelected&&o.push("fc-event-selected"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),n.isPast&&o.push("fc-event-past"),n.isToday&&o.push("fc-event-today"),n.isFuture&&o.push("fc-event-future"),o}function Rg(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function Lg(n,o){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:c,options:p}=o,{eventInteractive:C}=p;return null==C&&(C=t.interactive,null==C&&(C=Boolean(c.hasHandlers("eventClick")))),C?ZC(E=>{c.trigger("eventClick",{el:E.target,event:new Xi(o,t,i),jsEvent:E,view:o.viewApi})}):{}}const DA={start:Qt,end:Qt,allDay:Boolean};function $v(n,o,t){return Object.assign(Object.assign({},qv(n,o,t)),{timeZone:o.timeZone})}function qv(n,o,t){return{start:o.toDate(n.start),end:o.toDate(n.end),startStr:o.formatIso(n.start,{omitTime:t}),endStr:o.formatIso(n.end,{omitTime:t})}}let OA={};!function PA(n,o){OA[n]=o}("gregory",class LA{getMarkerYear(o){return o.getUTCFullYear()}getMarkerMonth(o){return o.getUTCMonth()}getMarkerDay(o){return o.getUTCDate()}arrayToMarker(o){return Ys(o)}markerToArray(o){return hr(o)}});const nw=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class ow{constructor(o){let t=this.timeZone=o.timeZone,i="local"!==t&&"UTC"!==t;o.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new o.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=function RA(n){return new OA[n]}(o.calendarSystem),this.locale=o.locale,this.weekDow=o.locale.week.dow,this.weekDoy=o.locale.week.doy,"ISO"===o.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof o.firstDay&&(this.weekDow=o.firstDay),"function"==typeof o.weekNumberCalculation&&(this.weekNumberFunc=o.weekNumberCalculation),this.weekText=null!=o.weekText?o.weekText:o.locale.options.weekText,this.weekTextLong=(null!=o.weekTextLong?o.weekTextLong:o.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=o.cmdFormatter,this.defaultSeparator=o.defaultSeparator}createMarker(o){let t=this.createMarkerMeta(o);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Ys(lg(new Date))}createMarkerMeta(o){if("string"==typeof o)return this.parse(o);let t=null;return"number"==typeof o?t=this.timestampToMarker(o):o instanceof Date?(o=o.valueOf(),isNaN(o)||(t=this.timestampToMarker(o))):Array.isArray(o)&&(t=Ys(o)),null!==t&&dv(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(o){let t=function iw(n){let o=nw.exec(n);if(o){let t=new Date(Date.UTC(Number(o[1]),o[3]?Number(o[3])-1:0,Number(o[5]||1),Number(o[7]||0),Number(o[8]||0),Number(o[10]||0),o[12]?1e3*Number(`0.${o[12]}`):0));if(dv(t)){let i=null;return o[13]&&(i=("-"===o[15]?-1:1)*(60*Number(o[16]||0)+Number(o[18]||0))),{marker:t,isTimeUnspecified:!o[6],timeZoneOffset:i}}}return null}(o);if(null===t)return null;let{marker:i}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(o){return this.calendarSystem.getMarkerYear(o)}getMonth(o){return this.calendarSystem.getMarkerMonth(o)}getDay(o){return this.calendarSystem.getMarkerDay(o)}add(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(o,t){let i=this.calendarSystem.markerToArray(o);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(o,t){let{calendarSystem:i}=this;return Al(o)===Al(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)&&i.getMarkerMonth(o)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(o):null}diffWholeMonths(o,t){let{calendarSystem:i}=this;return Al(o)===Al(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(o)+12*(i.getMarkerYear(t)-i.getMarkerYear(o)):null}greatestWholeUnit(o,t){let i=this.diffWholeYears(o,t);return null!==i?{unit:"year",value:i}:(i=this.diffWholeMonths(o,t),null!==i?{unit:"month",value:i}:(i=function rv(n,o){let t=gu(n,o);return null!==t&&t%7==0?t/7:null}(o,t),null!==i?{unit:"week",value:i}:(i=gu(o,t),null!==i?{unit:"day",value:i}:(i=function KI(n,o){return(o.valueOf()-n.valueOf())/36e5}(o,t),cu(i)?{unit:"hour",value:i}:(i=function YI(n,o){return(o.valueOf()-n.valueOf())/6e4}(o,t),cu(i)?{unit:"minute",value:i}:(i=function sv(n,o){return(o.valueOf()-n.valueOf())/1e3}(o,t),cu(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-o.valueOf()}))))))}countDurationsBetween(o,t,i){let r;return i.years&&(r=this.diffWholeYears(o,t),null!==r)?r/function QI(n){return Tc(n)/365}(i):i.months&&(r=this.diffWholeMonths(o,t),null!==r)?r/function uu(n){return Tc(n)/30}(i):i.days&&(r=gu(o,t),null!==r)?r/Tc(i):(t.valueOf()-o.valueOf())/pr(i)}startOf(o,t){return"year"===t?this.startOfYear(o):"month"===t?this.startOfMonth(o):"week"===t?this.startOfWeek(o):"day"===t?Qi(o):"hour"===t?function av(n){return Ys([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}(o):"minute"===t?function $I(n){return Ys([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}(o):"second"===t?function lv(n){return Ys([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}(o):null}startOfYear(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o)])}startOfMonth(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o)])}startOfWeek(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o),o.getUTCDate()-(o.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(o){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(o)):function cv(n,o,t){let i=n.getUTCFullYear(),r=ag(n,i,o,t);if(r<1)return ag(n,i-1,o,t);let c=ag(n,i+1,o,t);return c>=1?Math.min(r,c):r}(o,this.weekDow,this.weekDoy)}format(o,t,i={}){return t.format({marker:o,timeZoneOffset:null!=i.forcedTzo?i.forcedTzo:this.offsetForMarker(o)},this)}formatRange(o,t,i,r={}){return r.isEndExclusive&&(t=ma(t,-1)),i.formatRange({marker:o,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(o)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(o,t={}){let i=null;return t.omitTimeZoneOffset||(i=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(o)),qI(o,i,t.omitTime)}timestampToMarker(o){return"local"===this.timeZone?Ys(lg(new Date(o))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Ys(this.namedTimeZoneImpl.timestampToArray(o)):new Date(o)}offsetForMarker(o){return"local"===this.timeZone?-Ss(hr(o)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(hr(o)):null}toDate(o,t){return"local"===this.timeZone?Ss(hr(o)):"UTC"===this.timeZone?new Date(o.valueOf()):this.namedTimeZoneImpl?new Date(o.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(hr(o))*60):new Date(o.valueOf()-(t||0))}}class NA{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(o){let t=[];for(let i of o)this.insertEntry(i,t);return t}insertEntry(o,t){let i=this.findInsertion(o);return this.isInsertionValid(i,o)?(this.insertEntryAt(o,i),1):this.handleInvalidInsertion(i,o,t)}isInsertionValid(o,t){return(-1===this.maxCoord||o.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||o.stackCnt<this.maxStackCnt)}handleInvalidInsertion(o,t,i){return this.allowReslicing&&o.touchingEntry?this.splitEntry(t,o.touchingEntry,i):(i.push(t),0)}splitEntry(o,t,i){let r=0,c=[],p=o.span,C=t.span;return p.start<C.start&&(r+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:p.start,end:C.start}},c)),p.end>C.end&&(r+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:C.end,end:p.end}},c)),r?(i.push({index:o.index,thickness:o.thickness,span:Xv(C,p)},...c),r):(i.push(o),0)}insertEntryAt(o,t){let{entriesByLevel:i,levelCoords:r}=this;-1===t.lateral?(e0(r,t.level,t.levelCoord),e0(i,t.level,[o])):e0(i[t.level],t.lateral,o),this.stackCnts[Dc(o)]=t.stackCnt}findInsertion(o){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:c}=this,p=t.length,C=0,E=-1,ie=-1,ae=null,tt=0;for(let Pt=0;Pt<p;Pt+=1){let Wt=t[Pt];if(!r&&Wt>=C+o.thickness)break;let cn,Jt=i[Pt],On=t0(Jt,o.span.start,Bg),Xn=On[0]+On[1];for(;(cn=Jt[Xn])&&cn.span.start<o.span.end;){let Gn=Wt+cn.thickness;Gn>C&&(C=Gn,ae=cn,E=Pt,ie=Xn),Gn===C&&(tt=Math.max(tt,c[Dc(cn)]+1)),Xn+=1}}let rt=0;if(ae)for(rt=E+1;rt<p&&t[rt]<C;)rt+=1;let it=-1;return rt<p&&t[rt]===C&&(it=t0(i[rt],o.span.end,Bg)[0]),{touchingLevel:E,touchingLateral:ie,touchingEntry:ae,stackCnt:tt,levelCoord:C,level:rt,lateral:it}}toRects(){let{entriesByLevel:o,levelCoords:t}=this,i=o.length,r=[];for(let c=0;c<i;c+=1){let p=o[c],C=t[c];for(let E of p)r.push(Object.assign(Object.assign({},E),{levelCoord:C}))}return r}}function Bg(n){return n.span.end}function Dc(n){return n.index+":"+n.span.start}function rw(n,o){return{start:Math.min(n.start,o.start),end:Math.max(n.end,o.end)}}function Xv(n,o){let t=Math.max(n.start,o.start),i=Math.min(n.end,o.end);return t<i?{start:t,end:i}:null}function e0(n,o,t){n.splice(o,0,t)}function t0(n,o,t){let i=0,r=n.length;if(!r||o<t(n[i]))return[0,0];if(o>t(n[r-1]))return[r,0];for(;i<r;){let c=Math.floor(i+(r-i)/2),p=t(n[c]);if(o<p)r=c;else{if(!(o>p))return[c,1];i=c+1}}return[i,0]}class a{constructor(o){this.component=o.component,this.isHitComboAllowed=o.isHitComboAllowed||null}destroy(){}}function u(n){return{[n.component.uid]:n}}const d={},m={};Boolean;class J extends Ui{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:o}=this,{options:t}=o,{forPrint:i}=this.state,r=i||"auto"===t.height||"auto"===t.contentHeight,c=r||null==t.height?"":t.height,p=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,o.theme.getClass("root")];return kv()||p.push("fc-liquid-hack"),o.children(p,c,r,i)}componentDidMount(){let{emitter:o}=this.props;o.on("_beforeprint",this.handleBeforePrint),o.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:o}=this.props;o.off("_beforeprint",this.handleBeforePrint),o.off("_afterprint",this.handleAfterPrint)}}const ze="fc-col-header-cell";function nt(n){return n.text}class Tt extends Ui{constructor(){super(...arguments),this.id=yc(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=o=>{this.props.elRef&&Va(this.props.elRef,o)}}render(){const{props:o,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:c,renderProps:p}=o,C=qt(o);let ie,tt,E=!1,ae=[];if(null!=r){const rt="function"==typeof r?r(p,gt):r;if(!0===rt)E=!0;else{const it=rt&&"object"==typeof rt;it&&"html"in rt?C.dangerouslySetInnerHTML={__html:rt.html}:it&&"domNodes"in rt?ae=Array.prototype.slice.call(rt.domNodes):it||"function"==typeof rt?tt=rt:ie=rt}}else E=!Nt(o.generatorName,i);return E&&c&&(ie=c(p)),this.queuedDomNodes=ae,this.currentGeneratorMeta=tt,gt(o.elTag,C,ie)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(o){var t;const{props:i,context:r}=this,{handleCustomRendering:c,customRenderingMetaMap:p}=r.options;if(c){const C=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==p?void 0:p[i.generatorName];C&&c(Object.assign(Object.assign({id:this.id,isActive:o,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:C},i),{elClasses:(i.elClasses||[]).filter(dn)}))}}applyQueueudDomNodes(){const{queuedDomNodes:o,currentDomNodes:t}=this,i=this.base;if(!Mr(o,t)){t.forEach(au);for(let r of o)i.appendChild(r);this.currentDomNodes=o}}}function Nt(n,o){var t;return Boolean(o.handleCustomRendering&&n&&(null===(t=o.customRenderingMetaMap)||void 0===t?void 0:t[n]))}function qt(n,o){const t=Object.assign(Object.assign({},n.elAttrs),{ref:n.elRef});return(n.elClasses||o)&&(t.className=(n.elClasses||[]).concat(o||[]).concat(t.className||[]).filter(Boolean).join(" ")),n.elStyle&&(t.style=n.elStyle),t}function dn(n){return Boolean(n)}Tt.addPropsEquality({elClasses:Mr,elStyle:fa,elAttrs:function ov(n,o){const t=hu(n,o);for(let i of t)if(!iv.test(i))return!1;return!0},renderProps:fa});const _n=kg(0);let wn=(()=>{class n extends Go{constructor(){super(...arguments),this.InnerContent=Un.bind(void 0,this),this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Va(this.props.elRef,t)}}render(){const{props:t}=this,i=function on(n,o){const t="function"==typeof n?n(o):n||[];return"string"==typeof t?[t]:t}(t.classNameGenerator,t.renderProps);if(t.children){const r=qt(t,i),c=t.children(this.InnerContent,t.renderProps,r);return t.elTag?gt(t.elTag,r,c):c}return gt(Tt,Object.assign(Object.assign({},t),{elRef:this.handleRootEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;null===(i=(t=this.props).didMount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var t,i;null===(i=(t=this.props).willUnmount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}return n.contextType=_n,n})();function Un(n,o){const t=n.props;return gt(Tt,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},o))}class Qn extends Ui{render(){let{dateEnv:o,options:t,theme:i,viewApi:r}=this.context,{props:c}=this,{date:p,dateProfile:C}=c,E=wg(p,c.todayRange,null,C),ie=[ze].concat(bu(E,i)),ae=o.format(p,c.dayHeaderFormat),tt=!E.isDisabled&&c.colCnt>1?Sl(this.context,p):{},rt=Object.assign(Object.assign(Object.assign({date:o.toDate(p),view:r},c.extraRenderProps),{text:ae}),E);return gt(wn,{elTag:"th",elClasses:ie,elAttrs:Object.assign({role:"columnheader",colSpan:c.colSpan,"data-date":E.isDisabled?void 0:wc(p)},c.extraDataAttrs),renderProps:rt,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:nt,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},it=>gt("div",{className:"fc-scrollgrid-sync-inner"},!E.isDisabled&&gt(it,{elTag:"a",elAttrs:tt,elClasses:["fc-col-header-cell-cushion",c.isSticky&&"fc-sticky"]})))}}const Ai=qi({weekday:"long"});class lo extends Ui{render(){let{props:o}=this,{dateEnv:t,theme:i,viewApi:r,options:c}=this.context,p=Qo(new Date(2592e5),o.dow),C={dow:o.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},E=t.format(p,o.dayHeaderFormat),ie=Object.assign(Object.assign(Object.assign(Object.assign({date:p},C),{view:r}),o.extraRenderProps),{text:E});return gt(wn,{elTag:"th",elClasses:[ze,...bu(C,i),...o.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan},o.extraDataAttrs),renderProps:ie,generatorName:"dayHeaderContent",customGenerator:c.dayHeaderContent,defaultGenerator:nt,classNameGenerator:c.dayHeaderClassNames,didMount:c.dayHeaderDidMount,willUnmount:c.dayHeaderWillUnmount},ae=>gt("div",{className:"fc-scrollgrid-sync-inner"},gt(ae,{elTag:"a",elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(p,Ai)}})))}}let qr=(()=>{class n extends Go{constructor(t,i){super(t,i),this.initialNowDate=$d(i.options.now,i.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:i}=this,r=ma(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),c=i.dateEnv.startOf(r,t.unit),p=i.dateEnv.add(c,mi(1,t.unit)),C=p.valueOf()-r.valueOf();return C=Math.min(864e5,C),{currentState:{nowDate:c,todayRange:Xd(c)},nextState:{nowDate:p,todayRange:Xd(p)},waitMs:C}}setTimeout(){let{nextState:t,waitMs:i}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},i)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=Ha,n})();function Xd(n){let o=Qi(n);return{start:o,end:Qo(o,1)}}class ep extends Ui{constructor(){super(...arguments),this.createDayHeaderFormatter=Zn(Hg)}render(){let{context:o}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:c}=this.props,p=this.createDayHeaderFormatter(o.options.dayHeaderFormat,r,t.length);return gt(qr,{unit:"day"},(C,E)=>gt("tr",{role:"row"},c&&c("day"),t.map(ie=>r?gt(Qn,{key:ie.toISOString(),date:ie,dateProfile:i,todayRange:E,colCnt:t.length,dayHeaderFormat:p}):gt(lo,{key:ie.getUTCDay(),dow:ie.getUTCDay(),dayHeaderFormat:p}))))}}function Hg(n,o,t){return n||function me(n,o){return qi(!n||o>10?{weekday:"short"}:o>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(o,t)}class tp{constructor(o,t){let i=o.start,{end:r}=o,c=[],p=[],C=-1;for(;i<r;)t.isHiddenDay(i)?c.push(C+.5):(C+=1,c.push(C),p.push(i)),i=Qo(i,1);this.dates=p,this.indices=c,this.cnt=p.length}sliceRange(o){let t=this.getDateDayIndex(o.start),i=this.getDateDayIndex(Qo(o.end,-1)),r=Math.max(0,t),c=Math.min(this.cnt-1,i);return r=Math.ceil(r),c=Math.floor(c),r<=c?{firstIndex:r,lastIndex:c,isStart:t===r,isEnd:i===c}:null}getDateDayIndex(o){let{indices:t}=this,i=Math.floor(ja(this.dates[0],o));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class np{constructor(o,t){let r,c,p,{dates:i}=o;if(t){for(c=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==c;r+=1);p=Math.ceil(i.length/r)}else p=1,r=i.length;this.rowCnt=p,this.colCnt=r,this.daySeries=o,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let o=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));o.push(i)}return o}buildCell(o,t){let i=this.daySeries.dates[o*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let o=[];for(let t=0;t<this.colCnt;t+=1)o.push(this.cells[0][t].date);return o}sliceRange(o){let{colCnt:t}=this,i=this.daySeries.sliceRange(o),r=[];if(i){let{firstIndex:c,lastIndex:p}=i,C=c;for(;C<=p;){let E=Math.floor(C/t),ie=Math.min((E+1)*t,p+1);r.push({row:E,firstCol:C%t,lastCol:(ie-1)%t,isStart:i.isStart&&C===c,isEnd:i.isEnd&&ie-1===p}),C=ie}}return r}}class ip{constructor(){this.sliceBusinessHours=Zn(this._sliceBusinessHours),this.sliceDateSelection=Zn(this._sliceDateSpan),this.sliceEventStore=Zn(this._sliceEventStore),this.sliceEventDrag=Zn(this._sliceInteraction),this.sliceEventResize=Zn(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(o,t,i,r,...c){let{eventUiBases:p}=o,C=this.sliceEventStore(o.eventStore,p,t,i,...c);return{dateSelectionSegs:this.sliceDateSelection(o.dateSelection,t,i,p,r,...c),businessHourSegs:this.sliceBusinessHours(o.businessHours,t,i,r,...c),fgEventSegs:C.fg,bgEventSegs:C.bg,eventDrag:this.sliceEventDrag(o.eventDrag,p,t,i,...c),eventResize:this.sliceEventResize(o.eventResize,p,t,i,...c),eventSelection:o.eventSelection}}sliceNowDate(o,t,i,r,...c){return this._sliceDateSpan({range:{start:o,end:ma(o,1)},allDay:!1},t,i,{},r,...c)}_sliceBusinessHours(o,t,i,r,...c){return o?this._sliceEventStore(xl(o,Oc(t,Boolean(i)),r),{},t,i,...c).bg:[]}_sliceEventStore(o,t,i,r,...c){if(o){let p=Tu(o,t,Oc(i,Boolean(r)),r);return{bg:this.sliceEventRanges(p.bg,c),fg:this.sliceEventRanges(p.fg,c)}}return{bg:[],fg:[]}}_sliceInteraction(o,t,i,r,...c){if(!o)return null;let p=Tu(o.mutatedEvents,t,Oc(i,Boolean(r)),r);return{segs:this.sliceEventRanges(p.fg,c),affectedInstances:o.affectedEvents.instances,isEvent:o.isEvent}}_sliceDateSpan(o,t,i,r,c,...p){if(!o)return[];let C=Oc(t,Boolean(i)),E=_a(o.range,C);if(E){let ie=function tw(n,o,t){let i=bg({editable:!1},t),r=yg(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:EA(r,o),instance:Gd(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}(o=Object.assign(Object.assign({},o),{range:E}),r,c),ae=this.sliceRange(o.range,...p);for(let tt of ae)tt.eventRange=ie;return ae}return[]}sliceEventRanges(o,t){let i=[];for(let r of o)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(o,t){let i=o.range;this.forceDayIfListItem&&"list-item"===o.ui.display&&(i={start:i.start,end:Qo(i.start,1)});let r=this.sliceRange(i,...t);for(let c of r)c.eventRange=o,c.isStart=o.isStart&&c.isStart,c.isEnd=o.isEnd&&c.isEnd;return r}}function Oc(n,o){let t=n.activeRange;return o?t:{start:ma(t.start,n.slotMinTime.milliseconds),end:ma(t.end,n.slotMaxTime.milliseconds-864e5)}}function aw(n,o,t){let i=t.options.eventDataTransform,r=o?o.eventDataTransform:null;return r&&(n=lw(n,r)),i&&(n=lw(n,i)),n}function lw(n,o){let t;if(o){t=[];for(let i of n){let r=o(i);r?t.push(r):null==r&&t.push(i)}}else t=n;return t}function cw(n,o,t){let{defs:i}=n,r=kr(n.instances,c=>i[c.defId].allDay?c:Object.assign(Object.assign({},c),{range:{start:t.createMarker(o.toDate(c.range.start,c.forcedStartTzo)),end:t.createMarker(o.toDate(c.range.end,c.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:c.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:c.forcedEndTzo}));return{defs:i,instances:r}}function uw(n,o){return mg(n,t=>t.sourceId!==o)}function dw(n,o,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Wd(o.validRange,i[r].range))return!1;return pw({eventDrag:n},t)}function pw(n,o){let t=o.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(o.pluginHooks.isPropsValid||nE)(i,o)}function nE(n,o,t={},i){return!(n.eventDrag&&!function iE(n,o,t,i){let r=o.getCurrentData(),c=n.eventDrag,p=c.mutatedEvents,C=p.defs,E=p.instances,ie=Pg(C,c.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(ie=kr(ie,i));let ae=function Xx(n,o){return{defs:n.defs,instances:Il(n.instances,t=>!o[t.instanceId])}}(n.eventStore,c.affectedEvents.instances),tt=ae.defs,rt=ae.instances,it=Pg(tt,n.eventUiBases);for(let Pt in E){let Wt=E[Pt],Jt=Wt.range,cn=ie[Wt.defId],On=C[Wt.defId];if(!hw(cn.constraints,Jt,ae,n.businessHours,o))return!1;let{eventOverlap:Xn}=o.options,Gn="function"==typeof Xn?Xn:null;for(let co in rt){let Do=rt[co];if(jd(Jt,Do.range)&&(!1===it[Do.defId].overlap&&c.isEvent||!1===cn.overlap||Gn&&!Gn(new Xi(o,tt[Do.defId],Do),new Xi(o,On,Wt))))return!1}let Ei=r.eventStore;for(let co of cn.allows){let jg,Do=Object.assign(Object.assign({},t),{range:Wt.range,allDay:On.allDay}),Ri=Ei.defs[On.defId],Rc=Ei.instances[Pt];if(jg=Ri?new Xi(o,Ri,Rc):new Xi(o,On),!co(Mc(Do,o),jg))return!1}}return!0}(n,o,t,i)||n.dateSelection&&!function oE(n,o,t,i){let r=n.eventStore,c=r.defs,p=r.instances,C=n.dateSelection,E=C.range,{selectionConfig:ie}=o.getCurrentData();if(i&&(ie=i(ie)),!hw(ie.constraints,E,r,n.businessHours,o))return!1;let{selectOverlap:ae}=o.options,tt="function"==typeof ae?ae:null;for(let rt in p){let it=p[rt];if(jd(E,it.range)&&(!1===ie.overlap||tt&&!tt(new Xi(o,c[it.defId],it),null)))return!1}for(let rt of ie.allows)if(!rt(Mc(Object.assign(Object.assign({},t),C),o),null))return!1;return!0}(n,o,t,i))}function hw(n,o,t,i,r){for(let c of n)if(!rE(sE(c,o,t,i,r),o))return!1;return!0}function sE(n,o,t,i,r){return"businessHours"===n?FA(xl(i,o,r)):"string"==typeof n?FA(mg(t,c=>c.groupId===n)):"object"==typeof n&&n?FA(xl(n,o,r)):[]}function FA(n){let{instances:o}=n,t=[];for(let i in o)t.push(o[i].range);return t}function rE(n,o){for(let t of n)if(Wd(t,o))return!0;return!1}class gw extends Error{constructor(o,t){super(o),this.response=t}}class BA{constructor(o){this.drainedOption=o,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(o){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==o?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),o))}pause(o=""){let{pauseDepths:t}=this;t[o]=(t[o]||0)+1,this.clearTimeout()}resume(o="",t){let{pauseDepths:i}=this;o in i&&(t?delete i[o]:(i[o]-=1,i[o]<=0&&delete i[o]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}const n0=/^(visible|hidden)$/;class fw extends Ui{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,Va(this.props.elRef,o)}}render(){let{props:o}=this,{liquid:t,liquidIsAbsolute:i}=o,r=t&&i,c=["fc-scroller"];return t&&c.push(i?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),gt("div",{ref:this.handleEl,className:c.join(" "),style:{overflowX:o.overflowX,overflowY:o.overflowY,left:r&&-(o.overcomeLeft||0)||"",right:r&&-(o.overcomeRight||0)||"",bottom:r&&-(o.overcomeBottom||0)||"",marginLeft:!r&&-(o.overcomeLeft||0)||"",marginRight:!r&&-(o.overcomeRight||0)||"",marginBottom:!r&&-(o.overcomeBottom||0)||"",maxHeight:o.maxHeight||""}},o.children)}needsXScrolling(){if(n0.test(this.props.overflowX))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=o;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(n0.test(this.props.overflowY))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=o;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return n0.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return n0.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Pl{constructor(o){this.masterCallback=o,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:c}=this,p=!1,C=!1;null!==t?(p=i in c,c[i]=t,r[i]=(r[i]||0)+1,C=!0):(r[i]-=1,r[i]||(delete c[i],delete this.callbackMap[i],p=!0)),this.masterCallback&&(p&&this.masterCallback(null,String(i)),C&&this.masterCallback(t,String(i)))}}createRef(o){let t=this.callbackMap[o];return t||(t=this.callbackMap[o]=i=>{this.handleValue(i,String(o))}),t}collect(o,t,i){return function jI(n,o=0,t,i=1){let r=[];null==t&&(t=Object.keys(n).length);for(let c=o;c<t;c+=i){let p=n[c];void 0!==p&&r.push(p)}return r}(this.currentMap,o,t,i)}getAll(){return og(this.currentMap)}}function mw(n,o){return n.liquid&&o.liquid}function dE(n,o){return Mr(n,o,fa)}function pE(n,o){let t=[];for(let i of n){let r=i.span||1;for(let c=0;c<r;c+=1)t.push(gt("col",{style:{width:"shrink"===i.width?hE(o):i.width||"",minWidth:i.minWidth||""}}))}return gt("colgroup",{},...t)}function hE(n){return null==n?4:n}function mE(n,o){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return o&&n.liquid&&null==n.maxHeight&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function HA(n){return gt("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function o0(n){let{stickyHeaderDates:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}function _w(n){let{stickyFooterScrollbar:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}class VA extends Ui{constructor(){super(...arguments),this.processCols=Zn(o=>o,dE),this.renderMicroColGroup=Zn(pE),this.scrollerRefs=new Pl,this.scrollerElRefs=new Pl(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:o,state:t,context:i}=this,r=o.sections||[],c=this.processCols(o.cols),p=this.renderMicroColGroup(c,t.shrinkWidth),C=function fE(n,o){let t=["fc-scrollgrid",o.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}(o.liquid,i);o.collapsibleWidth&&C.push("fc-scrollgrid-collapsible");let ae,E=r.length,ie=0,tt=[],rt=[],it=[];for(;ie<E&&"header"===(ae=r[ie]).type;)tt.push(this.renderSection(ae,p,!0)),ie+=1;for(;ie<E&&"body"===(ae=r[ie]).type;)rt.push(this.renderSection(ae,p,!1)),ie+=1;for(;ie<E&&"footer"===(ae=r[ie]).type;)it.push(this.renderSection(ae,p,!0)),ie+=1;let Pt=!kv();const Wt={role:"rowgroup"};return gt("table",{role:"grid",className:C.join(" "),style:{height:o.height}},Boolean(!Pt&&tt.length)&&gt("thead",Wt,...tt),Boolean(!Pt&&rt.length)&&gt("tbody",Wt,...rt),Boolean(!Pt&&it.length)&&gt("tfoot",Wt,...it),Pt&&gt("tbody",Wt,...tt,...rt,...it))}renderSection(o,t,i){return"outerContent"in o?gt(Vi,{key:o.key},o.outerContent):gt("tr",{key:o.key,role:"presentation",className:mE(o,this.props.liquid).join(" ")},this.renderChunkTd(o,t,o.chunk,i))}renderChunkTd(o,t,i,r){if("outerContent"in i)return i.outerContent;let{props:c}=this,{forceYScrollbars:p,scrollerClientWidths:C,scrollerClientHeights:E}=this.state,ie=function cE(n,o){return null!=o.maxHeight||mw(n,o)}(c,o),ae=mw(c,o),tt=c.liquid?p?"scroll":ie?"auto":"hidden":"visible",rt=o.key,it=function uE(n,o,t,i){let{expandRows:r}=t;return"function"==typeof o.content?o.content(t):gt("table",{role:"presentation",className:[o.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,gt(i?"thead":"tbody",{role:"presentation"},"function"==typeof o.rowContent?o.rowContent(t):o.rowContent))}(o,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:c.collapsibleWidth||void 0===C[rt]?null:C[rt],clientHeight:void 0!==E[rt]?E[rt]:null,expandRows:o.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return gt(r?"th":"td",{ref:i.elRef,role:"presentation"},gt("div",{className:"fc-scroller-harness"+(ae?" fc-scroller-harness-liquid":"")},gt(fw,{ref:this.scrollerRefs.createRef(rt),elRef:this.scrollerElRefs.createRef(rt),overflowY:tt,overflowX:c.liquid?"hidden":"visible",maxHeight:o.maxHeight,liquid:ae,liquidIsAbsolute:!0},it)))}_handleScrollerEl(o,t){let i=function _E(n,o){for(let t of n)if(t.key===o)return t;return null}(this.props.sections,t);i&&Va(i.chunk.scrollerElRef,o)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function gE(n){for(let o of n)if("shrink"===o.width)return!0;return!1}(this.props.cols)?function lE(n){let o=function HI(n,o){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let c=t[r].querySelectorAll(o);for(let p=0;p<c.length;p+=1)i.push(c[p])}return i}(n,".fc-scrollgrid-shrink"),t=0;for(let i of o)t=Math.max(t,YC(i));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let o=function CA(){return Pv||(Pv=function vA(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let o=Rv(n);return document.body.removeChild(n),o}()),Pv}(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,c={},p={};for(let C in t.currentMap){let E=t.currentMap[C];if(E&&E.needsYScrolling()){r=!0;break}}for(let C of this.props.sections){let E=C.key,ie=i.currentMap[E];if(ie){let ae=ie.parentNode;c[E]=Math.floor(ae.getBoundingClientRect().width-(r?o.y:0)),p[E]=Math.floor(ae.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:c,scrollerClientHeights:p}}}VA.addStateEquality({scrollerClientWidths:fa,scrollerClientHeights:fa});class s0 extends Ui{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,o&&wu(o,this.props.seg)}}render(){const{props:o,context:t}=this,{options:i}=t,{seg:r}=o,{eventRange:c}=r,{ui:p}=c,C={event:new Xi(t,c.def,c.instance),view:t.viewApi,timeText:o.timeText,textColor:p.textColor,backgroundColor:p.backgroundColor,borderColor:p.borderColor,isDraggable:!o.disableDragging&&SA(r,t),isStartResizable:!o.disableResizing&&kA(r,t),isEndResizable:!o.disableResizing&&(n=r,n.isEnd&&n.eventRange.ui.durationEditable),isMirror:Boolean(o.isDragging||o.isResizing||o.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(o.isPast),isFuture:Boolean(o.isFuture),isToday:Boolean(o.isToday),isSelected:Boolean(o.isSelected),isDragging:Boolean(o.isDragging),isResizing:Boolean(o.isResizing)};var n;return gt(wn,Object.assign({},o,{elRef:this.handleEl,elClasses:[...Wv(C),...r.eventRange.ui.classNames,...o.elClasses||[]],renderProps:C,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:o.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(o){this.el&&this.props.seg!==o.seg&&wu(this.el,this.props.seg)}}class Cw extends Ui{render(){let{props:o,context:t}=this,{options:i}=t,{seg:r}=o,{ui:c}=r.eventRange,C=Eu(r,i.eventTimeFormat||o.defaultTimeFormat,t,o.defaultDisplayEventTime,o.defaultDisplayEventEnd);return gt(s0,Object.assign({},o,{elTag:"a",elStyle:{borderColor:c.borderColor,backgroundColor:c.backgroundColor},elAttrs:Lg(r,t),defaultGenerator:CE,timeText:C}),(E,ie)=>gt(Vi,null,gt(E,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:ie.textColor}}),Boolean(ie.isStartResizable)&&gt("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(ie.isEndResizable)&&gt("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function CE(n){return gt("div",{className:"fc-event-main-frame"},n.timeText&&gt("div",{className:"fc-event-time"},n.timeText),gt("div",{className:"fc-event-title-container"},gt("div",{className:"fc-event-title fc-sticky"},n.event.title||gt(Vi,null,"\xa0"))))}const ZA=n=>gt(Ha.Consumer,null,o=>{let{options:t}=o,i={isAxis:n.isAxis,date:o.dateEnv.toDate(n.date),view:o.viewApi};return gt(wn,Object.assign({},n,{elTag:n.elTag||"div",renderProps:i,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),vE=qi({day:"numeric"});class UA extends Ui{constructor(){super(...arguments),this.refineRenderProps=Hd(bE)}render(){let{props:o,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,isMonthStart:o.isMonthStart||!1,showDayNumber:o.showDayNumber,extraRenderProps:o.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return gt(wn,Object.assign({},o,{elClasses:[...bu(r,t.theme),...o.elClasses||[]],elAttrs:Object.assign(Object.assign({},o.elAttrs),r.isDisabled?{}:{"data-date":wc(o.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:o.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function zA(n){return Boolean(n.dayCellContent||Nt("dayCellContent",n))}function bE(n){let{date:o,dateEnv:t,dateProfile:i,isMonthStart:r}=n,c=wg(o,n.todayRange,null,i),p=n.showDayNumber?t.format(o,r?n.monthStartFormat:vE):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(o),view:n.viewApi},c),{isMonthStart:r,dayNumberText:p}),n.extraRenderProps)}class vw extends Ui{render(){let{props:o}=this,{seg:t}=o;return gt(s0,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:yE,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:o.isPast,isFuture:o.isFuture,isToday:o.isToday,disableDragging:!0,disableResizing:!0})}}function yE(n){let{title:o}=n.event;return o&&gt("div",{className:"fc-event-title"},n.event.title)}function bw(n){return gt("div",{className:`fc-${n}`})}const yw=n=>gt(Ha.Consumer,null,o=>{let{dateEnv:t,options:i}=o,{date:r}=n,c=i.weekNumberFormat||n.defaultFormat,p=t.computeWeekNumber(r),C=t.format(r,c);return gt(wn,Object.assign({},n,{renderProps:{num:p,text:C,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:IE,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function IE(n){return n.text}class AE extends Ui{constructor(){super(...arguments),this.state={titleId:Ja()},this.handleRootEl=o=>{this.rootEl=o,this.props.elRef&&Va(this.props.elRef,o)},this.handleDocumentMouseDown=o=>{const t=qh(o);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=o=>{"Escape"===o.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:o}=this.props;o&&o()}}render(){let{theme:o,options:t}=this.context,{props:i,state:r}=this,c=["fc-popover",o.getClass("popover")].concat(i.extraClassNames||[]);return function IC(n,o){var t=gt(yC,{__v:n,i:o});return t.containerInfo=o,t}(gt("div",Object.assign({},i.extraAttrs,{id:i.id,className:c.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),gt("div",{className:"fc-popover-header "+o.getClass("popoverHeader")},gt("span",{className:"fc-popover-title",id:r.titleId},i.title),gt("span",{className:"fc-popover-close "+o.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),gt("div",{className:"fc-popover-body "+o.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:o}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,c=function Fv(n){let o=Bv(n),t=n.getBoundingClientRect();for(let i of o){let r=gA(t,i.getBoundingClientRect());if(!r)return null;t=r}return t}(t);if(c){let p=r.getBoundingClientRect(),C=i?Es(t,".fc-scrollgrid").getBoundingClientRect().top:c.top,E=o?c.right-p.width:c.left;C=Math.max(C,10),E=Math.min(E,document.documentElement.clientWidth-10-p.width),E=Math.max(E,10);let ie=r.offsetParent.getBoundingClientRect();bc(r,{top:C-ie.top,left:E-ie.left})}}}class TE extends $r{constructor(){super(...arguments),this.handleRootEl=o=>{this.rootEl=o,o?this.context.registerInteractiveComponent(this,{el:o,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:o,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:c,dateProfile:p}=i,C=t.format(r,o.dayPopoverFormat);return gt(UA,{elRef:this.handleRootEl,date:r,dateProfile:p,todayRange:c},(E,ie,ae)=>gt(AE,{elRef:ae.ref,id:i.id,title:C,extraClassNames:["fc-more-popover"].concat(ae.className||[]),extraAttrs:ae,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},zA(o)&&gt(E,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(o,t,i,r){let{rootEl:c,props:p}=this;return o>=0&&o<i&&t>=0&&t<r?{dateProfile:p.dateProfile,dateSpan:Object.assign({allDay:!p.forceTimed,range:{start:p.startDate,end:p.endDate}},p.extraDateSpan),dayEl:c,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class Iw extends Ui{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ja()},this.handleLinkEl=o=>{this.linkEl=o,this.props.elRef&&Va(this.props.elRef,o)},this.handleClick=o=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,c=Aw(t).start;function p(C){let{def:E,instance:ie,range:ae}=C.eventRange;return{event:new Xi(i,E,ie),start:i.dateEnv.toDate(ae.start),end:i.dateEnv.toDate(ae.end),isStart:C.isStart,isEnd:C.isEnd}}"function"==typeof r&&(r=r({date:c,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(p),hiddenSegs:t.hiddenSegs.map(p),jsEvent:o,view:i.viewApi})),r&&"popover"!==r?"string"==typeof r&&i.calendarApi.zoomTo(c,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:o,state:t}=this;return gt(Ha.Consumer,null,i=>{let{viewApi:r,options:c,calendarApi:p}=i,{moreLinkText:C}=c,{moreCnt:E}=o,ie=Aw(o),ae="function"==typeof C?C.call(p,E):`+${E} ${C}`,tt=Ac(c.moreLinkHint,[E],ae),rt={num:E,shortText:`+${E}`,text:ae,view:r};return gt(Vi,null,Boolean(o.moreCnt)&&gt(wn,{elTag:o.elTag||"a",elRef:this.handleLinkEl,elClasses:[...o.elClasses||[],"fc-more-link"],elStyle:o.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},o.elAttrs),VC(this.handleClick)),{title:tt,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:rt,generatorName:"moreLinkContent",customGenerator:c.moreLinkContent,defaultGenerator:o.defaultGenerator||wE,classNameGenerator:c.moreLinkClassNames,didMount:c.moreLinkDidMount,willUnmount:c.moreLinkWillUnmount},o.children),t.isPopoverOpen&&gt(TE,{id:t.popoverId,startDate:ie.start,endDate:ie.end,dateProfile:o.dateProfile,todayRange:o.todayRange,extraDateSpan:o.extraDateSpan,parentEl:this.parentEl,alignmentEl:o.alignmentElRef?o.alignmentElRef.current:this.linkEl,alignGridTop:o.alignGridTop,forceTimed:o.forceTimed,onClose:this.handlePopoverClose},o.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Es(this.linkEl,".fc-view-harness"))}}function wE(n){return n.text}function Aw(n){if(n.allDayDate)return{start:n.allDayDate,end:Qo(n.allDayDate,1)};let{hiddenSegs:o}=n;return{start:Tw(o),end:EE(o)}}function Tw(n){return n.reduce(xE).eventRange.range.start}function xE(n,o){return n.eventRange.range.start<o.eventRange.range.start?n:o}function EE(n){return n.reduce(SE).eventRange.range.end}function SE(n,o){return n.eventRange.range.end>o.eventRange.range.end?n:o}class Ug extends Ui{render(){let{props:o,context:t}=this,{options:i}=t,r={view:t.viewApi};return gt(wn,Object.assign({},o,{elTag:o.elTag||"div",elClasses:[...ww(o.viewSpec),...o.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>o.children)}}function ww(n){return[`fc-${n.type}-view`,"fc-view"]}const kE={id:String,defaultAllDay:Boolean,url:String,format:String,events:Qt,eventDataTransform:Qt,success:Qt,failure:Qt};function xw(n,o,t=Ew(o)){let i;if("string"==typeof n?i={url:n}:"function"==typeof n||Array.isArray(n)?i={events:n}:"object"==typeof n&&n&&(i=n),i){let{refined:r,extra:c}=Cu(i,t),p=function ME(n,o){let t=o.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let c=t[i].parseMeta(n);if(c)return{sourceDefId:i,meta:c}}return null}(r,o);if(p)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:yc(),sourceDefId:p.sourceDefId,meta:p.meta,ui:El(r,o),extendedProps:c}}return null}function Ew(n){return Object.assign(Object.assign(Object.assign({},_g),kE),n.pluginHooks.eventSourceRefiners)}class PE extends class OE{constructor(){this.handlers=[]}set(o){this.currentValue=o;for(let t of this.handlers)t(o)}subscribe(o){this.handlers.push(o),void 0!==this.currentValue&&o(this.currentValue)}}{constructor(){super(...arguments),this.map=new Map}handle(o){const{map:t}=this;let i=!1;o.isActive?(t.set(o.id,o),i=!0):t.has(o.id)&&(t.delete(o.id),i=!0),i&&this.set(t)}}const RE=[],Sw={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},kw=Object.assign(Object.assign({},Sw),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(n,o)=>"day"===o?"Today":`This ${n}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:n=>`Show ${n} more event${1===n?"":"s"}`});function Mw(n){let o=n.length>0?n[0].code:"en",t=RE.concat(n),i={en:kw};for(let r of t)i[r.code]=r;return{map:i,defaultCode:o}}function QA(n,o){return"object"!=typeof n||Array.isArray(n)?function LE(n,o){let t=[].concat(n||[]),i=function NE(n,o){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let c=i.slice(0,r).join("-");if(o[c])return o[c]}}return null}(t,o)||kw;return Dw(n,t,i)}(n,o):Dw(n.code,[n.code],n)}function Dw(n,o,t){let i=ig([Sw,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:o,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function Ka(n){return{id:yc(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function HE(n,o){return{premiumReleaseDate:VE(n.premiumReleaseDate,o.premiumReleaseDate),reducers:n.reducers.concat(o.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(o.isLoadingFuncs),contextInit:n.contextInit.concat(o.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),o.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(o.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),o.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(o.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(o.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(o.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(o.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(o.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(o.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),o.views),viewPropsTransformers:n.viewPropsTransformers.concat(o.viewPropsTransformers),isPropsValid:o.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(o.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(o.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(o.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(o.calendarInteractions),componentInteractions:n.componentInteractions.concat(o.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),o.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(o.eventSourceDefs),cmdFormatter:o.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(o.recurringTypes),namedTimeZonedImpl:o.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||o.initialView,elementDraggingImpl:n.elementDraggingImpl||o.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),o.optionChangeHandlers),scrollGridImpl:o.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),o.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),o.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),o.propSetHandlers)}}function VE(n,o){return void 0===n?o:void 0===o?n:new Date(Math.max(n.valueOf(),o.valueOf()))}class Pc extends Wa{}function JA(n,o,t,i){if(o[n])return o[n];let r=function UE(n,o,t,i){let r=t[n],c=i[n],p=ae=>r&&null!==r[ae]?r[ae]:c&&null!==c[ae]?c[ae]:null,C=p("component"),E=p("superType"),ie=null;if(E){if(E===n)throw new Error("Can't have a custom view type that references itself");ie=JA(E,o,t,i)}return!C&&ie&&(C=ie.component),C?{type:n,component:C,defaults:Object.assign(Object.assign({},ie?ie.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},ie?ie.overrides:{}),c?c.rawOptions:{})}:null}(n,o,t,i);return r&&(o[n]=r),r}function Ow(n){return kr(n,zE)}function zE(n){let o="function"==typeof n?{component:n}:n,{component:t}=o;return o.content&&(t=function GE(n){return o=>gt(Ha.Consumer,null,t=>gt(wn,{elTag:"div",elClasses:ww(t.viewSpec),renderProps:Object.assign(Object.assign({},o),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}(o)),{superType:o.type,component:t,rawOptions:o}}function QE(n,o,t,i){let r=Ow(n),c=Ow(o.views),p=function ZE(n,o){let i,t={};for(i in n)JA(i,t,n,o);for(i in o)JA(i,t,n,o);return t}(r,c);return kr(p,C=>function JE(n,o,t,i,r){let c=n.overrides.duration||n.defaults.duration||i.duration||t.duration,p=null,C="",E="",ie={};if(c&&(p=function jE(n){let o=JSON.stringify(n),t=Pw[o];return void 0===t&&(t=mi(n),Pw[o]=t),t}(c),p)){let rt=yl(p);C=rt.unit,1===rt.value&&(E=C,ie=o[C]?o[C].rawOptions:{})}let ae=rt=>{let it=rt.buttonText||{},Pt=n.defaults.buttonTextKey;return null!=Pt&&null!=it[Pt]?it[Pt]:null!=it[n.type]?it[n.type]:null!=it[E]?it[E]:null},tt=rt=>{let it=rt.buttonHints||{},Pt=n.defaults.buttonTextKey;return null!=Pt&&null!=it[Pt]?it[Pt]:null!=it[n.type]?it[n.type]:null!=it[E]?it[E]:null};return{type:n.type,component:n.component,duration:p,durationUnit:C,singleUnit:E,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},ie),n.overrides),buttonTextOverride:ae(i)||ae(t)||n.overrides.buttonText,buttonTextDefault:ae(r)||n.defaults.buttonText||ae(mu)||n.type,buttonTitleOverride:tt(i)||tt(t)||n.overrides.buttonHint,buttonTitleDefault:tt(r)||n.defaults.buttonHint||tt(mu)}}(C,c,o,t,i))}Pc.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Pc.prototype.baseIconClass="fc-icon",Pc.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Pc.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Pc.prototype.iconOverrideOption="buttonIcons",Pc.prototype.iconOverrideCustomButtonOption="icon",Pc.prototype.iconOverridePrefix="fc-icon-";let Pw={};function Rw(n){for(let o in n)if(n[o].isFetching)return!0;return!1}function Lw(n,o,t,i){let r={};for(let c of o)r[c.sourceId]=c;return t&&(r=Nw(r,t,i)),Object.assign(Object.assign({},n),r)}function Nw(n,o,t){return jA(n,Il(n,i=>function tS(n,o,t){return Bw(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||o.start<n.fetchRange.start||o.end>n.fetchRange.end:!n.latestFetchId}(i,o,t)),o,!1,t)}function jA(n,o,t,i,r){let c={};for(let p in n){let C=n[p];c[p]=o[p]?nS(C,t,i,r):C}return c}function nS(n,o,t,i){let{options:r,calendarApi:c}=i,p=i.pluginHooks.eventSourceDefs[n.sourceDefId],C=yc();return p.fetch({eventSource:n,range:o,isRefetch:t,context:i},E=>{let{rawEvents:ie}=E;r.eventSourceSuccess&&(ie=r.eventSourceSuccess.call(c,ie,E.response)||ie),n.success&&(ie=n.success.call(c,ie,E.response)||ie),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:C,fetchRange:o,rawEvents:ie})},E=>{let ie=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(c,E),ie=!0),n.failure&&(n.failure(E),ie=!0),ie||console.warn(E.message,E),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:C,fetchRange:o,error:E})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:C})}function Fw(n,o){return Il(n,t=>Bw(t,o))}function Bw(n,o){return!o.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function sS(n,o){switch(o.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return o.selection;default:return n}}function rS(n,o){switch(o.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return o.eventInstanceId;default:return n}}function aS(n,o){let t;switch(o.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function lS(n,o){let t;switch(o.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function cS(n,o,t,i,r){return{header:n.headerToolbar?Hw(n.headerToolbar,n,o,t,i,r):null,footer:n.footerToolbar?Hw(n.footerToolbar,n,o,t,i,r):null}}function Hw(n,o,t,i,r,c){let p={},C=[],E=!1;for(let ie in n){let tt=uS(n[ie],o,t,i,r,c);p[ie]=tt.widgets,C.push(...tt.viewsWithButtons),E=E||tt.hasTitle}return{sectionWidgets:p,viewsWithButtons:C,hasTitle:E}}function uS(n,o,t,i,r,c){let p="rtl"===o.direction,C=o.customButtons||{},E=t.buttonText||{},ie=o.buttonText||{},ae=t.buttonHints||{},tt=o.buttonHints||{},rt=n?n.split(" "):[],it=[],Pt=!1;return{widgets:rt.map(Jt=>Jt.split(",").map(cn=>{if("title"===cn)return Pt=!0,{buttonName:cn};let On,Xn,Gn,Ei,co,Do;if(On=C[cn])Gn=Ri=>{On.click&&On.click.call(Ri.target,Ri,Ri.target)},(Ei=i.getCustomButtonIconClass(On))||(Ei=i.getIconClass(cn,p))||(co=On.text),Do=On.hint||On.text;else if(Xn=r[cn]){it.push(cn),Gn=()=>{c.changeView(cn)},(co=Xn.buttonTextOverride)||(Ei=i.getIconClass(cn,p))||(co=Xn.buttonTextDefault);let Ri=Xn.buttonTextOverride||Xn.buttonTextDefault;Do=Ac(Xn.buttonTitleOverride||Xn.buttonTitleDefault||o.viewHint,[Ri,cn],Ri)}else if(c[cn])if(Gn=()=>{c[cn]()},(co=E[cn])||(Ei=i.getIconClass(cn,p))||(co=ie[cn]),"prevYear"===cn||"nextYear"===cn){let Ri="prevYear"===cn?"prev":"next";Do=Ac(ae[Ri]||tt[Ri],[ie.year||"year","year"],ie[cn])}else Do=Ri=>Ac(ae[cn]||tt[cn],[ie[Ri]||Ri,Ri],ie[cn]);return{buttonName:cn,buttonClick:Gn,buttonIcon:Ei,buttonText:co,buttonHint:Do}})),viewsWithButtons:it,hasTitle:Pt}}class dS{constructor(o,t,i){this.type=o,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(o){return this.getCurrentData().options[o]}}function Vw(n,o){let t=og(o.getCurrentData().eventSources);if(1===t.length&&1===n.length&&Array.isArray(t[0]._raw)&&Array.isArray(n[0]))return void o.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});let i=[];for(let r of n){let c=!1;for(let p=0;p<t.length;p+=1)if(t[p]._raw===r){t.splice(p,1),c=!0;break}c||i.push(r)}for(let r of t)o.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)o.calendarApi.addEventSource(r)}const yS=[Ka({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:n=>Array.isArray(n.events)?n.events:null,fetch(n,o){o({rawEvents:n.eventSource.meta})}}]}),Ka({name:"func-event-source",eventSourceDefs:[{parseMeta:n=>"function"==typeof n.events?n.events:null,fetch(n,o,t){const{dateEnv:i}=n.context;!function Hv(n,o,t){let i=!1,r=function(C){i||(i=!0,o(C))},c=function(C){i||(i=!0,t(C))},p=n(r,c);p&&"function"==typeof p.then&&p.then(r,c)}(n.eventSource.meta.bind(null,$v(n.range,i)),c=>o({rawEvents:c}),t)}}]}),Ka({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:Qt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:n=>!n.url||"json"!==n.format&&n.format?null:{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam},fetch(n,o,t){const{meta:i}=n.eventSource,r=function fS(n,o,t){let c,p,C,E,{dateEnv:i,options:r}=t,ie={};return c=n.startParam,null==c&&(c=r.startParam),p=n.endParam,null==p&&(p=r.endParam),C=n.timeZoneParam,null==C&&(C=r.timeZoneParam),E="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},Object.assign(ie,E),ie[c]=i.formatIso(o.start),ie[p]=i.formatIso(o.end),"local"!==i.timeZone&&(ie[C]=i.timeZone),ie}(i,n.range,n.context);(function aE(n,o,t){const i={method:n=n.toUpperCase()};return"GET"===n?o+=(-1===o.indexOf("?")?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(o,i).then(r=>{if(r.ok)return r.json().then(c=>[c,r],()=>{throw new gw("Failure parsing JSON",r)});throw new gw("Request failed",r)})})(i.method,i.url,r).then(([c,p])=>{o({rawEvents:c,response:p})},t)}}]}),Ka({name:"simple-recurring-event",recurringTypes:[{parse(n,o){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let i,t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?o.createMarker(n.startRecur):null,endRecur:n.endRecur?o.createMarker(n.endRecur):null};return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=function ev(n,o){return{years:n.years-o.years,months:n.months-o.months,days:n.days-o.days,milliseconds:n.milliseconds-o.milliseconds}}(n.endTime,n.startTime)),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:i,typeData:t}}return null},expand(n,o,t){let i=_a(o,{start:n.startRecur,end:n.endRecur});return i?function _S(n,o,t,i){let r=n?pu(n):null,c=Qi(t.start),p=t.end,C=[];for(;c<p;){let E;(!r||r[c.getUTCDay()])&&(E=o?i.add(c,o):c,C.push(E)),c=Qo(c,1)}return C}(n.daysOfWeek,n.startTime,i,t):[]}}],eventRefiners:{daysOfWeek:Qt,startTime:mi,endTime:mi,duration:mi,startRecur:Qt,endRecur:Qt}}),Ka({name:"change-handler",optionChangeHandlers:{events(n,o){Vw([n],o)},eventSources:Vw}}),Ka({name:"misc",isLoadingFuncs:[n=>Rw(n.eventSources)],propSetHandlers:{dateProfile:function vS(n,o){o.emitter.trigger("datesSet",Object.assign(Object.assign({},$v(n.activeRange,o.dateEnv)),{view:o.viewApi}))},eventStore:function bS(n,o){let{emitter:t}=o;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Ol(n,o))}}})];class IS{constructor(o,t){this.runTaskOption=o,this.drainedOption=t,this.queue=[],this.delayedRunner=new BA(this.drain.bind(this))}request(o,t){this.queue.push(o),this.delayedRunner.request(t)}pause(o){this.delayedRunner.pause(o)}resume(o,t){this.delayedRunner.resume(o,t)}drain(){let{queue:o}=this;for(;o.length;){let i,t=[];for(;i=o.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(o){this.runTaskOption&&this.runTaskOption(o)}drained(o){this.drainedOption&&this.drainedOption(o)}}function AS(n,o,t){let i;return i=/^(year|month)$/.test(n.currentRangeUnit)?n.currentRange:n.activeRange,t.formatRange(i.start,i.end,qi(o.titleFormat||function TS(n){let{currentRangeUnit:o}=n;if("year"===o)return{year:"numeric"};if("month"===o)return{year:"numeric",month:"long"};let t=gu(n.currentRange.start,n.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:o.titleRangeSeparator})}class wS{constructor(o){this.computeCurrentViewData=Zn(this._computeCurrentViewData),this.organizeRawLocales=Zn(Mw),this.buildLocale=Zn(QA),this.buildPluginHooks=function BE(){let t,n=[],o=[];return(i,r)=>((!t||!Mr(i,n)||!Mr(r,o))&&(t=function FE(n,o){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(c){for(let p of c){const C=p.name,E=t[C];void 0===E?(t[C]=p.id,r(p.deps),i=HE(i,p)):E!==p.id&&console.warn(`Duplicate plugin '${C}'`)}}return n&&r(n),r(o),i}(i,r)),n=i,o=r,t)}(),this.buildDateEnv=Zn(xS),this.buildTheme=Zn(ES),this.parseToolbars=Zn(cS),this.buildViewSpecs=Zn(QE),this.buildDateProfileGenerator=Hd(SS),this.buildViewApi=Zn(kS),this.buildViewUiProps=Hd(OS),this.buildEventUiBySource=Zn(MS,fa),this.buildEventUiBases=Zn(DS),this.parseContextBusinessHours=Hd(PS),this.buildTitle=Zn(AS),this.emitter=new xg,this.actionRunner=new IS(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=rt=>{this.actionRunner.request(rt)},this.props=o,this.actionRunner.pause();let t={},i=this.computeOptionsData(o.optionOverrides,t,o.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,c=this.computeCurrentViewData(r,i,o.optionOverrides,t);o.calendarApi.currentDataManager=this,this.emitter.setThisContext(o.calendarApi),this.emitter.setOptions(c.options);let p=function XT(n,o){let t=n.initialDate;return null!=t?o.createMarker(t):$d(n.now,o)}(i.calendarOptions,i.dateEnv),C=c.dateProfileGenerator.build(p);Ca(C.activeRange,p)||(p=C.currentRange.start);let E={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let rt of i.pluginHooks.contextInit)rt(E);let ie=function $E(n,o,t){let i=o?o.activeRange:null;return Lw({},function oS(n,o){let t=Ew(o),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let c of i){let p=xw(c,o,t);p&&r.push(p)}return r}(n,t),i,t)}(i.calendarOptions,C,E),ae={dynamicOptionOverrides:t,currentViewType:r,currentDate:p,dateProfile:C,businessHours:this.parseContextBusinessHours(E),eventSources:ie,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(E).selectionConfig},tt=Object.assign(Object.assign({},E),ae);for(let rt of i.pluginHooks.reducers)Object.assign(ae,rt(null,null,tt));WA(ae,E)&&this.emitter.trigger("loading",!0),this.state=ae,this.updateData(),this.actionRunner.resume()}resetOptions(o,t){let{props:i}=this;void 0===t?i.optionOverrides=o:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),o),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(o){let{props:t,state:i,emitter:r}=this,c=function KE(n,o){return"SET_OPTION"===o.type?Object.assign(Object.assign({},n),{[o.optionName]:o.rawOptionValue}):n}(i.dynamicOptionOverrides,o),p=this.computeOptionsData(t.optionOverrides,c,t.calendarApi),C=function WE(n,o){return"CHANGE_VIEW_TYPE"===o.type&&(n=o.viewType),n}(i.currentViewType,o),E=this.computeCurrentViewData(C,p,t.optionOverrides,c);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(E.options);let ie={dateEnv:p.dateEnv,options:p.calendarOptions,pluginHooks:p.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:ae,dateProfile:tt}=i;this.data&&this.data.dateProfileGenerator!==E.dateProfileGenerator&&(tt=E.dateProfileGenerator.build(ae)),ae=function qT(n,o){return"CHANGE_DATE"===o.type?o.dateMarker:n}(ae,o),tt=function YE(n,o,t,i){let r;switch(o.type){case"CHANGE_VIEW_TYPE":return i.build(o.dateMarker||t);case"CHANGE_DATE":return i.build(o.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r}return n}(tt,o,ae,E.dateProfileGenerator),("PREV"===o.type||"NEXT"===o.type||!Ca(tt.currentRange,ae))&&(ae=tt.currentRange.start);let rt=function qE(n,o,t,i){let r=t?t.activeRange:null;switch(o.type){case"ADD_EVENT_SOURCES":return Lw(n,o.sources,r,i);case"REMOVE_EVENT_SOURCE":return function eS(n,o){return Il(n,t=>t.sourceId!==o)}(n,o.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Nw(n,r,i):n;case"FETCH_EVENT_SOURCES":return jA(n,o.sourceIds?pu(o.sourceIds):Fw(n,i),r,o.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function iS(n,o,t,i){let r=n[o];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[o]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}(n,o.sourceId,o.fetchId,o.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}(i.eventSources,o,tt,ie),it=function Vg(n,o,t,i,r){switch(o.type){case"RECEIVE_EVENTS":return function Zg(n,o,t,i,r,c){if(o&&t===o.latestFetchId){let p=Sc(aw(r,o,c),o,c);return i&&(p=xl(p,i,c)),bv(uw(n,o.sourceId),p)}return n}(n,t[o.sourceId],o.fetchId,o.fetchRange,o.rawEvents,r);case"RESET_RAW_EVENTS":return function $x(n,o,t,i,r){const{defIdMap:c,instanceIdMap:p}=function eE(n){const{defs:o,instances:t}=n,i={},r={};for(let c in o){const p=o[c],{publicId:C}=p;C&&(i[C]=c)}for(let c in t){const C=o[t[c].defId],{publicId:E}=C;E&&(r[E]=c)}return{defIdMap:i,instanceIdMap:r}}(n);return xl(Sc(aw(t,o,r),o,r,!1,c,p),i,r)}(n,t[o.sourceId],o.rawEvents,i.activeRange,r);case"ADD_EVENTS":return function qx(n,o,t,i){return t&&(o=xl(o,t,i)),bv(n,o)}(n,o.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return o.eventStore;case"MERGE_EVENTS":return bv(n,o.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?xl(n,i.activeRange,r):n;case"REMOVE_EVENTS":return function JT(n,o){let{defs:t,instances:i}=n,r={},c={};for(let p in t)o.defs[p]||(r[p]=t[p]);for(let p in i)!o.instances[p]&&r[i[p].defId]&&(c[p]=i[p]);return{defs:r,instances:c}}(n,o.eventStore);case"REMOVE_EVENT_SOURCE":return uw(n,o.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return mg(n,c=>!c.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return n}}(i.eventStore,o,rt,tt,ie),Wt=Rw(rt)&&!E.options.progressiveEventRendering&&i.renderableEventStore||it,{eventUiSingleBase:Jt,selectionConfig:cn}=this.buildViewUiProps(ie),On=this.buildEventUiBySource(rt),Gn={dynamicOptionOverrides:c,currentViewType:C,currentDate:ae,dateProfile:tt,eventSources:rt,eventStore:it,renderableEventStore:Wt,selectionConfig:cn,eventUiBases:this.buildEventUiBases(Wt.defs,Jt,On),businessHours:this.parseContextBusinessHours(ie),dateSelection:sS(i.dateSelection,o),eventSelection:rS(i.eventSelection,o),eventDrag:aS(i.eventDrag,o),eventResize:lS(i.eventResize,o)},Ei=Object.assign(Object.assign({},ie),Gn);for(let Ri of p.pluginHooks.reducers)Object.assign(Gn,Ri(i,o,Ei));let co=WA(i,ie),Do=WA(Gn,ie);!co&&Do?r.trigger("loading",!0):co&&!Do&&r.trigger("loading",!1),this.state=Gn,t.onAction&&t.onAction(o)}updateData(){let{props:o,state:t}=this,i=this.data,r=this.computeOptionsData(o.optionOverrides,t.dynamicOptionOverrides,o.calendarApi),c=this.computeCurrentViewData(t.currentViewType,r,o.optionOverrides,t.dynamicOptionOverrides),p=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,c.options,r.dateEnv),calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),c),t),C=r.pluginHooks.optionChangeHandlers,E=i&&i.calendarOptions,ie=r.calendarOptions;if(E&&E!==ie){E.timeZone!==ie.timeZone&&(t.eventSources=p.eventSources=function XE(n,o,t){let i=o?o.activeRange:null;return jA(n,Fw(n,t),i,!0,t)}(p.eventSources,t.dateProfile,p),t.eventStore=p.eventStore=cw(p.eventStore,i.dateEnv,p.dateEnv),t.renderableEventStore=p.renderableEventStore=cw(p.renderableEventStore,i.dateEnv,p.dateEnv));for(let ae in C)(-1!==this.optionsForHandling.indexOf(ae)||E[ae]!==ie[ae])&&C[ae](ie[ae],p)}this.optionsForHandling=[],o.onData&&o.onData(p)}computeOptionsData(o,t,i){if(!this.optionsForRefining.length&&o===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:c,localeDefaults:p,availableLocaleData:C,extra:E}=this.processRawCalendarOptions(o,t);Zw(E);let ie=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,c,C,r.defaultRangeSeparator),ae=this.buildViewSpecs(c.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,p),tt=this.buildTheme(r,c),rt=this.parseToolbars(r,this.stableOptionOverrides,tt,ae,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:c,dateEnv:ie,viewSpecs:ae,theme:tt,toolbarConfig:rt,localeDefaults:p,availableRawLocales:C.map}}processRawCalendarOptions(o,t){let{locales:i,locale:r}=zd([mu,o,t]),c=this.organizeRawLocales(i),C=this.buildLocale(r||c.defaultCode,c.map).options,E=this.buildPluginHooks(o.plugins||[],yS),ie=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hg),gg),fg),E.listenerRefiners),E.optionRefiners),ae={},tt=zd([mu,C,o,t]),rt={},it=this.currentCalendarOptionsInput,Pt=this.currentCalendarOptionsRefined,Wt=!1;for(let Jt in tt)-1===this.optionsForRefining.indexOf(Jt)&&(tt[Jt]===it[Jt]||Tl[Jt]&&Jt in it&&Tl[Jt](it[Jt],tt[Jt]))?rt[Jt]=Pt[Jt]:ie[Jt]?(rt[Jt]=ie[Jt](tt[Jt]),Wt=!0):ae[Jt]=it[Jt];return Wt&&(this.currentCalendarOptionsInput=tt,this.currentCalendarOptionsRefined=rt,this.stableOptionOverrides=o,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:E,availableLocaleData:c,localeDefaults:C,extra:ae}}_computeCurrentViewData(o,t,i,r){let c=t.viewSpecs[o];if(!c)throw new Error(`viewType "${o}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:p,extra:C}=this.processRawViewOptions(c,t.pluginHooks,t.localeDefaults,i,r);return Zw(C),{viewSpec:c,options:p,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:c.optionDefaults.dateProfileGeneratorClass,duration:c.duration,durationUnit:c.durationUnit,usesMinMaxTime:c.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:p.slotMinTime,slotMaxTime:p.slotMaxTime,showNonCurrentDates:p.showNonCurrentDates,dayCount:p.dayCount,dateAlignment:p.dateAlignment,dateIncrement:p.dateIncrement,hiddenDays:p.hiddenDays,weekends:p.weekends,nowInput:p.now,validRangeInput:p.validRange,visibleRangeInput:p.visibleRange,fixedWeekCount:p.fixedWeekCount}),viewApi:this.buildViewApi(o,this.getCurrentData,t.dateEnv)}}processRawViewOptions(o,t,i,r,c){let p=zd([mu,o.optionDefaults,i,r,o.optionOverrides,c]),C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hg),gg),fg),rA),t.listenerRefiners),t.optionRefiners),E={},ie=this.currentViewOptionsInput,ae=this.currentViewOptionsRefined,tt=!1,rt={};for(let it in p)p[it]===ie[it]||Tl[it]&&Tl[it](p[it],ie[it])?E[it]=ae[it]:(p[it]===this.currentCalendarOptionsInput[it]||Tl[it]&&Tl[it](p[it],this.currentCalendarOptionsInput[it])?it in this.currentCalendarOptionsRefined&&(E[it]=this.currentCalendarOptionsRefined[it]):C[it]?E[it]=C[it](p[it]):rt[it]=p[it],tt=!0);return tt&&(this.currentViewOptionsInput=p,this.currentViewOptionsRefined=E),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:rt}}}function xS(n,o,t,i,r,c,p,C){let E=QA(o||p.defaultCode,p.map);return new ow({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:c.namedTimeZonedImpl,locale:E,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:c.cmdFormatter,defaultSeparator:C})}function ES(n,o){return new(o.themeClasses[n.themeSystem]||Pc)(n)}function SS(n){return new(n.dateProfileGeneratorClass||TA)(n)}function kS(n,o,t){return new dS(n,o,t)}function MS(n){return kr(n,o=>o.ui)}function DS(n,o,t){let i={"":o};for(let r in n){let c=n[r];c.sourceId&&t[c.sourceId]&&(i[r]=t[c.sourceId])}return i}function OS(n){let{options:o}=n;return{eventUiSingleBase:El({display:o.eventDisplay,editable:o.editable,startEditable:o.eventStartEditable,durationEditable:o.eventDurationEditable,constraint:o.eventConstraint,overlap:"boolean"==typeof o.eventOverlap?o.eventOverlap:void 0,allow:o.eventAllow,backgroundColor:o.eventBackgroundColor,borderColor:o.eventBorderColor,textColor:o.eventTextColor,color:o.eventColor},n),selectionConfig:El({constraint:o.selectConstraint,overlap:"boolean"==typeof o.selectOverlap?o.selectOverlap:void 0,allow:o.selectAllow},n)}}function WA(n,o){for(let t of o.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function PS(n){return function uA(n,o){return Sc(function WT(n){let o;return o=!0===n?[{}]:Array.isArray(n)?n.filter(t=>t.daysOfWeek):"object"==typeof n&&n?[n]:[],o=o.map(t=>Object.assign(Object.assign({},Jd),t)),o}(n),null,o)}(n.options.businessHours,n)}function Zw(n,o){for(let t in n)console.warn(`Unknown option '${t}'`+(o?` for view '${o}'`:""))}class RS extends Ui{render(){return gt("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(t=>this.renderWidgetGroup(t)))}renderWidgetGroup(o){let{props:t}=this,{theme:i}=this.context,r=[],c=!0;for(let p of o){let{buttonName:C,buttonClick:E,buttonText:ie,buttonIcon:ae,buttonHint:tt}=p;if("title"===C)c=!1,r.push(gt("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let rt=C===t.activeButton,it=!t.isTodayEnabled&&"today"===C||!t.isPrevEnabled&&"prev"===C||!t.isNextEnabled&&"next"===C,Pt=[`fc-${C}-button`,i.getClass("button")];rt&&Pt.push(i.getClass("buttonActive")),r.push(gt("button",{type:"button",title:"function"==typeof tt?tt(t.navUnit):tt,disabled:it,"aria-pressed":rt,className:Pt.join(" "),onClick:E},ie||(ae?gt("span",{className:ae}):"")))}}return r.length>1?gt("div",{className:c&&i.getClass("buttonGroup")||""},...r):r[0]}}class Uw extends Ui{render(){let r,c,{model:o,extraClassName:t}=this.props,i=!1,p=o.sectionWidgets,C=p.center;return p.left?(i=!0,r=p.left):r=p.start,p.right?(i=!0,c=p.right):c=p.end,gt("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",C||[]),this.renderSection("end",c||[]))}renderSection(o,t){let{props:i}=this;return gt(RS,{key:o,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class LS extends Ui{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=o=>{this.el=o,Va(this.props.elRef,o),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:o,state:t}=this,{aspectRatio:i}=o,c="",p="";return i?null!==t.availableWidth?c=t.availableWidth/i:p=1/i*100+"%":c=o.height||"",gt("div",{"aria-labelledby":o.labeledById,ref:this.handleEl,className:["fc-view-harness",i||o.liquid||o.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:c,paddingBottom:p}},o.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class NS extends a{constructor(o){super(o),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:c}=r,p=xu(i);if(p&&r.isValidSegDownEl(t.target)){let C=Es(t.target,".fc-event-forced-url"),E=C?C.querySelector("a[href]").href:"";c.emitter.trigger("eventClick",{el:i,event:new Xi(r.context,p.eventRange.def,p.eventRange.instance),jsEvent:t,view:c.viewApi}),E&&!t.defaultPrevented&&(window.location.href=E)}},this.destroy=FC(o.el,"click",".fc-event",this.handleSegClick)}}class FS extends a{constructor(o){super(o),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{xu(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=function BC(n,o,t,i){let r;return FC(n,"mouseover",o,(c,p)=>{if(p!==r){r=p,t(c,p);let C=E=>{r=null,i(E,p),p.removeEventListener("mouseleave",C)};p.addEventListener("mouseleave",C)}})}(o.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(o,t,i){let{component:r}=this,{context:c}=r,p=xu(i);(!t||r.isValidSegDownEl(t.target))&&c.emitter.trigger(o,{el:i,event:new Xi(c,p.eventRange.def,p.eventRange.instance),jsEvent:t,view:c.viewApi})}}class BS extends Mg{constructor(){super(...arguments),this.buildViewContext=Zn(IA),this.buildViewPropTransformers=Zn(VS),this.buildToolbarProps=Zn(HS),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:Ja()},this.registerInteractiveComponent=(o,t)=>{let i=function l(n,o){return{component:n,el:o.el,useEventCenter:null==o.useEventCenter||o.useEventCenter,isHitComboAllowed:o.isHitComboAllowed||null}}(o,t),p=[NS,FS].concat(this.props.pluginHooks.componentInteractions).map(C=>new C(i));this.interactionsStore[o.uid]=p,d[o.uid]=i},this.unregisterInteractiveComponent=o=>{let t=this.interactionsStore[o.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[o.uid]}delete d[o.uid]},this.resizeRunner=new BA(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=o=>{let{options:t}=this.props;t.handleWindowResize&&o.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let C,{props:o}=this,{toolbarConfig:t,options:i}=o,r=this.buildToolbarProps(o.viewSpec,o.dateProfile,o.dateProfileGenerator,o.currentDate,$d(o.options.now,o.dateEnv),o.viewTitle),c=!1,p="";o.isHeightAuto||o.forPrint?p="":null!=i.height?c=!0:null!=i.contentHeight?p=i.contentHeight:C=Math.max(i.aspectRatio,.5);let E=this.buildViewContext(o.viewSpec,o.viewApi,o.options,o.dateProfileGenerator,o.dateEnv,o.theme,o.pluginHooks,o.dispatch,o.getCurrentData,o.emitter,o.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),ie=t.header&&t.header.hasTitle?this.state.viewLabelId:"";return gt(Ha.Provider,{value:E},t.header&&gt(Uw,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:ie},r)),gt(LS,{liquid:c,height:p,aspectRatio:C,labeledById:ie},this.renderView(o),this.buildAppendContent()),t.footer&&gt(Uw,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:o}=this;this.calendarInteractions=o.pluginHooks.calendarInteractions.map(i=>new i(o)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=o.pluginHooks;for(let i in t)t[i](o[i],o)}componentDidUpdate(o){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==o[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let o of this.calendarInteractions)o.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:o}=this;return gt(Vi,{},...o.pluginHooks.viewContainerAppends.map(i=>i(o)))}renderView(o){let{pluginHooks:t}=o,{viewSpec:i}=o,r={dateProfile:o.dateProfile,businessHours:o.businessHours,eventStore:o.renderableEventStore,eventUiBases:o.eventUiBases,dateSelection:o.dateSelection,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,isHeightAuto:o.isHeightAuto,forPrint:o.forPrint},c=this.buildViewPropTransformers(t.viewPropsTransformers);for(let C of c)Object.assign(r,C.transform(r,o));return gt(i.component,Object.assign({},r))}}function HS(n,o,t,i,r,c){let p=t.build(r,void 0,!1),C=t.buildPrev(o,i,!1),E=t.buildNext(o,i,!1);return{title:c,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:p.isValid&&!Ca(o.currentRange,r),isPrevEnabled:C.isValid,isNextEnabled:E.isValid}}function VS(n){return n.map(o=>new o)}class ZS extends class DE{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(o){this.currentDataManager.dispatch(o)}get view(){return this.getCurrentData().viewApi}batchRendering(o){o()}updateSize(){this.trigger("_resize",!0)}setOption(o,t){this.dispatch({type:"SET_OPTION",optionName:o,rawOptionValue:t})}getOption(o){return this.currentDataManager.currentCalendarOptionsInput[o]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(o,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[o]?i.emitter.on(o,t):console.warn(`Unknown listener name '${o}'`)}off(o,t){this.currentDataManager.emitter.off(o,t)}trigger(o,...t){this.currentDataManager.emitter.trigger(o,...t)}changeView(o,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o})})}zoomTo(o,t){let r;r=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(r?{type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:o}:{type:"CHANGE_DATE",dateMarker:o})}getUnitViewSpec(o){let c,p,{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let C in t)r.push(C);for(c=0;c<r.length;c+=1)if(p=t[r[c]],p&&p.singleUnit===o)return p;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,-1)})}nextYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,1)})}today(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:$d(o.calendarOptions.now,o.dateEnv)})}gotoDate(o){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(o)})}incrementDate(o){let t=this.getCurrentData(),i=mi(o);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let o=this.getCurrentData();return o.dateEnv.toDate(o.currentDate)}formatDate(o,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(o),qi(t))}formatRange(o,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(o),r.createMarker(t),qi(i),i)}formatIso(o,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(o),{omitTime:t})}select(o,t){let i;i=null==t?null!=o.start?o:{start:o,end:null}:{start:o,end:t};let r=this.getCurrentData(),c=function Kv(n,o,t){let i=function Ng(n,o){let{refined:t,extra:i}=Cu(n,DA),r=t.start?o.createMarkerMeta(t.start):null,c=t.end?o.createMarkerMeta(t.end):null,{allDay:p}=t;return null==p&&(p=r&&r.isTimeUnspecified&&(!c||c.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:c?c.marker:null},allDay:p},i)}(n,o),{range:r}=i;if(!r.start)return null;if(!r.end){if(null==t)return null;r.end=o.add(r.start,t)}return i}(i,r.dateEnv,mi({days:1}));c&&(this.dispatch({type:"SELECT_DATES",selection:c}),wA(c,null,r))}unselect(o){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function xA(n,o){o.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:o.viewApi||o.calendarApi.view})}(o,t))}addEvent(o,t){if(o instanceof Xi){let p=o._def,C=o._instance;return this.getCurrentData().eventStore.defs[p.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Cv({def:p,instance:C})}),this.triggerEventAdd(o)),o}let r,i=this.getCurrentData();if(t instanceof Dl)r=t.internalEventSource;else if("boolean"==typeof t)t&&([r]=og(i.eventSources));else if(null!=t){let p=this.getEventSourceById(t);if(!p)return console.warn(`Could not find an event source with ID "${t}"`),null;r=p.internalEventSource}let c=Tv(o,r,i,!1);if(c){let p=new Xi(i,c.def,c.def.recurringDef?null:c.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Cv(c)}),this.triggerEventAdd(p),p}return null}triggerEventAdd(o){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:o,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:qd(o)})}})}getEventById(o){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;o=String(o);for(let c in i){let p=i[c];if(p.publicId===o){if(p.recurringDef)return new Xi(t,p,null);for(let C in r){let E=r[C];if(E.defId===p.defId)return new Xi(t,p,E)}}}return null}getEvents(){let o=this.getCurrentData();return Ol(o.eventStore,o)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let o=this.getCurrentData(),t=o.eventSources,i=[];for(let r in t)i.push(new Dl(o,t[r]));return i}getEventSourceById(o){let t=this.getCurrentData(),i=t.eventSources;o=String(o);for(let r in i)if(i[r].publicId===o)return new Dl(t,i[r]);return null}addEventSource(o){let t=this.getCurrentData();if(o instanceof Dl)return t.eventSources[o.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[o.internalEventSource]}),o;let i=xw(o,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Dl(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(o){let t=mi(o);t&&this.trigger("_scrollRequest",{time:t})}}{constructor(o,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Sg(()=>{Yr(gt(J,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,c,p,C)=>(this.setClassNames(r),this.setHeight(c),gt(_n.Provider,{value:this.customContentRenderId},gt(BS,Object.assign({isHeightAuto:p,forPrint:C},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Yr(null,this.el),this.setClassNames([]),this.setHeight(""))},function Kh(n){RC(n.getRootNode())}(o),this.el=o,this.renderRunner=new BA(this.handleRenderRequest),new wS({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let o=this.isRendering;o?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),o&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Sg(()=>{super.updateSize()})}batchRendering(o){this.renderRunner.pause("batchRendering"),o(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(o,t){this.currentDataManager.resetOptions(o,t)}setClassNames(o){if(!Mr(o,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of o)t.add(i);this.currentClassNames=o}}setHeight(o){$h(this.el,"height",o)}}function r0(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function a0(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Gw(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}Dd(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const Qw=qi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Jw(n){let{display:o}=n.eventRange.ui;return"list-item"===o||"auto"===o&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class jw extends Ui{render(){let{props:o}=this;return gt(Cw,Object.assign({},o,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Qw,defaultDisplayEventEnd:o.defaultDisplayEventEnd,disableResizing:!o.seg.eventRange.def.allDay}))}}class Ww extends Ui{render(){let{props:o,context:t}=this,{options:i}=t,{seg:r}=o,p=Eu(r,i.eventTimeFormat||Qw,t,!0,o.defaultDisplayEventEnd);return gt(s0,Object.assign({},o,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Lg(o.seg,t),defaultGenerator:zS,timeText:p,isResizing:!1,isDateSelecting:!1}))}}function zS(n){return gt(Vi,null,gt("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&gt("div",{className:"fc-event-time"},n.timeText),gt("div",{className:"fc-event-title"},n.event.title||gt(Vi,null,"\xa0")))}class GS extends Ui{constructor(){super(...arguments),this.compileSegs=Zn(QS)}render(){let{props:o}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(o.singlePlacements);return gt(Iw,{elClasses:["fc-daygrid-more-link"],dateProfile:o.dateProfile,todayRange:o.todayRange,allDayDate:o.allDayDate,moreCnt:o.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:o.alignmentElRef,alignGridTop:o.alignGridTop,extraDateSpan:o.extraDateSpan,popoverContent:()=>{let r=(o.eventDrag?o.eventDrag.affectedInstances:null)||(o.eventResize?o.eventResize.affectedInstances:null)||{};return gt(Vi,null,t.map(c=>{let p=c.eventRange.instance.instanceId;return gt("div",{className:"fc-daygrid-event-harness",key:p,style:{visibility:r[p]?"hidden":""}},Jw(c)?gt(Ww,Object.assign({seg:c,isDragging:!1,isSelected:p===o.eventSelection,defaultDisplayEventEnd:!1},ba(c,o.todayRange))):gt(jw,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:p===o.eventSelection,defaultDisplayEventEnd:!1},ba(c,o.todayRange))))}))}})}}function QS(n){let o=[],t=[];for(let i of n)o.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:o,invisibleSegs:t}}const JS=qi({week:"narrow"});class jS extends $r{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:Ja()},this.handleRootEl=o=>{Va(this.rootElRef,o),Va(this.props.elRef,o)}}render(){let{context:o,props:t,state:i,rootElRef:r}=this,{options:c,dateEnv:p}=o,{date:C,dateProfile:E}=t;const ie=t.showDayNumber&&function KS(n,o,t){const{start:i,end:r}=o,c=ma(r,-1),p=t.getYear(i),C=t.getMonth(i),E=t.getYear(c),ie=t.getMonth(c);return!(p===E&&C===ie)&&Boolean(n.valueOf()===i.valueOf()||1===t.getDay(n)&&n.valueOf()<r.valueOf())}(C,E.currentRange,p);return gt(UA,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:WS,date:C,dateProfile:E,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:ie,extraRenderProps:t.extraRenderProps},(ae,tt)=>gt("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&gt(yw,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Sl(o,C,"week"),date:C,defaultFormat:JS}),!tt.isDisabled&&(t.showDayNumber||zA(c)||t.forceDayTop)?gt("div",{className:"fc-daygrid-day-top"},gt(ae,{elTag:"a",elClasses:["fc-daygrid-day-number",ie&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Sl(o,C)),{id:i.dayNumberId})})):t.showDayNumber?gt("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},gt("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,gt("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,gt("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},gt(GS,{allDayDate:C,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),gt("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function WS(n){return n.dayNumberText||gt(Vi,null,"\xa0")}function op(n,o,t,i){if(n.firstCol===o&&n.lastCol===t-1)return n;let r=n.eventRange,c=r.range,p=_a(c,{start:i[o].date,end:Qo(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:o,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:p},isStart:n.isStart&&p.start.valueOf()===c.start.valueOf(),isEnd:n.isEnd&&p.end.valueOf()===c.end.valueOf()})}class XS extends NA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(o){const t=super.addSegs(o),{entriesByLevel:i}=this,r=c=>!this.forceHidden[Dc(c)];for(let c=0;c<i.length;c+=1)i[c]=i[c].filter(r);return t}handleInvalidInsertion(o,t,i){const{entriesByLevel:r,forceHidden:c}=this,{touchingEntry:p,touchingLevel:C,touchingLateral:E}=o;if(this.hiddenConsumes&&p){const ie=Dc(p);if(!c[ie])if(this.allowReslicing){const ae=Object.assign(Object.assign({},p),{span:Xv(p.span,t.span)});c[Dc(ae)]=!0,r[C][E]=ae,this.splitEntry(p,t,i)}else c[ie]=!0,i.push(p)}return super.handleInvalidInsertion(o,t,i)}}class Kw extends $r{constructor(){super(...arguments),this.cellElRefs=new Pl,this.frameElRefs=new Pl,this.fgElRefs=new Pl,this.segHarnessRefs=new Pl,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=o=>{o&&this.updateSizing(!0)}}render(){let{props:o,state:t,context:i}=this,{options:r}=i,c=o.cells.length,p=a0(o.businessHourSegs,c),C=a0(o.bgEventSegs,c),E=a0(this.getHighlightSegs(),c),ie=a0(this.getMirrorSegs(),c),{singleColPlacements:ae,multiColPlacements:tt,moreCnts:rt,moreMarginTops:it}=function YS(n,o,t,i,r,c,p){let C=new XS;C.allowReslicing=!0,C.strictOrder=i,!0===o||!0===t?(C.maxCoord=c,C.hiddenConsumes=!0):"number"==typeof o?C.maxStackCnt=o:"number"==typeof t&&(C.maxStackCnt=t,C.hiddenConsumes=!0);let E=[],ie=[];for(let cn=0;cn<n.length;cn+=1){let On=n[cn],{instanceId:Xn}=On.eventRange.instance,Gn=r[Xn];null!=Gn?E.push({index:cn,thickness:Gn,span:{start:On.firstCol,end:On.lastCol+1}}):ie.push(On)}let ae=C.addSegs(E),tt=C.toRects(),{singleColPlacements:rt,multiColPlacements:it,leftoverMargins:Pt}=function $S(n,o,t){let i=function qS(n,o){let t=[];for(let i=0;i<o;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}(n,t.length),r=[],c=[],p=[];for(let C=0;C<t.length;C+=1){let E=i[C],ie=[],ae=0,tt=0;for(let it of E)ie.push({seg:op(o[it.index],C,C+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:it.levelCoord,marginTop:it.levelCoord-ae}),ae=it.levelCoord+it.thickness;let rt=[];ae=0,tt=0;for(let it of E){let Pt=o[it.index],Jt=it.span.start===C;tt+=it.levelCoord-ae,ae=it.levelCoord+it.thickness,it.span.end-it.span.start>1?(tt+=it.thickness,Jt&&rt.push({seg:op(Pt,it.span.start,it.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:it.levelCoord,marginTop:0})):Jt&&(rt.push({seg:op(Pt,it.span.start,it.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:it.levelCoord,marginTop:tt}),tt=0)}r.push(ie),c.push(rt),p.push(tt)}return{singleColPlacements:r,multiColPlacements:c,leftoverMargins:p}}(tt,n,p),Wt=[],Jt=[];for(let cn of ie){it[cn.firstCol].push({seg:cn,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let On=cn.firstCol;On<=cn.lastCol;On+=1)rt[On].push({seg:op(cn,On,On+1,p),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let cn=0;cn<p.length;cn+=1)Wt.push(0);for(let cn of ae){let On=n[cn.index],Xn=cn.span;it[Xn.start].push({seg:op(On,Xn.start,Xn.end,p),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Gn=Xn.start;Gn<Xn.end;Gn+=1)Wt[Gn]+=1,rt[Gn].push({seg:op(On,Gn,Gn+1,p),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let cn=0;cn<p.length;cn+=1)Jt.push(Pt[cn]);return{singleColPlacements:rt,multiColPlacements:it,moreCnts:Wt,moreMarginTops:Jt}}(Jv(o.fgEventSegs,r.eventOrder),o.dayMaxEvents,o.dayMaxEventRows,r.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,o.cells),Pt=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{};return gt("tr",{ref:this.rootElRef,role:"row"},o.renderIntro&&o.renderIntro(),o.cells.map((Wt,Jt)=>{let cn=this.renderFgSegs(Jt,o.forPrint?ae[Jt]:tt[Jt],o.todayRange,Pt),On=this.renderFgSegs(Jt,function ek(n,o){if(!n.length)return[];let t=function tk(n){let o={};for(let t of n)for(let i of t)o[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return o}(o);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}(ie[Jt],tt),o.todayRange,{},Boolean(o.eventDrag),Boolean(o.eventResize),!1);return gt(jS,{key:Wt.key,elRef:this.cellElRefs.createRef(Wt.key),innerElRef:this.frameElRefs.createRef(Wt.key),dateProfile:o.dateProfile,date:Wt.date,showDayNumber:o.showDayNumbers,showWeekNumber:o.showWeekNumbers&&0===Jt,forceDayTop:o.showWeekNumbers,todayRange:o.todayRange,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,extraRenderProps:Wt.extraRenderProps,extraDataAttrs:Wt.extraDataAttrs,extraClassNames:Wt.extraClassNames,extraDateSpan:Wt.extraDateSpan,moreCnt:rt[Jt],moreMarginTop:it[Jt],singlePlacements:ae[Jt],fgContentElRef:this.fgElRefs.createRef(Wt.key),fgContent:gt(Vi,null,gt(Vi,null,cn),gt(Vi,null,On)),bgContent:gt(Vi,null,this.renderFillSegs(E[Jt],"highlight"),this.renderFillSegs(p[Jt],"non-business"),this.renderFillSegs(C[Jt],"bg-event")),minHeight:o.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(o,t){this.updateSizing(!fa(o,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:o}=this;return o.eventDrag&&o.eventDrag.segs.length?o.eventDrag.segs:o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:o.dateSelectionSegs}getMirrorSegs(){let{props:o}=this;return o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:[]}renderFgSegs(o,t,i,r,c,p,C){let{context:E}=this,{eventSelection:ie}=this.props,{framePositions:ae}=this.state,tt=1===this.props.cells.length,rt=c||p||C,it=[];if(ae)for(let Pt of t){let{seg:Wt}=Pt,{instanceId:Jt}=Wt.eventRange.instance,cn=Jt+":"+o,On=Pt.isVisible&&!r[Jt],Xn=Pt.isAbsolute,Gn="",Ei="";Xn&&(E.isRtl?(Ei=0,Gn=ae.lefts[Wt.lastCol]-ae.lefts[Wt.firstCol]):(Gn=0,Ei=ae.rights[Wt.firstCol]-ae.rights[Wt.lastCol])),it.push(gt("div",{className:"fc-daygrid-event-harness"+(Xn?" fc-daygrid-event-harness-abs":""),key:cn,ref:rt?null:this.segHarnessRefs.createRef(cn),style:{visibility:On?"":"hidden",marginTop:Xn?"":Pt.marginTop,top:Xn?Pt.absoluteTop:"",left:Gn,right:Ei}},Jw(Wt)?gt(Ww,Object.assign({seg:Wt,isDragging:c,isSelected:Jt===ie,defaultDisplayEventEnd:tt},ba(Wt,i))):gt(jw,Object.assign({seg:Wt,isDragging:c,isResizing:p,isDateSelecting:C,isSelected:Jt===ie,defaultDisplayEventEnd:tt},ba(Wt,i)))))}return it}renderFillSegs(o,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:c}=this.state,p=[];if(c)for(let C of o){let E=i?{right:0,left:c.lefts[C.lastCol]-c.lefts[C.firstCol]}:{left:0,right:c.rights[C.firstCol]-c.rights[C.lastCol]};p.push(gt("div",{key:Rg(C.eventRange),className:"fc-daygrid-bg-harness",style:E},"bg-event"===t?gt(vw,Object.assign({seg:C},ba(C,r))):bw(t)))}return gt(Vi,{},...p)}updateSizing(o){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(o){let E=t.cells.map(ie=>r.currentMap[ie.key]);if(E.length){let ie=this.rootElRef.current,ae=new kl(ie,E,!0,!1);(!i.framePositions||!i.framePositions.similarTo(ae))&&this.setState({framePositions:new kl(ie,E,!0,!1)})}}const c=this.state.eventInstanceHeights,p=this.queryEventInstanceHeights(),C=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},c),p),maxContentHeight:C?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let o=this.segHarnessRefs.currentMap,t={};for(let i in o){let r=Math.round(o[i].getBoundingClientRect().height),c=i.split(":")[0];t[c]=Math.max(t[c]||0,r)}return t}computeMaxContentHeight(){let o=this.props.cells[0].key,i=this.fgElRefs.currentMap[o];return this.cellElRefs.currentMap[o].getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let o=this.cellElRefs.currentMap;return this.props.cells.map(t=>o[t.key])}}Kw.addStateEquality({eventInstanceHeights:fa});class nk extends $r{constructor(){super(...arguments),this.splitBusinessHourSegs=Zn(r0),this.splitBgEventSegs=Zn(r0),this.splitFgEventSegs=Zn(r0),this.splitDateSelectionSegs=Zn(r0),this.splitEventDrag=Zn(Gw),this.splitEventResize=Zn(Gw),this.rowRefs=new Pl}render(){let{props:o,context:t}=this,i=o.cells.length,r=this.splitBusinessHourSegs(o.businessHourSegs,i),c=this.splitBgEventSegs(o.bgEventSegs,i),p=this.splitFgEventSegs(o.fgEventSegs,i),C=this.splitDateSelectionSegs(o.dateSelectionSegs,i),E=this.splitEventDrag(o.eventDrag,i),ie=this.splitEventResize(o.eventResize,i),ae=i>=7&&o.clientWidth?o.clientWidth/t.options.aspectRatio/6:null;return gt(qr,{unit:"day"},(tt,rt)=>gt(Vi,null,o.cells.map((it,Pt)=>gt(Kw,{ref:this.rowRefs.createRef(Pt),key:it.length?it[0].date.toISOString():Pt,showDayNumbers:i>1,showWeekNumbers:o.showWeekNumbers,todayRange:rt,dateProfile:o.dateProfile,cells:it,renderIntro:o.renderRowIntro,businessHourSegs:r[Pt],eventSelection:o.eventSelection,bgEventSegs:c[Pt].filter(ik),fgEventSegs:p[Pt],dateSelectionSegs:C[Pt],eventDrag:E[Pt],eventResize:ie[Pt],dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,clientWidth:o.clientWidth,clientHeight:o.clientHeight,cellMinHeight:ae,forPrint:o.forPrint}))))}componentDidMount(){const o=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=o?o.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new kl(this.rootEl,this.rowRefs.collect().map(o=>o.getCellEls()[0]),!1,!0),this.colPositions=new kl(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(o,t){let{colPositions:i,rowPositions:r}=this,c=i.leftToIndex(o),p=r.topToIndex(t);if(null!=p&&null!=c){let C=this.props.cells[p][c];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(p,c),allDay:!0},C.extraDateSpan),dayEl:this.getCellEl(p,c),rect:{left:i.lefts[c],right:i.rights[c],top:r.tops[p],bottom:r.bottoms[p]},layer:0}}return null}getCellEl(o,t){return this.rowRefs.currentMap[o].getCellEls()[t]}getCellRange(o,t){let i=this.props.cells[o][t].date;return{start:i,end:Qo(i,1)}}}function ik(n){return n.eventRange.def.allDay}class ok extends $r{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:o}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=o,c=!0===i||!0===t;return c&&!r&&(c=!1,t=null,i=null),gt("div",{ref:this.elRef,className:["fc-daygrid-body",c?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"].join(" "),style:{width:o.clientWidth,minWidth:o.tableMinWidth}},gt("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:o.clientWidth,minWidth:o.tableMinWidth,height:r?o.clientHeight:""}},o.colGroupNode,gt("tbody",{role:"presentation"},gt(nk,{dateProfile:o.dateProfile,cells:o.cells,renderRowIntro:o.renderRowIntro,showWeekNumbers:o.showWeekNumbers,clientWidth:o.clientWidth,clientHeight:o.clientHeight,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:o.forPrint,isHitComboAllowed:o.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(o){o.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const o=function sk(n,o){let t;return o.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${function pv(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}(o.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${wc(o.currentDate)}"]`)),t}(this.elRef.current,this.props.dateProfile);if(o){const t=o.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=o.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}class rk extends ip{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(o,t){return t.sliceRange(o)}}class Yw extends $r{constructor(){super(...arguments),this.slicer=new rk,this.tableRef={current:null}}render(){let{props:o,context:t}=this;return gt(ok,Object.assign({ref:this.tableRef},this.slicer.sliceProps(o,o.dateProfile,o.nextDayThreshold,t,o.dayTableModel),{dateProfile:o.dateProfile,cells:o.dayTableModel.cells,colGroupNode:o.colGroupNode,tableMinWidth:o.tableMinWidth,renderRowIntro:o.renderRowIntro,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.showWeekNumbers,expandRows:o.expandRows,headerAlignElRef:o.headerAlignElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:o.forPrint}))}}class ck extends $r{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(o,t){let{props:i,context:r}=this,c=[],p=o0(r.options);return o&&c.push({type:"header",key:"header",isSticky:p,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),c.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),gt(Ug,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},gt(VA,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:c}))}renderHScrollLayout(o,t,i,r){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{props:p,context:C}=this,E=!p.forPrint&&o0(C.options),ie=!p.forPrint&&_w(C.options),ae=[];return o&&ae.push({type:"header",key:"header",isSticky:E,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),ae.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),ie&&ae.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:HA}]}),gt(Ug,{elClasses:["fc-daygrid"],viewSpec:C.viewSpec},gt(c,{liquid:!p.isHeightAuto&&!p.forPrint,forPrint:p.forPrint,collapsibleWidth:p.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:ae}))}}function dk(n,o){let t=new tp(n.renderRange,o);return new np(t,/year|month|week/.test(n.currentRangeUnit))}var pk=Ka({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class uk extends ck{constructor(){super(...arguments),this.buildDayTableModel=Zn(dk),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:o,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),c=o.dayHeaders&&gt(ep,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),p=C=>gt(Yw,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:o.nextDayThreshold,colGroupNode:C.tableColGroupNode,tableMinWidth:C.tableMinWidth,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:C.clientWidth,clientHeight:C.clientHeight,forPrint:i.forPrint});return o.dayMinWidth?this.renderHScrollLayout(c,p,r.colCnt,o.dayMinWidth):this.renderSimpleLayout(c,p)}},dateProfileGeneratorClass:class ak extends TA{buildRenderRange(o,t,i){let r=super.buildRenderRange(o,t,i),{props:c}=this;return function lk(n){let c,{dateEnv:o,currentRange:t}=n,{start:i,end:r}=t;if(n.snapToWeek&&(i=o.startOfWeek(i),c=o.startOfWeek(r),c.valueOf()!==r.valueOf()&&(r=sg(c,1))),n.fixedWeekCount){let p=o.startOfWeek(o.startOfMonth(Qo(t.end,-1))),C=Math.ceil(function WI(n,o){return ja(n,o)/7}(p,r));r=sg(r,6-C)}return{start:i,end:r}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:c.fixedWeekCount,dateEnv:c.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class hk extends class Or{constructor(){this.getKeysForEventDefs=Zn(this._getKeysForEventDefs),this.splitDateSelection=Zn(this._splitDateSpan),this.splitEventStore=Zn(this._splitEventStore),this.splitIndividualUi=Zn(this._splitIndividualUi),this.splitEventDrag=Zn(this._splitInteraction),this.splitEventResize=Zn(this._splitInteraction),this.eventUiBuilders={}}splitProps(o){let t=this.getKeyInfo(o),i=this.getKeysForEventDefs(o.eventStore),r=this.splitDateSelection(o.dateSelection),c=this.splitIndividualUi(o.eventUiBases,i),p=this.splitEventStore(o.eventStore,i),C=this.splitEventDrag(o.eventDrag),E=this.splitEventResize(o.eventResize),ie={};this.eventUiBuilders=kr(t,(ae,tt)=>this.eventUiBuilders[tt]||Zn(fA));for(let ae in t){let tt=t[ae],rt=p[ae]||Ag;ie[ae]={businessHours:tt.businessHours||o.businessHours,dateSelection:r[ae]||null,eventStore:rt,eventUiBases:(0,this.eventUiBuilders[ae])(o.eventUiBases[""],tt.ui,c[ae]),eventSelection:rt.instances[o.eventSelection]?o.eventSelection:"",eventDrag:C[ae]||null,eventResize:E[ae]||null}}return ie}_splitDateSpan(o){let t={};if(o){let i=this.getKeysForDateSpan(o);for(let r of i)t[r]=o}return t}_getKeysForEventDefs(o){return kr(o.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(o,t){let{defs:i,instances:r}=o,c={};for(let p in i)for(let C of t[p])c[C]||(c[C]={defs:{},instances:{}}),c[C].defs[p]=i[p];for(let p in r){let C=r[p];for(let E of t[C.defId])c[E]&&(c[E].instances[p]=C)}return c}_splitIndividualUi(o,t){let i={};for(let r in o)if(r)for(let c of t[r])i[c]||(i[c]={}),i[c][r]=o[r];return i}_splitInteraction(o){let t={};if(o){let i=this._splitEventStore(o.affectedEvents,this._getKeysForEventDefs(o.affectedEvents)),r=this._getKeysForEventDefs(o.mutatedEvents),c=this._splitEventStore(o.mutatedEvents,r),p=C=>{t[C]||(t[C]={affectedEvents:i[C]||Ag,mutatedEvents:c[C]||Ag,isEvent:o.isEvent})};for(let C in i)p(C);for(let C in c)p(C)}return t}}{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(o){return o.allDay?["allDay"]:["timed"]}getKeysForEventDef(o){return o.allDay?function Og(n){return"background"===n.ui.display||"inverse-background"===n.ui.display}(o)?["timed","allDay"]:["allDay"]:["timed"]}}const gk=qi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function $w(n){let o=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return gt(Ha.Consumer,null,t=>{if(!n.isLabeled)return gt("td",{className:o.join(" "),"data-time":n.isoTimeStr});let{dateEnv:i,options:r,viewApi:c}=t,p=null==r.slotLabelFormat?gk:Array.isArray(r.slotLabelFormat)?qi(r.slotLabelFormat[0]):qi(r.slotLabelFormat),C={level:0,time:n.time,date:i.toDate(n.date),view:c,text:i.format(n.date,p)};return gt(wn,{elTag:"td",elClasses:o,elAttrs:{"data-time":n.isoTimeStr},renderProps:C,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:fk,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},E=>gt("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},gt(E,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function fk(n){return n.text}class mk extends Ui{render(){return this.props.slatMetas.map(o=>gt("tr",{key:o.key},gt($w,Object.assign({},o))))}}const _k=qi({week:"short"});class vk extends $r{constructor(){super(...arguments),this.allDaySplitter=new hk,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=o=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=o)},this.renderHeadAxis=(o,t="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,c=r.renderRange,C=1===ja(c.start,c.end)?Sl(this.context,c.start,"week"):{};return i.weekNumbers&&"day"===o?gt(yw,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:c.start,defaultFormat:_k},E=>gt("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},gt(E,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:C}))):gt("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},gt("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=o=>{let{options:t,viewApi:i}=this.context;return gt(wn,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:i},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:bk,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},c=>gt("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==o?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:o}},gt(c,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=o=>{this.setState({slatCoords:o})}}renderSimpleLayout(o,t,i){let{context:r,props:c}=this,p=[],C=o0(r.options);return o&&p.push({type:"header",key:"header",isSticky:C,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),t&&(p.push({type:"body",key:"all-day",chunk:{content:t}}),p.push({type:"body",key:"all-day-divider",outerContent:gt("tr",{role:"presentation",className:"fc-scrollgrid-section"},gt("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),p.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),gt(Ug,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},gt(VA,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:c.forPrint,cols:[{width:"shrink"}],sections:p}))}renderHScrollLayout(o,t,i,r,c,p,C){let E=this.context.pluginHooks.scrollGridImpl;if(!E)throw new Error("No ScrollGrid implementation");let{context:ie,props:ae}=this,tt=!ae.forPrint&&o0(ie.options),rt=!ae.forPrint&&_w(ie.options),it=[];o&&it.push({type:"header",key:"header",isSticky:tt,syncRowHeights:!0,chunks:[{key:"axis",rowContent:Wt=>gt("tr",{role:"presentation"},this.renderHeadAxis("day",Wt.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),t&&(it.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:Wt=>gt("tr",{role:"presentation"},this.renderTableRowAxis(Wt.rowSyncHeights[0]))},{key:"cols",content:t}]}),it.push({key:"all-day-divider",type:"body",outerContent:gt("tr",{role:"presentation",className:"fc-scrollgrid-section"},gt("td",{colSpan:2,className:"fc-timegrid-divider "+ie.theme.getClass("tableCellShaded")}))}));let Pt=ie.options.nowIndicator;return it.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(ie.options.expandRows),chunks:[{key:"axis",content:Wt=>gt("div",{className:"fc-timegrid-axis-chunk"},gt("table",{"aria-hidden":!0,style:{height:Wt.expandRows?Wt.clientHeight:""}},Wt.tableColGroupNode,gt("tbody",null,gt(mk,{slatMetas:p}))),gt("div",{className:"fc-timegrid-now-indicator-container"},gt(qr,{unit:Pt?"minute":"day"},Jt=>{let cn=Pt&&C&&C.safeComputeTop(Jt);return"number"==typeof cn?gt(ZA,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:cn},isAxis:!0,date:Jt}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),rt&&it.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:HA},{key:"cols",content:HA}]}),gt(Ug,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:ie.viewSpec},gt(E,{liquid:!ae.isHeightAuto&&!ae.forPrint,forPrint:ae.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:c}]}],sections:it}))}getAllDayMaxEventProps(){let{dayMaxEvents:o,dayMaxEventRows:t}=this.context.options;return(!0===o||!0===t)&&(o=void 0,t=5),{dayMaxEvents:o,dayMaxEventRows:t}}}function bk(n){return n.text}class yk{constructor(o,t,i){this.positions=o,this.dateProfile=t,this.slotDuration=i}safeComputeTop(o){let{dateProfile:t}=this;if(Ca(t.currentRange,o)){let i=Qi(o),r=o.valueOf()-i.valueOf();if(r>=pr(t.slotMinTime)&&r<pr(t.slotMaxTime))return this.computeTimeTop(mi(r))}return null}computeDateTop(o,t){return t||(t=Qi(o)),this.computeTimeTop(mi(o.valueOf()-t.valueOf()))}computeTimeTop(o){let p,C,{positions:t,dateProfile:i}=this,r=t.els.length,c=(o.milliseconds-pr(i.slotMinTime))/pr(this.slotDuration);return c=Math.max(0,c),c=Math.min(r,c),p=Math.floor(c),p=Math.min(p,r-1),C=c-p,t.tops[p]+t.getHeight(p)*C}}class Ik extends Ui{render(){let{props:o,context:t}=this,{options:i}=t,{slatElRefs:r}=o;return gt("tbody",null,o.slatMetas.map((c,p)=>{let C={time:c.time,date:t.dateEnv.toDate(c.date),view:t.viewApi};return gt("tr",{key:c.key,ref:r.createRef(c.key)},o.axis&&gt($w,Object.assign({},c)),gt(wn,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!c.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":c.isoTimeStr},renderProps:C,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class Ak extends Ui{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new Pl}render(){let{props:o,context:t}=this;return gt("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},gt("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:o.tableMinWidth,width:o.clientWidth,height:o.minHeight}},o.tableColGroupNode,gt(Ik,{slatElRefs:this.slatElRefs,axis:o.axis,slatMetas:o.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:o,props:t}=this;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new yk(new kl(this.rootElRef.current,function Tk(n,o){return o.map(t=>n[t.key])}(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,o.options.slotDuration))}}function zg(n,o){let i,t=[];for(i=0;i<o;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function qw(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.col].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}class wk extends Ui{render(){let{props:o}=this;return gt(Iw,{elClasses:["fc-timegrid-more-link"],elStyle:{top:o.top,bottom:o.bottom},allDayDate:null,moreCnt:o.hiddenSegs.length,allSegs:o.hiddenSegs,hiddenSegs:o.hiddenSegs,extraDateSpan:o.extraDateSpan,dateProfile:o.dateProfile,todayRange:o.todayRange,popoverContent:()=>nx(o.hiddenSegs,o),defaultGenerator:xk,forceTimed:!0},t=>gt(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function xk(n){return n.shortText}function Xw(n,o){if(!n)return[[],0];let{level:t,lateralStart:i,lateralEnd:r}=n,c=i,p=[];for(;c<r;)p.push(o(t,c)),c+=1;return p.sort(kk),[p.map(Mk),p[0][1]]}function kk(n,o){return o[1]-n[1]}function Mk(n){return n[0]}function Pk(n){let o=[];const t=KA((r,c,p)=>Dc(r),(r,c,p)=>{let C=Object.assign(Object.assign({},r),{levelCoord:c,stackDepth:p,stackForward:0});return o.push(C),C.stackForward=i(r.nextLevelNodes,c+r.thickness,p+1)+1});function i(r,c,p){let C=0;for(let E of r)C=Math.max(t(E,c,p),C);return C}return i(n,0,0),o}function KA(n,o){const t={};return(...i)=>{let r=n(...i);return r in t?t[r]:t[r]=o(...i)}}function ex(n,o,t=null,i=0){let r=[];if(t)for(let c=0;c<n.length;c+=1){let p=n[c],C=t.computeDateTop(p.start,o),E=Math.max(C+(i||0),t.computeDateTop(p.end,o));r.push({start:Math.round(C),end:Math.round(E)})}return r}const Lk=qi({hour:"numeric",minute:"2-digit",meridiem:!1});class tx extends Ui{render(){return gt(Cw,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Lk}))}}class Nk extends Ui{constructor(){super(...arguments),this.sortEventSegs=Zn(Jv)}render(){let{props:o,context:t}=this,{options:i}=t,r=i.selectMirror,c=o.eventDrag&&o.eventDrag.segs||o.eventResize&&o.eventResize.segs||r&&o.dateSelectionSegs||[],p=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{},C=this.sortEventSegs(o.fgEventSegs,i.eventOrder);return gt(UA,{elTag:"td",elRef:o.elRef,elClasses:["fc-timegrid-col",...o.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},o.extraDataAttrs),date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraRenderProps:o.extraRenderProps},E=>gt("div",{className:"fc-timegrid-col-frame"},gt("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(o.businessHourSegs,"non-business"),this.renderFillSegs(o.bgEventSegs,"bg-event"),this.renderFillSegs(o.dateSelectionSegs,"highlight")),gt("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(C,p,!1,!1,!1)),gt("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(c,{},Boolean(o.eventDrag),Boolean(o.eventResize),Boolean(r))),gt("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(o.nowIndicatorSegs)),zA(i)&&gt(E,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(o,t,i,r,c){let{props:p}=this;return p.forPrint?nx(o,p):this.renderPositionedFgSegs(o,t,i,r,c)}renderPositionedFgSegs(o,t,i,r,c){let{eventMaxStack:p,eventShortHeight:C,eventOrderStrict:E,eventMinHeight:ie}=this.context.options,{date:ae,slatCoords:tt,eventSelection:rt,todayRange:it,nowDate:Pt}=this.props,Wt=i||r||c,Jt=ex(o,ae,tt,ie),{segPlacements:cn,hiddenGroups:On}=function Rk(n,o,t,i){let r=[],c=[];for(let ie=0;ie<n.length;ie+=1){let ae=o[ie];ae?r.push({index:ie,thickness:1,span:ae}):c.push(n[ie])}let{segRects:p,hiddenGroups:C}=function Ek(n,o,t){let i=new NA;null!=o&&(i.strictOrder=o),null!=t&&(i.maxStackCnt=t);let c=function sw(n){let o=[];for(let t of n){let i=[],r={span:t.span,entries:[t]};for(let c of o)Xv(c.span,r.span)?r={entries:c.entries.concat(r.entries),span:rw(c.span,r.span)}:i.push(c);i.push(r),o=i}return o}(i.addSegs(n)),p=function Sk(n){const{entriesByLevel:o}=n,t=KA((i,r)=>i+":"+r,(i,r)=>{let c=function Dk(n,o,t){let{levelCoords:i,entriesByLevel:r}=n,c=r[o][t],p=i[o]+c.thickness,C=i.length,E=o;for(;E<C&&i[E]<p;E+=1);for(;E<C;E+=1){let ae,ie=r[E],tt=t0(ie,c.span.start,Bg),rt=tt[0]+tt[1],it=rt;for(;(ae=ie[it])&&ae.span.start<c.span.end;)it+=1;if(rt<it)return{level:E,lateralStart:rt,lateralEnd:it}}return null}(n,i,r),p=Xw(c,t),C=o[i][r];return[Object.assign(Object.assign({},C),{nextLevelNodes:p[0]}),C.thickness+p[1]]});return Xw(o.length?{level:0,lateralStart:0,lateralEnd:o[0].length}:null,t)[0]}(i);return p=function Ok(n,o){const t=KA((i,r,c)=>Dc(i),(i,r,c)=>{let ae,{nextLevelNodes:p,thickness:C}=i,E=C+c,ie=C/E,tt=[];if(p.length)for(let it of p)if(void 0===ae){let Pt=t(it,r,E);ae=Pt[0],tt.push(Pt[1])}else{let Pt=t(it,ae,0);tt.push(Pt[1])}else ae=o;let rt=(ae-r)*ie;return[ae-rt,Object.assign(Object.assign({},i),{thickness:rt,nextLevelNodes:tt})]});return n.map(i=>t(i,0,0)[1])}(p,1),{segRects:Pk(p),hiddenGroups:c}}(r,t,i),E=[];for(let ie of p)E.push({seg:n[ie.index],rect:ie});for(let ie of c)E.push({seg:ie,rect:null});return{segPlacements:E,hiddenGroups:C}}(o,Jt,E,p);return gt(Vi,null,this.renderHiddenGroups(On,o),cn.map(Xn=>{let{seg:Gn,rect:Ei}=Xn,co=Gn.eventRange.instance.instanceId,Do=Wt||Boolean(!t[co]&&Ei),Ri=YA(Ei&&Ei.span),Rc=!Wt&&Ei?this.computeSegHStyle(Ei):{left:0,right:0},jg=Boolean(Ei)&&Ei.stackForward>0,mF=Boolean(Ei)&&Ei.span.end-Ei.span.start<C;return gt("div",{className:"fc-timegrid-event-harness"+(jg?" fc-timegrid-event-harness-inset":""),key:co,style:Object.assign(Object.assign({visibility:Do?"":"hidden"},Ri),Rc)},gt(tx,Object.assign({seg:Gn,isDragging:i,isResizing:r,isDateSelecting:c,isSelected:co===rt,isShort:mF},ba(Gn,it,Pt))))}))}renderHiddenGroups(o,t){let{extraDateSpan:i,dateProfile:r,todayRange:c,nowDate:p,eventSelection:C,eventDrag:E,eventResize:ie}=this.props;return gt(Vi,null,o.map(ae=>{let tt=YA(ae.span),rt=function Fk(n,o){return n.map(t=>o[t.index])}(ae.entries,t);return gt(wk,{key:qI(Tw(rt)),hiddenSegs:rt,top:tt.top,bottom:tt.bottom,extraDateSpan:i,dateProfile:r,todayRange:c,nowDate:p,eventSelection:C,eventDrag:E,eventResize:ie})}))}renderFillSegs(o,t){let{props:i,context:r}=this,p=ex(o,i.date,i.slatCoords,r.options.eventMinHeight).map((C,E)=>{let ie=o[E];return gt("div",{key:Rg(ie.eventRange),className:"fc-timegrid-bg-harness",style:YA(C)},"bg-event"===t?gt(vw,Object.assign({seg:ie},ba(ie,i.todayRange,i.nowDate))):bw(t))});return gt(Vi,null,p)}renderNowIndicator(o){let{slatCoords:t,date:i}=this.props;return t?o.map((r,c)=>gt(ZA,{key:c,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(o){let C,E,{isRtl:t,options:i}=this.context,r=i.slotEventOverlap,c=o.levelCoord,p=o.levelCoord+o.thickness;r&&(p=Math.min(1,c+2*(p-c))),t?(C=1-p,E=c):(C=c,E=1-p);let ie={zIndex:o.stackDepth+1,left:100*C+"%",right:100*E+"%"};return r&&!o.stackForward&&(ie[t?"marginLeft":"marginRight"]=20),ie}}function nx(n,{todayRange:o,nowDate:t,eventSelection:i,eventDrag:r,eventResize:c}){let p=(r?r.affectedInstances:null)||(c?c.affectedInstances:null)||{};return gt(Vi,null,n.map(C=>{let E=C.eventRange.instance.instanceId;return gt("div",{key:E,style:{visibility:p[E]?"hidden":""}},gt(tx,Object.assign({seg:C,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:E===i,isShort:!1},ba(C,o,t))))}))}function YA(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}class Bk extends Ui{constructor(){super(...arguments),this.splitFgEventSegs=Zn(zg),this.splitBgEventSegs=Zn(zg),this.splitBusinessHourSegs=Zn(zg),this.splitNowIndicatorSegs=Zn(zg),this.splitDateSelectionSegs=Zn(zg),this.splitEventDrag=Zn(qw),this.splitEventResize=Zn(qw),this.rootElRef={current:null},this.cellElRefs=new Pl}render(){let{props:o,context:t}=this,i=t.options.nowIndicator&&o.slatCoords&&o.slatCoords.safeComputeTop(o.nowDate),r=o.cells.length,c=this.splitFgEventSegs(o.fgEventSegs,r),p=this.splitBgEventSegs(o.bgEventSegs,r),C=this.splitBusinessHourSegs(o.businessHourSegs,r),E=this.splitNowIndicatorSegs(o.nowIndicatorSegs,r),ie=this.splitDateSelectionSegs(o.dateSelectionSegs,r),ae=this.splitEventDrag(o.eventDrag,r),tt=this.splitEventResize(o.eventResize,r);return gt("div",{className:"fc-timegrid-cols",ref:this.rootElRef},gt("table",{role:"presentation",style:{minWidth:o.tableMinWidth,width:o.clientWidth}},o.tableColGroupNode,gt("tbody",{role:"presentation"},gt("tr",{role:"row"},o.axis&&gt("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},gt("div",{className:"fc-timegrid-col-frame"},gt("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&gt(ZA,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:o.nowDate})))),o.cells.map((rt,it)=>gt(Nk,{key:rt.key,elRef:this.cellElRefs.createRef(rt.key),dateProfile:o.dateProfile,date:rt.date,nowDate:o.nowDate,todayRange:o.todayRange,extraRenderProps:rt.extraRenderProps,extraDataAttrs:rt.extraDataAttrs,extraClassNames:rt.extraClassNames,extraDateSpan:rt.extraDateSpan,fgEventSegs:c[it],bgEventSegs:p[it],businessHourSegs:C[it],nowIndicatorSegs:E[it],dateSelectionSegs:ie[it],eventDrag:ae[it],eventResize:tt[it],slatCoords:o.slatCoords,eventSelection:o.eventSelection,forPrint:o.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:o}=this;o.onColCoords&&null!==o.clientWidth&&o.onColCoords(new kl(this.rootElRef.current,function Hk(n,o){return o.map(t=>n[t.key])}(this.cellElRefs.currentMap,o.cells),!0,!1))}}class Vk extends $r{constructor(){super(...arguments),this.processSlotOptions=Zn(Zk),this.state={slatCoords:null},this.handleRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=o=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(o.time){let r=i.computeTimeTop(o.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=o=>{this.colCoords=o},this.handleSlatCoords=o=>{this.setState({slatCoords:o}),this.props.onSlatCoords&&this.props.onSlatCoords(o)}}render(){let{props:o,state:t}=this;return gt("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:o.clientWidth,minWidth:o.tableMinWidth}},gt(Ak,{axis:o.axis,dateProfile:o.dateProfile,slatMetas:o.slatMetas,clientWidth:o.clientWidth,minHeight:o.expandRows?o.clientHeight:"",tableMinWidth:o.tableMinWidth,tableColGroupNode:o.axis?o.tableColGroupNode:null,onCoords:this.handleSlatCoords}),gt(Bk,{cells:o.cells,axis:o.axis,dateProfile:o.dateProfile,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,todayRange:o.todayRange,nowDate:o.nowDate,nowIndicatorSegs:o.nowIndicatorSegs,clientWidth:o.clientWidth,tableMinWidth:o.tableMinWidth,tableColGroupNode:o.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:o.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(o){this.scrollResponder.update(o.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(o,t){let{dateEnv:i,options:r}=this.context,{colCoords:c}=this,{dateProfile:p}=this.props,{slatCoords:C}=this.state,{snapDuration:E,snapsPerSlot:ie}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),ae=c.leftToIndex(o),tt=C.positions.topToIndex(t);if(null!=ae&&null!=tt){let rt=this.props.cells[ae],it=C.positions.tops[tt],Pt=C.positions.getHeight(tt),Jt=Math.floor((t-it)/Pt*ie),On=this.props.cells[ae].date,Xn=Ld(p.slotMinTime,function tv(n,o){return{years:n.years*o,months:n.months*o,days:n.days*o,milliseconds:n.milliseconds*o}}(E,tt*ie+Jt)),Gn=i.add(On,Xn),Ei=i.add(Gn,E);return{dateProfile:p,dateSpan:Object.assign({range:{start:Gn,end:Ei},allDay:!1},rt.extraDateSpan),dayEl:c.els[ae],rect:{left:c.lefts[ae],right:c.rights[ae],top:it,bottom:it+Pt},layer:0}}return null}}function Zk(n,o){let t=o||n,i=du(n,t);return null===i&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}class Uk extends ip{sliceRange(o,t){let i=[];for(let r=0;r<t.length;r+=1){let c=_a(o,t[r]);c&&i.push({start:c.start,end:c.end,isStart:c.start.valueOf()===o.start.valueOf(),isEnd:c.end.valueOf()===o.end.valueOf(),col:r})}return i}}class zk extends $r{constructor(){super(...arguments),this.buildDayRanges=Zn(Gk),this.slicer=new Uk,this.timeColsRef={current:null}}render(){let{props:o,context:t}=this,{dateProfile:i,dayTableModel:r}=o,{nowIndicator:c,nextDayThreshold:p}=t.options,C=this.buildDayRanges(r,i,t.dateEnv);return gt(qr,{unit:c?"minute":"day"},(E,ie)=>gt(Vk,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(o,i,null,t,C),{forPrint:o.forPrint,axis:o.axis,dateProfile:i,slatMetas:o.slatMetas,slotDuration:o.slotDuration,cells:r.cells[0],tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,clientWidth:o.clientWidth,clientHeight:o.clientHeight,expandRows:o.expandRows,nowDate:E,nowIndicatorSegs:c&&this.slicer.sliceNowDate(E,i,p,t,C),todayRange:ie,onScrollTopRequest:o.onScrollTopRequest,onSlatCoords:o.onSlatCoords})))}}function Gk(n,o,t){let i=[];for(let r of n.headerDates)i.push({start:t.add(r,o.slotMinTime),end:t.add(r,o.slotMaxTime)});return i}const ix=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Qk(n,o,t,i,r){let c=new Date(0),p=n,C=mi(0),E=t||function Jk(n){let o,t,i;for(o=ix.length-1;o>=0;o-=1)if(t=mi(ix[o]),i=du(t,n),null!==i&&i>1)return t;return n}(i),ie=[];for(;pr(p)<pr(o);){let ae=r.add(c,p),tt=null!==du(C,E);ie.push({date:ae,time:p,key:ae.toISOString(),isoTimeStr:fu(ae),isLabeled:tt}),p=Ld(p,i),C=Ld(C,i)}return ie}function Wk(n,o){let t=new tp(n.renderRange,o);return new np(t,!1)}Dd('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var Yk=Ka({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class jk extends vk{constructor(){super(...arguments),this.buildTimeColsModel=Zn(Wk),this.buildSlatMetas=Zn(Qk)}render(){let{options:o,dateEnv:t,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:c}=r,p=this.buildTimeColsModel(c,i),C=this.allDaySplitter.splitProps(r),E=this.buildSlatMetas(c.slotMinTime,c.slotMaxTime,o.slotLabelInterval,o.slotDuration,t),{dayMinWidth:ie}=o,ae=!ie,tt=ie,rt=o.dayHeaders&&gt(ep,{dates:p.headerDates,dateProfile:c,datesRepDistinctDays:!0,renderIntro:ae?this.renderHeadAxis:null}),it=!1!==o.allDaySlot&&(Wt=>gt(Yw,Object.assign({},C.allDay,{dateProfile:c,dayTableModel:p,nextDayThreshold:o.nextDayThreshold,tableMinWidth:Wt.tableMinWidth,colGroupNode:Wt.tableColGroupNode,renderRowIntro:ae?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:Wt.clientWidth,clientHeight:Wt.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),Pt=Wt=>gt(zk,Object.assign({},C.timed,{dayTableModel:p,dateProfile:c,axis:ae,slotDuration:o.slotDuration,slatMetas:E,forPrint:r.forPrint,tableColGroupNode:Wt.tableColGroupNode,tableMinWidth:Wt.tableMinWidth,clientWidth:Wt.clientWidth,clientHeight:Wt.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:Wt.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return tt?this.renderHScrollLayout(rt,it,Pt,p.colCnt,ie,E,this.state.slatCoords):this.renderSimpleLayout(rt,it,Pt)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class $k extends Ui{constructor(){super(...arguments),this.state={textId:Ja()}}render(){let{theme:o,dateEnv:t,options:i,viewApi:r}=this.context,{cellId:c,dayDate:p,todayRange:C}=this.props,{textId:E}=this.state,ie=wg(p,C),ae=i.listDayFormat?t.format(p,i.listDayFormat):"",tt=i.listDaySideFormat?t.format(p,i.listDaySideFormat):"",rt=Object.assign({date:t.toDate(p),view:r,textId:E,text:ae,sideText:tt,navLinkAttrs:Sl(this.context,p),sideNavLinkAttrs:Sl(this.context,p,"day",!1)},ie);return gt(wn,{elTag:"tr",elClasses:["fc-list-day",...bu(ie,o)],elAttrs:{"data-date":wc(p)},renderProps:rt,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:qk,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},it=>gt("th",{scope:"colgroup",colSpan:3,id:c,"aria-labelledby":E},gt(it,{elTag:"div",elClasses:["fc-list-day-cushion",o.getClass("tableCellShaded")]})))}}function qk(n){return gt(Vi,null,n.text&&gt("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&gt("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const Xk=qi({hour:"numeric",minute:"2-digit",meridiem:"short"});class eM extends Ui{render(){let{props:o,context:t}=this,{options:i}=t,{seg:r,timeHeaderId:c,eventHeaderId:p,dateHeaderId:C}=o,E=i.eventTimeFormat||Xk;return gt(s0,Object.assign({},o,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function tM(n,o){let t=Lg(n,o);return gt("a",Object.assign({},t),n.eventRange.def.title)}(r,t),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(ie,ae)=>gt(Vi,null,function nM(n,o,t,i,r){let{options:c}=t;if(!1!==c.displayEventTime){let ie,C=n.eventRange.instance,E=!1;return n.eventRange.def.allDay?E=!0:function pA(n){let o=xv(n);return ja(o.start,o.end)>1}(n.eventRange.range)?n.isStart?ie=Eu(n,o,t,null,null,C.range.start,n.end):n.isEnd?ie=Eu(n,o,t,null,null,n.start,C.range.end):E=!0:ie=Eu(n,o,t),E?gt(wn,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:{text:t.options.allDayText,view:t.viewApi},generatorName:"allDayContent",customGenerator:c.allDayContent,defaultGenerator:iM,classNameGenerator:c.allDayClassNames,didMount:c.allDayDidMount,willUnmount:c.allDayWillUnmount}):gt("td",{className:"fc-list-event-time"},ie)}return null}(r,E,t,c,C),gt("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},gt("span",{className:"fc-list-event-dot",style:{borderColor:ae.borderColor||ae.backgroundColor}})),gt(ie,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${p} ${C}`}})))}}function iM(n){return n.text}function sM(n){return n.text}function rM(n){let o=Qi(n.renderRange.start),t=n.renderRange.end,i=[],r=[];for(;o<t;)i.push(o),r.push({start:o,end:Qo(o,1)}),o=Qo(o,1);return{dayDates:i,dayRanges:r}}function ox(n){return!1===n?null:qi(n)}Dd(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var uM=Ka({name:"@fullcalendar/list",optionRefiners:{listDayFormat:ox,listDaySideFormat:ox,noEventsClassNames:Qt,noEventsContent:Qt,noEventsDidMount:Qt,noEventsWillUnmount:Qt},views:{list:{component:class oM extends $r{constructor(){super(...arguments),this.computeDateVars=Zn(rM),this.eventStoreToSegs=Zn(this._eventStoreToSegs),this.state={timeHeaderId:Ja(),eventHeaderId:Ja(),dateHeaderIdRoot:Ja()},this.setRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:o,context:t}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(o.dateProfile),c=this.eventStoreToSegs(o.eventStore,o.eventUiBases,r);return gt(Ug,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},gt(fw,{liquid:!o.isHeightAuto,overflowX:o.isHeightAuto?"visible":"hidden",overflowY:o.isHeightAuto?"visible":"auto"},c.length>0?this.renderSegList(c,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:o,viewApi:t}=this.context;return gt(wn,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:o.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:o.noEventsContent,defaultGenerator:sM,classNameGenerator:o.noEventsClassNames,didMount:o.noEventsDidMount,willUnmount:o.noEventsWillUnmount},r=>gt(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(o,t){let{theme:i,options:r}=this.context,{timeHeaderId:c,eventHeaderId:p,dateHeaderIdRoot:C}=this.state,E=function aM(n){let t,i,o=[];for(t=0;t<n.length;t+=1)i=n[t],(o[i.dayIndex]||(o[i.dayIndex]=[])).push(i);return o}(o);return gt(qr,{unit:"day"},(ie,ae)=>{let tt=[];for(let rt=0;rt<E.length;rt+=1){let it=E[rt];if(it){let Pt=wc(t[rt]),Wt=C+"-"+Pt;tt.push(gt($k,{key:Pt,cellId:Wt,dayDate:t[rt],todayRange:ae})),it=Jv(it,r.eventOrder);for(let Jt of it)tt.push(gt(eM,Object.assign({key:Pt+":"+Jt.eventRange.instance.instanceId,seg:Jt,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:c,eventHeaderId:p,dateHeaderId:Wt},ba(Jt,ae,ie))))}}return gt("table",{className:"fc-list-table "+i.getClass("table")},gt("thead",null,gt("tr",null,gt("th",{scope:"col",id:c},r.timeHint),gt("th",{scope:"col","aria-hidden":!0}),gt("th",{scope:"col",id:p},r.eventHint))),gt("tbody",null,tt))})}_eventStoreToSegs(o,t,i){return this.eventRangesToSegs(Tu(o,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(o,t){let i=[];for(let r of o)i.push(...this.eventRangeToSegs(r,t));return i}eventRangeToSegs(o,t){let C,E,ie,{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,c=o.range,p=o.def.allDay,ae=[];for(C=0;C<t.length;C+=1)if(E=_a(c,t[C]),E&&(ie={component:this,eventRange:o,start:E.start,end:E.end,isStart:o.isStart&&E.start.valueOf()===c.start.valueOf(),isEnd:o.isEnd&&E.end.valueOf()===c.end.valueOf(),dayIndex:C},ae.push(ie),!ie.isEnd&&!p&&C+1<t.length&&c.end<i.add(t[C+1].start,r))){ie.end=c.end,ie.isEnd=!0;break}return ae}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});m.touchMouseIgnoreWait=500;let $A=0,l0=0,qA=!1;class XA{constructor(o){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function dM(n){return 0===n.button&&!n.ctrlKey}(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,function pM(){$A+=1,setTimeout(()=>{$A-=1},m.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.pageXOffset-this.prevScrollX+this.prevPageX,r=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=o,this.emitter=new xg,o.addEventListener("mousedown",this.handleMouseDown),o.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function hM(){l0+=1,1===l0&&window.addEventListener("touchmove",sx,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function gM(){l0-=1,l0||window.removeEventListener("touchmove",sx,{passive:!1})}()}tryStart(o){let t=this.querySubjectEl(o);return!(!t||this.handleSelector&&!Es(o.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){qA=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(o){return this.selector?Es(o.target,this.selector):this.containerEl}shouldIgnoreMouse(){return $A||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(qA=!0)}initScrollWatch(o){this.shouldWatchScroll&&(this.recordCoords(o),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(o){this.shouldWatchScroll&&(this.prevPageX=o.pageX,this.prevPageY=o.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(o,t){let i=0,r=0;return t?(this.origPageX=o.pageX,this.origPageY=o.pageY):(i=o.pageX-this.origPageX,r=o.pageY-this.origPageY),{origEvent:o,isTouch:!1,subjectEl:this.subjectEl,pageX:o.pageX,pageY:o.pageY,deltaX:i,deltaY:r}}createEventFromTouch(o,t){let r,c,i=o.touches,p=0,C=0;return i&&i.length?(r=i[0].pageX,c=i[0].pageY):(r=o.pageX,c=o.pageY),t?(this.origPageX=r,this.origPageY=c):(p=r-this.origPageX,C=c-this.origPageY),{origEvent:o,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:c,deltaX:p,deltaY:C}}}function sx(n){qA&&n.preventDefault()}class fM{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(o,t,i){this.sourceEl=o,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(o,t){this.deltaX=o-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(o){o?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=o,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=o)}stop(o,t){let i=()=>{this.cleanup(),t()};o&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(o,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",bc(i,{left:r.left,top:r.top}),function HC(n,o){let t=i=>{o(i),UI.forEach(r=>{n.removeEventListener(r,t)})};UI.forEach(i=>{n.addEventListener(i,t)})}(i,()=>{i.style.transition="",o()})}cleanup(){this.mirrorEl&&(au(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&bc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let o=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.classList.add("fc-event-dragging"),bc(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:o.right-o.left,height:o.bottom-o.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class rx extends Kd{constructor(o,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=o,this.doesListening=t,this.scrollTop=this.origScrollTop=o.getScrollTop(),this.scrollLeft=this.origScrollLeft=o.getScrollLeft(),this.scrollWidth=o.getScrollWidth(),this.scrollHeight=o.getScrollHeight(),this.clientWidth=o.getClientWidth(),this.clientHeight=o.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(o){this.scrollController.setScrollTop(o),this.doesListening||(this.scrollTop=Math.max(Math.min(o,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(o){this.scrollController.setScrollLeft(o),this.doesListening||(this.scrollLeft=Math.max(Math.min(o,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class ax extends rx{constructor(o,t){super(new Zv(o),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Lv(this.scrollController.el)}}class mM extends rx{constructor(o){super(new Yd,o)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const lx="function"==typeof performance?performance.now:Date.now;class _M{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let o=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(o){let t=lx();this.handleSide(o,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(o,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(o,t))}handleMove(o,t){if(this.isEnabled){let i=o-window.pageXOffset,r=t-window.pageYOffset,c=null===this.pointerScreenY?0:r-this.pointerScreenY,p=null===this.pointerScreenX?0:i-this.pointerScreenX;c<0?this.everMovedUp=!0:c>0&&(this.everMovedDown=!0),p<0?this.everMovedLeft=!0:p>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(lx()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let o of this.scrollCaches)o.destroy();this.scrollCaches=null}}requestAnimation(o){this.msSinceRequest=o,requestAnimationFrame(this.animate)}handleSide(o,t){let{scrollCache:i}=o,{edgeThreshold:r}=this,c=r-o.distance,p=c*c/(r*r)*this.maxVelocity*t,C=1;switch(o.name){case"left":C=-1;case"right":i.setScrollLeft(i.getScrollLeft()+p*C);break;case"top":C=-1;case"bottom":i.setScrollTop(i.getScrollTop()+p*C)}}computeBestEdge(o,t){let{edgeThreshold:i}=this,r=null,c=this.scrollCaches||[];for(let p of c){let C=p.clientRect,E=o-C.left,ie=C.right-o,ae=t-C.top,tt=C.bottom-t;E>=0&&ie>=0&&ae>=0&&tt>=0&&(ae<=i&&this.everMovedUp&&p.canScrollUp()&&(!r||r.distance>ae)&&(r={scrollCache:p,name:"top",distance:ae}),tt<=i&&this.everMovedDown&&p.canScrollDown()&&(!r||r.distance>tt)&&(r={scrollCache:p,name:"bottom",distance:tt}),E<=i&&this.everMovedLeft&&p.canScrollLeft()&&(!r||r.distance>E)&&(r={scrollCache:p,name:"left",distance:E}),ie<=i&&this.everMovedRight&&p.canScrollRight()&&(!r||r.distance>ie)&&(r={scrollCache:p,name:"right",distance:ie}))}return r}buildCaches(o){return this.queryScrollEls(o).map(t=>t===window?new mM(!1):new ax(t,!1))}queryScrollEls(o){let t=[];for(let i of this.scrollQuery)"object"==typeof i?t.push(i):t.push(...Array.prototype.slice.call(o.getRootNode().querySelectorAll(i)));return t}}class sp extends class h{constructor(o,t){this.emitter=new xg}destroy(){}setMirrorIsVisible(o){}setMirrorNeedsRevert(o){}setAutoScrollEnabled(o){}}{constructor(o,t){super(o),this.containerEl=o,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,function UC(n){n.style.userSelect="none",n.addEventListener("selectstart",Rd)}(document.body),function GC(n){n.addEventListener("contextmenu",Rd)}(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let p,c=this.minDistance,{deltaX:C,deltaY:E}=r;p=C*C+E*E,p>=c*c&&this.handleDistanceSurpassed(r)}this.isDragging&&("scroll"!==r.origEvent.type&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,function zC(n){n.style.userSelect="",n.removeEventListener("selectstart",Rd)}(document.body),function QC(n){n.removeEventListener("contextmenu",Rd)}(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new XA(o);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new fM,this.autoScroller=new _M}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(o){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(o)},this.delay):this.handleDelayEnd(o)}handleDelayEnd(o){this.isDelayEnded=!0,this.tryStartDrag(o)}handleDistanceSurpassed(o){this.isDistanceSurpassed=!0,this.tryStartDrag(o)}tryStartDrag(o){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(o.pageX,o.pageY,this.containerEl),this.emitter.trigger("dragstart",o),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(o){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,o))}stopDrag(o){this.isDragging=!1,this.emitter.trigger("dragend",o)}setIgnoreMove(o){this.pointer.shouldIgnoreMove=o}setMirrorIsVisible(o){this.mirror.setIsVisible(o)}setMirrorNeedsRevert(o){this.mirrorNeedsRevert=o}setAutoScrollEnabled(o){this.autoScroller.isEnabled=o}}class CM{constructor(o){this.origRect=Nv(o),this.scrollCaches=Bv(o).map(t=>new ax(t,!0))}destroy(){for(let o of this.scrollCaches)o.destroy()}computeLeft(){let o=this.origRect.left;for(let t of this.scrollCaches)o+=t.origScrollLeft-t.getScrollLeft();return o}computeTop(){let o=this.origRect.top;for(let t of this.scrollCaches)o+=t.origScrollTop-t.getScrollTop();return o}isWithinClipping(o,t){let i={left:o,top:t};for(let r of this.scrollCaches)if(!vM(r.getEventTarget())&&!hA(i,r.clientRect))return!1;return!0}}function vM(n){let o=n.tagName;return"HTML"===o||"BODY"===o}class Gg{constructor(o,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("dragmove",this.handleDragMove),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd),this.dragging=o,this.emitter=new xg}processFirstCoord(o){let c,t={left:o.pageX,top:o.pageY},i=t,r=o.subjectEl;r instanceof HTMLElement&&(c=Nv(r),i=function Ev(n,o){return{left:Math.min(Math.max(n.left,o.left),o.right),top:Math.min(Math.max(n.top,o.top),o.bottom)}}(i,c));let p=this.initialHit=this.queryHitForOffset(i.left,i.top);if(p){if(this.useSubjectCenter&&c){let C=gA(c,p.rect);C&&(i=function Sv(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}(C))}this.coordAdjust=function YT(n,o){return{left:n.left-o.left,top:n.top-o.top}}(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(o,t){let i=this.queryHitForOffset(o.pageX+this.coordAdjust.left,o.pageY+this.coordAdjust.top);(t||!c0(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,o))}prepareHits(){this.offsetTrackers=kr(this.droppableStore,o=>(o.component.prepareHits(),new CM(o.el)))}releaseHits(){let{offsetTrackers:o}=this;for(let t in o)o[t].destroy();this.offsetTrackers={}}queryHitForOffset(o,t){let{droppableStore:i,offsetTrackers:r}=this,c=null;for(let p in i){let C=i[p].component,E=r[p];if(E&&E.isWithinClipping(o,t)){let ie=E.computeLeft(),ae=E.computeTop(),tt=o-ie,rt=t-ae,{origRect:it}=E,Pt=it.right-it.left,Wt=it.bottom-it.top;if(tt>=0&&tt<Pt&&rt>=0&&rt<Wt){let Jt=C.queryHit(tt,rt,Pt,Wt);Jt&&Wd(Jt.dateProfile.activeRange,Jt.dateSpan.range)&&(!c||Jt.layer>c.layer)&&(Jt.componentId=p,Jt.context=C.context,Jt.rect.left+=ie,Jt.rect.right+=ie,Jt.rect.top+=ae,Jt.rect.bottom+=ae,c=Jt)}}}return c}}function c0(n,o){return!n&&!o||Boolean(n)===Boolean(o)&&function ew(n,o){return function Dv(n,o){return(null===n.start?null:n.start.valueOf())===(null===o.start?null:o.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===o.end?null:o.end.valueOf())}(n.range,o.range)&&n.allDay===o.allDay&&function Yv(n,o){for(let t in o)if("range"!==t&&"allDay"!==t&&n[t]!==o[t])return!1;for(let t in n)if(!(t in o))return!1;return!0}(n,o)}(n.dateSpan,o.dateSpan)}function e1(n,o){let t={};for(let i of o.pluginHooks.datePointTransforms)Object.assign(t,i(n,o));return Object.assign(t,function bM(n,o){return{date:o.toDate(n.range.start),dateStr:o.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,o.dateEnv)),t}let cx=(()=>{class n extends a{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=C=>{let E=C.origEvent.target,{component:ie,dragging:ae}=this,{mirror:tt}=ae,{options:rt}=ie.context,it=ie.context;this.subjectEl=C.subjectEl;let Pt=this.subjectSeg=xu(C.subjectEl),Jt=(this.eventRange=Pt.eventRange).instance.instanceId;this.relevantEvents=vv(it.getCurrentData().eventStore,Jt),ae.minDistance=C.isTouch?0:rt.eventDragMinDistance,ae.delay=C.isTouch&&Jt!==ie.props.eventSelection?function xM(n){let{options:o}=n.context,t=o.eventLongPressDelay;return null==t&&(t=o.longPressDelay),t}(ie):null,tt.parentNode=rt.fixedMirrorParent?rt.fixedMirrorParent:Es(E,".fc"),tt.revertDuration=rt.dragRevertDuration;let cn=ie.isValidSegDownEl(E)&&!Es(E,".fc-event-resizer");ae.setIgnoreMove(!cn),this.isDragging=cn&&C.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=C=>{let E=this.component.context,ie=this.eventRange,ae=ie.instance.instanceId;C.isTouch?ae!==this.component.props.eventSelection&&E.dispatch({type:"SELECT_EVENT",eventInstanceId:ae}):E.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(E.calendarApi.unselect(C),E.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Xi(E,ie.def,ie.instance),jsEvent:C.origEvent,view:E.viewApi}))},this.handleHitUpdate=(C,E)=>{if(!this.isDragging)return;let ie=this.relevantEvents,ae=this.hitDragging.initialHit,tt=this.component.context,rt=null,it=null,Pt=null,Wt=!1,Jt={affectedEvents:ie,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(C){rt=C.context;let cn=rt.options;tt===rt||cn.editable&&cn.droppable?(it=function wM(n,o,t){let i=n.dateSpan,r=o.dateSpan,c=i.range.start,p=r.range.start,C={};i.allDay!==r.allDay&&(C.allDay=r.allDay,C.hasEnd=o.context.options.allDayMaintainDuration,r.allDay&&(c=Qi(c)));let E=kc(c,p,n.context.dateEnv,n.componentId===o.componentId?n.largeUnit:null);E.milliseconds&&(C.allDay=!1);let ie={datesDelta:E,standardProps:C};for(let ae of t)ae(ie,n,o);return ie}(ae,C,rt.getCurrentData().pluginHooks.eventDragMutationMassagers),it&&(Pt=Dg(ie,rt.getCurrentData().eventUiBases,it,rt),Jt.mutatedEvents=Pt,dw(Jt,C.dateProfile,rt)||(Wt=!0,it=null,Pt=null,Jt.mutatedEvents={defs:{},instances:{}}))):rt=null}this.displayDrag(rt,Jt),Wt?eg():tg(),E||(tt===rt&&c0(ae,C)&&(it=null),this.dragging.setMirrorNeedsRevert(!it),this.dragging.setMirrorIsVisible(!C||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=rt,this.validMutation=it,this.mutatedRelevantEvents=Pt)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=C=>{if(this.isDragging){let E=this.component.context,ie=E.viewApi,{receivingContext:ae,validMutation:tt}=this,rt=this.eventRange.def,it=this.eventRange.instance,Pt=new Xi(E,rt,it),Wt=this.relevantEvents,Jt=this.mutatedRelevantEvents,{finalHit:cn}=this.hitDragging;if(this.clearDrag(),E.emitter.trigger("eventDragStop",{el:this.subjectEl,event:Pt,jsEvent:C.origEvent,view:ie}),tt){if(ae===E){let On=new Xi(E,Jt.defs[rt.defId],it?Jt.instances[it.instanceId]:null);E.dispatch({type:"MERGE_EVENTS",eventStore:Jt});let Xn={oldEvent:Pt,event:On,relatedEvents:Ol(Jt,E,it),revert(){E.dispatch({type:"MERGE_EVENTS",eventStore:Wt})}},Gn={};for(let Ei of E.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(Gn,Ei(tt,E));E.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},Xn),Gn),{el:C.subjectEl,delta:tt.datesDelta,jsEvent:C.origEvent,view:ie})),E.emitter.trigger("eventChange",Xn)}else if(ae){let On={event:Pt,relatedEvents:Ol(Wt,E,it),revert(){E.dispatch({type:"MERGE_EVENTS",eventStore:Wt})}};E.emitter.trigger("eventLeave",Object.assign(Object.assign({},On),{draggedEl:C.subjectEl,view:ie})),E.dispatch({type:"REMOVE_EVENTS",eventStore:Wt}),E.emitter.trigger("eventRemove",On);let Gn=Jt.instances[it.instanceId],Ei=new Xi(ae,Jt.defs[rt.defId],Gn);ae.dispatch({type:"MERGE_EVENTS",eventStore:Jt});let co={event:Ei,relatedEvents:Ol(Jt,ae,Gn),revert(){ae.dispatch({type:"REMOVE_EVENTS",eventStore:Jt})}};ae.emitter.trigger("eventAdd",co),C.isTouch&&ae.dispatch({type:"SELECT_EVENT",eventInstanceId:it.instanceId}),ae.emitter.trigger("drop",Object.assign(Object.assign({},e1(cn.dateSpan,ae)),{draggedEl:C.subjectEl,jsEvent:C.origEvent,view:cn.context.viewApi})),ae.emitter.trigger("eventReceive",Object.assign(Object.assign({},co),{draggedEl:C.subjectEl,view:cn.context.viewApi}))}}else E.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:r}=i.context,c=this.dragging=new sp(t.el);c.pointer.selector=n.SELECTOR,c.touchScrollAllowed=!1,c.autoScroller.isEnabled=r.dragScroll;let p=this.hitDragging=new Gg(this.dragging,d);p.useSubjectCenter=t.useEventCenter,p.emitter.on("pointerdown",this.handlePointerDown),p.emitter.on("dragstart",this.handleDragStart),p.emitter.on("hitupdate",this.handleHitUpdate),p.emitter.on("pointerup",this.handlePointerUp),p.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let c=this.receivingContext;c&&c!==t&&c.dispatch(c===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();const MM={fixedMirrorParent:Qt},DM={dateClick:Qt,eventDragStart:Qt,eventDragStop:Qt,eventDrop:Qt,eventResizeStart:Qt,eventResizeStop:Qt,eventResize:Qt,drop:Qt,eventReceive:Qt,eventLeave:Qt};m.dataAttrPrefix="";var NM=Ka({name:"@fullcalendar/interaction",componentInteractions:[class yM extends a{constructor(o){super(o),this.handlePointerDown=i=>{let{dragging:r}=this;r.setIgnoreMove(!this.component.isValidDateDownEl(i.origEvent.target))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:c}=this.dragging;if(!c.wasTouchScroll){let{initialHit:p,finalHit:C}=this.hitDragging;if(p&&C&&c0(p,C)){let{context:E}=r,ie=Object.assign(Object.assign({},e1(p.dateSpan,E)),{dayEl:p.dayEl,jsEvent:i.origEvent,view:E.viewApi||E.calendarApi.view});E.emitter.trigger("dateClick",ie)}}},this.dragging=new sp(o.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Gg(this.dragging,u(o));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class IM extends a{constructor(o){super(o),this.dragSelection=null,this.handlePointerDown=p=>{let{component:C,dragging:E}=this,{options:ie}=C.context,ae=ie.selectable&&C.isValidDateDownEl(p.origEvent.target);E.setIgnoreMove(!ae),E.delay=p.isTouch?function AM(n){let{options:o}=n.context,t=o.selectLongPressDelay;return null==t&&(t=o.longPressDelay),t}(C):null},this.handleDragStart=p=>{this.component.context.calendarApi.unselect(p)},this.handleHitUpdate=(p,C)=>{let{context:E}=this.component,ie=null,ae=!1;if(p){let tt=this.hitDragging.initialHit;p.componentId===tt.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(tt,p)||(ie=function TM(n,o,t){let i=n.dateSpan,r=o.dateSpan,c=[i.range.start,i.range.end,r.range.start,r.range.end];c.sort(lu);let p={};for(let C of t){let E=C(n,o);if(!1===E)return null;E&&Object.assign(p,E)}return p.range={start:c[0],end:c[3]},p.allDay=i.allDay,p}(tt,p,E.pluginHooks.dateSelectionTransformers)),(!ie||!function tE(n,o,t){return!!Wd(o.validRange,n.range)&&pw({dateSelection:n},t)}(ie,p.dateProfile,E))&&(ae=!0,ie=null)}ie?E.dispatch({type:"SELECT_DATES",selection:ie}):C||E.dispatch({type:"UNSELECT_DATES"}),ae?eg():tg(),C||(this.dragSelection=ie)},this.handlePointerUp=p=>{this.dragSelection&&(wA(this.dragSelection,p,this.component.context),this.dragSelection=null)};let{component:t}=o,{options:i}=t.context,r=this.dragging=new sp(o.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let c=this.hitDragging=new Gg(this.dragging,u(o));c.emitter.on("pointerdown",this.handlePointerDown),c.emitter.on("dragstart",this.handleDragStart),c.emitter.on("hitupdate",this.handleHitUpdate),c.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},cx,class EM extends a{constructor(o){super(o),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let{component:p}=this,E=xu(this.querySegEl(c)),ie=this.eventRange=E.eventRange;this.dragging.minDistance=p.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(c.origEvent.target)||c.isTouch&&this.component.props.eventSelection!==ie.instance.instanceId)},this.handleDragStart=c=>{let{context:p}=this.component,C=this.eventRange;this.relevantEvents=vv(p.getCurrentData().eventStore,this.eventRange.instance.instanceId);let E=this.querySegEl(c);this.draggingSegEl=E,this.draggingSeg=xu(E),p.calendarApi.unselect(),p.emitter.trigger("eventResizeStart",{el:E,event:new Xi(p,C.def,C.instance),jsEvent:c.origEvent,view:p.viewApi})},this.handleHitUpdate=(c,p,C)=>{let{context:E}=this.component,ie=this.relevantEvents,ae=this.hitDragging.initialHit,tt=this.eventRange.instance,rt=null,it=null,Pt=!1,Wt={affectedEvents:ie,mutatedEvents:{defs:{},instances:{}},isEvent:!0};c&&(c.componentId===ae.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(ae,c)||(rt=function SM(n,o,t,i){let r=n.context.dateEnv,C=kc(n.dateSpan.range.start,o.dateSpan.range.start,r,n.largeUnit);if(t){if(r.add(i.start,C)<i.end)return{startDelta:C}}else if(r.add(i.end,C)>i.start)return{endDelta:C};return null}(ae,c,C.subjectEl.classList.contains("fc-event-resizer-start"),tt.range))),rt&&(it=Dg(ie,E.getCurrentData().eventUiBases,rt,E),Wt.mutatedEvents=it,dw(Wt,c.dateProfile,E)||(Pt=!0,rt=null,it=null,Wt.mutatedEvents=null)),E.dispatch(it?{type:"SET_EVENT_RESIZE",state:Wt}:{type:"UNSET_EVENT_RESIZE"}),Pt?eg():tg(),p||(rt&&c0(ae,c)&&(rt=null),this.validMutation=rt,this.mutatedRelevantEvents=it)},this.handleDragEnd=c=>{let{context:p}=this.component,C=this.eventRange.def,E=this.eventRange.instance,ie=new Xi(p,C,E),ae=this.relevantEvents,tt=this.mutatedRelevantEvents;if(p.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:ie,jsEvent:c.origEvent,view:p.viewApi}),this.validMutation){let rt=new Xi(p,tt.defs[C.defId],E?tt.instances[E.instanceId]:null);p.dispatch({type:"MERGE_EVENTS",eventStore:tt});let it={oldEvent:ie,event:rt,relatedEvents:Ol(tt,p,E),revert(){p.dispatch({type:"MERGE_EVENTS",eventStore:ae})}};p.emitter.trigger("eventResize",Object.assign(Object.assign({},it),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||mi(0),endDelta:this.validMutation.endDelta||mi(0),jsEvent:c.origEvent,view:p.viewApi})),p.emitter.trigger("eventChange",it)}else p.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=o,i=this.dragging=new sp(o.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Gg(this.dragging,u(o));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(o){return Es(o.subjectEl,".fc-event")}}],calendarInteractions:[class kM{constructor(o){this.context=o,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,c=qh(i.origEvent);this.matchesCancel=!!Es(c,r),this.matchesEvent=!!Es(c,cx.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:c}=this,p=r.getCurrentData();if(!c.wasTouchScroll){if(p.dateSelection&&!this.isRecentPointerDateSelect){let C=r.options.unselectAuto;C&&(!C||!this.matchesCancel)&&r.calendarApi.unselect(i)}p.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new XA(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),o.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:sp,optionRefiners:MM,listenerRefiners:DM});const FM=["*"],BM=["rootEl"],rp=function(n){return{$implicit:n}};function HM(n,o){if(1&n&&(e.TgZ(0,"div",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,rp,t.renderProps))}}function VM(n,o){if(1&n&&(e.TgZ(0,"span",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,rp,t.renderProps))}}function ZM(n,o){if(1&n&&(e.TgZ(0,"a",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,rp,t.renderProps))}}function UM(n,o){if(1&n&&(e.TgZ(0,"tr",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,rp,t.renderProps))}}function zM(n,o){if(1&n&&(e.TgZ(0,"th",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,rp,t.renderProps))}}function GM(n,o){if(1&n&&(e.TgZ(0,"td",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,rp,t.renderProps))}}const QM=["dayHeaderContent"],JM=["dayCellContent"],jM=["weekNumberContent"],WM=["nowIndicatorContent"],KM=["eventContent"],YM=["slotLaneContent"],$M=["slotLabelContent"],qM=["allDayContent"],XM=["moreLinkContent"],eD=["noEventsContent"],tD=["resourceAreaHeaderContent"],nD=["resourceGroupLabelContent"],iD=["resourceLabelContent"],oD=["resourceLaneContent"],sD=["resourceGroupLaneContent"];function rD(n,o){if(1&n&&e._UZ(0,"transport-container",1),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",i.templateMap[t.generatorName])("renderProps",t.renderProps)}}const dx={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},aD=["events","eventSources","resources"],lD=Object.prototype.hasOwnProperty;function u0(n){return Array.isArray(n)?n.map(u0):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?px(n,u0):n}function px(n,o){const t={};for(const i in n)lD.call(n,i)&&(t[i]=o(n[i],i));return t}function t1(n,o){if(n===o)return!0;if(n&&o&&"object"==typeof n&&"object"==typeof o){if(n.constructor!==o.constructor)return!1;var t,i,r;if(Array.isArray(n)){if((t=n.length)!=o.length)return!1;for(i=t;0!=i--;)if(!t1(n[i],o[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===o.toString();if((t=(r=Object.keys(n)).length)!==Object.keys(o).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(o,r[i]))return!1;for(i=t;0!=i--;){var c=r[i];if(!t1(n[c],o[c]))return!1}return!0}return n!=n&&o!=o}const hx=document.createDocumentFragment();let cD=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){hx.appendChild(this.element.nativeElement)}ngOnDestroy(){hx.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["offscreen-fragment"]],ngContentSelectors:FM,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n})();const d0=document.createDocumentFragment();let uD=(()=>{class n{ngAfterViewInit(){var t;const i=null===(t=this.rootElRef)||void 0===t?void 0:t.nativeElement;gx(i,this.inPlaceOf),n1(i,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(i)}ngOnChanges(t){var i;const r=null===(i=this.rootElRef)||void 0===i?void 0:i.nativeElement;if(r)if(this.inPlaceOf.parentNode!==d0)gx(r,this.inPlaceOf),n1(r,void 0,this.elAttrs),this.reportEl(r);else{const c=t.elAttrs;c&&n1(r,c.previousValue,c.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===d0&&d0.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(BM,5),2&t){let r;e.iGM(r=e.CRH())&&(i.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[e.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.YNc(0,HM,3,6,"ng-template",0),e.YNc(1,VM,3,6,"ng-template",0),e.YNc(2,ZM,3,6,"ng-template",0),e.YNc(3,UM,3,6,"ng-template",0),e.YNc(4,zM,3,6,"ng-template",0),e.YNc(5,GM,3,6,"ng-template",0)),2&t&&(e.Q6J("ngIf","div"==i.elTag),e.xp6(1),e.Q6J("ngIf","span"==i.elTag),e.xp6(1),e.Q6J("ngIf","a"==i.elTag),e.xp6(1),e.Q6J("ngIf","tr"==i.elTag),e.xp6(1),e.Q6J("ngIf","th"==i.elTag),e.xp6(1),e.Q6J("ngIf","td"==i.elTag))},dependencies:[I.O5,I.mk,I.PC,I.tP],encapsulation:2}),n})();function gx(n,o){var t;null===(t=o.parentNode)||void 0===t||t.insertBefore(n,o.nextSibling),d0.appendChild(o)}function n1(n,o={},t={}){for(const i in o)i in t||(n[i]=null);for(const i in t)n[i]=t[i]}let dD=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};const r=new PE;r.subscribe(c=>{this.customRenderingMap=c,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=r.handle.bind(r),this.templateMap=this}ngAfterViewInit(){const{deepChangeDetection:t}=this,i=Object.assign(Object.assign({},this.options),this.buildInputOptions());this.optionSnapshot=px(i,(C,E)=>t&&dx[E]?u0(C):C);const r=this.element.nativeElement,c=this.calendar=new ZS(r,Object.assign(Object.assign({},i),this.buildExtraOptions())),p=r.closest("ion-content");p&&p.componentOnReady?p.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{c.render()})}):c.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:i}=this,r=Object.assign(Object.assign({},this.options),this.buildInputOptions()),c={},p=[];for(const E in r)if(r.hasOwnProperty(E)){let ie=r[E];t&&dx[E]?t1(i[E],ie)||(i[E]=u0(ie),p.push(E)):i[E]!==ie&&(i[E]=ie,p.push(E)),c[E]=ie}const C=Object.keys(i);for(const E of C)E in r||(delete i[E],p.push(E));p.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(Object.assign(Object.assign({},c),this.buildExtraOptions()),p))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){const t={};for(const i of aD){const r=this[i];null!=r&&(t[i]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplacesEl:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,QM,7),e.Suo(r,JM,7),e.Suo(r,jM,7),e.Suo(r,WM,7),e.Suo(r,KM,7),e.Suo(r,YM,7),e.Suo(r,$M,7),e.Suo(r,qM,7),e.Suo(r,XM,7),e.Suo(r,eD,7),e.Suo(r,tD,7),e.Suo(r,nD,7),e.Suo(r,iD,7),e.Suo(r,oD,7),e.Suo(r,sD,7)),2&t){let c;e.iGM(c=e.CRH())&&(i.dayHeaderContent=c.first),e.iGM(c=e.CRH())&&(i.dayCellContent=c.first),e.iGM(c=e.CRH())&&(i.weekNumberContent=c.first),e.iGM(c=e.CRH())&&(i.nowIndicatorContent=c.first),e.iGM(c=e.CRH())&&(i.eventContent=c.first),e.iGM(c=e.CRH())&&(i.slotLaneContent=c.first),e.iGM(c=e.CRH())&&(i.slotLabelContent=c.first),e.iGM(c=e.CRH())&&(i.allDayContent=c.first),e.iGM(c=e.CRH())&&(i.moreLinkContent=c.first),e.iGM(c=e.CRH())&&(i.noEventsContent=c.first),e.iGM(c=e.CRH())&&(i.resourceAreaHeaderContent=c.first),e.iGM(c=e.CRH())&&(i.resourceGroupLabelContent=c.first),e.iGM(c=e.CRH())&&(i.resourceLabelContent=c.first),e.iGM(c=e.CRH())&&(i.resourceLaneContent=c.first),e.iGM(c=e.CRH())&&(i.resourceGroupLaneContent=c.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){1&t&&(e.TgZ(0,"offscreen-fragment"),e.YNc(1,rD,1,8,"transport-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[cD,uD,I.sg],encapsulation:2}),n})(),pD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[I.ez]]}),n})();const hD=["sublist"],gD=["menuitem"],fD=function(n){return{"p-hidden":n}};function mD(n,o){if(1&n&&e._UZ(0,"li",5,6),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,fD,!1===t.visible))}}function _D(n,o){if(1&n&&e._UZ(0,"span",17),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function CD(n,o){if(1&n&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function vD(n,o){if(1&n&&e._UZ(0,"span",19),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function bD(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}function yD(n,o){1&n&&e._UZ(0,"span",21)}const fx=function(n){return{"p-menuitem-link":!0,"p-disabled":n}};function ID(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(r){e.CHM(t),e.oxw();const c=e.MAs(1),p=e.oxw(),C=p.$implicit,E=p.index,ie=e.oxw();return e.KtG(ie.onItemClick(r,C,c,ie.getKey(E)))}),e.YNc(1,_D,1,2,"span",12),e.YNc(2,CD,2,1,"span",13),e.YNc(3,vD,1,1,"ng-template",null,14,e.W1O),e.YNc(5,bD,2,2,"span",15),e.YNc(6,yD,1,0,"span",16),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2),r=i.$implicit,c=i.index,p=e.oxw();e.Q6J("target",r.target)("ngClass",e.VKq(13,fx,r.disabled)),e.uIk("href",r.url?r.url:null,e.LSH)("title",r.title)("id",r.id)("tabindex",r.disabled?null:"0")("aria-haspopup",null!=p.item.items)("aria-expanded",p.isActive(p.getKey(c))),e.xp6(1),e.Q6J("ngIf",r.icon),e.xp6(1),e.Q6J("ngIf",!1!==r.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",r.badge),e.xp6(1),e.Q6J("ngIf",r.items)}}function AD(n,o){if(1&n&&e._UZ(0,"span",17),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function TD(n,o){if(1&n&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function wD(n,o){if(1&n&&e._UZ(0,"span",19),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function xD(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}function ED(n,o){1&n&&e._UZ(0,"span",21)}const SD=function(){return{exact:!1}};function kD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(r){e.CHM(t),e.oxw();const c=e.MAs(1),p=e.oxw(),C=p.$implicit,E=p.index,ie=e.oxw();return e.KtG(ie.onItemClick(r,C,c,ie.getKey(E)))}),e.YNc(1,AD,1,2,"span",12),e.YNc(2,TD,2,1,"span",13),e.YNc(3,wD,1,1,"ng-template",null,23,e.W1O),e.YNc(5,xD,2,2,"span",15),e.YNc(6,ED,1,0,"span",16),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2).$implicit;e.Q6J("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||e.DdM(20,SD))("target",i.target)("ngClass",e.VKq(21,fx,i.disabled))("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),e.uIk("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.badge),e.xp6(1),e.Q6J("ngIf",i.items)}}function MD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-contextMenuSub",24),e.NdJ("leafClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onLeafClick())}),e.qZA()}if(2&n){const t=e.oxw(2),i=t.index,r=t.$implicit,c=e.oxw();e.Q6J("parentItemKey",c.getKey(i))("item",r)}}const DD=function(n,o){return{"p-menuitem":!0,"p-menuitem-active":n,"p-hidden":o}};function OD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",7,6),e.NdJ("mouseenter",function(r){e.CHM(t);const c=e.oxw(),p=c.$implicit,C=c.index,E=e.oxw();return e.KtG(E.onItemMouseEnter(r,p,E.getKey(C)))})("mouseleave",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw();return e.KtG(p.onItemMouseLeave(r,c))}),e.YNc(2,ID,7,15,"a",8),e.YNc(3,kD,7,23,"a",9),e.YNc(4,MD,1,2,"p-contextMenuSub",10),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw();e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(9,DD,c.isActive(c.getKey(r)),!1===i.visible))("ngStyle",i.style)("tooltipOptions",i.tooltipOptions),e.uIk("data-ik",c.getKey(r)),e.xp6(2),e.Q6J("ngIf",!i.routerLink),e.xp6(1),e.Q6J("ngIf",i.routerLink),e.xp6(1),e.Q6J("ngIf",i.items)}}function PD(n,o){if(1&n&&(e.YNc(0,mD,2,3,"li",3),e.YNc(1,OD,5,12,"li",4)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}const RD=function(n){return{"p-submenu-list":n}},LD=["container"];let ND=(()=>{class n{constructor(t){this.leafClick=new e.vpe,this.contextMenu=t}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe((0,sl.R)(this.contextMenu.ngDestroy$)).subscribe(t=>{this.activeItemKey=t,this.isActive(this.parentItemKey)&&zt.p.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(t,i,r){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),i.disabled)this.activeItemKey=null;else{if(i.items){let c=zt.p.findSingle(t.currentTarget,".p-submenu-list");zt.p.addClass(c,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(r)}}onItemMouseLeave(t,i){i.disabled||this.contextMenu.el.nativeElement.contains(t.toElement)&&(i.items&&this.contextMenu.removeActiveFromSubLists(t.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(t,i,r,c){if(i.disabled)t.preventDefault();else{if(!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),i.items){let p=zt.p.findSingle(r,".p-submenu-list");p&&(this.isActive(c)&&zt.p.hasClass(p,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(r):zt.p.addClass(p,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(c))}i.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(t){return this.root?String(t):this.parentItemKey+"_"+t}isActive(t){return this.activeItemKey&&(this.activeItemKey.startsWith(t+"_")||this.activeItemKey===t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>o1)))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-contextMenuSub"]],viewQuery:function(t,i){if(1&t&&(e.Gf(hD,5),e.Gf(gD,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.sublistViewChild=r.first),e.iGM(r=e.CRH())&&(i.menuitemViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["pTooltip","","role","none",3,"ngClass","ngStyle","class","tooltipOptions","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["pTooltip","","role","none",3,"ngClass","ngStyle","tooltipOptions","mouseenter","mouseleave"],["pRipple","",3,"target","ngClass","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(t,i){1&t&&(e.TgZ(0,"ul",0,1),e.YNc(2,PD,2,2,"ng-template",2),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(2,RD,!i.root)),e.xp6(2),e.Q6J("ngForOf",i.root?i.item:i.item.items))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,D.H,Je.u,n],encapsulation:2}),n})(),o1=(()=>{class n{constructor(t,i,r,c,p,C){this.el=t,this.renderer=i,this.cd=r,this.zone=c,this.contextMenuService=p,this.config=C,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new e.vpe,this.onHide=new e.vpe,this.ngDestroy$=new Pi.x,this.preventDocumentDefault=!1}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,i=>{this.show(i),i.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,t=>{this.show(t),t.preventDefault()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):zt.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(t){this.clearActiveItem(),this.position(t),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",this.preventDocumentDefault=!0,zt.p.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),t&&t.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.autoZIndex&&an.P9.clear(this.containerViewChild.nativeElement),this.clearActiveItem(),this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&this.containerViewChild&&"block"!==this.containerViewChild.nativeElement.style.display&&an.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}toggle(t){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(t)}position(t){if(t){let i=t.pageX+1,r=t.pageY+1,c=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:zt.p.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),p=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:zt.p.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),C=zt.p.getViewport();i+c-document.scrollingElement.scrollLeft>C.width&&(i-=c),r+p-document.scrollingElement.scrollTop>C.height&&(r-=p),i<document.scrollingElement.scrollLeft&&(i=document.scrollingElement.scrollLeft),r<document.scrollingElement.scrollTop&&(r=document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=i+"px",this.containerViewChild.nativeElement.style.top=r+"px"}}positionSubmenu(t){let i=t.parentElement.parentElement,r=zt.p.getViewport(),c=t.offsetParent?t.offsetWidth:zt.p.getHiddenElementOuterWidth(t),p=t.offsetHeight?t.offsetHeight:zt.p.getHiddenElementOuterHeight(t),C=zt.p.getOuterWidth(i.children[0]),E=zt.p.getOuterHeight(i.children[0]),ie=zt.p.getOffset(i.parentElement);t.style.zIndex=++zt.p.zindex,parseInt(ie.top)+E+p>r.height-zt.p.calculateScrollbarHeight()?(t.style.removeProperty("top"),t.style.bottom="0px"):(t.style.removeProperty("bottom"),t.style.top="0px"),t.style.left=parseInt(ie.left)+C+c>r.width-zt.p.calculateScrollbarWidth()?-c+"px":C+"px"}isItemMatched(t){return zt.p.hasClass(t,"p-menuitem")&&!zt.p.hasClass(t.children[0],"p-disabled")}findNextItem(t,i){let r=t.nextElementSibling;if(r)return this.isItemMatched(r)?r:this.findNextItem(r,i);{let c=t.parentElement.children[0];return this.isItemMatched(c)?c:i?null:this.findNextItem(c,!0)}}findPrevItem(t,i){let r=t.previousElementSibling;if(r)return this.isItemMatched(r)?r:this.findPrevItem(r,i);{let c=t.parentElement.children[t.parentElement.children.length-1];return this.isItemMatched(c)?c:i?null:this.findPrevItem(c,!0)}}getActiveItem(){let t=this.contextMenuService.activeItemKey;return null==t?null:zt.p.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+t+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(t){let i=zt.p.find(t,".p-submenu-list-active");for(let r of i)zt.p.removeClass(r,"p-submenu-list-active")}removeActiveFromSublist(t){t&&zt.p.findSingle(t,".p-submenu-list")&&zt.p.hasClass(t,"p-submenu-list-active")&&zt.p.removeClass(t,"p-submenu-list-active")}bindGlobalListeners(){if(!this.documentClickListener){const t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(t,"click",i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&!i.ctrlKey&&2!==i.button&&this.hide()}),this.documentTriggerListener=this.renderer.listen(t,this.triggerEvent,i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&!this.preventDocumentDefault&&this.hide(),this.preventDocumentDefault=!1})}this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{let r=this.getActiveItem();switch(i.key){case"ArrowDown":if(r)this.removeActiveFromSublist(r),r=this.findNextItem(r);else{let c=zt.p.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;r=this.isItemMatched(c)?c:this.findNextItem(c)}r&&this.contextMenuService.changeKey(r.getAttribute("data-ik")),i.preventDefault();break;case"ArrowUp":if(r)this.removeActiveFromSublist(r),r=this.findPrevItem(r);else{let c=zt.p.findSingle(this.containerViewChild.nativeElement,"ul"),p=c.children[c.children.length-1];r=this.isItemMatched(p)?p:this.findPrevItem(p)}r&&this.contextMenuService.changeKey(r.getAttribute("data-ik")),i.preventDefault();break;case"ArrowRight":if(r){let c=zt.p.findSingle(r,".p-submenu-list");c&&(zt.p.addClass(c,"p-submenu-list-active"),r=zt.p.findSingle(c,".p-menuitem-link:not(.p-disabled)").parentElement,r&&this.contextMenuService.changeKey(r.getAttribute("data-ik")))}i.preventDefault();break;case"ArrowLeft":if(r){let c=r.parentElement;c&&zt.p.hasClass(c,"p-submenu-list-active")&&(zt.p.removeClass(c,"p-submenu-list-active"),r=c.parentElement.parentElement,r&&this.contextMenuService.changeKey(r.getAttribute("data-ik")))}i.preventDefault();break;case"Escape":this.hide(),i.preventDefault();break;case"Enter":r&&this.handleItemClick(i,this.findModelItemFromKey(this.contextMenuService.activeItemKey),r),i.preventDefault()}}))}findModelItemFromKey(t){return null!=t&&this.model?t.split("_").reduce((r,c)=>r?r.items[c]:this.model[c],null):null}handleItemClick(t,i,r){if(i&&!i.disabled){if(i.command&&i.command({originalEvent:t,item:i}),i.items){let c=zt.p.findSingle(r,".p-submenu-list");c&&(zt.p.hasClass(c,"p-submenu-list-active")?this.removeActiveFromSubLists(r):(zt.p.addClass(c,"p-submenu-list-active"),this.positionSubmenu(c)))}i.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(t){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(t){return!(this.containerViewChild.nativeElement.isSameNode(t.target)||this.containerViewChild.nativeElement.contains(t.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.containerViewChild&&this.autoZIndex&&an.P9.clear(this.containerViewChild.nativeElement),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(j.Lk),e.Y36(j.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-contextMenu"]],viewQuery:function(t,i){if(1&t&&e.Gf(LD,5),2&t){let r;e.iGM(r=e.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"p-contextMenuSub",2),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-contextmenu p-component")("ngStyle",i.style),e.xp6(2),e.Q6J("item",i.model)("root",!0))},dependencies:[I.mk,I.PC,ND],styles:[".p-contextmenu{position:absolute;display:none}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}\n"],encapsulation:2,changeDetection:0}),n})(),FD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[j.Lk],imports:[I.ez,s.Bz,D.T,Je.z,s.Bz,Je.z]}),n})();const BD=["taskPanel"],HD=["eventMenu"],VD=["scheduleTaskDialog"];function ZD(n,o){1&n&&e.GkF(0)}function UD(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"full-calendar",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("events",t.taskEvent)("options",t.calendarOptions)}}const zD=function(){return{width:"40vw",minWidth:"min-content"}};function GD(n,o){if(1&n&&(e._UZ(0,"app-task-list-element",14),e.ALo(1,"async")),2&n){const t=e.oxw();let i;e.Akn(e.DdM(6,zD)),e.Q6J("isHover",!1)("item",null!==(i=e.lcZ(1,4,t.api.getTask(t.hoveredTask,!0)))&&void 0!==i?i:void 0)}}var Xr=(()=>{return(n=Xr||(Xr={})).RANGE="RANGE",n.START="START",n.END="END",Xr;var n})();let QD=(()=>{class n{constructor(t,i,r,c){this.api=t,this.rt=i,this.router=r,this.confirmation=c,this.taskEvent=[],this.hoveredTask=0,this.subscriptionsHolder=new B.xf,this.eventMenuModel=[],this.currentCalendarRange={start:0,end:0},this.calendarOptions={initialView:"dayGridMonth",locale:"ru",aspectRatio:1.5,selectable:!0,nowIndicator:!0,slotEventOverlap:!1,plugins:[pk,Yk,uM,NM],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,listWeek,timeGridDay"},editable:!0,eventMouseEnter:this.openPreviewTaskPanel.bind(this),eventMouseLeave:this.hidePreviewTaskPanel.bind(this),eventDrop:this.scheduleMove.bind(this),eventResize:this.scheduleResizing.bind(this),eventClick:this.openContextOfTask.bind(this),select:this.openContextOfSelectDate.bind(this),datesSet:p=>{this.currentCalendarRange.start=p.start.getTime(),this.currentCalendarRange.end=p.end.getTime(),this.api.getScheduledTask(B.cQ.dateFormatTS(p.start),B.cQ.dateFormatTS(p.end)).pipe((0,L.U)(this.tasksToEvents.bind(this))).subscribe(C=>this.taskEvent=C)},firstDay:1,buttonText:{today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",month:"\u041c\u0435\u0441\u044f\u0446",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c"},allDayText:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c",weekText:"\u041d\u0435\u0434\u0435\u043b\u044f",moreLinkText:"\u0411\u043e\u043b\u044c\u0448\u0435",noEventsText:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442",navLinks:!0},this.scheduleType=Xr.RANGE}unscheduleTask(t){this.api.clearActualFromDate(t).subscribe(),this.api.clearActualToDate(t).subscribe()}ngOnInit(){this.subscriptionsHolder.addSubscription("updTsk",this.rt.taskUpdated().subscribe(this.updateCalendar.bind(this))),this.subscriptionsHolder.addSubscription("hidePv",(0,ju.R)(window,"mousedown").subscribe(this.hidePreviewTaskPanel.bind(this)))}ngOnDestroy(){this.subscriptionsHolder.unsubscribeAll()}openContextOfTask(t){this.eventMenuModel=[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-open_in_new",command:this.openTask.bind(this,t)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-event_busy",command:this.confirmUnschedulingTask.bind(this,t)}],setTimeout(()=>{var i;null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent)})}openContextOfSelectDate(t){this.eventMenuModel=[{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d",icon:"mdi-date_range",command:this.openSelectTaskDialog.bind(this,t,Xr.RANGE)},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-today",command:this.openSelectTaskDialog.bind(this,t,Xr.START)},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-free_cancellation",command:this.openSelectTaskDialog.bind(this,t,Xr.END)}],setTimeout(()=>{var i;t.jsEvent&&(null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent))})}confirmUnschedulingTask(t){if(!t.event.id)return;const i=parseInt(t.event.id);this.confirmation.confirm({header:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u0437 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f",message:`\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t.event.id}?`,accept:this.unscheduleTask.bind(this,i)})}openSelectTaskDialog(t,i){var r;this.scheduleType=i,this.scheduleDate=t,null===(r=this.scheduleTaskDialog)||void 0===r||r.open("single")}confirmScheduleTask(t){if(!this.scheduleDate)return;let i="";switch(this.scheduleType){case Xr.RANGE:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${B.cQ.dateFormatTS(this.scheduleDate.start)} \u043f\u043e ${B.cQ.dateFormatTS(this.scheduleDate.end)}`;break;case Xr.START:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${B.cQ.dateFormatTS(this.scheduleDate.start)}`;break;case Xr.END:i=`\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0434\u0430\u0447\u0438 #${t} \u043f\u043e ${B.cQ.dateFormatTS(this.scheduleDate.end)}`}this.confirmation.confirm({header:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",message:i,accept:this.scheduleTask.bind(this,t)})}scheduleTask(t){var i,r,c,p;if(this.scheduleDate)switch(this.scheduleType){case Xr.RANGE:this.api.changeTaskActualFrom(t,null===(i=this.scheduleDate)||void 0===i?void 0:i.start).subscribe(),this.api.changeTaskActualTo(t,null===(r=this.scheduleDate)||void 0===r?void 0:r.end).subscribe();break;case Xr.START:this.api.changeTaskActualFrom(t,null===(c=this.scheduleDate)||void 0===c?void 0:c.start).subscribe();break;case Xr.END:this.api.changeTaskActualTo(t,null===(p=this.scheduleDate)||void 0===p?void 0:p.end).subscribe()}}taskToEvent(t){var i,r,c,p,C;const E={id:t.taskId.toString(),title:(null===(i=t.modelWireframe)||void 0===i?void 0:i.name)+" #"+t.taskId,start:t.actualFrom,end:t.actualTo,backgroundColor:B.cQ.stringToColor(null!==(c=null===(r=t.modelWireframe)||void 0===r?void 0:r.name)&&void 0!==c?c:"",70,95,70,90),borderColor:B.cQ.stringToColor(null!==(C=null===(p=t.modelWireframe)||void 0===p?void 0:p.name)&&void 0!==C?C:"",80,100,30,80)};return t.actualFrom||(E.start=t.actualTo,E.borderColor="#ff0000"),E}tasksToEvents(t){return t.map(this.taskToEvent.bind(this))}openPreviewTaskPanel(t){var i;this.hideTimer&&clearTimeout(this.hideTimer),this.hoveredTask=parseInt(t.event.id),null===(i=this.taskPanel)||void 0===i||i.show(t.jsEvent,t.el)}hidePreviewTaskPanel(){this.hideTimer=setTimeout(()=>{var t;null===(t=this.taskPanel)||void 0===t||t.hide()})}scheduleMove(t){this.api.moveScheduledTask(parseInt(t.event.id),t.delta).subscribe()}scheduleResizing(t){console.log(t)}updateCalendar(t){let i=this.taskEvent.findIndex(p=>parseInt(p.id)===t.taskId),r=!1,c=!1;if(t.actualFrom){const p=new Date(t.actualFrom).getTime();r=this.currentCalendarRange.start<=p&&p<=this.currentCalendarRange.end,console.log(t,r,this.currentCalendarRange)}if(t.actualTo){const p=new Date(t.actualTo).getTime();c=this.currentCalendarRange.start<=p&&p<=this.currentCalendarRange.end}(r||c)&&-1!==i?(this.taskEvent[i]=this.taskToEvent(t),this.taskEvent=[...this.taskEvent]):(r||c)&&-1===i?this.taskEvent=[...this.taskEvent,this.taskToEvent(t)]:!r&&!c&&-1!==i&&(this.taskEvent.splice(i,1),this.taskEvent=[...this.taskEvent])}openTask(t){this.router.navigate(["/task",t.event.id]).then()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Zi.U),e.Y36(s.F0),e.Y36(j.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(BD,5),e.Gf(HD,5),e.Gf(VD,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.taskPanel=r.first),e.iGM(r=e.CRH())&&(i.eventMenu=r.first),e.iGM(r=e.CRH())&&(i.scheduleTaskDialog=r.first)}},decls:14,vars:5,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","gap10","stretched"],[4,"ngTemplateOutlet"],["calendar",""],["showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"dismissable"],["taskPanel",""],[3,"style","isHover","item",4,"ngIf"],["appendTo","body",3,"model"],["eventMenu",""],["header","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onlyMy","onSelected"],["scheduleTaskDialog",""],[1,"stretched"],[3,"events","options"],[3,"isHover","item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,ZD,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,UD,2,2,"ng-template",null,4,e.W1O),e.TgZ(7,"p-overlayPanel",5,6),e.YNc(9,GD,2,7,"app-task-list-element",7),e.qZA(),e._UZ(10,"p-contextMenu",8,9),e.TgZ(12,"app-task-selecting-dialog",10,11),e.NdJ("onSelected",function(c){return i.confirmScheduleTask(c)}),e.qZA()),2&t){const r=e.MAs(6);e.xp6(4),e.Q6J("ngTemplateOutlet",r),e.xp6(3),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",i.hoveredTask),e.xp6(1),e.Q6J("model",i.eventMenuModel),e.xp6(2),e.Q6J("onlyMy",!0)}},dependencies:[ht,at.E,Se,Ao,I.O5,I.tP,Ue.T,dD,o1,I.Ov]}),n})();const JD=function(){return[]};function jD(n,o){if(1&n&&(e._UZ(0,"p-dropdown",4),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw();let r;e.Q6J("formControlName",t.name)("options",null!==(r=e.lcZ(1,3,i.templates$))&&void 0!==r?r:e.DdM(5,JD))("placeholder",t.name)}}const WD=function(){return{}};function KD(n,o){if(1&n&&(e._UZ(0,"p-dropdown",7),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw().$implicit,r=e.oxw();let c;e.Q6J("formControlName",t)("options",r.fieldOfWireframe((null!==(c=e.lcZ(1,3,r.templateBinds$))&&void 0!==c?c:e.DdM(5,WD))[i.name]))("placeholder",t)}}function YD(n,o){if(1&n&&(e.TgZ(0,"fieldset",5)(1,"legend"),e._uU(2),e.qZA(),e.YNc(3,KD,2,6,"p-dropdown",6),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroupName",t.name),e.xp6(2),e.hij("\u0428\u0430\u0431\u043b\u043e\u043d: ",t.name,""),e.xp6(1),e.Q6J("ngForOf",t.fields)}}let $D=(()=>{class n{constructor(t){this.api=t,this.controls=[{name:"accident",fields:["description","address","login","phone","workReport"]},{name:"connection",fields:["address","login","phone","advertisingSource","fullName","password","takenFrom","techInfo","type"]},{name:"privateSectorRM",fields:["address","advertisingSource","name","phone","gardening"]},{name:"privateSectorVD",fields:["name","address","advertisingSource","phone","district"]}],this.selectionBindsMap={},this.templatesBindingsMap={},this.templates$=this.api.getWireframes(),this.templateLinkToBindsForm=new $.cw({accident:new $.NI(null),connection:new $.NI(null),privateSectorRM:new $.NI(null),privateSectorVD:new $.NI(null)}),this.bindingsForm=new $.cw({accident:new $.cw({description:new $.NI(""),address:new $.NI(""),login:new $.NI(""),phone:new $.NI(""),workReport:new $.NI(""),wireframe:new $.NI(null)}),connection:new $.cw({address:new $.NI(""),login:new $.NI(""),phone:new $.NI(""),advertisingSource:new $.NI(""),fullName:new $.NI(""),password:new $.NI(""),takenFrom:new $.NI(""),techInfo:new $.NI(""),type:new $.NI(""),wireframe:new $.NI(null)}),privateSectorRM:new $.cw({address:new $.NI(""),advertisingSource:new $.NI(""),name:new $.NI(""),phone:new $.NI(""),gardening:new $.NI(""),wireframe:new $.NI(null)}),privateSectorVD:new $.cw({name:new $.NI(""),address:new $.NI(""),advertisingSource:new $.NI(""),phone:new $.NI(""),district:new $.NI(""),wireframe:new $.NI(null)})}),this.templateBinds$=this.templateLinkToBindsForm.valueChanges.pipe((0,Uc.b)(i=>{const r={};Object.entries(i).forEach(c=>{r[c[0]]={},r[c[0]].wireframe=c[1]}),this.bindingsForm.patchValue(r)}),(0,L.U)(i=>Object.assign({},i))),this.onChange=i=>{},this.onTouched=()=>{}}get setOfFieldsForSelectingTemplates(){return Object.keys(this.controls)}bindEntries(t){return Object.keys(this.controls[t])}fieldOfWireframe(t){return t?t.steps.reduce((i,r)=>i.concat(r.fields),[]):[]}bindMapTrack(t,i){return i.key}ngOnInit(){this.bindingsForm.valueChanges.subscribe(t=>{console.log(t),this.onChange(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){t&&this.bindingsForm.patchValue(t)}changeTemplateSelection(t,i){this.selectionBindsMap[t]={binds:this.bindEntries(t),wireframe:i.value}}ngOnDestroy(){var t;null===(t=this.formSubscribtion)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tracker-bindings-input"]],features:[e._Bn([{provide:$.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:4,consts:[[1,"flexed","column","gap5",3,"formGroup"],[1,"node","flexed","gap5","column"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["class","node flexed gap5 column",3,"formGroupName",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder"],[1,"node","flexed","gap5","column",3,"formGroupName"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"fieldset",1)(2,"legend"),e._uU(3,"\u0412\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043f\u043e\u0434 \u0442\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,jD,2,6,"p-dropdown",2),e.qZA()(),e.TgZ(5,"div",0),e.ynx(6),e.YNc(7,YD,4,3,"fieldset",3),e.BQk(),e.qZA()),2&t&&(e.Q6J("formGroup",i.templateLinkToBindsForm),e.xp6(4),e.Q6J("ngForOf",i.controls),e.xp6(1),e.Q6J("formGroup",i.bindingsForm),e.xp6(2),e.Q6J("ngForOf",i.controls))},dependencies:[I.sg,$.JJ,$.JL,St.Lt,$.sg,$.u,$.x0,I.Ov]}),n})();var Za=_(5871);const qD=["scroller"];function XD(n,o){1&n&&e.GkF(0)}function e4(n,o){if(1&n&&(e.TgZ(0,"div",8),e.Hsn(1),e.YNc(2,XD,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function t4(n,o){1&n&&e.GkF(0)}const mx=function(n){return{height:n}},n4=function(n,o){return{$implicit:n,options:o}};function o4(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,t4,1,0,"ng-container",11),e.qZA()),2&n){const t=o.$implicit,i=o.options,r=e.oxw();e.Q6J("ngStyle",e.VKq(3,mx,r.itemSize+"px")),e.xp6(1),e.Q6J("ngTemplateOutlet",t?r.itemTemplate:r.loadingItemTemplate)("ngTemplateOutletContext",e.WLB(5,n4,t,i))}}function s4(n,o){1&n&&e.GkF(0)}function r4(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,1),e.YNc(2,s4,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const a4=[[["p-header"]],[["p-footer"]]],l4=["p-header","p-footer"];let c4=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.delay=250,this.onLazyLoad=new e.vpe}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"loadingItem":this.loadingItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}onLazyItemLoad(t){this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{this.onLazyLoad.emit(Object.assign(Object.assign({},t),{rows:t.last-t.first,forceUpdate:()=>this.cd.detectChanges()}))},this.delay)}getBlockableElement(){return this.el.nativeElement.children[0]}scrollToIndex(t,i){var r;null===(r=this.scroller)||void 0===r||r.scrollToIndex(t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-virtualScroller"]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,j.h4,5),e.Suo(r,j.$_,5),e.Suo(r,j.jx,4)),2&t){let c;e.iGM(c=e.CRH())&&(i.header=c.first),e.iGM(c=e.CRH())&&(i.footer=c.first),e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&e.Gf(qD,5),2&t){let r;e.iGM(r=e.CRH())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",itemSize:"itemSize",style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:"lazy",options:"options",delay:"delay"},outputs:{onLazyLoad:"onLazyLoad"},ngContentSelectors:l4,decls:8,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["content",""],["styleClass","p-virtualscroller-list",3,"items","itemSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","item"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(t,i){1&t&&(e.F$t(a4),e.TgZ(0,"div",0),e.YNc(1,e4,3,1,"div",1),e.TgZ(2,"div",2,3)(4,"p-scroller",4,5),e.NdJ("onLazyLoad",function(c){return i.onLazyItemLoad(c)}),e.YNc(6,o4,2,8,"ng-template",6),e.qZA()(),e.YNc(7,r4,3,1,"div",7),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-virtualscroller p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(3),e.Akn(e.VKq(12,mx,i.scrollHeight)),e.Q6J("items",i.value)("itemSize",i.itemSize)("lazy",i.lazy)("options",i.options),e.xp6(3),e.Q6J("ngIf",i.footer||i.footerTemplate))},dependencies:[I.mk,I.O5,I.tP,I.PC,j.jx,Za.T],encapsulation:2}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,j.m8,Za.v,j.m8,Za.v]}),n})();var Cx=_(8185);const u4=["vs"];function d4(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}function p4(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"elapsedTime"),e.ALo(3,"elapsedTime"),e.ALo(4,"elapsedTime"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq(" ",e.gM2(2,3,null==t.parserState?null:t.parserState.elapsedTime,"\u041f\u0440\u043e\u0448\u043b\u043e ","",!0)," / ",e.gM2(3,8,null==t.parserState?null:t.parserState.averageTimePerTask,"\u041d\u0430 \u0437\u0430\u0434\u0430\u0447\u0443 ","",!0)," / ",e.gM2(4,13,null==t.parserState?null:t.parserState.remainingTime,"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ","",!0)," ")}}function h4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.startParsing())}),e.qZA()}}function g4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.stopParsing())}),e.qZA()}}function f4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.currentCorrectingStreetAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctStreet(r.streetToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.streetToCorrect[0]),e.xp6(2),e.lnq("",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].streetRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].houseRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].address)}}function m4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.currentCorrectingHouseAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctHouse(r.houseToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.houseToCorrect[0]),e.xp6(2),e.lnq("",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].streetRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].houseRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].address)}}function _4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.currentCorrectingApartAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctApart(r.apartmentToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.apartmentToCorrect[0]),e.xp6(2),e.lnq("",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].streetRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].houseRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].address)}}let C4=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.settingsForm=new $.cw({startId:new $.NI(0,[$.kI.required]),endId:new $.NI(0,[$.kI.required]),trackerLogin:new $.NI("",[$.kI.required]),trackerPassword:new $.NI("",[$.kI.required]),trackerUrl:new $.NI("",[$.kI.required]),bindings:new $.NI({})}),this.messages=[],this.subscribes=new B.xf,this.currentCorrectingStreetAddress={},this.currentCorrectingHouseAddress={},this.currentCorrectingApartAddress={},this.listOfCorrectedStreets=[],this.listOfCorrectedHouses=[],this.listOfCorrectedApartments=[],this.streetToCorrect=[null,null],this.houseToCorrect=[null,null],this.apartmentToCorrect=[null,null]}get progress(){if(this.parserState){const{startId:t,endId:i}=this.parserState.settings,{currentTask:r}=this.parserState;if(r){const c=(r-t)/(i-t)*100;return c>100?100:parseFloat(c.toFixed(2))}}return 0}ngOnInit(){this.api.getTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this)),this.subscribes.addSubscription("updState",this.rt.updateTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this))),this.subscribes.addSubscription("updMessages",this.rt.parserMessageReceived().subscribe(t=>{this.messages=[...this.messages,t],this.vs&&this.vs.scrollToIndex(this.messages.length,"auto")})),this.settingsForm.valueChanges.subscribe(t=>console.log(t)),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}ngOnDestroy(){this.subscribes.unsubscribeAll()}submitSaveSettings(){this.api.saveTrackerParserSettings(this.settingsForm.getRawValue()).subscribe()}startParsing(){this.api.startTrackerParser().subscribe()}stopParsing(){this.api.stopTrackerParser().subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}messageClass(t){return"simple-message "+t.severity.toLowerCase()}correctStreet(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(Object.entries(this.addressCorrectingPool).forEach(i=>{const[r,c]=i;null==t[0]||null==t[1]||c.streetRaw===t[1].streetRaw&&(this.addressCorrectingPool&&(this.addressCorrectingPool[r].address.street=Object.assign({},this.currentCorrectingStreetAddress.street)),this.listOfCorrectedStreets=[...this.listOfCorrectedStreets,r])}),this.sendCorrectedAddress(),this.updateStreetToCorrect())}updateStreetToCorrect(){var t;this.addressCorrectingPool&&(this.streetToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[r,c]=i;return c.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(r)})[0])&&void 0!==t?t:[null,null])}updateHouseToCorrect(){var t;this.addressCorrectingPool&&(this.houseToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[r,c]=i;return c.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(r)})[0])&&void 0!==t?t:[null,null])}updateApartmentToCorrect(){var t;this.addressCorrectingPool&&(this.apartmentToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[r,c]=i;return c.types.includes("APART")&&!this.listOfCorrectedApartments.includes(r)})[0])&&void 0!==t?t:[null,null])}setCurrentTrackerParserState(t){this.parserState=t,this.settingsForm.setValue(t.settings)}correctHouse(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.houseNum=this.currentCorrectingHouseAddress.houseNum,this.addressCorrectingPool[t[0]].address.fraction=this.currentCorrectingHouseAddress.fraction,this.addressCorrectingPool[t[0]].address.build=this.currentCorrectingHouseAddress.build,this.addressCorrectingPool[t[0]].address.letter=this.currentCorrectingHouseAddress.letter,this.listOfCorrectedHouses=[...this.listOfCorrectedHouses,t[0]],this.sendCorrectedAddress(),this.updateHouseToCorrect())}correctApart(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.entrance=this.currentCorrectingApartAddress.entrance,this.addressCorrectingPool[t[0]].address.floor=this.currentCorrectingApartAddress.floor,this.addressCorrectingPool[t[0]].address.apartmentNum=this.currentCorrectingApartAddress.apartmentNum,this.addressCorrectingPool[t[0]].address.apartmentMod=this.currentCorrectingApartAddress.apartmentMod,this.listOfCorrectedApartments=[...this.listOfCorrectedApartments,t[0]],this.sendCorrectedAddress(),this.updateApartmentToCorrect())}gettingFullCorrectedAddress(){return this.addressCorrectingPool?Object.entries(this.addressCorrectingPool).filter(t=>{let i=!0,r=!0,c=!0;const[p,C]=t;return C.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(p)&&(i=!1),C.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(p)&&(r=!1),C.types.includes("APART")&&!this.listOfCorrectedApartments.includes(p)&&(c=!1),i&&r&&c}).reduce((t,i)=>{const[r,c]=i;return t[r]=c,t},{}):{}}sendCorrectedAddress(){const t=this.gettingFullCorrectedAddress();this.api.sendCorrectedAddress(t).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Zi.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(u4,5),2&t){let r;e.iGM(r=e.CRH())&&(i.vs=r.first)}},decls:24,vars:12,consts:[["appExtendPageHeight","",1,"flexed","gap10","p20"],[1,"flexed","column","gap10",3,"formGroup"],["formControlName","trackerUrl","pInputText","","placeholder","Url \u0422\u0440\u0435\u043a\u0435\u0440\u0430","type","text"],["formControlName","trackerLogin","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text"],["formControlName","trackerPassword","pInputText","","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","type","text"],["formControlName","startId","placeholder","\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 id"],["formControlName","endId","placeholder","\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 id"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","onClick"],["formControlName","bindings"],[1,"flexed","column","stretched","gap10"],[1,"console",3,"value","itemSize","scrollHeight"],["vs",""],["pTemplate","item"],[1,"flexed","gap10"],[1,"stretched","flexed","column","gap3","vcenter"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"full-width",3,"value"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick",4,"ngIf"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick",4,"ngIf"],["class","flexed column gap5",3,"width",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick"],[1,"flexed","column","gap5"],[1,"flexed","hcenter","vcenter","caption","size-big"],[1,"flexed","hcenter","vcenter","caption","size-small","wt-bold","f-color-primary"],[3,"ngModel","ngModelChange"],["label","\u041e\u0442\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"input",2)(3,"input",3)(4,"input",4)(5,"p-inputNumber",5)(6,"p-inputNumber",6),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){return i.submitSaveSettings()}),e.qZA(),e._UZ(8,"app-tracker-bindings-input",8),e.qZA(),e.TgZ(9,"div",9)(10,"p-virtualScroller",10,11),e.YNc(12,d4,2,3,"ng-template",12),e.qZA(),e.TgZ(13,"div",13)(14,"div",14),e.YNc(15,p4,5,18,"span",15),e._UZ(16,"p-progressBar",16),e.qZA(),e.TgZ(17,"span"),e.YNc(18,h4,1,0,"p-button",17),e.YNc(19,g4,1,0,"p-button",18),e.qZA()(),e.TgZ(20,"div",13),e.YNc(21,f4,7,7,"div",19),e.YNc(22,m4,7,7,"div",19),e.YNc(23,_4,7,7,"div",19),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.settingsForm),e.xp6(6),e.Q6J("disabled",!!i.parserState&&i.parserState.isRunning),e.xp6(3),e.Q6J("value",i.messages)("itemSize",29)("scrollHeight","715px"),e.xp6(5),e.Q6J("ngIf",null==i.parserState?null:i.parserState.remainingTime),e.xp6(1),e.Q6J("value",i.progress),e.xp6(2),e.Q6J("ngIf",i.parserState&&!i.parserState.isRunning),e.xp6(1),e.Q6J("ngIf",i.parserState&&i.parserState.isRunning),e.xp6(2),e.Q6J("ngIf",i.streetToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.houseToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.apartmentToCorrect[0]))},dependencies:[Se,Ft.Q,$D,$.Fj,$.JJ,$.JL,$.On,j.jx,$.sg,$.u,I.O5,Ii.zx,c4,Ye.o,ln.Rn,Cx.k,or.t],styles:[".console[_ngcontent-%COMP%]{border-radius:.3rem;border:1px solid var(--bgc-200)}"]}),n})();const v4=["messageListEl"];function b4(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}let y4=(()=>{class n{constructor(t,i){this.rt=t,this.api=i,this.messages=[]}ngOnInit(){this.subscription=this.rt.parserMessageReceived().subscribe(t=>{var i;this.messages.push(t),null!==(i=this.messageListEl)&&void 0!==i&&i.nativeElement&&(this.messageListEl.nativeElement.scrollTop=this.messageListEl.nativeElement.scrollHeight-this.messageListEl.nativeElement.clientHeight)})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}messageClass(t){return"simple-message "+t.severity.toLowerCase()}startParse(){this.api.startAddressParse().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Zi.U),e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(v4,5),2&t){let r;e.iGM(r=e.CRH())&&(i.messageListEl=r.first)}},decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flexed","column",3,"limited"],[1,"list-view","p20"],["messageListEl",""],[4,"ngFor","ngForOf"],[1,"flexed","vend","p10"],["styleClass","p-button-success","label","\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0430",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,b4,3,3,"div",3),e.qZA(),e.TgZ(4,"div",4)(5,"p-button",5),e.NdJ("onClick",function(){return i.startParse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(3),e.Q6J("ngForOf",i.messages))},dependencies:[Se,I.sg,Ii.zx]}),n})();const I4=function(n,o,t){return{"p-checkbox-label-active":n,"p-disabled":o,"p-checkbox-label-focus":t}};function A4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(),p=e.MAs(3);return e.KtG(c.onClick(r,p))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.kEZ(3,I4,null!=t.value,t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}const T4=function(n,o){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":o}},w4=function(n,o,t){return{"p-highlight":n,"p-disabled":o,"p-focus":t}},x4={provide:$.JU,useExisting:(0,e.Gpc)(()=>E4),multi:!0};let E4=(()=>{class n{constructor(t){this.cd=t,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(t,i){!this.disabled&&!this.readonly&&(this.toggle(t),this.focused=!0,i.focus())}onKeydown(t){32==t.keyCode&&t.preventDefault()}onKeyup(t){32==t.keyCode&&!this.readonly&&(this.toggle(t),t.preventDefault())}toggle(t){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}writeValue(t){this.value=t,this.cd.markForCheck()}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[e._Bn([x4])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("keyup",function(p){return i.onKeyup(p)})("keydown",function(p){return i.onKeydown(p)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(p){e.CHM(r);const C=e.MAs(3);return e.KtG(i.onClick(p,C))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,A4,2,7,"label",6)}2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.WLB(14,T4,i.disabled,i.focused)),e.xp6(2),e.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),e.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),e.xp6(2),e.Q6J("ngClass",e.kEZ(17,w4,null!=i.value,i.disabled,i.focused)),e.uIk("aria-checked",!0===i.value),e.xp6(1),e.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),e.xp6(1),e.Q6J("ngIf",i.label))},dependencies:[I.mk,I.O5,I.PC],encapsulation:2,changeDetection:0}),n})(),S4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez]}),n})();const k4=["container"],M4=["resizeHelper"],D4=["reorderIndicatorUp"],O4=["reorderIndicatorDown"],P4=["wrapper"],R4=["table"],L4=["thead"],N4=["tfoot"],F4=["scroller"];function B4(n,o){if(1&n&&(e.TgZ(0,"div",15),e._UZ(1,"i"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Tol("p-datatable-loading-icon pi-spin "+t.loadingIcon)}}function H4(n,o){1&n&&e.GkF(0)}function V4(n,o){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,H4,1,0,"ng-container",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.captionTemplate)}}function Z4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",18),e.NdJ("onPageChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onPageChange(r))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)}}function U4(n,o){1&n&&e.GkF(0)}const vx=function(n,o){return{$implicit:n,options:o}};function z4(n,o){if(1&n&&e.YNc(0,U4,1,0,"ng-container",22),2&n){const t=o.$implicit,i=o.options;e.oxw(2);const r=e.MAs(10);e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.WLB(2,vx,t,i))}}const G4=function(n){return{height:n}};function Q4(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-scroller",19,20),e.NdJ("onLazyLoad",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onLazyItemLoad(r))}),e.YNc(2,z4,1,5,"ng-template",21),e.qZA()}if(2&n){const t=e.oxw();e.Akn(e.VKq(14,G4,"flex"!==t.scrollHeight?t.scrollHeight:void 0)),e.Q6J("items",t.processedData)("columns",t.columns)("scrollHeight","flex"!==t.scrollHeight?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualRowHeight)("step",t.rows)("delay",t.lazy?t.virtualScrollDelay:0)("inline",!0)("lazy",t.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",t.loadingBodyTemplate)("options",t.virtualScrollOptions)}}function J4(n,o){1&n&&e.GkF(0)}const j4=function(n){return{columns:n}};function W4(n,o){if(1&n&&(e.ynx(0),e.YNc(1,J4,1,0,"ng-container",22),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(4,vx,t.processedData,e.VKq(2,j4,t.columns)))}}function K4(n,o){1&n&&e.GkF(0)}function Y4(n,o){1&n&&e.GkF(0)}function $4(n,o){if(1&n&&e._UZ(0,"tbody",31),2&n){const t=e.oxw().options,i=e.oxw();e.Q6J("value",i.frozenValue)("frozenRows",!0)("pTableBody",t.columns)("pTableBodyTemplate",i.frozenBodyTemplate)("frozen",!0)}}function q4(n,o){if(1&n&&e._UZ(0,"tbody",32),2&n){const t=e.oxw().options;e.Akn("height: calc("+t.spacerStyle.height+" - "+t.rows.length*t.itemSize+"px);")}}function X4(n,o){1&n&&e.GkF(0)}const Qg=function(n){return{$implicit:n}};function e2(n,o){if(1&n&&(e.TgZ(0,"tfoot",33,34),e.YNc(2,X4,1,0,"ng-container",22),e.qZA()),2&n){const t=e.oxw().options,i=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",i.footerGroupedTemplate||i.footerTemplate)("ngTemplateOutletContext",e.VKq(2,Qg,t.columns))}}const t2=function(n,o,t){return{"p-datatable-table":!0,"p-datatable-scrollable-table":n,"p-datatable-resizable-table":o,"p-datatable-resizable-table-fit":t}};function n2(n,o){if(1&n&&(e.TgZ(0,"table",23,24),e.YNc(2,K4,1,0,"ng-container",22),e.TgZ(3,"thead",25,26),e.YNc(5,Y4,1,0,"ng-container",22),e.qZA(),e.YNc(6,$4,1,5,"tbody",27),e._UZ(7,"tbody",28),e.YNc(8,q4,1,2,"tbody",29),e.YNc(9,e2,3,4,"tfoot",30),e.qZA()),2&n){const t=o.options,i=e.oxw();e.Akn(i.tableStyle),e.Tol(i.tableStyleClass),e.Q6J("ngClass",e.kEZ(20,t2,i.scrollable,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode)),e.uIk("id",i.id+"-table"),e.xp6(2),e.Q6J("ngTemplateOutlet",i.colGroupTemplate)("ngTemplateOutletContext",e.VKq(24,Qg,t.columns)),e.xp6(3),e.Q6J("ngTemplateOutlet",i.headerGroupedTemplate||i.headerTemplate)("ngTemplateOutletContext",e.VKq(26,Qg,t.columns)),e.xp6(1),e.Q6J("ngIf",i.frozenValue||i.frozenBodyTemplate),e.xp6(1),e.Akn(t.contentStyle),e.Q6J("ngClass",t.contentStyleClass)("value",i.dataToRender(t.rows))("pTableBody",t.columns)("pTableBodyTemplate",i.bodyTemplate)("scrollerOptions",t),e.xp6(1),e.Q6J("ngIf",t.spacerStyle),e.xp6(1),e.Q6J("ngIf",i.footerGroupedTemplate||i.footerTemplate)}}function o2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",35),e.NdJ("onPageChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onPageChange(r))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)}}function s2(n,o){1&n&&e.GkF(0)}function r2(n,o){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,s2,1,0,"ng-container",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.summaryTemplate)}}function a2(n,o){1&n&&e._UZ(0,"div",37,38)}function l2(n,o){1&n&&e._UZ(0,"span",39,40)}function c2(n,o){1&n&&e._UZ(0,"span",41,42)}const u2=function(n,o,t){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-scrollable":o,"p-datatable-flex-scrollable":t}},d2=function(n){return{maxHeight:n}},p2=["pTableBody",""];function h2(n,o){1&n&&e.GkF(0)}const s1=function(n,o,t,i,r){return{$implicit:n,rowIndex:o,columns:t,editing:i,frozen:r}};function g2(n,o){if(1&n&&(e.ynx(0,3),e.YNc(1,h2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",c.dt.groupHeaderTemplate)("ngTemplateOutletContext",e.qbA(2,s1,i,c.getRowIndex(r),c.columns,"row"===c.dt.editMode&&c.dt.isRowEditing(i),c.frozen))}}function f2(n,o){1&n&&e.GkF(0)}function m2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,f2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i?c.template:c.dt.loadingBodyTemplate)("ngTemplateOutletContext",e.qbA(2,s1,i,c.getRowIndex(r),c.columns,"row"===c.dt.editMode&&c.dt.isRowEditing(i),c.frozen))}}function _2(n,o){1&n&&e.GkF(0)}const C2=function(n,o,t,i,r,c,p){return{$implicit:n,rowIndex:o,columns:t,editing:i,frozen:r,rowgroup:c,rowspan:p}};function v2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,_2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i?c.template:c.dt.loadingBodyTemplate)("ngTemplateOutletContext",e.Hh0(2,C2,i,c.getRowIndex(r),c.columns,"row"===c.dt.editMode&&c.dt.isRowEditing(i),c.frozen,c.shouldRenderRowspan(c.value,i,r),c.calculateRowGroupSize(c.value,i,r)))}}function b2(n,o){1&n&&e.GkF(0)}function y2(n,o){if(1&n&&(e.ynx(0,3),e.YNc(1,b2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",c.dt.groupFooterTemplate)("ngTemplateOutletContext",e.qbA(2,s1,i,c.getRowIndex(r),c.columns,"row"===c.dt.editMode&&c.dt.isRowEditing(i),c.frozen))}}function I2(n,o){if(1&n&&(e.YNc(0,g2,2,8,"ng-container",2),e.YNc(1,m2,2,8,"ng-container",0),e.YNc(2,v2,2,10,"ng-container",0),e.YNc(3,y2,2,8,"ng-container",2)),2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.Q6J("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,t,i)),e.xp6(1),e.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),e.xp6(1),e.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),e.xp6(1),e.Q6J("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,t,i))}}function A2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,I2,4,4,"ng-template",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function T2(n,o){1&n&&e.GkF(0)}const p0=function(n,o,t,i,r,c){return{$implicit:n,rowIndex:o,columns:t,expanded:i,editing:r,frozen:c}};function w2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,T2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",c.template)("ngTemplateOutletContext",e.HTZ(2,p0,i,c.getRowIndex(r),c.columns,c.dt.isRowExpanded(i),"row"===c.dt.editMode&&c.dt.isRowEditing(i),c.frozen))}}function x2(n,o){1&n&&e.GkF(0)}function E2(n,o){if(1&n&&(e.ynx(0,3),e.YNc(1,x2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",c.dt.groupHeaderTemplate)("ngTemplateOutletContext",e.HTZ(2,p0,i,c.getRowIndex(r),c.columns,c.dt.isRowExpanded(i),"row"===c.dt.editMode&&c.dt.isRowEditing(i),c.frozen))}}function S2(n,o){1&n&&e.GkF(0)}function k2(n,o){1&n&&e.GkF(0)}function M2(n,o){if(1&n&&(e.ynx(0,3),e.YNc(1,k2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw(2),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",c.dt.groupFooterTemplate)("ngTemplateOutletContext",e.HTZ(2,p0,i,c.getRowIndex(r),c.columns,c.dt.isRowExpanded(i),"row"===c.dt.editMode&&c.dt.isRowEditing(i),c.frozen))}}const bx=function(n,o,t,i){return{$implicit:n,rowIndex:o,columns:t,frozen:i}};function D2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,S2,1,0,"ng-container",4),e.YNc(2,M2,2,9,"ng-container",2),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",c.dt.expandedRowTemplate)("ngTemplateOutletContext",e.l5B(3,bx,i,c.getRowIndex(r),c.columns,c.frozen)),e.xp6(1),e.Q6J("ngIf",c.dt.groupFooterTemplate&&"subheader"===c.dt.rowGroupMode&&c.shouldRenderRowGroupFooter(c.value,i,c.getRowIndex(r)))}}function O2(n,o){if(1&n&&(e.YNc(0,w2,2,9,"ng-container",0),e.YNc(1,E2,2,9,"ng-container",2),e.YNc(2,D2,3,8,"ng-container",0)),2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.Q6J("ngIf",!r.dt.groupHeaderTemplate),e.xp6(1),e.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,t,r.getRowIndex(i))),e.xp6(1),e.Q6J("ngIf",r.dt.isRowExpanded(t))}}function P2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,O2,3,3,"ng-template",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function R2(n,o){1&n&&e.GkF(0)}function L2(n,o){1&n&&e.GkF(0)}function N2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,L2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",c.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",e.l5B(2,bx,i,c.getRowIndex(r),c.columns,c.frozen))}}function F2(n,o){if(1&n&&(e.YNc(0,R2,1,0,"ng-container",4),e.YNc(1,N2,2,7,"ng-container",0)),2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",e.HTZ(3,p0,t,r.getRowIndex(i),r.columns,r.dt.isRowExpanded(t),"row"===r.dt.editMode&&r.dt.isRowEditing(t),r.frozen)),e.xp6(1),e.Q6J("ngIf",r.dt.isRowExpanded(t))}}function B2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,F2,2,10,"ng-template",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.value)("ngForTrackBy",t.dt.rowTrackBy)}}function H2(n,o){1&n&&e.GkF(0)}const yx=function(n,o){return{$implicit:n,frozen:o}};function V2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,H2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.dt.loadingBodyTemplate)("ngTemplateOutletContext",e.WLB(2,yx,t.columns,t.frozen))}}function Z2(n,o){1&n&&e.GkF(0)}function U2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Z2,1,0,"ng-container",4),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.dt.emptyMessageTemplate)("ngTemplateOutletContext",e.WLB(2,yx,t.columns,t.frozen))}}function z2(n,o){1&n&&e.GkF(0)}function G2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,z2,1,0,"ng-container",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.inputTemplate)}}function Q2(n,o){1&n&&e.GkF(0)}function J2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Q2,1,0,"ng-container",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.outputTemplate)}}let r1=(()=>{class n{constructor(){this.sortSource=new Pi.x,this.selectionSource=new Pi.x,this.contextMenuSource=new Pi.x,this.valueSource=new Pi.x,this.totalRecordsSource=new Pi.x,this.columnsSource=new Pi.x,this.resetSource=new Pi.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Jg=(()=>{class n{constructor(t,i,r,c,p,C){this.el=t,this.zone=i,this.tableService=r,this.cd=c,this.filterService=p,this.overlayService=C,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new e.vpe,this.selectionChange=new e.vpe,this.contextMenuSelectionChange=new e.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(E,ie)=>ie,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new e.vpe,this.onRowUnselect=new e.vpe,this.onPage=new e.vpe,this.onSort=new e.vpe,this.onFilter=new e.vpe,this.onLazyLoad=new e.vpe,this.onRowExpand=new e.vpe,this.onRowCollapse=new e.vpe,this.onContextMenuSelect=new e.vpe,this.onColResize=new e.vpe,this.onColReorder=new e.vpe,this.onRowReorder=new e.vpe,this.onEditInit=new e.vpe,this.onEditComplete=new e.vpe,this.onEditCancel=new e.vpe,this.onHeaderCheckboxToggle=new e.vpe,this.sortFunction=new e.vpe,this.firstChange=new e.vpe,this.rowsChange=new e.vpe,this.onStateSave=new e.vpe,this.onStateRestore=new e.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=(0,an.Th)()}get responsive(){return this._responsive}set responsive(t){this._responsive=t,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(t){this._virtualRowHeight=t,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"headergrouped":this.headerGroupedTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"footergrouped":this.footerGroupedTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"groupheader":this.groupHeaderTemplate=t.template;break;case"rowspan":this.rowspanTemplate=t.template;break;case"groupfooter":this.groupFooterTemplate=t.template;break;case"frozenrows":this.frozenRowsTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),t.sortField&&(this._sortField=t.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),t.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),t.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),t.selectAll&&(this._selectAll=t.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}get selectAll(){return this._selection}set selectAll(t){this._selection=t}get processedData(){return this.filteredValue||this.value||[]}dataToRender(t){const i=t||this.processedData;if(i&&this.paginator){const r=this.lazy?0:this.first;return i.slice(r,r+this.rows)}return i}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(an.gb.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(an.gb.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(t){let i=t.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===t.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,c=this.getSortMeta(t.field);c?r?c.order=-1*c.order:(this._multiSortMeta=[{field:t.field,order:-1*c.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let t=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(t&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:t,order:i}):(this.value.sort((c,p)=>{let C=an.gb.resolveFieldData(c,t),E=an.gb.resolveFieldData(p,t),ie=null;return ie=null==C&&null!=E?-1:null!=C&&null==E?1:null==C&&null==E?0:"string"==typeof C&&"string"==typeof E?C.localeCompare(E):C<E?-1:C>E?1:0,i*ie}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:t,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((t,i)=>this.multisortField(t,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,i,r,c){const p=an.gb.resolveFieldData(t,r[c].field),C=an.gb.resolveFieldData(i,r[c].field);return 0===an.gb.compare(p,C,this.filterLocale)?r.length-1>c?this.multisortField(t,i,r,c+1):0:this.compareValuesOnSort(p,C,r[c].order)}compareValuesOnSort(t,i,r){return an.gb.sort(t,i,r,this.filterLocale,this.sortOrder)}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===t)return this.multiSortMeta[i];return null}isSorted(t){if("single"===this.sortMode)return this.sortField&&this.sortField===t;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==t){i=!0;break}return i}}handleRowClick(t){let i=t.originalEvent.target,r=i.nodeName,c=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=c&&"BUTTON"!=c&&"A"!=c&&!zt.p.hasClass(t.originalEvent.target,"p-clickable")){if(this.selectionMode){let p=t.rowData,C=t.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&null!=this.anchorRowIndex)zt.p.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=C,this.selectRange(t.originalEvent,C);else{let E=this.isSelected(p);if(!E&&!this.isRowSelectable(p,C))return;let ie=!this.rowTouched&&this.metaKeySelection,ae=this.dataKey?String(an.gb.resolveFieldData(p,this.dataKey)):null;if(this.anchorRowIndex=C,this.rangeRowIndex=C,ie){let tt=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(E&&tt){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let rt=this.findIndexInSelection(p);this._selection=this.selection.filter((it,Pt)=>Pt!=rt),this.selectionChange.emit(this.selection),ae&&delete this.selectionKeys[ae]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:p,type:"row"})}else this.isSingleSelectionMode()?(this._selection=p,this.selectionChange.emit(p),ae&&(this.selectionKeys={},this.selectionKeys[ae]=1)):this.isMultipleSelectionMode()&&(tt?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,p],this.selectionChange.emit(this.selection),ae&&(this.selectionKeys[ae]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:p,type:"row",index:C})}else if("single"===this.selectionMode)E?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:p,type:"row",index:C})):(this._selection=p,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:p,type:"row",index:C}),ae&&(this.selectionKeys={},this.selectionKeys[ae]=1));else if("multiple"===this.selectionMode)if(E){let tt=this.findIndexInSelection(p);this._selection=this.selection.filter((rt,it)=>it!=tt),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:p,type:"row",index:C}),ae&&delete this.selectionKeys[ae]}else this._selection=this.selection?[...this.selection,p]:[p],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:p,type:"row",index:C}),ae&&(this.selectionKeys[ae]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){const i=t.rowData,r=t.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:i,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let c=this.isSelected(i),p=this.dataKey?String(an.gb.resolveFieldData(i,this.dataKey)):null;if(!c){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),p&&(this.selectionKeys={},this.selectionKeys[p]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),p&&(this.selectionKeys[p]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:i,index:t.rowIndex})}}}selectRange(t,i){let r,c;this.anchorRowIndex>i?(r=i,c=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,c=i):(r=i,c=i),this.lazy&&this.paginator&&(r-=this.first,c-=this.first);let p=[];for(let C=r;C<=c;C++){let E=this.filteredValue?this.filteredValue[C]:this.value[C];if(!this.isSelected(E)){if(!this.isRowSelectable(E,i))continue;p.push(E),this._selection=[...this.selection,E];let ie=this.dataKey?String(an.gb.resolveFieldData(E,this.dataKey)):null;ie&&(this.selectionKeys[ie]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:p,type:"row"})}clearSelectionRange(t){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let c=i;c<=r;c++){let p=this.value[c],C=this.findIndexInSelection(p);this._selection=this.selection.filter((ie,ae)=>ae!=C);let E=this.dataKey?String(an.gb.resolveFieldData(p,this.dataKey)):null;E&&delete this.selectionKeys[E],this.onRowUnselect.emit({originalEvent:t,data:p,type:"row"})}}isSelected(t){return!(!t||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[an.gb.resolveFieldData(t,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection))}findIndexInSelection(t){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(t,this.selection[r])){i=r;break}return i}isRowSelectable(t,i){return!(this.rowSelectable&&!this.rowSelectable({data:t,index:i}))}toggleRowWithRadio(t,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(an.gb.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,i){this.selection=this.selection||[];let r=this.isSelected(i),c=this.dataKey?String(an.gb.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let p=this.findIndexInSelection(i);this._selection=this.selection.filter((C,E)=>E!=p),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),c&&delete this.selectionKeys[c]}else{if(!this.isRowSelectable(i,t.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),c&&(this.selectionKeys[c]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:t,checked:i});else{const r=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let c=this.selectionPageOnly&&this._selection?this._selection.filter(p=>!r.some(C=>this.equals(p,C))):[];i&&(c=this.frozenValue?[...c,...this.frozenValue,...r]:[...c,...r],c=this.rowSelectable?c.filter((p,C)=>this.rowSelectable({data:p,index:C})):c),this._selection=c,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:i}),this.isStateful()&&this.saveState()}}equals(t,i){return"equals"===this.compareSelectionBy?t===i:an.gb.equals(t,i,this.dataKey)}filter(t,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:t,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,i){this.filter(t,"global",i)}isFilterBlank(t){return null==t||"string"==typeof t&&0==t.trim().length||t instanceof Array&&0==t.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let C,r=!0,c=!1,p=!1;for(let E in this.filters)if(this.filters.hasOwnProperty(E)&&"global"!==E){p=!0;let ie=E,ae=this.filters[ie];if(Array.isArray(ae)){for(let tt of ae)if(r=this.executeLocalFilter(ie,this.value[i],tt),tt.operator===j.pg.OR&&r||tt.operator===j.pg.AND&&!r)break}else r=this.executeLocalFilter(ie,this.value[i],ae);if(!r)break}if(this.filters.global&&!c&&t)for(let E=0;E<t.length&&(c=this.filterService.filters[this.filters.global.matchMode](an.gb.resolveFieldData(this.value[i],t[E].field||t[E]),this.filters.global.value,this.filterLocale),!c);E++);C=this.filters.global?p?p&&r&&c:c:p&&r,C&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(t,i,r){let c=r.value,p=r.matchMode||j.a6.STARTS_WITH,C=an.gb.resolveFieldData(i,t);return(0,this.filterService.filters[p])(C,c,this.filterLocale)}hasFilter(){let t=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(t){return t[this.exportHeader]||t.header||t.field}exportCSV(t){let i,r="",c=this.columns;t&&t.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let E=0;E<c.length;E++){let ie=c[E];!1!==ie.exportable&&ie.field&&(r+='"'+this.getExportHeader(ie)+'"',E<c.length-1&&(r+=this.csvSeparator))}i.forEach((E,ie)=>{r+="\n";for(let ae=0;ae<c.length;ae++){let tt=c[ae];if(!1!==tt.exportable&&tt.field){let rt=an.gb.resolveFieldData(E,tt.field);rt=null!=rt?this.exportFunction?this.exportFunction({data:rt,field:tt.field}):String(rt).replace(/"/g,'""'):"",r+='"'+rt+'"',ae<c.length-1&&(r+=this.csvSeparator)}}});let p=new Blob([r],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.style.display="none",document.body.appendChild(C),void 0!==C.download?(C.setAttribute("href",URL.createObjectURL(p)),C.setAttribute("download",this.exportFilename+".csv"),C.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(C)}onLazyItemLoad(t){this.onLazyLoad.emit(Object.assign(Object.assign(Object.assign({},this.createLazyLoadMetadata()),t),{rows:t.last-t.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.virtualScroll&&this.scroller.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}updateEditingCell(t,i,r,c){this.editingCell=t,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=c,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===zt.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=t=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(zt.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(t){let i=String(an.gb.resolveFieldData(t,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(t,i){if(0===zt.p.find(i,".ng-invalid.ng-dirty").length){let r=String(an.gb.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(t){let i=String(an.gb.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[i]}toggleRow(t,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(an.gb.resolveFieldData(t,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:t})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:t})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return!0===this.expandedRowKeys[String(an.gb.resolveFieldData(t,this.dataKey))]}isRowEditing(t){return!0===this.editingRowKeys[String(an.gb.resolveFieldData(t,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(t){let i=zt.p.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=t.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}onColumnResize(t){let i=zt.p.getOffset(this.containerViewChild.nativeElement).left;zt.p.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=t.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let t=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+t;if(r>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let C=this.resizeColumnElement.nextElementSibling.offsetWidth-t;r>15&&C>15&&this.resizeTableCells(r,C)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+t+"px"),this.resizeTableCells(r,null));this.onColResize.emit({element:this.resizeColumnElement,delta:t}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",zt.p.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(t,i){let r=zt.p.index(this.resizeColumnElement),c=[];const p=zt.p.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");zt.p.find(p,"tr > th").forEach(ie=>c.push(zt.p.getOuterWidth(ie))),this.destroyStyleElement(),this.createStyleElement();let E="";c.forEach((ie,ae)=>{let tt=ae===r?t:i&&ae===r+1?i:ie;E+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${ae+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${ae+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${ae+1}) {\n                    width: ${tt}px !important; max-width: ${tt}px !important;\n                }\n            `}),this.styleElement.innerHTML=E}onColumnDragStart(t,i){this.reorderIconWidth=zt.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=zt.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,i){if(this.reorderableColumns&&this.draggedColumn&&i){t.preventDefault();let r=zt.p.getOffset(this.containerViewChild.nativeElement),c=zt.p.getOffset(i);if(this.draggedColumn!=i){let p=zt.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),C=zt.p.indexWithinGroup(i,"preorderablecolumn"),E=c.left-r.left,ae=c.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=c.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=c.top-r.top+i.offsetHeight+"px",t.pageX>ae?(this.reorderIndicatorUpViewChild.nativeElement.style.left=E+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=E+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=E-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=E-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),C-p==1&&-1===this.dropPosition||C-p==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(t,i){if(t.preventDefault(),this.draggedColumn){let r=zt.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),c=zt.p.indexWithinGroup(i,"preorderablecolumn"),p=r!=c;p&&(c-r==1&&-1===this.dropPosition||r-c==1&&1===this.dropPosition)&&(p=!1),p&&c<r&&1===this.dropPosition&&(c+=1),p&&c>r&&-1===this.dropPosition&&(c-=1),p&&(an.gb.reorderArray(this.columns,r,c),this.onColReorder.emit({dragIndex:r,dropIndex:c,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(t,i){this.rowDragging=!0,this.draggedRowIndex=i,t.dataTransfer.setData("text","b")}onRowDragOver(t,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let c=zt.p.getOffset(r).top+zt.p.getWindowScrollTop(),p=t.pageY,C=c+zt.p.getOuterHeight(r)/2,E=r.previousElementSibling;p<C?(zt.p.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,E?zt.p.addClass(E,"p-datatable-dragpoint-bottom"):zt.p.addClass(r,"p-datatable-dragpoint-top")):(E?zt.p.removeClass(E,"p-datatable-dragpoint-bottom"):zt.p.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,zt.p.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(t,i){let r=i.previousElementSibling;r&&zt.p.removeClass(r,"p-datatable-dragpoint-bottom"),zt.p.removeClass(i,"p-datatable-dragpoint-bottom"),zt.p.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;an.gb.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(t,i),this.onRowDragEnd(t)}isEmpty(){let t=this.filteredValue||this.value;return null==t||0==t.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const t=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let p=JSON.parse(i,function(p,C){return"string"==typeof C&&r.test(C)?new Date(C):C});this.paginator&&(void 0!==this.first&&(this.first=p.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=p.rows,this.rowsChange.emit(this.rows))),p.sortField&&(this.restoringSort=!0,this._sortField=p.sortField,this._sortOrder=p.sortOrder),p.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=p.multiSortMeta),p.filters&&(this.restoringFilter=!0,this.filters=p.filters),this.resizableColumns&&(this.columnWidthsState=p.columnWidths,this.tableWidthState=p.tableWidth),p.expandedRowKeys&&(this.expandedRowKeys=p.expandedRowKeys),p.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(p.selection)),this.stateRestored=!0,this.onStateRestore.emit(p)}}saveColumnWidths(t){let i=[];zt.p.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(c=>i.push(zt.p.getOuterWidth(c))),t.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(t.tableWidth=zt.p.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(t){this.tableViewChild.nativeElement.style.width=t,this.tableViewChild.nativeElement.style.minWidth=t}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),an.gb.isNotEmpty(t)){this.createStyleElement();let i="";t.forEach((r,c)=>{i+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${c+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${c+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${c+1}) {\n                            width: ${r}px !important; max-width: ${r}px !important\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(t){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),t.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let c=JSON.parse(i).columnOrder;if(c){let p=[];c.map(C=>{let E=this.findColumnByKey(C);E&&p.push(E)}),this.columnOrderStateRestored=!0,this.columns=p}}}findColumnByKey(t){if(!this.columns)return null;for(let i of this.columns)if(i.key===t||i.field===t)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(r1),e.Y36(e.sBO),e.Y36(j.iZ),e.Y36(j.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,j.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(k4,5),e.Gf(M4,5),e.Gf(D4,5),e.Gf(O4,5),e.Gf(P4,5),e.Gf(R4,5),e.Gf(L4,5),e.Gf(N4,5),e.Gf(F4,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.containerViewChild=r.first),e.iGM(r=e.CRH())&&(i.resizeHelperViewChild=r.first),e.iGM(r=e.CRH())&&(i.reorderIndicatorUpViewChild=r.first),e.iGM(r=e.CRH())&&(i.reorderIndicatorDownViewChild=r.first),e.iGM(r=e.CRH())&&(i.wrapperViewChild=r.first),e.iGM(r=e.CRH())&&(i.tableViewChild=r.first),e.iGM(r=e.CRH())&&(i.tableHeaderViewChild=r.first),e.iGM(r=e.CRH())&&(i.tableFooterViewChild=r.first),e.iGM(r=e.CRH())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[e._Bn([r1]),e.TTD],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,B4,2,2,"div",2),e.YNc(3,V4,2,1,"div",3),e.YNc(4,Z4,1,17,"p-paginator",4),e.TgZ(5,"div",5,6),e.YNc(7,Q4,3,16,"p-scroller",7),e.YNc(8,W4,2,7,"ng-container",8),e.YNc(9,n2,10,28,"ng-template",null,9,e.W1O),e.qZA(),e.YNc(11,o2,1,17,"p-paginator",10),e.YNc(12,r2,2,1,"div",11),e.YNc(13,a2,2,0,"div",12),e.YNc(14,l2,2,0,"span",13),e.YNc(15,c2,2,0,"span",14),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.kEZ(16,u2,i.rowHover||i.selectionMode,i.scrollable,i.scrollable&&"flex"===i.scrollHeight)),e.uIk("id",i.id),e.xp6(2),e.Q6J("ngIf",i.loading&&i.showLoader),e.xp6(1),e.Q6J("ngIf",i.captionTemplate),e.xp6(1),e.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),e.xp6(1),e.Q6J("ngStyle",e.VKq(20,d2,i.virtualScroll?"":i.scrollHeight)),e.xp6(2),e.Q6J("ngIf",i.virtualScroll),e.xp6(1),e.Q6J("ngIf",!i.virtualScroll),e.xp6(3),e.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),e.xp6(1),e.Q6J("ngIf",i.summaryTemplate),e.xp6(1),e.Q6J("ngIf",i.resizableColumns),e.xp6(1),e.Q6J("ngIf",i.reorderableColumns),e.xp6(1),e.Q6J("ngIf",i.reorderableColumns))},dependencies:function(){return[I.mk,I.O5,I.tP,I.PC,Jo.D,j.jx,Za.T,fO]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),n})(),fO=(()=>{class n{constructor(t,i,r,c){this.dt=t,this.tableService=i,this.cd=r,this.el=c,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(t){this._value=t,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(t,i,r){let c=an.gb.resolveFieldData(i,this.dt.groupRowsBy),p=t[r-1];return!p||c!==an.gb.resolveFieldData(p,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(t,i,r){let c=an.gb.resolveFieldData(i,this.dt.groupRowsBy),p=t[r+1];return!p||c!==an.gb.resolveFieldData(p,this.dt.groupRowsBy)}shouldRenderRowspan(t,i,r){let c=an.gb.resolveFieldData(i,this.dt.groupRowsBy),p=t[r-1];return!p||c!==an.gb.resolveFieldData(p,this.dt.groupRowsBy)}calculateRowGroupSize(t,i,r){let c=an.gb.resolveFieldData(i,this.dt.groupRowsBy),p=c,C=0;for(;c===p;){C++;let E=t[++r];if(!E)break;p=an.gb.resolveFieldData(E,this.dt.groupRowsBy)}return 1===C?null:C}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=zt.p.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let t=zt.p.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=t+"px"}}getScrollerOption(t,i){return this.dt.virtualScroll&&(i=i||this.scrollerOptions)?i[t]:null}getRowIndex(t){const i=this.dt.paginator?this.dt.first+t:t,r=this.getScrollerOption("getItemOptions");return r?r(i).index:i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Jg),e.Y36(r1),e.Y36(e.sBO),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:p2,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.YNc(0,A2,2,2,"ng-container",0),e.YNc(1,P2,2,2,"ng-container",0),e.YNc(2,B2,2,2,"ng-container",0),e.YNc(3,V2,2,5,"ng-container",0),e.YNc(4,U2,2,5,"ng-container",0)),2&t&&(e.Q6J("ngIf",!i.dt.expandedRowTemplate),e.xp6(1),e.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),e.xp6(1),e.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),e.xp6(1),e.Q6J("ngIf",i.dt.loading),e.xp6(1),e.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},dependencies:[I.sg,I.O5,I.tP],encapsulation:2}),n})(),Ix=(()=>{class n{constructor(t,i,r){this.dt=t,this.el=i,this.zone=r}ngAfterViewInit(){this.isEnabled()&&zt.p.addClass(this.el.nativeElement,"p-editable-column")}onClick(t){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,t),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),zt.p.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let i=zt.p.findSingle(this.el.nativeElement,this.pFocusCellSelector||"input, textarea, select");i&&i.focus()},50)}),this.overlayEventListener=t=>{this.el&&this.el.nativeElement.contains(t.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(t,i){t?this.dt.onEditComplete.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:i,index:this.dt.editingCellRowIndex}):this.dt.onEditCancel.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:i,index:this.dt.editingCellRowIndex}),zt.p.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(t){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,t),t.preventDefault())}onTabKeyDown(t){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,t),t.preventDefault())}onEscapeKeyDown(t){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,t),t.preventDefault())}onShiftKeyDown(t){this.isEnabled()&&(t.shiftKey?this.moveToPreviousCell(t):this.moveToNextCell(t))}onArrowDown(t){if(this.isEnabled()){let i=this.findCell(t.target);if(i){let r=zt.p.index(i),c=this.findNextEditableColumnByIndex(i,r);c&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,t),zt.p.invokeElementMethod(t.target,"blur"),zt.p.invokeElementMethod(c,"click")),t.preventDefault()}}}onArrowUp(t){if(this.isEnabled()){let i=this.findCell(t.target);if(i){let r=zt.p.index(i),c=this.findPrevEditableColumnByIndex(i,r);c&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,t),zt.p.invokeElementMethod(t.target,"blur"),zt.p.invokeElementMethod(c,"click")),t.preventDefault()}}}onArrowLeft(t){this.isEnabled()&&this.moveToPreviousCell(t)}onArrowRight(t){this.isEnabled()&&this.moveToNextCell(t)}findCell(t){if(t){let i=t;for(;i&&!zt.p.hasClass(i,"p-cell-editing");)i=i.parentElement;return i}return null}moveToPreviousCell(t){let i=this.findCell(t.target);if(i){let r=this.findPreviousEditableColumn(i);r&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,t),zt.p.invokeElementMethod(t.target,"blur"),zt.p.invokeElementMethod(r,"click"),t.preventDefault())}}moveToNextCell(t){let i=this.findCell(t.target);if(i){let r=this.findNextEditableColumn(i);r&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,t),zt.p.invokeElementMethod(t.target,"blur"),zt.p.invokeElementMethod(r,"click"),t.preventDefault())}}findPreviousEditableColumn(t){let i=t.previousElementSibling;if(!i){let r=t.parentElement.previousElementSibling;r&&(i=r.lastElementChild)}return i?zt.p.hasClass(i,"p-editable-column")?i:this.findPreviousEditableColumn(i):null}findNextEditableColumn(t){let i=t.nextElementSibling;if(!i){let r=t.parentElement.nextElementSibling;r&&(i=r.firstElementChild)}return i?zt.p.hasClass(i,"p-editable-column")?i:this.findNextEditableColumn(i):null}findNextEditableColumnByIndex(t,i){let r=t.parentElement.nextElementSibling;if(r){let c=r.children[i];return c&&zt.p.hasClass(c,"p-editable-column")?c:null}return null}findPrevEditableColumnByIndex(t,i){let r=t.parentElement.previousElementSibling;if(r){let c=r.children[i];return c&&zt.p.hasClass(c,"p-editable-column")?c:null}return null}isEnabled(){return!0!==this.pEditableColumnDisabled}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Jg),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,i){1&t&&e.NdJ("click",function(c){return i.onClick(c)})("keydown.enter",function(c){return i.onEnterKeyDown(c)})("keydown.tab",function(c){return i.onShiftKeyDown(c)})("keydown.escape",function(c){return i.onEscapeKeyDown(c)})("keydown.shift.tab",function(c){return i.onShiftKeyDown(c)})("keydown.meta.tab",function(c){return i.onShiftKeyDown(c)})("keydown.arrowdown",function(c){return i.onArrowDown(c)})("keydown.arrowup",function(c){return i.onArrowUp(c)})("keydown.arrowleft",function(c){return i.onArrowLeft(c)})("keydown.arrowright",function(c){return i.onArrowRight(c)})},inputs:{data:["pEditableColumn","data"],field:["pEditableColumnField","field"],rowIndex:["pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:"pEditableColumnDisabled",pFocusCellSelector:"pFocusCellSelector"}}),n})(),mO=(()=>{class n{constructor(t){this.el=t}isEnabled(){return!0!==this.pEditableRowDisabled}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:["pEditableRow","data"],pEditableRowDisabled:"pEditableRowDisabled"}}),n})(),_O=(()=>{class n{constructor(t,i,r){this.dt=t,this.editableColumn=i,this.editableRow=r}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"input":this.inputTemplate=t.template;break;case"output":this.outputTemplate=t.template}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&"row"===this.dt.editMode&&this.dt.isRowEditing(this.editableRow.data)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Jg),e.Y36(Ix,8),e.Y36(mO,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-cellEditor"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,j.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(t,i){1&t&&(e.YNc(0,G2,2,1,"ng-container",0),e.YNc(1,J2,2,1,"ng-container",0)),2&t&&(e.Q6J("ngIf",i.editing),e.xp6(1),e.Q6J("ngIf",!i.editing))},dependencies:[I.O5,I.tP],encapsulation:2}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Jo.U,Ye.j,St.kW,$.u5,Ii.hJ,hn.Qy,To._8,ln.L$,S4,Za.v,j.m8,Za.v]}),n})();function vO(n,o){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function bO(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,vO,2,1,"th",17),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function yO(n,o){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function IO(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,yO,2,1,"td",18),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}let AO=(()=>{class n{constructor(t){this.api=t,this.filtrationForm=new $.cw({date:new $.NI(new Date),position:new $.NI(null)}),this.subscriptions=new B.xf,this.mainTableColumns=[],this.tableRow=[],this.salaryRows=[],this.positions=[],this.tableLoadHandler={next:i=>{this.salaryRows=i;for(const r of i){const c=[r.employee.fullName];for(let p=0;p<this.numberDaysOfMonth;p++){const C=r.salaryPoints.filter(E=>new Date(E.date).getDate()===p+1);c.push(C.length>0?C.reduce((E,ie)=>E+ie.value,0).toString():"0")}c.push(r.sum.toString()),this.tableRow.push(c)}},error:()=>{}},this.filtrationHandler={next:i=>{this.mainTableColumns=["\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"];for(let r=0;r<this.numberDaysOfMonth;r++)this.mainTableColumns.push((r+1).toString());this.tableRow=[],this.mainTableColumns.push("\u0421\u0443\u043c\u043c\u0430"),this.api.getSalaryTable(this.filtrationForm.value).subscribe(this.tableLoadHandler)},error:()=>{}},this.positionsLoadHandler={next:i=>{this.positions=i.map(r=>({value:r.positionId,label:r.name})),this.filtrationForm.patchValue({position:this.positions[0].value})},error:()=>{}}}get numberDaysOfMonth(){return this.filtrationForm.value.date?new Date(this.filtrationForm.value.date.getFullYear(),this.filtrationForm.value.date.getMonth()+1,0).getDate():0}get totalSalary(){return this.salaryRows.reduce((t,i)=>t+i.sum,0)}ngOnInit(){this.api.getPositions().subscribe(this.positionsLoadHandler),this.subscriptions.addSubscription("flCh",this.filtrationForm.valueChanges.subscribe(this.filtrationHandler))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:24,vars:6,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"flexed","gap10"],[1,"flexed","column","gap15","stretched"],[1,"flexed","column","panel","overflow"],[1,"flexed","gap10","p5",3,"formGroup"],[1,"p-inputgroup","w-max"],[1,"p-inputgroup-addon"],[1,"mdi-calendar_month"],["view","month","inputStyleClass","border-noround-left","appendTo","body","dateFormat","MM yy","formControlName","date",3,"readonlyInput"],[1,"flexed","gap5","hcenter"],[1,"caption","wt-black","f-color-500","size-small","with-icon"],[1,"mdi-group"],["formControlName","position","placeholder","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",3,"options"],[3,"columns","value"],["pTemplate","header"],["pTemplate","body"],[1,"flexed","gap5","vend","caption","size-big","wt-tiny","p10"],[4,"ngFor","ngForOf"],["class","caption f-inline",4,"ngFor","ngForOf"],[1,"caption","f-inline"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"span",6),e._UZ(8,"i",7),e.qZA(),e._UZ(9,"p-calendar",8),e.qZA(),e.TgZ(10,"div",9)(11,"span",10),e._UZ(12,"i",11),e.TgZ(13,"span"),e._uU(14,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA()(),e._UZ(15,"p-dropdown",12),e.qZA()(),e.TgZ(16,"p-table",13),e.YNc(17,bO,2,1,"ng-template",14),e.YNc(18,IO,2,1,"ng-template",15),e.qZA(),e.TgZ(19,"div",16)(20,"span"),e._uU(21,"\u0418\u0442\u043e\u0433:"),e.qZA(),e.TgZ(22,"span"),e._uU(23),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.filtrationForm),e.xp6(4),e.Q6J("readonlyInput",!0),e.xp6(6),e.Q6J("options",i.positions),e.xp6(1),e.Q6J("columns",i.mainTableColumns)("value",i.tableRow),e.xp6(7),e.hij("",i.totalSalary," \u0440\u0443\u0431."))},dependencies:[ht,Se,$.JJ,$.JL,j.jx,I.sg,$.sg,$.u,St.Lt,To.f,Jg]}),n})();var TO=_(9841);let a1=(()=>{class n{transform(t){switch(t){case We.b9.AMOUNT:return"\u0448\u0442.";case We.b9.METRES:return"\u043c.";case We.b9.KILOGRAMS:return"\u043a\u0433."}return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"unitName",type:n,pure:!0}),n})();function wO(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," (\u0443\u0434\u0430\u043b\u0435\u043d) "),e.qZA())}function xO(n,o){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function EO(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," \u0411\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f "),e.qZA())}function SO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.openCreationDialog(r))}),e.qZA(),e.TgZ(2,"p-button",32),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.deletePaidAction(r.paidActionId))}),e.qZA()()}}function kO(n,o){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"span",19)(3,"span"),e._uU(4),e.qZA(),e.YNc(5,wO,2,0,"span",20),e.qZA(),e.YNc(6,xO,2,1,"span",21),e.YNc(7,EO,2,0,"span",20),e.qZA(),e.YNc(8,SO,3,0,"div",22),e.TgZ(9,"div",23)(10,"span",24),e._uU(11),e.ALo(12,"currency"),e.ALo(13,"unitName"),e.qZA(),e._UZ(14,"app-employee-label",25)(15,"div",26),e.TgZ(16,"span",27),e._uU(17),e.ALo(18,"date"),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(3),e.AsE(" ",e.xi3(12,9,t.cost,"RUB"),"/",e.lcZ(13,12,t.unit)," "),e.xp6(3),e.Q6J("employee",t.creator),e.xp6(3),e.hij(" ",e.xi3(18,14,t.created,"dd MMMM yyyy HH:mm")," ")}}function MO(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,kO,19,17,"div",16),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",null==t.paidActionsPage?null:t.paidActionsPage.content)("ngForTrackBy",t.trackByPaidAction)}}function DO(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"p-progressSpinner",34),e.qZA(),e.BQk())}function OO(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function PO(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",37),e._UZ(2,"span",38),e.TgZ(3,"span"),e._uU(4,"\u041f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function RO(n,o){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"unitName"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" \u0411\u0435\u0437 \u041d\u0414\u0424\u041b: ",e.xi3(2,2,t.withoutNDFL,"RUB"),"/",e.lcZ(3,5,t.createForm.value.unit)," ")}}function LO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",49),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function NO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",50),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.editPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function FO(n,o){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"input",40)(2,"textarea",41)(3,"p-inputNumber",42)(4,"p-dropdown",43),e.TgZ(5,"div",44),e.YNc(6,RO,4,7,"span",45),e._UZ(7,"div",26),e.YNc(8,LO,1,3,"p-button",46),e.YNc(9,NO,1,3,"p-button",47),e.qZA()()),2&n){const t=e.oxw();e.Udp("margin-top",".2rem"),e.Q6J("formGroup",t.createForm),e.xp6(1),e.Udp("max-width","15rem"),e.xp6(1),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("maxFractionDigits",1),e.xp6(1),e.Q6J("options",t.typeOptions),e.xp6(1),e.Q6J("ngSwitch",t.createDialogMode),e.xp6(1),e.Q6J("ngIf",t.withoutNDFL>0&&t.createForm.value.unit),e.xp6(2),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}const BO=function(){return{grid:"1fr min-content/1fr",marginBottom:"1rem"}};let HO=(()=>{class n{constructor(t,i,r,c,p){this.api=t,this.rt=i,this.route=r,this.router=c,this.confirm=p,this.loadingState=We.Gu.LOADING,this.subscriptions=new B.xf,this.filterForm=new $.cw({nameQuery:new $.NI(""),includeDeleted:new $.NI(!1)}),this.page=0,this.createDialogVisible=!1,this.createDialogMode="create",this.createForm=new $.cw({name:new $.NI("",[$.kI.required]),description:new $.NI(""),cost:new $.NI(0,[$.kI.required]),unit:new $.NI("",[$.kI.required])}),this.typeOptions=[{label:"\u0417\u0430 \u0448\u0442\u0443\u043a\u0443",value:We.b9.AMOUNT},{label:"\u0417\u0430 \u043c\u0435\u0442\u0440",value:We.b9.METRES},{label:"\u0417\u0430 \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c",value:We.b9.KILOGRAMS}],this.beginCreate=!1}get withoutNDFL(){return this.createForm.value.cost?Math.round(this.createForm.value.cost-.13*this.createForm.value.cost):0}unitName(t){switch(t){case We.b9.AMOUNT:return"\u0448\u0442.";case We.b9.METRES:return"\u043c\u0435\u0442\u0440";case We.b9.KILOGRAMS:return"\u043a\u0433."}}get createDialogHeader(){return"create"===this.createDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}trackByPaidAction(t,i){return i.paidActionId+i.name+i.description+i.cost+i.unit}ngOnInit(){this.filterForm.valueChanges.pipe((0,Ke.b)(1e3),(0,_t.x)()).pipe((0,L.U)(r=>{let c={includeDeleted:r.includeDeleted};return r.nameQuery&&(c.nameQuery=r.nameQuery),this.page=0,c})).subscribe(r=>{this.router.navigate(["."],{relativeTo:this.route,queryParams:r}).then()});const t=this.route.params.pipe((0,_t.x)()),i=this.route.queryParams.pipe((0,_t.x)());(0,TO.a)([t,i]).subscribe(([r,c])=>{var p;this.loadingState=We.Gu.LOADING,this.filterForm.patchValue({nameQuery:null!==(p=c.nameQuery)&&void 0!==p?p:"",includeDeleted:"true"===c.includeDeleted}),this.api.getPageOfPaidActions(r.page-1,c).subscribe({next:C=>{this.loadingState=C.totalElements>0?We.Gu.READY:We.Gu.EMPTY,this.paidActionsPage=C},error:()=>this.loadingState=We.Gu.ERROR,complete:()=>{this.page=r.page||0}})}),this.subscriptions.addSubscription("paCr",this.rt.paidActionCreated().subscribe(r=>{var c,p,C;null!==(c=this.paidActionsPage)&&void 0!==c&&c.content.find(ie=>ie.identifier===r.identifier)||(null===(p=this.paidActionsPage)||void 0===p||p.content.unshift(r),this.paidActionsPage&&this.paidActionsPage.content.length>25&&(null===(C=this.paidActionsPage)||void 0===C||C.content.pop()))})),this.subscriptions.addSubscription("paEd",this.rt.paidActionUpdated().subscribe(r=>{if(!this.paidActionsPage)return;const c=this.paidActionsPage.content.findIndex(p=>p.identifier===r.identifier);-1!==c&&(this.paidActionsPage.content[c]=r)})),this.subscriptions.addSubscription("paDe",this.rt.paidActionDeleted().subscribe(r=>{if(!this.paidActionsPage)return;const c=this.paidActionsPage.content.findIndex(p=>p.identifier===r.identifier);-1!==c&&(this.paidActionsPage.content.splice(c,1),this.paidActionsPage.totalElements--)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}changePage(t){this.router.navigate(["/salary","paid-actions",t+1],{queryParamsHandling:"merge"})}openCreationDialog(t){var i;this.createForm.reset(),this.createDialogMode=t?"edit":"create",this.editingPaidActionId=null==t?void 0:t.paidActionId,t&&this.createForm.setValue({name:t.name,description:null!==(i=t.description)&&void 0!==i?i:"",cost:t.cost,unit:t.unit}),this.createDialogVisible=!0}createPaidAction(){this.createForm.valid&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.createPaidAction(this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}editPaidAction(){this.createForm.valid&&this.editingPaidActionId&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.editPaidAction(this.editingPaidActionId,this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}deletePaidAction(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",accept:()=>{this.api.deletePaidAction(t).subscribe()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Zi.U),e.Y36(s.gz),e.Y36(s.F0),e.Y36(j.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:19,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"grided","gap10","stretched"],[1,"flexed","gap10","panel","p10","vcenter",3,"formGroup"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["formControlName","nameQuery","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","includeDeleted","offIcon","mdi-visibility","offLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onIcon","mdi-visibility_off","onLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"grided","panel","p10",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange"],["appendTo","body",3,"visible","draggable","header","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column"],["class","flexed p10 gap10 h-fit split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","p10","gap10","h-fit","split-line"],[1,"flexed","column","stretched"],[1,"caption","size-big","flexed","hcenter","gap3"],["class","caption size-small f-color-500",4,"ngIf"],["class","caption size-small",4,"ngIf"],["class","flexed column gap5",4,"ngIf"],[1,"flexed","column","gap5","vend","hstart"],[1,"caption"],[3,"employee"],[1,"stretched"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","f-color-500"],[1,"caption","size-small"],[1,"flexed","column","gap5"],["icon","mdi-edit","styleClass","p-button-warning p-button-icon p-button-outlined",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-outlined",3,"onClick"],[1,"grided","vcenter","hcenter"],["strokeWidth","1",1,"primary-spinner"],[1,"caption","size-big","wt-bold","f-color-danger","grided","vcenter","hcenter"],[1,"mds-error"],[1,"caption","size-big","wt-bold","f-color-500","grided","vcenter","hcenter"],[1,"mds-search_off"],[1,"grided","gap10",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...",3,"autoResize","cols","rows"],["currency","RUB","formControlName","cost","locale","ru-RU","mode","currency","placeholder","\u0421\u0443\u043c\u043c\u0430...",3,"maxFractionDigits"],["appendTo","body","formControlName","unit","placeholder","\u0422\u0438\u043f",3,"options"],[1,"flexed","hcenter",3,"ngSwitch"],["class","caption size-big f-color-500",4,"ngIf"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],[1,"caption","size-big","f-color-500"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4)(6,"span",5),e._UZ(7,"i",6),e.qZA(),e._UZ(8,"input",7),e.qZA(),e._UZ(9,"p-toggleButton",8),e.TgZ(10,"p-button",9),e.NdJ("onClick",function(){return i.openCreationDialog()}),e.qZA()(),e.TgZ(11,"div",10),e.YNc(12,MO,3,2,"ng-container",11),e.YNc(13,DO,3,0,"ng-container",11),e.YNc(14,OO,5,0,"ng-container",11),e.YNc(15,PO,5,0,"ng-container",11),e.TgZ(16,"p-paginator",12),e.NdJ("onPageChange",function(c){return i.changePage(c.page)}),e.qZA()()()()(),e.TgZ(17,"p-dialog",13),e.NdJ("visibleChange",function(c){return i.createDialogVisible=c}),e.YNc(18,FO,10,14,"ng-template",14),e.qZA()),2&t){let r;e.xp6(3),e.Udp("grid","min-content 1fr/1fr"),e.xp6(1),e.Q6J("formGroup",i.filterForm),e.xp6(7),e.Akn(e.DdM(18,BO)),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("first",25*(i.page-1))("rows",25)("totalRecords",null!==(r=null==i.paidActionsPage?null:i.paidActionsPage.totalElements)&&void 0!==r?r:0),e.xp6(1),e.Q6J("visible",i.createDialogVisible)("draggable",!1)("header",i.createDialogHeader)("modal",!0)("resizable",!1)}},dependencies:[ht,Se,wi.x,$.Fj,$.JJ,$.JL,j.jx,I.sg,ki.V,$.sg,$.u,St.Lt,Zr,I.O5,Ur.g,Ii.zx,I.RF,I.n9,Ye.o,X.G,Jo.D,ln.Rn,I.uU,a1,I.H9]}),n})();const Ax=function(n){return{"p-treenode-droppoint-active":n}};function VO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPoint(r,-1))})("dragover",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragOver(r))})("dragenter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragEnter(r,-1))})("dragleave",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragLeave(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,Ax,t.draghoverPrev))}}const ZO=function(n){return{"p-checkbox-disabled":n}},UO=function(n,o){return{"p-highlight":n,"p-indeterminate":o}},zO=function(n,o){return{"pi-check":n,"pi-minus":o}};function GO(n,o){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._UZ(2,"span",15),e.qZA()()),2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,ZO,!1===t.node.selectable)),e.uIk("aria-checked",t.isSelected()),e.xp6(1),e.Q6J("ngClass",e.WLB(6,UO,t.isSelected(),t.node.partialSelected)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,zO,t.isSelected(),t.node.partialSelected))}}function QO(n,o){if(1&n&&e._UZ(0,"span"),2&n){const t=e.oxw(3);e.Tol(t.getIcon())}}function JO(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.node.label)}}function jO(n,o){1&n&&e.GkF(0)}const Tx=function(n){return{$implicit:n}};function WO(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,jO,1,0,"ng-container",16),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,Tx,t.node))}}function KO(n,o){if(1&n&&e._UZ(0,"p-treeNode",19),2&n){const t=o.$implicit,i=o.first,r=o.last,c=o.index,p=e.oxw(4);e.Q6J("node",t)("parentNode",p.node)("firstChild",i)("lastChild",r)("index",c)("itemSize",p.itemSize)("level",p.level+1)}}function YO(n,o){if(1&n&&(e.TgZ(0,"ul",17),e.YNc(1,KO,1,7,"p-treeNode",18),e.qZA()),2&n){const t=e.oxw(3);e.Udp("display",t.node.expanded?"block":"none"),e.xp6(1),e.Q6J("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}const $O=function(n,o){return["p-treenode",n,o]},wx=function(n){return{height:n}},qO=function(n,o,t){return{"p-treenode-selectable":n,"p-treenode-dragover":o,"p-highlight":t}},XO=function(n,o){return{"pi-chevron-right":n,"pi-chevron-down":o}};function e3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",5)(1,"div",6),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeClick(r))})("contextmenu",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeRightClick(r))})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onNodeTouchEnd())})("drop",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropNode(r))})("dragover",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropNodeDragOver(r))})("dragenter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropNodeDragEnter(r))})("dragleave",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropNodeDragLeave(r))})("dragstart",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDragStart(r))})("dragend",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDragStop(r))})("keydown",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onKeyDown(r))}),e.TgZ(2,"button",7),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggle(r))}),e._UZ(3,"span",8),e.qZA(),e.YNc(4,GO,3,12,"div",9),e.YNc(5,QO,1,2,"span",3),e.TgZ(6,"span",10),e.YNc(7,JO,2,1,"span",11),e.YNc(8,WO,2,4,"span",11),e.qZA()(),e.YNc(9,YO,2,4,"ul",12),e.qZA()}if(2&n){const t=e.oxw(2);e.Akn(t.node.style),e.Q6J("ngClass",e.WLB(20,$O,t.node.styleClass||"",t.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.VKq(23,wx,t.itemSize+"px")),e.xp6(1),e.Udp("padding-left",t.level*t.indentation+"rem"),e.Q6J("draggable",t.tree.draggableNodes)("ngClass",e.kEZ(25,qO,t.tree.selectionMode&&!1!==t.node.selectable,t.draghoverNode,t.isSelected())),e.uIk("tabindex",0)("aria-posinset",t.index+1)("aria-expanded",t.node.expanded)("aria-selected",t.isSelected())("aria-label",t.node.label),e.xp6(1),e.uIk("aria-label",t.tree.togglerAriaLabel),e.xp6(1),e.Q6J("ngClass",e.WLB(29,XO,!t.node.expanded,t.node.expanded)),e.xp6(1),e.Q6J("ngIf","checkbox"==t.tree.selectionMode),e.xp6(1),e.Q6J("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.tree.virtualScroll&&t.node.children&&t.node.expanded)}}function t3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPoint(r,1))})("dragover",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragOver(r))})("dragenter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragEnter(r,1))})("dragleave",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragLeave(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,Ax,t.draghoverNext))}}const xx=function(n){return{"p-treenode-connector-line":n}};function n3(n,o){if(1&n&&(e.TgZ(0,"td",25)(1,"table",26)(2,"tbody")(3,"tr"),e._UZ(4,"td",27),e.qZA(),e.TgZ(5,"tr"),e._UZ(6,"td",27),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngClass",e.VKq(2,xx,!t.firstChild)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,xx,!t.lastChild))}}const o3=function(n,o){return{"pi-plus":n,"pi-minus":o}};function s3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",28),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.toggle(r))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.WLB(2,o3,!t.node.expanded,t.node.expanded)),e.uIk("aria-label",t.tree.togglerAriaLabel)}}function r3(n,o){if(1&n&&e._UZ(0,"span"),2&n){const t=e.oxw(3);e.Tol(t.getIcon())}}function a3(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.node.label)}}function l3(n,o){1&n&&e.GkF(0)}function c3(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,l3,1,0,"ng-container",16),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,Tx,t.node))}}function u3(n,o){if(1&n&&e._UZ(0,"p-treeNode",32),2&n){const i=o.first,r=o.last;e.Q6J("node",o.$implicit)("firstChild",i)("lastChild",r)}}function d3(n,o){if(1&n&&(e.TgZ(0,"td",29)(1,"div",30),e.YNc(2,u3,1,3,"p-treeNode",31),e.qZA()()),2&n){const t=e.oxw(3);e.Udp("display",t.node.expanded?"table-cell":"none"),e.xp6(2),e.Q6J("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}const p3=function(n){return{"p-treenode-collapsed":n}},h3=function(n,o){return{"p-treenode-selectable":n,"p-highlight":o}};function g3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"table")(1,"tbody")(2,"tr"),e.YNc(3,n3,7,6,"td",20),e.TgZ(4,"td",21)(5,"div",22),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeClick(r))})("contextmenu",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeRightClick(r))})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onNodeTouchEnd())})("keydown",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeKeydown(r))}),e.YNc(6,s3,1,5,"span",23),e.YNc(7,r3,1,2,"span",3),e.TgZ(8,"span",10),e.YNc(9,a3,2,1,"span",11),e.YNc(10,c3,2,4,"span",11),e.qZA()()(),e.YNc(11,d3,3,4,"td",24),e.qZA()()()}if(2&n){const t=e.oxw(2);e.Tol(t.node.styleClass),e.xp6(3),e.Q6J("ngIf",!t.root),e.xp6(1),e.Q6J("ngClass",e.VKq(10,p3,!t.node.expanded)),e.xp6(1),e.Q6J("ngClass",e.WLB(12,h3,t.tree.selectionMode,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.isLeaf()),e.xp6(1),e.Q6J("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.expanded)}}function f3(n,o){if(1&n&&(e.YNc(0,VO,1,3,"li",1),e.YNc(1,e3,10,32,"li",2),e.YNc(2,t3,1,3,"li",1),e.YNc(3,g3,12,15,"table",3)),2&n){const t=e.oxw();e.Q6J("ngIf",t.tree.droppableNodes),e.xp6(1),e.Q6J("ngIf",!t.tree.horizontal),e.xp6(1),e.Q6J("ngIf",t.tree.droppableNodes&&t.lastChild),e.xp6(1),e.Q6J("ngIf",t.tree.horizontal)}}const m3=["filter"],_3=["scroller"],C3=["wrapper"];function v3(n,o){if(1&n&&(e.TgZ(0,"div",9),e._UZ(1,"i"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function b3(n,o){1&n&&e.GkF(0)}function y3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"input",11,12),e.NdJ("keydown.enter",function(r){return r.preventDefault()})("input",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c._filter(r.target.value))}),e.qZA(),e._UZ(3,"span",13),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.uIk("placeholder",t.filterPlaceholder)}}function I3(n,o){if(1&n&&e._UZ(0,"p-treeNode",20),2&n){const t=o.$implicit,i=o.first,r=o.last,c=o.index,p=e.oxw(2).options,C=e.oxw(3);e.Q6J("level",t.level)("rowNode",t)("node",t.node)("firstChild",i)("lastChild",r)("index",C.getIndex(p,c))("itemSize",p.itemSize)("indentation",C.indentation)}}function A3(n,o){if(1&n&&(e.TgZ(0,"ul",18),e.YNc(1,I3,1,8,"p-treeNode",19),e.qZA()),2&n){const t=e.oxw(),i=t.options,r=t.$implicit,c=e.oxw(3);e.Akn(i.contentStyle),e.Q6J("ngClass",i.contentStyleClass),e.uIk("aria-label",c.ariaLabel)("aria-labelledby",c.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",r)("ngForTrackBy",c.trackBy)}}function T3(n,o){1&n&&e.YNc(0,A3,2,7,"ul",17),2&n&&e.Q6J("ngIf",o.$implicit)}function w3(n,o){1&n&&e.GkF(0)}const x3=function(n){return{options:n}};function E3(n,o){if(1&n&&e.YNc(0,w3,1,0,"ng-container",22),2&n){const t=o.options,i=e.oxw(4);e.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,x3,t))}}function S3(n,o){1&n&&(e.ynx(0),e.YNc(1,E3,1,4,"ng-template",21),e.BQk())}function k3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-scroller",14,15),e.NdJ("onScroll",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onScroll.emit(r))})("onScrollIndexChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onScrollIndexChange.emit(r))})("onLazyLoad",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onLazyLoad.emit(r))}),e.YNc(2,T3,1,1,"ng-template",16),e.YNc(3,S3,2,0,"ng-container",7),e.qZA()}if(2&n){const t=e.oxw(2);e.Akn(e.VKq(7,wx,t.scrollHeight)),e.Q6J("items",t.serializedValue)("itemSize",t.virtualScrollItemSize||t._virtualNodeHeight)("lazy",t.lazy)("options",t.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",t.loaderTemplate)}}function M3(n,o){if(1&n&&e._UZ(0,"p-treeNode",28),2&n){const i=o.first,r=o.last,c=o.index;e.Q6J("node",o.$implicit)("firstChild",i)("lastChild",r)("index",c)("level",0)}}function D3(n,o){if(1&n&&(e.TgZ(0,"ul",26),e.YNc(1,M3,1,5,"p-treeNode",27),e.qZA()),2&n){const t=e.oxw(3);e.uIk("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",t.getRootNode())("ngForTrackBy",t.trackBy)}}function O3(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",23,24),e.YNc(3,D3,2,4,"ul",25),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("max-height",t.scrollHeight),e.xp6(2),e.Q6J("ngIf",t.getRootNode())}}function P3(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function R3(n,o){1&n&&e.GkF(0,null,31)}function L3(n,o){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,P3,2,1,"ng-container",30),e.YNc(2,R3,2,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function N3(n,o){1&n&&e.GkF(0)}const F3=function(n,o,t,i){return{"p-tree p-component":!0,"p-tree-selectable":n,"p-treenode-dragover":o,"p-tree-loading":t,"p-tree-flex-scrollable":i}};function B3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("drop",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onDrop(r))})("dragover",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onDragOver(r))})("dragenter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onDragEnter())})("dragleave",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onDragLeave(r))}),e.YNc(1,v3,2,2,"div",3),e.YNc(2,b3,1,0,"ng-container",4),e.YNc(3,y3,4,1,"div",5),e.YNc(4,k3,4,9,"p-scroller",6),e.YNc(5,O3,4,3,"ng-container",7),e.YNc(6,L3,3,3,"div",8),e.YNc(7,N3,1,0,"ng-container",4),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.l5B(11,F3,t.selectionMode,t.dragHover,t.loading,"flex"===t.scrollHeight))("ngStyle",t.style),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(1),e.Q6J("ngIf",t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.loading&&(null==t.getRootNode()||0===t.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}function H3(n,o){1&n&&e.GkF(0)}function V3(n,o){if(1&n&&(e.TgZ(0,"div",34),e._UZ(1,"i"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function Z3(n,o){if(1&n&&(e.TgZ(0,"table"),e._UZ(1,"p-treeNode",35),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("node",t.value[0])("root",!0)}}function U3(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function z3(n,o){1&n&&e.GkF(0,null,31)}function G3(n,o){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,U3,2,1,"ng-container",30),e.YNc(2,z3,2,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function Q3(n,o){1&n&&e.GkF(0)}const J3=function(n){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":n}};function j3(n,o){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,H3,1,0,"ng-container",4),e.YNc(2,V3,2,2,"div",33),e.YNc(3,Z3,2,2,"table",7),e.YNc(4,G3,3,3,"div",8),e.YNc(5,Q3,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.VKq(9,J3,t.selectionMode))("ngStyle",t.style),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",t.value&&t.value[0]),e.xp6(1),e.Q6J("ngIf",!t.loading&&(null==t.getRootNode()||0===t.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}let W3=(()=>{class n{constructor(t){this.tree=t}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let t;return t=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,n.ICON_CLASS+" "+t}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(t){this.node.expanded?this.collapse(t):this.expand(t)}expand(t){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:t,node:this.node})}collapse(t){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:t,node:this.node})}onNodeClick(t){this.tree.onNodeClick(t,this.node)}onNodeKeydown(t){13===t.which&&this.tree.onNodeClick(t,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(t){this.tree.onNodeRightClick(t,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(t,i){t.preventDefault();let r=this.tree.dragNode,C=this.tree.dragNodeTree!==this.tree||1===i||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(r,this.node,this.tree.dragNodeScope)&&C){let E=Object.assign({},this.createDropPointEventMetadata(i));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:r,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(E)}}):(this.processPointDrop(E),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:r,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(t){let i=t.dropNode.parent?t.dropNode.parent.children:this.tree.value;t.dragNodeSubNodes.splice(t.dragNodeIndex,1);let r=this.index;t.position<0?(r=t.dragNodeSubNodes===i?t.dragNodeIndex>t.index?t.index:t.index-1:t.index,i.splice(r,0,t.dragNode)):(r=i.length,i.push(t.dragNode)),this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:t.dragNodeIndex})}createDropPointEventMetadata(t){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:t}}onDropPointDragOver(t){t.dataTransfer.dropEffect="move",t.preventDefault()}onDropPointDragEnter(t,i){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(i<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(t){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(t){this.tree.draggableNodes&&!1!==this.node.draggable?(t.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):t.preventDefault()}onDragStop(t){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(t){t.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(t.preventDefault(),t.stopPropagation())}onDropNode(t){if(this.tree.droppableNodes&&!1!==this.node.droppable){let i=this.tree.dragNode;if(this.tree.allowDrop(i,this.node,this.tree.dragNodeScope)){let r=Object.assign({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(r)}}):(this.processNodeDrop(r),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:this.node,index:this.index}))}}t.preventDefault(),t.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(t){let i=t.dragNodeIndex;t.dragNodeSubNodes.splice(i,1),t.dropNode.children?t.dropNode.children.push(t.dragNode):t.dropNode.children=[t.dragNode],this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:i})}onDropNodeDragEnter(t){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(t){if(this.tree.droppableNodes){let i=t.currentTarget.getBoundingClientRect();(t.x>i.left+i.width||t.x<i.left||t.y>=Math.floor(i.top+i.height)||t.y<i.top)&&(this.draghoverNode=!1)}}onKeyDown(t){const i=t.target.parentElement.parentElement;if(!("P-TREENODE"!==i.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild.nativeElement.style.display))switch(t.which){case 40:const r=this.tree.droppableNodes?i.children[1].children[1]:i.children[0].children[1];if(r&&r.children.length>0)this.focusNode(r.children[0]);else{const c=i.nextElementSibling;if(c)this.focusNode(c);else{let p=this.findNextSiblingOfAncestor(i);p&&this.focusNode(p)}}t.preventDefault();break;case 38:if(i.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(i.previousElementSibling));else{let c=this.getParentNodeElement(i);c&&this.focusNode(c)}t.preventDefault();break;case 39:!this.node.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(t),t.preventDefault();break;case 37:if(this.node.expanded)this.collapse(t);else{let c=this.getParentNodeElement(i);c&&this.focusNode(c)}t.preventDefault();break;case 13:this.tree.onNodeClick(t,this.node),t.preventDefault()}}findNextSiblingOfAncestor(t){let i=this.getParentNodeElement(t);return i?i.nextElementSibling?i.nextElementSibling:this.findNextSiblingOfAncestor(i):null}findLastVisibleDescendant(t){const r=Array.from(t.children).find(c=>zt.p.hasClass(c,"p-treenode")).children[1];return r&&r.children.length>0?this.findLastVisibleDescendant(r.children[r.children.length-1]):t}getParentNodeElement(t){const i=t.parentElement.parentElement.parentElement;return"P-TREENODE"===i.tagName?i:null}focusNode(t){this.tree.droppableNodes?t.children[1].children[0].focus():t.children[0].children[0].focus()}}return n.ICON_CLASS="p-treenode-icon ",n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>l1)))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation",itemSize:"itemSize"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","style",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass","ngStyle"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[1,"p-tree-toggler-icon","pi","pi-fw",3,"ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],[4,"ngIf"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon","pi",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],["class","p-tree-toggler pi pi-fw",3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[1,"p-tree-toggler","pi","pi-fw",3,"ngClass","click"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(t,i){1&t&&e.YNc(0,f3,4,4,"ng-template",0),2&t&&e.Q6J("ngIf",i.node)},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC,D.H,n],encapsulation:2}),n})(),l1=(()=>{class n{constructor(t,i,r){this.el=t,this.dragDropService=i,this.config=r,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="",this.filterBy="label",this.filterMode="lenient",this.lazy=!1,this.indentation=1.5,this.trackBy=(c,p)=>p,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.onNodeContextMenuSelect=new e.vpe,this.onNodeDrop=new e.vpe,this.onLazyLoad=new e.vpe,this.onScroll=new e.vpe,this.onScrollIndexChange=new e.vpe,this.onFilter=new e.vpe}get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(t){this._virtualNodeHeight=t,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(t=>{this.dragNodeTree=t.tree,this.dragNode=t.node,this.dragNodeSubNodes=t.subNodes,this.dragNodeIndex=t.index,this.dragNodeScope=t.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(t=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(t){t.value&&this.updateSerializedValue()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(j.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;default:this._templateMap[t.name]=t.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(t,i,r,c){if(i&&i.length)for(let p of i){p.parent=t;const C={node:p,parent:t,level:r,visible:c&&(!t||t.expanded)};this.serializedValue.push(C),C.visible&&p.expanded&&this.serializeNodes(p,p.children,r+1,C.visible)}}onNodeClick(t,i){let r=t.target;if(!zt.p.hasClass(r,"p-tree-toggler")&&!zt.p.hasClass(r,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===i.selectable||this.hasFilteredNodes()&&!(i=this.getNodeWithKey(i.key,this.value)))return;let c=this.findIndexInSelection(i),p=c>=0;if(this.isCheckboxSelectionMode())p?(this.propagateSelectionDown?this.propagateDown(i,!1):this.selection=this.selection.filter((C,E)=>E!=c),this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.propagateSelectionDown?this.propagateDown(i,!0):this.selection=[...this.selection||[],i],this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t,node:i}));else if(!this.nodeTouched&&this.metaKeySelection){let E=t.metaKey||t.ctrlKey;p&&E?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((ie,ae)=>ae!=c),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.isMultipleSelectionMode()&&(this.selection=E&&this.selection||[],this.selection=[...this.selection,i],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:t,node:i}))}else this.isSingleSelectionMode()?p?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=i,this.onNodeSelect.emit({originalEvent:t,node:i})):p?(this.selection=this.selection.filter((E,ie)=>ie!=c),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=[...this.selection||[],i],this.onNodeSelect.emit({originalEvent:t,node:i})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(t,i){if(this.contextMenu){let r=t.target;if(r.className&&0===r.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(i)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.selectionChange.emit([i])),this.contextMenu.show(t),this.onNodeContextMenuSelect.emit({originalEvent:t,node:i})}}findIndexInSelection(t){let i=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())i=this.selection.key&&this.selection.key===t.key||this.selection==t?0:-1;else for(let r=0;r<this.selection.length;r++){let c=this.selection[r];if(c.key&&c.key===t.key||c==t){i=r;break}}return i}syncNodeOption(t,i,r,c){const p=this.hasFilteredNodes()?this.getNodeWithKey(t.key,i):null;p&&(p[r]=c||t[r])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(t,i){for(let r of i){if(r.key===t)return r;if(r.children){let c=this.getNodeWithKey(t,r.children);if(c)return c}}}propagateUp(t,i){if(t.children&&t.children.length){let c=0,p=!1;for(let C of t.children)this.isSelected(C)?c++:C.partialSelected&&(p=!0);if(i&&c==t.children.length)this.selection=[...this.selection||[],t],t.partialSelected=!1;else{if(!i){let C=this.findIndexInSelection(t);C>=0&&(this.selection=this.selection.filter((E,ie)=>ie!=C))}t.partialSelected=!!(p||c>0&&c!=t.children.length)}this.syncNodeOption(t,this.filteredNodes,"partialSelected")}let r=t.parent;r&&this.propagateUp(r,i)}propagateDown(t,i){let r=this.findIndexInSelection(t);if(i&&-1==r?this.selection=[...this.selection||[],t]:!i&&r>-1&&(this.selection=this.selection.filter((c,p)=>p!=r)),t.partialSelected=!1,this.syncNodeOption(t,this.filteredNodes,"partialSelected"),t.children&&t.children.length)for(let c of t.children)this.propagateDown(c,i)}isSelected(t){return-1!=this.findIndexInSelection(t)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(t){return 0!=t.leaf&&!(t.children&&t.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(t){return this._templateMap?t.type?this._templateMap[t.type]:this._templateMap.default:null}onDragOver(t){this.droppableNodes&&(!this.value||0===this.value.length)&&(t.dataTransfer.dropEffect="move",t.preventDefault())}onDrop(t){if(this.droppableNodes&&(!this.value||0===this.value.length)){t.preventDefault();let i=this.dragNode;if(this.allowDrop(i,null,this.dragNodeScope)){let r=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:null,index:r,accept:()=>{this.processTreeDrop(i,r)}}):(this.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:null,index:r}),this.processTreeDrop(i,r))}}}processTreeDrop(t,i){this.dragNodeSubNodes.splice(i,1),this.value.push(t),this.dragDropService.stopDrag({node:t})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(t){if(this.droppableNodes){let i=t.currentTarget.getBoundingClientRect();(t.x>i.left+i.width||t.x<i.left||t.y>i.top+i.height||t.y<i.top)&&(this.dragHover=!1)}}allowDrop(t,i,r){if(t){if(this.isValidDragScope(r)){let c=!0;if(i)if(t===i)c=!1;else{let p=i.parent;for(;null!=p;){if(p===t){c=!1;break}p=p.parent}}return c}return!1}return!1}isValidDragScope(t){let i=this.droppableScope;if(i){if("string"==typeof i){if("string"==typeof t)return i===t;if(t instanceof Array)return-1!=t.indexOf(i)}else if(i instanceof Array){if("string"==typeof t)return-1!=i.indexOf(t);if(t instanceof Array)for(let r of i)for(let c of t)if(r===c)return!0}return!1}return!0}_filter(t){let i=t;if(""===i)this.filteredNodes=null;else{this.filteredNodes=[];const r=this.filterBy.split(","),c=an.gb.removeAccents(i).toLocaleLowerCase(this.filterLocale),p="strict"===this.filterMode;for(let C of this.value){let E=Object.assign({},C),ie={searchFields:r,filterText:c,isStrictMode:p};(p&&(this.findFilteredNodes(E,ie)||this.isFilterMatched(E,ie))||!p&&(this.isFilterMatched(E,ie)||this.findFilteredNodes(E,ie)))&&this.filteredNodes.push(E)}}this.updateSerializedValue(),this.onFilter.emit({filter:i,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(t){this.virtualScroll&&this.scroller.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}findFilteredNodes(t,i){if(t){let r=!1;if(t.children){let c=[...t.children];t.children=[];for(let p of c){let C=Object.assign({},p);this.isFilterMatched(C,i)&&(r=!0,t.children.push(C))}}if(r)return t.expanded=!0,!0}}isFilterMatched(t,{searchFields:i,filterText:r,isStrictMode:c}){let p=!1;for(let C of i)an.gb.removeAccents(String(an.gb.resolveFieldData(t,C))).toLocaleLowerCase(this.filterLocale).indexOf(r)>-1&&(p=!0);return(!p||c&&!this.isNodeLeaf(t))&&(p=this.findFilteredNodes(t,{searchFields:i,filterText:r,isStrictMode:c})||p),p}getIndex(t,i){const r=t.getItemOptions;return r?r(i).index:i}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(j.Y,8),e.Y36(j.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-tree"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,j.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(m3,5),e.Gf(_3,5),e.Gf(C3,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.filterViewChild=r.first),e.iGM(r=e.CRH())&&(i.scroller=r.first),e.iGM(r=e.CRH())&&(i.wrapperViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",indentation:"indentation",_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],["styleClass","p-tree-wrapper",3,"items","style","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[1,"p-tree-filter-icon","pi","pi-search"],["styleClass","p-tree-wrapper",3,"items","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad"],["scroller",""],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper"],["wrapper",""],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(t,i){1&t&&(e.YNc(0,B3,8,16,"div",0),e.YNc(1,j3,6,11,"div",1)),2&t&&(e.Q6J("ngIf",!i.horizontal),e.xp6(1),e.Q6J("ngIf",i.horizontal))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC,j.jx,Za.T,W3],styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}\n"],encapsulation:2}),n})(),K3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,j.m8,D.T,Za.v,j.m8,Za.v]}),n})();var Y3=_(2529),$3=_(2035),q3=_(7272),X3=_(5032),Ex=_(9718);function Sx(n,o){return o?t=>(0,q3.z)(o.pipe((0,Zc.q)(1),function eP(){return(0,Wu.e)((n,o)=>{n.subscribe(new Ku.Q(o,X3.Z))})}()),t.pipe(Sx(n))):(0,Ki.z)((t,i)=>n(t,i).pipe((0,Zc.q)(1),(0,Ex.h)(t)))}function kx(n,o=q0.z){const t=(0,Of.H)(n,o);return Sx(()=>t)}var nP=_(599);let iP=(()=>{class n{constructor(t){this.elementRef=t}ngOnInit(){const t=this.elementRef.nativeElement,i=(0,xf.F)(100).pipe((0,Y3.o)(()=>t.scrollWidth>t.scrollLeft+t.clientWidth),(0,Uc.b)(()=>{let r=Math.floor((t.scrollWidth-t.clientWidth)/15);r<1&&(r=1),t.scrollBy({left:r})}),(0,$3.h)(1));this.subscription=(0,Ap.of)(null).pipe(kx(1e3),function tP(n){return(0,Wu.e)((o,t)=>{let i=!1,r=0;o.subscribe(new Ku.Q(t,c=>(i||(i=!n(c,r++)))&&t.next(c)))})}(()=>t.scrollWidth<=t.clientWidth),(0,Ip.w)(()=>i),kx(1e3),(0,Uc.b)(()=>t.scrollTo({left:0})),(0,nP.r)()).subscribe()}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTicker",""]]}),n})();function oP(n,o){if(1&n&&e._UZ(0,"span",10),2&n){const t=e.oxw(3);e.Q6J("ngClass",t.home.icon||"pi pi-home")("ngStyle",t.home.iconStyle)}}function sP(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(t.home.label)}}function rP(n,o){if(1&n&&e._UZ(0,"span",14),2&n){const t=e.oxw(4);e.Q6J("innerHTML",t.home.label,e.oJD)}}function aP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,sP,2,1,"span",11),e.YNc(2,rP,1,1,"ng-template",null,12,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==i.home.escape)("ngIfElse",t)}}function lP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.itemClick(r,c.home))}),e.YNc(1,oP,1,2,"span",8),e.YNc(2,aP,4,2,"ng-container",9),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("href",t.home.url?t.home.url:null,e.LSH)("target",t.home.target),e.uIk("aria-label",t.homeAriaLabel)("title",t.home.title)("id",t.home.id)("tabindex",t.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",t.home.icon),e.xp6(1),e.Q6J("ngIf",t.home.label)}}function cP(n,o){if(1&n&&e._UZ(0,"span",10),2&n){const t=e.oxw(3);e.Q6J("ngClass",t.home.icon||"pi pi-home")("ngStyle",t.home.iconStyle)}}function uP(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(t.home.label)}}function dP(n,o){if(1&n&&e._UZ(0,"span",14),2&n){const t=e.oxw(4);e.Q6J("innerHTML",t.home.label,e.oJD)}}function pP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,uP,2,1,"span",11),e.YNc(2,dP,1,1,"ng-template",null,16,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==i.home.escape)("ngIfElse",t)}}const Mx=function(){return{exact:!1}};function hP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.itemClick(r,c.home))}),e.YNc(1,cP,1,2,"span",8),e.YNc(2,pP,4,2,"ng-container",9),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("routerLink",t.home.routerLink)("queryParams",t.home.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",t.home.routerLinkActiveOptions||e.DdM(17,Mx))("target",t.home.target)("fragment",t.home.fragment)("queryParamsHandling",t.home.queryParamsHandling)("preserveFragment",t.home.preserveFragment)("skipLocationChange",t.home.skipLocationChange)("replaceUrl",t.home.replaceUrl)("state",t.home.state),e.uIk("aria-label",t.homeAriaLabel)("title",t.home.title)("id",t.home.id)("tabindex",t.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",t.home.icon),e.xp6(1),e.Q6J("ngIf",t.home.label)}}const gP=function(n){return{"p-breadcrumb-home":!0,"p-disabled":n}};function fP(n,o){if(1&n&&(e.TgZ(0,"li",4),e.YNc(1,lP,3,8,"a",5),e.YNc(2,hP,3,18,"a",6),e.qZA()),2&n){const t=e.oxw();e.Tol(t.home.styleClass),e.Q6J("ngClass",e.VKq(7,gP,t.home.disabled))("ngStyle",t.home.style)("tooltipOptions",t.home.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!t.home.routerLink),e.xp6(1),e.Q6J("ngIf",t.home.routerLink)}}function mP(n,o){1&n&&e._UZ(0,"li",17)}function _P(n,o){if(1&n&&e._UZ(0,"span",10),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function CP(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function vP(n,o){if(1&n&&e._UZ(0,"span",14),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function bP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,CP,2,1,"span",11),e.YNc(2,vP,1,1,"ng-template",null,21,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t)}}function yP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw();return e.KtG(p.itemClick(r,c))}),e.YNc(1,_P,1,2,"span",8),e.YNc(2,bP,4,2,"ng-container",9),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("target",t.target),e.uIk("href",t.url?t.url:null,e.LSH)("title",t.title)("id",t.id)("tabindex",t.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",t.icon),e.xp6(1),e.Q6J("ngIf",t.label)}}function IP(n,o){if(1&n&&e._UZ(0,"span",10),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function AP(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function TP(n,o){if(1&n&&e._UZ(0,"span",14),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function wP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,AP,2,1,"span",11),e.YNc(2,TP,1,1,"ng-template",null,22,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t)}}function xP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw();return e.KtG(p.itemClick(r,c))}),e.YNc(1,IP,1,2,"span",8),e.YNc(2,wP,4,2,"ng-container",9),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",t.routerLink)("queryParams",t.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",t.routerLinkActiveOptions||e.DdM(16,Mx))("target",t.target)("fragment",t.fragment)("queryParamsHandling",t.queryParamsHandling)("preserveFragment",t.preserveFragment)("skipLocationChange",t.skipLocationChange)("replaceUrl",t.replaceUrl)("state",t.state),e.uIk("title",t.title)("id",t.id)("tabindex",t.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",t.icon),e.xp6(1),e.Q6J("ngIf",t.label)}}function EP(n,o){1&n&&e._UZ(0,"li",17)}const SP=function(n){return{"p-disabled":n}};function kP(n,o){if(1&n&&(e.TgZ(0,"li",18),e.YNc(1,yP,3,7,"a",19),e.YNc(2,xP,3,17,"a",6),e.qZA(),e.YNc(3,EP,1,0,"li",2)),2&n){const t=o.$implicit,i=o.last;e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("ngClass",e.VKq(8,SP,t.disabled))("tooltipOptions",t.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!t.routerLink),e.xp6(1),e.Q6J("ngIf",t.routerLink),e.xp6(1),e.Q6J("ngIf",!i)}}let MP=(()=>{class n{constructor(){this.onItemClick=new e.vpe}itemClick(t,i){i.disabled?t.preventDefault():(!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.onItemClick.emit({originalEvent:t,item:i}))}onHomeClick(t){this.home&&this.itemClick(t,this.home)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-breadcrumb"]],hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home",homeAriaLabel:"homeAriaLabel"},outputs:{onItemClick:"onItemClick"},decls:5,vars:7,consts:[[3,"ngStyle","ngClass"],["pTooltip","",3,"class","ngClass","ngStyle","tooltipOptions",4,"ngIf"],["class","p-breadcrumb-chevron pi pi-chevron-right",4,"ngIf"],["ngFor","",3,"ngForOf"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["class","p-menuitem-link",3,"href","target","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[1,"p-menuitem-link",3,"href","target","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlHomeLabel",""],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlHomeRouteLabel",""],[1,"p-breadcrumb-chevron","pi","pi-chevron-right"],["pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link",3,"target","click",4,"ngIf"],[1,"p-menuitem-link",3,"target","click"],["htmlLabel",""],["htmlRouteLabel",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ul"),e.YNc(2,fP,3,9,"li",1),e.YNc(3,mP,1,0,"li",2),e.YNc(4,kP,4,10,"ng-template",3),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass","p-breadcrumb p-component"),e.xp6(2),e.Q6J("ngIf",i.home),e.xp6(1),e.Q6J("ngIf",i.model&&i.home),e.xp6(1),e.Q6J("ngForOf",i.model))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,Je.u],styles:[".p-breadcrumb{overflow-x:auto}.p-breadcrumb ul{margin:0;padding:0;list-style-type:none;display:flex;align-items:center;flex-wrap:nowrap}.p-breadcrumb .p-menuitem-text{line-height:1}.p-breadcrumb .p-menuitem-link{text-decoration:none;cursor:pointer}.p-breadcrumb::-webkit-scrollbar{display:none}\n"],encapsulation:2,changeDetection:0}),n})(),DP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,s.Bz,Je.z,s.Bz,Je.z]}),n})();const OP=function(){return{padding:"0 0 0 1rem"}};function PP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"span",26),e._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(3,"div",27),e.TgZ(4,"p-button",28),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const c=e.MAs(17);return e.KtG(c.toggle(r))}),e.qZA()()}2&n&&e.Akn(e.DdM(2,OP))}function RP(n,o){1&n&&(e.TgZ(0,"div",29),e._UZ(1,"span",30),e.TgZ(2,"span"),e._uU(3," \u041d\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 "),e.qZA()())}function LP(n,o){1&n&&e.GkF(0)}function NP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,LP,1,0,"ng-container",31),e.BQk()),2&n){e.oxw();const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function FP(n,o){1&n&&e.GkF(0)}function BP(n,o){1&n&&e.GkF(0)}function HP(n,o){1&n&&e.GkF(0)}function VP(n,o){1&n&&e.GkF(0)}const ap=function(n){return{$implicit:n}};function ZP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,VP,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(4);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ap,t))}}function UP(n,o){1&n&&e.GkF(0)}function zP(n,o){if(1&n&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),e.qZA(),e.TgZ(3,"span",43),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",null==t.selectedNodeInTree?null:t.selectedNodeInTree.data.description," ")}}const Dx=function(){return{alignContent:"flex-start"}};function GP(n,o){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,BP,1,0,"ng-container",37),e.TgZ(2,"div",38),e.YNc(3,HP,1,0,"ng-container",31),e.YNc(4,ZP,2,4,"ng-container",39),e.YNc(5,UP,1,0,"ng-container",31),e.qZA(),e.YNc(6,zP,5,1,"div",40),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27),r=e.MAs(33),c=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(10,ap,t.selectedNodeInTree)),e.xp6(1),e.Akn(e.DdM(12,Dx)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngForOf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.children)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",c),e.xp6(1),e.Q6J("ngIf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.data.description)}}function QP(n,o){1&n&&e.GkF(0)}function JP(n,o){1&n&&e.GkF(0)}function jP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,JP,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function WP(n,o){1&n&&e.GkF(0)}function KP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,WP,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(31);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function YP(n,o){if(1&n&&(e.TgZ(0,"div",47)(1,"span",48),e._uU(2,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"span",51),e._uU(4),e.qZA()()),2&n){const t=e.oxw(5);e.xp6(4),e.Oqu(null==t.currentWork?null:t.currentWork.description)}}function $P(n,o){1&n&&e.GkF(0)}function qP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,$P,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(5);const i=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ap,t))}}function XP(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.YNc(2,YP,5,1,"div",46),e.TgZ(3,"div",47)(4,"span",48),e._uU(5," \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f "),e.qZA(),e.TgZ(6,"div",47),e.YNc(7,qP,2,4,"ng-container",39),e.qZA(),e._UZ(8,"div",49),e.TgZ(9,"div",50)(10,"span"),e._uU(11,"\u0412\u0441\u0435\u0433\u043e"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",null==t.currentWork?null:t.currentWork.description),e.xp6(5),e.Q6J("ngForOf",null==t.currentWork?null:t.currentWork.actions)("ngForTrackBy",t.trackByAction),e.xp6(6),e.hij("",t.currentWorkActionsSum," \u0440\u0443\u0431")}}function eR(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,QP,1,0,"ng-container",37),e.ynx(2,8),e.YNc(3,jP,2,1,"ng-container",9),e.YNc(4,KP,2,1,"ng-container",9),e.YNc(5,XP,14,4,"ng-container",9),e.BQk(),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(6,ap,t.selectedNodeInTree)),e.xp6(1),e.Q6J("ngSwitch",t.workLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY")}}function tR(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,GP,7,13,"div",34),e.YNc(2,eR,6,8,"div",35),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",null==t.selectedNodeInTree?null:t.selectedNodeInTree.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function nR(n,o){1&n&&e.GkF(0)}function iR(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nR,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ap,t))}}function oR(n,o){1&n&&e.GkF(0)}function sR(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",52)(2,"div",53),e.YNc(3,iR,2,4,"ng-container",39),e.YNc(4,oR,1,0,"ng-container",31),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(35);e.xp6(2),e.Akn(e.DdM(6,Dx)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.treeMenuItems)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function rR(n,o){if(1&n&&(e.ynx(0),e.YNc(1,tR,3,3,"ng-container",32),e.YNc(2,sR,5,7,"ng-container",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedNodeInTree),e.xp6(1),e.Q6J("ngIf",!t.selectedNodeInTree)}}function aR(n,o){1&n&&e.GkF(0)}function lR(n,o){1&n&&e.GkF(0)}function cR(n,o){1&n&&e.GkF(0)}function uR(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54),e.YNc(2,aR,1,0,"ng-container",37),e.TgZ(3,"div",53),e.YNc(4,lR,1,0,"ng-container",31),e.YNc(5,cR,1,0,"ng-container",31),e.TgZ(6,"div",55),e._UZ(7,"span",30),e.TgZ(8,"span"),e._uU(9,"\u041d\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(27),r=e.MAs(33),c=e.MAs(35);e.xp6(2),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(4,ap,t.selectedNodeInTree)),e.xp6(2),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngTemplateOutlet",c)}}function dR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",61),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function pR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const Ox=function(){return{maxWidth:"15rem"}};function hR(n,o){if(1&n&&(e.TgZ(0,"div",56),e._UZ(1,"input",57)(2,"textarea",58),e.ynx(3,8),e.YNc(4,dR,1,2,"p-button",59),e.YNc(5,pR,1,2,"p-button",60),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.createGroupForm),e.xp6(1),e.Akn(e.DdM(7,Ox)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("ngSwitch",t.createGroupDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function gR(n,o){if(1&n&&(e.TgZ(0,"div",72),e._UZ(1,"p-inputNumber",73),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("formGroup",t.control),e.xp6(1),e.Q6J("size",4)("min",.01)("minFractionDigits",0)("maxFractionDigits",2)("max",99999)("allowEmpty",!1)}}function fR(n,o){if(1&n&&(e.TgZ(0,"div",67)(1,"div",68)(2,"span",69),e._uU(3),e.qZA(),e.TgZ(4,"span",70),e._uU(5),e.ALo(6,"unitName"),e.qZA()(),e.YNc(7,gR,2,7,"div",71),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431./",e.lcZ(6,4,t.unit)," "),e.xp6(2),e.Q6J("ngIf","select"===t.mode)}}function mR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",61),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function _R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function CR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",56),e._UZ(1,"input",63)(2,"textarea",64),e.TgZ(3,"p-pickList",65),e.NdJ("onMoveToSource",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.unselectPaidAction(r))})("onMoveToTarget",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectPaidAction(r))}),e.YNc(4,fR,8,6,"ng-template",66),e.qZA(),e.ynx(5,8),e.YNc(6,mR,1,2,"p-button",59),e.YNc(7,_R,1,2,"p-button",60),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createWorkForm),e.xp6(1),e.Akn(e.DdM(12,Ox)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("source",t.availablePaidActions)("target",t.selectedPaidActions),e.xp6(2),e.Q6J("ngSwitch",t.createWorkDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function vR(n,o){if(1&n&&(e.TgZ(0,"div",74)(1,"div",47)(2,"span",75),e._uU(3),e.qZA(),e.TgZ(4,"span",76),e._UZ(5,"span",77),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"unitName"),e.qZA()()(),e._UZ(9,"div",27),e.TgZ(10,"span",78),e._uU(11),e.ALo(12,"unitName"),e.qZA(),e.TgZ(13,"span",79),e._uU(14),e.qZA()()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.action.name," "),e.xp6(4),e.AsE(" ",t.action.cost," \u0440\u0443\u0431/",e.lcZ(8,6,t.action.unit)," "),e.xp6(4),e.AsE(" \u041a\u043e\u043b-\u0432\u043e: ",t.count," ",e.lcZ(12,8,t.action.unit)," "),e.xp6(3),e.hij(" \u0421\u0442\u043e\u0439\u043c\u043e\u0441\u0442\u044c: ",t.action.cost*t.count," \u0440\u0443\u0431 ")}}function bR(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",80)(2,"span"),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.data.name," ")}}function yR(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",81)(2,"p-button",82),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.back())}),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"div",27),e.TgZ(6,"p-button",83),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return c.editingWorkId=r.data.id,e.KtG(c.openEditWorkDialog())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.data.name," ")}}function IR(n,o){1&n&&(e.ynx(0,8),e.YNc(1,bR,4,1,"ng-container",9),e.YNc(2,yR,7,1,"ng-container",9),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work"))}function AR(n,o){1&n&&(e.TgZ(0,"div",84),e._UZ(1,"p-progressSpinner",85),e.qZA())}function TR(n,o){1&n&&(e.TgZ(0,"div",84)(1,"div",86),e._UZ(2,"span",87),e.TgZ(3,"span"),e._uU(4," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()())}function wR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",88),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.back())}),e._UZ(1,"span",89),e.TgZ(2,"span",90),e._uU(3,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()()}}function xR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",88),e.NdJ("click",function(r){e.CHM(t),e.oxw();const c=e.MAs(19);return e.KtG(c.toggle(r))}),e._UZ(1,"span",91),e.TgZ(2,"span",90),e._uU(3,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),e.qZA()()}}function ER(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",88),e.NdJ("click",function(){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.selectGroupInView(c))}),e._UZ(1,"span"),e.TgZ(2,"span",92),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Tol("group"===t.type?"mds-folder":"mds-construction"),e.xp6(2),e.Oqu(t.data.name)}}const SR=function(){return{marginBottom:"1rem"}},kR=function(){return{padding:"0"}};let MR=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.rootContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog()},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog()}],this.treeMenuItems=[],this.createGroupDialogVisible=!1,this.createGroupDialogMode="create",this.createGroupForm=new $.cw({name:new $.NI("",[$.kI.required]),description:new $.NI(""),parentGroupId:new $.NI(null)}),this.treeContextMenuItems=[],this.subscriptions=new B.xf,this.createWorkDialogVisible=!1,this.createWorkDialogMode="create",this.createWorkForm=new $.cw({name:new $.NI("",[$.kI.required]),description:new $.NI(""),parentGroupId:new $.NI(null),actions:new $.Oe([],[si.notEmpty])}),this.breadcrumbHome={icon:"mdi-home",command:()=>{this.selectedNodeInTree=void 0,this.changeBreadcrumbs()}},this.breadcrumb=[],this.availablePaidActions=[],this.selectedPaidActions=[],this.loadingTreeState=We.Gu.LOADING,this.workLoadingState=We.Gu.LOADING,this.inViewContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}],l1.prototype.isNodeLeaf=r=>r.leaf}get currentWorkActionsSum(){return this.currentWork?this.currentWork.actions.reduce((t,i)=>t+i.count*i.action.cost,0):0}trackByAction(t,i){return i.paidActionTemplateId+i.count}trackByNode(t,i){var r,c;return null!==(c=null!==(r=i.key)&&void 0!==r?r:""+i.leaf)&&void 0!==c?c:""+i.label+JSON.stringify(i.data)}selectPaidAction(t){t.items.forEach(i=>{i.mode="select",i.controlIndex=this.createWorkForm.controls.actions.length,i.control=new $.cw({actionId:new $.NI(i.paidActionId),count:new $.NI(1)}),this.createWorkForm.controls.actions.push(i.control)})}unselectPaidAction(t){t.items.forEach(i=>{i.mode=void 0,i.control=void 0,this.createWorkForm.controls.actions.removeAt(i.controlIndex)})}unitName(t){switch(t){case We.b9.AMOUNT:return"\u0448\u0442.";case We.b9.METRES:return"\u043c.";case We.b9.KILOGRAMS:return"\u043a\u0433."}}changeContextMenuItems(){var t,i,r;if(this.selectedNodeInTree)switch(this.selectedNodeInTree.type){case"group":this.treeContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",items:[{label:"\u0413\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0420\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditGroupDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete"}];break;case"work":this.treeContextMenuItems=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditWorkDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete"}]}"group"===(null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.type)?this.loadOfGroup({node:this.selectedNodeInTree},()=>this.changeBreadcrumbs()):"work"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)&&null!==(r=this.selectedNodeInTree)&&void 0!==r&&r.key&&this.loadWork(this.selectedNodeInTree.key)}changeBreadcrumbs(){if(this.selectedNodeInTree){let t=this.selectedNodeInTree;const i=[];for(;t;){let r=t.key;i.push({label:t.label,key:r,command:()=>{var c;if((null===(c=this.selectedNodeInTree)||void 0===c?void 0:c.key)===r)return;let p;const C=[];for(let E of this.breadcrumb)if(void 0===p?p=this.treeMenuItems.find(ie=>ie.key===E.key):p.children&&(p=p.children.find(ie=>ie.key===E.key)),C.push(E),p&&p.key===r)break;this.selectedNodeInTree=p,this.breadcrumb=C}}),t=t.parent}this.breadcrumb=i.reverse()}else this.breadcrumb=[]}openCreateGroupDialog(t){this.createGroupForm.reset(),this.createGroupDialogMode="create",this.createGroupDialogVisible=!0,this.createGroupForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null})}openEditGroupDialog(){var t,i,r,c,p,C,E,ie,ae,tt;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createGroupForm.reset(),this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createGroupDialogMode="edit",this.createGroupDialogVisible=!0,this.createGroupForm.setValue({name:null!==(c=null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.label)&&void 0!==c?c:"",description:null!==(C=null===(p=this.selectedNodeInTree)||void 0===p?void 0:p.data.description)&&void 0!==C?C:"",parentGroupId:null!==(ie=null===(E=this.selectedNodeInTree)||void 0===E?void 0:E.parent)&&void 0!==ie&&ie.key?parseInt(null===(tt=null===(ae=this.selectedNodeInTree)||void 0===ae?void 0:ae.parent)||void 0===tt?void 0:tt.key):null}))}openCreateWorkDialog(t){this.createWorkForm.reset(),this.createWorkDialogMode="create",this.createWorkDialogVisible=!0,this.createWorkForm.controls.actions.clear(),this.createWorkForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null}),this.selectedPaidActions=[],console.log(this.createWorkForm.value),this.api.getListAvailablePaidActions().subscribe({next:i=>this.availablePaidActions=i})}openEditWorkDialog(){var t,i,r,c,p,C,E,ie,ae,tt;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createWorkForm.reset(),this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createWorkDialogMode="edit",this.createWorkDialogVisible=!0,this.createWorkForm.patchValue({name:null!==(c=null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.label)&&void 0!==c?c:"",description:null!==(C=null===(p=this.selectedNodeInTree)||void 0===p?void 0:p.data.description)&&void 0!==C?C:"",parentGroupId:null!==(ie=null===(E=this.selectedNodeInTree)||void 0===E?void 0:E.parent)&&void 0!==ie&&ie.key?parseInt(null===(tt=null===(ae=this.selectedNodeInTree)||void 0===ae?void 0:ae.parent)||void 0===tt?void 0:tt.key):null}),this.selectedPaidActions=[],this.createWorkForm.controls.actions.clear(),this.api.getListAvailablePaidActions().subscribe({next:rt=>{var it;!(null===(it=this.selectedNodeInTree)||void 0===it)&&it.data.actions&&this.selectedNodeInTree.data.actions.forEach(Pt=>{let Wt=structuredClone(Pt.action);Wt.mode="select",Wt.controlIndex=this.createWorkForm.controls.actions.length,Wt.control=new $.cw({actionId:new $.NI(Wt.paidActionId),count:new $.NI(Pt.count)}),this.selectedPaidActions.push(Wt),this.createWorkForm.controls.actions.push(Wt.control)}),this.availablePaidActions=rt.filter(Pt=>-1===this.selectedPaidActions.findIndex(Wt=>Wt.paidActionId===Pt.paidActionId))}}))}ngOnInit(){this.api.getRootTreeOfWorks().subscribe({next:t=>{this.treeMenuItems=t,this.loadingTreeState=t.length>0?We.Gu.READY:We.Gu.EMPTY},error:()=>{this.loadingTreeState=We.Gu.ERROR}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const i=this.foundNodeByPath(t.sourcePath),r=this.foundNodeByPath(t.targetPath);if(i){if(i.children){const c=i.children.findIndex(p=>p.key===t.object.key&&p.type===t.object.type);c>-1&&i.children.splice(c,1),0===i.children.length&&(i.leaf=!0)}}else{const c=this.treeMenuItems.findIndex(p=>p.key===t.object.key&&p.type===t.object.type);c>-1&&this.treeMenuItems.splice(c,1)}r?(r.children?-1===r.children.findIndex(p=>p.key===t.object.key&&p.type===t.object.type)&&r.children.push(t.object):(r.children=[],r.children.push(t.object)),r.leaf=!1):-1===this.treeMenuItems.findIndex(p=>p.key===t.object.key&&p.type===t.object.type)&&this.treeMenuItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var i,r;const c=this.foundNodeByPath(t.path);if(c&&c.children){const p=null===(i=c.children)||void 0===i?void 0:i.findIndex(C=>C.key===t.object.key&&C.type===t.object.type);p>-1&&(c.children[p]=t.object)}else if(!c){const p=this.treeMenuItems.findIndex(C=>C.key===t.object.key&&C.type===t.object.type);p>-1&&(this.treeMenuItems[p]=t.object)}(null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.key)===t.object.key&&(this.selectedNodeInTree=t.object)})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const i=this.foundNodeByPath(t.path);i?(i.children||(i.children=[]),i.children.push(t.object),i.children.sort((r,c)=>r.position-c.position),i.leaf=!1):(this.treeMenuItems.push(t.object),this.treeMenuItems.sort((r,c)=>r.position-c.position))})),this.subscriptions.addSubscription("workUp",this.rt.paidWorkUpdated().subscribe({next:t=>{var i;(null===(i=this.currentWork)||void 0===i?void 0:i.paidWorkId)===t.paidWorkId&&(this.currentWork=t)}})),this.subscriptions.addSubscription("sort",this.rt.worksTreeReposition().subscribe(t=>{t.forEach(i=>{const r="group"===i.type?"g":"w";if(i.path&&i.path.length>0){const c=this.foundNodeByPath(i.path);c&&c.children&&(c.children.find(C=>C.key===r+i.id).position=i.position,c.children.sort((C,E)=>C.position-E.position))}else this.treeMenuItems.find(p=>p.key===r+i.id).position=i.position,this.treeMenuItems.sort((p,C)=>p.position-C.position)})}))}foundNodeByPath(t){var i;if(!t||0===t.length)return null;let r=null,c=this.treeMenuItems;for(let p of t){if(!c)return null;if(r=null!==(i=c.find(C=>C.key==="g"+p))&&void 0!==i?i:null,!r)return null;c=r.children}return r}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createGroup(){this.createGroupForm.valid&&this.api.createPaidWorkGroup(this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}updateGroup(){this.editingGroupId&&this.createGroupForm.valid&&this.api.editPaidWorkGroup(this.editingGroupId,this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}nodeDrop(t){this.api.treeWorksDragDrop(new We.AE(t)).subscribe(),this.api.paidWorkTreeReposition(this.getPositions(t)).subscribe(()=>this.changeBreadcrumbs())}getPositions(t){const i=t.dragNode.parent,r=t.dropNode.parent;let c=[];return i||r?i?r?i===r&&(c=[...i.children.map((p,C)=>({id:p.key.substring(1),type:p.type,position:C}))]):c=[...i.children.map((p,C)=>({id:p.key.substring(1),type:p.type,position:C})),...this.treeMenuItems.map((p,C)=>({id:p.key.substring(1),type:p.type,position:C}))]:c=[...this.treeMenuItems.map((p,C)=>({id:p.key.substring(1),type:p.type,position:C})),...i.children.map((p,C)=>({id:p.key.substring(1),type:p.type,position:C}))]:c=this.treeMenuItems.map((p,C)=>({id:p.key.substring(1),type:p.type,position:C})),c}loadOfGroup(t,i=(()=>{})){"group"!==t.node.type||t.node.children&&t.node.children.length>0?"group"===t.node.type&&(this.loadingTreeState=We.Gu.READY,i()):(this.loadingTreeState=We.Gu.LOADING,this.api.getWorksOfGroup(t.node.key.substring(1)).subscribe({next:r=>{t.node.children=r,this.loadingTreeState=r.length>0?We.Gu.READY:We.Gu.EMPTY,i()},error:()=>{this.loadingTreeState=We.Gu.ERROR}}))}createWork(){if(!this.createWorkForm.valid)return;const t=this.createWorkForm.value;console.log(this.createWorkForm.value),this.api.createPaidWork(t).subscribe({next:()=>{this.createWorkDialogVisible=!1},error:()=>{}})}updateWork(){this.editingWorkId&&this.createWorkForm.valid&&this.api.editPaidWork(this.editingWorkId,this.createWorkForm.value).subscribe(()=>{this.createWorkDialogVisible=!1})}selectNode(t){var i;"group"===t.node.type?this.loadOfGroup(t,()=>this.changeBreadcrumbs()):null!==(i=this.selectedNodeInTree)&&void 0!==i&&i.key&&this.loadWork(this.selectedNodeInTree.key)}selectGroupInView(t){setTimeout(()=>{var i,r;this.selectedNodeInTree&&!this.selectedNodeInTree.leaf&&(this.selectedNodeInTree.expanded=!0),this.selectedNodeInTree=t,"group"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)?this.loadOfGroup({node:t},()=>this.changeBreadcrumbs()):null!==(r=this.selectedNodeInTree)&&void 0!==r&&r.key&&this.loadWork(this.selectedNodeInTree.key)},200)}loadWork(t){this.loadingTreeState=We.Gu.READY,this.workLoadingState=We.Gu.LOADING,this.api.getPaidWorkById(parseInt(t.substring(1))).subscribe({next:i=>{this.currentWork=i,this.workLoadingState=We.Gu.READY,this.changeBreadcrumbs()},error:()=>{this.workLoadingState=We.Gu.ERROR}})}back(){var t;this.loadingTreeState=We.Gu.READY,this.selectedNodeInTree&&(this.selectedNodeInTree.expanded=!1),this.selectedNodeInTree=null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.parent,this.changeBreadcrumbs()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(Zi.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([j.Y])],decls:38,vars:33,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","gap10","stretched","panel","p10"],[3,"home","model"],[1,"flexed","gap10","stretched"],["styleClass","work-tree","draggableScope","self","droppableScope","self","selectionMode","single",3,"selection","contextMenu","draggableNodes","droppableNodes","lazy","loading","value","onNodeContextMenuSelect","onNodeDrop","onNodeExpand","onNodeSelect","onNodeUnselect","selectionChange"],["pTemplate","header"],["pTemplate","empty"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appendTo","body",3,"model"],["treeContextMenu",""],[3,"model","popup"],["rootTreeMenu",""],["inViewContextMenu",""],["appendTo","body",3,"visible","header","resizable","visibleChange"],["pTemplate","content"],[3,"visible","autoZIndex","baseZIndex","header","resizable","visibleChange"],["workEntryRef",""],["nodeTitleRef",""],["loadingRef",""],["errorRef",""],["backButtonRef",""],["createButtonRef",""],["nodeRef",""],[1,"flexed","hcenter","gap10"],[1,"caption","size-big","f-inline"],[1,"stretched"],["icon","mdi-more_vert","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"flexed","column","group","hcenter","vcenter","caption","size-big","wt-bold","f-color-500","p10"],[1,"mds-receipt_long"],[4,"ngTemplateOutlet"],[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],["class","flexed column gap10 stretched",4,"ngSwitchCase"],["class","flexed column stretched",4,"ngSwitchCase"],[1,"flexed","column","gap10","stretched"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","wrapped","gap10","stretched"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","group-description",4,"ngIf"],[1,"group-description"],[1,"caption","size-small","f-inline"],[1,"caption"],[1,"flexed","column","stretched"],[1,"flexed","column","gap10","p10"],["class","flexed column",4,"ngIf"],[1,"flexed","column"],[1,"caption","wt-bold","size-big","f-color-500"],[1,"terminator"],[1,"flexed","gap5","vend","hcenter","caption","wt-tiny","f-color-primary","size-big","p10"],[1,"caption","indent1"],[1,"flexed","column","gap10"],[1,"flexed","wrapped","gap10"],[1,"flexed","column","gap10","relative","stretched"],[1,"center-of-content","flexed","column","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"flexed","column","gap10","p1",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b..."],["cols","50","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","rows","5",3,"autoResize"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b..."],["cols","70","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","rows","5",3,"autoResize"],["sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","targetHeader","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",3,"dragdrop","showSourceControls","showTargetControls","source","target","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flexed","gap5"],[1,"flexed","column","gap5","stretched"],[1,"caption","size-big","w-max"],[1,"caption","size-small","f-color-500"],["class","w-min",3,"formGroup",4,"ngIf"],[1,"w-min",3,"formGroup"],["formControlName","count",3,"size","min","minFractionDigits","maxFractionDigits","max","allowEmpty"],[1,"flexed","gap5","hcenter","p10","split-line"],[1,"caption","size-big","f-color-600"],[1,"caption","with-icon","size-small","f-color-500","wt-black"],[1,"mdi-payments"],[1,"caption","size-big","wt-tiny"],[1,"caption","size-big","f-color-primary","wt-tiny"],[1,"caption","size-huge","f-color-500","wt-bold","f-inline"],[1,"flexed","hcenter","gap5","p3","caption","size-huge","f-color-500","wt-bold","f-inline"],["styleClass","p-button-text p-button-secondary p-button-icon","icon","mdi-arrow_back",3,"onClick"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"onClick"],[1,"relative","stretched"],[1,"primary-spinner","center-of-content"],[1,"flexed","hcenter","column","caption","size-big","wt-bold","f-color-danger","center-of-content"],[1,"mds-error"],["pRipple","",1,"group-list-el","primary",3,"click"],[1,"mds-arrow_top_left"],[1,"name"],[1,"mds-add"],["appTicker","",1,"name"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"p-breadcrumb",3),e.TgZ(5,"div",4)(6,"p-tree",5),e.NdJ("onNodeContextMenuSelect",function(){return i.changeContextMenuItems()})("onNodeDrop",function(c){return i.nodeDrop(c)})("onNodeExpand",function(c){return i.loadOfGroup(c)})("onNodeSelect",function(c){return i.selectNode(c)})("onNodeUnselect",function(){return i.changeBreadcrumbs()})("selectionChange",function(c){return i.selectedNodeInTree=c}),e.YNc(7,PP,5,3,"ng-template",6),e.YNc(8,RP,4,0,"ng-template",7),e.qZA(),e.ynx(9,8),e.YNc(10,NP,2,1,"ng-container",9),e.YNc(11,FP,1,0,"ng-container",9),e.YNc(12,rR,3,2,"ng-container",9),e.YNc(13,uR,10,6,"ng-container",9),e.BQk(),e.qZA()()()(),e._UZ(14,"p-contextMenu",10,11)(16,"p-menu",12,13)(18,"p-menu",12,14),e.TgZ(20,"p-dialog",15),e.NdJ("visibleChange",function(c){return i.createGroupDialogVisible=c}),e.YNc(21,hR,6,8,"ng-template",16),e.qZA(),e.TgZ(22,"p-dialog",17),e.NdJ("visibleChange",function(c){return i.createWorkDialogVisible=c}),e.YNc(23,CR,8,13,"ng-template",16),e.qZA(),e.YNc(24,vR,15,10,"ng-template",null,18,e.W1O),e.YNc(26,IR,3,3,"ng-template",null,19,e.W1O),e.YNc(28,AR,2,0,"ng-template",null,20,e.W1O),e.YNc(30,TR,5,0,"ng-template",null,21,e.W1O),e.YNc(32,wR,4,0,"ng-template",null,22,e.W1O),e.YNc(34,xR,4,0,"ng-template",null,23,e.W1O),e.YNc(36,ER,4,3,"ng-template",null,24,e.W1O)),2&t){const r=e.MAs(15);e.xp6(1),e.Akn(e.DdM(31,SR)),e.xp6(3),e.Q6J("home",i.breadcrumbHome)("model",i.breadcrumb),e.xp6(2),e.Akn(e.DdM(32,kR)),e.Q6J("selection",i.selectedNodeInTree)("contextMenu",r)("draggableNodes",!0)("droppableNodes",!0)("lazy",!0)("loading","LOADING"===i.loadingTreeState)("value",i.treeMenuItems),e.xp6(3),e.Q6J("ngSwitch",i.loadingTreeState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("model",i.treeContextMenuItems),e.xp6(2),e.Q6J("model",i.rootContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("model",i.inViewContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("visible",i.createGroupDialogVisible)("header","create"===i.createGroupDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b")("resizable",!1),e.xp6(2),e.Q6J("visible",i.createWorkDialogVisible)("autoZIndex",!1)("baseZIndex",999)("header","create"===i.createWorkDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b")("resizable",!1)}},dependencies:[ht,Se,iP,$.Fj,$.JJ,$.JL,j.jx,I.sg,ki.V,$.sg,$.u,I.O5,Ur.g,Ii.zx,I.tP,I.RF,I.n9,Uo.v2,Ye.o,Ob,X.G,ln.Rn,o1,MP,l1,D.H,a1],styles:[".group-list-el[_ngcontent-%COMP%]{cursor:pointer;display:grid;align-items:center;justify-content:center;justify-items:center;padding:.2rem 1rem 1rem;border-radius:.5rem;border:1px solid var(--bgc-200);font-size:.85rem;font-weight:700;color:var(--tc-600);width:min-content;transition:all .1s ease-in-out}.group-list-el[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;width:100%;text-align:center}.group-list-el[_ngcontent-%COMP%]:hover{border-color:var(--mc-100);color:var(--mc-400)}.empty-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.group-description[_ngcontent-%COMP%]{display:grid;border-top:1px solid var(--bgc-200);padding-top:.5rem}"],data:{animation:[wo.S9]}}),n})(),DR=(()=>{class n{constructor(t,i){this.el=t,this.zone=i,this.onDragStart=new e.vpe,this.onDragEnd=new e.vpe,this.onDrag=new e.vpe}get pDraggableDisabled(){return this._pDraggableDisabled}set pDraggableDisabled(t){this._pDraggableDisabled=t,this._pDraggableDisabled?this.unbindMouseListeners():(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}ngAfterViewInit(){this.pDraggableDisabled||(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}bindDragListener(){this.dragListener||this.zone.runOutsideAngular(()=>{this.dragListener=this.drag.bind(this),this.el.nativeElement.addEventListener("drag",this.dragListener)})}unbindDragListener(){this.dragListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("drag",this.dragListener),this.dragListener=null})}bindMouseListeners(){!this.mouseDownListener&&!this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.mousedown.bind(this),this.mouseUpListener=this.mouseup.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.addEventListener("mouseup",this.mouseUpListener)})}unbindMouseListeners(){this.mouseDownListener&&this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.removeEventListener("mouseup",this.mouseUpListener),this.mouseDownListener=null,this.mouseUpListener=null})}drag(t){this.onDrag.emit(t)}dragStart(t){this.allowDrag()&&!this.pDraggableDisabled?(this.dragEffect&&(t.dataTransfer.effectAllowed=this.dragEffect),t.dataTransfer.setData("text",this.scope),this.onDragStart.emit(t),this.bindDragListener()):t.preventDefault()}dragEnd(t){this.onDragEnd.emit(t),this.unbindDragListener()}mousedown(t){this.handle=t.target}mouseup(t){this.handle=null}allowDrag(){return!this.dragHandle||!this.handle||zt.p.matches(this.handle,this.dragHandle)}ngOnDestroy(){this.unbindDragListener(),this.unbindMouseListeners()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","pDraggable",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,i){1&t&&e.NdJ("dragstart",function(c){return i.dragStart(c)})("dragend",function(c){return i.dragEnd(c)})},inputs:{scope:["pDraggable","scope"],dragEffect:"dragEffect",dragHandle:"dragHandle",pDraggableDisabled:"pDraggableDisabled"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDrag:"onDrag"}}),n})(),OR=(()=>{class n{constructor(t,i){this.el=t,this.zone=i,this.onDragEnter=new e.vpe,this.onDragLeave=new e.vpe,this.onDrop=new e.vpe}ngAfterViewInit(){this.pDroppableDisabled||this.bindDragOverListener()}bindDragOverListener(){this.dragOverListener||this.zone.runOutsideAngular(()=>{this.dragOverListener=this.dragOver.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener)})}unbindDragOverListener(){this.dragOverListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null})}dragOver(t){t.preventDefault()}drop(t){this.allowDrop(t)&&(zt.p.removeClass(this.el.nativeElement,"p-draggable-enter"),t.preventDefault(),this.onDrop.emit(t))}dragEnter(t){t.preventDefault(),this.dropEffect&&(t.dataTransfer.dropEffect=this.dropEffect),zt.p.addClass(this.el.nativeElement,"p-draggable-enter"),this.onDragEnter.emit(t)}dragLeave(t){t.preventDefault(),zt.p.removeClass(this.el.nativeElement,"p-draggable-enter"),this.onDragLeave.emit(t)}allowDrop(t){let i=t.dataTransfer.getData("text");if("string"==typeof this.scope&&i==this.scope)return!0;if(this.scope instanceof Array)for(let r=0;r<this.scope.length;r++)if(i==this.scope[r])return!0;return!1}ngOnDestroy(){this.unbindDragOverListener()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","pDroppable",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,i){1&t&&e.NdJ("drop",function(c){return i.drop(c)})("dragenter",function(c){return i.dragEnter(c)})("dragleave",function(c){return i.dragLeave(c)})},inputs:{scope:["pDroppable","scope"],pDroppableDisabled:"pDroppableDisabled",dropEffect:"dropEffect"},outputs:{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"}}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez]}),n})();var Px=_(4776);const RR=["sublist"],LR=function(n){return{"p-hidden":n}};function NR(n,o){if(1&n&&e._UZ(0,"li",5),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,LR,!1===t.visible))}}function FR(n,o){if(1&n&&e._UZ(0,"span",17),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function BR(n,o){if(1&n&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function HR(n,o){if(1&n&&e._UZ(0,"span",19),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function VR(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}function ZR(n,o){1&n&&e._UZ(0,"span",21)}const Rx=function(n){return{"p-disabled":n}};function UR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.onItemKeyDown(r))})("click",function(r){e.CHM(t),e.oxw();const c=e.MAs(1),p=e.oxw().$implicit,C=e.oxw();return e.KtG(C.itemClick(r,p,c))}),e.YNc(1,FR,1,2,"span",12),e.YNc(2,BR,2,1,"span",13),e.YNc(3,HR,1,1,"ng-template",null,14,e.W1O),e.YNc(5,VR,2,2,"span",15),e.YNc(6,ZR,1,0,"span",16),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2).$implicit,r=e.oxw();e.Q6J("target",i.target)("ngClass",e.VKq(11,Rx,i.disabled)),e.uIk("href",i.url,e.LSH)("title",i.title)("id",i.id)("tabindex",i.disabled||!r.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.badge),e.xp6(1),e.Q6J("ngIf",i.items)}}function zR(n,o){if(1&n&&e._UZ(0,"span",17),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function GR(n,o){if(1&n&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function QR(n,o){if(1&n&&e._UZ(0,"span",19),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function JR(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}function jR(n,o){1&n&&e._UZ(0,"span",24)}const WR=function(){return{exact:!1}};function KR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",22),e.NdJ("keydown",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.onItemKeyDown(r))})("click",function(r){e.CHM(t),e.oxw();const c=e.MAs(1),p=e.oxw().$implicit,C=e.oxw();return e.KtG(C.itemClick(r,p,c))}),e.YNc(1,zR,1,2,"span",12),e.YNc(2,GR,2,1,"span",13),e.YNc(3,QR,1,1,"ng-template",null,14,e.W1O),e.YNc(5,JR,2,2,"span",15),e.YNc(6,jR,1,0,"span",23),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2).$implicit,r=e.oxw();e.Q6J("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||e.DdM(21,WR))("href",i.url,e.LSH)("target",i.target)("ngClass",e.VKq(22,Rx,i.disabled))("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),e.uIk("title",i.title)("id",i.id)("tabindex",i.disabled||!r.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.badge),e.xp6(1),e.Q6J("ngIf",i.items)}}function YR(n,o){if(1&n&&e._UZ(0,"p-slideMenuSub",25),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.Q6J("item",t)("index",i.index+1)("menuWidth",i.menuWidth)}}const $R=function(n,o){return{"p-menuitem":!0,"p-menuitem-active":n,"p-hidden":o}};function qR(n,o){if(1&n&&(e.TgZ(0,"li",6,7),e.YNc(2,UR,7,13,"a",8),e.YNc(3,KR,7,24,"a",9),e.YNc(4,YR,1,3,"p-slideMenuSub",10),e.qZA()),2&n){const t=e.MAs(1),i=e.oxw().$implicit,r=e.oxw();e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(8,$R,t==r.activeItem,!1===i.visible))("tooltipOptions",i.tooltipOptions)("ngStyle",i.style),e.xp6(2),e.Q6J("ngIf",!i.routerLink),e.xp6(1),e.Q6J("ngIf",i.routerLink),e.xp6(1),e.Q6J("ngIf",i.items)}}function XR(n,o){if(1&n&&(e.YNc(0,NR,1,3,"li",3),e.YNc(1,qR,5,11,"li",4)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}const eL=function(n,o,t){return{"p-slidemenu-rootlist":n,"p-submenu-list":o,"p-active-submenu":t}},tL=["container"],nL=["backward"],iL=["slideMenuContent"],oL=function(n){return{"p-slidemenu p-component":!0,"p-slidemenu-overlay":n}},sL=function(n,o){return{showTransitionParams:n,hideTransitionParams:o}},rL=function(n){return{value:"visible",params:n}};function aL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onOverlayClick(r))})("@overlayAnimation.start",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onOverlayAnimationEnd(r))}),e.TgZ(2,"div",3)(3,"div",4,5),e._UZ(5,"p-slideMenuSub",6),e.qZA(),e.TgZ(6,"a",7,8),e.NdJ("keydown.enter",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onBackwardKeydown(r))})("keydown.space",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onBackwardKeydown(r))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.goBack())}),e._UZ(8,"span",9),e.TgZ(9,"span"),e._uU(10),e.qZA()()()()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.VKq(18,oL,t.popup))("ngStyle",t.style)("@overlayAnimation",e.VKq(23,rL,e.WLB(20,sL,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0!==t.popup),e.xp6(2),e.Udp("height",t.left?t.viewportHeight+"px":"auto")("width",t.menuWidth+"px"),e.xp6(3),e.Q6J("item",t.model)("index",0)("menuWidth",t.menuWidth)("effectDuration",t.effectDuration)("easing",t.easing),e.xp6(1),e.Udp("display",t.left?"block":"none"),e.xp6(4),e.Oqu(t.backLabel)}}let lL=(()=>{class n{constructor(t){this.backLabel="Back",this.easing="ease-out",this.slideMenu=t}itemClick(t,i,r){i.disabled?t.preventDefault():(!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),i.items&&!this.slideMenu.animating&&(this.slideMenu.left-=this.slideMenu.menuWidth,this.activeItem=r,this.slideMenu.animating=!0,setTimeout(()=>this.slideMenu.animating=!1,this.effectDuration)),!i.items&&this.slideMenu.popup&&this.slideMenu.hide())}focusNextList(t){if(!this.slideMenu.animating){let i=zt.p.getFocusableElements(t);i&&i.length>0&&i[0].focus(),this.unbindTransitionEndListener()}}onItemKeyDown(t){let i=t.currentTarget.parentElement;switch(t.code){case"Space":case"Enter":i&&!zt.p.hasClass(i,"p-disabled")&&(i.children[0].click(),this.transitionEndListener=this.focusNextList.bind(this,i),this.sublistViewChild.nativeElement.addEventListener("transitionend",this.transitionEndListener)),t.preventDefault()}}unbindTransitionEndListener(){this.transitionEndListener&&this.sublistViewChild&&(this.sublistViewChild.nativeElement.removeEventListener("transitionend",this.transitionEndListener),this.transitionEndListener=null)}ngOnDestroy(){this.activeItem=null,this.unbindTransitionEndListener()}get isActive(){return-this.slideMenu.left==this.index*this.menuWidth}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>Lx)))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-slideMenuSub"]],viewQuery:function(t,i){if(1&t&&e.Gf(RR,5),2&t){let r;e.iGM(r=e.CRH())&&(i.sublistViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",backLabel:"backLabel",menuWidth:"menuWidth",effectDuration:"effectDuration",easing:"easing",index:"index"},decls:3,vars:16,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","tooltipOptions","class","ngStyle",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","tooltipOptions","ngStyle"],["listitem",""],["class","p-menuitem-link",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["class","p-submenu",3,"item","index","menuWidth",4,"ngIf"],[1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlRouteLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-fw pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-fw","pi-angle-right"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-submenu-icon pi pi-fw pi-caret-right",4,"ngIf"],[1,"p-submenu-icon","pi","pi-fw","pi-caret-right"],[1,"p-submenu",3,"item","index","menuWidth"]],template:function(t,i){1&t&&(e.TgZ(0,"ul",0,1),e.YNc(2,XR,2,2,"ng-template",2),e.qZA()),2&t&&(e.Udp("width",i.menuWidth,"px")("left",i.root?i.slideMenu.left:i.slideMenu.menuWidth,"px")("transition-property",i.root?"left":"none")("transition-duration",i.effectDuration+"ms")("transition-timing-function",i.easing),e.Q6J("ngClass",e.kEZ(12,eL,i.root,!i.root,i.isActive)),e.xp6(2),e.Q6J("ngForOf",i.root?i.item:i.item.items))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,Je.u,n],encapsulation:2}),n})(),Lx=(()=>{class n{constructor(t,i,r,c,p){this.el=t,this.renderer=i,this.cd=r,this.config=c,this.overlayService=p,this.menuWidth=190,this.viewportHeight=180,this.effectDuration=250,this.easing="ease-out",this.backLabel="Back",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.left=0,this.animating=!1}ngAfterViewChecked(){!this.viewportUpdated&&!this.popup&&this.containerViewChild&&(this.updateViewPort(),this.viewportUpdated=!0)}set container(t){this.containerViewChild=t}set backward(t){this.backwardViewChild=t}set slideMenuContent(t){this.slideMenuContentViewChild=t}updateViewPort(){this.slideMenuContentViewChild.nativeElement.style.height=this.viewportHeight-zt.p.getHiddenElementOuterHeight(this.backwardViewChild.nativeElement)+"px"}toggle(t){this.visible?this.hide():this.show(t),this.preventDocumentDefault=!0}show(t){this.target=t.currentTarget,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(t){this.popup&&this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.popup&&(this.updateViewPort(),this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),zt.p.absolutePosition(this.containerViewChild.nativeElement,this.target),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(t){"void"===t.toState&&an.P9.clear(t.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):zt.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement)}moveOnTop(){this.autoZIndex&&an.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!zt.p.isTouchDevice()&&this.hide()}goBack(){this.left+=this.menuWidth}onBackwardKeydown(t){this.goBack(),this.left||setTimeout(()=>{let i=zt.p.getFocusableElements(this.el.nativeElement);i&&i.length>0&&i[0].focus()},1),t.preventDefault()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||(this.hide(),this.cd.detectChanges()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new zt.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.left=0,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(j.b4),e.Y36(j.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-slideMenu"]],viewQuery:function(t,i){if(1&t&&(e.Gf(tL,5),e.Gf(nL,5),e.Gf(iL,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.container=r.first),e.iGM(r=e.CRH())&&(i.backward=r.first),e.iGM(r=e.CRH())&&(i.slideMenuContent=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",menuWidth:"menuWidth",viewportHeight:"viewportHeight",effectDuration:"effectDuration",easing:"easing",backLabel:"backLabel",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-slidemenu-wrapper"],[1,"p-slidemenu-content"],["slideMenuContent",""],["root","root",3,"item","index","menuWidth","effectDuration","easing"],["tabindex","0",1,"p-slidemenu-backward","p-menuitem-link",3,"keydown.enter","keydown.space","click"],["backward",""],[1,"p-slidemenu-backward-icon","pi","pi-fw","pi-caret-left"]],template:function(t,i){1&t&&e.YNc(0,aL,11,25,"div",0),2&t&&e.Q6J("ngIf",!i.popup||i.visible)},dependencies:[I.mk,I.O5,I.PC,lL],styles:[".p-slidemenu{width:12.5rem}.p-slidemenu.p-slidemenu-overlay{position:absolute;top:0;left:0}.p-slidemenu ul{list-style:none;margin:0;padding:0}.p-slidemenu .p-slidemenu-rootlist{position:absolute;top:0}.p-slidemenu .p-submenu-list{display:none;position:absolute;top:0;width:12.5rem}.p-slidemenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden}.p-slidemenu .p-menuitem-icon,.p-slidemenu .p-menuitem-text{vertical-align:middle}.p-slidemenu .p-menuitem{position:relative}.p-slidemenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-slidemenu .p-slidemenu-wrapper{position:relative}.p-slidemenu .p-slidemenu-content{overflow-x:hidden;overflow-y:auto;position:relative}.p-slidemenu-backward{position:absolute;bottom:0;width:100%;cursor:pointer;display:none}.p-slidemenu-backward .p-slidemenu-backward-icon,.p-slidemenu-backward span{vertical-align:middle}.p-slidemenu .p-menuitem-active{position:static}.p-slidemenu .p-menuitem-active>.p-submenu>.p-submenu-list{display:block}.p-slidemenu ul:not(.p-active-submenu)>.p-menuitem:not(.p-menuitem-active),.p-slidemenu .p-active-submenu>.p-menuitem-active>.p-submenu>.p-submenu-list{display:none}.p-slidemenu .p-active-submenu>.p-menuitem-active~.p-menuitem{display:block}\n"],encapsulation:2,data:{animation:[(0,kn.X$)("overlayAnimation",[(0,kn.eR)(":enter",[(0,kn.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,kn.jt)("{{showTransitionParams}}")]),(0,kn.eR)(":leave",[(0,kn.jt)("{{hideTransitionParams}}",(0,kn.oB)({opacity:0}))])])]},changeDetection:0}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,s.Bz,Je.z,s.Bz,Je.z]}),n})();function uL(n,o){1&n&&e.GkF(0)}function dL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,uL,1,0,"ng-container",11),e.BQk()),2&n){e.oxw();const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function pL(n,o){1&n&&e.GkF(0)}function hL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,pL,1,0,"ng-container",11),e.BQk()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function gL(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(4);e.Tol("caption "+(i.getWorkActionsRatioSum(t.uuid)>0?"f-color-success":"f-color-danger")),e.xp6(1),e.hij(" ",i.getWorkActionsRatioSum(t.uuid),"\u0440\u0443\u0431. ")}}function fL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"span",34),e._uU(2),e.qZA(),e.TgZ(3,"span",36),e._uU(4),e.qZA(),e.YNc(5,gL,2,3,"span",37),e.TgZ(6,"app-tiny-button",38),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.removeWorkActionRatio(c.uuid))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.hij("x",null==t?null:t.factor,""),e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("size",.8)}}function mL(n,o){if(1&n&&(e.TgZ(0,"div",31)(1,"span",32),e._uU(2,"\u0414\u043e\u043f. \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b:"),e.qZA(),e.TgZ(3,"div",31),e.YNc(4,fL,7,4,"div",33),e.qZA(),e.TgZ(5,"span",34),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",i.getFactorsActions(t.login))("ngForTrackBy",i.trackByWar),e.xp6(2),e.hij("\u0418\u0442\u043e\u0433: ",i.getEmployeeTotalPayment(t.login)," \u0440\u0443\u0431.")}}function _L(n,o){if(1&n&&(e.TgZ(0,"div",22),e._UZ(1,"app-avatar",23),e.TgZ(2,"div",24),e._uU(3),e.qZA(),e.ynx(4,25),e.TgZ(5,"div",26),e._UZ(6,"p-slider",27),e.TgZ(7,"span",28),e._uU(8),e.ALo(9,"number"),e.qZA()(),e._UZ(10,"p-inputNumber",29),e.YNc(11,mL,7,3,"div",30),e.BQk(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("deleted",t.deleted)("name",t.fullName)("size",5)("src",t.avatar),e.xp6(2),e.Oqu(t.fullName),e.xp6(1),e.Q6J("formGroupName",t.login),e.xp6(2),e.Q6J("max",1)("min",0)("step",.01),e.xp6(2),e.hij(" ",e.xi3(9,12,100*i.employeeRatioForm.value[t.login].ratio,"1.2-2"),"% "),e.xp6(2),e.Q6J("disabled",0===i.totalCostOfWork),e.xp6(1),e.Q6J("ngIf",i.hasWorkActionRatio(t.login))}}function CL(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"div",13)(3,"span",14),e._uU(4," \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c "),e.qZA(),e.TgZ(5,"p-button",15),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.equalize())}),e.qZA()(),e.TgZ(6,"div",16),e.YNc(7,_L,12,15,"div",17),e.qZA(),e.TgZ(8,"div",18)(9,"span",19),e._uU(10),e.qZA(),e.TgZ(11,"span",20),e._uU(12),e.qZA(),e.TgZ(13,"p-button",21),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendCalculation())}),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("formGroup",t.employeeRatioForm),e.xp6(1),e.Q6J("ngForOf",null==t.selectedWorkLog?null:t.selectedWorkLog.employees)("ngForTrackBy",t.trackByEmployee),e.xp6(3),e.hij(" \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",t.allMoney," \u0440\u0443\u0431. "),e.xp6(2),e.hij(" \u0418\u0442\u043e\u0433 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u044d\u0444.: ",t.allMoneyWithRatio," \u0440\u0443\u0431. "),e.xp6(1),e.Q6J("loading",t.isSendingCalculation)}}function vL(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",42),e._UZ(2,"p-progressSpinner",43),e.qZA(),e.BQk())}function bL(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",42)(2,"div",44),e._UZ(3,"span",45),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function yL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",49)(2,"div",50)(3,"span",51),e._uU(4),e.qZA(),e.TgZ(5,"span",34),e._uU(6,"\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 "),e._UZ(7,"app-task-link",52),e.qZA()(),e.TgZ(8,"div",50)(9,"span",51),e._uU(10),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.qZA(),e._UZ(13,"app-employee-label",53),e.qZA(),e.TgZ(14,"div",50)(15,"span",51),e._uU(16),e.ALo(17,"titlecase"),e.ALo(18,"date"),e.qZA(),e._UZ(19,"app-avatar-list",54),e.qZA()(),e._UZ(20,"div",55),e.TgZ(21,"div",56)(22,"p-button",57),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.selectWork(c))}),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("#",t.workLogId,""),e.xp6(3),e.Q6J("task",t.task),e.xp6(3),e.hij("\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430: ",e.lcZ(11,8,e.xi3(12,10,t.created,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employee",t.creator)("size",1.2),e.xp6(3),e.hij("\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430: ",e.lcZ(17,13,e.xi3(18,15,t.closed,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employees",t.employees)("size",1.2)}}function IL(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",46),e.YNc(2,yL,23,18,"div",47),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.uncalculatedWorkLogs)("ngForTrackBy",t.trackByWorkLog)}}function AL(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",42)(2,"div",58),e._UZ(3,"span",59),e.TgZ(4,"span"),e._uU(5,"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA()()(),e.BQk())}function TL(n,o){if(1&n&&(e.TgZ(0,"div",39),e._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445"),e.qZA(),e.ynx(2,40),e.YNc(3,vL,3,0,"ng-container",41),e.YNc(4,bL,6,0,"ng-container",41),e.YNc(5,IL,3,2,"ng-container",41),e.YNc(6,AL,6,0,"ng-container",41),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function wL(n,o){1&n&&(e.TgZ(0,"span",87),e._uU(1,"(\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0430)"),e.qZA())}function xL(n,o){if(1&n&&(e.TgZ(0,"div",88)(1,"div",89),e._uU(2),e.qZA(),e.TgZ(3,"div",34),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.textRepresentation," ")}}function EL(n,o){1&n&&(e.TgZ(0,"div",65),e._UZ(1,"span",90),e.TgZ(2,"span"),e._uU(3," \u0426\u0435\u043b\u044c "),e.qZA()())}function SL(n,o){if(1&n&&(e.TgZ(0,"div",91),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription," ")}}function kL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",94),e.NdJ("dblclick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.workingTableBack())}),e.TgZ(1,"td",95),e._UZ(2,"span",96),e.TgZ(3,"span"),e._uU(4,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()(),e._UZ(5,"td"),e.qZA()}2&n&&(e.xp6(2),e.Udp("font-size","1em"))}function ML(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",94),e.NdJ("dblclick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.loadWorksByGroup(r.key))}),e.TgZ(1,"td",95),e._UZ(2,"span"),e.TgZ(3,"span",97),e._uU(4),e.qZA()(),e._UZ(5,"td"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Tol(t.icon),e.Udp("font-size","1em"),e.xp6(2),e.Oqu(t.label)}}function DL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",98),e.NdJ("onDragStart",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.workDragging(r.data))}),e.TgZ(1,"td",95),e._UZ(2,"span"),e.TgZ(3,"span",97),e._uU(4),e.qZA()(),e.TgZ(5,"td",99),e._uU(6),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(2),e.Tol(t.icon),e.Udp("font-size","1em"),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.hij(" ",i.workCost(t.data)," \u0440\u0443\u0431. ")}}function OL(n,o){1&n&&(e.ynx(0,40),e.YNc(1,kL,6,2,"tr",92),e.YNc(2,ML,6,5,"tr",92),e.YNc(3,DL,7,6,"tr",93),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.type),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work"))}function PL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",98),e.NdJ("onDragStart",function(){const c=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.actionDragging(c))}),e.TgZ(1,"td",95),e._UZ(2,"span",100),e.TgZ(3,"span",97),e._uU(4),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"unitName"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("font-size","1em"),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431/",e.lcZ(7,5,t.unit)," ")}}function RL(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0420\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u044d\u0444."),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u0434.?"),e.qZA()())}function LL(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2),r=t.$implicit;e.uIk("rowspan",t.rowspan),e.xp6(1),e.Oqu(r.workName)}}function NL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",104),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw(2).$implicit,p=e.oxw(2);return e.KtG(p.updateActionCount(r,c))})("onFocus",function(r){e.CHM(t);const c=e.oxw(4);return e.KtG(c.selectAllValue(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw(2).$implicit;return e.KtG(c.count=r)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function FL(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function BL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",105),e.NdJ("onClick",function(r){e.CHM(t);const c=e.oxw(2).$implicit,p=e.oxw(2),C=e.MAs(13);return p.selectWorkActions(c.workId,c.workName),e.KtG(C.toggle(r))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function HL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",106),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,c=e.oxw(2);return e.KtG(c.removeWork(r.workId))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function VL(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,LL,2,2,"td",4),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",101)(5,"p-cellEditor"),e.YNc(6,NL,1,5,"ng-template",102),e.YNc(7,FL,2,4,"ng-template",103),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.YNc(10,BL,2,1,"td",4),e.YNc(11,HL,2,1,"td",4),e.qZA()),2&n){const t=e.oxw(),i=t.rowgroup,r=t.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(2),e.Oqu(r.actionName),e.xp6(6),e.hij("",r.cost," \u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",i)}}function ZL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",104),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw(2).$implicit,p=e.oxw(2);return e.KtG(p.updateActionCount(r,c))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw(2).$implicit;return e.KtG(c.count=r)})("onFocus",function(r){e.CHM(t);const c=e.oxw(4);return e.KtG(c.selectAllValue(r))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function UL(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function zL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",101)(5,"p-cellEditor"),e.YNc(6,ZL,1,5,"ng-template",102),e.YNc(7,UL,2,4,"ng-template",103),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"p-button",105),e.NdJ("onClick",function(r){e.CHM(t);const c=e.oxw().$implicit,p=e.oxw(2),C=e.MAs(13);return p.selectAction(c.uuid,c.actionName),e.KtG(C.toggle(r))}),e.qZA()(),e.TgZ(12,"td")(13,"p-button",106),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.removeAction(r.uuid))}),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.actionName),e.xp6(6),e.hij("",t.cost," \u0440\u0443\u0431.")}}function GL(n,o){if(1&n&&(e.YNc(0,VL,12,5,"tr",4),e.YNc(1,zL,14,2,"tr",4)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.workId),e.xp6(1),e.Q6J("ngIf",!t.workId)}}const QL=function(){return[]},JL=function(){return{grid:"min-content 1fr / max-content max-content 1fr",marginBottom:"1.5rem"}},jL=function(n){return{"drop-zone":n}};function WL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",60)(1,"p-button",61),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unselectWork())}),e.qZA(),e.TgZ(2,"span",62),e._uU(3),e.qZA(),e.YNc(4,wL,2,0,"span",63),e.qZA(),e.TgZ(5,"div",64)(6,"div",49)(7,"div",65),e._UZ(8,"span",66),e.TgZ(9,"span"),e._uU(10," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 "),e.qZA()(),e.TgZ(11,"div",67),e.YNc(12,xL,5,2,"div",68),e.qZA()(),e.TgZ(13,"div",49),e.YNc(14,EL,4,0,"div",69),e.YNc(15,SL,2,1,"div",70),e.qZA(),e.TgZ(16,"div",49)(17,"div",65),e._UZ(18,"span",71),e.TgZ(19,"span"),e._uU(20),e.qZA()(),e.TgZ(21,"div",72),e._uU(22),e.qZA()(),e._UZ(23,"div",73),e.TgZ(24,"div",74)(25,"div",75),e._uU(26," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e._UZ(27,"span"),e.TgZ(28,"div",75),e._uU(29," \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e.TgZ(30,"div",76)(31,"p-tabView",77)(32,"p-tabPanel",78)(33,"p-table",79),e.YNc(34,OL,4,4,"ng-template",80),e.qZA()(),e.TgZ(35,"p-tabPanel",81)(36,"p-table",79),e.YNc(37,PL,8,7,"ng-template",80),e.qZA()()()(),e._UZ(38,"span",82),e.TgZ(39,"div",83),e.NdJ("onDragEnter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dragEnter())})("onDragLeave",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dragLeave())})("onDrop",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dropped())}),e.TgZ(40,"p-table",84),e.YNc(41,RL,13,0,"ng-template",85),e.YNc(42,GL,2,2,"ng-template",80),e.qZA(),e.TgZ(43,"div",86),e._uU(44),e.qZA()()()()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("disabled",t.isSendingCalculation),e.xp6(2),e.hij("\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 #",null==t.selectedWorkLog||null==t.selectedWorkLog.task?null:t.selectedWorkLog.task.taskId,""),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.isForceClosed),e.xp6(8),e.Q6J("ngForOf",null!==(i=null==t.selectedWorkLog||null==t.selectedWorkLog.task?null:t.selectedWorkLog.task.fields)&&void 0!==i?i:e.DdM(20,QL))("ngForTrackBy",t.trackByField),e.xp6(2),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(5),e.hij(" ",null!=t.selectedWorkLog&&t.selectedWorkLog.isForceClosed?"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f":"\u041e\u0442\u0447\u0435\u0442"," "),e.xp6(2),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.report," "),e.xp6(2),e.Akn(e.DdM(21,JL)),e.xp6(9),e.Q6J("loading",t.worksTableLoading)("rowHover",!0)("value",t.treeMenuWorksItems),e.xp6(3),e.Q6J("loading",t.actionsTableLoading)("rowHover",!0)("value",t.tableMenuActionsItems),e.xp6(3),e.Q6J("ngClass",e.VKq(22,jL,t.isDragging)),e.xp6(1),e.Q6J("value",t.actionsTaken),e.xp6(4),e.hij(" \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442: ",t.totalCostOfWork," \u0440\u0443\u0431. ")}}function KL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",107)(1,"div",108)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",109),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.emptyCalculationDescription=r)}),e.qZA()(),e.TgZ(5,"div",110)(6,"p-button",111),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.emptyCalculationConformationDialogVisible=!1,e.KtG(r.emptyCalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",112),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendEmptyCalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.emptyCalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.emptyCalculationDescription)("loading",t.isSendingCalculation)}}const YL=function(){return{marginBottom:"1rem"}},$L=function(){return{width:"max-content"}},qL=function(){return{width:"50vw",minWidth:"fit-content"}},eN=[{path:"",component:Yy.h,children:[{path:"",component:Q_},{path:"tasks/incoming",component:lI},{path:"tasks/calendar",component:QD},{path:"tasks/list",component:$o},{path:"tasks/status/:status",component:$o},{path:"tasks/status/:status/:template",component:$o},{path:"tasks/stages/:template",component:xh},{path:"task/create",component:uo},{path:"task/:id",component:hy},{path:"tasks/templates",component:by},{path:"tasks/templates/constructor",component:y_},{path:"employees",component:H_},{path:"testing",component:J_},{path:"parser/tracker",component:C4},{path:"parser/address",component:y4},{path:"salary/table",component:AO},{path:"salary/paid-actions",redirectTo:"/salary/paid-actions/1?includeDeleted=false",pathMatch:"full"},{path:"salary/paid-actions/:page",component:HO},{path:"salary/works",component:MR},{path:"salary/estimation",component:(()=>{class n{constructor(t,i,r){this.api=t,this.confirmation=i,this.rt=r,this.uncalculatedWorkLogs=[],this.loadingState=We.Gu.LOADING,this.treeMenuWorksItems=[],this.worksTablePath=[],this.worksTableLoading=!1,this.actionsTaken=[],this.isDragging=!1,this.dragEnterCounter=0,this.tableMenuActionsItems=[],this.actionsTableLoading=!1,this.employeeRatioForm=new $.cw({}),this.employeeRatioSubscriptions=new B.xf,this.workActionsRatioMenu=[],this.factorsActions=[],this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.isSendingCalculation=!1,this.subscriptions=new B.xf,this.removeWorkLogFromListHandler={next:c=>{this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(p=>p.workLogId!==c.workLogId)}},this.addWorkLogToListHandler={next:c=>{this.uncalculatedWorkLogs.unshift(c)}},this.sendingCalculationHandlers={next:()=>{this.isSendingCalculation=!1,this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.resetCalculation(),this.selectedWorkLog&&(this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(c=>{var p;return c.workLogId!==(null===(p=this.selectedWorkLog)||void 0===p?void 0:p.workLogId)}),this.uncalculatedWorkLogs.length>0&&this.selectWork(this.uncalculatedWorkLogs[0]))},error:()=>{this.isSendingCalculation=!1}}}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}get allMoney(){return Object.values(this.employeeRatioForm.value).reduce((t,i)=>t+i.sum,0)}get allMoneyWithRatio(){return this.allMoney+this.getTotalWorkActionsRatioSum()}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWar(t,i){return i.uuid+i.name+i.factor}deselectFactor(){this.selectedUuidActions=void 0}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadUncalculatedWorkLogs(),this.loadWorks(),this.loadActions()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadUncalculatedWorkLogs(){this.loadingState=We.Gu.LOADING,this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?We.Gu.READY:We.Gu.EMPTY},error:t=>{this.loadingState=We.Gu.ERROR}}),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().pipe((0,rl.h)(t=>t.calculated)).subscribe(this.removeWorkLogFromListHandler)),this.subscriptions.addSubscription("wlCr",this.rt.workLogClosed().pipe((0,rl.h)(t=>!t.calculated)).subscribe(this.addWorkLogToListHandler))}loadActions(){this.actionsTableLoading=!0,this.api.getListAvailablePaidActions().subscribe({next:t=>{this.tableMenuActionsItems=t,this.actionsTableLoading=!1},error:t=>{this.actionsTableLoading=!1}})}loadWorks(){this.worksTableLoading=!0,this.api.getRootTreeOfWorks(!0).subscribe({next:t=>{this.treeMenuWorksItems=t,this.worksTableLoading=!1}})}selectWork(t){if(this.selectedWorkLog=t,this.selectedWorkLog&&this.selectedWorkLog.employees.length>0){this.workActionsRatioMenu=this.selectedWorkLog.employees.map(c=>({label:c.fullName,items:[{label:"x0.1",command:()=>this.addActionRatio(.1,c.login)},{label:"x0.25",command:()=>this.addActionRatio(.2,c.login)},{label:"x0.5",command:()=>this.addActionRatio(.5,c.login)},{label:"x0.75",command:()=>this.addActionRatio(.75,c.login)},{label:"x1.25",command:()=>this.addActionRatio(1.25,c.login)},{label:"x1.5",command:()=>this.addActionRatio(1.5,c.login)},{label:"x2",command:()=>this.addActionRatio(2,c.login)},{label:"x3",command:()=>this.addActionRatio(3,c.login)}]}));const r=1/this.selectedWorkLog.employees.length;this.employeeRatioForm=new $.cw(this.selectedWorkLog.employees.reduce((c,p)=>{const C=new $.cw({ratio:new $.NI(r),sum:new $.NI(Math.floor(r*this.totalCostOfWork))});return this.employeeRatioSubscriptions.addSubscription(p.login+"rt",C.controls.ratio.valueChanges.subscribe(E=>{if(null===E)return;const ie=p.login,ae=Object.keys(this.employeeRatioForm.value).filter(tt=>tt!==ie).map(tt=>this.employeeRatioForm.value[tt].ratio).reduce((tt,rt)=>tt+rt,0);if(E+ae>1){const tt=E+ae-1,rt={};for(let it in this.employeeRatioForm.value){if(rt[it]={ratio:0,sum:0},it===ie)continue;const Pt=this.employeeRatioForm.value[it].ratio;rt[it].ratio=Pt-tt*(Pt/ae),rt[it].sum=Math.floor(rt[it].ratio*this.totalCostOfWork)}rt[ie].ratio=E,rt[ie].sum=Math.floor(E*this.totalCostOfWork),this.employeeRatioForm.patchValue(rt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[ie]:{ratio:E,sum:Math.floor(E*this.totalCostOfWork)}},{emitEvent:!1})})),this.employeeRatioSubscriptions.addSubscription(p.login+"sum",C.controls.sum.valueChanges.subscribe(E=>{if(null!==E&&E>this.totalCostOfWork&&(E=this.totalCostOfWork),null===E)return;const ie=p.login,ae=Object.keys(this.employeeRatioForm.value).filter(tt=>tt!==ie).map(tt=>this.employeeRatioForm.value[tt].sum).reduce((tt,rt)=>tt+rt,0);if(E+ae>this.totalCostOfWork){const tt=E+ae-this.totalCostOfWork,rt={};for(let it in this.employeeRatioForm.value){if(rt[it]={ratio:0,sum:0},it===ie)continue;const Pt=this.employeeRatioForm.value[it].sum;rt[it].sum=Math.floor(Pt-tt*(Pt/ae)),rt[it].ratio=rt[it].sum/this.totalCostOfWork}rt[ie].sum=Math.floor(E),rt[ie].ratio=E/this.totalCostOfWork,this.employeeRatioForm.patchValue(rt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[ie]:{ratio:E/this.totalCostOfWork,sum:Math.floor(E)}},{emitEvent:!1})})),Object.assign(Object.assign({},c),{[p.login]:C})},{}))}}unselectWork(){this.selectedWorkLog=void 0,this.employeeRatioSubscriptions.unsubscribeAll(),this.resetCalculation()}resetCalculation(){this.actionsTaken=[],this.employeeRatioForm.reset(),this.factorsActions=[]}loadWorksByGroup(t){this.worksTableLoading=!0,this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTablePath.push(t),this.treeMenuWorksItems.unshift({type:"back",key:t}),this.worksTableLoading=!1}})}workingTableBack(){this.worksTablePath.pop();const t=this.worksTablePath.pop();this.worksTableLoading=!0,t?this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.treeMenuWorksItems.unshift({type:"back"}),this.worksTableLoading=!1}}):this.api.getRootTreeOfWorks(!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTableLoading=!1}})}dropped(){if(this.draggablePaidWork){const t=this.actionsTaken.filter(i=>{var r;return i.workId===(null===(r=this.draggablePaidWork)||void 0===r?void 0:r.paidWorkId)});if(0===t.length)for(let i of this.draggablePaidWork.actions)this.actionsTaken.push({workName:this.draggablePaidWork.name,workId:this.draggablePaidWork.paidWorkId,actionName:i.action.name,count:i.count,unit:i.action.unit,price:i.action.cost,cost:i.action.cost*i.count,actionId:i.action.paidActionId,uuid:(0,Er.Z)()});else t.forEach(i=>{var r;const c=null===(r=this.draggablePaidWork)||void 0===r?void 0:r.actions.find(p=>p.action.paidActionId===i.actionId);c&&(i.count+=c.count,i.cost=i.price*i.count)});this.actionsTaken=[...this.actionsTaken],this.recalculateAmountsForEmployees()}if(this.draggableAction){const t=this.actionsTaken.find(i=>{var r;return!i.workId&&i.actionId===(null===(r=this.draggableAction)||void 0===r?void 0:r.paidActionId)});t?(t.count+=1,t.cost=t.price*t.count):this.actionsTaken.push({workName:void 0,workId:void 0,actionName:this.draggableAction.name,count:1,unit:this.draggableAction.unit,price:this.draggableAction.cost,cost:this.draggableAction.cost,actionId:this.draggableAction.paidActionId,uuid:(0,Er.Z)()}),this.actionsTaken=[...this.actionsTaken],this.recalculateAmountsForEmployees()}this.draggablePaidWork=void 0,this.draggableAction=void 0,this.isDragging=!1,this.dragEnterCounter=0}workDragging(t){this.draggablePaidWork=t}actionDragging(t){this.draggableAction=t}workCost(t){let i=0;for(let r of t.actions)i+=r.action.cost*r.count;return i}removeWork(t){const i=this.actionsTaken.filter(r=>r.workId===t);this.factorsActions=this.factorsActions.filter(r=>!r.actionUuids.some(c=>c===i[0].uuid)),this.actionsTaken=this.actionsTaken.filter(r=>!i.some(c=>c.uuid==r.uuid)),this.recalculateAmountsForEmployees()}updateActionCount(t,i){i.cost=t*i.price,this.recalculateAmountsForEmployees()}dragEnter(){this.dragEnterCounter++,this.isDragging=!0}dragLeave(){this.dragEnterCounter--,0===this.dragEnterCounter&&(this.isDragging=!1)}removeAction(t){this.factorsActions=this.factorsActions.filter(i=>!i.actionUuids.some(r=>r===t)),this.actionsTaken=this.actionsTaken.filter(i=>i.uuid!==t),this.recalculateAmountsForEmployees()}recalculateAmountsForEmployees(){for(const t in this.employeeRatioForm.value){const i=this.employeeRatioForm.value[t];this.employeeRatioForm.patchValue({[t]:{ratio:i.ratio,sum:Math.floor(i.ratio*this.totalCostOfWork)}},{emitEvent:!1})}}selectAllValue(t){const i=t.target;i.setSelectionRange(0,i.value.length)}equalize(){if(!this.selectedWorkLog)return;const i=1/this.selectedWorkLog.employees.length;Object.keys(this.employeeRatioForm.value).forEach(r=>{this.employeeRatioForm.patchValue({[r]:{ratio:i,sum:Math.floor(i*this.totalCostOfWork)}},{emitEvent:!1})})}sendCalculation(){0!==this.actionsTaken.length?this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u0447\u0435\u0442?",accept:()=>{!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value[t.login].ratio,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))}))}).subscribe(this.sendingCalculationHandlers))}}):this.emptyCalculationConformationDialogVisible=!0}sendEmptyCalculation(){!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,emptyDescription:this.emptyCalculationDescription,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value[t.login].ratio,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))}))}).subscribe(this.sendingCalculationHandlers))}addActionRatio(t,i){!this.selectedUuidActions||!this.selectedWorkName||this.factorsActions.push({factor:t,login:i,name:this.selectedWorkName,actionUuids:this.selectedUuidActions,uuid:(0,Er.Z)()})}getWorkActionsRatioSum(t){const i=this.factorsActions.find(r=>r.uuid===t);if(i){const p=i.actionUuids.reduce((C,E)=>{const ie=this.actionsTaken.find(ae=>ae.uuid===E);return ie?C+ie.cost:C},0)*this.employeeRatioForm.value[i.login].ratio;return Math.floor(p*i.factor-p)}return 0}getTotalWorkActionsRatioSum(){return this.factorsActions.reduce((t,i)=>t+this.getWorkActionsRatioSum(i.uuid),0)}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.factorsActions=this.factorsActions.filter(i=>i.uuid!==t)}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}getEmployeeTotalPayment(t){return this.employeeRatioForm.value[t].sum+this.getFactorsActions(t).reduce((i,r)=>i+this.getWorkActionsRatioSum(r.uuid),0)}selectWorkActions(t,i){this.selectedUuidActions=this.actionsTaken.filter(r=>r.workId===t).map(r=>r.uuid),this.selectedWorkName=i}selectAction(t,i){this.selectedUuidActions=[t],this.selectedWorkName=i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(H.s),e.Y36(j.YP),e.Y36(Zi.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([j.Y])],decls:16,vars:18,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","stretched","panel","p10"],[4,"ngIf"],["uncalculatedListTemp",""],["selectedWorkTemp",""],["appendTo","body",3,"model","popup","onHide"],["ratioMenu",""],["header","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0440\u0430\u0441\u0447\u0435\u0442?",3,"visible","draggable","modal","resizable","visibleChange"],["pTemplate","content"],[4,"ngTemplateOutlet"],[1,"flexed","column","gap15","stretched","panel","p20"],[1,"flexed","gap10","hcenter","spbtw"],[1,"caption","size-huge"],["icon","mdi-equalizer","label","\u0420\u0430\u0432\u043d\u044b\u0435 \u0434\u043e\u043b\u0438","styleClass","p-button-text p-button-secondary",3,"onClick"],[1,"flexed","gap10","sparnd",3,"formGroup"],["class","flexed column vcenter gap5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","vend","hcenter","gap10"],[1,"caption","wt-bold","f-color-500"],[1,"caption","size-big","wt-bold","f-color-primary"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"loading","onClick"],[1,"flexed","column","vcenter","gap5"],[3,"deleted","name","size","src"],[1,"caption","size-big"],[3,"formGroupName"],[1,"flexed","gap10","hcenter","w-full"],["formControlName","ratio",1,"w-full",3,"max","min","step"],[1,"caption","size-tiny","wt-bold","f-color-500"],["formControlName","sum","suffix"," \u0440\u0443\u0431.",3,"disabled"],["class","flexed column gap2",4,"ngIf"],[1,"flexed","column","gap2"],[1,"caption","size-tiny","wt-bold"],["class","flexed hcenter gap3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"caption"],[1,"flexed","hcenter","gap3"],[1,"caption","size-tiny","wt-bold","f-color-primary"],[3,"class",4,"ngIf"],["icon","delete","model","danger",3,"size","onClick"],[1,"caption","size-huge","wt-tiny","f-color-600"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"stretched","relative"],["strokeWidth","1",1,"primary-spinner","center-of-content"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-danger","wt-bold"],[1,"mds-error"],[1,"flexed","column"],["class","flexed gap3 p10 split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","p10","split-line"],[1,"flexed","column","gap3"],[1,"flexed","gap5","hcenter"],[1,"caption","size-small","wt-bold","f-color-600"],[3,"task"],[3,"employee","size"],[3,"employees","size"],[1,"stretched"],[1,"flexed","hcenter"],["label","\u0420\u0430\u0441c\u0447\u0438\u0442\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"onClick"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-400","wt-bold"],[1,"mds-release_alert"],[1,"flexed","hcenter","gap10"],["icon","mdi-arrow_back","styleClass","p-button-text p-button-icon",3,"disabled","onClick"],[1,"caption","wt-tiny","f-color-600","size-huge"],["class","caption f-color-danger wt-bold size-big",4,"ngIf"],[1,"flexed","column","p-sides-20","gap10"],[1,"caption","f-color-700","size-big","with-icon"],[1,"mdi-info"],[1,"flexed","column","p-sides-20","gap5"],["class","flexed gap1 column",4,"ngFor","ngForOf","ngForTrackBy"],["class","caption f-color-700 size-big with-icon",4,"ngIf"],["class","flexed column p-sides-20",4,"ngIf"],[1,"mdi-feed"],[1,"caption","prewrap","p-sides-20"],[1,"terminator"],[1,"grided","gap5"],[1,"caption","size-big","wt-bold","f-color-500"],[1,"table-wrapper"],["styleClass","tab-content-unpadding"],["header","\u0420\u0430\u0431\u043e\u0442\u044b"],["styleClass","p-datatable-sm",3,"loading","rowHover","value"],["pTemplate","body"],["header","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"],[1,"mds-sync_alt","caption","size-huge","self-center"],["pDroppable","dd",1,"stretched","flexed","column","table-wrapper",3,"ngClass","onDragEnter","onDragLeave","onDrop"],["groupRowsBy","workId","rowGroupMode","rowspan","sortField","workName","sortMode","single",1,"stretched",3,"value"],["pTemplate","header"],[1,"flexed","hcenter","vend","caption","f-color-400","wt-tiny","size-huge","p5"],[1,"caption","f-color-danger","wt-bold","size-big"],[1,"flexed","gap1","column"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"mdi-radar"],[1,"flexed","column","p-sides-20"],["class","not-selectable",3,"dblclick",4,"ngSwitchCase"],["class","not-selectable cursor-move","dragEffect","move","pDraggable","dd",3,"onDragStart",4,"ngSwitchCase"],[1,"not-selectable",3,"dblclick"],[1,"caption","size-small","with-icon"],[1,"mdi-subdirectory_arrow_left"],[1,"caption","f-inline"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"onDragStart"],[1,"caption","size-small"],[1,"mdi-directions_run"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],[3,"ngModel","allowEmpty","max","min","size","ngModelChange","onFocus"],["icon","mdi-exposure_plus_2","styleClass","p-button-text p-button-icon p-button-success",3,"onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-icon p-button-danger",3,"click"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,dL,2,1,"ng-container",4),e.YNc(6,hL,2,1,"ng-container",4),e.qZA(),e.YNc(7,CL,14,6,"ng-container",4),e.qZA()()(),e.YNc(8,TL,7,5,"ng-template",null,5,e.W1O),e.YNc(10,WL,45,24,"ng-template",null,6,e.W1O),e.TgZ(12,"p-slideMenu",7,8),e.NdJ("onHide",function(){return i.deselectFactor()}),e.qZA(),e.TgZ(14,"p-dialog",9),e.NdJ("visibleChange",function(c){return i.emptyCalculationConformationDialogVisible=c}),e.YNc(15,KL,8,6,"ng-template",10),e.qZA()),2&t&&(e.xp6(1),e.Akn(e.DdM(15,YL)),e.xp6(4),e.Q6J("ngIf",!i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(5),e.Akn(e.DdM(16,$L)),e.Q6J("model",i.workActionsRatioMenu)("popup",!0),e.xp6(2),e.Akn(e.DdM(17,qL)),e.Q6J("visible",i.emptyCalculationConformationDialogVisible)("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[ms.A,ht,Se,Io,ss.U,wi.x,Rs.k,$.Fj,$.JJ,$.JL,$.On,vo.xf,vo.x4,j.jx,I.sg,ki.V,$.sg,$.u,$.x0,I.O5,Ur.g,Ii.zx,I.tP,I.RF,I.n9,I.mk,X.G,ln.Rn,DR,OR,Jg,Ix,_O,Px.iR,Lx,I.uU,a1,I.rS,I.JJ],styles:[".table-wrapper[_ngcontent-%COMP%]{border:1px solid var(--bgc-300);border-radius:var(--br-200);overflow:hidden}"]}),n})()}]}];let tN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.Bz.forChild(eN),s.Bz]}),n})();var nN=_(6641),iN=_(9114);let uN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,j.m8]}),n})(),AN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[I.ez,$.u5]]}),n})();var TN=_(9925),wN=_(5055),xN=_(9770),EN=_(4782);function SN(n,o){}const h0=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let kN=(()=>{class n{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const Nx=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],g0=(n,o,t)=>(0,ju.R)(n,o).pipe((0,sl.R)(t)),Fx=(n,o)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:o;let Bx=0;const Hx=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),Vx=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),PN=(n,o)=>Vx(n).concat(Vx(o)),RN=()=>{},Zx=n=>null==n,LN=(()=>{let n={script$:null};return{load:(i,r)=>n.script$||(n.script$=(0,xN.P)(()=>{const c=i.createElement("script");return c.referrerPolicy="origin",c.type="application/javascript",c.src=r,i.head.appendChild(c),(0,ju.R)(c,"load").pipe((0,Zc.q)(1),(0,Ex.h)(void 0))}).pipe((0,EN.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),NN=new e.OlP("TINYMCE_SCRIPT_SRC"),FN={provide:$.JU,useExisting:(0,e.Gpc)(()=>zx),multi:!0};let zx=(()=>{class n extends kN{constructor(t,i,r,c){super(),this.platformId=r,this.tinymceScriptSrc=c,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=RN,this.destroy$=new Pi.x,this.initialise=()=>{const p=Object.assign(Object.assign({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:PN(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:C=>{this._editor=C,g0(C,"init",this.destroy$).subscribe(()=>{this.initEditor(C)}),((n,o,t)=>{(n=>{const o=Fx(n.ignoreEvents,[]);return Fx(n.allowedEvents,Nx).filter(i=>Nx.includes(i)&&!o.includes(i))})(n).forEach(r=>{const c=n[r];g0(o,r.substring(2),t).subscribe(p=>{c.observers.length>0&&n.ngZone.run(()=>c.emit({event:p,editor:o}))})})})(this,C,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(C)}});Hx(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{h0().init(p)})},this._elementRef=t,this.ngZone=i}set disabled(t){var i;this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof(null===(i=this._editor.mode)||void 0===i?void 0:i.set)?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(Zx(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){var t;(0,I.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),i=Math.floor(1e9*Math.random());return Bx++,"tiny-angular_"+i+Bx+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!(null===(t=this.init)||void 0===t||!t.inline),this.createElement(),null!==h0()?this.initialise():this._element&&this._element.ownerDocument&&LN.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,sl.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==h0()&&h0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Hx(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return Zx(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){g0(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),g0(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(NN,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([FN]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,i){1&t&&e.YNc(0,SN,0,0,"ng-template")},dependencies:[I.ez,$.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var BN=_(9618);let gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Jo.U,D.T,Za.v,j.m8,Za.v]}),n})(),fF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[j.ez,{provide:e.soG,useValue:"ru"},j.YP],imports:[nN.U,tN,Eo.JP.forRoot({sanitize:e.q3G.NONE}),T_,$.u5,vo.LU,ki.S,$.UX,St.kW,Ry,wa,Xa.nD,Ur.A,iN.D,uN,AN,To._8,Pr,_x,sc,_d,Uo.$9,Ye.j,TN.z,fe.q4,Ue.y,Pb,X.L,br.m,Zb,oh.e4,Hf,Jo.U,Im.n,wN.ON,vT,zx,_s.g6,_s.qH,pD,FD,_x,Cx.q,hn.Qy,BN.E,DP,K3,D.T,gF,PR,CO,Px.JH,cL]}),n})()},9936:(Ht,et,_)=>{_.d(et,{h:()=>Te});var e=_(5e3),s=_(5572),g=_(9744),H=_(9014);const L=["chatPanelEl"];function I(ke,we){if(1&ke){const Fe=e.EpF();e.TgZ(0,"app-button",9),e.NdJ("onClick",function(){e.CHM(Fe);const Pe=e.oxw();return e.KtG(Pe.openCreateTaskPage())}),e.qZA()}}function U(ke,we){if(1&ke){const Fe=e.EpF();e.TgZ(0,"span",10),e._UZ(1,"i",11),e._uU(2," \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(3,"div",4),e.TgZ(4,"p-button",12),e.NdJ("onClick",function(){e.CHM(Fe);const Pe=e.oxw();return e.KtG(Pe.notifyService.readAllNotifications())}),e.qZA()}if(2&ke){const Fe=e.oxw();e.xp6(4),e.Q6J("disabled",!Fe.notifyService.isHasUnread)}}function le(ke,we){1&ke&&e._UZ(0,"app-notification-item",17),2&ke&&e.Q6J("notification",we.$implicit)}function re(ke,we){if(1&ke){const Fe=e.EpF();e.TgZ(0,"div",15),e.NdJ("onScrollToBottom",function(){e.CHM(Fe);const Pe=e.oxw(2);return e.KtG(!Pe.notifyService.isLast&&Pe.notifyService.load())}),e.YNc(1,le,1,1,"app-notification-item",16),e.qZA()}if(2&ke){const Fe=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",Fe.notifyService.list)}}function K(ke,we){if(1&ke){const Fe=e.EpF();e.TgZ(0,"div",18)(1,"span",19),e._UZ(2,"i",20),e._uU(3," \u041d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0438\u0306 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"),e.qZA(),e.TgZ(4,"p-button",21),e.NdJ("onClick",function(){e.CHM(Fe);const Pe=e.oxw(2);return e.KtG(Pe.notifyService.changeNotificationViewMode("ALL"))}),e.qZA()()}2&ke&&e.Udp("padding-top","10rem")}function pe(ke,we){if(1&ke&&(e.YNc(0,re,2,1,"div",13),e.YNc(1,K,5,2,"div",14)),2&ke){const Fe=e.oxw();e.Q6J("ngIf",!Fe.notifyService.isEmpty),e.xp6(1),e.Q6J("ngIf",Fe.notifyService.isEmpty)}}const ue=function(){return["/"]},Oe=function(){return{width:"max-content",maxWidth:"30vw"}};let Te=(()=>{class ke{constructor(Fe,Y,Pe){this.router=Fe,this.notifyService=Y,this.chatService=Pe,this.isTaskCreationPage=!1}ngOnInit(){this.isTaskCreationPage="/task/create"===this.router.url,this.openChatSub=this.chatService.open.subscribe(Fe=>{this.chatPanelEl&&this.chatPanelEl.show(Fe)})}ngOnDestroy(){var Fe;null===(Fe=this.openChatSub)||void 0===Fe||Fe.unsubscribe()}openCreateTaskPage(){window.open("/task/create","_blank",`popup=yes,width=800,height=800,left=${screen.width/2-400},top=${screen.height/2-400}`)}}return ke.\u0275fac=function(Fe){return new(Fe||ke)(e.Y36(s.F0),e.Y36(g.T),e.Y36(H.a))},ke.\u0275cmp=e.Xpm({type:ke,selectors:[["ng-component"]],viewQuery:function(Fe,Y){if(1&Fe&&e.Gf(L,5),2&Fe){let Pe;e.iGM(Pe=e.CRH())&&(Y.chatPanelEl=Pe.first)}},decls:17,vars:12,consts:[[1,"top-panel"],[1,"responsive-wrapper","top-panel-content"],["src","assets/logo-dark.svg","alt","",1,"cursor-pointer",3,"routerLink"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","icon","add_task","model","p-button-success",3,"onClick",4,"ngIf"],[1,"stretched"],["appScrollToBottomEmitter","",3,"showCloseIcon","blockScroll","visible","position","visibleChange","onShow","onHide"],["pTemplate","header"],["pTemplate","content"],["chatPanelEl",""],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","icon","add_task","model","p-button-success",3,"onClick"],[1,"caption","size-big","flexed","inline","hcenter","gap3"],[1,"mdi-circle_notifications"],["styleClass","p-button-text","icon","mdi-clear_all","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",3,"disabled","onClick"],["class","list-view flexed v-scroll","appScrollToBottomEmitter","",3,"onScrollToBottom",4,"ngIf"],["class","flexed hcenter vcenter column p10",3,"padding-top",4,"ngIf"],["appScrollToBottomEmitter","",1,"list-view","flexed","v-scroll",3,"onScrollToBottom"],[3,"notification",4,"ngFor","ngForOf"],[3,"notification"],[1,"flexed","hcenter","vcenter","column","p10"],[1,"flexed","hcenter","gap5","caption","size-big","wt-bold","f-color-500"],[1,"mdi-inventory"],["label","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435","styleClass","p-button-text one-line",3,"onClick"]],template:function(Fe,Y){1&Fe&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.YNc(3,I,1,0,"app-button",3),e._UZ(4,"div",4)(5,"app-active-work-logs-panel")(6,"app-my-active-chats")(7,"app-account-panel"),e.qZA()(),e._UZ(8,"router-outlet")(9,"app-notifications-popup-panel"),e.TgZ(10,"p-sidebar",5),e.NdJ("visibleChange",function(de){return Y.notifyService.displaySideBar=de})("onShow",function(){return Y.notifyService.load()})("onHide",function(){return Y.notifyService.readAllNotifications()}),e.YNc(11,U,5,1,"ng-template",6),e.YNc(12,pe,2,2,"ng-template",7),e.qZA(),e._UZ(13,"p-confirmDialog")(14,"app-media-viewer")(15,"app-chat-panel",null,8)),2&Fe&&(e.xp6(2),e.Udp("height","3rem"),e.Q6J("routerLink",e.DdM(10,ue)),e.xp6(1),e.Q6J("ngIf",!Y.isTaskCreationPage),e.xp6(7),e.Akn(e.DdM(11,Oe)),e.Q6J("showCloseIcon",!1)("blockScroll",!0)("visible",Y.notifyService.displaySideBar)("position","right"))},styles:[".top-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--bgc-000);border-bottom:1px solid var(--bgc-300);box-shadow:var(--shadow-0);position:sticky;margin-bottom:1.5rem;top:0;height:var(--top-panel-height);z-index:1009}.top-panel-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem 1.5rem 1.5rem 2rem}"]}),ke})()},417:(Ht,et,_)=>{_.d(et,{t:()=>g});var e=_(383),s=_(5e3);let g=(()=>{class H{transform(I,U,le,re){let K,pe;if(re)pe=I;else{if(K=new Date(I),"Invalid Date"===K.toString())return"\u041d\u0435 \u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430";pe=Date.now()-K.getTime()}const ue=Math.floor(pe/36e5),Oe=Math.floor(pe%36e5/6e4),Te=Math.floor(pe%6e4/1e3);return ue>0&&ue<13?`${U}${ue} ${e.cQ.declineOfNumber(ue,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${le}`:0===ue&&Oe>0?`${U}${Oe} ${e.cQ.declineOfNumber(Oe,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])}${le}`:0===ue&&0===Oe&&Te>0?`${U}${Te} ${e.cQ.declineOfNumber(Te,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}${le}`:0===ue&&0===Oe&&0===Te?`${U}${pe.toFixed(2)} ${e.cQ.declineOfNumber(pe,["\u043c\u0441","\u043c\u0441","\u043c\u0441"])}${le}`:!re&&K?K.toLocaleString("ru-RU",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}}return H.\u0275fac=function(I){return new(I||H)},H.\u0275pipe=s.Yjl({name:"elapsedTime",type:H,pure:!0}),H})()},7728:(Ht,et,_)=>{_.d(et,{A:()=>g});var e=_(540),s=_(5e3);let g=(()=>{class H{transform(I){if(!I)return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";switch(I.taskStatus){case e.hY.ACTIVE:return"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f";case e.hY.PROCESSING:return"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";case e.hY.CLOSE:return"\u0417\u0430\u043a\u0440\u044b\u0442\u0430\u044f";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}}return H.\u0275fac=function(I){return new(I||H)},H.\u0275pipe=s.Yjl({name:"taskStatus",type:H,pure:!0}),H})()},8738:(Ht,et,_)=>{_.d(et,{s:()=>Y});var e=_(5861),s=_(4004),g=_(8505),H=_(9751),L=_(8421);const{isArray:I}=Array;var le=_(515),re=_(5403),K=_(3269);var ue=_(3099),Oe=_(262),Te=_(383),ke=_(5e3),we=_(520),Fe=_(9783);let Y=(()=>{class Pe{constructor(N,O){this.client=N,this.toast=O,this.requestCacheMap={},this.loggedIn=!1}getWireframe(N){return this.sendGet("api/private/wireframe/"+N)}getWireframeFields(N){return this.sendGet("api/private/wireframe/"+N+"/fields")}getWireframes(N){return null==N?this.sendGet("api/private/wireframes"):this.sendGet("api/private/wireframes",{includingRemoved:N})}getWireframesNames(){return this.sendGet("api/private/wireframes/names")}createWireframe(N){return this.sendPost("api/private/wireframe",N)}updateWireframe(N){return console.log(N),this.sendPatch("api/private/wireframe",N)}createTask(N){return this.sendPost("api/private/task",N)}deleteTask(N){return this.sendDelete("api/private/task/"+N)}getTask(N,O=!1){const ye="api/private/task/"+N;return O?this.sendGetSilent(ye):this.sendGet(ye)}getWorkLogsByTaskId(N){return this.sendGet(`api/private/task/${N}/work-logs`)}getActiveWorkLogs(){return this.sendGet("api/private/work-logs/active")}getCountOfActiveWorkLogs(){return this.sendGet("api/private/work-logs/active/count")}getRootTask(N){return this.sendGet("api/private/task/"+N+"/root")}getFieldsTask(N){return this.sendGet(`api/private/task/${N}/fields`)}getPageOfTasks(N,O){return this.sendGet(`api/private/tasks/${N}`,Te.cQ.prepareForHttpRequest(O))}getStreets(N){return this.sendGet("api/private/streets/"+N)}getCities(){return this.sendGet("api/private/cities")}getAvailableObservers(){return this.sendGet("api/private/available-observers")}getAvailableObserversSuggestions(N){return this.sendGet(`api/private/available-observers/${N}`)}createComment(N,O,ye,Ce){return this.sendPost("api/private/comment",{taskId:O,text:N||"",files:ye||[],replyComment:Ce})}getComments(N,O,ye){return this.sendGet("api/private/comments",{taskId:N,offset:O,limit:ye})}getTaskJournal(N,O,ye){return this.sendGet(`api/private/task/${N}/journal`,{offset:O,limit:ye})}getEmployees(N,O,ye){const Ce={};return N&&(Ce.globalFilter=N),"boolean"==typeof O&&!O&&(Ce.showDeleted=O),"boolean"==typeof ye&&!ye&&(Ce.showOffsite=ye),this.sendGet("api/private/employees/list",Ce)}getEmployeesOptionsList(N){return this.sendGet("api/private/employees/list",{globalFilter:null!=N?N:""}).pipe((0,s.U)(O=>O.map(ye=>{const{firstName:Ce,secondName:ve,lastName:V,login:w}=ye;return{label:Ce&&ve&&V?`${V} ${Ce} ${ve}`:w,value:w}})))}getAllTaskAttachments(N){return this.sendGet("api/private/task/"+N+"/attachments")}getCountAllTaskAttachments(N){return this.sendGet("api/private/task/"+N+"/attachments/count")}getDepartments(){return this.sendGet("api/private/departments")}getPositions(){return this.sendGet("api/private/positions")}createDepartment(N){return this.sendPost("api/private/department",N)}editDepartment(N,O){return this.sendPatch("api/private/department/"+O,N)}deleteDepartment(N){return this.sendDelete("api/private/department/"+N)}createPosition(N){return this.sendPost("api/private/position",N)}editPosition(N,O){return this.sendPatch("api/private/position/"+O,N)}deletePosition(N){return this.sendDelete("api/private/position/"+N)}createEmployee(N){return this.sendPost("api/private/employee",N)}editEmployee(N,O){return this.sendPatch("api/private/employee/"+O,N)}deleteEmployee(N){return this.sendDelete("api/private/employee/"+N)}getEmployee(N,O=!1){const ye="api/private/employee/"+N;return O?this.sendGetSilent(ye):this.sendGet(ye)}signIn(N){return this.sendPost("api/public/sign-in",N).pipe((0,g.b)(O=>{Te.Ke.save("token",O.token),this.loggedIn=!0}))}authCheckout(){return this.sendGet("api/public/auth-checkout").pipe((0,g.b)(N=>{N&&localStorage.setItem("token",N.token)}))}getMe(){return this.sendGet("api/private/me")}setAvatar(N){return this.sendPost("api/private/employee/avatar",N)}getResponsible(){return function pe(...Pe){const de=(0,K.jO)(Pe),N=function U(Pe){return 1===Pe.length&&I(Pe[0])?Pe[0]:Pe}(Pe);return N.length?new H.y(O=>{let ye=N.map(()=>[]),Ce=N.map(()=>!1);O.add(()=>{ye=Ce=null});for(let ve=0;!O.closed&&ve<N.length;ve++)(0,L.Xf)(N[ve]).subscribe(new re.Q(O,V=>{if(ye[ve].push(V),ye.every(w=>w.length)){const w=ye.map(F=>F.shift());O.next(de?de(...w):w),ye.some((F,q)=>!F.length&&Ce[q])&&O.complete()}},()=>{Ce[ve]=!0,!ye[ve].length&&O.complete()}));return()=>{ye=Ce=null}}):le.E}(this.sendGet("api/private/departments"),this.sendGet("api/private/employees/list")).pipe((0,s.U)(N=>N.flat()),(0,s.U)(N=>N.filter(O=>!O.deleted)))}getActiveTaskInStage(N,O,ye,Ce){return this.sendGet(`api/private/tasks/template/${ye}/stage/${Ce}`,{offset:N,limit:O})}getActiveTaskInNullStage(N,O,ye){return this.sendGet(`api/private/tasks/template/${ye}/stage`,{offset:N,limit:O})}changeTaskStage(N,O){return this.sendPatch(`api/private/task/${N}/stage`,{stageId:O})}getActiveTaskIdsInStage(N,O){return this.sendGet(`api/private/tasks/template/${N}/stage/${O}/taskIdOnly`)}getActiveTaskIdsInNullStage(N){return this.sendGet(`api/private/tasks/template/${N}/stage/taskIdOnly`)}updateComment(N){return this.sendPatch("api/private/comment",N)}deleteComment(N){return this.sendDelete("api/private/comment/"+N)}getInstallersEmployees(){return this.sendGet("api/private/employees/installers")}assignInstallersToTask(N,O){return this.sendPost("api/private/task/"+N+"/assign-installers",O)}forceCloseWorkLog(N,O){return this.sendPost("api/private/task/"+N+"/force-close-work-log",O)}changeTaskObservers(N,O,ye){return this.sendPatch("api/private/task/"+N+"/observers",{departmentObservers:O,personalObservers:ye})}unlinkParentTask(N){return this.sendPatch("api/private/task/"+N+"/unlink-parent",{})}changeLinkToParentTask(N,O){return this.sendPatch("api/private/task/"+N+"/link-to-parent",{parentTaskId:O})}appendLinksToChildrenTasks(N,O){return this.sendPatch("api/private/task/"+N+"/append-links-to-children",O)}getTaskTags(N){const O={};return void 0!==N&&(O.includingRemote=N),this.sendGet("api/private/task-tags",O)}getTaskTagsBySearch(N){return this.sendGet(`api/private/task-tags/${N}`)}createTaskTag(N){return this.sendPost("api/private/task-tag",N)}modifyTaskTag(N){return this.sendPatch("api/private/task-tag",N)}deleteTaskTag(N){return this.sendDelete("api/private/task-tag/"+N)}setTaskTags(N,O){return this.sendPatch(`api/private/task/${N}/tags`,O)}changeTaskResponsible(N,O){return this.sendPatch("api/private/task/"+N+"/responsible",O)}unbindResponsible(N){return this.sendPatch("api/private/task/"+N+"/unbind-responsible",{})}changeTaskActualFrom(N,O){return this.sendPatch("api/private/task/"+N+"/actual-from",O)}changeTaskActualTo(N,O){return this.sendPatch("api/private/task/"+N+"/actual-to",O)}clearActualFromDate(N){return this.sendPatch("api/private/task/"+N+"/clear-actual-from-date",{})}clearActualToDate(N){return this.sendPatch("api/private/task/"+N+"/clear-actual-to-date",{})}closeTask(N){return this.sendPatch("api/private/task/"+N+"/close",{})}reopenTask(N){return this.sendPatch("api/private/task/"+N+"/reopen",{})}editTask(N,O){return this.sendPatch("api/private/task/"+N+"/edit-fields",O)}getEditTaskSnapshots(N){return this.sendGet("api/private/task/"+N+"/edit-snapshots")}getNotifications(N,O,ye=!1){return this.sendGet("api/private/notifications",{first:N,limit:O,unreadOnly:ye})}getCountOfUnreadNotifications(){return this.sendGet("api/private/notifications/unread-count")}getDepartment(N,O=!1){return O?this.sendGetSilent("api/private/department/"+N):this.sendGet("api/private/department/"+N)}getWorkLog(N,O=!1){return O?this.sendGetSilent("api/private/work-log/"+N):this.sendGet("api/private/work-log/"+N)}getActiveWorkLogByTaskId(N){return this.sendGetSilent("api/private/task/"+N+"/work-log/active")}readAllNotifications(){return this.sendPatch("api/private/notifications/read-all",{})}changeMyStatus(N){return this.sendPatch("api/private/employee/status",N)}getChatMessages(N,O,ye){return this.sendGet("api/private/chat/"+N+"/messages",{first:O,limit:ye})}setMessagesAsRead(N){return this.sendPatch("api/private/chat/messages/read",N)}getActiveTaskChat(N){return this.sendGet("api/private/task/"+N+"/active-chat")}getChat(N){return this.sendGet("api/private/chat/"+N)}sendChatMessage(N,O,ye,Ce){return this.sendPost("api/private/chat/"+N+"/message",{text:O,files:ye,replyMessageId:Ce})}editChatMessage(N,O){return this.sendPatch("api/private/chat/message/"+N,O)}deleteChatMessage(N,O){return this.sendDelete("api/private/chat/message/"+O)}getMyActiveChats(){return this.sendGet("api/private/chats/my/active")}getIncomingTasks(N,O,ye){return this.sendGet("api/private/tasks/incoming",Object.assign({page:N,limit:O},ye))}getCountIncomingTasks(){return this.sendGet("api/private/tasks/incoming/count",{})}getCountIncomingTasksByWireframeId(N){return this.sendGet("api/private/tasks/incoming/wireframe/"+N+"/count",{})}getCountAllTasksByWireframeId(N){return this.sendGet("api/private/tasks/wireframe/"+N+"/count",{})}getScheduledTask(N,O){return this.sendGet("api/private/tasks/scheduled",{start:N,end:O})}moveScheduledTask(N,O){return this.sendPatch(`api/private/task/${N}/scheduled/move`,O)}signOut(){return this.sendPost("api/public/sign-out",{}).pipe((0,g.b)(()=>{this.loggedIn=!1}))}deleteWireframe(N){return this.sendDelete(`api/private/wireframe/${N}`)}getTrackerParserState(){return this.sendGet("api/private/parser/tracker")}saveTrackerParserSettings(N){return this.sendPatch("api/private/parser/tracker/settings",N)}startTrackerParser(){return this.sendPost("api/private/parser/tracker/start",{})}stopTrackerParser(){return this.sendPost("api/private/parser/tracker/stop",{})}getAddressCorrectingPool(){return this.sendGet("api/private/parser/tracker/address-correcting-pool")}sendCorrectedAddress(N){return this.sendPost("api/private/parser/tracker/address-correcting-pool",N)}startAddressParse(){return this.sendPost("api/private/parser/addresses/start",{})}getAddressSuggestions(N){return this.sendGet("api/private/suggestions/address",{query:N})}getCountOfUnreadMessages(N){return this.sendGet("api/private/chat/"+N+"/messages/unread-count")}getPageOfPaidActions(N,O){return this.sendGet(`api/private/salary/paid-actions/${N}`,O)}getListAvailablePaidActions(){return this.sendGet("api/private/salary/paid-actions/available")}createPaidAction(N){return this.sendPost("api/private/salary/paid-action",N)}editPaidAction(N,O){return this.sendPatch("api/private/salary/paid-action/"+N,O)}deletePaidAction(N){return this.sendDelete("api/private/salary/paid-action/"+N)}getRootTreeOfWorks(N){return this.sendGet("api/private/salary/paid-works-tree/root",{groupsUndraggable:null!=N&&N})}getWorksOfGroup(N,O){return this.sendGet(`api/private/salary/paid-works-tree/${N}`,{groupsUndraggable:null!=O&&O})}treeWorksDragDrop(N){return this.sendPatch("api/private/salary/tree-works/drag-drop",N)}createPaidWorkGroup(N){return this.sendPost("api/private/salary/paid-work-group",N)}editPaidWorkGroup(N,O){return this.sendPatch("api/private/salary/paid-work-group/"+N,O)}deletePaidWorkGroup(N){return this.sendDelete("api/private/salary/paid-work-group/"+N)}createPaidWork(N){return this.sendPost("api/private/salary/paid-work",N)}editPaidWork(N,O){return this.sendPatch("api/private/salary/paid-work/"+N,O)}deletePaidWork(N){return this.sendDelete("api/private/salary/paid-work/"+N)}getPaidWorkById(N){return this.sendGet("api/private/salary/paid-work/"+N)}paidWorkTreeReposition(N){return this.sendPatch("api/private/salary/tree-works/reposition",N)}getUncalculatedWorkLogs(){return this.sendGet("api/private/work-logs/uncalculated")}sendWorkCalculation(N){return this.sendPost("api/private/salary/work-\u0441alculation",N)}getSalaryTable(N){return this.sendGet("api/private/salary/table",N)}sendGet(N,O){var ye=this;const Ce=this.generateHash(N,O);let ve=null;return this.requestCacheMap[Ce]?ve=this.requestCacheMap[Ce]:(ve=this.client.get(N,{params:O}).pipe((0,ue.B)(),(0,Oe.K)(function(){var V=(0,e.Z)(function*(w,F){throw ye.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:w.error.message}),w});return function(w,F){return V.apply(this,arguments)}}())),this.requestCacheMap[Ce]=ve,setTimeout(()=>{delete this.requestCacheMap[Ce]},1e4)),ve}sendGetSilent(N,O){const ye=this.generateHash(N,O);let Ce=null;return this.requestCacheMap[ye]?Ce=this.requestCacheMap[ye]:(Ce=this.client.get(N,{params:O}).pipe((0,ue.B)()),this.requestCacheMap[ye]=Ce,setTimeout(()=>{delete this.requestCacheMap[ye]},1e4)),Ce}sendPost(N,O){var ye=this;return this.client.post(N,O).pipe((0,Oe.K)(function(){var Ce=(0,e.Z)(function*(ve,V){throw ye.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:ve.error.message}),ve});return function(ve,V){return Ce.apply(this,arguments)}}()))}sendPatch(N,O){return this.client.patch(N,O).pipe((0,Oe.K)((ye,Ce)=>{throw console.log(ye),this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:ye.error.message}),ye}))}sendDelete(N){var O=this;return this.client.delete(N).pipe((0,Oe.K)(function(){var ye=(0,e.Z)(function*(Ce,ve){throw O.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:Ce.error.message}),Ce});return function(Ce,ve){return ye.apply(this,arguments)}}()))}generateHash(N,O){return(0,Te.d4)(N+JSON.stringify(O),0)}}return Pe.\u0275fac=function(N){return new(N||Pe)(ke.LFG(we.eN),ke.LFG(Fe.ez))},Pe.\u0275prov=ke.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},9014:(Ht,et,_)=>{_.d(et,{a:()=>I});var e=_(5e3),s=_(8738),g=_(8007),H=_(8028),L=_(9783);let I=(()=>{class U{constructor(re,K,pe,ue){this.api=re,this.rt=K,this.personality=pe,this.messageService=ue,this.chats=[],this.unreadMessagesCount={},this.open=new e.vpe,this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},this.getChats(),pe.onGettingUserData.subscribe(Oe=>{!Oe.login||(this.rt.chatCreated(Oe.login).subscribe(this.createChat.bind(this)),this.rt.updateCountUnreadMessages(Oe.login).subscribe(Te=>this.unreadMessagesCount[Te.chatId]=Te.count))}),this.rt.chatUpdated().subscribe(this.updateChat.bind(this)),this.rt.chatClosed().subscribe(this.closeChat.bind(this)),this.rt.chatMessageCreated().subscribe(Oe=>{Oe.parentChatId!==this.currentOpenChat?(this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then(),this.messageService.add({key:"chatMessage",severity:"chatmsg",data:Oe,life:3e4})):this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then()}),this.open.subscribe(()=>this.messageService.clear("chatMessage"))}get isHasUnreadMessages(){return Object.keys(this.unreadMessagesCount).length>0}get allUnreadCount(){return Object.values(this.unreadMessagesCount).reduce((re,K)=>re+K,0)}createChat(re){this.chats.push(re),this.api.getCountOfUnreadMessages(re.chatId).subscribe(K=>this.unreadMessagesCount[re.chatId]=K)}updateChat(re){const K=this.chats.findIndex(pe=>pe.chatId===re.chatId);-1!=K&&(this.chats[K]=re)}closeChat(re){const K=this.chats.findIndex(pe=>pe.chatId===re.chatId);-1!=K&&(this.chats.splice(K,1),delete this.unreadMessagesCount[re.chatId])}getChats(){this.api.getMyActiveChats().subscribe(re=>{this.chats=re;for(const K of re)this.api.getCountOfUnreadMessages(K.chatId).subscribe(pe=>this.unreadMessagesCount[K.chatId]=pe)})}}return U.\u0275fac=function(re){return new(re||U)(e.LFG(s.s),e.LFG(g.U),e.LFG(H.F),e.LFG(L.ez))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},3064:(Ht,et,_)=>{_.d(et,{E:()=>g});var e=_(7579),s=_(5e3);let g=(()=>{class H{constructor(){this.mediaEmitter$=new e.x,this.mediaAlbumEmitter$=new e.x}showMedia(I){this.mediaEmitter$.next(I)}showMediaAlbum(I,U){this.mediaAlbumEmitter$.next({index:I,album:U})}media(){return this.mediaEmitter$.pipe()}mediaAlbum(){return this.mediaAlbumEmitter$.pipe()}}return H.\u0275fac=function(I){return new(I||H)},H.\u0275prov=s.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},9744:(Ht,et,_)=>{_.d(et,{T:()=>le});var e=_(540),s=_(8028),g=_(5e3),H=_(8738),L=_(8007),U=(()=>{return(re=U||(U={}))[re.ALL=0]="ALL",re[re.UNREAD=1]="UNREAD",U;var re})();let le=(()=>{class re{constructor(pe,ue,Oe){this.api=pe,this.rt=ue,this.personality=Oe,this.receivedNotifications=[],this.timers={},this.displaySideBar=!1,this.unreadCount=0,this.notificationViewMode=U.UNREAD,this.titles={[e.k$.NEW_COMMENT]:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",[e.k$.TASK_CREATED]:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",[e.k$.TASK_EDITED]:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u0434\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u0434\u0430\u0447\u0438",[e.k$.TASK_DELETED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",[e.k$.TASK_CLOSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430",[e.k$.TASK_REOPENED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",[e.k$.TASK_PROCESSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430",[e.k$.TASK_STAGE_CHANGED]:"\u0421\u0442\u0430\u0434\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430",[e.k$.YOU_OBSERVER]:"\u0412\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c",[e.k$.YOU_RESPONSIBLE]:"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",[e.k$.TASK_HAS_BECOME_ACTUAL]:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f",[e.k$.TASK_EXPIRED]:"\u0421\u0440\u043e\u043a \u0438\u0441\u0442\u0435\u043a",[e.k$.WORKS_COMPLETED]:"\u0420\u0430\u0431\u043e\u0442\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b",[e.k$.REPORT_RECEIVED]:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d",[e.k$.MENTIONED_IN_TASK]:"\u0412\u0430\u0441 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u043b\u0438"},this.icons={[e.k$.NEW_COMMENT]:"mdi-add_comment",[e.k$.TASK_CREATED]:"mdi-add_task",[e.k$.TASK_EDITED]:"mdi-edit",[e.k$.TASK_DELETED]:"mdi-delete",[e.k$.TASK_CLOSED]:"mdi-swipe_down_alt",[e.k$.TASK_REOPENED]:"mdi-swipe_up_alt",[e.k$.TASK_PROCESSED]:"mdi-how_to_reg",[e.k$.TASK_STAGE_CHANGED]:"mdi-next_week",[e.k$.YOU_OBSERVER]:"mdi-visibility",[e.k$.YOU_RESPONSIBLE]:"mdi-person",[e.k$.TASK_HAS_BECOME_ACTUAL]:"mdi-event_available",[e.k$.TASK_EXPIRED]:"mdi-event_busy",[e.k$.WORKS_COMPLETED]:"mdi-fact_check",[e.k$.REPORT_RECEIVED]:"mdi-edit_note",[e.k$.MENTIONED_IN_TASK]:"mdi-campaign"},this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},this.api.getCountOfUnreadNotifications().subscribe({next:Te=>{this.unreadCount=Te}}),this.load(),Oe.onGettingUserData.subscribe(Te=>{!Te.login||(this.rt.notificationCreated(Te.login).subscribe(this.createNotificationHandler.bind(this)),this.rt.notificationUpdated(Te.login).subscribe(this.updateNotificationHandler.bind(this)))}),Notification.requestPermission().then(Te=>console.log(Te))}get isEmpty(){var pe;return!(null!==(pe=this.notifications)&&void 0!==pe&&pe.content)||0===this.notifications.content.length}get list(){var pe,ue;return null!==(ue=null===(pe=this.notifications)||void 0===pe?void 0:pe.content)&&void 0!==ue?ue:[]}get isLast(){var pe,ue;return null!==(ue=null===(pe=this.notifications)||void 0===pe?void 0:pe.last)&&void 0!==ue&&ue}get isHasUnread(){return this.unreadCount>0}showSideBar(){this.displaySideBar=!0,this.receivedNotifications=[],Object.entries(this.timers).forEach(([pe,ue])=>{clearTimeout(ue),delete this.timers[parseInt(pe)]})}changeNotificationViewMode(pe){this.notificationViewMode=pe,this.notifications=void 0,this.load()}readAllNotifications(){this.isHasUnread&&this.api.readAllNotifications().subscribe({next:()=>{this.unreadCount=0,this.notifications=void 0}}),this.notificationViewMode=U.UNREAD,this.notifications=void 0}load(){this.notifications?this.api.getNotifications(this.notifications.pageable.offset+25,25,this.notificationViewMode===U.UNREAD).subscribe({next:pe=>{var ue,Oe;pe.content=[...null!==(Oe=null===(ue=this.notifications)||void 0===ue?void 0:ue.content)&&void 0!==Oe?Oe:[],...pe.content],this.notifications=pe}}):this.api.getNotifications(0,25,this.notificationViewMode===U.UNREAD).subscribe({next:pe=>{this.notifications=pe}})}suspendClosing(pe){!this.timers[pe]||(clearTimeout(this.timers[pe]),delete this.timers[pe])}resumeClosure(pe){this.timers[pe]||(this.timers[pe]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(ue=>ue.notificationId!==pe),delete this.timers[pe]},1e4))}close(pe){this.timers[pe]&&(clearTimeout(this.timers[pe]),delete this.timers[pe]),this.receivedNotifications=this.receivedNotifications.filter(ue=>ue.notificationId!==pe)}playNotifySound(){this.personality.focusStatus===s.P.FOCUS?this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then():this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then()}showExternalNotification(pe){new Notification(this.titles[pe.type],{body:pe.message})}createNotificationHandler(pe){var ue,Oe,Te;this.displaySideBar||(this.receivedNotifications.unshift(pe),this.timers[pe.notificationId]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(ke=>ke.notificationId!==pe.notificationId),delete this.timers[pe.notificationId]},1e4)),this.unreadCount++,this.personality.focusStatus===s.P.BLUR&&this.showExternalNotification(pe),this.playNotifySound(),null!==(ue=this.notifications)&&void 0!==ue&&ue.content&&(this.notifications.content.find(ke=>ke.notificationId===pe.notificationId)||null===(Te=null===(Oe=this.notifications)||void 0===Oe?void 0:Oe.content)||void 0===Te||Te.unshift(pe))}updateNotificationHandler(pe){var ue;if(null===(ue=this.notifications)||void 0===ue||!ue.content)return;const Oe=this.notifications.content.findIndex(Te=>Te.notificationId===pe.notificationId);-1!==Oe&&(this.notifications.content[Oe]=pe)}}return re.\u0275fac=function(pe){return new(pe||re)(g.LFG(H.s),g.LFG(L.U),g.LFG(s.F))},re.\u0275prov=g.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})()},8028:(Ht,et,_)=>{_.d(et,{P:()=>ue,F:()=>Oe});var e=_(5e3),s=_(540),g=_(4968);function H(Te){this.message=Te}(H.prototype=new Error).name="InvalidCharacterError";var L="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(Te){var ke=String(Te).replace(/=+$/,"");if(ke.length%4==1)throw new H("'atob' failed: The string to be decoded is not correctly encoded.");for(var we,Fe,Y=0,Pe=0,de="";Fe=ke.charAt(Pe++);~Fe&&(we=Y%4?64*we+Fe:Fe,Y++%4)?de+=String.fromCharCode(255&we>>(-2*Y&6)):0)Fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Fe);return de};function U(Te){this.message=Te}(U.prototype=new Error).name="InvalidTokenError";var K=_(8738),pe=_(8007),ue=(()=>{return(Te=ue||(ue={})).FOCUS="FOCUS",Te.NO_TOUCH="NO_TOUCH",Te.BLUR="BLUR",ue;var Te})();let Oe=(()=>{class Te{constructor(we,Fe){this.api=we,this.rt=Fe,this.focusStatus=ue.BLUR,this.onGettingUserData=new e.vpe,this.lastTouch=0,this.api.getMe().subscribe({next:Y=>{this.me=Y,this.onGettingUserData.emit(Y),this.meUpdate&&this.meUpdate.unsubscribe(),this.meUpdate=this.rt.employeeUpdated(Y.login).subscribe(Pe=>{this.me=Pe})}}),(0,g.R)(window,"focus").subscribe(Y=>{!this.api.loggedIn||(this.focusStatus=ue.FOCUS,this.api.changeMyStatus(s.LE.ONLINE).subscribe())}),(0,g.R)(window,"blur").subscribe(Y=>{!this.api.loggedIn||(this.focusStatus=ue.BLUR,this.api.changeMyStatus(s.LE.AWAY).subscribe())}),(0,g.R)(document,"mousemove").subscribe(()=>{this.lastTouch=(new Date).getTime()}),setInterval(()=>{!this.api.loggedIn||(new Date).getTime()-this.lastTouch>3e4&&this.focusStatus===ue.FOCUS&&(this.focusStatus=ue.NO_TOUCH,this.api.changeMyStatus(s.LE.AWAY).subscribe())},1e3),setInterval(()=>{const Y=(new Date).getTime(),Pe=localStorage.getItem("token");Pe&&1e3*function le(Te,ke){if("string"!=typeof Te)throw new U("Invalid token specified");var we=!0===(ke=ke||{}).header?0:1;try{return JSON.parse(function I(Te){var ke=Te.replace(/-/g,"+").replace(/_/g,"/");switch(ke.length%4){case 0:break;case 2:ke+="==";break;case 3:ke+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(L(ke).replace(/(.)/g,function(Fe,Y){var Pe=Y.charCodeAt(0).toString(16).toUpperCase();return Pe.length<2&&(Pe="0"+Pe),"%"+Pe}))}catch(we){return L(ke)}}(Te.split(".")[we]))}catch(Fe){throw new U("Invalid token specified: "+Fe.message)}}(Pe).exp-Y<3e4&&(this.api.authCheckout().subscribe(),console.log("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430"))},1e4)}}return Te.\u0275fac=function(we){return new(we||Te)(e.LFG(K.s),e.LFG(pe.U))},Te.\u0275prov=e.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},8007:(Ht,et,_)=>{_.d(et,{U:()=>U});var e=_(8746),s=_(3099),g=_(4004),H=_(383),L=_(5e3),I=_(5845);let U=(()=>{class le{constructor(K){this.stomp=K,this.watchCacheMap={}}commentCreated(K){return this.watch("task",K.toString(),"comment","create")}commentUpdated(K){return this.watch("task",K.toString(),"comment","update")}commentDeleted(K){return this.watch("task",K.toString(),"comment","delete")}taskEventCreated(K){return this.watch("task",K.toString(),"event","create")}employeeCreated(){return this.watch("employee","create")}employeeUpdated(K){return K?this.watch("employee",K,"update"):this.watch("employee","update")}employeeDeleted(){return this.watch("employee","delete")}departmentCreated(){return this.watch("department","create")}departmentUpdated(K){return K?this.watch("department",K.toString(),"update"):this.watch("department","update")}departmentDeleted(){return this.watch("department","delete")}positionCreated(){return this.watch("position","create")}positionUpdated(K){return K?this.watch("position",K.toString(),"update"):this.watch("position","update")}positionDeleted(){return this.watch("position","delete")}taskTagCreated(){return this.watch("task-tag","create")}taskTagUpdated(){return this.watch("task-tag","update")}taskTagDeleted(){return this.watch("task-tag","delete")}taskUpdated(K){return K?this.watch("task",K.toString(),"update"):this.watch("task","update")}taskDeleted(K){return K?this.watch("task",K.toString(),"delete"):this.watch("task","delete")}taskCreated(){return this.watch("task","create")}incomingTaskCreated(K){return this.watchUnicast(K,"task","create")}notificationCreated(K){return this.watchUnicast(K,"notification","create")}notificationUpdated(K){return this.watchUnicast(K,"notification","update")}chatMessageCreated(K){return K?this.watch("chat",K.toString(),"message","create"):this.watch("chat","message","create")}chatMessageUpdated(K){return this.watch("chat",K.toString(),"message","update")}chatMessageDeleted(K){return this.watch("chat",K.toString(),"message","delete")}updateTrackerParserState(){return this.watch("parser","tracker","update")}parserMessageReceived(){return this.watch("parser","message")}updateCountUnreadMessages(K){return this.watchUnicast(K,"chat","message","unread")}chatCreated(K){return this.watchUnicast(K,"chat","create")}chatUpdated(){return this.watch("chat","update")}chatClosed(){return this.watch("chat","close")}workLogCreated(){return this.watch("worklog","create")}workLogUpdated(K){return K?this.watch("work-log",K.toString(),"update"):this.watch("worklog","update")}workLogClosed(){return this.watch("worklog","close")}workLogDeleted(K){return K?this.watch("work-log",K.toString(),"delete"):this.watch("worklog","delete")}wireframeCreated(){return this.watch("wireframe","create")}wireframeUpdated(K){return K?this.watch("wireframe",K.toString(),"update"):this.watch("wireframe","update")}wireframeDeleted(K){return K?this.watch("wireframe",K.toString(),"delete"):this.watch("wireframe","delete")}paidActionCreated(){return this.watch("paid-action","create")}paidActionUpdated(K){return K?this.watch("paid-action",K.toString(),"update"):this.watch("paid-action","update")}paidActionDeleted(K){return K?this.watch("paid-action",K.toString(),"delete"):this.watch("paid-action","delete")}paidWorksTreeMoved(){return this.watch("paid-works","tree","move")}paidWorksTreeUpdated(){return this.watch("paid-works","tree","update")}paidWorksTreeCreated(){return this.watch("paid-works","tree","create")}worksTreeReposition(){return this.watch("paid-works","tree","reposition")}paidWorkUpdated(K){return K?this.watch("paid-work",K.toString(),"update"):this.watch("paid-work","update")}watchUnicast(...K){return this.getObservable("user",...K)}watch(...K){return this.getObservable("api",...K)}getObservable(K,...pe){const ue=`/${K}/${pe.join("/")}`,Oe=this.generateHash(ue);let Te=null;return this.watchCacheMap[Oe]?Te=this.watchCacheMap[Oe]:(Te=this.stomp.watch(ue).pipe((0,e.x)(this.deleteFromCache.bind(this,ue)),(0,s.B)(),(0,g.U)(ke=>JSON.parse(ke.body))),this.watchCacheMap[Oe]=Te),Te}generateHash(K){return(0,H.d4)(K,0)}deleteFromCache(K){delete this.watchCacheMap[K]}}return le.\u0275fac=function(K){return new(K||le)(L.LFG(I.f))},le.\u0275prov=L.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})()},5845:(Ht,et,_)=>{_.d(et,{f:()=>ve});var e=_(5861),s=_(1135),g=_(9300),H=_(7579),L=_(9751),I=_(5698),U=_(3099),le=_(3905);const re_LF="\n",re_NULL="\0";class K{constructor(w){const{command:F,headers:q,body:_e,binaryBody:De,escapeHeaderValues:Le,skipContentLengthHeader:Me}=w;this.command=F,this.headers=Object.assign({},q||{}),De?(this._binaryBody=De,this.isBinaryBody=!0):(this._body=_e||"",this.isBinaryBody=!1),this.escapeHeaderValues=Le||!1,this.skipContentLengthHeader=Me||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(w,F){const q={},_e=De=>De.replace(/^\s+|\s+$/g,"");for(const De of w.headers.reverse()){De.indexOf(":");const Me=_e(De[0]);let ht=_e(De[1]);F&&"CONNECT"!==w.command&&"CONNECTED"!==w.command&&(ht=K.hdrValueUnEscape(ht)),q[Me]=ht}return new K({command:w.command,headers:q,binaryBody:w.binaryBody,escapeHeaderValues:F})}toString(){return this.serializeCmdAndHeaders()}serialize(){const w=this.serializeCmdAndHeaders();return this.isBinaryBody?K.toUnit8Array(w,this._binaryBody).buffer:w+this._body+re_NULL}serializeCmdAndHeaders(){const w=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const F of Object.keys(this.headers||{})){const q=this.headers[F];w.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${F}:${K.hdrValueEscape(`${q}`)}`:`${F}:${q}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&w.push(`content-length:${this.bodyLength()}`),w.join(re_LF)+re_LF+re_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const w=this.binaryBody;return w?w.length:0}static sizeOfUTF8(w){return w?(new TextEncoder).encode(w).length:0}static toUnit8Array(w,F){const q=(new TextEncoder).encode(w),_e=new Uint8Array([0]),De=new Uint8Array(q.length+F.length+_e.length);return De.set(q),De.set(F,q.length),De.set(_e,q.length+F.length),De}static marshall(w){return new K(w).serialize()}static hdrValueEscape(w){return w.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(w){return w.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class ke{constructor(w,F){this.onFrame=w,this.onIncomingPing=F,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(w,F=!1){let q;if(q="string"==typeof w?this._encoder.encode(w):new Uint8Array(w),F&&0!==q[q.length-1]){const _e=new Uint8Array(q.length+1);_e.set(q,0),_e[q.length]=0,q=_e}for(let _e=0;_e<q.length;_e++)this._onByte(q[_e])}_collectFrame(w){if(0!==w&&13!==w){if(10===w)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(w)}}_collectCommand(w){if(13!==w){if(10===w)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(w)}}_collectHeaders(w){if(13!==w){if(10===w)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(w)}}_reinjectByte(w){this._onByte(w)}_collectHeaderKey(w){if(58===w)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(w)}_collectHeaderValue(w){if(13!==w){if(10===w)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(w)}}_setupCollectBody(){const w=this._results.headers.filter(F=>"content-length"===F[0])[0];w?(this._bodyBytesRemaining=parseInt(w[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(w){0!==w?this._consumeByte(w):this._retrievedBody()}_collectBodyFixedSize(w){0!=this._bodyBytesRemaining--?this._consumeByte(w):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(w){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",w)}this._initState()}_consumeByte(w){this._token.push(w)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const w=new Uint8Array(this._token);return this._token=[],w}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var we,V,Fe,O;(V=we=we||(we={}))[V.CONNECTING=0]="CONNECTING",V[V.OPEN=1]="OPEN",V[V.CLOSING=2]="CLOSING",V[V.CLOSED=3]="CLOSED",function(V){V[V.ACTIVE=0]="ACTIVE",V[V.DEACTIVATING=1]="DEACTIVATING",V[V.INACTIVE=2]="INACTIVE"}(Fe=Fe||(Fe={}));class Y{constructor(w){this.versions=w}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(w=>`v${w.replace(".","")}.stomp`)}}Y.V1_0="1.0",Y.V1_1="1.1",Y.V1_2="1.2",Y.default=new Y([Y.V1_2,Y.V1_1,Y.V1_0]);class de{constructor(w,F,q){this._client=w,this._webSocket=F,this._connected=!1,this._serverFrameHandlers={CONNECTED:_e=>{this.debug(`connected to server ${_e.headers.server}`),this._connected=!0,this._connectedVersion=_e.headers.version,this._connectedVersion===Y.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(_e.headers),this.onConnect(_e)},MESSAGE:_e=>{const De=_e.headers.subscription,Le=this._subscriptions[De]||this.onUnhandledMessage,Me=_e,ht=this,at=this._connectedVersion===Y.V1_2?Me.headers.ack:Me.headers["message-id"];Me.ack=(Se={})=>ht.ack(at,De,Se),Me.nack=(Se={})=>ht.nack(at,De,Se),Le(Me)},RECEIPT:_e=>{const De=this._receiptWatchers[_e.headers["receipt-id"]];De?(De(_e),delete this._receiptWatchers[_e.headers["receipt-id"]]):this.onUnhandledReceipt(_e)},ERROR:_e=>{this.onStompError(_e)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=q.debug,this.stompVersions=q.stompVersions,this.connectHeaders=q.connectHeaders,this.disconnectHeaders=q.disconnectHeaders,this.heartbeatIncoming=q.heartbeatIncoming,this.heartbeatOutgoing=q.heartbeatOutgoing,this.splitLargeFrames=q.splitLargeFrames,this.maxWebSocketChunkSize=q.maxWebSocketChunkSize,this.forceBinaryWSFrames=q.forceBinaryWSFrames,this.logRawCommunication=q.logRawCommunication,this.appendMissingNULLonIncoming=q.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=q.discardWebsocketOnCommFailure,this.onConnect=q.onConnect,this.onDisconnect=q.onDisconnect,this.onStompError=q.onStompError,this.onWebSocketClose=q.onWebSocketClose,this.onWebSocketError=q.onWebSocketError,this.onUnhandledMessage=q.onUnhandledMessage,this.onUnhandledReceipt=q.onUnhandledReceipt,this.onUnhandledFrame=q.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const w=new ke(F=>{const q=K.fromRawFrame(F,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${q}`),(this._serverFrameHandlers[q.command]||this.onUnhandledFrame)(q)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=F=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const q=F.data instanceof ArrayBuffer?(new TextDecoder).decode(F.data):F.data;this.debug(`<<< ${q}`)}w.parseChunk(F.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=F=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(F)},this._webSocket.onerror=F=>{this.onWebSocketError(F)},this._webSocket.onopen=()=>{const F=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),F["accept-version"]=this.stompVersions.supportedVersions(),F["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:F})}}_setupHeartbeat(w){if(w.version!==Y.V1_1&&w.version!==Y.V1_2||!w["heart-beat"])return;const[F,q]=w["heart-beat"].split(",").map(_e=>parseInt(_e,10));if(0!==this.heartbeatOutgoing&&0!==q){const _e=Math.max(this.heartbeatOutgoing,q);this.debug(`send PING every ${_e}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===we.OPEN&&(this._webSocket.send(re_LF),this.debug(">>> PING"))},_e)}if(0!==this.heartbeatIncoming&&0!==F){const _e=Math.max(this.heartbeatIncoming,F);this.debug(`check PONG every ${_e}ms`),this._ponger=setInterval(()=>{const De=Date.now()-this._lastServerActivityTS;De>2*_e&&(this.debug(`did not receive server activity for the last ${De}ms`),this._closeOrDiscardWebsocket())},_e)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===we.CONNECTING||this._webSocket.readyState===we.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function Pe(V,w){V.terminate=function(){const F=()=>{};this.onerror=F,this.onmessage=F,this.onopen=F;const q=new Date,_e=Math.random().toString().substring(2,8),De=this.onclose;this.onclose=Le=>{const Me=(new Date).getTime()-q.getTime();w(`Discarded socket (#${_e})  closed after ${Me}ms, with code/reason: ${Le.code}/${Le.reason}`)},this.close(),null==De||De.call(V,{code:4001,reason:`Quick discarding socket (#${_e}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,w=>this.debug(w)),this._webSocket.terminate()}_transmit(w){const{command:F,headers:q,body:_e,binaryBody:De,skipContentLengthHeader:Le}=w,Me=new K({command:F,headers:q,body:_e,binaryBody:De,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:Le});let ht=Me.serialize();if(this.debug(this.logRawCommunication?`>>> ${ht}`:`>>> ${Me}`),this.forceBinaryWSFrames&&"string"==typeof ht&&(ht=(new TextEncoder).encode(ht)),"string"==typeof ht&&this.splitLargeFrames){let at=ht;for(;at.length>0;){const Se=at.substring(0,this.maxWebSocketChunkSize);at=at.substring(this.maxWebSocketChunkSize),this._webSocket.send(Se),this.debug(`chunk sent = ${Se.length}, remaining = ${at.length}`)}}else this._webSocket.send(ht)}dispose(){if(this.connected)try{const w=Object.assign({},this.disconnectHeaders);w.receipt||(w.receipt="close-"+this._counter++),this.watchForReceipt(w.receipt,F=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(F)}),this._transmit({command:"DISCONNECT",headers:w})}catch(w){this.debug(`Ignoring error during disconnect ${w}`)}else(this._webSocket.readyState===we.CONNECTING||this._webSocket.readyState===we.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(w){const{destination:F,headers:q,body:_e,binaryBody:De,skipContentLengthHeader:Le}=w,Me=Object.assign({destination:F},q);this._transmit({command:"SEND",headers:Me,body:_e,binaryBody:De,skipContentLengthHeader:Le})}watchForReceipt(w,F){this._receiptWatchers[w]=F}subscribe(w,F,q={}){(q=Object.assign({},q)).id||(q.id="sub-"+this._counter++),q.destination=w,this._subscriptions[q.id]=F,this._transmit({command:"SUBSCRIBE",headers:q});const _e=this;return{id:q.id,unsubscribe:De=>_e.unsubscribe(q.id,De)}}unsubscribe(w,F={}){F=Object.assign({},F),delete this._subscriptions[w],F.id=w,this._transmit({command:"UNSUBSCRIBE",headers:F})}begin(w){const F=w||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:F}});const q=this;return{id:F,commit(){q.commit(F)},abort(){q.abort(F)}}}commit(w){this._transmit({command:"COMMIT",headers:{transaction:w}})}abort(w){this._transmit({command:"ABORT",headers:{transaction:w}})}ack(w,F,q={}){q=Object.assign({},q),this._connectedVersion===Y.V1_2?q.id=w:q["message-id"]=w,q.subscription=F,this._transmit({command:"ACK",headers:q})}nack(w,F,q={}){return q=Object.assign({},q),this._connectedVersion===Y.V1_2?q.id=w:q["message-id"]=w,q.subscription=F,this._transmit({command:"NACK",headers:q})}}class N{constructor(w={}){this.stompVersions=Y.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Fe.INACTIVE;const F=()=>{};this.debug=F,this.beforeConnect=F,this.onConnect=F,this.onDisconnect=F,this.onUnhandledMessage=F,this.onUnhandledReceipt=F,this.onUnhandledFrame=F,this.onStompError=F,this.onWebSocketClose=F,this.onWebSocketError=F,this.logRawCommunication=!1,this.onChangeState=F,this.connectHeaders={},this._disconnectHeaders={},this.configure(w)}get webSocket(){var w;return null==(w=this._stompHandler)?void 0:w._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(w){this._disconnectHeaders=w,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Fe.ACTIVE}_changeState(w){this.state=w,this.onChangeState(w)}configure(w){Object.assign(this,w)}activate(){const w=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(Fe.ACTIVE),this._connect())};this.state===Fe.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{w()})):w()}_connect(){var w=this;return(0,e.Z)(function*(){if(yield w.beforeConnect(),w._stompHandler)return void w.debug("There is already a stompHandler, skipping the call to connect");if(!w.active)return void w.debug("Client has been marked inactive, will not attempt to connect");w.connectionTimeout>0&&(w._connectionWatcher&&clearTimeout(w._connectionWatcher),w._connectionWatcher=setTimeout(()=>{w.connected||(w.debug(`Connection not established in ${w.connectionTimeout}ms, closing socket`),w.forceDisconnect())},w.connectionTimeout)),w.debug("Opening Web Socket...");const F=w._createWebSocket();w._stompHandler=new de(w,F,{debug:w.debug,stompVersions:w.stompVersions,connectHeaders:w.connectHeaders,disconnectHeaders:w._disconnectHeaders,heartbeatIncoming:w.heartbeatIncoming,heartbeatOutgoing:w.heartbeatOutgoing,splitLargeFrames:w.splitLargeFrames,maxWebSocketChunkSize:w.maxWebSocketChunkSize,forceBinaryWSFrames:w.forceBinaryWSFrames,logRawCommunication:w.logRawCommunication,appendMissingNULLonIncoming:w.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:w.discardWebsocketOnCommFailure,onConnect:q=>{if(w._connectionWatcher&&(clearTimeout(w._connectionWatcher),w._connectionWatcher=void 0),!w.active)return w.debug("STOMP got connected while deactivate was issued, will disconnect now"),void w._disposeStompHandler();w.onConnect(q)},onDisconnect:q=>{w.onDisconnect(q)},onStompError:q=>{w.onStompError(q)},onWebSocketClose:q=>{w._stompHandler=void 0,w.state===Fe.DEACTIVATING&&w._changeState(Fe.INACTIVE),w.onWebSocketClose(q),w.active&&w._schedule_reconnect()},onWebSocketError:q=>{w.onWebSocketError(q)},onUnhandledMessage:q=>{w.onUnhandledMessage(q)},onUnhandledReceipt:q=>{w.onUnhandledReceipt(q)},onUnhandledFrame:q=>{w.onUnhandledFrame(q)}}),w._stompHandler.start()})()}_createWebSocket(){let w;if(this.webSocketFactory)w=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");w=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return w.binaryType="arraybuffer",w}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(w={}){var F=this;return(0,e.Z)(function*(){var Le;const q=w.force||!1,_e=F.active;let De;if(F.state===Fe.INACTIVE)return F.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(F._changeState(Fe.DEACTIVATING),F._reconnector&&(clearTimeout(F._reconnector),F._reconnector=void 0),!F._stompHandler||F.webSocket.readyState===we.CLOSED)return F._changeState(Fe.INACTIVE),Promise.resolve();{const Me=F._stompHandler.onWebSocketClose;De=new Promise((ht,at)=>{F._stompHandler.onWebSocketClose=Se=>{Me(Se),ht()}})}return q?null==(Le=F._stompHandler)||Le.discardWebsocket():_e&&F._disposeStompHandler(),De})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(w){this._checkConnection(),this._stompHandler.publish(w)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(w,F){this._checkConnection(),this._stompHandler.watchForReceipt(w,F)}subscribe(w,F,q={}){return this._checkConnection(),this._stompHandler.subscribe(w,F,q)}unsubscribe(w,F={}){this._checkConnection(),this._stompHandler.unsubscribe(w,F)}begin(w){return this._checkConnection(),this._stompHandler.begin(w)}commit(w){this._checkConnection(),this._stompHandler.commit(w)}abort(w){this._checkConnection(),this._stompHandler.abort(w)}ack(w,F,q={}){this._checkConnection(),this._stompHandler.ack(w,F,q)}nack(w,F,q={}){this._checkConnection(),this._stompHandler.nack(w,F,q)}}!function(V){V[V.CONNECTING=0]="CONNECTING",V[V.OPEN=1]="OPEN",V[V.CLOSING=2]="CLOSING",V[V.CLOSED=3]="CLOSED"}(O=O||(O={}));var Ce=_(5e3);let ve=(()=>{class V extends class ye{get stompClient(){return this._stompClient}constructor(w){this._queuedMessages=[];const F=w||new N;this._stompClient=F;const q=()=>{};this._beforeConnect=q,this._correlateErrors=()=>{},this._debug=q,this._connectionStatePre$=new s.X(O.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe((0,g.h)(_e=>_e===O.OPEN)),this.connectionState$=new s.X(O.CLOSED),this.connected$=this.connectionState$.pipe((0,g.h)(_e=>_e===O.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new s.X(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe((0,g.h)(_e=>null!==_e)),this.stompErrors$=new H.x,this.unhandledMessage$=new H.x,this.unhandledReceipts$=new H.x,this.unhandledFrame$=new H.x,this.webSocketErrors$=new H.x}configure(w){const F=Object.assign({},w);F.beforeConnect&&(this._beforeConnect=F.beforeConnect,delete F.beforeConnect),F.correlateErrors&&(this._correlateErrors=F.correlateErrors,delete F.correlateErrors),this._stompClient.configure(F),F.debug&&(this._debug=F.debug)}activate(){var F,w=this;this._stompClient.configure({beforeConnect:(F=(0,e.Z)(function*(){w._changeState(O.CONNECTING),yield w._beforeConnect(w)}),function(){return F.apply(this,arguments)}),onConnect:F=>{this._serverHeadersBehaviourSubject$.next(F.headers),this._changeState(O.OPEN)},onStompError:F=>{this.stompErrors$.next(F)},onWebSocketClose:()=>{this._changeState(O.CLOSED)},onUnhandledMessage:F=>{this.unhandledMessage$.next(F)},onUnhandledReceipt:F=>{this.unhandledReceipts$.next(F)},onUnhandledFrame:F=>{this.unhandledFrame$.next(F)},onWebSocketError:F=>{this.webSocketErrors$.next(F)}}),this._stompClient.activate()}deactivate(w={}){var F=this;return(0,e.Z)(function*(){F._changeState(O.CLOSING),yield F._stompClient.deactivate(w),F._changeState(O.CLOSED)})()}connected(){return this.connectionState$.getValue()===O.OPEN}get active(){return this.stompClient.active}publish(w){const F=null==w.retryIfDisconnected||w.retryIfDisconnected;if(this.connected())this._stompClient.publish(w);else{if(!F)throw new Error("Cannot publish while broker is not connected");this._debug("Not connected, queueing"),this._queuedMessages.push(w)}}_sendQueuedMessages(){const w=this._queuedMessages;if(this._queuedMessages=[],0!==w.length){this._debug(`Will try sending  ${w.length} queued message(s)`);for(const F of w)this._debug(`Attempting to send ${F}`),this.publish(F)}}watch(w,F={}){let _e;return _e=Object.assign({},{subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},"string"==typeof w?{destination:w,subHeaders:F}:w),this._debug(`Request to subscribe ${_e.destination}`),L.y.create(Le=>{let Me,ht,at=this._connectedPre$;_e.subscribeOnlyOnce&&(at=at.pipe((0,I.q)(1)));const Se=this.stompErrors$.subscribe($=>{this._correlateErrors($)===_e.destination&&Le.error($)});return ht=at.subscribe(()=>{this._debug(`Will subscribe to ${_e.destination}`);let $=_e.subHeaders;"function"==typeof $&&($=$()),Me=this._stompClient.subscribe(_e.destination,B=>{Le.next(B)},$)}),()=>{if(this._debug(`Stop watching connection state (for ${_e.destination})`),ht.unsubscribe(),Se.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${_e.destination} at Stomp`);let $=_e.unsubHeaders;"function"==typeof $&&($=$()),Me.unsubscribe($)}else this._debug(`Stomp not connected, no need to unsubscribe from ${_e.destination} at Stomp`)}}).pipe((0,U.B)())}watchForReceipt(w,F){this._stompClient.watchForReceipt(w,F)}asyncReceipt(w){return(0,le.z)(this.unhandledReceipts$.pipe((0,g.h)(F=>F.headers["receipt-id"]===w)))}_changeState(w){this._connectionStatePre$.next(w),this.connectionState$.next(w)}}{constructor(){super()}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275prov=Ce.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},4488:(Ht,et,_)=>{_.d(et,{U:()=>re});var e=_(540),s=_(8372),g=_(1884),H=_(2382),L=_(383),I=_(5e3),U=_(8738),le=_(8007);let re=(()=>{class K{constructor(ue,Oe){this.api=ue,this.rt=Oe,this.pageNumber=0,this.TASK_PAGE_SIZE=25,this.taskItems=[],this.totalTaskItems=0,this.filterForm=new H.cw({status:new H.NI(["ACTIVE","PROCESSING"]),template:new H.NI(L.Ke.loadOrDefault("listPageTempFilter",[])),searchPhrase:new H.NI(null),tags:new H.NI([])}),this.isPageChanging=!1,this.templateFilterForm=new H.cw(this.templateFilterFormInit),this.templateFilterFields=L.Ke.loadOrDefault("templateFilterFields",[]),this.contextSearchString="",this.loadingState=e.Gu.LOADING,this.exclusionIds=[],this.rt.taskCreated().subscribe(this.createTask.bind(this)),this.rt.taskUpdated().subscribe(this.updateTask.bind(this)),this.rt.taskDeleted().subscribe(this.deleteTask.bind(this)),this.filterForm.controls.template.valueChanges.subscribe(Te=>{L.Ke.save("listPageTempFilter",Te),1===Te.length?this.api.getWireframe(Te[0]).subscribe(ke=>{var we;const Fe=null!==(we=ke.allFields)&&void 0!==we?we:[],Y=Object.assign({author:this.templateFilterForm.controls.author,dateOfCreation:this.templateFilterForm.controls.dateOfCreation},Fe.reduce((Pe,de)=>Object.assign(Object.assign({},Pe),{[de.id]:new H.NI(null)}),{}));this.templateFilterForm=new H.cw(Y),this.templateFilterFields=Fe,L.Ke.save("templateFilterFormControls",["author","dateOfCreation",...Fe.map(Pe=>Pe.id)]),L.Ke.save("templateFilterFields",this.templateFilterFields)}):(this.templateFilterForm=new H.cw({author:this.templateFilterForm.controls.author,dateOfCreation:this.templateFilterForm.controls.dateOfCreation}),this.templateFilterFields=[],L.Ke.save("templateFilterFormControls",["author","dateOfCreation"]),L.Ke.save("templateFilterFields",this.templateFilterFields))}),this.filterForm.valueChanges.pipe((0,s.b)(500),(0,g.x)()).subscribe(this.filtersApply.bind(this))}get templateFilterFormInit(){return L.Ke.loadOrDefault("templateFilterFormControls",["author","dateOfCreation"]).reduce((ue,Oe)=>(ue[Oe]=new H.NI(null),ue),{})}set setPaginatorPage(ue){this._setPaginatorPage=ue}contextSearch(){setTimeout(()=>{this.loadPageOfTasks(0)})}filtersApply(){this.loadPageOfTasks(0)}pageChange(ue){this.isPageChanging||(this.pageNumber=ue.page,this.loadPageOfTasks(ue.page))}loadPage(){this.loadPageOfTasks(this.pageNumber)}createTask(ue){this.taskItems.findIndex(Te=>Te.taskId===ue.taskId)<0&&0===this.pageNumber&&(this.taskItems.splice(0,1,ue),this.totalTaskItems++)}updateTask(ue){let Oe=this.taskItems.findIndex(Te=>Te.taskId===ue.taskId);Oe>=0&&(this.taskItems[Oe]=ue)}deleteTask(ue){let Oe=this.taskItems.findIndex(Te=>Te.taskId===ue.taskId);Oe>=0&&this.taskItems.splice(Oe,1)}changePage(ue){this.isPageChanging=!0,this._setPaginatorPage&&this._setPaginatorPage(ue),this.isPageChanging=!1}loadPageOfTasks(ue){0===ue&&this.changePage(0),this.loadingState=e.Gu.LOADING;const Oe=this.templateFilterForm.getRawValue(),Te=JSON.stringify(this.templateFilterFields.filter(ke=>Oe[ke.id]).map(ke=>({id:ke.id,wireframeFieldType:ke.type,value:Oe[ke.id]})));this.api.getPageOfTasks(ue,Object.assign(Object.assign({},this.filterForm.getRawValue()),{author:this.templateFilterForm.value.author,dateOfCreation:this.templateFilterForm.value.dateOfCreation,templateFilter:Te})).subscribe(this.observerHandlers()),this.filterForm.disable({emitEvent:!1}),this.templateFilterForm.disable({emitEvent:!1})}observerHandlers(){return{next:ue=>{this.totalTaskItems=ue.totalElements,this.loadingState=0===this.totalTaskItems?e.Gu.EMPTY:e.Gu.READY,this.taskItems=ue.content,this.changePage(this.pageNumber),this.filterForm.enable({emitEvent:!1}),this.templateFilterForm.enable({emitEvent:!1})},error:()=>{this.loadingState=e.Gu.ERROR,this.filterForm.enable({emitEvent:!1}),this.templateFilterForm.enable({emitEvent:!1})}}}}return K.\u0275fac=function(ue){return new(ue||K)(I.LFG(U.s),I.LFG(le.U))},K.\u0275prov=I.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})()},540:(Ht,et,_)=>{_.d(et,{AE:()=>ke,Ez:()=>s,Gu:()=>Oe,LE:()=>ue,_r:()=>e,b9:()=>Te,dA:()=>re,hY:()=>I,k$:()=>pe,sf:()=>U});var e=(()=>{return(Y=e||(e={})).BOOLEAN="BOOLEAN",Y.SMALL_TEXT="SMALL_TEXT",Y.LARGE_TEXT="LARGE_TEXT",Y.INTEGER="INTEGER",Y.FLOAT="FLOAT",Y.ADDRESS="ADDRESS",Y.LOGIN="LOGIN",Y.AD_SOURCE="AD_SOURCE",Y.REQUEST_INITIATOR="REQUEST_INITIATOR",Y.IP="IP",Y.EQUIPMENTS="EQUIPMENTS",Y.CONNECTION_SERVICES="CONNECTION_SERVICES",Y.PHONE_ARRAY="PHONE_ARRAY",e;var Y})(),s=(()=>{return(Y=s||(s={})).MODEL="MODEL",Y.PIPELINE="PIPELINE",s;var Y})(),I=(()=>{return(Y=I||(I={})).ACTIVE="ACTIVE",Y.PROCESSING="PROCESSING",Y.CLOSE="CLOSE",I;var Y})(),U=(()=>{return(Y=U||(U={})).PHOTO="PHOTO",Y.VIDEO="VIDEO",Y.DOCUMENT="DOCUMENT",Y.AUDIO="AUDIO",Y.FILE="FILE",U;var Y})(),re=(()=>{return(Y=re||(re={})).CHANGE_STAGE="CHANGE_STAGE",Y.CREATE_WORK_LOG="CREATE_WORK_LOG",Y.FORCE_CLOSE_WORK_LOG="FORCE_CLOSE_WORK_LOG",Y.CLOSE_WORK_LOG="CLOSE_WORK_LOG",Y.CHANGE_RESPONSIBILITY="CHANGE_RESPONSIBILITY",Y.LINKED_TO_PARENT_TASK="LINKED_TO_PARENT_TASK",Y.UNLINKED_FROM_PARENT_TASK="UNLINKED_FROM_PARENT_TASK",Y.UNLINK_CHILD_TASK="UNLINK_CHILD_TASK",Y.LINKED_TO_CHILD_TASKS="LINKED_TO_CHILD_TASKS",Y.CHANGE_TAGS="CHANGE_TAGS",Y.CLEAN_TAGS="CLEAN_TAGS",Y.CHANGE_OBSERVERS="CHANGE_OBSERVERS",Y.UNBIND_RESPONSIBLE="UNBIND_RESPONSIBLE",Y.CHANGE_ACTUAL_FROM="CHANGE_ACTUAL_FROM",Y.CHANGE_ACTUAL_TO="CHANGE_ACTUAL_TO",Y.CLEAR_ACTUAL_FROM_TASK="CLEAR_ACTUAL_FROM_TASK",Y.CLEAR_ACTUAL_TO_TASK="CLEAR_ACTUAL_TO_TASK",Y.CLOSE_TASK="CLOSE_TASK",Y.REOPEN_TASK="REOPEN_TASK",Y.EDIT_FIELDS="EDIT_FIELDS",Y.REPORT_CREATED="REPORT_CREATED",re;var Y})(),pe=(()=>{return(Y=pe||(pe={})).TASK_CREATED="TASK_CREATED",Y.TASK_EDITED="TASK_EDITED",Y.TASK_CLOSED="TASK_CLOSED",Y.TASK_DELETED="TASK_DELETED",Y.TASK_PROCESSED="TASK_PROCESSED",Y.TASK_REOPENED="TASK_REOPENED",Y.TASK_STAGE_CHANGED="TASK_STAGE_CHANGED",Y.YOU_RESPONSIBLE="YOU_RESPONSIBLE",Y.YOU_OBSERVER="YOU_OBSERVER",Y.NEW_COMMENT="NEW_COMMENT",Y.TASK_HAS_BECOME_ACTUAL="TASK_HAS_BECOME_ACTUAL",Y.TASK_EXPIRED="TASK_EXPIRED",Y.WORKS_COMPLETED="WORKS_COMPLETED",Y.REPORT_RECEIVED="REPORT_RECEIVED",Y.MENTIONED_IN_TASK="MENTIONED_IN_TASK",pe;var Y})(),ue=(()=>{return(Y=ue||(ue={})).ONLINE="ONLINE",Y.AWAY="AWAY",Y.OFFLINE="OFFLINE",ue;var Y})(),Oe=(()=>{return(Y=Oe||(Oe={})).READY="READY",Y.LOADING="LOADING",Y.ERROR="ERROR",Y.EMPTY="EMPTY",Oe;var Y})(),Te=(()=>{return(Y=Te||(Te={})).AMOUNT="AMOUNT",Y.METRES="METRES",Y.KILOGRAMS="KILOGRAMS",Te;var Y})();class ke{constructor(Pe){this.target=null,this.index=null;const de=Pe.dragNode,N=Pe.dropNode;this.index=Pe.index,this.source=new we(de),this.target=N.children&&N.children.includes(de)?new we(N):N.parent?new we(N.parent):null}}class we{constructor(Pe){this.key=Pe.key,this.label=Pe.label,this.icon=Pe.icon,this.type=Pe.type}}},383:(Ht,et,_)=>{_.d(et,{pd:()=>Me,PU:()=>Le,Ke:()=>j,xf:()=>ht,cQ:()=>De,EM:()=>$,d4:()=>B,tg:()=>at,XO:()=>Se});var e=_(540),s=_(5963),g=_(3900),H=_(9646),L=_(5e3),I=_(4707),U=_(6451),le=_(4004);const re={schedule(Ue,fe){const qe=setTimeout(Ue,fe);return()=>clearTimeout(qe)},scheduleBeforeRender(Ue){if("undefined"==typeof window)return re.schedule(Ue,0);if(void 0===window.requestAnimationFrame)return re.schedule(Ue,16);const fe=window.requestAnimationFrame(Ue);return()=>window.cancelAnimationFrame(fe)}};let Te;function de(Ue,fe,qe){let je=qe;return function pe(Ue){return!!Ue&&Ue.nodeType===Node.ELEMENT_NODE}(Ue)&&fe.some((mt,bt)=>!("*"===mt||!function ke(Ue,fe){if(!Te){const qe=Element.prototype;Te=qe.matches||qe.matchesSelector||qe.mozMatchesSelector||qe.msMatchesSelector||qe.oMatchesSelector||qe.webkitMatchesSelector}return Ue.nodeType===Node.ELEMENT_NODE&&Te.call(Ue,fe)}(Ue,mt)||(je=bt,0))),je}class O{constructor(fe,qe){this.componentFactory=qe.get(L._Vd).resolveComponentFactory(fe)}create(fe){return new ye(this.componentFactory,fe)}}class ye{constructor(fe,qe){this.componentFactory=fe,this.injector=qe,this.eventEmitters=new I.t(1),this.events=this.eventEmitters.pipe((0,g.w)(je=>(0,U.T)(...je))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:je})=>je)),this.ngZone=this.injector.get(L.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(fe){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(fe)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=re.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(fe){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(fe):this.componentRef.instance[fe])}setInputValue(fe,qe){this.runInZone(()=>{null!==this.componentRef?function we(Ue,fe){return Ue===fe||Ue!=Ue&&fe!=fe}(qe,this.getInputValue(fe))&&(void 0!==qe||!this.unchangedInputs.has(fe))||(this.recordInputChange(fe,qe),this.unchangedInputs.delete(fe),this.hasInputChanges=!0,this.componentRef.instance[fe]=qe,this.scheduleDetectChanges()):this.initialInputValues.set(fe,qe)})}initializeComponent(fe){const qe=L.zs3.create({providers:[],parent:this.injector}),je=function Pe(Ue,fe){const qe=Ue.childNodes,je=fe.map(()=>[]);let mt=-1;fe.some((bt,st)=>"*"===bt&&(mt=st,!0));for(let bt=0,st=qe.length;bt<st;++bt){const xt=qe[bt],ot=de(xt,fe,mt);-1!==ot&&je[ot].push(xt)}return je}(fe,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(qe,je,fe),this.viewChangeDetectorRef=this.componentRef.injector.get(L.sBO),this.implementsOnChanges=function ue(Ue){return"function"==typeof Ue}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(L.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:fe})=>{this.initialInputValues.has(fe)&&this.setInputValue(fe,this.initialInputValues.get(fe))}),this.initialInputValues.clear()}initializeOutputs(fe){const qe=this.componentFactory.outputs.map(({propName:je,templateName:mt})=>fe.instance[je].pipe((0,le.U)(st=>({name:mt,value:st}))));this.eventEmitters.next(qe)}callNgOnChanges(fe){if(!this.implementsOnChanges||null===this.inputChanges)return;const qe=this.inputChanges;this.inputChanges=null,fe.instance.ngOnChanges(qe)}markViewForCheck(fe){this.hasInputChanges&&(this.hasInputChanges=!1,fe.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=re.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(fe,qe){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const je=this.inputChanges[fe];if(je)return void(je.currentValue=qe);const mt=this.unchangedInputs.has(fe),bt=mt?void 0:this.getInputValue(fe);this.inputChanges[fe]=new L.WD2(bt,qe,mt)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(fe){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(fe):fe()}}class Ce extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function ve(Ue,fe){const qe=function Y(Ue,fe){return fe.get(L._Vd).resolveComponentFactory(Ue).inputs}(Ue,fe.injector),je=fe.strategyFactory||new O(Ue,fe.injector),mt=function Fe(Ue){const fe={};return Ue.forEach(({propName:qe,templateName:je})=>{fe[function K(Ue){return Ue.replace(/[A-Z]/g,fe=>`-${fe.toLowerCase()}`)}(je)]=qe}),fe}(qe);class bt extends Ce{constructor(xt){super(),this.injector=xt}get ngElementStrategy(){if(!this._ngElementStrategy){const xt=this._ngElementStrategy=je.create(this.injector||fe.injector);qe.forEach(({propName:ot})=>{if(!this.hasOwnProperty(ot))return;const We=this[ot];delete this[ot],xt.setInputValue(ot,We)})}return this._ngElementStrategy}attributeChangedCallback(xt,ot,We,hn){this.ngElementStrategy.setInputValue(mt[xt],We)}connectedCallback(){let xt=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),xt=!0),this.ngElementStrategy.connect(this),xt||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(xt=>{const ot=new CustomEvent(xt.name,{detail:xt.value});this.dispatchEvent(ot)})}}return bt.observedAttributes=Object.keys(mt),qe.forEach(({propName:st})=>{Object.defineProperty(bt.prototype,st,{get(){return this.ngElementStrategy.getInputValue(st)},set(xt){this.ngElementStrategy.setInputValue(st,xt)},configurable:!0,enumerable:!0})}),bt}var w=_(1110),F=_(2777),q=_(7805),_e=_(7092);class De{static convertModelItemToString(fe){var qe,je;if(fe.wireframeFieldType===e._r.ADDRESS){const mt=fe.addressData;return mt?`${null===(qe=mt.city)||void 0===qe?void 0:qe.name} ${null===(je=mt.street)||void 0===je?void 0:je.name} ${mt.houseNum}${mt.fraction?"/"+mt.fraction:""}${mt.letter}${mt.build?" \u0441\u0442\u0440."+mt.build:""} \u043a\u0432.${mt.apartmentNum}`:""}return""}static isCorrectSequenceOfCharacters(fe,qe,je=[]){const mt=fe.delta.ops,bt=fe.oldDelta.ops,st=fe.editor.getSelection(!0).index;if(!mt||!bt)return!1;if(1===mt.length){if(mt[0].insert===qe)return!0}else if(2===mt.length){const xt=bt.reduce((We,hn)=>We+hn.insert,"").slice(0,st-1),ot=mt[1].insert;if(0===je.length&&ot===qe||ot===qe&&je.some(We=>xt.endsWith(We)))return!0}return!1}static dateArrayToRange(fe){if(!fe)return null;const qe=fe.map((mt,bt)=>{if(mt)return 1===bt?(mt.setHours(23,59,59,999),De.dateFormat(mt)):(mt.setHours(0,0,0,0),De.dateFormat(mt))});return{start:qe[0],end:qe[1]}}static dateFormat(fe){return`${fe.getFullYear()}-${(fe.getMonth()+1).toString().padStart(2,"0")}-${fe.getDate().toString().padStart(2,"0")}T${fe.getHours().toString().padStart(2,"0")}:${fe.getMinutes().toString().padStart(2,"0")}:${fe.getSeconds().toString().padStart(2,"0")}Z`}static dateFormatTS(fe){return`${fe.getFullYear()}-${(fe.getMonth()+1).toString().padStart(2,"0")}-${fe.getDate().toString().padStart(2,"0")} ${fe.getHours().toString().padStart(2,"0")}:${fe.getMinutes().toString().padStart(2,"0")}:${fe.getSeconds().toString().padStart(2,"0")}`}static stringToColor(fe,qe=70,je=100,mt=50,bt=80){let st=0;for(let hn=0;hn<fe.length;hn++)st=fe.charCodeAt(hn)+((st<<5)-st);return`hsl(${st%360}, ${Math.max(qe,Math.min(je,st%100/100*(je-qe)+qe))}%, ${Math.max(mt,Math.min(bt,st%100/100*(bt-mt)+mt))}%)`}static stringToGradient(fe,qe=90,je=70,mt=85,bt=65){let st=0;for(let Mt=0;Mt<fe.length;Mt++)st=fe.charCodeAt(Mt)+((st<<5)-st);const xt=st%360,ot=st%(qe-je+1)+je,We=st%(mt-bt+1)+bt;return`linear-gradient(0deg, hsl(${xt}, ${ot}%, ${We}%) 0%, hsl(${(xt-30)%360}, ${ot}%, ${We-10}%) 100%)`}static declineOfNumber(fe,qe){const je=(fe=Math.abs(fe)%100)%10;return fe>10&&fe<20?qe[2]:je>1&&je<5?qe[1]:1==je?qe[0]:qe[2]}static getValueFromModelItem(fe){switch(fe.wireframeFieldType){case e._r.ADDRESS:return fe.addressData;case e._r.INTEGER:return fe.integerData;case e._r.FLOAT:return fe.floatData;case e._r.BOOLEAN:return fe.booleanData;case e._r.PHONE_ARRAY:return fe.phoneData;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.SMALL_TEXT:return fe.stringData;default:return null}}static setValueToModelItem(fe,qe){switch(fe.wireframeFieldType){case e._r.ADDRESS:fe.addressData=qe;break;case e._r.INTEGER:fe.integerData=qe;break;case e._r.FLOAT:fe.floatData=qe;break;case e._r.BOOLEAN:fe.booleanData=qe;break;case e._r.PHONE_ARRAY:fe.phoneData=qe;break;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.SMALL_TEXT:fe.stringData=qe}return fe}static prepareForHttpRequest(fe){if("object"==typeof fe)for(let qe in fe)Array.isArray(fe[qe])||"string"==typeof fe[qe]||"number"==typeof fe[qe]||"boolean"==typeof fe[qe]?Array.isArray(fe[qe])&&(fe[qe]=fe[qe].map(je=>"object"==typeof je?JSON.stringify(je):je)):fe[qe]=JSON.stringify(fe[qe]);return fe}}class Le{static convert(fe,qe){return qe.steps.reduce((mt,bt)=>[...mt,...bt.fields],[]).filter(mt=>Object.keys(fe).includes(mt.id)).map(mt=>{const bt=fe[mt.id],st={id:mt.id,wireframeFieldType:mt.type,name:mt.name};switch(mt.type){case e._r.SMALL_TEXT:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.IP:st.stringData=bt;break;case e._r.ADDRESS:st.addressData=bt;break;case e._r.PHONE_ARRAY:st.phoneData=bt;break;case e._r.INTEGER:st.integerData=bt;break;case e._r.BOOLEAN:st.booleanData=bt;break;case e._r.FLOAT:st.floatData=bt}return st})}static editExisting(fe,qe){return qe.map(je=>De.setValueToModelItem(je,fe[je.modelItemId]))}}class Me{constructor(){this.observer=(0,s.H)(0,1e3).pipe((0,g.w)(()=>(0,H.of)(this.getTime()))),this.time=0}setTime(fe){this.time=fe instanceof Date?fe.getTime():"string"==typeof fe?new Date(fe).getTime():"number"==typeof fe?fe:0}getTime(){if(0===this.time)return{biggestSuffix:"",biggestType:"none",biggestValue:0,current:{days:0,hours:0,minutes:0,seconds:0},mode:"none",timeError:!0,actualLabel:"-"};const fe=(new Date).getTime(),qe=Math.abs(this.time-fe),je=this.time<fe?"after":"before";let mt=Math.floor(qe/864e5),bt=Math.floor(qe%864e5/36e5),st=Math.floor(qe%36e5/6e4),xt=Math.floor(qe%6e4/1e3);if(mt>0){const ot=De.declineOfNumber(mt,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);return{biggestSuffix:ot,biggestType:"days",biggestValue:mt,current:{days:mt,hours:bt,minutes:st,seconds:xt},mode:je,timeError:!1,actualLabel:`${mt} ${ot}`}}if(bt>0){const ot=De.declineOfNumber(bt,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]);return{biggestSuffix:ot,biggestType:"hours",biggestValue:bt,current:{days:mt,hours:bt,minutes:st,seconds:xt},mode:je,timeError:!1,actualLabel:`${bt} ${ot}`}}if(st>0){const ot=De.declineOfNumber(st,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]);return{biggestSuffix:ot,biggestType:"minutes",biggestValue:st,current:{days:mt,hours:bt,minutes:st,seconds:xt},mode:je,timeError:!1,actualLabel:`${st} ${ot}`}}{const ot=De.declineOfNumber(xt,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]);return{biggestSuffix:ot,biggestType:"seconds",biggestValue:xt,current:{days:mt,hours:bt,minutes:st,seconds:xt},mode:je,timeError:!1,actualLabel:`${xt} ${ot}`}}}}class ht{constructor(){this.subscriptions=new Map}addSubscription(fe,qe){const je=this.subscriptions.get(fe);je&&je.unsubscribe(),this.subscriptions.set(fe,qe)}unsubscribeAll(){this.subscriptions.forEach(fe=>fe.unsubscribe()),this.subscriptions.clear()}unsubscribe(fe){const qe=this.subscriptions.get(fe);qe&&qe.unsubscribe(),this.subscriptions.delete(fe)}}const at={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{color:[]}],["clean"],["link"]]};function Se(Ue){const fe={"employee-label-element":ve(w.x,{injector:Ue}),"task-link-element":ve(F.U,{injector:Ue}),"department-label-element":ve(q.y,{injector:Ue}),"appointed-installers-element":ve(_e._,{injector:Ue})};for(const[qe,je]of Object.entries(fe))customElements.get(qe)||customElements.define(qe,je)}function $(Ue){Ue.ripple=!0,Ue.setTranslation({startsWith:"\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",contains:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442",notContains:"\u041d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",endsWith:"\u041a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f",equals:"\u0420\u0430\u0432\u043d\u043e",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",matchAll:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043e \u0432\u0441\u0435\u043c",matchAny:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438",addRule:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",removeRule:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",accept:"\u0414\u0430",reject:"\u041d\u0435\u0442",choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",dayNames:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441\u043a","\u041f\u043e\u043d","\u0412\u0442\u043e","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041f\u044f\u0442","\u0421\u0443\u0431"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dateFormat:"dd-mm-yy",firstDayOfWeek:0,today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",weekHeader:"\u041d\u0434",weak:"\u041d\u0435\u0434\u0435\u043b\u044f",medium:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",strong:"\u0416\u0438\u0440\u043d\u044b\u0439",passwordPrompt:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",emptyMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",emptyFilterMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})}function B(Ue,fe=0){let qe=3735928559^fe,je=1103547991^fe;for(let bt,mt=0;mt<Ue.length;mt++)bt=Ue.charCodeAt(mt),qe=Math.imul(qe^bt,2654435761),je=Math.imul(je^bt,1597334677);return qe=Math.imul(qe^qe>>>16,2246822507),qe^=Math.imul(je^je>>>13,3266489909),je=Math.imul(je^je>>>16,2246822507),je^=Math.imul(qe^qe>>>13,3266489909),(4294967296*(2097151&je)+(qe>>>0)).toString(16)}class j{static save(fe,qe){localStorage.setItem(fe,JSON.stringify(qe))}static load(fe){const qe=localStorage.getItem(fe);return null===qe?null:JSON.parse(qe)}static loadOrDefault(fe,qe){const je=localStorage.getItem(fe);return null===je?qe:JSON.parse(je)}}},2340:(Ht,et,_)=>{_.d(et,{N:()=>e});const e={production:!0,wsHost:"ws://10.128.227.39/socket",hmr:!1}},7014:(Ht,et,_)=>{var e=_(2313),s=_(5e3),g=_(383),H=_(9783),L=_(5572),I=_(9808),U=_(7773),le=_(1110);function re(Ee,b){if(1&Ee&&(s.TgZ(0,"span",9),s._uU(1),s.qZA()),2&Ee){const x=s.oxw().$implicit;s.xp6(1),s.Oqu(x.data.descriptionOfAttachment)}}function K(Ee,b){if(1&Ee&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&Ee){const x=s.oxw().$implicit;s.xp6(1),s.Oqu(x.data.text)}}const pe=function(){return{marginLeft:"2rem"}};function ue(Ee,b){if(1&Ee&&(s.TgZ(0,"div",2)(1,"div",3),s._UZ(2,"app-employee-label",4),s.qZA(),s.TgZ(3,"div",5),s.YNc(4,re,2,1,"span",6),s.YNc(5,K,2,1,"span",7),s.qZA(),s.TgZ(6,"div",8)(7,"span"),s._uU(8),s.ALo(9,"date"),s.qZA()()()),2&Ee){const x=b.$implicit;s.xp6(2),s.Q6J("employee",x.data.author),s.xp6(1),s.Akn(s.DdM(9,pe)),s.xp6(1),s.Q6J("ngIf",x.data.descriptionOfAttachment),s.xp6(1),s.Q6J("ngIf",x.data.text),s.xp6(3),s.Oqu(s.xi3(9,6,x.data.sendAt,"dd-MM-yyyy HH:mm"))}}let Oe=(()=>{class Ee{constructor(x,se){this.config=x,this.title="Microel CRM",(0,g.EM)(x),(0,g.XO)(se)}}return Ee.\u0275fac=function(x){return new(x||Ee)(s.Y36(H.b4),s.Y36(s.zs3))},Ee.\u0275cmp=s.Xpm({type:Ee,selectors:[["app-root"]],decls:4,vars:0,consts:[["position","bottom-right","key","chatMessage"],["pTemplate","message"],[1,"flexed","column","stretched","gap5"],[1,"flexed","hcenter"],[3,"employee"],[1,"flexed","column"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[4,"ngIf"],[1,"flexed","vend","caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","wt-bold","f-color-primary"]],template:function(x,se){1&x&&(s._UZ(0,"router-outlet")(1,"p-toast"),s.TgZ(2,"p-toast",0),s.YNc(3,ue,10,10,"ng-template",1),s.qZA())},dependencies:[L.lC,I.O5,U.FN,H.jx,le.x,I.uU]}),Ee})();const Te=void 0,we=["ru",[["AM","PM"],Te,Te],Te,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],Te,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Te,Te,Te],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[Te,"\u0440."],GEL:[Te,"\u10da"],PHP:[Te,"\u20b1"],RON:[Te,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function ke(Ee){const x=Math.floor(Math.abs(Ee)),se=Ee.toString().replace(/^[^.]*\.?/,"").length;return 0===se&&x%10==1&&x%100!=11?1:0===se&&x%10===Math.floor(x%10)&&x%10>=2&&x%10<=4&&!(x%100>=12&&x%100<=14)?3:0===se&&x%10==0||0===se&&x%10===Math.floor(x%10)&&x%10>=5&&x%10<=9||0===se&&x%100===Math.floor(x%100)&&x%100>=11&&x%100<=14?4:5}];var Fe=_(975),Y=_(8529),Pe=_(1777);function N(Ee){return new s.vHH(3e3,!1)}function Vn(){return"undefined"!=typeof window&&void 0!==window.document}function oi(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Kn(Ee){switch(Ee.length){case 0:return new Pe.ZN;case 1:return Ee[0];default:return new Pe.ZE(Ee)}}function Ut(Ee,b,x,se,Re=new Map,Ke=new Map){const _t=[],At=[];let Lt=-1,Xt=null;if(se.forEach(mn=>{const En=mn.get("offset"),jn=En==Lt,Yn=jn&&Xt||new Map;mn.forEach((Nn,Hn)=>{let ci=Hn,vi=Nn;if("offset"!==Hn)switch(ci=b.normalizePropertyName(ci,_t),vi){case Pe.k1:vi=Re.get(Hn);break;case Pe.l3:vi=Ke.get(Hn);break;default:vi=b.normalizeStyleValue(Hn,ci,vi,_t)}Yn.set(ci,vi)}),jn||At.push(Yn),Xt=Yn,Lt=En}),_t.length)throw function bt(Ee){return new s.vHH(3502,!1)}();return At}function ft(Ee,b,x,se){switch(b){case"start":Ee.onStart(()=>se(x&&Be(x,"start",Ee)));break;case"done":Ee.onDone(()=>se(x&&Be(x,"done",Ee)));break;case"destroy":Ee.onDestroy(()=>se(x&&Be(x,"destroy",Ee)))}}function Be(Ee,b,x){const se=x.totalTime,Ke=It(Ee.element,Ee.triggerName,Ee.fromState,Ee.toState,b||Ee.phaseName,null==se?Ee.totalTime:se,!!x.disabled),_t=Ee._data;return null!=_t&&(Ke._data=_t),Ke}function It(Ee,b,x,se,Re="",Ke=0,_t){return{element:Ee,triggerName:b,fromState:x,toState:se,phaseName:Re,totalTime:Ke,disabled:!!_t}}function S(Ee,b,x){let se=Ee.get(b);return se||Ee.set(b,se=x),se}function he(Ee){const b=Ee.indexOf(":");return[Ee.substring(1,b),Ee.slice(b+1)]}let Ae=(Ee,b)=>!1,Qe=(Ee,b,x)=>[],Ot=null;function Kt(Ee){const b=Ee.parentNode||Ee.host;return b===Ot?null:b}(oi()||"undefined"!=typeof Element)&&(Vn()?(Ot=(()=>document.documentElement)(),Ae=(Ee,b)=>{for(;b;){if(b===Ee)return!0;b=Kt(b)}return!1}):Ae=(Ee,b)=>Ee.contains(b),Qe=(Ee,b,x)=>{if(x)return Array.from(Ee.querySelectorAll(b));const se=Ee.querySelector(b);return se?[se]:[]});let wt=null,ee=!1;const sn=Ae,$n=Qe;let kt=(()=>{class Ee{validateStyleProperty(x){return function Ve(Ee){wt||(wt=function Ct(){return"undefined"!=typeof document?document.body:null}()||{},ee=!!wt.style&&"WebkitAppearance"in wt.style);let b=!0;return wt.style&&!function Xe(Ee){return"ebkit"==Ee.substring(1,6)}(Ee)&&(b=Ee in wt.style,!b&&ee&&(b="Webkit"+Ee.charAt(0).toUpperCase()+Ee.slice(1)in wt.style)),b}(x)}matchesElement(x,se){return!1}containsElement(x,se){return sn(x,se)}getParentElement(x){return Kt(x)}query(x,se,Re){return $n(x,se,Re)}computeStyle(x,se,Re){return Re||""}animate(x,se,Re,Ke,_t,At=[],Lt){return new Pe.ZN(Re,Ke)}}return Ee.\u0275fac=function(x){return new(x||Ee)},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),rn=(()=>{class Ee{}return Ee.NOOP=new kt,Ee})();const $t="ng-enter",xn="ng-leave",Pn="ng-trigger",di=".ng-trigger",Ci="ng-animating",Ki=".ng-animating";function Je(Ee){if("number"==typeof Ee)return Ee;const b=Ee.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:X(parseFloat(b[1]),b[2])}function X(Ee,b){return"s"===b?1e3*Ee:Ee}function D(Ee,b,x){return Ee.hasOwnProperty("duration")?Ee:function oe(Ee,b,x){let Re,Ke=0,_t="";if("string"==typeof Ee){const At=Ee.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===At)return b.push(N()),{duration:0,delay:0,easing:""};Re=X(parseFloat(At[1]),At[2]);const Lt=At[3];null!=Lt&&(Ke=X(parseFloat(Lt),At[4]));const Xt=At[5];Xt&&(_t=Xt)}else Re=Ee;if(!x){let At=!1,Lt=b.length;Re<0&&(b.push(function O(){return new s.vHH(3100,!1)}()),At=!0),Ke<0&&(b.push(function ye(){return new s.vHH(3101,!1)}()),At=!0),At&&b.splice(Lt,0,N())}return{duration:Re,delay:Ke,easing:_t}}(Ee,b,x)}function Ie(Ee,b={}){return Object.keys(Ee).forEach(x=>{b[x]=Ee[x]}),b}function vt(Ee){const b=new Map;return Object.keys(Ee).forEach(x=>{b.set(x,Ee[x])}),b}function Vt(Ee,b=new Map,x){if(x)for(let[se,Re]of x)b.set(se,Re);for(let[se,Re]of Ee)b.set(se,Re);return b}function pn(Ee,b,x){return x?b+":"+x+";":""}function bn(Ee){let b="";for(let x=0;x<Ee.style.length;x++){const se=Ee.style.item(x);b+=pn(0,se,Ee.style.getPropertyValue(se))}for(const x in Ee.style)Ee.style.hasOwnProperty(x)&&!x.startsWith("_")&&(b+=pn(0,Fi(x),Ee.style[x]));Ee.setAttribute("style",b)}function yn(Ee,b,x){Ee.style&&(b.forEach((se,Re)=>{const Ke=Yi(Re);x&&!x.has(Re)&&x.set(Re,Ee.style[Ke]),Ee.style[Ke]=se}),oi()&&bn(Ee))}function An(Ee,b){Ee.style&&(b.forEach((x,se)=>{const Re=Yi(se);Ee.style[Re]=""}),oi()&&bn(Ee))}function In(Ee){return Array.isArray(Ee)?1==Ee.length?Ee[0]:(0,Pe.vP)(Ee):Ee}const Ti=new RegExp("{{\\s*(.+?)\\s*}}","g");function zi(Ee){let b=[];if("string"==typeof Ee){let x;for(;x=Ti.exec(Ee);)b.push(x[1]);Ti.lastIndex=0}return b}function gn(Ee,b,x){const se=Ee.toString(),Re=se.replace(Ti,(Ke,_t)=>{let At=b[_t];return null==At&&(x.push(function ve(Ee){return new s.vHH(3003,!1)}()),At=""),At.toString()});return Re==se?Ee:Re}function yi(Ee){const b=[];let x=Ee.next();for(;!x.done;)b.push(x.value),x=Ee.next();return b}const _o=/-+([a-z0-9])/g;function Yi(Ee){return Ee.replace(_o,(...b)=>b[1].toUpperCase())}function Fi(Ee){return Ee.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Si(Ee,b,x){switch(b.type){case 7:return Ee.visitTrigger(b,x);case 0:return Ee.visitState(b,x);case 1:return Ee.visitTransition(b,x);case 2:return Ee.visitSequence(b,x);case 3:return Ee.visitGroup(b,x);case 4:return Ee.visitAnimate(b,x);case 5:return Ee.visitKeyframes(b,x);case 6:return Ee.visitStyle(b,x);case 8:return Ee.visitReference(b,x);case 9:return Ee.visitAnimateChild(b,x);case 10:return Ee.visitAnimateRef(b,x);case 11:return Ee.visitQuery(b,x);case 12:return Ee.visitStagger(b,x);default:throw function V(Ee){return new s.vHH(3004,!1)}()}}function Ji(Ee,b){return window.getComputedStyle(Ee)[b]}function as(Ee,b){const x=[];return"string"==typeof Ee?Ee.split(/\s*,\s*/).forEach(se=>function Hs(Ee,b,x){if(":"==Ee[0]){const Lt=function Oo(Ee,b){switch(Ee){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(x,se)=>parseFloat(se)>parseFloat(x);case":decrement":return(x,se)=>parseFloat(se)<parseFloat(x);default:return b.push(function fe(Ee){return new s.vHH(3016,!1)}()),"* => *"}}(Ee,x);if("function"==typeof Lt)return void b.push(Lt);Ee=Lt}const se=Ee.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==se||se.length<4)return x.push(function Ue(Ee){return new s.vHH(3015,!1)}()),b;const Re=se[1],Ke=se[2],_t=se[3];b.push(Jo(Re,_t));"<"==Ke[0]&&!("*"==Re&&"*"==_t)&&b.push(Jo(_t,Re))}(se,x,b)):x.push(Ee),x}const hs=new Set(["true","1"]),Pr=new Set(["false","0"]);function Jo(Ee,b){const x=hs.has(Ee)||Pr.has(Ee),se=hs.has(b)||Pr.has(b);return(Re,Ke)=>{let _t="*"==Ee||Ee==Re,At="*"==b||b==Ke;return!_t&&x&&"boolean"==typeof Re&&(_t=Re?hs.has(Ee):Pr.has(Ee)),!At&&se&&"boolean"==typeof Ke&&(At=Ke?hs.has(b):Pr.has(b)),_t&&At}}const Ya=new RegExp("s*:selfs*,?","g");function Co(Ee,b,x,se){return new ea(Ee).build(b,x,se)}class ea{constructor(b){this._driver=b}build(b,x,se){const Re=new Vs(x);return this._resetContextStyleTimingState(Re),Si(this,In(b),Re)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,x){let se=x.queryCount=0,Re=x.depCount=0;const Ke=[],_t=[];return"@"==b.name.charAt(0)&&x.errors.push(function F(){return new s.vHH(3006,!1)}()),b.definitions.forEach(At=>{if(this._resetContextStyleTimingState(x),0==At.type){const Lt=At,Xt=Lt.name;Xt.toString().split(/\s*,\s*/).forEach(mn=>{Lt.name=mn,Ke.push(this.visitState(Lt,x))}),Lt.name=Xt}else if(1==At.type){const Lt=this.visitTransition(At,x);se+=Lt.queryCount,Re+=Lt.depCount,_t.push(Lt)}else x.errors.push(function q(){return new s.vHH(3007,!1)}())}),{type:7,name:b.name,states:Ke,transitions:_t,queryCount:se,depCount:Re,options:null}}visitState(b,x){const se=this.visitStyle(b.styles,x),Re=b.options&&b.options.params||null;if(se.containsDynamicStyles){const Ke=new Set,_t=Re||{};se.styles.forEach(At=>{At instanceof Map&&At.forEach(Lt=>{zi(Lt).forEach(Xt=>{_t.hasOwnProperty(Xt)||Ke.add(Xt)})})}),Ke.size&&(yi(Ke.values()),x.errors.push(function _e(Ee,b){return new s.vHH(3008,!1)}()))}return{type:0,name:b.name,style:se,options:Re?{params:Re}:null}}visitTransition(b,x){x.queryCount=0,x.depCount=0;const se=Si(this,In(b.animation),x);return{type:1,matchers:as(b.expr,x.errors),animation:se,queryCount:x.queryCount,depCount:x.depCount,options:eo(b.options)}}visitSequence(b,x){return{type:2,steps:b.steps.map(se=>Si(this,se,x)),options:eo(b.options)}}visitGroup(b,x){const se=x.currentTime;let Re=0;const Ke=b.steps.map(_t=>{x.currentTime=se;const At=Si(this,_t,x);return Re=Math.max(Re,x.currentTime),At});return x.currentTime=Re,{type:3,steps:Ke,options:eo(b.options)}}visitAnimate(b,x){const se=function qs(Ee,b){if(Ee.hasOwnProperty("duration"))return Ee;if("number"==typeof Ee)return $o(D(Ee,b).duration,0,"");const x=Ee;if(x.split(/\s+/).some(Ke=>"{"==Ke.charAt(0)&&"{"==Ke.charAt(1))){const Ke=$o(0,0,"");return Ke.dynamic=!0,Ke.strValue=x,Ke}const Re=D(x,b);return $o(Re.duration,Re.delay,Re.easing)}(b.timings,x.errors);x.currentAnimateTimings=se;let Re,Ke=b.styles?b.styles:(0,Pe.oB)({});if(5==Ke.type)Re=this.visitKeyframes(Ke,x);else{let _t=b.styles,At=!1;if(!_t){At=!0;const Xt={};se.easing&&(Xt.easing=se.easing),_t=(0,Pe.oB)(Xt)}x.currentTime+=se.duration+se.delay;const Lt=this.visitStyle(_t,x);Lt.isEmptyStep=At,Re=Lt}return x.currentAnimateTimings=null,{type:4,timings:se,style:Re,options:null}}visitStyle(b,x){const se=this._makeStyleAst(b,x);return this._validateStyleAst(se,x),se}_makeStyleAst(b,x){const se=[],Re=Array.isArray(b.styles)?b.styles:[b.styles];for(let At of Re)"string"==typeof At?At===Pe.l3?se.push(At):x.errors.push(new s.vHH(3002,!1)):se.push(vt(At));let Ke=!1,_t=null;return se.forEach(At=>{if(At instanceof Map&&(At.has("easing")&&(_t=At.get("easing"),At.delete("easing")),!Ke))for(let Lt of At.values())if(Lt.toString().indexOf("{{")>=0){Ke=!0;break}}),{type:6,styles:se,easing:_t,offset:b.offset,containsDynamicStyles:Ke,options:null}}_validateStyleAst(b,x){const se=x.currentAnimateTimings;let Re=x.currentTime,Ke=x.currentTime;se&&Ke>0&&(Ke-=se.duration+se.delay),b.styles.forEach(_t=>{"string"!=typeof _t&&_t.forEach((At,Lt)=>{const Xt=x.collectedStyles.get(x.currentQuerySelector),mn=Xt.get(Lt);let En=!0;mn&&(Ke!=Re&&Ke>=mn.startTime&&Re<=mn.endTime&&(x.errors.push(function Me(Ee,b,x,se,Re){return new s.vHH(3010,!1)}()),En=!1),Ke=mn.startTime),En&&Xt.set(Lt,{startTime:Ke,endTime:Re}),x.options&&function Jn(Ee,b,x){const se=b.params||{},Re=zi(Ee);Re.length&&Re.forEach(Ke=>{se.hasOwnProperty(Ke)||x.push(function Ce(Ee){return new s.vHH(3001,!1)}())})}(At,x.options,x.errors)})})}visitKeyframes(b,x){const se={type:5,styles:[],options:null};if(!x.currentAnimateTimings)return x.errors.push(function ht(){return new s.vHH(3011,!1)}()),se;let Ke=0;const _t=[];let At=!1,Lt=!1,Xt=0;const mn=b.steps.map(vi=>{const no=this._makeStyleAst(vi,x);let Ho=null!=no.offset?no.offset:function Lr(Ee){if("string"==typeof Ee)return null;let b=null;if(Array.isArray(Ee))Ee.forEach(x=>{if(x instanceof Map&&x.has("offset")){const se=x;b=parseFloat(se.get("offset")),se.delete("offset")}});else if(Ee instanceof Map&&Ee.has("offset")){const x=Ee;b=parseFloat(x.get("offset")),x.delete("offset")}return b}(no.styles),io=0;return null!=Ho&&(Ke++,io=no.offset=Ho),Lt=Lt||io<0||io>1,At=At||io<Xt,Xt=io,_t.push(io),no});Lt&&x.errors.push(function at(){return new s.vHH(3012,!1)}()),At&&x.errors.push(function Se(){return new s.vHH(3200,!1)}());const En=b.steps.length;let jn=0;Ke>0&&Ke<En?x.errors.push(function $(){return new s.vHH(3202,!1)}()):0==Ke&&(jn=1/(En-1));const Yn=En-1,Nn=x.currentTime,Hn=x.currentAnimateTimings,ci=Hn.duration;return mn.forEach((vi,no)=>{const Ho=jn>0?no==Yn?1:jn*no:_t[no],io=Ho*ci;x.currentTime=Nn+Hn.delay+io,Hn.duration=io,this._validateStyleAst(vi,x),vi.offset=Ho,se.styles.push(vi)}),se}visitReference(b,x){return{type:8,animation:Si(this,In(b.animation),x),options:eo(b.options)}}visitAnimateChild(b,x){return x.depCount++,{type:9,options:eo(b.options)}}visitAnimateRef(b,x){return{type:10,animation:this.visitReference(b.animation,x),options:eo(b.options)}}visitQuery(b,x){const se=x.currentQuerySelector,Re=b.options||{};x.queryCount++,x.currentQuery=b;const[Ke,_t]=function $s(Ee){const b=!!Ee.split(/\s*,\s*/).find(x=>":self"==x);return b&&(Ee=Ee.replace(Ya,"")),Ee=Ee.replace(/@\*/g,di).replace(/@\w+/g,x=>di+"-"+x.slice(1)).replace(/:animating/g,Ki),[Ee,b]}(b.selector);x.currentQuerySelector=se.length?se+" "+Ke:Ke,S(x.collectedStyles,x.currentQuerySelector,new Map);const At=Si(this,In(b.animation),x);return x.currentQuery=null,x.currentQuerySelector=se,{type:11,selector:Ke,limit:Re.limit||0,optional:!!Re.optional,includeSelf:_t,animation:At,originalSelector:b.selector,options:eo(b.options)}}visitStagger(b,x){x.currentQuery||x.errors.push(function B(){return new s.vHH(3013,!1)}());const se="full"===b.timings?{duration:0,delay:0,easing:"full"}:D(b.timings,x.errors,!0);return{type:12,animation:Si(this,In(b.animation),x),timings:se,options:null}}}class Vs{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function eo(Ee){return Ee?(Ee=Ie(Ee)).params&&(Ee.params=function mr(Ee){return Ee?Ie(Ee):null}(Ee.params)):Ee={},Ee}function $o(Ee,b,x){return{duration:Ee,delay:b,easing:x}}function wo(Ee,b,x,se,Re,Ke,_t=null,At=!1){return{type:1,element:Ee,keyframes:b,preStyleProps:x,postStyleProps:se,duration:Re,delay:Ke,totalTime:Re+Ke,easing:_t,subTimeline:At}}class si{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,x){let se=this._map.get(b);se||this._map.set(b,se=[]),se.push(...x)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const qo=new RegExp(":enter","g"),er=new RegExp(":leave","g");function gs(Ee,b,x,se,Re,Ke=new Map,_t=new Map,At,Lt,Xt=[]){return(new Po).buildKeyframes(Ee,b,x,se,Re,Ke,_t,At,Lt,Xt)}class Po{buildKeyframes(b,x,se,Re,Ke,_t,At,Lt,Xt,mn=[]){Xt=Xt||new si;const En=new ls(b,x,Xt,Re,Ke,mn,[]);En.options=Lt;const jn=Lt.delay?Je(Lt.delay):0;En.currentTimeline.delayNextStep(jn),En.currentTimeline.setStyles([_t],null,En.errors,Lt),Si(this,se,En);const Yn=En.timelines.filter(Nn=>Nn.containsAnimation());if(Yn.length&&At.size){let Nn;for(let Hn=Yn.length-1;Hn>=0;Hn--){const ci=Yn[Hn];if(ci.element===x){Nn=ci;break}}Nn&&!Nn.allowOnlyTimelineStyles()&&Nn.setStyles([At],null,En.errors,Lt)}return Yn.length?Yn.map(Nn=>Nn.buildKeyframes()):[wo(x,[],[],[],0,jn,"",!1)]}visitTrigger(b,x){}visitState(b,x){}visitTransition(b,x){}visitAnimateChild(b,x){const se=x.subInstructions.get(x.element);if(se){const Re=x.createSubContext(b.options),Ke=x.currentTimeline.currentTime,_t=this._visitSubInstructions(se,Re,Re.options);Ke!=_t&&x.transformIntoNewTimeline(_t)}x.previousNode=b}visitAnimateRef(b,x){const se=x.createSubContext(b.options);se.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],x,se),this.visitReference(b.animation,se),x.transformIntoNewTimeline(se.currentTimeline.currentTime),x.previousNode=b}_applyAnimationRefDelays(b,x,se){var Re;for(const Ke of b){const _t=null==Ke?void 0:Ke.delay;if(_t){const At="number"==typeof _t?_t:Je(gn(_t,null!==(Re=null==Ke?void 0:Ke.params)&&void 0!==Re?Re:{},x.errors));se.delayNextStep(At)}}}_visitSubInstructions(b,x,se){let Ke=x.currentTimeline.currentTime;const _t=null!=se.duration?Je(se.duration):null,At=null!=se.delay?Je(se.delay):null;return 0!==_t&&b.forEach(Lt=>{const Xt=x.appendInstructionToTimeline(Lt,_t,At);Ke=Math.max(Ke,Xt.duration+Xt.delay)}),Ke}visitReference(b,x){x.updateOptions(b.options,!0),Si(this,b.animation,x),x.previousNode=b}visitSequence(b,x){const se=x.subContextCount;let Re=x;const Ke=b.options;if(Ke&&(Ke.params||Ke.delay)&&(Re=x.createSubContext(Ke),Re.transformIntoNewTimeline(),null!=Ke.delay)){6==Re.previousNode.type&&(Re.currentTimeline.snapshotCurrentStyles(),Re.previousNode=Ro);const _t=Je(Ke.delay);Re.delayNextStep(_t)}b.steps.length&&(b.steps.forEach(_t=>Si(this,_t,Re)),Re.currentTimeline.applyStylesToKeyframe(),Re.subContextCount>se&&Re.transformIntoNewTimeline()),x.previousNode=b}visitGroup(b,x){const se=[];let Re=x.currentTimeline.currentTime;const Ke=b.options&&b.options.delay?Je(b.options.delay):0;b.steps.forEach(_t=>{const At=x.createSubContext(b.options);Ke&&At.delayNextStep(Ke),Si(this,_t,At),Re=Math.max(Re,At.currentTimeline.currentTime),se.push(At.currentTimeline)}),se.forEach(_t=>x.currentTimeline.mergeTimelineCollectedStyles(_t)),x.transformIntoNewTimeline(Re),x.previousNode=b}_visitTiming(b,x){if(b.dynamic){const se=b.strValue;return D(x.params?gn(se,x.params,x.errors):se,x.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,x){const se=x.currentAnimateTimings=this._visitTiming(b.timings,x),Re=x.currentTimeline;se.delay&&(x.incrementTime(se.delay),Re.snapshotCurrentStyles());const Ke=b.style;5==Ke.type?this.visitKeyframes(Ke,x):(x.incrementTime(se.duration),this.visitStyle(Ke,x),Re.applyStylesToKeyframe()),x.currentAnimateTimings=null,x.previousNode=b}visitStyle(b,x){const se=x.currentTimeline,Re=x.currentAnimateTimings;!Re&&se.hasCurrentStyleProperties()&&se.forwardFrame();const Ke=Re&&Re.easing||b.easing;b.isEmptyStep?se.applyEmptyStep(Ke):se.setStyles(b.styles,Ke,x.errors,x.options),x.previousNode=b}visitKeyframes(b,x){const se=x.currentAnimateTimings,Re=x.currentTimeline.duration,Ke=se.duration,At=x.createSubContext().currentTimeline;At.easing=se.easing,b.styles.forEach(Lt=>{At.forwardTime((Lt.offset||0)*Ke),At.setStyles(Lt.styles,Lt.easing,x.errors,x.options),At.applyStylesToKeyframe()}),x.currentTimeline.mergeTimelineCollectedStyles(At),x.transformIntoNewTimeline(Re+Ke),x.previousNode=b}visitQuery(b,x){const se=x.currentTimeline.currentTime,Re=b.options||{},Ke=Re.delay?Je(Re.delay):0;Ke&&(6===x.previousNode.type||0==se&&x.currentTimeline.hasCurrentStyleProperties())&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=Ro);let _t=se;const At=x.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!Re.optional,x.errors);x.currentQueryTotal=At.length;let Lt=null;At.forEach((Xt,mn)=>{x.currentQueryIndex=mn;const En=x.createSubContext(b.options,Xt);Ke&&En.delayNextStep(Ke),Xt===x.element&&(Lt=En.currentTimeline),Si(this,b.animation,En),En.currentTimeline.applyStylesToKeyframe(),_t=Math.max(_t,En.currentTimeline.currentTime)}),x.currentQueryIndex=0,x.currentQueryTotal=0,x.transformIntoNewTimeline(_t),Lt&&(x.currentTimeline.mergeTimelineCollectedStyles(Lt),x.currentTimeline.snapshotCurrentStyles()),x.previousNode=b}visitStagger(b,x){const se=x.parentContext,Re=x.currentTimeline,Ke=b.timings,_t=Math.abs(Ke.duration),At=_t*(x.currentQueryTotal-1);let Lt=_t*x.currentQueryIndex;switch(Ke.duration<0?"reverse":Ke.easing){case"reverse":Lt=At-Lt;break;case"full":Lt=se.currentStaggerTime}const mn=x.currentTimeline;Lt&&mn.delayNextStep(Lt);const En=mn.currentTime;Si(this,b.animation,x),x.previousNode=b,se.currentStaggerTime=Re.currentTime-En+(Re.startTime-se.currentTimeline.startTime)}}const Ro={};class ls{constructor(b,x,se,Re,Ke,_t,At,Lt){this._driver=b,this.element=x,this.subInstructions=se,this._enterClassName=Re,this._leaveClassName=Ke,this.errors=_t,this.timelines=At,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ro,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Lt||new xo(this._driver,x,0),At.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,x){if(!b)return;const se=b;let Re=this.options;null!=se.duration&&(Re.duration=Je(se.duration)),null!=se.delay&&(Re.delay=Je(se.delay));const Ke=se.params;if(Ke){let _t=Re.params;_t||(_t=this.options.params={}),Object.keys(Ke).forEach(At=>{(!x||!_t.hasOwnProperty(At))&&(_t[At]=gn(Ke[At],_t,this.errors))})}}_copyOptions(){const b={};if(this.options){const x=this.options.params;if(x){const se=b.params={};Object.keys(x).forEach(Re=>{se[Re]=x[Re]})}}return b}createSubContext(b=null,x,se){const Re=x||this.element,Ke=new ls(this._driver,Re,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Re,se||0));return Ke.previousNode=this.previousNode,Ke.currentAnimateTimings=this.currentAnimateTimings,Ke.options=this._copyOptions(),Ke.updateOptions(b),Ke.currentQueryIndex=this.currentQueryIndex,Ke.currentQueryTotal=this.currentQueryTotal,Ke.parentContext=this,this.subContextCount++,Ke}transformIntoNewTimeline(b){return this.previousNode=Ro,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,x,se){const Re={duration:null!=x?x:b.duration,delay:this.currentTimeline.currentTime+(null!=se?se:0)+b.delay,easing:""},Ke=new tr(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,Re,b.stretchStartingKeyframe);return this.timelines.push(Ke),Re}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,x,se,Re,Ke,_t){let At=[];if(Re&&At.push(this.element),b.length>0){b=(b=b.replace(qo,"."+this._enterClassName)).replace(er,"."+this._leaveClassName);let Xt=this._driver.query(this.element,b,1!=se);0!==se&&(Xt=se<0?Xt.slice(Xt.length+se,Xt.length):Xt.slice(0,se)),At.push(...Xt)}return!Ke&&0==At.length&&_t.push(function j(Ee){return new s.vHH(3014,!1)}()),At}}class xo{constructor(b,x,se,Re){this._driver=b,this.element=x,this.startTime=se,this._elementTimelineStylesLookup=Re,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(x),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(x,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const x=1===this._keyframes.size&&this._pendingStyles.size;this.duration||x?(this.forwardTime(this.currentTime+b),x&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,x){return this.applyStylesToKeyframe(),new xo(this._driver,b,x||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,x){this._localTimelineStyles.set(b,x),this._globalTimelineStyles.set(b,x),this._styleSummary.set(b,{time:this.currentTime,value:x})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[x,se]of this._globalTimelineStyles)this._backFill.set(x,se||Pe.l3),this._currentKeyframe.set(x,Pe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,x,se,Re){var Ke;x&&this._previousKeyframe.set("easing",x);const _t=Re&&Re.params||{},At=function Zs(Ee,b){const x=new Map;let se;return Ee.forEach(Re=>{if("*"===Re){se=se||b.keys();for(let Ke of se)x.set(Ke,Pe.l3)}else Vt(Re,x)}),x}(b,this._globalTimelineStyles);for(let[Lt,Xt]of At){const mn=gn(Xt,_t,se);this._pendingStyles.set(Lt,mn),this._localTimelineStyles.has(Lt)||this._backFill.set(Lt,null!==(Ke=this._globalTimelineStyles.get(Lt))&&void 0!==Ke?Ke:Pe.l3),this._updateStyle(Lt,mn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,x)=>{this._currentKeyframe.set(x,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,x)=>{this._currentKeyframe.has(x)||this._currentKeyframe.set(x,b)}))}snapshotCurrentStyles(){for(let[b,x]of this._localTimelineStyles)this._pendingStyles.set(b,x),this._updateStyle(b,x)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let x in this._currentKeyframe)b.push(x);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((x,se)=>{const Re=this._styleSummary.get(se);(!Re||x.time>Re.time)&&this._updateStyle(se,x.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,x=new Set,se=1===this._keyframes.size&&0===this.duration;let Re=[];this._keyframes.forEach((At,Lt)=>{const Xt=Vt(At,new Map,this._backFill);Xt.forEach((mn,En)=>{mn===Pe.k1?b.add(En):mn===Pe.l3&&x.add(En)}),se||Xt.set("offset",Lt/this.duration),Re.push(Xt)});const Ke=b.size?yi(b.values()):[],_t=x.size?yi(x.values()):[];if(se){const At=Re[0],Lt=new Map(At);At.set("offset",0),Lt.set("offset",1),Re=[At,Lt]}return wo(this.element,Re,Ke,_t,this.duration,this.startTime,this.easing,!1)}}class tr extends xo{constructor(b,x,se,Re,Ke,_t,At=!1){super(b,x,_t.delay),this.keyframes=se,this.preStyleProps=Re,this.postStyleProps=Ke,this._stretchStartingKeyframe=At,this.timings={duration:_t.duration,delay:_t.delay,easing:_t.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:x,duration:se,easing:Re}=this.timings;if(this._stretchStartingKeyframe&&x){const Ke=[],_t=se+x,At=x/_t,Lt=Vt(b[0]);Lt.set("offset",0),Ke.push(Lt);const Xt=Vt(b[0]);Xt.set("offset",Lo(At)),Ke.push(Xt);const mn=b.length-1;for(let En=1;En<=mn;En++){let jn=Vt(b[En]);const Yn=jn.get("offset");jn.set("offset",Lo((x+Yn*se)/_t)),Ke.push(jn)}se=_t,x=0,Re="",b=Ke}return wo(this.element,b,this.preStyleProps,this.postStyleProps,se,x,Re,!0)}}function Lo(Ee,b=3){const x=Math.pow(10,b-1);return Math.round(Ee*x)/x}class fs{}const No=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class uo extends fs{normalizePropertyName(b,x){return Yi(b)}normalizeStyleValue(b,x,se,Re){let Ke="";const _t=se.toString().trim();if(No.has(x)&&0!==se&&"0"!==se)if("number"==typeof se)Ke="px";else{const At=se.match(/^[+-]?[\d\.]+([a-z]*)$/);At&&0==At[1].length&&Re.push(function w(Ee,b){return new s.vHH(3005,!1)}())}return _t+Ke}}function Xo(Ee,b,x,se,Re,Ke,_t,At,Lt,Xt,mn,En,jn){return{type:0,element:Ee,triggerName:b,isRemovalTransition:Re,fromState:x,fromStyles:Ke,toState:se,toStyles:_t,timelines:At,queriedElements:Lt,preStyleProps:Xt,postStyleProps:mn,totalTime:En,errors:jn}}const ir={};class Zi{constructor(b,x,se){this._triggerName=b,this.ast=x,this._stateStyles=se}match(b,x,se,Re){return function Cr(Ee,b,x,se,Re){return Ee.some(Ke=>Ke(b,x,se,Re))}(this.ast.matchers,b,x,se,Re)}buildStyles(b,x,se){let Re=this._stateStyles.get("*");return void 0!==b&&(Re=this._stateStyles.get(null==b?void 0:b.toString())||Re),Re?Re.buildStyles(x,se):new Map}build(b,x,se,Re,Ke,_t,At,Lt,Xt,mn){var En;const jn=[],Yn=this.ast.options&&this.ast.options.params||ir,Hn=this.buildStyles(se,At&&At.params||ir,jn),ci=Lt&&Lt.params||ir,vi=this.buildStyles(Re,ci,jn),no=new Set,Ho=new Map,io=new Map,Qs="void"===Re,Wo={params:Gi(ci,Yn),delay:null===(En=this.ast.options)||void 0===En?void 0:En.delay},Mi=mn?[]:gs(b,x,this.ast.animation,Ke,_t,Hn,vi,Wo,Xt,jn);let Ko=0;if(Mi.forEach(Ao=>{Ko=Math.max(Ao.duration+Ao.delay,Ko)}),jn.length)return Xo(x,this._triggerName,se,Re,Qs,Hn,vi,[],[],Ho,io,Ko,jn);Mi.forEach(Ao=>{const ar=Ao.element,Rs=S(Ho,ar,new Set);Ao.preStyleProps.forEach(lr=>Rs.add(lr));const us=S(io,ar,new Set);Ao.postStyleProps.forEach(lr=>us.add(lr)),ar!==x&&no.add(ar)});const As=yi(no.values());return Xo(x,this._triggerName,se,Re,Qs,Hn,vi,Mi,As,Ho,io,Ko)}}function Gi(Ee,b){const x=Ie(b);for(const se in Ee)Ee.hasOwnProperty(se)&&null!=Ee[se]&&(x[se]=Ee[se]);return x}class vo{constructor(b,x,se){this.styles=b,this.defaultParams=x,this.normalizer=se}buildStyles(b,x){const se=new Map,Re=Ie(this.defaultParams);return Object.keys(b).forEach(Ke=>{const _t=b[Ke];null!==_t&&(Re[Ke]=_t)}),this.styles.styles.forEach(Ke=>{"string"!=typeof Ke&&Ke.forEach((_t,At)=>{_t&&(_t=gn(_t,Re,x));const Lt=this.normalizer.normalizePropertyName(At,x);_t=this.normalizer.normalizeStyleValue(At,Lt,_t,x),se.set(Lt,_t)})}),se}}class cs{constructor(b,x,se){this.name=b,this.ast=x,this._normalizer=se,this.transitionFactories=[],this.states=new Map,x.states.forEach(Re=>{this.states.set(Re.name,new vo(Re.style,Re.options&&Re.options.params||{},se))}),ks(this.states,"true","1"),ks(this.states,"false","0"),x.transitions.forEach(Re=>{this.transitionFactories.push(new Zi(b,Re,this.states))}),this.fallbackTransition=function bo(Ee,b,x){return new Zi(Ee,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_t,At)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,x,se,Re){return this.transitionFactories.find(_t=>_t.match(b,x,se,Re))||null}matchStyles(b,x,se){return this.fallbackTransition.buildStyles(b,x,se)}}function ks(Ee,b,x){Ee.has(b)?Ee.has(x)||Ee.set(x,Ee.get(b)):Ee.has(x)&&Ee.set(b,Ee.get(x))}const Nr=new si;class Ms{constructor(b,x,se){this.bodyNode=b,this._driver=x,this._normalizer=se,this._animations=new Map,this._playersById=new Map,this.players=[]}register(b,x){const se=[],Ke=Co(this._driver,x,se,[]);if(se.length)throw function st(Ee){return new s.vHH(3503,!1)}();this._animations.set(b,Ke)}_buildPlayer(b,x,se){const Re=b.element,Ke=Ut(0,this._normalizer,0,b.keyframes,x,se);return this._driver.animate(Re,Ke,b.duration,b.delay,b.easing,[],!0)}create(b,x,se={}){const Re=[],Ke=this._animations.get(b);let _t;const At=new Map;if(Ke?(_t=gs(this._driver,x,Ke,$t,xn,new Map,new Map,se,Nr,Re),_t.forEach(mn=>{const En=S(At,mn.element,new Map);mn.postStyleProps.forEach(jn=>En.set(jn,null))})):(Re.push(function xt(){return new s.vHH(3300,!1)}()),_t=[]),Re.length)throw function ot(Ee){return new s.vHH(3504,!1)}();At.forEach((mn,En)=>{mn.forEach((jn,Yn)=>{mn.set(Yn,this._driver.computeStyle(En,Yn,Pe.l3))})});const Xt=Kn(_t.map(mn=>{const En=At.get(mn.element);return this._buildPlayer(mn,new Map,En)}));return this._playersById.set(b,Xt),Xt.onDestroy(()=>this.destroy(b)),this.players.push(Xt),Xt}destroy(b){const x=this._getPlayer(b);x.destroy(),this._playersById.delete(b);const se=this.players.indexOf(x);se>=0&&this.players.splice(se,1)}_getPlayer(b){const x=this._playersById.get(b);if(!x)throw function We(Ee){return new s.vHH(3301,!1)}();return x}listen(b,x,se,Re){const Ke=It(x,"","","");return ft(this._getPlayer(b),se,Ke,Re),()=>{}}command(b,x,se,Re){if("register"==se)return void this.register(b,Re[0]);if("create"==se)return void this.create(b,x,Re[0]||{});const Ke=this._getPlayer(b);switch(se){case"play":Ke.play();break;case"pause":Ke.pause();break;case"reset":Ke.reset();break;case"restart":Ke.restart();break;case"finish":Ke.finish();break;case"init":Ke.init();break;case"setPosition":Ke.setPosition(parseFloat(Re[0]));break;case"destroy":this.destroy(b)}}}const ri="ng-animate-queued",es="ng-animate-disabled",Ds=[],Ln={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},br={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Eo="__ng_removed";class _s{constructor(b,x=""){this.namespaceId=x;const se=b&&b.hasOwnProperty("value");if(this.value=function ei(Ee){return null!=Ee?Ee:null}(se?b.value:b),se){const Ke=Ie(b);delete Ke.value,this.options=Ke}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(b){const x=b.params;if(x){const se=this.options.params;Object.keys(x).forEach(Re=>{null==se[Re]&&(se[Re]=x[Re])})}}}const Fo="void",ho=new _s(Fo);class to{constructor(b,x,se){this.id=b,this.hostElement=x,this._engine=se,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,Hi(x,this._hostClassName)}listen(b,x,se,Re){if(!this._triggers.has(x))throw function hn(Ee,b){return new s.vHH(3302,!1)}();if(null==se||0==se.length)throw function fn(Ee){return new s.vHH(3303,!1)}();if(!function vs(Ee){return"start"==Ee||"done"==Ee}(se))throw function St(Ee,b){return new s.vHH(3400,!1)}();const Ke=S(this._elementListeners,b,[]),_t={name:x,phase:se,callback:Re};Ke.push(_t);const At=S(this._engine.statesByElement,b,new Map);return At.has(x)||(Hi(b,Pn),Hi(b,Pn+"-"+x),At.set(x,ho)),()=>{this._engine.afterFlush(()=>{const Lt=Ke.indexOf(_t);Lt>=0&&Ke.splice(Lt,1),this._triggers.has(x)||At.delete(x)})}}register(b,x){return!this._triggers.has(b)&&(this._triggers.set(b,x),!0)}_getTrigger(b){const x=this._triggers.get(b);if(!x)throw function ln(Ee){return new s.vHH(3401,!1)}();return x}trigger(b,x,se,Re=!0){const Ke=this._getTrigger(x),_t=new Cs(this.id,x,b);let At=this._engine.statesByElement.get(b);At||(Hi(b,Pn),Hi(b,Pn+"-"+x),this._engine.statesByElement.set(b,At=new Map));let Lt=At.get(x);const Xt=new _s(se,this.id);if(!(se&&se.hasOwnProperty("value"))&&Lt&&Xt.absorbOptions(Lt.options),At.set(x,Xt),Lt||(Lt=ho),Xt.value!==Fo&&Lt.value===Xt.value){if(!function ge(Ee,b){const x=Object.keys(Ee),se=Object.keys(b);if(x.length!=se.length)return!1;for(let Re=0;Re<x.length;Re++){const Ke=x[Re];if(!b.hasOwnProperty(Ke)||Ee[Ke]!==b[Ke])return!1}return!0}(Lt.params,Xt.params)){const Hn=[],ci=Ke.matchStyles(Lt.value,Lt.params,Hn),vi=Ke.matchStyles(Xt.value,Xt.params,Hn);Hn.length?this._engine.reportError(Hn):this._engine.afterFlush(()=>{An(b,ci),yn(b,vi)})}return}const jn=S(this._engine.playersByElement,b,[]);jn.forEach(Hn=>{Hn.namespaceId==this.id&&Hn.triggerName==x&&Hn.queued&&Hn.destroy()});let Yn=Ke.matchTransition(Lt.value,Xt.value,b,Xt.params),Nn=!1;if(!Yn){if(!Re)return;Yn=Ke.fallbackTransition,Nn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:x,transition:Yn,fromState:Lt,toState:Xt,player:_t,isFallbackTransition:Nn}),Nn||(Hi(b,ri),_t.onStart(()=>{bs(b,ri)})),_t.onDone(()=>{let Hn=this.players.indexOf(_t);Hn>=0&&this.players.splice(Hn,1);const ci=this._engine.playersByElement.get(b);if(ci){let vi=ci.indexOf(_t);vi>=0&&ci.splice(vi,1)}}),this.players.push(_t),jn.push(_t),_t}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(x=>x.delete(b)),this._elementListeners.forEach((x,se)=>{this._elementListeners.set(se,x.filter(Re=>Re.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const x=this._engine.playersByElement.get(b);x&&(x.forEach(se=>se.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,x){const se=this._engine.driver.query(b,di,!0);se.forEach(Re=>{if(Re[Eo])return;const Ke=this._engine.fetchNamespacesByElement(Re);Ke.size?Ke.forEach(_t=>_t.triggerLeaveAnimation(Re,x,!1,!0)):this.clearElementCache(Re)}),this._engine.afterFlushAnimationsDone(()=>se.forEach(Re=>this.clearElementCache(Re)))}triggerLeaveAnimation(b,x,se,Re){const Ke=this._engine.statesByElement.get(b),_t=new Map;if(Ke){const At=[];if(Ke.forEach((Lt,Xt)=>{if(_t.set(Xt,Lt.value),this._triggers.has(Xt)){const mn=this.trigger(b,Xt,Fo,Re);mn&&At.push(mn)}}),At.length)return this._engine.markElementAsRemoved(this.id,b,!0,x,_t),se&&Kn(At).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const x=this._elementListeners.get(b),se=this._engine.statesByElement.get(b);if(x&&se){const Re=new Set;x.forEach(Ke=>{const _t=Ke.name;if(Re.has(_t))return;Re.add(_t);const Lt=this._triggers.get(_t).fallbackTransition,Xt=se.get(_t)||ho,mn=new _s(Fo),En=new Cs(this.id,_t,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:_t,transition:Lt,fromState:Xt,toState:mn,player:En,isFallbackTransition:!0})})}}removeNode(b,x){const se=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,x),this.triggerLeaveAnimation(b,x,!0))return;let Re=!1;if(se.totalAnimations){const Ke=se.players.length?se.playersByQueriedElement.get(b):[];if(Ke&&Ke.length)Re=!0;else{let _t=b;for(;_t=_t.parentNode;)if(se.statesByElement.get(_t)){Re=!0;break}}}if(this.prepareLeaveAnimationListeners(b),Re)se.markElementAsRemoved(this.id,b,!1,x);else{const Ke=b[Eo];(!Ke||Ke===Ln)&&(se.afterFlush(()=>this.clearElementCache(b)),se.destroyInnerAnimations(b),se._onRemovalComplete(b,x))}}insertNode(b,x){Hi(b,this._hostClassName)}drainQueuedTransitions(b){const x=[];return this._queue.forEach(se=>{const Re=se.player;if(Re.destroyed)return;const Ke=se.element,_t=this._elementListeners.get(Ke);_t&&_t.forEach(At=>{if(At.name==se.triggerName){const Lt=It(Ke,se.triggerName,se.fromState.value,se.toState.value);Lt._data=b,ft(se.player,At.phase,Lt,At.callback)}}),Re.markedForDestroy?this._engine.afterFlush(()=>{Re.destroy()}):x.push(se)}),this._queue=[],x.sort((se,Re)=>{const Ke=se.transition.ast.depCount,_t=Re.transition.ast.depCount;return 0==Ke||0==_t?Ke-_t:this._engine.driver.containsElement(se.element,Re.element)?1:-1})}destroy(b){this.players.forEach(x=>x.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}elementContainsData(b){let x=!1;return this._elementListeners.has(b)&&(x=!0),x=!!this._queue.find(se=>se.element===b)||x,x}}class ts{constructor(b,x,se){this.bodyNode=b,this.driver=x,this._normalizer=se,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Re,Ke)=>{}}_onRemovalComplete(b,x){this.onRemovalComplete(b,x)}get queuedPlayers(){const b=[];return this._namespaceList.forEach(x=>{x.players.forEach(se=>{se.queued&&b.push(se)})}),b}createNamespace(b,x){const se=new to(b,x,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,x)?this._balanceNamespaceList(se,x):(this.newHostElements.set(x,se),this.collectEnterElement(x)),this._namespaceLookup[b]=se}_balanceNamespaceList(b,x){const se=this._namespaceList,Re=this.namespacesByHostElement;if(se.length-1>=0){let _t=!1,At=this.driver.getParentElement(x);for(;At;){const Lt=Re.get(At);if(Lt){const Xt=se.indexOf(Lt);se.splice(Xt+1,0,b),_t=!0;break}At=this.driver.getParentElement(At)}_t||se.unshift(b)}else se.push(b);return Re.set(x,b),b}register(b,x){let se=this._namespaceLookup[b];return se||(se=this.createNamespace(b,x)),se}registerTrigger(b,x,se){let Re=this._namespaceLookup[b];Re&&Re.register(x,se)&&this.totalAnimations++}destroy(b,x){if(!b)return;const se=this._fetchNamespace(b);this.afterFlush(()=>{this.namespacesByHostElement.delete(se.hostElement),delete this._namespaceLookup[b];const Re=this._namespaceList.indexOf(se);Re>=0&&this._namespaceList.splice(Re,1)}),this.afterFlushAnimationsDone(()=>se.destroy(x))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const x=new Set,se=this.statesByElement.get(b);if(se)for(let Re of se.values())if(Re.namespaceId){const Ke=this._fetchNamespace(Re.namespaceId);Ke&&x.add(Ke)}return x}trigger(b,x,se,Re){if(ns(x)){const Ke=this._fetchNamespace(b);if(Ke)return Ke.trigger(x,se,Re),!0}return!1}insertNode(b,x,se,Re){if(!ns(x))return;const Ke=x[Eo];if(Ke&&Ke.setForRemoval){Ke.setForRemoval=!1,Ke.setForMove=!0;const _t=this.collectedLeaveElements.indexOf(x);_t>=0&&this.collectedLeaveElements.splice(_t,1)}if(b){const _t=this._fetchNamespace(b);_t&&_t.insertNode(x,se)}Re&&this.collectEnterElement(x)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,x){x?this.disabledNodes.has(b)||(this.disabledNodes.add(b),Hi(b,es)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),bs(b,es))}removeNode(b,x,se,Re){if(ns(x)){const Ke=b?this._fetchNamespace(b):null;if(Ke?Ke.removeNode(x,Re):this.markElementAsRemoved(b,x,!1,Re),se){const _t=this.namespacesByHostElement.get(x);_t&&_t.id!==b&&_t.removeNode(x,Re)}}else this._onRemovalComplete(x,Re)}markElementAsRemoved(b,x,se,Re,Ke){this.collectedLeaveElements.push(x),x[Eo]={namespaceId:b,setForRemoval:Re,hasAnimation:se,removedBeforeQueried:!1,previousTriggersValues:Ke}}listen(b,x,se,Re,Ke){return ns(x)?this._fetchNamespace(b).listen(x,se,Re,Ke):()=>{}}_buildInstruction(b,x,se,Re,Ke){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,se,Re,b.fromState.options,b.toState.options,x,Ke)}destroyInnerAnimations(b){let x=this.driver.query(b,di,!0);x.forEach(se=>this.destroyActiveAnimationsForElement(se)),0!=this.playersByQueriedElement.size&&(x=this.driver.query(b,Ki,!0),x.forEach(se=>this.finishActiveQueriedAnimationOnElement(se)))}destroyActiveAnimationsForElement(b){const x=this.playersByElement.get(b);x&&x.forEach(se=>{se.queued?se.markedForDestroy=!0:se.destroy()})}finishActiveQueriedAnimationOnElement(b){const x=this.playersByQueriedElement.get(b);x&&x.forEach(se=>se.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return Kn(this.players).onDone(()=>b());b()})}processLeaveNode(b){var x;const se=b[Eo];if(se&&se.setForRemoval){if(b[Eo]=Ln,se.namespaceId){this.destroyInnerAnimations(b);const Re=this._fetchNamespace(se.namespaceId);Re&&Re.clearElementCache(b)}this._onRemovalComplete(b,se.setForRemoval)}!(null===(x=b.classList)||void 0===x)&&x.contains(es)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(Re=>{this.markElementAsDisabled(Re,!1)})}flush(b=-1){let x=[];if(this.newHostElements.size&&(this.newHostElements.forEach((se,Re)=>this._balanceNamespaceList(se,Re)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let se=0;se<this.collectedEnterElements.length;se++)Hi(this.collectedEnterElements[se],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const se=[];try{x=this._flushAnimations(se,b)}finally{for(let Re=0;Re<se.length;Re++)se[Re]()}}else for(let se=0;se<this.collectedLeaveElements.length;se++)this.processLeaveNode(this.collectedLeaveElements[se]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(se=>se()),this._flushFns=[],this._whenQuietFns.length){const se=this._whenQuietFns;this._whenQuietFns=[],x.length?Kn(x).onDone(()=>{se.forEach(Re=>Re())}):se.forEach(Re=>Re())}}reportError(b){throw function Ye(Ee){return new s.vHH(3402,!1)}()}_flushAnimations(b,x){const se=new si,Re=[],Ke=new Map,_t=[],At=new Map,Lt=new Map,Xt=new Map,mn=new Set;this.disabledNodes.forEach(Mn=>{mn.add(Mn);const Rn=this.driver.query(Mn,".ng-animate-queued",!0);for(let Fn=0;Fn<Rn.length;Fn++)mn.add(Rn[Fn])});const En=this.bodyNode,jn=Array.from(this.statesByElement.keys()),Yn=Us(jn,this.collectedEnterElements),Nn=new Map;let Hn=0;Yn.forEach((Mn,Rn)=>{const Fn=$t+Hn++;Nn.set(Rn,Fn),Mn.forEach(ni=>Hi(ni,Fn))});const ci=[],vi=new Set,no=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const Rn=this.collectedLeaveElements[Mn],Fn=Rn[Eo];Fn&&Fn.setForRemoval&&(ci.push(Rn),vi.add(Rn),Fn.hasAnimation?this.driver.query(Rn,".ng-star-inserted",!0).forEach(ni=>vi.add(ni)):no.add(Rn))}const Ho=new Map,io=Us(jn,Array.from(vi));io.forEach((Mn,Rn)=>{const Fn=xn+Hn++;Ho.set(Rn,Fn),Mn.forEach(ni=>Hi(ni,Fn))}),b.push(()=>{Yn.forEach((Mn,Rn)=>{const Fn=Nn.get(Rn);Mn.forEach(ni=>bs(ni,Fn))}),io.forEach((Mn,Rn)=>{const Fn=Ho.get(Rn);Mn.forEach(ni=>bs(ni,Fn))}),ci.forEach(Mn=>{this.processLeaveNode(Mn)})});const Qs=[],Wo=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(x).forEach(Fn=>{const ni=Fn.player,Wn=Fn.element;if(Qs.push(ni),this.collectedEnterElements.length){const ao=Wn[Eo];if(ao&&ao.setForMove){if(ao.previousTriggersValues&&ao.previousTriggersValues.has(Fn.triggerName)){const js=ao.previousTriggersValues.get(Fn.triggerName),ds=this.statesByElement.get(Fn.element);if(ds&&ds.has(Fn.triggerName)){const Hr=ds.get(Fn.triggerName);Hr.value=js,ds.set(Fn.triggerName,Hr)}}return void ni.destroy()}}const Vo=!En||!this.driver.containsElement(En,Wn),Zo=Ho.get(Wn),rs=Nn.get(Wn),xi=this._buildInstruction(Fn,se,rs,Zo,Vo);if(xi.errors&&xi.errors.length)return void Wo.push(xi);if(Vo)return ni.onStart(()=>An(Wn,xi.fromStyles)),ni.onDestroy(()=>yn(Wn,xi.toStyles)),void Re.push(ni);if(Fn.isFallbackTransition)return ni.onStart(()=>An(Wn,xi.fromStyles)),ni.onDestroy(()=>yn(Wn,xi.toStyles)),void Re.push(ni);const Js=[];xi.timelines.forEach(ao=>{ao.stretchStartingKeyframe=!0,this.disabledNodes.has(ao.element)||Js.push(ao)}),xi.timelines=Js,se.append(Wn,xi.timelines),_t.push({instruction:xi,player:ni,element:Wn}),xi.queriedElements.forEach(ao=>S(At,ao,[]).push(ni)),xi.preStyleProps.forEach((ao,js)=>{if(ao.size){let ds=Lt.get(js);ds||Lt.set(js,ds=new Set),ao.forEach((Hr,cr)=>ds.add(cr))}}),xi.postStyleProps.forEach((ao,js)=>{let ds=Xt.get(js);ds||Xt.set(js,ds=new Set),ao.forEach((Hr,cr)=>ds.add(cr))})});if(Wo.length){const Mn=[];Wo.forEach(Rn=>{Mn.push(function Ft(Ee,b){return new s.vHH(3505,!1)}())}),Qs.forEach(Rn=>Rn.destroy()),this.reportError(Mn)}const Mi=new Map,Ko=new Map;_t.forEach(Mn=>{const Rn=Mn.element;se.has(Rn)&&(Ko.set(Rn,Rn),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,Mi))}),Re.forEach(Mn=>{const Rn=Mn.element;this._getPreviousPlayers(Rn,!1,Mn.namespaceId,Mn.triggerName,null).forEach(ni=>{S(Mi,Rn,[]).push(ni),ni.destroy()})});const As=ci.filter(Mn=>te(Mn,Lt,Xt)),Ao=new Map;yr(Ao,this.driver,no,Xt,Pe.l3).forEach(Mn=>{te(Mn,Lt,Xt)&&As.push(Mn)});const Rs=new Map;Yn.forEach((Mn,Rn)=>{yr(Rs,this.driver,new Set(Mn),Lt,Pe.k1)}),As.forEach(Mn=>{var Rn,Fn;const ni=Ao.get(Mn),Wn=Rs.get(Mn);Ao.set(Mn,new Map([...Array.from(null!==(Rn=null==ni?void 0:ni.entries())&&void 0!==Rn?Rn:[]),...Array.from(null!==(Fn=null==Wn?void 0:Wn.entries())&&void 0!==Fn?Fn:[])]))});const us=[],lr=[],Aa={};_t.forEach(Mn=>{const{element:Rn,player:Fn,instruction:ni}=Mn;if(se.has(Rn)){if(mn.has(Rn))return Fn.onDestroy(()=>yn(Rn,ni.toStyles)),Fn.disabled=!0,Fn.overrideTotalTime(ni.totalTime),void Re.push(Fn);let Wn=Aa;if(Ko.size>1){let Zo=Rn;const rs=[];for(;Zo=Zo.parentNode;){const xi=Ko.get(Zo);if(xi){Wn=xi;break}rs.push(Zo)}rs.forEach(xi=>Ko.set(xi,Wn))}const Vo=this._buildAnimation(Fn.namespaceId,ni,Mi,Ke,Rs,Ao);if(Fn.setRealPlayer(Vo),Wn===Aa)us.push(Fn);else{const Zo=this.playersByElement.get(Wn);Zo&&Zo.length&&(Fn.parentPlayer=Kn(Zo)),Re.push(Fn)}}else An(Rn,ni.fromStyles),Fn.onDestroy(()=>yn(Rn,ni.toStyles)),lr.push(Fn),mn.has(Rn)&&Re.push(Fn)}),lr.forEach(Mn=>{const Rn=Ke.get(Mn.element);if(Rn&&Rn.length){const Fn=Kn(Rn);Mn.setRealPlayer(Fn)}}),Re.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<ci.length;Mn++){const Rn=ci[Mn],Fn=Rn[Eo];if(bs(Rn,xn),Fn&&Fn.hasAnimation)continue;let ni=[];if(At.size){let Vo=At.get(Rn);Vo&&Vo.length&&ni.push(...Vo);let Zo=this.driver.query(Rn,Ki,!0);for(let rs=0;rs<Zo.length;rs++){let xi=At.get(Zo[rs]);xi&&xi.length&&ni.push(...xi)}}const Wn=ni.filter(Vo=>!Vo.destroyed);Wn.length?Br(this,Rn,Wn):this.processLeaveNode(Rn)}return ci.length=0,us.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const Rn=this.players.indexOf(Mn);this.players.splice(Rn,1)}),Mn.play()}),us}elementContainsData(b,x){let se=!1;const Re=x[Eo];return Re&&Re.setForRemoval&&(se=!0),this.playersByElement.has(x)&&(se=!0),this.playersByQueriedElement.has(x)&&(se=!0),this.statesByElement.has(x)&&(se=!0),this._fetchNamespace(b).elementContainsData(x)||se}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,x,se,Re,Ke){let _t=[];if(x){const At=this.playersByQueriedElement.get(b);At&&(_t=At)}else{const At=this.playersByElement.get(b);if(At){const Lt=!Ke||Ke==Fo;At.forEach(Xt=>{Xt.queued||!Lt&&Xt.triggerName!=Re||_t.push(Xt)})}}return(se||Re)&&(_t=_t.filter(At=>!(se&&se!=At.namespaceId||Re&&Re!=At.triggerName))),_t}_beforeAnimationBuild(b,x,se){const Ke=x.element,_t=x.isRemovalTransition?void 0:b,At=x.isRemovalTransition?void 0:x.triggerName;for(const Lt of x.timelines){const Xt=Lt.element,mn=Xt!==Ke,En=S(se,Xt,[]);this._getPreviousPlayers(Xt,mn,_t,At,x.toState).forEach(Yn=>{const Nn=Yn.getRealPlayer();Nn.beforeDestroy&&Nn.beforeDestroy(),Yn.destroy(),En.push(Yn)})}An(Ke,x.fromStyles)}_buildAnimation(b,x,se,Re,Ke,_t){const At=x.triggerName,Lt=x.element,Xt=[],mn=new Set,En=new Set,jn=x.timelines.map(Nn=>{const Hn=Nn.element;mn.add(Hn);const ci=Hn[Eo];if(ci&&ci.removedBeforeQueried)return new Pe.ZN(Nn.duration,Nn.delay);const vi=Hn!==Lt,no=function ya(Ee){const b=[];return or(Ee,b),b}((se.get(Hn)||Ds).map(Mi=>Mi.getRealPlayer())).filter(Mi=>!!Mi.element&&Mi.element===Hn),Ho=Ke.get(Hn),io=_t.get(Hn),Qs=Ut(0,this._normalizer,0,Nn.keyframes,Ho,io),Wo=this._buildPlayer(Nn,Qs,no);if(Nn.subTimeline&&Re&&En.add(Hn),vi){const Mi=new Cs(b,At,Hn);Mi.setRealPlayer(Wo),Xt.push(Mi)}return Wo});Xt.forEach(Nn=>{S(this.playersByQueriedElement,Nn.element,[]).push(Nn),Nn.onDone(()=>function nn(Ee,b,x){let se=Ee.get(b);if(se){if(se.length){const Re=se.indexOf(x);se.splice(Re,1)}0==se.length&&Ee.delete(b)}return se}(this.playersByQueriedElement,Nn.element,Nn))}),mn.forEach(Nn=>Hi(Nn,Ci));const Yn=Kn(jn);return Yn.onDestroy(()=>{mn.forEach(Nn=>bs(Nn,Ci)),yn(Lt,x.toStyles)}),En.forEach(Nn=>{S(Re,Nn,[]).push(Yn)}),Yn}_buildPlayer(b,x,se){return x.length>0?this.driver.animate(b.element,x,b.duration,b.delay,b.easing,se):new Pe.ZN(b.duration,b.delay)}}class Cs{constructor(b,x,se){this.namespaceId=b,this.triggerName=x,this.element=se,this._player=new Pe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((x,se)=>{x.forEach(Re=>ft(b,se,void 0,Re))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const x=this._player;x.triggerCallback&&b.onStart(()=>x.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,x){S(this._queuedCallbacks,b,[]).push(x)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const x=this._player;x.triggerCallback&&x.triggerCallback(b)}}function ns(Ee){return Ee&&1===Ee.nodeType}function Li(Ee,b){const x=Ee.style.display;return Ee.style.display=null!=b?b:"none",x}function yr(Ee,b,x,se,Re){const Ke=[];x.forEach(Lt=>Ke.push(Li(Lt)));const _t=[];se.forEach((Lt,Xt)=>{const mn=new Map;Lt.forEach(En=>{const jn=b.computeStyle(Xt,En,Re);mn.set(En,jn),(!jn||0==jn.length)&&(Xt[Eo]=br,_t.push(Xt))}),Ee.set(Xt,mn)});let At=0;return x.forEach(Lt=>Li(Lt,Ke[At++])),_t}function Us(Ee,b){const x=new Map;if(Ee.forEach(At=>x.set(At,[])),0==b.length)return x;const Re=new Set(b),Ke=new Map;function _t(At){if(!At)return 1;let Lt=Ke.get(At);if(Lt)return Lt;const Xt=At.parentNode;return Lt=x.has(Xt)?Xt:Re.has(Xt)?1:_t(Xt),Ke.set(At,Lt),Lt}return b.forEach(At=>{const Lt=_t(At);1!==Lt&&x.get(Lt).push(At)}),x}function Hi(Ee,b){var x;null===(x=Ee.classList)||void 0===x||x.add(b)}function bs(Ee,b){var x;null===(x=Ee.classList)||void 0===x||x.remove(b)}function Br(Ee,b,x){Kn(x).onDone(()=>Ee.processLeaveNode(b))}function or(Ee,b){for(let x=0;x<Ee.length;x++){const se=Ee[x];se instanceof Pe.ZE?or(se.players,b):b.push(se)}}function te(Ee,b,x){const se=x.get(Ee);if(!se)return!1;let Re=b.get(Ee);return Re?se.forEach(Ke=>Re.add(Ke)):b.set(Ee,se),x.delete(Ee),!0}class z{constructor(b,x,se){this.bodyNode=b,this._driver=x,this._normalizer=se,this._triggerCache={},this.onRemovalComplete=(Re,Ke)=>{},this._transitionEngine=new ts(b,x,se),this._timelineEngine=new Ms(b,x,se),this._transitionEngine.onRemovalComplete=(Re,Ke)=>this.onRemovalComplete(Re,Ke)}registerTrigger(b,x,se,Re,Ke){const _t=b+"-"+Re;let At=this._triggerCache[_t];if(!At){const Lt=[],mn=Co(this._driver,Ke,Lt,[]);if(Lt.length)throw function mt(Ee,b){return new s.vHH(3404,!1)}();At=function vr(Ee,b,x){return new cs(Ee,b,x)}(Re,mn,this._normalizer),this._triggerCache[_t]=At}this._transitionEngine.registerTrigger(x,Re,At)}register(b,x){this._transitionEngine.register(b,x)}destroy(b,x){this._transitionEngine.destroy(b,x)}onInsert(b,x,se,Re){this._transitionEngine.insertNode(b,x,se,Re)}onRemove(b,x,se,Re){this._transitionEngine.removeNode(b,x,Re||!1,se)}disableAnimations(b,x){this._transitionEngine.markElementAsDisabled(b,x)}process(b,x,se,Re){if("@"==se.charAt(0)){const[Ke,_t]=he(se);this._timelineEngine.command(Ke,x,_t,Re)}else this._transitionEngine.trigger(b,x,se,Re)}listen(b,x,se,Re,Ke){if("@"==se.charAt(0)){const[_t,At]=he(se);return this._timelineEngine.listen(_t,x,At,Ke)}return this._transitionEngine.listen(b,x,se,Re,Ke)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gt=(()=>{class Ee{constructor(x,se,Re){this._element=x,this._startStyles=se,this._endStyles=Re,this._state=0;let Ke=Ee.initialStylesByElement.get(x);Ke||Ee.initialStylesByElement.set(x,Ke=new Map),this._initialStyles=Ke}start(){this._state<1&&(this._startStyles&&yn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yn(this._element,this._initialStyles),this._endStyles&&(yn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ee.initialStylesByElement.delete(this._element),this._startStyles&&(An(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(An(this._element,this._endStyles),this._endStyles=null),yn(this._element,this._initialStyles),this._state=3)}}return Ee.initialStylesByElement=new WeakMap,Ee})();function Tn(Ee){let b=null;return Ee.forEach((x,se)=>{(function pi(Ee){return"display"===Ee||"position"===Ee})(se)&&(b=b||new Map,b.set(se,x))}),b}class So{constructor(b,x,se,Re){this.element=b,this.keyframes=x,this.options=se,this._specialStyles=Re,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=se.duration,this._delay=se.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const x=[];return b.forEach(se=>{x.push(Object.fromEntries(se))}),x}_triggerWebAnimation(b,x,se){return b.animate(this._convertKeyframesToObject(x),se)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((se,Re)=>{"offset"!==Re&&b.set(Re,this._finished?se:Ji(this.element,Re))}),this.currentSnapshot=b}triggerCallback(b){const x="start"===b?this._onStartFns:this._onDoneFns;x.forEach(se=>se()),x.length=0}}class Bo{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}matchesElement(b,x){return!1}containsElement(b,x){return sn(b,x)}getParentElement(b){return Kt(b)}query(b,x,se){return $n(b,x,se)}computeStyle(b,x,se){return window.getComputedStyle(b)[x]}animate(b,x,se,Re,Ke,_t=[]){const Lt={duration:se,delay:Re,fill:0==Re?"both":"forwards"};Ke&&(Lt.easing=Ke);const Xt=new Map,mn=_t.filter(Yn=>Yn instanceof So);(function ai(Ee,b){return 0===Ee||0===b})(se,Re)&&mn.forEach(Yn=>{Yn.currentSnapshot.forEach((Nn,Hn)=>Xt.set(Hn,Nn))});let En=function Dt(Ee){return Ee.length?Ee[0]instanceof Map?Ee:Ee.map(b=>vt(b)):[]}(x).map(Yn=>Vt(Yn));En=function wi(Ee,b,x){if(x.size&&b.length){let se=b[0],Re=[];if(x.forEach((Ke,_t)=>{se.has(_t)||Re.push(_t),se.set(_t,Ke)}),Re.length)for(let Ke=1;Ke<b.length;Ke++){let _t=b[Ke];Re.forEach(At=>_t.set(At,Ji(Ee,At)))}}return b}(b,En,Xt);const jn=function Ze(Ee,b){let x=null,se=null;return Array.isArray(b)&&b.length?(x=Tn(b[0]),b.length>1&&(se=Tn(b[b.length-1]))):b instanceof Map&&(x=Tn(b)),x||se?new Gt(Ee,x,se):null}(b,En);return new So(b,En,Lt,jn)}}let Os=(()=>{class Ee extends Pe._j{constructor(x,se){super(),this._nextAnimationId=0,this._renderer=x.createRenderer(se.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(x){const se=this._nextAnimationId.toString();this._nextAnimationId++;const Re=Array.isArray(x)?(0,Pe.vP)(x):x;return ys(this._renderer,null,se,"register",[Re]),new is(se,this._renderer)}}return Ee.\u0275fac=function(x){return new(x||Ee)(s.LFG(s.FYo),s.LFG(I.K0))},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class is extends Pe.LC{constructor(b,x){super(),this._id=b,this._renderer=x}create(b,x){return new zs(this._id,b,x||{},this._renderer)}}class zs{constructor(b,x,se,Re){this.id=b,this.element=x,this._renderer=Re,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",se)}_listen(b,x){return this._renderer.listen(this.element,`@@${this.id}:${b}`,x)}_command(b,...x){return ys(this._renderer,this.element,this.id,b,x)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){var b,x;return null!==(x=null===(b=this._renderer.engine.players[+this.id])||void 0===b?void 0:b.getPosition())&&void 0!==x?x:0}}function ys(Ee,b,x,se,Re){return Ee.setProperty(b,`@@${x}:${se}`,Re)}const Gs="@.disabled";let ia=(()=>{class Ee{constructor(x,se,Re){this.delegate=x,this.engine=se,this._zone=Re,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),se.onRemovalComplete=(Ke,_t)=>{const At=null==_t?void 0:_t.parentNode(Ke);At&&_t.removeChild(At,Ke)}}createRenderer(x,se){const Ke=this.delegate.createRenderer(x,se);if(!(x&&se&&se.data&&se.data.animation)){let mn=this._rendererCache.get(Ke);return mn||(mn=new go("",Ke,this.engine,()=>this._rendererCache.delete(Ke)),this._rendererCache.set(Ke,mn)),mn}const _t=se.id,At=se.id+"-"+this._currentId;this._currentId++,this.engine.register(At,x);const Lt=mn=>{Array.isArray(mn)?mn.forEach(Lt):this.engine.registerTrigger(_t,At,x,mn.name,mn)};return se.data.animation.forEach(Lt),new rr(this,At,Ke,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(x,se,Re){x>=0&&x<this._microtaskId?this._zone.run(()=>se(Re)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ke=>{const[_t,At]=Ke;_t(At)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([se,Re]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Ee.\u0275fac=function(x){return new(x||Ee)(s.LFG(s.FYo),s.LFG(z),s.LFG(s.R0b))},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class go{constructor(b,x,se,Re){this.namespaceId=b,this.delegate=x,this.engine=se,this._onDestroy=Re,this.destroyNode=this.delegate.destroyNode?Ke=>x.destroyNode(Ke):null}get data(){return this.delegate.data}destroy(){var b;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(b=this._onDestroy)||void 0===b||b.call(this)}createElement(b,x){return this.delegate.createElement(b,x)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,x){this.delegate.appendChild(b,x),this.engine.onInsert(this.namespaceId,x,b,!1)}insertBefore(b,x,se,Re=!0){this.delegate.insertBefore(b,x,se),this.engine.onInsert(this.namespaceId,x,b,Re)}removeChild(b,x,se){this.engine.onRemove(this.namespaceId,x,this.delegate,se)}selectRootElement(b,x){return this.delegate.selectRootElement(b,x)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,x,se,Re){this.delegate.setAttribute(b,x,se,Re)}removeAttribute(b,x,se){this.delegate.removeAttribute(b,x,se)}addClass(b,x){this.delegate.addClass(b,x)}removeClass(b,x){this.delegate.removeClass(b,x)}setStyle(b,x,se,Re){this.delegate.setStyle(b,x,se,Re)}removeStyle(b,x,se){this.delegate.removeStyle(b,x,se)}setProperty(b,x,se){"@"==x.charAt(0)&&x==Gs?this.disableAnimations(b,!!se):this.delegate.setProperty(b,x,se)}setValue(b,x){this.delegate.setValue(b,x)}listen(b,x,se){return this.delegate.listen(b,x,se)}disableAnimations(b,x){this.engine.disableAnimations(b,x)}}class rr extends go{constructor(b,x,se,Re,Ke){super(x,se,Re,Ke),this.factory=b,this.namespaceId=x}setProperty(b,x,se){"@"==x.charAt(0)?"."==x.charAt(1)&&x==Gs?this.disableAnimations(b,se=void 0===se||!!se):this.engine.process(this.namespaceId,b,x.slice(1),se):this.delegate.setProperty(b,x,se)}listen(b,x,se){if("@"==x.charAt(0)){const Re=function oa(Ee){switch(Ee){case"body":return document.body;case"document":return document;case"window":return window;default:return Ee}}(b);let Ke=x.slice(1),_t="";return"@"!=Ke.charAt(0)&&([Ke,_t]=function sa(Ee){const b=Ee.indexOf(".");return[Ee.substring(0,b),Ee.slice(b+1)]}(Ke)),this.engine.listen(this.namespaceId,Re,Ke,_t,At=>{this.factory.scheduleListenerCallback(At._data||-1,se,At)})}return this.delegate.listen(b,x,se)}}const ne=[{provide:Pe._j,useClass:Os},{provide:fs,useFactory:function Q(){return new uo}},{provide:z,useClass:(()=>{class Ee extends z{constructor(x,se,Re,Ke){super(x.body,se,Re)}ngOnDestroy(){this.flush()}}return Ee.\u0275fac=function(x){return new(x||Ee)(s.LFG(I.K0),s.LFG(rn),s.LFG(fs),s.LFG(s.z2F))},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})()},{provide:s.FYo,useFactory:function xe(Ee,b,x){return new ia(Ee,b,x)},deps:[e.se,z,s.R0b]}],He=[{provide:rn,useFactory:()=>new Bo},{provide:s.QbO,useValue:"BrowserAnimations"},...ne],ut=[{provide:rn,useClass:kt},{provide:s.QbO,useValue:"NoopAnimations"},...ne];let Bt=(()=>{class Ee{static withConfig(x){return{ngModule:Ee,providers:x.disableAnimations?ut:He}}}return Ee.\u0275fac=function(x){return new(x||Ee)},Ee.\u0275mod=s.oAB({type:Ee}),Ee.\u0275inj=s.cJS({providers:He,imports:[e.b2]}),Ee})();var li=_(262),gi=_(9646),ti=_(4004),ji=_(8738);let fi=(()=>{class Ee{constructor(x,se){this.api=x,this.router=se}canActivate(x,se){return this.api.authCheckout().pipe((0,li.K)((Re,Ke)=>(0,gi.of)(this.router.createUrlTree(["/login"]))),(0,ti.U)(Re=>!(Re instanceof L.lo)||Re))}canActivateChild(x,se){return this.api.authCheckout().pipe((0,li.K)((Re,Ke)=>(0,gi.of)(this.router.createUrlTree(["/login"]))),(0,ti.U)(Re=>!(Re instanceof L.lo)||Re))}}return Ee.\u0275fac=function(x){return new(x||Ee)(s.LFG(ji.s),s.LFG(L.F0))},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();const Ni=[{path:"",loadChildren:()=>Promise.resolve().then(_.bind(_,8529)).then(Ee=>Ee.MainModule),canActivate:[fi],canActivateChild:[fi]},{path:"login",loadChildren:()=>Promise.resolve().then(_.bind(_,975)).then(Ee=>Ee.LoginModule)}];let os=(()=>{class Ee{}return Ee.\u0275fac=function(x){return new(x||Ee)},Ee.\u0275mod=s.oAB({type:Ee}),Ee.\u0275inj=s.cJS({imports:[L.Bz.forRoot(Ni,{}),L.Bz]}),Ee})();var Io=_(520),ss=_(2382),Is=_(6641);(0,I.qS)(we,"ru");let jo=(()=>{class Ee{}return Ee.\u0275fac=function(x){return new(x||Ee)},Ee.\u0275mod=s.oAB({type:Ee,bootstrap:[Oe]}),Ee.\u0275inj=s.cJS({imports:[os,Bt,e.b2,Y.MainModule,Fe.LoginModule,L.Bz,ss.u5,Io.JF,U.EV,Is.U,Bt,ss.u5,Io.JF]}),Ee})();_(2340).N.production&&(0,s.G48)(),e.q6().bootstrapModule(jo).catch(Ee=>console.error(Ee))},1135:(Ht,et,_)=>{_.d(et,{X:()=>s});var e=_(7579);class s extends e.x{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const L=super._subscribe(H);return!L.closed&&H.next(this._value),L}getValue(){const{hasError:H,thrownError:L,_value:I}=this;if(H)throw L;return this._throwIfClosed(),I}next(H){super.next(this._value=H)}}},9751:(Ht,et,_)=>{_.d(et,{y:()=>le});var e=_(930),s=_(727),g=_(8822),H=_(9635),L=_(2416),I=_(576),U=_(2806);let le=(()=>{class ue{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const ke=new ue;return ke.source=this,ke.operator=Te,ke}subscribe(Te,ke,we){const Fe=function pe(ue){return ue&&ue instanceof e.Lv||function K(ue){return ue&&(0,I.m)(ue.next)&&(0,I.m)(ue.error)&&(0,I.m)(ue.complete)}(ue)&&(0,s.Nn)(ue)}(Te)?Te:new e.Hp(Te,ke,we);return(0,U.x)(()=>{const{operator:Y,source:Pe}=this;Fe.add(Y?Y.call(Fe,Pe):Pe?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(Te){try{return this._subscribe(Te)}catch(ke){Te.error(ke)}}forEach(Te,ke){return new(ke=re(ke))((we,Fe)=>{let Y;Y=this.subscribe(Pe=>{try{Te(Pe)}catch(de){Fe(de),null==Y||Y.unsubscribe()}},Fe,we)})}_subscribe(Te){var ke;return null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(Te)}[g.L](){return this}pipe(...Te){return(0,H.U)(Te)(this)}toPromise(Te){return new(Te=re(Te))((ke,we)=>{let Fe;this.subscribe(Y=>Fe=Y,Y=>we(Y),()=>ke(Fe))})}}return ue.create=Oe=>new ue(Oe),ue})();function re(ue){var Oe;return null!==(Oe=null!=ue?ue:L.v.Promise)&&void 0!==Oe?Oe:Promise}},4707:(Ht,et,_)=>{_.d(et,{t:()=>g});var e=_(7579),s=_(6063);class g extends e.x{constructor(L=1/0,I=1/0,U=s.l){super(),this._bufferSize=L,this._windowTime=I,this._timestampProvider=U,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=I===1/0,this._bufferSize=Math.max(1,L),this._windowTime=Math.max(1,I)}next(L){const{isStopped:I,_buffer:U,_infiniteTimeWindow:le,_timestampProvider:re,_windowTime:K}=this;I||(U.push(L),!le&&U.push(re.now()+K)),this._trimBuffer(),super.next(L)}_subscribe(L){this._throwIfClosed(),this._trimBuffer();const I=this._innerSubscribe(L),{_infiniteTimeWindow:U,_buffer:le}=this,re=le.slice();for(let K=0;K<re.length&&!L.closed;K+=U?1:2)L.next(re[K]);return this._checkFinalizedStatuses(L),I}_trimBuffer(){const{_bufferSize:L,_timestampProvider:I,_buffer:U,_infiniteTimeWindow:le}=this,re=(le?1:2)*L;if(L<1/0&&re<U.length&&U.splice(0,U.length-re),!le){const K=I.now();let pe=0;for(let ue=1;ue<U.length&&U[ue]<=K;ue+=2)pe=ue;pe&&U.splice(0,pe+1)}}}},7579:(Ht,et,_)=>{_.d(et,{x:()=>U});var e=_(9751),s=_(727);const H=(0,_(3888).d)(re=>function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var L=_(8737),I=_(2806);let U=(()=>{class re extends e.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const ue=new le(this,this);return ue.operator=pe,ue}_throwIfClosed(){if(this.closed)throw new H}next(pe){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ue=this.observers.slice();for(const Oe of ue)Oe.next(pe)}})}error(pe){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:ue}=this;for(;ue.length;)ue.shift().error(pe)}})}complete(){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:ue,isStopped:Oe,observers:Te}=this;return ue||Oe?s.Lc:(Te.push(pe),new s.w0(()=>(0,L.P)(Te,pe)))}_checkFinalizedStatuses(pe){const{hasError:ue,thrownError:Oe,isStopped:Te}=this;ue?pe.error(Oe):Te&&pe.complete()}asObservable(){const pe=new e.y;return pe.source=this,pe}}return re.create=(K,pe)=>new le(K,pe),re})();class le extends U{constructor(K,pe){super(),this.destination=K,this.source=pe}next(K){var pe,ue;null===(ue=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===ue||ue.call(pe,K)}error(K){var pe,ue;null===(ue=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===ue||ue.call(pe,K)}complete(){var K,pe;null===(pe=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===pe||pe.call(K)}_subscribe(K){var pe,ue;return null!==(ue=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(K))&&void 0!==ue?ue:s.Lc}}},930:(Ht,et,_)=>{_.d(et,{Hp:()=>Oe,Lv:()=>ue});var e=_(576),s=_(727),g=_(2416),H=_(7849),L=_(5032);const I=re("C",void 0,void 0);function re(Y,Pe,de){return{kind:Y,value:Pe,error:de}}var K=_(3410),pe=_(2806);class ue extends s.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,s.Nn)(Pe)&&Pe.add(this)):this.destination=Fe}static create(Pe,de,N){return new Oe(Pe,de,N)}next(Pe){this.isStopped?we(function le(Y){return re("N",Y,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?we(function U(Y){return re("E",void 0,Y)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?we(I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Oe extends ue{constructor(Pe,de,N){let O;if(super(),(0,e.m)(Pe))O=Pe;else if(Pe){let ye;({next:O,error:de,complete:N}=Pe),this&&g.v.useDeprecatedNextContext?(ye=Object.create(Pe),ye.unsubscribe=()=>this.unsubscribe()):ye=Pe,O=null==O?void 0:O.bind(ye),de=null==de?void 0:de.bind(ye),N=null==N?void 0:N.bind(ye)}this.destination={next:O?Te(O):L.Z,error:Te(null!=de?de:ke),complete:N?Te(N):L.Z}}}function Te(Y,Pe){return(...de)=>{try{Y(...de)}catch(N){g.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(N):(0,H.h)(N)}}}function ke(Y){throw Y}function we(Y,Pe){const{onStoppedNotification:de}=g.v;de&&K.z.setTimeout(()=>de(Y,Pe))}const Fe={closed:!0,next:L.Z,error:ke,complete:L.Z}},727:(Ht,et,_)=>{_.d(et,{Lc:()=>I,w0:()=>L,Nn:()=>U});var e=_(576);const g=(0,_(3888).d)(re=>function(pe){re(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((ue,Oe)=>`${Oe+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var H=_(8737);class L{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Te of pe)Te.remove(this);else pe.remove(this);const{initialTeardown:ue}=this;if((0,e.m)(ue))try{ue()}catch(Te){K=Te instanceof g?Te.errors:[Te]}const{_teardowns:Oe}=this;if(Oe){this._teardowns=null;for(const Te of Oe)try{le(Te)}catch(ke){K=null!=K?K:[],ke instanceof g?K=[...K,...ke.errors]:K.push(ke)}}if(K)throw new g(K)}}add(K){var pe;if(K&&K!==this)if(this.closed)le(K);else{if(K instanceof L){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._teardowns=null!==(pe=this._teardowns)&&void 0!==pe?pe:[]).push(K)}}_hasParent(K){const{_parentage:pe}=this;return pe===K||Array.isArray(pe)&&pe.includes(K)}_addParent(K){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(K),pe):pe?[pe,K]:K}_removeParent(K){const{_parentage:pe}=this;pe===K?this._parentage=null:Array.isArray(pe)&&(0,H.P)(pe,K)}remove(K){const{_teardowns:pe}=this;pe&&(0,H.P)(pe,K),K instanceof L&&K._removeParent(this)}}L.EMPTY=(()=>{const re=new L;return re.closed=!0,re})();const I=L.EMPTY;function U(re){return re instanceof L||re&&"closed"in re&&(0,e.m)(re.remove)&&(0,e.m)(re.add)&&(0,e.m)(re.unsubscribe)}function le(re){(0,e.m)(re)?re():re.unsubscribe()}},2416:(Ht,et,_)=>{_.d(et,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(Ht,et,_)=>{_.d(et,{z:()=>g});var e=_(6805),s=_(930);function g(H,L){const I="object"==typeof L;return new Promise((U,le)=>{const re=new s.Hp({next:K=>{U(K),re.unsubscribe()},error:le,complete:()=>{I?U(L.defaultValue):le(new e.K)}});H.subscribe(re)})}},9841:(Ht,et,_)=>{_.d(et,{a:()=>K});var e=_(9751),s=_(4742),g=_(2076),H=_(4671),L=_(3268),I=_(3269),U=_(1810),le=_(5403),re=_(9672);function K(...Oe){const Te=(0,I.yG)(Oe),ke=(0,I.jO)(Oe),{args:we,keys:Fe}=(0,s.D)(Oe);if(0===we.length)return(0,g.D)([],Te);const Y=new e.y(function pe(Oe,Te,ke=H.y){return we=>{ue(Te,()=>{const{length:Fe}=Oe,Y=new Array(Fe);let Pe=Fe,de=Fe;for(let N=0;N<Fe;N++)ue(Te,()=>{const O=(0,g.D)(Oe[N],Te);let ye=!1;O.subscribe(new le.Q(we,Ce=>{Y[N]=Ce,ye||(ye=!0,de--),de||we.next(ke(Y.slice()))},()=>{--Pe||we.complete()}))},we)},we)}}(we,Te,Fe?Pe=>(0,U.n)(Fe,Pe):H.y));return ke?Y.pipe((0,L.Z)(ke)):Y}function ue(Oe,Te,ke){Oe?(0,re.f)(ke,Oe,Te):Te()}},7272:(Ht,et,_)=>{_.d(et,{z:()=>L});var e=_(8189),g=_(3269),H=_(2076);function L(...I){return function s(){return(0,e.J)(1)}()((0,H.D)(I,(0,g.yG)(I)))}},9770:(Ht,et,_)=>{_.d(et,{P:()=>g});var e=_(9751),s=_(8421);function g(H){return new e.y(L=>{(0,s.Xf)(H()).subscribe(L)})}},515:(Ht,et,_)=>{_.d(et,{E:()=>s});const s=new(_(9751).y)(L=>L.complete())},2076:(Ht,et,_)=>{_.d(et,{D:()=>Ce});var e=_(8421),s=_(9672),g=_(4482),H=_(5403);function L(ve,V=0){return(0,g.e)((w,F)=>{w.subscribe(new H.Q(F,q=>(0,s.f)(F,ve,()=>F.next(q),V),()=>(0,s.f)(F,ve,()=>F.complete(),V),q=>(0,s.f)(F,ve,()=>F.error(q),V)))})}function I(ve,V=0){return(0,g.e)((w,F)=>{F.add(ve.schedule(()=>w.subscribe(F),V))})}var re=_(9751),pe=_(2202),ue=_(576);function Te(ve,V){if(!ve)throw new Error("Iterable cannot be null");return new re.y(w=>{(0,s.f)(w,V,()=>{const F=ve[Symbol.asyncIterator]();(0,s.f)(w,V,()=>{F.next().then(q=>{q.done?w.complete():w.next(q.value)})},0,!0)})})}var ke=_(3670),we=_(8239),Fe=_(1144),Y=_(6495),Pe=_(2206),de=_(4532),N=_(3260);function Ce(ve,V){return V?function ye(ve,V){if(null!=ve){if((0,ke.c)(ve))return function U(ve,V){return(0,e.Xf)(ve).pipe(I(V),L(V))}(ve,V);if((0,Fe.z)(ve))return function K(ve,V){return new re.y(w=>{let F=0;return V.schedule(function(){F===ve.length?w.complete():(w.next(ve[F++]),w.closed||this.schedule())})})}(ve,V);if((0,we.t)(ve))return function le(ve,V){return(0,e.Xf)(ve).pipe(I(V),L(V))}(ve,V);if((0,Pe.D)(ve))return Te(ve,V);if((0,Y.T)(ve))return function Oe(ve,V){return new re.y(w=>{let F;return(0,s.f)(w,V,()=>{F=ve[pe.h](),(0,s.f)(w,V,()=>{let q,_e;try{({value:q,done:_e}=F.next())}catch(De){return void w.error(De)}_e?w.complete():w.next(q)},0,!0)}),()=>(0,ue.m)(null==F?void 0:F.return)&&F.return()})}(ve,V);if((0,N.L)(ve))return function O(ve,V){return Te((0,N.Q)(ve),V)}(ve,V)}throw(0,de.z)(ve)}(ve,V):(0,e.Xf)(ve)}},4968:(Ht,et,_)=>{_.d(et,{R:()=>K});var e=_(8421),s=_(9751),g=_(5577),H=_(1144),L=_(576),I=_(3268);const U=["addListener","removeListener"],le=["addEventListener","removeEventListener"],re=["on","off"];function K(ke,we,Fe,Y){if((0,L.m)(Fe)&&(Y=Fe,Fe=void 0),Y)return K(ke,we,Fe).pipe((0,I.Z)(Y));const[Pe,de]=function Te(ke){return(0,L.m)(ke.addEventListener)&&(0,L.m)(ke.removeEventListener)}(ke)?le.map(N=>O=>ke[N](we,O,Fe)):function ue(ke){return(0,L.m)(ke.addListener)&&(0,L.m)(ke.removeListener)}(ke)?U.map(pe(ke,we)):function Oe(ke){return(0,L.m)(ke.on)&&(0,L.m)(ke.off)}(ke)?re.map(pe(ke,we)):[];if(!Pe&&(0,H.z)(ke))return(0,g.z)(N=>K(N,we,Fe))((0,e.Xf)(ke));if(!Pe)throw new TypeError("Invalid event target");return new s.y(N=>{const O=(...ye)=>N.next(1<ye.length?ye:ye[0]);return Pe(O),()=>de(O)})}function pe(ke,we){return Fe=>Y=>ke[Fe](we,Y)}},8421:(Ht,et,_)=>{_.d(et,{Xf:()=>Oe});var e=_(5987),s=_(1144),g=_(8239),H=_(9751),L=_(3670),I=_(2206),U=_(4532),le=_(6495),re=_(3260),K=_(576),pe=_(7849),ue=_(8822);function Oe(N){if(N instanceof H.y)return N;if(null!=N){if((0,L.c)(N))return function Te(N){return new H.y(O=>{const ye=N[ue.L]();if((0,K.m)(ye.subscribe))return ye.subscribe(O);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(N);if((0,s.z)(N))return function ke(N){return new H.y(O=>{for(let ye=0;ye<N.length&&!O.closed;ye++)O.next(N[ye]);O.complete()})}(N);if((0,g.t)(N))return function we(N){return new H.y(O=>{N.then(ye=>{O.closed||(O.next(ye),O.complete())},ye=>O.error(ye)).then(null,pe.h)})}(N);if((0,I.D)(N))return Y(N);if((0,le.T)(N))return function Fe(N){return new H.y(O=>{for(const ye of N)if(O.next(ye),O.closed)return;O.complete()})}(N);if((0,re.L)(N))return function Pe(N){return Y((0,re.Q)(N))}(N)}throw(0,U.z)(N)}function Y(N){return new H.y(O=>{(function de(N,O){var ye,Ce,ve,V;return(0,e.mG)(this,void 0,void 0,function*(){try{for(ye=(0,e.KL)(N);!(Ce=yield ye.next()).done;)if(O.next(Ce.value),O.closed)return}catch(w){ve={error:w}}finally{try{Ce&&!Ce.done&&(V=ye.return)&&(yield V.call(ye))}finally{if(ve)throw ve.error}}O.complete()})})(N,O).catch(ye=>O.error(ye))})}},7445:(Ht,et,_)=>{_.d(et,{F:()=>g});var e=_(4986),s=_(5963);function g(H=0,L=e.z){return H<0&&(H=0),(0,s.H)(H,H,L)}},6451:(Ht,et,_)=>{_.d(et,{T:()=>I});var e=_(8189),s=_(8421),g=_(515),H=_(3269),L=_(2076);function I(...U){const le=(0,H.yG)(U),re=(0,H._6)(U,1/0),K=U;return K.length?1===K.length?(0,s.Xf)(K[0]):(0,e.J)(re)((0,L.D)(K,le)):g.E}},9646:(Ht,et,_)=>{_.d(et,{of:()=>g});var e=_(3269),s=_(2076);function g(...H){const L=(0,e.yG)(H);return(0,s.D)(H,L)}},5963:(Ht,et,_)=>{_.d(et,{H:()=>L});var e=_(9751),s=_(4986),g=_(3532);function L(I=0,U,le=s.P){let re=-1;return null!=U&&((0,g.K)(U)?le=U:re=U),new e.y(K=>{let pe=function H(I){return I instanceof Date&&!isNaN(I)}(I)?+I-le.now():I;pe<0&&(pe=0);let ue=0;return le.schedule(function(){K.closed||(K.next(ue++),0<=re?this.schedule(void 0,re):K.complete())},pe)})}},5403:(Ht,et,_)=>{_.d(et,{Q:()=>s});var e=_(930);class s extends e.Lv{constructor(H,L,I,U,le){super(H),this.onFinalize=le,this._next=L?function(re){try{L(re)}catch(K){H.error(K)}}:super._next,this._error=U?function(re){try{U(re)}catch(K){H.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=I?function(){try{I()}catch(re){H.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var H;const{closed:L}=this;super.unsubscribe(),!L&&(null===(H=this.onFinalize)||void 0===H||H.call(this))}}},262:(Ht,et,_)=>{_.d(et,{K:()=>H});var e=_(8421),s=_(5403),g=_(4482);function H(L){return(0,g.e)((I,U)=>{let K,le=null,re=!1;le=I.subscribe(new s.Q(U,void 0,void 0,pe=>{K=(0,e.Xf)(L(pe,H(L)(I))),le?(le.unsubscribe(),le=null,K.subscribe(U)):re=!0})),re&&(le.unsubscribe(),le=null,K.subscribe(U))})}},4351:(Ht,et,_)=>{_.d(et,{b:()=>g});var e=_(5577),s=_(576);function g(H,L){return(0,s.m)(L)?(0,e.z)(H,L,1):(0,e.z)(H,1)}},8372:(Ht,et,_)=>{_.d(et,{b:()=>H});var e=_(4986),s=_(4482),g=_(5403);function H(L,I=e.z){return(0,s.e)((U,le)=>{let re=null,K=null,pe=null;const ue=()=>{if(re){re.unsubscribe(),re=null;const Te=K;K=null,le.next(Te)}};function Oe(){const Te=pe+L,ke=I.now();if(ke<Te)return re=this.schedule(void 0,Te-ke),void le.add(re);ue()}U.subscribe(new g.Q(le,Te=>{K=Te,pe=I.now(),re||(re=I.schedule(Oe,L),le.add(re))},()=>{ue(),le.complete()},void 0,()=>{K=re=null}))})}},6590:(Ht,et,_)=>{_.d(et,{d:()=>g});var e=_(4482),s=_(5403);function g(H){return(0,e.e)((L,I)=>{let U=!1;L.subscribe(new s.Q(I,le=>{U=!0,I.next(le)},()=>{U||I.next(H),I.complete()}))})}},1884:(Ht,et,_)=>{_.d(et,{x:()=>H});var e=_(4671),s=_(4482),g=_(5403);function H(I,U=e.y){return I=null!=I?I:L,(0,s.e)((le,re)=>{let K,pe=!0;le.subscribe(new g.Q(re,ue=>{const Oe=U(ue);(pe||!I(K,Oe))&&(pe=!1,K=Oe,re.next(ue))}))})}function L(I,U){return I===U}},9300:(Ht,et,_)=>{_.d(et,{h:()=>g});var e=_(4482),s=_(5403);function g(H,L){return(0,e.e)((I,U)=>{let le=0;I.subscribe(new s.Q(U,re=>H.call(L,re,le++)&&U.next(re)))})}},8746:(Ht,et,_)=>{_.d(et,{x:()=>s});var e=_(4482);function s(g){return(0,e.e)((H,L)=>{try{H.subscribe(L)}finally{L.add(g)}})}},590:(Ht,et,_)=>{_.d(et,{P:()=>U});var e=_(6805),s=_(9300),g=_(5698),H=_(6590),L=_(8068),I=_(4671);function U(le,re){const K=arguments.length>=2;return pe=>pe.pipe(le?(0,s.h)((ue,Oe)=>le(ue,Oe,pe)):I.y,(0,g.q)(1),K?(0,H.d)(re):(0,L.T)(()=>new e.K))}},4004:(Ht,et,_)=>{_.d(et,{U:()=>g});var e=_(4482),s=_(5403);function g(H,L){return(0,e.e)((I,U)=>{let le=0;I.subscribe(new s.Q(U,re=>{U.next(H.call(L,re,le++))}))})}},9718:(Ht,et,_)=>{_.d(et,{h:()=>s});var e=_(4004);function s(g){return(0,e.U)(()=>g)}},8189:(Ht,et,_)=>{_.d(et,{J:()=>g});var e=_(5577),s=_(4671);function g(H=1/0){return(0,e.z)(s.y,H)}},5577:(Ht,et,_)=>{_.d(et,{z:()=>le});var e=_(4004),s=_(8421),g=_(4482),H=_(9672),L=_(5403),U=_(576);function le(re,K,pe=1/0){return(0,U.m)(K)?le((ue,Oe)=>(0,e.U)((Te,ke)=>K(ue,Te,Oe,ke))((0,s.Xf)(re(ue,Oe))),pe):("number"==typeof K&&(pe=K),(0,g.e)((ue,Oe)=>function I(re,K,pe,ue,Oe,Te,ke,we){const Fe=[];let Y=0,Pe=0,de=!1;const N=()=>{de&&!Fe.length&&!Y&&K.complete()},O=Ce=>Y<ue?ye(Ce):Fe.push(Ce),ye=Ce=>{Te&&K.next(Ce),Y++;let ve=!1;(0,s.Xf)(pe(Ce,Pe++)).subscribe(new L.Q(K,V=>{null==Oe||Oe(V),Te?O(V):K.next(V)},()=>{ve=!0},void 0,()=>{if(ve)try{for(Y--;Fe.length&&Y<ue;){const V=Fe.shift();ke?(0,H.f)(K,ke,()=>ye(V)):ye(V)}N()}catch(V){K.error(V)}}))};return re.subscribe(new L.Q(K,O,()=>{de=!0,N()})),()=>{null==we||we()}}(ue,Oe,re,pe)))}},599:(Ht,et,_)=>{_.d(et,{r:()=>H});var e=_(515),s=_(4482),g=_(5403);function H(L=1/0){return L<=0?()=>e.E:(0,s.e)((I,U)=>{let re,le=0;const K=()=>{let pe=!1;re=I.subscribe(new g.Q(U,void 0,()=>{++le<L?re?(re.unsubscribe(),re=null,K()):pe=!0:U.complete()})),pe&&(re.unsubscribe(),re=null,K())};K()})}},3099:(Ht,et,_)=>{_.d(et,{B:()=>I});var e=_(2076),s=_(5698),g=_(7579),H=_(930),L=_(4482);function I(le={}){const{connector:re=(()=>new g.x),resetOnError:K=!0,resetOnComplete:pe=!0,resetOnRefCountZero:ue=!0}=le;return Oe=>{let Te=null,ke=null,we=null,Fe=0,Y=!1,Pe=!1;const de=()=>{null==ke||ke.unsubscribe(),ke=null},N=()=>{de(),Te=we=null,Y=Pe=!1},O=()=>{const ye=Te;N(),null==ye||ye.unsubscribe()};return(0,L.e)((ye,Ce)=>{Fe++,!Pe&&!Y&&de();const ve=we=null!=we?we:re();Ce.add(()=>{Fe--,0===Fe&&!Pe&&!Y&&(ke=U(O,ue))}),ve.subscribe(Ce),Te||(Te=new H.Hp({next:V=>ve.next(V),error:V=>{Pe=!0,de(),ke=U(N,K,V),ve.error(V)},complete:()=>{Y=!0,de(),ke=U(N,pe),ve.complete()}}),(0,e.D)(ye).subscribe(Te))})(Oe)}}function U(le,re,...K){return!0===re?(le(),null):!1===re?null:re(...K).pipe((0,s.q)(1)).subscribe(()=>le())}},4782:(Ht,et,_)=>{_.d(et,{d:()=>g});var e=_(4707),s=_(3099);function g(H,L,I){var U,le;let re,K=!1;return H&&"object"==typeof H?(re=null!==(U=H.bufferSize)&&void 0!==U?U:1/0,L=null!==(le=H.windowTime)&&void 0!==le?le:1/0,K=!!H.refCount,I=H.scheduler):re=null!=H?H:1/0,(0,s.B)({connector:()=>new e.t(re,L,I),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:K})}},8675:(Ht,et,_)=>{_.d(et,{O:()=>H});var e=_(7272),s=_(3269),g=_(4482);function H(...L){const I=(0,s.yG)(L);return(0,g.e)((U,le)=>{(I?(0,e.z)(L,U,I):(0,e.z)(L,U)).subscribe(le)})}},3900:(Ht,et,_)=>{_.d(et,{w:()=>H});var e=_(8421),s=_(4482),g=_(5403);function H(L,I){return(0,s.e)((U,le)=>{let re=null,K=0,pe=!1;const ue=()=>pe&&!re&&le.complete();U.subscribe(new g.Q(le,Oe=>{null==re||re.unsubscribe();let Te=0;const ke=K++;(0,e.Xf)(L(Oe,ke)).subscribe(re=new g.Q(le,we=>le.next(I?I(Oe,we,ke,Te++):we),()=>{re=null,ue()}))},()=>{pe=!0,ue()}))})}},5698:(Ht,et,_)=>{_.d(et,{q:()=>H});var e=_(515),s=_(4482),g=_(5403);function H(L){return L<=0?()=>e.E:(0,s.e)((I,U)=>{let le=0;I.subscribe(new g.Q(U,re=>{++le<=L&&(U.next(re),L<=le&&U.complete())}))})}},2035:(Ht,et,_)=>{_.d(et,{h:()=>H});var e=_(515),s=_(4482),g=_(5403);function H(L){return L<=0?()=>e.E:(0,s.e)((I,U)=>{let le=[];I.subscribe(new g.Q(U,re=>{le.push(re),L<le.length&&le.shift()},()=>{for(const re of le)U.next(re);U.complete()},void 0,()=>{le=null}))})}},2722:(Ht,et,_)=>{_.d(et,{R:()=>L});var e=_(4482),s=_(5403),g=_(8421),H=_(5032);function L(I){return(0,e.e)((U,le)=>{(0,g.Xf)(I).subscribe(new s.Q(le,()=>le.complete(),H.Z)),!le.closed&&U.subscribe(le)})}},2529:(Ht,et,_)=>{_.d(et,{o:()=>g});var e=_(4482),s=_(5403);function g(H,L=!1){return(0,e.e)((I,U)=>{let le=0;I.subscribe(new s.Q(U,re=>{const K=H(re,le++);(K||L)&&U.next(re),!K&&U.complete()}))})}},8505:(Ht,et,_)=>{_.d(et,{b:()=>L});var e=_(576),s=_(4482),g=_(5403),H=_(4671);function L(I,U,le){const re=(0,e.m)(I)||U||le?{next:I,error:U,complete:le}:I;return re?(0,s.e)((K,pe)=>{var ue;null===(ue=re.subscribe)||void 0===ue||ue.call(re);let Oe=!0;K.subscribe(new g.Q(pe,Te=>{var ke;null===(ke=re.next)||void 0===ke||ke.call(re,Te),pe.next(Te)},()=>{var Te;Oe=!1,null===(Te=re.complete)||void 0===Te||Te.call(re),pe.complete()},Te=>{var ke;Oe=!1,null===(ke=re.error)||void 0===ke||ke.call(re,Te),pe.error(Te)},()=>{var Te,ke;Oe&&(null===(Te=re.unsubscribe)||void 0===Te||Te.call(re)),null===(ke=re.finalize)||void 0===ke||ke.call(re)}))}):H.y}},8068:(Ht,et,_)=>{_.d(et,{T:()=>H});var e=_(6805),s=_(4482),g=_(5403);function H(I=L){return(0,s.e)((U,le)=>{let re=!1;U.subscribe(new g.Q(le,K=>{re=!0,le.next(K)},()=>re?le.complete():le.error(I())))})}function L(){return new e.K}},4408:(Ht,et,_)=>{_.d(et,{o:()=>L});var e=_(727);class s extends e.w0{constructor(U,le){super()}schedule(U,le=0){return this}}const g={setInterval(...I){const{delegate:U}=g;return((null==U?void 0:U.setInterval)||setInterval)(...I)},clearInterval(I){const{delegate:U}=g;return((null==U?void 0:U.clearInterval)||clearInterval)(I)},delegate:void 0};var H=_(8737);class L extends s{constructor(U,le){super(U,le),this.scheduler=U,this.work=le,this.pending=!1}schedule(U,le=0){if(this.closed)return this;this.state=U;const re=this.id,K=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(K,re,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(K,this.id,le),this}requestAsyncId(U,le,re=0){return g.setInterval(U.flush.bind(U,this),re)}recycleAsyncId(U,le,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return le;g.clearInterval(le)}execute(U,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(U,le);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(U,le){let K,re=!1;try{this.work(U)}catch(pe){re=!0,K=pe||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:U,scheduler:le}=this,{actions:re}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.P)(re,this),null!=U&&(this.id=this.recycleAsyncId(le,U,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ht,et,_)=>{_.d(et,{v:()=>g});var e=_(6063);class s{constructor(L,I=s.now){this.schedulerActionCtor=L,this.now=I}schedule(L,I=0,U){return new this.schedulerActionCtor(this,L).schedule(U,I)}}s.now=e.l.now;class g extends s{constructor(L,I=s.now){super(L,I),this.actions=[],this._active=!1,this._scheduled=void 0}flush(L){const{actions:I}=this;if(this._active)return void I.push(L);let U;this._active=!0;do{if(U=L.execute(L.state,L.delay))break}while(L=I.shift());if(this._active=!1,U){for(;L=I.shift();)L.unsubscribe();throw U}}}},4986:(Ht,et,_)=>{_.d(et,{P:()=>H,z:()=>g});var e=_(4408);const g=new(_(7565).v)(e.o),H=g},6063:(Ht,et,_)=>{_.d(et,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(Ht,et,_)=>{_.d(et,{z:()=>e});const e={setTimeout(...s){const{delegate:g}=e;return((null==g?void 0:g.setTimeout)||setTimeout)(...s)},clearTimeout(s){const{delegate:g}=e;return((null==g?void 0:g.clearTimeout)||clearTimeout)(s)},delegate:void 0}},2202:(Ht,et,_)=>{_.d(et,{h:()=>s});const s=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ht,et,_)=>{_.d(et,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ht,et,_)=>{_.d(et,{K:()=>s});const s=(0,_(3888).d)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Ht,et,_)=>{_.d(et,{_6:()=>I,jO:()=>H,yG:()=>L});var e=_(576),s=_(3532);function g(U){return U[U.length-1]}function H(U){return(0,e.m)(g(U))?U.pop():void 0}function L(U){return(0,s.K)(g(U))?U.pop():void 0}function I(U,le){return"number"==typeof g(U)?U.pop():le}},4742:(Ht,et,_)=>{_.d(et,{D:()=>L});const{isArray:e}=Array,{getPrototypeOf:s,prototype:g,keys:H}=Object;function L(U){if(1===U.length){const le=U[0];if(e(le))return{args:le,keys:null};if(function I(U){return U&&"object"==typeof U&&s(U)===g}(le)){const re=H(le);return{args:re.map(K=>le[K]),keys:re}}}return{args:U,keys:null}}},8737:(Ht,et,_)=>{function e(s,g){if(s){const H=s.indexOf(g);0<=H&&s.splice(H,1)}}_.d(et,{P:()=>e})},3888:(Ht,et,_)=>{function e(s){const H=s(L=>{Error.call(L),L.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}_.d(et,{d:()=>e})},1810:(Ht,et,_)=>{function e(s,g){return s.reduce((H,L,I)=>(H[L]=g[I],H),{})}_.d(et,{n:()=>e})},2806:(Ht,et,_)=>{_.d(et,{O:()=>H,x:()=>g});var e=_(2416);let s=null;function g(L){if(e.v.useDeprecatedSynchronousErrorHandling){const I=!s;if(I&&(s={errorThrown:!1,error:null}),L(),I){const{errorThrown:U,error:le}=s;if(s=null,U)throw le}}else L()}function H(L){e.v.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=L)}},9672:(Ht,et,_)=>{function e(s,g,H,L=0,I=!1){const U=g.schedule(function(){H(),I?s.add(this.schedule(null,L)):this.unsubscribe()},L);if(s.add(U),!I)return U}_.d(et,{f:()=>e})},4671:(Ht,et,_)=>{function e(s){return s}_.d(et,{y:()=>e})},1144:(Ht,et,_)=>{_.d(et,{z:()=>e});const e=s=>s&&"number"==typeof s.length&&"function"!=typeof s},2206:(Ht,et,_)=>{_.d(et,{D:()=>s});var e=_(576);function s(g){return Symbol.asyncIterator&&(0,e.m)(null==g?void 0:g[Symbol.asyncIterator])}},576:(Ht,et,_)=>{function e(s){return"function"==typeof s}_.d(et,{m:()=>e})},3670:(Ht,et,_)=>{_.d(et,{c:()=>g});var e=_(8822),s=_(576);function g(H){return(0,s.m)(H[e.L])}},6495:(Ht,et,_)=>{_.d(et,{T:()=>g});var e=_(2202),s=_(576);function g(H){return(0,s.m)(null==H?void 0:H[e.h])}},8239:(Ht,et,_)=>{_.d(et,{t:()=>s});var e=_(576);function s(g){return(0,e.m)(null==g?void 0:g.then)}},3260:(Ht,et,_)=>{_.d(et,{L:()=>H,Q:()=>g});var e=_(5987),s=_(576);function g(L){return(0,e.FC)(this,arguments,function*(){const U=L.getReader();try{for(;;){const{value:le,done:re}=yield(0,e.qq)(U.read());if(re)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(le)}}finally{U.releaseLock()}})}function H(L){return(0,s.m)(null==L?void 0:L.getReader)}},3532:(Ht,et,_)=>{_.d(et,{K:()=>s});var e=_(576);function s(g){return g&&(0,e.m)(g.schedule)}},4482:(Ht,et,_)=>{_.d(et,{A:()=>s,e:()=>g});var e=_(576);function s(H){return(0,e.m)(null==H?void 0:H.lift)}function g(H){return L=>{if(s(L))return L.lift(function(I){try{return H(I,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ht,et,_)=>{_.d(et,{Z:()=>H});var e=_(4004);const{isArray:s}=Array;function H(L){return(0,e.U)(I=>function g(L,I){return s(I)?L(...I):L(I)}(L,I))}},5032:(Ht,et,_)=>{function e(){}_.d(et,{Z:()=>e})},9635:(Ht,et,_)=>{_.d(et,{U:()=>g,z:()=>s});var e=_(4671);function s(...H){return g(H)}function g(H){return 0===H.length?e.y:1===H.length?H[0]:function(I){return H.reduce((U,le)=>le(U),I)}}},7849:(Ht,et,_)=>{_.d(et,{h:()=>g});var e=_(2416),s=_(3410);function g(H){s.z.setTimeout(()=>{const{onUnhandledError:L}=e.v;if(!L)throw H;L(H)})}},4532:(Ht,et,_)=>{function e(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(et,{z:()=>e})},1588:(Ht,et,_)=>{_.d(et,{Z:()=>pe});const s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let g;const H=new Uint8Array(16);function L(){if(!g&&(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!g))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(H)}const I=[];for(let ue=0;ue<256;++ue)I.push((ue+256).toString(16).slice(1));const pe=function K(ue,Oe,Te){if(s.randomUUID&&!Oe&&!ue)return s.randomUUID();const ke=(ue=ue||{}).random||(ue.rng||L)();if(ke[6]=15&ke[6]|64,ke[8]=63&ke[8]|128,Oe){Te=Te||0;for(let we=0;we<16;++we)Oe[Te+we]=ke[we];return Oe}return function U(ue,Oe=0){return(I[ue[Oe+0]]+I[ue[Oe+1]]+I[ue[Oe+2]]+I[ue[Oe+3]]+"-"+I[ue[Oe+4]]+I[ue[Oe+5]]+"-"+I[ue[Oe+6]]+I[ue[Oe+7]]+"-"+I[ue[Oe+8]]+I[ue[Oe+9]]+"-"+I[ue[Oe+10]]+I[ue[Oe+11]]+I[ue[Oe+12]]+I[ue[Oe+13]]+I[ue[Oe+14]]+I[ue[Oe+15]]).toLowerCase()}(ke)}},5987:(Ht,et,_)=>{function le(w,F,q,_e){return new(q||(q=Promise))(function(Le,Me){function ht($){try{Se(_e.next($))}catch(B){Me(B)}}function at($){try{Se(_e.throw($))}catch(B){Me(B)}}function Se($){$.done?Le($.value):function De(Le){return Le instanceof q?Le:new q(function(Me){Me(Le)})}($.value).then(ht,at)}Se((_e=_e.apply(w,F||[])).next())})}function Fe(w){return this instanceof Fe?(this.v=w,this):new Fe(w)}function Y(w,F,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,_e=q.apply(w,F||[]),Le=[];return De={},Me("next"),Me("throw"),Me("return"),De[Symbol.asyncIterator]=function(){return this},De;function Me(j){_e[j]&&(De[j]=function(Ue){return new Promise(function(fe,qe){Le.push([j,Ue,fe,qe])>1||ht(j,Ue)})})}function ht(j,Ue){try{!function at(j){j.value instanceof Fe?Promise.resolve(j.value.v).then(Se,$):B(Le[0][2],j)}(_e[j](Ue))}catch(fe){B(Le[0][3],fe)}}function Se(j){ht("next",j)}function $(j){ht("throw",j)}function B(j,Ue){j(Ue),Le.shift(),Le.length&&ht(Le[0][0],Le[0][1])}}function de(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,F=w[Symbol.asyncIterator];return F?F.call(w):(w=function ue(w){var F="function"==typeof Symbol&&Symbol.iterator,q=F&&w[F],_e=0;if(q)return q.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&_e>=w.length&&(w=void 0),{value:w&&w[_e++],done:!w}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}(w),q={},_e("next"),_e("throw"),_e("return"),q[Symbol.asyncIterator]=function(){return this},q);function _e(Le){q[Le]=w[Le]&&function(Me){return new Promise(function(ht,at){!function De(Le,Me,ht,at){Promise.resolve(at).then(function(Se){Le({value:Se,done:ht})},Me)}(ht,at,(Me=w[Le](Me)).done,Me.value)})}}}_.d(et,{FC:()=>Y,KL:()=>de,mG:()=>le,qq:()=>Fe})},655:(Ht,et,_)=>{function le(F,q,_e,De){return new(_e||(_e=Promise))(function(Me,ht){function at(B){try{$(De.next(B))}catch(j){ht(j)}}function Se(B){try{$(De.throw(B))}catch(j){ht(j)}}function $(B){B.done?Me(B.value):function Le(Me){return Me instanceof _e?Me:new _e(function(ht){ht(Me)})}(B.value).then(at,Se)}$((De=De.apply(F,q||[])).next())})}_.d(et,{mG:()=>le})},1777:(Ht,et,_)=>{_.d(et,{EY:()=>we,IO:()=>ke,LC:()=>s,SB:()=>re,X$:()=>H,ZE:()=>Pe,ZN:()=>Y,_7:()=>Te,_j:()=>e,eR:()=>pe,jt:()=>L,k1:()=>de,l3:()=>g,oB:()=>le,oQ:()=>ue,pV:()=>Oe,vP:()=>U});class e{}class s{}const g="*";function H(N,O){return{type:7,name:N,definitions:O,options:{}}}function L(N,O=null){return{type:4,styles:O,timings:N}}function U(N,O=null){return{type:2,steps:N,options:O}}function le(N){return{type:6,styles:N,offset:null}}function re(N,O,ye){return{type:0,name:N,styles:O,options:ye}}function pe(N,O,ye=null){return{type:1,expr:N,animation:O,options:ye}}function ue(N,O=null){return{type:8,animation:N,options:O}}function Oe(N=null){return{type:9,options:N}}function Te(N,O=null){return{type:10,animation:N,options:O}}function ke(N,O,ye=null){return{type:11,selector:N,animation:O,options:ye}}function we(N,O){return{type:12,timings:N,animation:O}}function Fe(N){Promise.resolve().then(N)}class Y{constructor(O=0,ye=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=O+ye}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(O=>O()),this._onDoneFns=[])}onStart(O){this._originalOnStartFns.push(O),this._onStartFns.push(O)}onDone(O){this._originalOnDoneFns.push(O),this._onDoneFns.push(O)}onDestroy(O){this._onDestroyFns.push(O)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(O=>O()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(O=>O()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(O){this._position=this.totalTime?O*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(O){const ye="start"==O?this._onStartFns:this._onDoneFns;ye.forEach(Ce=>Ce()),ye.length=0}}class Pe{constructor(O){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=O;let ye=0,Ce=0,ve=0;const V=this.players.length;0==V?Fe(()=>this._onFinish()):this.players.forEach(w=>{w.onDone(()=>{++ye==V&&this._onFinish()}),w.onDestroy(()=>{++Ce==V&&this._onDestroy()}),w.onStart(()=>{++ve==V&&this._onStart()})}),this.totalTime=this.players.reduce((w,F)=>Math.max(w,F.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(O=>O()),this._onDoneFns=[])}init(){this.players.forEach(O=>O.init())}onStart(O){this._onStartFns.push(O)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(O=>O()),this._onStartFns=[])}onDone(O){this._onDoneFns.push(O)}onDestroy(O){this._onDestroyFns.push(O)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(O=>O.play())}pause(){this.players.forEach(O=>O.pause())}restart(){this.players.forEach(O=>O.restart())}finish(){this._onFinish(),this.players.forEach(O=>O.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(O=>O.destroy()),this._onDestroyFns.forEach(O=>O()),this._onDestroyFns=[])}reset(){this.players.forEach(O=>O.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(O){const ye=O*this.totalTime;this.players.forEach(Ce=>{const ve=Ce.totalTime?Math.min(1,ye/Ce.totalTime):1;Ce.setPosition(ve)})}getPosition(){const O=this.players.reduce((ye,Ce)=>null===ye||Ce.totalTime>ye.totalTime?Ce:ye,null);return null!=O?O.getPosition():0}beforeDestroy(){this.players.forEach(O=>{O.beforeDestroy&&O.beforeDestroy()})}triggerCallback(O){const ye="start"==O?this._onStartFns:this._onDoneFns;ye.forEach(Ce=>Ce()),ye.length=0}}const de="!"},925:(Ht,et,_)=>{_.d(et,{i$:()=>pe,kV:()=>Y,sA:()=>de,t4:()=>H});var e=_(5e3),s=_(9808);let g;try{g="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(O){g=!1}let re,we,H=(()=>{class O{constructor(Ce){this._platformId=Ce,this.isBrowser=this._platformId?(0,s.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return O.\u0275fac=function(Ce){return new(Ce||O)(e.LFG(e.Lbi))},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function pe(O){return function K(){if(null==re&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>re=!0}))}finally{re=re||!1}return re}()?O:!!O.capture}function Y(O){if(function Fe(){if(null==we){const O="undefined"!=typeof document?document.head:null;we=!(!O||!O.createShadowRoot&&!O.attachShadow)}return we}()){const ye=O.getRootNode?O.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&ye instanceof ShadowRoot)return ye}return null}function de(O){return O.composedPath?O.composedPath()[0]:O.target}},9808:(Ht,et,_)=>{_.d(et,{Do:()=>de,ED:()=>Hs,EM:()=>vo,H9:()=>xo,HT:()=>L,JF:()=>Nr,JJ:()=>Ro,K0:()=>U,Mx:()=>Yi,NF:()=>ir,Nd:()=>gs,O5:()=>ki,OU:()=>Zs,Ov:()=>Vs,PC:()=>Jo,PM:()=>Zi,RF:()=>an,S$:()=>Fe,V_:()=>K,Ye:()=>N,b0:()=>Pe,bD:()=>nr,ez:()=>fs,mk:()=>Fi,n9:()=>as,q:()=>g,qS:()=>_o,rS:()=>eo,sg:()=>Bi,tP:()=>Rr,uU:()=>si,w_:()=>I});var e=_(5e3);let s=null;function g(){return s}function L(Q){s||(s=Q)}class I{}const U=new e.OlP("DocumentToken");let le=(()=>{class Q{historyGo(ne){throw new Error("Not implemented")}}return Q.\u0275fac=function(ne){return new(ne||Q)},Q.\u0275prov=e.Yz7({token:Q,factory:function(){return function re(){return(0,e.LFG)(pe)}()},providedIn:"platform"}),Q})();const K=new e.OlP("Location Initialized");let pe=(()=>{class Q extends le{constructor(ne){super(),this._doc=ne,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(ne){const He=g().getGlobalEventTarget(this._doc,"window");return He.addEventListener("popstate",ne,!1),()=>He.removeEventListener("popstate",ne)}onHashChange(ne){const He=g().getGlobalEventTarget(this._doc,"window");return He.addEventListener("hashchange",ne,!1),()=>He.removeEventListener("hashchange",ne)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(ne){this.location.pathname=ne}pushState(ne,He,ut){ue()?this._history.pushState(ne,He,ut):this.location.hash=ut}replaceState(ne,He,ut){ue()?this._history.replaceState(ne,He,ut):this.location.hash=ut}forward(){this._history.forward()}back(){this._history.back()}historyGo(ne=0){this._history.go(ne)}getState(){return this._history.state}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.LFG(U))},Q.\u0275prov=e.Yz7({token:Q,factory:function(){return function Oe(){return new pe((0,e.LFG)(U))}()},providedIn:"platform"}),Q})();function ue(){return!!window.history.pushState}function Te(Q,xe){if(0==Q.length)return xe;if(0==xe.length)return Q;let ne=0;return Q.endsWith("/")&&ne++,xe.startsWith("/")&&ne++,2==ne?Q+xe.substring(1):1==ne?Q+xe:Q+"/"+xe}function ke(Q){const xe=Q.match(/#|\?|$/),ne=xe&&xe.index||Q.length;return Q.slice(0,ne-("/"===Q[ne-1]?1:0))+Q.slice(ne)}function we(Q){return Q&&"?"!==Q[0]?"?"+Q:Q}let Fe=(()=>{class Q{historyGo(ne){throw new Error("Not implemented")}}return Q.\u0275fac=function(ne){return new(ne||Q)},Q.\u0275prov=e.Yz7({token:Q,factory:function(){return(0,e.f3M)(Pe)},providedIn:"root"}),Q})();const Y=new e.OlP("appBaseHref");let Pe=(()=>{class Q extends Fe{constructor(ne,He){var ut,Bt,jt;super(),this._platformLocation=ne,this._removeListenerFns=[],this._baseHref=null!==(jt=null!==(ut=null!=He?He:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ut?ut:null===(Bt=(0,e.f3M)(U).location)||void 0===Bt?void 0:Bt.origin)&&void 0!==jt?jt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ne){this._removeListenerFns.push(this._platformLocation.onPopState(ne),this._platformLocation.onHashChange(ne))}getBaseHref(){return this._baseHref}prepareExternalUrl(ne){return Te(this._baseHref,ne)}path(ne=!1){const He=this._platformLocation.pathname+we(this._platformLocation.search),ut=this._platformLocation.hash;return ut&&ne?`${He}${ut}`:He}pushState(ne,He,ut,Bt){const jt=this.prepareExternalUrl(ut+we(Bt));this._platformLocation.pushState(ne,He,jt)}replaceState(ne,He,ut,Bt){const jt=this.prepareExternalUrl(ut+we(Bt));this._platformLocation.replaceState(ne,He,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ne=0){var He,ut;null===(ut=(He=this._platformLocation).historyGo)||void 0===ut||ut.call(He,ne)}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.LFG(le),e.LFG(Y,8))},Q.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),de=(()=>{class Q extends Fe{constructor(ne,He){super(),this._platformLocation=ne,this._baseHref="",this._removeListenerFns=[],null!=He&&(this._baseHref=He)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ne){this._removeListenerFns.push(this._platformLocation.onPopState(ne),this._platformLocation.onHashChange(ne))}getBaseHref(){return this._baseHref}path(ne=!1){let He=this._platformLocation.hash;return null==He&&(He="#"),He.length>0?He.substring(1):He}prepareExternalUrl(ne){const He=Te(this._baseHref,ne);return He.length>0?"#"+He:He}pushState(ne,He,ut,Bt){let jt=this.prepareExternalUrl(ut+we(Bt));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.pushState(ne,He,jt)}replaceState(ne,He,ut,Bt){let jt=this.prepareExternalUrl(ut+we(Bt));0==jt.length&&(jt=this._platformLocation.pathname),this._platformLocation.replaceState(ne,He,jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ne=0){var He,ut;null===(ut=(He=this._platformLocation).historyGo)||void 0===ut||ut.call(He,ne)}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.LFG(le),e.LFG(Y,8))},Q.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),N=(()=>{class Q{constructor(ne){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ne;const He=this._locationStrategy.getBaseHref();this._baseHref=ke(Ce(He)),this._locationStrategy.onPopState(ut=>{this._subject.emit({url:this.path(!0),pop:!0,state:ut.state,type:ut.type})})}ngOnDestroy(){var ne;null===(ne=this._urlChangeSubscription)||void 0===ne||ne.unsubscribe(),this._urlChangeListeners=[]}path(ne=!1){return this.normalize(this._locationStrategy.path(ne))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ne,He=""){return this.path()==this.normalize(ne+we(He))}normalize(ne){return Q.stripTrailingSlash(function ye(Q,xe){return Q&&xe.startsWith(Q)?xe.substring(Q.length):xe}(this._baseHref,Ce(ne)))}prepareExternalUrl(ne){return ne&&"/"!==ne[0]&&(ne="/"+ne),this._locationStrategy.prepareExternalUrl(ne)}go(ne,He="",ut=null){this._locationStrategy.pushState(ut,"",ne,He),this._notifyUrlChangeListeners(this.prepareExternalUrl(ne+we(He)),ut)}replaceState(ne,He="",ut=null){this._locationStrategy.replaceState(ut,"",ne,He),this._notifyUrlChangeListeners(this.prepareExternalUrl(ne+we(He)),ut)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ne=0){var He,ut;null===(ut=(He=this._locationStrategy).historyGo)||void 0===ut||ut.call(He,ne)}onUrlChange(ne){return this._urlChangeListeners.push(ne),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(He=>{this._notifyUrlChangeListeners(He.url,He.state)})),()=>{var He;const ut=this._urlChangeListeners.indexOf(ne);this._urlChangeListeners.splice(ut,1),0===this._urlChangeListeners.length&&(null===(He=this._urlChangeSubscription)||void 0===He||He.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ne="",He){this._urlChangeListeners.forEach(ut=>ut(ne,He))}subscribe(ne,He,ut){return this._subject.subscribe({next:ne,error:He,complete:ut})}}return Q.normalizeQueryParams=we,Q.joinWithSlash=Te,Q.stripTrailingSlash=ke,Q.\u0275fac=function(ne){return new(ne||Q)(e.LFG(Fe))},Q.\u0275prov=e.Yz7({token:Q,factory:function(){return function O(){return new N((0,e.LFG)(Fe))}()},providedIn:"root"}),Q})();function Ce(Q){return Q.replace(/\/index.html$/,"")}const ve={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var V=(()=>((V=V||{})[V.Decimal=0]="Decimal",V[V.Percent=1]="Percent",V[V.Currency=2]="Currency",V[V.Scientific=3]="Scientific",V))(),F=(()=>((F=F||{})[F.Format=0]="Format",F[F.Standalone=1]="Standalone",F))(),q=(()=>((q=q||{})[q.Narrow=0]="Narrow",q[q.Abbreviated=1]="Abbreviated",q[q.Wide=2]="Wide",q[q.Short=3]="Short",q))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),De=(()=>((De=De||{})[De.Decimal=0]="Decimal",De[De.Group=1]="Group",De[De.List=2]="List",De[De.PercentSign=3]="PercentSign",De[De.PlusSign=4]="PlusSign",De[De.MinusSign=5]="MinusSign",De[De.Exponential=6]="Exponential",De[De.SuperscriptingExponent=7]="SuperscriptingExponent",De[De.PerMille=8]="PerMille",De[De.Infinity=9]="Infinity",De[De.NaN=10]="NaN",De[De.TimeSeparator=11]="TimeSeparator",De[De.CurrencyDecimal=12]="CurrencyDecimal",De[De.CurrencyGroup=13]="CurrencyGroup",De))();function Ue(Q,xe){return Ye((0,e.cg1)(Q)[e.wAp.DateFormat],xe)}function fe(Q,xe){return Ye((0,e.cg1)(Q)[e.wAp.TimeFormat],xe)}function qe(Q,xe){return Ye((0,e.cg1)(Q)[e.wAp.DateTimeFormat],xe)}function je(Q,xe){const ne=(0,e.cg1)(Q),He=ne[e.wAp.NumberSymbols][xe];if(void 0===He){if(xe===De.CurrencyDecimal)return ne[e.wAp.NumberSymbols][De.Decimal];if(xe===De.CurrencyGroup)return ne[e.wAp.NumberSymbols][De.Group]}return He}function mt(Q,xe){return(0,e.cg1)(Q)[e.wAp.NumberFormats][xe]}function hn(Q){if(!Q[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Q[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ye(Q,xe){for(let ne=xe;ne>-1;ne--)if(void 0!==Q[ne])return Q[ne];throw new Error("Locale data API: locale data undefined")}function Mt(Q){const[xe,ne]=Q.split(":");return{hours:+xe,minutes:+ne}}const oi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kn={},Ut=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ft=(()=>((ft=ft||{})[ft.Short=0]="Short",ft[ft.ShortGMT=1]="ShortGMT",ft[ft.Long=2]="Long",ft[ft.Extended=3]="Extended",ft))(),Be=(()=>((Be=Be||{})[Be.FullYear=0]="FullYear",Be[Be.Month=1]="Month",Be[Be.Date=2]="Date",Be[Be.Hours=3]="Hours",Be[Be.Minutes=4]="Minutes",Be[Be.Seconds=5]="Seconds",Be[Be.FractionalSeconds=6]="FractionalSeconds",Be[Be.Day=7]="Day",Be))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function S(Q,xe,ne,He){let ut=function xn(Q){if(di(Q))return Q;if("number"==typeof Q&&!isNaN(Q))return new Date(Q);if("string"==typeof Q){if(Q=Q.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Q)){const[ut,Bt=1,jt=1]=Q.split("-").map(Cn=>+Cn);return he(ut,Bt-1,jt)}const ne=parseFloat(Q);if(!isNaN(Q-ne))return new Date(ne);let He;if(He=Q.match(oi))return function Pn(Q){const xe=new Date(0);let ne=0,He=0;const ut=Q[8]?xe.setUTCFullYear:xe.setFullYear,Bt=Q[8]?xe.setUTCHours:xe.setHours;Q[9]&&(ne=Number(Q[9]+Q[10]),He=Number(Q[9]+Q[11])),ut.call(xe,Number(Q[1]),Number(Q[2])-1,Number(Q[3]));const jt=Number(Q[4]||0)-ne,Cn=Number(Q[5]||0)-He,hi=Number(Q[6]||0),li=Math.floor(1e3*parseFloat("0."+(Q[7]||0)));return Bt.call(xe,jt,Cn,hi,li),xe}(He)}const xe=new Date(Q);if(!di(xe))throw new Error(`Unable to convert "${Q}" into a date`);return xe}(Q);xe=Ae(ne,xe)||xe;let Cn,jt=[];for(;xe;){if(Cn=Ut.exec(xe),!Cn){jt.push(xe);break}{jt=jt.concat(Cn.slice(1));const gi=jt.pop();if(!gi)break;xe=gi}}let hi=ut.getTimezoneOffset();He&&(hi=yt(He,hi),ut=function $t(Q,xe,ne){const He=ne?-1:1,ut=Q.getTimezoneOffset();return function Yt(Q,xe){return(Q=new Date(Q.getTime())).setMinutes(Q.getMinutes()+xe),Q}(Q,He*(yt(xe,ut)-ut))}(ut,He,!0));let li="";return jt.forEach(gi=>{const ti=function $e(Q){if(rn[Q])return rn[Q];let xe;switch(Q){case"G":case"GG":case"GGG":xe=wt(It.Eras,q.Abbreviated);break;case"GGGG":xe=wt(It.Eras,q.Wide);break;case"GGGGG":xe=wt(It.Eras,q.Narrow);break;case"y":xe=en(Be.FullYear,1,0,!1,!0);break;case"yy":xe=en(Be.FullYear,2,0,!0,!0);break;case"yyy":xe=en(Be.FullYear,3,0,!1,!0);break;case"yyyy":xe=en(Be.FullYear,4,0,!1,!0);break;case"Y":xe=kt(1);break;case"YY":xe=kt(2,!0);break;case"YYY":xe=kt(3);break;case"YYYY":xe=kt(4);break;case"M":case"L":xe=en(Be.Month,1,1);break;case"MM":case"LL":xe=en(Be.Month,2,1);break;case"MMM":xe=wt(It.Months,q.Abbreviated);break;case"MMMM":xe=wt(It.Months,q.Wide);break;case"MMMMM":xe=wt(It.Months,q.Narrow);break;case"LLL":xe=wt(It.Months,q.Abbreviated,F.Standalone);break;case"LLLL":xe=wt(It.Months,q.Wide,F.Standalone);break;case"LLLLL":xe=wt(It.Months,q.Narrow,F.Standalone);break;case"w":xe=Wi(1);break;case"ww":xe=Wi(2);break;case"W":xe=Wi(1,!0);break;case"d":xe=en(Be.Date,1);break;case"dd":xe=en(Be.Date,2);break;case"c":case"cc":xe=en(Be.Day,1);break;case"ccc":xe=wt(It.Days,q.Abbreviated,F.Standalone);break;case"cccc":xe=wt(It.Days,q.Wide,F.Standalone);break;case"ccccc":xe=wt(It.Days,q.Narrow,F.Standalone);break;case"cccccc":xe=wt(It.Days,q.Short,F.Standalone);break;case"E":case"EE":case"EEE":xe=wt(It.Days,q.Abbreviated);break;case"EEEE":xe=wt(It.Days,q.Wide);break;case"EEEEE":xe=wt(It.Days,q.Narrow);break;case"EEEEEE":xe=wt(It.Days,q.Short);break;case"a":case"aa":case"aaa":xe=wt(It.DayPeriods,q.Abbreviated);break;case"aaaa":xe=wt(It.DayPeriods,q.Wide);break;case"aaaaa":xe=wt(It.DayPeriods,q.Narrow);break;case"b":case"bb":case"bbb":xe=wt(It.DayPeriods,q.Abbreviated,F.Standalone,!0);break;case"bbbb":xe=wt(It.DayPeriods,q.Wide,F.Standalone,!0);break;case"bbbbb":xe=wt(It.DayPeriods,q.Narrow,F.Standalone,!0);break;case"B":case"BB":case"BBB":xe=wt(It.DayPeriods,q.Abbreviated,F.Format,!0);break;case"BBBB":xe=wt(It.DayPeriods,q.Wide,F.Format,!0);break;case"BBBBB":xe=wt(It.DayPeriods,q.Narrow,F.Format,!0);break;case"h":xe=en(Be.Hours,1,-12);break;case"hh":xe=en(Be.Hours,2,-12);break;case"H":xe=en(Be.Hours,1);break;case"HH":xe=en(Be.Hours,2);break;case"m":xe=en(Be.Minutes,1);break;case"mm":xe=en(Be.Minutes,2);break;case"s":xe=en(Be.Seconds,1);break;case"ss":xe=en(Be.Seconds,2);break;case"S":xe=en(Be.FractionalSeconds,1);break;case"SS":xe=en(Be.FractionalSeconds,2);break;case"SSS":xe=en(Be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":xe=Ve(ft.Short);break;case"ZZZZZ":xe=Ve(ft.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":xe=Ve(ft.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":xe=Ve(ft.Long);break;default:return null}return rn[Q]=xe,xe}(gi);li+=ti?ti(ut,ne,hi):"''"===gi?"'":gi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),li}function he(Q,xe,ne){const He=new Date(0);return He.setFullYear(Q,xe,ne),He.setHours(0,0,0),He}function Ae(Q,xe){const ne=function Me(Q){return(0,e.cg1)(Q)[e.wAp.LocaleId]}(Q);if(Kn[ne]=Kn[ne]||{},Kn[ne][xe])return Kn[ne][xe];let He="";switch(xe){case"shortDate":He=Ue(Q,_e.Short);break;case"mediumDate":He=Ue(Q,_e.Medium);break;case"longDate":He=Ue(Q,_e.Long);break;case"fullDate":He=Ue(Q,_e.Full);break;case"shortTime":He=fe(Q,_e.Short);break;case"mediumTime":He=fe(Q,_e.Medium);break;case"longTime":He=fe(Q,_e.Long);break;case"fullTime":He=fe(Q,_e.Full);break;case"short":const ut=Ae(Q,"shortTime"),Bt=Ae(Q,"shortDate");He=Qe(qe(Q,_e.Short),[ut,Bt]);break;case"medium":const jt=Ae(Q,"mediumTime"),Cn=Ae(Q,"mediumDate");He=Qe(qe(Q,_e.Medium),[jt,Cn]);break;case"long":const hi=Ae(Q,"longTime"),li=Ae(Q,"longDate");He=Qe(qe(Q,_e.Long),[hi,li]);break;case"full":const gi=Ae(Q,"fullTime"),ti=Ae(Q,"fullDate");He=Qe(qe(Q,_e.Full),[gi,ti])}return He&&(Kn[ne][xe]=He),He}function Qe(Q,xe){return xe&&(Q=Q.replace(/\{([^}]+)}/g,function(ne,He){return null!=xe&&He in xe?xe[He]:ne})),Q}function Ot(Q,xe,ne="-",He,ut){let Bt="";(Q<0||ut&&Q<=0)&&(ut?Q=1-Q:(Q=-Q,Bt=ne));let jt=String(Q);for(;jt.length<xe;)jt="0"+jt;return He&&(jt=jt.slice(jt.length-xe)),Bt+jt}function en(Q,xe,ne=0,He=!1,ut=!1){return function(Bt,jt){let Cn=function Xe(Q,xe){switch(Q){case Be.FullYear:return xe.getFullYear();case Be.Month:return xe.getMonth();case Be.Date:return xe.getDate();case Be.Hours:return xe.getHours();case Be.Minutes:return xe.getMinutes();case Be.Seconds:return xe.getSeconds();case Be.FractionalSeconds:return xe.getMilliseconds();case Be.Day:return xe.getDay();default:throw new Error(`Unknown DateType value "${Q}".`)}}(Q,Bt);if((ne>0||Cn>-ne)&&(Cn+=ne),Q===Be.Hours)0===Cn&&-12===ne&&(Cn=12);else if(Q===Be.FractionalSeconds)return function Kt(Q,xe){return Ot(Q,3).substring(0,xe)}(Cn,xe);const hi=je(jt,De.MinusSign);return Ot(Cn,xe,hi,He,ut)}}function wt(Q,xe,ne=F.Format,He=!1){return function(ut,Bt){return function ee(Q,xe,ne,He,ut,Bt){switch(ne){case It.Months:return function Se(Q,xe,ne){const He=(0,e.cg1)(Q),Bt=Ye([He[e.wAp.MonthsFormat],He[e.wAp.MonthsStandalone]],xe);return Ye(Bt,ne)}(xe,ut,He)[Q.getMonth()];case It.Days:return function at(Q,xe,ne){const He=(0,e.cg1)(Q),Bt=Ye([He[e.wAp.DaysFormat],He[e.wAp.DaysStandalone]],xe);return Ye(Bt,ne)}(xe,ut,He)[Q.getDay()];case It.DayPeriods:const jt=Q.getHours(),Cn=Q.getMinutes();if(Bt){const li=function fn(Q){const xe=(0,e.cg1)(Q);return hn(xe),(xe[e.wAp.ExtraData][2]||[]).map(He=>"string"==typeof He?Mt(He):[Mt(He[0]),Mt(He[1])])}(xe),gi=function St(Q,xe,ne){const He=(0,e.cg1)(Q);hn(He);const Bt=Ye([He[e.wAp.ExtraData][0],He[e.wAp.ExtraData][1]],xe)||[];return Ye(Bt,ne)||[]}(xe,ut,He),ti=li.findIndex(ji=>{if(Array.isArray(ji)){const[fi,Ni]=ji,os=jt>=fi.hours&&Cn>=fi.minutes,Io=jt<Ni.hours||jt===Ni.hours&&Cn<Ni.minutes;if(fi.hours<Ni.hours){if(os&&Io)return!0}else if(os||Io)return!0}else if(ji.hours===jt&&ji.minutes===Cn)return!0;return!1});if(-1!==ti)return gi[ti]}return function ht(Q,xe,ne){const He=(0,e.cg1)(Q),Bt=Ye([He[e.wAp.DayPeriodsFormat],He[e.wAp.DayPeriodsStandalone]],xe);return Ye(Bt,ne)}(xe,ut,He)[jt<12?0:1];case It.Eras:return function $(Q,xe){return Ye((0,e.cg1)(Q)[e.wAp.Eras],xe)}(xe,He)[Q.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ne}`)}}(ut,Bt,Q,xe,ne,He)}}function Ve(Q){return function(xe,ne,He){const ut=-1*He,Bt=je(ne,De.MinusSign),jt=ut>0?Math.floor(ut/60):Math.ceil(ut/60);switch(Q){case ft.Short:return(ut>=0?"+":"")+Ot(jt,2,Bt)+Ot(Math.abs(ut%60),2,Bt);case ft.ShortGMT:return"GMT"+(ut>=0?"+":"")+Ot(jt,1,Bt);case ft.Long:return"GMT"+(ut>=0?"+":"")+Ot(jt,2,Bt)+":"+Ot(Math.abs(ut%60),2,Bt);case ft.Extended:return 0===He?"Z":(ut>=0?"+":"")+Ot(jt,2,Bt)+":"+Ot(Math.abs(ut%60),2,Bt);default:throw new Error(`Unknown zone width "${Q}"`)}}}function $n(Q){return he(Q.getFullYear(),Q.getMonth(),Q.getDate()+(4-Q.getDay()))}function Wi(Q,xe=!1){return function(ne,He){let ut;if(xe){const Bt=new Date(ne.getFullYear(),ne.getMonth(),1).getDay()-1,jt=ne.getDate();ut=1+Math.floor((jt+Bt)/7)}else{const Bt=$n(ne),jt=function sn(Q){const xe=he(Q,0,1).getDay();return he(Q,0,1+(xe<=4?4:11)-xe)}(Bt.getFullYear()),Cn=Bt.getTime()-jt.getTime();ut=1+Math.round(Cn/6048e5)}return Ot(ut,Q,je(He,De.MinusSign))}}function kt(Q,xe=!1){return function(ne,He){return Ot($n(ne).getFullYear(),Q,je(He,De.MinusSign),xe)}}const rn={};function yt(Q,xe){Q=Q.replace(/:/g,"");const ne=Date.parse("Jan 01, 1970 00:00:00 "+Q)/6e4;return isNaN(ne)?xe:ne}function di(Q){return Q instanceof Date&&!isNaN(Q.valueOf())}const Ci=/^(\d+)?\.((\d+)(-(\d+))?)?$/,X="0";function Et(Q,xe,ne,He,ut,Bt,jt=!1){let Cn="",hi=!1;if(isFinite(Q)){let li=function In(Q){let He,ut,Bt,jt,Cn,xe=Math.abs(Q)+"",ne=0;for((ut=xe.indexOf("."))>-1&&(xe=xe.replace(".","")),(Bt=xe.search(/e/i))>0?(ut<0&&(ut=Bt),ut+=+xe.slice(Bt+1),xe=xe.substring(0,Bt)):ut<0&&(ut=xe.length),Bt=0;xe.charAt(Bt)===X;Bt++);if(Bt===(Cn=xe.length))He=[0],ut=1;else{for(Cn--;xe.charAt(Cn)===X;)Cn--;for(ut-=Bt,He=[],jt=0;Bt<=Cn;Bt++,jt++)He[jt]=Number(xe.charAt(Bt))}return ut>22&&(He=He.splice(0,21),ne=ut-1,ut=1),{digits:He,exponent:ne,integerLen:ut}}(Q);jt&&(li=function An(Q){if(0===Q.digits[0])return Q;const xe=Q.digits.length-Q.integerLen;return Q.exponent?Q.exponent+=2:(0===xe?Q.digits.push(0,0):1===xe&&Q.digits.push(0),Q.integerLen+=2),Q}(li));let gi=xe.minInt,ti=xe.minFrac,ji=xe.maxFrac;if(Bt){const Is=Bt.match(Ci);if(null===Is)throw new Error(`${Bt} is not a valid digit info`);const jo=Is[1],Ps=Is[3],Ee=Is[5];null!=jo&&(gi=Ti(jo)),null!=Ps&&(ti=Ti(Ps)),null!=Ee?ji=Ti(Ee):null!=Ps&&ti>ji&&(ji=ti)}!function Jn(Q,xe,ne){if(xe>ne)throw new Error(`The minimum number of digits after fraction (${xe}) is higher than the maximum (${ne}).`);let He=Q.digits,ut=He.length-Q.integerLen;const Bt=Math.min(Math.max(xe,ut),ne);let jt=Bt+Q.integerLen,Cn=He[jt];if(jt>0){He.splice(Math.max(Q.integerLen,jt));for(let ti=jt;ti<He.length;ti++)He[ti]=0}else{ut=Math.max(0,ut),Q.integerLen=1,He.length=Math.max(1,jt=Bt+1),He[0]=0;for(let ti=1;ti<jt;ti++)He[ti]=0}if(Cn>=5)if(jt-1<0){for(let ti=0;ti>jt;ti--)He.unshift(0),Q.integerLen++;He.unshift(1),Q.integerLen++}else He[jt-1]++;for(;ut<Math.max(0,Bt);ut++)He.push(0);let hi=0!==Bt;const li=xe+Q.integerLen,gi=He.reduceRight(function(ti,ji,fi,Ni){return Ni[fi]=(ji+=ti)<10?ji:ji-10,hi&&(0===Ni[fi]&&fi>=li?Ni.pop():hi=!1),ji>=10?1:0},0);gi&&(He.unshift(gi),Q.integerLen++)}(li,ti,ji);let fi=li.digits,Ni=li.integerLen;const os=li.exponent;let Io=[];for(hi=fi.every(Is=>!Is);Ni<gi;Ni++)fi.unshift(0);for(;Ni<0;Ni++)fi.unshift(0);Ni>0?Io=fi.splice(Ni,fi.length):(Io=fi,fi=[0]);const ss=[];for(fi.length>=xe.lgSize&&ss.unshift(fi.splice(-xe.lgSize,fi.length).join(""));fi.length>xe.gSize;)ss.unshift(fi.splice(-xe.gSize,fi.length).join(""));fi.length&&ss.unshift(fi.join("")),Cn=ss.join(je(ne,He)),Io.length&&(Cn+=je(ne,ut)+Io.join("")),os&&(Cn+=je(ne,De.Exponential)+"+"+os)}else Cn=je(ne,De.Infinity);return Cn=Q<0&&!hi?xe.negPre+Cn+xe.negSuf:xe.posPre+Cn+xe.posSuf,Cn}function yn(Q,xe="-"){const ne={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},He=Q.split(";"),ut=He[0],Bt=He[1],jt=-1!==ut.indexOf(".")?ut.split("."):[ut.substring(0,ut.lastIndexOf(X)+1),ut.substring(ut.lastIndexOf(X)+1)],Cn=jt[0],hi=jt[1]||"";ne.posPre=Cn.substring(0,Cn.indexOf("#"));for(let gi=0;gi<hi.length;gi++){const ti=hi.charAt(gi);ti===X?ne.minFrac=ne.maxFrac=gi+1:"#"===ti?ne.maxFrac=gi+1:ne.posSuf+=ti}const li=Cn.split(",");if(ne.gSize=li[1]?li[1].length:0,ne.lgSize=li[2]||li[1]?(li[2]||li[1]).length:0,Bt){const gi=ut.length-ne.posPre.length-ne.posSuf.length,ti=Bt.indexOf("#");ne.negPre=Bt.substring(0,ti).replace(/'/g,""),ne.negSuf=Bt.slice(ti+gi).replace(/'/g,"")}else ne.negPre=xe+ne.posPre,ne.negSuf=ne.posSuf;return ne}function Ti(Q){const xe=parseInt(Q);if(isNaN(xe))throw new Error("Invalid integer literal when parsing "+Q);return xe}function _o(Q,xe,ne){return(0,e.dwT)(Q,xe,ne)}function Yi(Q,xe){xe=encodeURIComponent(xe);for(const ne of Q.split(";")){const He=ne.indexOf("="),[ut,Bt]=-1==He?[ne,""]:[ne.slice(0,He),ne.slice(He+1)];if(ut.trim()===xe)return decodeURIComponent(Bt)}return null}let Fi=(()=>{class Q{constructor(ne,He,ut,Bt){this._iterableDiffers=ne,this._keyValueDiffers=He,this._ngEl=ut,this._renderer=Bt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(ne){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof ne?ne.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(ne){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof ne?ne.split(/\s+/):ne,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const ne=this._iterableDiffer.diff(this._rawClass);ne&&this._applyIterableChanges(ne)}else if(this._keyValueDiffer){const ne=this._keyValueDiffer.diff(this._rawClass);ne&&this._applyKeyValueChanges(ne)}}_applyKeyValueChanges(ne){ne.forEachAddedItem(He=>this._toggleClass(He.key,He.currentValue)),ne.forEachChangedItem(He=>this._toggleClass(He.key,He.currentValue)),ne.forEachRemovedItem(He=>{He.previousValue&&this._toggleClass(He.key,!1)})}_applyIterableChanges(ne){ne.forEachAddedItem(He=>{if("string"!=typeof He.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(He.item)}`);this._toggleClass(He.item,!0)}),ne.forEachRemovedItem(He=>this._toggleClass(He.item,!1))}_applyClasses(ne){ne&&(Array.isArray(ne)||ne instanceof Set?ne.forEach(He=>this._toggleClass(He,!0)):Object.keys(ne).forEach(He=>this._toggleClass(He,!!ne[He])))}_removeClasses(ne){ne&&(Array.isArray(ne)||ne instanceof Set?ne.forEach(He=>this._toggleClass(He,!1)):Object.keys(ne).forEach(He=>this._toggleClass(He,!1)))}_toggleClass(ne,He){(ne=ne.trim())&&ne.split(/\s+/g).forEach(ut=>{He?this._renderer.addClass(this._ngEl.nativeElement,ut):this._renderer.removeClass(this._ngEl.nativeElement,ut)})}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Q})();class Ji{constructor(xe,ne,He,ut){this.$implicit=xe,this.ngForOf=ne,this.index=He,this.count=ut}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bi=(()=>{class Q{constructor(ne,He,ut){this._viewContainer=ne,this._template=He,this._differs=ut,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ne){this._ngForOf=ne,this._ngForOfDirty=!0}set ngForTrackBy(ne){this._trackByFn=ne}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(ne){ne&&(this._template=ne)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ne=this._ngForOf;!this._differ&&ne&&(this._differ=this._differs.find(ne).create(this.ngForTrackBy))}if(this._differ){const ne=this._differ.diff(this._ngForOf);ne&&this._applyChanges(ne)}}_applyChanges(ne){const He=this._viewContainer;ne.forEachOperation((ut,Bt,jt)=>{if(null==ut.previousIndex)He.createEmbeddedView(this._template,new Ji(ut.item,this._ngForOf,-1,-1),null===jt?void 0:jt);else if(null==jt)He.remove(null===Bt?void 0:Bt);else if(null!==Bt){const Cn=He.get(Bt);He.move(Cn,jt),To(Cn,ut)}});for(let ut=0,Bt=He.length;ut<Bt;ut++){const Cn=He.get(ut).context;Cn.index=ut,Cn.count=Bt,Cn.ngForOf=this._ngForOf}ne.forEachIdentityChange(ut=>{To(He.get(ut.currentIndex),ut)})}static ngTemplateContextGuard(ne,He){return!0}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Q})();function To(Q,xe){Q.context.$implicit=xe.item}let ki=(()=>{class Q{constructor(ne,He){this._viewContainer=ne,this._context=new Ii,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=He}set ngIf(ne){this._context.$implicit=this._context.ngIf=ne,this._updateView()}set ngIfThen(ne){kn("ngIfThen",ne),this._thenTemplateRef=ne,this._thenViewRef=null,this._updateView()}set ngIfElse(ne){kn("ngIfElse",ne),this._elseTemplateRef=ne,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ne,He){return!0}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.s_b),e.Y36(e.Rgc))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Q})();class Ii{constructor(){this.$implicit=null,this.ngIf=null}}function kn(Q,xe){if(xe&&!xe.createEmbeddedView)throw new Error(`${Q} must be a TemplateRef, but received '${(0,e.AaK)(xe)}'.`)}class zt{constructor(xe,ne){this._viewContainerRef=xe,this._templateRef=ne,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(xe){xe&&!this._created?this.create():!xe&&this._created&&this.destroy()}}let an=(()=>{class Q{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ne){this._ngSwitch=ne,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ne){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(ne)}_matchCase(ne){const He=ne==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||He,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),He}_updateDefaultCases(ne){if(this._defaultViews&&ne!==this._defaultUsed){this._defaultUsed=ne;for(let He=0;He<this._defaultViews.length;He++)this._defaultViews[He].enforceState(ne)}}}return Q.\u0275fac=function(ne){return new(ne||Q)},Q.\u0275dir=e.lG2({type:Q,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Q})(),as=(()=>{class Q{constructor(ne,He,ut){this.ngSwitch=ut,ut._addCase(),this._view=new zt(ne,He)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(an,9))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Q})(),Hs=(()=>{class Q{constructor(ne,He,ut){ut._addDefault(new zt(ne,He))}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(an,9))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Q})(),Jo=(()=>{class Q{constructor(ne,He,ut){this._ngEl=ne,this._differs=He,this._renderer=ut,this._ngStyle=null,this._differ=null}set ngStyle(ne){this._ngStyle=ne,!this._differ&&ne&&(this._differ=this._differs.find(ne).create())}ngDoCheck(){if(this._differ){const ne=this._differ.diff(this._ngStyle);ne&&this._applyChanges(ne)}}_setStyle(ne,He){const[ut,Bt]=ne.split("."),jt=-1===ut.indexOf("-")?void 0:e.JOm.DashCase;null!=He?this._renderer.setStyle(this._ngEl.nativeElement,ut,Bt?`${He}${Bt}`:He,jt):this._renderer.removeStyle(this._ngEl.nativeElement,ut,jt)}_applyChanges(ne){ne.forEachRemovedItem(He=>this._setStyle(He.key,null)),ne.forEachAddedItem(He=>this._setStyle(He.key,He.currentValue)),ne.forEachChangedItem(He=>this._setStyle(He.key,He.currentValue))}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Qsj))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Q})(),Rr=(()=>{class Q{constructor(ne){this._viewContainerRef=ne,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ne){if(ne.ngTemplateOutlet||ne.ngTemplateOutletInjector){const He=this._viewContainerRef;if(this._viewRef&&He.remove(He.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ut,ngTemplateOutletContext:Bt,ngTemplateOutletInjector:jt}=this;this._viewRef=He.createEmbeddedView(ut,Bt,jt?{injector:jt}:void 0)}else this._viewRef=null}else this._viewRef&&ne.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.s_b))},Q.\u0275dir=e.lG2({type:Q,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]}),Q})();function Co(Q,xe){return new e.vHH(2100,!1)}class fr{createSubscription(xe,ne){return xe.subscribe({next:ne,error:He=>{throw He}})}dispose(xe){xe.unsubscribe()}}class ea{createSubscription(xe,ne){return xe.then(ne,He=>{throw He})}dispose(xe){}}const $s=new ea,mr=new fr;let Vs=(()=>{class Q{constructor(ne){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ne}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ne){return this._obj?ne!==this._obj?(this._dispose(),this.transform(ne)):this._latestValue:(ne&&this._subscribe(ne),this._latestValue)}_subscribe(ne){this._obj=ne,this._strategy=this._selectStrategy(ne),this._subscription=this._strategy.createSubscription(ne,He=>this._updateLatestValue(ne,He))}_selectStrategy(ne){if((0,e.QGY)(ne))return $s;if((0,e.F4k)(ne))return mr;throw Co()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ne,He){ne===this._obj&&(this._latestValue=He,this._ref.markForCheck())}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.sBO,16))},Q.\u0275pipe=e.Yjl({name:"async",type:Q,pure:!1,standalone:!0}),Q})();const qs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let eo=(()=>{class Q{transform(ne){if(null==ne)return null;if("string"!=typeof ne)throw Co();return ne.replace(qs,He=>He[0].toUpperCase()+He.slice(1).toLowerCase())}}return Q.\u0275fac=function(ne){return new(ne||Q)},Q.\u0275pipe=e.Yjl({name:"titlecase",type:Q,pure:!0,standalone:!0}),Q})();const wo=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let si=(()=>{class Q{constructor(ne,He){this.locale=ne,this.defaultTimezone=He}transform(ne,He="mediumDate",ut,Bt){var jt;if(null==ne||""===ne||ne!=ne)return null;try{return S(ne,He,Bt||this.locale,null!==(jt=null!=ut?ut:this.defaultTimezone)&&void 0!==jt?jt:void 0)}catch(Cn){throw Co()}}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.soG,16),e.Y36(wo,24))},Q.\u0275pipe=e.Yjl({name:"date",type:Q,pure:!0,standalone:!0}),Q})(),gs=(()=>{class Q{constructor(ne){this.differs=ne,this.keyValues=[],this.compareFn=Po}transform(ne,He=Po){if(!ne||!(ne instanceof Map)&&"object"!=typeof ne)return null;this.differ||(this.differ=this.differs.find(ne).create());const ut=this.differ.diff(ne),Bt=He!==this.compareFn;return ut&&(this.keyValues=[],ut.forEachItem(jt=>{this.keyValues.push(function er(Q,xe){return{key:Q,value:xe}}(jt.key,jt.currentValue))})),(ut||Bt)&&(this.keyValues.sort(He),this.compareFn=He),this.keyValues}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.aQg,16))},Q.\u0275pipe=e.Yjl({name:"keyvalue",type:Q,pure:!1,standalone:!0}),Q})();function Po(Q,xe){const ne=Q.key,He=xe.key;if(ne===He)return 0;if(void 0===ne)return 1;if(void 0===He)return-1;if(null===ne)return 1;if(null===He)return-1;if("string"==typeof ne&&"string"==typeof He)return ne<He?-1:1;if("number"==typeof ne&&"number"==typeof He)return ne-He;if("boolean"==typeof ne&&"boolean"==typeof He)return ne<He?-1:1;const ut=String(ne),Bt=String(He);return ut==Bt?0:ut<Bt?-1:1}let Ro=(()=>{class Q{constructor(ne){this._locale=ne}transform(ne,He,ut){if(!tr(ne))return null;ut=ut||this._locale;try{return function bn(Q,xe,ne){return Et(Q,yn(mt(xe,V.Decimal),je(xe,De.MinusSign)),xe,De.Group,De.Decimal,ne)}(Lo(ne),ut,He)}catch(Bt){throw Co()}}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.soG,16))},Q.\u0275pipe=e.Yjl({name:"number",type:Q,pure:!0,standalone:!0}),Q})(),xo=(()=>{class Q{constructor(ne,He="USD"){this._locale=ne,this._defaultCurrencyCode=He}transform(ne,He=this._defaultCurrencyCode,ut="symbol",Bt,jt){if(!tr(ne))return null;jt=jt||this._locale,"boolean"==typeof ut&&(ut=ut?"symbol":"code");let Cn=He||this._defaultCurrencyCode;"code"!==ut&&(Cn="symbol"===ut||"symbol-narrow"===ut?function Ft(Q,xe,ne="en"){const He=function ot(Q){return(0,e.cg1)(Q)[e.wAp.Currencies]}(ne)[Q]||ve[Q]||[],ut=He[1];return"narrow"===xe&&"string"==typeof ut?ut:He[0]||Q}(Cn,"symbol"===ut?"wide":"narrow",jt):ut);try{return function Vt(Q,xe,ne,He,ut){const jt=yn(mt(xe,V.Currency),je(xe,De.MinusSign));return jt.minFrac=function Vn(Q){let xe;const ne=ve[Q];return ne&&(xe=ne[2]),"number"==typeof xe?xe:2}(He),jt.maxFrac=jt.minFrac,Et(Q,jt,xe,De.CurrencyGroup,De.CurrencyDecimal,ut).replace("\xa4",ne).replace("\xa4","").trim()}(Lo(ne),jt,Cn,He,Bt)}catch(hi){throw Co()}}}return Q.\u0275fac=function(ne){return new(ne||Q)(e.Y36(e.soG,16),e.Y36(e.EJc,16))},Q.\u0275pipe=e.Yjl({name:"currency",type:Q,pure:!0,standalone:!0}),Q})();function tr(Q){return!(null==Q||""===Q||Q!=Q)}function Lo(Q){if("string"==typeof Q&&!isNaN(Number(Q)-parseFloat(Q)))return Number(Q);if("number"!=typeof Q)throw new Error(`${Q} is not a number`);return Q}let Zs=(()=>{class Q{transform(ne,He,ut){if(null==ne)return null;if(!this.supports(ne))throw Co();return ne.slice(He,ut)}supports(ne){return"string"==typeof ne||Array.isArray(ne)}}return Q.\u0275fac=function(ne){return new(ne||Q)},Q.\u0275pipe=e.Yjl({name:"slice",type:Q,pure:!1,standalone:!0}),Q})(),fs=(()=>{class Q{}return Q.\u0275fac=function(ne){return new(ne||Q)},Q.\u0275mod=e.oAB({type:Q}),Q.\u0275inj=e.cJS({}),Q})();const nr="browser";function ir(Q){return Q===nr}function Zi(Q){return"server"===Q}let vo=(()=>{class Q{}return Q.\u0275prov=(0,e.Yz7)({token:Q,providedIn:"root",factory:()=>new vr((0,e.LFG)(U),window)}),Q})();class vr{constructor(xe,ne){this.document=xe,this.window=ne,this.offset=()=>[0,0]}setOffset(xe){this.offset=Array.isArray(xe)?()=>xe:xe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(xe){this.supportsScrolling()&&this.window.scrollTo(xe[0],xe[1])}scrollToAnchor(xe){if(!this.supportsScrolling())return;const ne=function bo(Q,xe){const ne=Q.getElementById(xe)||Q.getElementsByName(xe)[0];if(ne)return ne;if("function"==typeof Q.createTreeWalker&&Q.body&&(Q.body.createShadowRoot||Q.body.attachShadow)){const He=Q.createTreeWalker(Q.body,NodeFilter.SHOW_ELEMENT);let ut=He.currentNode;for(;ut;){const Bt=ut.shadowRoot;if(Bt){const jt=Bt.getElementById(xe)||Bt.querySelector(`[name="${xe}"]`);if(jt)return jt}ut=He.nextNode()}}return null}(this.document,xe);ne&&(this.scrollToElement(ne),ne.focus())}setHistoryScrollRestoration(xe){if(this.supportScrollRestoration()){const ne=this.window.history;ne&&ne.scrollRestoration&&(ne.scrollRestoration=xe)}}scrollToElement(xe){const ne=xe.getBoundingClientRect(),He=ne.left+this.window.pageXOffset,ut=ne.top+this.window.pageYOffset,Bt=this.offset();this.window.scrollTo(He-Bt[0],ut-Bt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const xe=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!xe||!xe.writable&&!xe.set)}catch(xe){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(xe){return!1}}}function cs(Q){return Object.getOwnPropertyDescriptor(Q,"scrollRestoration")}class Nr{}},520:(Ht,et,_)=>{_.d(et,{JF:()=>Vn,eN:()=>Me});var e=_(9808),s=_(5e3),g=_(9646),H=_(9751),L=_(4351),I=_(9300),U=_(4004);class le{}class re{}class K{constructor(ft){this.normalizedNames=new Map,this.lazyUpdate=null,ft?this.lazyInit="string"==typeof ft?()=>{this.headers=new Map,ft.split("\n").forEach(Be=>{const It=Be.indexOf(":");if(It>0){const S=Be.slice(0,It),he=S.toLowerCase(),Ae=Be.slice(It+1).trim();this.maybeSetNormalizedName(S,he),this.headers.has(he)?this.headers.get(he).push(Ae):this.headers.set(he,[Ae])}})}:()=>{this.headers=new Map,Object.keys(ft).forEach(Be=>{let It=ft[Be];const S=Be.toLowerCase();"string"==typeof It&&(It=[It]),It.length>0&&(this.headers.set(S,It),this.maybeSetNormalizedName(Be,S))})}:this.headers=new Map}has(ft){return this.init(),this.headers.has(ft.toLowerCase())}get(ft){this.init();const Be=this.headers.get(ft.toLowerCase());return Be&&Be.length>0?Be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ft){return this.init(),this.headers.get(ft.toLowerCase())||null}append(ft,Be){return this.clone({name:ft,value:Be,op:"a"})}set(ft,Be){return this.clone({name:ft,value:Be,op:"s"})}delete(ft,Be){return this.clone({name:ft,value:Be,op:"d"})}maybeSetNormalizedName(ft,Be){this.normalizedNames.has(Be)||this.normalizedNames.set(Be,ft)}init(){this.lazyInit&&(this.lazyInit instanceof K?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ft=>this.applyUpdate(ft)),this.lazyUpdate=null))}copyFrom(ft){ft.init(),Array.from(ft.headers.keys()).forEach(Be=>{this.headers.set(Be,ft.headers.get(Be)),this.normalizedNames.set(Be,ft.normalizedNames.get(Be))})}clone(ft){const Be=new K;return Be.lazyInit=this.lazyInit&&this.lazyInit instanceof K?this.lazyInit:this,Be.lazyUpdate=(this.lazyUpdate||[]).concat([ft]),Be}applyUpdate(ft){const Be=ft.name.toLowerCase();switch(ft.op){case"a":case"s":let It=ft.value;if("string"==typeof It&&(It=[It]),0===It.length)return;this.maybeSetNormalizedName(ft.name,Be);const S=("a"===ft.op?this.headers.get(Be):void 0)||[];S.push(...It),this.headers.set(Be,S);break;case"d":const he=ft.value;if(he){let Ae=this.headers.get(Be);if(!Ae)return;Ae=Ae.filter(Qe=>-1===he.indexOf(Qe)),0===Ae.length?(this.headers.delete(Be),this.normalizedNames.delete(Be)):this.headers.set(Be,Ae)}else this.headers.delete(Be),this.normalizedNames.delete(Be)}}forEach(ft){this.init(),Array.from(this.normalizedNames.keys()).forEach(Be=>ft(this.normalizedNames.get(Be),this.headers.get(Be)))}}class ue{encodeKey(ft){return we(ft)}encodeValue(ft){return we(ft)}decodeKey(ft){return decodeURIComponent(ft)}decodeValue(ft){return decodeURIComponent(ft)}}const Te=/%(\d[a-f0-9])/gi,ke={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function we(Ut){return encodeURIComponent(Ut).replace(Te,(ft,Be)=>{var It;return null!==(It=ke[Be])&&void 0!==It?It:ft})}function Fe(Ut){return`${Ut}`}class Y{constructor(ft={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ft.encoder||new ue,ft.fromString){if(ft.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Oe(Ut,ft){const Be=new Map;return Ut.length>0&&Ut.replace(/^\?/,"").split("&").forEach(S=>{const he=S.indexOf("="),[Ae,Qe]=-1==he?[ft.decodeKey(S),""]:[ft.decodeKey(S.slice(0,he)),ft.decodeValue(S.slice(he+1))],Ot=Be.get(Ae)||[];Ot.push(Qe),Be.set(Ae,Ot)}),Be}(ft.fromString,this.encoder)}else ft.fromObject?(this.map=new Map,Object.keys(ft.fromObject).forEach(Be=>{const It=ft.fromObject[Be],S=Array.isArray(It)?It.map(Fe):[Fe(It)];this.map.set(Be,S)})):this.map=null}has(ft){return this.init(),this.map.has(ft)}get(ft){this.init();const Be=this.map.get(ft);return Be?Be[0]:null}getAll(ft){return this.init(),this.map.get(ft)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ft,Be){return this.clone({param:ft,value:Be,op:"a"})}appendAll(ft){const Be=[];return Object.keys(ft).forEach(It=>{const S=ft[It];Array.isArray(S)?S.forEach(he=>{Be.push({param:It,value:he,op:"a"})}):Be.push({param:It,value:S,op:"a"})}),this.clone(Be)}set(ft,Be){return this.clone({param:ft,value:Be,op:"s"})}delete(ft,Be){return this.clone({param:ft,value:Be,op:"d"})}toString(){return this.init(),this.keys().map(ft=>{const Be=this.encoder.encodeKey(ft);return this.map.get(ft).map(It=>Be+"="+this.encoder.encodeValue(It)).join("&")}).filter(ft=>""!==ft).join("&")}clone(ft){const Be=new Y({encoder:this.encoder});return Be.cloneFrom=this.cloneFrom||this,Be.updates=(this.updates||[]).concat(ft),Be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ft=>this.map.set(ft,this.cloneFrom.map.get(ft))),this.updates.forEach(ft=>{switch(ft.op){case"a":case"s":const Be=("a"===ft.op?this.map.get(ft.param):void 0)||[];Be.push(Fe(ft.value)),this.map.set(ft.param,Be);break;case"d":if(void 0===ft.value){this.map.delete(ft.param);break}{let It=this.map.get(ft.param)||[];const S=It.indexOf(Fe(ft.value));-1!==S&&It.splice(S,1),It.length>0?this.map.set(ft.param,It):this.map.delete(ft.param)}}}),this.cloneFrom=this.updates=null)}}class de{constructor(){this.map=new Map}set(ft,Be){return this.map.set(ft,Be),this}get(ft){return this.map.has(ft)||this.map.set(ft,ft.defaultValue()),this.map.get(ft)}delete(ft){return this.map.delete(ft),this}has(ft){return this.map.has(ft)}keys(){return this.map.keys()}}function O(Ut){return"undefined"!=typeof ArrayBuffer&&Ut instanceof ArrayBuffer}function ye(Ut){return"undefined"!=typeof Blob&&Ut instanceof Blob}function Ce(Ut){return"undefined"!=typeof FormData&&Ut instanceof FormData}class V{constructor(ft,Be,It,S){let he;if(this.url=Be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ft.toUpperCase(),function N(Ut){switch(Ut){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||S?(this.body=void 0!==It?It:null,he=S):he=It,he&&(this.reportProgress=!!he.reportProgress,this.withCredentials=!!he.withCredentials,he.responseType&&(this.responseType=he.responseType),he.headers&&(this.headers=he.headers),he.context&&(this.context=he.context),he.params&&(this.params=he.params)),this.headers||(this.headers=new K),this.context||(this.context=new de),this.params){const Ae=this.params.toString();if(0===Ae.length)this.urlWithParams=Be;else{const Qe=Be.indexOf("?");this.urlWithParams=Be+(-1===Qe?"?":Qe<Be.length-1?"&":"")+Ae}}else this.params=new Y,this.urlWithParams=Be}serializeBody(){return null===this.body?null:O(this.body)||ye(this.body)||Ce(this.body)||function ve(Ut){return"undefined"!=typeof URLSearchParams&&Ut instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Y?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ce(this.body)?null:ye(this.body)?this.body.type||null:O(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Y?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ft={}){var Be;const It=ft.method||this.method,S=ft.url||this.url,he=ft.responseType||this.responseType,Ae=void 0!==ft.body?ft.body:this.body,Qe=void 0!==ft.withCredentials?ft.withCredentials:this.withCredentials,Ot=void 0!==ft.reportProgress?ft.reportProgress:this.reportProgress;let Kt=ft.headers||this.headers,en=ft.params||this.params;const Xe=null!==(Be=ft.context)&&void 0!==Be?Be:this.context;return void 0!==ft.setHeaders&&(Kt=Object.keys(ft.setHeaders).reduce((wt,ee)=>wt.set(ee,ft.setHeaders[ee]),Kt)),ft.setParams&&(en=Object.keys(ft.setParams).reduce((wt,ee)=>wt.set(ee,ft.setParams[ee]),en)),new V(It,S,Ae,{params:en,headers:Kt,context:Xe,reportProgress:Ot,responseType:he,withCredentials:Qe})}}var w=(()=>((w=w||{})[w.Sent=0]="Sent",w[w.UploadProgress=1]="UploadProgress",w[w.ResponseHeader=2]="ResponseHeader",w[w.DownloadProgress=3]="DownloadProgress",w[w.Response=4]="Response",w[w.User=5]="User",w))();class F{constructor(ft,Be=200,It="OK"){this.headers=ft.headers||new K,this.status=void 0!==ft.status?ft.status:Be,this.statusText=ft.statusText||It,this.url=ft.url||null,this.ok=this.status>=200&&this.status<300}}class q extends F{constructor(ft={}){super(ft),this.type=w.ResponseHeader}clone(ft={}){return new q({headers:ft.headers||this.headers,status:void 0!==ft.status?ft.status:this.status,statusText:ft.statusText||this.statusText,url:ft.url||this.url||void 0})}}class _e extends F{constructor(ft={}){super(ft),this.type=w.Response,this.body=void 0!==ft.body?ft.body:null}clone(ft={}){return new _e({body:void 0!==ft.body?ft.body:this.body,headers:ft.headers||this.headers,status:void 0!==ft.status?ft.status:this.status,statusText:ft.statusText||this.statusText,url:ft.url||this.url||void 0})}}class De extends F{constructor(ft){super(ft,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ft.url||"(unknown url)"}`:`Http failure response for ${ft.url||"(unknown url)"}: ${ft.status} ${ft.statusText}`,this.error=ft.error||null}}function Le(Ut,ft){return{body:ft,headers:Ut.headers,context:Ut.context,observe:Ut.observe,params:Ut.params,reportProgress:Ut.reportProgress,responseType:Ut.responseType,withCredentials:Ut.withCredentials}}let Me=(()=>{class Ut{constructor(Be){this.handler=Be}request(Be,It,S={}){let he;if(Be instanceof V)he=Be;else{let Ot,Kt;Ot=S.headers instanceof K?S.headers:new K(S.headers),S.params&&(Kt=S.params instanceof Y?S.params:new Y({fromObject:S.params})),he=new V(Be,It,void 0!==S.body?S.body:null,{headers:Ot,context:S.context,params:Kt,reportProgress:S.reportProgress,responseType:S.responseType||"json",withCredentials:S.withCredentials})}const Ae=(0,g.of)(he).pipe((0,L.b)(Ot=>this.handler.handle(Ot)));if(Be instanceof V||"events"===S.observe)return Ae;const Qe=Ae.pipe((0,I.h)(Ot=>Ot instanceof _e));switch(S.observe||"body"){case"body":switch(he.responseType){case"arraybuffer":return Qe.pipe((0,U.U)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ot.body}));case"blob":return Qe.pipe((0,U.U)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof Blob))throw new Error("Response is not a Blob.");return Ot.body}));case"text":return Qe.pipe((0,U.U)(Ot=>{if(null!==Ot.body&&"string"!=typeof Ot.body)throw new Error("Response is not a string.");return Ot.body}));default:return Qe.pipe((0,U.U)(Ot=>Ot.body))}case"response":return Qe;default:throw new Error(`Unreachable: unhandled observe type ${S.observe}}`)}}delete(Be,It={}){return this.request("DELETE",Be,It)}get(Be,It={}){return this.request("GET",Be,It)}head(Be,It={}){return this.request("HEAD",Be,It)}jsonp(Be,It){return this.request("JSONP",Be,{params:(new Y).append(It,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Be,It={}){return this.request("OPTIONS",Be,It)}patch(Be,It,S={}){return this.request("PATCH",Be,Le(S,It))}post(Be,It,S={}){return this.request("POST",Be,Le(S,It))}put(Be,It,S={}){return this.request("PUT",Be,Le(S,It))}}return Ut.\u0275fac=function(Be){return new(Be||Ut)(s.LFG(le))},Ut.\u0275prov=s.Yz7({token:Ut,factory:Ut.\u0275fac}),Ut})();class ht{constructor(ft,Be){this.next=ft,this.interceptor=Be}handle(ft){return this.interceptor.intercept(ft,this.next)}}const at=new s.OlP("HTTP_INTERCEPTORS");let Se=(()=>{class Ut{intercept(Be,It){return It.handle(Be)}}return Ut.\u0275fac=function(Be){return new(Be||Ut)},Ut.\u0275prov=s.Yz7({token:Ut,factory:Ut.\u0275fac}),Ut})();const st=/^\)\]\}',?\n/;let ot=(()=>{class Ut{constructor(Be){this.xhrFactory=Be}handle(Be){if("JSONP"===Be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new H.y(It=>{const S=this.xhrFactory.build();if(S.open(Be.method,Be.urlWithParams),Be.withCredentials&&(S.withCredentials=!0),Be.headers.forEach((ee,Ve)=>S.setRequestHeader(ee,Ve.join(","))),Be.headers.has("Accept")||S.setRequestHeader("Accept","application/json, text/plain, */*"),!Be.headers.has("Content-Type")){const ee=Be.detectContentTypeHeader();null!==ee&&S.setRequestHeader("Content-Type",ee)}if(Be.responseType){const ee=Be.responseType.toLowerCase();S.responseType="json"!==ee?ee:"text"}const he=Be.serializeBody();let Ae=null;const Qe=()=>{if(null!==Ae)return Ae;const ee=S.statusText||"OK",Ve=new K(S.getAllResponseHeaders()),ct=function xt(Ut){return"responseURL"in Ut&&Ut.responseURL?Ut.responseURL:/^X-Request-URL:/m.test(Ut.getAllResponseHeaders())?Ut.getResponseHeader("X-Request-URL"):null}(S)||Be.url;return Ae=new q({headers:Ve,status:S.status,statusText:ee,url:ct}),Ae},Ot=()=>{let{headers:ee,status:Ve,statusText:ct,url:Ct}=Qe(),sn=null;204!==Ve&&(sn=void 0===S.response?S.responseText:S.response),0===Ve&&(Ve=sn?200:0);let $n=Ve>=200&&Ve<300;if("json"===Be.responseType&&"string"==typeof sn){const Wi=sn;sn=sn.replace(st,"");try{sn=""!==sn?JSON.parse(sn):null}catch(kt){sn=Wi,$n&&($n=!1,sn={error:kt,text:sn})}}$n?(It.next(new _e({body:sn,headers:ee,status:Ve,statusText:ct,url:Ct||void 0})),It.complete()):It.error(new De({error:sn,headers:ee,status:Ve,statusText:ct,url:Ct||void 0}))},Kt=ee=>{const{url:Ve}=Qe(),ct=new De({error:ee,status:S.status||0,statusText:S.statusText||"Unknown Error",url:Ve||void 0});It.error(ct)};let en=!1;const Xe=ee=>{en||(It.next(Qe()),en=!0);let Ve={type:w.DownloadProgress,loaded:ee.loaded};ee.lengthComputable&&(Ve.total=ee.total),"text"===Be.responseType&&!!S.responseText&&(Ve.partialText=S.responseText),It.next(Ve)},wt=ee=>{let Ve={type:w.UploadProgress,loaded:ee.loaded};ee.lengthComputable&&(Ve.total=ee.total),It.next(Ve)};return S.addEventListener("load",Ot),S.addEventListener("error",Kt),S.addEventListener("timeout",Kt),S.addEventListener("abort",Kt),Be.reportProgress&&(S.addEventListener("progress",Xe),null!==he&&S.upload&&S.upload.addEventListener("progress",wt)),S.send(he),It.next({type:w.Sent}),()=>{S.removeEventListener("error",Kt),S.removeEventListener("abort",Kt),S.removeEventListener("load",Ot),S.removeEventListener("timeout",Kt),Be.reportProgress&&(S.removeEventListener("progress",Xe),null!==he&&S.upload&&S.upload.removeEventListener("progress",wt)),S.readyState!==S.DONE&&S.abort()}})}}return Ut.\u0275fac=function(Be){return new(Be||Ut)(s.LFG(e.JF))},Ut.\u0275prov=s.Yz7({token:Ut,factory:Ut.\u0275fac}),Ut})();const We=new s.OlP("XSRF_COOKIE_NAME"),hn=new s.OlP("XSRF_HEADER_NAME");class fn{}let St=(()=>{class Ut{constructor(Be,It,S){this.doc=Be,this.platform=It,this.cookieName=S,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Be=this.doc.cookie||"";return Be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,e.Mx)(Be,this.cookieName),this.lastCookieString=Be),this.lastToken}}return Ut.\u0275fac=function(Be){return new(Be||Ut)(s.LFG(e.K0),s.LFG(s.Lbi),s.LFG(We))},Ut.\u0275prov=s.Yz7({token:Ut,factory:Ut.\u0275fac}),Ut})(),ln=(()=>{class Ut{constructor(Be,It){this.tokenService=Be,this.headerName=It}intercept(Be,It){const S=Be.url.toLowerCase();if("GET"===Be.method||"HEAD"===Be.method||S.startsWith("http://")||S.startsWith("https://"))return It.handle(Be);const he=this.tokenService.getToken();return null!==he&&!Be.headers.has(this.headerName)&&(Be=Be.clone({headers:Be.headers.set(this.headerName,he)})),It.handle(Be)}}return Ut.\u0275fac=function(Be){return new(Be||Ut)(s.LFG(fn),s.LFG(hn))},Ut.\u0275prov=s.Yz7({token:Ut,factory:Ut.\u0275fac}),Ut})(),Ye=(()=>{class Ut{constructor(Be,It){this.backend=Be,this.injector=It,this.chain=null}handle(Be){if(null===this.chain){const It=this.injector.get(at,[]);this.chain=It.reduceRight((S,he)=>new ht(S,he),this.backend)}return this.chain.handle(Be)}}return Ut.\u0275fac=function(Be){return new(Be||Ut)(s.LFG(re),s.LFG(s.zs3))},Ut.\u0275prov=s.Yz7({token:Ut,factory:Ut.\u0275fac}),Ut})(),tn=(()=>{class Ut{static disable(){return{ngModule:Ut,providers:[{provide:ln,useClass:Se}]}}static withOptions(Be={}){return{ngModule:Ut,providers:[Be.cookieName?{provide:We,useValue:Be.cookieName}:[],Be.headerName?{provide:hn,useValue:Be.headerName}:[]]}}}return Ut.\u0275fac=function(Be){return new(Be||Ut)},Ut.\u0275mod=s.oAB({type:Ut}),Ut.\u0275inj=s.cJS({providers:[ln,{provide:at,useExisting:ln,multi:!0},{provide:fn,useClass:St},{provide:We,useValue:"XSRF-TOKEN"},{provide:hn,useValue:"X-XSRF-TOKEN"}]}),Ut})(),Vn=(()=>{class Ut{}return Ut.\u0275fac=function(Be){return new(Be||Ut)},Ut.\u0275mod=s.oAB({type:Ut}),Ut.\u0275inj=s.cJS({providers:[Me,{provide:le,useClass:Ye},ot,{provide:re,useExisting:ot}],imports:[tn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ut})()},5e3:(Ht,et,_)=>{_.d(et,{$8M:()=>cr,$Z:()=>Am,AFp:()=>Cg,ALo:()=>qC,AaK:()=>le,Akn:()=>jr,AsE:()=>wh,B6R:()=>sn,BQk:()=>vd,CHM:()=>ns,CRH:()=>av,CZH:()=>El,CqO:()=>f_,D6c:()=>LA,DdM:()=>UC,Dn7:()=>ev,EJc:()=>uA,EiD:()=>Pf,EpF:()=>h_,F$t:()=>y_,F4k:()=>g_,FYo:()=>jf,FiY:()=>Bl,G48:()=>IA,Gf:()=>gu,GfV:()=>Op,GkF:()=>mh,Gpc:()=>pe,HOy:()=>xh,HTZ:()=>WC,Hh0:()=>KC,Hsn:()=>I_,JOm:()=>Da,JVY:()=>bp,Jf7:()=>hb,KtG:()=>vs,L6k:()=>kf,LAX:()=>yp,LFG:()=>ko,LSH:()=>Yu,Lbi:()=>Tv,Lck:()=>BI,MAs:()=>p_,MMx:()=>Pd,NdJ:()=>Ch,O4$:()=>Cn,OlP:()=>Di,Oqu:()=>Th,PXZ:()=>vA,Q6J:()=>hh,QGY:()=>_h,QP$:()=>di,QbO:()=>yg,Qsj:()=>Wf,R0b:()=>Or,RDi:()=>G1,Rgc:()=>yl,SBq:()=>Kl,Sil:()=>kc,Suo:()=>Qi,TTD:()=>ls,TgZ:()=>md,Tol:()=>B_,Udp:()=>yh,VKq:()=>zC,W1O:()=>lg,WD2:()=>Ro,WLB:()=>GC,X6Q:()=>Ha,XFs:()=>Ye,Xpm:()=>Ct,Xts:()=>Rf,Y36:()=>ql,YKP:()=>Od,YNc:()=>d_,Yjl:()=>Yt,Yz7:()=>fe,Z0I:()=>bt,ZZ4:()=>Ng,_Bn:()=>LC,_UZ:()=>fh,_Vd:()=>Wl,_c5:()=>PA,_uU:()=>G_,aQg:()=>Fg,c2e:()=>lA,cJS:()=>je,cg1:()=>mc,dDg:()=>wg,dqk:()=>S,dwT:()=>Dh,eBb:()=>sl,eFA:()=>Fv,ekj:()=>Ih,eoX:()=>bu,evT:()=>Xf,f3M:()=>hp,g9A:()=>Av,gM2:()=>tv,h0i:()=>bl,hGG:()=>RA,hij:()=>Ad,iGM:()=>rv,ifc:()=>It,ip1:()=>yv,jDz:()=>VI,kEZ:()=>QC,kL8:()=>Oh,l5B:()=>JC,lG2:()=>yt,lcZ:()=>GI,lnq:()=>pc,lqb:()=>Ra,lri:()=>Ca,mCW:()=>zl,n5z:()=>ao,oAB:()=>kt,oJD:()=>kp,oxw:()=>b_,pB0:()=>Zc,q3G:()=>Mo,qLn:()=>ul,qOj:()=>uh,qZA:()=>_d,qbA:()=>jC,qzn:()=>ol,rFY:()=>Ac,rWj:()=>Ov,sBO:()=>AA,sIi:()=>Kc,s_b:()=>pu,soG:()=>Jd,tb:()=>bg,tp0:()=>Ge,uIk:()=>ph,vHH:()=>ke,vpe:()=>Fa,wAp:()=>zn,xi3:()=>Ld,xp6:()=>lm,ynx:()=>Cd,z2F:()=>Yd,z3N:()=>Oa,zSh:()=>Xu,zs3:()=>pl});var e=_(7579),s=_(727),g=_(9751),H=_(6451),L=_(3099);function I(a){for(let l in a)if(a[l]===I)return l;throw Error("Could not find renamed property on target object.")}function U(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function le(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(le).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function re(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const K=I({__forward_ref__:I});function pe(a){return a.__forward_ref__=pe,a.toString=function(){return le(this())},a}function ue(a){return Oe(a)?a():a}function Oe(a){return"function"==typeof a&&a.hasOwnProperty(K)&&a.__forward_ref__===pe}class ke extends Error{constructor(l,u){super(function we(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function Fe(a){return"string"==typeof a?a:null==a?"":String(a)}function O(a,l){throw new ke(-201,!1)}function Se(a,l){null==a&&function $(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function fe(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function je(a){return{providers:a.providers||[],imports:a.imports||[]}}function mt(a){return st(a,hn)||st(a,St)}function bt(a){return null!==mt(a)}function st(a,l){return a.hasOwnProperty(l)?a[l]:null}function We(a){return a&&(a.hasOwnProperty(fn)||a.hasOwnProperty(ln))?a[fn]:null}const hn=I({\u0275prov:I}),fn=I({\u0275inj:I}),St=I({ngInjectableDef:I}),ln=I({ngInjectorDef:I});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let Mt;function tn(a){const l=Mt;return Mt=a,l}function Vn(a,l,u){const d=mt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Ye.Optional?null:void 0!==l?l:void O(le(a))}function Kn(a){return{toString:a}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),It=(()=>{return(a=It||(It={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",It;var a})();const S=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Qe={},Ot=[],Kt=I({\u0275cmp:I}),en=I({\u0275dir:I}),Xe=I({\u0275pipe:I}),wt=I({\u0275mod:I}),ee=I({\u0275fac:I}),Ve=I({__NG_ELEMENT_ID__:I});let ct=0;function Ct(a){return Kn(()=>{const u=!0===a.standalone,d={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Ot,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||It.Emulated,id:"c"+ct++,styles:a.styles||Ot,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,y=a.features;return h.inputs=$e(a.inputs,d),h.outputs=$e(a.outputs),y&&y.forEach(R=>R(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map($n).filter(Wi):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(Pn).filter(Wi):null,h})}function sn(a,l,u){const d=a.\u0275cmp;d.directiveDefs=()=>("function"==typeof l?l():l).map($n),d.pipeDefs=()=>("function"==typeof u?u():u).map(Pn)}function $n(a){return $t(a)||xn(a)}function Wi(a){return null!==a}function kt(a){return Kn(()=>({type:a.type,bootstrap:a.bootstrap||Ot,declarations:a.declarations||Ot,imports:a.imports||Ot,exports:a.exports||Ot,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function $e(a,l){if(null==a)return Qe;const u={};for(const d in a)if(a.hasOwnProperty(d)){let h=a[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=d,l&&(l[h]=m)}return u}const yt=Ct;function Yt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function $t(a){return a[Kt]||null}function xn(a){return a[en]||null}function Pn(a){return a[Xe]||null}function di(a){const l=$t(a)||xn(a)||Pn(a);return null!==l&&l.standalone}function Ci(a,l){const u=a[wt]||null;if(!u&&!0===l)throw new Error(`Type ${le(a)} does not have '\u0275mod' property.`);return u}function kn(a){return Array.isArray(a)&&"object"==typeof a[1]}function zt(a){return Array.isArray(a)&&!0===a[1]}function an(a){return 0!=(8&a.flags)}function as(a){return 2==(2&a.flags)}function Hs(a){return 1==(1&a.flags)}function Oo(a){return null!==a.template}function hs(a){return 0!=(256&a[2])}function Po(a,l){return a.hasOwnProperty(ee)?a[ee]:null}class Ro{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ls(){return xo}function xo(a){return a.type.prototype.ngOnChanges&&(a.setInput=Lo),tr}function tr(){const a=ta(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===Qe)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Lo(a,l,u,d){const h=ta(a)||function fs(a,l){return a[Zs]=l}(a,{previous:Qe,current:null}),m=h.current||(h.current={}),y=h.previous,R=this.declaredInputs[u],J=y[R];m[R]=new Ro(J&&J.currentValue,l,y===Qe),a[d]=l}ls.ngInherit=!0;const Zs="__ngSimpleChanges__";function ta(a){return a[Zs]||null}function Gi(a){for(;Array.isArray(a);)a=a[0];return a}function cs(a,l){return Gi(l[a])}function bo(a,l){return Gi(l[a.index])}function Nr(a,l){return a.data[l]}function Ms(a,l){return a[l]}function ri(a,l){const u=l[a];return kn(u)?u:u[0]}function es(a){return 64==(64&a[2])}function yo(a,l){return null==l?null:a[l]}function po(a){a[18]=0}function Ds(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const Ln={lFrame:sa(null),bindingsEnabled:!0};function to(){return Ln.bindingsEnabled}function nn(){return Ln.lFrame.lView}function ei(){return Ln.lFrame.tView}function ns(a){return Ln.lFrame.contextLView=a,a[8]}function vs(a){return Ln.lFrame.contextLView=null,a}function Li(){let a=yr();for(;null!==a&&64===a.type;)a=a.parent;return a}function yr(){return Ln.lFrame.currentTNode}function Hi(a,l){const u=Ln.lFrame;u.currentTNode=a,u.isParent=l}function bs(){return Ln.lFrame.isParent}function Br(){Ln.lFrame.isParent=!1}function z(){const a=Ln.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Ze(){return Ln.lFrame.bindingIndex}function Tn(){return Ln.lFrame.bindingIndex++}function pi(a){const l=Ln.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Os(a,l){const u=Ln.lFrame;u.bindingIndex=u.bindingRootIndex=a,zs(l)}function zs(a){Ln.lFrame.currentDirectiveIndex=a}function sr(){return Ln.lFrame.currentQueryIndex}function Gs(a){Ln.lFrame.currentQueryIndex=a}function ia(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function go(a,l,u){if(u&Ye.SkipSelf){let h=l,m=a;for(;!(h=h.parent,null!==h||u&Ye.Host||(h=ia(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;l=h,a=m}const d=Ln.lFrame=oa();return d.currentTNode=l,d.lView=a,!0}function rr(a){const l=oa(),u=a[1];Ln.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function oa(){const a=Ln.lFrame,l=null===a?null:a.child;return null===l?sa(a):l}function sa(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Ia(){const a=Ln.lFrame;return Ln.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Q=Ia;function xe(){const a=Ia();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ut(){return Ln.lFrame.selectedIndex}function Bt(a){Ln.lFrame.selectedIndex=a}function jt(){const a=Ln.lFrame;return Nr(a.tView,a.selectedIndex)}function Cn(){Ln.lFrame.currentNamespace="svg"}function fi(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:R,ngAfterViewInit:J,ngAfterViewChecked:me,ngOnDestroy:ze}=m;y&&(a.contentHooks||(a.contentHooks=[])).push(-u,y),R&&((a.contentHooks||(a.contentHooks=[])).push(u,R),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,R)),J&&(a.viewHooks||(a.viewHooks=[])).push(-u,J),me&&((a.viewHooks||(a.viewHooks=[])).push(u,me),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,me)),null!=ze&&(a.destroyHooks||(a.destroyHooks=[])).push(u,ze)}}function Ni(a,l,u){ss(a,l,3,u)}function os(a,l,u,d){(3&a[2])===u&&ss(a,l,u,d)}function Io(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function ss(a,l,u,d){const m=null!=d?d:-1,y=l.length-1;let R=0;for(let J=void 0!==d?65535&a[18]:0;J<y;J++)if("number"==typeof l[J+1]){if(R=l[J],null!=d&&R>=d)break}else l[J]<0&&(a[18]+=65536),(R<m||-1==m)&&(Is(a,u,l,J),a[18]=(4294901760&a[18])+J+2),J++}function Is(a,l,u,d){const h=u[d]<0,m=u[d+1],R=a[h?-u[d]:u[d]];if(h){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(R)}finally{}}}else try{m.call(R)}finally{}}class Ps{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Lt(a,l,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const m=u[d++],y=u[d++],R=u[d++];a.setAttribute(l,y,R,m)}else{const m=h,y=u[++d];mn(m)?a.setProperty(l,m,y):a.setAttribute(l,m,y),d++}}return d}function Xt(a){return 3===a||4===a||6===a}function mn(a){return 64===a.charCodeAt(0)}function En(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const h=l[d];"number"==typeof h?u=h:0===u||jn(a,u,h,null,-1===u||2===u?l[++d]:null)}}return a}function jn(a,l,u,d,h){let m=0,y=a.length;if(-1===l)y=-1;else for(;m<a.length;){const R=a[m++];if("number"==typeof R){if(R===l){y=-1;break}if(R>l){y=m-1;break}}}for(;m<a.length;){const R=a[m];if("number"==typeof R)break;if(R===u){if(null===d)return void(null!==h&&(a[m+1]=h));if(d===a[m+1])return void(a[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==y&&(a.splice(y,0,l),m=y+1),a.splice(m++,0,u),null!==d&&a.splice(m++,0,d),null!==h&&a.splice(m++,0,h)}function Yn(a){return-1!==a}function Nn(a){return 32767&a}function ci(a,l){let u=function Hn(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let vi=!0;function no(a){const l=vi;return vi=a,l}let Wo=0;const Mi={};function As(a,l){const u=ar(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Ao(d.data,a),Ao(l,null),Ao(d.blueprint,null));const h=Rs(a,l),m=a.injectorIndex;if(Yn(h)){const y=Nn(h),R=ci(h,l),J=R[1].data;for(let me=0;me<8;me++)l[m+me]=R[y+me]|J[y+me]}return l[m+8]=h,m}function Ao(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ar(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Rs(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,h=l;for(;null!==h;){if(d=Hr(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function us(a,l,u){!function Ko(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Ve)&&(d=u[Ve]),null==d&&(d=u[Ve]=Wo++);const h=255&d;l.data[a+(h>>5)]|=1<<h}(a,l,u)}function Aa(a,l,u){if(u&Ye.Optional||void 0!==a)return a;O()}function Mn(a,l,u,d){if(u&Ye.Optional&&void 0===d&&(d=null),0==(u&(Ye.Self|Ye.Host))){const h=a[9],m=tn(void 0);try{return h?h.get(l,d,u&Ye.Optional):Vn(l,d,u&Ye.Optional)}finally{tn(m)}}return Aa(d,0,u)}function Rn(a,l,u,d=Ye.Default,h){if(null!==a){if(1024&l[2]){const y=function ds(a,l,u,d,h){let m=a,y=l;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const R=Fn(m,y,u,d|Ye.Self,Mi);if(R!==Mi)return R;let J=m.parent;if(!J){const me=y[21];if(me){const ze=me.get(u,Mi,d);if(ze!==Mi)return ze}J=Hr(y),y=y[15]}m=J}return h}(a,l,u,d,Mi);if(y!==Mi)return y}const m=Fn(a,l,u,d,Mi);if(m!==Mi)return m}return Mn(l,u,d,h)}function Fn(a,l,u,d,h){const m=function Zo(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Ve)?a[Ve]:void 0;return"number"==typeof l?l>=0?255&l:$a:l}(u);if("function"==typeof m){if(!go(l,a,d))return d&Ye.Host?Aa(h,0,d):Mn(l,u,d,h);try{const y=m(d);if(null!=y||d&Ye.Optional)return y;O()}finally{Q()}}else if("number"==typeof m){let y=null,R=ar(a,l),J=-1,me=d&Ye.Host?l[16][6]:null;for((-1===R||d&Ye.SkipSelf)&&(J=-1===R?Rs(a,l):l[R+8],-1!==J&&xi(d,!1)?(y=l[1],R=Nn(J),l=ci(J,l)):R=-1);-1!==R;){const ze=l[1];if(rs(m,R,ze.data)){const nt=ni(R,l,u,y,d,me);if(nt!==Mi)return nt}J=l[R+8],-1!==J&&xi(d,l[1].data[R+8]===me)&&rs(m,R,l)?(y=ze,R=Nn(J),l=ci(J,l)):R=-1}}return h}function ni(a,l,u,d,h,m){const y=l[1],R=y.data[a+8],ze=Wn(R,y,u,null==d?as(R)&&vi:d!=y&&0!=(3&R.type),h&Ye.Host&&m===R);return null!==ze?Vo(l,y,ze,R):Mi}function Wn(a,l,u,d,h){const m=a.providerIndexes,y=l.data,R=1048575&m,J=a.directiveStart,ze=m>>20,Tt=h?R+ze:a.directiveEnd;for(let Nt=d?R:R+ze;Nt<Tt;Nt++){const qt=y[Nt];if(Nt<J&&u===qt||Nt>=J&&qt.type===u)return Nt}if(h){const Nt=y[J];if(Nt&&Oo(Nt)&&Nt.type===u)return J}return null}function Vo(a,l,u,d){let h=a[u];const m=l.data;if(function Ee(a){return a instanceof Ps}(h)){const y=h;y.resolving&&function Pe(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ke(-200,`Circular dependency in DI detected for ${a}${u}`)}(function Y(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Fe(a)}(m[u]));const R=no(y.canSeeViewProviders);y.resolving=!0;const J=y.injectImpl?tn(y.injectImpl):null;go(a,d,Ye.Default);try{h=a[u]=y.factory(void 0,m,a,d),l.firstCreatePass&&u>=d.directiveStart&&function ji(a,l,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=l.type.prototype;if(d){const y=xo(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,y)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,h),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==J&&tn(J),no(R),y.resolving=!1,Q()}}return h}function rs(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function xi(a,l){return!(a&Ye.Self||a&Ye.Host&&l)}class Js{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Rn(this._tNode,this._lView,l,d,u)}}function $a(){return new Js(Li(),nn())}function ao(a){return Kn(()=>{const l=a.prototype.constructor,u=l[ee]||js(l),d=Object.prototype;let h=Object.getPrototypeOf(a.prototype).constructor;for(;h&&h!==d;){const m=h[ee]||js(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function js(a){return Oe(a)?()=>{const l=js(ue(a));return l&&l()}:Po(a)}function Hr(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function cr(a){return function lr(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const m=u[h];if(Xt(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(m===l)return u[h+1];h+=2}}}return null}(Li(),a)}const ur="__parameters__";function Ir(a,l,u){return Kn(()=>{const d=function Ls(a){return function(...u){if(a){const d=a(...u);for(const h in d)this[h]=d[h]}}}(l);function h(...m){if(this instanceof h)return d.apply(this,m),this;const y=new h(...m);return R.annotation=y,R;function R(J,me,ze){const nt=J.hasOwnProperty(ur)?J[ur]:Object.defineProperty(J,ur,{value:[]})[ur];for(;nt.length<=ze;)nt.push(null);return(nt[ze]=nt[ze]||[]).push(y),J}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=a,h.annotationCls=h,h})}class Di{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=fe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Uo(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),Uo(d,l)):l!==a&&l.push(d)}return l}function oo(a,l){a.forEach(u=>Array.isArray(u)?oo(u,l):l(u))}function zr(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Gr(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function xa(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function Ne(a,l,u){let d=dt(a,l);return d>=0?a[1|d]=u:(d=~d,function M(a,l,u,d){let h=a.length;if(h==l)a.push(u,d);else if(1===h)a.push(d,a[0]),a[0]=u;else{for(h--,a.push(a[h-1],a[h]);h>l;)a[h]=a[h-2],h--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function lt(a,l){const u=dt(a,l);if(u>=0)return a[1|u]}function dt(a,l){return function un(a,l,u){let d=0,h=a.length>>u;for(;h!==d;){const m=d+(h-d>>1),y=a[m<<u];if(l===y)return m<<u;y>l?h=m:d=m+1}return~(h<<u)}(a,l,1)}const Sa={},ws="__NG_DI_FLAG__",el="ngTempTokenPath",Kg=/\n/gm,dp="__source";let Nl;function tl(a){const l=Nl;return Nl=a,l}function $g(a,l=Ye.Default){if(void 0===Nl)throw new ke(-203,!1);return null===Nl?Vn(a,void 0,l):Nl.get(a,l&Ye.Optional?null:void 0,l)}function ko(a,l=Ye.Default){return(function Ft(){return Mt}()||$g)(ue(a),l)}function hp(a,l=Ye.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),ko(a,l)}function Ru(a){const l=[];for(let u=0;u<a.length;u++){const d=ue(a[u]);if(Array.isArray(d)){if(0===d.length)throw new ke(900,!1);let h,m=Ye.Default;for(let y=0;y<d.length;y++){const R=d[y],J=qg(R);"number"==typeof J?-1===J?h=R.token:m|=J:h=R}l.push(ko(h,m))}else l.push(ko(d))}return l}function Fl(a,l){return a[ws]=l,a.prototype[ws]=l,a}function qg(a){return a[ws]}const Bl=Fl(Ir("Optional"),8),Ge=Fl(Ir("SkipSelf"),4);var Da=(()=>((Da=Da||{})[Da.Important=1]="Important",Da[Da.DashCase=2]="DashCase",Da))();const lf=new Map;let g1=0;const uf="__ngContext__";function Bs(a,l){kn(l)?(a[uf]=l[20],function m1(a){lf.set(a[20],a)}(l)):a[uf]=l}function pf(a,l){return undefined(a,l)}function Gu(a){const l=a[3];return zt(l)?l[3]:l}function hf(a){return k0(a[13])}function gf(a){return k0(a[4])}function k0(a){for(;null!==a&&!zt(a);)a=a[4];return a}function Fc(a,l,u,d,h){if(null!=d){let m,y=!1;zt(d)?m=d:kn(d)&&(y=!0,d=d[0]);const R=Gi(d);0===a&&null!==u?null==h?_f(l,u,R):il(l,u,R,h||null,!0):1===a&&null!==u?il(l,u,R,h||null,!0):2===a?function yf(a,l,u){const d=Bc(a,l);d&&function F0(a,l,u,d){a.removeChild(l,u,d)}(a,d,l,u)}(l,R,y):3===a&&l.destroyNode(R),null!=m&&function H1(a,l,u,d,h){const m=u[7];m!==Gi(u)&&Fc(l,a,d,m,h);for(let R=10;R<u.length;R++){const J=u[R];Hc(J[1],J,a,l,d,m)}}(l,a,m,u,h)}}function Ju(a,l,u){return a.createElement(l,u)}function P0(a,l){const u=a[9],d=u.indexOf(l),h=l[3];512&l[2]&&(l[2]&=-513,Ds(h,-1)),u.splice(d,1)}function ff(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const h=d[17];null!==h&&h!==a&&P0(h,d),l>0&&(a[u-1][4]=d[4]);const m=Gr(a,10+l);!function D1(a,l){Hc(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const y=m[19];null!==y&&y.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function R0(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Hc(a,l,u,3,null,null),function O0(a){let l=a[13];if(!l)return mf(a[1],a);for(;l;){let u=null;if(kn(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)kn(l)&&mf(l[1],l),l=l[3];null===l&&(l=a),kn(l)&&mf(l[1],l),u=l&&l[4]}l=u}}(l)}}function mf(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function N1(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const h=l[u[d]];if(!(h instanceof Ps)){const m=u[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const R=h[m[y]],J=m[y+1];try{J.call(R)}finally{}}else try{m.call(h)}finally{}}}}(a,l),function L1(a,l){const u=a.cleanup,d=l[7];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+1],R="function"==typeof y?y(l):Gi(l[y]),J=d[h=u[m+2]],me=u[m+3];"boolean"==typeof me?R.removeEventListener(u[m],J,me):me>=0?d[h=me]():d[h=-me].unsubscribe(),m+=2}else{const y=d[h=u[m+1]];u[m].call(y)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&zt(l[3])){u!==l[3]&&P0(u,l);const d=l[19];null!==d&&d.detachView(a)}!function _1(a){lf.delete(a[20])}(l)}}function L0(a,l,u){return function N0(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const h=a.data[d.directiveStart].encapsulation;if(h===It.None||h===It.Emulated)return null}return bo(d,u)}(a,l.parent,u)}function il(a,l,u,d,h){a.insertBefore(l,u,d,h)}function _f(a,l,u){a.appendChild(l,u)}function Cf(a,l,u,d,h){null!==d?il(a,l,u,d,h):_f(a,l,u)}function Bc(a,l){return a.parentNode(l)}function B0(a,l,u){return V0(a,l,u)}let _p,Tf,vp,V0=function H0(a,l,u){return 40&a.type?bo(a,u):null};function fp(a,l,u,d){const h=L0(a,d,l),m=l[11],R=B0(d.parent||l[6],d,l);if(null!=h)if(Array.isArray(u))for(let J=0;J<u.length;J++)Cf(m,h,u[J],R,!1);else Cf(m,h,u,R,!1)}function mp(a,l){if(null!==l){const u=l.type;if(3&u)return bo(l,a);if(4&u)return bf(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return mp(a,d);{const h=a[l.index];return zt(h)?bf(-1,h):Gi(h)}}if(32&u)return pf(l,a)()||Gi(a[l.index]);{const d=U0(a,l);return null!==d?Array.isArray(d)?d[0]:mp(Gu(a[16]),d):mp(a,l.next)}}return null}function U0(a,l){return null!==l?a[16][6].projection[l.projection]:null}function bf(a,l){const u=10+a+1;if(u<l.length){const d=l[u],h=d[1].firstChild;if(null!==h)return mp(d,h)}return l[7]}function If(a,l,u,d,h,m,y){for(;null!=u;){const R=d[u.index],J=u.type;if(y&&0===l&&(R&&Bs(Gi(R),d),u.flags|=4),64!=(64&u.flags))if(8&J)If(a,l,u.child,d,h,m,!1),Fc(l,a,h,R,m);else if(32&J){const me=pf(u,d);let ze;for(;ze=me();)Fc(l,a,h,ze,m);Fc(l,a,h,R,m)}else 16&J?G0(a,l,d,u,h,m):Fc(l,a,h,R,m);u=y?u.projectionNext:u.next}}function Hc(a,l,u,d,h,m){If(u,d,a.firstChild,l,h,m,!1)}function G0(a,l,u,d,h,m){const y=u[16],J=y[6].projection[d.projection];if(Array.isArray(J))for(let me=0;me<J.length;me++)Fc(l,a,h,J[me],m);else If(a,l,J,y[3],h,m,!0)}function Q0(a,l,u){a.setAttribute(l,"style",u)}function Af(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function Ul(a){var l;return(null===(l=function Cp(){if(void 0===_p&&(_p=null,S.trustedTypes))try{_p=S.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return _p}())||void 0===l?void 0:l.createHTML(a))||a}function G1(a){Tf=a}function j0(a){var l;return(null===(l=function wf(){if(void 0===vp&&(vp=null,S.trustedTypes))try{vp=S.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return vp}())||void 0===l?void 0:l.createHTML(a))||a}class wr{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xf extends wr{getTypeName(){return"HTML"}}class Ef extends wr{getTypeName(){return"Style"}}class Vc extends wr{getTypeName(){return"Script"}}class K0 extends wr{getTypeName(){return"URL"}}class Sf extends wr{getTypeName(){return"ResourceURL"}}function Oa(a){return a instanceof wr?a.changingThisBreaksApplicationSecurity:a}function ol(a,l){const u=function Q1(a){return a instanceof wr&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function bp(a){return new xf(a)}function kf(a){return new Ef(a)}function sl(a){return new Vc(a)}function yp(a){return new K0(a)}function Zc(a){return new Sf(a)}class Ip{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Ul(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Ap{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ul(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Ul(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let h=u.length-1;0<h;h--){const y=u.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&l.removeAttribute(y)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Y0=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zl(a){return(a=String(a)).match(Y0)?a:"unsafe:"+a}function xr(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Gl(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const Mf=xr("area,br,col,hr,img,wbr"),$0=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Df=xr("rp,rt"),wp=Gl(Mf,Gl($0,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gl(Df,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gl(Df,$0)),xp=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wu=Gl(xp,xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),X0=xr("script,style,template");class Ku{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!wp.hasOwnProperty(u))return this.sanitizedSomething=!0,!X0.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),y=m.name,R=y.toLowerCase();if(!Wu.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let J=m.value;xp[R]&&(J=zl(J)),this.buf.push(" ",y,'="',Ep(J),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();wp.hasOwnProperty(u)&&!Mf.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Ep(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const eb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Of=/([^\#-~ |!])/g;function Ep(a){return a.replace(/&/g,"&amp;").replace(eb,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Of,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rl;function Pf(a,l){let u=null;try{rl=rl||function Uc(a){const l=new Ap(a);return function ju(){try{return!!(new window.DOMParser).parseFromString(Ul(""),"text/html")}catch(a){return!1}}()?new Ip(l):l}(a);let d=l?String(l):"";u=rl.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=u.innerHTML,u=rl.getInertBodyElement(d)}while(d!==m);return Ul((new Ku).sanitizeChildren(Sp(u)||u))}finally{if(u){const d=Sp(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Sp(a){return"content"in a&&function tb(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Mo=(()=>((Mo=Mo||{})[Mo.NONE=0]="NONE",Mo[Mo.HTML=1]="HTML",Mo[Mo.STYLE=2]="STYLE",Mo[Mo.SCRIPT=3]="SCRIPT",Mo[Mo.URL=4]="URL",Mo[Mo.RESOURCE_URL=5]="RESOURCE_URL",Mo))();function kp(a){const l=$u();return l?j0(l.sanitize(Mo.HTML,a)||""):ol(a,"HTML")?j0(Oa(a)):Pf(function J0(){return void 0!==Tf?Tf:"undefined"!=typeof document?document:void 0}(),Fe(a))}function Yu(a){const l=$u();return l?l.sanitize(Mo.URL,a)||"":ol(a,"URL")?Oa(a):zl(Fe(a))}function $u(){const a=nn();return a&&a[12]}const Rf=new Di("ENVIRONMENT_INITIALIZER"),ib=new Di("INJECTOR",-1),Lf=new Di("INJECTOR_DEF_TYPES");class Nf{get(l,u=Sa){if(u===Sa){const d=new Error(`NullInjectorError: No provider for ${le(l)}!`);throw d.name="NullInjectorError",d}return u}}function nT(...a){return{\u0275providers:ob(0,a)}}function ob(a,...l){const u=[],d=new Set;let h;return oo(l,m=>{const y=m;Ff(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&sb(h,u),u}function sb(a,l){for(let u=0;u<a.length;u++){const{providers:h}=a[u];oo(h,m=>{l.push(m)})}}function Ff(a,l,u,d){if(!(a=ue(a)))return!1;let h=null,m=We(a);const y=!m&&$t(a);if(m||y){if(y&&!y.standalone)return!1;h=a}else{const J=a.ngModule;if(m=We(J),!m)return!1;h=J}const R=d.has(h);if(y){if(R)return!1;if(d.add(h),y.dependencies){const J="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const me of J)Ff(me,l,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!R){let me;d.add(h);try{oo(m.imports,ze=>{Ff(ze,l,u,d)&&(me||(me=[]),me.push(ze))})}finally{}void 0!==me&&sb(me,l)}if(!R){const me=Po(h)||(()=>new h);l.push({provide:h,useFactory:me,deps:Ot},{provide:Lf,useValue:h,multi:!0},{provide:Rf,useValue:()=>ko(h),multi:!0})}const J=m.providers;null==J||R||oo(J,ze=>{l.push(ze)})}}return h!==a&&void 0!==a.providers}const iT=I({provide:String,useValue:I});function Bf(a){return null!==a&&"object"==typeof a&&iT in a}function Pa(a){return"function"==typeof a}const Xu=new Di("Set Injector scope."),al={},Vf={};let Mp;function Jl(){return void 0===Mp&&(Mp=new Nf),Mp}class Ra{}class ed extends Ra{constructor(l,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jl(l,y=>this.processProvider(y)),this.records.set(ib,cl(void 0,this)),h.has("environment")&&this.records.set(Ra,cl(void 0,this));const m=this.records.get(Xu);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Lf.multi,Ot,Ye.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=tl(this),d=tn(void 0);try{return l()}finally{tl(u),tn(d)}}get(l,u=Sa,d=Ye.Default){this.assertNotDestroyed();const h=tl(this),m=tn(void 0);try{if(!(d&Ye.SkipSelf)){let R=this.records.get(l);if(void 0===R){const J=function Gf(a){return"function"==typeof a||"object"==typeof a&&a instanceof Di}(l)&&mt(l);R=J&&this.injectableDefInScope(J)?cl(ll(l),al):null,this.records.set(l,R)}if(null!=R)return this.hydrate(l,R)}return(d&Ye.Self?Jl():this.parent).get(l,u=d&Ye.Optional&&u===Sa?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[el]=y[el]||[]).unshift(le(l)),h)throw y;return function Xg(a,l,u,d){const h=a[el];throw l[dp]&&h.unshift(l[dp]),a.message=function ef(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let h=le(l);if(Array.isArray(l))h=l.map(le).join(" -> ");else if("object"==typeof l){let m=[];for(let y in l)if(l.hasOwnProperty(y)){let R=l[y];m.push(y+":"+("string"==typeof R?JSON.stringify(R):le(R)))}h=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${a.replace(Kg,"\n  ")}`}("\n"+a.message,h,u,d),a.ngTokenPath=h,a[el]=null,a}(y,l,"R3InjectorError",this.source)}throw y}finally{tn(m),tl(h)}}resolveInjectorInitializers(){const l=tl(this),u=tn(void 0);try{const d=this.get(Rf.multi,Ot,Ye.Self);for(const h of d)h()}finally{tl(l),tn(u)}}toString(){const l=[],u=this.records;for(const d of u.keys())l.push(le(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(l){let u=Pa(l=ue(l))?l:ue(l&&l.provide);const d=function Uf(a){return Bf(a)?cl(void 0,a.useValue):cl(Dp(a),al)}(l);if(Pa(l)||!0!==l.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=cl(void 0,al,!0),h.factory=()=>Ru(h.multi),this.records.set(u,h)),u=l,h.multi.push(l)}this.records.set(u,d)}hydrate(l,u){return u.value===al&&(u.value=Vf,u.value=u.factory()),"object"==typeof u.value&&u.value&&function zf(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ue(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function ll(a){const l=mt(a),u=null!==l?l.factory:Po(a);if(null!==u)return u;if(a instanceof Di)throw new ke(204,!1);if(a instanceof Function)return function Zf(a){const l=a.length;if(l>0)throw xa(l,"?"),new ke(204,!1);const u=function xt(a){const l=a&&(a[hn]||a[St]);if(l){const u=function ot(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new ke(204,!1)}function Dp(a,l,u){let d;if(Pa(a)){const h=ue(a);return Po(h)||ll(h)}if(Bf(a))d=()=>ue(a.useValue);else if(function Hf(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Ru(a.deps||[]));else if(function qu(a){return!(!a||!a.useExisting)}(a))d=()=>ko(ue(a.useExisting));else{const h=ue(a&&(a.useClass||a.provide));if(!function rb(a){return!!a.deps}(a))return Po(h)||ll(h);d=()=>new h(...Ru(a.deps))}return d}function cl(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function Qf(a){return!!a.\u0275providers}function jl(a,l){for(const u of a)Array.isArray(u)?jl(u,l):Qf(u)?jl(u.\u0275providers,l):l(u)}class td{}class Gc{resolveComponentFactory(l){throw function lb(a){const l=Error(`No component factory found for ${le(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Wl=(()=>{class a{}return a.NULL=new Gc,a})();function Jf(){return aa(Li(),nn())}function aa(a,l){return new Kl(bo(a,l))}let Kl=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Jf,a})();function oT(a){return a instanceof Kl?a.nativeElement:a}class jf{}let Wf=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Kf(){const a=nn(),u=ri(Li().index,a);return(kn(u)?u:a)[11]}(),a})(),ub=(()=>{class a{}return a.\u0275prov=fe({token:a,providedIn:"root",factory:()=>null}),a})();class Op{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Yf=new Op("14.2.12"),Pp={};function Rp(a){return a.ngOriginalError}class ul{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Rp(l);for(;u&&Rp(u);)u=Rp(u);return u||null}}function hb(a){return a.ownerDocument.defaultView}function Xf(a){return a.ownerDocument}function la(a){return a instanceof Function?a():a}function Np(a,l,u){let d=a.length;for(;;){const h=a.indexOf(l,u);if(-1===h)return h;if(0===h||a.charCodeAt(h-1)<=32){const m=l.length;if(h+m===d||a.charCodeAt(h+m)<=32)return h}u=h+1}}const tm="ng-template";function mb(a,l,u){let d=0;for(;d<a.length;){let h=a[d++];if(u&&"class"===h){if(h=a[d],-1!==Np(h.toLowerCase(),l,0))return!0}else if(1===h){for(;d<a.length&&"string"==typeof(h=a[d++]);)if(h.toLowerCase()===l)return!0;return!1}}return!1}function nm(a){return 4===a.type&&a.value!==tm}function _b(a,l,u){return l===(4!==a.type||u?a.value:tm)}function Cb(a,l,u){let d=4;const h=a.attrs||[],m=function om(a){for(let l=0;l<a.length;l++)if(Xt(a[l]))return l;return a.length}(h);let y=!1;for(let R=0;R<l.length;R++){const J=l[R];if("number"!=typeof J){if(!y)if(4&d){if(d=2|1&d,""!==J&&!_b(a,J,u)||""===J&&1===l.length){if(Qr(d))return!1;y=!0}}else{const me=8&d?J:l[++R];if(8&d&&null!==a.attrs){if(!mb(a.attrs,me,u)){if(Qr(d))return!1;y=!0}continue}const nt=vb(8&d?"class":J,h,nm(a),u);if(-1===nt){if(Qr(d))return!1;y=!0;continue}if(""!==me){let Tt;Tt=nt>m?"":h[nt+1].toLowerCase();const Nt=8&d?Tt:null;if(Nt&&-1!==Np(Nt,me,0)||2&d&&me!==Tt){if(Qr(d))return!1;y=!0}}}}else{if(!y&&!Qr(d)&&!Qr(J))return!1;if(y&&Qr(J))continue;y=!1,d=J|1&d}}return Qr(d)||y}function Qr(a){return 0==(1&a)}function vb(a,l,u,d){if(null===l)return-1;let h=0;if(d||!u){let m=!1;for(;h<l.length;){const y=l[h];if(y===a)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let R=l[++h];for(;"string"==typeof R;)R=l[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function yb(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function im(a,l,u=!1){for(let d=0;d<l.length;d++)if(Cb(a,l[d],u))return!0;return!1}function Ib(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let h=0;h<a.length;h++)if(a[h]!==d[h])continue e;return!0}}return!1}function sm(a,l){return a?":not("+l.trim()+")":l}function Ab(a){let l=a[0],u=1,d=2,h="",m=!1;for(;u<a.length;){let y=a[u];if("string"==typeof y)if(2&d){const R=a[++u];h+="["+y+(R.length>0?'="'+R+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Qr(y)&&(l+=sm(m,h),h=""),d=y,m=m||!Qr(d);u++}return""!==h&&(l+=sm(m,h)),l}const ii={};function lm(a){cm(ei(),nn(),ut()+a,!1)}function cm(a,l,u,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Ni(l,m,u)}else{const m=a.preOrderHooks;null!==m&&os(l,m,0,u)}Bt(u)}function hm(a,l=null,u=null,d){const h=gm(a,l,u,d);return h.resolveInjectorInitializers(),h}function gm(a,l=null,u=null,d,h=new Set){const m=[u||Ot,nT(a)];return d=d||("object"==typeof a?void 0:le(a)),new ed(m,l||Jl(),d||null,h)}let pl=(()=>{class a{static create(u,d){var h;if(Array.isArray(u))return hm({name:""},d,u,"");{const m=null!==(h=u.name)&&void 0!==h?h:"";return hm({name:m},u.parent,u.providers,m)}}}return a.THROW_IF_NOT_FOUND=Sa,a.NULL=new Nf,a.\u0275prov=fe({token:a,providedIn:"any",factory:()=>ko(ib)}),a.__NG_ELEMENT_ID__=-1,a})();function ql(a,l=Ye.Default){const u=nn();return null===u?ko(a,l):Rn(Li(),u,ue(a),l)}function Am(){throw new Error("invalid")}function sd(a,l){return a<<17|l<<2}function Jr(a){return a>>17&32767}function Zp(a){return 2|a}function ca(a){return(131068&a)>>2}function Up(a,l){return-131069&a|l<<2}function zp(a){return 1|a}function Lm(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const h=u[d],m=u[d+1];if(-1!==m){const y=a.data[m];Gs(h),y.contentQueries(2,l[m],m)}}}function ld(a,l,u,d,h,m,y,R,J,me,ze){const nt=l.blueprint.slice();return nt[0]=h,nt[2]=76|d,(null!==ze||a&&1024&a[2])&&(nt[2]|=1024),po(nt),nt[3]=nt[15]=a,nt[8]=u,nt[10]=y||a&&a[10],nt[11]=R||a&&a[11],nt[12]=J||a&&a[12]||null,nt[9]=me||a&&a[9]||null,nt[6]=m,nt[20]=function f1(){return g1++}(),nt[21]=ze,nt[16]=2==l.type?a[16]:nt,nt}function Xl(a,l,u,d,h){let m=a.data[l];if(null===m)m=function $p(a,l,u,d,h){const m=yr(),y=bs(),J=a.data[l]=function ny(a,l,u,d,h,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,l,d,h);return null===a.firstChild&&(a.firstChild=J),null!==m&&(y?null==m.child&&null!==J.parent&&(m.child=J):null===m.next&&(m.next=J)),J}(a,l,u,d,h),function So(){return Ln.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=h;const y=function Us(){const a=Ln.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Hi(m,!0),m}function ec(a,l,u,d){if(0===u)return-1;const h=l.length;for(let m=0;m<u;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return h}function qp(a,l,u){rr(l);try{const d=a.viewQuery;null!==d&&ah(1,d,u);const h=a.template;null!==h&&Nm(a,l,h,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Lm(a,l),a.staticViewQueries&&ah(2,a.viewQuery,u);const m=a.components;null!==m&&function Xb(a,l){for(let u=0;u<l.length;u++)fy(a,l[u])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,xe()}}function cd(a,l,u,d){const h=l[2];if(128!=(128&h)){rr(l);try{po(l),function Gt(a){return Ln.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Nm(a,l,u,2,d);const y=3==(3&h);if(y){const me=a.preOrderCheckHooks;null!==me&&Ni(l,me,null)}else{const me=a.preOrderHooks;null!==me&&os(l,me,0,null),Io(l,0)}if(function oh(a){for(let l=hf(a);null!==l;l=gf(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const h=u[d],m=h[3];0==(512&h[2])&&Ds(m,1),h[2]|=512}}}(l),function hy(a){for(let l=hf(a);null!==l;l=gf(l))for(let u=10;u<l.length;u++){const d=l[u],h=d[1];es(d)&&cd(h,d,h.template,d[8])}}(l),null!==a.contentQueries&&Lm(a,l),y){const me=a.contentCheckHooks;null!==me&&Ni(l,me)}else{const me=a.contentHooks;null!==me&&os(l,me,1),Io(l,1)}!function $b(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Bt(~h);else{const m=h,y=u[++d],R=u[++d];Os(y,m),R(2,l[m])}}}finally{Bt(-1)}}(a,l);const R=a.components;null!==R&&function qb(a,l){for(let u=0;u<l.length;u++)gy(a,l[u])}(l,R);const J=a.viewQuery;if(null!==J&&ah(2,J,d),y){const me=a.viewCheckHooks;null!==me&&Ni(l,me)}else{const me=a.viewHooks;null!==me&&os(l,me,2),Io(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Ds(l[3],-1))}finally{xe()}}}function Nm(a,l,u,d,h){const m=ut(),y=2&d;try{Bt(-1),y&&l.length>22&&cm(a,l,22,!1),u(d,h)}finally{Bt(m)}}function Fm(a,l,u){if(an(l)){const h=l.directiveEnd;for(let m=l.directiveStart;m<h;m++){const y=a.data[m];y.contentQueries&&y.contentQueries(1,u[m],m)}}}function Xp(a,l,u){!to()||(function ay(a,l,u,d){const h=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||As(u,l),Bs(d,l);const y=u.initialInputs;for(let R=h;R<m;R++){const J=a.data[R],me=Oo(J);me&&uy(l,u,J);const ze=Vo(l,a,R,u);Bs(ze,l),null!==y&&dy(0,R-h,ze,J,0,y),me&&(ri(u.index,l)[8]=ze)}}(a,l,u,bo(u,l)),128==(128&u.flags)&&function ly(a,l,u){const d=u.directiveStart,h=u.directiveEnd,m=u.index,y=function is(){return Ln.lFrame.currentDirectiveIndex}();try{Bt(m);for(let R=d;R<h;R++){const J=a.data[R],me=l[R];zs(R),(null!==J.hostBindings||0!==J.hostVars||null!==J.hostAttrs)&&Gm(J,me)}}finally{Bt(-1),zs(y)}}(a,l,u))}function eh(a,l,u=bo){const d=l.localNames;if(null!==d){let h=l.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],R=-1===y?u(l,a):a[y];a[h++]=R}}}function Bm(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=th(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function th(a,l,u,d,h,m,y,R,J,me){const ze=22+d,nt=ze+h,Tt=function ey(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:ii);return u}(ze,nt),Nt="function"==typeof me?me():me;return Tt[1]={type:a,blueprint:Tt,template:u,queries:null,viewQuery:R,declTNode:l,data:Tt.slice().fill(null,ze),bindingStartIndex:ze,expandoStartIndex:nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:J,consts:Nt,incompleteFirstPass:!1}}function Hm(a,l,u,d){const h=Ym(l);null===u?h.push(d):(h.push(u),a.firstCreatePass&&$m(a).push(d,h.length-1))}function Vm(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const h=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,h):u[d]=[l,h]}return u}function Zm(a,l){const d=l.directiveEnd,h=a.data,m=l.attrs,y=[];let R=null,J=null;for(let me=l.directiveStart;me<d;me++){const ze=h[me],nt=ze.inputs,Tt=null===m||nm(l)?null:py(nt,m);y.push(Tt),R=Vm(nt,me,R),J=Vm(ze.outputs,me,J)}null!==R&&(R.hasOwnProperty("class")&&(l.flags|=16),R.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=y,l.inputs=R,l.outputs=J}function Um(a,l){const u=ri(l,a);16&u[2]||(u[2]|=32)}function nh(a,l,u,d){let h=!1;if(to()){const m=function Qm(a,l,u){const d=a.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const y=d[m];im(u,y.selectors,!1)&&(h||(h=[]),us(As(u,l),a,y.type),Oo(y)?(Qc(a,u),h.unshift(y)):h.push(y))}return h}(a,l,u),y=null===d?null:{"":-1};if(null!==m){h=!0,jm(u,a.data.length,m.length);for(let ze=0;ze<m.length;ze++){const nt=m[ze];nt.providersResolver&&nt.providersResolver(nt)}let R=!1,J=!1,me=ec(a,l,m.length,null);for(let ze=0;ze<m.length;ze++){const nt=m[ze];u.mergedAttrs=En(u.mergedAttrs,nt.hostAttrs),Wm(a,u,l,me,nt),cy(me,nt,y),null!==nt.contentQueries&&(u.flags|=8),(null!==nt.hostBindings||null!==nt.hostAttrs||0!==nt.hostVars)&&(u.flags|=128);const Tt=nt.type.prototype;!R&&(Tt.ngOnChanges||Tt.ngOnInit||Tt.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),R=!0),!J&&(Tt.ngOnChanges||Tt.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),J=!0),me++}Zm(a,u)}y&&function Jm(a,l,u){if(l){const d=a.localNames=[];for(let h=0;h<l.length;h+=2){const m=u[l[h+1]];if(null==m)throw new ke(-301,!1);d.push(l[h],m)}}}(u,d,y)}return u.mergedAttrs=En(u.mergedAttrs,u.attrs),h}function zm(a,l,u,d,h,m){const y=m.hostBindings;if(y){let R=a.hostBindingOpCodes;null===R&&(R=a.hostBindingOpCodes=[]);const J=~l.index;(function ry(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(R)!=J&&R.push(J),R.push(d,h,y)}}function Gm(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Qc(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function cy(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;Oo(l)&&(u[""]=a)}}function jm(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function Wm(a,l,u,d,h){a.data[d]=h;const m=h.factory||(h.factory=Po(h.type)),y=new Ps(m,Oo(h),ql);a.blueprint[d]=y,u[d]=y,zm(a,l,0,d,ec(a,u,h.hostVars,ii),h)}function uy(a,l,u){const d=bo(l,a),h=Bm(u),m=a[10],y=ud(a,ld(a,h,null,u.onPush?32:16,d,l,m,m.createRenderer(d,u),null,null,null));a[l.index]=y}function ua(a,l,u,d,h,m){const y=bo(a,l);!function ih(a,l,u,d,h,m,y){if(null==m)a.removeAttribute(l,h,u);else{const R=null==y?Fe(m):y(m,d||"",h);a.setAttribute(l,h,R,u)}}(l[11],y,m,a.value,u,d,h)}function dy(a,l,u,d,h,m){const y=m[l];if(null!==y){const R=d.setInput;for(let J=0;J<y.length;){const me=y[J++],ze=y[J++],nt=y[J++];null!==R?d.setInput(u,nt,me,ze):u[ze]=nt}}}function py(a,l){let u=null,d=0;for(;d<l.length;){const h=l[d];if(0!==h)if(5!==h){if("number"==typeof h)break;a.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,a[h],l[d+1])),d+=2}else d+=2;else d+=4}return u}function Km(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function gy(a,l){const u=ri(l,a);if(es(u)){const d=u[1];48&u[2]?cd(d,u,d.template,u[8]):u[5]>0&&sh(u)}}function sh(a){for(let d=hf(a);null!==d;d=gf(d))for(let h=10;h<d.length;h++){const m=d[h];if(es(m))if(512&m[2]){const y=m[1];cd(y,m,y.template,m[8])}else m[5]>0&&sh(m)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=ri(u[d],a);es(h)&&h[5]>0&&sh(h)}}function fy(a,l){const u=ri(l,a),d=u[1];(function my(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),qp(d,u,u[8])}function ud(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function rh(a){for(;a;){a[2]|=32;const l=Gu(a);if(hs(a)&&!l)return a;a=l}return null}function dd(a,l,u,d=!0){const h=l[10];h.begin&&h.begin();try{cd(a,l,a.template,u)}catch(y){throw d&&Xm(l,y),y}finally{h.end&&h.end()}}function ah(a,l,u){Gs(0),l(a,u)}function Ym(a){return a[7]||(a[7]=[])}function $m(a){return a.cleanup||(a.cleanup=[])}function Xm(a,l){const u=a[9],d=u?u.get(ul,null):null;d&&d.handleError(l)}function lh(a,l,u,d,h){for(let m=0;m<u.length;){const y=u[m++],R=u[m++],J=l[y],me=a.data[y];null!==me.setInput?me.setInput(J,h,d,R):J[R]=h}}function La(a,l,u){const d=cs(l,a);!function M0(a,l,u){a.setValue(l,u)}(a[11],d,u)}function pd(a,l,u){let d=u?a.styles:null,h=u?a.classes:null,m=0;if(null!==l)for(let y=0;y<l.length;y++){const R=l[y];"number"==typeof R?m=R:1==m?h=re(h,R):2==m&&(d=re(d,R+": "+l[++y]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=h:a.classesWithoutHost=h}function Jc(a,l,u,d,h=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&d.push(Gi(m)),zt(m))for(let R=10;R<m.length;R++){const J=m[R],me=J[1].firstChild;null!==me&&Jc(J[1],J,me,d)}const y=u.type;if(8&y)Jc(a,l,u.child,d);else if(32&y){const R=pf(u,l);let J;for(;J=R();)d.push(J)}else if(16&y){const R=U0(l,u);if(Array.isArray(R))d.push(...R);else{const J=Gu(l[16]);Jc(J[1],J,R,d,!0)}}u=h?u.projectionNext:u.next}return d}class jc{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Jc(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(zt(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(ff(l,d),Gr(u,d))}this._attachedToViewContainer=!1}R0(this._lView[1],this._lView)}onDestroy(l){Hm(this._lView[1],this._lView,null,l)}markForCheck(){rh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){dd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O1(a,l){Hc(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=l}}class _y extends jc{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;dd(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class ch extends Wl{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=$t(l);return new Wc(u,this.ngModule)}}function e_(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class vy{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,d){const h=this.injector.get(l,Pp,d);return h!==Pp||u===Pp?h:this.parentInjector.get(l,u,d)}}class Wc extends td{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function rm(a){return a.map(Ab).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return e_(this.componentDef.inputs)}get outputs(){return e_(this.componentDef.outputs)}create(l,u,d,h){let m=(h=h||this.ngModule)instanceof Ra?h:null==h?void 0:h.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new vy(l,m):l,R=y.get(jf,null);if(null===R)throw new ke(407,!1);const J=y.get(ub,null),me=R.createRenderer(null,this.componentDef),ze=this.componentDef.selectors[0][0]||"div",nt=d?function ty(a,l,u){return a.selectRootElement(l,u===It.ShadowDom)}(me,d,this.componentDef.encapsulation):Ju(me,ze,function Cy(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(ze)),Tt=this.componentDef.onPush?288:272,Nt=th(0,null,null,1,0,null,null,null,null,null),qt=ld(null,Nt,null,Tt,null,null,R,me,J,y,null);let dn,_n;rr(qt);try{const wn=function Iy(a,l,u,d,h,m){const y=u[1];u[22]=a;const J=Xl(y,22,2,"#host",null),me=J.mergedAttrs=l.hostAttrs;null!==me&&(pd(J,me,!0),null!==a&&(Lt(h,a,me),null!==J.classes&&Af(h,a,J.classes),null!==J.styles&&Q0(h,a,J.styles)));const ze=d.createRenderer(a,l),nt=ld(u,Bm(l),null,l.onPush?32:16,u[22],J,d,ze,m||null,null,null);return y.firstCreatePass&&(us(As(J,u),y,l.type),Qc(y,J),jm(J,u.length,1)),ud(u,nt),u[22]=nt}(nt,this.componentDef,qt,R,me);if(nt)if(d)Lt(me,nt,["ng-version",Yf.full]);else{const{attrs:Un,classes:on}=function am(a){const l=[],u=[];let d=1,h=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===h?""!==m&&l.push(m,a[++d]):8===h&&u.push(m);else{if(!Qr(h))break;h=m}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Un&&Lt(me,nt,Un),on&&on.length>0&&Af(me,nt,on.join(" "))}if(_n=Nr(Nt,22),void 0!==u){const Un=_n.projection=[];for(let on=0;on<this.ngContentSelectors.length;on++){const Qn=u[on];Un.push(null!=Qn?Array.from(Qn):null)}}dn=function Ay(a,l,u,d){const h=u[1],m=function sy(a,l,u){const d=Li();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Wm(a,d,l,ec(a,l,1,null),u),Zm(a,d));const h=Vo(l,a,d.directiveStart,d);Bs(h,l);const m=bo(d,l);return m&&Bs(m,l),h}(h,u,l);if(a[8]=u[8]=m,null!==d)for(const R of d)R(m,l);if(l.contentQueries){const R=Li();l.contentQueries(1,m,R.directiveStart)}const y=Li();return!h.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Bt(y.index),zm(u[1],y,0,y.directiveStart,y.directiveEnd,l),Gm(l,m)),m}(wn,this.componentDef,qt,[Ty]),qp(Nt,qt,null)}finally{xe()}return new yy(this.componentType,dn,aa(_n,qt),qt,_n)}}class yy extends class ab{}{constructor(l,u,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new _y(h),this.componentType=l}setInput(l,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[l])){const m=this._rootLView;lh(m[1],m,h,l,u),Um(m,this._tNode.index)}}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Ty(){const a=Li();fi(nn()[1],a)}function uh(a){let l=function t_(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let h;if(Oo(a))h=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ke(903,!1);h=l.\u0275dir}if(h){if(u){d.push(h);const y=a;y.inputs=dh(a.inputs),y.declaredInputs=dh(a.declaredInputs),y.outputs=dh(a.outputs);const R=h.hostBindings;R&&Sy(a,R);const J=h.viewQuery,me=h.contentQueries;if(J&&xy(a,J),me&&Ey(a,me),U(a.inputs,h.inputs),U(a.declaredInputs,h.declaredInputs),U(a.outputs,h.outputs),Oo(h)&&h.data.animation){const ze=a.data;ze.animation=(ze.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const R=m[y];R&&R.ngInherit&&R(a),R===uh&&(u=!1)}}l=Object.getPrototypeOf(l)}!function wy(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const h=a[d];h.hostVars=l+=h.hostVars,h.hostAttrs=En(h.hostAttrs,u=En(u,h.hostAttrs))}}(d)}function dh(a){return a===Qe?{}:a===Ot?[]:a}function xy(a,l){const u=a.viewQuery;a.viewQuery=u?(d,h)=>{l(d,h),u(d,h)}:l}function Ey(a,l){const u=a.contentQueries;a.contentQueries=u?(d,h,m)=>{l(d,h,m),u(d,h,m)}:l}function Sy(a,l){const u=a.hostBindings;a.hostBindings=u?(d,h)=>{l(d,h),u(d,h)}:l}let hd=null;function hl(){if(!hd){const a=S.Symbol;if(a&&a.iterator)hd=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(hd=d)}}}return hd}function Kc(a){return!!gd(a)&&(Array.isArray(a)||!(a instanceof Map)&&hl()in a)}function gd(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function da(a,l,u){return a[l]=u}function Yc(a,l){return a[l]}function xs(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function gl(a,l,u,d){const h=xs(a,l,u);return xs(a,l+1,d)||h}function fd(a,l,u,d,h){const m=gl(a,l,u,d);return xs(a,l+2,h)||m}function Sr(a,l,u,d,h,m){const y=gl(a,l,u,d);return gl(a,l+2,h,m)||y}function ph(a,l,u,d){const h=nn();return xs(h,Tn(),l)&&(ei(),ua(jt(),h,a,l,u,d)),ph}function d_(a,l,u,d,h,m,y,R){const J=nn(),me=ei(),ze=a+22,nt=me.firstCreatePass?function Ny(a,l,u,d,h,m,y,R,J){const me=l.consts,ze=Xl(l,a,4,y||null,yo(me,R));nh(l,u,ze,yo(me,J)),fi(l,ze);const nt=ze.tViews=th(2,ze,d,h,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,me);return null!==l.queries&&(l.queries.template(l,ze),nt.queries=l.queries.embeddedTView(ze)),ze}(ze,me,J,l,u,d,h,m,y):me.data[ze];Hi(nt,!1);const Tt=J[11].createComment("");fp(me,J,Tt,nt),Bs(Tt,J),ud(J,J[ze]=Km(Tt,J,Tt,nt)),Hs(nt)&&Xp(me,J,nt),null!=y&&eh(J,nt,R)}function p_(a){return Ms(function or(){return Ln.lFrame.contextLView}(),22+a)}function hh(a,l,u){const d=nn();return xs(d,Tn(),l)&&function dr(a,l,u,d,h,m,y,R){const J=bo(l,u);let ze,me=l.inputs;!R&&null!=me&&(ze=me[d])?(lh(a,u,ze,d,h),as(l)&&Um(u,l.index)):3&l.type&&(d=function iy(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),h=null!=y?y(h,l.value||"",d):h,m.setProperty(J,d,h))}(ei(),jt(),d,a,l,d[11],u,!1),hh}function gh(a,l,u,d,h){const y=h?"class":"style";lh(a,u,l.inputs[y],y,d)}function md(a,l,u,d){const h=nn(),m=ei(),y=22+a,R=h[11],J=h[y]=Ju(R,l,function ti(){return Ln.lFrame.currentNamespace}()),me=m.firstCreatePass?function By(a,l,u,d,h,m,y){const R=l.consts,me=Xl(l,a,2,h,yo(R,m));return nh(l,u,me,yo(R,y)),null!==me.attrs&&pd(me,me.attrs,!1),null!==me.mergedAttrs&&pd(me,me.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,me),me}(y,m,h,0,l,u,d):m.data[y];Hi(me,!0);const ze=me.mergedAttrs;null!==ze&&Lt(R,J,ze);const nt=me.classes;null!==nt&&Af(R,J,nt);const Tt=me.styles;return null!==Tt&&Q0(R,J,Tt),64!=(64&me.flags)&&fp(m,h,J,me),0===function _s(){return Ln.lFrame.elementDepthCount}()&&Bs(J,h),function Fo(){Ln.lFrame.elementDepthCount++}(),Hs(me)&&(Xp(m,h,me),Fm(m,me,h)),null!==d&&eh(h,me),md}function _d(){let a=Li();bs()?Br():(a=a.parent,Hi(a,!1));const l=a;!function ho(){Ln.lFrame.elementDepthCount--}();const u=ei();return u.firstCreatePass&&(fi(u,a),an(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Re(a){return 0!=(16&a.flags)}(l)&&gh(u,l,nn(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ke(a){return 0!=(32&a.flags)}(l)&&gh(u,l,nn(),l.stylesWithoutHost,!1),_d}function fh(a,l,u,d){return md(a,l,u,d),_d(),fh}function Cd(a,l,u){const d=nn(),h=ei(),m=a+22,y=h.firstCreatePass?function Hy(a,l,u,d,h){const m=l.consts,y=yo(m,d),R=Xl(l,a,8,"ng-container",y);return null!==y&&pd(R,y,!0),nh(l,u,R,yo(m,h)),null!==l.queries&&l.queries.elementStart(l,R),R}(m,h,d,l,u):h.data[m];Hi(y,!0);const R=d[m]=d[11].createComment("");return fp(h,d,R,y),Bs(R,d),Hs(y)&&(Xp(h,d,y),Fm(h,y,d)),null!=u&&eh(d,y),Cd}function vd(){let a=Li();const l=ei();return bs()?Br():(a=a.parent,Hi(a,!1)),l.firstCreatePass&&(fi(l,a),an(a)&&l.queries.elementEnd(a)),vd}function mh(a,l,u){return Cd(a,l,u),vd(),mh}function h_(){return nn()}function _h(a){return!!a&&"function"==typeof a.then}function g_(a){return!!a&&"function"==typeof a.subscribe}const f_=g_;function Ch(a,l,u,d){const h=nn(),m=ei(),y=Li();return function __(a,l,u,d,h,m,y,R){const J=Hs(d),ze=a.firstCreatePass&&$m(a),nt=l[8],Tt=Ym(l);let Nt=!0;if(3&d.type||R){const _n=bo(d,l),wn=R?R(_n):_n,Un=Tt.length,on=R?Ai=>R(Gi(Ai[d.index])):d.index;let Qn=null;if(!R&&J&&(Qn=function Vy(a,l,u,d){const h=a.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===u&&h[m+1]===d){const R=l[7],J=h[m+2];return R.length>J?R[J]:null}"string"==typeof y&&(m+=2)}return null}(a,l,h,d.index)),null!==Qn)(Qn.__ngLastListenerFn__||Qn).__ngNextListenerFn__=m,Qn.__ngLastListenerFn__=m,Nt=!1;else{m=v_(d,l,nt,m,!1);const Ai=u.listen(wn,h,m);Tt.push(m,Ai),ze&&ze.push(h,on,Un,Un+1)}}else m=v_(d,l,nt,m,!1);const qt=d.outputs;let dn;if(Nt&&null!==qt&&(dn=qt[h])){const _n=dn.length;if(_n)for(let wn=0;wn<_n;wn+=2){const lo=l[dn[wn]][dn[wn+1]].subscribe(m),qr=Tt.length;Tt.push(m,lo),ze&&ze.push(h,d.index,qr,-(qr+1))}}}(m,h,h[11],y,a,l,0,d),Ch}function C_(a,l,u,d){try{return!1!==u(d)}catch(h){return Xm(a,h),!1}}function v_(a,l,u,d,h){return function m(y){if(y===Function)return d;rh(2&a.flags?ri(a.index,l):l);let J=C_(l,0,d,y),me=m.__ngNextListenerFn__;for(;me;)J=C_(l,0,me,y)&&J,me=me.__ngNextListenerFn__;return h&&!1===J&&(y.preventDefault(),y.returnValue=!1),J}}function b_(a=1){return function ne(a){return(Ln.lFrame.contextLView=function He(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ln.lFrame.contextLView))[8]}(a)}function Zy(a,l){let u=null;const d=function bb(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let h=0;h<l.length;h++){const m=l[h];if("*"!==m){if(null===d?im(a,m,!0):Ib(d,m))return h}else u=h}return u}function y_(a){const l=nn()[16][6];if(!l.projection){const d=l.projection=xa(a?a.length:1,null),h=d.slice();let m=l.child;for(;null!==m;){const y=a?Zy(m,a):0;null!==y&&(h[y]?h[y].projectionNext=m:d[y]=m,h[y]=m),m=m.next}}}function I_(a,l=0,u){const d=nn(),h=ei(),m=Xl(h,22+a,16,null,u||null);null===m.projection&&(m.projection=l),Br(),64!=(64&m.flags)&&function z0(a,l,u){G0(l[11],0,l,u,L0(a,u,l),B0(u.parent||l[6],u,l))}(h,d,m)}function D_(a,l,u,d,h){const m=a[u+1],y=null===l;let R=d?Jr(m):ca(m),J=!1;for(;0!==R&&(!1===J||y);){const ze=a[R+1];Gy(a[R],l)&&(J=!0,a[R+1]=d?zp(ze):Zp(ze)),R=d?Jr(ze):ca(ze)}J&&(a[u+1]=d?Zp(m):zp(m))}function Gy(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&dt(a,l)>=0}const Yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function O_(a){return a.substring(Yo.key,Yo.keyEnd)}function Qy(a){return a.substring(Yo.value,Yo.valueEnd)}function P_(a,l){const u=Yo.textEnd;return u===l?-1:(l=Yo.keyEnd=function yd(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Yo.key=l,u),uc(a,l,u))}function R_(a,l){const u=Yo.textEnd;let d=Yo.key=uc(a,l,u);return u===d?-1:(d=Yo.keyEnd=function Wy(a,l,u){let d;for(;l<u&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,u),d=N_(a,d,u),d=Yo.value=uc(a,d,u),d=Yo.valueEnd=function bh(a,l,u){let d=-1,h=-1,m=-1,y=l,R=y;for(;y<u;){const J=a.charCodeAt(y++);if(59===J)return R;34===J||39===J?R=y=F_(a,J,y,u):l===y-4&&85===m&&82===h&&76===d&&40===J?R=y=F_(a,41,y,u):J>32&&(R=y),m=h,h=d,d=-33&J}return R}(a,d,u),N_(a,d,u))}function L_(a){Yo.key=0,Yo.keyEnd=0,Yo.value=0,Yo.valueEnd=0,Yo.textEnd=a.length}function uc(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function N_(a,l,u,d){return(l=uc(a,l,u))<u&&l++,l}function F_(a,l,u,d){let h=-1,m=u;for(;m<d;){const y=a.charCodeAt(m++);if(y==l&&92!==h)return m;h=92==y&&92===h?0:y}throw new Error}function yh(a,l,u){return Wr(a,l,u,!1),yh}function Ih(a,l){return Wr(a,l,null,!0),Ih}function jr(a){Kr(V_,Ky,a,!1)}function Ky(a,l){for(let u=function jy(a){return L_(a),R_(a,uc(a,0,Yo.textEnd))}(l);u>=0;u=R_(l,u))V_(a,O_(l),Qy(l))}function B_(a){Kr(Ne,pa,a,!0)}function pa(a,l){for(let u=function Jy(a){return L_(a),P_(a,uc(a,0,Yo.textEnd))}(l);u>=0;u=P_(l,u))Ne(a,O_(l),!0)}function Wr(a,l,u,d){const h=nn(),m=ei(),y=pi(2);m.firstUpdatePass&&H_(m,a,y,d),l!==ii&&xs(h,y,l)&&Z_(m,m.data[ut()],h,h[11],a,h[y+1]=function nI(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=le(Oa(a)))),a}(l,u),d,y)}function Kr(a,l,u,d){const h=ei(),m=pi(2);h.firstUpdatePass&&H_(h,null,m,d);const y=nn();if(u!==ii&&xs(y,m,u)){const R=h.data[ut()];if(z_(R,d)&&!dc(h,m)){let J=d?R.classesWithoutHost:R.stylesWithoutHost;null!==J&&(u=re(J,u||"")),gh(h,R,y,u,d)}else!function tI(a,l,u,d,h,m,y,R){h===ii&&(h=Ot);let J=0,me=0,ze=0<h.length?h[0]:null,nt=0<m.length?m[0]:null;for(;null!==ze||null!==nt;){const Tt=J<h.length?h[J+1]:void 0,Nt=me<m.length?m[me+1]:void 0;let dn,qt=null;ze===nt?(J+=2,me+=2,Tt!==Nt&&(qt=nt,dn=Nt)):null===nt||null!==ze&&ze<nt?(J+=2,qt=ze):(me+=2,qt=nt,dn=Nt),null!==qt&&Z_(a,l,u,d,qt,dn,y,R),ze=J<h.length?h[J]:null,nt=me<m.length?m[me]:null}}(h,R,y,y[11],y[m+1],y[m+1]=function eI(a,l,u){if(null==u||""===u)return Ot;const d=[],h=Oa(u);if(Array.isArray(h))for(let m=0;m<h.length;m++)a(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&a(d,m,h[m]);else"string"==typeof h&&l(d,h);return d}(a,l,u),d,m)}}function dc(a,l){return l>=a.expandoStartIndex}function H_(a,l,u,d){const h=a.data;if(null===h[u+1]){const m=h[ut()],y=dc(a,u);z_(m,d)&&null===l&&!y&&(l=!1),l=function Yy(a,l,u,d){const h=function ys(a){const l=Ln.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let m=d?l.residualClasses:l.residualStyles;if(null===h)0===(d?l.classBindings:l.styleBindings)&&(u=$c(u=Ah(null,a,l,u,d),l.attrs,d),m=null);else{const y=l.directiveStylingLast;if(-1===y||a[y]!==h)if(u=Ah(h,a,l,u,d),null===m){let J=function $y(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==ca(d))return a[Jr(d)]}(a,l,d);void 0!==J&&Array.isArray(J)&&(J=Ah(null,a,l,J[1],d),J=$c(J,l.attrs,d),function qy(a,l,u,d){a[Jr(u?l.classBindings:l.styleBindings)]=d}(a,l,d,J))}else m=function Xy(a,l,u){let d;const h=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<h;m++)d=$c(d,a[m].hostAttrs,u);return $c(d,l.attrs,u)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),u}(h,m,l,d),function Uy(a,l,u,d,h,m){let y=m?l.classBindings:l.styleBindings,R=Jr(y),J=ca(y);a[d]=u;let ze,me=!1;if(Array.isArray(u)){const nt=u;ze=nt[1],(null===ze||dt(nt,ze)>0)&&(me=!0)}else ze=u;if(h)if(0!==J){const Tt=Jr(a[R+1]);a[d+1]=sd(Tt,R),0!==Tt&&(a[Tt+1]=Up(a[Tt+1],d)),a[R+1]=function xm(a,l){return 131071&a|l<<17}(a[R+1],d)}else a[d+1]=sd(R,0),0!==R&&(a[R+1]=Up(a[R+1],d)),R=d;else a[d+1]=sd(J,0),0===R?R=d:a[J+1]=Up(a[J+1],d),J=d;me&&(a[d+1]=Zp(a[d+1])),D_(a,ze,d,!0),D_(a,ze,d,!1),function zy(a,l,u,d,h){const m=h?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&dt(m,l)>=0&&(u[d+1]=zp(u[d+1]))}(l,ze,a,d,m),y=sd(R,J),m?l.classBindings=y:l.styleBindings=y}(h,m,l,u,y,d)}}function Ah(a,l,u,d,h){let m=null;const y=u.directiveEnd;let R=u.directiveStylingLast;for(-1===R?R=u.directiveStart:R++;R<y&&(m=l[R],d=$c(d,m.hostAttrs,h),m!==a);)R++;return null!==a&&(u.directiveStylingLast=R),d}function $c(a,l,u){const d=u?1:2;let h=-1;if(null!==l)for(let m=0;m<l.length;m++){const y=l[m];"number"==typeof y?h=y:h===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ne(a,y,!!u||l[++m]))}return void 0===a?null:a}function V_(a,l,u){Ne(a,l,Oa(u))}function Z_(a,l,u,d,h,m,y,R){if(!(3&l.type))return;const J=a.data,me=J[R+1];Id(function Em(a){return 1==(1&a)}(me)?U_(J,l,u,h,ca(me),y):void 0)||(Id(m)||function wm(a){return 2==(2&a)}(me)&&(m=U_(J,null,u,h,R,y)),function V1(a,l,u,d,h){if(l)h?a.addClass(u,d):a.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:Da.DashCase;null==h?a.removeStyle(u,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Da.Important),a.setStyle(u,d,h,m))}}(d,y,cs(ut(),u),h,m))}function U_(a,l,u,d,h,m){const y=null===l;let R;for(;h>0;){const J=a[h],me=Array.isArray(J),ze=me?J[1]:J,nt=null===ze;let Tt=u[h+1];Tt===ii&&(Tt=nt?Ot:void 0);let Nt=nt?lt(Tt,d):ze===d?Tt:void 0;if(me&&!Id(Nt)&&(Nt=lt(J,d)),Id(Nt)&&(R=Nt,y))return R;const qt=a[h+1];h=y?Jr(qt):ca(qt)}if(null!==l){let J=m?l.residualClasses:l.residualStyles;null!=J&&(R=lt(J,d))}return R}function Id(a){return void 0!==a}function z_(a,l){return 0!=(a.flags&(l?16:32))}function G_(a,l=""){const u=nn(),d=ei(),h=a+22,m=d.firstCreatePass?Xl(d,h,1,l,null):d.data[h],y=u[h]=function Qu(a,l){return a.createText(l)}(u[11],l);fp(d,u,y,m),Hi(m,!1)}function Th(a){return Ad("",a,""),Th}function Ad(a,l,u){const d=nn(),h=function nc(a,l,u,d){return xs(a,Tn(),u)?l+Fe(u)+d:ii}(d,a,l,u);return h!==ii&&La(d,ut(),h),Ad}function wh(a,l,u,d,h){const m=nn(),y=function ic(a,l,u,d,h,m){const R=gl(a,Ze(),u,h);return pi(2),R?l+Fe(u)+d+Fe(h)+m:ii}(m,a,l,u,d,h);return y!==ii&&La(m,ut(),y),wh}function pc(a,l,u,d,h,m,y){const R=nn(),J=function oc(a,l,u,d,h,m,y,R){const me=fd(a,Ze(),u,h,y);return pi(3),me?l+Fe(u)+d+Fe(h)+m+Fe(y)+R:ii}(R,a,l,u,d,h,m,y);return J!==ii&&La(R,ut(),J),pc}function xh(a,l,u,d,h,m,y,R,J){const me=nn(),ze=function sc(a,l,u,d,h,m,y,R,J,me){const nt=Sr(a,Ze(),u,h,y,J);return pi(4),nt?l+Fe(u)+d+Fe(h)+m+Fe(y)+R+Fe(J)+me:ii}(me,a,l,u,d,h,m,y,R,J);return ze!==ii&&La(me,ut(),ze),xh}const Go=void 0;var nC=["en",[["a","p"],["AM","PM"],Go],[["AM","PM"],Go,Go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Go,"{1} 'at' {0}",Go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eu(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let fc={};function Dh(a,l,u){"string"!=typeof l&&(u=l,l=a[zn.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),fc[l]=a,u&&(fc[l][zn.ExtraData]=u)}function mc(a){const l=function Ph(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=ga(l);if(u)return u;const d=l.split("-")[0];if(u=ga(d),u)return u;if("en"===d)return nC;throw new ke(701,!1)}function Oh(a){return mc(a)[zn.PluralCase]}function ga(a){return a in fc||(fc[a]=S.ng&&S.ng.common&&S.ng.common.locales&&S.ng.common.locales[a]),fc[a]}var zn=(()=>((zn=zn||{})[zn.LocaleId=0]="LocaleId",zn[zn.DayPeriodsFormat=1]="DayPeriodsFormat",zn[zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",zn[zn.DaysFormat=3]="DaysFormat",zn[zn.DaysStandalone=4]="DaysStandalone",zn[zn.MonthsFormat=5]="MonthsFormat",zn[zn.MonthsStandalone=6]="MonthsStandalone",zn[zn.Eras=7]="Eras",zn[zn.FirstDayOfWeek=8]="FirstDayOfWeek",zn[zn.WeekendRange=9]="WeekendRange",zn[zn.DateFormat=10]="DateFormat",zn[zn.TimeFormat=11]="TimeFormat",zn[zn.DateTimeFormat=12]="DateTimeFormat",zn[zn.NumberSymbols=13]="NumberSymbols",zn[zn.NumberFormats=14]="NumberFormats",zn[zn.CurrencyCode=15]="CurrencyCode",zn[zn.CurrencySymbol=16]="CurrencySymbol",zn[zn.CurrencyName=17]="CurrencyName",zn[zn.Currencies=18]="Currencies",zn[zn.Directionality=19]="Directionality",zn[zn.PluralCase=20]="PluralCase",zn[zn.ExtraData=21]="ExtraData",zn))();const ml="en-US";let Rh=ml;function jh(a,l,u,d,h){if(a=ue(a),Array.isArray(a))for(let m=0;m<a.length;m++)jh(a[m],l,u,d,h);else{const m=ei(),y=nn();let R=Pa(a)?a:ue(a.provide),J=Dp(a);const me=Li(),ze=1048575&me.providerIndexes,nt=me.directiveStart,Tt=me.providerIndexes>>20;if(Pa(a)||!a.multi){const Nt=new Ps(J,h,ql),qt=ru(R,l,h?ze:ze+Tt,nt);-1===qt?(us(As(me,y),m,R),OC(m,a,l.length),l.push(R),me.directiveStart++,me.directiveEnd++,h&&(me.providerIndexes+=1048576),u.push(Nt),y.push(Nt)):(u[qt]=Nt,y[qt]=Nt)}else{const Nt=ru(R,l,ze+Tt,nt),qt=ru(R,l,ze,ze+Tt),dn=Nt>=0&&u[Nt],_n=qt>=0&&u[qt];if(h&&!_n||!h&&!dn){us(As(me,y),m,R);const wn=function RC(a,l,u,d,h){const m=new Ps(a,u,ql);return m.multi=[],m.index=l,m.componentProviders=0,Wh(m,h,d&&!u),m}(h?Dd:PC,u.length,h,d,J);!h&&_n&&(u[qt].providerFactory=wn),OC(m,a,l.length,0),l.push(R),me.directiveStart++,me.directiveEnd++,h&&(me.providerIndexes+=1048576),u.push(wn),y.push(wn)}else OC(m,a,Nt>-1?Nt:qt,Wh(u[h?qt:Nt],J,!h&&d));!h&&d&&_n&&u[qt].componentProviders++}}}function OC(a,l,u,d){const h=Pa(l),m=function Ql(a){return!!a.useClass}(l);if(h||m){const J=(m?ue(l.useClass):l).prototype.ngOnDestroy;if(J){const me=a.destroyHooks||(a.destroyHooks=[]);if(!h&&l.multi){const ze=me.indexOf(u);-1===ze?me.push(u,[d,J]):me[ze+1].push(d,J)}else me.push(u,J)}}}function Wh(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function ru(a,l,u,d){for(let h=u;h<d;h++)if(l[h]===a)return h;return-1}function PC(a,l,u,d){return Kh(this.multi,[])}function Dd(a,l,u,d){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,R=Vo(u,u[1],this.providerFactory.index,d);m=R.slice(0,y),Kh(h,m);for(let J=y;J<R.length;J++)m.push(R[J])}else m=[],Kh(h,m);return m}function Kh(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function LC(a,l=[]){return u=>{u.providersResolver=(d,h)=>function FI(a,l,u){const d=ei();if(d.firstCreatePass){const h=Oo(a);jh(u,d.data,d.blueprint,h,!0),jh(l,d.data,d.blueprint,h,!1)}}(d,h?h(a):a,l)}}class bl{}class Od{}function BI(a,l){return new NC(a,null!=l?l:null)}class NC extends bl{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ch(this);const d=Ci(l);this._bootstrapComponents=la(d.bootstrap),this._r3Injector=gm(l,u,[{provide:bl,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],le(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class au extends Od{constructor(l){super(),this.moduleType=l}create(l){return new NC(this.moduleType,l)}}class Es extends bl{constructor(l,u,d){super(),this.componentFactoryResolver=new ch(this),this.instance=null;const h=new ed([...l,{provide:bl,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],u||Jl(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Pd(a,l,u=null){return new Es(a,l,u).injector}let HI=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=ob(0,u.type),h=d.length>0?Pd([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=fe({token:a,providedIn:"environment",factory:()=>new a(ko(Ra))}),a})();function VI(a){a.getStandaloneInjector=l=>l.get(HI).getOrCreateStandaloneInjector(a)}function UC(a,l,u){const d=z()+a,h=nn();return h[d]===ii?da(h,d,u?l.call(u):l()):Yc(h,d)}function zC(a,l,u,d){return cu(nn(),z(),a,l,u,d)}function GC(a,l,u,d,h){return YC(nn(),z(),a,l,u,d,h)}function QC(a,l,u,d,h,m){return ng(nn(),z(),a,l,u,d,h,m)}function JC(a,l,u,d,h,m,y){return $C(nn(),z(),a,l,u,d,h,m,y)}function jC(a,l,u,d,h,m,y,R){const J=z()+a,me=nn(),ze=Sr(me,J,u,d,h,m);return xs(me,J+4,y)||ze?da(me,J+5,R?l.call(R,u,d,h,m,y):l(u,d,h,m,y)):Yc(me,J+5)}function WC(a,l,u,d,h,m,y,R,J){const me=z()+a,ze=nn(),nt=Sr(ze,me,u,d,h,m);return gl(ze,me+4,y,R)||nt?da(ze,me+6,J?l.call(J,u,d,h,m,y,R):l(u,d,h,m,y,R)):Yc(ze,me+6)}function KC(a,l,u,d,h,m,y,R,J,me){const ze=z()+a,nt=nn();let Tt=Sr(nt,ze,u,d,h,m);return fd(nt,ze+4,y,R,J)||Tt?da(nt,ze+7,me?l.call(me,u,d,h,m,y,R,J):l(u,d,h,m,y,R,J)):Yc(nt,ze+7)}function Ac(a,l,u,d){return function mi(a,l,u,d,h,m){let y=l+u,R=!1;for(let J=0;J<h.length;J++)xs(a,y++,h[J])&&(R=!0);return R?da(a,y,d.apply(m,h)):lu(a,y)}(nn(),z(),a,l,u,d)}function lu(a,l){const u=a[l];return u===ii?void 0:u}function cu(a,l,u,d,h,m){const y=l+u;return xs(a,y,h)?da(a,y+1,m?d.call(m,h):d(h)):lu(a,y+1)}function YC(a,l,u,d,h,m,y){const R=l+u;return gl(a,R,h,m)?da(a,R+2,y?d.call(y,h,m):d(h,m)):lu(a,R+2)}function ng(a,l,u,d,h,m,y,R){const J=l+u;return fd(a,J,h,m,y)?da(a,J+3,R?d.call(R,h,m,y):d(h,m,y)):lu(a,J+3)}function $C(a,l,u,d,h,m,y,R,J){const me=l+u;return Sr(a,me,h,m,y,R)?da(a,me+4,J?d.call(J,h,m,y,R):d(h,m,y,R)):lu(a,me+4)}function qC(a,l){const u=ei();let d;const h=a+22;u.firstCreatePass?(d=function XC(a,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(a===d.name)return d}}(l,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const m=d.factory||(d.factory=Po(d.type)),y=tn(ql);try{const R=no(!1),J=m();return no(R),function Fy(a,l,u,d){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=d}(u,nn(),h,J),J}finally{tn(y)}}function GI(a,l,u){const d=a+22,h=nn(),m=Ms(h,d);return uu(h,d)?cu(h,z(),l,m.transform,u,m):m.transform(u)}function Ld(a,l,u,d){const h=a+22,m=nn(),y=Ms(m,h);return uu(m,h)?YC(m,z(),l,y.transform,u,d,y):y.transform(u,d)}function ev(a,l,u,d,h){const m=a+22,y=nn(),R=Ms(y,m);return uu(y,m)?ng(y,z(),l,R.transform,u,d,h,R):R.transform(u,d,h)}function tv(a,l,u,d,h,m){const y=a+22,R=nn(),J=Ms(R,y);return uu(R,y)?$C(R,z(),l,J.transform,u,d,h,m,J):J.transform(u,d,h,m)}function uu(a,l){return a[1].data[l].pure}function nv(a){return l=>{setTimeout(a,void 0,l)}}const Fa=class Tc extends e.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var h,m,y;let R=l,J=u||(()=>null),me=d;if(l&&"object"==typeof l){const nt=l;R=null===(h=nt.next)||void 0===h?void 0:h.bind(nt),J=null===(m=nt.error)||void 0===m?void 0:m.bind(nt),me=null===(y=nt.complete)||void 0===y?void 0:y.bind(nt)}this.__isAsync&&(J=nv(J),R&&(R=nv(R)),me&&(me=nv(me)));const ze=super.subscribe({next:R,error:J,complete:me});return l instanceof s.w0&&l.add(ze),ze}};function pr(){return this._results[hl()]()}class du{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=hl(),d=du.prototype;d[u]||(d[u]=pr)}get changes(){return this._changes||(this._changes=new Fa)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const h=Uo(l);(this._changesDetected=!function Ur(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let h=a[d],m=l[d];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yl=(()=>{class a{}return a.__NG_ELEMENT_ID__=Il,a})();const Nd=yl,ig=class extends Nd{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l,u){const d=this._declarationTContainer.tViews,h=ld(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),qp(d,h,l),new jc(h)}};function Il(){return kr(Li(),nn())}function kr(a,l){return 4&a.type?new ig(l,a,aa(a,l)):null}let pu=(()=>{class a{}return a.__NG_ELEMENT_ID__=og,a})();function og(){return Fd(Li(),nn())}const fa=pu,iv=class extends fa{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){const l=Rs(this._hostTNode,this._hostLView);if(Yn(l)){const u=ci(l,this._hostLView),d=Nn(l);return new Js(u[1].data[d+8],u)}return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=ov(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const y=l.createEmbeddedView(u||{},m);return this.insert(y,h),y}createComponent(l,u,d,h,m){const y=l&&!function wa(a){return"function"==typeof a}(l);let R;if(y)R=u;else{const nt=u||{};R=nt.index,d=nt.injector,h=nt.projectableNodes,m=nt.environmentInjector||nt.ngModuleRef}const J=y?l:new Wc($t(l)),me=d||this.parentInjector;if(!m&&null==J.ngModule){const Tt=(y?me:this.parentInjector).get(Ra,null);Tt&&(m=Tt)}const ze=J.create(me,h,void 0,m);return this.insert(ze.hostView,R),ze}insert(l,u){const d=l._lView,h=d[1];if(function na(a){return zt(a[3])}(d)){const ze=this.indexOf(l);if(-1!==ze)this.detach(ze);else{const nt=d[3],Tt=new iv(nt,nt[6],nt[3]);Tt.detach(Tt.indexOf(l))}}const m=this._adjustIndex(u),y=this._lContainer;!function P1(a,l,u,d){const h=10+d,m=u.length;d>0&&(u[h-1][4]=l),d<m-10?(l[4]=u[h],zr(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const y=l[17];null!==y&&u!==y&&function R1(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(y,l);const R=l[19];null!==R&&R.insertView(a),l[2]|=64}(h,d,y,m);const R=bf(m,y),J=d[11],me=Bc(J,y[7]);return null!==me&&function D0(a,l,u,d,h,m){d[0]=h,d[6]=l,Hc(a,d,u,1,h,m)}(h,y[6],J,d,me,R),l.attachToViewContainerRef(),zr(hu(y),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=ov(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=ff(this._lContainer,u);d&&(Gr(hu(this._lContainer),u),R0(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=ff(this._lContainer,u);return d&&null!=Gr(hu(this._lContainer),u)?new jc(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function ov(a){return a[8]}function hu(a){return a[8]||(a[8]=[])}function Fd(a,l){let u;const d=l[a.index];if(zt(d))u=d;else{let h;if(8&a.type)h=Gi(d);else{const m=l[11];h=m.createComment("");const y=bo(a,l);il(m,Bc(m,y),h,function B1(a,l){return a.nextSibling(l)}(m,y),!1)}l[a.index]=u=Km(d,l,h,a),ud(l,u)}return new iv(u,a,l)}class Mr{constructor(l){this.queryList=l,this.matches=null}clone(){return new Mr(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bd{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,h=[];for(let m=0;m<d;m++){const y=u.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new Bd(h)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==uv(l,u).matches&&this.queries[u].setDirty()}}class sg{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Qo{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(l,h);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Qo(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class ma{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new ma(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(l,u,WI(u,m)),this.matchTNodeWithReadOption(l,u,Wn(u,l,m,!1,!1))}else d===yl?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Wn(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Kl||h===pu||h===yl&&4&u.type)this.addMatch(u.index,-2);else{const m=Wn(u,l,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function WI(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function KI(a,l,u,d){return-1===u?function ja(a,l){return 11&a.type?aa(a,l):4&a.type?kr(a,l):null}(l,a):-2===u?function YI(a,l,u){return u===Kl?aa(l,a):u===yl?kr(l,a):u===pu?Fd(l,a):void 0}(a,l,d):Vo(a,a[1],u,l)}function sv(a,l,u,d){const h=l[19].queries[d];if(null===h.matches){const m=a.data,y=u.matches,R=[];for(let J=0;J<y.length;J+=2){const me=y[J];R.push(me<0?null:KI(l,m[me],y[J+1],u.metadata.read))}h.matches=R}return h.matches}function rg(a,l,u,d){const h=a.queries.getByIndex(u),m=h.matches;if(null!==m){const y=sv(a,l,h,u);for(let R=0;R<m.length;R+=2){const J=m[R];if(J>0)d.push(y[R/2]);else{const me=m[R+1],ze=l[-J];for(let nt=10;nt<ze.length;nt++){const Tt=ze[nt];Tt[17]===Tt[3]&&rg(Tt[1],Tt,me,d)}if(null!==ze[9]){const nt=ze[9];for(let Tt=0;Tt<nt.length;Tt++){const Nt=nt[Tt];rg(Nt[1],Nt,me,d)}}}}}return d}function rv(a){const l=nn(),u=ei(),d=sr();Gs(d+1);const h=uv(u,d);if(a.dirty&&function Fr(a){return 4==(4&a[2])}(l)===(2==(2&h.metadata.flags))){if(null===h.matches)a.reset([]);else{const m=h.crossesNgTemplate?rg(u,l,d,[]):sv(u,l,h,d);a.reset(m,oT),a.notifyOnChanges()}return!0}return!1}function gu(a,l,u){const d=ei();d.firstCreatePass&&(cv(d,new sg(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),lv(d,nn(),l)}function Qi(a,l,u,d){const h=ei();if(h.firstCreatePass){const m=Li();cv(h,new sg(l,u,d),m.index),function ag(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(h,a),2==(2&u)&&(h.staticContentQueries=!0)}lv(h,nn(),u)}function av(){return function $I(a,l){return a[19].queries[l].queryList}(nn(),sr())}function lv(a,l,u){const d=new du(4==(4&u));Hm(a,l,d,d.destroy),null===l[19]&&(l[19]=new Bd),l[19].queries.push(new Mr(d))}function cv(a,l,u){null===a.queries&&(a.queries=new Qo),a.queries.track(new ma(l,u))}function uv(a,l){return a.queries.getByIndex(l)}function lg(a,l){return kr(a,l)}function vu(...a){}const yv=new Di("Application Initializer");let El=(()=>{class a{constructor(u){this.appInits=u,this.resolve=vu,this.reject=vu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(_h(m))u.push(m);else if(f_(m)){const y=new Promise((R,J)=>{m.subscribe({complete:R,error:J})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(ko(yv,8))},a.\u0275prov=fe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Cg=new Di("AppId",{providedIn:"root",factory:function Iv(){return`${Qd()}${Qd()}${Qd()}`}});function Qd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Av=new Di("Platform Initializer"),Tv=new Di("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bg=new Di("appBootstrapListener"),yg=new Di("AnimationModuleType");let lA=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fe({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Jd=new Di("LocaleId",{providedIn:"root",factory:()=>hp(Jd,Ye.Optional|Ye.SkipSelf)||function cA(){return"undefined"!=typeof $localize&&$localize.locale||ml}()}),uA=new Di("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pA{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let kc=(()=>{class a{compileModuleSync(u){return new au(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=la(Ci(u).declarations).reduce((y,R)=>{const J=$t(R);return J&&y.push(new Wc(J)),y},[]);return new pA(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const kv=(()=>Promise.resolve(0))();function Ig(a){"undefined"==typeof Zone?kv.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Or{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fa(!1),this.onMicrotaskEmpty=new Fa(!1),this.onStable=new Fa(!1),this.onError=new Fa(!1),"undefined"==typeof Zone)throw new ke(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Ag(){let a=S.requestAnimationFrame,l=S.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function mA(a){const l=()=>{!function Mv(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(S,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,_a(a),a.isCheckStableRunning=!0,Tg(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),_a(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,m,y,R)=>{try{return Dv(a),u.invokeTask(h,m,y,R)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),jd(a)}},onInvoke:(u,d,h,m,y,R,J)=>{try{return Dv(a),u.invoke(h,m,y,R,J)}finally{a.shouldCoalesceRunChangeDetection&&l(),jd(a)}},onHasTask:(u,d,h,m)=>{u.hasTask(h,m),d===h&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,_a(a),Tg(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,h,m)=>(u.handleError(h,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Or.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(Or.isInAngularZone())throw new ke(909,!1)}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,l,fA,vu,vu);try{return m.runTask(y,u,d)}finally{m.cancelTask(y)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const fA={};function Tg(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function _a(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Dv(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function jd(a){a._nesting--,Tg(a)}class Wd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fa,this.onMicrotaskEmpty=new Fa,this.onStable=new Fa,this.onError=new Fa}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,h){return l.apply(u,d)}}const Ca=new Di(""),Ov=new Di("");let yu,wg=(()=>{class a{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yu||(function $T(a){yu=a}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Or.assertNotInAngularZone(),Ig(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ig(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return a.\u0275fac=function(u){return new(u||a)(ko(Or),ko(bu),ko(Ov))},a.\u0275prov=fe({token:a,factory:a.\u0275fac}),a})(),bu=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){var h;return null!==(h=null==yu?void 0:yu.findTestabilityInTree(this,u,d))&&void 0!==h?h:null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fe({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),va=null;const Sl=new Di("AllowMultipleToken"),Iu=new Di("PlatformDestroyListeners");class vA{constructor(l,u){this.name=l,this.token=u}}function Fv(a,l,u=[]){const d=`Platform: ${l}`,h=new Di(d);return(m=[])=>{let y=Eg();if(!y||y.injector.get(Sl,!1)){const R=[...u,...m,{provide:h,useValue:!0}];a?a(R):function Rv(a){if(va&&!va.get(Sl,!1))throw new ke(400,!1);va=a;const l=a.get(Vv);(function Lv(a){const l=a.get(Av,null);l&&l.forEach(u=>u())})(a)}(function Hv(a=[],l){return pl.create({name:l,providers:[{provide:Xu,useValue:"platform"},{provide:Iu,useValue:new Set([()=>va=null])},...a]})}(R,d))}return function Bv(a){const l=Eg();if(!l)throw new ke(401,!1);return l}()}}function Eg(){var a;return null!==(a=null==va?void 0:va.get(Vv))&&void 0!==a?a:null}let Vv=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function Au(a,l){let u;return u="noop"===a?new Wd:("zone.js"===a?void 0:a)||new Or(l),u}(null==d?void 0:d.ngZone,function kl(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Or,useValue:h}];return h.run(()=>{const y=pl.create({providers:m,parent:this.injector,name:u.moduleType.name}),R=u.create(y),J=R.injector.get(ul,null);if(!J)throw new ke(402,!1);return h.runOutsideAngular(()=>{const me=h.onError.subscribe({next:ze=>{J.handleError(ze)}});R.onDestroy(()=>{Wa(this._modules,R),me.unsubscribe()})}),function Kd(a,l,u){try{const d=u();return _h(d)?d.catch(h=>{throw l.runOutsideAngular(()=>a.handleError(h)),h}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(J,h,()=>{const me=R.injector.get(El);return me.runInitializers(),me.donePromise.then(()=>(function Na(a){Se(a,"Expected localeId to be defined"),"string"==typeof a&&(Rh=a.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Jd,ml)||ml),this._moduleDoBootstrap(R),R))})})}bootstrapModule(u,d=[]){const h=Zv({},d);return function _A(a,l,u){const d=new au(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const d=u.injector.get(Yd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new ke(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Iu,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(ko(pl))},a.\u0275prov=fe({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Zv(a,l){return Array.isArray(l)?l.reduce(Zv,a):Object.assign(Object.assign({},a),l)}let Yd=(()=>{class a{constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new g.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),y=new g.y(R=>{let J;this._zone.runOutsideAngular(()=>{J=this._zone.onStable.subscribe(()=>{Or.assertNotInAngularZone(),Ig(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const me=this._zone.onUnstable.subscribe(()=>{Or.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{J.unsubscribe(),me.unsubscribe()}});this.isStable=(0,H.T)(m,y.pipe((0,L.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof td;if(!this._injector.get(El).done)throw!h&&di(u),new ke(405,false);let y;y=h?u:this._injector.get(Wl).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const R=function CA(a){return a.isBoundToModule}(y)?void 0:this._injector.get(bl),me=y.create(pl.NULL,[],d||y.selector,R),ze=me.location.nativeElement,nt=me.injector.get(Ca,null);return null==nt||nt.registerApplication(ze),me.onDestroy(()=>{this.detachView(me.hostView),Wa(this.components,me),null==nt||nt.unregisterApplication(ze)}),this._loadComponent(me),me}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Wa(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(bg,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Wa(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ke(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(ko(Or),ko(Ra),ko(ul))},a.\u0275prov=fe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Wa(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let kg=!0,Uv=!1;function Ha(){return Uv=!0,kg}function IA(){if(Uv)throw new Error("Cannot enable prod mode after platform setup.");kg=!1}let AA=(()=>{class a{}return a.__NG_ELEMENT_ID__=Va,a})();function Va(a){return function $r(a,l,u){if(as(a)&&!u){const d=ri(a.index,l);return new jc(d,d)}return 47&a.type?new jc(l[16],l):null}(Li(),nn(),16==(16&a))}class jv{constructor(){}supports(l){return Kc(l)}create(l){return new kA(l)}}const SA=(a,l)=>l;class kA{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||SA}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,h=0,m=null;for(;u||d;){const y=!d||u&&u.currentIndex<Wv(d,h,m)?u:d,R=Wv(y,h,m),J=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{m||(m=[]);const me=R-h,ze=J-h;if(me!=ze){for(let Tt=0;Tt<me;Tt++){const Nt=Tt<m.length?m[Tt]:m[Tt]=0,qt=Nt+Tt;ze<=qt&&qt<me&&(m[Tt]=Nt+1)}m[y.previousIndex]=ze-me}}R!==J&&l(y,R,J)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Kc(l))throw new ke(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h,m,y,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let R=0;R<this.length;R++)m=l[R],y=this._trackByFn(R,m),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,m,y,R)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,R),d=!0),u=u._next}else h=0,function Py(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[hl()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,R=>{y=this._trackByFn(h,R),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,R,y,h)),Object.is(u.item,R)||this._addIdentityChange(u,R)):(u=this._mismatch(u,R,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,h){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,h)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,h)):l=this._addAfter(new MA(u,d),m,h),l}_verifyReinsertion(l,u,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,h):l.currentIndex!=h&&(l.currentIndex=h,this._addToMoves(l,h)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const h=l._prevRemoved,m=l._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const h=null===u?this._itHead:u._next;return l._next=h,l._prev=u,null===h?this._itTail=l:h._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new ba),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ba),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class MA{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Eu{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class ba{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new Eu,this.map.set(u,d)),d.add(l)}get(l,u){const h=this.map.get(l);return h?h.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wv(a,l,u){const d=a.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+l+h}class Rg{constructor(){}supports(l){return l instanceof Map||gd(l)}create(){return new Lg}}class Lg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||gd(l)))throw new ke(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const h=this._records.get(l);this._maybeAddToChanges(h,u);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const d=new DA(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class DA{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kv(){return new Ng([new jv])}let Ng=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Kv()),deps:[[a,new Ge,new Bl]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new ke(901,!1)}}return a.\u0275prov=fe({token:a,providedIn:"root",factory:Kv}),a})();function Yv(){return new Fg([new Rg])}let Fg=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Yv()),deps:[[a,new Ge,new Bl]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new ke(901,!1)}}return a.\u0275prov=fe({token:a,providedIn:"root",factory:Yv}),a})();const PA=Fv(null,"core",[]);let RA=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(ko(Yd))},a.\u0275mod=kt({type:a}),a.\u0275inj=je({}),a})();function LA(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},2382:(Ht,et,_)=>{_.d(et,{Fj:()=>N,Oe:()=>Li,NI:()=>as,oH:()=>gs,u:()=>fs,cw:()=>X,sg:()=>Ro,x0:()=>xo,u5:()=>ns,Cf:()=>ve,JU:()=>ke,a5:()=>Ft,JJ:()=>Ut,JL:()=>ft,On:()=>mr,UX:()=>vs,kI:()=>F,_Y:()=>Vs});var e=_(5e3),s=_(9808),g=_(2076),H=_(9751),L=_(4742),I=_(8421),U=_(3269),le=_(5403),re=_(3268),K=_(1810),ue=_(4004);let Oe=(()=>{class ge{constructor(z,Ze){this._renderer=z,this._elementRef=Ze,this.onChange=Gt=>{},this.onTouched=()=>{}}setProperty(z,Ze){this._renderer.setProperty(this._elementRef.nativeElement,z,Ze)}registerOnTouched(z){this.onTouched=z}registerOnChange(z){this.onChange=z}setDisabledState(z){this.setProperty("disabled",z)}}return ge.\u0275fac=function(z){return new(z||ge)(e.Y36(e.Qsj),e.Y36(e.SBq))},ge.\u0275dir=e.lG2({type:ge}),ge})(),Te=(()=>{class ge extends Oe{}return ge.\u0275fac=function(){let te;return function(Ze){return(te||(te=e.n5z(ge)))(Ze||ge)}}(),ge.\u0275dir=e.lG2({type:ge,features:[e.qOj]}),ge})();const ke=new e.OlP("NgValueAccessor"),Y={provide:ke,useExisting:(0,e.Gpc)(()=>N),multi:!0},de=new e.OlP("CompositionEventMode");let N=(()=>{class ge extends Oe{constructor(z,Ze,Gt){super(z,Ze),this._compositionMode=Gt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pe(){const ge=(0,s.q)()?(0,s.q)().getUserAgent():"";return/android (\d+)/.test(ge.toLowerCase())}())}writeValue(z){this.setProperty("value",null==z?"":z)}_handleInput(z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(z)}_compositionStart(){this._composing=!0}_compositionEnd(z){this._composing=!1,this._compositionMode&&this.onChange(z)}}return ge.\u0275fac=function(z){return new(z||ge)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(de,8))},ge.\u0275dir=e.lG2({type:ge,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,Ze){1&z&&e.NdJ("input",function(Tn){return Ze._handleInput(Tn.target.value)})("blur",function(){return Ze.onTouched()})("compositionstart",function(){return Ze._compositionStart()})("compositionend",function(Tn){return Ze._compositionEnd(Tn.target.value)})},features:[e._Bn([Y]),e.qOj]}),ge})();function ye(ge){return null==ge||("string"==typeof ge||Array.isArray(ge))&&0===ge.length}function Ce(ge){return null!=ge&&"number"==typeof ge.length}const ve=new e.OlP("NgValidators"),V=new e.OlP("NgAsyncValidators"),w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class F{static min(te){return function q(ge){return te=>{if(ye(te.value)||ye(ge))return null;const z=parseFloat(te.value);return!isNaN(z)&&z<ge?{min:{min:ge,actual:te.value}}:null}}(te)}static max(te){return function _e(ge){return te=>{if(ye(te.value)||ye(ge))return null;const z=parseFloat(te.value);return!isNaN(z)&&z>ge?{max:{max:ge,actual:te.value}}:null}}(te)}static required(te){return function De(ge){return ye(ge.value)?{required:!0}:null}(te)}static requiredTrue(te){return function Le(ge){return!0===ge.value?null:{required:!0}}(te)}static email(te){return function Me(ge){return ye(ge.value)||w.test(ge.value)?null:{email:!0}}(te)}static minLength(te){return function ht(ge){return te=>ye(te.value)||!Ce(te.value)?null:te.value.length<ge?{minlength:{requiredLength:ge,actualLength:te.value.length}}:null}(te)}static maxLength(te){return function at(ge){return te=>Ce(te.value)&&te.value.length>ge?{maxlength:{requiredLength:ge,actualLength:te.value.length}}:null}(te)}static pattern(te){return function Se(ge){if(!ge)return $;let te,z;return"string"==typeof ge?(z="","^"!==ge.charAt(0)&&(z+="^"),z+=ge,"$"!==ge.charAt(ge.length-1)&&(z+="$"),te=new RegExp(z)):(z=ge.toString(),te=ge),Ze=>{if(ye(Ze.value))return null;const Gt=Ze.value;return te.test(Gt)?null:{pattern:{requiredPattern:z,actualValue:Gt}}}}(te)}static nullValidator(te){return null}static compose(te){return mt(te)}static composeAsync(te){return st(te)}}function $(ge){return null}function B(ge){return null!=ge}function j(ge){return(0,e.QGY)(ge)?(0,g.D)(ge):ge}function Ue(ge){let te={};return ge.forEach(z=>{te=null!=z?Object.assign(Object.assign({},te),z):te}),0===Object.keys(te).length?null:te}function fe(ge,te){return te.map(z=>z(ge))}function je(ge){return ge.map(te=>function qe(ge){return!ge.validate}(te)?te:z=>te.validate(z))}function mt(ge){if(!ge)return null;const te=ge.filter(B);return 0==te.length?null:function(z){return Ue(fe(z,te))}}function bt(ge){return null!=ge?mt(je(ge)):null}function st(ge){if(!ge)return null;const te=ge.filter(B);return 0==te.length?null:function(z){return function pe(...ge){const te=(0,U.jO)(ge),{args:z,keys:Ze}=(0,L.D)(ge),Gt=new H.y(Tn=>{const{length:pi}=z;if(!pi)return void Tn.complete();const So=new Array(pi);let Bo=pi,Os=pi;for(let is=0;is<pi;is++){let zs=!1;(0,I.Xf)(z[is]).subscribe(new le.Q(Tn,ys=>{zs||(zs=!0,Os--),So[is]=ys},()=>Bo--,void 0,()=>{(!Bo||!zs)&&(Os||Tn.next(Ze?(0,K.n)(Ze,So):So),Tn.complete())}))}});return te?Gt.pipe((0,re.Z)(te)):Gt}(fe(z,te).map(j)).pipe((0,ue.U)(Ue))}}function xt(ge){return null!=ge?st(je(ge)):null}function ot(ge,te){return null===ge?[te]:Array.isArray(ge)?[...ge,te]:[ge,te]}function We(ge){return ge._rawValidators}function hn(ge){return ge._rawAsyncValidators}function fn(ge){return ge?Array.isArray(ge)?ge:[ge]:[]}function St(ge,te){return Array.isArray(ge)?ge.includes(te):ge===te}function ln(ge,te){const z=fn(te);return fn(ge).forEach(Gt=>{St(z,Gt)||z.push(Gt)}),z}function Ye(ge,te){return fn(te).filter(z=>!St(ge,z))}class Mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(te){this._rawValidators=te||[],this._composedValidatorFn=bt(this._rawValidators)}_setAsyncValidators(te){this._rawAsyncValidators=te||[],this._composedAsyncValidatorFn=xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(te){this._onDestroyCallbacks.push(te)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(te=>te()),this._onDestroyCallbacks=[]}reset(te){this.control&&this.control.reset(te)}hasError(te,z){return!!this.control&&this.control.hasError(te,z)}getError(te,z){return this.control?this.control.getError(te,z):null}}class Ft extends Mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tn extends Mt{get formDirective(){return null}get path(){return null}}class Vn{constructor(te){this._cd=te}get isTouched(){var te,z;return!(null===(z=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===z||!z.touched)}get isUntouched(){var te,z;return!(null===(z=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===z||!z.untouched)}get isPristine(){var te,z;return!(null===(z=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===z||!z.pristine)}get isDirty(){var te,z;return!(null===(z=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===z||!z.dirty)}get isValid(){var te,z;return!(null===(z=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===z||!z.valid)}get isInvalid(){var te,z;return!(null===(z=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===z||!z.invalid)}get isPending(){var te,z;return!(null===(z=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===z||!z.pending)}get isSubmitted(){var te;return!(null===(te=this._cd)||void 0===te||!te.submitted)}}let Ut=(()=>{class ge extends Vn{constructor(z){super(z)}}return ge.\u0275fac=function(z){return new(z||ge)(e.Y36(Ft,2))},ge.\u0275dir=e.lG2({type:ge,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,Ze){2&z&&e.ekj("ng-untouched",Ze.isUntouched)("ng-touched",Ze.isTouched)("ng-pristine",Ze.isPristine)("ng-dirty",Ze.isDirty)("ng-valid",Ze.isValid)("ng-invalid",Ze.isInvalid)("ng-pending",Ze.isPending)},features:[e.qOj]}),ge})(),ft=(()=>{class ge extends Vn{constructor(z){super(z)}}return ge.\u0275fac=function(z){return new(z||ge)(e.Y36(tn,10))},ge.\u0275dir=e.lG2({type:ge,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(z,Ze){2&z&&e.ekj("ng-untouched",Ze.isUntouched)("ng-touched",Ze.isTouched)("ng-pristine",Ze.isPristine)("ng-dirty",Ze.isDirty)("ng-valid",Ze.isValid)("ng-invalid",Ze.isInvalid)("ng-pending",Ze.isPending)("ng-submitted",Ze.isSubmitted)},features:[e.qOj]}),ge})();const kt="VALID",rn="INVALID",$e="PENDING",yt="DISABLED";function Yt(ge){return(di(ge)?ge.validators:ge)||null}function $t(ge){return Array.isArray(ge)?bt(ge):ge||null}function xn(ge,te){return(di(te)?te.asyncValidators:ge)||null}function Pn(ge){return Array.isArray(ge)?xt(ge):ge||null}function di(ge){return null!=ge&&!Array.isArray(ge)&&"object"==typeof ge}function Ci(ge,te,z){const Ze=ge.controls;if(!(te?Object.keys(Ze):Ze).length)throw new e.vHH(1e3,"");if(!Ze[z])throw new e.vHH(1001,"")}function Ki(ge,te,z){ge._forEachChild((Ze,Gt)=>{if(void 0===z[Gt])throw new e.vHH(1002,"")})}class Je{constructor(te,z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=te,this._rawAsyncValidators=z,this._composedValidatorFn=$t(this._rawValidators),this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(te){this._rawValidators=this._composedValidatorFn=te}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(te){this._rawAsyncValidators=this._composedAsyncValidatorFn=te}get parent(){return this._parent}get valid(){return this.status===kt}get invalid(){return this.status===rn}get pending(){return this.status==$e}get disabled(){return this.status===yt}get enabled(){return this.status!==yt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(te){this._rawValidators=te,this._composedValidatorFn=$t(te)}setAsyncValidators(te){this._rawAsyncValidators=te,this._composedAsyncValidatorFn=Pn(te)}addValidators(te){this.setValidators(ln(te,this._rawValidators))}addAsyncValidators(te){this.setAsyncValidators(ln(te,this._rawAsyncValidators))}removeValidators(te){this.setValidators(Ye(te,this._rawValidators))}removeAsyncValidators(te){this.setAsyncValidators(Ye(te,this._rawAsyncValidators))}hasValidator(te){return St(this._rawValidators,te)}hasAsyncValidator(te){return St(this._rawAsyncValidators,te)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(te={}){this.touched=!0,this._parent&&!te.onlySelf&&this._parent.markAsTouched(te)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(te=>te.markAllAsTouched())}markAsUntouched(te={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(z=>{z.markAsUntouched({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}markAsDirty(te={}){this.pristine=!1,this._parent&&!te.onlySelf&&this._parent.markAsDirty(te)}markAsPristine(te={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(z=>{z.markAsPristine({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}markAsPending(te={}){this.status=$e,!1!==te.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!te.onlySelf&&this._parent.markAsPending(te)}disable(te={}){const z=this._parentMarkedDirty(te.onlySelf);this.status=yt,this.errors=null,this._forEachChild(Ze=>{Ze.disable(Object.assign(Object.assign({},te),{onlySelf:!0}))}),this._updateValue(),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},te),{skipPristineCheck:z})),this._onDisabledChange.forEach(Ze=>Ze(!0))}enable(te={}){const z=this._parentMarkedDirty(te.onlySelf);this.status=kt,this._forEachChild(Ze=>{Ze.enable(Object.assign(Object.assign({},te),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},te),{skipPristineCheck:z})),this._onDisabledChange.forEach(Ze=>Ze(!1))}_updateAncestors(te){this._parent&&!te.onlySelf&&(this._parent.updateValueAndValidity(te),te.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(te){this._parent=te}getRawValue(){return this.value}updateValueAndValidity(te={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kt||this.status===$e)&&this._runAsyncValidator(te.emitEvent)),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.updateValueAndValidity(te)}_updateTreeValidity(te={emitEvent:!0}){this._forEachChild(z=>z._updateTreeValidity(te)),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yt:kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(te){if(this.asyncValidator){this.status=$e,this._hasOwnPendingAsyncValidator=!0;const z=j(this.asyncValidator(this));this._asyncValidationSubscription=z.subscribe(Ze=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ze,{emitEvent:te})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(te,z={}){this.errors=te,this._updateControlsErrors(!1!==z.emitEvent)}get(te){let z=te;return null==z||(Array.isArray(z)||(z=z.split(".")),0===z.length)?null:z.reduce((Ze,Gt)=>Ze&&Ze._find(Gt),this)}getError(te,z){const Ze=z?this.get(z):this;return Ze&&Ze.errors?Ze.errors[te]:null}hasError(te,z){return!!this.getError(te,z)}get root(){let te=this;for(;te._parent;)te=te._parent;return te}_updateControlsErrors(te){this.status=this._calculateStatus(),te&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(te)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?yt:this.errors?rn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($e)?$e:this._anyControlsHaveStatus(rn)?rn:kt}_anyControlsHaveStatus(te){return this._anyControls(z=>z.status===te)}_anyControlsDirty(){return this._anyControls(te=>te.dirty)}_anyControlsTouched(){return this._anyControls(te=>te.touched)}_updatePristine(te={}){this.pristine=!this._anyControlsDirty(),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}_updateTouched(te={}){this.touched=this._anyControlsTouched(),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}_registerOnCollectionChange(te){this._onCollectionChange=te}_setUpdateStrategy(te){di(te)&&null!=te.updateOn&&(this._updateOn=te.updateOn)}_parentMarkedDirty(te){return!te&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(te){return null}}class X extends Je{constructor(te,z,Ze){super(Yt(z),xn(Ze,z)),this.controls=te,this._initObservables(),this._setUpdateStrategy(z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(te,z){return this.controls[te]?this.controls[te]:(this.controls[te]=z,z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange),z)}addControl(te,z,Ze={}){this.registerControl(te,z),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}removeControl(te,z={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}setControl(te,z,Ze={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],z&&this.registerControl(te,z),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}contains(te){return this.controls.hasOwnProperty(te)&&this.controls[te].enabled}setValue(te,z={}){Ki(this,0,te),Object.keys(te).forEach(Ze=>{Ci(this,!0,Ze),this.controls[Ze].setValue(te[Ze],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z)}patchValue(te,z={}){null!=te&&(Object.keys(te).forEach(Ze=>{const Gt=this.controls[Ze];Gt&&Gt.patchValue(te[Ze],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z))}reset(te={},z={}){this._forEachChild((Ze,Gt)=>{Ze.reset(te[Gt],{onlySelf:!0,emitEvent:z.emitEvent})}),this._updatePristine(z),this._updateTouched(z),this.updateValueAndValidity(z)}getRawValue(){return this._reduceChildren({},(te,z,Ze)=>(te[Ze]=z.getRawValue(),te))}_syncPendingControls(){let te=this._reduceChildren(!1,(z,Ze)=>!!Ze._syncPendingControls()||z);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){Object.keys(this.controls).forEach(z=>{const Ze=this.controls[z];Ze&&te(Ze,z)})}_setUpControls(){this._forEachChild(te=>{te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(te){for(const[z,Ze]of Object.entries(this.controls))if(this.contains(z)&&te(Ze))return!0;return!1}_reduceValue(){return this._reduceChildren({},(z,Ze,Gt)=>((Ze.enabled||this.disabled)&&(z[Gt]=Ze.value),z))}_reduceChildren(te,z){let Ze=te;return this._forEachChild((Gt,Tn)=>{Ze=z(Ze,Gt,Tn)}),Ze}_allControlsDisabled(){for(const te of Object.keys(this.controls))if(this.controls[te].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(te){return this.controls.hasOwnProperty(te)?this.controls[te]:null}}function Dt(ge,te){return[...te.path,ge]}function Et(ge,te){var z,Ze;yn(ge,te),te.valueAccessor.writeValue(ge.value),ge.disabled&&(null===(Ze=(z=te.valueAccessor).setDisabledState)||void 0===Ze||Ze.call(z,!0)),function In(ge,te){te.valueAccessor.registerOnChange(z=>{ge._pendingValue=z,ge._pendingChange=!0,ge._pendingDirty=!0,"change"===ge.updateOn&&Ti(ge,te)})}(ge,te),function zi(ge,te){const z=(Ze,Gt)=>{te.valueAccessor.writeValue(Ze),Gt&&te.viewToModelUpdate(Ze)};ge.registerOnChange(z),te._registerOnDestroy(()=>{ge._unregisterOnChange(z)})}(ge,te),function Jn(ge,te){te.valueAccessor.registerOnTouched(()=>{ge._pendingTouched=!0,"blur"===ge.updateOn&&ge._pendingChange&&Ti(ge,te),"submit"!==ge.updateOn&&ge.markAsTouched()})}(ge,te),function bn(ge,te){if(te.valueAccessor.setDisabledState){const z=Ze=>{te.valueAccessor.setDisabledState(Ze)};ge.registerOnDisabledChange(z),te._registerOnDestroy(()=>{ge._unregisterOnDisabledChange(z)})}}(ge,te)}function Vt(ge,te,z=!0){const Ze=()=>{};te.valueAccessor&&(te.valueAccessor.registerOnChange(Ze),te.valueAccessor.registerOnTouched(Ze)),An(ge,te),ge&&(te._invokeOnDestroyCallbacks(),ge._registerOnCollectionChange(()=>{}))}function pn(ge,te){ge.forEach(z=>{z.registerOnValidatorChange&&z.registerOnValidatorChange(te)})}function yn(ge,te){const z=We(ge);null!==te.validator?ge.setValidators(ot(z,te.validator)):"function"==typeof z&&ge.setValidators([z]);const Ze=hn(ge);null!==te.asyncValidator?ge.setAsyncValidators(ot(Ze,te.asyncValidator)):"function"==typeof Ze&&ge.setAsyncValidators([Ze]);const Gt=()=>ge.updateValueAndValidity();pn(te._rawValidators,Gt),pn(te._rawAsyncValidators,Gt)}function An(ge,te){let z=!1;if(null!==ge){if(null!==te.validator){const Gt=We(ge);if(Array.isArray(Gt)&&Gt.length>0){const Tn=Gt.filter(pi=>pi!==te.validator);Tn.length!==Gt.length&&(z=!0,ge.setValidators(Tn))}}if(null!==te.asyncValidator){const Gt=hn(ge);if(Array.isArray(Gt)&&Gt.length>0){const Tn=Gt.filter(pi=>pi!==te.asyncValidator);Tn.length!==Gt.length&&(z=!0,ge.setAsyncValidators(Tn))}}}const Ze=()=>{};return pn(te._rawValidators,Ze),pn(te._rawAsyncValidators,Ze),z}function Ti(ge,te){ge._pendingDirty&&ge.markAsDirty(),ge.setValue(ge._pendingValue,{emitModelToViewChange:!1}),te.viewToModelUpdate(ge._pendingValue),ge._pendingChange=!1}function wi(ge,te){if(!ge.hasOwnProperty("model"))return!1;const z=ge.model;return!!z.isFirstChange()||!Object.is(te,z.currentValue)}function Bi(ge,te){if(!te)return null;let z,Ze,Gt;return Array.isArray(te),te.forEach(Tn=>{Tn.constructor===N?z=Tn:function Si(ge){return Object.getPrototypeOf(ge.constructor)===Te}(Tn)?Ze=Tn:Gt=Tn}),Gt||Ze||z||null}function zt(ge,te){const z=ge.indexOf(te);z>-1&&ge.splice(z,1)}function an(ge){return"object"==typeof ge&&null!==ge&&2===Object.keys(ge).length&&"value"in ge&&"disabled"in ge}const as=class extends Je{constructor(te=null,z,Ze){super(Yt(z),xn(Ze,z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(te),this._setUpdateStrategy(z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),di(z)&&(z.nonNullable||z.initialValueIsDefault)&&(this.defaultValue=an(te)?te.value:te)}setValue(te,z={}){this.value=this._pendingValue=te,this._onChange.length&&!1!==z.emitModelToViewChange&&this._onChange.forEach(Ze=>Ze(this.value,!1!==z.emitViewToModelChange)),this.updateValueAndValidity(z)}patchValue(te,z={}){this.setValue(te,z)}reset(te=this.defaultValue,z={}){this._applyFormState(te),this.markAsPristine(z),this.markAsUntouched(z),this.setValue(this.value,z),this._pendingChange=!1}_updateValue(){}_anyControls(te){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(te){this._onChange.push(te)}_unregisterOnChange(te){zt(this._onChange,te)}registerOnDisabledChange(te){this._onDisabledChange.push(te)}_unregisterOnDisabledChange(te){zt(this._onDisabledChange,te)}_forEachChild(te){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(te){an(te)?(this.value=this._pendingValue=te.value,te.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=te}};let hs=(()=>{class ge extends tn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return ge.\u0275fac=function(){let te;return function(Ze){return(te||(te=e.n5z(ge)))(Ze||ge)}}(),ge.\u0275dir=e.lG2({type:ge,features:[e.qOj]}),ge})();const ea={provide:Ft,useExisting:(0,e.Gpc)(()=>mr)},$s=(()=>Promise.resolve())();let mr=(()=>{class ge extends Ft{constructor(z,Ze,Gt,Tn,pi){super(),this._changeDetectorRef=pi,this.control=new as,this._registered=!1,this.update=new e.vpe,this._parent=z,this._setValidators(Ze),this._setAsyncValidators(Gt),this.valueAccessor=Bi(0,Tn)}ngOnChanges(z){if(this._checkForErrors(),!this._registered||"name"in z){if(this._registered&&(this._checkName(),this.formDirective)){const Ze=z.name.previousValue;this.formDirective.removeControl({name:Ze,path:this._getPath(Ze)})}this._setUpControl()}"isDisabled"in z&&this._updateDisabled(z),wi(z,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Et(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(z){$s.then(()=>{var Ze;this.control.setValue(z,{emitViewToModelChange:!1}),null===(Ze=this._changeDetectorRef)||void 0===Ze||Ze.markForCheck()})}_updateDisabled(z){const Ze=z.isDisabled.currentValue,Gt=0!==Ze&&(0,e.D6c)(Ze);$s.then(()=>{var Tn;Gt&&!this.control.disabled?this.control.disable():!Gt&&this.control.disabled&&this.control.enable(),null===(Tn=this._changeDetectorRef)||void 0===Tn||Tn.markForCheck()})}_getPath(z){return this._parent?Dt(z,this._parent):[z]}}return ge.\u0275fac=function(z){return new(z||ge)(e.Y36(tn,9),e.Y36(ve,10),e.Y36(V,10),e.Y36(ke,10),e.Y36(e.sBO,8))},ge.\u0275dir=e.lG2({type:ge,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([ea]),e.qOj,e.TTD]}),ge})(),Vs=(()=>{class ge{}return ge.\u0275fac=function(z){return new(z||ge)},ge.\u0275dir=e.lG2({type:ge,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ge})(),wo=(()=>{class ge{}return ge.\u0275fac=function(z){return new(z||ge)},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({}),ge})();const _r=new e.OlP("NgModelWithFormControlWarning"),er={provide:Ft,useExisting:(0,e.Gpc)(()=>gs)};let gs=(()=>{class ge extends Ft{constructor(z,Ze,Gt,Tn){super(),this._ngModelWarningConfig=Tn,this.update=new e.vpe,this._ngModelWarningSent=!1,this._setValidators(z),this._setAsyncValidators(Ze),this.valueAccessor=Bi(0,Gt)}set isDisabled(z){}ngOnChanges(z){if(this._isControlChanged(z)){const Ze=z.form.previousValue;Ze&&Vt(Ze,this,!1),Et(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}wi(z,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Vt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}_isControlChanged(z){return z.hasOwnProperty("form")}}return ge._ngModelWarningSentOnce=!1,ge.\u0275fac=function(z){return new(z||ge)(e.Y36(ve,10),e.Y36(V,10),e.Y36(ke,10),e.Y36(_r,8))},ge.\u0275dir=e.lG2({type:ge,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e._Bn([er]),e.qOj,e.TTD]}),ge})();const Po={provide:tn,useExisting:(0,e.Gpc)(()=>Ro)};let Ro=(()=>{class ge extends tn{constructor(z,Ze){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(z),this._setAsyncValidators(Ze)}ngOnChanges(z){this._checkFormPresent(),z.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(An(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(z){const Ze=this.form.get(z.path);return Et(Ze,z),Ze.updateValueAndValidity({emitEvent:!1}),this.directives.push(z),Ze}getControl(z){return this.form.get(z.path)}removeControl(z){Vt(z.control||null,z,!1),function To(ge,te){const z=ge.indexOf(te);z>-1&&ge.splice(z,1)}(this.directives,z)}addFormGroup(z){this._setUpFormContainer(z)}removeFormGroup(z){this._cleanUpFormContainer(z)}getFormGroup(z){return this.form.get(z.path)}addFormArray(z){this._setUpFormContainer(z)}removeFormArray(z){this._cleanUpFormContainer(z)}getFormArray(z){return this.form.get(z.path)}updateModel(z,Ze){this.form.get(z.path).setValue(Ze)}onSubmit(z){var Ze;return this.submitted=!0,function Ji(ge,te){ge._syncPendingControls(),te.forEach(z=>{const Ze=z.control;"submit"===Ze.updateOn&&Ze._pendingChange&&(z.viewToModelUpdate(Ze._pendingValue),Ze._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(z),"dialog"===(null===(Ze=null==z?void 0:z.target)||void 0===Ze?void 0:Ze.method)}onReset(){this.resetForm()}resetForm(z){this.form.reset(z),this.submitted=!1}_updateDomValue(){this.directives.forEach(z=>{const Ze=z.control,Gt=this.form.get(z.path);Ze!==Gt&&(Vt(Ze||null,z),(ge=>ge instanceof as)(Gt)&&(Et(Gt,z),z.control=Gt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(z){const Ze=this.form.get(z.path);(function gn(ge,te){yn(ge,te)})(Ze,z),Ze.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(z){if(this.form){const Ze=this.form.get(z.path);Ze&&function yi(ge,te){return An(ge,te)}(Ze,z)&&Ze.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yn(this.form,this),this._oldForm&&An(this._oldForm,this)}_checkFormPresent(){}}return ge.\u0275fac=function(z){return new(z||ge)(e.Y36(ve,10),e.Y36(V,10))},ge.\u0275dir=e.lG2({type:ge,selectors:[["","formGroup",""]],hostBindings:function(z,Ze){1&z&&e.NdJ("submit",function(Tn){return Ze.onSubmit(Tn)})("reset",function(){return Ze.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Po]),e.qOj,e.TTD]}),ge})();const ls={provide:tn,useExisting:(0,e.Gpc)(()=>xo)};let xo=(()=>{class ge extends hs{constructor(z,Ze,Gt){super(),this._parent=z,this._setValidators(Ze),this._setAsyncValidators(Gt)}_checkParentType(){Zs(this._parent)}}return ge.\u0275fac=function(z){return new(z||ge)(e.Y36(tn,13),e.Y36(ve,10),e.Y36(V,10))},ge.\u0275dir=e.lG2({type:ge,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e._Bn([ls]),e.qOj]}),ge})();const tr={provide:tn,useExisting:(0,e.Gpc)(()=>Lo)};let Lo=(()=>{class ge extends tn{constructor(z,Ze,Gt){super(),this._parent=z,this._setValidators(Ze),this._setAsyncValidators(Gt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Zs(this._parent)}}return ge.\u0275fac=function(z){return new(z||ge)(e.Y36(tn,13),e.Y36(ve,10),e.Y36(V,10))},ge.\u0275dir=e.lG2({type:ge,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e._Bn([tr]),e.qOj]}),ge})();function Zs(ge){return!(ge instanceof xo||ge instanceof Ro||ge instanceof Lo)}const ta={provide:Ft,useExisting:(0,e.Gpc)(()=>fs)};let fs=(()=>{class ge extends Ft{constructor(z,Ze,Gt,Tn,pi){super(),this._ngModelWarningConfig=pi,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=z,this._setValidators(Ze),this._setAsyncValidators(Gt),this.valueAccessor=Bi(0,Tn)}set isDisabled(z){}ngOnChanges(z){this._added||this._setUpControl(),wi(z,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return ge._ngModelWarningSentOnce=!1,ge.\u0275fac=function(z){return new(z||ge)(e.Y36(tn,13),e.Y36(ve,10),e.Y36(V,10),e.Y36(ke,10),e.Y36(_r,8))},ge.\u0275dir=e.lG2({type:ge,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([ta]),e.qOj,e.TTD]}),ge})(),ei=(()=>{class ge{}return ge.\u0275fac=function(z){return new(z||ge)},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({imports:[wo]}),ge})(),ns=(()=>{class ge{}return ge.\u0275fac=function(z){return new(z||ge)},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({imports:[ei]}),ge})(),vs=(()=>{class ge{static withConfig(z){return{ngModule:ge,providers:[{provide:_r,useValue:z.warnOnNgModelWithFormControl}]}}}return ge.\u0275fac=function(z){return new(z||ge)},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({imports:[ei]}),ge})();class Li extends Je{constructor(te,z,Ze){super(Yt(z),xn(Ze,z)),this.controls=te,this._initObservables(),this._setUpdateStrategy(z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(te){return this.controls[this._adjustIndex(te)]}push(te,z={}){this.controls.push(te),this._registerControl(te),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}insert(te,z,Ze={}){this.controls.splice(te,0,z),this._registerControl(z),this.updateValueAndValidity({emitEvent:Ze.emitEvent})}removeAt(te,z={}){let Ze=this._adjustIndex(te);Ze<0&&(Ze=0),this.controls[Ze]&&this.controls[Ze]._registerOnCollectionChange(()=>{}),this.controls.splice(Ze,1),this.updateValueAndValidity({emitEvent:z.emitEvent})}setControl(te,z,Ze={}){let Gt=this._adjustIndex(te);Gt<0&&(Gt=0),this.controls[Gt]&&this.controls[Gt]._registerOnCollectionChange(()=>{}),this.controls.splice(Gt,1),z&&(this.controls.splice(Gt,0,z),this._registerControl(z)),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(te,z={}){Ki(this,0,te),te.forEach((Ze,Gt)=>{Ci(this,!1,Gt),this.at(Gt).setValue(Ze,{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z)}patchValue(te,z={}){null!=te&&(te.forEach((Ze,Gt)=>{this.at(Gt)&&this.at(Gt).patchValue(Ze,{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z))}reset(te=[],z={}){this._forEachChild((Ze,Gt)=>{Ze.reset(te[Gt],{onlySelf:!0,emitEvent:z.emitEvent})}),this._updatePristine(z),this._updateTouched(z),this.updateValueAndValidity(z)}getRawValue(){return this.controls.map(te=>te.getRawValue())}clear(te={}){this.controls.length<1||(this._forEachChild(z=>z._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:te.emitEvent}))}_adjustIndex(te){return te<0?te+this.length:te}_syncPendingControls(){let te=this.controls.reduce((z,Ze)=>!!Ze._syncPendingControls()||z,!1);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){this.controls.forEach((z,Ze)=>{te(z,Ze)})}_updateValue(){this.value=this.controls.filter(te=>te.enabled||this.disabled).map(te=>te.value)}_anyControls(te){return this.controls.some(z=>z.enabled&&te(z))}_setUpControls(){this._forEachChild(te=>this._registerControl(te))}_allControlsDisabled(){for(const te of this.controls)if(te.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(te){te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)}_find(te){var z;return null!==(z=this.at(te))&&void 0!==z?z:null}}},2313:(Ht,et,_)=>{_.d(et,{Dx:()=>Ut,H7:()=>Pn,b2:()=>Ft,q6:()=>St,se:()=>De});var e=_(9808),s=_(5e3);class g extends e.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends g{static makeCurrent(){(0,e.HT)(new H)}onAndCancel(X,D,oe){return X.addEventListener(D,oe,!1),()=>{X.removeEventListener(D,oe,!1)}}dispatchEvent(X,D){X.dispatchEvent(D)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,D){return(D=D||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,D){return"window"===D?window:"document"===D?X:"body"===D?X.body:null}getBaseHref(X){const D=function I(){return L=L||document.querySelector("base"),L?L.getAttribute("href"):null}();return null==D?null:function le(Je){U=U||document.createElement("a"),U.setAttribute("href",Je);const X=U.pathname;return"/"===X.charAt(0)?X:`/${X}`}(D)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,e.Mx)(document.cookie,X)}}let U,L=null;const re=new s.OlP("TRANSITION_ID"),pe=[{provide:s.ip1,useFactory:function K(Je,X,D){return()=>{D.get(s.CZH).donePromise.then(()=>{const oe=(0,e.q)(),Ie=X.querySelectorAll(`style[ng-transition="${Je}"]`);for(let vt=0;vt<Ie.length;vt++)oe.remove(Ie[vt])})}},deps:[re,e.K0,s.zs3],multi:!0}];let Oe=(()=>{class Je{build(){return new XMLHttpRequest}}return Je.\u0275fac=function(D){return new(D||Je)},Je.\u0275prov=s.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const Te=new s.OlP("EventManagerPlugins");let ke=(()=>{class Je{constructor(D,oe){this._zone=oe,this._eventNameToPlugin=new Map,D.forEach(Ie=>Ie.manager=this),this._plugins=D.slice().reverse()}addEventListener(D,oe,Ie){return this._findPluginFor(oe).addEventListener(D,oe,Ie)}addGlobalEventListener(D,oe,Ie){return this._findPluginFor(oe).addGlobalEventListener(D,oe,Ie)}getZone(){return this._zone}_findPluginFor(D){const oe=this._eventNameToPlugin.get(D);if(oe)return oe;const Ie=this._plugins;for(let vt=0;vt<Ie.length;vt++){const Dt=Ie[vt];if(Dt.supports(D))return this._eventNameToPlugin.set(D,Dt),Dt}throw new Error(`No event manager plugin found for event ${D}`)}}return Je.\u0275fac=function(D){return new(D||Je)(s.LFG(Te),s.LFG(s.R0b))},Je.\u0275prov=s.Yz7({token:Je,factory:Je.\u0275fac}),Je})();class we{constructor(X){this._doc=X}addGlobalEventListener(X,D,oe){const Ie=(0,e.q)().getGlobalEventTarget(this._doc,X);if(!Ie)throw new Error(`Unsupported event target ${Ie} for event ${D}`);return this.addEventListener(Ie,D,oe)}}let Fe=(()=>{class Je{constructor(){this._stylesSet=new Set}addStyles(D){const oe=new Set;D.forEach(Ie=>{this._stylesSet.has(Ie)||(this._stylesSet.add(Ie),oe.add(Ie))}),this.onStylesAdded(oe)}onStylesAdded(D){}getAllStyles(){return Array.from(this._stylesSet)}}return Je.\u0275fac=function(D){return new(D||Je)},Je.\u0275prov=s.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),Y=(()=>{class Je extends Fe{constructor(D){super(),this._doc=D,this._hostNodes=new Map,this._hostNodes.set(D.head,[])}_addStylesToHost(D,oe,Ie){D.forEach(vt=>{const Dt=this._doc.createElement("style");Dt.textContent=vt,Ie.push(oe.appendChild(Dt))})}addHost(D){const oe=[];this._addStylesToHost(this._stylesSet,D,oe),this._hostNodes.set(D,oe)}removeHost(D){const oe=this._hostNodes.get(D);oe&&oe.forEach(Pe),this._hostNodes.delete(D)}onStylesAdded(D){this._hostNodes.forEach((oe,Ie)=>{this._addStylesToHost(D,Ie,oe)})}ngOnDestroy(){this._hostNodes.forEach(D=>D.forEach(Pe))}}return Je.\u0275fac=function(D){return new(D||Je)(s.LFG(e.K0))},Je.\u0275prov=s.Yz7({token:Je,factory:Je.\u0275fac}),Je})();function Pe(Je){(0,e.q)().remove(Je)}const de={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},N=/%COMP%/g;function F(Je,X,D){for(let oe=0;oe<X.length;oe++){let Ie=X[oe];Array.isArray(Ie)?F(Je,Ie,D):(Ie=Ie.replace(N,Je),D.push(Ie))}return D}function q(Je){return X=>{if("__ngUnwrap__"===X)return Je;!1===Je(X)&&(X.preventDefault(),X.returnValue=!1)}}let De=(()=>{class Je{constructor(D,oe,Ie){this.eventManager=D,this.sharedStylesHost=oe,this.appId=Ie,this.rendererByCompId=new Map,this.defaultRenderer=new Le(D)}createRenderer(D,oe){if(!D||!oe)return this.defaultRenderer;switch(oe.encapsulation){case s.ifc.Emulated:{let Ie=this.rendererByCompId.get(oe.id);return Ie||(Ie=new Se(this.eventManager,this.sharedStylesHost,oe,this.appId),this.rendererByCompId.set(oe.id,Ie)),Ie.applyToHost(D),Ie}case 1:case s.ifc.ShadowDom:return new $(this.eventManager,this.sharedStylesHost,D,oe);default:if(!this.rendererByCompId.has(oe.id)){const Ie=F(oe.id,oe.styles,[]);this.sharedStylesHost.addStyles(Ie),this.rendererByCompId.set(oe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Je.\u0275fac=function(D){return new(D||Je)(s.LFG(ke),s.LFG(Y),s.LFG(s.AFp))},Je.\u0275prov=s.Yz7({token:Je,factory:Je.\u0275fac}),Je})();class Le{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,D){return D?document.createElementNS(de[D]||D,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,D){(at(X)?X.content:X).appendChild(D)}insertBefore(X,D,oe){X&&(at(X)?X.content:X).insertBefore(D,oe)}removeChild(X,D){X&&X.removeChild(D)}selectRootElement(X,D){let oe="string"==typeof X?document.querySelector(X):X;if(!oe)throw new Error(`The selector "${X}" did not match any elements`);return D||(oe.textContent=""),oe}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,D,oe,Ie){if(Ie){D=Ie+":"+D;const vt=de[Ie];vt?X.setAttributeNS(vt,D,oe):X.setAttribute(D,oe)}else X.setAttribute(D,oe)}removeAttribute(X,D,oe){if(oe){const Ie=de[oe];Ie?X.removeAttributeNS(Ie,D):X.removeAttribute(`${oe}:${D}`)}else X.removeAttribute(D)}addClass(X,D){X.classList.add(D)}removeClass(X,D){X.classList.remove(D)}setStyle(X,D,oe,Ie){Ie&(s.JOm.DashCase|s.JOm.Important)?X.style.setProperty(D,oe,Ie&s.JOm.Important?"important":""):X.style[D]=oe}removeStyle(X,D,oe){oe&s.JOm.DashCase?X.style.removeProperty(D):X.style[D]=""}setProperty(X,D,oe){X[D]=oe}setValue(X,D){X.nodeValue=D}listen(X,D,oe){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,D,q(oe)):this.eventManager.addEventListener(X,D,q(oe))}}function at(Je){return"TEMPLATE"===Je.tagName&&void 0!==Je.content}class Se extends Le{constructor(X,D,oe,Ie){super(X),this.component=oe;const vt=F(Ie+"-"+oe.id,oe.styles,[]);D.addStyles(vt),this.contentAttr=function V(Je){return"_ngcontent-%COMP%".replace(N,Je)}(Ie+"-"+oe.id),this.hostAttr=function w(Je){return"_nghost-%COMP%".replace(N,Je)}(Ie+"-"+oe.id)}applyToHost(X){super.setAttribute(X,this.hostAttr,"")}createElement(X,D){const oe=super.createElement(X,D);return super.setAttribute(oe,this.contentAttr,""),oe}}class $ extends Le{constructor(X,D,oe,Ie){super(X),this.sharedStylesHost=D,this.hostEl=oe,this.shadowRoot=oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vt=F(Ie.id,Ie.styles,[]);for(let Dt=0;Dt<vt.length;Dt++){const Et=document.createElement("style");Et.textContent=vt[Dt],this.shadowRoot.appendChild(Et)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(X,D){return super.appendChild(this.nodeOrShadowRoot(X),D)}insertBefore(X,D,oe){return super.insertBefore(this.nodeOrShadowRoot(X),D,oe)}removeChild(X,D){return super.removeChild(this.nodeOrShadowRoot(X),D)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}}let B=(()=>{class Je extends we{constructor(D){super(D)}supports(D){return!0}addEventListener(D,oe,Ie){return D.addEventListener(oe,Ie,!1),()=>this.removeEventListener(D,oe,Ie)}removeEventListener(D,oe,Ie){return D.removeEventListener(oe,Ie)}}return Je.\u0275fac=function(D){return new(D||Je)(s.LFG(e.K0))},Je.\u0275prov=s.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const j=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:Je=>Je.altKey,control:Je=>Je.ctrlKey,meta:Je=>Je.metaKey,shift:Je=>Je.shiftKey};let qe=(()=>{class Je extends we{constructor(D){super(D)}supports(D){return null!=Je.parseEventName(D)}addEventListener(D,oe,Ie){const vt=Je.parseEventName(oe),Dt=Je.eventCallback(vt.fullKey,Ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.q)().onAndCancel(D,vt.domEventName,Dt))}static parseEventName(D){const oe=D.toLowerCase().split("."),Ie=oe.shift();if(0===oe.length||"keydown"!==Ie&&"keyup"!==Ie)return null;const vt=Je._normalizeKey(oe.pop());let Dt="",Et=oe.indexOf("code");if(Et>-1&&(oe.splice(Et,1),Dt="code."),j.forEach(pn=>{const bn=oe.indexOf(pn);bn>-1&&(oe.splice(bn,1),Dt+=pn+".")}),Dt+=vt,0!=oe.length||0===vt.length)return null;const Vt={};return Vt.domEventName=Ie,Vt.fullKey=Dt,Vt}static matchEventFullKeyCode(D,oe){let Ie=Ue[D.key]||D.key,vt="";return oe.indexOf("code.")>-1&&(Ie=D.code,vt="code."),!(null==Ie||!Ie)&&(Ie=Ie.toLowerCase()," "===Ie?Ie="space":"."===Ie&&(Ie="dot"),j.forEach(Dt=>{Dt!==Ie&&(0,fe[Dt])(D)&&(vt+=Dt+".")}),vt+=Ie,vt===oe)}static eventCallback(D,oe,Ie){return vt=>{Je.matchEventFullKeyCode(vt,D)&&Ie.runGuarded(()=>oe(vt))}}static _normalizeKey(D){return"esc"===D?"escape":D}}return Je.\u0275fac=function(D){return new(D||Je)(s.LFG(e.K0))},Je.\u0275prov=s.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const St=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:e.bD},{provide:s.g9A,useValue:function ot(){H.makeCurrent()},multi:!0},{provide:e.K0,useFactory:function hn(){return(0,s.RDi)(document),document},deps:[]}]),ln=new s.OlP(""),Ye=[{provide:s.rWj,useClass:class ue{addToWindow(X){s.dqk.getAngularTestability=(oe,Ie=!0)=>{const vt=X.findTestabilityInTree(oe,Ie);if(null==vt)throw new Error("Could not find testability for element.");return vt},s.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(oe=>{const Ie=s.dqk.getAllAngularTestabilities();let vt=Ie.length,Dt=!1;const Et=function(Vt){Dt=Dt||Vt,vt--,0==vt&&oe(Dt)};Ie.forEach(function(Vt){Vt.whenStable(Et)})})}findTestabilityInTree(X,D,oe){if(null==D)return null;const Ie=X.getTestability(D);return null!=Ie?Ie:oe?(0,e.q)().isShadowRoot(D)?this.findTestabilityInTree(X,D.host,!0):this.findTestabilityInTree(X,D.parentElement,!0):null}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Mt=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function We(){return new s.qLn},deps:[]},{provide:Te,useClass:B,multi:!0,deps:[e.K0,s.R0b,s.Lbi]},{provide:Te,useClass:qe,multi:!0,deps:[e.K0]},{provide:De,useClass:De,deps:[ke,Y,s.AFp]},{provide:s.FYo,useExisting:De},{provide:Fe,useExisting:Y},{provide:Y,useClass:Y,deps:[e.K0]},{provide:ke,useClass:ke,deps:[Te,s.R0b]},{provide:e.JF,useClass:Oe,deps:[]},[]];let Ft=(()=>{class Je{constructor(D){}static withServerTransition(D){return{ngModule:Je,providers:[{provide:s.AFp,useValue:D.appId},{provide:re,useExisting:s.AFp},pe]}}}return Je.\u0275fac=function(D){return new(D||Je)(s.LFG(ln,12))},Je.\u0275mod=s.oAB({type:Je}),Je.\u0275inj=s.cJS({providers:[...Mt,...Ye],imports:[e.ez,s.hGG]}),Je})(),Ut=(()=>{class Je{constructor(D){this._doc=D}getTitle(){return this._doc.title}setTitle(D){this._doc.title=D||""}}return Je.\u0275fac=function(D){return new(D||Je)(s.LFG(e.K0))},Je.\u0275prov=s.Yz7({token:Je,factory:function(D){let oe=null;return oe=D?new D:function Kn(){return new Ut((0,s.LFG)(e.K0))}(),oe},providedIn:"root"}),Je})();"undefined"!=typeof window&&window;let Pn=(()=>{class Je{}return Je.\u0275fac=function(D){return new(D||Je)},Je.\u0275prov=s.Yz7({token:Je,factory:function(D){let oe=null;return oe=D?new(D||Je):s.LFG(Ci),oe},providedIn:"root"}),Je})(),Ci=(()=>{class Je extends Pn{constructor(D){super(),this._doc=D}sanitize(D,oe){if(null==oe)return null;switch(D){case s.q3G.NONE:return oe;case s.q3G.HTML:return(0,s.qzn)(oe,"HTML")?(0,s.z3N)(oe):(0,s.EiD)(this._doc,String(oe)).toString();case s.q3G.STYLE:return(0,s.qzn)(oe,"Style")?(0,s.z3N)(oe):oe;case s.q3G.SCRIPT:if((0,s.qzn)(oe,"Script"))return(0,s.z3N)(oe);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(oe,"URL")?(0,s.z3N)(oe):(0,s.mCW)(String(oe));case s.q3G.RESOURCE_URL:if((0,s.qzn)(oe,"ResourceURL"))return(0,s.z3N)(oe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${D} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(D){return(0,s.JVY)(D)}bypassSecurityTrustStyle(D){return(0,s.L6k)(D)}bypassSecurityTrustScript(D){return(0,s.eBb)(D)}bypassSecurityTrustUrl(D){return(0,s.LAX)(D)}bypassSecurityTrustResourceUrl(D){return(0,s.pB0)(D)}}return Je.\u0275fac=function(D){return new(D||Je)(s.LFG(e.K0))},Je.\u0275prov=s.Yz7({token:Je,factory:function(D){let oe=null;return oe=D?new D:function di(Je){return new Ci(Je.get(e.K0))}(s.LFG(s.zs3)),oe},providedIn:"root"}),Je})()},5572:(Ht,et,_)=>{_.d(et,{gz:()=>$i,F0:()=>Wn,rH:()=>rs,Od:()=>Js,yS:()=>xi,Bz:()=>wa,lC:()=>Cr,lo:()=>Ae,fw:()=>vr});var e=_(5e3),s=_(2076),g=_(9646),H=_(1135),L=_(6805),I=_(9841),U=_(7272),le=_(9770),re=_(9635),K=_(9751),pe=_(576);function ue(k,M){const T=(0,pe.m)(k)?k:()=>k,G=ce=>ce.error(T());return new K.y(M?ce=>M.schedule(G,0,ce):G)}var Oe=_(515),Te=_(727),ke=_(4482),we=_(5403);function Fe(){return(0,ke.e)((k,M)=>{let T=null;k._refCount++;const G=new we.Q(M,void 0,void 0,void 0,()=>{if(!k||k._refCount<=0||0<--k._refCount)return void(T=null);const ce=k._connection,Ne=T;T=null,ce&&(!Ne||ce===Ne)&&ce.unsubscribe(),M.unsubscribe()});k.subscribe(G),G.closed||(T=k.connect())})}class Y extends K.y{constructor(M,T){super(),this.source=M,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,ke.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Te.w0;const T=this.getSubject();M.add(this.source.subscribe(new we.Q(T,void 0,()=>{this._teardown(),T.complete()},G=>{this._teardown(),T.error(G)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Te.w0.EMPTY)}return M}refCount(){return Fe()(this)}}var Pe=_(7579),de=_(9808),N=_(4004),O=_(3900),ye=_(5698),Ce=_(8675),ve=_(9300),V=_(5577),w=_(590),F=_(4351),q=_(8505),_e=_(262);function De(k,M,T,G,ce){return(Ne,lt)=>{let dt=T,Rt=M,un=0;Ne.subscribe(new we.Q(lt,Dn=>{const vn=un++;Rt=dt?k(Rt,Dn,vn):(dt=!0,Dn),G&&lt.next(Rt)},ce&&(()=>{dt&&lt.next(Rt),lt.complete()})))}}function Le(k,M){return(0,ke.e)(De(k,M,arguments.length>=2,!0))}var Me=_(2035),ht=_(8068),at=_(6590),Se=_(4671);function $(k,M){const T=arguments.length>=2;return G=>G.pipe(k?(0,ve.h)((ce,Ne)=>k(ce,Ne,G)):Se.y,(0,Me.h)(1),T?(0,at.d)(M):(0,ht.T)(()=>new L.K))}var B=_(2529),j=_(9718),Ue=_(8746),fe=_(8189),qe=_(2313);const je="primary",mt=Symbol("RouteTitle");class bt{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const T=this.params[M];return Array.isArray(T)?T[0]:T}return null}getAll(M){if(this.has(M)){const T=this.params[M];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function st(k){return new bt(k)}function xt(k,M,T){const G=T.path.split("/");if(G.length>k.length||"full"===T.pathMatch&&(M.hasChildren()||G.length<k.length))return null;const ce={};for(let Ne=0;Ne<G.length;Ne++){const lt=G[Ne],dt=k[Ne];if(lt.startsWith(":"))ce[lt.substring(1)]=dt;else if(lt!==dt.path)return null}return{consumed:k.slice(0,G.length),posParams:ce}}function We(k,M){const T=k?Object.keys(k):void 0,G=M?Object.keys(M):void 0;if(!T||!G||T.length!=G.length)return!1;let ce;for(let Ne=0;Ne<T.length;Ne++)if(ce=T[Ne],!hn(k[ce],M[ce]))return!1;return!0}function hn(k,M){if(Array.isArray(k)&&Array.isArray(M)){if(k.length!==M.length)return!1;const T=[...k].sort(),G=[...M].sort();return T.every((ce,Ne)=>G[Ne]===ce)}return k===M}function fn(k){return Array.prototype.concat.apply([],k)}function St(k){return k.length>0?k[k.length-1]:null}function Ye(k,M){for(const T in k)k.hasOwnProperty(T)&&M(k[T],T)}function Mt(k){return(0,e.CqO)(k)?k:(0,e.QGY)(k)?(0,s.D)(Promise.resolve(k)):(0,g.of)(k)}const Vn={exact:function ft(k,M,T){if(!en(k.segments,M.segments)||!he(k.segments,M.segments,T)||k.numberOfChildren!==M.numberOfChildren)return!1;for(const G in M.children)if(!k.children[G]||!ft(k.children[G],M.children[G],T))return!1;return!0},subset:It},oi={exact:function Ut(k,M){return We(k,M)},subset:function Be(k,M){return Object.keys(M).length<=Object.keys(k).length&&Object.keys(M).every(T=>hn(k[T],M[T]))},ignored:()=>!0};function Kn(k,M,T){return Vn[T.paths](k.root,M.root,T.matrixParams)&&oi[T.queryParams](k.queryParams,M.queryParams)&&!("exact"===T.fragment&&k.fragment!==M.fragment)}function It(k,M,T){return S(k,M,M.segments,T)}function S(k,M,T,G){if(k.segments.length>T.length){const ce=k.segments.slice(0,T.length);return!(!en(ce,T)||M.hasChildren()||!he(ce,T,G))}if(k.segments.length===T.length){if(!en(k.segments,T)||!he(k.segments,T,G))return!1;for(const ce in M.children)if(!k.children[ce]||!It(k.children[ce],M.children[ce],G))return!1;return!0}{const ce=T.slice(0,k.segments.length),Ne=T.slice(k.segments.length);return!!(en(k.segments,ce)&&he(k.segments,ce,G)&&k.children[je])&&S(k.children[je],M,Ne,G)}}function he(k,M,T){return M.every((G,ce)=>oi[T](k[ce].parameters,G.parameters))}class Ae{constructor(M,T,G){this.root=M,this.queryParams=T,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=st(this.queryParams)),this._queryParamMap}toString(){return Ve.serialize(this)}}class Qe{constructor(M,T){this.segments=M,this.children=T,this.parent=null,Ye(T,(G,ce)=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ct(this)}}class Ot{constructor(M,T){this.path=M,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=st(this.parameters)),this._parameterMap}toString(){return yt(this)}}function en(k,M){return k.length===M.length&&k.every((T,G)=>T.path===M[G].path)}let wt=(()=>{class k{}return k.\u0275fac=function(T){return new(T||k)},k.\u0275prov=e.Yz7({token:k,factory:function(){return new ee},providedIn:"root"}),k})();class ee{parse(M){const T=new X(M);return new Ae(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(M){const T=`/${Ct(M.root,!0)}`,G=function $t(k){const M=Object.keys(k).map(T=>{const G=k[T];return Array.isArray(G)?G.map(ce=>`${$n(T)}=${$n(ce)}`).join("&"):`${$n(T)}=${$n(G)}`}).filter(T=>!!T);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${T}${G}${"string"==typeof M.fragment?`#${function Wi(k){return encodeURI(k)}(M.fragment)}`:""}`}}const Ve=new ee;function ct(k){return k.segments.map(M=>yt(M)).join("/")}function Ct(k,M){if(!k.hasChildren())return ct(k);if(M){const T=k.children[je]?Ct(k.children[je],!1):"",G=[];return Ye(k.children,(ce,Ne)=>{Ne!==je&&G.push(`${Ne}:${Ct(ce,!1)}`)}),G.length>0?`${T}(${G.join("//")})`:T}{const T=function Xe(k,M){let T=[];return Ye(k.children,(G,ce)=>{ce===je&&(T=T.concat(M(G,ce)))}),Ye(k.children,(G,ce)=>{ce!==je&&(T=T.concat(M(G,ce)))}),T}(k,(G,ce)=>ce===je?[Ct(k.children[je],!1)]:[`${ce}:${Ct(G,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[je]?`${ct(k)}/${T[0]}`:`${ct(k)}/(${T.join("//")})`}}function sn(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $n(k){return sn(k).replace(/%3B/gi,";")}function kt(k){return sn(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rn(k){return decodeURIComponent(k)}function $e(k){return rn(k.replace(/\+/g,"%20"))}function yt(k){return`${kt(k.path)}${function Yt(k){return Object.keys(k).map(M=>`;${kt(M)}=${kt(k[M])}`).join("")}(k.parameters)}`}const xn=/^[^\/()?;=#]+/;function Pn(k){const M=k.match(xn);return M?M[0]:""}const di=/^[^=?&#]+/,Ki=/^[^&#]+/;class X{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(M.length>0||Object.keys(T).length>0)&&(G[je]=new Qe(M,T)),G}parseSegment(){const M=Pn(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(M),new Ot(rn(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const T=Pn(this.remaining);if(!T)return;this.capture(T);let G="";if(this.consumeOptional("=")){const ce=Pn(this.remaining);ce&&(G=ce,this.capture(G))}M[rn(T)]=rn(G)}parseQueryParam(M){const T=function Ci(k){const M=k.match(di);return M?M[0]:""}(this.remaining);if(!T)return;this.capture(T);let G="";if(this.consumeOptional("=")){const lt=function Je(k){const M=k.match(Ki);return M?M[0]:""}(this.remaining);lt&&(G=lt,this.capture(G))}const ce=$e(T),Ne=$e(G);if(M.hasOwnProperty(ce)){let lt=M[ce];Array.isArray(lt)||(lt=[lt],M[ce]=lt),lt.push(Ne)}else M[ce]=Ne}parseParens(M){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=Pn(this.remaining),ce=this.remaining[G.length];if("/"!==ce&&")"!==ce&&";"!==ce)throw new e.vHH(4010,!1);let Ne;G.indexOf(":")>-1?(Ne=G.slice(0,G.indexOf(":")),this.capture(Ne),this.capture(":")):M&&(Ne=je);const lt=this.parseChildren();T[Ne]=1===Object.keys(lt).length?lt[je]:new Qe([],lt),this.consumeOptional("//")}return T}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new e.vHH(4011,!1)}}function D(k){return k.segments.length>0?new Qe([],{[je]:k}):k}function oe(k){const M={};for(const G of Object.keys(k.children)){const Ne=oe(k.children[G]);(Ne.segments.length>0||Ne.hasChildren())&&(M[G]=Ne)}return function Ie(k){if(1===k.numberOfChildren&&k.children[je]){const M=k.children[je];return new Qe(k.segments.concat(M.segments),M.children)}return k}(new Qe(k.segments,M))}function vt(k){return k instanceof Ae}function bn(k,M,T,G,ce){var Ne;if(0===T.length)return In(M.root,M.root,M.root,G,ce);const dt=function zi(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new Ti(!0,0,k);let M=0,T=!1;const G=k.reduce((ce,Ne,lt)=>{if("object"==typeof Ne&&null!=Ne){if(Ne.outlets){const dt={};return Ye(Ne.outlets,(Rt,un)=>{dt[un]="string"==typeof Rt?Rt.split("/"):Rt}),[...ce,{outlets:dt}]}if(Ne.segmentPath)return[...ce,Ne.segmentPath]}return"string"!=typeof Ne?[...ce,Ne]:0===lt?(Ne.split("/").forEach((dt,Rt)=>{0==Rt&&"."===dt||(0==Rt&&""===dt?T=!0:".."===dt?M++:""!=dt&&ce.push(dt))}),ce):[...ce,Ne]},[]);return new Ti(T,M,G)}(T);return dt.toRoot()?In(M.root,M.root,new Qe([],{}),G,ce):function Rt(Dn){var vn;const qn=function _o(k,M,T,G){if(k.isAbsolute)return new gn(M.root,!0,0);if(-1===G)return new gn(T,T===M.root,0);return function Yi(k,M,T){let G=k,ce=M,Ne=T;for(;Ne>ce;){if(Ne-=ce,G=G.parent,!G)throw new e.vHH(4005,!1);ce=G.segments.length}return new gn(G,!1,ce-Ne)}(T,G+(yn(k.commands[0])?0:1),k.numberOfDoubleDots)}(dt,M,null===(vn=k.snapshot)||void 0===vn?void 0:vn._urlSegment,Dn),bi=qn.processChildren?wi(qn.segmentGroup,qn.index,dt.commands):ai(qn.segmentGroup,qn.index,dt.commands);return In(M.root,qn.segmentGroup,bi,G,ce)}(null===(Ne=k.snapshot)||void 0===Ne?void 0:Ne._lastPathIndex)}function yn(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function An(k){return"object"==typeof k&&null!=k&&k.outlets}function In(k,M,T,G,ce){let lt,Ne={};G&&Ye(G,(Rt,un)=>{Ne[un]=Array.isArray(Rt)?Rt.map(Dn=>`${Dn}`):`${Rt}`}),lt=k===M?T:Jn(k,M,T);const dt=D(oe(lt));return new Ae(dt,Ne,ce)}function Jn(k,M,T){const G={};return Ye(k.children,(ce,Ne)=>{G[Ne]=ce===M?T:Jn(ce,M,T)}),new Qe(k.segments,G)}class Ti{constructor(M,T,G){if(this.isAbsolute=M,this.numberOfDoubleDots=T,this.commands=G,M&&G.length>0&&yn(G[0]))throw new e.vHH(4003,!1);const ce=G.find(An);if(ce&&ce!==St(G))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gn{constructor(M,T,G){this.segmentGroup=M,this.processChildren=T,this.index=G}}function ai(k,M,T){if(k||(k=new Qe([],{})),0===k.segments.length&&k.hasChildren())return wi(k,M,T);const G=function Si(k,M,T){let G=0,ce=M;const Ne={match:!1,pathIndex:0,commandIndex:0};for(;ce<k.segments.length;){if(G>=T.length)return Ne;const lt=k.segments[ce],dt=T[G];if(An(dt))break;const Rt=`${dt}`,un=G<T.length-1?T[G+1]:null;if(ce>0&&void 0===Rt)break;if(Rt&&un&&"object"==typeof un&&void 0===un.outlets){if(!_i(Rt,un,lt))return Ne;G+=2}else{if(!_i(Rt,{},lt))return Ne;G++}ce++}return{match:!0,pathIndex:ce,commandIndex:G}}(k,M,T),ce=T.slice(G.commandIndex);if(G.match&&G.pathIndex<k.segments.length){const Ne=new Qe(k.segments.slice(0,G.pathIndex),{});return Ne.children[je]=new Qe(k.segments.slice(G.pathIndex),k.children),wi(Ne,0,ce)}return G.match&&0===ce.length?new Qe(k.segments,{}):G.match&&!k.hasChildren()?Ji(k,M,T):G.match?wi(k,0,ce):Ji(k,M,T)}function wi(k,M,T){if(0===T.length)return new Qe(k.segments,{});{const G=function Fi(k){return An(k[0])?k[0].outlets:{[je]:k}}(T),ce={};return Ye(G,(Ne,lt)=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&(ce[lt]=ai(k.children[lt],M,Ne))}),Ye(k.children,(Ne,lt)=>{void 0===G[lt]&&(ce[lt]=Ne)}),new Qe(k.segments,ce)}}function Ji(k,M,T){const G=k.segments.slice(0,M);let ce=0;for(;ce<T.length;){const Ne=T[ce];if(An(Ne)){const Rt=Bi(Ne.outlets);return new Qe(G,Rt)}if(0===ce&&yn(T[0])){G.push(new Ot(k.segments[M].path,To(T[0]))),ce++;continue}const lt=An(Ne)?Ne.outlets[je]:`${Ne}`,dt=ce<T.length-1?T[ce+1]:null;lt&&dt&&yn(dt)?(G.push(new Ot(lt,To(dt))),ce+=2):(G.push(new Ot(lt,{})),ce++)}return new Qe(G,{})}function Bi(k){const M={};return Ye(k,(T,G)=>{"string"==typeof T&&(T=[T]),null!==T&&(M[G]=Ji(new Qe([],{}),0,T))}),M}function To(k){const M={};return Ye(k,(T,G)=>M[G]=`${T}`),M}function _i(k,M,T){return k==T.path&&We(M,T.parameters)}class ki{constructor(M,T){this.id=M,this.url=T}}class Ii extends ki{constructor(M,T,G="imperative",ce=null){super(M,T),this.type=0,this.navigationTrigger=G,this.restoredState=ce}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kn extends ki{constructor(M,T,G){super(M,T),this.urlAfterRedirects=G,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zt extends ki{constructor(M,T,G,ce){super(M,T),this.reason=G,this.code=ce,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class an extends ki{constructor(M,T,G,ce){super(M,T),this.error=G,this.target=ce,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class as extends ki{constructor(M,T,G,ce){super(M,T),this.urlAfterRedirects=G,this.state=ce,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs extends ki{constructor(M,T,G,ce){super(M,T),this.urlAfterRedirects=G,this.state=ce,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oo extends ki{constructor(M,T,G,ce,Ne){super(M,T),this.urlAfterRedirects=G,this.state=ce,this.shouldActivate=Ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hs extends ki{constructor(M,T,G,ce){super(M,T),this.urlAfterRedirects=G,this.state=ce,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends ki{constructor(M,T,G,ce){super(M,T),this.urlAfterRedirects=G,this.state=ce,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jo{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rr{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ya{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(M,T,G){this.routerEvent=M,this.position=T,this.anchor=G,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vs{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const T=this.pathFromRoot(M);return T.length>1?T[T.length-2]:null}children(M){const T=Lr(M,this._root);return T?T.children.map(G=>G.value):[]}firstChild(M){const T=Lr(M,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(M){const T=qs(M,this._root);return T.length<2?[]:T[T.length-2].children.map(ce=>ce.value).filter(ce=>ce!==M)}pathFromRoot(M){return qs(M,this._root).map(T=>T.value)}}function Lr(k,M){if(k===M.value)return M;for(const T of M.children){const G=Lr(k,T);if(G)return G}return null}function qs(k,M){if(k===M.value)return[M];for(const T of M.children){const G=qs(k,T);if(G.length)return G.unshift(M),G}return[]}class eo{constructor(M,T){this.value=M,this.children=T}toString(){return`TreeNode(${this.value})`}}function $o(k){const M={};return k&&k.children.forEach(T=>M[T.value.outlet]=T),M}class wo extends Vs{constructor(M,T){super(M),this.snapshot=T,Po(this,M)}toString(){return this.snapshot.toString()}}function si(k,M){const T=function Xs(k,M){const lt=new er([],{},{},"",{},je,M,null,k.root,-1,{});return new gs("",new eo(lt,[]))}(k,M),G=new H.X([new Ot("",{})]),ce=new H.X({}),Ne=new H.X({}),lt=new H.X({}),dt=new H.X(""),Rt=new $i(G,ce,lt,dt,Ne,je,M,T.root);return Rt.snapshot=T.root,new wo(new eo(Rt,[]),T)}class $i{constructor(M,T,G,ce,Ne,lt,dt,Rt){var un,Dn;this.url=M,this.params=T,this.queryParams=G,this.fragment=ce,this.data=Ne,this.outlet=lt,this.component=dt,this.title=null!==(Dn=null===(un=this.data)||void 0===un?void 0:un.pipe((0,N.U)(vn=>vn[mt])))&&void 0!==Dn?Dn:(0,g.of)(void 0),this._futureSnapshot=Rt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,N.U)(M=>st(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,N.U)(M=>st(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qo(k,M="emptyOnly"){const T=k.pathFromRoot;let G=0;if("always"!==M)for(G=T.length-1;G>=1;){const ce=T[G],Ne=T[G-1];if(ce.routeConfig&&""===ce.routeConfig.path)G--;else{if(Ne.component)break;G--}}return function _r(k){return k.reduce((M,T)=>{var G;return{params:Object.assign(Object.assign({},M.params),T.params),data:Object.assign(Object.assign({},M.data),T.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},T.data),M.resolve),null===(G=T.routeConfig)||void 0===G?void 0:G.data),T._resolvedData)}},{params:{},data:{},resolve:{}})}(T.slice(G))}class er{constructor(M,T,G,ce,Ne,lt,dt,Rt,un,Dn,vn,qn){var bi;this.url=M,this.params=T,this.queryParams=G,this.fragment=ce,this.data=Ne,this.outlet=lt,this.component=dt,this.title=null===(bi=this.data)||void 0===bi?void 0:bi[mt],this.routeConfig=Rt,this._urlSegment=un,this._lastPathIndex=Dn,this._correctedLastPathIndex=null!=qn?qn:Dn,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=st(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=st(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gs extends Vs{constructor(M,T){super(T),this.url=M,Po(this,T)}toString(){return Ro(this._root)}}function Po(k,M){M.value._routerState=k,M.children.forEach(T=>Po(k,T))}function Ro(k){const M=k.children.length>0?` { ${k.children.map(Ro).join(", ")} } `:"";return`${k.value}${M}`}function ls(k){if(k.snapshot){const M=k.snapshot,T=k._futureSnapshot;k.snapshot=T,We(M.queryParams,T.queryParams)||k.queryParams.next(T.queryParams),M.fragment!==T.fragment&&k.fragment.next(T.fragment),We(M.params,T.params)||k.params.next(T.params),function ot(k,M){if(k.length!==M.length)return!1;for(let T=0;T<k.length;++T)if(!We(k[T],M[T]))return!1;return!0}(M.url,T.url)||k.url.next(T.url),We(M.data,T.data)||k.data.next(T.data)}else k.snapshot=k._futureSnapshot,k.data.next(k._futureSnapshot.data)}function xo(k,M){const T=We(k.params,M.params)&&function Kt(k,M){return en(k,M)&&k.every((T,G)=>We(T.parameters,M[G].parameters))}(k.url,M.url);return T&&!(!k.parent!=!M.parent)&&(!k.parent||xo(k.parent,M.parent))}function Lo(k,M,T){if(T&&k.shouldReuseRoute(M.value,T.value.snapshot)){const G=T.value;G._futureSnapshot=M.value;const ce=function Zs(k,M,T){return M.children.map(G=>{for(const ce of T.children)if(k.shouldReuseRoute(G.value,ce.value.snapshot))return Lo(k,G,ce);return Lo(k,G)})}(k,M,T);return new eo(G,ce)}{if(k.shouldAttach(M.value)){const Ne=k.retrieve(M.value);if(null!==Ne){const lt=Ne.route;return lt.value._futureSnapshot=M.value,lt.children=M.children.map(dt=>Lo(k,dt)),lt}}const G=function ta(k){return new $i(new H.X(k.url),new H.X(k.params),new H.X(k.queryParams),new H.X(k.fragment),new H.X(k.data),k.outlet,k.component,k)}(M.value),ce=M.children.map(Ne=>Lo(k,Ne));return new eo(G,ce)}}const fs="ngNavigationCancelingError";function nr(k,M){const{redirectTo:T,navigationBehaviorOptions:G}=vt(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,ce=No(!1,0,M);return ce.url=T,ce.navigationBehaviorOptions=G,ce}function No(k,M,T){const G=new Error("NavigationCancelingError: "+(k||""));return G[fs]=!0,G.cancellationCode=M,T&&(G.url=T),G}function uo(k){return Xo(k)&&vt(k.url)}function Xo(k){return k&&k[fs]}class ir{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zi,this.attachRef=null}}let Zi=(()=>{class k{constructor(){this.contexts=new Map}onChildOutletCreated(T,G){const ce=this.getOrCreateContext(T);ce.outlet=G,this.contexts.set(T,ce)}onChildOutletDestroyed(T){const G=this.getContext(T);G&&(G.outlet=null,G.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let G=this.getContext(T);return G||(G=new ir,this.contexts.set(T,G)),G}getContext(T){return this.contexts.get(T)||null}}return k.\u0275fac=function(T){return new(T||k)},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const ms=!1;let Cr=(()=>{class k{constructor(T,G,ce,Ne,lt){this.parentContexts=T,this.location=G,this.changeDetector=Ne,this.environmentInjector=lt,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=ce||je,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){var T;(null===(T=this.parentContexts.getContext(this.name))||void 0===T?void 0:T.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,ms);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,ms);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,ms);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,G){this.activated=T,this._activatedRoute=G,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,G){if(this.isActivated)throw new e.vHH(4013,ms);this._activatedRoute=T;const ce=this.location,lt=T._futureSnapshot.component,dt=this.parentContexts.getOrCreateContext(this.name).children,Rt=new Gi(T,dt,ce.injector);if(G&&function vo(k){return!!k.resolveComponentFactory}(G)){const un=G.resolveComponentFactory(lt);this.activated=ce.createComponent(un,ce.length,Rt)}else this.activated=ce.createComponent(lt,{index:ce.length,injector:Rt,environmentInjector:null!=G?G:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return k.\u0275fac=function(T){return new(T||k)(e.Y36(Zi),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},k.\u0275dir=e.lG2({type:k,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),k})();class Gi{constructor(M,T,G){this.route=M,this.childContexts=T,this.parent=G}get(M,T){return M===$i?this.route:M===Zi?this.childContexts:this.parent.get(M,T)}}let vr=(()=>{class k{}return k.\u0275fac=function(T){return new(T||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(T,G){1&T&&e._UZ(0,"router-outlet")},dependencies:[Cr],encapsulation:2}),k})();function cs(k,M){var T;return k.providers&&!k._injector&&(k._injector=(0,e.MMx)(k.providers,M,`Route: ${k.path}`)),null!==(T=k._injector)&&void 0!==T?T:M}function yo(k){const M=k.children&&k.children.map(yo),T=M?Object.assign(Object.assign({},k),{children:M}):Object.assign({},k);return!T.component&&!T.loadComponent&&(M||T.loadChildren)&&T.outlet&&T.outlet!==je&&(T.component=vr),T}function po(k){return k.outlet||je}function Ds(k,M){const T=k.filter(G=>po(G)===M);return T.push(...k.filter(G=>po(G)!==M)),T}function Ln(k){var M;if(!k)return null;if(null!==(M=k.routeConfig)&&void 0!==M&&M._injector)return k.routeConfig._injector;for(let T=k.parent;T;T=T.parent){const G=T.routeConfig;if(null!=G&&G._loadedInjector)return G._loadedInjector;if(null!=G&&G._injector)return G._injector}return null}class Eo{constructor(M,T,G,ce){this.routeReuseStrategy=M,this.futureState=T,this.currState=G,this.forwardEvent=ce}activate(M){const T=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,G,M),ls(this.futureState.root),this.activateChildRoutes(T,G,M)}deactivateChildRoutes(M,T,G){const ce=$o(T);M.children.forEach(Ne=>{const lt=Ne.value.outlet;this.deactivateRoutes(Ne,ce[lt],G),delete ce[lt]}),Ye(ce,(Ne,lt)=>{this.deactivateRouteAndItsChildren(Ne,G)})}deactivateRoutes(M,T,G){const ce=M.value,Ne=T?T.value:null;if(ce===Ne)if(ce.component){const lt=G.getContext(ce.outlet);lt&&this.deactivateChildRoutes(M,T,lt.children)}else this.deactivateChildRoutes(M,T,G);else Ne&&this.deactivateRouteAndItsChildren(T,G)}deactivateRouteAndItsChildren(M,T){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,T):this.deactivateRouteAndOutlet(M,T)}detachAndStoreRouteSubtree(M,T){const G=T.getContext(M.value.outlet),ce=G&&M.value.component?G.children:T,Ne=$o(M);for(const lt of Object.keys(Ne))this.deactivateRouteAndItsChildren(Ne[lt],ce);if(G&&G.outlet){const lt=G.outlet.detach(),dt=G.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:lt,route:M,contexts:dt})}}deactivateRouteAndOutlet(M,T){const G=T.getContext(M.value.outlet),ce=G&&M.value.component?G.children:T,Ne=$o(M);for(const lt of Object.keys(Ne))this.deactivateRouteAndItsChildren(Ne[lt],ce);G&&G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated(),G.attachRef=null,G.resolver=null,G.route=null)}activateChildRoutes(M,T,G){const ce=$o(T);M.children.forEach(Ne=>{this.activateRoutes(Ne,ce[Ne.value.outlet],G),this.forwardEvent(new ea(Ne.value.snapshot))}),M.children.length&&this.forwardEvent(new Co(M.value.snapshot))}activateRoutes(M,T,G){var ce;const Ne=M.value,lt=T?T.value:null;if(ls(Ne),Ne===lt)if(Ne.component){const dt=G.getOrCreateContext(Ne.outlet);this.activateChildRoutes(M,T,dt.children)}else this.activateChildRoutes(M,T,G);else if(Ne.component){const dt=G.getOrCreateContext(Ne.outlet);if(this.routeReuseStrategy.shouldAttach(Ne.snapshot)){const Rt=this.routeReuseStrategy.retrieve(Ne.snapshot);this.routeReuseStrategy.store(Ne.snapshot,null),dt.children.onOutletReAttached(Rt.contexts),dt.attachRef=Rt.componentRef,dt.route=Rt.route.value,dt.outlet&&dt.outlet.attach(Rt.componentRef,Rt.route.value),ls(Rt.route.value),this.activateChildRoutes(M,null,dt.children)}else{const Rt=Ln(Ne.snapshot),un=null!==(ce=null==Rt?void 0:Rt.get(e._Vd))&&void 0!==ce?ce:null;dt.attachRef=null,dt.route=Ne,dt.resolver=un,dt.injector=Rt,dt.outlet&&dt.outlet.activateWith(Ne,dt.injector),this.activateChildRoutes(M,null,dt.children)}}else this.activateChildRoutes(M,null,G)}}class _s{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Fo{constructor(M,T){this.component=M,this.route=T}}function ho(k,M,T){const G=k._root;return Cs(G,M?M._root:null,T,[G.value])}function ts(k,M){const T=Symbol(),G=M.get(k,T);return G===T?"function"!=typeof k||(0,e.Z0I)(k)?M.get(k):k:G}function Cs(k,M,T,G,ce={canDeactivateChecks:[],canActivateChecks:[]}){const Ne=$o(M);return k.children.forEach(lt=>{(function nn(k,M,T,G,ce={canDeactivateChecks:[],canActivateChecks:[]}){const Ne=k.value,lt=M?M.value:null,dt=T?T.getContext(k.value.outlet):null;if(lt&&Ne.routeConfig===lt.routeConfig){const Rt=function ei(k,M,T){if("function"==typeof T)return T(k,M);switch(T){case"pathParamsChange":return!en(k.url,M.url);case"pathParamsOrQueryParamsChange":return!en(k.url,M.url)||!We(k.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xo(k,M)||!We(k.queryParams,M.queryParams);default:return!xo(k,M)}}(lt,Ne,Ne.routeConfig.runGuardsAndResolvers);Rt?ce.canActivateChecks.push(new _s(G)):(Ne.data=lt.data,Ne._resolvedData=lt._resolvedData),Cs(k,M,Ne.component?dt?dt.children:null:T,G,ce),Rt&&dt&&dt.outlet&&dt.outlet.isActivated&&ce.canDeactivateChecks.push(new Fo(dt.outlet.component,lt))}else lt&&ns(M,dt,ce),ce.canActivateChecks.push(new _s(G)),Cs(k,null,Ne.component?dt?dt.children:null:T,G,ce)})(lt,Ne[lt.value.outlet],T,G.concat([lt.value]),ce),delete Ne[lt.value.outlet]}),Ye(Ne,(lt,dt)=>ns(lt,T.getContext(dt),ce)),ce}function ns(k,M,T){const G=$o(k),ce=k.value;Ye(G,(Ne,lt)=>{ns(Ne,ce.component?M?M.children.getContext(lt):null:M,T)}),T.canDeactivateChecks.push(new Fo(ce.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,ce))}function vs(k){return"function"==typeof k}function ge(k){return k instanceof L.K||"EmptyError"===(null==k?void 0:k.name)}const te=Symbol("INITIAL_VALUE");function z(){return(0,O.w)(k=>(0,I.a)(k.map(M=>M.pipe((0,ye.q)(1),(0,Ce.O)(te)))).pipe((0,N.U)(M=>{for(const T of M)if(!0!==T){if(T===te)return te;if(!1===T||T instanceof Ae)return T}return!0}),(0,ve.h)(M=>M!==te),(0,ye.q)(1)))}function ys(k){return(0,re.z)((0,q.b)(M=>{if(vt(M))throw nr(0,M)}),(0,N.U)(M=>!0===M))}const Gs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ia(k,M,T,G,ce){const Ne=go(k,M,T);return Ne.matched?function sr(k,M,T,G){const ce=M.canMatch;if(!ce||0===ce.length)return(0,g.of)(!0);const Ne=ce.map(lt=>{const dt=ts(lt,k);return Mt(function Br(k){return k&&vs(k.canMatch)}(dt)?dt.canMatch(M,T):k.runInContext(()=>dt(M,T)))});return(0,g.of)(Ne).pipe(z(),ys())}(G=cs(M,G),M,T).pipe((0,N.U)(lt=>!0===lt?Ne:Object.assign({},Gs))):(0,g.of)(Ne)}function go(k,M,T){var G;if(""===M.path)return"full"===M.pathMatch&&(k.hasChildren()||T.length>0)?Object.assign({},Gs):{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const Ne=(M.matcher||xt)(T,k,M);if(!Ne)return Object.assign({},Gs);const lt={};Ye(Ne.posParams,(Rt,un)=>{lt[un]=Rt.path});const dt=Ne.consumed.length>0?Object.assign(Object.assign({},lt),Ne.consumed[Ne.consumed.length-1].parameters):lt;return{matched:!0,consumedSegments:Ne.consumed,remainingSegments:T.slice(Ne.consumed.length),parameters:dt,positionalParamSegments:null!==(G=Ne.posParams)&&void 0!==G?G:{}}}function rr(k,M,T,G,ce="corrected"){if(T.length>0&&function Ia(k,M,T){return T.some(G=>xe(k,M,G)&&po(G)!==je)}(k,T,G)){const lt=new Qe(M,function sa(k,M,T,G){const ce={};ce[je]=G,G._sourceSegment=k,G._segmentIndexShift=M.length;for(const Ne of T)if(""===Ne.path&&po(Ne)!==je){const lt=new Qe([],{});lt._sourceSegment=k,lt._segmentIndexShift=M.length,ce[po(Ne)]=lt}return ce}(k,M,G,new Qe(T,k.children)));return lt._sourceSegment=k,lt._segmentIndexShift=M.length,{segmentGroup:lt,slicedSegments:[]}}if(0===T.length&&function Q(k,M,T){return T.some(G=>xe(k,M,G))}(k,T,G)){const lt=new Qe(k.segments,function oa(k,M,T,G,ce,Ne){const lt={};for(const dt of G)if(xe(k,T,dt)&&!ce[po(dt)]){const Rt=new Qe([],{});Rt._sourceSegment=k,Rt._segmentIndexShift="legacy"===Ne?k.segments.length:M.length,lt[po(dt)]=Rt}return Object.assign(Object.assign({},ce),lt)}(k,M,T,G,k.children,ce));return lt._sourceSegment=k,lt._segmentIndexShift=M.length,{segmentGroup:lt,slicedSegments:T}}const Ne=new Qe(k.segments,k.children);return Ne._sourceSegment=k,Ne._segmentIndexShift=M.length,{segmentGroup:Ne,slicedSegments:T}}function xe(k,M,T){return(!(k.hasChildren()||M.length>0)||"full"!==T.pathMatch)&&""===T.path}function ne(k,M,T,G){return!!(po(k)===G||G!==je&&xe(M,T,k))&&("**"===k.path||go(M,k,T).matched)}function He(k,M,T){return 0===M.length&&!k.children[T]}const ut=!1;class Bt{constructor(M){this.segmentGroup=M||null}}class jt{constructor(M){this.urlTree=M}}function Cn(k){return ue(new Bt(k))}function hi(k){return ue(new jt(k))}class ji{constructor(M,T,G,ce,Ne){this.injector=M,this.configLoader=T,this.urlSerializer=G,this.urlTree=ce,this.config=Ne,this.allowRedirects=!0}apply(){const M=rr(this.urlTree.root,[],[],this.config).segmentGroup,T=new Qe(M.segments,M.children);return this.expandSegmentGroup(this.injector,this.config,T,je).pipe((0,N.U)(Ne=>this.createUrlTree(oe(Ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,_e.K)(Ne=>{if(Ne instanceof jt)return this.allowRedirects=!1,this.match(Ne.urlTree);throw Ne instanceof Bt?this.noMatchError(Ne):Ne}))}match(M){return this.expandSegmentGroup(this.injector,this.config,M.root,je).pipe((0,N.U)(ce=>this.createUrlTree(oe(ce),M.queryParams,M.fragment))).pipe((0,_e.K)(ce=>{throw ce instanceof Bt?this.noMatchError(ce):ce}))}noMatchError(M){return new e.vHH(4002,ut)}createUrlTree(M,T,G){const ce=D(M);return new Ae(ce,T,G)}expandSegmentGroup(M,T,G,ce){return 0===G.segments.length&&G.hasChildren()?this.expandChildren(M,T,G).pipe((0,N.U)(Ne=>new Qe([],Ne))):this.expandSegment(M,G,T,G.segments,ce,!0)}expandChildren(M,T,G){const ce=[];for(const Ne of Object.keys(G.children))"primary"===Ne?ce.unshift(Ne):ce.push(Ne);return(0,s.D)(ce).pipe((0,F.b)(Ne=>{const lt=G.children[Ne],dt=Ds(T,Ne);return this.expandSegmentGroup(M,dt,lt,Ne).pipe((0,N.U)(Rt=>({segment:Rt,outlet:Ne})))}),Le((Ne,lt)=>(Ne[lt.outlet]=lt.segment,Ne),{}),$())}expandSegment(M,T,G,ce,Ne,lt){return(0,s.D)(G).pipe((0,F.b)(dt=>this.expandSegmentAgainstRoute(M,T,G,dt,ce,Ne,lt).pipe((0,_e.K)(un=>{if(un instanceof Bt)return(0,g.of)(null);throw un}))),(0,w.P)(dt=>!!dt),(0,_e.K)((dt,Rt)=>{if(ge(dt))return He(T,ce,Ne)?(0,g.of)(new Qe([],{})):Cn(T);throw dt}))}expandSegmentAgainstRoute(M,T,G,ce,Ne,lt,dt){return ne(ce,T,Ne,lt)?void 0===ce.redirectTo?this.matchSegmentAgainstRoute(M,T,ce,Ne,lt):dt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,T,G,ce,Ne,lt):Cn(T):Cn(T)}expandSegmentAgainstRouteUsingRedirect(M,T,G,ce,Ne,lt){return"**"===ce.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,G,ce,lt):this.expandRegularSegmentAgainstRouteUsingRedirect(M,T,G,ce,Ne,lt)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,T,G,ce){const Ne=this.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?hi(Ne):this.lineralizeSegments(G,Ne).pipe((0,V.z)(lt=>{const dt=new Qe(lt,{});return this.expandSegment(M,dt,T,lt,ce,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,T,G,ce,Ne,lt){const{matched:dt,consumedSegments:Rt,remainingSegments:un,positionalParamSegments:Dn}=go(T,ce,Ne);if(!dt)return Cn(T);const vn=this.applyRedirectCommands(Rt,ce.redirectTo,Dn);return ce.redirectTo.startsWith("/")?hi(vn):this.lineralizeSegments(ce,vn).pipe((0,V.z)(qn=>this.expandSegment(M,T,G,qn.concat(un),lt,!1)))}matchSegmentAgainstRoute(M,T,G,ce,Ne){return"**"===G.path?(M=cs(G,M),G.loadChildren?(G._loadedRoutes?(0,g.of)({routes:G._loadedRoutes,injector:G._loadedInjector}):this.configLoader.loadChildren(M,G)).pipe((0,N.U)(dt=>(G._loadedRoutes=dt.routes,G._loadedInjector=dt.injector,new Qe(ce,{})))):(0,g.of)(new Qe(ce,{}))):ia(T,G,ce,M).pipe((0,O.w)(({matched:lt,consumedSegments:dt,remainingSegments:Rt})=>{var un;return lt?(M=null!==(un=G._injector)&&void 0!==un?un:M,this.getChildConfig(M,G,ce).pipe((0,V.z)(vn=>{var qn;const bi=null!==(qn=vn.injector)&&void 0!==qn?qn:M,zo=vn.routes,{segmentGroup:Ns,slicedSegments:Ts}=rr(T,dt,Rt,zo),Fs=new Qe(Ns.segments,Ns.children);if(0===Ts.length&&Fs.hasChildren())return this.expandChildren(bi,zo,Fs).pipe((0,N.U)(el=>new Qe(dt,el)));if(0===zo.length&&0===Ts.length)return(0,g.of)(new Qe(dt,{}));const Ea=po(G)===Ne;return this.expandSegment(bi,Fs,zo,Ts,Ea?je:Ne,!0).pipe((0,N.U)(ws=>new Qe(dt.concat(ws.segments),ws.children)))}))):Cn(T)}))}getChildConfig(M,T,G){return T.children?(0,g.of)({routes:T.children,injector:M}):T.loadChildren?void 0!==T._loadedRoutes?(0,g.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function zs(k,M,T,G){const ce=M.canLoad;if(void 0===ce||0===ce.length)return(0,g.of)(!0);const Ne=ce.map(lt=>{const dt=ts(lt,k);return Mt(function yr(k){return k&&vs(k.canLoad)}(dt)?dt.canLoad(M,T):k.runInContext(()=>dt(M,T)))});return(0,g.of)(Ne).pipe(z(),ys())}(M,T,G).pipe((0,V.z)(ce=>ce?this.configLoader.loadChildren(M,T).pipe((0,q.b)(Ne=>{T._loadedRoutes=Ne.routes,T._loadedInjector=Ne.injector})):function gi(k){return ue(No(ut,3))}())):(0,g.of)({routes:[],injector:M})}lineralizeSegments(M,T){let G=[],ce=T.root;for(;;){if(G=G.concat(ce.segments),0===ce.numberOfChildren)return(0,g.of)(G);if(ce.numberOfChildren>1||!ce.children[je])return ue(new e.vHH(4e3,ut));ce=ce.children[je]}}applyRedirectCommands(M,T,G){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),M,G)}applyRedirectCreateUrlTree(M,T,G,ce){const Ne=this.createSegmentGroup(M,T.root,G,ce);return new Ae(Ne,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(M,T){const G={};return Ye(M,(ce,Ne)=>{if("string"==typeof ce&&ce.startsWith(":")){const dt=ce.substring(1);G[Ne]=T[dt]}else G[Ne]=ce}),G}createSegmentGroup(M,T,G,ce){const Ne=this.createSegments(M,T.segments,G,ce);let lt={};return Ye(T.children,(dt,Rt)=>{lt[Rt]=this.createSegmentGroup(M,dt,G,ce)}),new Qe(Ne,lt)}createSegments(M,T,G,ce){return T.map(Ne=>Ne.path.startsWith(":")?this.findPosParam(M,Ne,ce):this.findOrReturn(Ne,G))}findPosParam(M,T,G){const ce=G[T.path.substring(1)];if(!ce)throw new e.vHH(4001,ut);return ce}findOrReturn(M,T){let G=0;for(const ce of T){if(ce.path===M.path)return T.splice(G),ce;G++}return M}}class os{}class Is{constructor(M,T,G,ce,Ne,lt,dt,Rt){this.injector=M,this.rootComponentType=T,this.config=G,this.urlTree=ce,this.url=Ne,this.paramsInheritanceStrategy=lt,this.relativeLinkResolution=dt,this.urlSerializer=Rt}recognize(){const M=rr(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,je).pipe((0,N.U)(T=>{if(null===T)return null;const G=new er([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},je,this.rootComponentType,null,this.urlTree.root,-1,{}),ce=new eo(G,T),Ne=new gs(this.url,ce);return this.inheritParamsAndData(Ne._root),Ne}))}inheritParamsAndData(M){const T=M.value,G=qo(T,this.paramsInheritanceStrategy);T.params=Object.freeze(G.params),T.data=Object.freeze(G.data),M.children.forEach(ce=>this.inheritParamsAndData(ce))}processSegmentGroup(M,T,G,ce){return 0===G.segments.length&&G.hasChildren()?this.processChildren(M,T,G):this.processSegment(M,T,G,G.segments,ce)}processChildren(M,T,G){return(0,s.D)(Object.keys(G.children)).pipe((0,F.b)(ce=>{const Ne=G.children[ce],lt=Ds(T,ce);return this.processSegmentGroup(M,lt,Ne,ce)}),Le((ce,Ne)=>ce&&Ne?(ce.push(...Ne),ce):null),(0,B.o)(ce=>null!==ce),(0,at.d)(null),$(),(0,N.U)(ce=>{if(null===ce)return null;const Ne=b(ce);return function jo(k){k.sort((M,T)=>M.value.outlet===je?-1:T.value.outlet===je?1:M.value.outlet.localeCompare(T.value.outlet))}(Ne),Ne}))}processSegment(M,T,G,ce,Ne){return(0,s.D)(T).pipe((0,F.b)(lt=>{var dt;return this.processSegmentAgainstRoute(null!==(dt=lt._injector)&&void 0!==dt?dt:M,lt,G,ce,Ne)}),(0,w.P)(lt=>!!lt),(0,_e.K)(lt=>{if(ge(lt))return He(G,ce,Ne)?(0,g.of)([]):(0,g.of)(null);throw lt}))}processSegmentAgainstRoute(M,T,G,ce,Ne){var lt,dt;if(T.redirectTo||!ne(T,G,ce,Ne))return(0,g.of)(null);let Rt;if("**"===T.path){const un=ce.length>0?St(ce).parameters:{},Dn=Re(G)+ce.length,vn=new er(ce,un,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_t(T),po(T),null!==(dt=null!==(lt=T.component)&&void 0!==lt?lt:T._loadedComponent)&&void 0!==dt?dt:null,T,se(G),Dn,At(T),Dn);Rt=(0,g.of)({snapshot:vn,consumedSegments:[],remainingSegments:[]})}else Rt=ia(G,T,ce,M).pipe((0,N.U)(({matched:un,consumedSegments:Dn,remainingSegments:vn,parameters:qn})=>{var bi,zo;if(!un)return null;const Ns=Re(G)+Dn.length;return{snapshot:new er(Dn,qn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_t(T),po(T),null!==(zo=null!==(bi=T.component)&&void 0!==bi?bi:T._loadedComponent)&&void 0!==zo?zo:null,T,se(G),Ns,At(T),Ns),consumedSegments:Dn,remainingSegments:vn}}));return Rt.pipe((0,O.w)(un=>{var Dn,vn;if(null===un)return(0,g.of)(null);const{snapshot:qn,consumedSegments:bi,remainingSegments:zo}=un;M=null!==(Dn=T._injector)&&void 0!==Dn?Dn:M;const Ns=null!==(vn=T._loadedInjector)&&void 0!==vn?vn:M,Ts=function Ps(k){return k.children?k.children:k.loadChildren?k._loadedRoutes:[]}(T),{segmentGroup:Fs,slicedSegments:Ea}=rr(G,bi,zo,Ts.filter(ws=>void 0===ws.redirectTo),this.relativeLinkResolution);if(0===Ea.length&&Fs.hasChildren())return this.processChildren(Ns,Ts,Fs).pipe((0,N.U)(ws=>null===ws?null:[new eo(qn,ws)]));if(0===Ts.length&&0===Ea.length)return(0,g.of)([new eo(qn,[])]);const Sa=po(T)===Ne;return this.processSegment(Ns,Ts,Fs,Ea,Sa?je:Ne).pipe((0,N.U)(ws=>null===ws?null:[new eo(qn,ws)]))}))}}function Ee(k){const M=k.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function b(k){const M=[],T=new Set;for(const G of k){if(!Ee(G)){M.push(G);continue}const ce=M.find(Ne=>G.value.routeConfig===Ne.value.routeConfig);void 0!==ce?(ce.children.push(...G.children),T.add(ce)):M.push(G)}for(const G of T){const ce=b(G.children);M.push(new eo(G.value,ce))}return M.filter(G=>!T.has(G))}function se(k){let M=k;for(;M._sourceSegment;)M=M._sourceSegment;return M}function Re(k){var M,T;let G=k,ce=null!==(M=G._segmentIndexShift)&&void 0!==M?M:0;for(;G._sourceSegment;)G=G._sourceSegment,ce+=null!==(T=G._segmentIndexShift)&&void 0!==T?T:0;return ce-1}function _t(k){return k.data||{}}function At(k){return k.resolve||{}}function Nn(k){return"string"==typeof k.title||null===k.title}function Hn(k){return(0,O.w)(M=>{const T=k(M);return T?(0,s.D)(T).pipe((0,N.U)(()=>M)):(0,g.of)(M)})}let ci=(()=>{class k{buildTitle(T){var G;let ce,Ne=T.root;for(;void 0!==Ne;)ce=null!==(G=this.getResolvedTitleForRoute(Ne))&&void 0!==G?G:ce,Ne=Ne.children.find(lt=>lt.outlet===je);return ce}getResolvedTitleForRoute(T){return T.data[mt]}}return k.\u0275fac=function(T){return new(T||k)},k.\u0275prov=e.Yz7({token:k,factory:function(){return(0,e.f3M)(vi)},providedIn:"root"}),k})(),vi=(()=>{class k extends ci{constructor(T){super(),this.title=T}updateTitle(T){const G=this.buildTitle(T);void 0!==G&&this.title.setTitle(G)}}return k.\u0275fac=function(T){return new(T||k)(e.LFG(qe.Dx))},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();class Ho{}class Qs extends class io{shouldDetach(M){return!1}store(M,T){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,T){return M.routeConfig===T.routeConfig}}{}const Mi=new e.OlP("",{providedIn:"root",factory:()=>({})}),As=new e.OlP("ROUTES");let Ao=(()=>{class k{constructor(T,G){this.injector=T,this.compiler=G,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,g.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const G=Mt(T.loadComponent()).pipe((0,q.b)(Ne=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=Ne}),(0,Ue.x)(()=>{this.componentLoaders.delete(T)})),ce=new Y(G,()=>new Pe.x).pipe(Fe());return this.componentLoaders.set(T,ce),ce}loadChildren(T,G){if(this.childrenLoaders.get(G))return this.childrenLoaders.get(G);if(G._loadedRoutes)return(0,g.of)({routes:G._loadedRoutes,injector:G._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(G);const Ne=this.loadModuleFactoryOrRoutes(G.loadChildren).pipe((0,N.U)(dt=>{this.onLoadEndListener&&this.onLoadEndListener(G);let Rt,un,Dn=!1;Array.isArray(dt)?un=dt:(Rt=dt.create(T).injector,un=fn(Rt.get(As,[],e.XFs.Self|e.XFs.Optional)));return{routes:un.map(yo),injector:Rt}}),(0,Ue.x)(()=>{this.childrenLoaders.delete(G)})),lt=new Y(Ne,()=>new Pe.x).pipe(Fe());return this.childrenLoaders.set(G,lt),lt}loadModuleFactoryOrRoutes(T){return Mt(T()).pipe((0,V.z)(G=>G instanceof e.YKP||Array.isArray(G)?(0,g.of)(G):(0,s.D)(this.compiler.compileModuleAsync(G))))}}return k.\u0275fac=function(T){return new(T||k)(e.LFG(e.zs3),e.LFG(e.Sil))},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();class ar{}class Rs{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,T){return M}}function lr(k){throw k}function Aa(k,M,T){return M.parse("/")}const Mn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ni(){var k,M;const T=(0,e.f3M)(wt),G=(0,e.f3M)(Zi),ce=(0,e.f3M)(de.Ye),Ne=(0,e.f3M)(e.zs3),lt=(0,e.f3M)(e.Sil),dt=null!==(k=(0,e.f3M)(As,{optional:!0}))&&void 0!==k?k:[],Rt=null!==(M=(0,e.f3M)(Mi,{optional:!0}))&&void 0!==M?M:{},un=(0,e.f3M)(vi),Dn=(0,e.f3M)(ci,{optional:!0}),vn=(0,e.f3M)(ar,{optional:!0}),qn=(0,e.f3M)(Ho,{optional:!0}),bi=new Wn(null,T,G,ce,Ne,lt,fn(dt));return vn&&(bi.urlHandlingStrategy=vn),qn&&(bi.routeReuseStrategy=qn),bi.titleStrategy=null!=Dn?Dn:un,function Fn(k,M){k.errorHandler&&(M.errorHandler=k.errorHandler),k.malformedUriErrorHandler&&(M.malformedUriErrorHandler=k.malformedUriErrorHandler),k.onSameUrlNavigation&&(M.onSameUrlNavigation=k.onSameUrlNavigation),k.paramsInheritanceStrategy&&(M.paramsInheritanceStrategy=k.paramsInheritanceStrategy),k.relativeLinkResolution&&(M.relativeLinkResolution=k.relativeLinkResolution),k.urlUpdateStrategy&&(M.urlUpdateStrategy=k.urlUpdateStrategy),k.canceledNavigationResolution&&(M.canceledNavigationResolution=k.canceledNavigationResolution)}(Rt,bi),bi}let Wn=(()=>{class k{constructor(T,G,ce,Ne,lt,dt,Rt){this.rootComponentType=T,this.urlSerializer=G,this.rootContexts=ce,this.location=Ne,this.config=Rt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pe.x,this.errorHandler=lr,this.malformedUriErrorHandler=Aa,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,g.of)(void 0),this.urlHandlingStrategy=new Rs,this.routeReuseStrategy=new Qs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=lt.get(Ao),this.configLoader.onLoadEndListener=qn=>this.triggerEvent(new Rr(qn)),this.configLoader.onLoadStartListener=qn=>this.triggerEvent(new Jo(qn)),this.ngModule=lt.get(e.h0i),this.console=lt.get(e.c2e);const vn=lt.get(e.R0b);this.isNgZoneEnabled=vn instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(Rt),this.currentUrlTree=function tn(){return new Ae(new Qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=si(this.currentUrlTree,this.rootComponentType),this.transitions=new H.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const G=this.events;return T.pipe((0,ve.h)(ce=>0!==ce.id),(0,N.U)(ce=>Object.assign(Object.assign({},ce),{extractedUrl:this.urlHandlingStrategy.extract(ce.rawUrl)})),(0,O.w)(ce=>{let Ne=!1,lt=!1;return(0,g.of)(ce).pipe((0,q.b)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,O.w)(dt=>{const Rt=this.browserUrlTree.toString(),un=!this.navigated||dt.extractedUrl.toString()!==Rt||Rt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||un)&&this.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return Zo(dt.source)&&(this.browserUrlTree=dt.extractedUrl),(0,g.of)(dt).pipe((0,O.w)(vn=>{const qn=this.transitions.getValue();return G.next(new Ii(vn.id,this.serializeUrl(vn.extractedUrl),vn.source,vn.restoredState)),qn!==this.transitions.getValue()?Oe.E:Promise.resolve(vn)}),function fi(k,M,T,G){return(0,O.w)(ce=>function ti(k,M,T,G,ce){return new ji(k,M,T,G,ce).apply()}(k,M,T,ce.extractedUrl,G).pipe((0,N.U)(Ne=>Object.assign(Object.assign({},ce),{urlAfterRedirects:Ne}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,q.b)(vn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:vn.urlAfterRedirects}),ce.urlAfterRedirects=vn.urlAfterRedirects}),function Lt(k,M,T,G,ce,Ne){return(0,V.z)(lt=>function ss(k,M,T,G,ce,Ne,lt="emptyOnly",dt="legacy"){return new Is(k,M,T,G,ce,lt,dt,Ne).recognize().pipe((0,O.w)(Rt=>null===Rt?function Io(k){return new K.y(M=>M.error(k))}(new os):(0,g.of)(Rt)))}(k,M,T,lt.urlAfterRedirects,G.serialize(lt.urlAfterRedirects),G,ce,Ne).pipe((0,N.U)(dt=>Object.assign(Object.assign({},lt),{targetSnapshot:dt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,q.b)(vn=>{if(ce.targetSnapshot=vn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!vn.extras.skipLocationChange){const bi=this.urlHandlingStrategy.merge(vn.urlAfterRedirects,vn.rawUrl);this.setBrowserUrl(bi,vn)}this.browserUrlTree=vn.urlAfterRedirects}const qn=new as(vn.id,this.serializeUrl(vn.extractedUrl),this.serializeUrl(vn.urlAfterRedirects),vn.targetSnapshot);G.next(qn)}));if(un&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qn,extractedUrl:bi,source:zo,restoredState:Ns,extras:Ts}=dt,Fs=new Ii(qn,this.serializeUrl(bi),zo,Ns);G.next(Fs);const Ea=si(bi,this.rootComponentType).snapshot;return ce=Object.assign(Object.assign({},dt),{targetSnapshot:Ea,urlAfterRedirects:bi,extras:Object.assign(Object.assign({},Ts),{skipLocationChange:!1,replaceUrl:!1})}),(0,g.of)(ce)}return this.rawUrlTree=dt.rawUrl,dt.resolve(null),Oe.E}),(0,q.b)(dt=>{const Rt=new Hs(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Rt)}),(0,N.U)(dt=>ce=Object.assign(Object.assign({},dt),{guards:ho(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)})),function Ze(k,M){return(0,V.z)(T=>{const{targetSnapshot:G,currentSnapshot:ce,guards:{canActivateChecks:Ne,canDeactivateChecks:lt}}=T;return 0===lt.length&&0===Ne.length?(0,g.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function Gt(k,M,T,G){return(0,s.D)(k).pipe((0,V.z)(ce=>function is(k,M,T,G,ce){const Ne=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!Ne||0===Ne.length)return(0,g.of)(!0);const lt=Ne.map(dt=>{var Rt;const un=null!==(Rt=Ln(M))&&void 0!==Rt?Rt:ce,Dn=ts(dt,un);return Mt(function bs(k){return k&&vs(k.canDeactivate)}(Dn)?Dn.canDeactivate(k,M,T,G):un.runInContext(()=>Dn(k,M,T,G))).pipe((0,w.P)())});return(0,g.of)(lt).pipe(z())}(ce.component,ce.route,T,M,G)),(0,w.P)(ce=>!0!==ce,!0))}(lt,G,ce,k).pipe((0,V.z)(dt=>dt&&function Li(k){return"boolean"==typeof k}(dt)?function Tn(k,M,T,G){return(0,s.D)(M).pipe((0,F.b)(ce=>(0,U.z)(function So(k,M){return null!==k&&M&&M(new Ya(k)),(0,g.of)(!0)}(ce.route.parent,G),function pi(k,M){return null!==k&&M&&M(new fr(k)),(0,g.of)(!0)}(ce.route,G),function Os(k,M,T){const G=M[M.length-1],Ne=M.slice(0,M.length-1).reverse().map(lt=>function to(k){const M=k.routeConfig?k.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:k,guards:M}:null}(lt)).filter(lt=>null!==lt).map(lt=>(0,le.P)(()=>{const dt=lt.guards.map(Rt=>{var un;const Dn=null!==(un=Ln(lt.node))&&void 0!==un?un:T,vn=ts(Rt,Dn);return Mt(function Hi(k){return k&&vs(k.canActivateChild)}(vn)?vn.canActivateChild(G,k):Dn.runInContext(()=>vn(G,k))).pipe((0,w.P)())});return(0,g.of)(dt).pipe(z())}));return(0,g.of)(Ne).pipe(z())}(k,ce.path,T),function Bo(k,M,T){const G=M.routeConfig?M.routeConfig.canActivate:null;if(!G||0===G.length)return(0,g.of)(!0);const ce=G.map(Ne=>(0,le.P)(()=>{var lt;const dt=null!==(lt=Ln(M))&&void 0!==lt?lt:T,Rt=ts(Ne,dt);return Mt(function Us(k){return k&&vs(k.canActivate)}(Rt)?Rt.canActivate(M,k):dt.runInContext(()=>Rt(M,k))).pipe((0,w.P)())}));return(0,g.of)(ce).pipe(z())}(k,ce.route,T))),(0,w.P)(ce=>!0!==ce,!0))}(G,Ne,k,M):(0,g.of)(dt)),(0,N.U)(dt=>Object.assign(Object.assign({},T),{guardsResult:dt})))})}(this.ngModule.injector,dt=>this.triggerEvent(dt)),(0,q.b)(dt=>{if(ce.guardsResult=dt.guardsResult,vt(dt.guardsResult))throw nr(0,dt.guardsResult);const Rt=new Oo(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.triggerEvent(Rt)}),(0,ve.h)(dt=>!!dt.guardsResult||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"",3),!1)),Hn(dt=>{if(dt.guards.canActivateChecks.length)return(0,g.of)(dt).pipe((0,q.b)(Rt=>{const un=new hs(Rt.id,this.serializeUrl(Rt.extractedUrl),this.serializeUrl(Rt.urlAfterRedirects),Rt.targetSnapshot);this.triggerEvent(un)}),(0,O.w)(Rt=>{let un=!1;return(0,g.of)(Rt).pipe(function Xt(k,M){return(0,V.z)(T=>{const{targetSnapshot:G,guards:{canActivateChecks:ce}}=T;if(!ce.length)return(0,g.of)(T);let Ne=0;return(0,s.D)(ce).pipe((0,F.b)(lt=>function mn(k,M,T,G){const ce=k.routeConfig,Ne=k._resolve;return void 0!==(null==ce?void 0:ce.title)&&!Nn(ce)&&(Ne[mt]=ce.title),function En(k,M,T,G){const ce=function jn(k){return[...Object.keys(k),...Object.getOwnPropertySymbols(k)]}(k);if(0===ce.length)return(0,g.of)({});const Ne={};return(0,s.D)(ce).pipe((0,V.z)(lt=>function Yn(k,M,T,G){var ce;const Ne=null!==(ce=Ln(M))&&void 0!==ce?ce:G,lt=ts(k,Ne);return Mt(lt.resolve?lt.resolve(M,T):Ne.runInContext(()=>lt(M,T)))}(k[lt],M,T,G).pipe((0,w.P)(),(0,q.b)(dt=>{Ne[lt]=dt}))),(0,Me.h)(1),(0,j.h)(Ne),(0,_e.K)(lt=>ge(lt)?Oe.E:ue(lt)))}(Ne,k,M,G).pipe((0,N.U)(lt=>(k._resolvedData=lt,k.data=qo(k,T).resolve,ce&&Nn(ce)&&(k.data[mt]=ce.title),null)))}(lt.route,G,k,M)),(0,q.b)(()=>Ne++),(0,Me.h)(1),(0,V.z)(lt=>Ne===ce.length?(0,g.of)(T):Oe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,q.b)({next:()=>un=!0,complete:()=>{un||(this.restoreHistory(Rt),this.cancelNavigationTransition(Rt,"",2))}}))}),(0,q.b)(Rt=>{const un=new Pr(Rt.id,this.serializeUrl(Rt.extractedUrl),this.serializeUrl(Rt.urlAfterRedirects),Rt.targetSnapshot);this.triggerEvent(un)}))}),Hn(dt=>{const Rt=un=>{var Dn;const vn=[];(null===(Dn=un.routeConfig)||void 0===Dn?void 0:Dn.loadComponent)&&!un.routeConfig._loadedComponent&&vn.push(this.configLoader.loadComponent(un.routeConfig).pipe((0,q.b)(qn=>{un.component=qn}),(0,N.U)(()=>{})));for(const qn of un.children)vn.push(...Rt(qn));return vn};return(0,I.a)(Rt(dt.targetSnapshot.root)).pipe((0,at.d)(),(0,ye.q)(1))}),Hn(()=>this.afterPreactivation()),(0,N.U)(dt=>{const Rt=function tr(k,M,T){const G=Lo(k,M._root,T?T._root:void 0);return new wo(G,M)}(this.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return ce=Object.assign(Object.assign({},dt),{targetRouterState:Rt})}),(0,q.b)(dt=>{this.currentUrlTree=dt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(dt.urlAfterRedirects,dt.rawUrl),this.routerState=dt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(dt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,dt),this.browserUrlTree=dt.urlAfterRedirects)}),((k,M,T)=>(0,N.U)(G=>(new Eo(M,G.targetRouterState,G.currentRouterState,T).activate(k),G)))(this.rootContexts,this.routeReuseStrategy,dt=>this.triggerEvent(dt)),(0,q.b)({next(){Ne=!0},complete(){Ne=!0}}),(0,Ue.x)(()=>{var dt;Ne||lt||this.cancelNavigationTransition(ce,"",1),(null===(dt=this.currentNavigation)||void 0===dt?void 0:dt.id)===ce.id&&(this.currentNavigation=null)}),(0,_e.K)(dt=>{var Rt;if(lt=!0,Xo(dt)){uo(dt)||(this.navigated=!0,this.restoreHistory(ce,!0));const un=new zt(ce.id,this.serializeUrl(ce.extractedUrl),dt.message,dt.cancellationCode);if(G.next(un),uo(dt)){const Dn=this.urlHandlingStrategy.merge(dt.url,this.rawUrlTree),vn={skipLocationChange:ce.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zo(ce.source)};this.scheduleNavigation(Dn,"imperative",null,vn,{resolve:ce.resolve,reject:ce.reject,promise:ce.promise})}else ce.resolve(!1)}else{this.restoreHistory(ce,!0);const un=new an(ce.id,this.serializeUrl(ce.extractedUrl),dt,null!==(Rt=ce.targetSnapshot)&&void 0!==Rt?Rt:void 0);G.next(un);try{ce.resolve(this.errorHandler(dt))}catch(Dn){ce.reject(Dn)}}return Oe.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const G="popstate"===T.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{var ce;const Ne={replaceUrl:!0},lt=null!==(ce=T.state)&&void 0!==ce&&ce.navigationId?T.state:null;if(lt){const Rt=Object.assign({},lt);delete Rt.navigationId,delete Rt.\u0275routerPageId,0!==Object.keys(Rt).length&&(Ne.state=Rt)}const dt=this.parseUrl(T.url);this.scheduleNavigation(dt,G,lt,Ne)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){this.config=T.map(yo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,G={}){const{relativeTo:ce,queryParams:Ne,fragment:lt,queryParamsHandling:dt,preserveFragment:Rt}=G,un=ce||this.routerState.root,Dn=Rt?this.currentUrlTree.fragment:lt;let vn=null;switch(dt){case"merge":vn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Ne);break;case"preserve":vn=this.currentUrlTree.queryParams;break;default:vn=Ne||null}return null!==vn&&(vn=this.removeEmptyProps(vn)),bn(un,this.currentUrlTree,T,vn,null!=Dn?Dn:null)}navigateByUrl(T,G={skipLocationChange:!1}){const ce=vt(T)?T:this.parseUrl(T),Ne=this.urlHandlingStrategy.merge(ce,this.rawUrlTree);return this.scheduleNavigation(Ne,"imperative",null,G)}navigate(T,G={skipLocationChange:!1}){return function Vo(k){for(let M=0;M<k.length;M++){if(null==k[M])throw new e.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,G),G)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let G;try{G=this.urlSerializer.parse(T)}catch(ce){G=this.malformedUriErrorHandler(ce,this.urlSerializer,T)}return G}isActive(T,G){let ce;if(ce=!0===G?Object.assign({},Mn):!1===G?Object.assign({},Rn):G,vt(T))return Kn(this.currentUrlTree,T,ce);const Ne=this.parseUrl(T);return Kn(this.currentUrlTree,Ne,ce)}removeEmptyProps(T){return Object.keys(T).reduce((G,ce)=>{const Ne=T[ce];return null!=Ne&&(G[ce]=Ne),G},{})}processNavigations(){this.navigations.subscribe(T=>{var G;this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new kn(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(G=this.titleStrategy)||void 0===G||G.updateTitle(this.routerState.snapshot),T.resolve(!0)},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}scheduleNavigation(T,G,ce,Ne,lt){var dt,Rt;if(this.disposed)return Promise.resolve(!1);let un,Dn,vn;lt?(un=lt.resolve,Dn=lt.reject,vn=lt.promise):vn=new Promise((zo,Ns)=>{un=zo,Dn=Ns});const qn=++this.navigationId;let bi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ce=this.location.getState()),bi=ce&&ce.\u0275routerPageId?ce.\u0275routerPageId:Ne.replaceUrl||Ne.skipLocationChange?null!==(dt=this.browserPageId)&&void 0!==dt?dt:0:(null!==(Rt=this.browserPageId)&&void 0!==Rt?Rt:0)+1):bi=0,this.setTransition({id:qn,targetPageId:bi,source:G,restoredState:ce,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:Ne,resolve:un,reject:Dn,promise:vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vn.catch(zo=>Promise.reject(zo))}setBrowserUrl(T,G){const ce=this.urlSerializer.serialize(T),Ne=Object.assign(Object.assign({},G.extras.state),this.generateNgRouterState(G.id,G.targetPageId));this.location.isCurrentPathEqualTo(ce)||G.extras.replaceUrl?this.location.replaceState(ce,"",Ne):this.location.go(ce,"",Ne)}restoreHistory(T,G=!1){var ce,Ne;if("computed"===this.canceledNavigationResolution){const lt=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.finalUrl)||0===lt?this.currentUrlTree===(null===(Ne=this.currentNavigation)||void 0===Ne?void 0:Ne.finalUrl)&&0===lt&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(lt)}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,G,ce){const Ne=new zt(T.id,this.serializeUrl(T.extractedUrl),G,ce);this.triggerEvent(Ne),T.resolve(!1)}generateNgRouterState(T,G){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:G}:{navigationId:T}}}return k.\u0275fac=function(T){e.$Z()},k.\u0275prov=e.Yz7({token:k,factory:function(){return ni()},providedIn:"root"}),k})();function Zo(k){return"imperative"!==k}let rs=(()=>{class k{constructor(T,G,ce,Ne,lt){this.router=T,this.route=G,this.tabIndexAttribute=ce,this.renderer=Ne,this.el=lt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Pe.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,e.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,e.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,e.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){if(null!=this.tabIndexAttribute)return;const G=this.renderer,ce=this.el.nativeElement;null!==T?G.setAttribute(ce,"tabindex",T):G.removeAttribute(ce,"tabindex")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return k.\u0275fac=function(T){return new(T||k)(e.Y36(Wn),e.Y36($i),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq))},k.\u0275dir=e.lG2({type:k,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,G){1&T&&e.NdJ("click",function(){return G.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),k})(),xi=(()=>{class k{constructor(T,G,ce){this.router=T,this.route=G,this.locationStrategy=ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Pe.x,this.subscription=T.events.subscribe(Ne=>{Ne instanceof kn&&this.updateTargetUrlAndHref()})}set preserveFragment(T){this._preserveFragment=(0,e.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,e.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,e.D6c)(T)}get replaceUrl(){return this._replaceUrl}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:null}ngOnChanges(T){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(T,G,ce,Ne,lt){return!!(0!==T||G||ce||Ne||lt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return k.\u0275fac=function(T){return new(T||k)(e.Y36(Wn),e.Y36($i),e.Y36(de.S$))},k.\u0275dir=e.lG2({type:k,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(T,G){1&T&&e.NdJ("click",function(Ne){return G.onClick(Ne.button,Ne.ctrlKey,Ne.shiftKey,Ne.altKey,Ne.metaKey)}),2&T&&e.uIk("target",G.target)("href",G.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),k})(),Js=(()=>{class k{constructor(T,G,ce,Ne,lt,dt){this.router=T,this.element=G,this.renderer=ce,this.cdr=Ne,this.link=lt,this.linkWithHref=dt,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=T.events.subscribe(Rt=>{Rt instanceof kn&&this.update()})}ngAfterContentInit(){(0,g.of)(this.links.changes,this.linksWithHrefs.changes,(0,g.of)(null)).pipe((0,fe.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var T;null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe();const G=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(ce=>!!ce).map(ce=>ce.onChanges);this.linkInputChangesSubscription=(0,s.D)(G).pipe((0,fe.J)()).subscribe(ce=>{this.isActive!==this.isLinkActive(this.router)(ce)&&this.update()})}set routerLinkActive(T){const G=Array.isArray(T)?T:T.split(" ");this.classes=G.filter(ce=>!!ce)}ngOnChanges(T){this.update()}ngOnDestroy(){var T;this.routerEventsSubscription.unsubscribe(),null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const T=this.hasActiveLinks();this.isActive!==T&&(this.isActive=T,this.cdr.markForCheck(),this.classes.forEach(G=>{T?this.renderer.addClass(this.element.nativeElement,G):this.renderer.removeClass(this.element.nativeElement,G)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(T))})}isLinkActive(T){const G=function $a(k){return!!k.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ce=>!!ce.urlTree&&T.isActive(ce.urlTree,G)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.linkWithHref&&T(this.linkWithHref)||this.links.some(T)||this.linksWithHrefs.some(T)}}return k.\u0275fac=function(T){return new(T||k)(e.Y36(Wn),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(rs,8),e.Y36(xi,8))},k.\u0275dir=e.lG2({type:k,selectors:[["","routerLinkActive",""]],contentQueries:function(T,G,ce){if(1&T&&(e.Suo(ce,rs,5),e.Suo(ce,xi,5)),2&T){let Ne;e.iGM(Ne=e.CRH())&&(G.links=Ne),e.iGM(Ne=e.CRH())&&(G.linksWithHrefs=Ne)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]}),k})();class ao{}let Hr=(()=>{class k{constructor(T,G,ce,Ne,lt){this.router=T,this.injector=ce,this.preloadingStrategy=Ne,this.loader=lt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ve.h)(T=>T instanceof kn),(0,F.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,G){var ce,Ne,lt;const dt=[];for(const Rt of G){Rt.providers&&!Rt._injector&&(Rt._injector=(0,e.MMx)(Rt.providers,T,`Route: ${Rt.path}`));const un=null!==(ce=Rt._injector)&&void 0!==ce?ce:T,Dn=null!==(Ne=Rt._loadedInjector)&&void 0!==Ne?Ne:un;Rt.loadChildren&&!Rt._loadedRoutes&&void 0===Rt.canLoad||Rt.loadComponent&&!Rt._loadedComponent?dt.push(this.preloadConfig(un,Rt)):(Rt.children||Rt._loadedRoutes)&&dt.push(this.processRoutes(Dn,null!==(lt=Rt.children)&&void 0!==lt?lt:Rt._loadedRoutes))}return(0,s.D)(dt).pipe((0,fe.J)())}preloadConfig(T,G){return this.preloadingStrategy.preload(G,()=>{let ce;ce=G.loadChildren&&void 0===G.canLoad?this.loader.loadChildren(T,G):(0,g.of)(null);const Ne=ce.pipe((0,V.z)(lt=>{var dt;return null===lt?(0,g.of)(void 0):(G._loadedRoutes=lt.routes,G._loadedInjector=lt.injector,this.processRoutes(null!==(dt=lt.injector)&&void 0!==dt?dt:T,lt.routes))}));if(G.loadComponent&&!G._loadedComponent){const lt=this.loader.loadComponent(G);return(0,s.D)([Ne,lt]).pipe((0,fe.J)())}return Ne})}}return k.\u0275fac=function(T){return new(T||k)(e.LFG(Wn),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(ao),e.LFG(Ao))},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const cr=new e.OlP("");let Vr=(()=>{class k{constructor(T,G,ce={}){this.router=T,this.viewportScroller=G,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof kn&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof $s&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,G){this.router.triggerEvent(new $s(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return k.\u0275fac=function(T){e.$Z()},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac}),k})();function Ls(k,M){return{\u0275kind:k,\u0275providers:M}}function Ir(k){return[{provide:As,multi:!0,useValue:k}]}function Rl(){const k=(0,e.f3M)(e.zs3);return M=>{var T,G;const ce=k.get(e.z2F);if(M!==ce.components[0])return;const Ne=k.get(Wn),lt=k.get(Di);1===k.get(Ll)&&Ne.initialNavigation(),null===(T=k.get(Lc,null,e.XFs.Optional))||void 0===T||T.setUpPreloading(),null===(G=k.get(cr,null,e.XFs.Optional))||void 0===G||G.init(),Ne.resetRootComponentType(ce.componentTypes[0]),lt.closed||(lt.next(),lt.unsubscribe())}}const Di=new e.OlP("",{factory:()=>new Pe.x}),Ll=new e.OlP("",{providedIn:"root",factory:()=>1});const Lc=new e.OlP("");function Du(k){return Ls(0,[{provide:Lc,useExisting:Hr},{provide:ao,useExisting:k}])}const Nc=new e.OlP("ROUTER_FORROOT_GUARD"),fo=[de.Ye,{provide:wt,useClass:ee},{provide:Wn,useFactory:ni},Zi,{provide:$i,useFactory:function qa(k){return k.routerState.root},deps:[Wn]},Ao];function Zr(){return new e.PXZ("Router",Wn)}let wa=(()=>{class k{constructor(T){}static forRoot(T,G){return{ngModule:k,providers:[fo,[],Ir(T),{provide:Nc,useFactory:oo,deps:[[Wn,new e.FiY,new e.tp0]]},{provide:Mi,useValue:G||{}},null!=G&&G.useHash?{provide:de.S$,useClass:de.Do}:{provide:de.S$,useClass:de.b0},{provide:cr,useFactory:()=>{const k=(0,e.f3M)(Wn),M=(0,e.f3M)(de.EM),T=(0,e.f3M)(Mi);return T.scrollOffset&&M.setOffset(T.scrollOffset),new Vr(k,M,T)}},null!=G&&G.preloadingStrategy?Du(G.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:Zr},null!=G&&G.initialNavigation?zr(G):[],[{provide:Gr,useFactory:Rl},{provide:e.tb,multi:!0,useExisting:Gr}]]}}static forChild(T){return{ngModule:k,providers:[Ir(T)]}}}return k.\u0275fac=function(T){return new(T||k)(e.LFG(Nc,8))},k.\u0275mod=e.oAB({type:k}),k.\u0275inj=e.cJS({imports:[vr]}),k})();function oo(k){return"guarded"}function zr(k){return["disabled"===k.initialNavigation?Ls(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const M=(0,e.f3M)(Wn);return()=>{M.setUpLocationChangeListener()}}},{provide:Ll,useValue:2}]).\u0275providers:[],"enabledBlocking"===k.initialNavigation?Ls(2,[{provide:Ll,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:M=>{const T=M.get(de.V_,Promise.resolve());let G=!1;return()=>T.then(()=>new Promise(Ne=>{const lt=M.get(Wn),dt=M.get(Di);(function ce(Ne){M.get(Wn).events.pipe((0,ve.h)(dt=>dt instanceof kn||dt instanceof zt||dt instanceof an),(0,N.U)(dt=>dt instanceof kn||dt instanceof zt&&(0===dt.code||1===dt.code)&&null),(0,ve.h)(dt=>null!==dt),(0,ye.q)(1)).subscribe(()=>{Ne()})})(()=>{Ne(!0),G=!0}),lt.afterPreactivation=()=>(Ne(!0),G||dt.closed?(0,g.of)(void 0):dt),lt.initialNavigation()}))}}]).\u0275providers:[]]}const Gr=new e.OlP("")},9354:(Ht,et,_)=>{_.d(et,{lF:()=>$t,JP:()=>Ci});var e=_(5e3),s=_(7579),g=_(6451),H=_(9646),L=_(5963),I=_(3900),U=_(9718),le=_(1884),re=_(4782),K=_(8675),pe=_(4004),ue=_(2722),Te=(_(590),_(9808));let we={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Y=/[&<>"']/,Pe=new RegExp(Y.source,"g"),de=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,N=new RegExp(de.source,"g"),O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ye=Je=>O[Je];function Ce(Je,X){if(X){if(Y.test(Je))return Je.replace(Pe,ye)}else if(de.test(Je))return Je.replace(N,ye);return Je}const ve=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function V(Je){return Je.replace(ve,(X,D)=>"colon"===(D=D.toLowerCase())?":":"#"===D.charAt(0)?"x"===D.charAt(1)?String.fromCharCode(parseInt(D.substring(2),16)):String.fromCharCode(+D.substring(1)):"")}const w=/(^|[^\[])\^/g;function F(Je,X){Je="string"==typeof Je?Je:Je.source,X=X||"";const D={replace:(oe,Ie)=>(Ie=(Ie=Ie.source||Ie).replace(w,"$1"),Je=Je.replace(oe,Ie),D),getRegex:()=>new RegExp(Je,X)};return D}const q=/[^\w:]/g,_e=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function De(Je,X,D){if(Je){let oe;try{oe=decodeURIComponent(V(D)).replace(q,"").toLowerCase()}catch(Ie){return null}if(0===oe.indexOf("javascript:")||0===oe.indexOf("vbscript:")||0===oe.indexOf("data:"))return null}X&&!_e.test(D)&&(D=function Se(Je,X){Le[" "+Je]||(Le[" "+Je]=Me.test(Je)?Je+"/":Ue(Je,"/",!0));const D=-1===(Je=Le[" "+Je]).indexOf(":");return"//"===X.substring(0,2)?D?X:Je.replace(ht,"$1")+X:"/"===X.charAt(0)?D?X:Je.replace(at,"$1")+X:Je+X}(X,D));try{D=encodeURI(D).replace(/%25/g,"%")}catch(oe){return null}return D}const Le={},Me=/^[^:]+:\/*[^/]*$/,ht=/^([^:]+:)[\s\S]*$/,at=/^([^:]+:\/*[^/]*)[\s\S]*$/,$={exec:function(){}};function B(Je){let D,oe,X=1;for(;X<arguments.length;X++)for(oe in D=arguments[X],D)Object.prototype.hasOwnProperty.call(D,oe)&&(Je[oe]=D[oe]);return Je}function j(Je,X){const oe=Je.replace(/\|/g,(vt,Dt,Et)=>{let Vt=!1,pn=Dt;for(;--pn>=0&&"\\"===Et[pn];)Vt=!Vt;return Vt?"|":" |"}).split(/ \|/);let Ie=0;if(oe[0].trim()||oe.shift(),oe.length>0&&!oe[oe.length-1].trim()&&oe.pop(),oe.length>X)oe.splice(X);else for(;oe.length<X;)oe.push("");for(;Ie<oe.length;Ie++)oe[Ie]=oe[Ie].trim().replace(/\\\|/g,"|");return oe}function Ue(Je,X,D){const oe=Je.length;if(0===oe)return"";let Ie=0;for(;Ie<oe;){const vt=Je.charAt(oe-Ie-1);if(vt!==X||D){if(vt===X||!D)break;Ie++}else Ie++}return Je.slice(0,oe-Ie)}function qe(Je){Je&&Je.sanitize&&!Je.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function je(Je,X){if(X<1)return"";let D="";for(;X>1;)1&X&&(D+=Je),X>>=1,Je+=Je;return D+Je}function mt(Je,X,D,oe){const Ie=X.href,vt=X.title?Ce(X.title):null,Dt=Je[1].replace(/\\([\[\]])/g,"$1");if("!"!==Je[0].charAt(0)){oe.state.inLink=!0;const Et={type:"link",raw:D,href:Ie,title:vt,text:Dt,tokens:oe.inlineTokens(Dt)};return oe.state.inLink=!1,Et}return{type:"image",raw:D,href:Ie,title:vt,text:Ce(Dt)}}class st{constructor(X){this.options=X||we}space(X){const D=this.rules.block.newline.exec(X);if(D&&D[0].length>0)return{type:"space",raw:D[0]}}code(X){const D=this.rules.block.code.exec(X);if(D){const oe=D[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:D[0],codeBlockStyle:"indented",text:this.options.pedantic?oe:Ue(oe,"\n")}}}fences(X){const D=this.rules.block.fences.exec(X);if(D){const oe=D[0],Ie=function bt(Je,X){const D=Je.match(/^(\s+)(?:```)/);if(null===D)return X;const oe=D[1];return X.split("\n").map(Ie=>{const vt=Ie.match(/^\s+/);if(null===vt)return Ie;const[Dt]=vt;return Dt.length>=oe.length?Ie.slice(oe.length):Ie}).join("\n")}(oe,D[3]||"");return{type:"code",raw:oe,lang:D[2]?D[2].trim().replace(this.rules.inline._escapes,"$1"):D[2],text:Ie}}}heading(X){const D=this.rules.block.heading.exec(X);if(D){let oe=D[2].trim();if(/#$/.test(oe)){const Ie=Ue(oe,"#");(this.options.pedantic||!Ie||/ $/.test(Ie))&&(oe=Ie.trim())}return{type:"heading",raw:D[0],depth:D[1].length,text:oe,tokens:this.lexer.inline(oe)}}}hr(X){const D=this.rules.block.hr.exec(X);if(D)return{type:"hr",raw:D[0]}}blockquote(X){const D=this.rules.block.blockquote.exec(X);if(D){const oe=D[0].replace(/^ *>[ \t]?/gm,""),Ie=this.lexer.state.top;this.lexer.state.top=!0;const vt=this.lexer.blockTokens(oe);return this.lexer.state.top=Ie,{type:"blockquote",raw:D[0],tokens:vt,text:oe}}}list(X){let D=this.rules.block.list.exec(X);if(D){let oe,Ie,vt,Dt,Et,Vt,pn,bn,yn,An,In,Jn,Ti=D[1].trim();const zi=Ti.length>1,gn={type:"list",raw:"",ordered:zi,start:zi?+Ti.slice(0,-1):"",loose:!1,items:[]};Ti=zi?`\\d{1,9}\\${Ti.slice(-1)}`:`\\${Ti}`,this.options.pedantic&&(Ti=zi?Ti:"[*+-]");const yi=new RegExp(`^( {0,3}${Ti})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;X&&(Jn=!1,(D=yi.exec(X))&&!this.rules.block.hr.test(X));){if(oe=D[0],X=X.substring(oe.length),bn=D[2].split("\n",1)[0].replace(/^\t+/,Yi=>" ".repeat(3*Yi.length)),yn=X.split("\n",1)[0],this.options.pedantic?(Dt=2,In=bn.trimLeft()):(Dt=D[2].search(/[^ ]/),Dt=Dt>4?1:Dt,In=bn.slice(Dt),Dt+=D[1].length),Vt=!1,!bn&&/^ *$/.test(yn)&&(oe+=yn+"\n",X=X.substring(yn.length+1),Jn=!0),!Jn){const Yi=new RegExp(`^ {0,${Math.min(3,Dt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Fi=new RegExp(`^ {0,${Math.min(3,Dt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ai=new RegExp(`^ {0,${Math.min(3,Dt-1)}}(?:\`\`\`|~~~)`),wi=new RegExp(`^ {0,${Math.min(3,Dt-1)}}#`);for(;X&&(An=X.split("\n",1)[0],yn=An,this.options.pedantic&&(yn=yn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ai.test(yn)||wi.test(yn)||Yi.test(yn)||Fi.test(X)));){if(yn.search(/[^ ]/)>=Dt||!yn.trim())In+="\n"+yn.slice(Dt);else{if(Vt||bn.search(/[^ ]/)>=4||ai.test(bn)||wi.test(bn)||Fi.test(bn))break;In+="\n"+yn}!Vt&&!yn.trim()&&(Vt=!0),oe+=An+"\n",X=X.substring(An.length+1),bn=yn.slice(Dt)}}gn.loose||(pn?gn.loose=!0:/\n *\n *$/.test(oe)&&(pn=!0)),this.options.gfm&&(Ie=/^\[[ xX]\] /.exec(In),Ie&&(vt="[ ] "!==Ie[0],In=In.replace(/^\[[ xX]\] +/,""))),gn.items.push({type:"list_item",raw:oe,task:!!Ie,checked:vt,loose:!1,text:In}),gn.raw+=oe}gn.items[gn.items.length-1].raw=oe.trimRight(),gn.items[gn.items.length-1].text=In.trimRight(),gn.raw=gn.raw.trimRight();const _o=gn.items.length;for(Et=0;Et<_o;Et++)if(this.lexer.state.top=!1,gn.items[Et].tokens=this.lexer.blockTokens(gn.items[Et].text,[]),!gn.loose){const Yi=gn.items[Et].tokens.filter(ai=>"space"===ai.type),Fi=Yi.length>0&&Yi.some(ai=>/\n.*\n/.test(ai.raw));gn.loose=Fi}if(gn.loose)for(Et=0;Et<_o;Et++)gn.items[Et].loose=!0;return gn}}html(X){const D=this.rules.block.html.exec(X);if(D){const oe={type:"html",raw:D[0],pre:!this.options.sanitizer&&("pre"===D[1]||"script"===D[1]||"style"===D[1]),text:D[0]};if(this.options.sanitize){const Ie=this.options.sanitizer?this.options.sanitizer(D[0]):Ce(D[0]);oe.type="paragraph",oe.text=Ie,oe.tokens=this.lexer.inline(Ie)}return oe}}def(X){const D=this.rules.block.def.exec(X);if(D){const oe=D[1].toLowerCase().replace(/\s+/g," "),Ie=D[2]?D[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",vt=D[3]?D[3].substring(1,D[3].length-1).replace(this.rules.inline._escapes,"$1"):D[3];return{type:"def",tag:oe,raw:D[0],href:Ie,title:vt}}}table(X){const D=this.rules.block.table.exec(X);if(D){const oe={type:"table",header:j(D[1]).map(Ie=>({text:Ie})),align:D[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:D[3]&&D[3].trim()?D[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(oe.header.length===oe.align.length){oe.raw=D[0];let vt,Dt,Et,Vt,Ie=oe.align.length;for(vt=0;vt<Ie;vt++)oe.align[vt]=/^ *-+: *$/.test(oe.align[vt])?"right":/^ *:-+: *$/.test(oe.align[vt])?"center":/^ *:-+ *$/.test(oe.align[vt])?"left":null;for(Ie=oe.rows.length,vt=0;vt<Ie;vt++)oe.rows[vt]=j(oe.rows[vt],oe.header.length).map(pn=>({text:pn}));for(Ie=oe.header.length,Dt=0;Dt<Ie;Dt++)oe.header[Dt].tokens=this.lexer.inline(oe.header[Dt].text);for(Ie=oe.rows.length,Dt=0;Dt<Ie;Dt++)for(Vt=oe.rows[Dt],Et=0;Et<Vt.length;Et++)Vt[Et].tokens=this.lexer.inline(Vt[Et].text);return oe}}}lheading(X){const D=this.rules.block.lheading.exec(X);if(D)return{type:"heading",raw:D[0],depth:"="===D[2].charAt(0)?1:2,text:D[1],tokens:this.lexer.inline(D[1])}}paragraph(X){const D=this.rules.block.paragraph.exec(X);if(D){const oe="\n"===D[1].charAt(D[1].length-1)?D[1].slice(0,-1):D[1];return{type:"paragraph",raw:D[0],text:oe,tokens:this.lexer.inline(oe)}}}text(X){const D=this.rules.block.text.exec(X);if(D)return{type:"text",raw:D[0],text:D[0],tokens:this.lexer.inline(D[0])}}escape(X){const D=this.rules.inline.escape.exec(X);if(D)return{type:"escape",raw:D[0],text:Ce(D[1])}}tag(X){const D=this.rules.inline.tag.exec(X);if(D)return!this.lexer.state.inLink&&/^<a /i.test(D[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(D[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(D[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(D[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:D[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(D[0]):Ce(D[0]):D[0]}}link(X){const D=this.rules.inline.link.exec(X);if(D){const oe=D[2].trim();if(!this.options.pedantic&&/^</.test(oe)){if(!/>$/.test(oe))return;const Dt=Ue(oe.slice(0,-1),"\\");if((oe.length-Dt.length)%2==0)return}else{const Dt=function fe(Je,X){if(-1===Je.indexOf(X[1]))return-1;const D=Je.length;let oe=0,Ie=0;for(;Ie<D;Ie++)if("\\"===Je[Ie])Ie++;else if(Je[Ie]===X[0])oe++;else if(Je[Ie]===X[1]&&(oe--,oe<0))return Ie;return-1}(D[2],"()");if(Dt>-1){const Vt=(0===D[0].indexOf("!")?5:4)+D[1].length+Dt;D[2]=D[2].substring(0,Dt),D[0]=D[0].substring(0,Vt).trim(),D[3]=""}}let Ie=D[2],vt="";if(this.options.pedantic){const Dt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ie);Dt&&(Ie=Dt[1],vt=Dt[3])}else vt=D[3]?D[3].slice(1,-1):"";return Ie=Ie.trim(),/^</.test(Ie)&&(Ie=this.options.pedantic&&!/>$/.test(oe)?Ie.slice(1):Ie.slice(1,-1)),mt(D,{href:Ie&&Ie.replace(this.rules.inline._escapes,"$1"),title:vt&&vt.replace(this.rules.inline._escapes,"$1")},D[0],this.lexer)}}reflink(X,D){let oe;if((oe=this.rules.inline.reflink.exec(X))||(oe=this.rules.inline.nolink.exec(X))){let Ie=(oe[2]||oe[1]).replace(/\s+/g," ");if(Ie=D[Ie.toLowerCase()],!Ie){const vt=oe[0].charAt(0);return{type:"text",raw:vt,text:vt}}return mt(oe,Ie,oe[0],this.lexer)}}emStrong(X,D,oe=""){let Ie=this.rules.inline.emStrong.lDelim.exec(X);if(!Ie||Ie[3]&&oe.match(/[\p{L}\p{N}]/u))return;const vt=Ie[1]||Ie[2]||"";if(!vt||vt&&(""===oe||this.rules.inline.punctuation.exec(oe))){const Dt=Ie[0].length-1;let Et,Vt,pn=Dt,bn=0;const yn="*"===Ie[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(yn.lastIndex=0,D=D.slice(-1*X.length+Dt);null!=(Ie=yn.exec(D));){if(Et=Ie[1]||Ie[2]||Ie[3]||Ie[4]||Ie[5]||Ie[6],!Et)continue;if(Vt=Et.length,Ie[3]||Ie[4]){pn+=Vt;continue}if((Ie[5]||Ie[6])&&Dt%3&&!((Dt+Vt)%3)){bn+=Vt;continue}if(pn-=Vt,pn>0)continue;Vt=Math.min(Vt,Vt+pn+bn);const An=X.slice(0,Dt+Ie.index+(Ie[0].length-Et.length)+Vt);if(Math.min(Dt,Vt)%2){const Jn=An.slice(1,-1);return{type:"em",raw:An,text:Jn,tokens:this.lexer.inlineTokens(Jn)}}const In=An.slice(2,-2);return{type:"strong",raw:An,text:In,tokens:this.lexer.inlineTokens(In)}}}}codespan(X){const D=this.rules.inline.code.exec(X);if(D){let oe=D[2].replace(/\n/g," ");const Ie=/[^ ]/.test(oe),vt=/^ /.test(oe)&&/ $/.test(oe);return Ie&&vt&&(oe=oe.substring(1,oe.length-1)),oe=Ce(oe,!0),{type:"codespan",raw:D[0],text:oe}}}br(X){const D=this.rules.inline.br.exec(X);if(D)return{type:"br",raw:D[0]}}del(X){const D=this.rules.inline.del.exec(X);if(D)return{type:"del",raw:D[0],text:D[2],tokens:this.lexer.inlineTokens(D[2])}}autolink(X,D){const oe=this.rules.inline.autolink.exec(X);if(oe){let Ie,vt;return"@"===oe[2]?(Ie=Ce(this.options.mangle?D(oe[1]):oe[1]),vt="mailto:"+Ie):(Ie=Ce(oe[1]),vt=Ie),{type:"link",raw:oe[0],text:Ie,href:vt,tokens:[{type:"text",raw:Ie,text:Ie}]}}}url(X,D){let oe;if(oe=this.rules.inline.url.exec(X)){let Ie,vt;if("@"===oe[2])Ie=Ce(this.options.mangle?D(oe[0]):oe[0]),vt="mailto:"+Ie;else{let Dt;do{Dt=oe[0],oe[0]=this.rules.inline._backpedal.exec(oe[0])[0]}while(Dt!==oe[0]);Ie=Ce(oe[0]),vt="www."===oe[1]?"http://"+oe[0]:oe[0]}return{type:"link",raw:oe[0],text:Ie,href:vt,tokens:[{type:"text",raw:Ie,text:Ie}]}}}inlineText(X,D){const oe=this.rules.inline.text.exec(X);if(oe){let Ie;return Ie=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(oe[0]):Ce(oe[0]):oe[0]:Ce(this.options.smartypants?D(oe[0]):oe[0]),{type:"text",raw:oe[0],text:Ie}}}}const xt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:$,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};xt.def=F(xt.def).replace("label",xt._label).replace("title",xt._title).getRegex(),xt.bullet=/(?:[*+-]|\d{1,9}[.)])/,xt.listItemStart=F(/^( *)(bull) */).replace("bull",xt.bullet).getRegex(),xt.list=F(xt.list).replace(/bull/g,xt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+xt.def.source+")").getRegex(),xt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",xt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,xt.html=F(xt.html,"i").replace("comment",xt._comment).replace("tag",xt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xt.paragraph=F(xt._paragraph).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex(),xt.blockquote=F(xt.blockquote).replace("paragraph",xt.paragraph).getRegex(),xt.normal=B({},xt),xt.gfm=B({},xt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),xt.gfm.table=F(xt.gfm.table).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex(),xt.gfm.paragraph=F(xt._paragraph).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",xt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex(),xt.pedantic=B({},xt.normal,{html:F("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",xt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:F(xt.normal._paragraph).replace("hr",xt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",xt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ot={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:$,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:$,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function We(Je){return Je.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function hn(Je){let D,oe,X="";const Ie=Je.length;for(D=0;D<Ie;D++)oe=Je.charCodeAt(D),Math.random()>.5&&(oe="x"+oe.toString(16)),X+="&#"+oe+";";return X}ot._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ot.punctuation=F(ot.punctuation).replace(/punctuation/g,ot._punctuation).getRegex(),ot.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ot.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ot._comment=F(xt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ot.emStrong.lDelim=F(ot.emStrong.lDelim).replace(/punct/g,ot._punctuation).getRegex(),ot.emStrong.rDelimAst=F(ot.emStrong.rDelimAst,"g").replace(/punct/g,ot._punctuation).getRegex(),ot.emStrong.rDelimUnd=F(ot.emStrong.rDelimUnd,"g").replace(/punct/g,ot._punctuation).getRegex(),ot._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ot._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ot._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ot.autolink=F(ot.autolink).replace("scheme",ot._scheme).replace("email",ot._email).getRegex(),ot._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ot.tag=F(ot.tag).replace("comment",ot._comment).replace("attribute",ot._attribute).getRegex(),ot._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ot._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ot._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ot.link=F(ot.link).replace("label",ot._label).replace("href",ot._href).replace("title",ot._title).getRegex(),ot.reflink=F(ot.reflink).replace("label",ot._label).replace("ref",xt._label).getRegex(),ot.nolink=F(ot.nolink).replace("ref",xt._label).getRegex(),ot.reflinkSearch=F(ot.reflinkSearch,"g").replace("reflink",ot.reflink).replace("nolink",ot.nolink).getRegex(),ot.normal=B({},ot),ot.pedantic=B({},ot.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:F(/^!?\[(label)\]\((.*?)\)/).replace("label",ot._label).getRegex(),reflink:F(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ot._label).getRegex()}),ot.gfm=B({},ot.normal,{escape:F(ot.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ot.gfm.url=F(ot.gfm.url,"i").replace("email",ot.gfm._extended_email).getRegex(),ot.breaks=B({},ot.gfm,{br:F(ot.br).replace("{2,}","*").getRegex(),text:F(ot.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class fn{constructor(X){this.tokens=[],this.tokens.links=Object.create(null),this.options=X||we,this.options.tokenizer=this.options.tokenizer||new st,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const D={block:xt.normal,inline:ot.normal};this.options.pedantic?(D.block=xt.pedantic,D.inline=ot.pedantic):this.options.gfm&&(D.block=xt.gfm,D.inline=this.options.breaks?ot.breaks:ot.gfm),this.tokenizer.rules=D}static get rules(){return{block:xt,inline:ot}}static lex(X,D){return new fn(D).lex(X)}static lexInline(X,D){return new fn(D).inlineTokens(X)}lex(X){let D;for(X=X.replace(/\r\n|\r/g,"\n"),this.blockTokens(X,this.tokens);D=this.inlineQueue.shift();)this.inlineTokens(D.src,D.tokens);return this.tokens}blockTokens(X,D=[]){let oe,Ie,vt,Dt;for(X=this.options.pedantic?X.replace(/\t/g,"    ").replace(/^ +$/gm,""):X.replace(/^( *)(\t+)/gm,(Et,Vt,pn)=>Vt+"    ".repeat(pn.length));X;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Et=>!!(oe=Et.call({lexer:this},X,D))&&(X=X.substring(oe.raw.length),D.push(oe),!0)))){if(oe=this.tokenizer.space(X)){X=X.substring(oe.raw.length),1===oe.raw.length&&D.length>0?D[D.length-1].raw+="\n":D.push(oe);continue}if(oe=this.tokenizer.code(X)){X=X.substring(oe.raw.length),Ie=D[D.length-1],!Ie||"paragraph"!==Ie.type&&"text"!==Ie.type?D.push(oe):(Ie.raw+="\n"+oe.raw,Ie.text+="\n"+oe.text,this.inlineQueue[this.inlineQueue.length-1].src=Ie.text);continue}if(oe=this.tokenizer.fences(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.heading(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.hr(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.blockquote(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.list(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.html(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.def(X)){X=X.substring(oe.raw.length),Ie=D[D.length-1],!Ie||"paragraph"!==Ie.type&&"text"!==Ie.type?this.tokens.links[oe.tag]||(this.tokens.links[oe.tag]={href:oe.href,title:oe.title}):(Ie.raw+="\n"+oe.raw,Ie.text+="\n"+oe.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ie.text);continue}if(oe=this.tokenizer.table(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.lheading(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(vt=X,this.options.extensions&&this.options.extensions.startBlock){let Et=1/0;const Vt=X.slice(1);let pn;this.options.extensions.startBlock.forEach(function(bn){pn=bn.call({lexer:this},Vt),"number"==typeof pn&&pn>=0&&(Et=Math.min(Et,pn))}),Et<1/0&&Et>=0&&(vt=X.substring(0,Et+1))}if(this.state.top&&(oe=this.tokenizer.paragraph(vt))){Ie=D[D.length-1],Dt&&"paragraph"===Ie.type?(Ie.raw+="\n"+oe.raw,Ie.text+="\n"+oe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ie.text):D.push(oe),Dt=vt.length!==X.length,X=X.substring(oe.raw.length);continue}if(oe=this.tokenizer.text(X)){X=X.substring(oe.raw.length),Ie=D[D.length-1],Ie&&"text"===Ie.type?(Ie.raw+="\n"+oe.raw,Ie.text+="\n"+oe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ie.text):D.push(oe);continue}if(X){const Et="Infinite loop on byte: "+X.charCodeAt(0);if(this.options.silent){console.error(Et);break}throw new Error(Et)}}return this.state.top=!0,D}inline(X,D=[]){return this.inlineQueue.push({src:X,tokens:D}),D}inlineTokens(X,D=[]){let oe,Ie,vt,Et,Vt,pn,Dt=X;if(this.tokens.links){const bn=Object.keys(this.tokens.links);if(bn.length>0)for(;null!=(Et=this.tokenizer.rules.inline.reflinkSearch.exec(Dt));)bn.includes(Et[0].slice(Et[0].lastIndexOf("[")+1,-1))&&(Dt=Dt.slice(0,Et.index)+"["+je("a",Et[0].length-2)+"]"+Dt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Et=this.tokenizer.rules.inline.blockSkip.exec(Dt));)Dt=Dt.slice(0,Et.index)+"["+je("a",Et[0].length-2)+"]"+Dt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Et=this.tokenizer.rules.inline.escapedEmSt.exec(Dt));)Dt=Dt.slice(0,Et.index+Et[0].length-2)+"++"+Dt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;X;)if(Vt||(pn=""),Vt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(bn=>!!(oe=bn.call({lexer:this},X,D))&&(X=X.substring(oe.raw.length),D.push(oe),!0)))){if(oe=this.tokenizer.escape(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.tag(X)){X=X.substring(oe.raw.length),Ie=D[D.length-1],Ie&&"text"===oe.type&&"text"===Ie.type?(Ie.raw+=oe.raw,Ie.text+=oe.text):D.push(oe);continue}if(oe=this.tokenizer.link(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.reflink(X,this.tokens.links)){X=X.substring(oe.raw.length),Ie=D[D.length-1],Ie&&"text"===oe.type&&"text"===Ie.type?(Ie.raw+=oe.raw,Ie.text+=oe.text):D.push(oe);continue}if(oe=this.tokenizer.emStrong(X,Dt,pn)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.codespan(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.br(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.del(X)){X=X.substring(oe.raw.length),D.push(oe);continue}if(oe=this.tokenizer.autolink(X,hn)){X=X.substring(oe.raw.length),D.push(oe);continue}if(!this.state.inLink&&(oe=this.tokenizer.url(X,hn))){X=X.substring(oe.raw.length),D.push(oe);continue}if(vt=X,this.options.extensions&&this.options.extensions.startInline){let bn=1/0;const yn=X.slice(1);let An;this.options.extensions.startInline.forEach(function(In){An=In.call({lexer:this},yn),"number"==typeof An&&An>=0&&(bn=Math.min(bn,An))}),bn<1/0&&bn>=0&&(vt=X.substring(0,bn+1))}if(oe=this.tokenizer.inlineText(vt,We)){X=X.substring(oe.raw.length),"_"!==oe.raw.slice(-1)&&(pn=oe.raw.slice(-1)),Vt=!0,Ie=D[D.length-1],Ie&&"text"===Ie.type?(Ie.raw+=oe.raw,Ie.text+=oe.text):D.push(oe);continue}if(X){const bn="Infinite loop on byte: "+X.charCodeAt(0);if(this.options.silent){console.error(bn);break}throw new Error(bn)}}return D}}class St{constructor(X){this.options=X||we}code(X,D,oe){const Ie=(D||"").match(/\S*/)[0];if(this.options.highlight){const vt=this.options.highlight(X,Ie);null!=vt&&vt!==X&&(oe=!0,X=vt)}return X=X.replace(/\n$/,"")+"\n",Ie?'<pre><code class="'+this.options.langPrefix+Ce(Ie)+'">'+(oe?X:Ce(X,!0))+"</code></pre>\n":"<pre><code>"+(oe?X:Ce(X,!0))+"</code></pre>\n"}blockquote(X){return`<blockquote>\n${X}</blockquote>\n`}html(X){return X}heading(X,D,oe,Ie){return this.options.headerIds?`<h${D} id="${this.options.headerPrefix+Ie.slug(oe)}">${X}</h${D}>\n`:`<h${D}>${X}</h${D}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(X,D,oe){const Ie=D?"ol":"ul";return"<"+Ie+(D&&1!==oe?' start="'+oe+'"':"")+">\n"+X+"</"+Ie+">\n"}listitem(X){return`<li>${X}</li>\n`}checkbox(X){return"<input "+(X?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(X){return`<p>${X}</p>\n`}table(X,D){return D&&(D=`<tbody>${D}</tbody>`),"<table>\n<thead>\n"+X+"</thead>\n"+D+"</table>\n"}tablerow(X){return`<tr>\n${X}</tr>\n`}tablecell(X,D){const oe=D.header?"th":"td";return(D.align?`<${oe} align="${D.align}">`:`<${oe}>`)+X+`</${oe}>\n`}strong(X){return`<strong>${X}</strong>`}em(X){return`<em>${X}</em>`}codespan(X){return`<code>${X}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(X){return`<del>${X}</del>`}link(X,D,oe){if(null===(X=De(this.options.sanitize,this.options.baseUrl,X)))return oe;let Ie='<a href="'+X+'"';return D&&(Ie+=' title="'+D+'"'),Ie+=">"+oe+"</a>",Ie}image(X,D,oe){if(null===(X=De(this.options.sanitize,this.options.baseUrl,X)))return oe;let Ie=`<img src="${X}" alt="${oe}"`;return D&&(Ie+=` title="${D}"`),Ie+=this.options.xhtml?"/>":">",Ie}text(X){return X}}class ln{strong(X){return X}em(X){return X}codespan(X){return X}del(X){return X}html(X){return X}text(X){return X}link(X,D,oe){return""+oe}image(X,D,oe){return""+oe}br(){return""}}class Ye{constructor(){this.seen={}}serialize(X){return X.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(X,D){let oe=X,Ie=0;if(this.seen.hasOwnProperty(oe)){Ie=this.seen[X];do{Ie++,oe=X+"-"+Ie}while(this.seen.hasOwnProperty(oe))}return D||(this.seen[X]=Ie,this.seen[oe]=0),oe}slug(X,D={}){const oe=this.serialize(X);return this.getNextSafeSlug(oe,D.dryrun)}}class Mt{constructor(X){this.options=X||we,this.options.renderer=this.options.renderer||new St,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ln,this.slugger=new Ye}static parse(X,D){return new Mt(D).parse(X)}static parseInline(X,D){return new Mt(D).parseInline(X)}parse(X,D=!0){let Ie,vt,Dt,Et,Vt,pn,bn,yn,An,In,Jn,Ti,zi,gn,yi,_o,Yi,Fi,ai,oe="";const wi=X.length;for(Ie=0;Ie<wi;Ie++)if(In=X[Ie],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[In.type]&&(ai=this.options.extensions.renderers[In.type].call({parser:this},In),!1!==ai||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(In.type)))oe+=ai||"";else switch(In.type){case"space":continue;case"hr":oe+=this.renderer.hr();continue;case"heading":oe+=this.renderer.heading(this.parseInline(In.tokens),In.depth,V(this.parseInline(In.tokens,this.textRenderer)),this.slugger);continue;case"code":oe+=this.renderer.code(In.text,In.lang,In.escaped);continue;case"table":for(yn="",bn="",Et=In.header.length,vt=0;vt<Et;vt++)bn+=this.renderer.tablecell(this.parseInline(In.header[vt].tokens),{header:!0,align:In.align[vt]});for(yn+=this.renderer.tablerow(bn),An="",Et=In.rows.length,vt=0;vt<Et;vt++){for(pn=In.rows[vt],bn="",Vt=pn.length,Dt=0;Dt<Vt;Dt++)bn+=this.renderer.tablecell(this.parseInline(pn[Dt].tokens),{header:!1,align:In.align[Dt]});An+=this.renderer.tablerow(bn)}oe+=this.renderer.table(yn,An);continue;case"blockquote":An=this.parse(In.tokens),oe+=this.renderer.blockquote(An);continue;case"list":for(Jn=In.ordered,Ti=In.start,zi=In.loose,Et=In.items.length,An="",vt=0;vt<Et;vt++)yi=In.items[vt],_o=yi.checked,Yi=yi.task,gn="",yi.task&&(Fi=this.renderer.checkbox(_o),zi?yi.tokens.length>0&&"paragraph"===yi.tokens[0].type?(yi.tokens[0].text=Fi+" "+yi.tokens[0].text,yi.tokens[0].tokens&&yi.tokens[0].tokens.length>0&&"text"===yi.tokens[0].tokens[0].type&&(yi.tokens[0].tokens[0].text=Fi+" "+yi.tokens[0].tokens[0].text)):yi.tokens.unshift({type:"text",text:Fi}):gn+=Fi),gn+=this.parse(yi.tokens,zi),An+=this.renderer.listitem(gn,Yi,_o);oe+=this.renderer.list(An,Jn,Ti);continue;case"html":oe+=this.renderer.html(In.text);continue;case"paragraph":oe+=this.renderer.paragraph(this.parseInline(In.tokens));continue;case"text":for(An=In.tokens?this.parseInline(In.tokens):In.text;Ie+1<wi&&"text"===X[Ie+1].type;)In=X[++Ie],An+="\n"+(In.tokens?this.parseInline(In.tokens):In.text);oe+=D?this.renderer.paragraph(An):An;continue;default:{const Si='Token with "'+In.type+'" type was not found.';if(this.options.silent)return void console.error(Si);throw new Error(Si)}}return oe}parseInline(X,D){D=D||this.renderer;let Ie,vt,Dt,oe="";const Et=X.length;for(Ie=0;Ie<Et;Ie++)if(vt=X[Ie],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[vt.type]&&(Dt=this.options.extensions.renderers[vt.type].call({parser:this},vt),!1!==Dt||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(vt.type)))oe+=Dt||"";else switch(vt.type){case"escape":case"text":oe+=D.text(vt.text);break;case"html":oe+=D.html(vt.text);break;case"link":oe+=D.link(vt.href,vt.title,this.parseInline(vt.tokens,D));break;case"image":oe+=D.image(vt.href,vt.title,vt.text);break;case"strong":oe+=D.strong(this.parseInline(vt.tokens,D));break;case"em":oe+=D.em(this.parseInline(vt.tokens,D));break;case"codespan":oe+=D.codespan(vt.text);break;case"br":oe+=D.br();break;case"del":oe+=D.del(this.parseInline(vt.tokens,D));break;default:{const Vt='Token with "'+vt.type+'" type was not found.';if(this.options.silent)return void console.error(Vt);throw new Error(Vt)}}return oe}}function Ft(Je,X,D){if(null==Je)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Je)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Je)+", string expected");if("function"==typeof X&&(D=X,X=null),qe(X=B({},Ft.defaults,X||{})),D){const Ie=X.highlight;let vt;try{vt=fn.lex(Je,X)}catch(Vt){return D(Vt)}const Dt=function(Vt){let pn;if(!Vt)try{X.walkTokens&&Ft.walkTokens(vt,X.walkTokens),pn=Mt.parse(vt,X)}catch(bn){Vt=bn}return X.highlight=Ie,Vt?D(Vt):D(null,pn)};if(!Ie||Ie.length<3||(delete X.highlight,!vt.length))return Dt();let Et=0;return Ft.walkTokens(vt,function(Vt){"code"===Vt.type&&(Et++,setTimeout(()=>{Ie(Vt.text,Vt.lang,function(pn,bn){if(pn)return Dt(pn);null!=bn&&bn!==Vt.text&&(Vt.text=bn,Vt.escaped=!0),Et--,0===Et&&Dt()})},0))}),void(0===Et&&Dt())}function oe(Ie){if(Ie.message+="\nPlease report this to https://github.com/markedjs/marked.",X.silent)return"<p>An error occurred:</p><pre>"+Ce(Ie.message+"",!0)+"</pre>";throw Ie}try{const Ie=fn.lex(Je,X);if(X.walkTokens){if(X.async)return Promise.all(Ft.walkTokens(Ie,X.walkTokens)).then(()=>Mt.parse(Ie,X)).catch(oe);Ft.walkTokens(Ie,X.walkTokens)}return Mt.parse(Ie,X)}catch(Ie){oe(Ie)}}Ft.options=Ft.setOptions=function(Je){return B(Ft.defaults,Je),function Fe(Je){we=Je}(Ft.defaults),Ft},Ft.getDefaults=function ke(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Ft.defaults=we,Ft.use=function(...Je){const X=Ft.defaults.extensions||{renderers:{},childTokens:{}};Je.forEach(D=>{const oe=B({},D);if(oe.async=Ft.defaults.async||oe.async,D.extensions&&(D.extensions.forEach(Ie=>{if(!Ie.name)throw new Error("extension name required");if(Ie.renderer){const vt=X.renderers[Ie.name];X.renderers[Ie.name]=vt?function(...Dt){let Et=Ie.renderer.apply(this,Dt);return!1===Et&&(Et=vt.apply(this,Dt)),Et}:Ie.renderer}if(Ie.tokenizer){if(!Ie.level||"block"!==Ie.level&&"inline"!==Ie.level)throw new Error("extension level must be 'block' or 'inline'");X[Ie.level]?X[Ie.level].unshift(Ie.tokenizer):X[Ie.level]=[Ie.tokenizer],Ie.start&&("block"===Ie.level?X.startBlock?X.startBlock.push(Ie.start):X.startBlock=[Ie.start]:"inline"===Ie.level&&(X.startInline?X.startInline.push(Ie.start):X.startInline=[Ie.start]))}Ie.childTokens&&(X.childTokens[Ie.name]=Ie.childTokens)}),oe.extensions=X),D.renderer){const Ie=Ft.defaults.renderer||new St;for(const vt in D.renderer){const Dt=Ie[vt];Ie[vt]=(...Et)=>{let Vt=D.renderer[vt].apply(Ie,Et);return!1===Vt&&(Vt=Dt.apply(Ie,Et)),Vt}}oe.renderer=Ie}if(D.tokenizer){const Ie=Ft.defaults.tokenizer||new st;for(const vt in D.tokenizer){const Dt=Ie[vt];Ie[vt]=(...Et)=>{let Vt=D.tokenizer[vt].apply(Ie,Et);return!1===Vt&&(Vt=Dt.apply(Ie,Et)),Vt}}oe.tokenizer=Ie}if(D.walkTokens){const Ie=Ft.defaults.walkTokens;oe.walkTokens=function(vt){let Dt=[];return Dt.push(D.walkTokens.call(this,vt)),Ie&&(Dt=Dt.concat(Ie.call(this,vt))),Dt}}Ft.setOptions(oe)})},Ft.walkTokens=function(Je,X){let D=[];for(const oe of Je)switch(D=D.concat(X.call(Ft,oe)),oe.type){case"table":for(const Ie of oe.header)D=D.concat(Ft.walkTokens(Ie.tokens,X));for(const Ie of oe.rows)for(const vt of Ie)D=D.concat(Ft.walkTokens(vt.tokens,X));break;case"list":D=D.concat(Ft.walkTokens(oe.items,X));break;default:Ft.defaults.extensions&&Ft.defaults.extensions.childTokens&&Ft.defaults.extensions.childTokens[oe.type]?Ft.defaults.extensions.childTokens[oe.type].forEach(function(Ie){D=D.concat(Ft.walkTokens(oe[Ie],X))}):oe.tokens&&(D=D.concat(Ft.walkTokens(oe.tokens,X)))}return D},Ft.parseInline=function(Je,X){if(null==Je)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Je)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Je)+", string expected");qe(X=B({},Ft.defaults,X||{}));try{const D=fn.lexInline(Je,X);return X.walkTokens&&Ft.walkTokens(D,X.walkTokens),Mt.parseInline(D,X)}catch(D){if(D.message+="\nPlease report this to https://github.com/markedjs/marked.",X.silent)return"<p>An error occurred:</p><pre>"+Ce(D.message+"",!0)+"</pre>";throw D}},Ft.Parser=Mt,Ft.parser=Mt.parse,Ft.Renderer=St,Ft.TextRenderer=ln,Ft.Lexer=fn,Ft.lexer=fn.lex,Ft.Tokenizer=st,Ft.Slugger=Ye,Ft.parse=Ft;var S=_(520),he=_(2313);const Ae=["*"];let Kt=(()=>{class Je{constructor(){this._buttonClick$=new s.x,this.copied$=this._buttonClick$.pipe((0,I.w)(()=>(0,g.T)((0,H.of)(!0),(0,L.H)(3e3).pipe((0,U.h)(!1)))),(0,le.x)(),(0,re.d)(1)),this.copiedText$=this.copied$.pipe((0,K.O)(!1),(0,pe.U)(D=>D?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return Je.\u0275fac=function(D){return new(D||Je)},Je.\u0275cmp=e.Xpm({type:Je,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(D,oe){1&D&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return oe.onCopyToClipboardClick()}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"async"),e.qZA()),2&D&&(e.ekj("copied",e.lcZ(1,3,oe.copied$)),e.xp6(2),e.Oqu(e.lcZ(3,5,oe.copiedText$)))},dependencies:[Te.Ov],encapsulation:2,changeDetection:0}),Je})();class en{}var Ve=(()=>{return(Je=Ve||(Ve={})).CommandLine="command-line",Je.LineHighlight="line-highlight",Je.LineNumbers="line-numbers",Ve;var Je})();class ct{}const $e=new e.OlP("SECURITY_CONTEXT");let Yt=(()=>{class Je{constructor(D,oe,Ie,vt,Dt,Et){this.platform=D,this.securityContext=oe,this.http=Ie,this.clipboardOptions=vt,this.sanitizer=Et,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new St},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new s.x,this.reload$=this._reload$.asObservable(),this.options=Dt}get options(){return this._options}set options(D){this._options=Object.assign(Object.assign({},this.DEFAULT_MARKED_OPTIONS),D)}get renderer(){return this.options.renderer}set renderer(D){this.options.renderer=D}parse(D,oe=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:Ie,inline:vt,emoji:Dt,mermaid:Et,markedOptions:Vt=this.options}=oe;Et&&(this.renderer=this.extendRenderer(Vt.renderer||new St));const pn=this.trimIndentation(D),bn=Ie?this.decodeHtml(pn):pn,yn=Dt?this.parseEmoji(bn):bn,An=this.parseMarked(yn,Vt,vt);return this.sanitizer.sanitize(this.securityContext,An)||""}render(D,oe=this.DEFAULT_RENDER_OPTIONS,Ie){const{clipboard:vt,clipboardOptions:Dt,katex:Et,katexOptions:Vt,mermaid:pn,mermaidOptions:bn}=oe;vt&&this.renderClipboard(D,Ie,Object.assign(Object.assign(Object.assign({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),Dt)),Et&&this.renderKatex(D,Object.assign(Object.assign({},this.DEFAULT_KATEX_OPTIONS),Vt)),pn&&this.renderMermaid(D,Object.assign(Object.assign({},this.DEFAULT_MERMAID_OPTIONS),bn)),this.highlight(D)}reload(){this._reload$.next()}getSource(D){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(D,{responseType:"text"}).pipe((0,pe.U)(oe=>this.handleExtension(D,oe)))}highlight(D){if(!(0,Te.NF)(this.platform)||"undefined"==typeof Prism||void 0===Prism.highlightAllUnder)return;D||(D=document);const oe=D.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(oe,Ie=>Ie.classList.add("language-none")),Prism.highlightAllUnder(D)}decodeHtml(D){if(!(0,Te.NF)(this.platform))return D;const oe=document.createElement("textarea");return oe.innerHTML=D,oe.value}extendRenderer(D){const oe=D;if(!0===oe.\u0275NgxMarkdownRendererExtended)return D;const Ie=D.code;return D.code=function(vt,Dt,Et){return"mermaid"===Dt?`<div class="mermaid">${vt}</div>`:Ie.call(this,vt,Dt,Et)},oe.\u0275NgxMarkdownRendererExtended=!0,D}handleExtension(D,oe){const Ie=D.lastIndexOf("://"),vt=Ie>-1?D.substring(Ie+4):D,Dt=vt.lastIndexOf("/"),Et=Dt>-1?vt.substring(Dt+1).split("?")[0]:"",Vt=Et.lastIndexOf("."),pn=Vt>-1?Et.substring(Vt+1):"";return pn&&"md"!==pn?"```"+pn+"\n"+oe+"\n```":oe}parseMarked(D,oe,Ie=!1){return(0,Te.NF)(this.platform)?Ie?Ft.parseInline(D,oe):Ft.parse(D,oe):D}parseEmoji(D){if(!(0,Te.NF)(this.platform))return D;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(D)}renderKatex(D,oe){if((0,Te.NF)(this.platform)){if("undefined"==typeof katex||"undefined"==typeof renderMathInElement)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(D,oe)}}renderClipboard(D,oe,Ie){if(!(0,Te.NF)(this.platform))return;if("undefined"==typeof ClipboardJS)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!oe)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:vt,buttonTemplate:Dt}=Ie,Et=D.querySelectorAll("pre");for(let Vt=0;Vt<Et.length;Vt++){const pn=Et.item(Vt),bn=document.createElement("div");bn.style.position="relative",pn.parentNode.insertBefore(bn,pn),bn.appendChild(pn);const yn=document.createElement("div");let An,In;yn.style.position="absolute",yn.style.top=".5em",yn.style.right=".5em",yn.style.opacity="0",yn.style.transition="opacity 250ms ease-out",bn.insertAdjacentElement("beforeend",yn),pn.onmouseover=()=>yn.style.opacity="1",pn.onmouseout=()=>yn.style.opacity="0",An=vt?oe.createComponent(vt).hostView:Dt?oe.createEmbeddedView(Dt):oe.createComponent(Kt).hostView,An.rootNodes.forEach(Jn=>{Jn.onmouseover=()=>yn.style.opacity="1",yn.appendChild(Jn),In=new ClipboardJS(Jn,{text:()=>pn.innerText})}),An.onDestroy(()=>In.destroy())}}renderMermaid(D,oe=this.DEFAULT_MERMAID_OPTIONS){if(!(0,Te.NF)(this.platform))return;if("undefined"==typeof mermaid||void 0===mermaid.init)throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const Ie=D.querySelectorAll(".mermaid");0!==Ie.length&&(mermaid.initialize(oe),mermaid.init(Ie))}trimIndentation(D){if(!D)return"";let oe;return D.split("\n").map(Ie=>{let vt=oe;return Ie.length>0&&(vt=isNaN(vt)?Ie.search(/\S|$/):Math.min(Ie.search(/\S|$/),vt)),isNaN(oe)&&(oe=vt),vt?Ie.substring(vt):Ie}).join("\n")}}return Je.\u0275fac=function(D){return new(D||Je)(e.LFG(e.Lbi),e.LFG($e),e.LFG(S.eN,8),e.LFG(en,8),e.LFG(ct,8),e.LFG(he.H7))},Je.\u0275prov=e.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),$t=(()=>{class Je{constructor(D,oe,Ie){this.element=D,this.markdownService=oe,this.viewContainerRef=Ie,this.error=new e.vpe,this.load=new e.vpe,this.ready=new e.vpe,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new s.x}get inline(){return this._inline}set inline(D){this._inline=this.coerceBooleanProperty(D)}get clipboard(){return this._clipboard}set clipboard(D){this._clipboard=this.coerceBooleanProperty(D)}get emoji(){return this._emoji}set emoji(D){this._emoji=this.coerceBooleanProperty(D)}get katex(){return this._katex}set katex(D){this._katex=this.coerceBooleanProperty(D)}get mermaid(){return this._mermaid}set mermaid(D){this._mermaid=this.coerceBooleanProperty(D)}get lineHighlight(){return this._lineHighlight}set lineHighlight(D){this._lineHighlight=this.coerceBooleanProperty(D)}get lineNumbers(){return this._lineNumbers}set lineNumbers(D){this._lineNumbers=this.coerceBooleanProperty(D)}get commandLine(){return this._commandLine}set commandLine(D){this._commandLine=this.coerceBooleanProperty(D)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,ue.R)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(D,oe=!1){const vt={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},Dt=this.markdownService.parse(D,{decodeHtml:oe,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=Dt,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,vt,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(D){return null!=D&&"false"!=`${String(D)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:D=>{this.render(D),this.load.emit(D)},error:D=>this.error.emit(D)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Ve.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Ve.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(D,oe){const Ie=D.querySelectorAll("pre");for(let vt=0;vt<Ie.length;vt++){const Dt=oe instanceof Array?oe:[oe];Ie.item(vt).classList.add(...Dt)}}setPluginOptions(D,oe){const Ie=D.querySelectorAll("pre");for(let vt=0;vt<Ie.length;vt++)Object.keys(oe).forEach(Dt=>{const Et=oe[Dt];if(Et){const Vt=this.toLispCase(Dt);Ie.item(vt).setAttribute(Vt,Et.toString())}})}toLispCase(D){const oe=D.match(/([A-Z])/g);if(!oe)return D;let Ie=D.toString();for(let vt=0,Dt=oe.length;vt<Dt;vt++)Ie=Ie.replace(new RegExp(oe[vt]),"-"+oe[vt].toLowerCase());return"-"===Ie.slice(0,1)&&(Ie=Ie.slice(1)),Ie}}return Je.\u0275fac=function(D){return new(D||Je)(e.Y36(e.SBq),e.Y36(Yt),e.Y36(e.s_b))},Je.\u0275cmp=e.Xpm({type:Je,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[e.TTD],ngContentSelectors:Ae,decls:1,vars:0,template:function(D,oe){1&D&&(e.F$t(),e.Hsn(0))},encapsulation:2}),Je})(),Ci=(()=>{class Je{static forRoot(D){return{ngModule:Je,providers:[Yt,D&&D.loader||[],D&&D.clipboardOptions||[],D&&D.markedOptions||[],{provide:$e,useValue:D&&null!=D.sanitize?D.sanitize:e.q3G.HTML}]}}static forChild(){return{ngModule:Je}}}return Je.\u0275fac=function(D){return new(D||Je)},Je.\u0275mod=e.oAB({type:Je}),Je.\u0275inj=e.cJS({imports:[Te.ez]}),Je})();var Ki;!function(Je){let X;var Ie;let D,oe;(Ie=X=Je.SecurityLevel||(Je.SecurityLevel={})).Strict="strict",Ie.Loose="loose",Ie.Antiscript="antiscript",Ie.Sandbox="sandbox",function(Ie){Ie.Base="base",Ie.Forest="forest",Ie.Dark="dark",Ie.Default="default",Ie.Neutral="neutral"}(D=Je.Theme||(Je.Theme={})),function(Ie){Ie[Ie.Debug=1]="Debug",Ie[Ie.Info=2]="Info",Ie[Ie.Warn=3]="Warn",Ie[Ie.Error=4]="Error",Ie[Ie.Fatal=5]="Fatal"}(oe=Je.LogLevel||(Je.LogLevel={}))}(Ki||(Ki={}))},8913:(Ht,et,_)=>{_.d(et,{g6:()=>Le,qH:()=>Me});var e=_(5e3);const s={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},g=new e.OlP("config",{providedIn:"root",factory:()=>({modules:s})});var L=_(9808),I=_(2313),U=_(9770),le=_(9751),re=_(576);function K(Se){return!!Se&&(Se instanceof le.y||(0,re.m)(Se.lift)&&(0,re.m)(Se.subscribe))}var pe=_(3905),ue=_(727),Oe=_(4968),Te=_(4782),ke=_(5577),we=_(8372),Fe=_(2382),Y=_(655);function Pe(Se,$){1&Se&&e._UZ(0,"div",2)}function de(Se,$){1&Se&&e._UZ(0,"pre",2)}function N(Se,$){if(1&Se&&(e.ynx(0),e.YNc(1,Pe,1,0,"div",1),e.YNc(2,de,1,0,"pre",1),e.BQk()),2&Se){const B=e.oxw();e.xp6(1),e.Q6J("ngIf",!B.preserve),e.xp6(1),e.Q6J("ngIf",B.preserve)}}function O(Se,$){1&Se&&e._UZ(0,"div",2)}function ye(Se,$){1&Se&&e._UZ(0,"pre",2)}function Ce(Se,$){if(1&Se&&(e.ynx(0),e.YNc(1,O,1,0,"div",1),e.YNc(2,ye,1,0,"pre",1),e.BQk()),2&Se){const B=e.oxw();e.xp6(1),e.Q6J("ngIf",!B.preserve),e.xp6(1),e.Q6J("ngIf",B.preserve)}}const ve=[[["","quill-editor-toolbar",""]]],V=["[quill-editor-toolbar]"],q=(Se,$)=>Se||$||"html";let _e=(()=>{class Se{constructor(B,j){this.config=j,this.quill$=(0,U.P)(()=>(0,Y.mG)(this,void 0,void 0,function*(){var Ue;if(!this.Quill){const fe=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const qe=yield _.e(971).then(_.t.bind(_,9971,19));this.document.addEventListener=fe,this.Quill=qe.default?qe.default:qe}return null===(Ue=this.config.customOptions)||void 0===Ue||Ue.forEach(fe=>{const qe=this.Quill.import(fe.import);qe.whitelist=fe.whitelist,this.Quill.register(qe,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe((0,Te.d)({bufferSize:1,refCount:!0})),this.document=B.get(L.K0),this.config||(this.config={modules:s})}getQuill(){return this.quill$}registerCustomModules(B,j,Ue){return(0,Y.mG)(this,void 0,void 0,function*(){if(Array.isArray(j))for(let{implementation:fe,path:qe}of j)K(fe)&&(fe=yield(0,pe.z)(fe)),B.register(qe,fe,Ue);return B})}}return Se.\u0275fac=function(B){return new(B||Se)(e.LFG(e.zs3),e.LFG(g,8))},Se.\u0275prov=e.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),De=(()=>{class Se{constructor(B,j,Ue,fe,qe,je,mt,bt){this.elementRef=j,this.cd=Ue,this.domSanitizer=fe,this.platformId=qe,this.renderer=je,this.zone=mt,this.service=bt,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(st,xt)=>{let ot=xt.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ot||"<div><br></div>"===ot)&&(ot=this.defaultEmptyValue);let We=ot;const hn=q(this.format,this.service.config.format);if("text"===hn)We=st.getText();else if("object"===hn)We=st.getContents();else if("json"===hn)try{We=JSON.stringify(st.getContents())}catch(fn){We=st.getText()}return We},this.valueSetter=(st,xt)=>{const ot=q(this.format,this.service.config.format);if("html"===ot)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(xt=this.domSanitizer.sanitize(e.q3G.HTML,xt)),st.clipboard.convert(xt);if("json"===ot)try{return JSON.parse(xt)}catch(We){return[{insert:xt}]}return xt},this.selectionChangeHandler=(st,xt,ot)=>{const We=!st&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!We||this.zone.run(()=>{null===st?this.onBlur.emit({editor:this.quillEditor,source:ot}):null===xt&&this.onFocus.emit({editor:this.quillEditor,source:ot}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:xt,range:st,source:ot}),We&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(st,xt,ot)=>{const We=this.quillEditor.getText(),hn=this.quillEditor.getContents();let fn=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===fn||"<div><br></div>"===fn)&&(fn=this.defaultEmptyValue);const St=this.trackChanges||this.service.config.trackChanges,ln=("user"===ot||St&&"all"===St)&&!!this.onModelChange;!this.onContentChanged.observed&&!ln||this.zone.run(()=>{ln&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:hn,delta:st,editor:this.quillEditor,html:fn,oldDelta:xt,source:ot,text:We}),this.cd.markForCheck()})},this.editorChangeHandler=(st,xt,ot,We)=>{if(this.onEditorChanged.observed)if("text-change"===st){const hn=this.quillEditor.getText(),fn=this.quillEditor.getContents();let St=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===St||"<div><br></div>"===St)&&(St=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:fn,delta:xt,editor:this.quillEditor,event:st,html:St,oldDelta:ot,source:We,text:hn}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:st,oldRange:ot,range:xt,source:We}),this.cd.markForCheck()})},this.document=B.get(L.K0)}static normalizeClassNames(B){return B.trim().split(" ").reduce((Ue,fe)=>{const qe=fe.trim();return qe&&Ue.push(qe),Ue},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,L.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,ke.z)(B=>{var j;const Ue=[this.service.registerCustomModules(B,this.customModules)],fe=null!==(j=this.beforeRender)&&void 0!==j?j:this.service.config.beforeRender;return fe&&Ue.push(fe()),Promise.all(Ue).then(()=>B)})).subscribe(B=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const j=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),Ue=Object.assign({},this.modules||this.service.config.modules);j?Ue.toolbar=j:void 0===Ue.toolbar&&(Ue.toolbar=s.toolbar);let fe=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===fe&&(fe="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(ot=>{this.renderer.setStyle(this.editorElem,ot,this.styles[ot])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(ot=>{const We=B.import(ot.import);We.whitelist=ot.whitelist,B.register(We,!0)});let qe=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;qe||(qe=this.service.config.bounds?this.service.config.bounds:this.document.body);let je=this.debug;!je&&!1!==je&&this.service.config.debug&&(je=this.service.config.debug);let mt=this.readOnly;!mt&&!1!==this.readOnly&&(mt=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let bt=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(bt=this.service.config.defaultEmptyValue);let st=this.scrollingContainer;!st&&null!==this.scrollingContainer&&(st=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let xt=this.formats;if(!xt&&void 0===xt&&(xt=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var ot,We,hn;if(this.quillEditor=new B(this.editorElem,{bounds:qe,debug:je,formats:xt,modules:Ue,placeholder:fe,readOnly:mt,defaultEmptyValue:bt,scrollingContainer:st,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const fn=null===(We=null===(ot=this.quillEditor)||void 0===ot?void 0:ot.theme)||void 0===We?void 0:We.tooltip,St=null===(hn=null==fn?void 0:fn.root)||void 0===hn?void 0:hn.querySelector("input[data-link]");null!=St&&St.dataset&&(St.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===q(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const We=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(We,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var B;this.dispose(),null===(B=this.quillSubscription)||void 0===B||B.unsubscribe(),this.quillSubscription=null}ngOnChanges(B){if(this.quillEditor){if(B.readOnly&&this.quillEditor.enable(!B.readOnly.currentValue),B.placeholder&&(this.quillEditor.root.dataset.placeholder=B.placeholder.currentValue),B.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=B.defaultEmptyValue.currentValue),B.styles){const j=B.styles.currentValue,Ue=B.styles.previousValue;Ue&&Object.keys(Ue).forEach(fe=>{this.renderer.removeStyle(this.editorElem,fe)}),j&&Object.keys(j).forEach(fe=>{this.renderer.setStyle(this.editorElem,fe,this.styles[fe])})}if(B.classes){const j=B.classes.currentValue,Ue=B.classes.previousValue;Ue&&this.removeClasses(Ue),j&&this.addClasses(j)}B.debounceTime&&this.addQuillEventListeners()}}addClasses(B){Se.normalizeClassNames(B).forEach(j=>{this.renderer.addClass(this.editorElem,j)})}removeClasses(B){Se.normalizeClassNames(B).forEach(j=>{this.renderer.removeClass(this.editorElem,j)})}writeValue(B){if(this.filterNull&&null===B||(this.content=B,!this.quillEditor))return;const j=q(this.format,this.service.config.format),Ue=this.valueSetter(this.quillEditor,B);if(this.compareValues){const fe=this.quillEditor.getContents();if(JSON.stringify(fe)===JSON.stringify(Ue))return}B?"text"===j?this.quillEditor.setText(B):this.quillEditor.setContents(Ue):this.quillEditor.setText("")}setDisabledState(B=this.disabled){this.disabled=B,this.quillEditor&&(B?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(B){this.onModelChange=B}registerOnTouched(B){this.onModelTouched=B}registerOnValidatorChange(B){this.onValidatorChanged=B}validate(){if(!this.quillEditor)return null;const B={};let j=!0;const Ue=this.quillEditor.getText(),fe=this.trimOnValidation?Ue.trim().length:1===Ue.length&&0===Ue.trim().length?0:Ue.length-1,qe=this.quillEditor.getContents().ops,je=qe&&1===qe.length&&["\n",""].includes(qe[0].insert);return this.minLength&&fe&&fe<this.minLength&&(B.minLengthError={given:fe,minLength:this.minLength},j=!1),this.maxLength&&fe>this.maxLength&&(B.maxLengthError={given:fe,maxLength:this.maxLength},j=!1),this.required&&!fe&&je&&(B.requiredError={empty:!0},j=!1),j?null:B}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new ue.w0,this.subscription.add((0,Oe.R)(this.quillEditor,"selection-change").subscribe(([Ue,fe,qe])=>{this.selectionChangeHandler(Ue,fe,qe)}));let B=(0,Oe.R)(this.quillEditor,"text-change"),j=(0,Oe.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(B=B.pipe((0,we.b)(this.debounceTime)),j=j.pipe((0,we.b)(this.debounceTime))),this.subscription.add(B.subscribe(([Ue,fe,qe])=>{this.textChangeHandler(Ue,fe,qe)})),this.subscription.add(j.subscribe(([Ue,fe,qe,je])=>{this.editorChangeHandler(Ue,fe,qe,je)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return Se.\u0275fac=function(B){return new(B||Se)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(I.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(_e))},Se.\u0275dir=e.lG2({type:Se,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),Se})(),Le=(()=>{class Se extends De{constructor(B,j,Ue,fe,qe,je,mt,bt){super(B,j,Ue,fe,qe,je,mt,bt)}}return Se.\u0275fac=function(B){return new(B||Se)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(I.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(_e))},Se.\u0275cmp=e.Xpm({type:Se,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:Fe.JU,useExisting:(0,e.Gpc)(()=>Se)},{multi:!0,provide:Fe.Cf,useExisting:(0,e.Gpc)(()=>Se)}]),e.qOj,e.jDz],ngContentSelectors:V,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(B,j){1&B&&(e.F$t(ve),e.YNc(0,N,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,Ce,3,2,"ng-container",0)),2&B&&(e.Q6J("ngIf","top"!==j.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===j.toolbarPosition))},dependencies:[L.ez,L.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),Se})(),Me=(()=>{class Se{constructor(B,j){this.sanitizer=B,this.service=j,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(B){if(B.theme?this.themeClass=`ql-${B.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),B.content){const j=B.content.currentValue,Ue=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=Ue?j:this.sanitizer.bypassSecurityTrustHtml(j)}}}return Se.\u0275fac=function(B){return new(B||Se)(e.Y36(I.H7),e.Y36(_e))},Se.\u0275cmp=e.Xpm({type:Se,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(B,j){1&B&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&B&&(e.Q6J("ngClass",j.themeClass),e.xp6(1),e.Q6J("innerHTML",j.innerHTML,e.oJD))},dependencies:[L.ez,L.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),Se})()},9783:(Ht,et,_)=>{_.d(et,{$_:()=>Fe,F0:()=>Oe,Lk:()=>le,Y:()=>N,YP:()=>U,a6:()=>re,b4:()=>ke,ez:()=>ue,h4:()=>we,iZ:()=>pe,jx:()=>Y,m8:()=>Pe,pg:()=>K,wB:()=>I,ws:()=>de});var e=_(5e3),s=_(7579),g=_(5921),H=_(9808);const L=["*"];var I=(()=>{return(O=I||(I={}))[O.ACCEPT=0]="ACCEPT",O[O.REJECT=1]="REJECT",O[O.CANCEL=2]="CANCEL",I;var O})();let U=(()=>{class O{constructor(){this.requireConfirmationSource=new s.x,this.acceptConfirmationSource=new s.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(Ce){return this.requireConfirmationSource.next(Ce),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac}),O})(),le=(()=>{class O{constructor(){this.activeItemKeyChange=new s.x,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(Ce){this.activeItemKey=Ce,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac}),O})(),re=(()=>{class O{}return O.STARTS_WITH="startsWith",O.CONTAINS="contains",O.NOT_CONTAINS="notContains",O.ENDS_WITH="endsWith",O.EQUALS="equals",O.NOT_EQUALS="notEquals",O.IN="in",O.LESS_THAN="lt",O.LESS_THAN_OR_EQUAL_TO="lte",O.GREATER_THAN="gt",O.GREATER_THAN_OR_EQUAL_TO="gte",O.BETWEEN="between",O.IS="is",O.IS_NOT="isNot",O.BEFORE="before",O.AFTER="after",O.DATE_IS="dateIs",O.DATE_IS_NOT="dateIsNot",O.DATE_BEFORE="dateBefore",O.DATE_AFTER="dateAfter",O})(),K=(()=>{class O{}return O.AND="and",O.OR="or",O})(),pe=(()=>{class O{constructor(){this.filters={startsWith:(Ce,ve,V)=>{if(null==ve||""===ve.trim())return!0;if(null==Ce)return!1;let w=g.gb.removeAccents(ve.toString()).toLocaleLowerCase(V);return g.gb.removeAccents(Ce.toString()).toLocaleLowerCase(V).slice(0,w.length)===w},contains:(Ce,ve,V)=>{if(null==ve||"string"==typeof ve&&""===ve.trim())return!0;if(null==Ce)return!1;let w=g.gb.removeAccents(ve.toString()).toLocaleLowerCase(V);return-1!==g.gb.removeAccents(Ce.toString()).toLocaleLowerCase(V).indexOf(w)},notContains:(Ce,ve,V)=>{if(null==ve||"string"==typeof ve&&""===ve.trim())return!0;if(null==Ce)return!1;let w=g.gb.removeAccents(ve.toString()).toLocaleLowerCase(V);return-1===g.gb.removeAccents(Ce.toString()).toLocaleLowerCase(V).indexOf(w)},endsWith:(Ce,ve,V)=>{if(null==ve||""===ve.trim())return!0;if(null==Ce)return!1;let w=g.gb.removeAccents(ve.toString()).toLocaleLowerCase(V),F=g.gb.removeAccents(Ce.toString()).toLocaleLowerCase(V);return-1!==F.indexOf(w,F.length-w.length)},equals:(Ce,ve,V)=>null==ve||"string"==typeof ve&&""===ve.trim()||null!=Ce&&(Ce.getTime&&ve.getTime?Ce.getTime()===ve.getTime():g.gb.removeAccents(Ce.toString()).toLocaleLowerCase(V)==g.gb.removeAccents(ve.toString()).toLocaleLowerCase(V)),notEquals:(Ce,ve,V)=>!(null==ve||"string"==typeof ve&&""===ve.trim()||null!=Ce&&(Ce.getTime&&ve.getTime?Ce.getTime()===ve.getTime():g.gb.removeAccents(Ce.toString()).toLocaleLowerCase(V)==g.gb.removeAccents(ve.toString()).toLocaleLowerCase(V))),in:(Ce,ve)=>{if(null==ve||0===ve.length)return!0;for(let V=0;V<ve.length;V++)if(g.gb.equals(Ce,ve[V]))return!0;return!1},between:(Ce,ve)=>null==ve||null==ve[0]||null==ve[1]||null!=Ce&&(Ce.getTime?ve[0].getTime()<=Ce.getTime()&&Ce.getTime()<=ve[1].getTime():ve[0]<=Ce&&Ce<=ve[1]),lt:(Ce,ve,V)=>null==ve||null!=Ce&&(Ce.getTime&&ve.getTime?Ce.getTime()<ve.getTime():Ce<ve),lte:(Ce,ve,V)=>null==ve||null!=Ce&&(Ce.getTime&&ve.getTime?Ce.getTime()<=ve.getTime():Ce<=ve),gt:(Ce,ve,V)=>null==ve||null!=Ce&&(Ce.getTime&&ve.getTime?Ce.getTime()>ve.getTime():Ce>ve),gte:(Ce,ve,V)=>null==ve||null!=Ce&&(Ce.getTime&&ve.getTime?Ce.getTime()>=ve.getTime():Ce>=ve),is:(Ce,ve,V)=>this.filters.equals(Ce,ve,V),isNot:(Ce,ve,V)=>this.filters.notEquals(Ce,ve,V),before:(Ce,ve,V)=>this.filters.lt(Ce,ve,V),after:(Ce,ve,V)=>this.filters.gt(Ce,ve,V),dateIs:(Ce,ve)=>null==ve||null!=Ce&&Ce.toDateString()===ve.toDateString(),dateIsNot:(Ce,ve)=>null==ve||null!=Ce&&Ce.toDateString()!==ve.toDateString(),dateBefore:(Ce,ve)=>null==ve||null!=Ce&&Ce.getTime()<ve.getTime(),dateAfter:(Ce,ve)=>null==ve||null!=Ce&&Ce.getTime()>ve.getTime()}}filter(Ce,ve,V,w,F){let q=[];if(Ce)for(let _e of Ce)for(let De of ve){let Le=g.gb.resolveFieldData(_e,De);if(this.filters[w](Le,V,F)){q.push(_e);break}}return q}register(Ce,ve){this.filters[Ce]=ve}}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),ue=(()=>{class O{constructor(){this.messageSource=new s.x,this.clearSource=new s.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(Ce){Ce&&this.messageSource.next(Ce)}addAll(Ce){Ce&&Ce.length&&this.messageSource.next(Ce)}clear(Ce){this.clearSource.next(Ce||null)}}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac}),O})(),Oe=(()=>{class O{constructor(){this.clickSource=new s.x,this.clickObservable=this.clickSource.asObservable()}add(Ce){Ce&&this.clickSource.next(Ce)}}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),ke=(()=>{class O{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[re.STARTS_WITH,re.CONTAINS,re.NOT_CONTAINS,re.ENDS_WITH,re.EQUALS,re.NOT_EQUALS],numeric:[re.EQUALS,re.NOT_EQUALS,re.LESS_THAN,re.LESS_THAN_OR_EQUAL_TO,re.GREATER_THAN,re.GREATER_THAN_OR_EQUAL_TO],date:[re.DATE_IS,re.DATE_IS_NOT,re.DATE_BEFORE,re.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new s.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(Ce){return this.translation[Ce]}setTranslation(Ce){this.translation=Object.assign(Object.assign({},this.translation),Ce),this.translationSource.next(this.translation)}}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),we=(()=>{class O{}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275cmp=e.Xpm({type:O,selectors:[["p-header"]],ngContentSelectors:L,decls:1,vars:0,template:function(Ce,ve){1&Ce&&(e.F$t(),e.Hsn(0))},encapsulation:2}),O})(),Fe=(()=>{class O{}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275cmp=e.Xpm({type:O,selectors:[["p-footer"]],ngContentSelectors:L,decls:1,vars:0,template:function(Ce,ve){1&Ce&&(e.F$t(),e.Hsn(0))},encapsulation:2}),O})(),Y=(()=>{class O{constructor(Ce){this.template=Ce}getType(){return this.name}}return O.\u0275fac=function(Ce){return new(Ce||O)(e.Y36(e.Rgc))},O.\u0275dir=e.lG2({type:O,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),O})(),Pe=(()=>{class O{}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275mod=e.oAB({type:O}),O.\u0275inj=e.cJS({imports:[H.ez]}),O})(),de=(()=>{class O{}return O.STARTS_WITH="startsWith",O.CONTAINS="contains",O.NOT_CONTAINS="notContains",O.ENDS_WITH="endsWith",O.EQUALS="equals",O.NOT_EQUALS="notEquals",O.NO_FILTER="noFilter",O.LT="lt",O.LTE="lte",O.GT="gt",O.GTE="gte",O.IS="is",O.IS_NOT="isNot",O.BEFORE="before",O.AFTER="after",O.CLEAR="clear",O.APPLY="apply",O.MATCH_ALL="matchAll",O.MATCH_ANY="matchAny",O.ADD_RULE="addRule",O.REMOVE_RULE="removeRule",O.ACCEPT="accept",O.REJECT="reject",O.CHOOSE="choose",O.UPLOAD="upload",O.CANCEL="cancel",O.DAY_NAMES="dayNames",O.DAY_NAMES_SHORT="dayNamesShort",O.DAY_NAMES_MIN="dayNamesMin",O.MONTH_NAMES="monthNames",O.MONTH_NAMES_SHORT="monthNamesShort",O.FIRST_DAY_OF_WEEK="firstDayOfWeek",O.TODAY="today",O.WEEK_HEADER="weekHeader",O.WEAK="weak",O.MEDIUM="medium",O.STRONG="strong",O.PASSWORD_PROMPT="passwordPrompt",O.EMPTY_MESSAGE="emptyMessage",O.EMPTY_FILTER_MESSAGE="emptyFilterMessage",O})(),N=(()=>{class O{constructor(){this.dragStartSource=new s.x,this.dragStopSource=new s.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(Ce){this.dragStartSource.next(Ce)}stopDrag(Ce){this.dragStopSource.next(Ce)}}return O.\u0275fac=function(Ce){return new(Ce||O)},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac}),O})()},2145:(Ht,et,_)=>{_.d(et,{Qc:()=>Kt,WN:()=>en});var e=_(5e3),s=_(9808),g=_(1777),H=_(1424),L=_(845),I=_(5787),U=_(9783),le=_(5730),re=_(5921),K=_(2382),pe=_(5871),ue=_(9618);const Oe=["container"],Te=["in"],ke=["multiIn"],we=["multiContainer"],Fe=["ddBtn"],Y=["items"],Pe=["scroller"],de=function(Xe,wt){return{"p-autocomplete-dd-input":Xe,"p-disabled":wt}};function N(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"input",8,9),e.NdJ("click",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputClick(ct))})("input",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInput(ct))})("keydown",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onKeydown(ct))})("keyup",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onKeyup(ct))})("focus",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputFocus(ct))})("blur",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputBlur(ct))})("change",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputChange(ct))})("paste",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputPaste(ct))}),e.qZA()}if(2&Xe){const ee=e.oxw();e.Tol(ee.inputStyleClass),e.Q6J("autofocus",ee.autofocus)("ngStyle",ee.inputStyle)("autocomplete",ee.autocomplete)("ngClass",e.WLB(20,de,ee.dropdown,ee.disabled))("value",ee.inputFieldValue)("readonly",ee.readonly)("disabled",ee.disabled),e.uIk("type",ee.type)("id",ee.inputId)("required",ee.required)("name",ee.name)("placeholder",ee.placeholder)("size",ee.size)("maxlength",ee.maxlength)("tabindex",ee.tabindex)("aria-label",ee.ariaLabel)("aria-labelledby",ee.ariaLabelledBy)("aria-required",ee.required)}}function O(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(ee);const ct=e.oxw();return e.KtG(ct.clear())}),e.qZA()}}function ye(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(ee);const ct=e.oxw();return e.KtG(ct.clear())}),e.qZA()}}function Ce(Xe,wt){1&Xe&&e.GkF(0)}function ve(Xe,wt){if(1&Xe&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&Xe){const ee=e.oxw().$implicit,Ve=e.oxw(2);e.xp6(1),e.Oqu(Ve.resolveFieldData(ee))}}function V(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(ee),e.oxw();const ct=e.MAs(1),Ct=e.oxw(2);return e.KtG(Ct.removeItem(ct))}),e.qZA()}}const w=function(Xe){return{$implicit:Xe}};function F(Xe,wt){if(1&Xe&&(e.TgZ(0,"li",17,18),e.YNc(2,Ce,1,0,"ng-container",19),e.YNc(3,ve,2,1,"span",20),e.YNc(4,V,1,0,"span",21),e.qZA()),2&Xe){const ee=wt.$implicit,Ve=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",Ve.selectedItemTemplate)("ngTemplateOutletContext",e.VKq(4,w,ee)),e.xp6(1),e.Q6J("ngIf",!Ve.selectedItemTemplate),e.xp6(1),e.Q6J("ngIf",!Ve.disabled&&!Ve.readonly)}}const q=function(Xe,wt){return{"p-disabled":Xe,"p-focus":wt}};function _e(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"ul",11,12),e.NdJ("click",function(){e.CHM(ee);const ct=e.MAs(5);return e.KtG(ct.focus())}),e.YNc(2,F,5,6,"li",13),e.TgZ(3,"li",14)(4,"input",15,16),e.NdJ("input",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInput(ct))})("click",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputClick(ct))})("keydown",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onKeydown(ct))})("keyup",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onKeyup(ct))})("focus",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputFocus(ct))})("blur",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputBlur(ct))})("change",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputChange(ct))})("paste",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onInputPaste(ct))}),e.qZA()()()}if(2&Xe){const ee=e.oxw();e.Q6J("ngClass",e.WLB(20,q,ee.disabled,ee.focus)),e.xp6(2),e.Q6J("ngForOf",ee.value),e.xp6(2),e.Tol(ee.inputStyleClass),e.Q6J("autofocus",ee.autofocus)("disabled",ee.disabled)("readonly",ee.readonly)("autocomplete",ee.autocomplete)("ngStyle",ee.inputStyle),e.uIk("type",ee.type)("id",ee.inputId)("placeholder",ee.value&&ee.value.length?null:ee.placeholder)("tabindex",ee.tabindex)("maxlength",ee.maxlength)("aria-label",ee.ariaLabel)("aria-labelledby",ee.ariaLabelledBy)("aria-required",ee.required)("aria-controls",ee.listId)("aria-expanded",ee.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function De(Xe,wt){1&Xe&&e._UZ(0,"i",24)}function Le(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"button",25,26),e.NdJ("click",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.handleDropdownClick(ct))}),e.qZA()}if(2&Xe){const ee=e.oxw();e.Q6J("icon",ee.dropdownIcon)("disabled",ee.disabled),e.uIk("aria-label",ee.dropdownAriaLabel)("tabindex",ee.tabindex)}}function Me(Xe,wt){1&Xe&&e.GkF(0)}function ht(Xe,wt){1&Xe&&e.GkF(0)}const at=function(Xe,wt){return{$implicit:Xe,options:wt}};function Se(Xe,wt){if(1&Xe&&e.YNc(0,ht,1,0,"ng-container",19),2&Xe){const ee=wt.$implicit,Ve=wt.options;e.oxw(2);const ct=e.MAs(6);e.Q6J("ngTemplateOutlet",ct)("ngTemplateOutletContext",e.WLB(2,at,ee,Ve))}}function $(Xe,wt){1&Xe&&e.GkF(0)}const B=function(Xe){return{options:Xe}};function j(Xe,wt){if(1&Xe&&e.YNc(0,$,1,0,"ng-container",19),2&Xe){const ee=wt.options,Ve=e.oxw(4);e.Q6J("ngTemplateOutlet",Ve.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,B,ee))}}function Ue(Xe,wt){1&Xe&&(e.ynx(0),e.YNc(1,j,1,4,"ng-template",36),e.BQk())}const fe=function(Xe){return{height:Xe}};function qe(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"p-scroller",33,34),e.NdJ("onLazyLoad",function(ct){e.CHM(ee);const Ct=e.oxw(2);return e.KtG(Ct.onLazyLoad.emit(ct))}),e.YNc(2,Se,1,5,"ng-template",35),e.YNc(3,Ue,2,0,"ng-container",31),e.qZA()}if(2&Xe){const ee=e.oxw(2);e.Akn(e.VKq(8,fe,ee.scrollHeight)),e.Q6J("items",ee.suggestions)("itemSize",ee.virtualScrollItemSize||ee._itemSize)("autoSize",!0)("lazy",ee.lazy)("options",ee.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",ee.loaderTemplate)}}function je(Xe,wt){1&Xe&&e.GkF(0)}const mt=function(){return{}};function bt(Xe,wt){if(1&Xe&&(e.ynx(0),e.YNc(1,je,1,0,"ng-container",19),e.BQk()),2&Xe){e.oxw();const ee=e.MAs(6),Ve=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",ee)("ngTemplateOutletContext",e.WLB(3,at,Ve.suggestions,e.DdM(2,mt)))}}function st(Xe,wt){if(1&Xe&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Xe){const ee=e.oxw().$implicit,Ve=e.oxw(4);e.xp6(1),e.Oqu(Ve.getOptionGroupLabel(ee)||"empty")}}function xt(Xe,wt){1&Xe&&e.GkF(0)}function ot(Xe,wt){1&Xe&&e.GkF(0)}function We(Xe,wt){if(1&Xe&&(e.TgZ(0,"li",42),e.YNc(1,st,2,1,"span",31),e.YNc(2,xt,1,0,"ng-container",19),e.qZA(),e.YNc(3,ot,1,0,"ng-container",19)),2&Xe){const ee=wt.$implicit,Ve=e.oxw(2).options,ct=e.MAs(5),Ct=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,fe,Ve.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!Ct.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Ct.groupTemplate)("ngTemplateOutletContext",e.VKq(8,w,ee)),e.xp6(1),e.Q6J("ngTemplateOutlet",ct)("ngTemplateOutletContext",e.VKq(10,w,Ct.getOptionGroupChildren(ee)))}}function hn(Xe,wt){if(1&Xe&&(e.ynx(0),e.YNc(1,We,4,12,"ng-template",41),e.BQk()),2&Xe){const ee=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",ee)}}function fn(Xe,wt){1&Xe&&e.GkF(0)}function St(Xe,wt){if(1&Xe&&(e.ynx(0),e.YNc(1,fn,1,0,"ng-container",19),e.BQk()),2&Xe){const ee=e.oxw().$implicit,Ve=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",Ve)("ngTemplateOutletContext",e.VKq(2,w,ee))}}function ln(Xe,wt){if(1&Xe&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Xe){const ee=e.oxw().$implicit,Ve=e.oxw(4);e.xp6(1),e.Oqu(Ve.resolveFieldData(ee))}}function Ye(Xe,wt){1&Xe&&e.GkF(0)}const Mt=function(Xe){return{"p-highlight":Xe}},Ft=function(Xe,wt){return{$implicit:Xe,index:wt}};function tn(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"li",44),e.NdJ("click",function(){const Ct=e.CHM(ee).$implicit,sn=e.oxw(4);return e.KtG(sn.selectItem(Ct))}),e.YNc(1,ln,2,1,"span",31),e.YNc(2,Ye,1,0,"ng-container",19),e.qZA()}if(2&Xe){const ee=wt.$implicit,Ve=wt.index,ct=e.oxw(2).options,Ct=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,fe,ct.itemSize+"px"))("ngClass",e.VKq(8,Mt,ee===Ct.highlightOption))("id",Ct.highlightOption==ee?"p-highlighted-option":""),e.xp6(1),e.Q6J("ngIf",!Ct.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Ct.itemTemplate)("ngTemplateOutletContext",e.WLB(10,Ft,ee,ct.getOptions?ct.getOptions(Ve):Ve))}}function Vn(Xe,wt){1&Xe&&e.YNc(0,tn,3,13,"li",43),2&Xe&&e.Q6J("ngForOf",wt.$implicit)}function oi(Xe,wt){if(1&Xe&&(e.ynx(0),e._uU(1),e.BQk()),2&Xe){const ee=e.oxw(4);e.xp6(1),e.hij(" ",ee.emptyMessageLabel," ")}}function Kn(Xe,wt){1&Xe&&e.GkF(0,null,47)}function Ut(Xe,wt){if(1&Xe&&(e.TgZ(0,"li",45),e.YNc(1,oi,2,1,"ng-container",46),e.YNc(2,Kn,2,0,"ng-container",29),e.qZA()),2&Xe){const ee=e.oxw().options,Ve=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,fe,ee.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!Ve.emptyTemplate)("ngIfElse",Ve.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",Ve.emptyTemplate)}}function ft(Xe,wt){if(1&Xe&&(e.TgZ(0,"ul",37,38),e.YNc(2,hn,2,1,"ng-container",31),e.YNc(3,St,2,4,"ng-container",31),e.YNc(4,Vn,1,1,"ng-template",null,39,e.W1O),e.YNc(6,Ut,3,6,"li",40),e.qZA()),2&Xe){const ee=wt.options,Ve=e.oxw(2);e.Akn(ee.contentStyle),e.Q6J("ngClass",ee.contentStyleClass),e.uIk("id",Ve.listId),e.xp6(2),e.Q6J("ngIf",Ve.group),e.xp6(1),e.Q6J("ngIf",!Ve.group),e.xp6(3),e.Q6J("ngIf",Ve.noResults&&Ve.showEmptyMessage)}}function Be(Xe,wt){1&Xe&&e.GkF(0)}const It=function(){return["p-autocomplete-panel p-component"]},S=function(Xe,wt){return{showTransitionParams:Xe,hideTransitionParams:wt}},he=function(Xe){return{value:"visible",params:Xe}};function Ae(Xe,wt){if(1&Xe){const ee=e.EpF();e.TgZ(0,"div",27,28),e.NdJ("click",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onOverlayClick(ct))})("@overlayAnimation.start",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onOverlayAnimationStart(ct))})("@overlayAnimation.done",function(ct){e.CHM(ee);const Ct=e.oxw();return e.KtG(Ct.onOverlayAnimationEnd(ct))}),e.YNc(2,Me,1,0,"ng-container",29),e.YNc(3,qe,4,10,"p-scroller",30),e.YNc(4,bt,2,6,"ng-container",31),e.YNc(5,ft,7,7,"ng-template",null,32,e.W1O),e.YNc(7,Be,1,0,"ng-container",29),e.qZA()}if(2&Xe){const ee=e.oxw();e.Tol(ee.panelStyleClass),e.Udp("max-height",ee.virtualScroll?"auto":ee.scrollHeight),e.Q6J("ngClass",e.DdM(11,It))("ngStyle",ee.panelStyle)("@overlayAnimation",e.VKq(15,he,e.WLB(12,S,ee.showTransitionOptions,ee.hideTransitionOptions))),e.xp6(2),e.Q6J("ngTemplateOutlet",ee.headerTemplate),e.xp6(1),e.Q6J("ngIf",ee.virtualScroll),e.xp6(1),e.Q6J("ngIf",!ee.virtualScroll),e.xp6(3),e.Q6J("ngTemplateOutlet",ee.footerTemplate)}}const Qe=function(Xe,wt){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":Xe,"p-autocomplete-multiple":wt}},Ot={provide:K.JU,useExisting:(0,e.Gpc)(()=>Kt),multi:!0};let Kt=(()=>{class Xe{constructor(ee,Ve,ct,Ct,sn,$n){this.el=ee,this.renderer=Ve,this.cd=ct,this.differs=Ct,this.config=sn,this.overlayService=$n,this.minLength=1,this.delay=300,this.scrollHeight="200px",this.lazy=!1,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.completeMethod=new e.vpe,this.onSelect=new e.vpe,this.onUnselect=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onDropdownClick=new e.vpe,this.onClear=new e.vpe,this.onKeyUp=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.onLazyLoad=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=Ct.find([]).create(null),this.listId=(0,re.Th)()+"_list"}get itemSize(){return this._itemSize}set itemSize(ee){this._itemSize=ee,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get suggestions(){return this._suggestions}set suggestions(ee){this._suggestions=ee,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let ee=le.p.findSingle(this.overlay,"li.p-highlight");ee&&le.p.scrollInView(this.itemsWrapper,ee)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(ee=>{switch(ee.getType()){case"item":default:this.itemTemplate=ee.template;break;case"group":this.groupTemplate=ee.template;break;case"selectedItem":this.selectedItemTemplate=ee.template;break;case"header":this.headerTemplate=ee.template;break;case"empty":this.emptyTemplate=ee.template;break;case"footer":this.footerTemplate=ee.template;break;case"loader":this.loaderTemplate=ee.template}})}writeValue(ee){this.value=ee,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(ee){return this.optionGroupChildren?re.gb.resolveFieldData(ee,this.optionGroupChildren):ee.items}getOptionGroupLabel(ee){return this.optionGroupLabel?re.gb.resolveFieldData(ee,this.optionGroupLabel):null!=ee.label?ee.label:ee}registerOnChange(ee){this.onModelChange=ee}registerOnTouched(ee){this.onModelTouched=ee}setDisabledState(ee){this.disabled=ee,this.cd.markForCheck()}onInput(ee){if(!this.inputKeyDown&&le.p.isIE())return;this.timeout&&clearTimeout(this.timeout);let Ve=ee.target.value;this.inputValue=Ve,!this.multiple&&!this.forceSelection&&this.onModelChange(Ve),0===Ve.length&&!this.multiple&&(this.value=null,this.hide(),this.onClear.emit(ee),this.onModelChange(Ve)),Ve.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(ee,Ve)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(ee){this.documentClickListener&&(this.inputClick=!0)}search(ee,Ve){null!=Ve&&(this.loading=!0,this.completeMethod.emit({originalEvent:ee,query:Ve}))}selectItem(ee,Ve=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(ee)||!this.unique)&&(this.value=[...this.value,ee],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(ee),this.value=ee,this.onModelChange(this.value)),this.onSelect.emit(ee),this.updateFilledState(),Ve&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let ee=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&ee&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(ee){var Ve;switch(ee.toState){case"visible":this.overlay=ee.element,this.itemsWrapper=this.virtualScroll?le.p.findSingle(this.overlay,".p-scroller"):this.overlay,this.virtualScroll&&(null===(Ve=this.scroller)||void 0===Ve||Ve.setContentEl(this.itemsViewChild.nativeElement)),this.appendOverlay(),this.autoZIndex&&re.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(ee);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(ee){"void"===ee.toState&&this.autoZIndex&&re.P9.clear(ee.element)}onOverlayClick(ee){this.overlayService.add({originalEvent:ee,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):le.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=le.p.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(ee){let Ve=this.field?re.gb.resolveFieldData(ee,this.field):ee;return void 0!==Ve?Ve:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?le.p.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):le.p.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(ee){if(this.overlayVisible)this.hide();else{this.focusInput();let Ve=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(ee,""):"current"===this.dropdownMode&&this.search(ee,Ve),this.onDropdownClick.emit({originalEvent:ee,query:Ve})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(U.ws.EMPTY_MESSAGE)}removeItem(ee){let Ve=le.p.index(ee),ct=this.value[Ve];this.value=this.value.filter((Ct,sn)=>sn!=Ve),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(ct)}onKeydown(ee){if(this.overlayVisible)switch(ee.which){case 40:if(this.group){let ct=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==ct){let Ct=ct.itemIndex+1;Ct<this.getOptionGroupChildren(this.suggestions[ct.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[ct.groupIndex])[Ct],this.highlightOptionChanged=!0):this.suggestions[ct.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[ct.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let ct=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=ct){var Ve=ct+1;Ve!=this.suggestions.length&&(this.highlightOption=this.suggestions[Ve],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}ee.preventDefault();break;case 38:if(this.group){let ct=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==ct){let Ct=ct.itemIndex-1;if(Ct>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[ct.groupIndex])[Ct],this.highlightOptionChanged=!0;else if(Ct<0){let sn=this.suggestions[ct.groupIndex-1];sn&&(this.highlightOption=this.getOptionGroupChildren(sn)[this.getOptionGroupChildren(sn).length-1],this.highlightOptionChanged=!0)}}}else{let ct=this.findOptionIndex(this.highlightOption,this.suggestions);ct>0&&(this.highlightOption=this.suggestions[ct-1],this.highlightOptionChanged=!0)}ee.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),ee.preventDefault();break;case 27:this.hide(),ee.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===ee.which&&this.suggestions?this.search(ee,ee.target.value):ee.ctrlKey&&"z"===ee.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):ee.ctrlKey&&"z"===ee.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===ee.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const ct=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(ct)}this.inputKeyDown=!0}onKeyup(ee){this.onKeyUp.emit(ee)}onInputFocus(ee){!this.itemClicked&&this.completeOnFocus&&this.search(ee,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(ee),this.itemClicked=!1}onInputBlur(ee){this.focus=!1,this.onModelTouched(),this.onBlur.emit(ee)}onInputChange(ee){if(this.forceSelection){let Ve=!1,ct=ee.target.value.trim();if(this.suggestions)for(let Ct of this.suggestions){let sn=this.field?re.gb.resolveFieldData(Ct,this.field):Ct;if(sn&&ct===sn.trim()){Ve=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(Ct,!1)},250);break}}Ve||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(ee),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(ee){this.onKeydown(ee)}isSelected(ee){let Ve=!1;if(this.value&&this.value.length)for(let ct=0;ct<this.value.length;ct++)if(re.gb.equals(this.value[ct],ee,this.dataKey)){Ve=!0;break}return Ve}findOptionIndex(ee,Ve){let ct=-1;if(Ve)for(let Ct=0;Ct<Ve.length;Ct++)if(re.gb.equals(ee,Ve[Ct])){ct=Ct;break}return ct}findOptionGroupIndex(ee,Ve){let ct,Ct;if(Ve)for(let sn=0;sn<Ve.length&&(ct=sn,Ct=this.findOptionIndex(ee,this.getOptionGroupChildren(Ve[sn])),-1===Ct);sn++);return-1!==Ct?{groupIndex:ct,itemIndex:Ct}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let ee=this.resolveFieldData(this.value);this.inputFieldValue=ee,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=ee),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",Ve=>{3!==Ve.which&&(!this.inputClick&&!this.isDropdownClick(Ve)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(ee){if(this.dropdown){let Ve=ee.target;return Ve===this.dropdownButton.nativeElement||Ve.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!le.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new le.V(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay&&(this.overlay=null,this.onHide.emit())}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&re.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return Xe.\u0275fac=function(ee){return new(ee||Xe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.ZZ4),e.Y36(U.b4),e.Y36(U.F0))},Xe.\u0275cmp=e.Xpm({type:Xe,selectors:[["p-autoComplete"]],contentQueries:function(ee,Ve,ct){if(1&ee&&e.Suo(ct,U.jx,4),2&ee){let Ct;e.iGM(Ct=e.CRH())&&(Ve.templates=Ct)}},viewQuery:function(ee,Ve){if(1&ee&&(e.Gf(Oe,5),e.Gf(Te,5),e.Gf(ke,5),e.Gf(we,5),e.Gf(Fe,5),e.Gf(Y,5),e.Gf(Pe,5)),2&ee){let ct;e.iGM(ct=e.CRH())&&(Ve.containerEL=ct.first),e.iGM(ct=e.CRH())&&(Ve.inputEL=ct.first),e.iGM(ct=e.CRH())&&(Ve.multiInputEL=ct.first),e.iGM(ct=e.CRH())&&(Ve.multiContainerEL=ct.first),e.iGM(ct=e.CRH())&&(Ve.dropdownButton=ct.first),e.iGM(ct=e.CRH())&&(Ve.itemsViewChild=ct.first),e.iGM(ct=e.CRH())&&(Ve.scroller=ct.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(ee,Ve){2&ee&&e.ekj("p-inputwrapper-filled",Ve.filled)("p-inputwrapper-focus",Ve.focus&&!Ve.disabled||Ve.autofocus||Ve.overlayVisible)("p-autocomplete-clearable",Ve.showClear&&!Ve.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",itemSize:"itemSize",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[e._Bn([Ot])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["pAutoFocus","","class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"autofocus","ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["pAutoFocus","","aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"autofocus","ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["pAutoFocus","","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"autofocus","disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-autocomplete-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group",3,"ngStyle"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngStyle","ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngStyle","ngClass","id","click"],[1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(ee,Ve){1&ee&&(e.TgZ(0,"span",0,1),e.YNc(2,N,2,23,"input",2),e.YNc(3,O,1,0,"i",3),e.YNc(4,ye,1,0,"i",3),e.YNc(5,_e,6,23,"ul",4),e.YNc(6,De,1,0,"i",5),e.YNc(7,Le,2,4,"button",6),e.YNc(8,Ae,8,17,"div",7),e.qZA()),2&ee&&(e.Tol(Ve.styleClass),e.Q6J("ngClass",e.WLB(11,Qe,Ve.dropdown,Ve.multiple))("ngStyle",Ve.style),e.xp6(2),e.Q6J("ngIf",!Ve.multiple),e.xp6(1),e.Q6J("ngIf",!Ve.multiple&&Ve.filled&&!Ve.disabled&&Ve.showClear),e.xp6(1),e.Q6J("ngIf",Ve.multiple&&Ve.filled&&!Ve.disabled&&Ve.showClear),e.xp6(1),e.Q6J("ngIf",Ve.multiple),e.xp6(1),e.Q6J("ngIf",Ve.loading),e.xp6(1),e.Q6J("ngIf",Ve.dropdown),e.xp6(1),e.Q6J("ngIf",Ve.overlayVisible))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,L.Hq,U.jx,I.H,pe.T,ue.P],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,g.X$)("overlayAnimation",[(0,g.eR)(":enter",[(0,g.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,g.jt)("{{showTransitionParams}}")]),(0,g.eR)(":leave",[(0,g.jt)("{{hideTransitionParams}}",(0,g.oB)({opacity:0}))])])]},changeDetection:0}),Xe})(),en=(()=>{class Xe{}return Xe.\u0275fac=function(ee){return new(ee||Xe)},Xe.\u0275mod=e.oAB({type:Xe}),Xe.\u0275inj=e.cJS({imports:[s.ez,H.j,L.hJ,U.m8,I.T,pe.v,ue.E,U.m8,pe.v,ue.E]}),Xe})()},9618:(Ht,et,_)=>{_.d(et,{E:()=>L,P:()=>H});var e=_(9808),s=_(5e3),g=_(5730);let H=(()=>{class I{constructor(le){this.host=le,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const le=g.p.getFocusableElements(this.host.nativeElement);0===le.length&&this.host.nativeElement.focus(),le.length>0&&le[0].focus(),this.focused=!0}}}return I.\u0275fac=function(le){return new(le||I)(s.Y36(s.SBq))},I.\u0275dir=s.lG2({type:I,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),I})(),L=(()=>{class I{}return I.\u0275fac=function(le){return new(le||I)},I.\u0275mod=s.oAB({type:I}),I.\u0275inj=s.cJS({imports:[e.ez]}),I})()},85:(Ht,et,_)=>{_.d(et,{Ct:()=>le,TX:()=>re,lM:()=>U});var e=_(9808),s=_(5e3),g=_(9783),H=_(5730),L=_(5921);function I(K,pe){if(1&K&&(s.TgZ(0,"span",1),s._uU(1),s.qZA()),2&K){const ue=s.oxw();s.Tol(ue.styleClass),s.Q6J("ngClass",ue.containerClass())("ngStyle",ue.style),s.xp6(1),s.Oqu(ue.value)}}let U=(()=>{class K{constructor(ue){this.el=ue,this.iconPos="left",this._disabled=!1}get disabled(){return this._disabled}set disabled(ue){this._disabled=ue}ngAfterViewInit(){this.id=(0,L.Th)()+"_badge";let ue=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement;if(this._disabled)return null;let Oe=document.createElement("span");Oe.id=this.id,Oe.className="p-badge p-component",this.severity&&H.p.addClass(Oe,"p-badge-"+this.severity),null!=this.value?(Oe.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&H.p.addClass(Oe,"p-badge-no-gutter")):H.p.addClass(Oe,"p-badge-dot"),H.p.addClass(ue,"p-overlay-badge"),ue.appendChild(Oe),this.initialized=!0}get value(){return this._value}set value(ue){if(ue!==this._value&&(this._value=ue,this.initialized)){let Oe=document.getElementById(this.id);this._value?(H.p.hasClass(Oe,"p-badge-dot")&&H.p.removeClass(Oe,"p-badge-dot"),1===String(this._value).length?H.p.addClass(Oe,"p-badge-no-gutter"):H.p.removeClass(Oe,"p-badge-no-gutter")):!this._value&&!H.p.hasClass(Oe,"p-badge-dot")&&H.p.addClass(Oe,"p-badge-dot"),Oe.innerHTML="",Oe.appendChild(document.createTextNode(this._value))}}ngOnDestroy(){this.initialized=!1}}return K.\u0275fac=function(ue){return new(ue||K)(s.Y36(s.SBq))},K.\u0275dir=s.lG2({type:K,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",disabled:["badgeDisabled","disabled"],value:"value",severity:"severity"}}),K})(),le=(()=>{class K{constructor(){this.badgeDisabled=!1}containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return K.\u0275fac=function(ue){return new(ue||K)},K.\u0275cmp=s.Xpm({type:K,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value",badgeDisabled:"badgeDisabled"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(ue,Oe){1&ue&&s.YNc(0,I,2,5,"span",0),2&ue&&s.Q6J("ngIf",!Oe.badgeDisabled)},dependencies:[e.mk,e.O5,e.PC],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),K})(),re=(()=>{class K{}return K.\u0275fac=function(ue){return new(ue||K)},K.\u0275mod=s.oAB({type:K}),K.\u0275inj=s.cJS({imports:[e.ez,g.m8]}),K})()},845:(Ht,et,_)=>{_.d(et,{Hq:()=>Te,hJ:()=>we,zx:()=>ke});var e=_(9808),s=_(5e3),g=_(9783),H=_(5730),L=_(5787),I=_(5921);function U(Fe,Y){1&Fe&&s.GkF(0)}const le=function(Fe,Y,Pe,de){return{"p-button-icon":!0,"p-button-icon-left":Fe,"p-button-icon-right":Y,"p-button-icon-top":Pe,"p-button-icon-bottom":de}};function re(Fe,Y){if(1&Fe&&s._UZ(0,"span",4),2&Fe){const Pe=s.oxw();s.Tol(Pe.loading?"p-button-loading-icon "+Pe.loadingIcon:Pe.icon),s.Q6J("ngClass",s.l5B(4,le,"left"===Pe.iconPos&&Pe.label,"right"===Pe.iconPos&&Pe.label,"top"===Pe.iconPos&&Pe.label,"bottom"===Pe.iconPos&&Pe.label)),s.uIk("aria-hidden",!0)}}function K(Fe,Y){if(1&Fe&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&Fe){const Pe=s.oxw();s.uIk("aria-hidden",Pe.icon&&!Pe.label),s.xp6(1),s.Oqu(Pe.label)}}function pe(Fe,Y){if(1&Fe&&(s.TgZ(0,"span",4),s._uU(1),s.qZA()),2&Fe){const Pe=s.oxw();s.Tol(Pe.badgeClass),s.Q6J("ngClass",Pe.badgeStyleClass()),s.xp6(1),s.Oqu(Pe.badge)}}const ue=function(Fe,Y,Pe,de,N){return{"p-button p-component":!0,"p-button-icon-only":Fe,"p-button-vertical":Y,"p-disabled":Pe,"p-button-loading":de,"p-button-loading-label-only":N}},Oe=["*"];let Te=(()=>{class Fe{constructor(Pe){this.el=Pe,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}get label(){return this._label}set label(Pe){this._label=Pe,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(Pe){this._icon=Pe,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(Pe){this._loading=Pe,this.initialized&&(this.updateIcon(),this.setStyleClass())}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,H.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let Pe="p-button p-component";return this.icon&&!this.label&&I.gb.isEmpty(this.el.nativeElement.textContent)&&(Pe+=" p-button-icon-only"),this.loading&&(Pe+=" p-disabled p-button-loading",!this.icon&&this.label&&(Pe+=" p-button-loading-label-only")),Pe}setStyleClass(){let Pe=this.getStyleClass();this.el.nativeElement.className=Pe+" "+this._initialStyleClass}createLabel(){if(this.label){let Pe=document.createElement("span");this.icon&&!this.label&&Pe.setAttribute("aria-hidden","true"),Pe.className="p-button-label",Pe.appendChild(document.createTextNode(this.label)),this.el.nativeElement.appendChild(Pe)}}createIcon(){if(this.icon||this.loading){let Pe=document.createElement("span");Pe.className="p-button-icon",Pe.setAttribute("aria-hidden","true");let de=this.label?"p-button-icon-"+this.iconPos:null;de&&H.p.addClass(Pe,de);let N=this.getIconClass();N&&H.p.addMultipleClasses(Pe,N),this.el.nativeElement.insertBefore(Pe,this.el.nativeElement.firstChild)}}updateLabel(){let Pe=H.p.findSingle(this.el.nativeElement,".p-button-label");this.label?Pe?Pe.textContent=this.label:this.createLabel():Pe&&this.el.nativeElement.removeChild(Pe)}updateIcon(){let Pe=H.p.findSingle(this.el.nativeElement,".p-button-icon");this.icon||this.loading?Pe?Pe.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():Pe&&this.el.nativeElement.removeChild(Pe)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return Fe.\u0275fac=function(Pe){return new(Pe||Fe)(s.Y36(s.SBq))},Fe.\u0275dir=s.lG2({type:Fe,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),Fe})(),ke=(()=>{class Fe{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe}ngAfterContentInit(){this.templates.forEach(Pe=>{Pe.getType(),this.contentTemplate=Pe.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return Fe.\u0275fac=function(Pe){return new(Pe||Fe)},Fe.\u0275cmp=s.Xpm({type:Fe,selectors:[["p-button"]],contentQueries:function(Pe,de,N){if(1&Pe&&s.Suo(N,g.jx,4),2&Pe){let O;s.iGM(O=s.CRH())&&(de.templates=O)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:Oe,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(Pe,de){1&Pe&&(s.F$t(),s.TgZ(0,"button",0),s.NdJ("click",function(O){return de.onClick.emit(O)})("focus",function(O){return de.onFocus.emit(O)})("blur",function(O){return de.onBlur.emit(O)}),s.Hsn(1),s.YNc(2,U,1,0,"ng-container",1),s.YNc(3,re,1,9,"span",2),s.YNc(4,K,2,2,"span",3),s.YNc(5,pe,2,4,"span",2),s.qZA()),2&Pe&&(s.Tol(de.styleClass),s.Q6J("ngStyle",de.style)("disabled",de.disabled||de.loading)("ngClass",s.qbA(11,ue,de.icon&&!de.label,("top"===de.iconPos||"bottom"===de.iconPos)&&de.label,de.disabled||de.loading,de.loading,de.loading&&!de.icon&&de.label)),s.uIk("type",de.type)("aria-label",de.ariaLabel),s.xp6(2),s.Q6J("ngTemplateOutlet",de.contentTemplate),s.xp6(1),s.Q6J("ngIf",!de.contentTemplate&&(de.icon||de.loading)),s.xp6(1),s.Q6J("ngIf",!de.contentTemplate&&de.label),s.xp6(1),s.Q6J("ngIf",!de.contentTemplate&&de.badge))},dependencies:[e.mk,e.O5,e.tP,e.PC,L.H],encapsulation:2,changeDetection:0}),Fe})(),we=(()=>{class Fe{}return Fe.\u0275fac=function(Pe){return new(Pe||Fe)},Fe.\u0275mod=s.oAB({type:Fe}),Fe.\u0275inj=s.cJS({imports:[e.ez,L.T]}),Fe})()},5652:(Ht,et,_)=>{_.d(et,{_8:()=>ft,f:()=>Ut});var e=_(1777),s=_(9808),g=_(5e3),H=_(2382),L=_(9783),I=_(845),U=_(5730),le=_(5787),re=_(5921);const K=["container"],pe=["inputfield"],ue=["contentWrapper"];function Oe(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"i",8),g.NdJ("click",function(){g.CHM(S);const Ae=g.oxw(2);return g.KtG(Ae.clear())}),g.qZA()}}function Te(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"button",9),g.NdJ("click",function(Ae){g.CHM(S),g.oxw();const Qe=g.MAs(1),Ot=g.oxw();return g.KtG(Ot.onButtonClick(Ae,Qe))}),g.qZA()}if(2&Be){const S=g.oxw(2);g.Q6J("icon",S.icon)("disabled",S.disabled),g.uIk("aria-label",S.iconAriaLabel)}}function ke(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"input",4,5),g.NdJ("focus",function(Ae){g.CHM(S);const Qe=g.oxw();return g.KtG(Qe.onInputFocus(Ae))})("keydown",function(Ae){g.CHM(S);const Qe=g.oxw();return g.KtG(Qe.onInputKeydown(Ae))})("click",function(){g.CHM(S);const Ae=g.oxw();return g.KtG(Ae.onInputClick())})("blur",function(Ae){g.CHM(S);const Qe=g.oxw();return g.KtG(Qe.onInputBlur(Ae))})("input",function(Ae){g.CHM(S);const Qe=g.oxw();return g.KtG(Qe.onUserInput(Ae))}),g.qZA(),g.YNc(2,Oe,1,0,"i",6),g.YNc(3,Te,1,3,"button",7)}if(2&Be){const S=g.oxw();g.Tol(S.inputStyleClass),g.Q6J("value",S.inputFieldValue)("readonly",S.readonlyInput)("ngStyle",S.inputStyle)("placeholder",S.placeholder||"")("disabled",S.disabled)("ngClass","p-inputtext p-component"),g.uIk("id",S.inputId)("name",S.name)("required",S.required)("aria-required",S.required)("tabindex",S.tabindex)("inputmode",S.touchUI?"off":null)("aria-labelledby",S.ariaLabelledBy),g.xp6(2),g.Q6J("ngIf",S.showClear&&!S.disabled&&null!=S.value),g.xp6(1),g.Q6J("ngIf",S.showIcon)}}function we(Be,It){1&Be&&g.GkF(0)}function Fe(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"button",30),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(4);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("click",function(Ae){g.CHM(S);const Qe=g.oxw(4);return g.KtG(Qe.onPrevButtonClick(Ae))}),g._UZ(1,"span",31),g.qZA()}}function Y(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"button",32),g.NdJ("click",function(Ae){g.CHM(S);const Qe=g.oxw(4);return g.KtG(Qe.switchToMonthView(Ae))})("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(4);return g.KtG(Qe.onContainerButtonKeydown(Ae))}),g._uU(1),g.qZA()}if(2&Be){const S=g.oxw().$implicit,he=g.oxw(3);g.Q6J("disabled",he.switchViewButtonDisabled()),g.xp6(1),g.hij(" ",he.getMonthName(S.month)," ")}}function Pe(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"button",33),g.NdJ("click",function(Ae){g.CHM(S);const Qe=g.oxw(4);return g.KtG(Qe.switchToYearView(Ae))})("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(4);return g.KtG(Qe.onContainerButtonKeydown(Ae))}),g._uU(1),g.qZA()}if(2&Be){const S=g.oxw().$implicit,he=g.oxw(3);g.Q6J("disabled",he.switchViewButtonDisabled()),g.xp6(1),g.hij(" ",he.getYear(S)," ")}}function de(Be,It){if(1&Be&&(g.ynx(0),g._uU(1),g.BQk()),2&Be){const S=g.oxw(5);g.xp6(1),g.AsE("",S.yearPickerValues()[0]," - ",S.yearPickerValues()[S.yearPickerValues().length-1],"")}}function N(Be,It){1&Be&&g.GkF(0)}const O=function(Be){return{$implicit:Be}};function ye(Be,It){if(1&Be&&(g.TgZ(0,"span",34),g.YNc(1,de,2,2,"ng-container",13),g.YNc(2,N,1,0,"ng-container",35),g.qZA()),2&Be){const S=g.oxw(4);g.xp6(1),g.Q6J("ngIf",!S.decadeTemplate),g.xp6(1),g.Q6J("ngTemplateOutlet",S.decadeTemplate)("ngTemplateOutletContext",g.VKq(3,O,S.yearPickerValues))}}function Ce(Be,It){if(1&Be&&(g.TgZ(0,"th",41)(1,"span"),g._uU(2),g.qZA()()),2&Be){const S=g.oxw(5);g.xp6(2),g.Oqu(S.getTranslation("weekHeader"))}}function ve(Be,It){if(1&Be&&(g.TgZ(0,"th",42)(1,"span"),g._uU(2),g.qZA()()),2&Be){const S=It.$implicit;g.xp6(2),g.Oqu(S)}}function V(Be,It){if(1&Be&&(g.TgZ(0,"td",45)(1,"span",46),g._uU(2),g.qZA()()),2&Be){const S=g.oxw().index,he=g.oxw(2).$implicit;g.xp6(2),g.hij(" ",he.weekNumbers[S]," ")}}function w(Be,It){if(1&Be&&(g.ynx(0),g._uU(1),g.BQk()),2&Be){const S=g.oxw(2).$implicit;g.xp6(1),g.Oqu(S.day)}}function F(Be,It){1&Be&&g.GkF(0)}const q=function(Be,It){return{"p-highlight":Be,"p-disabled":It}};function _e(Be,It){if(1&Be){const S=g.EpF();g.ynx(0),g.TgZ(1,"span",48),g.NdJ("click",function(Ae){g.CHM(S);const Qe=g.oxw().$implicit,Ot=g.oxw(6);return g.KtG(Ot.onDateSelect(Ae,Qe))})("keydown",function(Ae){g.CHM(S);const Qe=g.oxw().$implicit,Ot=g.oxw(3).index,Kt=g.oxw(3);return g.KtG(Kt.onDateCellKeydown(Ae,Qe,Ot))}),g.YNc(2,w,2,1,"ng-container",13),g.YNc(3,F,1,0,"ng-container",35),g.qZA(),g.BQk()}if(2&Be){const S=g.oxw().$implicit,he=g.oxw(6);g.xp6(1),g.Q6J("ngClass",g.WLB(4,q,he.isSelected(S),!S.selectable)),g.xp6(1),g.Q6J("ngIf",!he.dateTemplate),g.xp6(1),g.Q6J("ngTemplateOutlet",he.dateTemplate)("ngTemplateOutletContext",g.VKq(7,O,S))}}const De=function(Be,It){return{"p-datepicker-other-month":Be,"p-datepicker-today":It}};function Le(Be,It){if(1&Be&&(g.TgZ(0,"td",47),g.YNc(1,_e,4,9,"ng-container",13),g.qZA()),2&Be){const S=It.$implicit,he=g.oxw(6);g.Q6J("ngClass",g.WLB(2,De,S.otherMonth,S.today)),g.xp6(1),g.Q6J("ngIf",!S.otherMonth||he.showOtherMonths)}}function Me(Be,It){if(1&Be&&(g.TgZ(0,"tr"),g.YNc(1,V,3,1,"td",43),g.YNc(2,Le,2,5,"td",44),g.qZA()),2&Be){const S=It.$implicit,he=g.oxw(5);g.xp6(1),g.Q6J("ngIf",he.showWeek),g.xp6(1),g.Q6J("ngForOf",S)}}function ht(Be,It){if(1&Be&&(g.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),g.YNc(4,Ce,3,1,"th",38),g.YNc(5,ve,3,1,"th",39),g.qZA()(),g.TgZ(6,"tbody"),g.YNc(7,Me,3,2,"tr",40),g.qZA()()()),2&Be){const S=g.oxw().$implicit,he=g.oxw(3);g.xp6(4),g.Q6J("ngIf",he.showWeek),g.xp6(1),g.Q6J("ngForOf",he.weekDays),g.xp6(2),g.Q6J("ngForOf",S.dates)}}function at(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"div",20)(1,"div",21),g.YNc(2,Fe,2,0,"button",22),g.TgZ(3,"div",23),g.YNc(4,Y,2,2,"button",24),g.YNc(5,Pe,2,2,"button",25),g.YNc(6,ye,3,5,"span",26),g.qZA(),g.TgZ(7,"button",27),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("click",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onNextButtonClick(Ae))}),g._UZ(8,"span",28),g.qZA()(),g.YNc(9,ht,8,3,"div",29),g.qZA()}if(2&Be){const S=It.index,he=g.oxw(3);g.xp6(2),g.Q6J("ngIf",0===S),g.xp6(2),g.Q6J("ngIf","date"===he.currentView),g.xp6(1),g.Q6J("ngIf","year"!==he.currentView),g.xp6(1),g.Q6J("ngIf","year"===he.currentView),g.xp6(1),g.Udp("display",1===he.numberOfMonths||S===he.numberOfMonths-1?"inline-flex":"none"),g.xp6(2),g.Q6J("ngIf","date"===he.currentView)}}function Se(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"span",51),g.NdJ("click",function(Ae){const Ot=g.CHM(S).index,Kt=g.oxw(4);return g.KtG(Kt.onMonthSelect(Ae,Ot))})("keydown",function(Ae){const Ot=g.CHM(S).index,Kt=g.oxw(4);return g.KtG(Kt.onMonthCellKeydown(Ae,Ot))}),g._uU(1),g.qZA()}if(2&Be){const S=It.$implicit,he=It.index,Ae=g.oxw(4);g.Q6J("ngClass",g.WLB(2,q,Ae.isMonthSelected(he),Ae.isMonthDisabled(he))),g.xp6(1),g.hij(" ",S," ")}}function $(Be,It){if(1&Be&&(g.TgZ(0,"div",49),g.YNc(1,Se,2,5,"span",50),g.qZA()),2&Be){const S=g.oxw(3);g.xp6(1),g.Q6J("ngForOf",S.monthPickerValues())}}const B=function(Be){return{"p-highlight":Be}};function j(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"span",54),g.NdJ("click",function(Ae){const Ot=g.CHM(S).$implicit,Kt=g.oxw(4);return g.KtG(Kt.onYearSelect(Ae,Ot))})("keydown",function(Ae){const Ot=g.CHM(S).$implicit,Kt=g.oxw(4);return g.KtG(Kt.onYearCellKeydown(Ae,Ot))}),g._uU(1),g.qZA()}if(2&Be){const S=It.$implicit,he=g.oxw(4);g.Q6J("ngClass",g.VKq(2,B,he.isYearSelected(S))),g.xp6(1),g.hij(" ",S," ")}}function Ue(Be,It){if(1&Be&&(g.TgZ(0,"div",52),g.YNc(1,j,2,4,"span",53),g.qZA()),2&Be){const S=g.oxw(3);g.xp6(1),g.Q6J("ngForOf",S.yearPickerValues())}}function fe(Be,It){if(1&Be&&(g.ynx(0),g.TgZ(1,"div",16),g.YNc(2,at,10,7,"div",17),g.qZA(),g.YNc(3,$,2,1,"div",18),g.YNc(4,Ue,2,1,"div",19),g.BQk()),2&Be){const S=g.oxw(2);g.xp6(2),g.Q6J("ngForOf",S.months),g.xp6(1),g.Q6J("ngIf","month"===S.currentView),g.xp6(1),g.Q6J("ngIf","year"===S.currentView)}}function qe(Be,It){1&Be&&(g.ynx(0),g._uU(1,"0"),g.BQk())}function je(Be,It){1&Be&&(g.ynx(0),g._uU(1,"0"),g.BQk())}function mt(Be,It){if(1&Be&&(g.TgZ(0,"div",60)(1,"span"),g._uU(2),g.qZA()()),2&Be){const S=g.oxw(3);g.xp6(2),g.Oqu(S.timeSeparator)}}function bt(Be,It){1&Be&&(g.ynx(0),g._uU(1,"0"),g.BQk())}function st(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"div",65)(1,"button",57),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("keydown.enter",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.incrementSecond(Ae))})("keydown.space",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.incrementSecond(Ae))})("mousedown",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onTimePickerElementMouseDown(Ae,2,1))})("mouseup",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.enter",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.space",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("mouseleave",function(){g.CHM(S);const Ae=g.oxw(3);return g.KtG(Ae.onTimePickerElementMouseLeave())}),g._UZ(2,"span",58),g.qZA(),g.TgZ(3,"span"),g.YNc(4,bt,2,0,"ng-container",13),g._uU(5),g.qZA(),g.TgZ(6,"button",57),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("keydown.enter",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.decrementSecond(Ae))})("keydown.space",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.decrementSecond(Ae))})("mousedown",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onTimePickerElementMouseDown(Ae,2,-1))})("mouseup",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.enter",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.space",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("mouseleave",function(){g.CHM(S);const Ae=g.oxw(3);return g.KtG(Ae.onTimePickerElementMouseLeave())}),g._UZ(7,"span",59),g.qZA()()}if(2&Be){const S=g.oxw(3);g.xp6(4),g.Q6J("ngIf",S.currentSecond<10),g.xp6(1),g.Oqu(S.currentSecond)}}function xt(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"div",66)(1,"button",67),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("click",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.toggleAMPM(Ae))})("keydown.enter",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.toggleAMPM(Ae))}),g._UZ(2,"span",58),g.qZA(),g.TgZ(3,"span"),g._uU(4),g.qZA(),g.TgZ(5,"button",67),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("click",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.toggleAMPM(Ae))})("keydown.enter",function(Ae){g.CHM(S);const Qe=g.oxw(3);return g.KtG(Qe.toggleAMPM(Ae))}),g._UZ(6,"span",59),g.qZA()()}if(2&Be){const S=g.oxw(3);g.xp6(4),g.Oqu(S.pm?"PM":"AM")}}function ot(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"div",55)(1,"div",56)(2,"button",57),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("keydown.enter",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.incrementHour(Ae))})("keydown.space",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.incrementHour(Ae))})("mousedown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseDown(Ae,0,1))})("mouseup",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.enter",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.space",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("mouseleave",function(){g.CHM(S);const Ae=g.oxw(2);return g.KtG(Ae.onTimePickerElementMouseLeave())}),g._UZ(3,"span",58),g.qZA(),g.TgZ(4,"span"),g.YNc(5,qe,2,0,"ng-container",13),g._uU(6),g.qZA(),g.TgZ(7,"button",57),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("keydown.enter",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.decrementHour(Ae))})("keydown.space",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.decrementHour(Ae))})("mousedown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseDown(Ae,0,-1))})("mouseup",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.enter",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.space",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("mouseleave",function(){g.CHM(S);const Ae=g.oxw(2);return g.KtG(Ae.onTimePickerElementMouseLeave())}),g._UZ(8,"span",59),g.qZA()(),g.TgZ(9,"div",60)(10,"span"),g._uU(11),g.qZA()(),g.TgZ(12,"div",61)(13,"button",57),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("keydown.enter",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.incrementMinute(Ae))})("keydown.space",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.incrementMinute(Ae))})("mousedown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseDown(Ae,1,1))})("mouseup",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.enter",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.space",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("mouseleave",function(){g.CHM(S);const Ae=g.oxw(2);return g.KtG(Ae.onTimePickerElementMouseLeave())}),g._UZ(14,"span",58),g.qZA(),g.TgZ(15,"span"),g.YNc(16,je,2,0,"ng-container",13),g._uU(17),g.qZA(),g.TgZ(18,"button",57),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("keydown.enter",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.decrementMinute(Ae))})("keydown.space",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.decrementMinute(Ae))})("mousedown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseDown(Ae,1,-1))})("mouseup",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.enter",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("keyup.space",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTimePickerElementMouseUp(Ae))})("mouseleave",function(){g.CHM(S);const Ae=g.oxw(2);return g.KtG(Ae.onTimePickerElementMouseLeave())}),g._UZ(19,"span",59),g.qZA()(),g.YNc(20,mt,3,1,"div",62),g.YNc(21,st,8,2,"div",63),g.YNc(22,xt,7,1,"div",64),g.qZA()}if(2&Be){const S=g.oxw(2);g.xp6(5),g.Q6J("ngIf",S.currentHour<10),g.xp6(1),g.Oqu(S.currentHour),g.xp6(5),g.Oqu(S.timeSeparator),g.xp6(5),g.Q6J("ngIf",S.currentMinute<10),g.xp6(1),g.Oqu(S.currentMinute),g.xp6(3),g.Q6J("ngIf",S.showSeconds),g.xp6(1),g.Q6J("ngIf",S.showSeconds),g.xp6(1),g.Q6J("ngIf","12"==S.hourFormat)}}const We=function(Be){return[Be]};function hn(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"div",68)(1,"button",69),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("click",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onTodayButtonClick(Ae))}),g.qZA(),g.TgZ(2,"button",69),g.NdJ("keydown",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onContainerButtonKeydown(Ae))})("click",function(Ae){g.CHM(S);const Qe=g.oxw(2);return g.KtG(Qe.onClearButtonClick(Ae))}),g.qZA()()}if(2&Be){const S=g.oxw(2);g.xp6(1),g.Q6J("label",S.getTranslation("today"))("ngClass",g.VKq(4,We,S.todayButtonStyleClass)),g.xp6(1),g.Q6J("label",S.getTranslation("clear"))("ngClass",g.VKq(6,We,S.clearButtonStyleClass))}}function fn(Be,It){1&Be&&g.GkF(0)}const St=function(Be,It,S,he,Ae,Qe){return{"p-datepicker p-component":!0,"p-datepicker-inline":Be,"p-disabled":It,"p-datepicker-timeonly":S,"p-datepicker-multiple-month":he,"p-datepicker-monthpicker":Ae,"p-datepicker-touch-ui":Qe}},ln=function(Be,It){return{showTransitionParams:Be,hideTransitionParams:It}},Ye=function(Be){return{value:"visibleTouchUI",params:Be}},Mt=function(Be){return{value:"visible",params:Be}};function Ft(Be,It){if(1&Be){const S=g.EpF();g.TgZ(0,"div",10,11),g.NdJ("@overlayAnimation.start",function(Ae){g.CHM(S);const Qe=g.oxw();return g.KtG(Qe.onOverlayAnimationStart(Ae))})("@overlayAnimation.done",function(Ae){g.CHM(S);const Qe=g.oxw();return g.KtG(Qe.onOverlayAnimationDone(Ae))})("click",function(Ae){g.CHM(S);const Qe=g.oxw();return g.KtG(Qe.onOverlayClick(Ae))}),g.Hsn(2),g.YNc(3,we,1,0,"ng-container",12),g.YNc(4,fe,5,3,"ng-container",13),g.YNc(5,ot,23,8,"div",14),g.YNc(6,hn,3,8,"div",15),g.Hsn(7,1),g.YNc(8,fn,1,0,"ng-container",12),g.qZA()}if(2&Be){const S=g.oxw();g.Tol(S.panelStyleClass),g.Q6J("ngStyle",S.panelStyle)("ngClass",g.HTZ(11,St,S.inline,S.disabled,S.timeOnly,S.numberOfMonths>1,"month"===S.view,S.touchUI))("@overlayAnimation",S.touchUI?g.VKq(21,Ye,g.WLB(18,ln,S.showTransitionOptions,S.hideTransitionOptions)):g.VKq(26,Mt,g.WLB(23,ln,S.showTransitionOptions,S.hideTransitionOptions)))("@.disabled",!0===S.inline),g.xp6(3),g.Q6J("ngTemplateOutlet",S.headerTemplate),g.xp6(1),g.Q6J("ngIf",!S.timeOnly),g.xp6(1),g.Q6J("ngIf",(S.showTime||S.timeOnly)&&"date"===S.currentView),g.xp6(1),g.Q6J("ngIf",S.showButtonBar),g.xp6(2),g.Q6J("ngTemplateOutlet",S.footerTemplate)}}const tn=[[["p-header"]],[["p-footer"]]],Vn=function(Be,It,S,he){return{"p-calendar":!0,"p-calendar-w-btn":Be,"p-calendar-timeonly":It,"p-calendar-disabled":S,"p-focus":he}},oi=["p-header","p-footer"],Kn={provide:H.JU,useExisting:(0,g.Gpc)(()=>Ut),multi:!0};let Ut=(()=>{class Be{constructor(S,he,Ae,Qe,Ot,Kt){this.el=S,this.renderer=he,this.cd=Ae,this.zone=Qe,this.config=Ot,this.overlayService=Kt,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new g.vpe,this.onBlur=new g.vpe,this.onClose=new g.vpe,this.onSelect=new g.vpe,this.onClear=new g.vpe,this.onInput=new g.vpe,this.onTodayClick=new g.vpe,this.onClearClick=new g.vpe,this.onMonthChange=new g.vpe,this.onYearChange=new g.vpe,this.onClickOutside=new g.vpe,this.onShow=new g.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(en,Xe){return"12"==this.hourFormat?12===en?Xe?12:0:Xe?en+12:en:en}}set content(S){this.contentViewChild=S,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(S){this._view=S,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(S){if(this._defaultDate=S,this.initialized){const he=S||new Date;this.currentMonth=he.getMonth(),this.currentYear=he.getFullYear(),this.initTime(he),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(S){this._minDate=S,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(S){this._maxDate=S,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(S){this._disabledDates=S,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(S){this._disabledDays=S,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(S){if(this._yearRange=S,S){const he=S.split(":"),Ae=parseInt(he[0]),Qe=parseInt(he[1]);this.populateYearOptions(Ae,Qe)}}get showTime(){return this._showTime}set showTime(S){this._showTime=S,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(S){this._responsiveOptions=S,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(S){this._numberOfMonths=S,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(S){this._firstDayOfWeek=S,this.createWeekDays()}set locale(S){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,re.Th)();const S=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=S.getMonth(),this.currentYear=S.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(S),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(S=>{switch(S.getType()){case"date":default:this.dateTemplate=S.template;break;case"decade":this.decadeTemplate=S.template;break;case"disabledDate":this.disabledDateTemplate=S.template;break;case"header":this.headerTemplate=S.template;break;case"footer":this.footerTemplate=S.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=U.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(S){return this.config.getTranslation(S)}populateYearOptions(S,he){this.yearOptions=[];for(let Ae=S;Ae<=he;Ae++)this.yearOptions.push(Ae)}createWeekDays(){this.weekDays=[];let S=this.getFirstDateOfWeek(),he=this.getTranslation(L.ws.DAY_NAMES_MIN);for(let Ae=0;Ae<7;Ae++)this.weekDays.push(he[S]),S=6==S?0:++S}monthPickerValues(){let S=[];for(let he=0;he<=11;he++)S.push(this.config.getTranslation("monthNamesShort")[he]);return S}yearPickerValues(){let S=[],he=this.currentYear-this.currentYear%10;for(let Ae=0;Ae<10;Ae++)S.push(he+Ae);return S}createMonths(S,he){this.months=this.months=[];for(let Ae=0;Ae<this.numberOfMonths;Ae++){let Qe=S+Ae,Ot=he;Qe>11&&(Qe=Qe%11-1,Ot=he+1),this.months.push(this.createMonth(Qe,Ot))}}getWeekNumber(S){let he=new Date(S.getTime());he.setDate(he.getDate()+4-(he.getDay()||7));let Ae=he.getTime();return he.setMonth(0),he.setDate(1),Math.floor(Math.round((Ae-he.getTime())/864e5)/7)+1}createMonth(S,he){let Ae=[],Qe=this.getFirstDayOfMonthIndex(S,he),Ot=this.getDaysCountInMonth(S,he),Kt=this.getDaysCountInPrevMonth(S,he),en=1,Xe=new Date,wt=[],ee=Math.ceil((Ot+Qe)/7);for(let Ve=0;Ve<ee;Ve++){let ct=[];if(0==Ve){for(let sn=Kt-Qe+1;sn<=Kt;sn++){let $n=this.getPreviousMonthAndYear(S,he);ct.push({day:sn,month:$n.month,year:$n.year,otherMonth:!0,today:this.isToday(Xe,sn,$n.month,$n.year),selectable:this.isSelectable(sn,$n.month,$n.year,!0)})}let Ct=7-ct.length;for(let sn=0;sn<Ct;sn++)ct.push({day:en,month:S,year:he,today:this.isToday(Xe,en,S,he),selectable:this.isSelectable(en,S,he,!1)}),en++}else for(let Ct=0;Ct<7;Ct++){if(en>Ot){let sn=this.getNextMonthAndYear(S,he);ct.push({day:en-Ot,month:sn.month,year:sn.year,otherMonth:!0,today:this.isToday(Xe,en-Ot,sn.month,sn.year),selectable:this.isSelectable(en-Ot,sn.month,sn.year,!0)})}else ct.push({day:en,month:S,year:he,today:this.isToday(Xe,en,S,he),selectable:this.isSelectable(en,S,he,!1)});en++}this.showWeek&&wt.push(this.getWeekNumber(new Date(ct[0].year,ct[0].month,ct[0].day))),Ae.push(ct)}return{month:S,year:he,dates:Ae,weekNumbers:wt}}initTime(S){this.pm=S.getHours()>11,this.showTime?(this.currentMinute=S.getMinutes(),this.currentSecond=S.getSeconds(),this.setCurrentHourPM(S.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(S){this.disabled?S.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(S){this.disabled?S.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let S=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-S,this.yearOptions[this.yearOptions.length-1]-S)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let S=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+S,this.yearOptions[this.yearOptions.length-1]+S)}}switchToMonthView(S){this.setCurrentView("month"),S.preventDefault()}switchToYearView(S){this.setCurrentView("year"),S.preventDefault()}onDateSelect(S,he){!this.disabled&&he.selectable?(this.isMultipleSelection()&&this.isSelected(he)?(this.value=this.value.filter((Ae,Qe)=>!this.isDateEquals(Ae,he)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(he)&&this.selectDate(he),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{S.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),S.preventDefault()):S.preventDefault()}shouldSelectDate(S){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(S,he){"month"===this.view?this.onDateSelect(S,{year:this.currentYear,month:he,day:1,selectable:!0}):(this.currentMonth=he,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(S,he){"year"===this.view?this.onDateSelect(S,{year:he,month:0,day:1,selectable:!0}):(this.currentYear=he,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let S="";if(this.value)if(this.isSingleSelection())S=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let he=0;he<this.value.length;he++)S+=this.formatDateTime(this.value[he]),he!==this.value.length-1&&(S+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let Ae=this.value[1];S=this.formatDateTime(this.value[0]),Ae&&(S+=" "+this.rangeSeparator+" "+this.formatDateTime(Ae))}this.inputFieldValue=S,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(S){let he=this.keepInvalid?S:null;return this.isValidDate(S)&&(this.timeOnly?he=this.formatTime(S):(he=this.formatDate(S,this.getDateFormat()),this.showTime&&(he+=" "+this.formatTime(S)))),he}setCurrentHourPM(S){"12"==this.hourFormat?(this.pm=S>11,this.currentHour=S>=12?12==S?12:S-12:0==S?12:S):this.currentHour=S}setCurrentView(S){this.currentView=S,this.cd.detectChanges(),this.alignOverlay()}selectDate(S){let he=new Date(S.year,S.month,S.day);if(this.showTime&&(he.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),he.setMinutes(this.currentMinute),he.setSeconds(this.currentSecond)),this.minDate&&this.minDate>he&&(he=this.minDate,this.setCurrentHourPM(he.getHours()),this.currentMinute=he.getMinutes(),this.currentSecond=he.getSeconds()),this.maxDate&&this.maxDate<he&&(he=this.maxDate,this.setCurrentHourPM(he.getHours()),this.currentMinute=he.getMinutes(),this.currentSecond=he.getSeconds()),this.isSingleSelection())this.updateModel(he);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,he]:[he]);else if(this.isRangeSelection())if(this.value&&this.value.length){let Ae=this.value[0],Qe=this.value[1];!Qe&&he.getTime()>=Ae.getTime()?Qe=he:(Ae=he,Qe=null),this.updateModel([Ae,Qe])}else this.updateModel([he,null]);this.onSelect.emit(he)}updateModel(S){if(this.value=S,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let he=null;this.value&&(he=this.value.map(Ae=>this.formatDateTime(Ae))),this.onModelChange(he)}}getFirstDayOfMonthIndex(S,he){let Ae=new Date;Ae.setDate(1),Ae.setMonth(S),Ae.setFullYear(he);let Qe=Ae.getDay()+this.getSundayIndex();return Qe>=7?Qe-7:Qe}getDaysCountInMonth(S,he){return 32-this.daylightSavingAdjust(new Date(he,S,32)).getDate()}getDaysCountInPrevMonth(S,he){let Ae=this.getPreviousMonthAndYear(S,he);return this.getDaysCountInMonth(Ae.month,Ae.year)}getPreviousMonthAndYear(S,he){let Ae,Qe;return 0===S?(Ae=11,Qe=he-1):(Ae=S-1,Qe=he),{month:Ae,year:Qe}}getNextMonthAndYear(S,he){let Ae,Qe;return 11===S?(Ae=0,Qe=he+1):(Ae=S+1,Qe=he),{month:Ae,year:Qe}}getSundayIndex(){let S=this.getFirstDateOfWeek();return S>0?7-S:0}isSelected(S){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,S);if(this.isMultipleSelection()){let he=!1;for(let Ae of this.value)if(he=this.isDateEquals(Ae,S),he)break;return he}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],S)||this.isDateEquals(this.value[1],S)||this.isDateBetween(this.value[0],this.value[1],S):this.isDateEquals(this.value[0],S):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(S){if(this.isComparable()&&!this.isMultipleSelection()){const[he,Ae]=this.isRangeSelection()?this.value:[this.value,this.value],Qe=new Date(this.currentYear,S,1);return Qe>=he&&Qe<=(null!=Ae?Ae:he)}return!1}isMonthDisabled(S){return!this.isSelectable(1,S,this.currentYear,!1)}isYearSelected(S){if(this.isComparable()){let he=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&he.getFullYear()===S}return!1}isDateEquals(S,he){return!!(S&&S instanceof Date)&&S.getDate()===he.day&&S.getMonth()===he.month&&S.getFullYear()===he.year}isDateBetween(S,he,Ae){if(S&&he){let Ot=new Date(Ae.year,Ae.month,Ae.day);return S.getTime()<=Ot.getTime()&&he.getTime()>=Ot.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(S,he,Ae,Qe){return S.getDate()===he&&S.getMonth()===Ae&&S.getFullYear()===Qe}isSelectable(S,he,Ae,Qe){let Ot=!0,Kt=!0,en=!0,Xe=!0;return!(Qe&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>Ae||this.minDate.getFullYear()===Ae&&(this.minDate.getMonth()>he||this.minDate.getMonth()===he&&this.minDate.getDate()>S))&&(Ot=!1),this.maxDate&&(this.maxDate.getFullYear()<Ae||this.maxDate.getFullYear()===Ae&&(this.maxDate.getMonth()<he||this.maxDate.getMonth()===he&&this.maxDate.getDate()<S))&&(Kt=!1),this.disabledDates&&(en=!this.isDateDisabled(S,he,Ae)),this.disabledDays&&(Xe=!this.isDayDisabled(S,he,Ae)),Ot&&Kt&&en&&Xe)}isDateDisabled(S,he,Ae){if(this.disabledDates)for(let Qe of this.disabledDates)if(Qe.getFullYear()===Ae&&Qe.getMonth()===he&&Qe.getDate()===S)return!0;return!1}isDayDisabled(S,he,Ae){if(this.disabledDays){let Ot=new Date(Ae,he,S).getDay();return-1!==this.disabledDays.indexOf(Ot)}return!1}onInputFocus(S){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(S)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(S){this.focus=!1,this.onBlur.emit(S),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(S,he){this.overlayVisible?this.hideOverlay():(he.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(S){this.overlayService.add({originalEvent:S,target:this.el.nativeElement})}getMonthName(S){return this.config.getTranslation("monthNames")[S]}getYear(S){return"month"===this.currentView?this.currentYear:S.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(S){this.navigationState={backward:!0,button:!0},this.navBackward(S)}onNextButtonClick(S){this.navigationState={backward:!1,button:!0},this.navForward(S)}onContainerButtonKeydown(S){switch(S.which){case 9:this.inline||this.trapFocus(S);break;case 27:this.overlayVisible=!1,S.preventDefault()}}onInputKeydown(S){this.isKeydown=!0,40===S.keyCode&&this.contentViewChild?this.trapFocus(S):27===S.keyCode||13===S.keyCode?this.overlayVisible&&(this.overlayVisible=!1,S.preventDefault()):9===S.keyCode&&this.contentViewChild&&(U.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(he=>he.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(S,he,Ae){const Qe=S.currentTarget,Ot=Qe.parentElement;switch(S.which){case 40:{Qe.tabIndex="-1";let Kt=U.p.index(Ot),en=Ot.parentElement.nextElementSibling;en?U.p.hasClass(en.children[Kt].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(S)):(en.children[Kt].children[0].tabIndex="0",en.children[Kt].children[0].focus()):(this.navigationState={backward:!1},this.navForward(S)),S.preventDefault();break}case 38:{Qe.tabIndex="-1";let Kt=U.p.index(Ot),en=Ot.parentElement.previousElementSibling;if(en){let Xe=en.children[Kt].children[0];U.p.hasClass(Xe,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(S)):(Xe.tabIndex="0",Xe.focus())}else this.navigationState={backward:!0},this.navBackward(S);S.preventDefault();break}case 37:{Qe.tabIndex="-1";let Kt=Ot.previousElementSibling;if(Kt){let en=Kt.children[0];U.p.hasClass(en,"p-disabled")||U.p.hasClass(en.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,Ae):(en.tabIndex="0",en.focus())}else this.navigateToMonth(!0,Ae);S.preventDefault();break}case 39:{Qe.tabIndex="-1";let Kt=Ot.nextElementSibling;if(Kt){let en=Kt.children[0];U.p.hasClass(en,"p-disabled")?this.navigateToMonth(!1,Ae):(en.tabIndex="0",en.focus())}else this.navigateToMonth(!1,Ae);S.preventDefault();break}case 13:case 32:this.onDateSelect(S,he),S.preventDefault();break;case 27:this.overlayVisible=!1,S.preventDefault();break;case 9:this.inline||this.trapFocus(S)}}onMonthCellKeydown(S,he){const Ae=S.currentTarget;switch(S.which){case 38:case 40:{Ae.tabIndex="-1";var Qe=Ae.parentElement.children,Ot=U.p.index(Ae);let Kt=Qe[40===S.which?Ot+3:Ot-3];Kt&&(Kt.tabIndex="0",Kt.focus()),S.preventDefault();break}case 37:{Ae.tabIndex="-1";let Kt=Ae.previousElementSibling;Kt?(Kt.tabIndex="0",Kt.focus()):(this.navigationState={backward:!0},this.navBackward(S)),S.preventDefault();break}case 39:{Ae.tabIndex="-1";let Kt=Ae.nextElementSibling;Kt?(Kt.tabIndex="0",Kt.focus()):(this.navigationState={backward:!1},this.navForward(S)),S.preventDefault();break}case 13:this.onMonthSelect(S,he),S.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,S.preventDefault();break;case 9:this.inline||this.trapFocus(S)}}onYearCellKeydown(S,he){const Ae=S.currentTarget;switch(S.which){case 38:case 40:{Ae.tabIndex="-1";var Qe=Ae.parentElement.children,Ot=U.p.index(Ae);let Kt=Qe[40===S.which?Ot+2:Ot-2];Kt&&(Kt.tabIndex="0",Kt.focus()),S.preventDefault();break}case 37:{Ae.tabIndex="-1";let Kt=Ae.previousElementSibling;Kt?(Kt.tabIndex="0",Kt.focus()):(this.navigationState={backward:!0},this.navBackward(S)),S.preventDefault();break}case 39:{Ae.tabIndex="-1";let Kt=Ae.nextElementSibling;Kt?(Kt.tabIndex="0",Kt.focus()):(this.navigationState={backward:!1},this.navForward(S)),S.preventDefault();break}case 13:case 32:this.onYearSelect(S,he),S.preventDefault();break;case 27:this.overlayVisible=!1,S.preventDefault();break;case 9:this.trapFocus(S)}}navigateToMonth(S,he){if(S)if(1===this.numberOfMonths||0===he)this.navigationState={backward:!0},this.navBackward(event);else{let Qe=U.p.find(this.contentViewChild.nativeElement.children[he-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),Ot=Qe[Qe.length-1];Ot.tabIndex="0",Ot.focus()}else if(1===this.numberOfMonths||he===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let Qe=U.p.findSingle(this.contentViewChild.nativeElement.children[he+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");Qe.tabIndex="0",Qe.focus()}}updateFocus(){let S;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?U.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():U.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let he;he=U.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),he&&he.length>0&&(S=he[he.length-1])}else S=U.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");S&&(S.tabIndex="0",S.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){var S;const he=null===(S=this.contentViewChild)||void 0===S?void 0:S.nativeElement;let Ae;if("month"===this.currentView){let Qe=U.p.find(he,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),Ot=U.p.findSingle(he,".p-monthpicker .p-monthpicker-month.p-highlight");Qe.forEach(Kt=>Kt.tabIndex=-1),Ae=Ot||Qe[0],0===Qe.length&&U.p.find(he,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(en=>en.tabIndex=-1)}else if("year"===this.currentView){let Qe=U.p.find(he,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),Ot=U.p.findSingle(he,".p-yearpicker .p-yearpicker-year.p-highlight");Qe.forEach(Kt=>Kt.tabIndex=-1),Ae=Ot||Qe[0],0===Qe.length&&U.p.find(he,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(en=>en.tabIndex=-1)}else if(Ae=U.p.findSingle(he,"span.p-highlight"),!Ae){let Qe=U.p.findSingle(he,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");Ae=Qe||U.p.findSingle(he,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}Ae&&(Ae.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{Ae.focus()},1),this.preventFocus=!1)}trapFocus(S){let he=U.p.getFocusableElements(this.contentViewChild.nativeElement);if(he&&he.length>0)if(he[0].ownerDocument.activeElement){let Ae=he.indexOf(he[0].ownerDocument.activeElement);if(S.shiftKey)if(-1==Ae||0===Ae)if(this.focusTrap)he[he.length-1].focus();else{if(-1===Ae)return this.hideOverlay();if(0===Ae)return}else he[Ae-1].focus();else if(-1==Ae||Ae===he.length-1){if(!this.focusTrap&&-1!=Ae)return this.hideOverlay();he[0].focus()}else he[Ae+1].focus()}else he[0].focus();S.preventDefault()}onMonthDropdownChange(S){this.currentMonth=parseInt(S),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(S){this.currentYear=parseInt(S),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(S,he,Ae,Qe){let Ot=this.value;const Kt=this.convertTo24Hour(S,Qe);this.isRangeSelection()&&(Ot=this.value[1]||this.value[0]),this.isMultipleSelection()&&(Ot=this.value[this.value.length-1]);const en=Ot?Ot.toDateString():null;return!(this.minDate&&en&&this.minDate.toDateString()===en&&(this.minDate.getHours()>Kt||this.minDate.getHours()===Kt&&(this.minDate.getMinutes()>he||this.minDate.getMinutes()===he&&this.minDate.getSeconds()>Ae))||this.maxDate&&en&&this.maxDate.toDateString()===en&&(this.maxDate.getHours()<Kt||this.maxDate.getHours()===Kt&&(this.maxDate.getMinutes()<he||this.maxDate.getMinutes()===he&&this.maxDate.getSeconds()<Ae)))}incrementHour(S){let Ae=this.currentHour+this.stepHour,Qe=this.pm;"24"==this.hourFormat?Ae=Ae>=24?Ae-24:Ae:"12"==this.hourFormat&&(this.currentHour<12&&Ae>11&&(Qe=!this.pm),Ae=Ae>=13?Ae-12:Ae),this.validateTime(Ae,this.currentMinute,this.currentSecond,Qe)&&(this.currentHour=Ae,this.pm=Qe),S.preventDefault()}onTimePickerElementMouseDown(S,he,Ae){this.disabled||(this.repeat(S,null,he,Ae),S.preventDefault())}onTimePickerElementMouseUp(S){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(S,he,Ae,Qe){let Ot=he||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(S,100,Ae,Qe),this.cd.markForCheck()},Ot),Ae){case 0:1===Qe?this.incrementHour(S):this.decrementHour(S);break;case 1:1===Qe?this.incrementMinute(S):this.decrementMinute(S);break;case 2:1===Qe?this.incrementSecond(S):this.decrementSecond(S)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(S){let he=this.currentHour-this.stepHour,Ae=this.pm;"24"==this.hourFormat?he=he<0?24+he:he:"12"==this.hourFormat&&(12===this.currentHour&&(Ae=!this.pm),he=he<=0?12+he:he),this.validateTime(he,this.currentMinute,this.currentSecond,Ae)&&(this.currentHour=he,this.pm=Ae),S.preventDefault()}incrementMinute(S){let he=this.currentMinute+this.stepMinute;he=he>59?he-60:he,this.validateTime(this.currentHour,he,this.currentSecond,this.pm)&&(this.currentMinute=he),S.preventDefault()}decrementMinute(S){let he=this.currentMinute-this.stepMinute;he=he<0?60+he:he,this.validateTime(this.currentHour,he,this.currentSecond,this.pm)&&(this.currentMinute=he),S.preventDefault()}incrementSecond(S){let he=this.currentSecond+this.stepSecond;he=he>59?he-60:he,this.validateTime(this.currentHour,this.currentMinute,he,this.pm)&&(this.currentSecond=he),S.preventDefault()}decrementSecond(S){let he=this.currentSecond-this.stepSecond;he=he<0?60+he:he,this.validateTime(this.currentHour,this.currentMinute,he,this.pm)&&(this.currentSecond=he),S.preventDefault()}updateTime(){let S=this.value;this.isRangeSelection()&&(S=this.value[1]||this.value[0]),this.isMultipleSelection()&&(S=this.value[this.value.length-1]),S=S?new Date(S.getTime()):new Date,S.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),S.setMinutes(this.currentMinute),S.setSeconds(this.currentSecond),this.isRangeSelection()&&(S=this.value[1]?[this.value[0],S]:[S,null]),this.isMultipleSelection()&&(S=[...this.value.slice(0,-1),S]),this.updateModel(S),this.onSelect.emit(S),this.updateInputfield()}toggleAMPM(S){const he=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,he)&&(this.pm=he,this.updateTime()),S.preventDefault()}onUserInput(S){if(!this.isKeydown)return;this.isKeydown=!1;let he=S.target.value;try{let Ae=this.parseValueFromString(he);this.isValidSelection(Ae)&&(this.updateModel(Ae),this.updateUI())}catch(Ae){this.updateModel(this.keepInvalid?he:null)}this.filled=null!=he&&he.length,this.onInput.emit(S)}isValidSelection(S){let he=!0;return this.isSingleSelection()?this.isSelectable(S.getDate(),S.getMonth(),S.getFullYear(),!1)||(he=!1):S.every(Ae=>this.isSelectable(Ae.getDate(),Ae.getMonth(),Ae.getFullYear(),!1))&&this.isRangeSelection()&&(he=S.length>1&&S[1]>S[0]),he}parseValueFromString(S){if(!S||0===S.trim().length)return null;let he;if(this.isSingleSelection())he=this.parseDateTime(S);else if(this.isMultipleSelection()){let Ae=S.split(this.multipleSeparator);he=[];for(let Qe of Ae)he.push(this.parseDateTime(Qe.trim()))}else if(this.isRangeSelection()){let Ae=S.split(" "+this.rangeSeparator+" ");he=[];for(let Qe=0;Qe<Ae.length;Qe++)he[Qe]=this.parseDateTime(Ae[Qe].trim())}return he}parseDateTime(S){let he,Ae=S.split(" ");if(this.timeOnly)he=new Date,this.populateTime(he,Ae[0],Ae[1]);else{const Qe=this.getDateFormat();if(this.showTime){let Ot="12"==this.hourFormat?Ae.pop():null,Kt=Ae.pop();he=this.parseDate(Ae.join(" "),Qe),this.populateTime(he,Kt,Ot)}else he=this.parseDate(S,Qe)}return he}populateTime(S,he,Ae){if("12"==this.hourFormat&&!Ae)throw"Invalid Time";this.pm="PM"===Ae||"pm"===Ae;let Qe=this.parseTime(he);S.setHours(Qe.hour),S.setMinutes(Qe.minute),S.setSeconds(Qe.second)}isValidDate(S){return S instanceof Date&&re.gb.isNotEmpty(S)}updateUI(){let S=this.value;Array.isArray(S)&&(S=S[0]);let he=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:S&&this.isValidDate(S)?S:new Date;this.currentMonth=he.getMonth(),this.currentYear=he.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(he.getHours()),this.currentMinute=he.getMinutes(),this.currentSecond=he.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(S){switch(S.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=S.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?re.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):re.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(S));break;case"void":this.onOverlayHide(),this.onClose.emit(S)}}onOverlayAnimationDone(S){switch(S.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&re.P9.clear(S.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):U.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=U.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=U.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=U.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",U.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):U.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(S){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(S.style.zIndex)-1),U.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",Ae=>{this.disableModality()}),document.body.appendChild(this.mask),U.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(U.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let he,S=document.body.children;for(let Ae=0;Ae<S.length;Ae++)if(U.p.hasClass(S[Ae],"p-datepicker-mask-scrollblocker")){he=!0;break}he||U.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(S){if(this.value=S,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(he){this.keepInvalid&&(this.value=S)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(S){this.onModelChange=S}registerOnTouched(S){this.onModelTouched=S}setDisabledState(S){this.disabled=S,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(L.ws.FIRST_DAY_OF_WEEK)}formatDate(S,he){if(!S)return"";let Ae;const Qe=wt=>{const ee=Ae+1<he.length&&he.charAt(Ae+1)===wt;return ee&&Ae++,ee},Ot=(wt,ee,Ve)=>{let ct=""+ee;if(Qe(wt))for(;ct.length<Ve;)ct="0"+ct;return ct},Kt=(wt,ee,Ve,ct)=>Qe(wt)?ct[ee]:Ve[ee];let en="",Xe=!1;if(S)for(Ae=0;Ae<he.length;Ae++)if(Xe)"'"!==he.charAt(Ae)||Qe("'")?en+=he.charAt(Ae):Xe=!1;else switch(he.charAt(Ae)){case"d":en+=Ot("d",S.getDate(),2);break;case"D":en+=Kt("D",S.getDay(),this.getTranslation(L.ws.DAY_NAMES_SHORT),this.getTranslation(L.ws.DAY_NAMES));break;case"o":en+=Ot("o",Math.round((new Date(S.getFullYear(),S.getMonth(),S.getDate()).getTime()-new Date(S.getFullYear(),0,0).getTime())/864e5),3);break;case"m":en+=Ot("m",S.getMonth()+1,2);break;case"M":en+=Kt("M",S.getMonth(),this.getTranslation(L.ws.MONTH_NAMES_SHORT),this.getTranslation(L.ws.MONTH_NAMES));break;case"y":en+=Qe("y")?S.getFullYear():(S.getFullYear()%100<10?"0":"")+S.getFullYear()%100;break;case"@":en+=S.getTime();break;case"!":en+=1e4*S.getTime()+this.ticksTo1970;break;case"'":Qe("'")?en+="'":Xe=!0;break;default:en+=he.charAt(Ae)}return en}formatTime(S){if(!S)return"";let he="",Ae=S.getHours(),Qe=S.getMinutes(),Ot=S.getSeconds();return"12"==this.hourFormat&&Ae>11&&12!=Ae&&(Ae-=12),he+="12"==this.hourFormat&&0===Ae?12:Ae<10?"0"+Ae:Ae,he+=":",he+=Qe<10?"0"+Qe:Qe,this.showSeconds&&(he+=":",he+=Ot<10?"0"+Ot:Ot),"12"==this.hourFormat&&(he+=S.getHours()>11?" PM":" AM"),he}parseTime(S){let he=S.split(":");if(he.length!==(this.showSeconds?3:2))throw"Invalid time";let Qe=parseInt(he[0]),Ot=parseInt(he[1]),Kt=this.showSeconds?parseInt(he[2]):null;if(isNaN(Qe)||isNaN(Ot)||Qe>23||Ot>59||"12"==this.hourFormat&&Qe>12||this.showSeconds&&(isNaN(Kt)||Kt>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==Qe&&this.pm?Qe+=12:!this.pm&&12===Qe&&(Qe-=12)),{hour:Qe,minute:Ot,second:Kt}}parseDate(S,he){if(null==he||null==S)throw"Invalid arguments";if(""===(S="object"==typeof S?S.toString():S+""))return null;let Ae,Qe,Ot,Ct,Kt=0,en="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),Xe=-1,wt=-1,ee=-1,Ve=-1,ct=!1,sn=rn=>{let $e=Ae+1<he.length&&he.charAt(Ae+1)===rn;return $e&&Ae++,$e},$n=rn=>{let $e=sn(rn),yt="@"===rn?14:"!"===rn?20:"y"===rn&&$e?4:"o"===rn?3:2,$t=new RegExp("^\\d{"+("y"===rn?yt:1)+","+yt+"}"),xn=S.substring(Kt).match($t);if(!xn)throw"Missing number at position "+Kt;return Kt+=xn[0].length,parseInt(xn[0],10)},Wi=(rn,$e,yt)=>{let Yt=-1,$t=sn(rn)?yt:$e,xn=[];for(let Pn=0;Pn<$t.length;Pn++)xn.push([Pn,$t[Pn]]);xn.sort((Pn,di)=>-(Pn[1].length-di[1].length));for(let Pn=0;Pn<xn.length;Pn++){let di=xn[Pn][1];if(S.substr(Kt,di.length).toLowerCase()===di.toLowerCase()){Yt=xn[Pn][0],Kt+=di.length;break}}if(-1!==Yt)return Yt+1;throw"Unknown name at position "+Kt},kt=()=>{if(S.charAt(Kt)!==he.charAt(Ae))throw"Unexpected literal at position "+Kt;Kt++};for("month"===this.view&&(ee=1),Ae=0;Ae<he.length;Ae++)if(ct)"'"!==he.charAt(Ae)||sn("'")?kt():ct=!1;else switch(he.charAt(Ae)){case"d":ee=$n("d");break;case"D":Wi("D",this.getTranslation(L.ws.DAY_NAMES_SHORT),this.getTranslation(L.ws.DAY_NAMES));break;case"o":Ve=$n("o");break;case"m":wt=$n("m");break;case"M":wt=Wi("M",this.getTranslation(L.ws.MONTH_NAMES_SHORT),this.getTranslation(L.ws.MONTH_NAMES));break;case"y":Xe=$n("y");break;case"@":Ct=new Date($n("@")),Xe=Ct.getFullYear(),wt=Ct.getMonth()+1,ee=Ct.getDate();break;case"!":Ct=new Date(($n("!")-this.ticksTo1970)/1e4),Xe=Ct.getFullYear(),wt=Ct.getMonth()+1,ee=Ct.getDate();break;case"'":sn("'")?kt():ct=!0;break;default:kt()}if(Kt<S.length&&(Ot=S.substr(Kt),!/^\s+/.test(Ot)))throw"Extra/unparsed characters found in date: "+Ot;if(-1===Xe?Xe=(new Date).getFullYear():Xe<100&&(Xe+=(new Date).getFullYear()-(new Date).getFullYear()%100+(Xe<=en?0:-100)),Ve>-1)for(wt=1,ee=Ve;Qe=this.getDaysCountInMonth(Xe,wt-1),!(ee<=Qe);)wt++,ee-=Qe;if("year"===this.view&&(wt=-1===wt?1:wt,ee=-1===ee?1:ee),Ct=this.daylightSavingAdjust(new Date(Xe,wt-1,ee)),Ct.getFullYear()!==Xe||Ct.getMonth()+1!==wt||Ct.getDate()!==ee)throw"Invalid date";return Ct}daylightSavingAdjust(S){return S?(S.setHours(S.getHours()>12?S.getHours()+2:0),S):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(S){let he=new Date,Ae={day:he.getDate(),month:he.getMonth(),year:he.getFullYear(),otherMonth:he.getMonth()!==this.currentMonth||he.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(S,Ae),this.onTodayClick.emit(S)}onClearButtonClick(S){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(S)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let S="";if(this.responsiveOptions){let he=[...this.responsiveOptions].filter(Ae=>!(!Ae.breakpoint||!Ae.numMonths)).sort((Ae,Qe)=>-1*Ae.breakpoint.localeCompare(Qe.breakpoint,void 0,{numeric:!0}));for(let Ae=0;Ae<he.length;Ae++){let{breakpoint:Qe,numMonths:Ot}=he[Ae],Kt=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${Ot}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let en=Ot;en<this.numberOfMonths;en++)Kt+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${en+1}) {\n                                display: none !important;\n                            }\n                        `;S+=`\n                        @media screen and (max-width: ${Qe}) {\n                            ${Kt}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=S}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",he=>{this.isOutsideClicked(he)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(he),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new U.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(S){return!(this.el.nativeElement.isSameNode(S.target)||this.isNavIconClicked(S)||this.el.nativeElement.contains(S.target)||this.overlay&&this.overlay.contains(S.target))}isNavIconClicked(S){return U.p.hasClass(S.target,"p-datepicker-prev")||U.p.hasClass(S.target,"p-datepicker-prev-icon")||U.p.hasClass(S.target,"p-datepicker-next")||U.p.hasClass(S.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!U.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&re.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return Be.\u0275fac=function(S){return new(S||Be)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(g.R0b),g.Y36(L.b4),g.Y36(L.F0))},Be.\u0275cmp=g.Xpm({type:Be,selectors:[["p-calendar"]],contentQueries:function(S,he,Ae){if(1&S&&g.Suo(Ae,L.jx,4),2&S){let Qe;g.iGM(Qe=g.CRH())&&(he.templates=Qe)}},viewQuery:function(S,he){if(1&S&&(g.Gf(K,5),g.Gf(pe,5),g.Gf(ue,5)),2&S){let Ae;g.iGM(Ae=g.CRH())&&(he.containerViewChild=Ae.first),g.iGM(Ae=g.CRH())&&(he.inputfieldViewChild=Ae.first),g.iGM(Ae=g.CRH())&&(he.content=Ae.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(S,he){2&S&&g.ekj("p-inputwrapper-filled",he.filled)("p-inputwrapper-focus",he.focus)("p-calendar-clearable",he.showClear&&!he.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[g._Bn([Kn])],ngContentSelectors:oi,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(S,he){1&S&&(g.F$t(tn),g.TgZ(0,"span",0,1),g.YNc(2,ke,4,17,"ng-template",2),g.YNc(3,Ft,9,28,"div",3),g.qZA()),2&S&&(g.Tol(he.styleClass),g.Q6J("ngClass",g.l5B(6,Vn,he.showIcon,he.timeOnly,he.disabled,he.focus))("ngStyle",he.style),g.xp6(2),g.Q6J("ngIf",!he.inline),g.xp6(1),g.Q6J("ngIf",he.inline||he.overlayVisible))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,I.Hq,le.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.SB)("visibleTouchUI",(0,e.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,e.eR)("void => visible",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)("{{showTransitionParams}}",(0,e.oB)({opacity:1,transform:"*"}))]),(0,e.eR)("visible => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0}))]),(0,e.eR)("void => visibleTouchUI",[(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,e.jt)("{{showTransitionParams}}")]),(0,e.eR)("visibleTouchUI => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),Be})(),ft=(()=>{class Be{}return Be.\u0275fac=function(S){return new(S||Be)},Be.\u0275mod=g.oAB({type:Be}),Be.\u0275inj=g.cJS({imports:[s.ez,I.hJ,L.m8,le.T,I.hJ,L.m8]}),Be})()},1208:(Ht,et,_)=>{_.d(et,{XZ:()=>pe,nD:()=>ue});var e=_(5e3),s=_(9808),g=_(2382),H=_(5921);const L=["cb"],I=function(Oe,Te,ke){return{"p-checkbox-label":!0,"p-checkbox-label-active":Oe,"p-disabled":Te,"p-checkbox-label-focus":ke}};function U(Oe,Te){if(1&Oe){const ke=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(Fe){e.CHM(ke);const Y=e.oxw(),Pe=e.MAs(3);return e.KtG(Y.onClick(Fe,Pe,!0))}),e._uU(1),e.qZA()}if(2&Oe){const ke=e.oxw();e.Tol(ke.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,I,ke.checked(),ke.disabled,ke.focused)),e.uIk("for",ke.inputId),e.xp6(1),e.Oqu(ke.label)}}const le=function(Oe,Te,ke){return{"p-checkbox p-component":!0,"p-checkbox-checked":Oe,"p-checkbox-disabled":Te,"p-checkbox-focused":ke}},re=function(Oe,Te,ke){return{"p-highlight":Oe,"p-disabled":Te,"p-focus":ke}},K={provide:g.JU,useExisting:(0,e.Gpc)(()=>pe),multi:!0};let pe=(()=>{class Oe{constructor(ke){this.cd=ke,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(ke,we,Fe){ke.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(ke),Fe&&we.focus())}updateModel(ke){let we;this.binary?(we=this.checked()?this.falseValue:this.trueValue,this.model=we,this.onModelChange(we)):(we=this.checked()?this.model.filter(Fe=>!H.gb.equals(Fe,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(we),this.model=we,this.formControl&&this.formControl.setValue(we)),this.onChange.emit({checked:we,originalEvent:ke})}handleChange(ke){this.readonly||this.updateModel(ke)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(ke){this.model=ke,this.cd.markForCheck()}registerOnChange(ke){this.onModelChange=ke}registerOnTouched(ke){this.onModelTouched=ke}setDisabledState(ke){this.disabled=ke,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:H.gb.contains(this.value,this.model)}}return Oe.\u0275fac=function(ke){return new(ke||Oe)(e.Y36(e.sBO))},Oe.\u0275cmp=e.Xpm({type:Oe,selectors:[["p-checkbox"]],viewQuery:function(ke,we){if(1&ke&&e.Gf(L,5),2&ke){let Fe;e.iGM(Fe=e.CRH())&&(we.inputViewChild=Fe.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([K])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(ke,we){if(1&ke){const Fe=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return we.onFocus()})("blur",function(){return we.onBlur()})("change",function(Pe){return we.handleChange(Pe)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(Pe){e.CHM(Fe);const de=e.MAs(3);return e.KtG(we.onClick(Pe,de,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,U,2,9,"label",6)}2&ke&&(e.Tol(we.styleClass),e.Q6J("ngStyle",we.style)("ngClass",e.kEZ(18,le,we.checked(),we.disabled,we.focused)),e.xp6(2),e.Q6J("readonly",we.readonly)("value",we.value)("checked",we.checked())("disabled",we.disabled),e.uIk("id",we.inputId)("name",we.name)("tabindex",we.tabindex)("aria-labelledby",we.ariaLabelledBy)("aria-label",we.ariaLabel)("aria-checked",we.checked())("required",we.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,re,we.checked(),we.disabled,we.focused)),e.xp6(1),e.Q6J("ngClass",we.checked()?we.checkboxIcon:null),e.xp6(1),e.Q6J("ngIf",we.label))},dependencies:[s.mk,s.O5,s.PC],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),Oe})(),ue=(()=>{class Oe{}return Oe.\u0275fac=function(ke){return new(ke||Oe)},Oe.\u0275mod=e.oAB({type:Oe}),Oe.\u0275inj=e.cJS({imports:[s.ez]}),Oe})()},6888:(Ht,et,_)=>{_.d(et,{e4:()=>ye,zH:()=>O});var e=_(5e3),s=_(1777),g=_(9808),H=_(5730),L=_(2382),I=_(5921),U=_(9783);const le=["container"],re=["input"],K=["colorSelector"],pe=["colorHandle"],ue=["hue"],Oe=["hueHandle"],Te=function(Ce){return{"p-disabled":Ce}};function ke(Ce,ve){if(1&Ce){const V=e.EpF();e.TgZ(0,"input",4,5),e.NdJ("focus",function(){e.CHM(V);const F=e.oxw();return e.KtG(F.onInputFocus())})("click",function(){e.CHM(V);const F=e.oxw();return e.KtG(F.onInputClick())})("keydown",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onInputKeydown(F))}),e.qZA()}if(2&Ce){const V=e.oxw();e.Udp("background-color",V.inputBgColor),e.Q6J("ngClass",e.VKq(6,Te,V.disabled))("disabled",V.disabled),e.uIk("id",V.inputId)("tabindex",V.tabindex)}}const we=function(Ce,ve){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":Ce,"p-disabled":ve}},Fe=function(Ce,ve){return{showTransitionParams:Ce,hideTransitionParams:ve}},Y=function(Ce){return{value:"visible",params:Ce}};function Pe(Ce,ve){if(1&Ce){const V=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onOverlayClick(F))})("@overlayAnimation.start",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onOverlayAnimationStart(F))})("@overlayAnimation.done",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onOverlayAnimationEnd(F))}),e.TgZ(1,"div",7)(2,"div",8,9),e.NdJ("touchstart",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onColorTouchStart(F))})("touchmove",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onMove(F))})("touchend",function(){e.CHM(V);const F=e.oxw();return e.KtG(F.onDragEnd())})("mousedown",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onColorMousedown(F))}),e.TgZ(4,"div",10),e._UZ(5,"div",11,12),e.qZA()(),e.TgZ(7,"div",13,14),e.NdJ("mousedown",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onHueMousedown(F))})("touchstart",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onHueTouchStart(F))})("touchmove",function(F){e.CHM(V);const q=e.oxw();return e.KtG(q.onMove(F))})("touchend",function(){e.CHM(V);const F=e.oxw();return e.KtG(F.onDragEnd())}),e._UZ(9,"div",15,16),e.qZA()()()}if(2&Ce){const V=e.oxw();e.Q6J("ngClass",e.WLB(3,we,!V.inline,V.disabled))("@overlayAnimation",e.VKq(9,Y,e.WLB(6,Fe,V.showTransitionOptions,V.hideTransitionOptions)))("@.disabled",!0===V.inline)}}const de=function(Ce,ve){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":Ce,"p-colorpicker-dragging":ve}},N={provide:L.JU,useExisting:(0,e.Gpc)(()=>O),multi:!0};let O=(()=>{class Ce{constructor(V,w,F,q,_e){this.el=V,this.renderer=w,this.cd=F,this.config=q,this.overlayService=_e,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.value={h:0,s:100,b:100},this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set colorSelector(V){this.colorSelectorViewChild=V}set colorHandle(V){this.colorHandleViewChild=V}set hue(V){this.hueViewChild=V}set hueHandle(V){this.hueHandleViewChild=V}onHueMousedown(V){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(V))}onHueTouchStart(V){this.disabled||(this.hueDragging=!0,this.pickHue(V,V.changedTouches[0]))}onColorTouchStart(V){this.disabled||(this.colorDragging=!0,this.pickColor(V,V.changedTouches[0]))}pickHue(V,w){let F=w?w.pageY:V.pageY,q=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,F-q)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:V,value:this.getValueToUpdate()})}onColorMousedown(V){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(V))}onMove(V){this.colorDragging&&(this.pickColor(V,V.changedTouches[0]),V.preventDefault()),this.hueDragging&&(this.pickHue(V,V.changedTouches[0]),V.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(V,w){let F=w?w.pageX:V.pageX,q=w?w.pageY:V.pageY,_e=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),De=_e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),Le=_e.left+document.body.scrollLeft,Me=Math.floor(100*Math.max(0,Math.min(150,F-Le))/150),ht=Math.floor(100*(150-Math.max(0,Math.min(150,q-De)))/150);this.value=this.validateHSB({h:this.value.h,s:Me,b:ht}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:V,value:this.getValueToUpdate()})}getValueToUpdate(){let V;switch(this.format){case"hex":V="#"+this.HSBtoHEX(this.value);break;case"rgb":V=this.HSBtoRGB(this.value);break;case"hsb":V=this.value}return V}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(V){if(V)switch(this.format){case"hex":this.value=this.HEXtoHSB(V);break;case"rgb":this.value=this.RGBtoHSB(V);break;case"hsb":this.value=V}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const V={s:100,b:100};V.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(V)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(V){switch(V.toState){case"visible":this.inline||(this.overlay=V.element,this.appendOverlay(),this.autoZIndex&&I.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(V){switch(V.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&I.P9.clear(V.element),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):H.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?H.p.absolutePosition(this.overlay,this.inputViewChild.nativeElement):H.p.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(V){switch(V.which){case 32:this.togglePanel(),V.preventDefault();break;case 27:case 9:this.hide()}}onOverlayClick(V){this.overlayService.add({originalEvent:V,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(V){this.onModelChange=V}registerOnTouched(V){this.onModelTouched=V}setDisabledState(V){this.disabled=V,this.cd.markForCheck()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousemove",w=>{this.colorDragging&&this.pickColor(w),this.hueDragging&&this.pickHue(w)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!H.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new H.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(V){return{h:Math.min(360,Math.max(0,V.h)),s:Math.min(100,Math.max(0,V.s)),b:Math.min(100,Math.max(0,V.b))}}validateRGB(V){return{r:Math.min(255,Math.max(0,V.r)),g:Math.min(255,Math.max(0,V.g)),b:Math.min(255,Math.max(0,V.b))}}validateHEX(V){var w=6-V.length;if(w>0){for(var F=[],q=0;q<w;q++)F.push("0");F.push(V),V=F.join("")}return V}HEXtoRGB(V){let w=parseInt(V.indexOf("#")>-1?V.substring(1):V,16);return{r:w>>16,g:(65280&w)>>8,b:255&w}}HEXtoHSB(V){return this.RGBtoHSB(this.HEXtoRGB(V))}RGBtoHSB(V){var w={h:0,s:0,b:0},F=Math.min(V.r,V.g,V.b),q=Math.max(V.r,V.g,V.b),_e=q-F;return w.b=q,w.s=0!=q?255*_e/q:0,w.h=0!=w.s?V.r==q?(V.g-V.b)/_e:V.g==q?2+(V.b-V.r)/_e:4+(V.r-V.g)/_e:-1,w.h*=60,w.h<0&&(w.h+=360),w.s*=100/255,w.b*=100/255,w}HSBtoRGB(V){var w={r:null,g:null,b:null};let F=V.h,q=255*V.s/100,_e=255*V.b/100;if(0==q)w={r:_e,g:_e,b:_e};else{let De=_e,Le=(255-q)*_e/255,Me=F%60*(De-Le)/60;360==F&&(F=0),F<60?(w.r=De,w.b=Le,w.g=Le+Me):F<120?(w.g=De,w.b=Le,w.r=De-Me):F<180?(w.g=De,w.r=Le,w.b=Le+Me):F<240?(w.b=De,w.r=Le,w.g=De-Me):F<300?(w.b=De,w.g=Le,w.r=Le+Me):F<360?(w.r=De,w.g=Le,w.b=De-Me):(w.r=0,w.g=0,w.b=0)}return{r:Math.round(w.r),g:Math.round(w.g),b:Math.round(w.b)}}RGBtoHEX(V){var w=[V.r.toString(16),V.g.toString(16),V.b.toString(16)];for(var F in w)1==w[F].length&&(w[F]="0"+w[F]);return w.join("")}HSBtoHEX(V){return this.RGBtoHEX(this.HSBtoRGB(V))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&I.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return Ce.\u0275fac=function(V){return new(V||Ce)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(U.b4),e.Y36(U.F0))},Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["p-colorPicker"]],viewQuery:function(V,w){if(1&V&&(e.Gf(le,5),e.Gf(re,5),e.Gf(K,5),e.Gf(pe,5),e.Gf(ue,5),e.Gf(Oe,5)),2&V){let F;e.iGM(F=e.CRH())&&(w.containerViewChild=F.first),e.iGM(F=e.CRH())&&(w.inputViewChild=F.first),e.iGM(F=e.CRH())&&(w.colorSelector=F.first),e.iGM(F=e.CRH())&&(w.colorHandle=F.first),e.iGM(F=e.CRH())&&(w.hue=F.first),e.iGM(F=e.CRH())&&(w.hueHandle=F.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:"inline",format:"format",appendTo:"appendTo",disabled:"disabled",tabindex:"tabindex",inputId:"inputId",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[e._Bn([N])],decls:4,vars:9,consts:[[3,"ngStyle","ngClass"],["container",""],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(V,w){1&V&&(e.TgZ(0,"div",0,1),e.YNc(2,ke,2,8,"input",2),e.YNc(3,Pe,11,11,"div",3),e.qZA()),2&V&&(e.Tol(w.styleClass),e.Q6J("ngStyle",w.style)("ngClass",e.WLB(6,de,!w.inline,w.colorDragging||w.hueDragging)),e.xp6(2),e.Q6J("ngIf",!w.inline),e.xp6(1),e.Q6J("ngIf",w.inline||w.overlayVisible))},dependencies:[g.mk,g.O5,g.PC],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,s.X$)("overlayAnimation",[(0,s.eR)(":enter",[(0,s.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,s.jt)("{{showTransitionParams}}")]),(0,s.eR)(":leave",[(0,s.jt)("{{hideTransitionParams}}",(0,s.oB)({opacity:0}))])])]},changeDetection:0}),Ce})(),ye=(()=>{class Ce{}return Ce.\u0275fac=function(V){return new(V||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({imports:[g.ez]}),Ce})()},9114:(Ht,et,_)=>{_.d(et,{D:()=>Le,Q:()=>De});var e=_(5e3),s=_(1777),g=_(9808),H=_(5730),L=_(9783),I=_(845),U=_(5921),le=_(5787);const re=["content"];function K(Me,ht){1&Me&&e.GkF(0)}function pe(Me,ht){if(1&Me&&(e.TgZ(0,"div",10),e.YNc(1,K,1,0,"ng-container",11),e.qZA()),2&Me){const at=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",at.headerTemplate)}}function ue(Me,ht){if(1&Me&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&Me){const at=e.oxw(4);e.xp6(1),e.Oqu(at.option("header"))}}const Oe=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Te(Me,ht){if(1&Me){const at=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function($){e.CHM(at);const B=e.oxw(4);return e.KtG(B.close($))})("keydown.enter",function($){e.CHM(at);const B=e.oxw(4);return e.KtG(B.close($))}),e._UZ(1,"span",17),e.qZA()}2&Me&&e.Q6J("ngClass",e.DdM(1,Oe))}function ke(Me,ht){if(1&Me&&(e.TgZ(0,"div",10),e.YNc(1,ue,2,1,"span",12),e.TgZ(2,"div",13),e.YNc(3,Te,2,2,"button",14),e.qZA()()),2&Me){const at=e.oxw(3);e.xp6(1),e.Q6J("ngIf",at.option("header")),e.xp6(2),e.Q6J("ngIf",at.closable)}}function we(Me,ht){if(1&Me&&e._UZ(0,"i",1),2&Me){const at=e.oxw(3);e.Tol(at.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function Fe(Me,ht){1&Me&&e.GkF(0)}function Y(Me,ht){if(1&Me&&(e.TgZ(0,"div",18),e.Hsn(1),e.YNc(2,Fe,1,0,"ng-container",11),e.qZA()),2&Me){const at=e.oxw(3);e.xp6(2),e.Q6J("ngTemplateOutlet",at.footerTemplate)}}function Pe(Me,ht){if(1&Me){const at=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(at);const $=e.oxw(4);return e.KtG($.reject())}),e.qZA()}if(2&Me){const at=e.oxw(4);e.Tol(at.option("rejectButtonStyleClass")),e.Q6J("icon",at.option("rejectIcon"))("label",at.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",at.rejectAriaLabel)}}function de(Me,ht){if(1&Me){const at=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(at);const $=e.oxw(4);return e.KtG($.accept())}),e.qZA()}if(2&Me){const at=e.oxw(4);e.Tol(at.option("acceptButtonStyleClass")),e.Q6J("icon",at.option("acceptIcon"))("label",at.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",at.acceptAriaLabel)}}function N(Me,ht){if(1&Me&&(e.TgZ(0,"div",18),e.YNc(1,Pe,1,6,"button",19),e.YNc(2,de,1,6,"button",19),e.qZA()),2&Me){const at=e.oxw(3);e.xp6(1),e.Q6J("ngIf",at.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",at.option("acceptVisible"))}}const O=function(Me){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":Me}},ye=function(Me,ht){return{transform:Me,transition:ht}},Ce=function(Me){return{value:"visible",params:Me}};function ve(Me,ht){if(1&Me){const at=e.EpF();e.TgZ(0,"div",3),e.NdJ("@animation.start",function($){e.CHM(at);const B=e.oxw(2);return e.KtG(B.onAnimationStart($))})("@animation.done",function($){e.CHM(at);const B=e.oxw(2);return e.KtG(B.onAnimationEnd($))}),e.YNc(1,pe,2,1,"div",4),e.YNc(2,ke,4,2,"div",4),e.TgZ(3,"div",5,6),e.YNc(5,we,1,3,"i",7),e._UZ(6,"span",8),e.qZA(),e.YNc(7,Y,3,1,"div",9),e.YNc(8,N,3,2,"div",9),e.qZA()}if(2&Me){const at=e.oxw(2);e.Tol(at.styleClass),e.Q6J("ngClass",e.VKq(11,O,at.rtl))("ngStyle",at.style)("@animation",e.VKq(16,Ce,e.WLB(13,ye,at.transformOptions,at.transitionOptions))),e.xp6(1),e.Q6J("ngIf",at.headerTemplate),e.xp6(1),e.Q6J("ngIf",!at.headerTemplate),e.xp6(3),e.Q6J("ngIf",at.option("icon")),e.xp6(1),e.Q6J("innerHTML",at.option("message"),e.oJD),e.xp6(1),e.Q6J("ngIf",at.footer||at.footerTemplate),e.xp6(1),e.Q6J("ngIf",!at.footer&&!at.footerTemplate)}}function V(Me,ht){if(1&Me&&(e.TgZ(0,"div",1),e.YNc(1,ve,9,18,"div",2),e.qZA()),2&Me){const at=e.oxw();e.Tol(at.maskStyleClass),e.Q6J("ngClass",at.getMaskClass()),e.xp6(1),e.Q6J("ngIf",at.visible)}}const w=[[["p-footer"]]],F=["p-footer"],q=(0,s.oQ)([(0,s.oB)({transform:"{{transform}}",opacity:0}),(0,s.jt)("{{transition}}",(0,s.oB)({transform:"none",opacity:1}))]),_e=(0,s.oQ)([(0,s.jt)("{{transition}}",(0,s.oB)({transform:"{{transform}}",opacity:0}))]);let De=(()=>{class Me{constructor(at,Se,$,B,j,Ue){this.el=at,this.renderer=Se,this.confirmationService=$,this.zone=B,this.cd=j,this.config=Ue,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new e.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=(0,U.Th)(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(fe=>{fe?fe.key===this.key&&(this.confirmation=fe,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(at){this._visible=at,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(at){switch(this._position=at,at){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(at=>{switch(at.getType()){case"header":this.headerTemplate=at.template;break;case"footer":this.footerTemplate=at.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(at){const Se=this.confirmationOptions||this;if(Se.hasOwnProperty(at))return Se[at]}onAnimationStart(at){if("visible"===at.toState){this.container=at.element,this.wrapper=this.container.parentElement,this.contentContainer=H.p.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const Se=this.getElementToFocus();Se&&Se.focus()}}onAnimationEnd(at){"void"===at.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return H.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return H.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return H.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):H.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&H.p.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",at=>{this.wrapper&&this.wrapper.isSameNode(at.target)&&this.close(at)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&H.p.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let at="";for(let Se in this.breakpoints)at+=`\n                    @media screen and (max-width: ${Se}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[Se]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=at}}close(at){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(L.wB.CANCEL),this.hide(L.wB.CANCEL),at.preventDefault()}hide(at){this.onHide.emit(at),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(U.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let at={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return at[this.getPositionClass().toString()]=!0,at}getPositionClass(){const Se=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find($=>$===this.position);return Se?`p-dialog-${Se}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Se=>{if(27==Se.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===U.P9.get(this.container)&&this.visible&&this.close(Se),9===Se.which&&this.focusTrap){Se.preventDefault();let $=H.p.getFocusableElements(this.container);if($&&$.length>0)if($[0].ownerDocument.activeElement){let B=$.indexOf($[0].ownerDocument.activeElement);Se.shiftKey?-1==B||0===B?$[$.length-1].focus():$[B-1].focus():-1==B||B===$.length-1?$[0].focus():$[B+1].focus()}else $[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&U.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(L.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(L.wB.REJECT),this.hide(L.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(L.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(L.ws.REJECT)}}return Me.\u0275fac=function(at){return new(at||Me)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(L.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(L.b4))},Me.\u0275cmp=e.Xpm({type:Me,selectors:[["p-confirmDialog"]],contentQueries:function(at,Se,$){if(1&at&&(e.Suo($,L.$_,5),e.Suo($,L.jx,4)),2&at){let B;e.iGM(B=e.CRH())&&(Se.footer=B.first),e.iGM(B=e.CRH())&&(Se.templates=B)}},viewQuery:function(at,Se){if(1&at&&e.Gf(re,5),2&at){let $;e.iGM($=e.CRH())&&(Se.contentViewChild=$.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:F,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(at,Se){1&at&&(e.F$t(w),e.YNc(0,V,2,4,"div",0)),2&at&&e.Q6J("ngIf",Se.maskVisible)},dependencies:[g.mk,g.O5,g.tP,g.PC,I.Hq,le.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,s.X$)("animation",[(0,s.eR)("void => visible",[(0,s._7)(q)]),(0,s.eR)("visible => void",[(0,s._7)(_e)])])]},changeDetection:0}),Me})(),Le=(()=>{class Me{}return Me.\u0275fac=function(at){return new(at||Me)},Me.\u0275mod=e.oAB({type:Me}),Me.\u0275inj=e.cJS({imports:[g.ez,I.hJ,le.T,I.hJ,L.m8]}),Me})()},7307:(Ht,et,_)=>{_.d(et,{P:()=>Te,n:()=>ke});var e=_(5e3),s=_(9808),g=_(9783),H=_(845),L=_(5921),I=_(1777),U=_(5730);function le(we,Fe){if(1&we&&e._UZ(0,"i",8),2&we){const Y=e.oxw(2);e.Tol(Y.confirmation.icon),e.Q6J("ngClass","p-confirm-popup-icon")}}function re(we,Fe){if(1&we){const Y=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(Y);const de=e.oxw(2);return e.KtG(de.reject())}),e.qZA()}if(2&we){const Y=e.oxw(2);e.Tol(Y.confirmation.rejectButtonStyleClass||"p-button-text"),e.Q6J("icon",Y.confirmation.rejectIcon)("label",Y.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),e.uIk("aria-label",Y.rejectButtonLabel)}}function K(we,Fe){if(1&we){const Y=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(Y);const de=e.oxw(2);return e.KtG(de.accept())}),e.qZA()}if(2&we){const Y=e.oxw(2);e.Tol(Y.confirmation.acceptButtonStyleClass),e.Q6J("icon",Y.confirmation.acceptIcon)("label",Y.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),e.uIk("aria-label",Y.acceptButtonLabel)}}const pe=function(we,Fe){return{showTransitionParams:we,hideTransitionParams:Fe}},ue=function(we){return{value:"open",params:we}};function Oe(we,Fe){if(1&we){const Y=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(de){e.CHM(Y);const N=e.oxw();return e.KtG(N.onOverlayClick(de))})("@animation.start",function(de){e.CHM(Y);const N=e.oxw();return e.KtG(N.onAnimationStart(de))})("@animation.done",function(de){e.CHM(Y);const N=e.oxw();return e.KtG(N.onAnimationEnd(de))}),e.TgZ(1,"div",2,3),e.YNc(3,le,1,3,"i",4),e.TgZ(4,"span",5),e._uU(5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,re,1,6,"button",7),e.YNc(8,K,1,6,"button",7),e.qZA()()}if(2&we){const Y=e.oxw();e.Tol(Y.styleClass),e.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",Y.style)("@animation",e.VKq(12,ue,e.WLB(9,pe,Y.showTransitionOptions,Y.hideTransitionOptions))),e.xp6(3),e.Q6J("ngIf",Y.confirmation.icon),e.xp6(2),e.Oqu(Y.confirmation.message),e.xp6(2),e.Q6J("ngIf",!1!==Y.confirmation.rejectVisible),e.xp6(1),e.Q6J("ngIf",!1!==Y.confirmation.acceptVisible)}}let Te=(()=>{class we{constructor(Y,Pe,de,N,O,ye){this.el=Y,this.confirmationService=Pe,this.renderer=de,this.cd=N,this.config=O,this.overlayService=ye,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(Ce=>{Ce?Ce.key===this.key&&(this.confirmation=Ce,this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(Y){this._visible=Y,this.cd.markForCheck()}onAnimationStart(Y){if("open"===Y.toState){this.container=Y.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const Pe=this.getElementToFocus();Pe&&Pe.focus()}}onAnimationEnd(Y){"void"===Y.toState&&this.onContainerDestroy()}getElementToFocus(){switch(this.defaultFocus){case"accept":return U.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return U.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&L.P9.set("overlay",this.container,this.config.zIndex.overlay),U.p.absolutePosition(this.container,this.confirmation.target);const Y=U.p.getOffset(this.container),Pe=U.p.getOffset(this.confirmation.target);let de=0;Y.left<Pe.left&&(de=Pe.left-Y.left),this.container.style.setProperty("--overlayArrowLeft",`${de}px`),Y.top<Pe.top&&U.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(Y){this.overlayService.add({originalEvent:Y,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let Y=U.p.isIOS()?"touchstart":"click";const Pe=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(Pe,Y,de=>{let N=this.confirmation.target;this.container!==de.target&&!this.container.contains(de.target)&&N!==de.target&&!N.contains(de.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!U.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new U.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&L.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(g.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(g.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return we.\u0275fac=function(Y){return new(Y||we)(e.Y36(e.SBq),e.Y36(g.YP),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(g.b4),e.Y36(g.F0))},we.\u0275cmp=e.Xpm({type:we,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(Y,Pe){1&Y&&e.YNc(0,Oe,9,14,"div",0),2&Y&&e.Q6J("ngIf",Pe.visible)},dependencies:[s.mk,s.O5,s.PC,H.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}\n'],encapsulation:2,data:{animation:[(0,I.X$)("animation",[(0,I.SB)("void",(0,I.oB)({transform:"scaleY(0.8)",opacity:0})),(0,I.SB)("open",(0,I.oB)({transform:"translateY(0)",opacity:1})),(0,I.eR)("void => open",(0,I.jt)("{{showTransitionParams}}")),(0,I.eR)("open => void",(0,I.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),we})(),ke=(()=>{class we{}return we.\u0275fac=function(Y){return new(Y||we)},we.\u0275mod=e.oAB({type:we}),we.\u0275inj=e.cJS({imports:[s.ez,H.hJ]}),we})()},5315:(Ht,et,_)=>{_.d(et,{V:()=>at,S:()=>Se});var e=_(5e3),s=_(1777),g=_(9808),H=_(5730),L=_(9783);let I=(()=>{class ${constructor(j){this.el=j}onkeydown(j){if(!0!==this.pFocusTrapDisabled){j.preventDefault();let Ue=H.p.getFocusableElements(this.el.nativeElement);if(Ue&&Ue.length>0)if(Ue[0].ownerDocument.activeElement){let fe=Ue.indexOf(Ue[0].ownerDocument.activeElement);j.shiftKey?-1==fe||0===fe?Ue[Ue.length-1].focus():Ue[fe-1].focus():-1==fe||fe===Ue.length-1?Ue[0].focus():Ue[fe+1].focus()}else Ue[0].focus()}}}return $.\u0275fac=function(j){return new(j||$)(e.Y36(e.SBq))},$.\u0275dir=e.lG2({type:$,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(j,Ue){1&j&&e.NdJ("keydown.tab",function(qe){return Ue.onkeydown(qe)})("keydown.shift.tab",function(qe){return Ue.onkeydown(qe)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),$})(),U=(()=>{class ${}return $.\u0275fac=function(j){return new(j||$)},$.\u0275mod=e.oAB({type:$}),$.\u0275inj=e.cJS({imports:[g.ez]}),$})();var le=_(5787),re=_(5921);const K=["titlebar"],pe=["content"],ue=["footer"];function Oe($,B){if(1&$){const j=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(fe){e.CHM(j);const qe=e.oxw(3);return e.KtG(qe.initResize(fe))}),e.qZA()}}function Te($,B){if(1&$&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&$){const j=e.oxw(4);e.uIk("id",j.id+"-label"),e.xp6(1),e.Oqu(j.header)}}function ke($,B){if(1&$&&(e.TgZ(0,"span",18),e.Hsn(1,1),e.qZA()),2&$){const j=e.oxw(4);e.uIk("id",j.id+"-label")}}function we($,B){1&$&&e.GkF(0)}const Fe=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function Y($,B){if(1&$){const j=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(j);const fe=e.oxw(4);return e.KtG(fe.maximize())})("keydown.enter",function(){e.CHM(j);const fe=e.oxw(4);return e.KtG(fe.maximize())}),e._UZ(1,"span",20),e.qZA()}if(2&$){const j=e.oxw(4);e.Q6J("ngClass",e.DdM(2,Fe)),e.xp6(1),e.Q6J("ngClass",j.maximized?j.minimizeIcon:j.maximizeIcon)}}const Pe=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function de($,B){if(1&$){const j=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(fe){e.CHM(j);const qe=e.oxw(4);return e.KtG(qe.close(fe))})("keydown.enter",function(fe){e.CHM(j);const qe=e.oxw(4);return e.KtG(qe.close(fe))}),e._UZ(1,"span",22),e.qZA()}if(2&$){const j=e.oxw(4);e.Q6J("ngClass",e.DdM(4,Pe)),e.uIk("aria-label",j.closeAriaLabel)("tabindex",j.closeTabindex),e.xp6(1),e.Q6J("ngClass",j.closeIcon)}}function N($,B){if(1&$){const j=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(fe){e.CHM(j);const qe=e.oxw(3);return e.KtG(qe.initDrag(fe))}),e.YNc(2,Te,2,2,"span",14),e.YNc(3,ke,2,1,"span",14),e.YNc(4,we,1,0,"ng-container",9),e.TgZ(5,"div",15),e.YNc(6,Y,2,3,"button",16),e.YNc(7,de,2,5,"button",17),e.qZA()()}if(2&$){const j=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!j.headerFacet&&!j.headerTemplate),e.xp6(1),e.Q6J("ngIf",j.headerFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",j.headerTemplate),e.xp6(2),e.Q6J("ngIf",j.maximizable),e.xp6(1),e.Q6J("ngIf",j.closable)}}function O($,B){1&$&&e.GkF(0)}function ye($,B){1&$&&e.GkF(0)}function Ce($,B){if(1&$&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.YNc(3,ye,1,0,"ng-container",9),e.qZA()),2&$){const j=e.oxw(3);e.xp6(3),e.Q6J("ngTemplateOutlet",j.footerTemplate)}}const ve=function($,B,j,Ue){return{"p-dialog p-component":!0,"p-dialog-rtl":$,"p-dialog-draggable":B,"p-dialog-resizable":j,"p-dialog-maximized":Ue}},V=function($,B){return{transform:$,transition:B}},w=function($){return{value:"visible",params:$}};function F($,B){if(1&$){const j=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(fe){e.CHM(j);const qe=e.oxw(2);return e.KtG(qe.onAnimationStart(fe))})("@animation.done",function(fe){e.CHM(j);const qe=e.oxw(2);return e.KtG(qe.onAnimationEnd(fe))}),e.YNc(2,Oe,1,0,"div",5),e.YNc(3,N,8,5,"div",6),e.TgZ(4,"div",7,8),e.Hsn(6),e.YNc(7,O,1,0,"ng-container",9),e.qZA(),e.YNc(8,Ce,4,1,"div",10),e.qZA()}if(2&$){const j=e.oxw(2);e.Tol(j.styleClass),e.Q6J("ngClass",e.l5B(15,ve,j.rtl,j.draggable,j.resizable,j.maximized))("ngStyle",j.style)("pFocusTrapDisabled",!1===j.focusTrap)("@animation",e.VKq(23,w,e.WLB(20,V,j.transformOptions,j.transitionOptions))),e.uIk("aria-labelledby",j.id+"-label"),e.xp6(2),e.Q6J("ngIf",j.resizable),e.xp6(1),e.Q6J("ngIf",j.showHeader),e.xp6(1),e.Tol(j.contentStyleClass),e.Q6J("ngClass","p-dialog-content")("ngStyle",j.contentStyle),e.xp6(3),e.Q6J("ngTemplateOutlet",j.contentTemplate),e.xp6(1),e.Q6J("ngIf",j.footerFacet||j.footerTemplate)}}const q=function($,B,j,Ue,fe,qe,je,mt,bt,st){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":$,"p-dialog-mask-scrollblocker":B,"p-dialog-left":j,"p-dialog-right":Ue,"p-dialog-top":fe,"p-dialog-top-left":qe,"p-dialog-top-right":je,"p-dialog-bottom":mt,"p-dialog-bottom-left":bt,"p-dialog-bottom-right":st}};function _e($,B){if(1&$&&(e.TgZ(0,"div",1),e.YNc(1,F,9,25,"div",2),e.qZA()),2&$){const j=e.oxw();e.Tol(j.maskStyleClass),e.Q6J("ngClass",e.rFY(4,q,[j.modal,j.modal||j.blockScroll,"left"===j.position,"right"===j.position,"top"===j.position,"topleft"===j.position||"top-left"===j.position,"topright"===j.position||"top-right"===j.position,"bottom"===j.position,"bottomleft"===j.position||"bottom-left"===j.position,"bottomright"===j.position||"bottom-right"===j.position])),e.xp6(1),e.Q6J("ngIf",j.visible)}}const De=["*",[["p-header"]],[["p-footer"]]],Le=["*","p-header","p-footer"],Me=(0,s.oQ)([(0,s.oB)({transform:"{{transform}}",opacity:0}),(0,s.jt)("{{transition}}")]),ht=(0,s.oQ)([(0,s.jt)("{{transition}}",(0,s.oB)({transform:"{{transform}}",opacity:0}))]);let at=(()=>{class ${constructor(j,Ue,fe,qe,je){this.el=j,this.renderer=Ue,this.zone=fe,this.cd=qe,this.config=je,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new e.vpe,this.onHide=new e.vpe,this.visibleChange=new e.vpe,this.onResizeInit=new e.vpe,this.onResizeEnd=new e.vpe,this.onDragEnd=new e.vpe,this.onMaximize=new e.vpe,this.id=(0,re.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(j){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(j){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(j){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(j){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(j=>{switch(j.getType()){case"header":this.headerTemplate=j.template;break;case"content":default:this.contentTemplate=j.template;break;case"footer":this.footerTemplate=j.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(j){this._visible=j,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(j){j&&(this._style=Object.assign({},j),this.originalStyle=j)}get position(){return this._position}set position(j){switch(this._position=j,j){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let j=H.p.findSingle(this.container,"[autofocus]");j&&this.zone.runOutsideAngular(()=>{setTimeout(()=>j.focus(),5)})}close(j){this.visibleChange.emit(!1),j.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",j=>{this.wrapper&&this.wrapper.isSameNode(j.target)&&this.close(j)})),this.modal&&H.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&H.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?H.p.addClass(document.body,"p-overflow-hidden"):H.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(re.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let j="";for(let Ue in this.breakpoints)j+=`\n                    @media screen and (max-width: ${Ue}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[Ue]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=j}}initDrag(j){H.p.hasClass(j.target,"p-dialog-header-icon")||H.p.hasClass(j.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=j.pageX,this.lastPageY=j.pageY,this.container.style.margin="0",H.p.addClass(document.body,"p-unselectable-text"))}onKeydown(j){if(this.focusTrap&&9===j.which){j.preventDefault();let Ue=H.p.getFocusableElements(this.container);if(Ue&&Ue.length>0)if(Ue[0].ownerDocument.activeElement){let fe=Ue.indexOf(Ue[0].ownerDocument.activeElement);j.shiftKey?-1==fe||0===fe?Ue[Ue.length-1].focus():Ue[fe-1].focus():-1==fe||fe===Ue.length-1?Ue[0].focus():Ue[fe+1].focus()}else Ue[0].focus()}}onDrag(j){if(this.dragging){let Ue=H.p.getOuterWidth(this.container),fe=H.p.getOuterHeight(this.container),qe=j.pageX-this.lastPageX,je=j.pageY-this.lastPageY,mt=this.container.getBoundingClientRect(),bt=mt.left+qe,st=mt.top+je,xt=H.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(bt>=this.minX&&bt+Ue<xt.width&&(this._style.left=bt+"px",this.lastPageX=j.pageX,this.container.style.left=bt+"px"),st>=this.minY&&st+fe<xt.height&&(this._style.top=st+"px",this.lastPageY=j.pageY,this.container.style.top=st+"px")):(this.lastPageX=j.pageX,this.container.style.left=bt+"px",this.lastPageY=j.pageY,this.container.style.top=st+"px")}}endDrag(j){this.dragging&&(this.dragging=!1,H.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(j))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(j){this.resizable&&(this.resizing=!0,this.lastPageX=j.pageX,this.lastPageY=j.pageY,H.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(j))}onResize(j){if(this.resizing){let Ue=j.pageX-this.lastPageX,fe=j.pageY-this.lastPageY,qe=H.p.getOuterWidth(this.container),je=H.p.getOuterHeight(this.container),mt=H.p.getOuterHeight(this.contentViewChild.nativeElement),bt=qe+Ue,st=je+fe,xt=this.container.style.minWidth,ot=this.container.style.minHeight,We=this.container.getBoundingClientRect(),hn=H.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(bt+=Ue,st+=fe),(!xt||bt>parseInt(xt))&&We.left+bt<hn.width&&(this._style.width=bt+"px",this.container.style.width=this._style.width),(!ot||st>parseInt(ot))&&We.top+st<hn.height&&(this.contentViewChild.nativeElement.style.height=mt+st-je+"px",this._style.height&&(this._style.height=st+"px",this.container.style.height=this._style.height)),this.lastPageX=j.pageX,this.lastPageY=j.pageY}}resizeEnd(j){this.resizing&&(this.resizing=!1,H.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(j))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Ue=>{27==Ue.which&&this.close(Ue)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):H.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(j){switch(j.toState){case"visible":this.container=j.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&H.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&H.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(j){switch(j.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(H.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&H.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&re.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return $.\u0275fac=function(j){return new(j||$)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(L.b4))},$.\u0275cmp=e.Xpm({type:$,selectors:[["p-dialog"]],contentQueries:function(j,Ue,fe){if(1&j&&(e.Suo(fe,L.h4,5),e.Suo(fe,L.$_,5),e.Suo(fe,L.jx,4)),2&j){let qe;e.iGM(qe=e.CRH())&&(Ue.headerFacet=qe.first),e.iGM(qe=e.CRH())&&(Ue.footerFacet=qe.first),e.iGM(qe=e.CRH())&&(Ue.templates=qe)}},viewQuery:function(j,Ue){if(1&j&&(e.Gf(K,5),e.Gf(pe,5),e.Gf(ue,5)),2&j){let fe;e.iGM(fe=e.CRH())&&(Ue.headerViewChild=fe.first),e.iGM(fe=e.CRH())&&(Ue.contentViewChild=fe.first),e.iGM(fe=e.CRH())&&(Ue.footerViewChild=fe.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:Le,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(j,Ue){1&j&&(e.F$t(De),e.YNc(0,_e,2,15,"div",0)),2&j&&e.Q6J("ngIf",Ue.maskVisible)},dependencies:[g.mk,g.O5,g.tP,g.PC,I,le.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,s.X$)("animation",[(0,s.eR)("void => visible",[(0,s._7)(Me)]),(0,s.eR)("visible => void",[(0,s._7)(ht)])])]},changeDetection:0}),$})(),Se=(()=>{class ${}return $.\u0275fac=function(j){return new(j||$)},$.\u0275mod=e.oAB({type:$}),$.\u0275inj=e.cJS({imports:[g.ez,U,le.T,L.m8]}),$})()},5730:(Ht,et,_)=>{_.d(et,{V:()=>s,p:()=>e});let e=(()=>{class g{static addClass(L,I){L&&I&&(L.classList?L.classList.add(I):L.className+=" "+I)}static addMultipleClasses(L,I){if(L&&I)if(L.classList){let U=I.trim().split(" ");for(let le=0;le<U.length;le++)L.classList.add(U[le])}else{let U=I.split(" ");for(let le=0;le<U.length;le++)L.className+=" "+U[le]}}static removeClass(L,I){L&&I&&(L.classList?L.classList.remove(I):L.className=L.className.replace(new RegExp("(^|\\b)"+I.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(L,I){return!(!L||!I)&&(L.classList?L.classList.contains(I):new RegExp("(^| )"+I+"( |$)","gi").test(L.className))}static siblings(L){return Array.prototype.filter.call(L.parentNode.children,function(I){return I!==L})}static find(L,I){return Array.from(L.querySelectorAll(I))}static findSingle(L,I){return L?L.querySelector(I):null}static index(L){let I=L.parentNode.childNodes,U=0;for(var le=0;le<I.length;le++){if(I[le]==L)return U;1==I[le].nodeType&&U++}return-1}static indexWithinGroup(L,I){let U=L.parentNode?L.parentNode.childNodes:[],le=0;for(var re=0;re<U.length;re++){if(U[re]==L)return le;U[re].attributes&&U[re].attributes[I]&&1==U[re].nodeType&&le++}return-1}static appendOverlay(L,I,U="self"){"self"!==U&&L&&I&&this.appendChild(L,I)}static alignOverlay(L,I,U="self",le=!0){L&&I&&(le&&(L.style.minWidth||(L.style.minWidth=g.getOuterWidth(I)+"px")),"self"===U?this.relativePosition(L,I):this.absolutePosition(L,I))}static relativePosition(L,I){const U=Y=>{if(Y)return"relative"===getComputedStyle(Y).getPropertyValue("position")?Y:U(Y.parentElement)},le=L.offsetParent?{width:L.offsetWidth,height:L.offsetHeight}:this.getHiddenElementDimensions(L),re=I.offsetHeight,K=I.getBoundingClientRect(),pe=this.getWindowScrollTop(),ue=this.getWindowScrollLeft(),Oe=this.getViewport(),Te=U(L),ke=(null==Te?void 0:Te.getBoundingClientRect())||{top:-1*pe,left:-1*ue};let we,Fe;K.top+re+le.height>Oe.height?(we=K.top-ke.top-le.height,L.style.transformOrigin="bottom",K.top+we<0&&(we=-1*K.top)):(we=re+K.top-ke.top,L.style.transformOrigin="top"),Fe=le.width>Oe.width?-1*(K.left-ke.left):K.left-ke.left+le.width>Oe.width?-1*(K.left-ke.left+le.width-Oe.width):K.left-ke.left,L.style.top=we+"px",L.style.left=Fe+"px"}static absolutePosition(L,I){const U=L.offsetParent?{width:L.offsetWidth,height:L.offsetHeight}:this.getHiddenElementDimensions(L),le=U.height,re=U.width,K=I.offsetHeight,pe=I.offsetWidth,ue=I.getBoundingClientRect(),Oe=this.getWindowScrollTop(),Te=this.getWindowScrollLeft(),ke=this.getViewport();let we,Fe;ue.top+K+le>ke.height?(we=ue.top+Oe-le,L.style.transformOrigin="bottom",we<0&&(we=Oe)):(we=K+ue.top+Oe,L.style.transformOrigin="top"),Fe=ue.left+re>ke.width?Math.max(0,ue.left+Te+pe-re):ue.left+Te,L.style.top=we+"px",L.style.left=Fe+"px"}static getParents(L,I=[]){return null===L.parentNode?I:this.getParents(L.parentNode,I.concat([L.parentNode]))}static getScrollableParents(L){let I=[];if(L){let U=this.getParents(L);const le=/(auto|scroll)/,re=K=>{let pe=window.getComputedStyle(K,null);return le.test(pe.getPropertyValue("overflow"))||le.test(pe.getPropertyValue("overflowX"))||le.test(pe.getPropertyValue("overflowY"))};for(let K of U){let pe=1===K.nodeType&&K.dataset.scrollselectors;if(pe){let ue=pe.split(",");for(let Oe of ue){let Te=this.findSingle(K,Oe);Te&&re(Te)&&I.push(Te)}}9!==K.nodeType&&re(K)&&I.push(K)}}return I}static getHiddenElementOuterHeight(L){L.style.visibility="hidden",L.style.display="block";let I=L.offsetHeight;return L.style.display="none",L.style.visibility="visible",I}static getHiddenElementOuterWidth(L){L.style.visibility="hidden",L.style.display="block";let I=L.offsetWidth;return L.style.display="none",L.style.visibility="visible",I}static getHiddenElementDimensions(L){let I={};return L.style.visibility="hidden",L.style.display="block",I.width=L.offsetWidth,I.height=L.offsetHeight,L.style.display="none",L.style.visibility="visible",I}static scrollInView(L,I){let U=getComputedStyle(L).getPropertyValue("borderTopWidth"),le=U?parseFloat(U):0,re=getComputedStyle(L).getPropertyValue("paddingTop"),K=re?parseFloat(re):0,pe=L.getBoundingClientRect(),Oe=I.getBoundingClientRect().top+document.body.scrollTop-(pe.top+document.body.scrollTop)-le-K,Te=L.scrollTop,ke=L.clientHeight,we=this.getOuterHeight(I);Oe<0?L.scrollTop=Te+Oe:Oe+we>ke&&(L.scrollTop=Te+Oe-ke+we)}static fadeIn(L,I){L.style.opacity=0;let U=+new Date,le=0,re=function(){le=+L.style.opacity.replace(",",".")+((new Date).getTime()-U)/I,L.style.opacity=le,U=+new Date,+le<1&&(window.requestAnimationFrame&&requestAnimationFrame(re)||setTimeout(re,16))};re()}static fadeOut(L,I){var U=1,K=50/I;let pe=setInterval(()=>{(U-=K)<=0&&(U=0,clearInterval(pe)),L.style.opacity=U},50)}static getWindowScrollTop(){let L=document.documentElement;return(window.pageYOffset||L.scrollTop)-(L.clientTop||0)}static getWindowScrollLeft(){let L=document.documentElement;return(window.pageXOffset||L.scrollLeft)-(L.clientLeft||0)}static matches(L,I){var U=Element.prototype;return(U.matches||U.webkitMatchesSelector||U.mozMatchesSelector||U.msMatchesSelector||function(re){return-1!==[].indexOf.call(document.querySelectorAll(re),this)}).call(L,I)}static getOuterWidth(L,I){let U=L.offsetWidth;if(I){let le=getComputedStyle(L);U+=parseFloat(le.marginLeft)+parseFloat(le.marginRight)}return U}static getHorizontalPadding(L){let I=getComputedStyle(L);return parseFloat(I.paddingLeft)+parseFloat(I.paddingRight)}static getHorizontalMargin(L){let I=getComputedStyle(L);return parseFloat(I.marginLeft)+parseFloat(I.marginRight)}static innerWidth(L){let I=L.offsetWidth,U=getComputedStyle(L);return I+=parseFloat(U.paddingLeft)+parseFloat(U.paddingRight),I}static width(L){let I=L.offsetWidth,U=getComputedStyle(L);return I-=parseFloat(U.paddingLeft)+parseFloat(U.paddingRight),I}static getInnerHeight(L){let I=L.offsetHeight,U=getComputedStyle(L);return I+=parseFloat(U.paddingTop)+parseFloat(U.paddingBottom),I}static getOuterHeight(L,I){let U=L.offsetHeight;if(I){let le=getComputedStyle(L);U+=parseFloat(le.marginTop)+parseFloat(le.marginBottom)}return U}static getHeight(L){let I=L.offsetHeight,U=getComputedStyle(L);return I-=parseFloat(U.paddingTop)+parseFloat(U.paddingBottom)+parseFloat(U.borderTopWidth)+parseFloat(U.borderBottomWidth),I}static getWidth(L){let I=L.offsetWidth,U=getComputedStyle(L);return I-=parseFloat(U.paddingLeft)+parseFloat(U.paddingRight)+parseFloat(U.borderLeftWidth)+parseFloat(U.borderRightWidth),I}static getViewport(){let L=window,I=document,U=I.documentElement,le=I.getElementsByTagName("body")[0];return{width:L.innerWidth||U.clientWidth||le.clientWidth,height:L.innerHeight||U.clientHeight||le.clientHeight}}static getOffset(L){var I=L.getBoundingClientRect();return{top:I.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:I.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(L,I){let U=L.parentNode;if(!U)throw"Can't replace element";return U.replaceChild(I,L)}static getUserAgent(){return navigator.userAgent}static isIE(){var L=window.navigator.userAgent;return L.indexOf("MSIE ")>0||(L.indexOf("Trident/")>0?(L.indexOf("rv:"),!0):L.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(L,I){if(this.isElement(I))I.appendChild(L);else{if(!I.el||!I.el.nativeElement)throw"Cannot append "+I+" to "+L;I.el.nativeElement.appendChild(L)}}static removeChild(L,I){if(this.isElement(I))I.removeChild(L);else{if(!I.el||!I.el.nativeElement)throw"Cannot remove "+L+" from "+I;I.el.nativeElement.removeChild(L)}}static removeElement(L){"remove"in Element.prototype?L.remove():L.parentNode.removeChild(L)}static isElement(L){return"object"==typeof HTMLElement?L instanceof HTMLElement:L&&"object"==typeof L&&null!==L&&1===L.nodeType&&"string"==typeof L.nodeName}static calculateScrollbarWidth(L){if(L){let I=getComputedStyle(L);return L.offsetWidth-L.clientWidth-parseFloat(I.borderLeftWidth)-parseFloat(I.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let I=document.createElement("div");I.className="p-scrollbar-measure",document.body.appendChild(I);let U=I.offsetWidth-I.clientWidth;return document.body.removeChild(I),this.calculatedScrollbarWidth=U,U}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let L=document.createElement("div");L.className="p-scrollbar-measure",document.body.appendChild(L);let I=L.offsetHeight-L.clientHeight;return document.body.removeChild(L),this.calculatedScrollbarWidth=I,I}static invokeElementMethod(L,I,U){L[I].apply(L,U)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(L){}}static getBrowser(){if(!this.browser){let L=this.resolveUserAgent();this.browser={},L.browser&&(this.browser[L.browser]=!0,this.browser.version=L.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let L=navigator.userAgent.toLowerCase(),I=/(chrome)[ \/]([\w.]+)/.exec(L)||/(webkit)[ \/]([\w.]+)/.exec(L)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(L)||/(msie) ([\w.]+)/.exec(L)||L.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(L)||[];return{browser:I[1]||"",version:I[2]||"0"}}static isInteger(L){return Number.isInteger?Number.isInteger(L):"number"==typeof L&&isFinite(L)&&Math.floor(L)===L}static isHidden(L){return!L||null===L.offsetParent}static isVisible(L){return L&&null!=L.offsetParent}static isExist(L){return null!=L&&L.nodeName&&L.parentNode}static focus(L,I){L&&document.activeElement!==L&&L.focus(I)}static getFocusableElements(L){let I=g.find(L,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),U=[];for(let le of I)"none"!=getComputedStyle(le).display&&"hidden"!=getComputedStyle(le).visibility&&U.push(le);return U}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(L,I){if(!L)return null;switch(L){case"document":return document;case"window":return window;case"@next":return null==I?void 0:I.nextElementSibling;case"@prev":return null==I?void 0:I.previousElementSibling;case"@parent":return null==I?void 0:I.parentElement;case"@grandparent":return null==I?void 0:I.parentElement.parentElement;default:const U=typeof L;if("string"===U)return document.querySelector(L);if("object"===U&&L.hasOwnProperty("nativeElement"))return this.isExist(L.nativeElement)?L.nativeElement:void 0;const re=(K=L)&&K.constructor&&K.call&&K.apply?L():L;return re&&9===re.nodeType||this.isExist(re)?re:null}var K}}return g.zindex=1e3,g.calculatedScrollbarWidth=null,g.calculatedScrollbarHeight=null,g})();class s{constructor(H,L=(()=>{})){this.element=H,this.listener=L}bindScrollListener(){this.scrollableParents=e.getScrollableParents(this.element);for(let H=0;H<this.scrollableParents.length;H++)this.scrollableParents[H].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let H=0;H<this.scrollableParents.length;H++)this.scrollableParents[H].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},4036:(Ht,et,_)=>{_.d(et,{Lt:()=>Kt,kW:()=>en});var e=_(9808),s=_(5e3),g=_(2382),H=_(9783),L=_(9618),I=_(5730),U=_(8050),le=_(5787),re=_(5871),K=_(4119),pe=_(5921);function ue(Xe,wt){if(1&Xe&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&Xe){const ee=s.oxw();s.xp6(1),s.Oqu(ee.label||"empty")}}function Oe(Xe,wt){1&Xe&&s.GkF(0)}const Te=function(Xe){return{height:Xe}},ke=function(Xe,wt){return{"p-dropdown-item":!0,"p-highlight":Xe,"p-disabled":wt}},we=function(Xe){return{$implicit:Xe}},Fe=["container"],Y=["filter"],Pe=["in"],de=["editableInput"],N=["items"],O=["scroller"],ye=["overlay"];function Ce(Xe,wt){if(1&Xe&&(s.ynx(0),s._uU(1),s.BQk()),2&Xe){const ee=s.oxw(2);s.xp6(1),s.Oqu(ee.label||"empty")}}function ve(Xe,wt){1&Xe&&s.GkF(0)}const V=function(Xe){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":Xe}};function w(Xe,wt){if(1&Xe&&(s.TgZ(0,"span",14),s.YNc(1,Ce,2,1,"ng-container",15),s.YNc(2,ve,1,0,"ng-container",16),s.qZA()),2&Xe){const ee=s.oxw();s.Q6J("ngClass",s.VKq(9,V,null==ee.label||0===ee.label.length))("pTooltip",ee.tooltip)("tooltipPosition",ee.tooltipPosition)("positionStyle",ee.tooltipPositionStyle)("tooltipStyleClass",ee.tooltipStyleClass),s.uIk("id",ee.labelId),s.xp6(1),s.Q6J("ngIf",!ee.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",ee.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,we,ee.selectedOption))}}const F=function(Xe){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":Xe}};function q(Xe,wt){if(1&Xe&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&Xe){const ee=s.oxw();s.Q6J("ngClass",s.VKq(2,F,null==ee.placeholder||0===ee.placeholder.length)),s.xp6(1),s.Oqu(ee.placeholder||"empty")}}function _e(Xe,wt){if(1&Xe){const ee=s.EpF();s.TgZ(0,"input",18,19),s.NdJ("input",function(ct){s.CHM(ee);const Ct=s.oxw();return s.KtG(Ct.onEditableInputChange(ct))})("focus",function(ct){s.CHM(ee);const Ct=s.oxw();return s.KtG(Ct.onEditableInputFocus(ct))})("blur",function(ct){s.CHM(ee);const Ct=s.oxw();return s.KtG(Ct.onInputBlur(ct))}),s.qZA()}if(2&Xe){const ee=s.oxw();s.Q6J("disabled",ee.disabled),s.uIk("maxlength",ee.maxlength)("placeholder",ee.placeholder)("aria-expanded",ee.overlayVisible)}}function De(Xe,wt){if(1&Xe){const ee=s.EpF();s.TgZ(0,"i",20),s.NdJ("click",function(ct){s.CHM(ee);const Ct=s.oxw();return s.KtG(Ct.clear(ct))}),s.qZA()}}function Le(Xe,wt){1&Xe&&s.GkF(0)}function Me(Xe,wt){1&Xe&&s.GkF(0)}const ht=function(Xe){return{options:Xe}};function at(Xe,wt){if(1&Xe&&(s.ynx(0),s.YNc(1,Me,1,0,"ng-container",16),s.BQk()),2&Xe){const ee=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",ee.filterTemplate)("ngTemplateOutletContext",s.VKq(2,ht,ee.filterOptions))}}function Se(Xe,wt){if(1&Xe){const ee=s.EpF();s.TgZ(0,"div",30)(1,"input",31,32),s.NdJ("keydown.enter",function(ct){return ct.preventDefault()})("keydown",function(ct){s.CHM(ee);const Ct=s.oxw(3);return s.KtG(Ct.onKeydown(ct,!1))})("input",function(ct){s.CHM(ee);const Ct=s.oxw(3);return s.KtG(Ct.onFilterInputChange(ct))}),s.qZA(),s._UZ(3,"span",33),s.qZA()}if(2&Xe){const ee=s.oxw(3);s.xp6(1),s.Q6J("value",ee.filterValue||""),s.uIk("placeholder",ee.filterPlaceholder)("aria-label",ee.ariaFilterLabel)("aria-activedescendant",ee.overlayVisible?"p-highlighted-option":ee.labelId)}}function $(Xe,wt){if(1&Xe&&(s.TgZ(0,"div",27),s.NdJ("click",function(Ve){return Ve.stopPropagation()}),s.YNc(1,at,2,4,"ng-container",28),s.YNc(2,Se,4,4,"ng-template",null,29,s.W1O),s.qZA()),2&Xe){const ee=s.MAs(3),Ve=s.oxw(2);s.xp6(1),s.Q6J("ngIf",Ve.filterTemplate)("ngIfElse",ee)}}function B(Xe,wt){1&Xe&&s.GkF(0)}const j=function(Xe,wt){return{$implicit:Xe,options:wt}};function Ue(Xe,wt){if(1&Xe&&s.YNc(0,B,1,0,"ng-container",16),2&Xe){const ee=wt.$implicit,Ve=wt.options;s.oxw(2);const ct=s.MAs(7);s.Q6J("ngTemplateOutlet",ct)("ngTemplateOutletContext",s.WLB(2,j,ee,Ve))}}function fe(Xe,wt){1&Xe&&s.GkF(0)}function qe(Xe,wt){if(1&Xe&&s.YNc(0,fe,1,0,"ng-container",16),2&Xe){const ee=wt.options,Ve=s.oxw(4);s.Q6J("ngTemplateOutlet",Ve.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,ht,ee))}}function je(Xe,wt){1&Xe&&(s.ynx(0),s.YNc(1,qe,1,4,"ng-template",36),s.BQk())}function mt(Xe,wt){if(1&Xe){const ee=s.EpF();s.TgZ(0,"p-scroller",34,35),s.NdJ("onLazyLoad",function(ct){s.CHM(ee);const Ct=s.oxw(2);return s.KtG(Ct.onLazyLoad.emit(ct))}),s.YNc(2,Ue,1,5,"ng-template",13),s.YNc(3,je,2,0,"ng-container",15),s.qZA()}if(2&Xe){const ee=s.oxw(2);s.Akn(s.VKq(8,Te,ee.scrollHeight)),s.Q6J("items",ee.optionsToDisplay)("itemSize",ee.virtualScrollItemSize||ee._itemSize)("autoSize",!0)("lazy",ee.lazy)("options",ee.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",ee.loaderTemplate)}}function bt(Xe,wt){1&Xe&&s.GkF(0)}const st=function(){return{}};function xt(Xe,wt){if(1&Xe&&(s.ynx(0),s.YNc(1,bt,1,0,"ng-container",16),s.BQk()),2&Xe){s.oxw();const ee=s.MAs(7),Ve=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",ee)("ngTemplateOutletContext",s.WLB(3,j,Ve.optionsToDisplay,s.DdM(2,st)))}}function ot(Xe,wt){if(1&Xe&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&Xe){const ee=s.oxw().$implicit,Ve=s.oxw(4);s.xp6(1),s.Oqu(Ve.getOptionGroupLabel(ee)||"empty")}}function We(Xe,wt){1&Xe&&s.GkF(0)}function hn(Xe,wt){1&Xe&&s.GkF(0)}const fn=function(Xe,wt){return{$implicit:Xe,selectedOption:wt}};function St(Xe,wt){if(1&Xe&&(s.TgZ(0,"li",42),s.YNc(1,ot,2,1,"span",15),s.YNc(2,We,1,0,"ng-container",16),s.qZA(),s.YNc(3,hn,1,0,"ng-container",16)),2&Xe){const ee=wt.$implicit,Ve=s.oxw(2).options,ct=s.MAs(5),Ct=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,Te,Ve.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!Ct.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",Ct.groupTemplate)("ngTemplateOutletContext",s.VKq(8,we,ee)),s.xp6(1),s.Q6J("ngTemplateOutlet",ct)("ngTemplateOutletContext",s.WLB(10,fn,Ct.getOptionGroupChildren(ee),Ct.selectedOption))}}function ln(Xe,wt){if(1&Xe&&(s.ynx(0),s.YNc(1,St,4,13,"ng-template",41),s.BQk()),2&Xe){const ee=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",ee)}}function Ye(Xe,wt){1&Xe&&s.GkF(0)}function Mt(Xe,wt){if(1&Xe&&(s.ynx(0),s.YNc(1,Ye,1,0,"ng-container",16),s.BQk()),2&Xe){const ee=s.oxw().$implicit,Ve=s.MAs(5),ct=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",Ve)("ngTemplateOutletContext",s.WLB(2,fn,ee,ct.selectedOption))}}function Ft(Xe,wt){if(1&Xe){const ee=s.EpF();s.TgZ(0,"p-dropdownItem",43),s.NdJ("onClick",function(ct){s.CHM(ee);const Ct=s.oxw(4);return s.KtG(Ct.onItemClick(ct))}),s.qZA()}if(2&Xe){const ee=wt.$implicit,Ve=s.oxw().selectedOption,ct=s.oxw(3);s.Q6J("option",ee)("selected",Ve==ee)("label",ct.getOptionLabel(ee))("disabled",ct.isOptionDisabled(ee))("template",ct.itemTemplate)}}function tn(Xe,wt){1&Xe&&s.YNc(0,Ft,1,5,"ng-template",41),2&Xe&&s.Q6J("ngForOf",wt.$implicit)}function Vn(Xe,wt){if(1&Xe&&(s.ynx(0),s._uU(1),s.BQk()),2&Xe){const ee=s.oxw(4);s.xp6(1),s.hij(" ",ee.emptyFilterMessageLabel," ")}}function oi(Xe,wt){1&Xe&&s.GkF(0,null,45)}function Kn(Xe,wt){if(1&Xe&&(s.TgZ(0,"li",44),s.YNc(1,Vn,2,1,"ng-container",28),s.YNc(2,oi,2,0,"ng-container",22),s.qZA()),2&Xe){const ee=s.oxw().options,Ve=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Te,ee.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!Ve.emptyFilterTemplate&&!Ve.emptyTemplate)("ngIfElse",Ve.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",Ve.emptyFilterTemplate||Ve.emptyTemplate)}}function Ut(Xe,wt){if(1&Xe&&(s.ynx(0),s._uU(1),s.BQk()),2&Xe){const ee=s.oxw(4);s.xp6(1),s.hij(" ",ee.emptyMessageLabel," ")}}function ft(Xe,wt){1&Xe&&s.GkF(0,null,46)}function Be(Xe,wt){if(1&Xe&&(s.TgZ(0,"li",44),s.YNc(1,Ut,2,1,"ng-container",28),s.YNc(2,ft,2,0,"ng-container",22),s.qZA()),2&Xe){const ee=s.oxw().options,Ve=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Te,ee.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!Ve.emptyTemplate)("ngIfElse",Ve.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",Ve.emptyTemplate)}}function It(Xe,wt){if(1&Xe&&(s.TgZ(0,"ul",37,38),s.YNc(2,ln,2,1,"ng-container",15),s.YNc(3,Mt,2,5,"ng-container",15),s.YNc(4,tn,1,1,"ng-template",null,39,s.W1O),s.YNc(6,Kn,3,6,"li",40),s.YNc(7,Be,3,6,"li",40),s.qZA()),2&Xe){const ee=wt.options,Ve=s.oxw(2);s.Akn(ee.contentStyle),s.Q6J("ngClass",ee.contentStyleClass),s.uIk("id",Ve.listId),s.xp6(2),s.Q6J("ngIf",Ve.group),s.xp6(1),s.Q6J("ngIf",!Ve.group),s.xp6(3),s.Q6J("ngIf",Ve.filterValue&&Ve.isEmpty()),s.xp6(1),s.Q6J("ngIf",!Ve.filterValue&&Ve.isEmpty())}}function S(Xe,wt){1&Xe&&s.GkF(0)}function he(Xe,wt){if(1&Xe&&(s.TgZ(0,"div",21),s.YNc(1,Le,1,0,"ng-container",22),s.YNc(2,$,4,2,"div",23),s.TgZ(3,"div",24),s.YNc(4,mt,4,10,"p-scroller",25),s.YNc(5,xt,2,6,"ng-container",15),s.YNc(6,It,8,8,"ng-template",null,26,s.W1O),s.qZA(),s.YNc(8,S,1,0,"ng-container",22),s.qZA()),2&Xe){const ee=s.oxw();s.Tol(ee.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",ee.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",ee.headerTemplate),s.xp6(1),s.Q6J("ngIf",ee.filter),s.xp6(1),s.Udp("max-height",ee.virtualScroll?"auto":ee.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",ee.virtualScroll),s.xp6(1),s.Q6J("ngIf",!ee.virtualScroll),s.xp6(3),s.Q6J("ngTemplateOutlet",ee.footerTemplate)}}const Ae=function(Xe,wt,ee,Ve){return{"p-dropdown p-component":!0,"p-disabled":Xe,"p-dropdown-open":wt,"p-focus":ee,"p-dropdown-clearable":Ve}},Qe={provide:g.JU,useExisting:(0,s.Gpc)(()=>Kt),multi:!0};let Ot=(()=>{class Xe{constructor(){this.onClick=new s.vpe}onOptionClick(ee){this.onClick.emit({originalEvent:ee,option:this.option})}}return Xe.\u0275fac=function(ee){return new(ee||Xe)},Xe.\u0275cmp=s.Xpm({type:Xe,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(ee,Ve){1&ee&&(s.TgZ(0,"li",0),s.NdJ("click",function(Ct){return Ve.onOptionClick(Ct)}),s.YNc(1,ue,2,1,"span",1),s.YNc(2,Oe,1,0,"ng-container",2),s.qZA()),2&ee&&(s.Q6J("ngStyle",s.VKq(8,Te,Ve.itemSize+"px"))("id",Ve.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,ke,Ve.selected,Ve.disabled)),s.uIk("aria-label",Ve.label)("aria-selected",Ve.selected),s.xp6(1),s.Q6J("ngIf",!Ve.template),s.xp6(1),s.Q6J("ngTemplateOutlet",Ve.template)("ngTemplateOutletContext",s.VKq(13,we,Ve.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,le.H],encapsulation:2}),Xe})(),Kt=(()=>{class Xe{constructor(ee,Ve,ct,Ct,sn,$n){this.el=ee,this.renderer=Ve,this.cd=ct,this.zone=Ct,this.filterService=sn,this.config=$n,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=(0,pe.Th)()}get disabled(){return this._disabled}set disabled(ee){ee&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=ee,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(ee){this._itemSize=ee,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(ee){this._autoZIndex=ee,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(ee){this._baseZIndex=ee,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(ee){this._showTransitionOptions=ee,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(ee){this._hideTransitionOptions=ee,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(ee=>{switch(ee.getType()){case"item":default:this.itemTemplate=ee.template;break;case"selectedItem":this.selectedItemTemplate=ee.template;break;case"header":this.headerTemplate=ee.template;break;case"filter":this.filterTemplate=ee.template;break;case"footer":this.footerTemplate=ee.template;break;case"emptyfilter":this.emptyFilterTemplate=ee.template;break;case"empty":this.emptyTemplate=ee.template;break;case"group":this.groupTemplate=ee.template;break;case"loader":this.loaderTemplate=ee.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:ee=>this.onFilterInputChange(ee),reset:()=>this.resetFilter()})}get options(){return this._options}set options(ee){this._options=ee,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&pe.gb.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(ee){this._filterValue=ee,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(H.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(H.ws.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(ee){return this.optionLabel?pe.gb.resolveFieldData(ee,this.optionLabel):ee&&void 0!==ee.label?ee.label:ee}getOptionValue(ee){return this.optionValue?pe.gb.resolveFieldData(ee,this.optionValue):!this.optionLabel&&ee&&void 0!==ee.value?ee.value:ee}isOptionDisabled(ee){return this.optionDisabled?pe.gb.resolveFieldData(ee,this.optionDisabled):!(!ee||void 0===ee.disabled)&&ee.disabled}getOptionGroupLabel(ee){return this.optionGroupLabel?pe.gb.resolveFieldData(ee,this.optionGroupLabel):ee&&void 0!==ee.label?ee.label:ee}getOptionGroupChildren(ee){return this.optionGroupChildren?pe.gb.resolveFieldData(ee,this.optionGroupChildren):ee.items}onItemClick(ee){const Ve=ee.option;this.isOptionDisabled(Ve)||(this.selectItem(ee.originalEvent,Ve),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(ee,Ve){this.selectedOption!=Ve&&(this.selectedOption=Ve,this.value=this.getOptionValue(Ve),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:ee,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(I.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&I.p.scrollInView(this.itemsWrapper,I.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(ee){this.filter&&this.resetFilter(),this.value=ee,this.updateSelectedOption(ee),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(ee){this.selectedOption=this.findOption(ee,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(ee){this.onModelChange=ee}registerOnTouched(ee){this.onModelTouched=ee}setDisabledState(ee){this.disabled=ee,this.cd.markForCheck()}onMouseclick(ee){this.disabled||this.readonly||this.isInputClick(ee)||(this.onClick.emit(ee),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(ee){return I.p.hasClass(ee.target,"p-dropdown-clear-icon")||ee.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&ee.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(ee){this.focused=!0,this.hide(),this.onFocus.emit(ee)}onEditableInputChange(ee){this.value=ee.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:ee,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(ee){if("visible"===ee.toState){if(this.itemsWrapper=I.p.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const Ve=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==Ve&&this.scroller.scrollToIndex(Ve)}else{let Ve=I.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");Ve&&Ve.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(ee)}"void"===ee.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(ee))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(ee){this.focused=!0,this.onFocus.emit(ee)}onInputBlur(ee){this.focused=!1,this.onBlur.emit(ee),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(ee){let Ve;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ct=ee-1;0<=ct;ct--){let Ct=this.optionsToDisplay[ct];if(!this.isOptionDisabled(Ct)){Ve=Ct;break}}if(!Ve)for(let ct=this.optionsToDisplay.length-1;ct>=ee;ct--){let Ct=this.optionsToDisplay[ct];if(!this.isOptionDisabled(Ct)){Ve=Ct;break}}}return Ve}findNextEnabledOption(ee){let Ve;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ct=ee+1;ct<this.optionsToDisplay.length;ct++){let Ct=this.optionsToDisplay[ct];if(!this.isOptionDisabled(Ct)){Ve=Ct;break}}if(!Ve)for(let ct=0;ct<ee;ct++){let Ct=this.optionsToDisplay[ct];if(!this.isOptionDisabled(Ct)){Ve=Ct;break}}}return Ve}onKeydown(ee,Ve){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(ee.which){case 40:if(!this.overlayVisible&&ee.altKey)this.show();else if(this.group){let ct=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ct){let Ct=ct.itemIndex+1;Ct<this.getOptionGroupChildren(this.optionsToDisplay[ct.groupIndex]).length?(this.selectItem(ee,this.getOptionGroupChildren(this.optionsToDisplay[ct.groupIndex])[Ct]),this.selectedOptionUpdated=!0):this.optionsToDisplay[ct.groupIndex+1]&&(this.selectItem(ee,this.getOptionGroupChildren(this.optionsToDisplay[ct.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(ee,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let ct=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,Ct=this.findNextEnabledOption(ct);Ct&&(this.selectItem(ee,Ct),this.selectedOptionUpdated=!0)}ee.preventDefault();break;case 38:if(this.group){let ct=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ct){let Ct=ct.itemIndex-1;if(Ct>=0)this.selectItem(ee,this.getOptionGroupChildren(this.optionsToDisplay[ct.groupIndex])[Ct]),this.selectedOptionUpdated=!0;else if(Ct<0){let sn=this.optionsToDisplay[ct.groupIndex-1];sn&&(this.selectItem(ee,this.getOptionGroupChildren(sn)[this.getOptionGroupChildren(sn).length-1]),this.selectedOptionUpdated=!0)}}}else{let ct=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,Ct=this.findPrevEnabledOption(ct);Ct&&(this.selectItem(ee,Ct),this.selectedOptionUpdated=!0)}ee.preventDefault();break;case 32:Ve&&(this.overlayVisible?this.hide():this.show(),ee.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),ee.preventDefault();break;case 27:case 9:this.hide();break;default:Ve&&!ee.metaKey&&17!==ee.which&&this.search(ee)}}search(ee){this.searchTimeout&&clearTimeout(this.searchTimeout);const Ve=ee.key;let ct;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=Ve,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+Ve:Ve,this.group){let Ct=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};ct=this.searchOptionWithinGroup(Ct)}else{let Ct=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;ct=this.searchOption(++Ct)}ct&&!this.isOptionDisabled(ct)&&(this.selectItem(ee,ct),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(ee){let Ve;return this.searchValue&&(Ve=this.searchOptionInRange(ee,this.optionsToDisplay.length),Ve||(Ve=this.searchOptionInRange(0,ee))),Ve}searchOptionInRange(ee,Ve){for(let ct=ee;ct<Ve;ct++){let Ct=this.optionsToDisplay[ct];if(this.getOptionLabel(Ct).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Ct))return Ct}return null}searchOptionWithinGroup(ee){if(this.searchValue){for(let ct=ee.groupIndex;ct<this.optionsToDisplay.length;ct++)for(let Ct=ee.groupIndex===ct?ee.itemIndex+1:0;Ct<this.getOptionGroupChildren(this.optionsToDisplay[ct]).length;Ct++){let sn=this.getOptionGroupChildren(this.optionsToDisplay[ct])[Ct];if(this.getOptionLabel(sn).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(sn))return sn}for(let ct=0;ct<=ee.groupIndex;ct++)for(let Ct=0;Ct<(ee.groupIndex===ct?ee.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[ct]).length);Ct++){let sn=this.getOptionGroupChildren(this.optionsToDisplay[ct])[Ct];if(this.getOptionLabel(sn).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(sn))return sn}}return null}findOptionIndex(ee,Ve){let ct=-1;if(Ve)for(let Ct=0;Ct<Ve.length;Ct++)if(null==ee&&null==this.getOptionValue(Ve[Ct])||pe.gb.equals(ee,this.getOptionValue(Ve[Ct]),this.dataKey)){ct=Ct;break}return ct}findOptionGroupIndex(ee,Ve){let ct,Ct;if(Ve)for(let sn=0;sn<Ve.length&&(ct=sn,Ct=this.findOptionIndex(ee,this.getOptionGroupChildren(Ve[sn])),-1===Ct);sn++);return-1!==Ct?{groupIndex:ct,itemIndex:Ct}:-1}findOption(ee,Ve,ct){if(this.group&&!ct){let Ct;if(Ve&&Ve.length)for(let sn of Ve)if(Ct=this.findOption(ee,this.getOptionGroupChildren(sn),!0),Ct)break;return Ct}{let Ct=this.findOptionIndex(ee,Ve);return-1!=Ct?Ve[Ct]:null}}onFilterInputChange(ee){let Ve=ee.target.value;Ve&&Ve.length?(this._filterValue=Ve,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:ee,filter:this._filterValue})}activateFilter(){let ee=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let Ve=[];for(let ct of this.options){let Ct=this.filterService.filter(this.getOptionGroupChildren(ct),ee,this.filterValue,this.filterMatchMode,this.filterLocale);Ct&&Ct.length&&Ve.push(Object.assign(Object.assign({},ct),{[this.optionGroupChildren]:Ct}))}this.optionsToDisplay=Ve}else this.optionsToDisplay=this.filterService.filter(this.options,ee,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?I.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():I.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(ee){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:ee,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(ee)}}return Xe.\u0275fac=function(ee){return new(ee||Xe)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(H.iZ),s.Y36(H.b4))},Xe.\u0275cmp=s.Xpm({type:Xe,selectors:[["p-dropdown"]],contentQueries:function(ee,Ve,ct){if(1&ee&&s.Suo(ct,H.jx,4),2&ee){let Ct;s.iGM(Ct=s.CRH())&&(Ve.templates=Ct)}},viewQuery:function(ee,Ve){if(1&ee&&(s.Gf(Fe,5),s.Gf(Y,5),s.Gf(Pe,5),s.Gf(de,5),s.Gf(N,5),s.Gf(O,5),s.Gf(ye,5)),2&ee){let ct;s.iGM(ct=s.CRH())&&(Ve.containerViewChild=ct.first),s.iGM(ct=s.CRH())&&(Ve.filterViewChild=ct.first),s.iGM(ct=s.CRH())&&(Ve.accessibleViewChild=ct.first),s.iGM(ct=s.CRH())&&(Ve.editableInputViewChild=ct.first),s.iGM(ct=s.CRH())&&(Ve.itemsViewChild=ct.first),s.iGM(ct=s.CRH())&&(Ve.scroller=ct.first),s.iGM(ct=s.CRH())&&(Ve.overlayViewChild=ct.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(ee,Ve){2&ee&&s.ekj("p-inputwrapper-filled",Ve.filled)("p-inputwrapper-focus",Ve.focused||Ve.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[s._Bn([Qe])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(ee,Ve){1&ee&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(Ct){return Ve.onMouseclick(Ct)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(Ct){return Ve.onInputFocus(Ct)})("blur",function(Ct){return Ve.onInputBlur(Ct)})("keydown",function(Ct){return Ve.onKeydown(Ct,!0)}),s.qZA()(),s.YNc(5,w,3,13,"span",5),s.YNc(6,q,2,4,"span",6),s.YNc(7,_e,2,4,"input",7),s.YNc(8,De,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.TgZ(11,"p-overlay",11,12),s.NdJ("visibleChange",function(Ct){return Ve.overlayVisible=Ct})("onAnimationStart",function(Ct){return Ve.onOverlayAnimationStart(Ct)})("onHide",function(){return Ve.hide()}),s.YNc(13,he,9,11,"ng-template",13),s.qZA()()),2&ee&&(s.Tol(Ve.styleClass),s.Q6J("ngClass",s.l5B(27,Ae,Ve.disabled,Ve.overlayVisible,Ve.focused,Ve.showClear&&!Ve.disabled))("ngStyle",Ve.style),s.xp6(3),s.Q6J("disabled",Ve.disabled)("autofocus",Ve.autofocus),s.uIk("id",Ve.inputId)("placeholder",Ve.placeholder)("aria-label",Ve.ariaLabel)("aria-expanded",!1)("aria-labelledby",Ve.ariaLabelledBy)("tabindex",Ve.tabindex)("aria-activedescendant",Ve.overlayVisible?Ve.labelId:null),s.xp6(2),s.Q6J("ngIf",!Ve.editable&&null!=Ve.label),s.xp6(1),s.Q6J("ngIf",!Ve.editable&&null==Ve.label),s.xp6(1),s.Q6J("ngIf",Ve.editable),s.xp6(1),s.Q6J("ngIf",Ve.isVisibleClearIcon),s.xp6(1),s.uIk("aria-expanded",Ve.overlayVisible),s.xp6(1),s.Q6J("ngClass",Ve.dropdownIcon),s.xp6(1),s.Q6J("visible",Ve.overlayVisible)("options",Ve.overlayOptions)("target","@parent")("appendTo",Ve.appendTo)("autoZIndex",Ve.autoZIndex)("baseZIndex",Ve.baseZIndex)("showTransitionOptions",Ve.showTransitionOptions)("hideTransitionOptions",Ve.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,U.aV,H.jx,K.u,re.T,L.P,Ot],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),Xe})(),en=(()=>{class Xe{}return Xe.\u0275fac=function(ee){return new(ee||Xe)},Xe.\u0275mod=s.oAB({type:Xe}),Xe.\u0275inj=s.cJS({imports:[e.ez,U.U8,H.m8,K.z,le.T,re.v,L.E,U.U8,H.m8,re.v]}),Xe})()},7010:(Ht,et,_)=>{_.d(et,{L$:()=>Fe,Rn:()=>we});var e=_(9808),s=_(5e3),g=_(2382),H=_(845),L=_(5730),I=_(1424);const U=["input"];function le(Y,Pe){if(1&Y){const de=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.clear())}),s.qZA()}}const re=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},K=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function pe(Y,Pe){if(1&Y){const de=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(O){s.CHM(de);const ye=s.oxw();return s.KtG(ye.onUpButtonMouseDown(O))})("mouseup",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onUpButtonMouseLeave())})("keydown",function(O){s.CHM(de);const ye=s.oxw();return s.KtG(ye.onUpButtonKeyDown(O))})("keyup",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onUpButtonKeyUp())}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(O){s.CHM(de);const ye=s.oxw();return s.KtG(ye.onDownButtonMouseDown(O))})("mouseup",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onDownButtonMouseLeave())})("keydown",function(O){s.CHM(de);const ye=s.oxw();return s.KtG(ye.onDownButtonKeyDown(O))})("keyup",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onDownButtonKeyUp())}),s.qZA()()}if(2&Y){const de=s.oxw();s.xp6(1),s.Tol(de.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,re))("icon",de.incrementButtonIcon)("disabled",de.disabled),s.xp6(1),s.Tol(de.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,K))("icon",de.decrementButtonIcon)("disabled",de.disabled)}}function ue(Y,Pe){if(1&Y){const de=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(O){s.CHM(de);const ye=s.oxw();return s.KtG(ye.onUpButtonMouseDown(O))})("mouseup",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onUpButtonMouseLeave())})("keydown",function(O){s.CHM(de);const ye=s.oxw();return s.KtG(ye.onUpButtonKeyDown(O))})("keyup",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onUpButtonKeyUp())}),s.qZA()}if(2&Y){const de=s.oxw();s.Tol(de.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,re))("icon",de.incrementButtonIcon)("disabled",de.disabled)}}function Oe(Y,Pe){if(1&Y){const de=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(O){s.CHM(de);const ye=s.oxw();return s.KtG(ye.onDownButtonMouseDown(O))})("mouseup",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onDownButtonMouseLeave())})("keydown",function(O){s.CHM(de);const ye=s.oxw();return s.KtG(ye.onDownButtonKeyDown(O))})("keyup",function(){s.CHM(de);const O=s.oxw();return s.KtG(O.onDownButtonKeyUp())}),s.qZA()}if(2&Y){const de=s.oxw();s.Tol(de.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,K))("icon",de.decrementButtonIcon)("disabled",de.disabled)}}const Te=function(Y,Pe,de){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":Y,"p-inputnumber-buttons-horizontal":Pe,"p-inputnumber-buttons-vertical":de}},ke={provide:g.JU,useExisting:(0,s.Gpc)(()=>we),multi:!0};let we=(()=>{class Y{constructor(de,N){this.el=de,this.cd=N,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(de){de&&(this.focused=!1),this._disabled=de,this.timer&&this.clearTimer()}ngOnChanges(de){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(O=>!!de[O])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const de=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),N=new Map(de.map((O,ye)=>[O,ye]));this._numeral=new RegExp(`[${de.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=O=>N.get(O)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(de){return de.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const de=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${de.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const de=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=de.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const de=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${de.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const de=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${de.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const de=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=de.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const de=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=de.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(de){if(null!=de){if("-"===de)return de;if(this.format){let O=new Intl.NumberFormat(this.locale,this.getOptions()).format(de);return this.prefix&&(O=this.prefix+O),this.suffix&&(O+=this.suffix),O}return de.toString()}return""}parseValue(de){let N=de.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(N){if("-"===N)return N;let O=+N;return isNaN(O)?null:O}return null}repeat(de,N,O){if(this.readonly)return;let ye=N||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(de,40,O)},ye),this.spin(de,O)}spin(de,N){let O=this.step*N,ye=this.parseValue(this.input.nativeElement.value)||0,Ce=this.validateValue(ye+O);this.maxlength&&this.maxlength<this.formatValue(Ce).length||(this.updateInput(Ce,null,"spin",null),this.updateModel(de,Ce),this.handleOnInput(de,ye,Ce))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(de){this.input.nativeElement.focus(),this.repeat(de,null,1),de.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(de){(32===de.keyCode||13===de.keyCode)&&this.repeat(de,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(de){this.input.nativeElement.focus(),this.repeat(de,null,-1),de.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(de){(32===de.keyCode||13===de.keyCode)&&this.repeat(de,null,-1)}onUserInput(de){this.readonly||(this.isSpecialChar&&(de.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(de){if(this.readonly)return;if(this.lastValue=de.target.value,de.shiftKey||de.altKey)return void(this.isSpecialChar=!0);let N=de.target.selectionStart,O=de.target.selectionEnd,ye=de.target.value,Ce=null;switch(de.altKey&&de.preventDefault(),de.which){case 38:this.spin(de,1),de.preventDefault();break;case 40:this.spin(de,-1),de.preventDefault();break;case 37:this.isNumeralChar(ye.charAt(N-1))||de.preventDefault();break;case 39:this.isNumeralChar(ye.charAt(N))||de.preventDefault();break;case 13:Ce=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(Ce),this.input.nativeElement.setAttribute("aria-valuenow",Ce),this.updateModel(de,Ce);break;case 8:if(de.preventDefault(),N===O){const ve=ye.charAt(N-1),{decimalCharIndex:V,decimalCharIndexWithoutPrefix:w}=this.getDecimalCharIndexes(ye);if(this.isNumeralChar(ve)){const F=this.getDecimalLength(ye);if(this._group.test(ve))this._group.lastIndex=0,Ce=ye.slice(0,N-2)+ye.slice(N-1);else if(this._decimal.test(ve))this._decimal.lastIndex=0,F?this.input.nativeElement.setSelectionRange(N-1,N-1):Ce=ye.slice(0,N-1)+ye.slice(N);else if(V>0&&N>V){const q=this.isDecimalMode()&&(this.minFractionDigits||0)<F?"":"0";Ce=ye.slice(0,N-1)+q+ye.slice(N)}else 1===w?(Ce=ye.slice(0,N-1)+"0"+ye.slice(N),Ce=this.parseValue(Ce)>0?Ce:""):Ce=ye.slice(0,N-1)+ye.slice(N)}this.updateValue(de,Ce,null,"delete-single")}else Ce=this.deleteRange(ye,N,O),this.updateValue(de,Ce,null,"delete-range");break;case 46:if(de.preventDefault(),N===O){const ve=ye.charAt(N),{decimalCharIndex:V,decimalCharIndexWithoutPrefix:w}=this.getDecimalCharIndexes(ye);if(this.isNumeralChar(ve)){const F=this.getDecimalLength(ye);if(this._group.test(ve))this._group.lastIndex=0,Ce=ye.slice(0,N)+ye.slice(N+2);else if(this._decimal.test(ve))this._decimal.lastIndex=0,F?this.input.nativeElement.setSelectionRange(N+1,N+1):Ce=ye.slice(0,N)+ye.slice(N+1);else if(V>0&&N>V){const q=this.isDecimalMode()&&(this.minFractionDigits||0)<F?"":"0";Ce=ye.slice(0,N)+q+ye.slice(N+1)}else 1===w?(Ce=ye.slice(0,N)+"0"+ye.slice(N+1),Ce=this.parseValue(Ce)>0?Ce:""):Ce=ye.slice(0,N)+ye.slice(N+1)}this.updateValue(de,Ce,null,"delete-back-single")}else Ce=this.deleteRange(ye,N,O),this.updateValue(de,Ce,null,"delete-range")}this.onKeyDown.emit(de)}onInputKeyPress(de){if(this.readonly)return;let N=de.which||de.keyCode,O=String.fromCharCode(N);const ye=this.isDecimalSign(O),Ce=this.isMinusSign(O);13!=N&&de.preventDefault(),(48<=N&&N<=57||Ce||ye)&&this.insert(de,O,{isDecimalSign:ye,isMinusSign:Ce})}onPaste(de){if(!this.disabled&&!this.readonly){de.preventDefault();let N=(de.clipboardData||window.clipboardData).getData("Text");if(N){let O=this.parseValue(N);null!=O&&this.insert(de,O.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(de){return!(!this._minusSign.test(de)&&"-"!==de||(this._minusSign.lastIndex=0,0))}isDecimalSign(de){return!!this._decimal.test(de)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(de){let N=de.search(this._decimal);this._decimal.lastIndex=0;const ye=de.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:N,decimalCharIndexWithoutPrefix:ye}}getCharIndexes(de){const N=de.search(this._decimal);this._decimal.lastIndex=0;const O=de.search(this._minusSign);this._minusSign.lastIndex=0;const ye=de.search(this._suffix);this._suffix.lastIndex=0;const Ce=de.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:N,minusCharIndex:O,suffixCharIndex:ye,currencyCharIndex:Ce}}insert(de,N,O={isDecimalSign:!1,isMinusSign:!1}){const ye=N.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==ye)return;let Ce=this.input.nativeElement.selectionStart,ve=this.input.nativeElement.selectionEnd,V=this.input.nativeElement.value.trim();const{decimalCharIndex:w,minusCharIndex:F,suffixCharIndex:q,currencyCharIndex:_e}=this.getCharIndexes(V);let De;if(O.isMinusSign)0===Ce&&(De=V,(-1===F||0!==ve)&&(De=this.insertText(V,N,0,ve)),this.updateValue(de,De,N,"insert"));else if(O.isDecimalSign)w>0&&Ce===w?this.updateValue(de,V,N,"insert"):(w>Ce&&w<ve||-1===w&&this.maxFractionDigits)&&(De=this.insertText(V,N,Ce,ve),this.updateValue(de,De,N,"insert"));else{const Le=this.numberFormat.resolvedOptions().maximumFractionDigits,Me=Ce!==ve?"range-insert":"insert";if(w>0&&Ce>w){if(Ce+N.length-(w+1)<=Le){const ht=_e>=Ce?_e-1:q>=Ce?q:V.length;De=V.slice(0,Ce)+N+V.slice(Ce+N.length,ht)+V.slice(ht),this.updateValue(de,De,N,Me)}}else De=this.insertText(V,N,Ce,ve),this.updateValue(de,De,N,Me)}}insertText(de,N,O,ye){if(2===("."===N?N:N.split(".")).length){const ve=de.slice(O,ye).search(this._decimal);return this._decimal.lastIndex=0,ve>0?de.slice(0,O)+this.formatValue(N)+de.slice(ye):de||this.formatValue(N)}return ye-O===de.length?this.formatValue(N):0===O?N+de.slice(ye):ye===de.length?de.slice(0,O)+N:de.slice(0,O)+N+de.slice(ye)}deleteRange(de,N,O){let ye;return ye=O-N===de.length?"":0===N?de.slice(O):O===de.length?de.slice(0,N):de.slice(0,N)+de.slice(O),ye}initCursor(){let de=this.input.nativeElement.selectionStart,N=this.input.nativeElement.value,O=N.length,ye=null,Ce=(this.prefixChar||"").length;N=N.replace(this._prefix,""),de-=Ce;let ve=N.charAt(de);if(this.isNumeralChar(ve))return de+Ce;let V=de-1;for(;V>=0;){if(ve=N.charAt(V),this.isNumeralChar(ve)){ye=V+Ce;break}V--}if(null!==ye)this.input.nativeElement.setSelectionRange(ye+1,ye+1);else{for(V=de;V<O;){if(ve=N.charAt(V),this.isNumeralChar(ve)){ye=V+Ce;break}V++}null!==ye&&this.input.nativeElement.setSelectionRange(ye,ye)}return ye||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==L.p.getSelection()&&this.initCursor()}isNumeralChar(de){return!(1!==de.length||!(this._numeral.test(de)||this._decimal.test(de)||this._group.test(de)||this._minusSign.test(de))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(de,N,O,ye){let Ce=this.input.nativeElement.value,ve=null;null!=N&&(ve=this.parseValue(N),ve=ve||this.allowEmpty?ve:0,this.updateInput(ve,O,ye,N),this.handleOnInput(de,Ce,ve))}handleOnInput(de,N,O){this.isValueChanged(N,O)&&this.onInput.emit({originalEvent:de,value:O,formattedValue:N})}isValueChanged(de,N){return null===N&&null!==de||null!=N&&N!==("string"==typeof de?this.parseValue(de):de)}validateValue(de){return"-"===de||null==de?null:null!=this.min&&de<this.min?this.min:null!=this.max&&de>this.max?this.max:de}updateInput(de,N,O,ye){N=N||"";let Ce=this.input.nativeElement.value,ve=this.formatValue(de),V=Ce.length;if(ve!==ye&&(ve=this.concatValues(ve,ye)),0===V){this.input.nativeElement.value=ve,this.input.nativeElement.setSelectionRange(0,0);const F=this.initCursor()+N.length;this.input.nativeElement.setSelectionRange(F,F)}else{let w=this.input.nativeElement.selectionStart,F=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<ve.length)return;this.input.nativeElement.value=ve;let q=ve.length;if("range-insert"===O){const _e=this.parseValue((Ce||"").slice(0,w)),Le=(null!==_e?_e.toString():"").split("").join(`(${this.groupChar})?`),Me=new RegExp(Le,"g");Me.test(ve);const ht=N.split("").join(`(${this.groupChar})?`),at=new RegExp(ht,"g");at.test(ve.slice(Me.lastIndex)),F=Me.lastIndex+at.lastIndex,this.input.nativeElement.setSelectionRange(F,F)}else if(q===V)"insert"===O||"delete-back-single"===O?this.input.nativeElement.setSelectionRange(F+1,F+1):"delete-single"===O?this.input.nativeElement.setSelectionRange(F-1,F-1):("delete-range"===O||"spin"===O)&&this.input.nativeElement.setSelectionRange(F,F);else if("delete-back-single"===O){let _e=Ce.charAt(F-1),De=Ce.charAt(F),Le=V-q,Me=this._group.test(De);Me&&1===Le?F+=1:!Me&&this.isNumeralChar(_e)&&(F+=-1*Le+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(F,F)}else if("-"===Ce&&"insert"===O){this.input.nativeElement.setSelectionRange(0,0);const De=this.initCursor()+N.length+1;this.input.nativeElement.setSelectionRange(De,De)}else F+=q-V,this.input.nativeElement.setSelectionRange(F,F)}this.input.nativeElement.setAttribute("aria-valuenow",de)}concatValues(de,N){if(de&&N){let O=N.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?de.replace(this.suffixChar,"").split(this._decimal)[0]+N.replace(this.suffixChar,"").slice(O)+this.suffixChar:-1!==O?de.split(this._decimal)[0]+N.slice(O):de}return de}getDecimalLength(de){if(de){const N=de.split(this._decimal);if(2===N.length)return N[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(de){this.focused=!0,this.onFocus.emit(de)}onInputBlur(de){this.focused=!1;let N=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(N),this.input.nativeElement.setAttribute("aria-valuenow",N),this.updateModel(de,N),this.onBlur.emit(de)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(de,N){this.value!==N&&(this.value=N,this.onModelChange(N)),this.onModelTouched()}writeValue(de){this.value=de,this.cd.markForCheck()}registerOnChange(de){this.onModelChange=de}registerOnTouched(de){this.onModelTouched=de}setDisabledState(de){this.disabled=de,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return Y.\u0275fac=function(de){return new(de||Y)(s.Y36(s.SBq),s.Y36(s.sBO))},Y.\u0275cmp=s.Xpm({type:Y,selectors:[["p-inputNumber"]],viewQuery:function(de,N){if(1&de&&s.Gf(U,5),2&de){let O;s.iGM(O=s.CRH())&&(N.input=O.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(de,N){2&de&&s.ekj("p-inputwrapper-filled",N.filled)("p-inputwrapper-focus",N.focused)("p-inputnumber-clearable",N.showClear&&"vertical"!=N.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([ke]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(de,N){1&de&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(ye){return N.onUserInput(ye)})("keydown",function(ye){return N.onInputKeyDown(ye)})("keypress",function(ye){return N.onInputKeyPress(ye)})("paste",function(ye){return N.onPaste(ye)})("click",function(){return N.onInputClick()})("focus",function(ye){return N.onInputFocus(ye)})("blur",function(ye){return N.onInputBlur(ye)}),s.qZA(),s.YNc(3,le,1,0,"i",3),s.YNc(4,pe,3,12,"span",4),s.YNc(5,ue,1,6,"button",5),s.YNc(6,Oe,1,6,"button",5),s.qZA()),2&de&&(s.Tol(N.styleClass),s.Q6J("ngClass",s.kEZ(28,Te,N.showButtons&&"stacked"===N.buttonLayout,N.showButtons&&"horizontal"===N.buttonLayout,N.showButtons&&"vertical"===N.buttonLayout))("ngStyle",N.style),s.xp6(1),s.Tol(N.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",N.inputStyle)("value",N.formattedValue())("disabled",N.disabled)("readonly",N.readonly),s.uIk("placeholder",N.placeholder)("title",N.title)("id",N.inputId)("size",N.size)("name",N.name)("autocomplete",N.autocomplete)("maxlength",N.maxlength)("tabindex",N.tabindex)("aria-label",N.ariaLabel)("aria-required",N.ariaRequired)("required",N.required)("min",N.min)("max",N.max),s.xp6(2),s.Q6J("ngIf","vertical"!=N.buttonLayout&&N.showClear&&N.value),s.xp6(1),s.Q6J("ngIf",N.showButtons&&"stacked"===N.buttonLayout),s.xp6(1),s.Q6J("ngIf",N.showButtons&&"stacked"!==N.buttonLayout),s.xp6(1),s.Q6J("ngIf",N.showButtons&&"stacked"!==N.buttonLayout))},dependencies:[e.mk,e.O5,e.PC,I.o,H.Hq],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),Y})(),Fe=(()=>{class Y{}return Y.\u0275fac=function(de){return new(de||Y)},Y.\u0275mod=s.oAB({type:Y}),Y.\u0275inj=s.cJS({imports:[e.ez,I.j,H.hJ]}),Y})()},1424:(Ht,et,_)=>{_.d(et,{j:()=>L,o:()=>H});var e=_(5e3),s=_(9808),g=_(2382);let H=(()=>{class I{constructor(le,re,K){this.el=le,this.ngModel=re,this.cd=K}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(le){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return I.\u0275fac=function(le){return new(le||I)(e.Y36(e.SBq),e.Y36(g.On,8),e.Y36(e.sBO))},I.\u0275dir=e.lG2({type:I,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(le,re){1&le&&e.NdJ("input",function(pe){return re.onInput(pe)}),2&le&&e.ekj("p-filled",re.filled)}}),I})(),L=(()=>{class I{}return I.\u0275fac=function(le){return new(le||I)},I.\u0275mod=e.oAB({type:I}),I.\u0275inj=e.cJS({imports:[s.ez]}),I})()},3407:(Ht,et,_)=>{_.d(et,{A:()=>L,g:()=>H});var e=_(5e3),s=_(9808),g=_(2382);let H=(()=>{class I{constructor(le,re,K,pe){this.el=le,this.ngModel=re,this.control=K,this.cd=pe,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(le){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(le){this.autoResize&&this.resize(le)}onBlur(le){this.autoResize&&this.resize(le)}resize(le){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(le||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return I.\u0275fac=function(le){return new(le||I)(e.Y36(e.SBq),e.Y36(g.On,8),e.Y36(g.a5,8),e.Y36(e.sBO))},I.\u0275dir=e.lG2({type:I,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(le,re){1&le&&e.NdJ("input",function(pe){return re.onInput(pe)})("focus",function(pe){return re.onFocus(pe)})("blur",function(pe){return re.onBlur(pe)}),2&le&&e.ekj("p-filled",re.filled)("p-inputtextarea-resizable",re.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),I})(),L=(()=>{class I{}return I.\u0275fac=function(le){return new(le||I)},I.\u0275mod=e.oAB({type:I}),I.\u0275inj=e.cJS({imports:[s.ez]}),I})()},5055:(Ht,et,_)=>{_.d(et,{ON:()=>fn});var e=_(5e3),s=_(9808),g=_(9783),H=_(5730),L=_(5921),I=_(2382),U=_(5787);const le=["headerchkbox"],re=["filter"];function K(St,ln){1&St&&e.GkF(0)}function pe(St,ln){if(1&St&&(e.TgZ(0,"div",7),e.Hsn(1),e.YNc(2,K,1,0,"ng-container",8),e.qZA()),2&St){const Ye=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",Ye.headerTemplate)}}const ue=function(St){return{"p-checkbox-disabled":St}},Oe=function(St,ln,Ye){return{"p-highlight":St,"p-focus":ln,"p-disabled":Ye}},Te=function(St){return{"pi pi-check":St}};function ke(St,ln){if(1&St){const Ye=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"input",14),e.NdJ("focus",function(){e.CHM(Ye);const Ft=e.oxw(2);return e.KtG(Ft.onHeaderCheckboxFocus())})("blur",function(){e.CHM(Ye);const Ft=e.oxw(2);return e.KtG(Ft.onHeaderCheckboxBlur())})("keydown.space",function(Ft){e.CHM(Ye);const tn=e.oxw(2);return e.KtG(tn.toggleAll(Ft))}),e.qZA()(),e.TgZ(3,"div",15,16),e.NdJ("click",function(Ft){e.CHM(Ye);const tn=e.oxw(2);return e.KtG(tn.toggleAll(Ft))}),e._UZ(5,"span",17),e.qZA()()}if(2&St){const Ye=e.oxw(2);e.Q6J("ngClass",e.VKq(5,ue,Ye.disabled||Ye.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",Ye.allChecked)("disabled",Ye.disabled||Ye.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,Oe,Ye.allChecked,Ye.headerCheckboxFocus,Ye.disabled||Ye.toggleAllDisabled)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,Te,Ye.allChecked))}}function we(St,ln){1&St&&e.GkF(0)}const Fe=function(St){return{options:St}};function Y(St,ln){if(1&St&&(e.ynx(0),e.YNc(1,we,1,0,"ng-container",18),e.BQk()),2&St){const Ye=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",Ye.filterTemplate)("ngTemplateOutletContext",e.VKq(2,Fe,Ye.filterOptions))}}function Pe(St,ln){if(1&St){const Ye=e.EpF();e.TgZ(0,"div",20)(1,"input",21,22),e.NdJ("input",function(Ft){e.CHM(Ye);const tn=e.oxw(3);return e.KtG(tn.onFilter(Ft))}),e.qZA(),e._UZ(3,"span",23),e.qZA()}if(2&St){const Ye=e.oxw(3);e.xp6(1),e.Q6J("value",Ye.filterValue||"")("disabled",Ye.disabled),e.uIk("placeholder",Ye.filterPlaceHolder)("aria-label",Ye.ariaFilterLabel)}}function de(St,ln){if(1&St&&e.YNc(0,Pe,4,4,"div",19),2&St){const Ye=e.oxw(2);e.Q6J("ngIf",Ye.filter)}}function N(St,ln){if(1&St&&(e.TgZ(0,"div",7),e.YNc(1,ke,6,13,"div",9),e.YNc(2,Y,2,4,"ng-container",10),e.YNc(3,de,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&St){const Ye=e.MAs(4),Mt=e.oxw();e.xp6(1),e.Q6J("ngIf",Mt.checkbox&&Mt.multiple&&Mt.showToggleAll),e.xp6(1),e.Q6J("ngIf",Mt.filterTemplate)("ngIfElse",Ye)}}function O(St,ln){if(1&St&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&St){const Ye=e.oxw().$implicit,Mt=e.oxw(2);e.xp6(1),e.Oqu(Mt.getOptionGroupLabel(Ye)||"empty")}}function ye(St,ln){1&St&&e.GkF(0)}function Ce(St,ln){1&St&&e.GkF(0)}const ve=function(St){return{$implicit:St}};function V(St,ln){if(1&St&&(e.TgZ(0,"li",25),e.YNc(1,O,2,1,"span",3),e.YNc(2,ye,1,0,"ng-container",18),e.qZA(),e.YNc(3,Ce,1,0,"ng-container",18)),2&St){const Ye=ln.$implicit,Mt=e.oxw(2),Ft=e.MAs(8);e.xp6(1),e.Q6J("ngIf",!Mt.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Mt.groupTemplate)("ngTemplateOutletContext",e.VKq(5,ve,Ye)),e.xp6(1),e.Q6J("ngTemplateOutlet",Ft)("ngTemplateOutletContext",e.VKq(7,ve,Mt.getOptionGroupChildren(Ye)))}}function w(St,ln){if(1&St&&(e.ynx(0),e.YNc(1,V,4,9,"ng-template",24),e.BQk()),2&St){const Ye=e.oxw();e.xp6(1),e.Q6J("ngForOf",Ye.optionsToRender)}}function F(St,ln){1&St&&e.GkF(0)}function q(St,ln){if(1&St&&(e.ynx(0),e.YNc(1,F,1,0,"ng-container",18),e.BQk()),2&St){const Ye=e.oxw(),Mt=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",Mt)("ngTemplateOutletContext",e.VKq(2,ve,Ye.optionsToRender))}}const _e=function(St){return{"p-highlight":St}};function De(St,ln){if(1&St&&(e.TgZ(0,"div",12)(1,"div",28),e._UZ(2,"span",17),e.qZA()()),2&St){const Ye=e.oxw().$implicit,Mt=e.oxw(2);e.Q6J("ngClass",e.VKq(3,ue,Mt.disabled||Mt.isOptionDisabled(Ye))),e.xp6(1),e.Q6J("ngClass",e.VKq(5,_e,Mt.isSelected(Ye))),e.xp6(1),e.Q6J("ngClass",e.VKq(7,Te,Mt.isSelected(Ye)))}}function Le(St,ln){if(1&St&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&St){const Ye=e.oxw().$implicit,Mt=e.oxw(2);e.xp6(1),e.Oqu(Mt.getOptionLabel(Ye))}}function Me(St,ln){1&St&&e.GkF(0)}const ht=function(St,ln){return{"p-listbox-item":!0,"p-highlight":St,"p-disabled":ln}},at=function(St,ln){return{$implicit:St,index:ln}};function Se(St,ln){if(1&St){const Ye=e.EpF();e.TgZ(0,"li",27),e.NdJ("click",function(Ft){const Vn=e.CHM(Ye).$implicit,oi=e.oxw(2);return e.KtG(oi.onOptionClick(Ft,Vn))})("dblclick",function(Ft){const Vn=e.CHM(Ye).$implicit,oi=e.oxw(2);return e.KtG(oi.onOptionDoubleClick(Ft,Vn))})("touchend",function(){const tn=e.CHM(Ye).$implicit,Vn=e.oxw(2);return e.KtG(Vn.onOptionTouchEnd(tn))})("keydown",function(Ft){const Vn=e.CHM(Ye).$implicit,oi=e.oxw(2);return e.KtG(oi.onOptionKeyDown(Ft,Vn))}),e.YNc(1,De,3,9,"div",9),e.YNc(2,Le,2,1,"span",3),e.YNc(3,Me,1,0,"ng-container",18),e.qZA()}if(2&St){const Ye=ln.$implicit,Mt=ln.index,Ft=e.oxw(2);e.Q6J("ngClass",e.WLB(8,ht,Ft.isSelected(Ye),Ft.isOptionDisabled(Ye))),e.uIk("tabindex",Ft.disabled||Ft.isOptionDisabled(Ye)?null:"0")("aria-label",Ft.getOptionLabel(Ye))("aria-selected",Ft.isSelected(Ye)),e.xp6(1),e.Q6J("ngIf",Ft.checkbox&&Ft.multiple),e.xp6(1),e.Q6J("ngIf",!Ft.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Ft.itemTemplate)("ngTemplateOutletContext",e.WLB(11,at,Ye,Mt))}}function $(St,ln){1&St&&e.YNc(0,Se,4,14,"li",26),2&St&&e.Q6J("ngForOf",ln.$implicit)}function B(St,ln){if(1&St&&(e.ynx(0),e._uU(1),e.BQk()),2&St){const Ye=e.oxw(2);e.xp6(1),e.hij(" ",Ye.emptyFilterMessageLabel," ")}}function j(St,ln){1&St&&e.GkF(0,null,30)}function Ue(St,ln){if(1&St&&(e.TgZ(0,"li",29),e.YNc(1,B,2,1,"ng-container",10),e.YNc(2,j,2,0,"ng-container",8),e.qZA()),2&St){const Ye=e.oxw();e.xp6(1),e.Q6J("ngIf",!Ye.emptyFilterTemplate&&!Ye.emptyTemplate)("ngIfElse",Ye.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",Ye.emptyFilterTemplate||Ye.emptyTemplate)}}function fe(St,ln){if(1&St&&(e.ynx(0),e._uU(1),e.BQk()),2&St){const Ye=e.oxw(2);e.xp6(1),e.hij(" ",Ye.emptyMessageLabel," ")}}function qe(St,ln){1&St&&e.GkF(0,null,31)}function je(St,ln){if(1&St&&(e.TgZ(0,"li",29),e.YNc(1,fe,2,1,"ng-container",10),e.YNc(2,qe,2,0,"ng-container",8),e.qZA()),2&St){const Ye=e.oxw();e.xp6(1),e.Q6J("ngIf",!Ye.emptyTemplate)("ngIfElse",Ye.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",Ye.emptyTemplate)}}function mt(St,ln){1&St&&e.GkF(0)}function bt(St,ln){if(1&St&&(e.TgZ(0,"div",32),e.Hsn(1,1),e.YNc(2,mt,1,0,"ng-container",8),e.qZA()),2&St){const Ye=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",Ye.footerTemplate)}}const st=[[["p-header"]],[["p-footer"]]],xt=function(St){return{"p-listbox p-component":!0,"p-disabled":St}},ot=["p-header","p-footer"],We={provide:I.JU,useExisting:(0,e.Gpc)(()=>hn),multi:!0};let hn=(()=>{class St{constructor(Ye,Mt,Ft,tn){this.el=Ye,this.cd=Mt,this.filterService=Ft,this.config=tn,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new e.vpe,this.onClick=new e.vpe,this.onDblClick=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(Ye){this._options=Ye,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(Ye){this._filterValue=Ye,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:Ye=>this.onFilter(Ye),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(Ye=>{switch(Ye.getType()){case"item":default:this.itemTemplate=Ye.template;break;case"group":this.groupTemplate=Ye.template;break;case"header":this.headerTemplate=Ye.template;break;case"filter":this.filterTemplate=Ye.template;break;case"footer":this.footerTemplate=Ye.template;break;case"empty":this.emptyTemplate=Ye.template;break;case"emptyfilter":this.emptyFilterTemplate=Ye.template}})}getOptionLabel(Ye){return this.optionLabel?L.gb.resolveFieldData(Ye,this.optionLabel):null!=Ye.label?Ye.label:Ye}getOptionGroupChildren(Ye){return this.optionGroupChildren?L.gb.resolveFieldData(Ye,this.optionGroupChildren):Ye.items}getOptionGroupLabel(Ye){return this.optionGroupLabel?L.gb.resolveFieldData(Ye,this.optionGroupLabel):null!=Ye.label?Ye.label:Ye}getOptionValue(Ye){return this.optionValue?L.gb.resolveFieldData(Ye,this.optionValue):this.optionLabel||void 0===Ye.value?Ye:Ye.value}isOptionDisabled(Ye){return this.optionDisabled?L.gb.resolveFieldData(Ye,this.optionDisabled):void 0!==Ye.disabled&&Ye.disabled}writeValue(Ye){this.value=Ye,this.cd.markForCheck()}registerOnChange(Ye){this.onModelChange=Ye}registerOnTouched(Ye){this.onModelTouched=Ye}setDisabledState(Ye){this.disabled=Ye,this.cd.markForCheck()}onOptionClick(Ye,Mt){this.disabled||this.isOptionDisabled(Mt)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(Ye,Mt):this.onOptionClickMultiple(Ye,Mt):this.onOptionClickSingle(Ye,Mt),this.onClick.emit({originalEvent:Ye,option:Mt,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(Ye){this.disabled||this.isOptionDisabled(Ye)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(Ye,Mt){this.disabled||this.isOptionDisabled(Mt)||this.readonly||this.onDblClick.emit({originalEvent:Ye,option:Mt,value:this.value})}onOptionClickSingle(Ye,Mt){let Ft=this.isSelected(Mt),tn=!1;if(!this.optionTouched&&this.metaKeySelection){let oi=Ye.metaKey||Ye.ctrlKey;Ft?oi&&(this.value=null,tn=!0):(this.value=this.getOptionValue(Mt),tn=!0)}else this.value=Ft?null:this.getOptionValue(Mt),tn=!0;tn&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:Ye,value:this.value}))}onOptionClickMultiple(Ye,Mt){let Ft=this.isSelected(Mt),tn=!1;if(!this.optionTouched&&this.metaKeySelection){let oi=Ye.metaKey||Ye.ctrlKey;Ft?(oi?this.removeOption(Mt):this.value=[this.getOptionValue(Mt)],tn=!0):(this.value=oi&&this.value||[],this.value=[...this.value,this.getOptionValue(Mt)],tn=!0)}else Ft?this.removeOption(Mt):this.value=[...this.value||[],this.getOptionValue(Mt)],tn=!0;tn&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:Ye,value:this.value}))}onOptionClickCheckbox(Ye,Mt){this.disabled||this.readonly||(this.isSelected(Mt)?this.removeOption(Mt):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(Mt)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:Ye,value:this.value}))}removeOption(Ye){this.value=this.value.filter(Mt=>!L.gb.equals(Mt,this.getOptionValue(Ye),this.dataKey))}isSelected(Ye){let Mt=!1,Ft=this.getOptionValue(Ye);if(this.multiple){if(this.value)for(let tn of this.value)if(L.gb.equals(tn,Ft,this.dataKey)){Mt=!0;break}}else Mt=L.gb.equals(this.value,Ft,this.dataKey);return Mt}get allChecked(){let Ye=this.optionsToRender;if(!Ye||0===Ye.length)return!1;{let Mt=0,Ft=0,tn=0,Vn=this.group?0:this.optionsToRender.length;for(let oi of Ye)if(this.group)for(let Kn of this.getOptionGroupChildren(oi)){let Ut=this.isOptionDisabled(Kn),ft=this.isSelected(Kn);if(Ut)ft?Mt++:Ft++;else{if(!ft)return!1;tn++}Vn++}else{let Kn=this.isOptionDisabled(oi),Ut=this.isSelected(oi);if(Kn)Ut?Mt++:Ft++;else{if(!Ut)return!1;tn++}}return Vn===Mt||Vn===tn||tn&&Vn===tn+Ft+Mt}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(g.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(g.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilter(Ye){this._filterValue=Ye.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let Ye=(this.filterBy||this.optionLabel||"label").split(","),Mt=[];for(let Ft of this.options){let tn=this.filterService.filter(this.getOptionGroupChildren(Ft),Ye,this.filterValue,this.filterMatchMode,this.filterLocale);tn&&tn.length&&Mt.push(Object.assign(Object.assign({},Ft),{[this.optionGroupChildren]:tn}))}this._filteredOptions=Mt}else this._filteredOptions=this._options.filter(Ye=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(Ye),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let Ye=this.optionsToRender;if(!Ye||0===Ye.length)return!0;for(let Mt of Ye)if(!this.isOptionDisabled(Mt))return!1;return!0}toggleAll(Ye){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:Ye,value:this.value}),Ye.preventDefault())}checkAll(){let Mt=[];this.optionsToRender.forEach(Ft=>{if(this.group){let tn=this.getOptionGroupChildren(Ft);tn&&tn.forEach(Vn=>{let oi=this.isOptionDisabled(Vn);(!oi||oi&&this.isSelected(Vn))&&Mt.push(this.getOptionValue(Vn))})}else{let tn=this.isOptionDisabled(Ft);(!tn||tn&&this.isSelected(Ft))&&Mt.push(this.getOptionValue(Ft))}}),this.value=Mt}uncheckAll(){let Mt=[];this.optionsToRender.forEach(Ft=>{this.group?Ft.items&&Ft.items.forEach(tn=>{this.isOptionDisabled(tn)&&this.isSelected(tn)&&Mt.push(this.getOptionValue(tn))}):this.isOptionDisabled(Ft)&&this.isSelected(Ft)&&Mt.push(this.getOptionValue(Ft))}),this.value=Mt}onOptionKeyDown(Ye,Mt){if(this.readonly)return;let Ft=Ye.currentTarget;switch(Ye.which){case 40:var tn=this.findNextItem(Ft);tn&&tn.focus(),Ye.preventDefault();break;case 38:var Vn=this.findPrevItem(Ft);Vn&&Vn.focus(),Ye.preventDefault();break;case 13:this.onOptionClick(Ye,Mt),Ye.preventDefault()}}findNextItem(Ye){let Mt=Ye.nextElementSibling;return Mt?H.p.hasClass(Mt,"p-disabled")||H.p.isHidden(Mt)||H.p.hasClass(Mt,"p-listbox-item-group")?this.findNextItem(Mt):Mt:null}findPrevItem(Ye){let Mt=Ye.previousElementSibling;return Mt?H.p.hasClass(Mt,"p-disabled")||H.p.isHidden(Mt)||H.p.hasClass(Mt,"p-listbox-item-group")?this.findPrevItem(Mt):Mt:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return St.\u0275fac=function(Ye){return new(Ye||St)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(g.iZ),e.Y36(g.b4))},St.\u0275cmp=e.Xpm({type:St,selectors:[["p-listbox"]],contentQueries:function(Ye,Mt,Ft){if(1&Ye&&(e.Suo(Ft,g.h4,5),e.Suo(Ft,g.$_,5),e.Suo(Ft,g.jx,4)),2&Ye){let tn;e.iGM(tn=e.CRH())&&(Mt.headerFacet=tn.first),e.iGM(tn=e.CRH())&&(Mt.footerFacet=tn.first),e.iGM(tn=e.CRH())&&(Mt.templates=tn)}},viewQuery:function(Ye,Mt){if(1&Ye&&(e.Gf(le,5),e.Gf(re,5)),2&Ye){let Ft;e.iGM(Ft=e.CRH())&&(Mt.headerCheckboxViewChild=Ft.first),e.iGM(Ft=e.CRH())&&(Mt.filterViewChild=Ft.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[e._Bn([We])],ngContentSelectors:ot,decls:12,vars:18,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-empty-message",4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(Ye,Mt){1&Ye&&(e.F$t(st),e.TgZ(0,"div",0),e.YNc(1,pe,3,1,"div",1),e.YNc(2,N,5,3,"div",1),e.TgZ(3,"div",0)(4,"ul",2),e.YNc(5,w,2,1,"ng-container",3),e.YNc(6,q,2,4,"ng-container",3),e.YNc(7,$,1,1,"ng-template",null,4,e.W1O),e.YNc(9,Ue,3,3,"li",5),e.YNc(10,je,3,3,"li",5),e.qZA()(),e.YNc(11,bt,3,1,"div",6),e.qZA()),2&Ye&&(e.Tol(Mt.styleClass),e.Q6J("ngClass",e.VKq(16,xt,Mt.disabled))("ngStyle",Mt.style),e.xp6(1),e.Q6J("ngIf",Mt.headerFacet||Mt.headerTemplate),e.xp6(1),e.Q6J("ngIf",Mt.checkbox&&Mt.multiple&&Mt.showToggleAll||Mt.filter),e.xp6(1),e.Tol(Mt.listStyleClass),e.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",Mt.listStyle),e.xp6(1),e.uIk("aria-multiselectable",Mt.multiple),e.xp6(1),e.Q6J("ngIf",Mt.group),e.xp6(1),e.Q6J("ngIf",!Mt.group),e.xp6(3),e.Q6J("ngIf",Mt.hasFilter()&&Mt.isEmpty()),e.xp6(1),e.Q6J("ngIf",!Mt.hasFilter()&&Mt.isEmpty()),e.xp6(1),e.Q6J("ngIf",Mt.footerFacet||Mt.footerTemplate))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,U.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),St})(),fn=(()=>{class St{}return St.\u0275fac=function(Ye){return new(Ye||St)},St.\u0275mod=e.oAB({type:St}),St.\u0275inj=e.cJS({imports:[s.ez,g.m8,U.T,g.m8]}),St})()},1874:(Ht,et,_)=>{_.d(et,{$9:()=>bt,v2:()=>mt});var e=_(5e3),s=_(1777),g=_(9808),H=_(5730),L=_(5921),I=_(5572),U=_(5787),le=_(4119),re=_(9783);const K=["pMenuItemContent",""];function pe(st,xt){if(1&st&&e._UZ(0,"span",7),2&st){const ot=e.oxw(2);e.Tol(ot.item.iconClass),e.Q6J("ngClass",ot.item.icon)("ngStyle",ot.item.iconStyle)}}function ue(st,xt){if(1&st&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&st){const ot=e.oxw(2);e.xp6(1),e.Oqu(ot.item.label)}}function Oe(st,xt){if(1&st&&e._UZ(0,"span",9),2&st){const ot=e.oxw(2);e.Q6J("innerHTML",ot.item.label,e.oJD)}}function Te(st,xt){if(1&st&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&st){const ot=e.oxw(2);e.Q6J("ngClass",ot.item.badgeStyleClass),e.xp6(1),e.Oqu(ot.item.badge)}}const ke=function(st){return{"p-disabled":st}};function we(st,xt){if(1&st){const ot=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown",function(hn){e.CHM(ot);const fn=e.oxw();return e.KtG(fn.onItemKeyDown(hn))})("click",function(hn){e.CHM(ot);const fn=e.oxw();return e.KtG(fn.menu.itemClick(hn,fn.item))}),e.YNc(1,pe,1,4,"span",3),e.YNc(2,ue,2,1,"span",4),e.YNc(3,Oe,1,1,"ng-template",null,5,e.W1O),e.YNc(5,Te,2,2,"span",6),e.qZA()}if(2&st){const ot=e.MAs(4),We=e.oxw();e.Q6J("target",We.item.target)("ngClass",e.VKq(12,ke,We.item.disabled))("target",We.item.target),e.uIk("href",We.item.url||null,e.LSH)("tabindex",We.item.disabled?null:"0")("data-automationid",We.item.automationId)("title",We.item.title)("id",We.item.id),e.xp6(1),e.Q6J("ngIf",We.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==We.item.escape)("ngIfElse",ot),e.xp6(3),e.Q6J("ngIf",We.item.badge)}}function Fe(st,xt){if(1&st&&e._UZ(0,"span",14),2&st){const ot=e.oxw(2);e.Q6J("ngClass",ot.item.icon)}}function Y(st,xt){if(1&st&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&st){const ot=e.oxw(2);e.xp6(1),e.Oqu(ot.item.label)}}function Pe(st,xt){if(1&st&&e._UZ(0,"span",9),2&st){const ot=e.oxw(2);e.Q6J("innerHTML",ot.item.label,e.oJD)}}function de(st,xt){if(1&st&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&st){const ot=e.oxw(2);e.Q6J("ngClass",ot.item.badgeStyleClass),e.xp6(1),e.Oqu(ot.item.badge)}}const N=function(){return{exact:!1}};function O(st,xt){if(1&st){const ot=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(hn){e.CHM(ot);const fn=e.oxw();return e.KtG(fn.onItemKeyDown(hn))})("click",function(hn){e.CHM(ot);const fn=e.oxw();return e.KtG(fn.menu.itemClick(hn,fn.item))}),e.YNc(1,Fe,1,1,"span",12),e.YNc(2,Y,2,1,"span",4),e.YNc(3,Pe,1,1,"ng-template",null,13,e.W1O),e.YNc(5,de,2,2,"span",6),e.qZA()}if(2&st){const ot=e.MAs(4),We=e.oxw();e.Q6J("routerLink",We.item.routerLink)("queryParams",We.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",We.item.routerLinkActiveOptions||e.DdM(20,N))("target",We.item.target)("ngClass",e.VKq(21,ke,We.item.disabled))("fragment",We.item.fragment)("queryParamsHandling",We.item.queryParamsHandling)("preserveFragment",We.item.preserveFragment)("skipLocationChange",We.item.skipLocationChange)("replaceUrl",We.item.replaceUrl)("state",We.item.state),e.uIk("data-automationid",We.item.automationId)("id",We.item.id)("tabindex",We.item.disabled?null:"0")("title",We.item.title),e.xp6(1),e.Q6J("ngIf",We.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==We.item.escape)("ngIfElse",ot),e.xp6(3),e.Q6J("ngIf",We.item.badge)}}const ye=["container"],Ce=function(st){return{"p-hidden":st}};function ve(st,xt){if(1&st&&e._UZ(0,"li",8),2&st){const ot=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,Ce,!1===ot.visible))}}function V(st,xt){if(1&st&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&st){const ot=e.oxw(2).$implicit;e.xp6(1),e.Oqu(ot.label)}}function w(st,xt){if(1&st&&e._UZ(0,"span",12),2&st){const ot=e.oxw(2).$implicit;e.Q6J("innerHTML",ot.label,e.oJD)}}const F=function(st,xt){return{"p-hidden":st,flex:xt}};function q(st,xt){if(1&st&&(e.TgZ(0,"li",9),e.YNc(1,V,2,1,"span",10),e.YNc(2,w,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&st){const ot=e.MAs(3),We=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(5,F,!1===We.visible,We.visible))("tooltipOptions",We.tooltipOptions),e.uIk("data-automationid",We.automationId),e.xp6(1),e.Q6J("ngIf",!1!==We.escape)("ngIfElse",ot)}}function _e(st,xt){if(1&st&&e._UZ(0,"li",8),2&st){const ot=e.oxw().$implicit,We=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,Ce,!1===ot.visible||!1===We.visible))}}function De(st,xt){if(1&st&&e._UZ(0,"li",14),2&st){const ot=e.oxw().$implicit,We=e.oxw().$implicit;e.Tol(ot.styleClass),e.Q6J("pMenuItemContent",ot)("ngClass",e.VKq(6,Ce,!1===ot.visible||!1===We.visible))("ngStyle",ot.style)("tooltipOptions",ot.tooltipOptions)}}function Le(st,xt){if(1&st&&(e.YNc(0,_e,1,3,"li",6),e.YNc(1,De,1,8,"li",13)),2&st){const ot=xt.$implicit;e.Q6J("ngIf",ot.separator),e.xp6(1),e.Q6J("ngIf",!ot.separator)}}function Me(st,xt){if(1&st&&(e.YNc(0,ve,1,3,"li",6),e.YNc(1,q,4,8,"li",7),e.YNc(2,Le,2,2,"ng-template",5)),2&st){const ot=xt.$implicit;e.Q6J("ngIf",ot.separator),e.xp6(1),e.Q6J("ngIf",!ot.separator),e.xp6(1),e.Q6J("ngForOf",ot.items)}}function ht(st,xt){if(1&st&&e.YNc(0,Me,3,3,"ng-template",5),2&st){const ot=e.oxw(2);e.Q6J("ngForOf",ot.model)}}function at(st,xt){if(1&st&&e._UZ(0,"li",8),2&st){const ot=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,Ce,!1===ot.visible))}}function Se(st,xt){if(1&st&&e._UZ(0,"li",14),2&st){const ot=e.oxw().$implicit;e.Tol(ot.styleClass),e.Q6J("pMenuItemContent",ot)("ngClass",e.VKq(6,Ce,!1===ot.visible))("ngStyle",ot.style)("tooltipOptions",ot.tooltipOptions)}}function $(st,xt){if(1&st&&(e.YNc(0,at,1,3,"li",6),e.YNc(1,Se,1,8,"li",13)),2&st){const ot=xt.$implicit;e.Q6J("ngIf",ot.separator),e.xp6(1),e.Q6J("ngIf",!ot.separator)}}function B(st,xt){if(1&st&&e.YNc(0,$,2,2,"ng-template",5),2&st){const ot=e.oxw(2);e.Q6J("ngForOf",ot.model)}}const j=function(st){return{"p-menu p-component":!0,"p-menu-overlay":st}},Ue=function(st,xt){return{showTransitionParams:st,hideTransitionParams:xt}},fe=function(st){return{value:"visible",params:st}};function qe(st,xt){if(1&st){const ot=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(hn){e.CHM(ot);const fn=e.oxw();return e.KtG(fn.onOverlayClick(hn))})("@overlayAnimation.start",function(hn){e.CHM(ot);const fn=e.oxw();return e.KtG(fn.onOverlayAnimationStart(hn))})("@overlayAnimation.done",function(hn){e.CHM(ot);const fn=e.oxw();return e.KtG(fn.onOverlayAnimationEnd(hn))}),e.TgZ(2,"ul",3),e.YNc(3,ht,1,1,null,4),e.YNc(4,B,1,1,null,4),e.qZA()()}if(2&st){const ot=e.oxw();e.Tol(ot.styleClass),e.Q6J("ngClass",e.VKq(8,j,ot.popup))("ngStyle",ot.style)("@overlayAnimation",e.VKq(13,fe,e.WLB(10,Ue,ot.showTransitionOptions,ot.hideTransitionOptions)))("@.disabled",!0!==ot.popup),e.xp6(3),e.Q6J("ngIf",ot.hasSubMenu()),e.xp6(1),e.Q6J("ngIf",!ot.hasSubMenu())}}let je=(()=>{class st{constructor(ot){this.menu=ot}onItemKeyDown(ot){let We=ot.currentTarget.parentElement;switch(ot.code){case"ArrowDown":var hn=this.findNextItem(We);hn&&hn.children[0].focus(),ot.preventDefault();break;case"ArrowUp":var fn=this.findPrevItem(We);fn&&fn.children[0].focus(),ot.preventDefault();break;case"Space":case"Enter":We&&!H.p.hasClass(We,"p-disabled")&&We.children[0].click(),ot.preventDefault()}}findNextItem(ot){let We=ot.nextElementSibling;return We?H.p.hasClass(We,"p-disabled")||!H.p.hasClass(We,"p-menuitem")?this.findNextItem(We):We:null}findPrevItem(ot){let We=ot.previousElementSibling;return We?H.p.hasClass(We,"p-disabled")||!H.p.hasClass(We,"p-menuitem")?this.findPrevItem(We):We:null}}return st.\u0275fac=function(ot){return new(ot||st)(e.Y36((0,e.Gpc)(()=>mt)))},st.\u0275cmp=e.Xpm({type:st,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:K,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(ot,We){1&ot&&(e.YNc(0,we,6,14,"a",0),e.YNc(1,O,6,23,"a",1)),2&ot&&(e.Q6J("ngIf",!We.item.routerLink),e.xp6(1),e.Q6J("ngIf",We.item.routerLink))},dependencies:[g.mk,g.O5,g.PC,I.yS,I.Od,U.H],encapsulation:2}),st})(),mt=(()=>{class st{constructor(ot,We,hn,fn,St){this.el=ot,this.renderer=We,this.cd=hn,this.config=fn,this.overlayService=St,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe}toggle(ot){this.visible?this.hide():this.show(ot),this.preventDocumentDefault=!0}show(ot){this.target=ot.currentTarget,this.relativeAlign=ot.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(ot){switch(ot.toState){case"visible":this.popup&&(this.container=ot.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(ot){"void"===ot.toState&&this.autoZIndex&&L.P9.clear(ot.element)}alignOverlay(){this.relativeAlign?H.p.relativePosition(this.container,this.target):H.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):H.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&L.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!H.p.isTouchDevice()&&this.hide()}itemClick(ot,We){We.disabled?ot.preventDefault():(!We.url&&!We.routerLink&&ot.preventDefault(),We.command&&We.command({originalEvent:ot,item:We}),this.popup&&this.hide())}onOverlayClick(ot){this.popup&&this.overlayService.add({originalEvent:ot,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new H.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&L.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var ot of this.model)if(ot.items)return!0;return!1}}return st.\u0275fac=function(ot){return new(ot||st)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(re.b4),e.Y36(re.F0))},st.\u0275cmp=e.Xpm({type:st,selectors:[["p-menu"]],viewQuery:function(ot,We){if(1&ot&&e.Gf(ye,5),2&ot){let hn;e.iGM(hn=e.CRH())&&(We.containerViewChild=hn.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(ot,We){1&ot&&e.YNc(0,qe,5,15,"div",0),2&ot&&e.Q6J("ngIf",!We.popup||We.visible)},dependencies:[g.mk,g.sg,g.O5,g.PC,le.u,je],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,s.X$)("overlayAnimation",[(0,s.eR)(":enter",[(0,s.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,s.jt)("{{showTransitionParams}}")]),(0,s.eR)(":leave",[(0,s.jt)("{{hideTransitionParams}}",(0,s.oB)({opacity:0}))])])]},changeDetection:0}),st})(),bt=(()=>{class st{}return st.\u0275fac=function(ot){return new(ot||st)},st.\u0275mod=e.oAB({type:st}),st.\u0275inj=e.cJS({imports:[g.ez,I.Bz,U.T,le.z,I.Bz,le.z]}),st})()},6526:(Ht,et,_)=>{_.d(et,{NU:()=>$n,q4:()=>Wi});var e=_(9808),s=_(5e3),g=_(2382),H=_(9783),L=_(5730),I=_(8050),U=_(5787),le=_(5871),re=_(4119),K=_(5921);function pe(kt,rn){if(1&kt&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&kt){const $e=s.oxw();s.xp6(1),s.Oqu($e.label)}}function ue(kt,rn){1&kt&&s.GkF(0)}const Oe=function(kt){return{height:kt}},Te=function(kt,rn){return{"p-highlight":kt,"p-disabled":rn}},ke=function(kt){return{"p-highlight":kt}},we=function(kt){return{"pi pi-check":kt}},Fe=function(kt){return{$implicit:kt}},Y=["container"],Pe=["overlay"],de=["filterInput"],N=["in"],O=["items"],ye=["scroller"];function Ce(kt,rn){if(1&kt&&(s.ynx(0),s._uU(1),s.BQk()),2&kt){const $e=s.oxw(2);s.xp6(1),s.Oqu($e.valuesAsString||"empty")}}function ve(kt,rn){if(1&kt){const $e=s.EpF();s.TgZ(0,"span",20),s.NdJ("click",function(Yt){s.CHM($e);const $t=s.oxw().$implicit,xn=s.oxw(3);return s.KtG(xn.removeChip($t,Yt))}),s.qZA()}}function V(kt,rn){if(1&kt&&(s.TgZ(0,"div",16,17)(2,"span",18),s._uU(3),s.qZA(),s.YNc(4,ve,1,0,"span",19),s.qZA()),2&kt){const $e=rn.$implicit,yt=s.oxw(3);s.xp6(3),s.Oqu(yt.findLabelByValue($e)),s.xp6(1),s.Q6J("ngIf",!yt.disabled)}}function w(kt,rn){if(1&kt&&(s.ynx(0),s._uU(1),s.BQk()),2&kt){const $e=s.oxw(3);s.xp6(1),s.Oqu($e.placeholder||$e.defaultLabel||"empty")}}function F(kt,rn){if(1&kt&&(s.ynx(0),s.YNc(1,V,5,2,"div",15),s.YNc(2,w,2,1,"ng-container",7),s.BQk()),2&kt){const $e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",$e.value),s.xp6(1),s.Q6J("ngIf",!$e.value||0===$e.value.length)}}function q(kt,rn){if(1&kt&&(s.ynx(0),s.YNc(1,Ce,2,1,"ng-container",7),s.YNc(2,F,3,2,"ng-container",7),s.BQk()),2&kt){const $e=s.oxw();s.xp6(1),s.Q6J("ngIf","comma"===$e.display),s.xp6(1),s.Q6J("ngIf","chip"===$e.display)}}function _e(kt,rn){1&kt&&s.GkF(0)}function De(kt,rn){if(1&kt){const $e=s.EpF();s.TgZ(0,"i",21),s.NdJ("click",function(Yt){s.CHM($e);const $t=s.oxw();return s.KtG($t.clear(Yt))}),s.qZA()}}function Le(kt,rn){1&kt&&s.GkF(0)}function Me(kt,rn){1&kt&&s.GkF(0)}const ht=function(kt){return{options:kt}};function at(kt,rn){if(1&kt&&(s.ynx(0),s.YNc(1,Me,1,0,"ng-container",8),s.BQk()),2&kt){const $e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",$e.filterTemplate)("ngTemplateOutletContext",s.VKq(2,ht,$e.filterOptions))}}const Se=function(kt){return{"p-checkbox-disabled":kt}},$=function(kt,rn,$e){return{"p-highlight":kt,"p-focus":rn,"p-disabled":$e}};function B(kt,rn){if(1&kt){const $e=s.EpF();s.TgZ(0,"div",36)(1,"div",2)(2,"input",37),s.NdJ("focus",function(){s.CHM($e);const Yt=s.oxw(4);return s.KtG(Yt.onHeaderCheckboxFocus())})("blur",function(){s.CHM($e);const Yt=s.oxw(4);return s.KtG(Yt.onHeaderCheckboxBlur())})("keydown.space",function(Yt){s.CHM($e);const $t=s.oxw(4);return s.KtG($t.toggleAll(Yt))}),s.qZA()(),s.TgZ(3,"div",38),s.NdJ("click",function(Yt){s.CHM($e);const $t=s.oxw(4);return s.KtG($t.toggleAll(Yt))}),s._UZ(4,"span",39),s.qZA()()}if(2&kt){const $e=s.oxw(4);s.Q6J("ngClass",s.VKq(6,Se,$e.disabled||$e.toggleAllDisabled)),s.xp6(2),s.Q6J("checked",$e.allChecked)("disabled",$e.disabled||$e.toggleAllDisabled),s.xp6(1),s.Q6J("ngClass",s.kEZ(8,$,$e.allChecked,$e.headerCheckboxFocus,$e.disabled||$e.toggleAllDisabled)),s.uIk("aria-checked",$e.allChecked),s.xp6(1),s.Q6J("ngClass",s.VKq(12,we,$e.allChecked))}}function j(kt,rn){if(1&kt){const $e=s.EpF();s.TgZ(0,"div",40)(1,"input",41,42),s.NdJ("input",function(Yt){s.CHM($e);const $t=s.oxw(4);return s.KtG($t.onFilterInputChange(Yt))}),s.qZA(),s._UZ(3,"span",43),s.qZA()}if(2&kt){const $e=s.oxw(4);s.xp6(1),s.Q6J("value",$e.filterValue||"")("disabled",$e.disabled),s.uIk("autocomplete",$e.autocomplete)("placeholder",$e.filterPlaceHolder)("aria-label",$e.ariaFilterLabel)}}function Ue(kt,rn){if(1&kt){const $e=s.EpF();s.YNc(0,B,5,14,"div",32),s.YNc(1,j,4,5,"div",33),s.TgZ(2,"button",34),s.NdJ("click",function(Yt){s.CHM($e);const $t=s.oxw(3);return s.KtG($t.close(Yt))}),s._UZ(3,"span",35),s.qZA()}if(2&kt){const $e=s.oxw(3);s.Q6J("ngIf",$e.showToggleAll&&!$e.selectionLimit),s.xp6(1),s.Q6J("ngIf",$e.filter)}}function fe(kt,rn){if(1&kt&&(s.TgZ(0,"div",28),s.Hsn(1),s.YNc(2,Le,1,0,"ng-container",29),s.YNc(3,at,2,4,"ng-container",30),s.YNc(4,Ue,4,2,"ng-template",null,31,s.W1O),s.qZA()),2&kt){const $e=s.MAs(5),yt=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",yt.headerTemplate),s.xp6(1),s.Q6J("ngIf",yt.filterTemplate)("ngIfElse",$e)}}function qe(kt,rn){1&kt&&s.GkF(0)}const je=function(kt,rn){return{$implicit:kt,options:rn}};function mt(kt,rn){if(1&kt&&s.YNc(0,qe,1,0,"ng-container",8),2&kt){const $e=rn.$implicit,yt=rn.options;s.oxw(2);const Yt=s.MAs(6);s.Q6J("ngTemplateOutlet",Yt)("ngTemplateOutletContext",s.WLB(2,je,$e,yt))}}function bt(kt,rn){1&kt&&s.GkF(0)}function st(kt,rn){if(1&kt&&s.YNc(0,bt,1,0,"ng-container",8),2&kt){const $e=rn.options,yt=s.oxw(4);s.Q6J("ngTemplateOutlet",yt.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,ht,$e))}}function xt(kt,rn){1&kt&&(s.ynx(0),s.YNc(1,st,1,4,"ng-template",46),s.BQk())}function ot(kt,rn){if(1&kt){const $e=s.EpF();s.TgZ(0,"p-scroller",44,45),s.NdJ("onLazyLoad",function(Yt){s.CHM($e);const $t=s.oxw(2);return s.KtG($t.onLazyLoad.emit(Yt))}),s.YNc(2,mt,1,5,"ng-template",14),s.YNc(3,xt,2,0,"ng-container",7),s.qZA()}if(2&kt){const $e=s.oxw(2);s.Akn(s.VKq(9,Oe,$e.scrollHeight)),s.Q6J("items",$e.optionsToRender)("itemSize",$e.virtualScrollItemSize||$e._itemSize)("autoSize",!0)("tabindex",-1)("lazy",$e.lazy)("options",$e.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",$e.loaderTemplate)}}function We(kt,rn){1&kt&&s.GkF(0)}const hn=function(){return{}};function fn(kt,rn){if(1&kt&&(s.ynx(0),s.YNc(1,We,1,0,"ng-container",8),s.BQk()),2&kt){s.oxw();const $e=s.MAs(6),yt=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",$e)("ngTemplateOutletContext",s.WLB(3,je,yt.optionsToRender,s.DdM(2,hn)))}}function St(kt,rn){if(1&kt&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&kt){const $e=s.oxw().$implicit,yt=s.oxw(4);s.xp6(1),s.Oqu(yt.getOptionGroupLabel($e)||"empty")}}function ln(kt,rn){1&kt&&s.GkF(0)}function Ye(kt,rn){1&kt&&s.GkF(0)}function Mt(kt,rn){if(1&kt&&(s.TgZ(0,"li",52),s.YNc(1,St,2,1,"span",7),s.YNc(2,ln,1,0,"ng-container",8),s.qZA(),s.YNc(3,Ye,1,0,"ng-container",8)),2&kt){const $e=rn.$implicit,yt=s.oxw(2).options,Yt=s.MAs(5),$t=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,Oe,yt.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!$t.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",$t.groupTemplate)("ngTemplateOutletContext",s.VKq(8,Fe,$e)),s.xp6(1),s.Q6J("ngTemplateOutlet",Yt)("ngTemplateOutletContext",s.VKq(10,Fe,$t.getOptionGroupChildren($e)))}}function Ft(kt,rn){if(1&kt&&(s.ynx(0),s.YNc(1,Mt,4,12,"ng-template",51),s.BQk()),2&kt){const $e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",$e)}}function tn(kt,rn){1&kt&&s.GkF(0)}function Vn(kt,rn){if(1&kt&&(s.ynx(0),s.YNc(1,tn,1,0,"ng-container",8),s.BQk()),2&kt){const $e=s.oxw().$implicit,yt=s.MAs(5);s.xp6(1),s.Q6J("ngTemplateOutlet",yt)("ngTemplateOutletContext",s.VKq(2,Fe,$e))}}function oi(kt,rn){if(1&kt){const $e=s.EpF();s.TgZ(0,"p-multiSelectItem",53),s.NdJ("onClick",function(Yt){s.CHM($e);const $t=s.oxw(4);return s.KtG($t.onOptionClick(Yt))})("onKeydown",function(Yt){s.CHM($e);const $t=s.oxw(4);return s.KtG($t.onOptionKeydown(Yt))}),s.qZA()}if(2&kt){const $e=rn.$implicit,yt=s.oxw(2).options,Yt=s.oxw(2);s.Q6J("option",$e)("selected",Yt.isSelected($e))("label",Yt.getOptionLabel($e))("disabled",Yt.isOptionDisabled($e))("template",Yt.itemTemplate)("itemSize",yt.itemSize)}}function Kn(kt,rn){1&kt&&s.YNc(0,oi,1,6,"ng-template",51),2&kt&&s.Q6J("ngForOf",rn.$implicit)}function Ut(kt,rn){if(1&kt&&(s.ynx(0),s._uU(1),s.BQk()),2&kt){const $e=s.oxw(4);s.xp6(1),s.hij(" ",$e.emptyFilterMessageLabel," ")}}function ft(kt,rn){1&kt&&s.GkF(0,null,55)}function Be(kt,rn){if(1&kt&&(s.TgZ(0,"li",54),s.YNc(1,Ut,2,1,"ng-container",30),s.YNc(2,ft,2,0,"ng-container",29),s.qZA()),2&kt){const $e=s.oxw().options,yt=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Oe,$e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!yt.emptyFilterTemplate&&!yt.emptyTemplate)("ngIfElse",yt.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",yt.emptyFilterTemplate||yt.emptyTemplate)}}function It(kt,rn){if(1&kt&&(s.ynx(0),s._uU(1),s.BQk()),2&kt){const $e=s.oxw(4);s.xp6(1),s.hij(" ",$e.emptyMessageLabel," ")}}function S(kt,rn){1&kt&&s.GkF(0,null,56)}function he(kt,rn){if(1&kt&&(s.TgZ(0,"li",54),s.YNc(1,It,2,1,"ng-container",30),s.YNc(2,S,2,0,"ng-container",29),s.qZA()),2&kt){const $e=s.oxw().options,yt=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Oe,$e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!yt.emptyTemplate)("ngIfElse",yt.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",yt.emptyTemplate)}}function Ae(kt,rn){if(1&kt&&(s.TgZ(0,"ul",47,48),s.YNc(2,Ft,2,1,"ng-container",7),s.YNc(3,Vn,2,4,"ng-container",7),s.YNc(4,Kn,1,1,"ng-template",null,49,s.W1O),s.YNc(6,Be,3,6,"li",50),s.YNc(7,he,3,6,"li",50),s.qZA()),2&kt){const $e=rn.options,yt=s.oxw(2);s.Akn($e.contentStyle),s.Q6J("ngClass",$e.contentStyleClass),s.xp6(2),s.Q6J("ngIf",yt.group),s.xp6(1),s.Q6J("ngIf",!yt.group),s.xp6(3),s.Q6J("ngIf",yt.hasFilter()&&yt.isEmpty()),s.xp6(1),s.Q6J("ngIf",!yt.hasFilter()&&yt.isEmpty())}}function Qe(kt,rn){1&kt&&s.GkF(0)}function Ot(kt,rn){if(1&kt&&(s.TgZ(0,"div",57),s.Hsn(1,1),s.YNc(2,Qe,1,0,"ng-container",29),s.qZA()),2&kt){const $e=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",$e.footerTemplate)}}const Kt=function(){return["p-multiselect-panel p-component"]};function en(kt,rn){if(1&kt){const $e=s.EpF();s.TgZ(0,"div",22),s.NdJ("keydown",function(Yt){s.CHM($e);const $t=s.oxw();return s.KtG($t.onKeydown(Yt))}),s.YNc(1,fe,6,3,"div",23),s.TgZ(2,"div",24),s.YNc(3,ot,4,11,"p-scroller",25),s.YNc(4,fn,2,6,"ng-container",7),s.YNc(5,Ae,8,7,"ng-template",null,26,s.W1O),s.qZA(),s.YNc(7,Ot,3,1,"div",27),s.qZA()}if(2&kt){const $e=s.oxw();s.Tol($e.panelStyleClass),s.Q6J("ngClass",s.DdM(10,Kt))("ngStyle",$e.panelStyle),s.xp6(1),s.Q6J("ngIf",$e.showHeader),s.xp6(1),s.Udp("max-height",$e.virtualScroll?"auto":$e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",$e.virtualScroll),s.xp6(1),s.Q6J("ngIf",!$e.virtualScroll),s.xp6(3),s.Q6J("ngIf",$e.footerFacet||$e.footerTemplate)}}const Xe=[[["p-header"]],[["p-footer"]]],wt=function(kt,rn,$e,yt){return{"p-multiselect p-component":!0,"p-multiselect-open":kt,"p-multiselect-chip":rn,"p-focus":$e,"p-disabled":yt}},ee=function(kt,rn){return{"p-placeholder":kt,"p-multiselect-label-empty":rn}},Ve=function(){return{"p-multiselect-trigger":!0}},ct=["p-header","p-footer"],Ct={provide:g.JU,useExisting:(0,s.Gpc)(()=>$n),multi:!0};let sn=(()=>{class kt{constructor(){this.onClick=new s.vpe,this.onKeydown=new s.vpe}onOptionClick($e){this.onClick.emit({originalEvent:$e,option:this.option})}onOptionKeydown($e){this.onKeydown.emit({originalEvent:$e,option:this.option})}}return kt.\u0275fac=function($e){return new($e||kt)},kt.\u0275cmp=s.Xpm({type:kt,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function($e,yt){1&$e&&(s.TgZ(0,"li",0),s.NdJ("click",function($t){return yt.onOptionClick($t)})("keydown",function($t){return yt.onOptionKeydown($t)}),s.TgZ(1,"div",1)(2,"div",2),s._UZ(3,"span",3),s.qZA()(),s.YNc(4,pe,2,1,"span",4),s.YNc(5,ue,1,0,"ng-container",5),s.qZA()),2&$e&&(s.Q6J("ngStyle",s.VKq(9,Oe,yt.itemSize+"px"))("ngClass",s.WLB(11,Te,yt.selected,yt.disabled)),s.uIk("aria-label",yt.label)("tabindex",yt.disabled?null:"0"),s.xp6(2),s.Q6J("ngClass",s.VKq(14,ke,yt.selected)),s.xp6(1),s.Q6J("ngClass",s.VKq(16,we,yt.selected)),s.xp6(1),s.Q6J("ngIf",!yt.template),s.xp6(1),s.Q6J("ngTemplateOutlet",yt.template)("ngTemplateOutletContext",s.VKq(18,Fe,yt.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,U.H],encapsulation:2}),kt})(),$n=(()=>{class kt{constructor($e,yt,Yt,$t,xn,Pn,di){this.el=$e,this.renderer=yt,this.cd=Yt,this.zone=$t,this.filterService=xn,this.config=Pn,this.overlayService=di,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onClear=new s.vpe,this.onPanelShow=new s.vpe,this.onPanelHide=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex($e){this._autoZIndex=$e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex($e){this._baseZIndex=$e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions($e){this._showTransitionOptions=$e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions($e){this._hideTransitionOptions=$e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel($e){this._defaultLabel=$e,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder($e){this._placeholder=$e,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options($e){this._options=$e,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue($e){this._filterValue=$e,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize($e){this._itemSize=$e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:$e=>this.onFilterInputChange($e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach($e=>{switch($e.getType()){case"item":default:this.itemTemplate=$e.template;break;case"group":this.groupTemplate=$e.template;break;case"selectedItems":this.selectedItemsTemplate=$e.template;break;case"header":this.headerTemplate=$e.template;break;case"filter":this.filterTemplate=$e.template;break;case"emptyfilter":this.emptyFilterTemplate=$e.template;break;case"empty":this.emptyTemplate=$e.template;break;case"footer":this.footerTemplate=$e.template;break;case"loader":this.loaderTemplate=$e.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{var $e;null===($e=this.overlayViewChild)||void 0===$e||$e.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel($e){return this.optionLabel?K.gb.resolveFieldData($e,this.optionLabel):$e&&null!=$e.label?$e.label:$e}getOptionValue($e){return this.optionValue?K.gb.resolveFieldData($e,this.optionValue):!this.optionLabel&&$e&&void 0!==$e.value?$e.value:$e}getOptionGroupLabel($e){return this.optionGroupLabel?K.gb.resolveFieldData($e,this.optionGroupLabel):$e&&null!=$e.label?$e.label:$e}getOptionGroupChildren($e){return this.optionGroupChildren?K.gb.resolveFieldData($e,this.optionGroupChildren):$e.items}isOptionDisabled($e){return(this.optionDisabled?K.gb.resolveFieldData($e,this.optionDisabled):!(!$e||void 0===$e.disabled)&&$e.disabled)||this.maxSelectionLimitReached&&!this.isSelected($e)}writeValue($e){this.value=$e,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange($e){this.onModelChange=$e}registerOnTouched($e){this.onModelTouched=$e}setDisabledState($e){this.disabled=$e,this.cd.markForCheck()}onOptionClick($e){let yt=$e.option;if(this.isOptionDisabled(yt))return;let Yt=this.getOptionValue(yt),$t=this.findSelectionIndex(Yt);-1!=$t?(this.value=this.value.filter((xn,Pn)=>Pn!=$t),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],Yt]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:$e.originalEvent,value:this.value,itemValue:Yt}),this.updateLabel(),this.updateFilledState()}isSelected($e){return-1!=this.findSelectionIndex(this.getOptionValue($e))}findSelectionIndex($e){let yt=-1;if(this.value)for(let Yt=0;Yt<this.value.length;Yt++)if(K.gb.equals(this.value[Yt],$e,this.dataKey)){yt=Yt;break}return yt}get toggleAllDisabled(){let $e=this.optionsToRender;if(!$e||0===$e.length)return!0;for(let yt of $e)if(!this.isOptionDisabled(yt))return!1;return!0}toggleAll($e){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:$e,value:this.value}),this.updateFilledState(),this.updateLabel(),$e.preventDefault())}checkAll(){let yt=[];this.optionsToRender.forEach(Yt=>{if(this.group){let $t=this.getOptionGroupChildren(Yt);$t&&$t.forEach(xn=>{let Pn=this.isOptionDisabled(xn);(!Pn||Pn&&this.isSelected(xn))&&yt.push(this.getOptionValue(xn))})}else{let $t=this.isOptionDisabled(Yt);(!$t||$t&&this.isSelected(Yt))&&yt.push(this.getOptionValue(Yt))}}),this.value=yt}uncheckAll(){let yt=[];this.optionsToRender.forEach(Yt=>{this.group?Yt.items&&Yt.items.forEach($t=>{this.isOptionDisabled($t)&&this.isSelected($t)&&yt.push(this.getOptionValue($t))}):this.isOptionDisabled(Yt)&&this.isSelected(Yt)&&yt.push(this.getOptionValue(Yt))}),this.value=yt}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart($e){var yt;switch($e.toState){case"visible":this.virtualScroll&&(null===(yt=this.scroller)||void 0===yt||yt.setContentEl(this.itemsViewChild.nativeElement)),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close($e){this.hide(),$e.preventDefault(),$e.stopPropagation()}clear($e){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),$e.stopPropagation()}onMouseclick($e,yt){var Yt,$t,xn;this.disabled||this.readonly||$e.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit($e),(null===(xn=null===($t=null===(Yt=this.overlayViewChild)||void 0===Yt?void 0:Yt.el)||void 0===$t?void 0:$t.nativeElement)||void 0===xn||!xn.contains($e.target))&&!L.p.hasClass($e.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),yt.focus()))}removeChip($e,yt){this.value=this.value.filter(Yt=>!K.gb.equals(Yt,$e,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:yt,value:this.value,itemValue:$e}),this.updateLabel(),this.updateFilledState()}onInputFocus($e){this.focus=!0,this.onFocus.emit({originalEvent:$e})}onInputBlur($e){this.focus=!1,this.onBlur.emit({originalEvent:$e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown($e){if(!this.readonly)switch($e.originalEvent.which){case 40:var yt=this.findNextItem($e.originalEvent.target.parentElement);yt&&yt.focus(),$e.originalEvent.preventDefault();break;case 38:var Yt=this.findPrevItem($e.originalEvent.target.parentElement);Yt&&Yt.focus(),$e.originalEvent.preventDefault();break;case 13:this.onOptionClick($e),$e.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem($e){let yt=$e.nextElementSibling;return yt?L.p.hasClass(yt.children[0],"p-disabled")||L.p.isHidden(yt.children[0])||L.p.hasClass(yt,"p-multiselect-item-group")?this.findNextItem(yt):yt.children[0]:null}findPrevItem($e){let yt=$e.previousElementSibling;return yt?L.p.hasClass(yt.children[0],"p-disabled")||L.p.isHidden(yt.children[0])||L.p.hasClass(yt,"p-multiselect-item-group")?this.findPrevItem(yt):yt.children[0]:null}onKeydown($e){switch($e.which){case 40:!this.overlayVisible&&$e.altKey&&(this.show(),$e.preventDefault());break;case 32:this.overlayVisible||(this.show(),$e.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let $e="";for(let yt=0;yt<this.value.length;yt++){let Yt=this.findLabelByValue(this.value[yt]);Yt&&($e.length>0&&($e+=", "),$e+=Yt)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=$e;else{let yt=/{(.*?)}/;this.valuesAsString=yt.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(yt)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue($e){if(this.group){let yt=null;for(let Yt=0;Yt<this.options.length;Yt++){let $t=this.getOptionGroupChildren(this.options[Yt]);if($t&&(yt=this.searchLabelByValue($e,$t),yt))break}return yt}return this.searchLabelByValue($e,this.options)}searchLabelByValue($e,yt){let Yt=null;for(let $t=0;$t<yt.length;$t++){let xn=yt[$t],Pn=this.getOptionValue(xn);if(null==$e&&null==Pn||K.gb.equals($e,Pn,this.dataKey)){Yt=this.getOptionLabel(xn);break}}return Yt}get allChecked(){let $e=this.optionsToRender;if(!$e||0===$e.length)return!1;{let yt=0,Yt=0,$t=0,xn=this.group?0:this.optionsToRender.length;for(let Pn of $e)if(this.group)for(let di of this.getOptionGroupChildren(Pn)){let Ci=this.isOptionDisabled(di),Ki=this.isSelected(di);if(Ci)Ki?yt++:Yt++;else{if(!Ki)return!1;$t++}xn++}else{let di=this.isOptionDisabled(Pn),Ci=this.isSelected(Pn);if(di)Ci?yt++:Yt++;else{if(!Ci)return!1;$t++}}return xn===yt||xn===$t||$t&&xn===$t+Yt+yt}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(H.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(H.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange($e){this._filterValue=$e.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:$e,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let $e=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let yt=[];for(let Yt of this.options){let $t=this.filterService.filter(this.getOptionGroupChildren(Yt),$e,this.filterValue,this.filterMatchMode,this.filterLocale);$t&&$t.length&&yt.push(Object.assign(Object.assign({},Yt),{[this.optionGroupChildren]:$t}))}this._filteredOptions=yt}else this._filteredOptions=this.filterService.filter(this.options,$e,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return kt.\u0275fac=function($e){return new($e||kt)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(H.iZ),s.Y36(H.b4),s.Y36(H.F0))},kt.\u0275cmp=s.Xpm({type:kt,selectors:[["p-multiSelect"]],contentQueries:function($e,yt,Yt){if(1&$e&&(s.Suo(Yt,H.$_,5),s.Suo(Yt,H.h4,5),s.Suo(Yt,H.jx,4)),2&$e){let $t;s.iGM($t=s.CRH())&&(yt.footerFacet=$t.first),s.iGM($t=s.CRH())&&(yt.headerFacet=$t.first),s.iGM($t=s.CRH())&&(yt.templates=$t)}},viewQuery:function($e,yt){if(1&$e&&(s.Gf(Y,5),s.Gf(Pe,5),s.Gf(de,5),s.Gf(N,5),s.Gf(O,5),s.Gf(ye,5)),2&$e){let Yt;s.iGM(Yt=s.CRH())&&(yt.containerViewChild=Yt.first),s.iGM(Yt=s.CRH())&&(yt.overlayViewChild=Yt.first),s.iGM(Yt=s.CRH())&&(yt.filterInputChild=Yt.first),s.iGM(Yt=s.CRH())&&(yt.accessibleViewChild=Yt.first),s.iGM(Yt=s.CRH())&&(yt.itemsViewChild=Yt.first),s.iGM(Yt=s.CRH())&&(yt.scroller=Yt.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function($e,yt){2&$e&&s.ekj("p-inputwrapper-filled",yt.filled)("p-inputwrapper-focus",yt.focus||yt.overlayVisible)("p-multiselect-clearable",yt.showClear&&!yt.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[s._Bn([Ct])],ngContentSelectors:ct,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function($e,yt){if(1&$e){const Yt=s.EpF();s.F$t(Xe),s.TgZ(0,"div",0,1),s.NdJ("click",function(xn){s.CHM(Yt);const Pn=s.MAs(4);return s.KtG(yt.onMouseclick(xn,Pn))}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(xn){return yt.onInputFocus(xn)})("blur",function(xn){return yt.onInputBlur(xn)})("keydown",function(xn){return yt.onKeydown(xn)}),s.qZA()(),s.TgZ(5,"div",5)(6,"div",6),s.YNc(7,q,3,2,"ng-container",7),s.YNc(8,_e,1,0,"ng-container",8),s.qZA(),s.YNc(9,De,1,0,"i",9),s.qZA(),s.TgZ(10,"div",10),s._UZ(11,"span",11),s.qZA(),s.TgZ(12,"p-overlay",12,13),s.NdJ("visibleChange",function(xn){return yt.overlayVisible=xn})("onAnimationStart",function(xn){return yt.onOverlayAnimationStart(xn)})("onHide",function(){return yt.hide()}),s.YNc(14,en,8,11,"ng-template",14),s.qZA()()}2&$e&&(s.Tol(yt.styleClass),s.Q6J("ngClass",s.l5B(30,wt,yt.overlayVisible,"chip"===yt.display,yt.focus,yt.disabled))("ngStyle",yt.style),s.xp6(3),s.Q6J("disabled",yt.disabled),s.uIk("label",yt.label)("id",yt.inputId)("name",yt.name)("tabindex",yt.tabindex)("aria-expanded",yt.overlayVisible)("aria-labelledby",yt.ariaLabelledBy),s.xp6(2),s.Q6J("pTooltip",yt.tooltip)("tooltipPosition",yt.tooltipPosition)("positionStyle",yt.tooltipPositionStyle)("tooltipStyleClass",yt.tooltipStyleClass),s.xp6(1),s.Q6J("ngClass",s.WLB(35,ee,yt.valuesAsString===(yt.defaultLabel||yt.placeholder),!(null!=yt.valuesAsString&&0!==yt.valuesAsString.length||null!=yt.placeholder&&0!==yt.placeholder.length))),s.xp6(1),s.Q6J("ngIf",!yt.selectedItemsTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",yt.selectedItemsTemplate)("ngTemplateOutletContext",s.VKq(38,Fe,yt.value)),s.xp6(1),s.Q6J("ngIf",null!=yt.value&&yt.filled&&!yt.disabled&&yt.showClear),s.xp6(1),s.Q6J("ngClass",s.DdM(40,Ve)),s.xp6(1),s.Q6J("ngClass",yt.dropdownIcon),s.xp6(1),s.Q6J("visible",yt.overlayVisible)("options",yt.overlayOptions)("target","@parent")("appendTo",yt.appendTo)("autoZIndex",yt.autoZIndex)("baseZIndex",yt.baseZIndex)("showTransitionOptions",yt.showTransitionOptions)("hideTransitionOptions",yt.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,I.aV,H.jx,re.u,U.H,le.T,sn],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),kt})(),Wi=(()=>{class kt{}return kt.\u0275fac=function($e){return new($e||kt)},kt.\u0275mod=s.oAB({type:kt}),kt.\u0275inj=s.cJS({imports:[e.ez,I.U8,H.m8,re.z,U.T,le.v,I.U8,H.m8,le.v]}),kt})()},8050:(Ht,et,_)=>{_.d(et,{U8:()=>ye,aV:()=>O});var e=_(1777),s=_(9808),g=_(5e3),H=_(2382),L=_(9783),I=_(5730),U=_(5921);const le=["overlay"],re=["content"];function K(Ce,ve){1&Ce&&g.GkF(0)}const pe=function(Ce,ve,V){return{showTransitionParams:Ce,hideTransitionParams:ve,transform:V}},ue=function(Ce){return{value:"visible",params:Ce}},Oe=function(Ce){return{mode:Ce}},Te=function(Ce){return{$implicit:Ce}};function ke(Ce,ve){if(1&Ce){const V=g.EpF();g.TgZ(0,"div",1,3),g.NdJ("click",function(F){g.CHM(V);const q=g.oxw(2);return g.KtG(q.onOverlayContentClick(F))})("@overlayContentAnimation.start",function(F){g.CHM(V);const q=g.oxw(2);return g.KtG(q.onOverlayContentAnimationStart(F))})("@overlayContentAnimation.done",function(F){g.CHM(V);const q=g.oxw(2);return g.KtG(q.onOverlayContentAnimationDone(F))}),g.Hsn(2),g.YNc(3,K,1,0,"ng-container",4),g.qZA()}if(2&Ce){const V=g.oxw(2);g.Tol(V.contentStyleClass),g.Q6J("ngStyle",V.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",g.VKq(11,ue,g.kEZ(7,pe,V.showTransitionOptions,V.hideTransitionOptions,V.transformOptions[V.modal?V.overlayResponsiveDirection:"default"]))),g.xp6(3),g.Q6J("ngTemplateOutlet",V.contentTemplate)("ngTemplateOutletContext",g.VKq(15,Te,g.VKq(13,Oe,V.overlayMode)))}}const we=function(Ce,ve,V,w,F,q,_e,De,Le,Me,ht,at,Se,$){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":Ce,"p-overlay-center":ve,"p-overlay-top":V,"p-overlay-top-start":w,"p-overlay-top-end":F,"p-overlay-bottom":q,"p-overlay-bottom-start":_e,"p-overlay-bottom-end":De,"p-overlay-left":Le,"p-overlay-left-start":Me,"p-overlay-left-end":ht,"p-overlay-right":at,"p-overlay-right-start":Se,"p-overlay-right-end":$}};function Fe(Ce,ve){if(1&Ce){const V=g.EpF();g.TgZ(0,"div",1,2),g.NdJ("click",function(F){g.CHM(V);const q=g.oxw();return g.KtG(q.onOverlayClick(F))}),g.YNc(2,ke,4,17,"div",0),g.qZA()}if(2&Ce){const V=g.oxw();g.Tol(V.styleClass),g.Q6J("ngStyle",V.style)("ngClass",g.rFY(5,we,[V.modal,V.modal&&"center"===V.overlayResponsiveDirection,V.modal&&"top"===V.overlayResponsiveDirection,V.modal&&"top-start"===V.overlayResponsiveDirection,V.modal&&"top-end"===V.overlayResponsiveDirection,V.modal&&"bottom"===V.overlayResponsiveDirection,V.modal&&"bottom-start"===V.overlayResponsiveDirection,V.modal&&"bottom-end"===V.overlayResponsiveDirection,V.modal&&"left"===V.overlayResponsiveDirection,V.modal&&"left-start"===V.overlayResponsiveDirection,V.modal&&"left-end"===V.overlayResponsiveDirection,V.modal&&"right"===V.overlayResponsiveDirection,V.modal&&"right-start"===V.overlayResponsiveDirection,V.modal&&"right-end"===V.overlayResponsiveDirection])),g.xp6(2),g.Q6J("ngIf",V.visible)}}const Y=["*"],Pe={provide:H.JU,useExisting:(0,g.Gpc)(()=>O),multi:!0},de=(0,e.oQ)([(0,e.oB)({transform:"{{transform}}",opacity:0}),(0,e.jt)("{{showTransitionParams}}")]),N=(0,e.oQ)([(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({transform:"{{transform}}",opacity:0}))]);let O=(()=>{class Ce{constructor(V,w,F,q,_e,De){this.document=V,this.el=w,this.renderer=F,this.config=q,this.overlayService=_e,this.cd=De,this.visibleChange=new g.vpe,this.onBeforeShow=new g.vpe,this.onShow=new g.vpe,this.onBeforeHide=new g.vpe,this.onHide=new g.vpe,this.onAnimationStart=new g.vpe,this.onAnimationDone=new g.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(V){this._visible=V,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){var V;return this._mode||(null===(V=this.overlayOptions)||void 0===V?void 0:V.mode)}set mode(V){this._mode=V}get style(){var V,w;return U.gb.merge(this._style,this.modal?null===(V=this.overlayResponsiveOptions)||void 0===V?void 0:V.style:null===(w=this.overlayOptions)||void 0===w?void 0:w.style)}set style(V){this._style=V}get styleClass(){var V,w;return U.gb.merge(this._styleClass,this.modal?null===(V=this.overlayResponsiveOptions)||void 0===V?void 0:V.styleClass:null===(w=this.overlayOptions)||void 0===w?void 0:w.styleClass)}set styleClass(V){this._styleClass=V}get contentStyle(){var V,w;return U.gb.merge(this._contentStyle,this.modal?null===(V=this.overlayResponsiveOptions)||void 0===V?void 0:V.contentStyle:null===(w=this.overlayOptions)||void 0===w?void 0:w.contentStyle)}set contentStyle(V){this._contentStyle=V}get contentStyleClass(){var V,w;return U.gb.merge(this._contentStyleClass,this.modal?null===(V=this.overlayResponsiveOptions)||void 0===V?void 0:V.contentStyleClass:null===(w=this.overlayOptions)||void 0===w?void 0:w.contentStyleClass)}set contentStyleClass(V){this._contentStyleClass=V}get target(){var V;const w=this._target||(null===(V=this.overlayOptions)||void 0===V?void 0:V.target);return void 0===w?"@prev":w}set target(V){this._target=V}get appendTo(){var V;return this._appendTo||(null===(V=this.overlayOptions)||void 0===V?void 0:V.appendTo)}set appendTo(V){this._appendTo=V}get autoZIndex(){var V;const w=this._autoZIndex||(null===(V=this.overlayOptions)||void 0===V?void 0:V.autoZIndex);return void 0===w||w}set autoZIndex(V){this._autoZIndex=V}get baseZIndex(){var V;const w=this._baseZIndex||(null===(V=this.overlayOptions)||void 0===V?void 0:V.baseZIndex);return void 0===w?0:w}set baseZIndex(V){this._baseZIndex=V}get showTransitionOptions(){var V;const w=this._showTransitionOptions||(null===(V=this.overlayOptions)||void 0===V?void 0:V.showTransitionOptions);return void 0===w?".12s cubic-bezier(0, 0, 0.2, 1)":w}set showTransitionOptions(V){this._showTransitionOptions=V}get hideTransitionOptions(){var V;const w=this._hideTransitionOptions||(null===(V=this.overlayOptions)||void 0===V?void 0:V.hideTransitionOptions);return void 0===w?".1s linear":w}set hideTransitionOptions(V){this._hideTransitionOptions=V}get listener(){var V;return this._listener||(null===(V=this.overlayOptions)||void 0===V?void 0:V.listener)}set listener(V){this._listener=V}get responsive(){var V;return this._responsive||(null===(V=this.overlayOptions)||void 0===V?void 0:V.responsive)}set responsive(V){this._responsive=V}get options(){return this._options}set options(V){this._options=V}get modal(){var V,w;return"modal"===this.mode||this.overlayResponsiveOptions&&(null===(V=this.window)||void 0===V?void 0:V.matchMedia((null===(w=this.overlayResponsiveOptions.media)||void 0===w?void 0:w.replace("@media",""))||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches)}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){var V;return Object.assign(Object.assign({},null===(V=this.config)||void 0===V?void 0:V.overlayOptions),this.options)}get overlayResponsiveOptions(){var V;return Object.assign(Object.assign({},null===(V=this.overlayOptions)||void 0===V?void 0:V.responsive),this.responsive)}get overlayResponsiveDirection(){var V;return(null===(V=this.overlayResponsiveOptions)||void 0===V?void 0:V.direction)||"center"}get overlayEl(){var V;return null===(V=this.overlayViewChild)||void 0===V?void 0:V.nativeElement}get contentEl(){var V;return null===(V=this.contentViewChild)||void 0===V?void 0:V.nativeElement}get targetEl(){var V;return I.p.getTargetElement(this.target,null===(V=this.el)||void 0===V?void 0:V.nativeElement)}ngAfterContentInit(){var V;null===(V=this.templates)||void 0===V||V.forEach(w=>{w.getType(),this.contentTemplate=w.template})}show(V,w=!1){var F;this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:V||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),w&&I.p.focus(this.targetEl),this.modal&&I.p.addClass(null===(F=this.document)||void 0===F?void 0:F.body,"p-overflow-hidden")}hide(V,w=!1){var F;this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:V||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),w&&I.p.focus(this.targetEl),this.modal&&I.p.removeClass(null===(F=this.document)||void 0===F?void 0:F.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&I.p.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(V){this._visible=V,this.visibleChange.emit(V)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(V){this.overlayService.add({originalEvent:V,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(V){var w;switch(V.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&U.P9.set(this.overlayMode,this.overlayEl,this.baseZIndex+(null===(w=this.config)||void 0===w?void 0:w.zIndex[this.overlayMode])),I.p.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&I.p.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",V)}onOverlayContentAnimationDone(V){const w=this.overlayEl||V.element.parentElement;switch(V.toState){case"visible":this.show(w,!0),this.bindListeners();break;case"void":this.hide(w,!0),this.unbindListeners(),I.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),U.P9.clear(w),this.modalVisible=!1}this.handleEvents("onAnimationDone",V)}handleEvents(V,w){var F,q,_e;this[V].emit(w),this.options&&this.options[V]&&this.options[V](w),(null===(F=this.config)||void 0===F?void 0:F.overlayOptions)&&(null===(q=this.config)||void 0===q?void 0:q.overlayOptions[V])&&(null===(_e=this.config)||void 0===_e||_e.overlayOptions[V](w))}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new I.V(this.targetEl,V=>{(!this.listener||this.listener(V,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(V,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",V=>{const F=!(this.targetEl&&(this.targetEl.isSameNode(V.target)||!this.isOverlayClicked&&this.targetEl.contains(V.target))||this.isOverlayContentClicked);(this.listener?this.listener(V,{type:"outside",mode:this.overlayMode,valid:3!==V.which&&F}):F)&&this.hide(V),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",V=>{(this.listener?this.listener(V,{type:"resize",mode:this.overlayMode,valid:!I.p.isTouchDevice()}):!I.p.isTouchDevice())&&this.hide(V,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(I.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),U.P9.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return Ce.\u0275fac=function(V){return new(V||Ce)(g.Y36(s.K0),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(L.b4),g.Y36(L.F0),g.Y36(g.sBO))},Ce.\u0275cmp=g.Xpm({type:Ce,selectors:[["p-overlay"]],contentQueries:function(V,w,F){if(1&V&&g.Suo(F,L.jx,4),2&V){let q;g.iGM(q=g.CRH())&&(w.templates=q)}},viewQuery:function(V,w){if(1&V&&(g.Gf(le,5),g.Gf(re,5)),2&V){let F;g.iGM(F=g.CRH())&&(w.overlayViewChild=F.first),g.iGM(F=g.CRH())&&(w.contentViewChild=F.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[g._Bn([Pe])],ngContentSelectors:Y,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(V,w){1&V&&(g.F$t(),g.YNc(0,Fe,3,20,"div",0)),2&V&&g.Q6J("ngIf",w.modalVisible)},dependencies:[s.mk,s.O5,s.tP,s.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayContentAnimation",[(0,e.eR)(":enter",[(0,e._7)(de)]),(0,e.eR)(":leave",[(0,e._7)(N)])])]},changeDetection:0}),Ce})(),ye=(()=>{class Ce{}return Ce.\u0275fac=function(V){return new(V||Ce)},Ce.\u0275mod=g.oAB({type:Ce}),Ce.\u0275inj=g.cJS({imports:[s.ez,L.m8,L.m8]}),Ce})()},3640:(Ht,et,_)=>{_.d(et,{T:()=>Te,y:()=>ke});var e=_(5e3),s=_(9808),g=_(5730),H=_(9783),L=_(5787),I=_(1777),U=_(5921);function le(we,Fe){1&we&&e.GkF(0)}function re(we,Fe){if(1&we){const Y=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(de){e.CHM(Y);const N=e.oxw(2);return e.KtG(N.onCloseClick(de))})("keydown.enter",function(){e.CHM(Y);const de=e.oxw(2);return e.KtG(de.hide())}),e._UZ(1,"span",6),e.qZA()}if(2&we){const Y=e.oxw(2);e.uIk("aria-label",Y.ariaCloseLabel)}}const K=function(we,Fe){return{showTransitionParams:we,hideTransitionParams:Fe}},pe=function(we,Fe){return{value:we,params:Fe}};function ue(we,Fe){if(1&we){const Y=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(de){e.CHM(Y);const N=e.oxw();return e.KtG(N.onOverlayClick(de))})("@animation.start",function(de){e.CHM(Y);const N=e.oxw();return e.KtG(N.onAnimationStart(de))})("@animation.done",function(de){e.CHM(Y);const N=e.oxw();return e.KtG(N.onAnimationEnd(de))}),e.TgZ(1,"div",2),e.NdJ("click",function(){e.CHM(Y);const de=e.oxw();return e.KtG(de.onContentClick())})("mousedown",function(){e.CHM(Y);const de=e.oxw();return e.KtG(de.onContentClick())}),e.Hsn(2),e.YNc(3,le,1,0,"ng-container",3),e.qZA(),e.YNc(4,re,2,1,"button",4),e.qZA()}if(2&we){const Y=e.oxw();e.Tol(Y.styleClass),e.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",Y.style)("@animation",e.WLB(10,pe,Y.overlayVisible?"open":"close",e.WLB(7,K,Y.showTransitionOptions,Y.hideTransitionOptions))),e.xp6(3),e.Q6J("ngTemplateOutlet",Y.contentTemplate),e.xp6(1),e.Q6J("ngIf",Y.showCloseIcon)}}const Oe=["*"];let Te=(()=>{class we{constructor(Y,Pe,de,N,O,ye){this.el=Y,this.renderer=Pe,this.cd=de,this.zone=N,this.config=O,this.overlayService=ye,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.overlayVisible=!1,this.render=!1,this.isOverlayAnimationInProgress=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(Y=>{Y.getType(),this.contentTemplate=Y.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let Y=g.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",Y,de=>{!this.container.contains(de.target)&&this.target!==de.target&&!this.target.contains(de.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(Y,Pe){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(Y,Pe)&&(this.destroyCallback=()=>{this.show(null,Pe||Y.currentTarget||Y.target)}),this.hide()):this.show(Y,Pe))}show(Y,Pe){this.isOverlayAnimationInProgress||(this.target=Pe||Y.currentTarget||Y.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(Y){this.overlayService.add({originalEvent:Y,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(Y,Pe){return null!=this.target&&this.target!==(Pe||Y.currentTarget||Y.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):g.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&U.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),g.p.absolutePosition(this.container,this.target);const Y=g.p.getOffset(this.container),Pe=g.p.getOffset(this.target);let de=0;Y.left<Pe.left&&(de=Pe.left-Y.left),this.container.style.setProperty("--overlayArrowLeft",`${de}px`),Y.top<Pe.top&&(g.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&(this.container.style.marginTop="30px"))}onAnimationStart(Y){"open"===Y.toState&&(this.container=Y.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=Pe=>{this.container&&this.container.contains(Pe.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(Y){switch(Y.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&U.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let Y=g.p.findSingle(this.container,"[autofocus]");Y&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Y.focus(),5)})}hide(){this.isOverlayAnimationInProgress||(this.overlayVisible=!1,this.cd.markForCheck())}onCloseClick(Y){this.hide(),Y.preventDefault()}onWindowResize(Y){this.overlayVisible&&!g.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new g.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&U.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return we.\u0275fac=function(Y){return new(Y||we)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(H.b4),e.Y36(H.F0))},we.\u0275cmp=e.Xpm({type:we,selectors:[["p-overlayPanel"]],contentQueries:function(Y,Pe,de){if(1&Y&&e.Suo(de,H.jx,4),2&Y){let N;e.iGM(N=e.CRH())&&(Pe.templates=N)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:Oe,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(Y,Pe){1&Y&&(e.F$t(),e.YNc(0,ue,5,13,"div",0)),2&Y&&e.Q6J("ngIf",Pe.render)},dependencies:[s.mk,s.O5,s.tP,s.PC,L.H],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,I.X$)("animation",[(0,I.SB)("void",(0,I.oB)({transform:"scaleY(0.8)",opacity:0})),(0,I.SB)("close",(0,I.oB)({opacity:0})),(0,I.SB)("open",(0,I.oB)({transform:"translateY(0)",opacity:1})),(0,I.eR)("void => open",(0,I.jt)("{{showTransitionParams}}")),(0,I.eR)("open => close",(0,I.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),we})(),ke=(()=>{class we{}return we.\u0275fac=function(Y){return new(Y||we)},we.\u0275mod=e.oAB({type:we}),we.\u0275inj=e.cJS({imports:[s.ez,L.T,H.m8,H.m8]}),we})()},4132:(Ht,et,_)=>{_.d(et,{D:()=>F,U:()=>q});var e=_(5e3),s=_(9808),g=_(2382),H=_(4036),L=_(5787),I=_(9783),U=_(7010);function le(_e,De){1&_e&&e.GkF(0)}const re=function(_e){return{$implicit:_e}};function K(_e,De){if(1&_e&&(e.TgZ(0,"div",15),e.YNc(1,le,1,0,"ng-container",16),e.qZA()),2&_e){const Le=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",Le.templateLeft)("ngTemplateOutletContext",e.VKq(2,re,Le.paginatorState))}}function pe(_e,De){if(1&_e&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&_e){const Le=e.oxw(2);e.xp6(1),e.Oqu(Le.currentPageReport)}}const ue=function(_e){return{"p-disabled":_e}};function Oe(_e,De){if(1&_e){const Le=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(ht){e.CHM(Le);const at=e.oxw(2);return e.KtG(at.changePageToFirst(ht))}),e._UZ(1,"span",19),e.qZA()}if(2&_e){const Le=e.oxw(2);e.Q6J("disabled",Le.isFirstPage()||Le.empty())("ngClass",e.VKq(2,ue,Le.isFirstPage()||Le.empty()))}}const Te=function(_e){return{"p-highlight":_e}};function ke(_e,De){if(1&_e){const Le=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(ht){const Se=e.CHM(Le).$implicit,$=e.oxw(3);return e.KtG($.onPageLinkClick(ht,Se-1))}),e._uU(1),e.qZA()}if(2&_e){const Le=De.$implicit,Me=e.oxw(3);e.Q6J("ngClass",e.VKq(2,Te,Le-1==Me.getPage())),e.xp6(1),e.hij(" ",Le," ")}}function we(_e,De){if(1&_e&&(e.TgZ(0,"span",20),e.YNc(1,ke,2,4,"button",21),e.qZA()),2&_e){const Le=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",Le.pageLinks)}}function Fe(_e,De){if(1&_e&&e._uU(0),2&_e){const Le=e.oxw(3);e.Oqu(Le.currentPageReport)}}function Y(_e,De){if(1&_e){const Le=e.EpF();e.TgZ(0,"p-dropdown",23),e.NdJ("onChange",function(ht){e.CHM(Le);const at=e.oxw(2);return e.KtG(at.onPageDropdownChange(ht))}),e.YNc(1,Fe,1,1,"ng-template",24),e.qZA()}if(2&_e){const Le=e.oxw(2);e.Q6J("options",Le.pageItems)("ngModel",Le.getPage())("disabled",Le.empty())("appendTo",Le.dropdownAppendTo)("scrollHeight",Le.dropdownScrollHeight)}}function Pe(_e,De){if(1&_e){const Le=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(ht){e.CHM(Le);const at=e.oxw(2);return e.KtG(at.changePageToLast(ht))}),e._UZ(1,"span",26),e.qZA()}if(2&_e){const Le=e.oxw(2);e.Q6J("disabled",Le.isLastPage()||Le.empty())("ngClass",e.VKq(2,ue,Le.isLastPage()||Le.empty()))}}function de(_e,De){if(1&_e){const Le=e.EpF();e.TgZ(0,"p-inputNumber",27),e.NdJ("ngModelChange",function(ht){e.CHM(Le);const at=e.oxw(2);return e.KtG(at.changePage(ht-1))}),e.qZA()}if(2&_e){const Le=e.oxw(2);e.Q6J("ngModel",Le.currentPage())("disabled",Le.empty())}}function N(_e,De){1&_e&&e.GkF(0)}function O(_e,De){if(1&_e&&e.YNc(0,N,1,0,"ng-container",16),2&_e){const Le=De.$implicit,Me=e.oxw(4);e.Q6J("ngTemplateOutlet",Me.dropdownItemTemplate)("ngTemplateOutletContext",e.VKq(2,re,Le))}}function ye(_e,De){1&_e&&(e.ynx(0),e.YNc(1,O,1,4,"ng-template",30),e.BQk())}function Ce(_e,De){if(1&_e){const Le=e.EpF();e.TgZ(0,"p-dropdown",28),e.NdJ("ngModelChange",function(ht){e.CHM(Le);const at=e.oxw(2);return e.KtG(at.rows=ht)})("onChange",function(ht){e.CHM(Le);const at=e.oxw(2);return e.KtG(at.onRppChange(ht))}),e.YNc(1,ye,2,0,"ng-container",29),e.qZA()}if(2&_e){const Le=e.oxw(2);e.Q6J("options",Le.rowsPerPageItems)("ngModel",Le.rows)("disabled",Le.empty())("appendTo",Le.dropdownAppendTo)("scrollHeight",Le.dropdownScrollHeight),e.xp6(1),e.Q6J("ngIf",Le.dropdownItemTemplate)}}function ve(_e,De){1&_e&&e.GkF(0)}function V(_e,De){if(1&_e&&(e.TgZ(0,"div",31),e.YNc(1,ve,1,0,"ng-container",16),e.qZA()),2&_e){const Le=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",Le.templateRight)("ngTemplateOutletContext",e.VKq(2,re,Le.paginatorState))}}function w(_e,De){if(1&_e){const Le=e.EpF();e.TgZ(0,"div",1),e.YNc(1,K,2,4,"div",2),e.YNc(2,pe,2,1,"span",3),e.YNc(3,Oe,2,4,"button",4),e.TgZ(4,"button",5),e.NdJ("click",function(ht){e.CHM(Le);const at=e.oxw();return e.KtG(at.changePageToPrev(ht))}),e._UZ(5,"span",6),e.qZA(),e.YNc(6,we,2,1,"span",7),e.YNc(7,Y,2,5,"p-dropdown",8),e.TgZ(8,"button",9),e.NdJ("click",function(ht){e.CHM(Le);const at=e.oxw();return e.KtG(at.changePageToNext(ht))}),e._UZ(9,"span",10),e.qZA(),e.YNc(10,Pe,2,4,"button",11),e.YNc(11,de,1,2,"p-inputNumber",12),e.YNc(12,Ce,2,6,"p-dropdown",13),e.YNc(13,V,2,4,"div",14),e.qZA()}if(2&_e){const Le=e.oxw();e.Tol(Le.styleClass),e.Q6J("ngStyle",Le.style)("ngClass","p-paginator p-component"),e.xp6(1),e.Q6J("ngIf",Le.templateLeft),e.xp6(1),e.Q6J("ngIf",Le.showCurrentPageReport),e.xp6(1),e.Q6J("ngIf",Le.showFirstLastIcon),e.xp6(1),e.Q6J("disabled",Le.isFirstPage()||Le.empty())("ngClass",e.VKq(17,ue,Le.isFirstPage()||Le.empty())),e.xp6(2),e.Q6J("ngIf",Le.showPageLinks),e.xp6(1),e.Q6J("ngIf",Le.showJumpToPageDropdown),e.xp6(1),e.Q6J("disabled",Le.isLastPage()||Le.empty())("ngClass",e.VKq(19,ue,Le.isLastPage()||Le.empty())),e.xp6(2),e.Q6J("ngIf",Le.showFirstLastIcon),e.xp6(1),e.Q6J("ngIf",Le.showJumpToPageInput),e.xp6(1),e.Q6J("ngIf",Le.rowsPerPageOptions),e.xp6(1),e.Q6J("ngIf",Le.templateRight)}}let F=(()=>{class _e{constructor(Le){this.cd=Le,this.pageLinkSize=5,this.onPageChange=new e.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(Le){Le.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),Le.first&&(this._first=Le.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),Le.rows&&(this.updatePageLinks(),this.updatePaginatorState()),Le.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(Le){this._first=Le}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let Le of this.rowsPerPageOptions)"object"==typeof Le&&Le.showAll?this.rowsPerPageItems.unshift({label:Le.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(Le),value:Le})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let Le=this.getPageCount(),Me=Math.min(this.pageLinkSize,Le),ht=Math.max(0,Math.ceil(this.getPage()-Me/2)),at=Math.min(Le-1,ht+Me-1);return ht=Math.max(0,ht-(this.pageLinkSize-(at-ht+1))),[ht,at]}updatePageLinks(){this.pageLinks=[];let Le=this.calculatePageLinkBoundaries(),ht=Le[1];for(let at=Le[0];at<=ht;at++)this.pageLinks.push(at+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let at=0;at<this.getPageCount();at++)this.pageItems.push({label:String(at+1),value:at})}}changePage(Le){var Me=this.getPageCount();if(Le>=0&&Le<Me){this._first=this.rows*Le;var ht={page:Le,first:this.first,rows:this.rows,pageCount:Me};this.updatePageLinks(),this.onPageChange.emit(ht),this.updatePaginatorState()}}updateFirst(){const Le=this.getPage();Le>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(Le-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(Le){this.isFirstPage()||this.changePage(0),Le.preventDefault()}changePageToPrev(Le){this.changePage(this.getPage()-1),Le.preventDefault()}changePageToNext(Le){this.changePage(this.getPage()+1),Le.preventDefault()}changePageToLast(Le){this.isLastPage()||this.changePage(this.getPageCount()-1),Le.preventDefault()}onPageLinkClick(Le,Me){this.changePage(Me),Le.preventDefault()}onRppChange(Le){this.changePage(this.getPage())}onPageDropdownChange(Le){this.changePage(Le.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return _e.\u0275fac=function(Le){return new(Le||_e)(e.Y36(e.sBO))},_e.\u0275cmp=e.Xpm({type:_e,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[e.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(Le,Me){1&Le&&e.YNc(0,w,14,21,"div",0),2&Le&&e.Q6J("ngIf",!!Me.alwaysShow||Me.pageLinks&&Me.pageLinks.length>1)},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,H.Lt,I.jx,U.Rn,g.JJ,g.On,L.H],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),_e})(),q=(()=>{class _e{}return _e.\u0275fac=function(Le){return new(Le||_e)},_e.\u0275mod=e.oAB({type:_e}),_e.\u0275inj=e.cJS({imports:[s.ez,H.kW,U.L$,g.u5,I.m8,L.T,H.kW,U.L$,g.u5,I.m8]}),_e})()},8185:(Ht,et,_)=>{_.d(et,{k:()=>U,q:()=>le});var e=_(5e3),s=_(9808);function g(re,K){if(1&re&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&re){const pe=e.oxw(2);e.Udp("display",null!=pe.value&&0!==pe.value?"flex":"none"),e.xp6(1),e.AsE("",pe.value,"",pe.unit,"")}}function H(re,K){if(1&re&&(e.TgZ(0,"div",3),e.YNc(1,g,2,4,"div",4),e.qZA()),2&re){const pe=e.oxw();e.Udp("width",pe.value+"%"),e.xp6(1),e.Q6J("ngIf",pe.showValue)}}function L(re,K){1&re&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.qZA())}const I=function(re,K){return{"p-progressbar p-component":!0,"p-progressbar-determinate":re,"p-progressbar-indeterminate":K}};let U=(()=>{class re{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return re.\u0275fac=function(pe){return new(pe||re)},re.\u0275cmp=e.Xpm({type:re,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(pe,ue){1&pe&&(e.TgZ(0,"div",0),e.YNc(1,H,2,3,"div",1),e.YNc(2,L,2,0,"div",2),e.qZA()),2&pe&&(e.Tol(ue.styleClass),e.Q6J("ngStyle",ue.style)("ngClass",e.WLB(7,I,"determinate"===ue.mode,"indeterminate"===ue.mode)),e.uIk("aria-valuenow",ue.value),e.xp6(1),e.Q6J("ngIf","determinate"===ue.mode),e.xp6(1),e.Q6J("ngIf","indeterminate"===ue.mode))},dependencies:[s.mk,s.O5,s.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),re})(),le=(()=>{class re{}return re.\u0275fac=function(pe){return new(pe||re)},re.\u0275mod=e.oAB({type:re}),re.\u0275inj=e.cJS({imports:[s.ez]}),re})()},6198:(Ht,et,_)=>{_.d(et,{G:()=>g,L:()=>H});var e=_(5e3),s=_(9808);let g=(()=>{class L{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275cmp=e.Xpm({type:L,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(U,le){1&U&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"circle",2),e.qZA()()),2&U&&(e.Q6J("ngStyle",le.style)("ngClass",le.styleClass),e.xp6(1),e.Udp("animation-duration",le.animationDuration),e.xp6(1),e.uIk("fill",le.fill)("stroke-width",le.strokeWidth))},dependencies:[s.mk,s.PC],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),L})(),H=(()=>{class L{}return L.\u0275fac=function(U){return new(U||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[s.ez]}),L})()},5787:(Ht,et,_)=>{_.d(et,{H:()=>L,T:()=>I});var e=_(5e3),s=_(9808),g=_(5730),H=_(9783);let L=(()=>{class U{constructor(re,K,pe){this.el=re,this.zone=K,this.config=pe}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(re){let K=this.getInk();if(!K||"none"===getComputedStyle(K,null).display)return;if(g.p.removeClass(K,"p-ink-active"),!g.p.getHeight(K)&&!g.p.getWidth(K)){let Te=Math.max(g.p.getOuterWidth(this.el.nativeElement),g.p.getOuterHeight(this.el.nativeElement));K.style.height=Te+"px",K.style.width=Te+"px"}let pe=g.p.getOffset(this.el.nativeElement),ue=re.pageX-pe.left+document.body.scrollTop-g.p.getWidth(K)/2,Oe=re.pageY-pe.top+document.body.scrollLeft-g.p.getHeight(K)/2;K.style.top=Oe+"px",K.style.left=ue+"px",g.p.addClass(K,"p-ink-active"),this.timeout=setTimeout(()=>{let Te=this.getInk();Te&&g.p.removeClass(Te,"p-ink-active")},401)}getInk(){for(let re=0;re<this.el.nativeElement.children.length;re++)if(-1!==this.el.nativeElement.children[re].className.indexOf("p-ink"))return this.el.nativeElement.children[re];return null}resetInk(){let re=this.getInk();re&&g.p.removeClass(re,"p-ink-active")}onAnimationEnd(re){this.timeout&&clearTimeout(this.timeout),g.p.removeClass(re.currentTarget,"p-ink-active")}create(){let re=document.createElement("span");re.className="p-ink",this.el.nativeElement.appendChild(re),this.animationListener=this.onAnimationEnd.bind(this),re.addEventListener("animationend",this.animationListener)}remove(){let re=this.getInk();re&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),re.removeEventListener("animationend",this.animationListener),g.p.removeElement(re))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return U.\u0275fac=function(re){return new(re||U)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(H.b4,8))},U.\u0275dir=e.lG2({type:U,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),U})(),I=(()=>{class U{}return U.\u0275fac=function(re){return new(re||U)},U.\u0275mod=e.oAB({type:U}),U.\u0275inj=e.cJS({imports:[s.ez]}),U})()},5871:(Ht,et,_)=>{_.d(et,{T:()=>ht,v:()=>at});var e=_(9808),s=_(5e3),g=_(9783),H=_(5730);const L=["element"],I=["content"];function U(Se,$){1&Se&&s.GkF(0)}const le=function(Se,$){return{$implicit:Se,options:$}};function re(Se,$){if(1&Se&&(s.ynx(0),s.YNc(1,U,1,0,"ng-container",7),s.BQk()),2&Se){const B=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",B.contentTemplate)("ngTemplateOutletContext",s.WLB(2,le,B.loadedItems,B.getContentOptions()))}}function K(Se,$){1&Se&&s.GkF(0)}function pe(Se,$){if(1&Se&&(s.ynx(0),s.YNc(1,K,1,0,"ng-container",7),s.BQk()),2&Se){const B=$.$implicit,j=$.index,Ue=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",Ue.itemTemplate)("ngTemplateOutletContext",s.WLB(2,le,B,Ue.getOptions(j)))}}const ue=function(Se){return{"p-scroller-loading":Se}};function Oe(Se,$){if(1&Se&&(s.TgZ(0,"div",8,9),s.YNc(2,pe,2,5,"ng-container",10),s.qZA()),2&Se){const B=s.oxw(2);s.Q6J("ngClass",s.VKq(4,ue,B.d_loading))("ngStyle",B.contentStyle),s.xp6(2),s.Q6J("ngForOf",B.loadedItems)("ngForTrackBy",B._trackBy||B.index)}}function Te(Se,$){if(1&Se&&s._UZ(0,"div",11),2&Se){const B=s.oxw(2);s.Q6J("ngStyle",B.spacerStyle)}}function ke(Se,$){1&Se&&s.GkF(0)}const we=function(Se){return{numCols:Se}},Fe=function(Se){return{options:Se}};function Y(Se,$){if(1&Se&&(s.ynx(0),s.YNc(1,ke,1,0,"ng-container",7),s.BQk()),2&Se){const B=$.index,j=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",j.loaderTemplate)("ngTemplateOutletContext",s.VKq(4,Fe,j.getLoaderOptions(B,j.both&&s.VKq(2,we,j._numItemsInViewport.cols))))}}function Pe(Se,$){if(1&Se&&(s.ynx(0),s.YNc(1,Y,2,6,"ng-container",14),s.BQk()),2&Se){const B=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",B.loaderArr)}}function de(Se,$){1&Se&&s.GkF(0)}const N=function(){return{styleClass:"p-scroller-loading-icon"}};function O(Se,$){if(1&Se&&(s.ynx(0),s.YNc(1,de,1,0,"ng-container",7),s.BQk()),2&Se){const B=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",B.loaderIconTemplate)("ngTemplateOutletContext",s.VKq(3,Fe,s.DdM(2,N)))}}function ye(Se,$){1&Se&&s._UZ(0,"i",16)}function Ce(Se,$){if(1&Se&&(s.YNc(0,O,2,5,"ng-container",0),s.YNc(1,ye,1,0,"ng-template",null,15,s.W1O)),2&Se){const B=s.MAs(2),j=s.oxw(3);s.Q6J("ngIf",j.loaderIconTemplate)("ngIfElse",B)}}const ve=function(Se){return{"p-component-overlay":Se}};function V(Se,$){if(1&Se&&(s.TgZ(0,"div",12),s.YNc(1,Pe,2,1,"ng-container",0),s.YNc(2,Ce,3,2,"ng-template",null,13,s.W1O),s.qZA()),2&Se){const B=s.MAs(3),j=s.oxw(2);s.Q6J("ngClass",s.VKq(3,ve,!j.loaderTemplate)),s.xp6(1),s.Q6J("ngIf",j.loaderTemplate)("ngIfElse",B)}}const w=function(Se,$,B){return{"p-scroller":!0,"p-scroller-inline":Se,"p-both-scroll":$,"p-horizontal-scroll":B}};function F(Se,$){if(1&Se){const B=s.EpF();s.ynx(0),s.TgZ(1,"div",2,3),s.NdJ("scroll",function(Ue){s.CHM(B);const fe=s.oxw();return s.KtG(fe.onContainerScroll(Ue))}),s.YNc(3,re,2,5,"ng-container",0),s.YNc(4,Oe,3,6,"ng-template",null,4,s.W1O),s.YNc(6,Te,1,1,"div",5),s.YNc(7,V,4,5,"div",6),s.qZA(),s.BQk()}if(2&Se){const B=s.MAs(5),j=s.oxw();s.xp6(1),s.Tol(j._styleClass),s.Q6J("ngStyle",j._style)("ngClass",s.kEZ(10,w,j.inline,j.both,j.horizontal)),s.uIk("id",j._id)("tabindex",j.tabindex),s.xp6(2),s.Q6J("ngIf",j.contentTemplate)("ngIfElse",B),s.xp6(3),s.Q6J("ngIf",j._showSpacer),s.xp6(1),s.Q6J("ngIf",!j.loaderDisabled&&j._showLoader&&j.d_loading)}}function q(Se,$){1&Se&&s.GkF(0)}const _e=function(Se,$){return{rows:Se,columns:$}};function De(Se,$){if(1&Se&&(s.ynx(0),s.YNc(1,q,1,0,"ng-container",7),s.BQk()),2&Se){const B=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",B.contentTemplate)("ngTemplateOutletContext",s.WLB(5,le,B.items,s.WLB(2,_e,B._items,B.loadedColumns)))}}function Le(Se,$){if(1&Se&&(s.Hsn(0),s.YNc(1,De,2,8,"ng-container",17)),2&Se){const B=s.oxw();s.xp6(1),s.Q6J("ngIf",B.contentTemplate)}}const Me=["*"];let ht=(()=>{class Se{constructor(B,j){this.cd=B,this.zone=j,this.onLazyLoad=new s.vpe,this.onScroll=new s.vpe,this.onScrollIndexChange=new s.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(B){this._id=B}get style(){return this._style}set style(B){this._style=B}get styleClass(){return this._styleClass}set styleClass(B){this._styleClass=B}get tabindex(){return this._tabindex}set tabindex(B){this._tabindex=B}get items(){return this._items}set items(B){this._items=B}get itemSize(){return this._itemSize}set itemSize(B){this._itemSize=B}get scrollHeight(){return this._scrollHeight}set scrollHeight(B){this._scrollHeight=B}get scrollWidth(){return this._scrollWidth}set scrollWidth(B){this._scrollWidth=B}get orientation(){return this._orientation}set orientation(B){this._orientation=B}get step(){return this._step}set step(B){this._step=B}get delay(){return this._delay}set delay(B){this._delay=B}get resizeDelay(){return this._resizeDelay}set resizeDelay(B){this._resizeDelay=B}get appendOnly(){return this._appendOnly}set appendOnly(B){this._appendOnly=B}get inline(){return this._inline}set inline(B){this._inline=B}get lazy(){return this._lazy}set lazy(B){this._lazy=B}get disabled(){return this._disabled}set disabled(B){this._disabled=B}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(B){this._loaderDisabled=B}get columns(){return this._columns}set columns(B){this._columns=B}get showSpacer(){return this._showSpacer}set showSpacer(B){this._showSpacer=B}get showLoader(){return this._showLoader}set showLoader(B){this._showLoader=B}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(B){this._numToleratedItems=B}get loading(){return this._loading}set loading(B){this._loading=B}get autoSize(){return this._autoSize}set autoSize(B){this._autoSize=B}get trackBy(){return this._trackBy}set trackBy(B){this._trackBy=B}get options(){return this._options}set options(B){this._options=B,B&&"object"==typeof B&&Object.entries(B).forEach(([j,Ue])=>this[`_${j}`]!==Ue&&(this[`_${j}`]=Ue))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(B=>this._columns?B:B.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(B){var j,Ue,fe,qe;let je=!1;if(B.loading){const{previousValue:mt,currentValue:bt}=B.loading;this.lazy&&mt!==bt&&bt!==this.d_loading&&(this.d_loading=bt,je=!0)}if(B.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),B.numToleratedItems){const{previousValue:mt,currentValue:bt}=B.numToleratedItems;mt!==bt&&bt!==this.d_numToleratedItems&&(this.d_numToleratedItems=bt)}if(B.options){const{previousValue:mt,currentValue:bt}=B.options;this.lazy&&(null==mt?void 0:mt.loading)!==(null==bt?void 0:bt.loading)&&(null==bt?void 0:bt.loading)!==this.d_loading&&(this.d_loading=bt.loading,je=!0),(null==mt?void 0:mt.numToleratedItems)!==(null==bt?void 0:bt.numToleratedItems)&&(null==bt?void 0:bt.numToleratedItems)!==this.d_numToleratedItems&&(this.d_numToleratedItems=bt.numToleratedItems)}this.initialized&&!je&&((null===(Ue=null===(j=B.items)||void 0===j?void 0:j.previousValue)||void 0===Ue?void 0:Ue.length)!==(null===(qe=null===(fe=B.items)||void 0===fe?void 0:fe.currentValue)||void 0===qe?void 0:qe.length)||B.itemSize||B.scrollHeight||B.scrollWidth)&&this.init()}ngAfterContentInit(){this.templates.forEach(B=>{switch(B.getType()){case"content":this.contentTemplate=B.template;break;case"item":default:this.itemTemplate=B.template;break;case"loader":this.loaderTemplate=B.template;break;case"loadericon":this.loaderIconTemplate=B.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit(),this.calculateAutoSize()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){var B;H.p.isVisible(null===(B=this.elementViewChild)||void 0===B?void 0:B.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=H.p.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=H.p.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(B){var j,Ue;this.contentEl=B||(null===(j=this.contentViewChild)||void 0===j?void 0:j.nativeElement)||H.p.findSingle(null===(Ue=this.elementViewChild)||void 0===Ue?void 0:Ue.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(B){var j,Ue;this.lastScrollPos=this.both?{top:0,left:0}:0,null===(Ue=null===(j=this.elementViewChild)||void 0===j?void 0:j.nativeElement)||void 0===Ue||Ue.scrollTo(B)}scrollToIndex(B,j="auto"){const{numToleratedItems:Ue}=this.calculateNumItems(),fe=this.getContentPosition(),qe=(bt=0,st)=>bt<=st?0:bt,je=(bt,st,xt)=>bt*st+xt,mt=(bt=0,st=0)=>this.scrollTo({left:bt,top:st,behavior:j});this.both?(this.first={rows:qe(B[0],Ue[0]),cols:qe(B[1],Ue[1])},mt(je(this.first.cols,this._itemSize[1],fe.left),je(this.first.rows,this._itemSize[0],fe.top))):(this.first=qe(B,Ue),this.horizontal?mt(je(this.first,this._itemSize,fe.left),0):mt(0,je(this.first,this._itemSize,fe.top)))}scrollInView(B,j,Ue="auto"){if(j){const{first:fe,viewport:qe}=this.getRenderedRange(),je=(st=0,xt=0)=>this.scrollTo({left:st,top:xt,behavior:Ue}),bt="to-end"===j;if("to-start"===j){if(this.both)qe.first.rows-fe.rows>B[0]?je(qe.first.cols*this._itemSize[1],(qe.first.rows-1)*this._itemSize[0]):qe.first.cols-fe.cols>B[1]&&je((qe.first.cols-1)*this._itemSize[1],qe.first.rows*this._itemSize[0]);else if(qe.first-fe>B){const st=(qe.first-1)*this._itemSize;this.horizontal?je(st,0):je(0,st)}}else if(bt)if(this.both)qe.last.rows-fe.rows<=B[0]+1?je(qe.first.cols*this._itemSize[1],(qe.first.rows+1)*this._itemSize[0]):qe.last.cols-fe.cols<=B[1]+1&&je((qe.first.cols+1)*this._itemSize[1],qe.first.rows*this._itemSize[0]);else if(qe.last-fe<=B+1){const st=(qe.first+1)*this._itemSize;this.horizontal?je(st,0):je(0,st)}}else this.scrollToIndex(B,Ue)}getRenderedRange(){var B;const j=(qe,je)=>Math.floor(qe/(je||qe));let Ue=this.first,fe=0;if(null!==(B=this.elementViewChild)&&void 0!==B&&B.nativeElement){const{scrollTop:qe,scrollLeft:je}=this.elementViewChild.nativeElement;this.both?(Ue={rows:j(qe,this._itemSize[0]),cols:j(je,this._itemSize[1])},fe={rows:Ue.rows+this.numItemsInViewport.rows,cols:Ue.cols+this.numItemsInViewport.cols}):(Ue=j(this.horizontal?je:qe,this._itemSize),fe=Ue+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:Ue,last:fe}}}calculateNumItems(){var B,j;const Ue=this.getContentPosition(),fe=null!==(B=this.elementViewChild)&&void 0!==B&&B.nativeElement?this.elementViewChild.nativeElement.offsetWidth-Ue.left:0,qe=null!==(j=this.elementViewChild)&&void 0!==j&&j.nativeElement?this.elementViewChild.nativeElement.offsetHeight-Ue.top:0,je=(xt,ot)=>Math.ceil(xt/(ot||xt)),mt=xt=>Math.ceil(xt/2),bt=this.both?{rows:je(qe,this._itemSize[0]),cols:je(fe,this._itemSize[1])}:je(this.horizontal?fe:qe,this._itemSize);return{numItemsInViewport:bt,numToleratedItems:this.d_numToleratedItems||(this.both?[mt(bt.rows),mt(bt.cols)]:mt(bt))}}calculateOptions(){const{numItemsInViewport:B,numToleratedItems:j}=this.calculateNumItems(),Ue=(je,mt,bt,st=!1)=>this.getLast(je+mt+(je<bt?2:3)*bt,st),fe=this.first,qe=this.both?{rows:Ue(this.first.rows,B.rows,j[0]),cols:Ue(this.first.cols,B.cols,j[1],!0)}:Ue(this.first,B,j);this.last=qe,this.numItemsInViewport=B,this.d_numToleratedItems=j,this.showLoader&&(this.loaderArr=this.both?Array.from({length:B.rows}).map(()=>Array.from({length:B.cols})):Array.from({length:B})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:fe.cols}:0:fe,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:B,offsetHeight:j}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(B<this.defaultWidth?B:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(j<this.defaultHeight?j:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(B=0,j=!1){return this._items?Math.min(j?(this._columns||this._items[0]).length:this._items.length,B):0}getContentPosition(){if(this.contentEl){const B=getComputedStyle(this.contentEl),j=parseFloat(B.paddingLeft)+Math.max(parseFloat(B.left)||0,0),Ue=parseFloat(B.paddingRight)+Math.max(parseFloat(B.right)||0,0),fe=parseFloat(B.paddingTop)+Math.max(parseFloat(B.top)||0,0),qe=parseFloat(B.paddingBottom)+Math.max(parseFloat(B.bottom)||0,0);return{left:j,right:Ue,top:fe,bottom:qe,x:j+Ue,y:fe+qe}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){var B;if(null!==(B=this.elementViewChild)&&void 0!==B&&B.nativeElement){const j=this.elementViewChild.nativeElement.parentElement.parentElement,Ue=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||j.offsetWidth}px`,fe=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||j.offsetHeight}px`,qe=(je,mt)=>this.elementViewChild.nativeElement.style[je]=mt;this.both||this.horizontal?(qe("height",fe),qe("width",Ue)):qe("height",fe)}}setSpacerSize(){if(this._items){const B=this.getContentPosition(),j=(Ue,fe,qe,je=0)=>this.spacerStyle=Object.assign(Object.assign({},this.spacerStyle),{[`${Ue}`]:(fe||[]).length*qe+je+"px"});this.both?(j("height",this._items,this._itemSize[0],B.y),j("width",this._columns||this._items[1],this._itemSize[1],B.x)):this.horizontal?j("width",this._columns||this._items,this._itemSize,B.x):j("height",this._items,this._itemSize,B.y)}}setContentPosition(B){if(this.contentEl&&!this._appendOnly){const j=B?B.first:this.first,Ue=(qe,je)=>qe*je,fe=(qe=0,je=0)=>this.contentStyle=Object.assign(Object.assign({},this.contentStyle),{transform:`translate3d(${qe}px, ${je}px, 0)`});if(this.both)fe(Ue(j.cols,this._itemSize[1]),Ue(j.rows,this._itemSize[0]));else{const qe=Ue(j,this._itemSize);this.horizontal?fe(qe,0):fe(0,qe)}}}onScrollPositionChange(B){const j=B.target,Ue=this.getContentPosition(),fe=(St,ln)=>St?St>ln?St-ln:St:0,qe=(St,ln)=>Math.floor(St/(ln||St)),je=(St,ln,Ye,Mt,Ft,tn)=>St<=Ft?Ft:tn?Ye-Mt-Ft:ln+Ft-1,mt=(St,ln,Ye,Mt,Ft,tn,Vn)=>St<=tn?0:Math.max(0,Vn?St<ln?Ye:St-tn:St>ln?Ye:St-2*tn),bt=(St,ln,Ye,Mt,Ft,tn=!1)=>{let Vn=ln+Mt+2*Ft;return St>=Ft&&(Vn+=Ft+1),this.getLast(Vn,tn)},st=fe(j.scrollTop,Ue.top),xt=fe(j.scrollLeft,Ue.left);let ot=this.both?{rows:0,cols:0}:0,We=this.last,hn=!1,fn=this.lastScrollPos;if(this.both){const St=this.lastScrollPos.top<=st,ln=this.lastScrollPos.left<=xt;if(!this._appendOnly||this._appendOnly&&(St||ln)){const Ye={rows:qe(st,this._itemSize[0]),cols:qe(xt,this._itemSize[1])},Mt={rows:je(Ye.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],St),cols:je(Ye.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],ln)};ot={rows:mt(Ye.rows,Mt.rows,this.first.rows,0,0,this.d_numToleratedItems[0],St),cols:mt(Ye.cols,Mt.cols,this.first.cols,0,0,this.d_numToleratedItems[1],ln)},We={rows:bt(Ye.rows,ot.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:bt(Ye.cols,ot.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},hn=ot.rows!==this.first.rows||We.rows!==this.last.rows||ot.cols!==this.first.cols||We.cols!==this.last.cols,fn={top:st,left:xt}}}else{const St=this.horizontal?xt:st,ln=this.lastScrollPos<=St;if(!this._appendOnly||this._appendOnly&&ln){const Ye=qe(St,this._itemSize);ot=mt(Ye,je(Ye,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,ln),this.first,0,0,this.d_numToleratedItems,ln),We=bt(Ye,ot,0,this.numItemsInViewport,this.d_numToleratedItems),hn=ot!==this.first||We!==this.last,fn=St}}return{first:ot,last:We,isRangeChanged:hn,scrollPos:fn}}onScrollChange(B){const{first:j,last:Ue,isRangeChanged:fe,scrollPos:qe}=this.onScrollPositionChange(B);if(fe){const je={first:j,last:Ue};if(this.setContentPosition(je),this.first=j,this.last=Ue,this.lastScrollPos=qe,this.handleEvents("onScrollIndexChange",je),this._lazy&&this.isPageChanged){const mt={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):j,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:Ue,this.items.length)};(this.lazyLoadState.first!==mt.first||this.lazyLoadState.last!==mt.last)&&this.handleEvents("onLazyLoad",mt),this.lazyLoadState=mt}}}onContainerScroll(B){if(this.handleEvents("onScroll",{originalEvent:B}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:j}=this.onScrollPositionChange(B);(j||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(B),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(B)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{var B;if(H.p.isVisible(null===(B=this.elementViewChild)||void 0===B?void 0:B.nativeElement)){const[j,Ue]=[H.p.getWidth(this.elementViewChild.nativeElement),H.p.getHeight(this.elementViewChild.nativeElement)],[fe,qe]=[j!==this.defaultWidth,Ue!==this.defaultHeight];(this.both?fe||qe:this.horizontal?fe:this.vertical&&qe)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=j,this.defaultHeight=Ue,this.init()})}},this._resizeDelay)}handleEvents(B,j){return this.options&&this.options[B]?this.options[B](j):this[B].emit(j)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:B=>this.getOptions(B),loading:this.d_loading,getLoaderOptions:(B,j)=>this.getLoaderOptions(B,j),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(B){const j=(this._items||[]).length,Ue=this.both?this.first.rows+B:this.first+B;return{index:Ue,count:j,first:0===Ue,last:Ue===j-1,even:Ue%2==0,odd:Ue%2!=0}}getLoaderOptions(B,j){const Ue=this.loaderArr.length;return Object.assign({index:B,count:Ue,first:0===B,last:B===Ue-1,even:B%2==0,odd:B%2!=0},j)}}return Se.\u0275fac=function(B){return new(B||Se)(s.Y36(s.sBO),s.Y36(s.R0b))},Se.\u0275cmp=s.Xpm({type:Se,selectors:[["p-scroller"]],contentQueries:function(B,j,Ue){if(1&B&&s.Suo(Ue,g.jx,4),2&B){let fe;s.iGM(fe=s.CRH())&&(j.templates=fe)}},viewQuery:function(B,j){if(1&B&&(s.Gf(L,5),s.Gf(I,5)),2&B){let Ue;s.iGM(Ue=s.CRH())&&(j.elementViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(j.contentViewChild=Ue.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[s.TTD],ngContentSelectors:Me,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(B,j){if(1&B&&(s.F$t(),s.YNc(0,F,8,14,"ng-container",0),s.YNc(1,Le,2,1,"ng-template",null,1,s.W1O)),2&B){const Ue=s.MAs(2);s.Q6J("ngIf",!j._disabled)("ngIfElse",Ue)}},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),Se})(),at=(()=>{class Se{}return Se.\u0275fac=function(B){return new(B||Se)},Se.\u0275mod=s.oAB({type:Se}),Se.\u0275inj=s.cJS({imports:[e.ez]}),Se})()},7102:(Ht,et,_)=>{_.d(et,{Qy:()=>ke,UN:()=>Te});var e=_(5e3),s=_(9808),g=_(5921),H=_(5787),L=_(2382);function I(we,Fe){if(1&we&&e._UZ(0,"span",8),2&we){const Y=e.oxw(2).$implicit;e.Tol(Y.icon),e.Q6J("ngClass","p-button-icon p-button-icon-left")}}function U(we,Fe){if(1&we&&(e.ynx(0),e.YNc(1,I,1,3,"span",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.BQk()),2&we){const Y=e.oxw().$implicit,Pe=e.oxw();e.xp6(1),e.Q6J("ngIf",Y.icon),e.xp6(2),e.Oqu(Pe.getOptionLabel(Y))}}function le(we,Fe){1&we&&e.GkF(0)}const re=function(we,Fe){return{$implicit:we,index:Fe}};function K(we,Fe){if(1&we&&e.YNc(0,le,1,0,"ng-container",9),2&we){const Y=e.oxw(),Pe=Y.$implicit,de=Y.index,N=e.oxw();e.Q6J("ngTemplateOutlet",N.itemTemplate)("ngTemplateOutletContext",e.WLB(2,re,Pe,de))}}const pe=function(we,Fe,Y){return{"p-highlight":we,"p-disabled":Fe,"p-button-icon-only":Y}};function ue(we,Fe){if(1&we){const Y=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("click",function(de){const N=e.CHM(Y),O=N.$implicit,ye=N.index,Ce=e.oxw();return e.KtG(Ce.onItemClick(de,O,ye))})("keydown.enter",function(de){const N=e.CHM(Y),O=N.$implicit,ye=N.index,Ce=e.oxw();return e.KtG(Ce.onItemClick(de,O,ye))})("blur",function(){e.CHM(Y);const de=e.oxw();return e.KtG(de.onBlur())}),e.YNc(2,U,4,2,"ng-container",4),e.YNc(3,K,1,5,"ng-template",null,5,e.W1O),e.qZA()}if(2&we){const Y=Fe.$implicit,Pe=e.MAs(4),de=e.oxw();e.Tol(Y.styleClass),e.Q6J("ngClass",e.kEZ(10,pe,de.isSelected(Y),de.disabled||de.isOptionDisabled(Y),Y.icon&&!de.getOptionLabel(Y))),e.uIk("aria-pressed",de.isSelected(Y))("title",Y.title)("aria-label",Y.label)("tabindex",de.disabled?null:de.tabindex)("aria-labelledby",de.getOptionLabel(Y)),e.xp6(2),e.Q6J("ngIf",!de.itemTemplate)("ngIfElse",Pe)}}const Oe={provide:L.JU,useExisting:(0,e.Gpc)(()=>Te),multi:!0};let Te=(()=>{class we{constructor(Y){this.cd=Y,this.tabindex=0,this.onOptionClick=new e.vpe,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(Y){return this.optionLabel?g.gb.resolveFieldData(Y,this.optionLabel):null!=Y.label?Y.label:Y}getOptionValue(Y){return this.optionValue?g.gb.resolveFieldData(Y,this.optionValue):this.optionLabel||void 0===Y.value?Y:Y.value}isOptionDisabled(Y){return this.optionDisabled?g.gb.resolveFieldData(Y,this.optionDisabled):void 0!==Y.disabled&&Y.disabled}writeValue(Y){this.value=Y,this.cd.markForCheck()}registerOnChange(Y){this.onModelChange=Y}registerOnTouched(Y){this.onModelTouched=Y}setDisabledState(Y){this.disabled=Y,this.cd.markForCheck()}onItemClick(Y,Pe,de){if(!this.disabled&&!this.isOptionDisabled(Pe)){if(this.multiple)this.isSelected(Pe)?this.removeOption(Pe):this.value=[...this.value||[],this.getOptionValue(Pe)],this.onModelChange(this.value),this.onChange.emit({originalEvent:Y,value:this.value});else{let N=this.getOptionValue(Pe);this.value!==N&&(this.value=this.getOptionValue(Pe),this.onModelChange(this.value),this.onChange.emit({originalEvent:Y,value:this.value}))}this.onOptionClick.emit({originalEvent:Y,option:Pe,index:de})}}onBlur(){this.onModelTouched()}removeOption(Y){this.value=this.value.filter(Pe=>!g.gb.equals(Pe,this.getOptionValue(Y),this.dataKey))}isSelected(Y){let Pe=!1,de=this.getOptionValue(Y);if(this.multiple){if(this.value&&this.value instanceof Array)for(let N of this.value)if(g.gb.equals(N,de,this.dataKey)){Pe=!0;break}}else Pe=g.gb.equals(this.getOptionValue(Y),this.value,this.dataKey);return Pe}}return we.\u0275fac=function(Y){return new(Y||we)(e.Y36(e.sBO))},we.\u0275cmp=e.Xpm({type:we,selectors:[["p-selectButton"]],contentQueries:function(Y,Pe,de){if(1&Y&&e.Suo(de,e.Rgc,5),2&Y){let N;e.iGM(N=e.CRH())&&(Pe.itemTemplate=N.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[e._Bn([Oe])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Y,Pe){1&Y&&(e.TgZ(0,"div",0),e.YNc(1,ue,5,14,"div",1),e.qZA()),2&Y&&(e.Tol(Pe.styleClass),e.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",Pe.style),e.xp6(1),e.Q6J("ngForOf",Pe.options))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,H.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),we})(),ke=(()=>{class we{}return we.\u0275fac=function(Y){return new(Y||we)},we.\u0275mod=e.oAB({type:we}),we.\u0275inj=e.cJS({imports:[s.ez,H.T]}),we})()},4500:(Ht,et,_)=>{_.d(et,{O:()=>g,m:()=>H});var e=_(5e3),s=_(9808);let g=(()=>{class L{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return Object.assign(Object.assign({},this.style),this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius})}}return L.\u0275fac=function(U){return new(U||L)},L.\u0275cmp=e.Xpm({type:L,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(U,le){1&U&&e._UZ(0,"div",0),2&U&&(e.Tol(le.styleClass),e.Q6J("ngClass",le.containerClass())("ngStyle",le.containerStyle()))},dependencies:[s.mk,s.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),L})(),H=(()=>{class L{}return L.\u0275fac=function(U){return new(U||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[s.ez]}),L})()},4776:(Ht,et,_)=>{_.d(et,{JH:()=>Ce,iR:()=>ye});var e=_(9808),s=_(5e3),g=_(2382),H=_(5730);const L=["sliderHandle"],I=["sliderHandleStart"],U=["sliderHandleEnd"],le=function(ve,V){return{left:ve,width:V}};function re(ve,V){if(1&ve&&s._UZ(0,"span",4),2&ve){const w=s.oxw();s.Q6J("ngStyle",s.WLB(1,le,null!=w.offset?w.offset+"%":w.handleValues[0]+"%",w.diff?w.diff+"%":w.handleValues[1]-w.handleValues[0]+"%"))}}const K=function(ve,V){return{bottom:ve,height:V}};function pe(ve,V){if(1&ve&&s._UZ(0,"span",4),2&ve){const w=s.oxw();s.Q6J("ngStyle",s.WLB(1,K,null!=w.offset?w.offset+"%":w.handleValues[0]+"%",w.diff?w.diff+"%":w.handleValues[1]-w.handleValues[0]+"%"))}}const ue=function(ve){return{height:ve}};function Oe(ve,V){if(1&ve&&s._UZ(0,"span",4),2&ve){const w=s.oxw();s.Q6J("ngStyle",s.VKq(1,ue,w.handleValue+"%"))}}const Te=function(ve){return{width:ve}};function ke(ve,V){if(1&ve&&s._UZ(0,"span",4),2&ve){const w=s.oxw();s.Q6J("ngStyle",s.VKq(1,Te,w.handleValue+"%"))}}const we=function(ve,V){return{left:ve,bottom:V}};function Fe(ve,V){if(1&ve){const w=s.EpF();s.TgZ(0,"span",5,6),s.NdJ("keydown",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onHandleKeydown(q))})("mousedown",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onMouseDown(q))})("touchstart",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchStart(q))})("touchmove",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchMove(q))})("touchend",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchEnd(q))}),s.qZA()}if(2&ve){const w=s.oxw();s.Udp("transition",w.dragging?"none":null),s.Q6J("ngStyle",s.WLB(8,we,"horizontal"==w.orientation?w.handleValue+"%":null,"vertical"==w.orientation?w.handleValue+"%":null)),s.uIk("tabindex",w.disabled?null:w.tabindex)("aria-valuemin",w.min)("aria-valuenow",w.value)("aria-valuemax",w.max)("aria-labelledby",w.ariaLabelledBy)}}const Y=function(ve){return{"p-slider-handle-active":ve}};function Pe(ve,V){if(1&ve){const w=s.EpF();s.TgZ(0,"span",7,8),s.NdJ("keydown",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onHandleKeydown(q,0))})("mousedown",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onMouseDown(q,0))})("touchstart",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchStart(q,0))})("touchmove",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchMove(q,0))})("touchend",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchEnd(q))}),s.qZA()}if(2&ve){const w=s.oxw();s.Udp("transition",w.dragging?"none":null),s.Q6J("ngStyle",s.WLB(9,we,w.rangeStartLeft,w.rangeStartBottom))("ngClass",s.VKq(12,Y,0==w.handleIndex)),s.uIk("tabindex",w.disabled?null:w.tabindex)("aria-valuemin",w.min)("aria-valuenow",w.value?w.value[0]:null)("aria-valuemax",w.max)("aria-labelledby",w.ariaLabelledBy)}}function de(ve,V){if(1&ve){const w=s.EpF();s.TgZ(0,"span",7,9),s.NdJ("keydown",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onHandleKeydown(q,1))})("mousedown",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onMouseDown(q,1))})("touchstart",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchStart(q,1))})("touchmove",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchMove(q,1))})("touchend",function(q){s.CHM(w);const _e=s.oxw();return s.KtG(_e.onTouchEnd(q))}),s.qZA()}if(2&ve){const w=s.oxw();s.Udp("transition",w.dragging?"none":null),s.Q6J("ngStyle",s.WLB(9,we,w.rangeEndLeft,w.rangeEndBottom))("ngClass",s.VKq(12,Y,1==w.handleIndex)),s.uIk("tabindex",w.disabled?null:w.tabindex)("aria-valuemin",w.min)("aria-valuenow",w.value?w.value[1]:null)("aria-valuemax",w.max)("aria-labelledby",w.ariaLabelledBy)}}const N=function(ve,V,w,F){return{"p-slider p-component":!0,"p-disabled":ve,"p-slider-horizontal":V,"p-slider-vertical":w,"p-slider-animate":F}},O={provide:g.JU,useExisting:(0,s.Gpc)(()=>ye),multi:!0};let ye=(()=>{class ve{constructor(w,F,q,_e){this.el=w,this.renderer=F,this.ngZone=q,this.cd=_e,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new s.vpe,this.onSlideEnd=new s.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(w,F){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:F,this.bindDragListeners(),w.target.focus(),w.preventDefault(),this.animate&&H.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(w,F){if(!this.disabled){var q=w.changedTouches[0];this.startHandleValue=this.range?this.handleValues[F]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:F,"horizontal"===this.orientation?(this.startx=parseInt(q.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(q.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&H.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),w.preventDefault()}}onTouchMove(w,F){if(!this.disabled){var _e,q=w.changedTouches[0];_e="horizontal"===this.orientation?Math.floor(100*(parseInt(q.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(q.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(w,_e),w.preventDefault()}}onTouchEnd(w,F){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:w,values:this.values}:{originalEvent:w,value:this.value}),this.animate&&H.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),w.preventDefault())}onBarClick(w){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(w)),this.sliderHandleClick=!1)}onHandleKeydown(w,F){this.disabled||(38==w.which||39==w.which?this.spin(w,1,F):(37==w.which||40==w.which)&&this.spin(w,-1,F))}spin(w,F,q){let _e=(this.step||1)*F;this.range?(this.handleIndex=q,this.updateValue(this.values[this.handleIndex]+_e),this.updateHandleValue()):(this.updateValue(this.value+_e),this.updateHandleValue()),w.preventDefault()}handleChange(w){let F=this.calculateHandleValue(w);this.setValueFromHandle(w,F)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const w=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(w,"mousemove",F=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(F)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(w,"mouseup",F=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:F,values:this.values}:{originalEvent:F,value:this.value}),this.animate&&H.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(w,F){this.sliderHandleClick=!1;let q=this.getValueFromHandle(F);this.range?this.step?this.handleStepChange(q,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=F,this.updateValue(q,w)):this.step?this.handleStepChange(q,this.value):(this.handleValue=F,this.updateValue(q,w)),this.cd.markForCheck()}handleStepChange(w,F){let q=w-F,_e=F;q<0?_e=F+Math.ceil(w/this.step-F/this.step)*this.step:q>0&&(_e=F+Math.floor(w/this.step-F/this.step)*this.step),this.updateValue(_e),this.updateHandleValue()}writeValue(w){this.range?this.values=w||[0,0]:this.value=w||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(w){this.onModelChange=w}registerOnTouched(w){this.onModelTouched=w}setDisabledState(w){this.disabled=w,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let w=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=w.left+H.p.getWindowScrollLeft(),this.initY=w.top+H.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(w){return"horizontal"===this.orientation?100*(w.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-w.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(w,F){if(this.range){let q=w;0==this.handleIndex?(q<this.min?(q=this.min,this.handleValues[0]=0):q>this.values[1]&&q>this.max&&(q=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(q>this.max?(q=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):q<this.min?(q=this.min,this.handleValues[1]=0):q<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(q),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:F,values:this.values})}else w<this.min?(w=this.min,this.handleValue=0):w>this.max&&(w=this.max,this.handleValue=100),this.value=this.getNormalizedValue(w),this.onModelChange(this.value),this.onChange.emit({event:F,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(w){return w/100*(this.max-this.min)+this.min}getDecimalsCount(w){return w&&Math.floor(w)!==w&&w.toString().split(".")[1].length||0}getNormalizedValue(w){let F=this.getDecimalsCount(this.step);return F>0?+parseFloat(w.toString()).toFixed(F):Math.floor(w)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return ve.\u0275fac=function(w){return new(w||ve)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(s.sBO))},ve.\u0275cmp=s.Xpm({type:ve,selectors:[["p-slider"]],viewQuery:function(w,F){if(1&w&&(s.Gf(L,5),s.Gf(I,5),s.Gf(U,5)),2&w){let q;s.iGM(q=s.CRH())&&(F.sliderHandle=q.first),s.iGM(q=s.CRH())&&(F.sliderHandleStart=q.first),s.iGM(q=s.CRH())&&(F.sliderHandleEnd=q.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[s._Bn([O])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(w,F){1&w&&(s.TgZ(0,"div",0),s.NdJ("click",function(_e){return F.onBarClick(_e)}),s.YNc(1,re,1,4,"span",1),s.YNc(2,pe,1,4,"span",1),s.YNc(3,Oe,1,3,"span",1),s.YNc(4,ke,1,3,"span",1),s.YNc(5,Fe,2,11,"span",2),s.YNc(6,Pe,2,14,"span",3),s.YNc(7,de,2,14,"span",3),s.qZA()),2&w&&(s.Tol(F.styleClass),s.Q6J("ngStyle",F.style)("ngClass",s.l5B(11,N,F.disabled,"horizontal"==F.orientation,"vertical"==F.orientation,F.animate)),s.xp6(1),s.Q6J("ngIf",F.range&&"horizontal"==F.orientation),s.xp6(1),s.Q6J("ngIf",F.range&&"vertical"==F.orientation),s.xp6(1),s.Q6J("ngIf",!F.range&&"vertical"==F.orientation),s.xp6(1),s.Q6J("ngIf",!F.range&&"horizontal"==F.orientation),s.xp6(1),s.Q6J("ngIf",!F.range),s.xp6(1),s.Q6J("ngIf",F.range),s.xp6(1),s.Q6J("ngIf",F.range))},dependencies:[e.mk,e.O5,e.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),ve})(),Ce=(()=>{class ve{}return ve.\u0275fac=function(w){return new(w||ve)},ve.\u0275mod=s.oAB({type:ve}),ve.\u0275inj=s.cJS({imports:[e.ez]}),ve})()},3725:(Ht,et,_)=>{_.d(et,{LU:()=>_e,x4:()=>F,xf:()=>q});var e=_(5e3),s=_(9808),g=_(4119),H=_(5787),L=_(9783),I=_(5730);function U(De,Le){1&De&&e.GkF(0)}function le(De,Le){if(1&De&&(e.ynx(0),e.YNc(1,U,1,0,"ng-container",3),e.BQk()),2&De){const Me=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",Me.contentTemplate)}}function re(De,Le){if(1&De&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,le,2,1,"ng-container",2),e.qZA()),2&De){const Me=e.oxw();e.Q6J("hidden",!Me.selected),e.uIk("id",Me.id)("aria-hidden",!Me.selected)("aria-labelledby",Me.id+"-label"),e.xp6(2),e.Q6J("ngIf",Me.contentTemplate&&(Me.cache?Me.loaded:Me.selected))}}const K=["*"],pe=["content"],ue=["navbar"],Oe=["prevBtn"],Te=["nextBtn"],ke=["inkbar"];function we(De,Le){if(1&De){const Me=e.EpF();e.TgZ(0,"button",12,13),e.NdJ("click",function(){e.CHM(Me);const at=e.oxw();return e.KtG(at.navBackward())}),e._UZ(2,"span",14),e.qZA()}}function Fe(De,Le){if(1&De&&e._UZ(0,"span",24),2&De){const Me=e.oxw(3).$implicit;e.Q6J("ngClass",Me.leftIcon)}}function Y(De,Le){if(1&De&&e._UZ(0,"span",25),2&De){const Me=e.oxw(3).$implicit;e.Q6J("ngClass",Me.rightIcon)}}function Pe(De,Le){if(1&De&&(e.ynx(0),e.YNc(1,Fe,1,1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.YNc(4,Y,1,1,"span",23),e.BQk()),2&De){const Me=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",Me.leftIcon),e.xp6(2),e.Oqu(Me.header),e.xp6(1),e.Q6J("ngIf",Me.rightIcon)}}function de(De,Le){1&De&&e.GkF(0)}function N(De,Le){if(1&De){const Me=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(at){e.CHM(Me);const Se=e.oxw(2).$implicit,$=e.oxw();return e.KtG($.close(at,Se))}),e.qZA()}}const O=function(De,Le){return{"p-highlight":De,"p-disabled":Le}};function ye(De,Le){if(1&De){const Me=e.EpF();e.TgZ(0,"li",16)(1,"a",17),e.NdJ("click",function(at){e.CHM(Me);const Se=e.oxw().$implicit,$=e.oxw();return e.KtG($.open(at,Se))})("keydown.enter",function(at){e.CHM(Me);const Se=e.oxw().$implicit,$=e.oxw();return e.KtG($.open(at,Se))}),e.YNc(2,Pe,5,3,"ng-container",18),e.YNc(3,de,1,0,"ng-container",19),e.YNc(4,N,1,0,"span",20),e.qZA()()}if(2&De){const Me=e.oxw().$implicit;e.Tol(Me.headerStyleClass),e.Q6J("ngClass",e.WLB(16,O,Me.selected,Me.disabled))("ngStyle",Me.headerStyle),e.xp6(1),e.Q6J("pTooltip",Me.tooltip)("tooltipPosition",Me.tooltipPosition)("positionStyle",Me.tooltipPositionStyle)("tooltipStyleClass",Me.tooltipStyleClass),e.uIk("id",Me.id+"-label")("aria-selected",Me.selected)("aria-controls",Me.id)("aria-selected",Me.selected)("tabindex",Me.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",!Me.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Me.headerTemplate),e.xp6(1),e.Q6J("ngIf",Me.closable)}}function Ce(De,Le){1&De&&e.YNc(0,ye,5,19,"li",15),2&De&&e.Q6J("ngIf",!Le.$implicit.closed)}function ve(De,Le){if(1&De){const Me=e.EpF();e.TgZ(0,"button",27,28),e.NdJ("click",function(){e.CHM(Me);const at=e.oxw();return e.KtG(at.navForward())}),e._UZ(2,"span",29),e.qZA()}}const V=function(De){return{"p-tabview p-component":!0,"p-tabview-scrollable":De}};let w=0,F=(()=>{class De{constructor(Me,ht,at){this.viewContainer=ht,this.cd=at,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+w++,this.tabView=Me}ngAfterContentInit(){this.templates.forEach(Me=>{"header"===Me.getType()?this.headerTemplate=Me.template:this.contentTemplate=Me.template})}get selected(){return this._selected}set selected(Me){this._selected=Me,this.loaded||this.cd.detectChanges(),Me&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(Me){this._disabled=Me,this.tabView.cd.markForCheck()}get header(){return this._header}set header(Me){this._header=Me,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(Me){this._leftIcon=Me,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(Me){this._rightIcon=Me,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return De.\u0275fac=function(Me){return new(Me||De)(e.Y36((0,e.Gpc)(()=>q)),e.Y36(e.s_b),e.Y36(e.sBO))},De.\u0275cmp=e.Xpm({type:De,selectors:[["p-tabPanel"]],contentQueries:function(Me,ht,at){if(1&Me&&e.Suo(at,L.jx,4),2&Me){let Se;e.iGM(Se=e.CRH())&&(ht.templates=Se)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:K,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(Me,ht){1&Me&&(e.F$t(),e.YNc(0,re,3,5,"div",0)),2&Me&&e.Q6J("ngIf",!ht.closed)},dependencies:[s.O5,s.tP],encapsulation:2}),De})(),q=(()=>{class De{constructor(Me,ht){this.el=Me,this.cd=ht,this.orientation="top",this.onChange=new e.vpe,this.onClose=new e.vpe,this.activeIndexChange=new e.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(Me=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe()}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(Me,ht){if(ht.disabled)Me&&Me.preventDefault();else{if(!ht.selected){let at=this.findSelectedTab();at&&(at.selected=!1),this.tabChanged=!0,ht.selected=!0;let Se=this.findTabIndex(ht);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(Se),this.onChange.emit({originalEvent:Me,index:Se}),this.updateScrollBar(Se)}Me&&Me.preventDefault()}}close(Me,ht){this.controlClose?this.onClose.emit({originalEvent:Me,index:this.findTabIndex(ht),close:()=>{this.closeTab(ht)}}):(this.closeTab(ht),this.onClose.emit({originalEvent:Me,index:this.findTabIndex(ht)})),Me.stopPropagation()}closeTab(Me){if(!Me.disabled){if(Me.selected){this.tabChanged=!0,Me.selected=!1;for(let ht=0;ht<this.tabs.length;ht++){let at=this.tabs[ht];if(!at.closed&&!Me.disabled){at.selected=!0;break}}}Me.closed=!0}}findSelectedTab(){for(let Me=0;Me<this.tabs.length;Me++)if(this.tabs[Me].selected)return this.tabs[Me];return null}findTabIndex(Me){let ht=-1;for(let at=0;at<this.tabs.length;at++)if(this.tabs[at]==Me){ht=at;break}return ht}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(Me){this._activeIndex=Me,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(Me))}updateInkBar(){if(this.navbar){const Me=I.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!Me)return;this.inkbar.nativeElement.style.width=I.p.getWidth(Me)+"px",this.inkbar.nativeElement.style.left=I.p.getOffset(Me).left-I.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(Me){this.navbar.nativeElement.children[Me].scrollIntoView({block:"nearest"})}updateButtonState(){const Me=this.content.nativeElement,{scrollLeft:ht,scrollWidth:at}=Me,Se=I.p.getWidth(Me);this.backwardIsDisabled=0===ht,this.forwardIsDisabled=parseInt(ht)===at-Se}onScroll(Me){this.scrollable&&this.updateButtonState(),Me.preventDefault()}getVisibleButtonWidths(){var Me,ht;return[null===(Me=this.prevBtn)||void 0===Me?void 0:Me.nativeElement,null===(ht=this.nextBtn)||void 0===ht?void 0:ht.nativeElement].reduce((at,Se)=>Se?at+I.p.getWidth(Se):at,0)}navBackward(){const Me=this.content.nativeElement,ht=I.p.getWidth(Me)-this.getVisibleButtonWidths(),at=Me.scrollLeft-ht;Me.scrollLeft=at<=0?0:at}navForward(){const Me=this.content.nativeElement,ht=I.p.getWidth(Me)-this.getVisibleButtonWidths(),at=Me.scrollLeft+ht,Se=Me.scrollWidth-ht;Me.scrollLeft=at>=Se?Se:at}}return De.\u0275fac=function(Me){return new(Me||De)(e.Y36(e.SBq),e.Y36(e.sBO))},De.\u0275cmp=e.Xpm({type:De,selectors:[["p-tabView"]],contentQueries:function(Me,ht,at){if(1&Me&&e.Suo(at,F,4),2&Me){let Se;e.iGM(Se=e.CRH())&&(ht.tabPanels=Se)}},viewQuery:function(Me,ht){if(1&Me&&(e.Gf(pe,5),e.Gf(ue,5),e.Gf(Oe,5),e.Gf(Te,5),e.Gf(ke,5)),2&Me){let at;e.iGM(at=e.CRH())&&(ht.content=at.first),e.iGM(at=e.CRH())&&(ht.navbar=at.first),e.iGM(at=e.CRH())&&(ht.prevBtn=at.first),e.iGM(at=e.CRH())&&(ht.nextBtn=at.first),e.iGM(at=e.CRH())&&(ht.inkbar=at.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:K,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(Me,ht){1&Me&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,we,3,0,"button",2),e.TgZ(3,"div",3,4),e.NdJ("scroll",function(Se){return ht.onScroll(Se)}),e.TgZ(5,"ul",5,6),e.YNc(7,Ce,1,1,"ng-template",7),e._UZ(8,"li",8,9),e.qZA()(),e.YNc(10,ve,3,0,"button",10),e.qZA(),e.TgZ(11,"div",11),e.Hsn(12),e.qZA()()),2&Me&&(e.Tol(ht.styleClass),e.Q6J("ngClass",e.VKq(7,V,ht.scrollable))("ngStyle",ht.style),e.xp6(2),e.Q6J("ngIf",ht.scrollable&&!ht.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",ht.tabs),e.xp6(3),e.Q6J("ngIf",ht.scrollable&&!ht.forwardIsDisabled))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,g.u,H.H],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),De})(),_e=(()=>{class De{}return De.\u0275fac=function(Me){return new(Me||De)},De.\u0275mod=e.oAB({type:De}),De.\u0275inj=e.cJS({imports:[s.ez,L.m8,g.z,H.T,L.m8]}),De})()},7773:(Ht,et,_)=>{_.d(et,{EV:()=>Pe,FN:()=>Y});var e=_(5e3),s=_(9808),g=_(9783),H=_(5921),L=_(5787),I=_(1777);const U=["container"],le=function(de,N,O,ye){return{"pi-info-circle":de,"pi-exclamation-triangle":N,"pi-times-circle":O,"pi-check":ye}};function re(de,N){if(1&de&&(e.ynx(0),e._UZ(1,"span",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.BQk()),2&de){const O=e.oxw();e.xp6(1),e.Tol("p-toast-message-icon pi"+(O.message.icon?" "+O.message.icon:"")),e.Q6J("ngClass",e.l5B(5,le,"info"==O.message.severity,"warn"==O.message.severity,"error"==O.message.severity,"success"==O.message.severity)),e.xp6(3),e.Oqu(O.message.summary),e.xp6(2),e.Oqu(O.message.detail)}}function K(de,N){1&de&&e.GkF(0)}function pe(de,N){if(1&de){const O=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(Ce){e.CHM(O);const ve=e.oxw();return e.KtG(ve.onCloseIconClick(Ce))})("keydown.enter",function(Ce){e.CHM(O);const ve=e.oxw();return e.KtG(ve.onCloseIconClick(Ce))}),e._UZ(1,"span",11),e.qZA()}}const ue=function(de){return[de,"p-toast-message"]},Oe=function(de,N,O,ye){return{showTransformParams:de,hideTransformParams:N,showTransitionParams:O,hideTransitionParams:ye}},Te=function(de){return{value:"visible",params:de}},ke=function(de){return{$implicit:de}};function we(de,N){if(1&de){const O=e.EpF();e.TgZ(0,"p-toastItem",3),e.NdJ("onClose",function(Ce){e.CHM(O);const ve=e.oxw();return e.KtG(ve.onMessageClose(Ce))})("@toastAnimation.start",function(Ce){e.CHM(O);const ve=e.oxw();return e.KtG(ve.onAnimationStart(Ce))})("@toastAnimation.done",function(Ce){e.CHM(O);const ve=e.oxw();return e.KtG(ve.onAnimationEnd(Ce))}),e.qZA()}if(2&de){const O=N.$implicit,ye=N.index,Ce=e.oxw();e.Q6J("message",O)("index",ye)("template",Ce.template)("@toastAnimation",void 0)("showTransformOptions",Ce.showTransformOptions)("hideTransformOptions",Ce.hideTransformOptions)("showTransitionOptions",Ce.showTransitionOptions)("hideTransitionOptions",Ce.hideTransitionOptions)}}let Fe=(()=>{class de{constructor(O){this.zone=O,this.onClose=new e.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(O){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),O.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return de.\u0275fac=function(O){return new(O||de)(e.Y36(e.R0b))},de.\u0275cmp=e.Xpm({type:de,selectors:[["p-toastItem"]],viewQuery:function(O,ye){if(1&O&&e.Gf(U,5),2&O){let Ce;e.iGM(Ce=e.CRH())&&(ye.containerViewChild=Ce.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(O,ye){1&O&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return ye.onMouseEnter()})("mouseleave",function(){return ye.onMouseLeave()}),e.TgZ(2,"div",2),e.YNc(3,re,7,10,"ng-container",3),e.YNc(4,K,1,0,"ng-container",4),e.YNc(5,pe,2,0,"button",5),e.qZA()()),2&O&&(e.Tol(ye.message.styleClass),e.Q6J("ngClass",e.VKq(10,ue,"p-toast-message-"+ye.message.severity))("@messageState",e.VKq(17,Te,e.l5B(12,Oe,ye.showTransformOptions,ye.hideTransformOptions,ye.showTransitionOptions,ye.hideTransitionOptions))),e.uIk("id",ye.message.id),e.xp6(2),e.Q6J("ngClass",ye.message.contentStyleClass),e.xp6(1),e.Q6J("ngIf",!ye.template),e.xp6(1),e.Q6J("ngTemplateOutlet",ye.template)("ngTemplateOutletContext",e.VKq(19,ke,ye.message)),e.xp6(1),e.Q6J("ngIf",!1!==ye.message.closable))},dependencies:[s.mk,s.O5,s.tP,L.H],encapsulation:2,data:{animation:[(0,I.X$)("messageState",[(0,I.SB)("visible",(0,I.oB)({transform:"translateY(0)",opacity:1})),(0,I.eR)("void => *",[(0,I.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,I.jt)("{{showTransitionParams}}")]),(0,I.eR)("* => void",[(0,I.jt)("{{hideTransitionParams}}",(0,I.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),de})(),Y=(()=>{class de{constructor(O,ye,Ce){this.messageService=O,this.cd=ye,this.config=Ce,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new e.vpe,this.id=(0,H.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(O=>{if(O)if(O instanceof Array){const ye=O.filter(Ce=>this.canAdd(Ce));this.add(ye)}else this.canAdd(O)&&this.add([O])}),this.clearSubscription=this.messageService.clearObserver.subscribe(O=>{O?this.key===O&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(O){this.messages=this.messages?[...this.messages,...O]:[...O],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...O]:[...O]),this.cd.markForCheck()}canAdd(O){let ye=this.key===O.key;return ye&&this.preventOpenDuplicates&&(ye=!this.containsMessage(this.messages,O)),ye&&this.preventDuplicates&&(ye=!this.containsMessage(this.messagesArchieve,O)),ye}containsMessage(O,ye){return!!O&&null!=O.find(Ce=>Ce.summary===ye.summary&&Ce.detail==ye.detail&&Ce.severity===ye.severity)}ngAfterContentInit(){this.templates.forEach(O=>{O.getType(),this.template=O.template})}onMessageClose(O){this.messages.splice(O.index,1),this.onClose.emit({message:O.message}),this.cd.detectChanges()}onAnimationStart(O){"void"===O.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&H.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(O){"void"===O.toState&&this.autoZIndex&&H.gb.isEmpty(this.messages)&&H.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let O="";for(let ye in this.breakpoints){let Ce="";for(let ve in this.breakpoints[ye])Ce+=ve+":"+this.breakpoints[ye][ve]+" !important;";O+=`\n                    @media screen and (max-width: ${ye}) {\n                        .p-toast[${this.id}] {\n                           ${Ce}\n                        }\n                    }\n                `}this.styleElement.innerHTML=O}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&H.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return de.\u0275fac=function(O){return new(O||de)(e.Y36(g.ez),e.Y36(e.sBO),e.Y36(g.b4))},de.\u0275cmp=e.Xpm({type:de,selectors:[["p-toast"]],contentQueries:function(O,ye,Ce){if(1&O&&e.Suo(Ce,g.jx,4),2&O){let ve;e.iGM(ve=e.CRH())&&(ye.templates=ve)}},viewQuery:function(O,ye){if(1&O&&e.Gf(U,5),2&O){let Ce;e.iGM(Ce=e.CRH())&&(ye.containerViewChild=Ce.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(O,ye){1&O&&(e.TgZ(0,"div",0,1),e.YNc(2,we,1,8,"p-toastItem",2),e.qZA()),2&O&&(e.Tol(ye.styleClass),e.Q6J("ngClass","p-toast p-component p-toast-"+ye.position)("ngStyle",ye.style),e.xp6(2),e.Q6J("ngForOf",ye.messages))},dependencies:[s.mk,s.sg,s.PC,Fe],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,I.X$)("toastAnimation",[(0,I.eR)(":enter, :leave",[(0,I.IO)("@*",(0,I.pV)())])])]},changeDetection:0}),de})(),Pe=(()=>{class de{}return de.\u0275fac=function(O){return new(O||de)},de.\u0275mod=e.oAB({type:de}),de.\u0275inj=e.cJS({imports:[s.ez,L.T,g.m8]}),de})()},4119:(Ht,et,_)=>{_.d(et,{u:()=>I,z:()=>U});var e=_(5e3),s=_(9808),g=_(5730),H=_(5921),L=_(9783);let I=(()=>{class le{constructor(K,pe,ue){this.el=K,this.zone=pe,this.config=ue,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(K){this._disabled=K,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let K=this.getTarget(this.el.nativeElement);K.addEventListener("focus",this.focusListener),K.addEventListener("blur",this.blurListener)}})}ngOnChanges(K){K.tooltipPosition&&this.setOption({tooltipPosition:K.tooltipPosition.currentValue}),K.tooltipEvent&&this.setOption({tooltipEvent:K.tooltipEvent.currentValue}),K.appendTo&&this.setOption({appendTo:K.appendTo.currentValue}),K.positionStyle&&this.setOption({positionStyle:K.positionStyle.currentValue}),K.tooltipStyleClass&&this.setOption({tooltipStyleClass:K.tooltipStyleClass.currentValue}),K.tooltipZIndex&&this.setOption({tooltipZIndex:K.tooltipZIndex.currentValue}),K.escape&&this.setOption({escape:K.escape.currentValue}),K.showDelay&&this.setOption({showDelay:K.showDelay.currentValue}),K.hideDelay&&this.setOption({hideDelay:K.hideDelay.currentValue}),K.life&&this.setOption({life:K.life.currentValue}),K.positionTop&&this.setOption({positionTop:K.positionTop.currentValue}),K.positionLeft&&this.setOption({positionLeft:K.positionLeft.currentValue}),K.disabled&&this.setOption({disabled:K.disabled.currentValue}),K.text&&(this.setOption({tooltipLabel:K.text.currentValue}),this.active&&(K.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),K.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),K.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(K){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(K){this.deactivate()}onFocus(K){this.activate()}onBlur(K){this.deactivate()}onClick(K){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let K=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},K)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let K=document.createElement("div");K.className="p-tooltip-arrow",this.container.appendChild(K),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?g.p.appendChild(this.container,this.el.nativeElement):g.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),g.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?H.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&H.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let K=this.el.nativeElement.getBoundingClientRect();return{left:K.left+g.p.getWindowScrollLeft(),top:K.top+g.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let K=this.getHostOffset(),pe=K.left+g.p.getOuterWidth(this.el.nativeElement),ue=K.top+(g.p.getOuterHeight(this.el.nativeElement)-g.p.getOuterHeight(this.container))/2;this.container.style.left=pe+this.getOption("positionLeft")+"px",this.container.style.top=ue+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let K=this.getHostOffset(),pe=K.left-g.p.getOuterWidth(this.container),ue=K.top+(g.p.getOuterHeight(this.el.nativeElement)-g.p.getOuterHeight(this.container))/2;this.container.style.left=pe+this.getOption("positionLeft")+"px",this.container.style.top=ue+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let K=this.getHostOffset(),pe=K.left+(g.p.getOuterWidth(this.el.nativeElement)-g.p.getOuterWidth(this.container))/2,ue=K.top-g.p.getOuterHeight(this.container);this.container.style.left=pe+this.getOption("positionLeft")+"px",this.container.style.top=ue+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let K=this.getHostOffset(),pe=K.left+(g.p.getOuterWidth(this.el.nativeElement)-g.p.getOuterWidth(this.container))/2,ue=K.top+g.p.getOuterHeight(this.el.nativeElement);this.container.style.left=pe+this.getOption("positionLeft")+"px",this.container.style.top=ue+this.getOption("positionTop")+"px"}setOption(K){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),K)}getOption(K){return this._tooltipOptions[K]}getTarget(K){return g.p.hasClass(K,"p-inputwrapper")?g.p.findSingle(K,"input"):K}preAlign(K){this.container.style.left="-999px",this.container.style.top="-999px";let pe="p-tooltip p-component p-tooltip-"+K;this.container.className=this.getOption("tooltipStyleClass")?pe+" "+this.getOption("tooltipStyleClass"):pe}isOutOfBounds(){let K=this.container.getBoundingClientRect(),pe=K.top,ue=K.left,Oe=g.p.getOuterWidth(this.container),Te=g.p.getOuterHeight(this.container),ke=g.p.getViewport();return ue+Oe>ke.width||ue<0||pe<0||pe+Te>ke.height}onWindowResize(K){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new g.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let K=this.getTarget(this.el.nativeElement);K.removeEventListener("focus",this.focusListener),K.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):g.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&H.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return le.\u0275fac=function(K){return new(K||le)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(L.b4))},le.\u0275dir=e.lG2({type:le,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[e.TTD]}),le})(),U=(()=>{class le{}return le.\u0275fac=function(K){return new(K||le)},le.\u0275mod=e.oAB({type:le}),le.\u0275inj=e.cJS({imports:[s.ez]}),le})()},5921:(Ht,et,_)=>{_.d(et,{P9:()=>L,Th:()=>g,gb:()=>e});class e{static equals(U,le,re){return re?this.resolveFieldData(U,re)===this.resolveFieldData(le,re):this.equalsByValue(U,le)}static equalsByValue(U,le){if(U===le)return!0;if(U&&le&&"object"==typeof U&&"object"==typeof le){var pe,ue,Oe,re=Array.isArray(U),K=Array.isArray(le);if(re&&K){if((ue=U.length)!=le.length)return!1;for(pe=ue;0!=pe--;)if(!this.equalsByValue(U[pe],le[pe]))return!1;return!0}if(re!=K)return!1;var Te=U instanceof Date,ke=le instanceof Date;if(Te!=ke)return!1;if(Te&&ke)return U.getTime()==le.getTime();var we=U instanceof RegExp,Fe=le instanceof RegExp;if(we!=Fe)return!1;if(we&&Fe)return U.toString()==le.toString();var Y=Object.keys(U);if((ue=Y.length)!==Object.keys(le).length)return!1;for(pe=ue;0!=pe--;)if(!Object.prototype.hasOwnProperty.call(le,Y[pe]))return!1;for(pe=ue;0!=pe--;)if(!this.equalsByValue(U[Oe=Y[pe]],le[Oe]))return!1;return!0}return U!=U&&le!=le}static resolveFieldData(U,le){if(U&&le){if(this.isFunction(le))return le(U);if(-1==le.indexOf("."))return U[le];{let re=le.split("."),K=U;for(let pe=0,ue=re.length;pe<ue;++pe){if(null==K)return null;K=K[re[pe]]}return K}}return null}static isFunction(U){return!!(U&&U.constructor&&U.call&&U.apply)}static reorderArray(U,le,re){U&&le!==re&&(re>=U.length&&(re%=U.length,le%=U.length),U.splice(re,0,U.splice(le,1)[0]))}static insertIntoOrderedArray(U,le,re,K){if(re.length>0){let pe=!1;for(let ue=0;ue<re.length;ue++)if(this.findIndexInList(re[ue],K)>le){re.splice(ue,0,U),pe=!0;break}pe||re.push(U)}else re.push(U)}static findIndexInList(U,le){let re=-1;if(le)for(let K=0;K<le.length;K++)if(le[K]==U){re=K;break}return re}static contains(U,le){if(null!=U&&le&&le.length)for(let re of le)if(this.equals(U,re))return!0;return!1}static removeAccents(U){return U&&U.search(/[\xC0-\xFF]/g)>-1&&(U=U.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),U}static isEmpty(U){return null==U||""===U||Array.isArray(U)&&0===U.length||!(U instanceof Date)&&"object"==typeof U&&0===Object.keys(U).length}static isNotEmpty(U){return!this.isEmpty(U)}static compare(U,le,re,K=1){let pe=-1;const ue=this.isEmpty(U),Oe=this.isEmpty(le);return pe=ue&&Oe?0:ue?K:Oe?-K:"string"==typeof U&&"string"==typeof le?U.localeCompare(le,re,{numeric:!0}):U<le?-1:U>le?1:0,pe}static sort(U,le,re=1,K,pe=1){return(1===pe?re:pe)*e.compare(U,le,K,re)}static merge(U,le){return null!=U&&"object"!=typeof U||null!=le&&"object"!=typeof le?null!=U&&"string"!=typeof U||null!=le&&"string"!=typeof le?le||U:[U||"",le||""].join(" "):Object.assign(Object.assign({},U||{}),le||{})}}var s=0;function g(){return"pr_id_"+ ++s}var L=function H(){let I=[];const K=pe=>pe&&parseInt(pe.style.zIndex,10)||0;return{get:K,set:(pe,ue,Oe)=>{ue&&(ue.style.zIndex=String(((pe,ue)=>{let Oe=I.length>0?I[I.length-1]:{key:pe,value:ue},Te=Oe.value+(Oe.key===pe?0:ue)+1;return I.push({key:pe,value:Te}),Te})(pe,Oe)))},clear:pe=>{pe&&((pe=>{I=I.filter(ue=>ue.value!==pe)})(K(pe)),pe.style.zIndex="")},getCurrent:()=>I.length>0?I[I.length-1].value:0}}()},5861:(Ht,et,_)=>{function e(g,H,L,I,U,le,re){try{var K=g[le](re),pe=K.value}catch(ue){return void L(ue)}K.done?H(pe):Promise.resolve(pe).then(I,U)}function s(g){return function(){var H=this,L=arguments;return new Promise(function(I,U){var le=g.apply(H,L);function re(pe){e(le,I,U,re,K,"next",pe)}function K(pe){e(le,I,U,re,K,"throw",pe)}re(void 0)})}}_.d(et,{Z:()=>s})}},Ht=>{Ht(Ht.s=7014)}]);