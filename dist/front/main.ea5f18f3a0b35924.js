"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[179],{4e3:(Lt,qe,C)=>{C.d(qe,{Ji:()=>I,PJ:()=>L,S9:()=>s,U1:()=>F,aq:()=>z,ls:()=>f,mo:()=>se,x$:()=>q,zW:()=>V});var e=C(1777);const s=(0,e.X$)("flowInChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateY(-1.5rem)"}),(0,e.EY)(101,(0,e.jt)(".4s",(0,e.oB)({opacity:1,transform:"translateY(0)"})))],{optional:!0})])]),f=(0,e.X$)("flow",[(0,e.eR)(":enter",[(0,e.oB)({opacity:.6,transform:"translateY(.6rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateY(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateY(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateY(.6rem)"}))])]),V=(0,e.X$)("flowLeft",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(10rem)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1,transform:"translateX(0)"}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1,transform:"translateX(0)"}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0,transform:"translateX(10rem)",height:0}))])]),F=(0,e.X$)("fade",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1}),(0,e.jt)("0.2s",(0,e.oB)({opacity:0}))])]),I=(0,e.X$)("fadeIn",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.2s",(0,e.oB)({opacity:1}))])]),L=(0,e.X$)("fadeAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:.2})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),se=(0,e.X$)("fadeFullAlt",[(0,e.SB)("fade",(0,e.oB)({opacity:0})),(0,e.SB)("unfade",(0,e.oB)({opacity:1})),(0,e.eR)("* => unfade",[(0,e.jt)("0.2s")]),(0,e.eR)("* => fade",[(0,e.jt)("0.2s")])]),q=(0,e.X$)("swipeChild",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0,transform:"translateX(-2rem)"}),(0,e.EY)(85,[(0,e.jt)("250ms",(0,e.oB)({opacity:1,transform:"none"}))])],{optional:!0})])]),z=(0,e.X$)("swipe",[(0,e.SB)("default",(0,e.oB)({opacity:1,transform:"translateX(0)"})),(0,e.SB)("right",(0,e.oB)({opacity:0,transform:"translateX(10%) scale(0.9)",transformOrigin:"center right"})),(0,e.SB)("left",(0,e.oB)({opacity:0,transform:"translateX(-10%) scale(0.9)",transformOrigin:"center left"})),(0,e.eR)("default <=> right",(0,e.jt)("200ms ease-out")),(0,e.eR)("default <=> left",(0,e.jt)("200ms ease-out")),(0,e.eR)("right <=> left",(0,e.jt)("0s"))])},9477:(Lt,qe,C)=>{C.d(qe,{Q:()=>G});var e=C(5e3),s=C(2382),f=C(383),V=C(4968),F=C(4004),I=C(8372),L=C(1884),se=C(8505),q=C(3900),z=C(9646),he=C(8738),ne=C(9808),De=C(8050),ue=C(1424),ge=C(7813);const pe=["inputEl"],ke=["overlay"],Q=["list"];function Oe(E,U){1&E&&(e.TgZ(0,"div",8),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function le(E,U){1&E&&(e.TgZ(0,"div",9),e._UZ(1,"i",10),e.TgZ(2,"span"),e._uU(3,"\u041d\u0435\u0442 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430"),e.qZA()())}const P=function(E){return{selected:E}};function N(E,U){if(1&E){const $=e.EpF();e.TgZ(0,"div",14),e.NdJ("mousemove",function(){const He=e.CHM($).index,Re=e.oxw(2);return e.KtG(Re.selectedSuggestion=He)})("mouseleave",function(){e.CHM($);const Ne=e.oxw(2);return e.KtG(Ne.selectedSuggestion=-1)})("click",function(Ne){e.CHM($);const He=e.oxw(2);return Ne.preventDefault(),e.KtG(He.selectSuggestion())}),e.TgZ(1,"span",15),e._uU(2),e.qZA()()}if(2&E){const $=U.$implicit,Ae=U.index,Ne=e.oxw(2);e.Q6J("ngClass",e.VKq(2,P,Ae===Ne.selectedSuggestion)),e.xp6(2),e.Oqu($.addressName)}}function we(E,U){if(1&E&&(e.TgZ(0,"div",11,12),e.YNc(2,N,3,4,"div",13),e.qZA()),2&E){const $=e.oxw();e.xp6(2),e.Q6J("ngForOf",$.suggestions)}}const be=function(E,U){return{unconfirmed:E,confirmed:U}},ye=function(){return{breakpoint:"640px",contentStyleClass:"h-20rem"}};let G=(()=>{class E{constructor($){this.api=$,this.onBlur=new e.vpe,this.value=null,this.subscriptions=new f.xf,this.suggestions=[],this.showSuggestions=!1,this.isLoading=!1,this.isEmpty=!1,this.selectedSuggestion=-1,this.inputedValue="",this.disabled=!1,this.placeholder="\u041c\u0430\u0440\u043a\u0441\u0430 33 35 \u043f1 \u044d9",this.onChange=Ae=>{},this.onTouched=()=>{}}ngOnInit(){}scrollToActiveSuggestion(){setTimeout(()=>{if(!this.list)return;const $=this.list.nativeElement.querySelector(".selected");$&&$.scrollIntoView({behavior:"auto",block:"nearest"})})}ngAfterViewInit(){var $;if(null!==($=this.inputEl)&&void 0!==$&&$.nativeElement){const Ae=(0,V.R)(this.inputEl.nativeElement,"input").pipe((0,F.U)(He=>He.target.value),(0,I.b)(1e3),(0,L.x)((He,Re)=>He===Re),(0,se.b)(He=>{this.value=null,this.onChange(null),this.inputedValue=He,this.showSuggestions=He.length>1,this.isLoading=!0,this.isEmpty=!1,this.reAlignOverlay()}),(0,q.w)(He=>He.length<2?(0,z.of)([]):this.api.getAddressSuggestions(He))).subscribe(this.applySuggestion.bind(this)),Ne=(0,V.R)(this.inputEl.nativeElement,"keydown").pipe((0,F.U)(He=>He),(0,se.b)(He=>{["ArrowDown","ArrowUp","Enter"].includes(He.key)&&He.preventDefault()}),(0,se.b)(He=>{const Re=He.key;"ArrowDown"===Re?(this.selectedSuggestion++,this.selectedSuggestion>=this.suggestions.length&&(this.selectedSuggestion=-1),this.setAddressAsInputValue(),this.scrollToActiveSuggestion(),this.selectLastPosOfInputValue()):"ArrowUp"===Re?(this.selectedSuggestion--,this.selectedSuggestion<-1&&(this.selectedSuggestion=this.suggestions.length-1),this.setAddressAsInputValue(),this.scrollToActiveSuggestion(),this.selectLastPosOfInputValue()):"Enter"===Re&&this.selectSuggestion()})).subscribe();this.subscriptions.addSubscription("inpChg",Ae),this.subscriptions.addSubscription("kdown",Ne),this.setAddressAsInputValue()}}selectSuggestion(){this.selectedSuggestion>=0&&(this.value=this.suggestions[this.selectedSuggestion],this.onChange(this.suggestions[this.selectedSuggestion]),this.setAddressAsInputValue(),this.selectLastPosOfInputValue(),this.showSuggestions=!1,this.selectedSuggestion=-1)}selectLastPosOfInputValue(){setTimeout(()=>{var $;null===($=this.inputEl)||void 0===$||!$.nativeElement||(this.inputEl.nativeElement.scrollLeft=this.inputEl.nativeElement.scrollWidth)})}ngOnDestroy(){this.subscriptions.unsubscribeAll()}registerOnChange($){this.onChange=$}registerOnTouched($){this.onTouched=$}setDisabledState($){this.disabled=$}writeValue($){this.value=$,this.setAddressAsInputValue()}setAddressAsInputValue(){var $,Ae,Ne;if(null!==($=this.inputEl)&&void 0!==$&&$.nativeElement){if(this.value)return void(this.inputEl.nativeElement.value=null!==(Ae=this.value.addressName)&&void 0!==Ae?Ae:"");if(-1===this.selectedSuggestion)return void(this.inputEl.nativeElement.value=this.inputedValue);this.inputEl.nativeElement.value=null!==(Ne=this.suggestions[this.selectedSuggestion].addressName)&&void 0!==Ne?Ne:""}}applySuggestion($){this.suggestions=$,this.selectedSuggestion=-1,this.isLoading=!1,0===$.length?this.isEmpty=!0:1===$.length&&(this.selectedSuggestion=0),this.reAlignOverlay()}reAlignOverlay(){setTimeout(()=>{var $;null===($=this.overlay)||void 0===$||$.alignOverlay()})}}return E.\u0275fac=function($){return new($||E)(e.Y36(he.s))},E.\u0275cmp=e.Xpm({type:E,selectors:[["app-address-input"]],viewQuery:function($,Ae){if(1&$&&(e.Gf(pe,5),e.Gf(ke,5),e.Gf(Q,5)),2&$){let Ne;e.iGM(Ne=e.CRH())&&(Ae.inputEl=Ne.first),e.iGM(Ne=e.CRH())&&(Ae.overlay=Ne.first),e.iGM(Ne=e.CRH())&&(Ae.list=Ne.first)}},outputs:{onBlur:"onBlur"},features:[e._Bn([{provide:s.JU,useExisting:E,multi:!0}])],decls:9,vars:15,consts:[[1,"p-input-icon-left","wrapper"],["autocomplete","off","pInputText","","type","text",1,"address-input",3,"disabled","ngClass","placeholder","spellcheck","blur"],["inputEl",""],["appendTo","body","contentStyleClass","overlay",3,"visible","responsive","visibleChange"],["overlay",""],["class","loading",4,"ngIf"],["class","empty",4,"ngIf"],["class","overlay-list",4,"ngIf"],[1,"loading"],[1,"empty"],[1,"mdi-domain_disabled"],[1,"overlay-list"],["list",""],["class","overlay-list-item",3,"ngClass","mousemove","mouseleave","click",4,"ngFor","ngForOf"],[1,"overlay-list-item",3,"ngClass","mousemove","mouseleave","click"],[1,"address-label"]],template:function($,Ae){1&$&&(e.TgZ(0,"span",0),e._UZ(1,"i"),e.TgZ(2,"input",1,2),e.NdJ("blur",function(){return Ae.onTouched(),Ae.onBlur.emit()}),e.qZA()(),e.TgZ(4,"p-overlay",3,4),e.NdJ("visibleChange",function(He){return Ae.showSuggestions=He}),e.YNc(6,Oe,2,0,"div",5),e.YNc(7,le,4,0,"div",6),e.YNc(8,we,3,1,"div",7),e.qZA()),2&$&&(e.xp6(1),e.Tol((Ae.value?"mdi-domain active":"mdi-domain_disabled unactive")+" icon"),e.xp6(1),e.Q6J("disabled",Ae.disabled)("ngClass",e.WLB(11,be,!Ae.value,Ae.value))("placeholder",Ae.placeholder)("spellcheck",!1),e.xp6(2),e.Q6J("visible",Ae.showSuggestions)("responsive",e.DdM(14,ye)),e.xp6(2),e.Q6J("ngIf",Ae.isLoading),e.xp6(1),e.Q6J("ngIf",Ae.isEmpty),e.xp6(1),e.Q6J("ngIf",!Ae.isLoading&&!Ae.isEmpty))},dependencies:[ne.mk,ne.sg,ne.O5,De.aV,ue.o,ge.x],styles:[".wrapper[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--tc-300)}.loading[_ngcontent-%COMP%]{min-width:10rem;min-height:7rem;display:flex;justify-content:center;align-items:center}.empty[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem 1.2rem;font-size:1rem;color:var(--red-300);gap:.3rem;white-space:nowrap}.address-label[_ngcontent-%COMP%]{white-space:nowrap}.address-input[_ngcontent-%COMP%]{font-size:1rem}.unconfirmed[_ngcontent-%COMP%]{color:var(--tc-600)}.confirmed[_ngcontent-%COMP%]{color:var(--mc-400)}.active[_ngcontent-%COMP%]{color:var(--mc-400)!important}.unactive[_ngcontent-%COMP%]{color:var(--tc-600)!important}"]}),E})()},7092:(Lt,qe,C)=>{C.d(qe,{_:()=>V});var e=C(5e3),s=C(8738);function f(F,I){1&F&&e._UZ(0,"app-employee-label",1),2&F&&e.Q6J("employee",I.$implicit)("inline",!0)}let V=(()=>{class F{constructor(L){this.api=L,this.workLog={}}set logId(L){this.api.getWorkLog(L,!0).subscribe(se=>{this.workLog=se})}ngOnInit(){}static createElement(L){const se=document.createElement("appointed-installers-element");return se.logId=L,se}}return F.\u0275fac=function(L){return new(L||F)(e.Y36(s.s))},F.\u0275cmp=e.Xpm({type:F,selectors:[["app-appointed-installers"]],inputs:{logId:"logId"},decls:1,vars:1,consts:[[3,"employee","inline",4,"ngFor","ngForOf"],[3,"employee","inline"]],template:function(L,se){1&L&&e.YNc(0,f,1,2,"app-employee-label",0),2&L&&e.Q6J("ngForOf",se.workLog.employees)},styles:["[_nghost-%COMP%]{display:inline-flex;flex-wrap:wrap;gap:.5rem}"]}),F})()},5072:(Lt,qe,C)=>{C.d(qe,{A:()=>he});var e=C(383),s=C(540),f=C(5e3),V=C(9808);const F=["wrapperEl"],I=["captionEl"];function L(ne,De){1&ne&&f._UZ(0,"i",8)}function se(ne,De){if(1&ne&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&ne){const ue=f.oxw();f.xp6(1),f.Oqu(ue.getInitials())}}function q(ne,De){if(1&ne){const ue=f.EpF();f.TgZ(0,"img",9),f.NdJ("load",function(){f.CHM(ue);const pe=f.oxw();return f.KtG(pe.isLoad=!0)}),f.qZA()}if(2&ne){const ue=f.oxw();f.Q6J("src","api/private/avatar/"+ue.src,f.LSH)}}function z(ne,De){if(1&ne&&f._UZ(0,"div",10),2&ne){const ue=f.oxw();f.Akn(ue.indicatorStyle)}}let he=(()=>{class ne{constructor(){this.size=3.5,this.deleted=!1,this.shape="circle",this.isLoad=!1}get captionStyle(){return{}}get wrapperStyle(){return{borderRadius:"circle"===this.shape?"999px":"25%",width:this.size+"rem",height:this.size+"rem",fontSize:this.size+"rem",background:this.isLoad?"transparent":this.deleted?"var(--bgc-500)":this.colorize()}}get indicatorStyle(){const ue={};switch("square"===this.shape&&(ue.transform="translate(25%, -25%)"),this.status){case s.LE.ONLINE:ue.backgroundColor="#36ff3b";break;case s.LE.AWAY:ue.backgroundColor="#ffc107";break;case s.LE.OFFLINE:ue.backgroundColor="#d5dde1"}return ue}ngOnInit(){}getInitials(){if(this.name){const ue=this.name.trim();return(ue.charAt(0)+(ue.indexOf(" ")>=0?ue.charAt(ue.indexOf(" ")+1):"")).toUpperCase()}return"?"}colorize(){var ue;return e.cQ.stringToGradient(null!==(ue=this.name)&&void 0!==ue?ue:"?")}ngOnChanges(ue){this.isLoad=!1}}return ne.\u0275fac=function(ue){return new(ue||ne)},ne.\u0275cmp=f.Xpm({type:ne,selectors:[["app-avatar"]],viewQuery:function(ue,ge){if(1&ue&&(f.Gf(F,5),f.Gf(I,5)),2&ue){let pe;f.iGM(pe=f.CRH())&&(ge.wrapperEl=pe.first),f.iGM(pe=f.CRH())&&(ge.captionEl=pe.first)}},inputs:{size:"size",deleted:"deleted",src:"src",name:"name",status:"status",shape:"shape"},features:[f.TTD],decls:8,vars:8,consts:[[1,"avatar"],["wrapperEl",""],[1,"avatar-caption"],["captionEl",""],["class","mdi-person_off",4,"ngIf"],[4,"ngIf"],["alt","avatar","class","avatar-image",3,"src","load",4,"ngIf"],["class","status-indicator",3,"style",4,"ngIf"],[1,"mdi-person_off"],["alt","avatar",1,"avatar-image",3,"src","load"],[1,"status-indicator"]],template:function(ue,ge){1&ue&&(f.TgZ(0,"div",0,1)(2,"div",2,3),f.YNc(4,L,1,0,"i",4),f.YNc(5,se,2,1,"span",5),f.qZA(),f.YNc(6,q,1,1,"img",6),f.YNc(7,z,1,2,"div",7),f.qZA()),2&ue&&(f.Akn(ge.wrapperStyle),f.xp6(2),f.Akn(ge.captionStyle),f.xp6(2),f.Q6J("ngIf",ge.deleted),f.xp6(1),f.Q6J("ngIf",!ge.deleted),f.xp6(1),f.Q6J("ngIf",null!=ge.src),f.xp6(1),f.Q6J("ngIf",ge.status))},dependencies:[V.O5],styles:["[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.avatar[_ngcontent-%COMP%]{position:relative;aspect-ratio:1;border-radius:50%;overflow:hidden}.avatar-caption[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-47%,-47%);transform-origin:center;text-transform:uppercase;color:#fff;font-size:.38em}.avatar-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;top:0;left:0}.status-indicator[_ngcontent-%COMP%]{width:30%;aspect-ratio:1;border-radius:999px;background-color:#1aff12;box-shadow:0 0 1px 1px #00000040,0 1px 10px #00000020;position:absolute;top:0;right:0}"]}),ne})()},446:(Lt,qe,C)=>{C.d(qe,{r:()=>z});var e=C(5e3),s=C(9808),f=C(845),V=C(9783);function F(he,ne){if(1&he&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&he){const De=e.oxw(3);e.xp6(1),e.Oqu(De.icon)}}function I(he,ne){if(1&he&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&he){const De=e.oxw(3);e.xp6(1),e.Oqu(De.icon)}}function L(he,ne){if(1&he&&(e.TgZ(0,"div",5),e.YNc(1,F,2,1,"span",6),e._uU(2),e.YNc(3,I,2,1,"span",7),e.qZA()),2&he){const De=e.oxw(2);e.xp6(1),e.Q6J("ngIf",De.icon&&"left"===De.iconPos),e.xp6(1),e.hij(" ",De.label," "),e.xp6(1),e.Q6J("ngIf",De.icon&&"right"===De.iconPos)}}function se(he,ne){if(1&he&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"div"),e.qZA()()),2&he){const De=e.oxw(2);e.xp6(2),e.Tol("loading-indicator__spinner "+De.model)}}function q(he,ne){if(1&he&&(e.YNc(0,L,4,3,"div",3),e.YNc(1,se,3,2,"div",4)),2&he){const De=e.oxw();e.Q6J("ngIf",!De.loading),e.xp6(1),e.Q6J("ngIf",De.loading)}}let z=(()=>{class he{constructor(){this.disabled=!1,this.iconPos="left",this.onClick=new e.vpe,this.loading=!1}ngOnInit(){}}return he.\u0275fac=function(De){return new(De||he)},he.\u0275cmp=e.Xpm({type:he,selectors:[["app-button"]],inputs:{model:"model",icon:"icon",label:"label",disabled:"disabled",iconPos:"iconPos",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:2,consts:[[3,"styleClass","disabled","onClick"],["button",""],["pTemplate","content"],["class","flexed hcenter gap1 button-content",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"flexed","hcenter","gap1","button-content"],["class","material-icons-round left",4,"ngIf"],["class","material-icons-round right",4,"ngIf"],[1,"material-icons-round","left"],[1,"material-icons-round","right"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(De,ue){1&De&&(e.TgZ(0,"p-button",0,1),e.NdJ("onClick",function(pe){return!ue.loading&&ue.onClick.emit(pe)}),e.YNc(2,q,2,2,"ng-template",2),e.qZA()),2&De&&e.Q6J("styleClass","button "+ue.model)("disabled",ue.disabled)},dependencies:[s.O5,f.zx,V.jx],styles:[".button-content[_ngcontent-%COMP%]{font-size:1.1rem;white-space:nowrap}.button-content[_ngcontent-%COMP%] > span.left[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(-.3rem)}.button-content[_ngcontent-%COMP%] > span.right[_ngcontent-%COMP%]{font-size:1.35rem!important;transform:translate(.3rem)}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.p-button-text.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-primary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.p-button-text.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-success[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.p-button-text.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-secondary[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.p-button-text.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-info[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.p-button-text.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-danger[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.p-button-text.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-warning[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.p-button-text.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-outlined.p-button-help[_ngcontent-%COMP%], .loading-indicator__spinner.p-button-raised.p-button-help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),he})()},1828:(Lt,qe,C)=>{C.d(qe,{C:()=>V});var e=C(383),s=C(5e3);const f=["wrapper"];let V=(()=>{class F{constructor(){}ngAfterViewInit(){this.colorize()}ngOnInit(){}colorize(){!this.wrapper||(this.color?this.wrapper.nativeElement.style.background=this.color:this.captionForColor?this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.captionForColor):this.caption&&(this.wrapper.nativeElement.style.background=e.cQ.stringToGradient(this.caption)))}ngOnChanges(L){this.colorize()}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275cmp=s.Xpm({type:F,selectors:[["app-colored-tag"]],viewQuery:function(L,se){if(1&L&&s.Gf(f,5),2&L){let q;s.iGM(q=s.CRH())&&(se.wrapper=q.first)}},inputs:{caption:"caption",captionForColor:"captionForColor",color:"color"},features:[s.TTD],decls:3,vars:1,consts:[[1,"tag"],["wrapper",""]],template:function(L,se){1&L&&(s.TgZ(0,"span",0,1),s._uU(2),s.qZA()),2&L&&(s.xp6(2),s.hij(" ",se.caption,"\n"))},styles:[".tag[_ngcontent-%COMP%]{display:inline-block;color:#fff;text-align:center;min-width:2rem;font-size:.85rem;font-weight:700;padding:.15rem .4rem;border-radius:999px;line-height:normal}"]}),F})()},7805:(Lt,qe,C)=>{C.d(qe,{y:()=>ge});var e=C(5e3),s=C(8738);const f=["preview"];function V(pe,ke){1&pe&&e.GkF(0)}function F(pe,ke){1&pe&&e.GkF(0)}function I(pe,ke){if(1&pe&&(e.ynx(0),e._uU(1),e.BQk()),2&pe){const Q=e.oxw(2);e.xp6(1),e.hij("$",Q._departmentId,"")}}function L(pe,ke){if(1&pe&&(e.TgZ(0,"span",7),e.YNc(1,V,1,0,"ng-container",8),e.YNc(2,F,1,0,"ng-container",8),e.YNc(3,I,2,1,"ng-container",1),e.qZA()),2&pe){const Q=e.oxw(),Oe=e.MAs(5),le=e.MAs(3);e.xp6(1),e.Q6J("ngIf",Q.department&&(null==Q.department?null:Q.department.departmentId))("ngIfThen",Oe),e.xp6(1),e.Q6J("ngIf",!(Q.department&&null!=Q.department&&Q.department.departmentId||Q.failed))("ngIfThen",le),e.xp6(1),e.Q6J("ngIf",Q.failed)}}function se(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"span",11),e.NdJ("mouseenter",function(le){e.CHM(Q);const P=e.oxw(2);return e.KtG(P.showPreview(le))})("mouseleave",function(){e.CHM(Q);const le=e.oxw(2);return e.KtG(le.hidePreview())}),e._uU(1),e.qZA()}if(2&pe){const Q=e.oxw(2);e.xp6(1),e.Oqu(Q.department.name)}}function q(pe,ke){if(1&pe&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&pe){const Q=e.oxw(2);e.xp6(1),e.hij(" ",Q._departmentId," ")}}function z(pe,ke){1&pe&&e._UZ(0,"p-skeleton",12)}function he(pe,ke){if(1&pe&&(e.ynx(0),e.YNc(1,se,2,1,"span",9),e.YNc(2,q,2,1,"span",1),e.YNc(3,z,1,0,"p-skeleton",10),e.BQk()),2&pe){const Q=e.oxw();e.xp6(1),e.Q6J("ngIf",Q.department&&(null==Q.department?null:Q.department.name)),e.xp6(1),e.Q6J("ngIf",Q.failed),e.xp6(1),e.Q6J("ngIf",!(Q.department&&null!=Q.department&&Q.department.name||Q.failed))}}function ne(pe,ke){if(1&pe&&e._UZ(0,"p-skeleton",13)(1,"p-skeleton",14),2&pe){const Q=e.oxw();e.Q6J("shape",Q.inline?"square":"circle")}}function De(pe,ke){if(1&pe&&(e._UZ(0,"app-avatar",15),e.TgZ(1,"span",16),e._uU(2),e.qZA()),2&pe){const Q=e.oxw();e.Q6J("name",null==Q.department?null:Q.department.name)("size",Q.size)("shape",Q.inline?"square":"circle"),e.xp6(2),e.hij(" ",null==Q.department?null:Q.department.name," ")}}function ue(pe,ke){if(1&pe&&(e.TgZ(0,"div",17),e._UZ(1,"app-avatar",18),e.TgZ(2,"div",19),e._uU(3),e.qZA(),e.TgZ(4,"div",20),e._uU(5),e.qZA()()),2&pe){const Q=e.oxw();e.xp6(1),e.Q6J("size",6)("deleted",null==Q.department?null:Q.department.deleted)("name",null==Q.department?null:Q.department.name),e.xp6(2),e.hij(" ",null==Q.department?null:Q.department.name," "),e.xp6(2),e.Oqu(null==Q.department?null:Q.department.description)}}let ge=(()=>{class pe{constructor(Q){this.api=Q,this.department={},this.size=1.7,this.inline=!1,this.failed=!1}set departmentId(Q){this._departmentId=Q,this.api.getDepartment(Q,!0).subscribe({next:Oe=>this.department=Oe,error:()=>this.failed=!0})}static createElement(Q,Oe){const le=document.createElement("department-label-element");return le.departmentId=Q,le.inline=Oe,le}ngOnInit(){}showPreview(Q){this.preview&&this.preview.show(Q)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}}return pe.\u0275fac=function(Q){return new(Q||pe)(e.Y36(s.s))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["app-department-label"]],viewQuery:function(Q,Oe){if(1&Q&&e.Gf(f,5),2&Q){let le;e.iGM(le=e.CRH())&&(Oe.preview=le.first)}},inputs:{department:"department",size:"size",inline:"inline",departmentId:"departmentId"},decls:9,vars:2,consts:[["class","flexed gap2 one-line hcenter",4,"ngIf"],[4,"ngIf"],["loading",""],["info",""],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap2","one-line","hcenter"],[4,"ngIf","ngIfThen"],["class","like-link",3,"mouseenter","mouseleave",4,"ngIf"],["height",".9rem","width","5rem",4,"ngIf"],[1,"like-link",3,"mouseenter","mouseleave"],["height",".9rem","width","5rem"],["size","1.7rem",3,"shape"],["width","8rem","height",".8rem"],[3,"name","size","shape"],[1,"caption","size-small"],[1,"department-preview"],["shape","square",1,"avatar",3,"size","deleted","name"],[1,"name","caption","size-big"],[1,"description","caption","size-small","f-color-500"]],template:function(Q,Oe){1&Q&&(e.YNc(0,L,4,5,"span",0),e.YNc(1,he,4,3,"ng-container",1),e.YNc(2,ne,2,1,"ng-template",null,2,e.W1O),e.YNc(4,De,3,4,"ng-template",null,3,e.W1O),e.TgZ(6,"p-overlayPanel",4,5),e.YNc(8,ue,6,5,"ng-template",6),e.qZA()),2&Q&&(e.Q6J("ngIf",!Oe.inline),e.xp6(1),e.Q6J("ngIf",Oe.inline))},styles:['.department-preview[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar description";column-gap:1rem}.department-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.department-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.department-preview[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;max-width:20rem;display:-webkit-box;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical}']}),pe})()},4304:(Lt,qe,C)=>{C.d(qe,{h:()=>z});var e=C(5e3),s=C(9808),f=C(2382),V=C(9618),F=C(5651);function I(he,ne){if(1&he&&(e.ynx(0),e._uU(1),e.BQk()),2&he){const De=e.oxw();e.xp6(1),e.Oqu(De.caption)}}function L(he,ne){if(1&he){const De=e.EpF();e.TgZ(0,"input",5),e.NdJ("blur",function(){e.CHM(De);const ge=e.oxw();return e.KtG(ge.stopEditing())})("keyup",function(ge){e.CHM(De);const pe=e.oxw();return e.KtG(pe.stopEditing(ge))})("ngModelChange",function(ge){e.CHM(De);const pe=e.oxw();return e.KtG(pe.captionChange.emit(ge))})("ngModelChange",function(ge){e.CHM(De);const pe=e.oxw();return e.KtG(pe.caption=ge)}),e.qZA()}if(2&he){const De=e.oxw();e.Q6J("ngModel",De.caption)("autofocus",!0)}}function se(he,ne){if(1&he){const De=e.EpF();e.TgZ(0,"app-icon-button",6),e.NdJ("click",function(){e.CHM(De);const ge=e.oxw();return e.KtG(ge.editing=!0)}),e.qZA()}2&he&&e.Q6J("size",1.2)}function q(he,ne){if(1&he){const De=e.EpF();e.TgZ(0,"app-icon-button",7),e.NdJ("click",function(){e.CHM(De);const ge=e.oxw();return e.KtG(ge.stopEditing())}),e.qZA()}2&he&&e.Q6J("size",1.2)}let z=(()=>{class he{constructor(){this.editing=!1,this.caption="",this.captionChange=new e.vpe,this.onStopEditing=new e.vpe}ngOnInit(){}stopEditing(De){if(!De)return this.editing=!1,void this.onStopEditing.emit(this.caption);("Enter"===De.key||"Escape"===De.key)&&(this.editing=!1,this.onStopEditing.emit(this.caption))}}return he.\u0275fac=function(De){return new(De||he)},he.\u0275cmp=e.Xpm({type:he,selectors:[["app-editing-caption"]],inputs:{caption:"caption"},outputs:{captionChange:"captionChange",onStopEditing:"onStopEditing"},decls:6,vars:4,consts:[[1,"flexed","hcenter","gap2"],[4,"ngIf"],["class","caption-input","pAutoFocus","","type","text",3,"ngModel","autofocus","blur","keyup","ngModelChange",4,"ngIf"],["icon","edit",3,"size","click",4,"ngIf"],["icon","check",3,"size","click",4,"ngIf"],["pAutoFocus","","type","text",1,"caption-input",3,"ngModel","autofocus","blur","keyup","ngModelChange"],["icon","edit",3,"size","click"],["icon","check",3,"size","click"]],template:function(De,ue){1&De&&(e.TgZ(0,"div",0)(1,"span"),e.YNc(2,I,2,1,"ng-container",1),e.YNc(3,L,1,2,"input",2),e.qZA(),e.YNc(4,se,1,1,"app-icon-button",3),e.YNc(5,q,1,1,"app-icon-button",4),e.qZA()),2&De&&(e.xp6(2),e.Q6J("ngIf",!ue.editing),e.xp6(1),e.Q6J("ngIf",ue.editing),e.xp6(1),e.Q6J("ngIf",!ue.editing),e.xp6(1),e.Q6J("ngIf",ue.editing))},dependencies:[s.O5,f.Fj,f.JJ,f.On,V.P,F.r],styles:[".caption-input[_ngcontent-%COMP%]{outline:0;border:0}"]}),he})()},1110:(Lt,qe,C)=>{C.d(qe,{x:()=>N});var e=C(540),s=C(417),f=C(5e3),V=C(8738),F=C(8007);const I=["preview"];function L(we,be){if(1&we&&f._UZ(0,"app-avatar",11),2&we){const ye=f.oxw(3);let G;f.Q6J("deleted",null==ye._employee?null:ye._employee.deleted)("name",null!==(G=null==ye._employee?null:ye._employee.fullName)&&void 0!==G?G:"")("shape","circle")("size",ye.size)("src",null==ye._employee?null:ye._employee.avatar)("status",null==ye._employee?null:ye._employee.status)}}function se(we,be){if(1&we&&f._UZ(0,"app-avatar",12),2&we){const ye=f.oxw(3);let G;f.Q6J("deleted",null==ye._employee?null:ye._employee.deleted)("name",null!==(G=null==ye._employee?null:ye._employee.fullName)&&void 0!==G?G:"")("shape","circle")("size",ye.size)("src",null==ye._employee?null:ye._employee.avatar)}}function q(we,be){if(1&we&&(f.ynx(0),f.YNc(1,L,1,6,"app-avatar",8),f.YNc(2,se,1,5,"app-avatar",9),f.TgZ(3,"span",10),f._uU(4),f.qZA(),f.BQk()),2&we){const ye=f.oxw(2);f.xp6(1),f.Q6J("ngIf",ye.showStatus),f.xp6(1),f.Q6J("ngIf",!ye.showStatus),f.xp6(2),f.hij(" ",null==ye._employee?null:ye._employee.fullName," ")}}function z(we,be){if(1&we&&(f.ynx(0),f._UZ(1,"p-skeleton",13)(2,"p-skeleton",14),f.BQk()),2&we){const ye=f.oxw(2);f.xp6(1),f.Q6J("shape","circle")("size",ye.size+"rem")}}function he(we,be){1&we&&(f.ynx(0),f.TgZ(1,"span",15),f._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),f.qZA(),f.BQk())}function ne(we,be){1&we&&f.GkF(0)}function De(we,be){if(1&we&&(f.TgZ(0,"span",5),f.ynx(1,6),f.YNc(2,q,5,3,"ng-container",7),f.YNc(3,z,3,2,"ng-container",7),f.YNc(4,he,3,0,"ng-container",7),f.YNc(5,ne,1,0,"ng-container",7),f.BQk(),f.qZA()),2&we){const ye=f.oxw();f.xp6(1),f.Q6J("ngSwitch",ye.loadStatus),f.xp6(1),f.Q6J("ngSwitchCase","ready"),f.xp6(1),f.Q6J("ngSwitchCase","loading"),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","empty")}}function ue(we,be){if(1&we){const ye=f.EpF();f.ynx(0),f.TgZ(1,"span",16),f.NdJ("mouseenter",function(E){f.CHM(ye);const U=f.oxw(2);return f.KtG(U.showPreview(E))})("mouseleave",function(){f.CHM(ye);const E=f.oxw(2);return f.KtG(E.hidePreview())}),f._uU(2),f.qZA(),f.BQk()}if(2&we){const ye=f.oxw(2);f.xp6(2),f.Oqu(null==ye._employee?null:ye._employee.fullName)}}function ge(we,be){1&we&&(f.ynx(0),f._UZ(1,"p-skeleton",17),f.BQk()),2&we&&(f.xp6(1),f.Udp("display","inline-block"))}function pe(we,be){1&we&&(f.ynx(0),f.TgZ(1,"span",15),f._uU(2,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),f.qZA(),f.BQk())}function ke(we,be){1&we&&f.GkF(0)}function Q(we,be){if(1&we&&(f.ynx(0)(1,6),f.YNc(2,ue,3,1,"ng-container",7),f.YNc(3,ge,2,2,"ng-container",7),f.YNc(4,pe,3,0,"ng-container",7),f.YNc(5,ke,1,0,"ng-container",7),f.BQk()()),2&we){const ye=f.oxw();f.xp6(1),f.Q6J("ngSwitch",ye.loadStatus),f.xp6(1),f.Q6J("ngSwitchCase","ready"),f.xp6(1),f.Q6J("ngSwitchCase","loading"),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","empty")}}function Oe(we,be){if(1&we&&(f.TgZ(0,"span",26),f._uU(1),f.qZA()),2&we){const ye=f.oxw(2);f.Akn(ye.statusStyle),f.xp6(1),f.Oqu(ye.status)}}function le(we,be){1&we&&(f.TgZ(0,"span",27),f._uU(1,"(\u0443\u0434\u0430\u043b\u0435\u043d)"),f.qZA())}function P(we,be){if(1&we&&(f.TgZ(0,"div",18),f._UZ(1,"app-avatar",19),f.TgZ(2,"div",20),f._uU(3),f.qZA(),f.TgZ(4,"div",21),f.YNc(5,Oe,2,3,"span",22),f.YNc(6,le,2,0,"span",23),f.qZA(),f.TgZ(7,"div",24),f._uU(8),f.qZA(),f.TgZ(9,"div",25),f._uU(10),f.qZA()()),2&we){const ye=f.oxw();let G;f.xp6(1),f.Q6J("size",6)("deleted",null==ye._employee?null:ye._employee.deleted)("src",null==ye._employee?null:ye._employee.avatar)("name",null!==(G=null==ye._employee?null:ye._employee.fullName)&&void 0!==G?G:"")("status",null==ye._employee?null:ye._employee.status),f.xp6(2),f.hij(" ",null==ye._employee?null:ye._employee.fullName," "),f.xp6(2),f.Q6J("ngIf",ye.status),f.xp6(1),f.Q6J("ngIf",null==ye._employee?null:ye._employee.deleted),f.xp6(2),f.Oqu(null==ye._employee||null==ye._employee.department?null:ye._employee.department.name),f.xp6(2),f.Oqu(null==ye._employee||null==ye._employee.position?null:ye._employee.position.name)}}let N=(()=>{class we{constructor(ye,G){this.api=ye,this.rt=G,this.size=1.7,this.inline=!1,this.showStatus=!1,this.loadStatus="loading"}get statusStyle(){var ye;const G={};switch(null===(ye=this._employee)||void 0===ye?void 0:ye.status){case e.LE.ONLINE:G.color="#36ff3b";break;case e.LE.AWAY:G.color="#ffc107";break;case e.LE.OFFLINE:G.color="#d5dde1"}return G}get status(){var ye,G;switch(null===(ye=this._employee)||void 0===ye?void 0:ye.status){case e.LE.ONLINE:return"\u0412 \u0441\u0435\u0442\u0438";case e.LE.AWAY:return"\u041e\u0442\u043e\u0448\u0435\u043b";case e.LE.OFFLINE:return(new s.t).transform(null===(G=this._employee)||void 0===G?void 0:G.lastSeen,"\u0411\u044b\u043b(\u0430) \u0432 \u0441\u0435\u0442\u0438 "," \u043d\u0430\u0437\u0430\u0434");default:return""}}static createElement(ye,G){const E=document.createElement("employee-label-element");return E.employee=ye,E.inline=G,E}ngOnInit(){this.loadingEmployee()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}showPreview(ye){this.preview&&this.preview.show(ye)}hidePreview(){setTimeout(()=>{this.preview&&this.preview.hide()})}ngOnChanges(ye){const G=ye.employee;G&&G.currentValue&&this.loadingEmployee()}loadingEmployee(){this.employee?"string"==typeof this.employee?this.api.getEmployee(this.employee,!0).subscribe({next:ye=>{this._employee=ye,this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(G=>{this._employee=G}),this.loadStatus="ready"},error:()=>{this.loadStatus="error"}}):(this._employee=this.employee,this.loadStatus="ready",this.sub=this.rt.employeeUpdated(this._employee.login).subscribe(ye=>{this._employee=ye})):this.loadStatus="empty"}}return we.\u0275fac=function(ye){return new(ye||we)(f.Y36(V.s),f.Y36(F.U))},we.\u0275cmp=f.Xpm({type:we,selectors:[["app-employee-label"]],viewQuery:function(ye,G){if(1&ye&&f.Gf(I,5),2&ye){let E;f.iGM(E=f.CRH())&&(G.preview=E.first)}},inputs:{size:"size",inline:"inline",showStatus:"showStatus",employee:"employee"},features:[f.TTD],decls:5,vars:2,consts:[["class","flexed gap4 hcenter",4,"ngIf"],[4,"ngIf"],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["preview",""],["pTemplate","content"],[1,"flexed","gap4","hcenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"deleted","name","shape","size","src","status",4,"ngIf"],[3,"deleted","name","shape","size","src",4,"ngIf"],[1,"caption","size-small","one-line"],[3,"deleted","name","shape","size","src","status"],[3,"deleted","name","shape","size","src"],[3,"shape","size"],["height",".8rem","width","8rem"],[1,""],[1,"like-link",3,"mouseenter","mouseleave"],["height",".8rem","width","5rem"],[1,"employee-preview"],["shape","square",1,"avatar",3,"size","deleted","src","name","status"],[1,"name","caption","size-big"],[1,"status"],["class","caption size-small wt-bold f-color-500",3,"style",4,"ngIf"],["class","caption size-small",4,"ngIf"],[1,"department","caption","size-small","f-color-500"],[1,"position","caption","size-small","f-color-500"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small"]],template:function(ye,G){1&ye&&(f.YNc(0,De,6,5,"span",0),f.YNc(1,Q,6,5,"ng-container",1),f.TgZ(2,"p-overlayPanel",2,3),f.YNc(4,P,11,10,"ng-template",4),f.qZA()),2&ye&&(f.Q6J("ngIf",!G.inline),f.xp6(1),f.Q6J("ngIf",G.inline))},styles:['.employee-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/repeat(2,max-content);grid-template-areas:"avatar name" "avatar status" "avatar department" "avatar position";column-gap:1rem}.employee-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.employee-preview[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{grid-area:name}.employee-preview[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{grid-area:status}.employee-preview[_ngcontent-%COMP%]   .department[_ngcontent-%COMP%]{grid-area:department}.employee-preview[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{grid-area:position}']}),we})()},538:(Lt,qe,C)=>{C.d(qe,{V:()=>he});var e=C(5e3),s=C(3470);const f=["titleElem"],V=["wrapperElem"],F=["childElem"];function I(ne,De){if(1&ne&&e._UZ(0,"app-colored-tag",9),2&ne){const ue=e.oxw();e.Q6J("caption",ue.badge)}}const L=function(ne){return{rotated:ne}};function se(ne,De){if(1&ne&&(e.TgZ(0,"span",10),e._uU(1,"expand_more"),e.qZA()),2&ne){const ue=e.oxw();e.Q6J("ngClass",e.VKq(1,L,ue._isExtended))}}function q(ne,De){if(1&ne&&e._UZ(0,"app-sub-extended-menu-item",11),2&ne){const ue=De.$implicit;e.Q6J("caption",ue.label)("children",ue.children)("isExtended",ue.extended)("link",ue.link)("nLevel",ue.nestingLevel)}}const z=function(){return{exact:!0}};let he=(()=>{class ne{constructor(ue){this.route=ue,this._isExtended=!1,this.icon="",this.caption="",this.elements=[]}set isExtended(ue){this._isExtended=ue,this.extending()}ngAfterViewInit(){this.extending()}ngOnInit(){}toggle(){!this.hasChild()||(this.isExtended=!this._isExtended)}hasChild(){return this.elements&&this.elements.length>0}extending(){!this.wrapperElem||!this.titleElem||(this._isExtended?(this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.wrapperElem.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.wrapperElem.nativeElement.style.height=this.wrapperElem.nativeElement.scrollHeight+"px",setTimeout(()=>{this.wrapperElem.nativeElement.style.height=this.titleElem.nativeElement.offsetHeight+"px"})))}}return ne.\u0275fac=function(ue){return new(ue||ne)(e.Y36(s.gz))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["app-extended-menu-item"]],viewQuery:function(ue,ge){if(1&ue&&(e.Gf(f,5),e.Gf(V,5),e.Gf(F,5)),2&ue){let pe;e.iGM(pe=e.CRH())&&(ge.titleElem=pe.first),e.iGM(pe=e.CRH())&&(ge.wrapperElem=pe.first),e.iGM(pe=e.CRH())&&(ge.childElem=pe.first)}},inputs:{isExtended:"isExtended",icon:"icon",caption:"caption",elements:"elements",link:"link",badge:"badge"},decls:11,vars:8,consts:[[1,"flexed","column","wrapper"],["wrapperElem",""],["routerLinkActive","active",1,"title","flexed","gap6","hcenter",3,"routerLink","routerLinkActiveOptions","click"],["titleElem",""],[1,"material-icons-round","title-icon"],[1,"stretched"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["class","material-icons-round title-expanded-icon",3,"ngClass",4,"ngIf"],[3,"caption","children","isExtended","link","nLevel",4,"ngFor","ngForOf"],["color","var(--mc-500)",3,"caption"],[1,"material-icons-round","title-expanded-icon",3,"ngClass"],[3,"caption","children","isExtended","link","nLevel"]],template:function(ue,ge){1&ue&&(e.TgZ(0,"div",0,1)(2,"div",2,3),e.NdJ("click",function(){return ge.toggle()}),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e._uU(6),e._UZ(7,"div",5),e.YNc(8,I,1,1,"app-colored-tag",6),e.YNc(9,se,2,3,"span",7),e.qZA(),e.YNc(10,q,1,5,"app-sub-extended-menu-item",8),e.qZA()),2&ue&&(e.xp6(2),e.Q6J("routerLink",ge.link)("routerLinkActiveOptions",e.DdM(7,z)),e.xp6(3),e.Oqu(ge.icon),e.xp6(1),e.hij(" ",ge.caption," "),e.xp6(2),e.Q6J("ngIf",ge.badge),e.xp6(1),e.Q6J("ngIf",ge.hasChild()),e.xp6(1),e.Q6J("ngForOf",ge.elements))},styles:[".wrapper[_ngcontent-%COMP%]{overflow:hidden;transition:height .2s ease-out;border-radius:.5rem}.title[_ngcontent-%COMP%]{padding:.7rem;font-size:1.2rem;color:var(--tc-700);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.title.active[_ngcontent-%COMP%]{color:var(--mc-0);background-color:var(--mc-500);cursor:default}.title[_ngcontent-%COMP%]:not(.active):hover{color:var(--mc-500)}.title[_ngcontent-%COMP%]:not(.active):active{color:var(--mc-500);background-color:var(--mc-0)}.title-icon[_ngcontent-%COMP%]{font-size:1.5rem}.title-expanded-icon[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(1,-.6,0,1.65)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}"]}),ne})()},6288:(Lt,qe,C)=>{C.d(qe,{Y:()=>De});var e=C(5e3),s=C(2382),f=C(9783),V=C(9808),F=C(1874),I=C(4119),L=C(845),se=C(85);const q=["fileManager"],z=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function he(ue,ge){if(1&ue&&e._UZ(0,"p-badge",7),2&ue){const pe=e.oxw();e.Akn(e.DdM(3,z)),e.Q6J("value",pe.filesLoaded.toString())}}let De=(()=>{class ue{constructor(pe){this.toast=pe,this.files=[],this.short=!1,this.filesChange=new e.vpe,this.filesCatching=0,this.filesLoaded=0,this.loading=!1,this.disabled=!1,this.menuItems=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",command:this.openFileManager.bind(this)},{label:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",icon:"mdi-highlight_off",command:this.clear.bind(this)}],this.onChange=ke=>{},this.onTouched=()=>{}}get hasFiles(){return this.files.length>0}get style(){return this.short?"p-button-text p-button-icon p-button-rounded"+(this.hasFiles?" p-button-info":" p-button-secondary"):"p-button-text"+(this.hasFiles?" p-button-info":" p-button-secondary")}get label(){return this.short?"":"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}ngOnInit(){}openFileManager(){this.clear(),this.fileManager.nativeElement.click()}clear(){this.filesCatching=0,this.filesLoaded=0,this.files=[],this.filesChange.emit([]),this.onChange([]),this.fileManager.nativeElement.value=""}catchFiles(pe){var ke;if(0===pe.target.files.length)return;this.loading=!0,this.filesCatching=0,this.filesLoaded=0;const Q=Object.values(null!==(ke=this.fileManager.nativeElement.files)&&void 0!==ke?ke:{});this.filesCatching=Q.length+this.files.length;for(const Oe of Q){if(Oe.size>20971520){this.toast.add({severity:"warn",summary:"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430",detail:`\u0424\u0430\u0439\u043b ${Oe.name} \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${(Oe.size/1048576).toFixed(2)} \u041c\u0431\u0430\u0439\u0442 \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b \u043b\u0438\u043c\u0438\u0442 \u0432 ${20..toFixed(2)} \u041c\u0431\u0430\u0439\u0442`}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1);continue}const le=new FileReader;le.onload=P=>{var N;const we=null===(N=P.target)||void 0===N?void 0:N.result;we instanceof ArrayBuffer&&(Array.isArray(this.files)||(this.files=[]),this.files.push({name:Oe.name,modified:Oe.lastModified,data:Object.values(new Uint8Array(we)),type:Oe.type}),this.lastFileName=Oe.name,this.filesLoaded=this.files.length,this.filesChange.emit(this.files),this.onChange(this.files),this.filesLoaded===this.filesCatching&&(this.loading=!1))},le.onerror=P=>{this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430",detail:P.type}),this.filesCatching--,this.filesLoaded===this.filesCatching&&(this.loading=!1)},le.readAsArrayBuffer(Oe)}}ngOnDestroy(){}registerOnChange(pe){this.onChange=pe}registerOnTouched(pe){this.onTouched=pe}setDisabledState(pe){this.disabled=pe}writeValue(pe){this.files=pe,this.filesChange.emit(this.files)}}return ue.\u0275fac=function(pe){return new(pe||ue)(e.Y36(f.ez))},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-file-input"]],viewQuery:function(pe,ke){if(1&pe&&e.Gf(q,5),2&pe){let Q;e.iGM(Q=e.CRH())&&(ke.fileManager=Q.first)}},inputs:{files:"files",short:"short",disabled:"disabled"},outputs:{filesChange:"filesChange"},features:[e._Bn([{provide:s.JU,useExisting:ue,multi:!0}])],decls:7,vars:11,consts:[["tooltipPosition","left",1,"button-wrapper",3,"pTooltip","tooltipDisabled"],["icon","mdi-attach_file",3,"disabled","label","styleClass","onClick"],["class","ur-badge",3,"style","value",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],["type","file",3,"multiple","change"],["fileManager",""],[1,"ur-badge",3,"value"]],template:function(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"div",0)(1,"p-button",1),e.NdJ("onClick",function(le){e.CHM(Q);const P=e.MAs(4);return e.KtG(ke.hasFiles?P.toggle(le):ke.openFileManager())}),e.qZA(),e.YNc(2,he,1,4,"p-badge",2),e._UZ(3,"p-menu",3,4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("change",function(le){return ke.catchFiles(le)}),e.qZA()}2&pe&&(e.Q6J("pTooltip","\u0424\u0430\u0439\u043b\u043e\u0432 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e "+ke.filesLoaded+"/"+ke.filesCatching+"\n\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0439: \n"+ke.lastFileName)("tooltipDisabled",!ke.hasFiles),e.xp6(1),e.Q6J("disabled",ke.disabled||ke.loading)("label",ke.label)("styleClass",ke.style),e.xp6(1),e.Q6J("ngIf",ke.hasFiles),e.xp6(1),e.Q6J("model",ke.menuItems)("popup",!0),e.xp6(2),e.Udp("display","none"),e.Q6J("multiple",!0))},dependencies:[V.O5,F.v2,I.u,L.zx,se.Ct],styles:[".button-wrapper[_ngcontent-%COMP%]{position:relative}"]}),ue})()},5651:(Lt,qe,C)=>{C.d(qe,{r:()=>I});var e=C(5e3),s=C(9808);function f(L,se){if(1&L&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&L){const q=e.oxw();e.Udp("font-size",q.size+"rem"),e.xp6(1),e.Oqu(q.icon)}}function V(L,se){if(1&L&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"div"),e.qZA()()),2&L){const q=e.oxw();e.xp6(2),e.Tol("loading-indicator__spinner "+q.model)}}const F=function(L){return{disabled:L}};let I=(()=>{class L{constructor(){this.icon="",this.size=1.9,this.disabled=!1,this.onClick=new e.vpe,this.model="primary",this.loading=!1}ngOnInit(){}clickHandler(q){this.disabled||this.onClick.emit(q)}}return L.\u0275fac=function(q){return new(q||L)},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-icon-button"]],inputs:{icon:"icon",size:"size",disabled:"disabled",model:"model",loading:"loading"},outputs:{onClick:"onClick"},decls:3,vars:7,consts:[[3,"ngClass","click"],["class","material-icons-round",3,"font-size",4,"ngIf"],["class","flexed hcenter vcenter",4,"ngIf"],[1,"material-icons-round"],[1,"flexed","hcenter","vcenter"],[1,"loading-indicator"]],template:function(q,z){1&q&&(e.TgZ(0,"div",0),e.NdJ("click",function(ne){return z.clickHandler(ne)}),e.YNc(1,f,2,3,"span",1),e.YNc(2,V,3,2,"div",2),e.qZA()),2&q&&(e.Tol("button "+z.model),e.Q6J("ngClass",e.VKq(5,F,z.disabled)),e.xp6(1),e.Q6J("ngIf",!z.loading),e.xp6(1),e.Q6J("ngIf",z.loading))},dependencies:[s.mk,s.O5],styles:[".button[_ngcontent-%COMP%]{display:flex;padding:.2rem;-webkit-user-select:none;user-select:none;cursor:pointer;border-radius:.4rem;transition:color .2s ease-out}.button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{line-height:normal!important}.button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.button.primary[_ngcontent-%COMP%]:hover{color:#2542a4}.button.danger[_ngcontent-%COMP%]{color:#ef4444}.button.danger[_ngcontent-%COMP%]:hover{color:#b73030}.button.success[_ngcontent-%COMP%]{color:#22c55e}.button.success[_ngcontent-%COMP%]:hover{color:#1ba94f}.button.secondary[_ngcontent-%COMP%]{color:#64748b}.button.secondary[_ngcontent-%COMP%]:hover{color:#4d5a6c}.button.info[_ngcontent-%COMP%]{color:#3b82f6}.button.info[_ngcontent-%COMP%]:hover{color:#2c61b7}.button.warning[_ngcontent-%COMP%]{color:#f59e0b}.button.warning[_ngcontent-%COMP%]:hover{color:#c07d09}.button.help[_ngcontent-%COMP%]{color:#a855f7}.button.help[_ngcontent-%COMP%]:hover{color:#7b3db6}.button.light[_ngcontent-%COMP%]{color:var(--tc-100)}.button.light[_ngcontent-%COMP%]:hover{color:var(--tc-300)}.disabled[_ngcontent-%COMP%]{color:var(--bgc-300)!important;cursor:default}.loading-indicator[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center}.loading-indicator__spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(0,0,0,0);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}.loading-indicator__spinner.primary[_ngcontent-%COMP%]{border-top-color:var(--mc-500)}.loading-indicator__spinner.success[_ngcontent-%COMP%]{border-top-color:#22c55e}.loading-indicator__spinner.secondary[_ngcontent-%COMP%]{border-top-color:#64748b}.loading-indicator__spinner.info[_ngcontent-%COMP%]{border-top-color:#3b82f6}.loading-indicator__spinner.danger[_ngcontent-%COMP%]{border-top-color:#ef4444}.loading-indicator__spinner.warning[_ngcontent-%COMP%]{border-top-color:#f59e0b}.loading-indicator__spinner.help[_ngcontent-%COMP%]{border-top-color:#a855f7}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),L})()},2777:(Lt,qe,C)=>{C.d(qe,{U:()=>he});var e=C(5e3),s=C(8738);const f=["previewConnectedTask"],V=function(ne){return["/task",ne]};function F(ne,De){if(1&ne){const ue=e.EpF();e.TgZ(0,"span",6),e.NdJ("click",function(){e.CHM(ue);const pe=e.oxw();return e.KtG(pe.hidePreview())})("mouseenter",function(pe){e.CHM(ue);const ke=e.oxw();return e.KtG(ke.showPreview(pe))})("mouseleave",function(){e.CHM(ue);const pe=e.oxw();return e.KtG(pe.hidePreview())}),e._uU(1),e.qZA()}if(2&ne){const ue=e.oxw();e.Q6J("routerLink",e.VKq(2,V,null==ue.task?null:ue.task.taskId)),e.xp6(1),e.hij("#",null==ue.task?null:ue.task.taskId,"")}}function I(ne,De){1&ne&&e._UZ(0,"p-skeleton",7),2&ne&&e.Udp("display","inline-block")}function L(ne,De){if(1&ne&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&ne){const ue=e.oxw();e.xp6(1),e.hij("#",ue._taskId,"")}}const se=function(){return{width:"40vw",minWidth:"min-content"}};function q(ne,De){if(1&ne&&e._UZ(0,"app-task-list-element",9),2&ne){const ue=e.oxw(2);e.Akn(e.DdM(5,se)),e.Q6J("isHover",!1)("item",ue.task)("inlined",!0)}}function z(ne,De){if(1&ne&&e.YNc(0,q,1,6,"app-task-list-element",8),2&ne){const ue=e.oxw();e.Q6J("ngIf",null==ue.task?null:ue.task.taskId)}}let he=(()=>{class ne{constructor(ue){this.api=ue,this.failed=!1}set taskId(ue){0!==ue&&(this._taskId=ue,this.api.getTask(this._taskId,!0).subscribe({next:ge=>this.task=ge,error:()=>this.failed=!0}))}static createElement(ue){const ge=document.createElement("task-link-element");return ge.taskId=ue,ge}ngOnInit(){}showPreview(ue){this.previewConnectedTask&&this.previewConnectedTask.show(ue)}hidePreview(){setTimeout(()=>{this.previewConnectedTask&&this.previewConnectedTask.hide()})}}return ne.\u0275fac=function(ue){return new(ue||ne)(e.Y36(s.s))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["app-task-link"]],viewQuery:function(ue,ge){if(1&ue&&e.Gf(f,5),2&ue){let pe;e.iGM(pe=e.CRH())&&(ge.previewConnectedTask=pe.first)}},inputs:{task:"task",taskId:"taskId"},decls:6,vars:3,consts:[["class","like-link",3,"routerLink","click","mouseenter","mouseleave",4,"ngIf"],["width","4rem","height",".8rem",3,"display",4,"ngIf"],[4,"ngIf"],["appendTo","body","showTransitionOptions","0ms","hideTransitionOptions","0ms"],["previewConnectedTask",""],["pTemplate","content"],[1,"like-link",3,"routerLink","click","mouseenter","mouseleave"],["width","4rem","height",".8rem"],[3,"isHover","item","inlined","style",4,"ngIf"],[3,"isHover","item","inlined"]],template:function(ue,ge){1&ue&&(e.YNc(0,F,2,4,"span",0),e.YNc(1,I,1,2,"p-skeleton",1),e.YNc(2,L,2,1,"span",2),e.TgZ(3,"p-overlayPanel",3,4),e.YNc(5,z,1,1,"ng-template",5),e.qZA()),2&ue&&(e.Q6J("ngIf",0!==(null==ge.task?null:ge.task.taskId)),e.xp6(1),e.Q6J("ngIf",0===(null==ge.task?null:ge.task.taskId)&&!ge.failed),e.xp6(1),e.Q6J("ngIf",ge.failed))}}),ne})()},6502:(Lt,qe,C)=>{C.d(qe,{o:()=>Qe});var e=C(5e3),s=C(540),f=C(2382),V=C(8738);function F(re,Ve){1&re&&e.GkF(0)}const I=function(){return{label:"\u0414\u0430",value:!0}},L=function(){return{label:"\u041d\u0435\u0442",value:!1}},se=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},q=function(re,Ve,Me){return[re,Ve,Me]};function z(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,F,1,0,"ng-container",7),e.TgZ(2,"p-dropdown",8),e.NdJ("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("onBlur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)("options",e.kEZ(6,q,e.DdM(3,I),e.DdM(4,L),e.DdM(5,se)))}}function he(re,Ve){1&re&&e.GkF(0)}function ne(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,he,1,0,"ng-container",7),e.TgZ(2,"input",9),e.NdJ("blur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function De(re,Ve){1&re&&e.GkF(0)}function ue(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,De,1,0,"ng-container",7),e.TgZ(2,"textarea",10),e.NdJ("blur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)("autoResize",!0)("rows",7)}}function ge(re,Ve){1&re&&e.GkF(0)}function pe(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ge,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",11),e.NdJ("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("onBlur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function ke(re,Ve){1&re&&e.GkF(0)}function Q(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ke,1,0,"ng-container",7),e.TgZ(2,"p-inputNumber",12),e.NdJ("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("onBlur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)("minFractionDigits",1)}}function Oe(re,Ve){1&re&&e.GkF(0)}function le(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Oe,1,0,"ng-container",7),e.TgZ(2,"app-address-input",11),e.NdJ("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("onBlur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function P(re,Ve){1&re&&e.GkF(0)}function N(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,P,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function we(re,Ve){1&re&&e.GkF(0)}function be(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,we,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function ye(re,Ve){1&re&&e.GkF(0)}function G(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,ye,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function E(re,Ve){1&re&&e.GkF(0)}function U(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,E,1,0,"ng-container",7),e.TgZ(2,"app-ip-input",11),e.NdJ("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("onBlur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function $(re,Ve){1&re&&e.GkF(0)}function Ae(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,$,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function Ne(re,Ve){1&re&&e.GkF(0)}function He(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6),e.YNc(1,Ne,1,0,"ng-container",7),e.TgZ(2,"input",13),e.NdJ("blur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function Re(re,Ve){1&re&&e.GkF(0)}function gt(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",6)(1,"fieldset",14)(2,"legend"),e.YNc(3,Re,1,0,"ng-container",7),e.qZA(),e.TgZ(4,"app-phone-list-input",11),e.NdJ("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onChange($e))})("onBlur",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.onTouched())})("ngModelChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.controlValue=$e)}),e.qZA()()()}if(2&re){const Me=e.oxw(),Fe=e.MAs(20);e.xp6(3),e.Q6J("ngTemplateOutlet",Fe),e.xp6(1),e.Q6J("ngModel",Me.controlValue)}}function ut(re,Ve){1&re&&e._UZ(0,"div"),2&re&&e.Udp("background-color","red")}function Pe(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"label",15)(1,"app-editing-caption",16),e.NdJ("captionChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.setName($e))}),e.qZA(),e.TgZ(2,"app-input-variation-selector",17),e.NdJ("valueChange",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.currentVariation=$e)}),e.qZA()()}if(2&re){const Me=e.oxw();e.xp6(1),e.Q6J("caption",null==Me.field?null:Me.field.name),e.xp6(1),e.Q6J("variationList",Me.currentVariationsList)("value",Me.currentVariation)}}function We(re,Ve){if(1&re&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&re){const Me=e.oxw();e.xp6(1),e.hij(" ",null==Me.field?null:Me.field.name," ")}}function J(re,Ve){1&re&&e.GkF(0)}function de(re,Ve){if(1&re&&e.YNc(0,J,1,0,"ng-container",18),2&re){const Me=e.oxw(),Fe=e.MAs(16),$e=e.MAs(18);e.Q6J("ngIf",Me.isExample)("ngIfThen",Fe)("ngIfElse",$e)}}let Qe=(()=>{class re{constructor(Me){this.api=Me,this.isExample=!1,this.onChange=Fe=>{},this.onTouched=()=>{}}get type(){return this.field?"type"in this.field?this.field.type:"wireframeFieldType"in this.field?this.field.wireframeFieldType:"":""}get currentVariationsList(){return this.field&&"type"in this.field&&this.field.type===s._r.ADDRESS?[{id:"ALL",name:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},{id:"APARTMENT_ONLY",name:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"},{id:"HOUSE_ONLY",name:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"}]:[]}get currentVariation(){var Me;return this.field&&"variation"in this.field&&null!==(Me=this.field.variation)&&void 0!==Me?Me:""}set currentVariation(Me){!this.field||"type"in this.field&&(this.field.variation=Me)}registerOnChange(Me){this.onChange=Me}registerOnTouched(Me){this.onTouched=Me}writeValue(Me){this.controlValue=Me}ngOnInit(){}isName(Me){return"name"in Me}setName(Me){this.field&&"name"in this.field&&(this.field.name=Me)}}return re.\u0275fac=function(Me){return new(Me||re)(e.Y36(V.s))},re.\u0275cmp=e.Xpm({type:re,selectors:[["app-task-template-input"]],inputs:{field:"field",isExample:"isExample"},features:[e._Bn([{provide:f.JU,useExisting:(0,e.Gpc)(()=>re),multi:!0}])],decls:21,vars:14,consts:[[3,"ngSwitch"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],["editedLabel",""],["staticLabel",""],["label",""],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],[3,"ngModel","options","ngModelChange","onBlur"],["pInputText","",3,"ngModel","blur","ngModelChange"],["pInputTextarea","",3,"ngModel","autoResize","rows","blur","ngModelChange"],[3,"ngModel","ngModelChange","onBlur"],[3,"ngModel","minFractionDigits","ngModelChange","onBlur"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$",3,"ngModel","blur","ngModelChange"],[1,"node","flexed","gap5","column"],[1,"flexed","hcenter","gap5"],[3,"caption","captionChange"],[3,"variationList","value","valueChange"],[4,"ngIf","ngIfThen","ngIfElse"]],template:function(Me,Fe){1&Me&&(e.ynx(0,0),e.YNc(1,z,3,10,"div",1),e.YNc(2,ne,3,2,"div",1),e.YNc(3,ue,3,4,"div",1),e.YNc(4,pe,3,2,"div",1),e.YNc(5,Q,3,3,"div",1),e.YNc(6,le,3,2,"div",1),e.YNc(7,N,3,2,"div",1),e.YNc(8,be,3,2,"div",1),e.YNc(9,G,3,2,"div",1),e.YNc(10,U,3,2,"div",1),e.YNc(11,Ae,3,2,"div",1),e.YNc(12,He,3,2,"div",1),e.YNc(13,gt,5,2,"div",1),e.YNc(14,ut,1,2,"div",2),e.BQk(),e.YNc(15,Pe,3,3,"ng-template",null,3,e.W1O),e.YNc(17,We,2,1,"ng-template",null,4,e.W1O),e.YNc(19,de,1,3,"ng-template",null,5,e.W1O)),2&Me&&(e.Q6J("ngSwitch",Fe.type),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"))}}),re})()},6847:(Lt,qe,C)=>{C.d(qe,{j:()=>V});var e=C(383),s=C(7445),f=C(5e3);let V=(()=>{class F{constructor(){this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434",this.subscriptions=new e.xf}ngOnInit(){this.subscriptions.addSubscription("time",(0,s.F)(100).subscribe(this.updateTime.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}updateTime(){if(!this.startTime)return void(this.value="-- \u0441\u0435\u043a\u0443\u043d\u0434");let L=0;L=this.startTime instanceof Date?this.startTime.getTime():"string"==typeof this.startTime?new Date(this.startTime).getTime():this.startTime;const se=(new Date).getTime()-L,q=Math.floor(se/1e3)%60,z=Math.floor(se/6e4)%60,he=Math.floor(se/36e5)%24,ne=Math.floor(se/864e5);let De="";ne>0&&(De+=`${ne} ${e.cQ.declineOfNumber(ne,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])}`),he>0&&(ne>0&&(De+=" "),De+=`${he} ${e.cQ.declineOfNumber(he,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}`),z>0&&((he>0||ne>0)&&(De+=" "),De+=`${z} ${e.cQ.declineOfNumber(z,["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])}`),q>0&&0===ne&&0===he&&0===z&&((z>0||he>0||ne>0)&&(De+=" "),De+=`${q} ${e.cQ.declineOfNumber(q,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}`),this.value=De||"-- \u0441\u0435\u043a\u0443\u043d\u0434"}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-time-elapsed"]],inputs:{startTime:"startTime"},decls:2,vars:1,template:function(L,se){1&L&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&L&&(f.xp6(1),f.hij(" ",se.value,"\n"))}}),F})()},1787:(Lt,qe,C)=>{C.d(qe,{k:()=>De});var e=C(383),s=C(5e3),f=C(9808),V=C(8050),F=C(9783),I=C(5072),L=C(1110);const se=function(ue,ge,pe){return{marginLeft:ue,mask:ge,webkitMask:pe}};function q(ue,ge){if(1&ue&&s._UZ(0,"app-avatar",5),2&ue){const pe=ge.$implicit,ke=ge.index,Q=s.oxw();s.Akn(s.kEZ(6,se,ke>0?Q.margin+"rem":"",ke<Q.sliced.length-1?Q.mask:"",ke<Q.sliced.length-1?Q.mask:"")),s.Q6J("deleted",pe.deleted)("name",pe.fullName)("size",Q.size)("src",pe.avatar)}}function z(ue,ge){if(1&ue&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&ue){const pe=s.oxw();s.xp6(1),s.hij(" +",pe.numberOfOverflowed," ")}}function he(ue,ge){1&ue&&s._UZ(0,"app-employee-label",8),2&ue&&s.Q6J("employee",ge.$implicit)}function ne(ue,ge){if(1&ue&&(s.TgZ(0,"div",6),s.YNc(1,he,1,1,"app-employee-label",7),s.qZA()),2&ue){const pe=s.oxw();s.xp6(1),s.Q6J("ngForOf",pe.employees)("ngForTrackBy",pe.trackByEmployee)}}let De=(()=>{class ue{constructor(){this.employees=[],this.size=2,this.isListShow=!1,this.subscriptions=new e.xf}get margin(){return-2*(.2+this.shift())}get mask(){return`radial-gradient(circle at ${this.size+this.size/2+this.margin}rem, transparent ${this.size/2+.1}rem, white ${this.size/2+.2}rem)`}get sliced(){return this.employees.slice(0,6)}get numberOfOverflowed(){let pe=this.employees.length-6;return pe<0&&(pe=0),pe}trackByEmployee(pe,ke){return ke.login}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.subscriptions.unsubscribeAll()}shift(){let pe=.05*this.sliced.length;return pe>.3&&(pe=.3),pe}}return ue.\u0275fac=function(pe){return new(pe||ue)},ue.\u0275cmp=s.Xpm({type:ue,selectors:[["app-avatar-list"]],inputs:{employees:"employees",size:"size"},decls:5,vars:6,consts:[[1,"avatars",3,"mouseenter","mouseleave"],[3,"deleted","name","size","src","style",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["appendTo","body","hideTransitionOptions","0ms","showTransitionOptions","0ms",3,"visible","visibleChange"],["pTemplate","content"],[3,"deleted","name","size","src"],[1,"employees-overlay-list"],[3,"employee",4,"ngFor","ngForOf","ngForTrackBy"],[3,"employee"]],template:function(pe,ke){1&pe&&(s.TgZ(0,"div",0),s.NdJ("mouseenter",function(){return ke.isListShow=ke.sliced.length>0})("mouseleave",function(){return ke.isListShow=!1}),s.YNc(1,q,1,10,"app-avatar",1),s.YNc(2,z,2,1,"span",2),s.qZA(),s.TgZ(3,"p-overlay",3),s.NdJ("visibleChange",function(Oe){return ke.isListShow=Oe}),s.YNc(4,ne,2,2,"ng-template",4),s.qZA()),2&pe&&(s.xp6(1),s.Q6J("ngForOf",ke.sliced)("ngForTrackBy",ke.trackByEmployee),s.xp6(1),s.Q6J("ngIf",ke.numberOfOverflowed>0),s.xp6(1),s.Udp("z-index","3500 !important"),s.Q6J("visible",ke.isListShow))},dependencies:[f.sg,f.O5,V.aV,F.jx,I.A,L.x],styles:[".avatars[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;cursor:default;-webkit-user-select:none;user-select:none;padding:.1rem}.avatars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);margin-left:.2rem}.employees-overlay-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-radius:.5rem;background-color:#fff;padding:.7rem;height:max-content;width:-moz-fit-content;width:fit-content;box-shadow:0 .2px .7px #00000006,0 .6px 1.9px #00000009,0 1.5px 4.5px #0000000c,0 5px 15px #00000012}"]}),ue})()},7813:(Lt,qe,C)=>{C.d(qe,{x:()=>s});var e=C(5e3);let s=(()=>{class f{constructor(){}ngOnInit(){}}return f.\u0275fac=function(F){return new(F||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-circle-loading-indicator"]],decls:4,vars:0,consts:[[1,"loading-indicator"],[1,"circle","first"],[1,"circle","second"],[1,"circle","third"]],template:function(F,I){1&F&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"div",2)(3,"div",3),e.qZA())},styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.3rem;height:.8rem}.circle[_ngcontent-%COMP%]{width:auto;height:100%;aspect-ratio:1;border-radius:50%;background-color:#b2b9c230}.first[_ngcontent-%COMP%]{animation:1.2s pulse ease-in infinite}.second[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .4s infinite}.third[_ngcontent-%COMP%]{animation:1.2s pulse ease-in .8s infinite}@keyframes pulse{0%{transform:scale(1);background-color:#b2b9c230}15%{transform:scale(.9);background-color:#b2b9c2}33%,to{transform:scale(1);background-color:#b2b9c230}}"]}),f})()},4881:(Lt,qe,C)=>{C.d(qe,{E:()=>ut});var e=C(5e3),s=C(540),f=C(4488),V=C(8738),F=C(9808),I=C(3470),L=C(2382),se=C(1208),q=C(3640),z=C(1819),he=C(1110),ne=C(1787),De=C(7728);const ue=["tagsPreview"];function ge(Pe,We){if(1&Pe){const J=e.EpF();e.TgZ(0,"p-checkbox",24),e.NdJ("click",function(Qe){return Qe.stopPropagation()})("ngModelChange",function(Qe){e.CHM(J);const re=e.oxw();return e.KtG(re.checkChange.emit(Qe))})("ngModelChange",function(Qe){e.CHM(J);const re=e.oxw();return e.KtG(re.check=Qe)}),e.qZA()}if(2&Pe){const J=e.oxw();e.Q6J("ngModel",J.check)("name",J.checkGroup)("value",null==J.item?null:J.item.taskId)}}function pe(Pe,We){if(1&Pe&&(e.TgZ(0,"span",3)(1,"span",4),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430"),e.qZA()(),e.TgZ(5,"span",27),e._uU(6),e.ALo(7,"titlecase"),e.ALo(8,"date"),e.qZA()()),2&Pe){const J=e.oxw(2);e.xp6(6),e.Oqu(e.lcZ(7,1,e.xi3(8,3,null==J.item?null:J.item.actualFrom,"EEEE, dd MMMM yyyy HH:mm")))}}function ke(Pe,We){if(1&Pe&&(e.TgZ(0,"span",3)(1,"span",4),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u0421\u0440\u043e\u043a"),e.qZA()(),e.TgZ(5,"span",27),e._uU(6),e.ALo(7,"titlecase"),e.ALo(8,"date"),e.qZA()()),2&Pe){const J=e.oxw(2);e.xp6(6),e.Oqu(e.lcZ(7,1,e.xi3(8,3,null==J.item?null:J.item.actualTo,"EEEE, dd MMMM yyyy HH:mm")))}}function Q(Pe,We){if(1&Pe&&(e.ynx(0),e.YNc(1,pe,9,6,"span",25),e.YNc(2,ke,9,6,"span",25),e.BQk()),2&Pe){const J=e.oxw();e.xp6(1),e.Q6J("ngIf",null==J.item?null:J.item.actualFrom),e.xp6(1),e.Q6J("ngIf",(null==J.item?null:J.item.actualTo)&&!(null!=J.item&&J.item.actualFrom))}}function Oe(Pe,We){1&Pe&&e.GkF(0)}function le(Pe,We){if(1&Pe&&e._UZ(0,"app-employee-label",28),2&Pe){const J=e.oxw();e.Q6J("employee",null==J.item?null:J.item.responsible)}}const P=function(){return[]};function N(Pe,We){if(1&Pe&&e._UZ(0,"app-avatar-list",29),2&Pe){const J=e.oxw();let de;e.Q6J("employees",null!==(de=null==J.actualWorkLog?null:J.actualWorkLog.employees)&&void 0!==de?de:e.DdM(2,P))("size",1.7)}}function we(Pe,We){if(1&Pe&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Pe){const J=e.oxw().$implicit;e.xp6(1),e.Oqu(null==J?null:J.textRepresentation)}}function be(Pe,We){if(1&Pe&&(e.ynx(0),e.YNc(1,we,2,1,"span",9),e.BQk()),2&Pe){const J=We.index,de=e.oxw(2);e.xp6(1),e.Q6J("ngIf",J<de.fieldCountArray.length)}}function ye(Pe,We){if(1&Pe&&(e.ynx(0),e.YNc(1,be,2,1,"ng-container",30),e.BQk()),2&Pe){const J=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==J.item?null:J.item.listItemFields)("ngForTrackBy",J.trackByField)}}function G(Pe,We){if(1&Pe){const J=e.EpF();e.ynx(0),e.TgZ(1,"app-select-field-to-view-button",31),e.NdJ("selectView",function(Qe){e.CHM(J);const re=e.oxw(2);return e.KtG(re.selectFieldToView.emit(Qe))}),e.qZA(),e.BQk()}if(2&Pe){const J=We.$implicit,de=e.oxw(2);e.xp6(1),e.Q6J("fields",de.wireframeFieldsList)("index",J)}}function E(Pe,We){if(1&Pe&&(e.ynx(0),e.YNc(1,G,2,2,"ng-container",30),e.BQk()),2&Pe){const J=e.oxw();e.xp6(1),e.Q6J("ngForOf",J.fieldCountArray)("ngForTrackBy",J.trackByIndex)}}function U(Pe,We){if(1&Pe&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.qZA(),e.TgZ(3,"span",34),e._uU(4),e.qZA()()),2&Pe){const J=e.oxw();e.xp6(2),e.hij(" ",null==J.item||null==J.item.lastComment||null==J.item.lastComment.creator?null:J.item.lastComment.creator.fullName,": "),e.xp6(2),e.hij(" ",null==J.item||null==J.item.lastComment?null:J.item.lastComment.simpleText," ")}}function $(Pe,We){if(1&Pe&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&Pe){const J=We.$implicit;e.Udp("background-color",J.color),e.xp6(1),e.Oqu(J.name)}}function Ae(Pe,We){if(1&Pe){const J=e.EpF();e.TgZ(0,"div",39),e.NdJ("mouseenter",function(Qe){e.CHM(J);const re=e.oxw(2);return e.KtG(re.tagsPreviewShow(Qe))})("mouseleave",function(){e.CHM(J);const Qe=e.oxw(2);return e.KtG(Qe.tagsPreviewHide())}),e._uU(1),e.qZA()}if(2&Pe){const J=e.oxw(2);e.xp6(1),e.hij("",J.remainingNumberOfTags,"+ ")}}function Ne(Pe,We){if(1&Pe&&(e.TgZ(0,"div",35),e.YNc(1,$,2,3,"div",36),e.ALo(2,"slice"),e.YNc(3,Ae,2,1,"div",37),e.qZA()),2&Pe){const J=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,3,null==J.item?null:J.item.tags,0,2))("ngForTrackBy",J.trackByTag),e.xp6(2),e.Q6J("ngIf",J.isMoreTwoTags)}}function He(Pe,We){if(1&Pe&&(e.TgZ(0,"div",40),e._uU(1),e.qZA()),2&Pe){const J=We.$implicit;e.Udp("background-color",J.color),e.xp6(1),e.Oqu(J.name)}}const Re=function(Pe,We,J){return{processing:Pe,inlined:We,hovered:J}},gt=function(Pe){return["/task",Pe]};let ut=(()=>{class Pe{constructor(J,de){this.taskService=J,this.api=de,this.viewExample=!1,this.wireframeFieldsList=[],this.checkChange=new e.vpe,this.checkGroup="task",this.selectFieldToView=new e.vpe,this.isHover=!0,this.inlined=!1,this.onClick=new e.vpe,this.customClickHandler=!1,this.statusClass={},this.itemClass={}}get fieldCountArray(){var J,de;switch(null===(de=null===(J=this.item)||void 0===J?void 0:J.modelWireframe)||void 0===de?void 0:de.listViewType){case"SIMPLE":return[1];case"COMPOSITE":return[1,2];case"DETAILED":return[1,2,3];default:return[]}}get statusColor(){var J,de,Qe;return{active:(null===(J=this.item)||void 0===J?void 0:J.taskStatus)===s.hY.ACTIVE,processing:(null===(de=this.item)||void 0===de?void 0:de.taskStatus)===s.hY.PROCESSING,close:(null===(Qe=this.item)||void 0===Qe?void 0:Qe.taskStatus)===s.hY.CLOSE}}get isMoreTwoTags(){var J;return!(null===(J=this.item)||void 0===J||!J.tags)&&this.item.tags.length>2}get remainingNumberOfTags(){var J;return null!==(J=this.item)&&void 0!==J&&J.tags?this.item.tags.length-2:0}get bodyClass(){var J,de,Qe,re,Ve,Me;return{simple:"SIMPLE"===(null===(de=null===(J=this.item)||void 0===J?void 0:J.modelWireframe)||void 0===de?void 0:de.listViewType),composite:"COMPOSITE"===(null===(re=null===(Qe=this.item)||void 0===Qe?void 0:Qe.modelWireframe)||void 0===re?void 0:re.listViewType),detailed:"DETAILED"===(null===(Me=null===(Ve=this.item)||void 0===Ve?void 0:Ve.modelWireframe)||void 0===Me?void 0:Me.listViewType)}}trackByIndex(J,de){return J}trackByTag(J,de){return de.taskTagId+de.name+de.color}trackByField(J,de){return de?de.id+de.name+de.textRepresentation:""}ngOnInit(){var J;!(null===(J=this.item)||void 0===J)&&J.taskStatus&&(this.statusClass={active:this.item.taskStatus===s.hY.ACTIVE,processed:this.item.taskStatus===s.hY.PROCESSING,close:this.item.taskStatus===s.hY.CLOSE}),this.updateActualWorkLog(),this.itemClass=Object.assign({"view-example":this.viewExample,hovered:this.isHover,selected:this.check},this.statusClass)}tagsPreviewShow(J){var de;null===(de=this.tagsPreview)||void 0===de||de.show(J)}tagsPreviewHide(){setTimeout(()=>{var J;null===(J=this.tagsPreview)||void 0===J||J.hide()})}getFieldValue(J){return this.item&&null!=this.item.listItemFields[J]?this.item.listItemFields[J].textRepresentation:""}ngOnChanges(J){const{item:de}=J;de&&de.currentValue&&this.updateActualWorkLog()}updateActualWorkLog(){var J;(null===(J=this.item)||void 0===J?void 0:J.taskStatus)===s.hY.PROCESSING&&this.api.getActiveWorkLogByTaskId(this.item.taskId).subscribe({next:de=>{this.actualWorkLog=de}})}}return Pe.\u0275fac=function(J){return new(J||Pe)(e.Y36(f.U),e.Y36(V.s))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["app-task-list-element"]],viewQuery:function(J,de){if(1&J&&e.Gf(ue,5),2&J){let Qe;e.iGM(Qe=e.CRH())&&(de.tagsPreview=Qe.first)}},inputs:{item:"item",viewExample:"viewExample",wireframeFieldsList:"wireframeFieldsList",check:"check",checkGroup:"checkGroup",isHover:"isHover",inlined:"inlined",customClickHandler:"customClickHandler"},outputs:{checkChange:"checkChange",selectFieldToView:"selectFieldToView",onClick:"onClick"},features:[e.TTD],decls:40,vars:37,consts:[[1,"task-item","outline-none",3,"ngClass","routerLink","click"],[1,"task-item-header"],[3,"ngModel","name","value","click","ngModelChange",4,"ngIf"],[1,"with-label"],[1,"label"],[1,"mdi-article"],[1,"value",3,"ngClass"],[1,"mdi-flag"],[1,"value","status-caption",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"stretched"],[3,"employee",4,"ngIf"],[3,"employees","size",4,"ngIf"],[1,"task-item-body",3,"ngClass"],["class","task-item-last-comment",4,"ngIf"],[1,"task-item-footer"],[1,"caption","size-tiny","wt-bold","f-color-500",3,"employee","inline"],[1,"caption","size-tiny","wt-bold","f-color-500"],["statusTags",""],["hideTransitionOptions","0ms","showTransitionOptions","0ms",3,"appendTo"],["tagsPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngModel","name","value","click","ngModelChange"],["class","with-label",4,"ngIf"],[1,"mdi-today"],[1,"value"],[3,"employee"],[3,"employees","size"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"fields","index","selectView"],[1,"task-item-last-comment"],[1,"autor"],[1,"comment"],[1,"tags-view"],["class","tags-view-item small",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item small",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-item","small"],[1,"tags-view-item","small",3,"mouseenter","mouseleave"],[1,"tags-view-item"]],template:function(J,de){if(1&J&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return de.onClick.emit(de.item)}),e.TgZ(1,"div",1),e.YNc(2,ge,1,3,"p-checkbox",2),e.TgZ(3,"span",3)(4,"span",4),e._UZ(5,"i",5),e.TgZ(6,"span"),e._uU(7,"\u0422\u0438\u043f"),e.qZA()(),e.TgZ(8,"span",6),e._uU(9),e.qZA()(),e.TgZ(10,"span",3)(11,"span",4),e._UZ(12,"i",7),e.TgZ(13,"span"),e._uU(14,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA()(),e.TgZ(15,"span",8),e._uU(16),e.ALo(17,"taskStatus"),e.qZA()(),e.YNc(18,Q,3,2,"ng-container",9),e.YNc(19,Oe,1,0,"ng-container",10),e._UZ(20,"div",11),e.YNc(21,le,1,1,"app-employee-label",12),e.YNc(22,N,1,3,"app-avatar-list",13),e.qZA(),e.TgZ(23,"div",14),e.YNc(24,ye,2,2,"ng-container",9),e.YNc(25,E,2,2,"ng-container",9),e.qZA(),e.YNc(26,U,5,2,"div",15),e.TgZ(27,"div",16),e._UZ(28,"app-employee-label",17),e.TgZ(29,"span",18),e._uU(30),e.ALo(31,"titlecase"),e.ALo(32,"date"),e.qZA()()(),e.YNc(33,Ne,4,7,"ng-template",null,19,e.W1O),e.TgZ(35,"p-overlayPanel",20,21)(37,"div",22),e.YNc(38,He,2,3,"div",23),e.ALo(39,"slice"),e.qZA()()),2&J){const Qe=e.MAs(34);e.Q6J("ngClass",e.kEZ(31,Re,"PROCESSING"===(null==de.item?null:de.item.taskStatus),de.inlined,de.isHover))("routerLink",de.viewExample||de.customClickHandler?null:e.VKq(35,gt,null==de.item?null:de.item.taskId)),e.xp6(2),e.Q6J("ngIf",de.check),e.xp6(6),e.Q6J("ngClass",de.statusColor),e.xp6(1),e.Oqu(null==de.item||null==de.item.modelWireframe?null:de.item.modelWireframe.name),e.xp6(6),e.Q6J("ngClass",de.statusColor),e.xp6(1),e.Oqu(e.lcZ(17,21,de.item)),e.xp6(2),e.Q6J("ngIf",(null==de.item?null:de.item.actualFrom)||(null==de.item?null:de.item.actualTo)),e.xp6(1),e.Q6J("ngTemplateOutlet",Qe),e.xp6(2),e.Q6J("ngIf","PROCESSING"!==(null==de.item?null:de.item.taskStatus)),e.xp6(1),e.Q6J("ngIf","PROCESSING"===(null==de.item?null:de.item.taskStatus)&&(null==de.actualWorkLog?null:de.actualWorkLog.employees)),e.xp6(1),e.Q6J("ngClass",null==de.item||null==de.item.modelWireframe?null:de.item.modelWireframe.listViewType),e.xp6(1),e.Q6J("ngIf",!de.viewExample),e.xp6(1),e.Q6J("ngIf",de.viewExample),e.xp6(1),e.Q6J("ngIf",null==de.item?null:de.item.lastComment),e.xp6(2),e.Q6J("employee",null==de.item?null:de.item.creator)("inline",!0),e.xp6(2),e.hij(" ",e.lcZ(31,23,e.xi3(32,25,null==de.item?null:de.item.created,"EEEE, dd MMMM yyyy HH:mm"))," "),e.xp6(5),e.Q6J("appendTo","body"),e.xp6(3),e.Q6J("ngForOf",e.xi3(39,28,null==de.item?null:de.item.tags,2))("ngForTrackBy",de.trackByTag)}},dependencies:[F.mk,F.sg,F.O5,F.tP,I.rH,L.JJ,L.On,se.XZ,q.T,z.g,he.x,ne.k,De.A,F.OU,F.rS,F.uU],styles:["[_nghost-%COMP%]{width:100%;display:block;text-align:initial}.task-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:1rem;gap:.5rem;transition:box-shadow .1s ease-in-out;cursor:pointer;background-color:#fff;outline-offset:-1px}.task-item[_ngcontent-%COMP%]:not(.inlined){border:1px solid var(--bgc-300);border-radius:var(--br-200)}.task-item.inlined[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-300)}.task-item.checking[_ngcontent-%COMP%]{grid:auto-flow/min-content 1fr}.task-item.hovered[_ngcontent-%COMP%]:not(.inlined):hover{box-shadow:0 0 .3rem var(--mc-200)}.task-item.hovered.inlined[_ngcontent-%COMP%]:hover{outline:1px solid var(--mc-200)}.task-item[_ngcontent-%COMP%]:active{background-color:var(--bgc-001)}.task-item.processing[_ngcontent-%COMP%]{border:1px solid var(--warm-400)}.task-item-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.task-item-header[_ngcontent-%COMP%]   .status-caption[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.task-item-header[_ngcontent-%COMP%]   .status-caption.active[_ngcontent-%COMP%]{color:var(--mc-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.processing[_ngcontent-%COMP%]{color:var(--warm-400)}.task-item-header[_ngcontent-%COMP%]   .status-caption.close[_ngcontent-%COMP%]{color:var(--tc-400)}.task-item-body[_ngcontent-%COMP%]{row-gap:.3rem;column-gap:.8rem;font-size:.9rem;color:var(--tc-700);margin:0 1rem}.task-item-body.SIMPLE[_ngcontent-%COMP%]{display:flex}.task-item-body.COMPOSITE[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/1fr}.task-item-body.COMPOSITE[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}.task-item-body.DETAILED[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/fit-content(50%) 1fr}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child){display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-body.DETAILED[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3;grid-area:2/1/3/3}.task-item-last-comment[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:.4rem .8rem;gap:.5rem;font-size:.9rem;color:var(--tc-600);margin:0 1rem;border-radius:.8rem;background-color:var(--bgc-200)}.task-item-last-comment[_ngcontent-%COMP%] > .autor[_ngcontent-%COMP%]{color:var(--tc-500);white-space:nowrap}.task-item-last-comment[_ngcontent-%COMP%] > .comment[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.task-item-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:.5rem}.with-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;height:min-content;font-size:.9rem;font-weight:600;color:var(--tc-600)}.with-label[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2rem}.with-label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{margin-left:1.5rem;color:var(--tc-700)}"]}),Pe})()},1819:(Lt,qe,C)=>{C.d(qe,{g:()=>L});var e=C(5e3),s=C(9808),f=C(1874);const V=["menu"];function F(se,q){if(1&se){const z=e.EpF();e.TgZ(0,"span",4),e.NdJ("click",function(ne){e.CHM(z);const De=e.oxw();return e.KtG(De.openContextMenu(ne))}),e._uU(1," \u0412\u044b\u0431\u0440\u0430\u0442\u044c\n"),e.qZA()}}function I(se,q){if(1&se){const z=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(ne){e.CHM(z);const De=e.oxw();return e.KtG(De.openContextMenu(ne))}),e._uU(1),e.qZA()}if(2&se){const z=e.oxw();e.Tol(z.classes+" highlight"),e.xp6(1),e.hij(" ",z.selectedField.label,"\n")}}let L=(()=>{class se{constructor(){this.selectView=new e.vpe}openContextMenu(z){this.fields=this.fields.map(he=>(he.command=()=>{this.selectedField=he,he.listViewIndex=this.index,console.log("\u041f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e:",he.id,this.index),this.selectView.emit({id:he.id,index:this.index})},he)),this.selectingField(),this.menu.toggle(z)}ngOnInit(){this.selectingField()}ngAfterViewInit(){}selectingField(){var z;null===(z=this.fields)||void 0===z||z.forEach(he=>{he.listViewIndex&&he.listViewIndex===this.index&&(this.selectedField=he)})}}return se.\u0275fac=function(z){return new(z||se)},se.\u0275cmp=e.Xpm({type:se,selectors:[["app-select-field-to-view-button"]],viewQuery:function(z,he){if(1&z&&e.Gf(V,5),2&z){let ne;e.iGM(ne=e.CRH())&&(he.menu=ne.first)}},inputs:{classes:"classes",index:"index",fields:"fields"},outputs:{selectView:"selectView"},decls:4,vars:4,consts:[["class","caption highlight",3,"click",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"model","popup"],["menu",""],[1,"caption","highlight",3,"click"],[3,"click"]],template:function(z,he){1&z&&(e.YNc(0,F,2,0,"span",0),e.YNc(1,I,2,3,"span",1),e._UZ(2,"p-menu",2,3)),2&z&&(e.Q6J("ngIf",!he.selectedField),e.xp6(1),e.Q6J("ngIf",he.selectedField),e.xp6(1),e.Q6J("model",he.fields)("popup",!0))},dependencies:[s.O5,f.v2],styles:[".highlight[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s ease-out}.highlight[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"]}),se})()},1886:(Lt,qe,C)=>{C.d(qe,{k:()=>s});var e=C(5e3);let s=(()=>{class f{constructor(){}letterChange(F){!F.ctrlKey&&this.patternRx&&!new RegExp(this.patternRx).test(F.target.value+F.key)&&!["Enter","Space","Tab","Backspace"].some(se=>se===F.key)&&F.preventDefault()}}return f.\u0275fac=function(F){return new(F||f)},f.\u0275dir=e.lG2({type:f,selectors:[["","appRegexPatternChecker",""]],hostBindings:function(F,I){1&F&&e.NdJ("keydown",function(se){return I.letterChange(se)})},inputs:{patternRx:"patternRx"}}),f})()},2716:(Lt,qe,C)=>{C.d(qe,{J:()=>I});var e=C(2777),s=C(1110),f=C(7805),V=C(7092),F=C(5e3);let I=(()=>{class L{constructor(q,z,he){this.element=q,this.viewContainerRef=z,this.componentFactoryResolver=he,this.arrayOfSubstitutions=[],this.loaded=!1}set value(q){!this.loaded||(this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents())}ngAfterViewInit(){this.findTagsAndReplaceToPlaceholders(),this.replacePlaceholdersToComponents(),this.loaded=!0}ngOnInit(){}findTagsAndReplaceToPlaceholders(){const q=this.element.nativeElement;q.innerHTML=q.innerHTML.replaceAll(/\B#(\d+)/g,(ue,ge)=>(this.arrayOfSubstitutions.push({data:parseInt(ge),type:"task"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),q.innerHTML=q.innerHTML.replaceAll(/\B@([A-z\d.\-_]+)/g,(ue,ge)=>(this.arrayOfSubstitutions.push({data:ge,type:"employee"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),q.innerHTML=q.innerHTML.replaceAll(/\B\$(\d+)/g,(ue,ge)=>(this.arrayOfSubstitutions.push({data:parseInt(ge),type:"department"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i> `)),q.innerHTML=q.innerHTML.replaceAll(/\B\^\((\d+)\)/g,(ue,ge)=>(this.arrayOfSubstitutions.push({data:parseInt(ge),type:"appointedInstallers"}),` <i id="replace${this.arrayOfSubstitutions.length-1}"></i>`))}replacePlaceholdersToComponents(){this.arrayOfSubstitutions.forEach((q,z)=>{const ne=this.element.nativeElement.querySelector(`#replace${z}`);switch(q.type){case"task":ne.replaceWith(e.U.createElement(parseInt(q.data)));break;case"employee":ne.replaceWith(s.x.createElement(q.data,!0));break;case"department":ne.replaceWith(f.y.createElement(q.data,!0));break;case"appointedInstallers":ne.replaceWith(V._.createElement(q.data))}})}}return L.\u0275fac=function(q){return new(q||L)(F.Y36(F.SBq),F.Y36(F.s_b),F.Y36(F._Vd))},L.\u0275dir=F.lG2({type:L,selectors:[["","appTextRevival",""]],inputs:{value:"value"}}),L})()},2059:(Lt,qe,C)=>{C.d(qe,{W:()=>F});var e=C(383),s=C(4968),f=C(7445),V=C(5e3);let F=(()=>{class I{constructor(se){this.elementRef=se,this.subscriptions=new e.xf,this.measureElement=document.createElement("div")}ngAfterViewInit(){const se=this.elementRef.nativeElement;document.body.append(this.measureElement),se.style.boxSizing="border-box";const q=window.getComputedStyle(se);this.measureElement.style.fontSize=q.fontSize,this.measureElement.style.fontFamily=q.fontFamily,this.measureElement.style.fontWeight=q.fontWeight,this.measureElement.style.fontStyle=q.fontStyle,this.measureElement.style.padding=q.padding,this.measureElement.style.lineHeight=q.lineHeight,this.measureElement.style.letterSpacing=q.letterSpacing,this.measureElement.style.border=q.border,this.measureElement.style.minHeight=parseFloat(q.fontSize)+5+"px",this.measureElement.style.whiteSpace="pre-wrap",this.measureElement.style.boxSizing="border-box",this.measureElement.style.visibility="hidden",this.measureElement.style.position="fixed",this.measureElement.style.top="0",this.measureElement.style.left="0",this.measureElement.style.overflow="hidden",this.measureElement.style.width=se.offsetWidth+"px",this.measureElement.style.height="auto",this.measureElement.style.overflowWrap="break-word";const z=(0,s.R)(se,"input"),he=(0,f.F)(300),ne=(0,s.R)(window,"resize"),De=z.subscribe(this.resize.bind(this)),ue=he.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("input",De),this.subscriptions.addSubscription("interval",ue);const ge=ne.subscribe(this.resize.bind(this));this.subscriptions.addSubscription("winResize",ge),this.resize()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}resize(){const se=this.elementRef.nativeElement,q=se.value;this.measureElement.style.width=se.offsetWidth+"px",this.measureElement.innerText=q;let z=0;"\n"===q[q.length-1]&&(z=parseFloat(window.getComputedStyle(se).fontSize)+5,console.log(z)),this.measureElement.style.boxSizing=0===se.value.length?"content-box":"border-box",se.style.height=this.measureElement.offsetHeight+z+"px"}}return I.\u0275fac=function(se){return new(se||I)(V.Y36(V.SBq))},I.\u0275dir=V.lG2({type:I,selectors:[["","appTextareaAutoresize",""]]}),I})()},1663:(Lt,qe,C)=>{C.d(qe,{U:()=>D});var e=C(9808),s=C(5e3),f=C(8028),V=C(3470),F=C(8738),I=C(9744),L=C(1874),se=C(845),q=C(5315),z=C(85),he=C(655),ne=C(2313);const De=["wrapper"],ue=["sourceImage"];function ge(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"img",4,5),s.NdJ("load",function(){s.CHM(p);const x=s.oxw();return s.KtG(x.imageLoadedInView())})("mousedown",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.startMove(x,j.moveTypes.Drag))})("touchstart",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.startMove(x,j.moveTypes.Drag))}),s.qZA()}if(2&m){const p=s.oxw();s.Udp("visibility",p.imageVisible?"visible":"hidden")("transform",p.safeTransformStyle),s.ekj("ngx-ic-draggable",!p.disabled&&p.allowMoveImage),s.Q6J("src",p.safeImgDataUrl,s.LSH),s.uIk("alt",p.imageAltText)}}function pe(m,b){if(1&m){const p=s.EpF();s.ynx(0),s.TgZ(1,"span",9),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"topleft"))})("touchstart",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"topleft"))}),s._UZ(2,"span",10),s.qZA(),s.TgZ(3,"span",11),s._UZ(4,"span",10),s.qZA(),s.TgZ(5,"span",12),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"topright"))})("touchstart",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"topright"))}),s._UZ(6,"span",10),s.qZA(),s.TgZ(7,"span",13),s._UZ(8,"span",10),s.qZA(),s.TgZ(9,"span",14),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"bottomright"))})("touchstart",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"bottomright"))}),s._UZ(10,"span",10),s.qZA(),s.TgZ(11,"span",15),s._UZ(12,"span",10),s.qZA(),s.TgZ(13,"span",16),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"bottomleft"))})("touchstart",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"bottomleft"))}),s._UZ(14,"span",10),s.qZA(),s.TgZ(15,"span",17),s._UZ(16,"span",10),s.qZA(),s.TgZ(17,"span",18),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"top"))})("touchstart",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"top"))}),s.qZA(),s.TgZ(18,"span",19),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"right"))})("touchstart",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"right"))}),s.qZA(),s.TgZ(19,"span",20),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"bottom"))})("touchstart",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"bottom"))}),s.qZA(),s.TgZ(20,"span",21),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"left"))})("touchstart",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.startMove(x,j.moveTypes.Resize,"left"))}),s.qZA(),s.BQk()}}function ke(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",6),s.NdJ("keydown",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.keyboardAccess(x))}),s.TgZ(1,"div",7),s.NdJ("mousedown",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.startMove(x,j.moveTypes.Move))})("touchstart",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.startMove(x,j.moveTypes.Move))}),s.qZA(),s.YNc(2,pe,21,0,"ng-container",8),s.qZA()}if(2&m){const p=s.oxw();s.Udp("top",p.cropper.y1,"px")("left",p.cropper.x1,"px")("width",p.cropper.x2-p.cropper.x1,"px")("height",p.cropper.y2-p.cropper.y1,"px")("margin-left","center"===p.alignImage?p.marginLeft:null)("visibility",p.imageVisible?"visible":"hidden"),s.ekj("ngx-ic-round",p.roundCropper),s.xp6(2),s.Q6J("ngIf",!p.hideResizeSquares)}}class Q{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(b){Object.keys(b).filter(p=>p in this).forEach(p=>this[p]=b[p]),this.validateOptions()}setOptionsFromChanges(b){Object.keys(b).filter(p=>p in this).forEach(p=>this[p]=b[p].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var Oe=(()=>{return(m=Oe||(Oe={})).Drag="drag",m.Move="move",m.Resize="resize",m.Pinch="pinch",Oe;var m})();function be(m,b){return m/100*b}let ye=(()=>{class m{crop(p,_,x,j){const Te=this.getImagePosition(p,_,x,j),ot=Te.x2-Te.x1,Ut=Te.y2-Te.y1,pn=document.createElement("canvas");pn.width=ot,pn.height=Ut;const cn=pn.getContext("2d");if(!cn)return null;null!=j.backgroundColor&&(cn.fillStyle=j.backgroundColor,cn.fillRect(0,0,ot,Ut));const kn=(j.transform.scale||1)*(j.transform.flipH?-1:1),ci=(j.transform.scale||1)*(j.transform.flipV?-1:1),{translateH:bi,translateV:So}=this.getCanvasTranslate(p,_,j),lo=_.transformed;cn.setTransform(kn,0,0,ci,lo.size.width/2+bi,lo.size.height/2+So),cn.translate(-Te.x1/kn,-Te.y1/ci),cn.rotate((j.transform.rotate||0)*Math.PI/180),cn.drawImage(lo.image,-lo.size.width/2,-lo.size.height/2);const io={width:ot,height:Ut,imagePosition:Te,cropperPosition:Object.assign({},x)};j.containWithinAspectRatio&&(io.offsetImagePosition=this.getOffsetImagePosition(p,_,x,j));const Cs=this.getResizeRatio(ot,Ut,j);return 1!==Cs&&(io.width=Math.round(ot*Cs),io.height=j.maintainAspectRatio?Math.round(io.width/j.aspectRatio):Math.round(Ut*Cs),function we(m,b,p){const _=m.width,x=m.height,j=_/(b=Math.round(b)),Te=x/(p=Math.round(p)),ot=Math.ceil(j/2),Ut=Math.ceil(Te/2),pn=m.getContext("2d");if(pn){const cn=pn.getImageData(0,0,_,x),kn=pn.createImageData(b,p),ci=cn.data,bi=kn.data;for(let So=0;So<p;So++)for(let lo=0;lo<b;lo++){const io=4*(lo+So*b),Cs=So*Te;let yr=0,Fo=0,ka=0,Ja=0,hu=0,Wd=0,Yd=0;const Kd=Math.floor(lo*j),pl=Math.floor(So*Te);let ca=Math.ceil((lo+1)*j),gu=Math.ceil((So+1)*Te);ca=Math.min(ca,_),gu=Math.min(gu,x);for(let Co=pl;Co<gu;Co++){const fu=Math.abs(Cs-Co)/Ut,qd=lo*j,mu=fu*fu;for(let ua=Kd;ua<ca;ua++){const $d=Math.abs(qd-ua)/ot,ja=Math.sqrt(mu+$d*$d);if(ja>=1)continue;yr=2*ja*ja*ja-3*ja*ja+1;const Wa=4*(ua+Co*_);Yd+=yr*ci[Wa+3],ka+=yr,ci[Wa+3]<255&&(yr=yr*ci[Wa+3]/250),Ja+=yr*ci[Wa],hu+=yr*ci[Wa+1],Wd+=yr*ci[Wa+2],Fo+=yr}}bi[io]=Ja/Fo,bi[io+1]=hu/Fo,bi[io+2]=Wd/Fo,bi[io+3]=Yd/ka}m.width=b,m.height=p,pn.putImageData(kn,0,0)}}(pn,io.width,io.height)),io.base64=pn.toDataURL("image/"+j.format,this.getQuality(j)),io}getCanvasTranslate(p,_,x){if("px"===x.transform.translateUnit){const j=this.getRatio(p,_);return{translateH:(x.transform.translateH||0)*j,translateV:(x.transform.translateV||0)*j}}return{translateH:x.transform.translateH?be(x.transform.translateH,_.transformed.size.width):0,translateV:x.transform.translateV?be(x.transform.translateV,_.transformed.size.height):0}}getRatio(p,_){return _.transformed.size.width/p.nativeElement.offsetWidth}getImagePosition(p,_,x,j){const Te=this.getRatio(p,_),ot={x1:Math.round(x.x1*Te),y1:Math.round(x.y1*Te),x2:Math.round(x.x2*Te),y2:Math.round(x.y2*Te)};return j.containWithinAspectRatio||(ot.x1=Math.max(ot.x1,0),ot.y1=Math.max(ot.y1,0),ot.x2=Math.min(ot.x2,_.transformed.size.width),ot.y2=Math.min(ot.y2,_.transformed.size.height)),ot}getOffsetImagePosition(p,_,x,j){const Ut=_.transformed.size.width/p.nativeElement.offsetWidth;let pn,cn;(j.canvasRotation+_.exifTransform.rotate)%2?(pn=(_.transformed.size.width-_.original.size.height)/2,cn=(_.transformed.size.height-_.original.size.width)/2):(pn=(_.transformed.size.width-_.original.size.width)/2,cn=(_.transformed.size.height-_.original.size.height)/2);const kn={x1:Math.round(x.x1*Ut)-pn,y1:Math.round(x.y1*Ut)-cn,x2:Math.round(x.x2*Ut)-pn,y2:Math.round(x.y2*Ut)-cn};return j.containWithinAspectRatio||(kn.x1=Math.max(kn.x1,0),kn.y1=Math.max(kn.y1,0),kn.x2=Math.min(kn.x2,_.transformed.size.width),kn.y2=Math.min(kn.y2,_.transformed.size.height)),kn}getResizeRatio(p,_,x){const j=x.resizeToWidth/p,Te=x.resizeToHeight/_,ot=new Array;x.resizeToWidth>0&&ot.push(j),x.resizeToHeight>0&&ot.push(Te);const Ut=0===ot.length?1:Math.min(...ot);return Ut>1&&!x.onlyScaleDown?Ut:Math.min(Ut,1)}getQuality(p){return Math.min(1,Math.max(0,p.imageQuality/100))}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),G=(()=>{class m{resetCropperPosition(p,_,x){if(null==p||!p.nativeElement)return;const j=p.nativeElement;if(x.cropperStaticHeight&&x.cropperStaticWidth)_.x1=0,_.x2=j.offsetWidth>x.cropperStaticWidth?x.cropperStaticWidth:j.offsetWidth,_.y1=0,_.y2=j.offsetHeight>x.cropperStaticHeight?x.cropperStaticHeight:j.offsetHeight;else{const Te=Math.min(x.cropperScaledMaxWidth,j.offsetWidth),ot=Math.min(x.cropperScaledMaxHeight,j.offsetHeight);if(x.maintainAspectRatio)if(j.offsetWidth/x.aspectRatio<j.offsetHeight){_.x1=0,_.x2=Te;const Ut=Te/x.aspectRatio;_.y1=(j.offsetHeight-Ut)/2,_.y2=_.y1+Ut}else{_.y1=0,_.y2=ot;const Ut=ot*x.aspectRatio;_.x1=(j.offsetWidth-Ut)/2,_.x2=_.x1+Ut}else _.x1=0,_.x2=Te,_.y1=0,_.y2=ot}}move(p,_,x){const j=this.getClientX(p)-_.clientX,Te=this.getClientY(p)-_.clientY;x.x1=_.x1+j,x.y1=_.y1+Te,x.x2=_.x2+j,x.y2=_.y2+Te}resize(p,_,x,j,Te){const ot=this.getClientX(p)-_.clientX,Ut=this.getClientY(p)-_.clientY;switch(_.position){case"left":x.x1=Math.min(Math.max(_.x1+ot,x.x2-Te.cropperScaledMaxWidth),x.x2-Te.cropperScaledMinWidth);break;case"topleft":x.x1=Math.min(Math.max(_.x1+ot,x.x2-Te.cropperScaledMaxWidth),x.x2-Te.cropperScaledMinWidth),x.y1=Math.min(Math.max(_.y1+Ut,x.y2-Te.cropperScaledMaxHeight),x.y2-Te.cropperScaledMinHeight);break;case"top":x.y1=Math.min(Math.max(_.y1+Ut,x.y2-Te.cropperScaledMaxHeight),x.y2-Te.cropperScaledMinHeight);break;case"topright":x.x2=Math.max(Math.min(_.x2+ot,x.x1+Te.cropperScaledMaxWidth),x.x1+Te.cropperScaledMinWidth),x.y1=Math.min(Math.max(_.y1+Ut,x.y2-Te.cropperScaledMaxHeight),x.y2-Te.cropperScaledMinHeight);break;case"right":x.x2=Math.max(Math.min(_.x2+ot,x.x1+Te.cropperScaledMaxWidth),x.x1+Te.cropperScaledMinWidth);break;case"bottomright":x.x2=Math.max(Math.min(_.x2+ot,x.x1+Te.cropperScaledMaxWidth),x.x1+Te.cropperScaledMinWidth),x.y2=Math.max(Math.min(_.y2+Ut,x.y1+Te.cropperScaledMaxHeight),x.y1+Te.cropperScaledMinHeight);break;case"bottom":x.y2=Math.max(Math.min(_.y2+Ut,x.y1+Te.cropperScaledMaxHeight),x.y1+Te.cropperScaledMinHeight);break;case"bottomleft":x.x1=Math.min(Math.max(_.x1+ot,x.x2-Te.cropperScaledMaxWidth),x.x2-Te.cropperScaledMinWidth),x.y2=Math.max(Math.min(_.y2+Ut,x.y1+Te.cropperScaledMaxHeight),x.y1+Te.cropperScaledMinHeight);break;case"center":const pn=p.scale,cn=Math.min(Math.max(Te.cropperScaledMinWidth,Math.abs(_.x2-_.x1)*pn),Te.cropperScaledMaxWidth),kn=Math.min(Math.max(Te.cropperScaledMinHeight,Math.abs(_.y2-_.y1)*pn),Te.cropperScaledMaxHeight);x.x1=_.clientX-cn/2,x.x2=_.clientX+cn/2,x.y1=_.clientY-kn/2,x.y2=_.clientY+kn/2,x.x1<0?(x.x2-=x.x1,x.x1=0):x.x2>j.width&&(x.x1-=x.x2-j.width,x.x2=j.width),x.y1<0?(x.y2-=x.y1,x.y1=0):x.y2>j.height&&(x.y1-=x.y2-j.height,x.y2=j.height)}Te.maintainAspectRatio&&this.checkAspectRatio(_.position,x,j,Te)}checkAspectRatio(p,_,x,j){let Te=0,ot=0;switch(p){case"top":_.x2=_.x1+(_.y2-_.y1)*j.aspectRatio,Te=Math.max(_.x2-x.width,0),ot=Math.max(0-_.y1,0),(Te>0||ot>0)&&(_.x2-=ot*j.aspectRatio>Te?ot*j.aspectRatio:Te,_.y1+=ot*j.aspectRatio>Te?ot:Te/j.aspectRatio);break;case"bottom":_.x2=_.x1+(_.y2-_.y1)*j.aspectRatio,Te=Math.max(_.x2-x.width,0),ot=Math.max(_.y2-x.height,0),(Te>0||ot>0)&&(_.x2-=ot*j.aspectRatio>Te?ot*j.aspectRatio:Te,_.y2-=ot*j.aspectRatio>Te?ot:Te/j.aspectRatio);break;case"topleft":_.y1=_.y2-(_.x2-_.x1)/j.aspectRatio,Te=Math.max(0-_.x1,0),ot=Math.max(0-_.y1,0),(Te>0||ot>0)&&(_.x1+=ot*j.aspectRatio>Te?ot*j.aspectRatio:Te,_.y1+=ot*j.aspectRatio>Te?ot:Te/j.aspectRatio);break;case"topright":_.y1=_.y2-(_.x2-_.x1)/j.aspectRatio,Te=Math.max(_.x2-x.width,0),ot=Math.max(0-_.y1,0),(Te>0||ot>0)&&(_.x2-=ot*j.aspectRatio>Te?ot*j.aspectRatio:Te,_.y1+=ot*j.aspectRatio>Te?ot:Te/j.aspectRatio);break;case"right":case"bottomright":_.y2=_.y1+(_.x2-_.x1)/j.aspectRatio,Te=Math.max(_.x2-x.width,0),ot=Math.max(_.y2-x.height,0),(Te>0||ot>0)&&(_.x2-=ot*j.aspectRatio>Te?ot*j.aspectRatio:Te,_.y2-=ot*j.aspectRatio>Te?ot:Te/j.aspectRatio);break;case"left":case"bottomleft":_.y2=_.y1+(_.x2-_.x1)/j.aspectRatio,Te=Math.max(0-_.x1,0),ot=Math.max(_.y2-x.height,0),(Te>0||ot>0)&&(_.x1+=ot*j.aspectRatio>Te?ot*j.aspectRatio:Te,_.y2-=ot*j.aspectRatio>Te?ot:Te/j.aspectRatio);break;case"center":_.x2=_.x1+(_.y2-_.y1)*j.aspectRatio,_.y2=_.y1+(_.x2-_.x1)/j.aspectRatio;const Ut=Math.max(0-_.x1,0),pn=Math.max(_.x2-x.width,0),cn=Math.max(_.y2-x.height,0),kn=Math.max(0-_.y1,0);(Ut>0||pn>0||cn>0||kn>0)&&(_.x1+=cn*j.aspectRatio>Ut?cn*j.aspectRatio:Ut,_.x2-=kn*j.aspectRatio>pn?kn*j.aspectRatio:pn,_.y1+=kn*j.aspectRatio>pn?kn:pn/j.aspectRatio,_.y2-=cn*j.aspectRatio>Ut?cn:Ut/j.aspectRatio)}}getClientX(p){var _;return(null===(_=p.touches)||void 0===_?void 0:_[0].clientX)||p.clientX||0}getClientY(p){var _;return(null===(_=p.touches)||void 0===_?void 0:_[0].clientY)||p.clientY||0}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();let He=(()=>{class m{constructor(){this.autoRotateSupported=function U(){return new Promise(m=>{const b=new Image;b.onload=()=>{m(1===b.width&&2===b.height)},b.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(p,_){return new Promise((x,j)=>{const Te=new FileReader;Te.onload=ot=>{this.loadImage(ot.target.result,p.type,_).then(x).catch(j)},Te.readAsDataURL(p)})}loadImage(p,_,x){return this.isValidImageType(_)?this.loadBase64Image(p,x):Promise.reject(new Error("Invalid image type"))}isValidImageType(p){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(p)}loadImageFromURL(p,_){return new Promise((x,j)=>{const Te=new Image;Te.onerror=()=>j,Te.onload=()=>{const ot=document.createElement("canvas"),Ut=ot.getContext("2d");ot.width=Te.width,ot.height=Te.height,null==Ut||Ut.drawImage(Te,0,0),this.loadBase64Image(ot.toDataURL(),_).then(x)},Te.crossOrigin="anonymous",Te.src=p})}loadBase64Image(p,_){return new Promise((x,j)=>{const Te=new Image;Te.onload=()=>x({originalImage:Te,originalBase64:p}),Te.onerror=j,Te.src=p}).then(x=>this.transformImageBase64(x,_))}transformImageBase64(p,_){return(0,he.mG)(this,void 0,void 0,function*(){const x=yield this.autoRotateSupported,j=yield function $(m){switch("string"==typeof m&&(m=function Ae(m){const b=new DataView(function Ne(m){m=m.replace(/^data\:([^\;]+)\;base64,/gim,"");const b=atob(m),p=b.length,_=new Uint8Array(p);for(let x=0;x<p;x++)_[x]=b.charCodeAt(x);return _.buffer}(m));if(65496!==b.getUint16(0,!1))return-2;const p=b.byteLength;let _=2;for(;_<p;){if(b.getUint16(_+2,!1)<=8)return-1;const x=b.getUint16(_,!1);if(_+=2,65505==x){if(1165519206!==b.getUint32(_+=2,!1))return-1;const j=18761==b.getUint16(_+=6,!1);_+=b.getUint32(_+4,j);const Te=b.getUint16(_,j);_+=2;for(let ot=0;ot<Te;ot++)if(274==b.getUint16(_+12*ot,j))return b.getUint16(_+12*ot+8,j)}else{if(65280!=(65280&x))break;_+=b.getUint16(_,!1)}}return-1}(m)),m){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(x?-1:p.originalBase64);return p.originalImage&&p.originalImage.complete?this.transformLoadedImage({original:{base64:p.originalBase64,image:p.originalImage,size:{width:p.originalImage.naturalWidth,height:p.originalImage.naturalHeight}},exifTransform:j},_):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(p,_){return(0,he.mG)(this,void 0,void 0,function*(){const x=_.canvasRotation+p.exifTransform.rotate,j={width:p.original.image.naturalWidth,height:p.original.image.naturalHeight};if(0===x&&!p.exifTransform.flip&&!_.containWithinAspectRatio)return{original:{base64:p.original.base64,image:p.original.image,size:Object.assign({},j)},transformed:{base64:p.original.base64,image:p.original.image,size:Object.assign({},j)},exifTransform:p.exifTransform};const Te=this.getTransformedSize(j,p.exifTransform,_),ot=document.createElement("canvas");ot.width=Te.width,ot.height=Te.height;const Ut=ot.getContext("2d");null==Ut||Ut.setTransform(p.exifTransform.flip?-1:1,0,0,1,ot.width/2,ot.height/2),null==Ut||Ut.rotate(Math.PI*(x/2)),null==Ut||Ut.drawImage(p.original.image,-j.width/2,-j.height/2);const pn=ot.toDataURL(),cn=yield this.loadImageFromBase64(pn);return{original:{base64:p.original.base64,image:p.original.image,size:Object.assign({},j)},transformed:{base64:pn,image:cn,size:{width:cn.width,height:cn.height}},exifTransform:p.exifTransform}})}loadImageFromBase64(p){return new Promise((_,x)=>{const j=new Image;j.onload=()=>_(j),j.onerror=x,j.src=p})}getTransformedSize(p,_,x){const j=x.canvasRotation+_.rotate;if(x.containWithinAspectRatio){if(j%2){const ot=p.height/x.aspectRatio;return{width:Math.max(p.height,p.width*x.aspectRatio),height:Math.max(p.width,ot)}}{const ot=p.width/x.aspectRatio;return{width:Math.max(p.width,p.height*x.aspectRatio),height:Math.max(p.height,ot)}}}return j%2?{height:p.width,width:p.height}:{width:p.width,height:p.height}}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Re=(()=>{class m{constructor(p,_,x,j,Te){this.cropService=p,this.cropperPositionService=_,this.loadImageService=x,this.sanitizer=j,this.cd=Te,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new Q,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Oe,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new s.vpe,this.startCropImage=new s.vpe,this.imageLoaded=new s.vpe,this.cropperReady=new s.vpe,this.loadImageFailed=new s.vpe,this.transformChange=new s.vpe,this.reset()}ngOnChanges(p){var _;this.onChangesUpdateSettings(p),this.onChangesInputImage(p),(null===(_=this.loadedImage)||void 0===_?void 0:_.original.image.complete)&&(p.containWithinAspectRatio||p.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(x=>this.setLoadedImage(x)).catch(x=>this.loadImageError(x)),(p.cropper||p.maintainAspectRatio||p.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!p.maintainAspectRatio&&!p.aspectRatio?p.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),p.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),p.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(p){this.settings.setOptionsFromChanges(p),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(p){(p.imageChangedEvent||p.imageURL||p.imageBase64||p.imageFile)&&this.reset(),p.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),p.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),p.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),p.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var p,_,x;return(null===(x=null===(_=null===(p=this.imageChangedEvent)||void 0===p?void 0:p.target)||void 0===_?void 0:_.files)||void 0===x?void 0:x.length)>0}setCssTransform(){var p;const _=(null===(p=this.transform)||void 0===p?void 0:p.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${_}, ${this.transform.translateV||0}${_}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(p){this.loadImageService.loadImageFile(p,this.settings).then(_=>this.setLoadedImage(_)).catch(_=>this.loadImageError(_))}loadBase64Image(p){this.loadImageService.loadBase64Image(p,this.settings).then(_=>this.setLoadedImage(_)).catch(_=>this.loadImageError(_))}loadImageFromURL(p){this.loadImageService.loadImageFromURL(p,this.settings).then(_=>this.setLoadedImage(_)).catch(_=>this.loadImageError(_))}setLoadedImage(p){this.loadedImage=p,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(p.transformed.base64),this.cd.markForCheck()}loadImageError(p){console.error(p),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var p,_;return(null===(_=null===(p=this.sourceImage)||void 0===p?void 0:p.nativeElement)||void 0===_?void 0:_.offsetWidth)>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const p=new this.Hammer(this.wrapper.nativeElement);p.get("pinch").set({enable:!0}),p.on("pinchmove",this.onPinch.bind(this)),p.on("pinchend",this.pinchStop.bind(this)),p.on("pinchstart",this.startPinch.bind(this))}else(0,s.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const p=this.sourceImage.nativeElement;(this.maxSize.width!==p.offsetWidth||this.maxSize.height!==p.offsetHeight)&&(this.cropper.x1=this.cropper.x1*p.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*p.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*p.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*p.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(p){this.changeKeyboardStepSize(p),this.keyboardMoveCropper(p)}changeKeyboardStepSize(p){const _=+p.key;_>=1&&_<=9&&(this.settings.stepSize=_)}keyboardMoveCropper(p){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(p.key))return;const x=p.shiftKey?Oe.Resize:Oe.Move,j=p.altKey?function P(m){switch(m){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(p.key):function le(m){switch(m){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(p.key),Te=function N(m,b){switch(m){case"ArrowUp":return{clientX:0,clientY:-1*b};case"ArrowRight":return{clientX:b,clientY:0};case"ArrowDown":return{clientX:0,clientY:b};default:return{clientX:-1*b,clientY:0}}}(p.key,this.settings.stepSize);p.preventDefault(),p.stopPropagation(),this.startMove({clientX:0,clientY:0},x,j),this.moveImg(Te),this.moveStop()}startMove(p,_,x=null){var j,Te;this.disabled||(null===(j=this.moveStart)||void 0===j?void 0:j.active)&&(null===(Te=this.moveStart)||void 0===Te?void 0:Te.type)===Oe.Pinch||_===Oe.Drag&&!this.allowMoveImage||(p.preventDefault&&p.preventDefault(),this.moveStart=Object.assign({active:!0,type:_,position:x,transform:Object.assign({},this.transform),clientX:this.cropperPositionService.getClientX(p),clientY:this.cropperPositionService.getClientY(p)},this.cropper))}startPinch(p){!this.safeImgDataUrl||(p.preventDefault&&p.preventDefault(),this.moveStart=Object.assign({active:!0,type:Oe.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(p){var _,x;if(this.moveStart.active){if(p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault(),this.moveStart.type===Oe.Move)this.cropperPositionService.move(p,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Oe.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(p,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Oe.Drag){const j=this.cropperPositionService.getClientX(p)-this.moveStart.clientX,Te=this.cropperPositionService.getClientY(p)-this.moveStart.clientY;this.transform=Object.assign(Object.assign({},this.transform),{translateH:((null===(_=this.moveStart.transform)||void 0===_?void 0:_.translateH)||0)+j,translateV:((null===(x=this.moveStart.transform)||void 0===x?void 0:x.translateV)||0)+Te}),this.setCssTransform()}this.cd.detectChanges()}}onPinch(p){this.moveStart.active&&(p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault(),this.moveStart.type===Oe.Pinch&&(this.cropperPositionService.resize(p,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const p=this.sourceImage.nativeElement;this.maxSize.width=p.offsetWidth,this.maxSize.height=p.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var p,_;null!==(_=null===(p=this.loadedImage)||void 0===p?void 0:p.transformed)&&void 0!==_&&_.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var p,_;if(null!==(_=null===(p=this.loadedImage)||void 0===p?void 0:p.transformed)&&void 0!==_&&_.image){const x=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/x:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/x:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(p=!1){this.cropper.x1<0&&(this.cropper.x2-=p?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=p?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=p?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=p?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var p;this.moveStart.active&&(this.moveStart.active=!1,(null===(p=this.moveStart)||void 0===p?void 0:p.type)===Oe.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var p,_;if(null!=(null===(_=null===(p=this.loadedImage)||void 0===p?void 0:p.transformed)||void 0===_?void 0:_.image)){this.startCropImage.emit();const x=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=x&&this.imageCropped.emit(x),x}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(ye),s.Y36(G),s.Y36(He),s.Y36(ne.H7),s.Y36(s.sBO))},m.\u0275cmp=s.Xpm({type:m,selectors:[["image-cropper"]],viewQuery:function(p,_){if(1&p&&(s.Gf(De,7),s.Gf(ue,5)),2&p){let x;s.iGM(x=s.CRH())&&(_.wrapper=x.first),s.iGM(x=s.CRH())&&(_.sourceImage=x.first)}},hostVars:6,hostBindings:function(p,_){1&p&&s.NdJ("resize",function(){return _.onResize()},!1,s.Jf7)("mousemove",function(j){return _.moveImg(j)},!1,s.evT)("touchmove",function(j){return _.moveImg(j)},!1,s.evT)("mouseup",function(){return _.moveStop()},!1,s.evT)("touchend",function(){return _.moveStop()},!1,s.evT),2&p&&(s.Udp("text-align",_.alignImage),s.ekj("disabled",_.disabled)("ngx-ix-hidden",_.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[s.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(p,_){1&p&&(s.TgZ(0,"div",null,0),s.YNc(2,ge,2,8,"img",1),s._UZ(3,"div",2),s.YNc(4,ke,3,15,"div",3),s.qZA()),2&p&&(s.Udp("background",_.imageVisible&&_.backgroundColor),s.xp6(2),s.Q6J("ngIf",_.safeImgDataUrl),s.xp6(1),s.Udp("width",_.maxSize.width,"px")("height",_.maxSize.height,"px")("margin-left","center"===_.alignImage?_.marginLeft:null),s.xp6(1),s.Q6J("ngIf",_.imageVisible))},dependencies:[e.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),m})(),gt=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({imports:[[e.ez]]}),m})();var Pe=C(5072);function We(m,b){1&m&&s.GkF(0)}function J(m,b){1&m&&(s.TgZ(0,"div",23),s._UZ(1,"i",24),s.qZA())}function de(m,b){if(1&m&&s._UZ(0,"img",25),2&m){const p=s.oxw();s.Q6J("src",p.croppedImage,s.LSH)}}function Qe(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"p-button",26),s.NdJ("onClick",function(){s.CHM(p);const x=s.oxw();return s.KtG(x.notifyService.showSideBar())}),s.qZA()}}function re(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"span",27)(1,"p-button",28),s.NdJ("onClick",function(){s.CHM(p);const x=s.oxw();return s.KtG(x.notifyService.showSideBar())}),s.qZA()()}if(2&m){const p=s.oxw();s.Q6J("value",p.notifyService.unreadCount.toString())}}const Ve=function(){return{maxWidth:"40vw",minWidth:"15rem",height:"fit-content"}};let Me=(()=>{class m{constructor(p,_,x,j){this.personality=p,this.router=_,this.api=x,this.notifyService=j,this.avatarChangeDialogVisible=!1,this.controls=[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",command:()=>this.avatarChangeDialogVisible=!0},{label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},{label:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",command:this.exitFromAccount.bind(this)}],this.imageChangedEvent="",this.croppedImage="",this.avatarUpload=!1}ngOnInit(){}exitFromAccount(){this.api.signOut().subscribe(()=>{this.router.navigate(["/login"]).then()})}imageCropped(p){this.croppedImage=p.base64}imageLoaded(p){}cropperReady(){}loadImageFailed(){}saveAvatar(){!this.croppedImage||(this.avatarUpload=!0,this.api.setAvatar(this.croppedImage).subscribe({next:()=>{this.avatarUpload=!1,this.avatarChangeDialogVisible=!1,this.imageChangedEvent=void 0},error:()=>{this.avatarUpload=!1}}))}selectFile(p){p.click()}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(f.F),s.Y36(V.F0),s.Y36(F.s),s.Y36(I.T))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-account-panel"]],decls:29,vars:29,consts:[[1,"flexed","hcenter","gap5","wrapper"],[3,"name","size","src"],[1,"flexed","column","account"],[1,"account-name"],[1,"account-position"],["icon","mdi-more_vert","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],[4,"ngIf","ngIfThen","ngIfElse"],["appendTo","body","header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",3,"visible","draggable","modal","resizable","visibleChange"],[1,"avatar-change-content"],[1,"flexed","gap10","p5","hcenter","vcenter"],[1,"preview-wrapper"],["class","preview unselect",4,"ngIf"],["class","preview","alt","",3,"src",4,"ngIf"],[1,"flexed","column","gap5"],["label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-image","styleClass","p-button-text p-button-secondary",3,"disabled","onClick"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","icon","mdi-upload",3,"loading","disabled","onClick"],["type","file","accept","image/jpeg, image/png, image/jpg, image/bmp",3,"change"],["fileInput",""],["format","png",3,"aspectRatio","cropperMinWidth","cropperMinHeight","imageChangedEvent","maintainAspectRatio","cropperReady","imageCropped","imageLoaded","loadImageFailed"],[3,"model","popup"],["menu",""],["emptyNoti",""],["fullNoti",""],[1,"preview","unselect"],[1,"mdi-image"],["alt","",1,"preview",3,"src"],["icon","mdi-notifications_none","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"],["pBadge","","severity","warning",3,"value"],["icon","mdi-notifications_active","styleClass","p-button-text p-button-icon p-button-rounded",3,"onClick"]],template:function(p,_){if(1&p){const x=s.EpF();s.TgZ(0,"div",0),s._UZ(1,"app-avatar",1),s.TgZ(2,"div",2)(3,"span",3),s._uU(4),s.qZA(),s.TgZ(5,"span",4),s._uU(6),s.qZA()(),s.TgZ(7,"p-button",5),s.NdJ("onClick",function(Te){s.CHM(x);const ot=s.MAs(24);return s.KtG(ot.toggle(Te))}),s.qZA(),s.YNc(8,We,1,0,"ng-container",6),s.qZA(),s.TgZ(9,"p-dialog",7),s.NdJ("visibleChange",function(Te){return _.avatarChangeDialogVisible=Te}),s.TgZ(10,"div",8)(11,"div",9)(12,"div",10),s.YNc(13,J,2,0,"div",11),s.YNc(14,de,1,1,"img",12),s.TgZ(15,"span"),s._uU(16," \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 "),s.qZA()(),s.TgZ(17,"div",13)(18,"p-button",14),s.NdJ("onClick",function(){s.CHM(x);const Te=s.MAs(21);return s.KtG(_.selectFile(Te))}),s.qZA(),s.TgZ(19,"p-button",15),s.NdJ("onClick",function(){return _.saveAvatar()}),s.qZA()(),s.TgZ(20,"input",16,17),s.NdJ("change",function(Te){return _.imageChangedEvent=Te}),s.qZA()(),s.TgZ(22,"image-cropper",18),s.NdJ("cropperReady",function(){return _.cropperReady()})("imageCropped",function(Te){return _.imageCropped(Te)})("imageLoaded",function(Te){return _.imageLoaded(Te)})("loadImageFailed",function(){return _.loadImageFailed()}),s.qZA()()(),s._UZ(23,"p-menu",19,20),s.YNc(25,Qe,1,0,"ng-template",null,21,s.W1O),s.YNc(27,re,2,1,"ng-template",null,22,s.W1O)}if(2&p){const x=s.MAs(26),j=s.MAs(28);s.xp6(1),s.Q6J("name",null==_.personality.me?null:_.personality.me.fullName)("size",3)("src",null==_.personality.me?null:_.personality.me.avatar),s.xp6(3),s.Oqu(null==_.personality.me?null:_.personality.me.fullName),s.xp6(2),s.Oqu(null==_.personality.me||null==_.personality.me.position?null:_.personality.me.position.name),s.xp6(2),s.Q6J("ngIf",_.notifyService.isHasUnread)("ngIfThen",j)("ngIfElse",x),s.xp6(1),s.Q6J("visible",_.avatarChangeDialogVisible)("draggable",!1)("modal",!0)("resizable",!1),s.xp6(4),s.Q6J("ngIf",!_.croppedImage),s.xp6(1),s.Q6J("ngIf",_.croppedImage),s.xp6(4),s.Q6J("disabled",_.avatarUpload),s.xp6(1),s.Q6J("loading",_.avatarUpload)("disabled",!_.croppedImage),s.xp6(1),s.Udp("display","none"),s.xp6(2),s.Akn(s.DdM(28,Ve)),s.Q6J("aspectRatio",1)("cropperMinWidth",64)("cropperMinHeight",64)("imageChangedEvent",_.imageChangedEvent)("maintainAspectRatio",!0),s.xp6(1),s.Q6J("model",_.controls)("popup",!0)}},dependencies:[e.O5,L.v2,se.zx,q.V,z.lM,Re,Pe.A],styles:[".avatar-change-content[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]{display:grid;gap:1rem}.avatar-change-content[_ngcontent-%COMP%]   .avatar-change-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.preview-wrapper[_ngcontent-%COMP%]{display:grid;gap:.5rem;background-color:var(--bgc-100);border-radius:1rem;color:var(--tc-600);justify-items:center;padding:1rem;font-weight:700}.preview-wrapper[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:6rem;height:6rem;border-radius:50%;object-fit:cover;object-position:center}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]{background-color:var(--bgc-400);border:1px solid var(--bgc-500);color:#fff;font-size:1.5rem;position:relative}.preview-wrapper[_ngcontent-%COMP%]   .preview.unselect[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;transform-origin:center;top:50%;left:50%;transform:translate(-50%,-50%)}.account-name[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1.1rem;white-space:nowrap}.account-position[_ngcontent-%COMP%]{color:var(--tc-500);font-size:.9rem}.cropper-style[_ngcontent-%COMP%]{min-width:20rem;min-height:20rem;max-width:50vw;max-height:50vh;border:1px solid var(--bgc-300);border-radius:.5rem;overflow:hidden}.avatar-preview[_ngcontent-%COMP%]{width:10rem;height:10rem;margin-top:.5rem;overflow:hidden;border-radius:50%;display:grid;grid:1fr/1fr;outline:var(--bgc-300) solid 2px;outline-offset:1px}.avatar-preview[_ngcontent-%COMP%] > .ph[_ngcontent-%COMP%]{background-color:var(--bgc-500);color:#fff;font-weight:500}.avatar-preview[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:inherit;height:inherit}.avatar-preview-image[_ngcontent-%COMP%]{width:inherit;height:inherit;z-index:1}.noti[_ngcontent-%COMP%]{margin:0}"]}),m})();var Fe=C(446),$e=C(4304),R=C(538);const it=["parentWrapper"],Le=["titleElement"],Et=function(m){return{rotated:m}};function un(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"span",8),s.NdJ("click",function(){s.CHM(p);const x=s.oxw();return s.KtG(x.toggleExtend())}),s._uU(1,"expand_more"),s.qZA()}if(2&m){const p=s.oxw();s.Q6J("ngClass",s.VKq(1,Et,p._isExtended))}}function Cn(m,b){if(1&m&&s._UZ(0,"app-sub-extended-menu-item",9),2&m){const p=b.$implicit;let _;s.Q6J("caption",p.label)("link",p.link)("children",p.children)("nLevel",(null!==(_=p.nestingLevel)&&void 0!==_?_:0)+1)}}const Ot=function(m){return{"can-extend":m}},en=function(m){return{show:m}},at=function(){return[]};let Pt=(()=>{class m{constructor(p){this.route=p,this.caption="",this._isExtended=!1}set isExtended(p){this._isExtended=p,this.extending()}ngOnInit(){}ngAfterViewInit(){!this.hasElements()||this.extending()}toggleExtend(){!this.hasElements()||(this.isExtended=!this._isExtended)}extending(){var p;null===(p=this.parentWrapper)||void 0===p||!p.nativeElement||(this._isExtended?(this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",this.animationTimer=setTimeout(()=>{this._isExtended&&(this.parentWrapper.nativeElement.style.height="auto"),this.animationTimer=void 0},200)):(this.animationTimer&&clearTimeout(this.animationTimer),this.parentWrapper.nativeElement.style.height=this.parentWrapper.nativeElement.scrollHeight+"px",setTimeout(()=>{this.parentWrapper.nativeElement.style.height=this.titleElement.nativeElement.offsetHeight+"px"})))}hasElements(){return this.parentWrapper&&this.titleElement}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(V.gz))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-sub-extended-menu-item"]],viewQuery:function(p,_){if(1&p&&(s.Gf(it,5),s.Gf(Le,5)),2&p){let x;s.iGM(x=s.CRH())&&(_.parentWrapper=x.first),s.iGM(x=s.CRH())&&(_.titleElement=x.first)}},inputs:{caption:"caption",link:"link",children:"children",nLevel:"nLevel",isExtended:"isExtended"},decls:9,vars:11,consts:[[1,"parent-wrapper"],["parentWrapper",""],[1,"flexed","title",3,"ngClass"],["class","material-icons-round title-expanded-icon",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active",1,"item",3,"routerLink"],["titleElement",""],[1,"child-wrapper",3,"ngClass"],[3,"caption","link","children","nLevel",4,"ngFor","ngForOf"],[1,"material-icons-round","title-expanded-icon",3,"ngClass","click"],[3,"caption","link","children","nLevel"]],template:function(p,_){if(1&p&&(s.TgZ(0,"div",0,1)(2,"div",2),s.YNc(3,un,2,3,"span",3),s.TgZ(4,"div",4,5),s._uU(6),s.qZA()(),s.TgZ(7,"div",6),s.YNc(8,Cn,1,4,"app-sub-extended-menu-item",7),s.qZA()()),2&p){let x;s.xp6(2),s.Q6J("ngClass",s.VKq(6,Ot,_.children)),s.xp6(1),s.Q6J("ngIf",_.children),s.xp6(1),s.Q6J("routerLink",_.link),s.xp6(2),s.hij(" ",_.caption," "),s.xp6(1),s.Q6J("ngClass",s.VKq(8,en,_._isExtended)),s.xp6(1),s.Q6J("ngForOf",null!==(x=_.children)&&void 0!==x?x:s.DdM(10,at))}},dependencies:[e.mk,e.sg,e.O5,V.rH,V.Od,m],styles:[".item[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--tc-500);padding:.2rem 0;transition:color .2s ease-out;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.item.active[_ngcontent-%COMP%]{color:var(--mc-500)}.item.can-extend[_ngcontent-%COMP%]{transform:translate(-.8rem)}.title-expanded-icon[_ngcontent-%COMP%]{color:var(--bgc-400);cursor:pointer;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(1,-.6,0,1.65),color .2s ease-out;transform:rotate(270deg)}.title-expanded-icon.rotated[_ngcontent-%COMP%]{transform:rotate(0);color:var(--mc-500)}.title-expanded-icon[_ngcontent-%COMP%]:hover{color:var(--bgc-600)}.item[_ngcontent-%COMP%]:hover{color:var(--tc-700)}.parent-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:2rem;overflow:hidden;padding-left:1.5rem;transition:height .2s ease-out}.child-wrapper[_ngcontent-%COMP%]{padding-left:2rem;opacity:0;transition:opacity .3s ease-out}.child-wrapper.show[_ngcontent-%COMP%]{opacity:1}"]}),m})();var Bt=C(6502),tn=C(4e3),ft=C(3064),ei=C(6198),qn=C(9936);function Ht(m,b){1&m&&s.GkF(0)}function mt(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",4),s.NdJ("click",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.hide(x))}),s.YNc(1,Ht,1,0,"ng-container",5),s.qZA()}if(2&m){s.oxw();const p=s.MAs(2);s.xp6(1),s.Q6J("ngTemplateOutlet",p)}}function Ze(m,b){1&m&&(s.TgZ(0,"div",13),s._UZ(1,"p-progressSpinner",14),s.qZA())}function It(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",15),s.NdJ("mouseenter",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.showNavigation="unfade")})("mouseleave",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.showNavigation="fade")}),s.TgZ(1,"div",16),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",18),s._uU(5),s.qZA(),s.TgZ(6,"div",19),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&m){const p=s.oxw(3);s.xp6(1),s.Q6J("@fadeAlt",p.showNavigation),s.xp6(3),s.Q6J("@fadeFullAlt",p.showNavigation),s.xp6(1),s.AsE(" ",p.albumIndex+1," / ",p.mediaAlbum.length," "),s.xp6(1),s.Q6J("@fadeAlt",p.showNavigation)}}function M(m,b){1&m&&s._UZ(0,"ng-component")}function _e(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",9),s.YNc(1,Ze,2,0,"div",10),s.TgZ(2,"img",11),s.NdJ("error",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.imageLoadError(x))})("load",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.imageLoad(x))}),s.qZA(),s.YNc(3,It,9,5,"div",12),s.YNc(4,M,1,0,"ng-component",5),s.qZA()}if(2&m){const p=s.oxw(2),_=s.MAs(4);s.xp6(1),s.Q6J("ngIf",p.imageLoadingIndicator),s.xp6(1),s.Q6J("src","/api/private/attachment/"+(null==p.media?null:p.media.name),s.LSH),s.xp6(1),s.Q6J("ngIf",p.mediaAlbum&&p.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",_)}}function Ie(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",24)(1,"div",25),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",26),s._uU(5),s.qZA(),s.TgZ(6,"div",27),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&m){const p=s.oxw(3);s.xp6(5),s.AsE(" ",p.albumIndex+1," / ",p.mediaAlbum.length," ")}}function Xe(m,b){1&m&&s._UZ(0,"ng-component")}const Rt=function(m){return{"controls-out":m}};function Qt(m,b){if(1&m&&(s.TgZ(0,"div",20)(1,"div",21),s._UZ(2,"video",22),s.YNc(3,Ie,9,2,"div",23),s.qZA(),s.YNc(4,Xe,1,0,"ng-component",5),s.qZA()),2&m){const p=s.oxw(2),_=s.MAs(4);s.xp6(2),s.Q6J("ngClass",s.VKq(5,Rt,!(p.mediaAlbum&&p.mediaAlbum.length>1)))("controls",!0)("src","/api/private/attachment/"+(null==p.media?null:p.media.name),s.LSH),s.xp6(1),s.Q6J("ngIf",p.mediaAlbum&&p.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",_)}}function nn(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",31)(1,"div",32),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.goPrev())}),s.TgZ(2,"span",17),s._uU(3,"arrow_back_ios"),s.qZA()(),s.TgZ(4,"div",33),s._uU(5),s.qZA(),s.TgZ(6,"div",34),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.goNext())}),s.TgZ(7,"span",17),s._uU(8,"arrow_forward_ios"),s.qZA()()()}if(2&m){const p=s.oxw(3);s.xp6(5),s.AsE(" ",p.albumIndex+1," / ",p.mediaAlbum.length," ")}}function nt(m,b){1&m&&s._UZ(0,"ng-component")}function xt(m,b){if(1&m&&(s.TgZ(0,"div",28),s._UZ(1,"audio",29),s.YNc(2,nn,9,2,"div",30),s.YNc(3,nt,1,0,"ng-component",5),s.qZA()),2&m){const p=s.oxw(2),_=s.MAs(4);s.xp6(1),s.Q6J("controls",!0)("src","/api/private/attachment/"+(null==p.media?null:p.media.name),s.LSH),s.xp6(1),s.Q6J("ngIf",p.mediaAlbum&&p.mediaAlbum.length>1),s.xp6(1),s.Q6J("ngTemplateOutlet",_)}}function ee(m,b){1&m&&(s.YNc(0,_e,5,4,"div",6),s.YNc(1,Qt,5,7,"div",7),s.YNc(2,xt,4,4,"div",8)),2&m&&(s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"))}function ze(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",35)(1,"span",36),s._uU(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435"),s.qZA(),s.TgZ(3,"div",37)(4,"div",38)(5,"span",39),s._uU(6,"\u0418\u043c\u044f"),s.qZA(),s.TgZ(7,"span",40),s._uU(8),s.qZA()(),s.TgZ(9,"div",38)(10,"span",39),s._uU(11,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430"),s.qZA(),s.TgZ(12,"span",40),s._uU(13),s.qZA()(),s.TgZ(14,"div",38)(15,"span",39),s._uU(16,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),s.qZA(),s.TgZ(17,"span",40),s._uU(18),s.ALo(19,"date"),s.qZA()(),s.TgZ(20,"div",38)(21,"span",39),s._uU(22,"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),s.qZA(),s.TgZ(23,"span",40),s._uU(24),s.ALo(25,"date"),s.qZA()()(),s._UZ(26,"div",41),s.TgZ(27,"app-button",42),s.NdJ("onClick",function(){s.CHM(p);const x=s.MAs(29);return s.KtG(x.click())}),s.qZA(),s._UZ(28,"a",43,44),s.qZA()}if(2&m){const p=s.oxw();let _;s.xp6(8),s.Oqu(null==p.media?null:p.media.name),s.xp6(5),s.hij("",((null!==(_=null==p.media?null:p.media.size)&&void 0!==_?_:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442"),s.xp6(5),s.Oqu(s.lcZ(19,8,null==p.media?null:p.media.modified)),s.xp6(6),s.Oqu(s.lcZ(25,10,null==p.media?null:p.media.created)),s.xp6(4),s.Udp("display","none"),s.Q6J("download",null==p.media?null:p.media.name)("href","/api/private/attachment/"+(null==p.media?null:p.media.name),s.LSH)}}let dt=(()=>{class m{constructor(p){this.service=p,this.showFullscreen=!1,this.albumIndex=0,this.showNavigation="fade",this.imageLoadingIndicator=!0}ngOnInit(){this.service.media().subscribe({next:p=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.media=p,this.albumIndex=0,this.mediaAlbum=void 0}}),this.service.mediaAlbum().subscribe({next:p=>{this.imageLoadingIndicator=!0,this.showFullscreen=!0,this.albumIndex=p.index,this.mediaAlbum=p.album,this.media=this.mediaAlbum[this.albumIndex]}})}hide(p){p.target===p.currentTarget&&(this.showFullscreen=!1)}imageLoad(p){this.imageLoadingIndicator=!1,console.log("Loadend:",p)}imageLoadError(p){console.log("Load error:",p)}goPrev(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex>0?this.media=this.mediaAlbum[--this.albumIndex]:(this.albumIndex=this.mediaAlbum.length-1,this.media=this.mediaAlbum[this.albumIndex]))}goNext(){this.mediaAlbum&&this.mediaAlbum.length>0&&(this.albumIndex<this.mediaAlbum.length-1?this.media=this.mediaAlbum[++this.albumIndex]:(this.albumIndex=0,this.media=this.mediaAlbum[this.albumIndex]))}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(ft.E))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-media-viewer"]],decls:5,vars:2,consts:[["class","page-cover",3,"click",4,"ngIf"],[3,"ngSwitch"],["content",""],["metadata",""],[1,"page-cover",3,"click"],[4,"ngTemplateOutlet"],["class","photo-view",4,"ngSwitchCase"],["class","video-view",4,"ngSwitchCase"],["class","audio-view",4,"ngSwitchCase"],[1,"photo-view"],["class","image-loading-indicator",4,"ngIf"],[3,"src","error","load"],["class","navigation",3,"mouseenter","mouseleave",4,"ngIf"],[1,"image-loading-indicator"],[1,"white-spinner"],[1,"navigation",3,"mouseenter","mouseleave"],[1,"navigation-button","back",3,"click"],[1,"material-icons-round"],[1,"navigation-counter"],[1,"navigation-button","forward",3,"click"],[1,"video-view"],[1,"video-wrapper"],[3,"ngClass","controls","src"],["class","video-navigation",4,"ngIf"],[1,"video-navigation"],[1,"video-navigation-button","back",3,"click"],[1,"video-navigation-counter"],[1,"video-navigation-button","forward",3,"click"],[1,"audio-view"],[3,"controls","src"],["class","audio-navigation",4,"ngIf"],[1,"audio-navigation"],[1,"audio-navigation-button","back",3,"click"],[1,"audio-navigation-counter"],[1,"audio-navigation-button","forward",3,"click"],[1,"metadata"],[1,"caption","size-big"],[1,"flexed","column","gap3","p5"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-small","f-inline"],[1,"stretched"],["icon","download","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[3,"download","href"],["downloadLink",""]],template:function(p,_){1&p&&(s.YNc(0,mt,2,1,"div",0),s.YNc(1,ee,3,3,"ng-template",1,2,s.W1O),s.YNc(3,ze,30,12,"ng-template",null,3,s.W1O)),2&p&&(s.Q6J("ngIf",_.showFullscreen),s.xp6(1),s.Q6J("ngSwitch",null==_.media?null:_.media.type))},dependencies:[e.mk,e.O5,e.tP,e.RF,e.n9,V.fw,ei.G,Fe.r,qn.h,e.uU],styles:[".page-cover[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000b3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:1101}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .image-loading-indicator[_ngcontent-%COMP%]{min-width:50vw;min-height:40vh;width:100%;height:100%;background-color:var(--bgc-200);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:2rem;grid-area:1/1/2/2;border-radius:.5rem 0 0 .5rem}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;object-fit:cover;object-position:center}.page-cover[_ngcontent-%COMP%]   .photo-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:1fr 20rem;margin:3rem;align-items:center;justify-content:center;width:max-content;height:max-content;max-width:90vw;max-height:90vh;min-height:20rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-area:1/1/2/2;width:100%;height:100%;border-radius:.5rem 0 0 .5rem;min-width:5rem;min-height:5rem;max-height:93vh;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:calc(100% - 4rem);background-color:#000}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   video.controls-out[_ngcontent-%COMP%]{height:100%!important}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;height:4rem;background-color:#fff}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .video-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .video-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;border-radius:0 .5rem .5rem 0;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]{display:flex;padding-top:1rem;gap:.5rem;flex-direction:column;align-items:center;width:max-content;height:max-content;background-color:#fff;border-radius:1rem;overflow:hidden}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation[_ngcontent-%COMP%]{display:flex;flex:1;padding:.5rem;align-self:stretch;align-items:center}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-counter[_ngcontent-%COMP%]{color:var(--tc-600);width:max-content;height:max-content;font-size:1.2rem;font-weight:500}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;display:flex;align-items:center;flex:1;color:var(--tc-600);transition:color .2s ease-out}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .audio-navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start}.page-cover[_ngcontent-%COMP%]   .audio-view[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{height:100%;min-width:20rem;background-color:#fff;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.navigation[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;grid-area:1/1/2/2}.navigation-counter[_ngcontent-%COMP%]{color:var(--tc-100);width:max-content;height:max-content;align-self:flex-end;margin-bottom:2rem;font-size:1.2rem;font-weight:500;text-shadow:0 0 4px rgba(0,0,0,.3)}.navigation-button[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;padding:1rem;display:flex;align-items:center;flex:1;opacity:.2;transition:opacity .2s ease-out;color:var(--tc-100)}.navigation-button[_ngcontent-%COMP%]:hover{opacity:1!important}.navigation-button.forward[_ngcontent-%COMP%]{justify-content:flex-end;background:linear-gradient(90deg,rgba(0,0,0,0),rgba(0,0,0,.15))}.navigation-button.back[_ngcontent-%COMP%]{justify-content:flex-start;background:linear-gradient(270deg,rgba(0,0,0,0),rgba(0,0,0,.15))}"],data:{animation:[tn.PJ,tn.mo]}}),m})();var bt=C(4881),sn=C(2382),ni=C(4036),Ui=C(7010),kt=C(3407),an=C(3725),tt=C(7773),At=C(1424),qt=C(2537),Kt=C(9925),vn=C(4500),Rn=C(1886);const pi=["one"],Ai=["two"],Ki=["three"],Ke=["four"];let ie=(()=>{class m{constructor(){this._ipValue=[],this.onBlur=new s.vpe,this.propagateChange=p=>{}}get ipValue(){return this._ipValue.join(".")}set ipValue(p){this._ipValue=this.ipFormat(p),this.propagateChange(this.ipValue),this.one&&(this.one.nativeElement.value=this._ipValue[0].toString()),this.two&&(this.two.nativeElement.value=this._ipValue[1].toString()),this.three&&(this.three.nativeElement.value=this._ipValue[2].toString()),this.four&&(this.four.nativeElement.value=this._ipValue[3].toString())}ipFormat(p){return p?p.trim().split(".").map(x=>{let j=parseInt(x.replace(/\D/g,""));return isNaN(j)||j<0?0:j>255?255:j}).slice(0,4):[0,0,0,0]}registerOnChange(p){this.propagateChange=p}registerOnTouched(){}writeValue(p){p&&(this.ipValue="0.0.0.0"),this.ipValue=p}octetChange(p,_){const x=_.target;this._ipValue[p]=parseInt(x.value),this.ipValue=this._ipValue.join("."),x.value=this._ipValue[p].toString()}octetFocus(p){p.target.select()}octetKeyUp(p,_){(" "===_.key||","===_.key||"."===_.key||3===_.target.value.length)&&(0===p?this.two.nativeElement.focus():1===p?this.three.nativeElement.focus():2===p&&this.four.nativeElement.focus())}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-ip-input"]],viewQuery:function(p,_){if(1&p&&(s.Gf(pi,5),s.Gf(Ai,5),s.Gf(Ki,5),s.Gf(Ke,5)),2&p){let x;s.iGM(x=s.CRH())&&(_.one=x.first),s.iGM(x=s.CRH())&&(_.two=x.first),s.iGM(x=s.CRH())&&(_.three=x.first),s.iGM(x=s.CRH())&&(_.four=x.first)}},inputs:{ipValue:"ipValue"},outputs:{onBlur:"onBlur"},features:[s._Bn([{provide:sn.JU,useExisting:(0,s.Gpc)(()=>m),multi:!0}])],decls:15,vars:0,consts:[[1,"node","flexed","octet-wrapper",3,"blur"],[1,"octet-input",3,"focus","input","keyup"],["one",""],["two",""],["three",""],["four",""]],template:function(p,_){1&p&&(s.TgZ(0,"fieldset",0),s.NdJ("blur",function(){return _.onBlur.emit()}),s.TgZ(1,"input",1,2),s.NdJ("focus",function(j){return _.octetFocus(j)})("input",function(j){return _.octetChange(0,j)})("keyup",function(j){return _.octetKeyUp(0,j)}),s.qZA(),s.TgZ(3,"span"),s._uU(4,"."),s.qZA(),s.TgZ(5,"input",1,3),s.NdJ("focus",function(j){return _.octetFocus(j)})("input",function(j){return _.octetChange(1,j)})("keyup",function(j){return _.octetKeyUp(1,j)}),s.qZA(),s.TgZ(7,"span"),s._uU(8,"."),s.qZA(),s.TgZ(9,"input",1,4),s.NdJ("focus",function(j){return _.octetFocus(j)})("input",function(j){return _.octetChange(2,j)})("keyup",function(j){return _.octetKeyUp(2,j)}),s.qZA(),s.TgZ(11,"span"),s._uU(12,"."),s.qZA(),s.TgZ(13,"input",1,5),s.NdJ("focus",function(j){return _.octetFocus(j)})("input",function(j){return _.octetChange(3,j)})("keyup",function(j){return _.octetKeyUp(3,j)}),s.qZA()())},styles:[".octet-wrapper[_ngcontent-%COMP%]{width:max-content;padding:.7rem!important;transition:border-color .15s ease-in-out}.octet-wrapper[_ngcontent-%COMP%]:focus-within{border:1px solid var(--primary-color)!important;box-shadow:var(--focus-ring)}.octet-wrapper[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-color)!important}.octet-input[_ngcontent-%COMP%]{padding:0;border:none;outline:none;width:3rem;text-align:center;font-size:1.1rem}"]}),m})();var B=C(1828),oe=C(1208),xe=C(9354),Ct=C(3640),Dt=C(5845),St=C(2340);function ln(){const m=new Dt.f;return m.configure((()=>{var m;return console.log(localStorage.getItem("token")),{brokerURL:St.N.wsHost,connectHeaders:{passcode:"guest",login:null!==(m=localStorage.getItem("token"))&&void 0!==m?m:""},heartbeatIncoming:0,heartbeatOutgoing:2e4,reconnectDelay:200,debug:b=>{}}})()),m.activate(),m}var hn=C(2777),mn=C(6526),yn=C(7307),xn=C(6888),Kn=C(9618),Si=C(9477),ki=C(1588);const bn=function(){return{width:"100%"}};function Ti(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",3)(1,"p-inputMask",4),s.NdJ("ngModelChange",function(x){const Te=s.CHM(p).$implicit,ot=s.oxw();return s.KtG(ot.controlValue[Te.key]=x)})("ngModelChange",function(x){const Te=s.CHM(p).$implicit,ot=s.oxw();return ot.controlValue[Te.key]=x,s.KtG(ot.onChange(ot.controlValue))})("onBlur",function(){s.CHM(p);const x=s.oxw();return s.KtG(x.onBlur.emit())}),s.qZA(),s.TgZ(2,"button",5),s.NdJ("click",function(){const j=s.CHM(p).$implicit,Te=s.oxw();return s.KtG(Te.removePhone(j.key))}),s.qZA()()}if(2&m){const p=b.$implicit,_=s.oxw();s.xp6(1),s.Akn(s.DdM(4,bn)),s.Q6J("ngModel",_.controlValue[p.key]),s.xp6(1),s.Q6J("disabled",_.count<2)}}let po=(()=>{class m{constructor(){this.controlValue={},this.onBlur=new s.vpe,this.onChange=p=>{},this.onTouched=()=>{}}get count(){return this.controlValue?Object.keys(this.controlValue).length:0}ngAfterViewInit(){}ngOnInit(){}registerOnChange(p){this.onChange=p}registerOnTouched(p){this.onTouched=p}writeValue(p){this.controlValue=p}appendPhone(){this.controlValue||(this.controlValue={});const p=(0,ki.Z)();this.controlValue[p]="",this.onChange(this.controlValue)}removePhone(p){!this.controlValue||(delete this.controlValue[p],this.onChange(this.controlValue))}valuesTrack(p,_){return _.key}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-phone-list-input"]],outputs:{onBlur:"onBlur"},features:[s._Bn([{provide:sn.JU,useExisting:(0,s.Gpc)(()=>m),multi:!0}])],decls:4,vars:4,consts:[[1,"flexed","gap5","column"],["class","p-inputgroup",4,"ngFor","ngForOf","ngForTrackBy"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440",3,"onClick"],[1,"p-inputgroup"],["mask","8 (999) 999-99-99",3,"ngModel","ngModelChange","onBlur"],["icon","pi pi-trash","pButton","","type","button",1,"p-button-danger",3,"disabled","click"]],template:function(p,_){1&p&&(s.TgZ(0,"div",0),s.YNc(1,Ti,3,5,"div",1),s.ALo(2,"keyvalue"),s.TgZ(3,"app-button",2),s.NdJ("onClick",function(){return _.appendPhone()}),s.qZA()()),2&p&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,2,_.controlValue))("ngForTrackBy",_.valuesTrack))},dependencies:[e.sg,se.Hq,sn.JJ,sn.On,qt.vy,Fe.r,e.Nd]}),m})();var Ji=C(1110),_i=C(5787);let is=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({imports:[e.ez,_i.T]}),m})();var qi=C(2716);const Ei=function(m){return{unread:m}};let ai=(()=>{class m{constructor(p){this.notifyService=p,this.notification={}}ngOnInit(){}getIcon(p){return this.notifyService.icons[p]+" icon header"}getTitle(p){return this.notifyService.titles[p]}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(I.T))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-notification-item"]],inputs:{notification:"notification"},decls:9,vars:11,consts:[[1,"notification",3,"ngClass"],[1,"title","header"],["appTextRevival","",1,"description","indent05"],[1,"timestamp"]],template:function(p,_){1&p&&(s.TgZ(0,"div",0),s._UZ(1,"i"),s.TgZ(2,"span",1),s._uU(3),s.qZA(),s.TgZ(4,"div",2),s._uU(5),s.qZA(),s.TgZ(6,"span",3),s._uU(7),s.ALo(8,"date"),s.qZA()()),2&p&&(s.Q6J("ngClass",s.VKq(9,Ei,_.notification.unread)),s.xp6(1),s.Tol(_.getIcon(_.notification.type)),s.xp6(2),s.hij(" ",_.getTitle(_.notification.type)," "),s.xp6(2),s.hij(" ",_.notification.message," "),s.xp6(2),s.hij(" ",s.xi3(8,6,_.notification.created,"dd MMMM yyyy HH:mm")," "))},dependencies:[e.mk,qi.J,e.uU],styles:['[_nghost-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}[_nghost-%COMP%]{flex:1}.notification[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;align-items:center;opacity:.5;transition:opacity .2s ease-in-out;cursor:default;grid:repeat(3,min-content)/repeat(2,min-content);grid-template-areas:"icon title title" ". description description" "timestamp timestamp timestamp"}.notification[_ngcontent-%COMP%]:hover, .notification.unread[_ngcontent-%COMP%]{opacity:1}.notification.unread[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--mc-400)}.notification[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{grid-area:icon}.notification[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-area:title}.notification[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{grid-area:description;font-weight:500;font-size:.9rem;color:var(--tc-700);white-space:pre-line}.notification[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{grid-area:timestamp;font-size:.8rem;font-weight:700;place-self:flex-end;color:var(--tc-300)}.header[_ngcontent-%COMP%]{color:var(--tc-600)}.header.icon[_ngcontent-%COMP%]{font-size:1.4rem}.header.title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:400}']}),m})();var Ln=C(8913),Sn=C(9955),Zs=C(7805),tr=C(7092),gr=C(4132),cs=C(5055),jo=C(5652);let Ko=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({imports:[e.ez]}),m})();var go=C(1777),qo=C(5730),ro=C(9783),ks=C(5921);function Ho(m,b){1&m&&s.GkF(0)}function yo(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"button",8),s.NdJ("click",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.close(x))})("keydown.enter",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.close(x))}),s._UZ(1,"span",9),s.qZA()}if(2&m){const p=s.oxw(2);s.uIk("aria-label",p.ariaCloseLabel)}}function Fi(m,b){1&m&&s.GkF(0)}function oi(m,b){1&m&&s.GkF(0)}const wo=function(m,b,p,_,x,j){return{"p-sidebar":!0,"p-sidebar-active":m,"p-sidebar-left":b,"p-sidebar-right":p,"p-sidebar-top":_,"p-sidebar-bottom":x,"p-sidebar-full":j}},Do=function(m,b){return{transform:m,transition:b}},fo=function(m){return{value:"visible",params:m}};function os(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",1,2),s.NdJ("@panelState.start",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.onAnimationStart(x))})("@panelState.done",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.onAnimationEnd(x))}),s.TgZ(2,"div",3),s.YNc(3,Ho,1,0,"ng-container",4),s.YNc(4,yo,2,1,"button",5),s.qZA(),s.TgZ(5,"div",6),s.Hsn(6),s.YNc(7,Fi,1,0,"ng-container",4),s.qZA(),s.TgZ(8,"div",7),s.YNc(9,oi,1,0,"ng-container",4),s.qZA()()}if(2&m){const p=s.oxw();s.Tol(p.styleClass),s.Q6J("ngClass",s.HTZ(10,wo,p.visible,"left"===p.position&&!p.fullScreen,"right"===p.position&&!p.fullScreen,"top"===p.position&&!p.fullScreen,"bottom"===p.position&&!p.fullScreen,p.fullScreen))("@panelState",s.VKq(20,fo,s.WLB(17,Do,p.transformOptions,p.transitionOptions)))("ngStyle",p.style),s.uIk("aria-modal",p.modal),s.xp6(3),s.Q6J("ngTemplateOutlet",p.headerTemplate),s.xp6(1),s.Q6J("ngIf",p.showCloseIcon),s.xp6(3),s.Q6J("ngTemplateOutlet",p.contentTemplate),s.xp6(2),s.Q6J("ngTemplateOutlet",p.footerTemplate)}}const nr=["*"],us=(0,go.oQ)([(0,go.oB)({transform:"{{transform}}",opacity:0}),(0,go.jt)("{{transition}}")]),Ms=(0,go.oQ)([(0,go.jt)("{{transition}}",(0,go.oB)({transform:"{{transform}}",opacity:0}))]);let zs=(()=>{class m{constructor(p,_,x,j){this.el=p,this.renderer=_,this.cd=x,this.config=j,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new s.vpe,this.onHide=new s.vpe,this.visibleChange=new s.vpe,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates.forEach(p=>{switch(p.getType()){case"content":default:this.contentTemplate=p.template;break;case"header":this.headerTemplate=p.template;break;case"footer":this.footerTemplate=p.template}})}get visible(){return this._visible}set visible(p){this._visible=p}get position(){return this._position}set position(p){switch(this._position=p,p){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(p){this._fullScreen=p,p&&(this.transformOptions="none")}show(){this.autoZIndex&&ks.P9.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(p){this.hide(),this.visibleChange.emit(!1),p.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),qo.p.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",p=>{this.dismissible&&this.close(p)})),document.body.appendChild(this.mask),this.blockScroll&&qo.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(qo.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyModal(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&qo.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(p){"visible"===p.toState&&(this.container=p.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(p){"void"===p.toState&&(this.hide(),ks.P9.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):qo.p.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",_=>{27==_.which&&parseInt(this.container.style.zIndex)===ks.P9.get(this.container)&&this.close(_)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&ks.P9.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(ro.b4))},m.\u0275cmp=s.Xpm({type:m,selectors:[["p-sidebar"]],contentQueries:function(p,_,x){if(1&p&&s.Suo(x,ro.jx,4),2&p){let j;s.iGM(j=s.CRH())&&(_.templates=j)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:nr,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],[4,"ngTemplateOutlet"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[1,"p-sidebar-footer"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(p,_){1&p&&(s.F$t(),s.YNc(0,os,10,22,"div",0)),2&p&&s.Q6J("ngIf",_.visible)},dependencies:[e.mk,e.O5,e.tP,e.PC,_i.H],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[(0,go.X$)("panelState",[(0,go.eR)("void => visible",[(0,go._7)(us)]),(0,go.eR)("visible => void",[(0,go._7)(Ms)])])]},changeDetection:0}),m})(),mo=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({imports:[e.ez,_i.T]}),m})(),$o=(()=>{class m{constructor(){this.onScrollToBottom=new s.vpe}onScroll(p){p.target.scrollHeight-Math.abs(p.target.scrollTop)-p.target.clientHeight<25&&this.onScrollToBottom.emit()}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275dir=s.lG2({type:m,selectors:[["","appScrollToBottomEmitter",""]],hostBindings:function(p,_){1&p&&s.NdJ("scroll",function(j){return _.onScroll(j)})},outputs:{onScrollToBottom:"onScrollToBottom"}}),m})();function Ye(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",1),s.NdJ("mouseleave",function(){const j=s.CHM(p).$implicit,Te=s.oxw();return s.KtG(Te.notifyService.resumeClosure(j.notificationId))})("mouseenter",function(){const j=s.CHM(p).$implicit,Te=s.oxw();return s.KtG(Te.notifyService.suspendClosing(j.notificationId))}),s._UZ(1,"app-notification-item",2),s.TgZ(2,"div",3),s.NdJ("click",function(){const j=s.CHM(p).$implicit,Te=s.oxw();return s.KtG(Te.notifyService.close(j.notificationId))}),s.qZA()()}if(2&m){const p=b.$implicit;s.Q6J("@flowLeft",void 0),s.xp6(1),s.Q6J("notification",p)}}let vt=(()=>{class m{constructor(p){this.notifyService=p}ngOnInit(){}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(I.T))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-notifications-popup-panel"]],decls:1,vars:1,consts:[["class","notification-wrapper",3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],[1,"notification-wrapper",3,"mouseleave","mouseenter"],[3,"notification"],[1,"close-button","mdi-close",3,"click"]],template:function(p,_){1&p&&s.YNc(0,Ye,3,2,"div",0),2&p&&s.Q6J("ngForOf",_.notifyService.receivedNotifications)},dependencies:[e.sg,ai],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:max-content;min-width:25rem;max-width:30vw;height:auto;max-height:70vh;position:fixed;top:100px;right:1rem;z-index:1010;gap:1rem;transition:all .5s ease-in-out}.notification-wrapper[_ngcontent-%COMP%]{display:flex;background-color:#fff;box-shadow:0 0 1px 1px #0000001a,0 .1rem 1rem #0000000d;border-radius:.5rem;padding:.3rem .6rem;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:.7rem;cursor:pointer;transition:all .2s ease-in-out;color:var(--tc-500)}.close-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}"],data:{animation:[tn.zW]}}),m})();var S=C(383),me=C(8050);const Ue=["contextMenu"];function st(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",4),s.NdJ("click",function(){const j=s.CHM(p).$implicit;s.oxw();const Te=s.MAs(1);return j.command(),s.KtG(Te.hide())}),s._UZ(1,"i"),s.TgZ(2,"span"),s._uU(3),s.qZA()()}if(2&m){const p=b.$implicit;s.Tol("context-button "+p.style),s.xp6(1),s.Tol(p.icon),s.xp6(2),s.Oqu(p.label)}}const Yt=function(){return{minWidth:"max-content",transform:"translate(1rem, .3rem)"}};var gn=(()=>((gn||(gn={})).DANGER="danger",gn))();let _n=(()=>{class m{constructor(){this.contextMenuVisible=!1,this.contextButtons=[],this.onShow=new s.vpe,this.onHide=new s.vpe}ngOnInit(){}show(p,_){!this.contextMenu||(p.preventDefault(),this.contextButtons=_,this.contextMenu.target=p.target,this.contextMenuVisible?this.contextMenu.alignOverlay():setTimeout(()=>{!this.contextMenu||this.contextMenu.show()}))}onScrollEvent(p){!this.contextMenu||this.contextMenu.visible&&this.contextMenu.alignOverlay()}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-context-menu"]],viewQuery:function(p,_){if(1&p&&s.Gf(Ue,5),2&p){let x;s.iGM(x=s.CRH())&&(_.contextMenu=x.first)}},hostBindings:function(p,_){1&p&&s.NdJ("scroll",function(j){return _.onScrollEvent(j)},!1,s.Jf7)},outputs:{onShow:"onShow",onHide:"onHide"},decls:4,vars:5,consts:[["appendTo","body",3,"visible","visibleChange","onShow","onHide"],["contextMenu",""],[1,"context-body"],["pRipple","",3,"class","click",4,"ngFor","ngForOf"],["pRipple","",3,"click"]],template:function(p,_){1&p&&(s.TgZ(0,"p-overlay",0,1),s.NdJ("visibleChange",function(j){return _.contextMenuVisible=j})("onShow",function(){return _.onShow.emit()})("onHide",function(){return _.onHide.emit()}),s.TgZ(2,"div",2),s.YNc(3,st,4,5,"div",3),s.qZA()()),2&p&&(s.Akn(s.DdM(4,Yt)),s.Q6J("visible",_.contextMenuVisible),s.xp6(3),s.Q6J("ngForOf",_.contextButtons))},dependencies:[e.sg,me.aV,_i.H],styles:[".context-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;background-color:#fff;overflow:hidden;box-shadow:0 0 .8px #00000006,0 0 2.1px #00000009,0 0 5.1px #0000000c,0 0 17px #00000012}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:min-content;padding:.7rem 1.4rem .7rem 1.2rem;cursor:pointer;gap:.3rem;transition:all .15s ease-in-out;font-size:1rem;color:var(--tc-600);-webkit-user-select:none;user-select:none}.context-body[_ngcontent-%COMP%]   .context-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]{color:var(--danger-500)}.context-body[_ngcontent-%COMP%]   .context-button.danger[_ngcontent-%COMP%]:hover{background-color:var(--danger-100);color:var(--danger-800)}"]}),m})();var Gn=C(8505),si=C(8372),yi=C(9014),Dn=C(8007),ss=C(6288);let Zo=(()=>{class m{constructor(p){this.root=p,this.intersection=new s.vpe,this.observer=new IntersectionObserver((_,x)=>this.intersection.emit(_),{threshold:.5,root:this.root.nativeElement}),this.childMutationObserver=new MutationObserver(this.onChildMutation.bind(this))}ngOnInit(){this.childMutationObserver.observe(this.root.nativeElement,{childList:!0,subtree:!1})}onChildMutation(p){for(const _ of p)"childList"===_.type&&(_.addedNodes.forEach(x=>{try{this.observer.observe(x)}catch(j){}}),_.removedNodes.forEach(x=>{try{this.observer.unobserve(x)}catch(j){}}))}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(s.SBq))},m.\u0275dir=s.lG2({type:m,selectors:[["","appIntersectionObserver",""]],outputs:{intersection:"intersection"}}),m})();var _o=C(4968),hi=C(4482),Ds=C(5403),ds=C(8421),Vn=C(5032);function mr(m){return(0,hi.e)((b,p)=>{let _=!1;const x=new Ds.Q(p,()=>{null==x||x.unsubscribe(),_=!0},Vn.Z);(0,ds.Xf)(m).subscribe(x),b.subscribe(new Ds.Q(p,j=>_&&p.next(j)))})}var xo=C(2722),Is=C(599),ps=C(8185),Gs=C(4776);let Oo=(()=>{class m{transform(p){return null!=p||null!=p?Math.floor("string"==typeof p?parseFloat(p):p):null}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275pipe=s.Yjl({name:"floor",type:m,pure:!0}),m})();const Qs=["player"],_r=["volumeOverlay"],on=["durationControl"],jn=["timeOverlay"];function Xo(m,b){1&m&&s._UZ(0,"i",28)}function Os(m,b){1&m&&s._UZ(0,"i",29)}function Bi(m,b){1&m&&s._UZ(0,"i",30)}function Ps(m,b){1&m&&s._UZ(0,"i",31)}function Rs(m,b){if(1&m&&s._UZ(0,"div",32),2&m){const p=s.oxw();s.Udp("left",p.markerPosition+"px")}}function zi(m,b){1&m&&s._UZ(0,"i",33)}function As(m,b){1&m&&s._UZ(0,"i",34)}function Vr(m,b){1&m&&s._UZ(0,"i",35)}function Ur(m,b){1&m&&s._UZ(0,"i",36)}const ir=function(m){return{disabled:m}},Ce=function(){return{height:".7rem"}},te=function(){return{transform:"translate(-25%, 1rem)"}};var W=(()=>{return(m=W||(W={})).Paused="Paused",m.Playing="Playing",m.Loading="Loading",m.Error="Error",W;var m})();let Je=(()=>{class m{constructor(){this.playerState=W.Loading,this.currentTime=0,this.totalTime=0,this.subscriptions=new S.xf,this.showVolumeLevel=!1,this.showTimeMarker=!1}get markerPosition(){return this.totalTime&&this.durationControl?this.currentTime/this.totalTime*this.durationControl.nativeElement.clientWidth:0}get totalMinutes(){return Math.floor(this.totalTime/60).toString().padStart(2,"0")}get totalSeconds(){return Math.floor(this.totalTime%60).toString().padStart(2,"0")}get currentMinutes(){return Math.floor(this.currentTime/60).toString().padStart(2,"0")}get currentSeconds(){return Math.floor(this.currentTime%60).toString().padStart(2,"0")}ngOnInit(){}ngAfterViewInit(){if(this.player){const p=this.player.nativeElement;this.subscriptions.addSubscription("onLoad",(0,_o.R)(p,"loadeddata",{capture:!0}).subscribe(()=>{this.playerState=W.Paused})),this.subscriptions.addSubscription("onPlay",(0,_o.R)(p,"play",{capture:!0}).subscribe(()=>{this.playerState=W.Playing})),this.subscriptions.addSubscription("onPause",(0,_o.R)(p,"pause",{capture:!0}).subscribe(()=>{this.playerState=W.Paused})),this.subscriptions.addSubscription("onAbort",(0,_o.R)(p,"abort",{capture:!0}).subscribe(()=>{this.playerState=W.Error})),this.subscriptions.addSubscription("onError",(0,_o.R)(p,"error",{capture:!0}).subscribe(()=>{this.playerState=W.Error})),this.subscriptions.addSubscription("onEmptied",(0,_o.R)(p,"emptied",{capture:!0}).subscribe(()=>{this.playerState=W.Error})),this.subscriptions.addSubscription("onTimeupdate",(0,_o.R)(p,"timeupdate",{capture:!0}).subscribe(()=>{this.currentTime=p.currentTime})),this.subscriptions.addSubscription("onDurationchange",(0,_o.R)(p,"durationchange",{capture:!0}).subscribe(()=>{this.totalTime=p.duration}))}if(this.player&&this.durationControl){const p=this.player.nativeElement,_=this.durationControl.nativeElement,x=(0,_o.R)(document,"mousemove"),j=(0,_o.R)(_,"mousedown").pipe((0,Gn.b)(()=>{p.pause(),this.showTimeMarker=!0})),Te=(0,_o.R)(document,"mouseup").pipe(mr(j),(0,Gn.b)(this.calculateTime.bind(this)),(0,Gn.b)(()=>{this.playerState=W.Loading}),(0,Gn.b)(this.changeTime.bind(this))),ot=x.pipe(mr(j),(0,xo.R)(Te),(0,Is.r)()).subscribe(this.calculateTime.bind(this));this.subscriptions.addSubscription("mouseMove",ot)}}ngOnDestroy(){this.subscriptions.unsubscribeAll()}calculateTime(p){var _;if(this.player&&this.durationControl){const j=this.durationControl.nativeElement,Te=this.player.nativeElement;let pn=(p.clientX-j.getBoundingClientRect().left)/j.clientWidth;pn<0?pn=0:pn>1&&(pn=1),this.currentTime=pn*Te.duration,null===(_=this.timeOverlay)||void 0===_||_.alignOverlay()}}changeTime(p){if(this.showTimeMarker=!1,this.player){const _=this.player.nativeElement;_.currentTime=this.currentTime,_.play()}}playerButtonClick(){var p,_;switch(this.playerState){case W.Playing:null===(p=this.player)||void 0===p||p.nativeElement.pause();break;case W.Paused:null===(_=this.player)||void 0===_||_.nativeElement.play()}}changeVolume(p){this.player&&(this.player.nativeElement.volume=p.value)}openVolumeOverlay(){this.showVolumeLevel=!0}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-audio-player"]],viewQuery:function(p,_){if(1&p&&(s.Gf(Qs,5),s.Gf(_r,5),s.Gf(on,5),s.Gf(jn,5)),2&p){let x;s.iGM(x=s.CRH())&&(_.player=x.first),s.iGM(x=s.CRH())&&(_.volumeOverlay=x.first),s.iGM(x=s.CRH())&&(_.durationControl=x.first),s.iGM(x=s.CRH())&&(_.timeOverlay=x.first)}},inputs:{url:"url"},decls:33,vars:39,consts:[[1,"flexed","hend","full-width","gap5"],[1,"play-button",3,"ngClass","click"],[3,"ngSwitch"],["class","mdi-play_arrow",4,"ngSwitchCase"],["class","mdi-pause",4,"ngSwitchCase"],["class","mdi-downloading",4,"ngSwitchCase"],["class","mdi-warning",4,"ngSwitchCase"],[1,"flexed","column","stretched","gap3"],[1,"timeline"],["durationControl",""],[3,"showValue","value"],["class","timeline-marker",3,"left",4,"ngIf"],["appendTo","body",3,"visible"],["timeOverlay",""],[1,"time-overlay"],[1,"flexed","hcenter","gap10"],[1,"duration"],[1,"volume-button",3,"click"],["class","mdi-volume_up",4,"ngIf"],["class","mdi-volume_down",4,"ngIf"],["class","mdi-volume_mute",4,"ngIf"],["class","mdi-volume_off",4,"ngIf"],["appendTo","body",3,"visible","visibleChange"],[1,"volume-level"],["volumeOverlay",""],["orientation","vertical",3,"min","max","step","ngModel","onChange"],[3,"src"],["player",""],[1,"mdi-play_arrow"],[1,"mdi-pause"],[1,"mdi-downloading"],[1,"mdi-warning"],[1,"timeline-marker"],[1,"mdi-volume_up"],[1,"mdi-volume_down"],[1,"mdi-volume_mute"],[1,"mdi-volume_off"]],template:function(p,_){if(1&p&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return _.playerButtonClick()}),s.ynx(2,2),s.YNc(3,Xo,1,0,"i",3),s.YNc(4,Os,1,0,"i",4),s.YNc(5,Bi,1,0,"i",5),s.YNc(6,Ps,1,0,"i",6),s.BQk(),s.qZA(),s.TgZ(7,"div",7)(8,"div",8,9),s._UZ(10,"p-progressBar",10),s.YNc(11,Rs,1,2,"div",11),s.TgZ(12,"p-overlay",12,13)(14,"div",14),s._uU(15),s.qZA()()(),s.TgZ(16,"div",15)(17,"span",16),s._uU(18),s.qZA(),s.TgZ(19,"div",17),s.NdJ("click",function(){return _.openVolumeOverlay()}),s.YNc(20,zi,1,0,"i",18),s.YNc(21,As,1,0,"i",19),s.YNc(22,Vr,1,0,"i",20),s.YNc(23,Ur,1,0,"i",21),s.qZA(),s.TgZ(24,"p-overlay",22),s.NdJ("visibleChange",function(j){return _.showVolumeLevel=j}),s.TgZ(25,"div",23,24)(27,"p-slider",25),s.NdJ("onChange",function(j){return _.changeVolume(j)}),s.qZA(),s.TgZ(28,"div"),s._uU(29),s.ALo(30,"floor"),s.qZA()()()()()(),s._UZ(31,"audio",26,27)),2&p){const x=s.MAs(32);s.Udp("user-select","none"),s.xp6(1),s.Q6J("ngClass",s.VKq(35,ir,!_.url||"Loading"===_.playerState||"Error"===_.playerState)),s.xp6(1),s.Q6J("ngSwitch",_.playerState),s.xp6(1),s.Q6J("ngSwitchCase","Paused"),s.xp6(1),s.Q6J("ngSwitchCase","Playing"),s.xp6(1),s.Q6J("ngSwitchCase","Loading"),s.xp6(1),s.Q6J("ngSwitchCase","Error"),s.xp6(4),s.Akn(s.DdM(37,Ce)),s.Q6J("showValue",!1)("value",_.currentTime/_.totalTime*100),s.xp6(1),s.Q6J("ngIf",_.showTimeMarker),s.xp6(1),s.Akn(s.DdM(38,te)),s.Q6J("visible",_.showTimeMarker),s.xp6(3),s.AsE(" ",_.currentMinutes,":",_.currentSeconds," "),s.xp6(3),s.HOy("",_.currentMinutes,":",_.currentSeconds," / ",_.totalMinutes,":",_.totalSeconds,""),s.xp6(2),s.Q6J("ngIf",x.volume>.8),s.xp6(1),s.Q6J("ngIf",x.volume<=.8&&x.volume>.5),s.xp6(1),s.Q6J("ngIf",x.volume<=.5&&x.volume>0),s.xp6(1),s.Q6J("ngIf",0===x.volume),s.xp6(1),s.Q6J("visible",_.showVolumeLevel),s.xp6(3),s.Q6J("min",0)("max",1)("step",.05)("ngModel",x.volume),s.xp6(2),s.hij("",s.lcZ(30,33,100*x.volume),"%"),s.xp6(2),s.Q6J("src",_.url,s.LSH)}},dependencies:[e.mk,e.O5,e.RF,e.n9,sn.JJ,sn.On,me.aV,ps.k,Gs.iR,Oo],styles:[".play-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s}.play-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.play-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}.volume-button[_ngcontent-%COMP%]{color:var(--tc-500);cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative}.volume-level[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1.2rem .7rem .5rem;box-shadow:0 .4px .4px #00000005,0 1px 1px #00000007,0 1.9px 1.9px #00000009,0 3.4px 3.4px #0000000b,0 6.3px 6.3px #0000000d,0 15px 15px #00000012}.volume-level[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:var(--tc-500)}.timeline[_ngcontent-%COMP%]{position:relative}.timeline-marker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:translate(-50%,-.25rem);width:1.2rem;height:1.2rem;border-radius:50%;background-color:var(--mc-300);box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}.time-overlay[_ngcontent-%COMP%]{border-radius:.3rem;padding:.5rem;background-color:#fff;box-shadow:0 0 .4px #00000005,0 0 1px #00000007,0 0 1.9px #00000009,0 0 3.4px #0000000b,0 0 6.3px #0000000d,0 0 15px #00000012}"]}),m})(),Jt=(()=>{class m{constructor(p){this.element=p}ngAfterViewInit(){const p=this.element.nativeElement;p.innerHTML=p.innerHTML.replace(new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"g"),'<span class="emoji">$&</span>')}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(s.SBq))},m.\u0275dir=s.lG2({type:m,selectors:[["","appEmojiStyleApply",""]]}),m})();var Tn=C(2059);function Ci(m,b){1&m&&s._UZ(0,"i",10)}function Po(m,b){1&m&&s._UZ(0,"i",11)}function hs(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",6),s.NdJ("click",function(x){s.CHM(p);const j=s.oxw();return s.KtG(j.open(x))}),s.ynx(1,7),s.YNc(2,Ci,1,0,"i",8),s.YNc(3,Po,1,0,"i",9),s.BQk(),s.qZA()}if(2&m){const p=s.oxw();s.xp6(1),s.Q6J("ngSwitch",p.attachmentType),s.xp6(1),s.Q6J("ngSwitchCase","DOCUMENT"),s.xp6(1),s.Q6J("ngSwitchCase","FILE")}}function Ls(m,b){1&m&&(s.TgZ(0,"div",12),s._UZ(1,"i",13),s.qZA())}let Ts=(()=>{class m{constructor(p){this.router=p,this.baseUrl="/api/private/attachment/"}get hasAttachment(){return!!this.attachment}get attachmentType(){var p,_;return null!==(_=null===(p=this.attachment)||void 0===p?void 0:p.type)&&void 0!==_?_:"unknown"}get name(){var p,_;return null!==(_=null===(p=this.attachment)||void 0===p?void 0:p.name)&&void 0!==_?_:"\u041d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"}get size(){return this.attachment&&this.attachment.size?this.attachment.size>1e6?(this.attachment.size/1e6).toFixed(2)+" MByte":this.attachment.size>1e3?(this.attachment.size/1e3).toFixed(2)+" KByte":this.attachment.size+" byte":"-- byte"}ngOnInit(){}open(p){this.attachment&&window.open(this.baseUrl+this.attachment.name,"_blank")}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(V.F0))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-file-attachment"]],inputs:{attachment:"attachment"},decls:8,vars:6,consts:[[1,"flexed","hend","full-width","gap5"],["class","file-button",3,"click",4,"ngIf"],["class","file-button disabled",4,"ngIf"],[1,"flexed","column","stretched","gap3"],[1,"caption","one-line"],[1,"caption","size-small","f-color-500"],[1,"file-button",3,"click"],[3,"ngSwitch"],["class","mdi-description",4,"ngSwitchCase"],["class","mdi-insert_drive_file",4,"ngSwitchCase"],[1,"mdi-description"],[1,"mdi-insert_drive_file"],[1,"file-button","disabled"],[1,"mdi-warning"]],template:function(p,_){1&p&&(s.TgZ(0,"div",0),s.YNc(1,hs,4,3,"div",1),s.YNc(2,Ls,2,0,"div",2),s.TgZ(3,"div",3)(4,"span",4),s._uU(5),s.qZA(),s.TgZ(6,"span",5),s._uU(7),s.qZA()()()),2&p&&(s.Udp("user-select","none"),s.xp6(1),s.Q6J("ngIf",_.hasAttachment),s.xp6(1),s.Q6J("ngIf",!_.hasAttachment),s.xp6(3),s.Oqu(_.name),s.xp6(2),s.Oqu(_.size))},dependencies:[e.O5,e.RF,e.n9],styles:[".file-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background-color:var(--mc-500);display:flex;justify-content:center;align-items:center;color:#fff;font-size:1rem;cursor:pointer;transition:all .3s}.file-button.disabled[_ngcontent-%COMP%]{background-color:var(--tc-300);cursor:default}.file-button[_ngcontent-%COMP%]:not(.disabled):hover{background-color:var(--mc-600)}"]}),m})();var Ns=C(4004);function Js(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",7),s.NdJ("click",function(){const j=s.CHM(p).$implicit,Te=s.oxw();return s.KtG(Te.choosingEventEmitter.emit(j))}),s.TgZ(1,"span"),s._uU(2),s.qZA()()}if(2&m){const p=b.$implicit;s.xp6(2),s.Oqu(p.code)}}const js=function(m){return{active:m}};function or(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",8),s.NdJ("click",function(){const j=s.CHM(p).index,Te=s.oxw();return s.KtG(Te.activeCategory=j)}),s.TgZ(1,"span"),s._uU(2),s.qZA(),s.TgZ(3,"div"),s._uU(4),s.qZA()()}if(2&m){const p=b.$implicit,_=b.index,x=s.oxw();s.Q6J("ngClass",s.VKq(3,js,x.activeCategory===_)),s.xp6(2),s.Oqu(p.titleEmoji),s.xp6(2),s.Oqu(p.name)}}let wr=(()=>{class m{constructor(){this.activeCategory=0,this.emojis=[],this.categories=[{titleEmoji:String.fromCodePoint(128512),name:"\u0421\u043c\u0430\u0439\u043b\u044b",emojiRanges:[{start:128512,end:128591},{start:9785,end:9786},{start:9994,end:9997},{start:128064,end:128079},{start:128102,end:128127},{start:129296,end:129327}]},{titleEmoji:String.fromCodePoint(128054),name:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430",emojiRanges:[{start:128e3,end:128063},{start:127744,end:127777},{start:127780,end:127788},{start:127792,end:127812}]},{titleEmoji:String.fromCodePoint(127789),name:"\u0415\u0434\u0430",emojiRanges:[{start:127789,end:127791},{start:127813,end:127871},{start:129360,end:129391}]}],this.choosingEventEmitter=new s.vpe,this.onChoosing=this.choosingEventEmitter.pipe((0,Gn.b)(()=>{this.showPanel=!1}),(0,Ns.U)(p=>p.code)),this.showPanel=!1,this.subscriptions=new S.xf}get activeEmojis(){return this.categories[this.activeCategory].emojiRanges.map(p=>{const _=[];for(let x=p.start;x<=p.end;x++)_.push(this.fromCodePoint(x));return _}).flat()}ngOnInit(){const p=(0,_o.R)(document,"scroll");this.subscriptions.addSubscription("wscr",p.subscribe(()=>{this.showPanel=!1}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}fromCodePoint(...p){return{name:p.map(_=>_.toString(16)).join(),code:String.fromCodePoint(...p)}}emojiTrack(p,_){return _.name}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-emoji-panel"]],outputs:{onChoosing:"onChoosing"},decls:7,vars:4,consts:[["styleClass","p-button-secondary p-button-icon p-button-text p-button-rounded","icon","mdi-sentiment_satisfied_alt",3,"onClick"],["appendTo","body",3,"visible","visibleChange"],[1,"emoji-panel"],[1,"emoji-panel-list"],["class","emoji-panel-list-item primary","pRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"emoji-panel-categories"],["class","emoji-panel-categories-category","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["pRipple","",1,"emoji-panel-list-item","primary",3,"click"],["pRipple","",1,"emoji-panel-categories-category",3,"ngClass","click"]],template:function(p,_){1&p&&(s.TgZ(0,"p-button",0),s.NdJ("onClick",function(){return _.showPanel=!0}),s.qZA(),s.TgZ(1,"p-overlay",1),s.NdJ("visibleChange",function(j){return _.showPanel=j}),s.TgZ(2,"div",2)(3,"div",3),s.YNc(4,Js,3,1,"div",4),s.qZA(),s.TgZ(5,"div",5),s.YNc(6,or,5,5,"div",6),s.qZA()()()),2&p&&(s.xp6(1),s.Q6J("visible",_.showPanel),s.xp6(3),s.Q6J("ngForOf",_.activeEmojis)("ngForTrackBy",_.emojiTrack),s.xp6(2),s.Q6J("ngForOf",_.categories))},dependencies:[e.mk,e.sg,se.zx,me.aV,_i.H],styles:[".emoji-panel[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr min-content;gap:.5rem;padding:1rem;border-radius:.5rem;background-color:#fff;box-shadow:0 .2px .7px #00000006,0 .6px 1.9px #00000009,0 1.5px 4.5px #0000000c,0 5px 15px #00000012}.emoji-panel[_ngcontent-%COMP%]   .emoji-panel-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:20rem;max-height:25rem;overflow-x:hidden;overflow-y:auto;gap:.1rem;overscroll-behavior:none}.emoji-panel[_ngcontent-%COMP%]   .emoji-panel-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:min-content;aspect-ratio:1;border-radius:.3rem;border:1px solid transparent;transition:border .2s ease;padding:.3rem;cursor:pointer}.emoji-panel[_ngcontent-%COMP%]   .emoji-panel-list-item[_ngcontent-%COMP%]:hover{border-color:var(--mc-400)}.emoji-panel[_ngcontent-%COMP%]   .emoji-panel-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Noto Color Emoji,serif;font-size:1.5rem}.emoji-panel-categories[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden}.emoji-panel-categories-category[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.5rem .5rem .2rem;border-radius:.3rem;border-bottom:1px solid transparent;color:var(--tc-500);cursor:pointer;-webkit-user-select:none;user-select:none}.emoji-panel-categories-category.active[_ngcontent-%COMP%]{color:var(--mc-400);border-radius:0;border-bottom-color:var(--mc-400);cursor:default}.emoji-panel-categories-category[_ngcontent-%COMP%]:not(.active):hover{background-color:var(--bgc-200)}.emoji-panel-categories-category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Noto Color Emoji,serif;font-size:1.5rem}.emoji-panel-categories-category[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;text-align:center}"]}),m})();var Fs=C(1787);const zr=["messageInput"],ea=["contextMenu"],ta=function(){return[]};function na(m,b){if(1&m&&(s.TgZ(0,"div",6)(1,"span",7),s._UZ(2,"i",8),s._uU(3),s.qZA(),s._UZ(4,"app-avatar-list",9),s.qZA()),2&m){const p=s.oxw();let _;s.xp6(3),s.hij(" ",null==p.currentChat?null:p.currentChat.title,""),s.xp6(1),s.Q6J("employees",null!==(_=null==p.currentChat?null:p.currentChat.members)&&void 0!==_?_:s.DdM(2,ta))}}function Y(m,b){1&m&&s.GkF(0)}const Se=function(m){return{shaded:m}},X=function(m){return{$implicit:m}};function Ge(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",22),s.NdJ("contextmenu",function(x){const Te=s.CHM(p).$implicit,ot=s.oxw(3);return s.KtG(ot.showContext(x,Te))}),s._UZ(1,"app-avatar",23),s.YNc(2,Y,1,0,"ng-container",24),s.qZA()}if(2&m){const p=b.$implicit,_=s.oxw(3),x=s.MAs(6);s.Q6J("@fade",void 0)("ngClass",s.VKq(9,Se,_.messageContexted===p.superMessageId)),s.uIk("data-msg",_.getMessagesIds(p)),s.xp6(1),s.Q6J("deleted",p.author.deleted)("name",p.author.fullName)("size",2.3)("src",p.author.avatar),s.xp6(1),s.Q6J("ngTemplateOutlet",x)("ngTemplateOutletContext",s.VKq(11,X,p))}}function ht(m,b){1&m&&(s.TgZ(0,"div",26),s._UZ(1,"p-skeleton",27)(2,"p-skeleton",28),s.qZA())}function Zt(m,b){if(1&m&&(s.ynx(0),s.YNc(1,ht,3,0,"div",25),s.BQk()),2&m){const p=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",p.loadingsStubs)}}function Gt(m,b){if(1&m&&s._UZ(0,"div",29),2&m){s.oxw();const p=s.MAs(1);s.Udp("transform","translateY("+p.scrollTop+"px)"),s.Q6J("@fade",void 0)}}const wn=function(){return{fontSize:".65rem",minWidth:"1.2rem",height:"1.2rem"}};function Ii(m,b){if(1&m&&s._UZ(0,"p-badge",33),2&m){const p=s.oxw(4);s.Akn(s.DdM(3,wn)),s.Q6J("value",p.unreadCount.toString())}}function gi(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",30),s.NdJ("click",function(){s.CHM(p),s.oxw();const x=s.MAs(1);return s.KtG(x.scrollTo({top:0,behavior:"smooth"}))}),s.YNc(1,Ii,1,4,"p-badge",31),s._UZ(2,"i",32),s.qZA()}if(2&m){s.oxw();const p=s.MAs(1),_=s.oxw(2);s.Udp("transform","translateY("+p.scrollTop+"px)"),s.Q6J("@fade",void 0),s.xp6(1),s.Q6J("ngIf",_.unreadCount>0)}}const vi=function(m){return{unread:m}};function li(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",14,15),s.NdJ("intersection",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.readMessage(x))})("onScrollToBottom",function(){s.CHM(p);const x=s.oxw(2);return s.KtG(x.loadMessages())})("scroll",function(){s.CHM(p);const x=s.oxw(2);return s.KtG(x.startButtonVisibleEmitter.emit())}),s.YNc(2,Ge,3,13,"div",16),s.YNc(3,Zt,2,1,"ng-container",17),s.YNc(4,Gt,1,3,"div",18),s.TgZ(5,"app-context-menu",19,20),s.NdJ("onHide",function(){s.CHM(p);const x=s.oxw(2);return s.KtG(x.shaderVisible=!1)})("onShow",function(){s.CHM(p);const x=s.oxw(2);return s.KtG(x.shaderVisible=!0)}),s.qZA(),s.YNc(7,gi,3,4,"div",21),s.qZA()}if(2&m){const p=s.MAs(1),_=s.oxw(2);s.Udp("overflow",_.shaderVisible?"hidden":""),s.Q6J("ngClass",s.VKq(8,vi,_.unreadCount>0)),s.xp6(2),s.Q6J("ngForOf",_.messages)("ngForTrackBy",_.trackMessages),s.xp6(1),s.Q6J("ngIf",_.isLoading),s.xp6(1),s.Q6J("ngIf",_.shaderVisible),s.xp6(3),s.Q6J("ngIf",p.scrollTop<-100&&_.startButtonVisible&&!_.shaderVisible)}}function $i(m,b){1&m&&(s.TgZ(0,"div",34),s._UZ(1,"i",8),s.TgZ(2,"span"),s._uU(3," \u0427\u0430\u0442 \u043f\u0443\u0441\u0442 "),s.qZA()())}function fi(m,b){1&m&&s.GkF(0)}function Yi(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",44)(1,"div",45),s._UZ(2,"i",46),s.TgZ(3,"span"),s._uU(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),s.qZA()(),s.TgZ(5,"div",6),s.YNc(6,fi,1,0,"ng-container",24),s.TgZ(7,"p-button",47),s.NdJ("onClick",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.clearEditMessage())}),s.qZA()()()}if(2&m){const p=s.oxw(3),_=s.MAs(4);s.xp6(6),s.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",s.VKq(2,X,p.editMessage))}}function rs(m,b){1&m&&s.GkF(0)}function Ro(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",44)(1,"div",45),s._UZ(2,"i",48),s.TgZ(3,"span"),s._uU(4,"\u041e\u0442\u0432\u0435\u0442"),s.qZA()(),s.TgZ(5,"div",6),s.YNc(6,rs,1,0,"ng-container",24),s.TgZ(7,"p-button",47),s.NdJ("onClick",function(){s.CHM(p);const x=s.oxw(3);return s.KtG(x.clearReplyMessage())}),s.qZA()()()}if(2&m){const p=s.oxw(3),_=s.MAs(4);s.xp6(6),s.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",s.VKq(2,X,p.replyMessage))}}function gs(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",35),s.YNc(1,Yi,8,4,"div",36),s.YNc(2,Ro,8,4,"div",36),s.TgZ(3,"div",37)(4,"textarea",38,39),s.NdJ("keydown",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.messageInputKeyDown(x))})("ngModelChange",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.sendingText=x)}),s.qZA(),s.TgZ(6,"div",40)(7,"app-emoji-panel",41),s.NdJ("onChoosing",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.insertEmoji(x))}),s.qZA(),s.TgZ(8,"app-file-input",42),s.NdJ("filesChange",function(x){s.CHM(p);const j=s.oxw(2);return s.KtG(j.sendingFiles=x)}),s.qZA(),s.TgZ(9,"p-button",43),s.NdJ("onClick",function(){s.CHM(p);const x=s.oxw(2);return s.KtG(x.sendMessage())}),s.qZA()()()()}if(2&m){const p=s.oxw(2);s.Q6J("ngClass",s.VKq(10,vi,p.unreadCount>0)),s.xp6(1),s.Q6J("ngIf",p.editMessage),s.xp6(1),s.Q6J("ngIf",p.replyMessage),s.xp6(2),s.Q6J("ngModel",p.sendingText)("disabled",p.isBeginSending),s.xp6(4),s.Q6J("files",p.sendingFiles)("disabled",p.isBeginSending||!!p.editMessage)("short",!0),s.xp6(1),s.Q6J("disabled",p.isNotReady)("loading",p.isBeginSending)}}function ws(m,b){1&m&&(s.TgZ(0,"div",49)(1,"span",50),s._UZ(2,"i",51),s.TgZ(3,"span"),s._uU(4,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),s.qZA()()())}function es(m,b){if(1&m&&(s.YNc(0,li,8,10,"div",10),s.YNc(1,$i,4,0,"div",11),s.YNc(2,gs,10,12,"div",12),s.YNc(3,ws,5,0,"div",13)),2&m){const p=s.oxw();s.Q6J("ngIf",p.isLoading||p.messages.length>0),s.xp6(1),s.Q6J("ngIf",!p.isLoading&&0===p.messages.length),s.xp6(1),s.Q6J("ngIf",!(null!=p.currentChat&&p.currentChat.closed)),s.xp6(1),s.Q6J("ngIf",null==p.currentChat?null:p.currentChat.closed)}}function Bs(m,b){if(1&m&&(s.TgZ(0,"div",52),s._UZ(1,"app-avatar",53),s.TgZ(2,"span",54),s._uU(3),s.qZA(),s.TgZ(4,"span",55),s._uU(5),s.qZA()()),2&m){const p=b.$implicit;s.xp6(1),s.Q6J("name",p.author.fullName)("size",1.7)("src",p.author.avatar),s.xp6(2),s.Oqu(p.author.fullName),s.xp6(2),s.Oqu(p.text)}}function Ee(m,b){1&m&&s.GkF(0)}function w(m,b){if(1&m&&(s.ynx(0),s.YNc(1,Ee,1,0,"ng-container",24),s.BQk()),2&m){const p=s.oxw(2).$implicit;s.oxw();const _=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",s.VKq(2,X,p.replyTo))}}function k(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",67),s.NdJ("click",function(){s.CHM(p);const x=s.oxw().$implicit,j=s.oxw(5);return s.KtG(j.mediaViewer.showMedia(x))}),s._UZ(1,"img",68),s.qZA()}if(2&m){const p=s.oxw().$implicit,_=s.oxw(5);s.xp6(1),s.Q6J("src",_.thumbnailUrl+p.name,s.LSH)}}function ae(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",69),s.NdJ("click",function(){s.CHM(p);const x=s.oxw().$implicit,j=s.oxw(5);return s.KtG(j.mediaViewer.showMedia(x))}),s._UZ(1,"img",68),s.TgZ(2,"div",70),s._UZ(3,"i",71),s.qZA()()}if(2&m){const p=s.oxw().$implicit,_=s.oxw(5);s.xp6(1),s.Q6J("src",_.thumbnailUrl+p.name,s.LSH)}}function Be(m,b){if(1&m&&(s.TgZ(0,"div",61),s.YNc(1,k,2,1,"div",65),s.YNc(2,ae,4,1,"div",66),s.qZA()),2&m){const p=b.$implicit;s.Tol("media-item i"+b.index),s.Q6J("ngSwitch",p.type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO")}}function et(m,b){if(1&m&&(s.TgZ(0,"div"),s.YNc(1,Be,3,5,"div",64),s.qZA()),2&m){const p=s.oxw(3).$implicit,_=s.oxw();s.Tol("media-grid g"+p.attachments.length),s.xp6(1),s.Q6J("ngForOf",p.attachments)("ngForTrackBy",_.trackAttachment)}}function yt(m,b){if(1&m&&s._UZ(0,"app-audio-player",74),2&m){const p=b.$implicit,_=s.oxw(5);s.Q6J("url",_.fileUrl+p.name)}}function Tt(m,b){if(1&m&&(s.TgZ(0,"div",72),s.YNc(1,yt,1,1,"app-audio-player",73),s.qZA()),2&m){const p=s.oxw(3).$implicit;s.xp6(1),s.Q6J("ngForOf",p.attachments)}}function Nt(m,b){1&m&&s._UZ(0,"app-file-attachment",76),2&m&&s.Q6J("attachment",b.$implicit)}function $t(m,b){if(1&m&&(s.TgZ(0,"div",72),s.YNc(1,Nt,1,1,"app-file-attachment",75),s.qZA()),2&m){const p=s.oxw(3).$implicit;s.xp6(1),s.Q6J("ngForOf",p.attachments)}}function In(m,b){if(1&m&&(s.ynx(0,61),s.YNc(1,et,2,4,"div",62),s.YNc(2,Tt,2,1,"div",63),s.YNc(3,$t,2,1,"div",63),s.BQk()),2&m){const p=s.oxw(2).$implicit;s.Q6J("ngSwitch",p.attachmentType),s.xp6(1),s.Q6J("ngSwitchCase","VISUAL"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"),s.xp6(1),s.Q6J("ngSwitchCase","FILE")}}const En=function(m,b,p){return{my:m,unread:b,reply:p}};function $n(m,b){if(1&m&&(s.ynx(0),s.TgZ(1,"div",56),s.YNc(2,w,2,4,"ng-container",17),s.TgZ(3,"div",57),s._uU(4),s.qZA(),s.YNc(5,In,4,4,"ng-container",58),s.TgZ(6,"div",55)(7,"span",59),s._uU(8),s.qZA(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.ALo(12,"date"),s.qZA()()()(),s.BQk()),2&m){const p=s.oxw().$implicit,_=s.oxw();s.xp6(1),s.Q6J("ngClass",s.kEZ(9,En,_.isMy(p.author),!_.readOut(p),p.replyTo)),s.xp6(1),s.Q6J("ngIf",p.replyTo),s.xp6(2),s.hij(" ",p.author.fullName," "),s.xp6(1),s.Q6J("ngIf",p.mediaGroup),s.xp6(3),s.Oqu(p.text),s.xp6(3),s.Oqu(s.xi3(12,6,p.sendAt,"HH:mm"))}}function Xn(m,b){1&m&&s.GkF(0)}function Fn(m,b){if(1&m&&(s.ynx(0),s.YNc(1,Xn,1,0,"ng-container",24),s.BQk()),2&m){const p=s.oxw(2).$implicit;s.oxw();const _=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",s.VKq(2,X,p.replyTo))}}function zn(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",67),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(2).$implicit,j=s.oxw();return s.KtG(j.mediaViewer.showMedia(x.attachments[0]))}),s._UZ(1,"img",68),s.qZA()}if(2&m){const p=s.oxw(2).$implicit,_=s.oxw();s.xp6(1),s.Q6J("src",_.thumbnailUrl+p.attachments[0].name,s.LSH)}}function ri(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",69),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(2).$implicit,j=s.oxw();return s.KtG(j.mediaViewer.showMedia(x.attachments[0]))}),s._UZ(1,"img",68),s.TgZ(2,"div",70),s._UZ(3,"i",71),s.qZA()()}if(2&m){const p=s.oxw(2).$implicit,_=s.oxw();s.xp6(1),s.Q6J("src",_.thumbnailUrl+p.attachments[0].name,s.LSH)}}function mi(m,b){if(1&m&&(s.TgZ(0,"div",80),s._UZ(1,"app-audio-player",74),s.qZA()),2&m){const p=s.oxw(2).$implicit,_=s.oxw();s.xp6(1),s.Q6J("url",_.fileUrl+p.attachments[0].name)}}function no(m,b){if(1&m&&(s.TgZ(0,"div",81),s._UZ(1,"app-file-attachment",76),s.qZA()),2&m){const p=s.oxw(2).$implicit;s.xp6(1),s.Q6J("attachment",p.attachments[0])}}function Vo(m,b){if(1&m&&(s.ynx(0),s.TgZ(1,"div",77),s.YNc(2,Fn,2,4,"ng-container",17),s.TgZ(3,"div",57),s._uU(4),s.qZA(),s.ynx(5,61),s.YNc(6,zn,2,1,"div",65),s.YNc(7,ri,4,1,"div",66),s.YNc(8,mi,2,1,"div",78),s.YNc(9,no,2,1,"div",79),s.BQk(),s.TgZ(10,"div",55)(11,"span",59),s._uU(12),s.qZA(),s.TgZ(13,"div",60)(14,"span"),s._uU(15),s.ALo(16,"date"),s.qZA()()()(),s.BQk()),2&m){const p=s.oxw().$implicit,_=s.oxw();s.xp6(1),s.Q6J("ngClass",s.kEZ(12,En,_.isMy(p.author),!_.readOut(p),p.replyTo)),s.xp6(1),s.Q6J("ngIf",p.replyTo),s.xp6(2),s.hij(" ",p.author.fullName," "),s.xp6(1),s.Q6J("ngSwitch",p.attachments[0].type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO"),s.xp6(4),s.Oqu(p.text),s.xp6(3),s.Oqu(s.xi3(16,9,p.sendAt,"HH:mm"))}}function ao(m,b){1&m&&s.GkF(0)}function Ws(m,b){if(1&m&&(s.ynx(0),s.YNc(1,ao,1,0,"ng-container",24),s.BQk()),2&m){const p=s.oxw(2).$implicit;s.oxw();const _=s.MAs(8);s.xp6(1),s.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",s.VKq(2,X,p.replyTo))}}function fs(m,b){if(1&m&&(s.ynx(0),s.TgZ(1,"div",82),s.YNc(2,Ws,2,4,"ng-container",17),s.TgZ(3,"div",57),s._uU(4),s.qZA(),s.TgZ(5,"div",55)(6,"span",59),s._uU(7),s.qZA(),s.TgZ(8,"div",60)(9,"span"),s._uU(10),s.ALo(11,"date"),s.qZA()()()(),s.BQk()),2&m){const p=s.oxw().$implicit,_=s.oxw();s.xp6(1),s.Q6J("ngClass",s.kEZ(8,En,_.isMy(p.author),!_.readOut(p),p.replyTo)),s.xp6(1),s.Q6J("ngIf",p.replyTo),s.xp6(2),s.hij(" ",p.author.fullName," "),s.xp6(3),s.Oqu(p.text),s.xp6(3),s.Oqu(s.xi3(11,5,p.sendAt,"HH:mm"))}}function Gi(m,b){if(1&m&&(s.YNc(0,$n,13,13,"ng-container",17),s.YNc(1,Vo,17,16,"ng-container",17),s.YNc(2,fs,12,12,"ng-container",17)),2&m){const p=b.$implicit;s.Q6J("ngIf",p.attachments.length>1),s.xp6(1),s.Q6J("ngIf",1===p.attachments.length),s.xp6(1),s.Q6J("ngIf",0===p.attachments.length)}}function Uo(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",67),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(2).$implicit,j=s.oxw();return s.KtG(j.mediaViewer.showMedia(x.attachments[0]))}),s._UZ(1,"img",68),s.qZA()}if(2&m){const p=s.oxw(2).$implicit,_=s.oxw();s.xp6(1),s.Q6J("src",_.thumbnailUrl+p.attachments[0].name,s.LSH)}}function xs(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",69),s.NdJ("click",function(){s.CHM(p);const x=s.oxw(2).$implicit,j=s.oxw();return s.KtG(j.mediaViewer.showMedia(x.attachments[0]))}),s._UZ(1,"video",84),s.TgZ(2,"div",70),s._UZ(3,"i",71),s.qZA()()}if(2&m){const p=s.oxw(2).$implicit,_=s.oxw();s.xp6(1),s.Q6J("controls",!1)("src",_.thumbnailUrl+p.attachments[0].name,s.LSH)}}function ts(m,b){if(1&m&&(s.TgZ(0,"div",80),s._UZ(1,"app-audio-player",74),s.qZA()),2&m){const p=s.oxw(2).$implicit,_=s.oxw();s.xp6(1),s.Q6J("url",_.fileUrl+p.attachments[0].name)}}function sr(m,b){if(1&m&&(s.TgZ(0,"div",81),s._UZ(1,"app-file-attachment",76),s.qZA()),2&m){const p=s.oxw(2).$implicit;s.xp6(1),s.Q6J("attachment",p.attachments[0])}}function ms(m,b){if(1&m&&(s.ynx(0)(1,61),s.YNc(2,Uo,2,1,"div",65),s.YNc(3,xs,4,2,"div",66),s.YNc(4,ts,2,1,"div",78),s.YNc(5,sr,2,1,"div",79),s.BQk()()),2&m){const p=s.oxw().$implicit;s.xp6(1),s.Q6J("ngSwitch",p.attachments[0].type),s.xp6(1),s.Q6J("ngSwitchCase","PHOTO"),s.xp6(1),s.Q6J("ngSwitchCase","VIDEO"),s.xp6(1),s.Q6J("ngSwitchCase","AUDIO")}}function Ys(m,b){if(1&m&&(s.TgZ(0,"div",83)(1,"div",57),s._uU(2),s.qZA(),s.YNc(3,ms,6,4,"ng-container",17),s.TgZ(4,"div",55)(5,"span",59),s._uU(6),s.qZA()()()),2&m){const p=b.$implicit;s.xp6(2),s.hij(" ",p.author.fullName," "),s.xp6(1),s.Q6J("ngIf",p.attachments&&1===p.attachments.length),s.xp6(3),s.Oqu(p.text)}}const Cr=function(){return{width:"min-content",height:"50vh",minWidth:"27rem",minHeight:"15rem",maxWidth:"70vw",maxHeight:"90vh"}},ia=function(){return{display:"grid",padding:"0",height:"100%",grid:"1fr min-content / 1fr"}};let Nn=(()=>{class m{constructor(p,_,x,j,Te){this.personality=p,this.api=_,this.mediaViewer=x,this.chatService=j,this.rt=Te,this.chatId=0,this.isShow=!1,this.thumbnailUrl="/api/private/thumbnail/",this.fileUrl="/api/private/attachment/",this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.unreadCount=0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.shaderVisible=!1,this.messageContexted=-1,this.startButtonVisibleEmitter=new s.vpe,this.startButtonVisible=!0,this.loadingsStubs=Array(5).fill(null),this.subscriptions=new S.xf}get isNotReady(){return 0===this.sendingText.trim().length&&0===this.sendingFiles.length}trackAttachment(p,_){return _.name}isMy(p){var _;return(null===(_=this.personality.me)||void 0===_?void 0:_.login)===p.login}ngOnInit(){}ngAfterViewInit(){const p=this.startButtonVisibleEmitter.pipe((0,Gn.b)(()=>this.startButtonVisible=!1),(0,si.b)(300));this.subscriptions.addSubscription("startButton",p.subscribe(()=>this.startButtonVisible=!0))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}show(p){const _=this.chatId!==p;if(this.chatId=p,this.isShow&&_)return this.isShow=!1,void setTimeout(()=>{this.isShow=!0},500);this.isShow=!0}trackMessages(p,_){return _.superMessageId+_.text}loadChat(){this.api.getChat(this.chatId).subscribe({next:p=>{this.currentChat=p,this.chatService.currentOpenChat=p.chatId}}),this.api.getCountOfUnreadMessages(this.chatId).subscribe(p=>this.unreadCount=p),this.subscriptions.addSubscription("chatUpd",this.rt.chatUpdated().subscribe(this.updateChat.bind(this)))}loadMessages(){!this.isEnd&&!this.isLoading&&(this.isLoading=!0,this.api.getChatMessages(this.chatId,this.first,25).subscribe({next:p=>{this.first=this.first+p.size,this.totalMessages=p.totalElements,this.isEnd=p.last,this.isLoading=!1,this.messages=[...this.messages,...p.content]},error:()=>{this.isLoading=!1}}))}sendMessage(){var p;this.isBeginSending=!0,this.editMessage?this.api.editChatMessage(this.editMessage.superMessageId,this.sendingText).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.editMessage=void 0,setTimeout(()=>{var _;null===(_=this.messageInput)||void 0===_||_.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var _;null===(_=this.messageInput)||void 0===_||_.nativeElement.focus()})}}):this.api.sendChatMessage(this.chatId,this.sendingText,this.sendingFiles,null===(p=this.replyMessage)||void 0===p?void 0:p.superMessageId).subscribe({next:()=>{this.isBeginSending=!1,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,setTimeout(()=>{var _;null===(_=this.messageInput)||void 0===_||_.nativeElement.focus()})},error:()=>{this.isBeginSending=!1,setTimeout(()=>{var _;null===(_=this.messageInput)||void 0===_||_.nativeElement.focus()})}})}messageInputKeyDown(p){var _,x;if("Enter"===p.key)if(p.ctrlKey||this.isNotReady){const j=p.target,Te=j.selectionStart,ot=j.selectionEnd;j.value=j.value.substring(0,null!=Te?Te:-1)+"\n"+j.value.substring(null!=ot?ot:-1),this.sendingText=j.value,j.selectionStart=null!==(_=Te+1)&&void 0!==_?_:0,j.selectionEnd=null!==(x=Te+1)&&void 0!==x?x:0}else p.preventDefault(),this.sendMessage()}insertEmoji(p){var _,x,j;if(null===(_=this.messageInput)||void 0===_||!_.nativeElement)return;const Te=this.messageInput.nativeElement;Te.focus();const ot=Te.selectionStart,Ut=Te.selectionEnd;Te.value=Te.value.substring(0,null!=ot?ot:-1)+p+Te.value.substring(null!=Ut?Ut:-1),Te.selectionStart=null!==(x=ot+1)&&void 0!==x?x:0,Te.selectionEnd=null!==(j=ot+1)&&void 0!==j?j:0,this.sendingText=Te.value}whenOpenPanel(){var p,_;this.loadChat(),this.loadMessages(),this.subscriptions.addSubscription("msgCr",this.rt.chatMessageCreated(this.chatId).subscribe(this.createMessage.bind(this))),this.subscriptions.addSubscription("msgUpd",this.rt.chatMessageUpdated(this.chatId).subscribe(this.updateMessage.bind(this))),this.subscriptions.addSubscription("msgDel",this.rt.chatMessageDeleted(this.chatId).subscribe(this.deleteMessage.bind(this))),this.subscriptions.addSubscription("unreadCount",this.rt.updateCountUnreadMessages(null!==(_=null===(p=this.personality.me)||void 0===p?void 0:p.login)&&void 0!==_?_:"").subscribe(x=>{this.chatId===x.chatId&&(this.unreadCount=x.count)}))}flushMessages(){this.messages=[],this.first=0,this.totalMessages=0,this.sendingText="",this.sendingFiles=[],this.replyMessage=void 0,this.isBeginSending=!1,this.isLoading=!1,this.isEnd=!1,this.chatService.currentOpenChat=void 0,this.subscriptions.unsubscribeAll()}readMessage(p){p.forEach(_=>{var x,j;if(_.isIntersecting){const Te=JSON.parse(null!==(j=null===(x=_.target.attributes.getNamedItem("data-msg"))||void 0===x?void 0:x.value)&&void 0!==j?j:"null");1===this.messages.filter(Ut=>JSON.stringify(Ut.includedMessages)===JSON.stringify(Te)&&!this.readOut(Ut)).length&&this.api.setMessagesAsRead(Te).subscribe()}})}getMessagesIds(p){return p.includedMessages?JSON.stringify(p.includedMessages):"[]"}readOut(p){var _,x;const j=this.personality.me;return!j||null===(_=this.currentChat)||void 0===_||!_.members.map(Te=>Te.login).includes(j.login)||(null===(x=p.readByEmployees)||void 0===x?void 0:x.map(Te=>Te.login).includes(j.login))}showContext(p,_){if(!this.contextMenu)return;this.messageContexted=_.superMessageId;const x=[{label:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",icon:"mdi-reply",command:()=>{var j;this.replyMessage=_,null===(j=this.messageInput)||void 0===j||j.nativeElement.focus()}}];this.isMy(_.author)&&x.push({label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>{var j;this.editMessage=_,this.sendingText=_.text,null===(j=this.messageInput)||void 0===j||j.nativeElement.focus()}},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",style:gn.DANGER,command:()=>{this.api.deleteChatMessage(this.chatId,_.superMessageId).subscribe()}}),this.contextMenu.show(p,x)}clearReplyMessage(){this.replyMessage=void 0}clearEditMessage(){this.editMessage=void 0,this.sendingText=""}createMessage(p){this.messages=[p,...this.messages],this.first++,this.totalMessages++}updateMessage(p){const _=this.messages.findIndex(x=>x.superMessageId===p.superMessageId);-1!=_&&this.messages.splice(_,1,p)}deleteMessage(p){this.messages=this.messages.filter(_=>_.superMessageId!==p.superMessageId)}updateChat(p){p.chatId===this.chatId&&(this.currentChat=p)}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(f.F),s.Y36(F.s),s.Y36(ft.E),s.Y36(yi.a),s.Y36(Dn.U))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-chat-panel"]],viewQuery:function(p,_){if(1&p&&(s.Gf(zr,5),s.Gf(ea,5)),2&p){let x;s.iGM(x=s.CRH())&&(_.messageInput=x.first),s.iGM(x=s.CRH())&&(_.contextMenu=x.first)}},decls:9,vars:6,consts:[["appendTo","body","position","bottom-right",3,"visible","contentStyle","onHide","onShow","visibleChange"],["pTemplate","header"],["pTemplate","content"],["editMessagePreview",""],["messageBody",""],["replyMessageTemp",""],[1,"flexed","hcenter","gap5"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-chat"],[3,"employees"],["appIntersectionObserver","","appScrollToBottomEmitter","","class","chat-view",3,"ngClass","overflow","intersection","onScrollToBottom","scroll",4,"ngIf"],["class","chat-view empty caption size-big wt-bold f-color-500",4,"ngIf"],["class","chat-input",3,"ngClass",4,"ngIf"],["class","chat-input p10 flexed hcenter vcenter",4,"ngIf"],["appIntersectionObserver","","appScrollToBottomEmitter","",1,"chat-view",3,"ngClass","intersection","onScrollToBottom","scroll"],["list",""],["class","message-wrapper",3,"ngClass","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","shader",3,"transform",4,"ngIf"],[3,"onHide","onShow"],["contextMenu",""],["class","scroll-to-start-button",3,"transform","click",4,"ngIf"],[1,"message-wrapper",3,"ngClass","contextmenu"],[3,"deleted","name","size","src"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","message-wrapper",4,"ngFor","ngForOf"],[1,"message-wrapper"],["size","2.3rem","shape","circle"],["width","15rem","height","5rem","borderRadius","1rem 1rem 1rem .3rem"],[1,"shader"],[1,"scroll-to-start-button",3,"click"],["class","ur-badge","severity","warning",3,"style","value",4,"ngIf"],[1,"mdi-arrow_downward"],["severity","warning",1,"ur-badge",3,"value"],[1,"chat-view","empty","caption","size-big","wt-bold","f-color-500"],[1,"chat-input",3,"ngClass"],["class","preview-message-wrapper",4,"ngIf"],[1,"input-wrapper"],["appTextareaAutoresize","","placeholder","\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",1,"borderless-text-field",3,"ngModel","disabled","keydown","ngModelChange"],["messageInput",""],[1,"button-block"],[3,"onChoosing"],[3,"files","disabled","short","filesChange"],["icon","mdi-send","styleClass","p-button-text p-button-icon p-button-rounded",3,"disabled","loading","onClick"],[1,"preview-message-wrapper"],[1,"flexed","hcenter","gap2","caption","size-small","wt-bold","f-color-500"],[1,"mdi-edit"],["icon","mdi-close","styleClass","p-button-text p-button-icon p-button-secondary p-button-rounded",3,"onClick"],[1,"mdi-reply"],[1,"chat-input","p10","flexed","hcenter","vcenter"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter"],[1,"mdi-history"],[1,"message-preview"],["shape","square",1,"avatar",3,"name","size","src"],[1,"author-name"],[1,"message-text"],[1,"chat-message","media-group",3,"ngClass"],[1,"message-header"],[3,"ngSwitch",4,"ngIf"],["appEmojiStyleApply","",1,"content"],[1,"message-footer"],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],["class","flexed column gap5",4,"ngSwitchCase"],[3,"class","ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","img-container",3,"click",4,"ngSwitchCase"],["class","vid-container",3,"click",4,"ngSwitchCase"],[1,"img-container",3,"click"],["alt","",3,"src"],[1,"vid-container",3,"click"],[1,"play-icon"],[1,"mdi-play_arrow"],[1,"flexed","column","gap5"],[3,"url",4,"ngFor","ngForOf"],[3,"url"],[3,"attachment",4,"ngFor","ngForOf"],[3,"attachment"],[1,"chat-message","single-media",3,"ngClass"],["class","aud-container",4,"ngSwitchCase"],["class","file-container",4,"ngSwitchDefault"],[1,"aud-container"],[1,"file-container"],[1,"chat-message",3,"ngClass"],[1,"reply-message"],[3,"controls","src"]],template:function(p,_){1&p&&(s.TgZ(0,"p-dialog",0),s.NdJ("onHide",function(){return _.flushMessages()})("onShow",function(){return _.whenOpenPanel()})("visibleChange",function(j){return _.isShow=j}),s.YNc(1,na,5,3,"ng-template",1),s.YNc(2,es,4,4,"ng-template",2),s.qZA(),s.YNc(3,Bs,6,5,"ng-template",null,3,s.W1O),s.YNc(5,Gi,3,3,"ng-template",null,4,s.W1O),s.YNc(7,Ys,7,3,"ng-template",null,5,s.W1O)),2&p&&(s.Akn(s.DdM(4,Cr)),s.Q6J("visible",_.isShow)("contentStyle",s.DdM(5,ia)))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.RF,e.n9,e.ED,se.zx,sn.Fj,sn.JJ,sn.On,ro.jx,q.V,z.Ct,vn.O,Pe.A,ss.Y,Zo,$o,Je,Jt,Tn.W,Ts,wr,Fs.k,_n,e.uU],styles:['.chat-view[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column-reverse;position:relative;gap:.5rem;overflow-y:auto;overflow-x:hidden;padding:.5rem 1rem 1.5rem;overscroll-behavior-y:none;background-color:var(--bgc-001);border-top:1px solid var(--bgc-200)}.chat-view.empty[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;align-items:center;justify-content:center;height:100%;width:100%}.chat-view.unread[_ngcontent-%COMP%]{box-shadow:inset 0 0 2px var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{display:grid;grid:100%/min-content 1fr;gap:.5rem;width:100%;align-items:flex-end;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper.shaded[_ngcontent-%COMP%]{z-index:1}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:grid;grid:min-content 1fr/1fr;padding:.7rem 1rem;background-color:var(--bgc-200);box-shadow:0 0 1px 1px var(--tc-300);border-radius:1rem 1rem 1rem .3rem;width:-moz-fit-content;width:fit-content;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.reply[_ngcontent-%COMP%]{grid:min-content min-content 1fr/1fr}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]{background-color:var(--mc-0);box-shadow:0 0 1px 1px var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--mc-400)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--mc-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.my[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--mc-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]{background-color:var(--warm-100);box-shadow:0 0 1px 1px var(--warm-300)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--warm-700)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.unread[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{color:var(--warm-500)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]{overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]{padding:.4rem;display:grid;gap:.3rem;width:100%;height:100%;max-width:20rem;top:0;left:0}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g[_ngcontent-%COMP%]{width:100%;height:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g2[_ngcontent-%COMP%]{grid-template-areas:"a b"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g3[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g4[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b c d"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g5[_ngcontent-%COMP%]{grid-template-areas:"a a" "b c" "d e"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g6[_ngcontent-%COMP%]{grid-template-areas:"a a a" "b b c" "d e f"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g7[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d d" "e f g"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g8[_ngcontent-%COMP%]{grid-template-areas:"a b" "c d" "e f" "g h"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g9[_ngcontent-%COMP%]{grid-template-areas:"a a b" "c d e" "f g g" "h h i"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid.g10[_ngcontent-%COMP%]{grid-template-areas:"a b c" "d d e" "f g h" "i j j"}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:.3rem;cursor:pointer}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i0[_ngcontent-%COMP%]{grid-area:a}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i1[_ngcontent-%COMP%]{grid-area:b}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i2[_ngcontent-%COMP%]{grid-area:c}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i3[_ngcontent-%COMP%]{grid-area:d}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i4[_ngcontent-%COMP%]{grid-area:e}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i5[_ngcontent-%COMP%]{grid-area:f}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i6[_ngcontent-%COMP%]{grid-area:g}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i7[_ngcontent-%COMP%]{grid-area:h}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i8[_ngcontent-%COMP%]{grid-area:i}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item.i9[_ngcontent-%COMP%]{grid-area:j}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.media-group[_ngcontent-%COMP%]   .media-grid[_ngcontent-%COMP%]   .media-item[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]{padding:.4rem;position:relative;width:100%;height:100%;max-width:20rem;min-width:5rem;aspect-ratio:1;overflow:hidden;filter:brightness(.9);cursor:pointer;transition:filter .2s ease-in-out}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;height:100%;border-radius:.3rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]:hover, .chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .vid-container[_ngcontent-%COMP%]:hover{filter:brightness(1)}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message.single-media[_ngcontent-%COMP%]   .aud-container[_ngcontent-%COMP%]{padding:.4rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{color:var(--tc-600);font-size:.85rem;font-weight:700;margin-bottom:.2rem}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--tc-700);font-size:1rem;display:flex;flex-wrap:wrap;justify-content:flex-end;overflow-wrap:break-word;white-space:pre-wrap;overflow:hidden}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;max-width:100%}.chat-view[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{display:flex;transform:translateY(.3rem);align-items:flex-end;color:var(--tc-400);font-size:.8rem;font-weight:700;margin-left:.5rem}.scroll-to-start-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:.5rem;z-index:1;cursor:pointer;color:#fff;background-color:var(--bgc-400);width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:.7;font-size:1.2rem;box-shadow:0 0 .7px #00000006,0 0 1.9px #00000009,0 0 4.5px #0000000c,0 0 15px #00000012;transition:all .2s ease-in-out}.scroll-to-start-button[_ngcontent-%COMP%]:hover{opacity:1}.message-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"avatar name" "avatar message";height:max-content;row-gap:0;column-gap:.5rem;flex:1;margin-left:.7rem}.message-preview[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{grid-area:avatar}.message-preview[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{grid-area:name;font-size:.8rem;font-weight:700;color:var(--tc-600)}.message-preview[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{grid-area:message;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;color:var(--tc-700);font-size:.9rem;font-weight:500}.chat-input[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;height:max-content;z-index:1;box-shadow:0 0 .3px #00000005,0 0 .8px #00000007,0 0 1.5px #00000009,0 0 2.7px #0000000b,0 0 5px #0000000d,0 0 12px #00000012}.chat-input[_ngcontent-%COMP%]   .preview-message-wrapper[_ngcontent-%COMP%]{display:grid;gap:.3rem;padding:.5rem;border-bottom:1px solid var(--bgc-200)}.chat-input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.3rem;height:max-content}.chat-input.unread[_ngcontent-%COMP%]{box-shadow:0 0 .3px #ff961f05,0 0 .8px #ff961f07,0 0 1.5px #ff961f09,0 0 2.7px #ff961f0b,0 0 5px #ff961f0d,0 0 12px #ff961f12}.chat-input[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem}.shader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;pointer-events:none}.play-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00000080;border-radius:50%;width:2rem;height:2rem;font-size:1rem;display:flex;justify-content:center;align-items:center;color:#fff}.reply-message[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/100%;border-left:2px solid var(--mc-300);padding:.1rem .5rem;border-radius:.2rem;margin-bottom:.4rem}'],data:{animation:[tn.U1]}}),m})();var Hn=C(9114);let Hi=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({}),m})(),wa=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({imports:[e.ez]}),m})();function Eo(m,b){if(1&m&&s._UZ(0,"p-badge",7),2&m){const p=s.oxw();s.Q6J("value",p.chatService.allUnreadCount.toString())}}function Ks(m,b){1&m&&s.GkF(0)}const ls=function(m){return{$implicit:m}};function rr(m,b){if(1&m&&(s.ynx(0),s.YNc(1,Ks,1,0,"ng-container",13),s.BQk()),2&m){const p=b.$implicit;s.oxw(3);const _=s.MAs(7);s.xp6(1),s.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",s.VKq(2,ls,p))}}function br(m,b){if(1&m&&(s.ynx(0),s.TgZ(1,"div",10),s._uU(2,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0447\u0430\u0442\u044b"),s.qZA(),s.TgZ(3,"div",11),s.YNc(4,rr,2,4,"ng-container",12),s.qZA(),s.BQk()),2&m){const p=s.oxw(2);s.xp6(3),s.Udp("max-height","30rem"),s.xp6(1),s.Q6J("ngForOf",p.chatService.chats)("ngForTrackBy",p.trackByChat)}}function ar(m,b){1&m&&(s.TgZ(0,"div",14),s._UZ(1,"i",15),s.TgZ(2,"span"),s._uU(3,"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0447\u0430\u0442\u043e\u0432"),s.qZA()())}function oa(m,b){if(1&m&&(s.YNc(0,br,5,4,"ng-container",8),s.YNc(1,ar,4,0,"div",9)),2&m){const p=s.oxw();s.Q6J("ngIf",p.chatService.chats.length>0),s.xp6(1),s.Q6J("ngIf",0==p.chatService.chats.length)}}function xr(m,b){if(1&m&&(s.TgZ(0,"span",23),s._UZ(1,"i",24),s.TgZ(2,"span"),s._uU(3),s.qZA()()),2&m){const p=s.oxw().$implicit,_=s.oxw();s.xp6(3),s.hij(" \u041d\u043e\u0432\u044b\u0445: ",_.chatService.unreadMessagesCount[p.chatId]," ")}}function Er(m,b){if(1&m&&(s.TgZ(0,"div",25)(1,"span",22),s._uU(2),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA()()),2&m){const p=s.oxw().$implicit;s.xp6(2),s.hij("",p.lastMessage.author.fullName,": "),s.xp6(2),s.Oqu(p.lastMessage.text)}}const sa=function(m){return{"without-msg":m}};function ra(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",16),s.NdJ("click",function(){const j=s.CHM(p).$implicit,Te=s.oxw(),ot=s.MAs(4);return Te.chatService.open.emit(j.chatId),s.KtG(ot.hide())}),s.TgZ(1,"div",17),s.YNc(2,xr,4,1,"span",18),s.TgZ(3,"span"),s._uU(4),s.qZA()(),s.YNc(5,Er,5,2,"div",19),s.TgZ(6,"div",20),s._UZ(7,"app-avatar-list",21),s.TgZ(8,"span",22),s._uU(9),s.ALo(10,"date"),s.qZA()()()}if(2&m){const p=b.$implicit,_=s.oxw();s.Q6J("ngClass",s.VKq(10,sa,!p.lastMessage)),s.xp6(2),s.Q6J("ngIf",_.chatService.unreadMessagesCount[p.chatId]),s.xp6(2),s.Oqu(p.title),s.xp6(1),s.Q6J("ngIf",p.lastMessage),s.xp6(2),s.Q6J("employees",p.members)("size",1.2),s.xp6(2),s.Oqu(s.xi3(10,7,p.created,"dd-MM-yyyy HH:mm"))}}let lc=(()=>{class m{constructor(p){this.chatService=p,this.overlayPanelVisible=!1}ngOnInit(){}trackByChat(p,_){return _.chatId+_.updated+_.lastMessage+_.title+_.members}alignOverlay(p){setTimeout(()=>{p.alignOverlay()},150)}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(yi.a))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-my-active-chats"]],decls:8,vars:2,consts:[[1,"relative","flexed"],["icon","mdi-chat","styleClass","p-button-text p-button-icon p-button-rounded p-button-secondary",3,"onClick"],["class","ur-badge","severity","warning",3,"value",4,"ngIf"],["appendTo","body",3,"baseZIndex"],["overlayPanelEl",""],["pTemplate","content"],["chatListItem",""],["severity","warning",1,"ur-badge",3,"value"],[4,"ngIf"],["class","caption size-big wt-bold f-color-500 flexed hcenter gap3",4,"ngIf"],[1,"caption","size-big","title"],[1,"chats","list-view"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-speaker_notes_off"],[1,"chat-list-item",3,"ngClass","click"],[1,"caption","size-big","flexed","column"],["class","caption size-tiny wt-bold f-color-500 flexed hcenter gap2",4,"ngIf"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],[1,"meta"],[3,"employees","size"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-tiny","wt-bold","f-color-500","flexed","hcenter","gap2"],[1,"mdi-save_alt"],[1,"caption","size-small","wt-bold","f-color-500"]],template:function(p,_){if(1&p){const x=s.EpF();s.TgZ(0,"span",0)(1,"p-button",1),s.NdJ("onClick",function(Te){s.CHM(x);const ot=s.MAs(4);return _.overlayPanelVisible=!0,s.KtG(ot.toggle(Te))}),s.qZA(),s.YNc(2,Eo,1,1,"p-badge",2),s.qZA(),s.TgZ(3,"p-overlayPanel",3,4),s.YNc(5,oa,2,2,"ng-template",5),s.qZA(),s.YNc(6,ra,11,12,"ng-template",null,6,s.W1O)}2&p&&(s.xp6(2),s.Q6J("ngIf",_.chatService.isHasUnreadMessages&&_.chatService.allUnreadCount),s.xp6(1),s.Q6J("baseZIndex",2e3))},dependencies:[e.mk,e.sg,e.O5,e.tP,se.zx,ro.jx,z.Ct,Ct.T,Fs.k,e.uU],styles:['.chats[_ngcontent-%COMP%]{max-width:30rem}.title[_ngcontent-%COMP%]{padding-bottom:.3rem;border-bottom:1px solid var(--bgc-200)}.chat-list-item[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/1fr max-content;grid-template-areas:"header meta" "lastmsg meta";align-items:center;column-gap:1rem;cursor:pointer;padding:.7rem 1.2rem;transition:background-color .15s ease}.chat-list-item[_ngcontent-%COMP%]:hover{background-color:var(--bgc-100)}.chat-list-item.without-msg[_ngcontent-%COMP%]{grid-template-areas:"header meta" "header meta"}.chat-list-item[_ngcontent-%COMP%]   .caption-header[_ngcontent-%COMP%]{grid-area:header;width:max-content}.chat-list-item[_ngcontent-%COMP%]   .caption-header[_ngcontent-%COMP%]   .caption-tiny[_ngcontent-%COMP%]{color:var(--warm-700)!important}.chat-list-item[_ngcontent-%COMP%]   .caption-secondary[_ngcontent-%COMP%]{grid-area:lastmsg;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin-left:.5rem}.chat-list-item[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{grid-area:meta}']}),m})();var dl=C(6847);function Oi(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"span",5)(1,"p-button",6),s.NdJ("onClick",function(x){s.CHM(p),s.oxw();const j=s.MAs(2);return s.KtG(j.toggle(x))}),s.qZA(),s._UZ(2,"p-badge",7),s.qZA()}if(2&m){const p=s.oxw();s.xp6(2),s.Q6J("value",p.countOfActive.toString())}}function au(m,b){1&m&&s.GkF(0)}const lu=function(m){return{$implicit:m}};function cu(m,b){if(1&m&&(s.ynx(0),s.YNc(1,au,1,0,"ng-container",11),s.BQk()),2&m){const p=b.$implicit;s.oxw(2);const _=s.MAs(5);s.xp6(1),s.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",s.VKq(2,lu,p))}}function cc(m,b){if(1&m&&(s.TgZ(0,"div",8),s._uU(1,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0436\u0443\u0440\u043d\u0430\u043b\u044b \u0440\u0430\u0431\u043e\u0442"),s.qZA(),s.TgZ(2,"div",9),s.YNc(3,cu,2,4,"ng-container",10),s.qZA()),2&m){const p=s.oxw();s.xp6(2),s.Udp("max-height","30rem"),s.xp6(1),s.Q6J("ngForOf",p.workLogs)("ngForTrackBy",p.trackByWorkLog)}}function uu(m,b){1&m&&(s.TgZ(0,"span",21),s._uU(1,"-"),s.qZA())}function jd(m,b){if(1&m&&s._UZ(0,"app-avatar-list",22),2&m){const p=s.oxw().$implicit;s.Q6J("employees",p.whoActive)("size",1.7)}}const xa=function(){return{whiteSpace:"nowrap"}},Ea=function(m){return["/task",m]},uc=function(){return{}};function du(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",12)(1,"p-button",13),s.NdJ("onClick",function(){s.CHM(p),s.oxw();const x=s.MAs(2);return s.KtG(x.hide())}),s.qZA(),s.TgZ(2,"div",14)(3,"span",15),s._uU(4,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438:"),s.qZA(),s.YNc(5,uu,2,0,"span",16),s.YNc(6,jd,1,2,"app-avatar-list",17),s.qZA(),s.TgZ(7,"div")(8,"div",18)(9,"span",15),s._uU(10,"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u043b:"),s.qZA(),s._UZ(11,"app-employee-label",19),s.qZA(),s.TgZ(12,"div")(13,"span",15),s._uU(14,"\u041f\u0440\u043e\u0448\u043b\u043e:"),s.qZA(),s._UZ(15,"app-time-elapsed",20),s.qZA()()()}if(2&m){const p=b.$implicit;s.xp6(1),s.Akn(s.DdM(10,xa)),s.Q6J("label","\u0417\u0430\u0434\u0430\u0447\u0430 #"+p.task.taskId)("routerLink",s.VKq(11,Ea,p.task.taskId)),s.xp6(1),s.Akn(s.DdM(13,uc)),s.xp6(3),s.Q6J("ngIf",0===p.whoActive.length),s.xp6(1),s.Q6J("ngIf",p.whoActive.length>0),s.xp6(5),s.Q6J("employee",p.creator),s.xp6(4),s.Q6J("startTime",p.created)}}let Io=(()=>{class m{constructor(p,_){this.api=p,this.rt=_,this.workLogs=[],this.loading=!1,this.countOfActive=0,this.subscriptions=new S.xf}ngOnInit(){this.loading=!0,this.api.getActiveWorkLogs().subscribe({next:this.loadWorkLogs.bind(this),error:()=>this.loading=!1}),this.api.getCountOfActiveWorkLogs().subscribe({next:p=>this.countOfActive=p,error:()=>this.countOfActive=0}),this.subscriptions.addSubscription("wlCr",this.rt.workLogCreated().subscribe(this.createWorkLog.bind(this))),this.subscriptions.addSubscription("wlUpt",this.rt.workLogUpdated().subscribe(this.updateWorkLog.bind(this))),this.subscriptions.addSubscription("wlCls",this.rt.workLogClosed().subscribe(this.closeWorkLog.bind(this)))}createWorkLog(p){this.workLogs.push(p),this.countOfActive++}updateWorkLog(p){const _=this.workLogs.findIndex(x=>x.workLogId===p.workLogId);_>=0&&(this.workLogs[_]=p)}closeWorkLog(p){const _=this.workLogs.findIndex(x=>x.workLogId===p.workLogId);_>=0&&(this.workLogs.splice(_,1),this.countOfActive--)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadWorkLogs(p){this.loading=!1,this.workLogs=p}trackByWorkLog(p,_){return _.workLogId+JSON.stringify(_.whoAccepted)+JSON.stringify(_.workReports)}}return m.\u0275fac=function(p){return new(p||m)(s.Y36(F.s),s.Y36(Dn.U))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-active-work-logs-panel"]],decls:6,vars:2,consts:[["class","relative flexed",4,"ngIf"],["appendTo","body",3,"baseZIndex"],["overlayPanelEl",""],["pTemplate","content"],["workLogItem",""],[1,"relative","flexed"],["icon","mdi-engineering","styleClass","p-button-secondary p-button-icon p-button-rounded p-button-text",3,"onClick"],[1,"ur-badge",3,"value"],[1,"caption","size-big","title"],[1,"work-logs","list-view"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"work-log-item"],["styleClass","p-button-info p-button-text",3,"label","routerLink","onClick"],[1,"flexed","column"],[1,"caption","size-tiny","wt-bold","f-color-500"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],[3,"employees","size",4,"ngIf"],[1,"flexed","gap3","hcenter"],[3,"employee"],[1,"caption","size-small","wt-bold","f-color-500",3,"startTime"],[1,"caption","size-small","wt-bold","f-color-500"],[3,"employees","size"]],template:function(p,_){1&p&&(s.YNc(0,Oi,3,1,"span",0),s.TgZ(1,"p-overlayPanel",1,2),s.YNc(3,cc,4,4,"ng-template",3),s.qZA(),s.YNc(4,du,16,14,"ng-template",null,4,s.W1O)),2&p&&(s.Q6J("ngIf",_.countOfActive),s.xp6(1),s.Q6J("baseZIndex",2e3))},dependencies:[e.sg,e.O5,e.tP,V.rH,se.zx,ro.jx,z.Ct,Ct.T,Ji.x,Fs.k,dl.j],styles:[".title[_ngcontent-%COMP%]{padding-bottom:.3rem;border-bottom:1px solid var(--bgc-200)}.work-log-item[_ngcontent-%COMP%]{display:grid;grid:min-content/max-content max-content 1fr;gap:.5rem;padding:.5rem;align-items:center}.work-log-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}"]}),m})();function Ga(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"span",4),s.NdJ("click",function(x){s.CHM(p),s.oxw();const j=s.MAs(2);return s.KtG(j.toggle(x))}),s.TgZ(1,"span"),s._uU(2),s.qZA(),s._UZ(3,"i",5),s.qZA()}if(2&m){const p=s.oxw();s.xp6(2),s.Oqu(p.currentName)}}function aa(m,b){if(1&m){const p=s.EpF();s.TgZ(0,"div",7),s.NdJ("click",function(){const j=s.CHM(p).$implicit,Te=s.oxw(2),ot=s.MAs(2);return Te.onChange(j.id),s.KtG(ot.hide())}),s._uU(1),s.qZA()}if(2&m){const p=b.$implicit;s.xp6(1),s.hij(" ",p.name," ")}}function pu(m,b){if(1&m&&s.YNc(0,aa,2,1,"div",6),2&m){const p=s.oxw();s.Q6J("ngForOf",p.variationList)("ngForTrackBy",p.trackByVariation)}}let dc=(()=>{class m{constructor(){this.variationList=[],this.value="",this.valueChange=new s.vpe}get currentName(){var p,_;return this.value&&null!==(_=null===(p=this.variationList.find(x=>x.id===this.value))||void 0===p?void 0:p.name)&&void 0!==_?_:""}trackByVariation(p,_){return _.id}ngOnInit(){}ngOnChanges(p){const _=p.value;_&&!_.currentValue&&this.variationList&&this.variationList.length&&this.onChange(this.variationList[0].id)}onChange(p){console.log("Change",p),this.value=p,this.valueChange.emit(p)}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-input-variation-selector"]],inputs:{variationList:"variationList",value:"value"},outputs:{valueChange:"valueChange"},features:[s.TTD],decls:4,vars:1,consts:[["class","caption size-small wt-bold f-color-primary flexed hstart input-field",3,"click",4,"ngIf"],["styleClass","no-paddings"],["overlayPanelEl",""],["pTemplate","content"],[1,"caption","size-small","wt-bold","f-color-primary","flexed","hstart","input-field",3,"click"],[1,"mdi-arrow_drop_down"],["pRipple","","class","list-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["pRipple","",1,"list-item",3,"click"]],template:function(p,_){1&p&&(s.YNc(0,Ga,4,1,"span",0),s.TgZ(1,"p-overlayPanel",1,2),s.YNc(3,pu,1,2,"ng-template",3),s.qZA()),2&p&&s.Q6J("ngIf",_.variationList&&_.variationList.length)},dependencies:[e.sg,e.O5,ro.jx,Ct.T,_i.H],styles:[".input-field[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:opacity .15s ease-in-out}.input-field[_ngcontent-%COMP%]:hover{opacity:.8}.list-item[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .15s ease-in-out;color:var(--tc-600);padding:.5rem .9rem}.list-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),m})();var _s=C(7102),lr=C(2145),Qa=C(8952),la=C(4496),Sa=C(9873);let D=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({providers:[{provide:Dt.f,useFactory:ln}],imports:[Kt.z,e.ez,L.$9,se.hJ,sn.u5,ni.kW,Ui.L$,kt.A,q.S,an.LU,z.TX,ei.L,tt.EV,At.j,qt.zz,gt,vn.m,oe.nD,xe.JP,Ct.y,mn.q4,yn.n,xn.e4,Kn.E,sn.UX,is,Ln.qH,Sn.l,gr.U,cs.ON,jo._8,Ko,mo,Hn.D,ps.q,Gs.JH,Hi,_i.T,wa,_s.Qy,lr.WN,Qa.U$,la.ce,Sa._t]}),m})();s.B6R(R.V,[e.mk,e.sg,e.O5,V.rH,V.Od,Pt,B.C],[]),s.B6R(Bt.o,[e.O5,e.tP,e.RF,e.n9,e.ED,sn.Fj,sn.JJ,sn.On,ni.Lt,Ui.Rn,kt.g,At.o,$e.h,Rn.k,ie,Si.Q,po,dc],[]),s.B6R(qn.h,[e.sg,e.O5,V.lC,V.rH,se.zx,ro.jx,zs,Hn.Q,Me,Fe.r,dt,ai,$o,vt,Nn,lc,Io],[]),s.B6R(hn.U,[e.O5,V.rH,ro.jx,vn.O,Ct.T,bt.E],[]),s.B6R(Ji.x,[e.O5,e.RF,e.n9,ro.jx,vn.O,Ct.T,Pe.A],[]),s.B6R(Zs.y,[e.O5,ro.jx,vn.O,Ct.T,Pe.A],[]),s.B6R(tr._,[e.sg,Ji.x],[])},9925:(Lt,qe,C)=>{C.d(qe,{z:()=>f});var e=C(9808),s=C(5e3);let f=(()=>{class V{}return V.\u0275fac=function(I){return new(I||V)},V.\u0275mod=s.oAB({type:V}),V.\u0275inj=s.cJS({imports:[e.ez]}),V})()},975:(Lt,qe,C)=>{C.r(qe),C.d(qe,{LoginModule:()=>ut});var e=C(3470),s=C(2382),f=C(4e3),V=C(5e3),F=C(8738),I=C(1424),L=C(9808),se=C(845);function q(Pe,We){1&Pe&&(V.TgZ(0,"span",9),V._uU(1,"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0435\u0440\u043d\u044b"),V.qZA()),2&Pe&&V.Q6J("@fade",void 0)}const he=[{path:"",component:(()=>{class Pe{constructor(J,de){this.api=J,this.router=de,this.loginForm=new s.cw({login:new s.NI("",s.kI.required),password:new s.NI("",s.kI.required)}),this.isWrongCredentials=!1,this.isLogining=!1}ngOnInit(){}setWrongCredentials(){this.wrongCredentialsTimer&&clearTimeout(this.wrongCredentialsTimer),this.isWrongCredentials=!0,this.wrongCredentialsTimer=setTimeout(()=>this.isWrongCredentials=!1,3e3)}signIn(){!this.loginForm.valid||(this.isLogining=!0,this.api.signIn(this.loginForm.getRawValue()).subscribe({next:()=>{this.router.navigate(["/"]).then(),this.isLogining=!1},error:J=>{this.setWrongCredentials(),this.isLogining=!1}}))}}return Pe.\u0275fac=function(J){return new(J||Pe)(V.Y36(F.s),V.Y36(e.F0))},Pe.\u0275cmp=V.Xpm({type:Pe,selectors:[["ng-component"]],decls:15,vars:5,consts:[[1,"page-wrapper"],[1,"login-panel",3,"formGroup","keyup.enter"],[1,"caption"],["src","assets/logo-dark.svg"],[1,"input-label-wrapper","full-width"],["formControlName","login","pInputText","",3,"autocomplete"],["formControlName","password","pInputText","","type","password",3,"autocomplete"],["styleClass","b-stretched p-button-outlined","icon","mdi-login","label","\u0412\u043e\u0439\u0442\u0438",3,"loading","onClick"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(J,de){1&J&&(V.TgZ(0,"div",0)(1,"form",1),V.NdJ("keyup.enter",function(){return de.signIn()}),V.TgZ(2,"span",2),V._UZ(3,"img",3),V.qZA(),V.TgZ(4,"span",4)(5,"label"),V._uU(6,"\u041b\u043e\u0433\u0438\u043d"),V.qZA(),V._UZ(7,"input",5),V.qZA(),V.TgZ(8,"span",4)(9,"label"),V._uU(10,"\u041f\u0430\u0440\u043e\u043b\u044c"),V.qZA(),V._UZ(11,"input",6),V.qZA(),V._UZ(12,"span"),V.TgZ(13,"p-button",7),V.NdJ("onClick",function(){return de.signIn()}),V.qZA()(),V.YNc(14,q,2,1,"span",8),V.qZA()),2&J&&(V.xp6(1),V.Q6J("formGroup",de.loginForm),V.xp6(6),V.Q6J("autocomplete","off"),V.xp6(4),V.Q6J("autocomplete","off"),V.xp6(2),V.Q6J("loading",de.isLogining),V.xp6(1),V.Q6J("ngIf",de.isWrongCredentials))},dependencies:[I.o,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,L.O5,se.zx],styles:[".page-wrapper[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.page-wrapper[_ngcontent-%COMP%]   .login-panel[_ngcontent-%COMP%]{width:max-content;height:max-content;min-width:27rem;display:flex;flex-direction:column;gap:1rem;padding:2rem;border-radius:1rem;background-color:#fff;box-shadow:var(--shadow-200)}.error-message[_ngcontent-%COMP%]{position:absolute;background-color:#f56262;color:#fff;border-radius:.5rem;padding:.7rem 1rem;font-size:.9rem;font-weight:700;bottom:10%}"],data:{animation:[f.U1]}}),Pe})()}];let ne=(()=>{class Pe{}return Pe.\u0275fac=function(J){return new(J||Pe)},Pe.\u0275mod=V.oAB({type:Pe}),Pe.\u0275inj=V.cJS({imports:[e.Bz.forChild(he),e.Bz]}),Pe})();var De=C(1777),ue=C(5730),ge=C(9783),pe=C(5921);const ke=["input"];function Q(Pe,We){if(1&Pe){const J=V.EpF();V.TgZ(0,"i",5),V.NdJ("click",function(){V.CHM(J);const Qe=V.oxw();return V.KtG(Qe.clear())}),V.qZA()}}function Oe(Pe,We){if(1&Pe){const J=V.EpF();V.TgZ(0,"i",6),V.NdJ("click",function(){V.CHM(J);const Qe=V.oxw();return V.KtG(Qe.onMaskToggle())}),V.ALo(1,"mapper"),V.qZA()}if(2&Pe){const J=V.oxw();V.Q6J("ngClass",V.xi3(1,1,J.unmasked,J.toggleIconClass))}}function le(Pe,We){1&Pe&&V.GkF(0)}function P(Pe,We){1&Pe&&V.GkF(0)}function N(Pe,We){if(1&Pe&&(V.ynx(0),V.YNc(1,P,1,0,"ng-container",8),V.BQk()),2&Pe){const J=V.oxw(2);V.xp6(1),V.Q6J("ngTemplateOutlet",J.contentTemplate)}}const we=function(Pe){return{width:Pe}};function be(Pe,We){if(1&Pe&&(V.TgZ(0,"div",11),V._UZ(1,"div",0),V.ALo(2,"mapper"),V.qZA(),V.TgZ(3,"div",12),V._uU(4),V.qZA()),2&Pe){const J=V.oxw(2);V.xp6(1),V.Q6J("ngClass",V.xi3(2,3,J.meter,J.strengthClass))("ngStyle",V.VKq(6,we,J.meter?J.meter.width:"")),V.xp6(3),V.Oqu(J.infoText)}}function ye(Pe,We){1&Pe&&V.GkF(0)}const G=function(Pe,We){return{showTransitionParams:Pe,hideTransitionParams:We}},E=function(Pe){return{value:"visible",params:Pe}};function U(Pe,We){if(1&Pe){const J=V.EpF();V.TgZ(0,"div",6,7),V.NdJ("click",function(Qe){V.CHM(J);const re=V.oxw();return V.KtG(re.onOverlayClick(Qe))})("@overlayAnimation.start",function(Qe){V.CHM(J);const re=V.oxw();return V.KtG(re.onAnimationStart(Qe))})("@overlayAnimation.done",function(Qe){V.CHM(J);const re=V.oxw();return V.KtG(re.onAnimationEnd(Qe))}),V.YNc(2,le,1,0,"ng-container",8),V.YNc(3,N,2,1,"ng-container",9),V.YNc(4,be,5,8,"ng-template",null,10,V.W1O),V.YNc(6,ye,1,0,"ng-container",8),V.qZA()}if(2&Pe){const J=V.MAs(5),de=V.oxw();V.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",V.VKq(9,E,V.WLB(6,G,de.showTransitionOptions,de.hideTransitionOptions))),V.xp6(2),V.Q6J("ngTemplateOutlet",de.headerTemplate),V.xp6(1),V.Q6J("ngIf",de.contentTemplate)("ngIfElse",J),V.xp6(3),V.Q6J("ngTemplateOutlet",de.footerTemplate)}}let Ae=(()=>{class Pe{transform(J,de,...Qe){return de(J,...Qe)}}return Pe.\u0275fac=function(J){return new(J||Pe)},Pe.\u0275pipe=V.Yjl({name:"mapper",type:Pe,pure:!0}),Pe})();const Ne={provide:s.JU,useExisting:(0,V.Gpc)(()=>He),multi:!0};let He=(()=>{class Pe{constructor(J,de,Qe,re){this.cd=J,this.config=de,this.el=Qe,this.overlayService=re,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new V.vpe,this.onBlur=new V.vpe,this.onClear=new V.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(J=>{switch(J.getType()){case"content":default:this.contentTemplate=J.template;break;case"header":this.headerTemplate=J.template;break;case"footer":this.footerTemplate=J.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(J){switch(J.toState){case"visible":this.overlay=J.element,pe.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(J){"void"===J.toState&&pe.P9.clear(J.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=ue.p.getOuterWidth(this.input.nativeElement)+"px",ue.p.absolutePosition(this.overlay,this.input.nativeElement)):ue.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(J){this.value=J.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(J){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(J)}onInputBlur(J){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(J)}onKeyDown(J){"Escape"===J.key&&(this.overlayVisible=!1)}onKeyUp(J){this.feedback&&(this.updateUI(J.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(J){let de=null,Qe=null;switch(this.testStrength(J)){case 1:de=this.weakText(),Qe={strength:"weak",width:"33.33%"};break;case 2:de=this.mediumText(),Qe={strength:"medium",width:"66.66%"};break;case 3:de=this.strongText(),Qe={strength:"strong",width:"100%"};break;default:de=this.promptText(),Qe=null}this.meter=Qe,this.infoText=de}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(J){this.overlayService.add({originalEvent:J,target:this.el.nativeElement})}testStrength(J){let de=0;return this.strongCheckRegExp.test(J)?de=3:this.mediumCheckRegExp.test(J)?de=2:J.length&&(de=1),de}writeValue(J){this.value=void 0===J?null:J,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(J){this.onModelChange=J}registerOnTouched(J){this.onModelTouched=J}setDisabledState(J){this.disabled=J}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ue.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!ue.p.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(J){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":J}}inputFieldClass(J){return{"p-password-input":!0,"p-disabled":J}}toggleIconClass(J){return J?"pi pi-eye-slash":"pi pi-eye"}strengthClass(J){return`p-password-strength ${J?J.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(ge.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(ge.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(ge.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(ge.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(J){return J?"text":"password"}getTranslation(J){return this.config.getTranslation(J)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(pe.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return Pe.\u0275fac=function(J){return new(J||Pe)(V.Y36(V.sBO),V.Y36(ge.b4),V.Y36(V.SBq),V.Y36(ge.F0))},Pe.\u0275cmp=V.Xpm({type:Pe,selectors:[["p-password"]],contentQueries:function(J,de,Qe){if(1&J&&V.Suo(Qe,ge.jx,4),2&J){let re;V.iGM(re=V.CRH())&&(de.templates=re)}},viewQuery:function(J,de){if(1&J&&V.Gf(ke,5),2&J){let Qe;V.iGM(Qe=V.CRH())&&(de.input=Qe.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(J,de){2&J&&V.ekj("p-inputwrapper-filled",de.filled())("p-inputwrapper-focus",de.focused)("p-password-clearable",de.showClear)("p-password-mask",de.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[V._Bn([Ne])],decls:9,vars:27,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(J,de){1&J&&(V.TgZ(0,"div",0),V.ALo(1,"mapper"),V.TgZ(2,"input",1,2),V.NdJ("input",function(re){return de.onInput(re)})("focus",function(re){return de.onInputFocus(re)})("blur",function(re){return de.onInputBlur(re)})("keyup",function(re){return de.onKeyUp(re)})("keydown",function(re){return de.onKeyDown(re)}),V.ALo(4,"mapper"),V.ALo(5,"mapper"),V.qZA(),V.YNc(6,Q,1,0,"i",3),V.YNc(7,Oe,2,4,"i",4),V.YNc(8,U,7,11,"div",4),V.qZA()),2&J&&(V.Tol(de.styleClass),V.Q6J("ngClass",V.xi3(1,18,de.toggleMask,de.containerClass))("ngStyle",de.style),V.xp6(2),V.Tol(de.inputStyleClass),V.Q6J("ngClass",V.xi3(4,21,de.disabled,de.inputFieldClass))("ngStyle",de.inputStyle)("value",de.value),V.uIk("label",de.label)("aria-label",de.ariaLabel)("aria-labelledBy",de.ariaLabelledBy)("id",de.inputId)("type",V.xi3(5,24,de.unmasked,de.inputType))("placeholder",de.placeholder),V.xp6(4),V.Q6J("ngIf",de.showClear&&null!=de.value),V.xp6(1),V.Q6J("ngIf",de.toggleMask),V.xp6(1),V.Q6J("ngIf",de.overlayVisible))},dependencies:[L.mk,L.O5,L.tP,L.PC,I.o,Ae],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,De.X$)("overlayAnimation",[(0,De.eR)(":enter",[(0,De.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,De.jt)("{{showTransitionParams}}")]),(0,De.eR)(":leave",[(0,De.jt)("{{hideTransitionParams}}",(0,De.oB)({opacity:0}))])])]},changeDetection:0}),Pe})(),Re=(()=>{class Pe{}return Pe.\u0275fac=function(J){return new(J||Pe)},Pe.\u0275mod=V.oAB({type:Pe}),Pe.\u0275inj=V.cJS({imports:[L.ez,I.j,ge.m8]}),Pe})();var gt=C(1663);let ut=(()=>{class Pe{}return Pe.\u0275fac=function(J){return new(J||Pe)},Pe.\u0275mod=V.oAB({type:Pe}),Pe.\u0275inj=V.cJS({imports:[ne,I.j,Re,gt.U,s.UX,se.hJ]}),Pe})()},6870:(Lt,qe,C)=>{C.r(qe),C.d(qe,{MainModule:()=>u6});var e=C(5e3),s=C(3470),f=C(4488),V=C(8738),F=C(4004),I=C(9808),L=C(538);function se(n,o){1&n&&e.GkF(0)}function q(n,o){if(1&n&&(e.ynx(0),e.YNc(1,se,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function z(n,o){1&n&&e.GkF(0)}function he(n,o){if(1&n&&(e.ynx(0),e.YNc(1,z,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ne(n,o){1&n&&e.GkF(0)}function De(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ne,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ue(n,o){1&n&&e.GkF(0)}function ge(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ue,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(14);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function pe(n,o){1&n&&e.GkF(0)}function ke(n,o){if(1&n&&(e.ynx(0),e.YNc(1,pe,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}const Q=function(){return["/tasks","incoming"]},Oe=function(){return["/billing","search"]},le=function(){return["/addresses","list"]},P=function(){return["/employees"]},N=function(){return["/salary","table"]};function we(n,o){1&n&&e._UZ(0,"app-extended-menu-item",10)(1,"app-extended-menu-item",11)(2,"app-extended-menu-item",12)(3,"app-extended-menu-item",13)(4,"app-extended-menu-item",14)(5,"app-extended-menu-item",15)(6,"app-extended-menu-item",16),2&n&&(e.Q6J("link",e.DdM(5,Q)),e.xp6(1),e.Q6J("link",e.DdM(6,Oe)),e.xp6(1),e.Q6J("link",e.DdM(7,le)),e.xp6(3),e.Q6J("link",e.DdM(8,P)),e.xp6(1),e.Q6J("link",e.DdM(9,N)))}function be(n,o){1&n&&e.GkF(0)}const ye=function(){return{name:"\u0417\u0430\u0434\u0430\u0447\u0438"}},G=function(){return["/tasks","calendar"]},E=function(){return["/tasks","list"]},U=function(){return["/tasks","templates"]};function $(n,o){if(1&n&&(e.YNc(0,be,1,0,"ng-container",17),e._UZ(1,"app-extended-menu-item",18),e.ALo(2,"async"),e._UZ(3,"app-extended-menu-item",19)(4,"app-extended-menu-item",20)(5,"app-extended-menu-item",21)(6,"app-extended-menu-item",22)),2&n){const t=e.oxw(),i=e.MAs(16);let r;e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.DdM(11,ye)),e.xp6(1),e.Q6J("link",e.DdM(12,Q))("badge",null!==(r=e.lcZ(2,9,t.incomingCount$))&&void 0!==r?r:""),e.xp6(2),e.Q6J("link",e.DdM(13,G)),e.xp6(1),e.Q6J("link",e.DdM(14,E)),e.xp6(1),e.Q6J("elements",t.stagesMenuItems)("isExtended",t.stageMenuExtended),e.xp6(1),e.Q6J("link",e.DdM(15,U))}}function Ae(n,o){1&n&&e.GkF(0)}const Ne=function(){return{name:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}},He=function(){return["/salary","estimation"]},Re=function(){return["/salary","estimation","bypass"]},gt=function(){return["/salary","works"]},ut=function(){return["/salary","paid-actions"]};function Pe(n,o){if(1&n&&(e.YNc(0,Ae,1,0,"ng-container",17),e._UZ(1,"app-extended-menu-item",23)(2,"app-extended-menu-item",24)(3,"app-extended-menu-item",25)(4,"app-extended-menu-item",26)(5,"app-extended-menu-item",27)),2&n){e.oxw();const t=e.MAs(16);e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(7,Ne)),e.xp6(1),e.Q6J("link",e.DdM(8,N)),e.xp6(1),e.Q6J("link",e.DdM(9,He)),e.xp6(1),e.Q6J("link",e.DdM(10,Re)),e.xp6(1),e.Q6J("link",e.DdM(11,gt)),e.xp6(1),e.Q6J("link",e.DdM(12,ut))}}function We(n,o){1&n&&e.GkF(0)}const J=function(){return{name:"\u0410\u0434\u0440\u0435\u0441\u0430"}},de=function(){return["/addresses","schemes"]};function Qe(n,o){if(1&n&&(e.YNc(0,We,1,0,"ng-container",17),e._UZ(1,"app-extended-menu-item",28)(2,"app-extended-menu-item",29)),2&n){e.oxw();const t=e.MAs(16);e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(4,J)),e.xp6(1),e.Q6J("link",e.DdM(5,le)),e.xp6(1),e.Q6J("link",e.DdM(6,de))}}const re=function(){return["/"]};function Ve(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",30)(2,"span",31),e._uU(3,"navigate_before"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e._UZ(6,"hr",32),e.qZA()),2&n){const t=o.name;e.xp6(1),e.Q6J("routerLink",e.DdM(4,re)),e.xp6(4),e.Oqu(t),e.xp6(1),e.Udp("margin",".7rem 1rem 1rem 1rem")}}let Me=(()=>{class n{constructor(t,i){this.api=t,this.route=i,this.stagesMenuItems=[],this.stageMenuExtended=!1,this.stagesLoaded=!1,this.category="main",this.incomingCount$=this.api.getCountIncomingTasks().pipe((0,F.U)(r=>r.toString()))}ngOnInit(){this.route.url.pipe((0,F.U)(t=>t.map(i=>i.path))).subscribe(t=>{this.category=t[0],this.stagesLoaded||this.api.getWireframesNames().subscribe(i=>{i.forEach(r=>{const c=["/tasks/stages",r.wireframeId.toString()];this.stagesMenuItems=[...this.stagesMenuItems,{label:r.name,link:c,extended:!1}],"/"+t.join("/")===c.join("/")&&(this.stageMenuExtended=!0)}),this.stagesLoaded=!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(s.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-main-menu-panel"]],decls:17,vars:5,consts:[[1,"menu-panel"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["main",""],["tasks",""],["salary",""],["addresses",""],["backButton",""],[4,"ngTemplateOutlet"],["caption","\u0417\u0430\u0434\u0430\u0447\u0438","icon","task",3,"link"],["caption","\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u044b","icon","group",3,"link"],["caption","\u0410\u0434\u0440\u0435\u0441\u0430","icon","home_work",3,"link"],["caption","\u041a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u044b","icon","dns"],["caption","\u0421\u043a\u043b\u0430\u0434","icon","warehouse"],["caption","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438","icon","account_circle",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430","icon","currency_ruble",3,"link"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["caption","\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435","icon","inbox",3,"link","badge"],["caption","\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c","icon","calendar_month",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a","icon","format_list_bulleted",3,"link"],["caption","\u0414\u043e\u0441\u043a\u0430","icon","checklist",3,"elements","isExtended"],["caption","\u0422\u0435\u0433\u0438/\u0428\u0430\u0431\u043b\u043e\u043d\u044b","icon","ballot",3,"link"],["caption","\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430","icon","table_chart",3,"link"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442","icon","exposure_plus_2",3,"link"],["caption","\u041f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 (\u0430\u043b\u0442.)","icon","auto_awesome",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442","icon","construction",3,"link"],["caption","\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","icon","toc",3,"link"],["caption","\u0421\u043f\u0438\u0441\u043e\u043a","icon","view_list",3,"link"],["caption","\u0421\u0445\u0435\u043c\u044b \u0434\u043e\u043c\u043e\u0432","icon","schema",3,"link"],[1,"back-button",3,"routerLink"],[1,"material-icons-round","parent-inherit"],[1,"h-divider"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,q,2,1,"ng-container",2),e.YNc(3,he,2,1,"ng-container",2),e.YNc(4,De,2,1,"ng-container",2),e.YNc(5,ge,2,1,"ng-container",2),e.YNc(6,ke,2,1,"ng-container",3),e.BQk(),e.qZA(),e.YNc(7,we,7,10,"ng-template",null,4,e.W1O),e.YNc(9,$,7,16,"ng-template",null,5,e.W1O),e.YNc(11,Pe,6,13,"ng-template",null,6,e.W1O),e.YNc(13,Qe,3,7,"ng-template",null,7,e.W1O),e.YNc(15,Ve,7,5,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngSwitch",i.category),e.xp6(1),e.Q6J("ngSwitchCase","main"),e.xp6(1),e.Q6J("ngSwitchCase","tasks"),e.xp6(1),e.Q6J("ngSwitchCase","salary"),e.xp6(1),e.Q6J("ngSwitchCase","addresses"))},dependencies:[I.tP,I.RF,I.n9,I.ED,s.rH,L.V,I.Ov],styles:[".menu-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:var(--shadow-0);background-color:#fff;border-radius:var(--br-200);height:-moz-fit-content;height:fit-content;min-width:20rem;padding:1rem;gap:1rem;position:sticky;top:calc(var(--top-panel-height) + 1.5rem)}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:.5rem;color:var(--tc-800);font-size:1.2rem;transition:color .15s ease-out,background-color .15s ease-out;outline:none}.back-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.back-button[_ngcontent-%COMP%]:active{color:var(--mc-0);background-color:var(--mc-300)}"]}),n})();var Fe=C(4881);let $e=(()=>{class n{constructor(t){this.host=t,this.limited=!1,this.shift=0,"complete"===document.readyState&&setTimeout(this.onResize.bind(this),0)}onLoad(){}onResize(){const{y:t}=this.host.element.nativeElement.getBoundingClientRect(),i=window.innerHeight;this.limited||(this.host.element.nativeElement.style.minHeight=i-(t<0?0:t)-this.shift+"px"),this.limited&&(this.host.element.nativeElement.style.height=i-(t<0?0:t)-this.shift+"px")}onScroll(t){this.onResize()}ngAfterViewInit(){this.onResize()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","appExtendPageHeight",""]],hostBindings:function(t,i){1&t&&e.NdJ("load",function(){return i.onLoad()},!1,e.Jf7)("resize",function(){return i.onResize()},!1,e.Jf7)("scroll",function(c){return i.onScroll(c)},!1,e.Jf7)},inputs:{limited:"limited",shift:"shift"}}),n})();var R=C(2382),it=C(383),Le=C(9783),Et=C(3640),un=C(6526);function Cn(n,o){1&n&&(e.TgZ(0,"div",10),e._uU(1,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438"),e.qZA())}function Ot(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function en(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.NdJ("mouseenter",function(r){e.CHM(t),e.oxw(2);const c=e.MAs(4);return e.KtG(c.show(r))})("mouseleave",function(){e.CHM(t),e.oxw(2);const r=e.MAs(4);return e.KtG(r.hide())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" \u0418 \u0435\u0449\u0435 ",t.selectedTags.length-2," ")}}function at(n,o){if(1&n&&(e.YNc(0,Cn,2,0,"div",7),e.TgZ(1,"div",8),e.YNc(2,Ot,2,3,"div",6),e.ALo(3,"slice"),e.YNc(4,en,2,1,"div",9),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngIf",!t.selectedTags||0===t.selectedTags.length),e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,4,t.selectedTags,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2)}}function Pt(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function Bt(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}let tn=(()=>{class n{constructor(t){this.api=t,this.availableTags=[],this.control=new R.NI(null),this.subscription=new it.xf,this.onChange=()=>{},this.onTouched=()=>{}}get selectedTags(){return this.availableTags.filter(t=>{var i;return null===(i=this.control.value)||void 0===i?void 0:i.includes(t.taskTagId)})}trackByTaskTag(t,i){return i.taskTagId}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.api.getTaskTags(!0).subscribe(t=>{this.availableTags=t}),this.subscription.addSubscription("change",this.control.valueChanges.pipe((0,F.U)(t=>null!=t?t:[])).subscribe(t=>{console.log(t),this.onChange(t)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-filter-input"]],features:[e._Bn([{provide:R.JU,multi:!0,useExisting:n}])],decls:8,vars:9,consts:[["filterBy","name","appendTo","body","defaultLabel","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438","optionValue","taskTagId","placeholder","\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u0433\u0438",3,"formControl","filter","options","showClear","onBlur"],["pTemplate","selectedItems"],["pTemplate","item"],["showTransitionOptions","0ms","hideTransitionOptions","0ms"],["extraPreview",""],[1,"tags-view","wrap","max"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-placeholder",4,"ngIf"],[1,"tags-view"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],[1,"tags-view-placeholder"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"]],template:function(t,i){1&t&&(e.TgZ(0,"p-multiSelect",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,at,5,8,"ng-template",1),e.YNc(2,Pt,2,3,"ng-template",2),e.qZA(),e.TgZ(3,"p-overlayPanel",3,4)(5,"div",5),e.YNc(6,Bt,2,3,"div",6),e.ALo(7,"slice"),e.qZA()()),2&t&&(e.Q6J("formControl",i.control)("filter",!0)("options",i.availableTags)("showClear",!0),e.xp6(6),e.Q6J("ngForOf",e.xi3(7,6,i.selectedTags,2))("ngForTrackBy",i.trackByTaskTag))},dependencies:[I.sg,I.O5,R.JJ,Le.jx,Et.T,un.NU,R.oH,I.OU]}),n})();var ft=C(540),ei=C(7102);let qn=(()=>{class n{constructor(){this.chooserControl=new R.NI([]),this.options=[{name:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",value:ft.hY.ACTIVE},{name:"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",value:ft.hY.PROCESSING},{name:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435",value:ft.hY.CLOSE}],this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.chooserControl.valueChanges.subscribe(t=>{this.onChange(t||[])})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.chooserControl.disable({emitEvent:!1}):this.chooserControl.enable({emitEvent:!1})}writeValue(t){this.chooserControl.setValue(t||[])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-status-chooser"]],features:[e._Bn([{provide:R.JU,multi:!0,useExisting:n}])],decls:1,vars:3,consts:[["optionLabel","name","optionValue","value",3,"options","formControl","multiple"]],template:function(t,i){1&t&&e._UZ(0,"p-selectButton",0),2&t&&e.Q6J("options",i.options)("formControl",i.chooserControl)("multiple",!0)},dependencies:[R.JJ,R.oH,ei.UN]}),n})();var Ht=C(4036),mt=C(7010),Ze=C(1424),It=C(1886),M=C(9477);function _e(n,o){1&n&&e.GkF(0)}const Ie=function(){return{label:"\u0414\u0430",value:!0}},Xe=function(){return{label:"\u041d\u0435\u0442",value:!1}},Rt=function(){return{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:null}},Qt=function(n,o,t){return[n,o,t]};function nn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,_e,1,0,"ng-container",5),e.TgZ(2,"p-dropdown",6),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)("options",e.kEZ(6,Qt,e.DdM(3,Ie),e.DdM(4,Xe),e.DdM(5,Rt)))}}function nt(n,o){1&n&&e.GkF(0)}function xt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,nt,1,0,"ng-container",5),e.TgZ(2,"input",7),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function ee(n,o){1&n&&e.GkF(0)}function ze(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,ee,1,0,"ng-container",5),e.TgZ(2,"input",7),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function dt(n,o){1&n&&e.GkF(0)}function bt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,dt,1,0,"ng-container",5),e.TgZ(2,"p-inputNumber",8),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function sn(n,o){1&n&&e.GkF(0)}function ni(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,sn,1,0,"ng-container",5),e.TgZ(2,"p-inputNumber",9),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)("minFractionDigits",1)}}function Ui(n,o){1&n&&e.GkF(0)}function kt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Ui,1,0,"ng-container",5),e.TgZ(2,"app-address-input",10),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("onBlur",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onTouched())})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function an(n,o){1&n&&e.GkF(0)}function tt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,an,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function At(n,o){1&n&&e.GkF(0)}function qt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,At,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Kt(n,o){1&n&&e.GkF(0)}function vn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Kt,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Rn(n,o){1&n&&e.GkF(0)}function pi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Rn,1,0,"ng-container",5),e.TgZ(2,"input",12),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Ai(n,o){1&n&&e.GkF(0)}function Ki(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Ai,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function Ke(n,o){1&n&&e.GkF(0)}function ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,Ke,1,0,"ng-container",5),e.TgZ(2,"input",11),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function B(n,o){1&n&&e.GkF(0)}function oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,B,1,0,"ng-container",5),e.TgZ(2,"input",13),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.controlValue=r)}),e.qZA()()}if(2&n){const t=e.oxw(),i=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngModel",t.controlValue)}}function xe(n,o){1&n&&e._UZ(0,"div"),2&n&&e.Udp("background-color","red")}function Ct(n,o){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.field?null:t.field.name," ")}}let Dt=(()=>{class n{constructor(t){this.api=t,this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.controlValue=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-filter-input"]],inputs:{field:"field"},features:[e._Bn([{provide:R.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:17,vars:14,consts:[[3,"ngSwitch"],["class","input-label-wrapper",4,"ngSwitchCase"],[3,"background-color",4,"ngSwitchDefault"],["label",""],[1,"input-label-wrapper"],[4,"ngTemplateOutlet"],[3,"ngModel","options","ngModelChange"],["pInputText","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"ngModel","minFractionDigits","ngModelChange"],[3,"ngModel","ngModelChange","onBlur"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\dA-z_]+$",3,"ngModel","ngModelChange"],["appRegexPatternChecker","","pInputText","","patternRx","^[\\d\\.]+$",3,"ngModel","ngModelChange"],["appRegexPatternChecker","","pInputText","","patternRx","^[1-9]\\d{0,10}$",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.ynx(0,0),e.YNc(1,nn,3,10,"div",1),e.YNc(2,xt,3,2,"div",1),e.YNc(3,ze,3,2,"div",1),e.YNc(4,bt,3,2,"div",1),e.YNc(5,ni,3,3,"div",1),e.YNc(6,kt,3,2,"div",1),e.YNc(7,tt,3,2,"div",1),e.YNc(8,qt,3,2,"div",1),e.YNc(9,vn,3,2,"div",1),e.YNc(10,pi,3,2,"div",1),e.YNc(11,Ki,3,2,"div",1),e.YNc(12,ie,3,2,"div",1),e.YNc(13,oe,3,2,"div",1),e.YNc(14,xe,1,2,"div",2),e.BQk(),e.YNc(15,Ct,2,1,"ng-template",null,3,e.W1O)),2&t&&(e.Q6J("ngSwitch",null==i.field?null:i.field.type),e.xp6(1),e.Q6J("ngSwitchCase","BOOLEAN"),e.xp6(1),e.Q6J("ngSwitchCase","SMALL_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","LARGE_TEXT"),e.xp6(1),e.Q6J("ngSwitchCase","INTEGER"),e.xp6(1),e.Q6J("ngSwitchCase","FLOAT"),e.xp6(1),e.Q6J("ngSwitchCase","ADDRESS"),e.xp6(1),e.Q6J("ngSwitchCase","LOGIN"),e.xp6(1),e.Q6J("ngSwitchCase","AD_SOURCE"),e.xp6(1),e.Q6J("ngSwitchCase","REQUEST_INITIATOR"),e.xp6(1),e.Q6J("ngSwitchCase","IP"),e.xp6(1),e.Q6J("ngSwitchCase","EQUIPMENTS"),e.xp6(1),e.Q6J("ngSwitchCase","CONNECTION_SERVICES"),e.xp6(1),e.Q6J("ngSwitchCase","PHONE_ARRAY"))},dependencies:[I.tP,I.RF,I.n9,I.ED,R.Fj,R.JJ,R.On,Ht.Lt,mt.Rn,Ze.o,It.k,M.Q]}),n})();var St=C(2076),Vt=C(5577),ln=C(4119),hn=C(6198),mn=C(5787),yn=C(1828);const xn=function(n){return{disabled:n}};function Kn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectAll())}),e._UZ(1,"i",10),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,xn,t.disabled))}}function Si(n,o){1&n&&e.GkF(0)}const ki=function(n){return{$implicit:n}};function bn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Si,1,0,"ng-container",12),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ki,t))}}function Ti(n,o){if(1&n&&(e.ynx(0),e.YNc(1,bn,2,4,"ng-container",11),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.templates)("ngForTrackBy",t.templateTrack)}}function po(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13),e._UZ(2,"p-progressSpinner",14),e.qZA(),e.BQk())}function Ji(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",15),e._UZ(3,"i",16),e.TgZ(4,"span"),e._uU(5," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()(),e.BQk())}function _i(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",17),e._UZ(3,"i",18),e.TgZ(4,"span"),e._uU(5," \u0428\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0435\u0442 "),e.qZA()()(),e.BQk())}function di(n,o){1&n&&e.GkF(0)}function to(n,o){if(1&n&&(e.ynx(0),e.YNc(1,di,1,0,"ng-container",12),e.BQk()),2&n){const t=o.$implicit;e.oxw(2);const i=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,ki,t))}}const xi=function(n){return{closed:n}};function oo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleExpand())}),e.TgZ(2,"span",3),e._uU(3," \u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 "),e.qZA(),e._UZ(4,"i",21),e.qZA(),e.TgZ(5,"div",22,23),e.YNc(7,to,2,4,"ng-container",11),e.qZA()()}if(2&n){const t=e.MAs(6),i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(5,xi,i.closed)),e.xp6(4),e.Udp("height",i.closed?"0px":t.scrollHeight+"px"),e.xp6(2),e.Q6J("ngForOf",i.deletedTemplates)("ngForTrackBy",i.templateTrack)}}function so(n,o){if(1&n&&e._UZ(0,"app-colored-tag",29),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("caption",i.getCount(t.wireframeId).toString())}}const Qo=function(n,o,t){return{selected:n,"un-target":o,disabled:t}},ii=function(n,o,t){return{"mdi-radio_button_unchecked":n,"mdi-check_circle_outline":o,"mdi-close":t}};function bs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",24),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.uniselect(c.wireframeId))}),e.TgZ(1,"i",25),e.NdJ("click",function(r){const h=e.CHM(t).$implicit,y=e.oxw();return r.stopPropagation(),e.KtG(y.toggle(h.wireframeId))}),e.qZA(),e.TgZ(2,"span",26),e.NdJ("mouseenter",function(){const c=e.CHM(t).$implicit,h=e.oxw();return h.uniTargetMode=!0,e.KtG(h.uniTargetId=c.wireframeId)})("mouseleave",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.uniTargetMode=!1)}),e.TgZ(3,"span",27),e._uU(4),e.qZA(),e.YNc(5,so,1,1,"app-colored-tag",28),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.kEZ(4,Qo,i.isSelect(t.wireframeId),i.isUntarget(t.wireframeId),i.disabled)),e.xp6(1),e.Q6J("ngClass",e.kEZ(8,ii,!i.isSelect(t.wireframeId),i.isSelect(t.wireframeId),i.isSelect(t.wireframeId)&&i.isUntarget(t.wireframeId))),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",i.getCount(t.wireframeId)>0)}}const bo=function(n){return{panel:n}};let Di=(()=>{class n{constructor(t){this.api=t,this.templates=[],this.deletedTemplates=[],this.selected=[],this.countersType="incoming",this.inline=!1,this.counters=[],this.status="loading",this.uniTargetMode=!1,this.uniTargetId=0,this.disabled=!1,this.closed=!0,this.onChange=i=>{},this.onTouched=()=>{}}isUntarget(t){return this.uniTargetMode&&this.uniTargetId!==t}setDisabledState(t){this.disabled=t}uniselect(t){this.selected=[t],this.onChange(this.selected)}select(t){this.selected.push(t),this.onChange(this.selected)}unselect(t){this.selected.length>1&&(this.selected=this.selected.filter(i=>i!==t),this.onChange(this.selected))}isSelect(t){return this.selected.includes(t)}templateTrack(t,i){return i.wireframeId}ngOnInit(){this.status="loading",this.api.getWireframes(!0).subscribe({next:t=>{this.templates=t.filter(i=>!i.deleted),this.deletedTemplates=t.filter(i=>i.deleted),0===this.templates.length?this.status="empty":(0===this.selected.length&&(this.selected=[this.templates[0].wireframeId],this.onChange(this.selected)),this.counters=[],"none"!==this.countersType&&(0,St.D)(this.templates).pipe((0,Vt.z)(i=>"incoming"===this.countersType?this.api.getCountIncomingTasksByWireframeId(i.wireframeId).pipe((0,F.U)(r=>({id:i.wireframeId,num:r}))):this.api.getCountAllTasksByWireframeId(i.wireframeId).pipe((0,F.U)(r=>({id:i.wireframeId,num:r}))))).subscribe(i=>this.counters.push(i)),this.status="ready")},error:()=>{this.status="error"}})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.selected=t}toggle(t){this.isSelect(t)?this.unselect(t):this.select(t)}getCount(t){var i;return(null===(i=this.counters.find(r=>r.id===t))||void 0===i?void 0:i.num)||0}selectAll(){this.selected=this.templates.map(t=>t.wireframeId),this.onChange(this.selected)}toggleExpand(){this.closed=!this.closed}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-template-multi-selector"]],inputs:{countersType:"countersType",inline:"inline"},features:[e._Bn([{provide:R.JU,useExisting:n,multi:!0}])],decls:14,vars:10,consts:[[1,"template-selector",3,"ngClass"],[1,"template-selector-title"],[1,"mdi-checklist"],[1,"stretched"],["class","select-all-button","pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",3,"ngClass","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","flexed column",4,"ngIf"],["templateItem",""],["pRipple","","pTooltip","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",1,"select-all-button",3,"ngClass","click"],[1,"mdi-select_all"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"template-selector-message"],["strokeWidth","1",1,"primary-spinner"],[1,"caption","size-big","wt-bold","f-color-danger","flexed","hcenter","gap3"],[1,"mdi-warning"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],[1,"flexed","column"],[1,"expand-button",3,"ngClass","click"],[1,"mdi-expand_more"],[1,"expand-list"],["expandListEl",""],[1,"template-selector-item",3,"ngClass","click"],[3,"ngClass","click"],[1,"flexed","hcenter",3,"mouseenter","mouseleave"],[1,"one-line"],["color","var(--mc-500)",3,"caption",4,"ngIf"],["color","var(--mc-500)",3,"caption"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4," \u0422\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447 "),e.qZA(),e.YNc(5,Kn,2,3,"span",4),e.qZA(),e.ynx(6,5),e.YNc(7,Ti,2,2,"ng-container",6),e.YNc(8,po,3,0,"ng-container",6),e.YNc(9,Ji,6,0,"ng-container",6),e.YNc(10,_i,6,0,"ng-container",6),e.BQk(),e.YNc(11,oo,8,7,"div",7),e.qZA(),e.YNc(12,bs,6,12,"ng-template",null,8,e.W1O)),2&t&&(e.Q6J("ngClass",e.VKq(8,bo,!i.inline)),e.xp6(5),e.Q6J("ngIf",i.selected.length<i.templates.length),e.xp6(1),e.Q6J("ngSwitch",i.status),e.xp6(1),e.Q6J("ngSwitchCase","ready"),e.xp6(1),e.Q6J("ngSwitchCase","loading"),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","empty"),e.xp6(1),e.Q6J("ngIf",i.deletedTemplates.length))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.RF,I.n9,ln.u,hn.G,mn.H,yn.C],styles:["[_nghost-%COMP%]{height:-moz-fit-content;height:fit-content}.select-all-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.3rem;cursor:pointer;border-radius:var(--br-100);background-color:transparent;transition:color .1s ease-in-out,background-color .1s ease-in-out}.select-all-button[_ngcontent-%COMP%]:hover{color:var(--mc-400);background-color:var(--bgc-100)}.select-all-button.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.template-selector[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;padding:.5rem}.template-selector-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.9rem;font-weight:500;color:var(--tc-700);gap:.4rem;padding:.4rem;margin:0 .3rem .3rem;border-bottom:1px solid var(--bgc-100)}.template-selector-message[_ngcontent-%COMP%]{display:flex;padding:2rem;align-items:center;justify-content:center}.template-selector-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;transition:all .1s ease-in-out;color:var(--tc-700)}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.5rem 0 .5rem .8rem}.template-selector-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem .8rem .5rem 0;flex:1}.template-selector-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.template-selector-item.selected[_ngcontent-%COMP%]{color:var(--mc-500)}.template-selector-item.un-target[_ngcontent-%COMP%]{color:var(--tc-200)}.template-selector-item.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:default;pointer-events:none}.expand-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.3rem .5rem .3rem .7rem;border-top:1px solid var(--bgc-100);cursor:pointer;color:var(--tc-600);font-size:.85rem;margin:.3rem 0;transition:color .1s ease-in-out;-webkit-user-select:none;user-select:none}.expand-button[_ngcontent-%COMP%]:hover{color:var(--mc-400)}.expand-button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transition:all .1s ease-in-out;transform-origin:50% 40%;transform:translateY(.1rem)}.expand-button.closed[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-.2rem)}.expand-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;transition:height .1s ease-in-out}"]}),n})();var Ri=C(1110);function Mo(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}function Jo(n,o){if(1&n&&e._UZ(0,"app-employee-label",3),2&n){const t=o.$implicit;e.Q6J("size",1.4)("employee",t)}}let ys=(()=>{class n{constructor(t){this.api=t,this.employees=[],this.control=new R.NI(null),this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.api.getEmployees().subscribe(t=>{this.employees=t}),this.control.valueChanges.subscribe(t=>{this.onChange(t)})}ngOnDestroy(){}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t||null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-selector"]],features:[e._Bn([{provide:R.JU,useExisting:n,multi:!0}])],decls:3,vars:3,consts:[["styleClass","full-width","optionValue","login","appendTo","body","placeholder","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",3,"options","formControl","showClear","onBlur"],["pTemplate","selectedItem"],["pTemplate","item"],[3,"size","employee"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.YNc(1,Mo,1,2,"ng-template",1),e.YNc(2,Jo,1,2,"ng-template",2),e.qZA()),2&t&&e.Q6J("options",i.employees)("formControl",i.control)("showClear",!0)},dependencies:[R.JJ,Ht.Lt,Le.jx,R.oH,Ri.x]}),n})();var ho=C(5652);let is=(()=>{class n{constructor(){this.control=new R.NI(null),this.subscription=new it.xf,this.onChange=t=>{},this.onTouched=()=>{}}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}ngOnInit(){this.subscription.addSubscription("change",this.control.valueChanges.pipe((0,F.U)(t=>it.cQ.dateArrayToRange(t))).subscribe(t=>this.onChange(t)))}ngOnDestroy(){this.subscription.unsubscribeAll()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){if(!t)return void this.control.setValue(null);const i=[];t.start&&(i[0]=new Date(t.start)),t.end&&(i[1]=new Date(t.end)),this.control.setValue(i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-data-range-input"]],features:[e._Bn([{provide:R.JU,useExisting:n,multi:!0}])],decls:1,vars:4,consts:[["placeholder","\u0414\u0430\u0442\u0430","appendTo","body","styleClass","full-width",3,"formControl","showClear","selectionMode","readonlyInput","onBlur"]],template:function(t,i){1&t&&(e.TgZ(0,"p-calendar",0),e.NdJ("onBlur",function(){return i.onTouched()}),e.qZA()),2&t&&e.Q6J("formControl",i.control)("showClear",!0)("selectionMode","range")("readonlyInput",!0)},dependencies:[R.JJ,R.oH,ho.f]}),n})();var qi=C(5315),Ei=C(845),ai=C(1777),Ln=C(5730),Sn=C(5921);const Zs=function(n,o){return{showTransitionParams:n,hideTransitionParams:o}},tr=function(n){return{value:"open",params:n}};function gr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("@animation.start",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onEnter(r))})("@animation.done",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onLeave(r))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onClick())}),e._UZ(1,"span",2),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("@animation",e.VKq(11,tr,e.WLB(8,Zs,t.showTransitionOptions,t.hideTransitionOptions)))("ngClass",t.containerClass())("ngStyle",t.style),e.xp6(1),e.Tol(t.icon),e.Q6J("ngClass","p-scrolltop-icon")}}let cs=(()=>{class n{constructor(t,i,r){this.el=t,this.cd=i,this.config=r,this.target="window",this.threshold=400,this.icon="pi pi-chevron-up",this.behavior="smooth",this.showTransitionOptions=".15s",this.hideTransitionOptions=".15s",this.visible=!1}ngOnInit(){"window"===this.target?this.bindDocumentScrollListener():"parent"===this.target&&this.bindParentScrollListener()}onClick(){("window"===this.target?window:this.el.nativeElement.parentElement).scroll({top:0,behavior:this.behavior})}onEnter(t){switch(t.toState){case"open":this.overlay=t.element,Sn.P9.set("overlay",this.overlay,this.config.zIndex.overlay);break;case"void":this.overlay=null}}onLeave(t){"void"===t.toState&&Sn.P9.clear(t.element)}checkVisibility(t){this.visible=t>this.threshold,this.cd.markForCheck()}bindParentScrollListener(){this.scrollListener=()=>{this.checkVisibility(this.el.nativeElement.parentElement.scrollTop)},this.el.nativeElement.parentElement.addEventListener("scroll",this.scrollListener)}bindDocumentScrollListener(){this.scrollListener=()=>{this.checkVisibility(Ln.p.getWindowScrollTop())},window.addEventListener("scroll",this.scrollListener)}unbindParentScrollListener(){this.scrollListener&&(this.el.nativeElement.parentElement.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}unbindDocumentScrollListener(){this.scrollListener&&(window.removeEventListener("scroll",this.scrollListener),this.scrollListener=null)}containerClass(){return{"p-scrolltop p-link p-component":!0,"p-scrolltop-sticky":"window"!==this.target}}ngOnDestroy(){"window"===this.target?this.unbindDocumentScrollListener():"parent"===this.target&&this.unbindParentScrollListener(),this.overlay&&(Sn.P9.clear(this.overlay),this.overlay=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Le.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-scrollTop"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",target:"target",threshold:"threshold",icon:"icon",behavior:"behavior",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[["type","button",3,"ngClass","class","ngStyle","click",4,"ngIf"],["type","button",3,"ngClass","ngStyle","click"],[3,"ngClass"]],template:function(t,i){1&t&&e.YNc(0,gr,2,13,"button",0),2&t&&e.Q6J("ngIf",i.visible)},dependencies:[I.mk,I.O5,I.PC],styles:[".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\n"],encapsulation:2,data:{animation:[(0,ai.X$)("animation",[(0,ai.SB)("void",(0,ai.oB)({opacity:0})),(0,ai.SB)("open",(0,ai.oB)({opacity:1})),(0,ai.eR)("void => open",(0,ai.jt)("{{showTransitionParams}}")),(0,ai.eR)("open => void",(0,ai.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),n})(),jo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez]}),n})();var Wo=C(4132);const Yo=["paginator"];function To(n,o){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"p-progressSpinner",24),e.qZA())}function fr(n,o){1&n&&e._UZ(0,"app-task-list-element",27),2&n&&e.Q6J("item",o.$implicit)}function Vs(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",25),e.YNc(2,fr,1,1,"app-task-list-element",26),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.taskService.taskItems)("ngForTrackBy",t.trackByTask)}}function Us(n,o){1&n&&(e.TgZ(0,"div",28),e._UZ(1,"i",29),e.TgZ(2,"span"),e._uU(3,"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA()())}function Ko(n,o){1&n&&(e.TgZ(0,"div",30),e._UZ(1,"i",31),e.TgZ(2,"span"),e._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function go(n,o){if(1&n&&e._UZ(0,"app-task-template-filter-input",42),2&n){const t=o.$implicit;e.Q6J("field",t)("formControlName",t.id)}}function qo(n,o){if(1&n&&(e.ynx(0),e.YNc(1,go,1,2,"app-task-template-filter-input",41),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.taskService.templateFilterFields)("ngForTrackBy",t.trackByField)}}function ro(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"span",34)(3,"label"),e._uU(4,"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(5,"app-employee-selector",35),e.qZA(),e.TgZ(6,"span",34)(7,"label"),e._uU(8,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(9,"app-data-range-input",36),e.qZA(),e.YNc(10,qo,2,2,"ng-container",37),e.qZA(),e.TgZ(11,"span",38)(12,"p-button",39),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.filterDialogVisible=!1,e.KtG(r.taskService.filtersApply())}),e.qZA(),e.TgZ(13,"p-button",40),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearTemplateFilters())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.taskService.templateFilterForm),e.xp6(9),e.Q6J("ngIf",t.taskService.templateFilterFields.length>0)}}const ks=function(){return{width:"25rem"}},Ho=function(){return{"960px":"640px","640px":"100vw"}};let yo=(()=>{class n{constructor(t,i,r){this.taskService=t,this.api=i,this.route=r,this.employees=[],this.loadingItems=Array.from({length:10}).fill(null),this.filterDialogVisible=!1}trackByField(t,i){return i.id+i.variation}trackByTask(t,i){var r;return i.taskId+(null!==(r=i.updated)&&void 0!==r?r:"")}ngOnInit(){this.taskService.loadPage(),this.api.getEmployees().subscribe(t=>{this.employees=t})}ngAfterViewInit(){this.taskService.setPaginatorPage=t=>{this.paginator&&this.paginator.changePage(t)}}isNewDate(t,i){if(0===i)return!0;const r=t[i-1],c=t[i];if(!r||!c)return!1;const h=new Date(r.created);h.setHours(0,0,0,0);const y=new Date(c.created);return y.setHours(0,0,0,0),h.getTime()>y.getTime()}taskLazyLoad(t){(!t.fields||0===t.fields.length)&&this.api.getFieldsTask(t.taskId).subscribe(i=>{t.fields=i})}clearTemplateFilters(){this.taskService.templateFilterForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.U),e.Y36(V.s),e.Y36(s.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(Yo,5),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},decls:26,vars:20,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"tasks-list"],[1,"global-filters",3,"formGroup"],[1,"flexed","gap5"],[1,"p-input-icon-left","stretched"],[1,"mdi-search"],["formControlName","searchPhrase","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text",1,"full-width"],["icon","mdi-filter_alt","label","\u0424\u0438\u043b\u044c\u0442\u0440\u044b","styleClass","p-button-text",3,"onClick"],["formControlName","tags",1,"stretched"],["formControlName","status",1,"stretched"],[3,"ngSwitch"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter caption size-big wt-bold f-color-500",4,"ngSwitchCase"],["class","flexed stretched hcenter vcenter caption size-big wt-bold f-color-danger",4,"ngSwitchCase"],[1,"sticky","bottom1"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"],["paginator",""],[3,"formGroup"],["countersType","all","formControlName","template",1,"sticky-type-selector"],["header","\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],["strokeWidth","1",1,"primary-spinner"],[1,"flexed","gap10","column"],[3,"item",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item"],[1,"flexed","column","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-search_off"],[1,"flexed","stretched","hcenter","vcenter","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"flexed","column","gap15"],[1,"flexed","column","gap5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","author"],["formControlName","dateOfCreation"],[4,"ngIf"],[1,"flexed","gap10"],["icon","mdi-filter_alt","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],["icon","mdi-clear","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c","styleClass","p-button-secondary p-button-outlined",3,"onClick"],[3,"field","formControlName",4,"ngFor","ngForOf","ngForTrackBy"],[3,"field","formControlName"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4)(6,"span",5),e._UZ(7,"i",6)(8,"input",7),e.qZA(),e.TgZ(9,"p-button",8),e.NdJ("onClick",function(){return i.filterDialogVisible=!0}),e.qZA()(),e.TgZ(10,"span",4),e._UZ(11,"app-task-tag-filter-input",9)(12,"app-task-status-chooser",10),e.qZA()(),e.ynx(13,11),e.YNc(14,To,2,0,"div",12),e.YNc(15,Vs,3,2,"ng-container",13),e.YNc(16,Us,4,0,"div",14),e.YNc(17,Ko,4,0,"div",15),e.BQk(),e.TgZ(18,"div",16)(19,"p-paginator",17,18),e.NdJ("onPageChange",function(c){return i.taskService.pageChange(c)}),e.qZA()()(),e.ynx(21,19),e._UZ(22,"app-task-template-multi-selector",20),e.BQk(),e.qZA()(),e._UZ(23,"p-scrollTop"),e.TgZ(24,"p-dialog",21),e.NdJ("visibleChange",function(c){return i.filterDialogVisible=c}),e.YNc(25,ro,14,2,"ng-template",22),e.qZA()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.taskService.filterForm),e.xp6(9),e.Q6J("ngSwitch",i.taskService.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(2),e.Q6J("alwaysShow",!1)("rows",i.taskService.TASK_PAGE_SIZE)("showCurrentPageReport",!0)("totalRecords",i.taskService.totalTaskItems),e.xp6(2),e.Q6J("formGroup",i.taskService.filterForm),e.xp6(3),e.Akn(e.DdM(18,ks)),e.Q6J("visible",i.filterDialogVisible)("breakpoints",e.DdM(19,Ho))("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[Me,Fe.E,$e,tn,qn,Dt,Di,ys,is,R.Fj,R.JJ,R.JL,Le.jx,I.sg,qi.V,R.sg,R.u,I.O5,Ei.zx,I.RF,I.n9,cs,Ze.o,hn.G,Wo.D],styles:[".top-interceptor[_ngcontent-%COMP%]{position:fixed;width:100vw;height:50px;top:0;left:0;border:1px solid var(--tc-700)}.global-filters[_ngcontent-%COMP%]{display:grid;gap:.5rem;justify-content:center;background-color:#fff;box-shadow:var(--shadow-0);border-radius:var(--br-200);padding:1rem;width:-moz-fit-content;width:fit-content;place-self:center}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.tasks-list[_ngcontent-%COMP%]{display:grid;position:relative;grid:min-content 1fr min-content/1fr;gap:1rem;flex:1;padding-bottom:2rem}"]}),n})();var Fi=C(4e3);class oi{static taskInput(o,t){switch(o){case ft._r.BOOLEAN:return i=>oi.isValueEmpty(i.value)?{required:!0}:!0===i.value||!1===i.value?null:{required:!0};case ft._r.FLOAT:case ft._r.INTEGER:case ft._r.IP:case ft._r.LOGIN:case ft._r.LARGE_TEXT:case ft._r.SMALL_TEXT:return i=>oi.isValueEmpty(i.value)?{required:!0}:null;case ft._r.PHONE_ARRAY:return i=>oi.isValueEmpty(i.value)||Object.keys(i.value).some(r=>!oi.isValidUUID(r))&&Object.values(i.value).some(r=>!oi.isValidPhone(r))?{required:!0}:null;case ft._r.ADDRESS:return i=>{var r,c,h,y,O,ce;const fe=i.value;if(oi.isValueEmpty(fe))return{required:!0};switch(t){case"APARTMENT_ONLY":if(oi.isValueEmpty(null===(r=fe.city)||void 0===r?void 0:r.cityId)||oi.isValueEmpty(null===(c=fe.street)||void 0===c?void 0:c.streetId)||oi.isValueEmpty(fe.houseNum)||oi.isValueEmpty(fe.apartmentNum))return{required:!0};break;case"HOUSE_ONLY":if(oi.isValueEmpty(null===(h=fe.city)||void 0===h?void 0:h.cityId)||oi.isValueEmpty(null===(y=fe.street)||void 0===y?void 0:y.streetId)||oi.isValueEmpty(fe.houseNum))return{required:!0};break;default:if(oi.isValueEmpty(null===(O=fe.city)||void 0===O?void 0:O.cityId)||oi.isValueEmpty(null===(ce=fe.street)||void 0===ce?void 0:ce.streetId)||oi.isValueEmpty(fe.houseNum)||oi.isValueEmpty(fe.entrance)||oi.isValueEmpty(fe.floor)||oi.isValueEmpty(fe.apartmentNum))return{required:!0}}return null};default:return i=>oi.isValueEmpty(i.value)?{required:!0}:null}}static notEmpty(o){return oi.isValueEmpty(o.value)||Array.isArray(o.value)&&0===o.value.length?{required:!0}:null}static isValueEmpty(o){return null==o||""===o}static isValidUUID(o){if("string"!=typeof o)return!1;const t=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi;return console.log(`isValidUUID: ${o} ${t.test(o)}`),t.test(o)}static isValidPhone(o){if("string"!=typeof o)return!1;const t=/^8 \(\d{3}\) \d{3}-\d{2}-\d{2}$/;return console.log(`isValidPhone: ${o} ${t.test(o)}`),t.test(o)}}var wo=C(8028),Do=C(2248),fo=C(446),os=C(6502);function nr(n,o){1&n&&e.GkF(0)}function us(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nr,1,0,"ng-container",7),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(8),r=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.isTemplateSelected)("ngIfThen",i)("ngIfElse",r)}}function Ms(n,o){if(1&n&&e._UZ(0,"app-task-template-input",13),2&n){const t=o.$implicit;e.Q6J("formControlName",t.id)("field",t)}}function zs(n,o){1&n&&e.GkF(0)}function mo(n,o){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9),e._uU(2),e.qZA(),e.TgZ(3,"div",10),e.YNc(4,Ms,1,2,"app-task-template-input",11),e.qZA(),e.YNc(5,zs,1,0,"ng-container",12),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(4);e.Q6J("@flow",void 0),e.xp6(2),e.AsE("\u042d\u0442\u0430\u043f ",t.currentStep+1," : ",t.selectedTemplate?t.selectedTemplate.steps[t.currentStep].name:"",""),e.xp6(1),e.Q6J("@swipeChild",t.currentStepFields.length)("formGroup",t.currentStepForm),e.xp6(1),e.Q6J("ngForOf",t.currentStepFields),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function $o(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e._UZ(1,"div",17),e.TgZ(2,"app-button",18),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",!t.isValidCurrentStep)}}function Ye(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"app-button",19),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",17),e.TgZ(3,"app-button",18),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(1))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",!t.isValidCurrentStep)}}function vt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"app-button",19),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeCreationStep(-1))}),e.qZA(),e._UZ(2,"div",17),e.TgZ(3,"app-button",20),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTask())}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",!t.taskCreationForm.valid)}}function S(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e._UZ(1,"div",17),e.TgZ(2,"app-button",20),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createTask())}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",!t.taskCreationForm.valid)}}function me(n,o){if(1&n&&(e.ynx(0,14),e.YNc(1,$o,3,1,"div",15),e.YNc(2,Ye,4,1,"div",15),e.YNc(3,vt,4,1,"div",15),e.YNc(4,S,3,1,"div",15),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.controlsType()),e.xp6(1),e.Q6J("ngSwitchCase","NEXT_ONLY"),e.xp6(1),e.Q6J("ngSwitchCase","BOTH"),e.xp6(1),e.Q6J("ngSwitchCase","PREV_FIN"),e.xp6(1),e.Q6J("ngSwitchCase","FIN_ONLY")}}const Ue=function(){return[]};function st(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"span",22),e._uU(2,"\u0412\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(3,"div",23)(4,"p-dropdown",24),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedTemplate=r)}),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"app-button",25),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectTemplateForTask())}),e.qZA()()()}if(2&n){const t=e.oxw();let i;e.xp6(4),e.Q6J("ngModel",t.selectedTemplate)("disabled",t.isTemplateSelected)("options",null!==(i=e.lcZ(5,4,t.templateOptionsList$))&&void 0!==i?i:e.DdM(6,Ue)),e.xp6(2),e.Q6J("disabled",t.isTemplateSelected)}}function Yt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"span",27),e._uU(2,"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d:"),e.qZA(),e.TgZ(3,"span",22),e._uU(4),e.qZA(),e.TgZ(5,"app-button",28),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unselectTemplateForTask())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(null==t.selectedTemplate?null:t.selectedTemplate.name),e.xp6(1),e.Q6J("disabled",!t.isTemplateSelected)}}function gn(n,o){1&n&&(e.TgZ(0,"div",29),e._UZ(1,"p-progressSpinner",30),e.qZA())}var _n=(()=>{return(n=_n||(_n={})).NEXT_ONLY="NEXT_ONLY",n.BOTH="BOTH",n.PREV_FIN="PREV_FIN",n.FIN_ONLY="FIN_ONLY",n.NONE="NONE",_n;var n})();let Gn=(()=>{class n{constructor(t,i,r,c,h){this.api=t,this.route=i,this.personality=r,this.toast=c,this.taskCreation=h,this.templateOptionsList$=this.api.getWireframes(),this.isTemplateSelected=!1,this.currentStep=0,this.isCreatedTask=!1,this.taskCreationForm=new R.Oe([]),this.openMode="standard",this.subscriptions=new it.xf,this._selectedTemplate=null,this.openBillingCreationWindowHandle={next:y=>{this.selectedTemplate=y,this.selectTemplateForTask()},error:()=>{window.close()}},document.body.classList.add("whited")}get selectedTemplate(){return this._selectedTemplate}set selectedTemplate(t){this._selectedTemplate=t}get currentStepFields(){var t,i;return this.isTemplateSelected&&null!==(i=null===(t=this.selectedTemplate)||void 0===t?void 0:t.steps[this.currentStep].fields)&&void 0!==i?i:[]}get currentStepForm(){return this.taskCreationForm.at(this.currentStep)}get isValidCurrentStep(){return this.currentStepForm.valid}get taskCreationBody(){if(!this.selectedTemplate)return null;const t=this.taskCreationForm.getRawValue().reduce((i,r)=>Object.assign(Object.assign({},i),r),{});return{wireframeId:this.selectedTemplate.wireframeId,childId:this.childId,parentId:this.parentId,fields:it.PU.convert(t,this.selectedTemplate)}}ngOnInit(){window.addEventListener("message",t=>{const i=t.data;switch(this.openMode=i.mode,i.mode){case"standard":break;case"parent":this.parentId=i.dependencyIdentifier;break;case"child":this.childId=i.dependencyIdentifier;break;case"billing":i.wireframeId?(this.defaultValues=i.billingInfo,this.api.getWireframe(i.wireframeId).subscribe(this.openBillingCreationWindowHandle)):window.close()}},!1)}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplateForTask(){!this.selectedTemplate||(this.isTemplateSelected=!0,this.taskCreationForm=new R.Oe(this.selectedTemplate.steps.map(t=>new R.cw(t.fields.reduce((i,r)=>{let c=null;switch(r.name.toLowerCase()){case"\u043b\u043e\u0433\u0438\u043d":c=this.defaultValues.login;break;case"\u0430\u0434\u0440\u0435\u0441":c=this.defaultValues.address}return Object.assign(Object.assign({},i),{[r.id]:new R.NI(c,[oi.taskInput(r.type,r.variation)])})},{})))))}unselectTemplateForTask(){this.selectedTemplate=null,this.isTemplateSelected=!1,this.currentStep=0,this.isTemplateSelected=!1}changeCreationStep(t=0){this.currentStep+=t}controlsType(){return this.selectedTemplate?0===this.currentStep?this.selectedTemplate.steps.length>1?_n.NEXT_ONLY:_n.FIN_ONLY:this.selectedTemplate.steps.length-1===this.currentStep?_n.PREV_FIN:_n.BOTH:_n.NONE}createTask(){this.taskCreationBody?(this.isCreatedTask=!0,this.api.createTask(this.taskCreationBody).subscribe({next:()=>{this.isCreatedTask=!1,window.close()},error:()=>{this.isCreatedTask=!1}})):this.toast.add({severity:"danger",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(s.gz),e.Y36(wo.F),e.Y36(Le.ez),e.Y36(Do.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:5,consts:[["appExtendPageHeight","",1,"flexed","gap10","column"],[4,"ngIf"],["class","stage-view",4,"ngIf"],["controls",""],["unselectedTemplatePanel",""],["selectedTemplatePanel",""],["class","stub-when-creating-a-task",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"stage-view"],[1,"caption"],[1,"flexed","column","p10","gap10",3,"formGroup"],["class","stretched",3,"formControlName","field",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"],[1,"stretched",3,"formControlName","field"],[3,"ngSwitch"],["class","flexed",4,"ngSwitchCase"],[1,"flexed"],[1,"stretched"],["icon","navigate_next","iconPos","right","label","\u0414\u0430\u043b\u0435\u0435",3,"disabled","onClick"],["icon","navigate_before","label","\u041d\u0430\u0437\u0430\u0434","model","p-button-text p-button-secondary",3,"onClick"],["icon","add_circle_outline","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","onClick"],[1,"flexed","gap10","column"],[1,"header400"],[1,"flexed","gap5","hcenter"],["optionLabel","name","placeholder","\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0437\u0430\u0434\u0430\u0447",3,"ngModel","disabled","options","ngModelChange"],["icon","done","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","model","fit-content p-button-success",3,"disabled","onClick"],[1,"flexed","hcenter","gap5"],[1,"header300"],["icon","published_with_changes","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440","model","p-button-text p-button-danger fit-content",3,"disabled","onClick"],[1,"stub-when-creating-a-task"],[1,"white-spinner"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,us,2,3,"ng-container",1),e.YNc(2,mo,6,7,"div",2),e.qZA(),e.YNc(3,me,5,5,"ng-template",null,3,e.W1O),e.YNc(5,st,7,7,"ng-template",null,4,e.W1O),e.YNc(7,Yt,6,2,"ng-template",null,5,e.W1O),e.YNc(9,gn,2,0,"div",6)),2&t&&(e.Udp("padding","0 2rem 2rem 2rem"),e.xp6(1),e.Q6J("ngIf","billing"!=i.openMode),e.xp6(1),e.Q6J("ngIf",i.isTemplateSelected),e.xp6(7),e.Q6J("ngIf",i.isCreatedTask))},dependencies:[fo.r,os.o,$e,R.JJ,R.JL,R.On,I.sg,R.sg,R.u,Ht.Lt,I.O5,I.tP,I.RF,I.n9,hn.G,I.Ov],styles:[".stage-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:0 2rem;width:100%;min-width:max-content;max-width:54rem;align-self:center}.stub-when-creating-a-task[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:10000;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}"],data:{animation:[Fi.U1,Fi.ls,Fi.x$]}}),n})();var si=C(9014);let yi=(()=>{class n{constructor(t,i){this.location=t,this.router=i}backOrDefault(t){1!==this.location.getState().navigationId?this.location.back():this.router.navigate(t).then()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(I.Ye),e.LFG(s.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Dn=C(8007),ss=C(5072),Zo=C(6288),_o=C(3064),hi=C(3725),Ds=C(85);function ds(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u043e\u0442\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.images.length.toString())}}function Vn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const c=e.CHM(t).index,h=e.oxw();return e.KtG(h.viewerService.showMediaAlbum(c,h.images))}),e._UZ(1,"img",14),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("src",i.baseUrl+t.name,e.LSH)}}function mr(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0412\u0438\u0434\u0435\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.videos.length.toString())}}function xo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const c=e.CHM(t).index,h=e.oxw();return e.KtG(h.viewerService.showMediaAlbum(c,h.videos))}),e.TgZ(1,"span",16),e._uU(2,"movie"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function Is(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0410\u0443\u0434\u0438\u043e"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.audios.length.toString())}}function ps(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const c=e.CHM(t).index,h=e.oxw();return e.KtG(h.viewerService.showMediaAlbum(c,h.audios))}),e.TgZ(1,"span",16),e._uU(2,"music_note"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," ")}}function Gs(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.documents.length.toString())}}function Oo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(6);return e.KtG(r.click())}),e.TgZ(1,"span",16),e._uU(2,"picture_as_pdf"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",18,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("href",i.baseUrl+t.name+"/",e.LSH)}}function Qs(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u0424\u0430\u0439\u043b\u044b"),e.qZA(),e._UZ(3,"p-badge",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.files.length.toString())}}function _r(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(6);return e.KtG(r.click())}),e.TgZ(1,"span",16),e._uU(2,"description"),e.qZA(),e.TgZ(3,"span",17),e._uU(4),e.qZA(),e._UZ(5,"a",20,19),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Udp("display","none"),e.Q6J("download",t.name)("href",i.baseUrl+t.name+"/",e.LSH)}}let on=(()=>{class n{constructor(t,i){this.api=t,this.viewerService=i,this.show=!1,this.showChange=new e.vpe,this.baseUrl="/api/private/attachment/",this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}ngOnInit(){this.clearAllAttachments(),this.taskId&&this.api.getAllTaskAttachments(this.taskId).subscribe(t=>{for(const i of t)switch(i.type){case ft.sf.PHOTO:this.images.push(i);break;case ft.sf.VIDEO:this.videos.push(i);break;case ft.sf.AUDIO:this.audios.push(i);break;case ft.sf.DOCUMENT:this.documents.push(i);break;case ft.sf.FILE:this.files.push(i)}})}clearAllAttachments(){this.images=[],this.videos=[],this.audios=[],this.documents=[],this.files=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(_o.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attachments-history-dialog"]],inputs:{taskId:"taskId",show:"show"},outputs:{showChange:"showChange"},decls:22,vars:9,consts:[["header","\u0424\u0430\u0439\u043b\u044b \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"draggable","visible","modal","resizable","visibleChange"],["header","\u0424\u043e\u0442\u043e"],["pTemplate","header"],[1,"flexed-list"],["class","list-item",3,"click",4,"ngFor","ngForOf"],["header","\u0412\u0438\u0434\u0435\u043e"],["class","list-item p5",3,"click",4,"ngFor","ngForOf"],["header","\u0410\u0443\u0434\u0438\u043e"],["header","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],["header","\u0424\u0430\u0439\u043b\u044b"],[1,"flexed","hcenter","gap3"],[1,"caption","size-small","f-color-500"],[3,"value"],[1,"list-item",3,"click"],[3,"src"],[1,"list-item","p5",3,"click"],[1,"material-icons-round"],[1,"filename"],["target","_blank",3,"href"],["link",""],[3,"download","href"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(c){return i.showChange.emit(c)})("visibleChange",function(c){return i.show=c}),e.TgZ(1,"p-tabView")(2,"p-tabPanel",1),e.YNc(3,ds,4,1,"ng-template",2),e.TgZ(4,"div",3),e.YNc(5,Vn,2,1,"div",4),e.qZA()(),e.TgZ(6,"p-tabPanel",5),e.YNc(7,mr,4,1,"ng-template",2),e.TgZ(8,"div",3),e.YNc(9,xo,5,1,"div",6),e.qZA()(),e.TgZ(10,"p-tabPanel",7),e.YNc(11,Is,4,1,"ng-template",2),e.TgZ(12,"div",3),e.YNc(13,ps,5,1,"div",6),e.qZA()(),e.TgZ(14,"p-tabPanel",8),e.YNc(15,Gs,4,1,"ng-template",2),e.TgZ(16,"div",3),e.YNc(17,Oo,7,4,"div",6),e.qZA()(),e.TgZ(18,"p-tabPanel",9),e.YNc(19,Qs,4,1,"ng-template",2),e.TgZ(20,"div",3),e.YNc(21,_r,7,5,"div",6),e.qZA()()()()),2&t&&(e.Q6J("draggable",!1)("visible",i.show)("modal",!0)("resizable",!1),e.xp6(5),e.Q6J("ngForOf",i.images),e.xp6(4),e.Q6J("ngForOf",i.videos),e.xp6(4),e.Q6J("ngForOf",i.audios),e.xp6(4),e.Q6J("ngForOf",i.documents),e.xp6(4),e.Q6J("ngForOf",i.files))},dependencies:[I.sg,Le.jx,qi.V,hi.xf,hi.x4,Ds.Ct],styles:[".flexed-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;overflow-x:auto;width:50vw;max-height:40vh;min-width:100%}.list-item[_ngcontent-%COMP%]{width:19%;aspect-ratio:1;border:1px solid var(--bgc-300);max-width:15rem;min-width:7rem;overflow:hidden;display:flex;flex-direction:column;gap:.5rem;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%;object-fit:cover;width:auto;height:auto}.filename[_ngcontent-%COMP%]{display:inline-block;color:var(--tc-500);font-size:.8rem;font-weight:500;white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;text-align:center}"]}),n})(),jn=(()=>{class n{constructor(t){this.el=t}get colorString(){return this._colorString}set colorString(t){var i,r;this._colorString=t,this.el.nativeElement.style.color=it.cQ.stringToColor(null!==(r=null===(i=this._colorString)||void 0===i?void 0:i.trim())&&void 0!==r?r:"")}ngAfterViewInit(){this.el.nativeElement.style.color=it.cQ.stringToColor(this.el.nativeElement.innerText.trim())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appColorize",""]],inputs:{colorString:"colorString"}}),n})(),Xo=(()=>{class n{constructor(t){this.el=t,this.isMouseDown=!1,t.nativeElement.style.cursor="grab",t.nativeElement.style.userSelect="none"}onMouseDown(t){0===t.button&&(this.isMouseDown=!0,this.el.nativeElement.style.cursor="grabbing")}onMouseUp(t){0===t.button&&(this.isMouseDown=!1,this.el.nativeElement.style.cursor="grab")}onMouseMove(t){if(this.isMouseDown){const i=this.el.nativeElement;i.scrollTo(i.scrollLeft-t.movementX,i.scrollTop-t.movementY)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appDragScrolling",""]],hostBindings:function(t,i){1&t&&e.NdJ("mousedown",function(c){return i.onMouseDown(c)})("mouseup",function(c){return i.onMouseUp(c)})("mousemove",function(c){return i.onMouseMove(c)})}}),n})();var Os=C(4500),Bi=C(9354),Ps=C(8913),Rs=C(7813);function zi(n,o){1&n&&e.GkF(0)}function As(n,o){if(1&n&&(e.TgZ(0,"a",3),e.YNc(1,zi,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(3);e.Q6J("download",t.download())("href",t.url(),e.LSH),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function Vr(n,o){1&n&&e.GkF(0)}function Ur(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.attachmentOpen())})("mouseenter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.hovered=!0)})("mouseleave",function(){e.CHM(t);const r=e.oxw();return r.hovered=!1,e.KtG(r.previewLoading=!1)}),e.YNc(1,Vr,1,0,"ng-container",4),e.qZA()}if(2&n){e.oxw();const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ir(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function Ce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9),e.YNc(1,ir,2,0,"div",10),e.TgZ(2,"img",11),e.NdJ("load",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.previewLoading=!0)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.previewLoading),e.xp6(1),e.Q6J("src","/api/private/thumbnail/"+(null==t.attachment?null:t.attachment.name),e.LSH)}}function te(n,o){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.qZA(),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA(),e.YNc(6,Ce,3,2,"div",8)),2&n){const t=e.oxw();let i;e.Udp("font-size","1.4rem"),e.xp6(1),e.hij(" ",t.attachmentIconName()," "),e.xp6(2),e.hij(" ",null==t.attachment?null:t.attachment.name," "),e.xp6(2),e.hij(" ",((null!==(i=null==t.attachment?null:t.attachment.size)&&void 0!==i?i:0)/1048576).toFixed(2)," \u041c\u0431\u0430\u0439\u0442 "),e.xp6(1),e.Q6J("ngIf","PHOTO"===(null==t.attachment?null:t.attachment.type)&&t.hovered)}}let W=(()=>{class n{constructor(t){this.mediaViewer=t,this.hovered=!1,this.previewLoading=!1}ngOnInit(){}attachmentIconName(){var t;switch(null===(t=this.attachment)||void 0===t?void 0:t.type){case"PHOTO":return"image";case"VIDEO":return"movie";case"AUDIO":return"music_note";case"DOCUMENT":return"picture_as_pdf";case"FILE":return"description";default:return"question_mark"}}url(){var t;return"FILE"==(null===(t=this.attachment)||void 0===t?void 0:t.type)?"/api/private/attachment/":""}download(){var t;return"FILE"==(null===(t=this.attachment)||void 0===t?void 0:t.type)?this.attachment.name:""}attachmentOpen(){var t;switch(null===(t=this.attachment)||void 0===t?void 0:t.type){case"PHOTO":case"VIDEO":case"AUDIO":this.mediaViewer.showMedia(this.attachment);break;case"DOCUMENT":window.open("/api/private/attachment/"+this.attachment.name,"_blank")}this.hovered=!1,this.previewLoading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_o.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-attachment-link"]],inputs:{attachment:"attachment"},decls:4,vars:2,consts:[["class","attachment-wrapper",3,"download","href",4,"ngIf"],["class","attachment-wrapper",3,"click","mouseenter","mouseleave",4,"ngIf"],["content",""],[1,"attachment-wrapper",3,"download","href"],[4,"ngTemplateOutlet"],[1,"attachment-wrapper",3,"click","mouseenter","mouseleave"],[1,"material-icons-round"],[1,"caption","size-small","wt-bold","f-color-500"],["class","photo-preview-panel",4,"ngIf"],[1,"photo-preview-panel"],["class","preview-loading-indicator flexed vcenter hcenter",4,"ngIf"],[1,"preview-image",3,"src","load"],[1,"preview-loading-indicator","flexed","vcenter","hcenter"]],template:function(t,i){1&t&&(e.YNc(0,As,2,3,"a",0),e.YNc(1,Ur,2,1,"div",1),e.YNc(2,te,7,6,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("ngIf","FILE"===(null==i.attachment?null:i.attachment.type)),e.xp6(1),e.Q6J("ngIf","FILE"!==(null==i.attachment?null:i.attachment.type)))},dependencies:[I.O5,I.tP,Rs.x],styles:[".attachment-wrapper[_ngcontent-%COMP%]{display:flex;gap:.3rem;align-items:center;color:var(--tc-600);font-weight:500;font-size:.9rem;cursor:pointer;transition:color .2s ease-out;text-decoration:none!important;width:max-content}.attachment-wrapper[_ngcontent-%COMP%]:hover{color:var(--tc-800)}.photo-preview-panel[_ngcontent-%COMP%]{position:absolute;display:grid;grid:1fr/1fr;padding:.7rem;border-radius:.5rem;background-color:#fff;box-shadow:0 0 2px #0003,0 4px 8px #0000000d;width:max-content;height:max-content;max-width:21rem;min-width:8rem;min-height:8rem;align-items:center;justify-content:center;z-index:3;overflow:hidden;transform:translate(100%,-50%)}.preview-image[_ngcontent-%COMP%]{grid-area:1/1/2/2;border-radius:.4rem;width:100%;height:100%;min-width:5rem;min-height:5rem;max-height:21rem}.preview-loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-area:1/1/2/2;width:100%;height:100%}"]}),n})();var Je=C(5651);let Jt=(()=>{class n{constructor(){this.loading=!1,this.loadingChange=new e.vpe,this.load=new e.vpe,this.initialScrollPos=0,this.initialScrollPosChange=new e.vpe}ngOnInit(){setTimeout(()=>window.scrollTo({top:this.initialScrollPos,behavior:"instant"}),100)}windowScroll(t){document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)==0&&!this.loading&&(this.loading=!0,this.loadingChange.emit(!0),this.load.emit()),this.initialScrollPos=window.scrollY,this.initialScrollPosChange.emit(window.scrollY)}windowResize(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appLazyPageLoader",""]],hostBindings:function(t,i){1&t&&e.NdJ("scroll",function(c){return i.windowScroll(c)},!1,e.Jf7)("resize",function(c){return i.windowResize(c)},!1,e.Jf7)},inputs:{loading:"loading",initialScrollPos:"initialScrollPos"},outputs:{loadingChange:"loadingChange",load:"load",initialScrollPosChange:"initialScrollPosChange"}}),n})();function Tn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.showContent())}),e.TgZ(1,"span",3),e._uU(2,"visibility"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.buttonCaption," ")}}function Ci(n,o){1&n&&(e.ynx(0),e.Hsn(1),e.BQk())}const Po=["*"];let hs=(()=>{class n{constructor(){this.buttonCaption="",this.display=!1,this.displayChange=new e.vpe}ngOnInit(){}showContent(){this.display=!0,this.displayChange.emit(this.display)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-expanding-panel"]],inputs:{buttonCaption:"buttonCaption",display:"display"},outputs:{displayChange:"displayChange"},ngContentSelectors:Po,decls:3,vars:2,consts:[["class","expand-button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"expand-button",3,"click"],[1,"material-icons-round","parent-inherit"]],template:function(t,i){1&t&&(e.F$t(),e.ynx(0),e.YNc(1,Tn,4,1,"span",0),e.YNc(2,Ci,2,0,"ng-container",1),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.display),e.xp6(1),e.Q6J("ngIf",i.display))},dependencies:[I.O5],styles:[".expand-button[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;font-size:.8rem;font-weight:600;color:var(--mc-500);line-height:normal;padding:.3rem .5rem;border-radius:.3rem;align-self:center;align-items:center;justify-content:center;gap:.2rem;transition:background-color .2s ease-out}.expand-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--mc-500)}.expand-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}"]}),n})();var Ls=C(2716),Ts=C(417);let Ns=(()=>{class n{transform(t){if(!("type"in t))return"";switch(t.type){case ft.dA.CHANGE_STAGE:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0430 \u044d\u0442\u0430\u043f: ";case ft.dA.CREATE_WORK_LOG:return"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case ft.dA.FORCE_CLOSE_WORK_LOG:return"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case ft.dA.CLOSE_WORK_LOG:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435";case ft.dA.CHANGE_RESPONSIBILITY:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439: ";case ft.dA.LINKED_TO_PARENT_TASK:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u0430 \u043a \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435";case ft.dA.UNLINKED_FROM_PARENT_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438";case ft.dA.UNLINK_CHILD_TASK:return"\u041e\u0442\u0432\u044f\u0437\u0430\u043d\u0430 \u043e\u0442 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u0447";case ft.dA.LINKED_TO_CHILD_TASKS:return"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";case ft.dA.CHANGE_TAGS:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b \u0442\u0435\u0433\u0438: ";case ft.dA.CLEAN_TAGS:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u043e\u0442\u0447\u0438\u0449\u0435\u043d\u0430 \u043e\u0442 \u0442\u0435\u0433\u043e\u0432";case ft.dA.CHANGE_OBSERVERS:return"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438: ";case ft.dA.UNBIND_RESPONSIBLE:return"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0443\u0431\u0440\u0430\u043d";case ft.dA.CHANGE_ACTUAL_FROM:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430: ";case ft.dA.CHANGE_ACTUAL_TO:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f: ";case ft.dA.CLEAR_ACTUAL_FROM_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0434\u0430\u0442\u0430";case ft.dA.CLEAR_ACTUAL_TO_TASK:return"\u0423\u0434\u0430\u043b\u0435\u043d \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f";case ft.dA.CLOSE_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430";case ft.dA.REOPEN_TASK:return"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u0430";case ft.dA.EDIT_FIELDS:return"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430";case ft.dA.REPORT_CREATED:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435: "}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"taskEventTranslate",type:n,pure:!0}),n})();function Js(n,o){1&n&&e.GkF(0)}function js(n,o){1&n&&e._UZ(0,"div",17)}function or(n,o){1&n&&e.GkF(0)}function wr(n,o){if(1&n&&e._UZ(0,"quill-view-html",18),2&n){const t=e.oxw(2).$implicit;e.Q6J("content",t.message)}}function Fs(n,o){if(1&n&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.message)}}function zr(n,o){if(1&n&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.ALo(3,"taskEventTranslate"),e.qZA(),e.YNc(4,Fs,2,1,"span",20),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t)),e.xp6(2),e.Q6J("ngIf",t.message)}}function ea(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function ta(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function na(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,ta,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(t)-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t,!1))("ngForTrackBy",i.trackByAttachment)}}function Y(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,ea,1,1,"app-attachment-link",23),e.YNc(2,na,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(t))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(t)>3)}}function Se(n,o){1&n&&e.GkF(0)}function X(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function Ge(n,o){1&n&&e._UZ(0,"app-attachment-link",25),2&n&&e.Q6J("attachment",o.$implicit)}function ht(n,o){if(1&n&&(e.TgZ(0,"app-expanding-panel",26),e.YNc(1,Ge,1,1,"app-attachment-link",23),e.qZA()),2&n){const t=e.oxw(4).$implicit,i=e.oxw();e.Q6J("buttonCaption","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c "+(i.getAttachmentsCount(i.getReplyComment(t))-3)+"+"),e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t),!1))("ngForTrackBy",i.trackByAttachment)}}function Zt(n,o){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,X,1,1,"app-attachment-link",23),e.YNc(2,ht,2,3,"app-expanding-panel",24),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getAttachments(i.getReplyComment(t)))("ngForTrackBy",i.trackByAttachment),e.xp6(1),e.Q6J("ngIf",i.getAttachmentsCount(i.getReplyComment(t))>3)}}const Gt=function(n){return{$implicit:n,reply:!0}};function wn(n,o){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"div",28),e.TgZ(2,"div",9),e._UZ(3,"app-avatar",29),e.qZA(),e.YNc(4,Se,1,0,"ng-container",7),e.TgZ(5,"div",30),e._UZ(6,"markdown",31),e.YNc(7,Zt,3,3,"div",14),e.qZA()()),2&n){const t=e.oxw(2).$implicit,i=e.oxw(),r=e.MAs(6);let c,h,y;e.xp6(3),e.Q6J("name",null==(c=i.getReplyComment(t))||null==c.creator?null:c.creator.fullName)("src",null==(h=i.getReplyComment(t))||null==h.creator?null:h.creator.avatar)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(7,Gt,i.getReplyComment(t))),e.xp6(2),e.Q6J("data",null==(y=i.getReplyComment(t))?null:y.message),e.xp6(1),e.Q6J("ngIf",i.hasAttachments(i.getReplyComment(t)))}}function Ii(n,o){1&n&&e._UZ(0,"div",32)}const gi=function(n,o){return{event:n,reply:o}},vi=function(n){return{$implicit:n}},li=function(n){return{$implicit:n,reply:!1}};function $i(n,o){if(1&n&&(e.TgZ(0,"div",6),e.ynx(1),e.YNc(2,Js,1,0,"ng-container",7),e.YNc(3,js,1,0,"div",8),e.TgZ(4,"div",9),e._UZ(5,"app-avatar",10),e.qZA(),e.YNc(6,or,1,0,"ng-container",7),e.TgZ(7,"div",11),e.YNc(8,wr,1,1,"quill-view-html",12),e.YNc(9,zr,5,4,"div",13),e.YNc(10,Y,3,3,"div",14),e.qZA(),e.YNc(11,wn,8,9,"div",15),e.YNc(12,Ii,1,0,"div",16),e.BQk(),e.qZA()),2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw(),h=e.MAs(4),y=e.MAs(6);e.Q6J("@fade",void 0)("ngClass",e.WLB(16,gi,!c.isComment(i),c.isHasReply(i))),e.xp6(2),e.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",e.VKq(19,vi,i)),e.xp6(1),e.Q6J("ngIf",r<c.displayedEntries.length-1),e.xp6(2),e.Q6J("src",null==i.creator?null:i.creator.avatar)("name",null==i.creator?null:i.creator.fullName)("size",2.8),e.xp6(1),e.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",e.VKq(21,li,i)),e.xp6(1),e.Q6J("ngClass",e.WLB(23,gi,!c.isComment(i),c.isHasReply(i))),e.xp6(1),e.Q6J("ngIf",c.isComment(i)),e.xp6(1),e.Q6J("ngIf",!c.isComment(i)),e.xp6(1),e.Q6J("ngIf",c.hasAttachments(i)),e.xp6(1),e.Q6J("ngIf",c.isHasReply(i)),e.xp6(1),e.Q6J("ngIf",!c.isComment(i))}}function fi(n,o){if(1&n&&(e.ynx(0),e.YNc(1,$i,13,26,"div",5),e.BQk()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.isComment(t)&&i.showEvents||i.isComment(t))}}function Yi(n,o){1&n&&(e.TgZ(0,"div",34),e._UZ(1,"p-skeleton",35)(2,"p-skeleton",36),e.TgZ(3,"div",37)(4,"div",38),e._UZ(5,"p-skeleton",39)(6,"p-skeleton",40),e.qZA()(),e._UZ(7,"p-skeleton",41),e.qZA()),2&n&&(e.xp6(5),e.Udp("padding-bottom",".5rem"))}function rs(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Yi,8,2,"div",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.skeletons)}}function Ro(n,o){if(1&n&&(e.TgZ(0,"span",42)(1,"span",43),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.Udp("background-color",i.getEventColor(t)),e.xp6(2),e.Oqu(i.getEventIcon(t))}}function gs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",51),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.selectCommentToReply(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function ws(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-icon-button",52),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const c=e.MAs(10);return e.KtG(c.toggle(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.isAnActionOnComments())}}function es(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2).$implicit,c=e.MAs(10);return e.oxw().selectCommentToEdit(r),e.KtG(c.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function Bs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",56),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2).$implicit,c=e.MAs(10);return e.oxw().confirmToDeleteComment(r),e.KtG(c.hide())}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.isAnActionOnComments())}}function Ee(n,o){if(1&n&&(e.YNc(0,es,1,1,"app-button",53),e.YNc(1,Bs,1,1,"app-button",54)),2&n){const t=e.oxw(),i=t.$implicit,r=t.reply,c=e.oxw();e.Q6J("ngIf",c.isMyComment(i)&&!r),e.xp6(1),e.Q6J("ngIf",c.isMyComment(i)&&!r)}}function w(n,o){if(1&n&&(e.TgZ(0,"div",37)(1,"div",38)(2,"span",44),e._uU(3),e.qZA(),e.TgZ(4,"span",45),e._uU(5),e.ALo(6,"elapsedTime"),e.qZA()(),e.YNc(7,gs,1,1,"app-button",46),e.YNc(8,ws,1,1,"app-icon-button",47),e.TgZ(9,"p-overlayPanel",48,49),e.YNc(11,Ee,2,2,"ng-template",50),e.qZA()()),2&n){const t=o.$implicit,i=o.reply,r=e.oxw();e.xp6(3),e.Oqu(null==t.creator?null:t.creator.fullName),e.xp6(2),e.Oqu(e.Dn7(6,4,t.created,t.type?"":"\u043d\u0430\u043f\u0438\u0441\u0430\u043b(\u0430) "," \u043d\u0430\u0437\u0430\u0434")),e.xp6(2),e.Q6J("ngIf",r.isComment(t)&&!i),e.xp6(1),e.Q6J("ngIf",r.isMyComment(t)&&!i)}}let k=(()=>{class n{constructor(t,i,r,c){this.api=t,this.personality=i,this.confirmation=r,this.rt=c,this.rtSubscriptions=new it.xf,this.replyCommentChange=new e.vpe,this.editCommentChange=new e.vpe,this.onFirstLoad=new e.vpe,this.entries=[],this.skeletons=Array.from({length:10}),this.totalEntries=0,this.loading=!1,this.firstLoad=!0,this.showEvents=!0,this.counters=[],this._taskId=-1}get displayedEntries(){return this.showEvents?this.entries:this.entries.filter(t=>"commentId"in t)}trackByEntry(t,i){return"commentId"in i?i.commentId+i.message+i.edited:"taskEventId"in i?i.taskEventId:null}set taskId(t){this._taskId=t,this.clearEntries(),this.loadComments(),this.rtSubscriptions.addSubscription("crCom",this.rt.commentCreated(t).subscribe(this.onCommentCreate.bind(this))),this.rtSubscriptions.addSubscription("crUpt",this.rt.commentUpdated(t).subscribe(this.onCommentUpdate.bind(this))),this.rtSubscriptions.addSubscription("crDel",this.rt.commentDeleted(t).subscribe(this.onCommentDelete.bind(this))),this.rtSubscriptions.addSubscription("crEv",this.rt.taskEventCreated(t).subscribe(this.onEventCreate.bind(this))),this.rtSubscriptions.addSubscription("empUpt",this.rt.employeeUpdated().subscribe(this.onEmployeeUpdate.bind(this)))}get taskId(){return this._taskId}onCommentCreate(t){this.entries.some(i=>"commentId"in i&&i.commentId===t.commentId)||(this.entries.unshift(t),this.totalEntries++,this.onFirstLoad.emit(!0))}onCommentDelete(t){const i=this.entries.findIndex(r=>"commentId"in r&&r.commentId===t.commentId);-1!==i&&(this.entries.splice(i,1),this.totalEntries--)}onCommentUpdate(t){const i=this.entries.findIndex(r=>"commentId"in r&&r.commentId===t.commentId);-1!==i&&this.entries.splice(i,1,t)}onEventCreate(t){this.entries.some(i=>"taskEventId"in i&&i.taskEventId===t.taskEventId)||(this.entries.unshift(t),this.onFirstLoad.emit(!0))}ngOnDestroy(){this.rtSubscriptions.unsubscribeAll()}ngOnInit(){}loadComments(){if(!this._taskId)return;const t=this.entries.filter(i=>"commentId"in i).length;t<this.totalEntries?this.api.getTaskJournal(this._taskId,t,10).subscribe(i=>{0===this.entries.length&&(this.totalEntries=i.totalElements),this.entries=[...this.entries,...i.content],this.loading=!1}):this.firstLoad?this.api.getTaskJournal(this._taskId,0,10).subscribe(i=>{this.totalEntries=i.totalElements,this.entries=i.content,this.loading=!1,this.firstLoad=!1,this.onFirstLoad.emit(this.totalEntries>0||i.content.length>0)}):this.loading=!1}isComment(t){return"commentId"in t}isMyComment(t){var i,r;return"commentId"in t&&(null===(i=this.personality.me)||void 0===i?void 0:i.login)===(null===(r=t.creator)||void 0===r?void 0:r.login)}isAnActionOnComments(){return!!this.replyComment||!!this.editComment}getEventIcon(t){if(!("type"in t))return"comment";switch(t.type){case ft.dA.CHANGE_STAGE:return"swipe_right_alt";case ft.dA.CREATE_WORK_LOG:return"assignment";case ft.dA.FORCE_CLOSE_WORK_LOG:case ft.dA.CLOSE_WORK_LOG:return"assignment_return";case ft.dA.CHANGE_RESPONSIBILITY:return"person";case ft.dA.LINKED_TO_PARENT_TASK:return"link";case ft.dA.UNLINKED_FROM_PARENT_TASK:case ft.dA.UNLINK_CHILD_TASK:return"link_off";case ft.dA.LINKED_TO_CHILD_TASKS:return"link";case ft.dA.CHANGE_TAGS:return"label";case ft.dA.CLEAN_TAGS:return"label_off";case ft.dA.CHANGE_OBSERVERS:return"groups";case ft.dA.UNBIND_RESPONSIBLE:return"person_off";case ft.dA.CHANGE_ACTUAL_FROM:return"pending_actions";case ft.dA.CHANGE_ACTUAL_TO:return"today";case ft.dA.CLEAR_ACTUAL_FROM_TASK:return"alarm_off";case ft.dA.CLEAR_ACTUAL_TO_TASK:return"hourglass_disabled";case ft.dA.CLOSE_TASK:return"swipe_down_alt";case ft.dA.REOPEN_TASK:return"swipe_up_alt";case ft.dA.EDIT_FIELDS:return"edit";case ft.dA.REPORT_CREATED:return"history_edu";default:return"adjust"}}getEventColor(t){if(!("type"in t))return"#7a7f8d";switch(t.type){case ft.dA.CHANGE_STAGE:return"#289de7";case ft.dA.CREATE_WORK_LOG:return"#49DF30";case ft.dA.FORCE_CLOSE_WORK_LOG:return"#e81a30";case ft.dA.CLOSE_WORK_LOG:return"#52ff89";case ft.dA.CHANGE_RESPONSIBILITY:return"#ff9f3b";case ft.dA.LINKED_TO_PARENT_TASK:return"#9933ec";case ft.dA.UNLINKED_FROM_PARENT_TASK:case ft.dA.UNLINK_CHILD_TASK:return"#ef369d";case ft.dA.LINKED_TO_CHILD_TASKS:return"#9933ec";case ft.dA.CHANGE_TAGS:return"#13c587";case ft.dA.CLEAN_TAGS:return"#c73953";case ft.dA.CHANGE_OBSERVERS:return"#ff763b";case ft.dA.UNBIND_RESPONSIBLE:return"#3bdbff";case ft.dA.CHANGE_ACTUAL_FROM:return"#3bff3e";case ft.dA.CHANGE_ACTUAL_TO:return"#a7e52e";case ft.dA.CLEAR_ACTUAL_FROM_TASK:return"#c79436";case ft.dA.CLEAR_ACTUAL_TO_TASK:return"#a65c48";case ft.dA.CLOSE_TASK:return"#866e6e";case ft.dA.REOPEN_TASK:return"#1a7ae8";case ft.dA.EDIT_FIELDS:return"#61d78d";case ft.dA.REPORT_CREATED:return"#ff9f3b";default:return"#ff0000"}}hasAttachments(t){var i,r;return!!t&&"attachments"in t&&(null!==(r=null===(i=t.attachments)||void 0===i?void 0:i.length)&&void 0!==r?r:0)>0}getAttachments(t,i=!0){if(!t)return[];const r="attachments"in t&&t.attachments?t.attachments:[];return i?r.slice(0,3):r.slice(3)}getAttachmentsCount(t){return t&&"attachments"in t&&t.attachments?t.attachments.length:0}trackByAttachment(t,i){return i?i.name:t}selectCommentToReply(t){this.replyComment=t,console.log(this.replyComment),this.replyCommentChange.emit(this.replyComment)}selectCommentToEdit(t){this.editComment=t,this.editCommentChange.emit(this.editComment)}isHasReply(t){return"replyComment"in t&&t.replyComment}getReplyComment(t){return"replyComment"in t?t.replyComment:void 0}confirmToDeleteComment(t){this.confirmation.confirm({header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439?",accept:()=>this.api.deleteComment(t.commentId).subscribe()})}onEmployeeUpdate(t){var i;for(const r of this.entries)(null===(i=r.creator)||void 0===i?void 0:i.login)===t.login&&(r.creator=t)}clearEntries(){this.entries=[],this.totalEntries=0,this.firstLoad=!0,this.counters=[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(wo.F),e.Y36(Le.YP),e.Y36(Dn.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-journal"]],inputs:{replyComment:"replyComment",editComment:"editComment",showEvents:"showEvents",taskId:"taskId"},outputs:{replyCommentChange:"replyCommentChange",editCommentChange:"editCommentChange",onFirstLoad:"onFirstLoad"},decls:7,vars:4,consts:[["appLazyPageLoader","",1,"journal",3,"loading","load","loadingChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["eventIcon",""],["eventHeader",""],["class","journal-item",3,"ngClass",4,"ngIf"],[1,"journal-item",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","vertical-line",4,"ngIf"],[1,"employee-avatar-wrapper"],[3,"src","name","size"],[1,"journal-event-body",3,"ngClass"],["appTextRevival","",3,"content",4,"ngIf"],["class","flexed gap5 hcenter",4,"ngIf"],["class","attachments-list",4,"ngIf"],["class","reply-comment",4,"ngIf"],["class","event-footer",4,"ngIf"],[1,"vertical-line"],["appTextRevival","",3,"content"],[1,"flexed","gap5","hcenter"],["appTextRevival","",4,"ngIf"],["appTextRevival",""],[1,"attachments-list"],[3,"attachment",4,"ngFor","ngForOf","ngForTrackBy"],[3,"buttonCaption",4,"ngIf"],[3,"attachment"],[3,"buttonCaption"],[1,"reply-comment"],[1,"reply-marker"],[3,"name","src","size"],[1,"journal-event-body"],[3,"data"],[1,"event-footer"],["class","journal-item skeleton",4,"ngFor","ngForOf"],[1,"journal-item","skeleton"],["shape","circle","size","2rem",1,"event-type-wrapper","skeleton"],["shape","circle","size","2.8rem",1,"employee-avatar-wrapper"],[1,"journal-event-header"],[1,"basic-information"],["height","1rem","width","10rem"],["height",".8rem","width","7rem"],["height","6rem",1,"journal-event-body"],[1,"event-type-wrapper"],[1,"material-icons-round"],[1,"employee-name"],[1,"creation-time"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick",4,"ngIf"],["icon","more_vert",3,"disabled","onClick",4,"ngIf"],["appendTo","body"],["ownCommentMenu",""],["pTemplate","content"],["icon","reply","label","\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","model","p-button-text",3,"disabled","onClick"],["icon","more_vert",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick",4,"ngIf"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","model","p-button-text p-button-warn",3,"disabled","onClick"],["icon","delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","model","p-button-text p-button-danger",3,"disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.NdJ("load",function(){return i.loadComments()})("loadingChange",function(c){return i.loading=c}),e.YNc(1,fi,2,1,"ng-container",1),e.YNc(2,rs,2,1,"ng-container",2),e.qZA(),e.YNc(3,Ro,3,3,"ng-template",null,3,e.W1O),e.YNc(5,w,12,8,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("loading",i.loading),e.xp6(1),e.Q6J("ngForOf",i.displayedEntries)("ngForTrackBy",i.trackByEntry),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[I.mk,I.sg,I.O5,I.tP,Le.jx,Os.O,Bi.lF,Et.T,Ps.qH,W,ss.A,fo.r,Je.r,Jt,hs,Ls.J,Ts.t,Ns],styles:['.journal[_ngcontent-%COMP%]{display:flex;flex-direction:column}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]{display:grid;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body"}.journal[_ngcontent-%COMP%]   .journal-item[_ngcontent-%COMP%]   .journal-event-body[_ngcontent-%COMP%]:not(.event):not(.reply){padding-bottom:3rem}.journal[_ngcontent-%COMP%]   .journal-item.event[_ngcontent-%COMP%]{grid:min-content min-content/repeat(3,max-content) 1fr;grid-template-areas:"event-type employee-avatar event-header event-body" "event-stick event-footer event-footer event-footer"}.journal[_ngcontent-%COMP%]   .journal-item.reply[_ngcontent-%COMP%]{grid:repeat(3,min-content)/max-content max-content 1fr;grid-template-areas:"event-type employee-avatar event-header" "event-stick . event-body" "event-stick reply-comment reply-comment"}.event-type-wrapper[_ngcontent-%COMP%]{grid-area:event-type;display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;color:#fff;border-radius:9999px;align-self:center}.event-type-wrapper[_ngcontent-%COMP%]:not(.skeleton){background-color:var(--gray-600)}.event-type-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.employee-avatar-wrapper[_ngcontent-%COMP%]{align-items:center;grid-area:employee-avatar;display:flex;padding:0 1rem 0 1.5rem}.journal-item[_ngcontent-%COMP%]:not(:last-child)   .vertical-line[_ngcontent-%COMP%]{grid-area:event-stick;background-color:var(--bgc-300);width:1px;justify-self:center}.journal-event-header[_ngcontent-%COMP%]{grid-area:event-header;display:flex;align-items:center;gap:1rem}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]{display:flex;align-self:center;flex-direction:column}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--tc-800);line-height:normal}.journal-event-header[_ngcontent-%COMP%]   .basic-information[_ngcontent-%COMP%]   .creation-time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);line-height:normal}.journal-event-body[_ngcontent-%COMP%]{grid-area:event-body;padding-top:.5rem}.journal-event-body.event[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:1.2rem;display:flex;align-items:center}.reply-comment[_ngcontent-%COMP%]{grid-area:reply-comment;display:grid;opacity:.9;grid:min-content min-content/max-content max-content 1fr;grid-template-areas:"reply-marker employee-avatar event-header" "reply-marker . event-body"}.reply-comment[_ngcontent-%COMP%]   .reply-marker[_ngcontent-%COMP%]{grid-area:reply-marker;margin:0 0 2rem 2.8rem;background-color:var(--mc-300);width:3px;border-radius:3px}.reply-comment[_ngcontent-%COMP%]   .journal-event-header[_ngcontent-%COMP%], .reply-comment[_ngcontent-%COMP%]   .employee-avatar-wrapper[_ngcontent-%COMP%]{margin-top:1rem}.event-footer[_ngcontent-%COMP%]{grid-area:event-footer;height:2rem}.attachments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem;padding-top:.6rem}'],data:{animation:[Fi.U1]}}),n})();function ae(n,o){if(1&n&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.icon)}}function Be(n,o){if(1&n&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.label)}}const et=function(n,o){return{disabled:n,iconed:o}};let yt=(()=>{class n{constructor(){this.disabled=!1,this.size=1,this.model="primary",this.onClick=new e.vpe}ngOnInit(){}clickHandler(t){this.disabled||this.onClick.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tiny-button"]],inputs:{icon:"icon",label:"label",disabled:"disabled",size:"size",model:"model"},outputs:{onClick:"onClick"},decls:3,vars:10,consts:[[3,"ngClass","click"],["class","material-icons-round t-button-icon",4,"ngIf"],["class","t-button-label",4,"ngIf"],[1,"material-icons-round","t-button-icon"],[1,"t-button-label"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(c){return i.clickHandler(c)}),e.YNc(1,ae,2,1,"span",1),e.YNc(2,Be,2,1,"span",2),e.qZA()),2&t&&(e.Tol("t-button "+i.model),e.Udp("font-size",i.size+"rem"),e.Q6J("ngClass",e.WLB(7,et,i.disabled,i.icon&&i.label)),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",i.label))},dependencies:[I.mk,I.O5],styles:[".t-button[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;padding:.3rem;transition:background-color .2s ease-in;cursor:pointer;color:var(--mc-500);font-weight:700;border-radius:.3rem}.t-button.disabled[_ngcontent-%COMP%]{cursor:default;background-color:var(--bgc-200)!important;color:var(--tc-400)!important}.t-button.iconed[_ngcontent-%COMP%]{padding-right:.6rem}.t-button.primary[_ngcontent-%COMP%]{color:var(--mc-500)}.t-button.primary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.secondary[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.t-button.secondary[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button.success[_ngcontent-%COMP%]{color:var(--green-500)}.t-button.success[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--green-100)}.t-button.danger[_ngcontent-%COMP%]{color:#ef4444}.t-button.danger[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--red-100)}.t-button.warn[_ngcontent-%COMP%]{color:#f59e0b}.t-button.warn[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--yellow-100)}.t-button.info[_ngcontent-%COMP%]{color:var(--blue-500)}.t-button.info[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--blue-100)}.t-button[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--mc-0)}.t-button-icon[_ngcontent-%COMP%]{color:inherit;font-size:1.3em}.t-button-label[_ngcontent-%COMP%]{color:inherit;font-size:inherit;line-height:normal;white-space:nowrap}"]}),n})();var Tt=C(2777);const Nt=["panel"],$t=["target"],In=["list"],En=function(n){return{selected:n}};function $n(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw(2),y=e.MAs(3);return null==y||y.hide(),e.KtG(h.onSelect.emit(c))})("mouseenter",function(){const c=e.CHM(t).index,h=e.oxw(2);return e.KtG(h.selectedEmployeeIndex=c)}),e._UZ(1,"app-employee-label",9),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.Q6J("ngClass",e.VKq(2,En,r.selectedEmployeeIndex===i)),e.xp6(1),e.Q6J("employee",t)}}function Xn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5,6),e.NdJ("keydown",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.navigate(r))}),e.YNc(2,$n,2,4,"div",7),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("tabIndex",0),e.xp6(2),e.Q6J("ngForOf",t.employees)}}let Fn=(()=>{class n{constructor(t){this.api=t,this.targetPosition={top:"0px",left:"0px"},this.employees=[],this.selectedEmployeeIndex=0,this.onSelect=new e.vpe,this.onReturnFocus=new e.vpe}setQuillEvent(t){var i;!it.cQ.isCorrectSequenceOfCharacters(t,"@",[" ","\n"])||(null===(i=this.panel)||void 0===i||i.hide(),this.api.getEmployees(void 0,!1,!1).subscribe(r=>{var c,h,y;this.employees=r;const{editor:ce}=t,ct=ce.getSelection(),{top:pt,left:rt}=ce.getBounds(null!==(c=null==ct?void 0:ct.index)&&void 0!==c?c:0),zt=t.editor.root.getBoundingClientRect();this.targetPosition={left:rt+zt.x+window.scrollX+"px",top:pt+zt.y+window.scrollY+"px"},null===(h=this.panel)||void 0===h||h.show(new MouseEvent("click"),null===(y=this.target)||void 0===y?void 0:y.nativeElement),setTimeout(()=>{var dn,On;null===(On=null===(dn=this.list)||void 0===dn?void 0:dn.nativeElement)||void 0===On||On.focus()},100)}))}ngOnInit(){}navigate(t){var i,r;switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex++,this.selectedEmployeeIndex>=this.employees.length&&(this.selectedEmployeeIndex=0);break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.selectedEmployeeIndex--,this.selectedEmployeeIndex<0&&(this.selectedEmployeeIndex=this.employees.length-1);break;case"Enter":null===(i=this.panel)||void 0===i||i.hide(),this.onSelect.emit(this.employees[this.selectedEmployeeIndex]);break;default:null===(r=this.panel)||void 0===r||r.hide(),this.onReturnFocus.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-insert-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Nt,5),e.Gf($t,5),e.Gf(In,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.panel=r.first),e.iGM(r=e.CRH())&&(i.target=r.first),e.iGM(r=e.CRH())&&(i.list=r.first)}},outputs:{onSelect:"onSelect",onReturnFocus:"onReturnFocus"},decls:5,vars:3,consts:[[1,"overlay-target"],["target",""],["appCloseIfScroll","","showTransitionOptions","0ms","hideTransitionOptions","0ms",3,"dismissable"],["panel",""],["pTemplate","content"],[1,"list-view",3,"tabIndex","keydown"],["list",""],["class","p5",3,"ngClass","click","mouseenter",4,"ngFor","ngForOf"],[1,"p5",3,"ngClass","click","mouseenter"],[3,"employee"]],template:function(t,i){1&t&&(e._UZ(0,"div",0,1),e.TgZ(2,"p-overlayPanel",2,3),e.YNc(4,Xn,3,2,"ng-template",4),e.qZA()),2&t&&(e.Akn(i.targetPosition),e.xp6(2),e.Q6J("dismissable",!0))},dependencies:[I.mk,I.sg,Le.jx,Et.T,Ri.x],styles:[".overlay-target[_ngcontent-%COMP%]{width:1px;height:13px;position:absolute;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]{outline:0}.list-view[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.list-view[_ngcontent-%COMP%]   *.selected[_ngcontent-%COMP%]{background-color:var(--gray-200)}"]}),n})();var zn=C(7805),ri=C(8372),mi=C(1884);function no(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"p-progressSpinner",12),e.qZA(),e.BQk())}function Vo(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function ao(n,o){1&n&&e.GkF(0)}function Ws(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ao,1,0,"ng-container",16),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(3),r=e.MAs(5);e.xp6(1),e.Q6J("ngIf","single"===t.linkingMode)("ngIfThen",i)("ngIfElse",r)}}function fs(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",17),e._UZ(3,"i",18),e.TgZ(4,"span"),e._uU(5,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0437\u0430\u0434\u0430\u0447"),e.qZA()()(),e.BQk())}function Gi(n,o){1&n&&e.GkF(0)}function Uo(n,o){1&n&&e.GkF(0)}function xs(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",19),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectChild())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",0===t.selectedChildTask.length)}}function ts(n,o){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"app-circle-loading-indicator"),e.qZA())}function sr(n,o){if(1&n&&(e.ynx(0,6),e.YNc(1,no,3,0,"ng-container",7),e.YNc(2,Vo,6,0,"ng-container",7),e.YNc(3,Ws,2,3,"ng-container",7),e.YNc(4,fs,6,0,"ng-container",7),e.BQk(),e.YNc(5,Gi,1,0,"ng-container",8),e.YNc(6,Uo,1,0,"ng-container",8),e.YNc(7,xs,1,1,"p-button",9),e.YNc(8,ts,2,0,"div",10)),2&n){const t=e.oxw(),i=e.MAs(7),r=e.MAs(9);e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngIf","multiply"===t.linkingMode),e.xp6(1),e.Q6J("ngIf",t.linkingInProgress)}}function ms(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",23),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.selectParent(c.taskId))}),e.qZA()}2&n&&e.Q6J("item",o.$implicit)("customClickHandler",!0)("inlined",!0)}function Ys(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,ms,1,3,"app-task-list-element",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function Cr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",25),e.NdJ("checkChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectedChildTask=r)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.selectedChildTask)("item",t)("customClickHandler",!0)("inlined",!0)("isHover",!1)}}function ia(n,o){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,Cr,1,5,"app-task-list-element",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.pageOfTasks?null:t.pageOfTasks.content)}}function Mn(n,o){1&n&&e._UZ(0,"app-task-status-chooser",33)}function Nn(n,o){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"app-task-template-multi-selector",27),e.YNc(2,Mn,1,0,"app-task-status-chooser",28),e._UZ(3,"input",29)(4,"app-employee-selector",30)(5,"app-data-range-input",31)(6,"app-task-tag-filter-input",32),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.mainFilterForm),e.xp6(1),e.Q6J("inline",!0),e.xp6(1),e.Q6J("ngIf",!t.onlyMy)}}function Hn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-paginator",34),e.NdJ("onPageChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.changePage(r))}),e.qZA()}if(2&n){const t=e.oxw();let i;e.Q6J("alwaysShow",!0)("rows",25)("showCurrentPageReport",!0)("totalRecords",null!==(i=null==t.pageOfTasks?null:t.pageOfTasks.totalElements)&&void 0!==i?i:0)}}const Zn=function(){return{width:"80vw"}},Qi=function(){return{"960px":"90vw","640px":"100vw"}};let Lo=(()=>{class n{constructor(t,i){this.api=t,this.confirm=i,this.excludedTasks=[],this.header="",this.onlyMy=!1,this.onSelected=new e.vpe,this.onMultiplySelected=new e.vpe,this.isShow=!1,this.linkingMode="single",this.selectedChildTask=[],this.currentPage=0,this.loadingState=ft.Gu.LOADING,this.linkingInProgress=!1,this.lastAppliedMainFilter={},this.dialogContentStyle={padding:"0 1rem 0 1rem",display:"grid",grid:"1fr min-content/ 1fr max-content",gridTemplateAreas:"'list filter''paginator paginator'",columnGap:"1rem"},this.mainFilterForm=new R.cw({searchPhrase:new R.NI(null),template:new R.NI([],[oi.notEmpty]),status:new R.NI([ft.hY.ACTIVE,ft.hY.PROCESSING,ft.hY.CLOSE],[oi.notEmpty]),author:new R.NI(null),dateOfCreation:new R.NI(null),tags:new R.NI([])}),this.subscriptions=new it.xf}ngOnInit(){const t=this.mainFilterForm.valueChanges.pipe((0,ri.b)(1e3),(0,mi.x)());this.subscriptions.addSubscription("filter",t.subscribe(i=>{this.loadingState=ft.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),this.api.getPageOfTasks(0,Object.assign(Object.assign({},i),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}open(t){this.isShow=!0,this.linkingMode=t}changePage(t){this.loadingState=ft.Gu.LOADING,this.mainFilterForm.disable({emitEvent:!1}),this.api.getPageOfTasks(t.page,Object.assign(Object.assign({},this.mainFilterForm.getRawValue()),{exclusionIds:this.excludedTasks,onlyMy:this.onlyMy})).subscribe(this.loadHandler())}loadHandler(){return{next:t=>{this.pageOfTasks=t,this.loadingState=t.totalElements>0?ft.Gu.READY:ft.Gu.EMPTY,this.mainFilterForm.enable({emitEvent:!1})},error:()=>{this.loadingState=ft.Gu.ERROR,this.mainFilterForm.enable({emitEvent:!1})}}}selectParent(t){this.onSelected.emit(t),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}selectChild(){this.onMultiplySelected.emit(this.selectedChildTask),this.linkingInProgress=!1,this.selectedChildTask=[],this.isShow=!1}closeHandler(){this.mainFilterForm.setValue({template:[],status:[ft.hY.ACTIVE,ft.hY.PROCESSING,ft.hY.CLOSE],dateOfCreation:[],tags:[],author:"",searchPhrase:""}),this.pageOfTasks=void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Le.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-selecting-dialog"]],inputs:{excludedTasks:"excludedTasks",header:"header",onlyMy:"onlyMy"},outputs:{onSelected:"onSelected",onMultiplySelected:"onMultiplySelected"},decls:10,vars:11,consts:[[3,"visible","breakpoints","draggable","modal","resizable","contentStyle","header","visibleChange","onHide"],["pTemplate","content"],["parentTaskList",""],["childTaskList",""],["filter",""],["paginator",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["styleClass","p-button-success","class","float-button","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",3,"disabled","onClick",4,"ngIf"],["class","loading-shader",4,"ngIf"],[1,"list","flexed","hcenter","vcenter"],["strokeWidth","1",1,"primary-spinner"],[1,"list","flexed","hcenter","vcenter","flexed","hcenter","gap3"],[1,"caption","size-big","wt-bold","f-color-danger"],[1,"mdi-error"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap3"],[1,"mdi-search_off"],["styleClass","p-button-success","label","\u0412\u044b\u0431\u0440\u0430\u0442\u044c","icon","mdi-check",1,"float-button",3,"disabled","onClick"],[1,"loading-shader"],[1,"list"],[3,"item","customClickHandler","inlined","onClick",4,"ngFor","ngForOf"],[3,"item","customClickHandler","inlined","onClick"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange",4,"ngFor","ngForOf"],["checkGroup","childTasks",3,"check","item","customClickHandler","inlined","isHover","checkChange"],[1,"filters",3,"formGroup"],["formControlName","template",3,"inline"],["formControlName","status",4,"ngIf"],["pInputText","","formControlName","searchPhrase","placeholder","\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"],["formControlName","author"],["formControlName","dateOfCreation"],["formControlName","tags",1,"full-width"],["formControlName","status"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447",1,"paginator",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(c){return i.isShow=c})("onHide",function(){return i.closeHandler()}),e.YNc(1,sr,9,9,"ng-template",1),e.qZA(),e.YNc(2,Ys,2,1,"ng-template",null,2,e.W1O),e.YNc(4,ia,2,1,"ng-template",null,3,e.W1O),e.YNc(6,Nn,7,3,"ng-template",null,4,e.W1O),e.YNc(8,Hn,1,4,"ng-template",null,5,e.W1O)),2&t&&(e.Akn(e.DdM(9,Zn)),e.Q6J("visible",i.isShow)("breakpoints",e.DdM(10,Qi))("draggable",!1)("modal",!0)("resizable",!1)("contentStyle",i.dialogContentStyle)("header",i.header))},dependencies:[I.sg,I.O5,I.tP,I.RF,I.n9,Ei.zx,R.Fj,R.JJ,R.JL,Le.jx,qi.V,hn.G,Ze.o,R.sg,R.u,Wo.D,Rs.x,Fe.E,tn,qn,Di,ys,is],styles:[".filters[_ngcontent-%COMP%]{grid-area:filter;display:flex;flex-direction:column;gap:.5rem;position:sticky;top:0;height:max-content;padding-bottom:1rem}.list[_ngcontent-%COMP%]{grid-area:list;display:flex;flex-direction:column}.paginator[_ngcontent-%COMP%]{grid-area:paginator;position:sticky;bottom:0}.loading-shader[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:1;background-color:#fff9;top:0;left:0;-webkit-backdrop-filter:blur(7px);backdrop-filter:blur(7px);border-radius:1rem}.float-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}"]}),n})();var No=C(2059),as=C(1787);function Hi(n,o){1&n&&(e.TgZ(0,"div",7)(1,"span",8),e._UZ(2,"i",9),e.TgZ(3,"span"),e._uU(4," \u041d\u0435\u0442 \u0436\u0443\u0440\u043d\u0430\u043b\u043e\u0432 \u0440\u0430\u0431\u043e\u0442 "),e.qZA()()())}function vr(n,o){1&n&&e.GkF(0)}function wa(n,o){if(1&n&&(e.TgZ(0,"span",28)(1,"span",15),e._UZ(2,"i",29),e.TgZ(3,"span"),e._uU(4,"\u041e\u0442\u0447\u0435\u0442"),e.qZA()(),e.TgZ(5,"span",30),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(6),e.Oqu(t.report)}}const Eo=function(n){return{$implicit:n}};function Ks(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.YNc(1,vr,1,0,"ng-container",13),e.TgZ(2,"span",14)(3,"span")(4,"span",15),e._UZ(5,"i",16),e.TgZ(6,"span"),e._uU(7,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b:"),e.qZA()(),e._UZ(8,"app-avatar-list",17),e.qZA(),e.TgZ(9,"span")(10,"span",15),e._UZ(11,"i",16),e.TgZ(12,"span"),e._uU(13,"\u041f\u0440\u0438\u043d\u044f\u043b\u0438:"),e.qZA()(),e._UZ(14,"app-avatar-list",17),e.qZA(),e.TgZ(15,"span")(16,"span",15),e._UZ(17,"i",16),e.TgZ(18,"span"),e._uU(19,"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0438:"),e.qZA()(),e._UZ(20,"app-avatar-list",17),e.qZA(),e.TgZ(21,"span")(22,"span",15),e._UZ(23,"i",18),e.TgZ(24,"span"),e._uU(25,"\u0421\u043e\u0437\u0434\u0430\u043b:"),e.qZA()(),e._UZ(26,"app-employee-label",19),e.qZA()(),e.TgZ(27,"span",20)(28,"span",21)(29,"span",15),e._UZ(30,"i",22),e.TgZ(31,"span"),e._uU(32,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA()(),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"date"),e.qZA()(),e.TgZ(36,"span",21)(37,"span",15),e._UZ(38,"i",23),e.TgZ(39,"span"),e._uU(40,"\u0417\u0430\u043a\u0440\u044b\u0442:"),e.qZA()(),e.TgZ(41,"span"),e._uU(42),e.ALo(43,"date"),e.qZA()(),e.TgZ(44,"span",21)(45,"span",15),e._UZ(46,"i",24),e.TgZ(47,"span"),e._uU(48,"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438:"),e.qZA()(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"elapsedTime"),e.qZA()()(),e.TgZ(52,"span",14)(53,"p-button",25),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw(3);return e.KtG(h.chatService.open.emit(c.chat.chatId))}),e.qZA(),e._UZ(54,"p-button",26),e.qZA(),e.YNc(55,wa,7,1,"span",27),e.qZA()}if(2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(22,Eo,t.status)),e.xp6(7),e.Q6J("employees",t.employees),e.xp6(6),e.Q6J("employees",t.whoAccepted),e.xp6(6),e.Q6J("employees",t.whoClosed),e.xp6(6),e.Q6J("employee",t.creator)("size",2),e.xp6(8),e.Oqu(e.xi3(35,11,t.created,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.xi3(43,14,t.closed,"dd-MM-yyyy HH:mm")),e.xp6(8),e.Oqu(e.gM2(51,17,t.leadTime,"","",!0)),e.xp6(5),e.Q6J("ngIf",t.report)}}function ls(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,Ks,56,24,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.workLogs)("ngForTrackBy",t.trackByWorkLog)}}function rr(n,o){1&n&&e.GkF(0)}function br(n,o){if(1&n&&(e.ynx(0),e.YNc(1,rr,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ar(n,o){if(1&n&&(e.YNc(0,Hi,5,0,"div",4),e.YNc(1,ls,2,2,"div",5),e.YNc(2,br,2,1,"ng-container",6)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.isLoading&&!t.workLogs.length),e.xp6(1),e.Q6J("ngIf",!t.isLoading&&t.workLogs.length),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}const oa=function(){return{color:"var(--warm-600)"}};function xr(n,o){1&n&&(e.TgZ(0,"span",34),e._UZ(1,"i",35),e.TgZ(2,"span"),e._uU(3," \u0412 \u0440\u0430\u0431\u043e\u0442\u0435 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,oa))}const Er=function(){return{color:"var(--green-400)"}};function sa(n,o){1&n&&(e.TgZ(0,"span",34),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 "),e.qZA()()),2&n&&e.Akn(e.DdM(2,Er))}const ra=function(){return{color:"var(--red-400)"}};function lc(n,o){1&n&&(e.TgZ(0,"span",34),e._UZ(1,"i",37),e.TgZ(2,"span"),e._uU(3," \u0417\u0430\u043a\u0440\u044b\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e "),e.qZA()()),2&n&&e.Akn(e.DdM(2,ra))}function dl(n,o){1&n&&(e.ynx(0,32),e.YNc(1,xr,4,3,"span",33),e.YNc(2,sa,4,3,"span",33),e.YNc(3,lc,4,3,"span",33),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit),e.xp6(1),e.Q6J("ngSwitchCase","ACTIVE"),e.xp6(1),e.Q6J("ngSwitchCase","CLOSE"),e.xp6(1),e.Q6J("ngSwitchCase","FORCE_CLOSE"))}function Oi(n,o){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"p-skeleton",39),e.TgZ(2,"span",14)(3,"span"),e._UZ(4,"p-skeleton",40),e.qZA(),e.TgZ(5,"span"),e._UZ(6,"p-skeleton",40),e.qZA(),e.TgZ(7,"span"),e._UZ(8,"p-skeleton",40),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"p-skeleton",40),e.qZA()(),e.TgZ(11,"span",20)(12,"span",21),e._UZ(13,"p-skeleton",41),e.qZA(),e.TgZ(14,"span",21),e._UZ(15,"p-skeleton",41),e.qZA(),e.TgZ(16,"span",21),e._UZ(17,"p-skeleton",41),e.qZA()(),e.TgZ(18,"span",14),e._UZ(19,"p-skeleton",42)(20,"p-skeleton",43),e.qZA(),e._UZ(21,"p-skeleton",44),e.qZA())}function au(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,Oi,22,0,"div",38),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.loadingPlaceholders)}}const lu=function(){return{maxWidth:"50vw",width:"fit-content",maxHeight:"60vh",minHeight:"10rem"}},cu=function(){return{"960px":"75vw","640px":"100vw"}},cc=function(){return{display:"grid"}};let uu=(()=>{class n{constructor(t,i,r){this.api=t,this.rt=i,this.chatService=r,this.dialogVisible=!1,this.workLogs=[],this.isLoading=!1,this.subscriptions=new it.xf,this.loadingPlaceholders=Array(3).fill(null)}ngOnInit(){this.rt.workLogCreated().subscribe(this.workLogCreate.bind(this)),this.rt.workLogUpdated().subscribe(this.workLogUpdate.bind(this)),this.rt.workLogDeleted().subscribe(this.workLogDelete.bind(this))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}workLogCreate(t){this.workLogs.unshift(t)}workLogUpdate(t){const i=this.workLogs.findIndex(r=>r.workLogId===t.workLogId);this.workLogs[i]=t}workLogDelete(t){const i=this.workLogs.findIndex(r=>r.workLogId===t.workLogId);this.workLogs.splice(i,1)}trackByWorkLog(t,i){return i.workLogId+i.status+i.whoAccepted.length+i.workReports.length}open(t){this.dialogVisible=!0,this.isLoading=!0,this.api.getWorkLogsByTaskId(t).subscribe({next:this.loadWorkLogs.bind(this),error:this.onErrorDuringLoad.bind(this)})}loadWorkLogs(t){this.isLoading=!1,this.workLogs=t}onErrorDuringLoad(){this.isLoading=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Dn.U),e.Y36(si.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-work-logs-dialog"]],decls:6,vars:11,consts:[["appendTo","body","header","\u0420\u0430\u0431\u043e\u0442\u044b \u0438 \u043e\u0442\u0447\u0435\u0442\u044b \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","contentStyle","draggable","modal","resizable","visibleChange"],["pTemplate","content"],["statusCaption",""],["loadingPlaceholderEl",""],["class","flexed column hcenter vcenter p10",4,"ngIf"],["class","flexed gap5 column list-view",4,"ngIf"],[4,"ngIf"],[1,"flexed","column","hcenter","vcenter","p10"],[1,"caption","size-big","wt-bold","f-color-500","flexed","hcenter","gap2"],[1,"mdi-playlist_remove"],[1,"flexed","gap5","column","list-view"],["class","work-log-element",4,"ngFor","ngForOf","ngForTrackBy"],[1,"work-log-element"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","gap10"],[1,"flexed","gap3","hcenter","caption","size-small","wt-bold","f-color-500"],[1,"mdi-groups"],[3,"employees"],[1,"mdi-person"],[3,"employee","size"],[1,"flexed","gap10","caption","size-small"],[1,"flexed","column"],[1,"mdi-schedule_send"],[1,"mdi-cancel_schedule_send"],[1,"mdi-timelapse"],["icon","mdi-history","label","\u0427\u0430\u0442","styleClass","p-button-secondary p-button-outlined",3,"onClick"],["icon","mdi-summarize","label","\u041e\u0442\u0447\u0435\u0442\u044b","styleClass","p-button-secondary p-button-outlined"],["class","report",4,"ngIf"],[1,"report"],[1,"mdi-summarize"],[1,"report-text"],[4,"ngTemplateOutlet"],[3,"ngSwitch"],["class","caption size-small f-color-500 flexed hcenter gap3",3,"style",4,"ngSwitchCase"],[1,"caption","size-small","f-color-500","flexed","hcenter","gap3"],[1,"mdi-engineering"],[1,"mdi-verified"],[1,"mdi-close"],["class","work-log-element",4,"ngFor","ngForOf"],["height",".9rem","width","10rem"],["height","3.5rem","width","5rem"],["height","2rem","width","7rem"],["height","2.5rem","width","5rem"],["height","2.5rem","width","6rem"],["height","5rem","width","25rem"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(c){return i.dialogVisible=c}),e.YNc(1,ar,3,3,"ng-template",1),e.qZA(),e.YNc(2,dl,4,4,"ng-template",null,2,e.W1O),e.YNc(4,au,2,1,"ng-template",null,3,e.W1O)),2&t&&(e.Akn(e.DdM(8,lu)),e.Q6J("visible",i.dialogVisible)("breakpoints",e.DdM(9,cu))("contentStyle",e.DdM(10,cc))("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[I.sg,I.O5,I.tP,I.RF,I.n9,Ei.zx,Le.jx,qi.V,Os.O,Ri.x,as.k,Ts.t,I.uU],styles:[".work-log-element[_ngcontent-%COMP%]{display:grid;grid:repeat(3,min-content) 1fr/1fr;gap:.5rem;padding:1rem}.work-log-element[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.report[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]{white-space:pre-line;font-size:.9rem;color:var(--tc-700)}"]}),n})();var jd=C(8050),xa=C(2145);const Ea=["inputEl"];function uc(n,o){1&n&&(e.TgZ(0,"span",7),e._uU(1,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433\u0438..."),e.qZA())}function du(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function Io(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("mouseenter",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.extraPreviewVisible=!0)})("mouseleave",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.extraPreviewVisible=!1)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" +",t.control.value.length-2," ")}}function Ga(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}const aa=function(n){return{disabled:n}};function pu(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.focusing())}),e.YNc(1,uc,2,0,"span",3),e.YNc(2,du,2,3,"span",4),e.ALo(3,"slice"),e.YNc(4,Io,2,1,"span",5),e.TgZ(5,"p-overlay",6),e.NdJ("visibleChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.extraPreviewVisible=r)}),e.YNc(6,Ga,2,3,"span",4),e.ALo(7,"slice"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(15,aa,t.control.disabled)),e.xp6(1),e.Q6J("ngIf",0===(null==t.control.value?null:t.control.value.length)),e.xp6(1),e.Q6J("ngForOf",e.Dn7(3,8,t.control.value,0,2))("ngForTrackBy",t.trackByTaskTag),e.xp6(2),e.Q6J("ngIf",t.control.value&&t.control.value.length>2),e.xp6(1),e.Q6J("visible",t.extraPreviewVisible),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,12,t.control.value,2))("ngForTrackBy",t.trackByTaskTag)}}function dc(n,o){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.Oqu(t.name)}}function _s(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Udp("color",t.color),e.xp6(1),e.hij(" ",t.name," ")}}function lr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.accept())}),e.qZA()}}function Qa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"p-autoComplete",11,12),e.NdJ("completeMethod",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.search(r))}),e.YNc(3,dc,2,3,"ng-template",13),e.YNc(4,_s,2,3,"ng-template",14),e.qZA(),e.YNc(5,lr,1,0,"button",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.control)("suggestions",t.suggestions)("multiple",!0)("completeOnFocus",!0),e.xp6(4),e.Q6J("ngIf",!t.autoAccept)}}let la=(()=>{class n{constructor(t){this.api=t,this._autoAccept=!1,this.control=new R.NI([]),this.suggestions=[],this.focused=!1,this.extraPreviewVisible=!1,this.previousVariableValue="",this.onChange=i=>{},this.onTouched=()=>{}}set autoAccept(t){var i;this._autoAccept=t,t&&(null===(i=this.changeSubscription)||void 0===i||i.unsubscribe(),this.changeSubscription=this.control.valueChanges.subscribe(r=>{this.onChange(r)}))}get autoAccept(){return this._autoAccept}search(t){this.api.getTaskTagsBySearch(t.query).subscribe(i=>{this.suggestions=i.filter(r=>{var c;return!(null!==(c=this.control.value)&&void 0!==c&&c.some(h=>r.taskTagId===h.taskTagId))})})}trackByTaskTag(t,i){return i.taskTagId+i.name+i.color}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?(this.control.disable({emitEvent:!1}),this.focused=!1):this.control.enable({emitEvent:!1})}writeValue(t){this.control.setValue(t),this.previousVariableValue=JSON.stringify(t)}ngOnInit(){}ngOnDestroy(){var t;null===(t=this.changeSubscription)||void 0===t||t.unsubscribe()}accept(){JSON.stringify(this.control.value)!==this.previousVariableValue&&this.onChange(this.control.value),this.focused=!1}focusing(){this.control.disabled||(this.previousVariableValue=JSON.stringify(this.control.value),this.focused=!0,this.onTouched(),setTimeout(()=>{var t,i;null===(i=null===(t=this.inputEl)||void 0===t?void 0:t.multiInputEL)||void 0===i||i.nativeElement.focus()}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-selector"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ea,5),2&t){let r;e.iGM(r=e.CRH())&&(i.inputEl=r.first)}},inputs:{autoAccept:"autoAccept"},features:[e._Bn([{provide:R.JU,multi:!0,useExisting:n}])],decls:2,vars:2,consts:[["class","p-component p-inputtext wrapper",3,"ngClass","click",4,"ngIf"],["class","p-inputgroup",4,"ngIf"],[1,"p-component","p-inputtext","wrapper",3,"ngClass","click"],["class","placeholder-text",4,"ngIf"],["class","tags-view-item",3,"background-color",4,"ngFor","ngForOf","ngForTrackBy"],["class","tags-view-item",3,"mouseenter","mouseleave",4,"ngIf"],["contentStyleClass","overlay flexed wrapped p10 gap5","showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"visible","visibleChange"],[1,"placeholder-text"],[1,"tags-view-item"],[1,"tags-view-item",3,"mouseenter","mouseleave"],[1,"p-inputgroup"],["styleClass","task-tag-selector w-full","appendTo","body",3,"formControl","suggestions","multiple","completeOnFocus","completeMethod"],["inputEl",""],["pTemplate","selectedItem"],["pTemplate","item"],["pButton","","icon","mdi-save",3,"click",4,"ngIf"],["pButton","","icon","mdi-save",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,pu,8,17,"div",0),e.YNc(1,Qa,6,5,"div",1)),2&t&&(e.Q6J("ngIf",!(i.focused||0===(null==i.control.value?null:i.control.value.length)&&i.control.disabled)),e.xp6(1),e.Q6J("ngIf",i.focused))},dependencies:[I.mk,I.sg,I.O5,Ei.Hq,R.JJ,jd.aV,Le.jx,R.oH,xa.Qc,I.OU],styles:[".placeholder-text[_ngcontent-%COMP%]{color:var(--tc-400)}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;cursor:text}.wrapper.disabled[_ngcontent-%COMP%]{cursor:default}.wrapper[_ngcontent-%COMP%]:not(.disabled):hover{border-color:var(--mc-500)}"]}),n})();const Sa=function(n,o){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":o}};function D(n,o){if(1&n&&e._UZ(0,"span",3),2&n){const t=e.oxw();e.Tol(t.checked?t.onIcon:t.offIcon),e.Q6J("ngClass",e.WLB(3,Sa,"left"===t.iconPos,"right"===t.iconPos))}}const m=function(n,o,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":n,"p-highlight":o,"p-disabled":t}},b={provide:R.JU,useExisting:(0,e.Gpc)(()=>p),multi:!0};let p=(()=>{class n{constructor(t){this.cd=t,this.iconPos="left",this.onChange=new e.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[e._Bn([b])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(c){return i.toggle(c)})("keydown.enter",function(c){return i.toggle(c)}),e.YNc(1,D,1,6,"span",1),e.TgZ(2,"span",2),e._uU(3),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(8,m,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style),e.uIk("tabindex",i.disabled?null:"0")("aria-checked",i.checked),e.xp6(1),e.Q6J("ngIf",i.onIcon||i.offIcon),e.xp6(2),e.Oqu(i.checked?i.hasOnLabel?i.onLabel:"":i.hasOffLabel?i.offLabel:""))},dependencies:[I.mk,I.O5,I.PC,mn.H],styles:['.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}'],changeDetection:0}),n})(),_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,mn.T]}),n})();var x=C(1208),j=C(3407),Te=C(1874),ot=C(925);function Ut(n){return null!=n&&"false"!=`${n}`}function pn(n,o=0){return function cn(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):o}function bi(n){return n instanceof e.SBq?n.nativeElement:n}var Zi=C(7579),ml=C(727),Cf=C(7445),ap=C(4408);const fc={schedule(n){let o=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=fc;i&&(o=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=o(c=>{t=void 0,n(c)});return new ml.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:o}=fc;return((null==o?void 0:o.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:o}=fc;return((null==o?void 0:o.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var vf=C(7565);const mc=new class bv extends vf.v{flush(o){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;o=o||t.shift();const c=t.length;do{if(i=o.execute(o.state,o.delay))break}while(++r<c&&(o=t.shift()));if(this._active=!1,i){for(;++r<c&&(o=t.shift());)o.unsubscribe();throw i}}}(class vv extends ap.o{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o._scheduled||(o._scheduled=fc.requestAnimationFrame(()=>o.flush(void 0))))}recycleAsyncId(o,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(o,t,i);0===o.actions.length&&(fc.cancelAnimationFrame(t),o._scheduled=void 0)}});var pa=C(9751),_l=C(6451),Gr=C(2722),Eu=C(8675),_c=C(5698),Vi=C(8505),Sr=C(3900),cr=C(9646),ha=C(4968);let bf,HA=1;const Cc={};function yf(n){return n in Cc&&(delete Cc[n],!0)}const yv={setImmediate(n){const o=HA++;return Cc[o]=!0,bf||(bf=Promise.resolve()),bf.then(()=>yf(o)&&n()),o},clearImmediate(n){yf(n)}},{setImmediate:Iv,clearImmediate:If}=yv,Ya={setImmediate(...n){const{delegate:o}=Ya;return((null==o?void 0:o.setImmediate)||Iv)(...n)},clearImmediate(n){const{delegate:o}=Ya;return((null==o?void 0:o.clearImmediate)||If)(n)},delegate:void 0};new class lp extends vf.v{flush(o){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;o=o||t.shift();const c=t.length;do{if(i=o.execute(o.state,o.delay))break}while(++r<c&&(o=t.shift()));if(this._active=!1,i){for(;++r<c&&(o=t.shift());)o.unsubscribe();throw i}}}(class Af extends ap.o{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o._scheduled||(o._scheduled=Ya.setImmediate(o.flush.bind(o,void 0))))}recycleAsyncId(o,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(o,t,i);0===o.actions.length&&(Ya.clearImmediate(t),o._scheduled=void 0)}});var Tf=C(4986),cp=C(4482),Su=C(8421),Cl=C(5403),wf=C(5963);function xf(n,o=Tf.P){return function Tv(n){return(0,cp.e)((o,t)=>{let i=!1,r=null,c=null,h=!1;const y=()=>{if(null==c||c.unsubscribe(),c=null,i){i=!1;const ce=r;r=null,t.next(ce)}h&&t.complete()},O=()=>{c=null,h&&t.complete()};o.subscribe(new Cl.Q(t,ce=>{i=!0,r=ce,c||(0,Su.Xf)(n(ce)).subscribe(c=new Cl.Q(t,y,O))},()=>{h=!0,(!i||!c||c.closed)&&t.complete()}))})}(()=>(0,wf.H)(n,o))}var Ka=C(9300);const wv=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function VA(){return(0,e.f3M)(I.K0)}}),UA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ku=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new e.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function vc(n){const o=(null==n?void 0:n.toLowerCase())||"";return"auto"===o&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?UA.test(navigator.language)?"rtl":"ltr":"rtl"===o?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(wv,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),up=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),dp=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Zi.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new pa.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(xf(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,cr.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Ka.h)(c=>!c||r.indexOf(c)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,c)=>{this._scrollableContainsElement(c,t)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=bi(i),c=t.getElementRef().nativeElement;do{if(r==c)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,ha.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(ot.t4),e.LFG(I.K0,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pp=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Zi.x,this._changeListener=c=>{this._change.next(c)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,c=r.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-c.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xf(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ot.t4),e.LFG(e.R0b),e.LFG(I.K0,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),Lv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[up,fp,up,fp]}),n})();function Mu(n,o,t){for(let i in o)if(o.hasOwnProperty(i)){const r=o[i];r?n.setProperty(i,r,null!=t&&t.has(i)?"important":""):n.removeProperty(i)}return n}function kr(n,o){const t=o?"":"none";Mu(n.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Mf(n,o,t){Mu(n.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},t)}function Du(n,o){return o&&"none"!=o?n+" "+o:n}function Df(n){const o=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*o}function bc(n,o){return n.getPropertyValue(o).split(",").map(i=>i.trim())}function mp(n){const o=n.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function Ou(n,o,t){const{top:i,bottom:r,left:c,right:h}=n;return t>=i&&t<=r&&o>=c&&o<=h}function yc(n,o,t){n.top+=o,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function _p(n,o,t,i){const{top:r,right:c,bottom:h,left:y,width:O,height:ce}=n,fe=O*o,ct=ce*o;return i>r-ct&&i<h+ct&&t>y-fe&&t<c+fe}class Fv{constructor(o){this._document=o,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:mp(t)})})}handleScroll(o){const t=(0,ot.sA)(o),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let c,h;if(t===this._document){const ce=this.getViewportScrollPosition();c=ce.top,h=ce.left}else c=t.scrollTop,h=t.scrollLeft;const y=r.top-c,O=r.left-h;return this.positions.forEach((ce,fe)=>{ce.clientRect&&t!==fe&&t.contains(fe)&&yc(ce.clientRect,y,O)}),r.top=c,r.left=h,{top:y,left:O}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Of(n){const o=n.cloneNode(!0),t=o.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();o.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?Il(n,o):("input"===i||"select"===i||"textarea"===i)&&qa(n,o),yl("canvas",n,o,Il),yl("input, textarea, select",n,o,qa),o}function yl(n,o,t,i){const r=o.querySelectorAll(n);if(r.length){const c=t.querySelectorAll(n);for(let h=0;h<r.length;h++)i(r[h],c[h])}}let Bv=0;function qa(n,o){"file"!==o.type&&(o.value=n.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${Bv++}`)}function Il(n,o){const t=o.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(i){}}const Pf=(0,ot.i$)({passive:!0}),Cp=(0,ot.i$)({passive:!1}),vp=new Set(["position"]);class Hv{constructor(o,t,i,r,c,h){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=c,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Zi.x,this._pointerMoveSubscription=ml.w0.EMPTY,this._pointerUpSubscription=ml.w0.EMPTY,this._scrollSubscription=ml.w0.EMPTY,this._resizeSubscription=ml.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Zi.x,this.started=new Zi.x,this.released=new Zi.x,this.ended=new Zi.x,this.entered=new Zi.x,this.exited=new Zi.x,this.dropped=new Zi.x,this.moved=this._moveEvents,this._pointerDown=y=>{if(this.beforeStarted.next(),this._handles.length){const O=this._getTargetHandle(y);O&&!this._disabledHandles.has(O)&&!this.disabled&&this._initializeDragSequence(O,y)}else this.disabled||this._initializeDragSequence(this._rootElement,y)},this._pointerMove=y=>{const O=this._getPointerPositionOnPage(y);if(!this._hasStartedDragging){if(Math.abs(O.x-this._pickupPositionOnPage.x)+Math.abs(O.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const rt=Date.now()>=this._dragStartTime+this._getDragStartDelay(y),Mt=this._dropContainer;if(!rt)return void this._endDragSequence(y);(!Mt||!Mt.isDragging()&&!Mt.isReceiving())&&(y.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(y)))}return}y.preventDefault();const ce=this._getConstrainedPointerPosition(O);if(this._hasMoved=!0,this._lastKnownPointerPosition=O,this._updatePointerDirectionDelta(ce),this._dropContainer)this._updateActiveDropContainer(ce,O);else{const fe=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,ct=this._activeTransform;ct.x=ce.x-fe.x+this._passiveTransform.x,ct.y=ce.y-fe.y+this._passiveTransform.y,this._applyRootElementTransform(ct.x,ct.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ce,event:y,distance:this._getDragDistance(ce),delta:this._pointerDirectionDelta})})},this._pointerUp=y=>{this._endDragSequence(y)},this._nativeDragStart=y=>{if(this._handles.length){const O=this._getTargetHandle(y);O&&!this._disabledHandles.has(O)&&!this.disabled&&y.preventDefault()}else this.disabled||y.preventDefault()},this.withRootElement(o).withParent(t.parentDragRef||null),this._parentPositions=new Fv(i),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){const t=Ut(o);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>kr(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(i=>bi(i)),this._handles.forEach(i=>kr(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const t=bi(o);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Cp),t.addEventListener("touchstart",this._pointerDown,Pf),t.addEventListener("dragstart",this._nativeDragStart,Cp)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?bi(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){var o,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(o=this._rootElement)||void 0===o||o.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),kr(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),kr(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var o,t;null===(o=this._preview)||void 0===o||o.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var o,t;null===(o=this._placeholder)||void 0===o||o.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){Ic(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,c=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),y=this._getShadowRoot();r.insertBefore(h,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Mf(i,!1,vp),this._document.body.appendChild(r.replaceChild(c,i)),this._getPreviewInsertionPoint(r,y).appendChild(this._preview),this.started.next({source:this,event:o}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(o,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=Ic(t),c=!r&&0!==t.button,h=this._rootElement,y=(0,ot.sA)(t),O=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ce=r?function fv(n){const o=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!o||-1!==o.identifier||null!=o.radiusX&&1!==o.radiusX||null!=o.radiusY&&1!==o.radiusY)}(t):function kA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(y&&y.draggable&&"mousedown"===t.type&&t.preventDefault(),i||c||O||ce)return;if(this._handles.length){const pt=h.style;this._rootElementTapHighlight=pt.webkitTapHighlightColor||"",pt.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(pt=>this._updateOnScroll(pt)),this._boundaryElement&&(this._boundaryRect=mp(this._boundaryElement));const fe=this._previewTemplate;this._pickupPositionInElement=fe&&fe.template&&!fe.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,o,t);const ct=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ct.x,y:ct.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(o){Mf(this._rootElement,!0,vp),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(o),c=this._getDragDistance(r),h=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:c,dropPoint:r,event:o}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:c,dropPoint:r,event:o}),t.drop(this,i,this._initialIndex,this._initialContainer,h,c,r,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:t},{x:i,y:r}){let c=this._initialContainer._getSiblingContainerFromPosition(this,o,t);!c&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,t)&&(c=this._initialContainer),c&&c!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=c,this._dropContainer.enter(this,o,t,c===this._initialContainer&&c.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:c,currentIndex:c.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,o,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,t):this._applyPreviewTransform(o-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,t=this.previewClass,i=o?o.template:null;let r;if(i&&o){const c=o.matchSize?this._initialClientRect:null,h=o.viewContainer.createEmbeddedView(i,o.context);h.detectChanges(),r=Ru(h,this._document),this._previewRef=h,o.matchSize?Lu(r,c):r.style.transform=Pu(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=Of(this._rootElement),Lu(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Mu(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},vp),kr(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(c=>r.classList.add(c)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const t=function Nv(n){const o=getComputedStyle(n),t=bc(o,"transition-property"),i=t.find(y=>"transform"===y||"all"===y);if(!i)return 0;const r=t.indexOf(i),c=bc(o,"transition-duration"),h=bc(o,"transition-delay");return Df(c[r])+Df(h[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=h=>{var y;(!h||(0,ot.sA)(h)===this._preview&&"transform"===h.propertyName)&&(null===(y=this._preview)||void 0===y||y.removeEventListener("transitionend",r),i(),clearTimeout(c))},c=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,t=o?o.template:null;let i;return t?(this._placeholderRef=o.viewContainer.createEmbeddedView(t,o.context),this._placeholderRef.detectChanges(),i=Ru(this._placeholderRef,this._document)):i=Of(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(o,t,i){const r=t===this._rootElement?null:t,c=r?r.getBoundingClientRect():o,h=Ic(i)?i.targetTouches[0]:i,y=this._getViewportScrollPosition();return{x:c.left-o.left+(h.pageX-c.left-y.left),y:c.top-o.top+(h.pageY-c.top-y.top)}}_getPointerPositionOnPage(o){const t=this._getViewportScrollPosition(),i=Ic(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,r=i.pageX-t.left,c=i.pageY-t.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const y=this._ownerSVGElement.createSVGPoint();return y.x=r,y.y=c,y.matrixTransform(h.inverse())}}return{x:r,y:c}}_getConstrainedPointerPosition(o){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(o,this,this._initialClientRect,this._pickupPositionInElement):o;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:c,y:h}=this._pickupPositionInElement,y=this._boundaryRect,{width:O,height:ce}=this._getPreviewRect(),fe=y.top+h,ct=y.bottom-(ce-h);i=bp(i,y.left+c,y.right-(O-c)),r=bp(r,fe,ct)}return{x:i,y:r}}_updatePointerDirectionDelta(o){const{x:t,y:i}=o,r=this._pointerDirectionDelta,c=this._pointerPositionAtLastDirectionChange,h=Math.abs(t-c.x),y=Math.abs(i-c.y);return h>this._config.pointerDirectionChangeThreshold&&(r.x=t>c.x?1:-1,c.x=t),y>this._config.pointerDirectionChangeThreshold&&(r.y=i>c.y?1:-1,c.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,kr(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,Cp),o.removeEventListener("touchstart",this._pointerDown,Pf),o.removeEventListener("dragstart",this._nativeDragStart,Cp)}_applyRootElementTransform(o,t){const i=Pu(o,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Du(i,this._initialTransform)}_applyPreviewTransform(o,t){var i;const r=null!==(i=this._previewTemplate)&&void 0!==i&&i.template?void 0:this._initialTransform,c=Pu(o,t);this._preview.style.transform=Du(c,r)}_getDragDistance(o){const t=this._pickupPositionOnPage;return t?{x:o.x-t.x,y:o.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:t}=this._passiveTransform;if(0===o&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const c=r.left-i.left,h=i.right-r.right,y=r.top-i.top,O=i.bottom-r.bottom;r.width>i.width?(c>0&&(o+=c),h>0&&(o-=h)):o=0,r.height>i.height?(y>0&&(t+=y),O>0&&(t-=O)):t=0,(o!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:o})}_getDragStartDelay(o){const t=this.dragStartDelay;return"number"==typeof t?t:Ic(o)?t.touch:t?t.mouse:0}_updateOnScroll(o){const t=this._parentPositions.handleScroll(o);if(t){const i=(0,ot.sA)(o);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&yc(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var o;return(null===(o=this._parentPositions.positions.get(this._document))||void 0===o?void 0:o.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,ot.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,t){const i=this._previewContainer||"global";if("parent"===i)return o;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return bi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(o){return this._handles.find(t=>o.target&&(o.target===t||t.contains(o.target)))}}function Pu(n,o){return`translate3d(${Math.round(n)}px, ${Math.round(o)}px, 0)`}function bp(n,o,t){return Math.max(o,Math.min(t,n))}function Ic(n){return"t"===n.type[0]}function Ru(n,o){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===o.ELEMENT_NODE)return t[0];const i=o.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function Lu(n,o){n.style.width=`${o.width}px`,n.style.height=`${o.height}px`,n.style.transform=Pu(o.left,o.top)}function Ac(n,o,t){const i=Tc(o,n.length-1),r=Tc(t,n.length-1);if(i===r)return;const c=n[i],h=r<i?-1:1;for(let y=i;y!==r;y+=h)n[y]=n[y+h];n[r]=c}function Nu(n,o,t,i){const r=Tc(t,n.length-1),c=Tc(i,o.length);n.length&&o.splice(c,0,n.splice(r,1)[0])}function Tc(n,o){return Math.max(0,Math.min(o,n))}class Zv{constructor(o,t){this._element=o,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(o){this.withItems(o)}sort(o,t,i,r){const c=this._itemPositions,h=this._getItemIndexFromPointerPosition(o,t,i,r);if(-1===h&&c.length>0)return null;const y="horizontal"===this.orientation,O=c.findIndex(zt=>zt.drag===o),ce=c[h],ct=ce.clientRect,pt=O>h?1:-1,rt=this._getItemOffsetPx(c[O].clientRect,ct,pt),Mt=this._getSiblingOffsetPx(O,c,pt),Wt=c.slice();return Ac(c,O,h),c.forEach((zt,dn)=>{if(Wt[dn]===zt)return;const On=zt.drag===o,ti=On?rt:Mt,Yn=On?o.getPlaceholderElement():zt.drag.getRootElement();zt.offset+=ti,y?(Yn.style.transform=Du(`translate3d(${Math.round(zt.offset)}px, 0, 0)`,zt.initialTransform),yc(zt.clientRect,0,ti)):(Yn.style.transform=Du(`translate3d(0, ${Math.round(zt.offset)}px, 0)`,zt.initialTransform),yc(zt.clientRect,ti,0))}),this._previousSwap.overlaps=Ou(ct,t,i),this._previousSwap.drag=ce.drag,this._previousSwap.delta=y?r.x:r.y,{previousIndex:O,currentIndex:h}}enter(o,t,i,r){const c=null==r||r<0?this._getItemIndexFromPointerPosition(o,t,i):r,h=this._activeDraggables,y=h.indexOf(o),O=o.getPlaceholderElement();let ce=h[c];if(ce===o&&(ce=h[c+1]),!ce&&(null==c||-1===c||c<h.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(ce=h[0]),y>-1&&h.splice(y,1),ce&&!this._dragDropRegistry.isDragging(ce)){const fe=ce.getRootElement();fe.parentElement.insertBefore(O,fe),h.splice(c,0,o)}else bi(this._element).appendChild(O),h.push(o);O.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables.forEach(o=>{var t;const i=o.getRootElement();if(i){const r=null===(t=this._itemPositions.find(c=>c.drag===o))||void 0===t?void 0:t.initialTransform;i.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===o)}updateOnScroll(o,t){this._itemPositions.forEach(({clientRect:i})=>{yc(i,o,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const o="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:mp(i)}}).sort((t,i)=>o?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(o,t,i){const r="horizontal"===this.orientation;let c=r?t.left-o.left:t.top-o.top;return-1===i&&(c+=r?t.width-o.width:t.height-o.height),c}_getSiblingOffsetPx(o,t,i){const r="horizontal"===this.orientation,c=t[o].clientRect,h=t[o+-1*i];let y=c[r?"width":"height"]*i;if(h){const O=r?"left":"top",ce=r?"right":"bottom";-1===i?y-=h.clientRect[O]-c[ce]:y+=c[O]-h.clientRect[ce]}return y}_shouldEnterAsFirstChild(o,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const h=i[i.length-1].clientRect;return r?o>=h.right:t>=h.bottom}{const h=i[0].clientRect;return r?o<=h.left:t<=h.top}}_getItemIndexFromPointerPosition(o,t,i,r){const c="horizontal"===this.orientation,h=this._itemPositions.findIndex(({drag:y,clientRect:O})=>{if(y===o)return!1;if(r){const ce=c?r.x:r.y;if(y===this._previousSwap.drag&&this._previousSwap.overlaps&&ce===this._previousSwap.delta)return!1}return c?t>=Math.floor(O.left)&&t<Math.floor(O.right):i>=Math.floor(O.top)&&i<Math.floor(O.bottom)});return-1!==h&&this._sortPredicate(h,o)?h:-1}}class Ff{constructor(o,t,i,r,c){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=c,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Zi.x,this.entered=new Zi.x,this.exited=new Zi.x,this.dropped=new Zi.x,this.sorted=new Zi.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ml.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Zi.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Cf.F)(0,mc).pipe((0,Gr.R)(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,y=this.autoScrollStep;1===this._verticalScrollDirection?h.scrollBy(0,-y):2===this._verticalScrollDirection&&h.scrollBy(0,y),1===this._horizontalScrollDirection?h.scrollBy(-y,0):2===this._horizontalScrollDirection&&h.scrollBy(y,0)})},this.element=bi(o),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Fv(i),this._sortStrategy=new Zv(this.element,t),this._sortStrategy.withSortPredicate((h,y)=>this.sortPredicate(h,y,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(o)),this._sortStrategy.enter(o,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,t,i,r,c,h,y,O={}){this._reset(),this.dropped.next({item:o,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:c,distance:h,dropPoint:y,event:O})}withItems(o){const t=this._draggables;return this._draggables=o,o.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===o.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._sortStrategy.direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._sortStrategy.orientation=o,this}withScrollableParents(o){const t=bi(this.element);return this._scrollableElements=-1===o.indexOf(t)?[t,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,t,i,r){if(this.sortingDisabled||!this._clientRect||!_p(this._clientRect,.05,t,i))return;const c=this._sortStrategy.sort(o,t,i,r);c&&this.sorted.next({previousIndex:c.previousIndex,currentIndex:c.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,t){if(this.autoScrollDisabled)return;let i,r=0,c=0;if(this._parentPositions.positions.forEach((h,y)=>{y===this._document||!h.clientRect||i||_p(h.clientRect,.05,o,t)&&([r,c]=function Al(n,o,t,i){const r=yp(o,i),c=Bf(o,t);let h=0,y=0;if(r){const O=n.scrollTop;1===r?O>0&&(h=1):n.scrollHeight-O>n.clientHeight&&(h=2)}if(c){const O=n.scrollLeft;1===c?O>0&&(y=1):n.scrollWidth-O>n.clientWidth&&(y=2)}return[h,y]}(y,h.clientRect,o,t),(r||c)&&(i=y))}),!r&&!c){const{width:h,height:y}=this._viewportRuler.getViewportSize(),O={width:h,height:y,top:0,right:h,bottom:y,left:0};r=yp(O,t),c=Bf(O,o),i=window}i&&(r!==this._verticalScrollDirection||c!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=c,this._scrollNode=i,(r||c)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=bi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=bi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_reset(){this._isDragging=!1;const o=bi(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(o,t){return null!=this._clientRect&&Ou(this._clientRect,o,t)}_getSiblingContainerFromPosition(o,t,i){return this._siblings.find(r=>r._canReceive(o,t,i))}_canReceive(o,t,i){if(!this._clientRect||!Ou(this._clientRect,t,i)||!this.enterPredicate(o,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const c=bi(this.element);return r===c||c.contains(r)}_startReceiving(o,t){const i=this._activeSiblings;!i.has(o)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(o),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(o);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,ot.kV)(bi(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,o))}}function yp(n,o){const{top:t,bottom:i,height:r}=n,c=.05*r;return o>=t-c&&o<=t+c?1:o>=i-c&&o<=i+c?2:0}function Bf(n,o){const{left:t,right:i,width:r}=n,c=.05*r;return o>=t-c&&o<=t+c?1:o>=i-c&&o<=i+c?2:0}const Ir=(0,ot.i$)({passive:!1,capture:!0});let Vv=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Zi.x,this.pointerUp=new Zi.x,this.scroll=new Zi.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ir)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ir)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:c=>this.pointerUp.next(c),options:!0}).set("scroll",{handler:c=>this.scroll.next(c),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ir}),r||this._globalListeners.set("mousemove",{handler:c=>this.pointerMove.next(c),options:Ir}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((c,h)=>{this._document.addEventListener(h,c.handler,c.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new pa.y(r=>this._ngZone.runOutsideAngular(()=>{const h=y=>{this._activeDragInstances.length&&r.next(y)};return t.addEventListener("scroll",h,!0),()=>{t.removeEventListener("scroll",h,!0)}}))),(0,_l.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(I.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uv={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Hf=(()=>{class n{constructor(t,i,r,c){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=c}createDrag(t,i=Uv){return new Hv(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Ff(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(I.K0),e.LFG(e.R0b),e.LFG(pp),e.LFG(Vv))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zv=new e.OlP("CDK_DRAG_PARENT"),Bu=new e.OlP("CdkDropListGroup");let QA=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ut(t)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[e._Bn([{provide:Bu,useExisting:n}])]}),n})();const Ip=new e.OlP("CDK_DRAG_CONFIG");let Zf=0;const Vf=new e.OlP("CdkDropList");let Ap=(()=>{class n{constructor(t,i,r,c,h,y,O){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=c,this._dir=h,this._group=y,this._destroyed=new Zi.x,this.connectedTo=[],this.id="cdk-drop-list-"+Zf++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,O&&this._assignDefaults(O),this._dropListRef.enterPredicate=(ce,fe)=>this.enterPredicate(ce.data,fe.data),this._dropListRef.sortPredicate=(ce,fe,ct)=>this.sortPredicate(ce,fe.data,ct.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),y&&y._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Ut(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,Eu.O)(this._dir.value),(0,Gr.R)(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=function kn(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(h=>h.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(c=>c.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Ut(this.sortingDisabled),t.autoScrollDisabled=Ut(this.autoScrollDisabled),t.autoScrollStep=pn(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:c,listAutoScrollDisabled:h,listOrientation:y}=t;this.disabled=null!=r&&r,this.sortingDisabled=null!=c&&c,this.autoScrollDisabled=null!=h&&h,this.orientation=y||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Hf),e.Y36(e.sBO),e.Y36(dp),e.Y36(ku,8),e.Y36(Bu,12),e.Y36(Ip,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(e.uIk("id",i.id),e.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:Bu,useValue:void 0},{provide:Vf,useExisting:n}])]}),n})();const Uf=new e.OlP("CdkDragHandle"),Mr=new e.OlP("CdkDragPlaceholder"),zf=new e.OlP("CdkDragPreview");let Gf=(()=>{class n{constructor(t,i,r,c,h,y,O,ce,fe,ct,pt){this.element=t,this.dropContainer=i,this._ngZone=c,this._viewContainerRef=h,this._dir=O,this._changeDetectorRef=fe,this._selfHandle=ct,this._parentDrag=pt,this._destroyed=new Zi.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new pa.y(rt=>{const Mt=this._dragRef.moved.pipe((0,F.U)(Wt=>({source:this,pointerPosition:Wt.pointerPosition,event:Wt.event,delta:Wt.delta,distance:Wt.distance}))).subscribe(rt);return()=>{Mt.unsubscribe()}}),this._dragRef=ce.createDrag(t,{dragStartThreshold:y&&null!=y.dragStartThreshold?y.dragStartThreshold:5,pointerDirectionChangeThreshold:y&&null!=y.pointerDirectionChangeThreshold?y.pointerDirectionChangeThreshold:5,zIndex:null==y?void 0:y.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),y&&this._assignDefaults(y),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Ut(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,_c.q)(1),(0,Gr.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const i=this.element.nativeElement;let r=i;this.rootElementSelector&&(r=void 0!==i.closest?i.closest(this.rootElementSelector):null===(t=i.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):bi(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,c=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:pn(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(c).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,_c.q)(1)).subscribe(()=>{var i;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent((null===(i=n._dragInstances.find(c=>c.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:c,previewClass:h,boundaryElement:y,draggingDisabled:O,rootElementSelector:ce,previewContainer:fe}=t;this.disabled=null!=O&&O,this.dragStartDelay=r||0,i&&(this.lockAxis=i),c&&(this.constrainPosition=c),h&&(this.previewClass=h),y&&(this.boundaryElement=y),ce&&(this.rootElementSelector=ce),fe&&(this.previewContainer=fe)}_setupHandlesListener(){this._handles.changes.pipe((0,Eu.O)(this._handles),(0,Vi.b)(t=>{const i=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,Sr.w)(t=>(0,_l.T)(...t.map(i=>i._stateChanges.pipe((0,Eu.O)(i))))),(0,Gr.R)(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Vf,12),e.Y36(I.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Ip,8),e.Y36(ku,8),e.Y36(Hf),e.Y36(e.sBO),e.Y36(Uf,10),e.Y36(zv,12))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,zf,5),e.Suo(r,Mr,5),e.Suo(r,Uf,5)),2&t){let c;e.iGM(c=e.CRH())&&(i._previewTemplate=c.first),e.iGM(c=e.CRH())&&(i._placeholderTemplate=c.first),e.iGM(c=e.CRH())&&(i._handles=c)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&e.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:zv,useExisting:n}]),e.TTD]}),n})(),Hu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Hf],imports:[fp]}),n})();const Qf=["sourcelist"],Qv=["targetlist"],Jv=["sourceFilter"],jv=["targetFilter"];function ui(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(6);return e.KtG(r.moveUp(c,r.source,r.selectedItemsSource,r.onSourceReorder,r.SOURCE_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(6);return e.KtG(r.moveTop(c,r.source,r.selectedItemsSource,r.onSourceReorder,r.SOURCE_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(6);return e.KtG(r.moveDown(c,r.source,r.selectedItemsSource,r.onSourceReorder,r.SOURCE_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(6);return e.KtG(r.moveBottom(c,r.source,r.selectedItemsSource,r.onSourceReorder,r.SOURCE_LIST))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.sourceMoveDisabled()),e.uIk("aria-label",t.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.sourceMoveDisabled()),e.uIk("aria-label",t.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.sourceMoveDisabled()),e.uIk("aria-label",t.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.sourceMoveDisabled()),e.uIk("aria-label",t.bottomButtonAriaLabel)}}function Jf(n,o){if(1&n&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.sourceHeader)}}function jf(n,o){1&n&&e.GkF(0)}function Wf(n,o){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,Jf,2,1,"div",24),e.YNc(2,jf,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.sourceHeaderTemplate)}}function Wv(n,o){1&n&&e.GkF(0)}const Yf=function(n){return{options:n}};function Kf(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Wv,1,0,"ng-container",30),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.sourceFilterTemplate)("ngTemplateOutletContext",e.VKq(2,Yf,t.sourceFilterOptions))}}function Yv(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"input",32,33),e.NdJ("keyup",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onFilter(r,c.SOURCE_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.sourceFilterPlaceholder)("aria-label",t.ariaSourceFilterLabel)}}function qf(n,o){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,Kf,2,4,"ng-container",28),e.YNc(2,Yv,4,3,"ng-template",null,29,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.sourceFilterTemplate)("ngIfElse",t)}}function Kv(n,o){1&n&&e.GkF(0)}const $f=function(n,o){return{"p-picklist-item":!0,"p-highlight":n,"p-disabled":o}},qv=function(n,o){return{$implicit:n,index:o}};function Xf(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.onItemClick(r,c,h.selectedItemsSource,h.onSourceSelect))})("dblclick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onSourceItemDblClick())})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onItemTouchEnd())})("keydown",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.onItemKeydown(r,c,h.selectedItemsSource,h.onSourceSelect))}),e.YNc(1,Kv,1,0,"ng-container",30),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw();e.Q6J("ngClass",e.WLB(6,$f,c.isSelected(i,c.selectedItemsSource),c.disabled))("cdkDragData",i)("cdkDragDisabled",!c.dragdrop),e.uIk("aria-selected",c.isSelected(i,c.selectedItemsSource)),e.xp6(1),e.Q6J("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",e.WLB(9,qv,i,r))}}function em(n,o){if(1&n&&e.YNc(0,Xf,2,12,"li",35),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t,i.SOURCE_LIST))}}function $a(n,o){1&n&&e.GkF(0)}function $v(n,o){if(1&n&&(e.TgZ(0,"li",38),e.YNc(1,$a,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageSourceTemplate)}}function Tp(n,o){1&n&&e.GkF(0)}function wp(n,o){if(1&n&&(e.TgZ(0,"li",38),e.YNc(1,Tp,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageSourceTemplate)}}function Xv(n,o){if(1&n&&(e.ynx(0),e.YNc(1,$v,2,1,"li",37),e.YNc(2,wp,2,1,"li",37),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValueSource||!t.emptyFilterMessageSourceTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValueSource)}}function YA(n,o){if(1&n&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.targetHeader)}}function KA(n,o){1&n&&e.GkF(0)}function qA(n,o){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,YA,2,1,"div",24),e.YNc(2,KA,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.targetHeaderTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.targetHeaderTemplate)}}function eb(n,o){1&n&&e.GkF(0)}function tm(n,o){if(1&n&&(e.ynx(0),e.YNc(1,eb,1,0,"ng-container",30),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.targetFilterTemplate)("ngTemplateOutletContext",e.VKq(2,Yf,t.targetFilterOptions))}}function $A(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"input",32,40),e.NdJ("keyup",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onFilter(r,c.TARGET_LIST))}),e.qZA(),e._UZ(3,"span",34),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.targetFilterPlaceholder)("aria-label",t.ariaTargetFilterLabel)}}function tb(n,o){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,tm,2,4,"ng-container",28),e.YNc(2,$A,4,3,"ng-template",null,39,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.targetFilterTemplate)("ngIfElse",t)}}function Tl(n,o){1&n&&e.GkF(0)}function nb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",36),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.onItemClick(r,c,h.selectedItemsTarget,h.onTargetSelect))})("dblclick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onTargetItemDblClick())})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onItemTouchEnd())})("keydown",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.onItemKeydown(r,c,h.selectedItemsTarget,h.onTargetSelect))}),e.YNc(1,Tl,1,0,"ng-container",30),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw();e.Q6J("ngClass",e.WLB(6,$f,c.isSelected(i,c.selectedItemsTarget),c.disabled))("cdkDragData",i)("cdkDragDisabled",!c.dragdrop),e.uIk("aria-selected",c.isSelected(i,c.selectedItemsTarget)),e.xp6(1),e.Q6J("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",e.WLB(9,qv,i,r))}}function nm(n,o){if(1&n&&e.YNc(0,nb,2,12,"li",35),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t,i.TARGET_LIST))}}function Zu(n,o){1&n&&e.GkF(0)}function ib(n,o){if(1&n&&(e.TgZ(0,"li",38),e.YNc(1,Zu,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTargetTemplate)}}function im(n,o){1&n&&e.GkF(0)}function ob(n,o){if(1&n&&(e.TgZ(0,"li",38),e.YNc(1,im,1,0,"ng-container",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageTargetTemplate)}}function sb(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ib,2,1,"li",37),e.YNc(2,ob,2,1,"li",37),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValueTarget||!t.emptyFilterMessageTargetTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValueTarget)}}function rb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(18);return e.KtG(r.moveUp(c,r.target,r.selectedItemsTarget,r.onTargetReorder,r.TARGET_LIST))}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(18);return e.KtG(r.moveTop(c,r.target,r.selectedItemsTarget,r.onTargetReorder,r.TARGET_LIST))}),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(18);return e.KtG(r.moveDown(c,r.target,r.selectedItemsTarget,r.onTargetReorder,r.TARGET_LIST))}),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),c=e.MAs(18);return e.KtG(r.moveBottom(c,r.target,r.selectedItemsTarget,r.onTargetReorder,r.TARGET_LIST))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.targetMoveDisabled()),e.uIk("aria-label",t.upButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.targetMoveDisabled()),e.uIk("aria-label",t.topButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.targetMoveDisabled()),e.uIk("aria-label",t.downButtonAriaLabel),e.xp6(1),e.Q6J("disabled",t.targetMoveDisabled()),e.uIk("aria-label",t.bottomButtonAriaLabel)}}const ab=function(n){return{"p-picklist p-component":!0,"p-picklist-striped":n}};let om=(()=>{class n{constructor(t,i,r){this.el=t,this.cd=i,this.filterService=r,this.trackBy=(c,h)=>h,this.showSourceFilter=!0,this.showTargetFilter=!0,this.metaKeySelection=!0,this.dragdrop=!1,this.showSourceControls=!0,this.showTargetControls=!0,this.disabled=!1,this.filterMatchMode="contains",this.breakpoint="960px",this.keepSelection=!1,this.onMoveToSource=new e.vpe,this.onMoveAllToSource=new e.vpe,this.onMoveAllToTarget=new e.vpe,this.onMoveToTarget=new e.vpe,this.onSourceReorder=new e.vpe,this.onTargetReorder=new e.vpe,this.onSourceSelect=new e.vpe,this.onTargetSelect=new e.vpe,this.onSourceFilter=new e.vpe,this.onTargetFilter=new e.vpe,this.selectedItemsSource=[],this.selectedItemsTarget=[],this.id=(0,Sn.Th)(),this.SOURCE_LIST=-1,this.TARGET_LIST=1}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.sourceFilterOptions={filter:t=>this.filterSource(t),reset:()=>this.resetSourceFilter()},this.targetFilterOptions={filter:t=>this.filterTarget(t),reset:()=>this.resetTargetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"sourceHeader":this.sourceHeaderTemplate=t.template;break;case"targetHeader":this.targetHeaderTemplate=t.template;break;case"sourceFilter":this.sourceFilterTemplate=t.template;break;case"targetFilter":this.targetFilterTemplate=t.template;break;case"emptymessagesource":this.emptyMessageSourceTemplate=t.template;break;case"emptyfiltermessagesource":this.emptyFilterMessageSourceTemplate=t.template;break;case"emptymessagetarget":this.emptyMessageTargetTemplate=t.template;break;case"emptyfiltermessagetarget":this.emptyFilterMessageTargetTemplate=t.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let i,t=Ln.p.find(this.reorderedListElement,"li.p-highlight");i=this.movedUp?t[0]:t[t.length-1],Ln.p.scrollInView(this.reorderedListElement,i),this.movedUp=!1,this.movedDown=!1,this.reorderedListElement=null}}onItemClick(t,i,r,c){if(this.disabled)return;let h=this.findIndexInSelection(i,r),y=-1!=h;if(!this.itemTouched&&this.metaKeySelection){let ce=t.metaKey||t.ctrlKey||t.shiftKey;y&&ce?r.splice(h,1):(ce||(r.length=0),r.push(i))}else y?r.splice(h,1):r.push(i);c.emit({originalEvent:t,items:r}),this.itemTouched=!1}onSourceItemDblClick(){this.disabled||this.moveRight()}onTargetItemDblClick(){this.disabled||this.moveLeft()}onFilter(t,i){let r=t.target.value;i===this.SOURCE_LIST?this.filterSource(r):i===this.TARGET_LIST&&this.filterTarget(r)}filterSource(t=""){this.filterValueSource=t.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.source,this.SOURCE_LIST)}filterTarget(t=""){this.filterValueTarget=t.trim().toLocaleLowerCase(this.filterLocale),this.filter(this.target,this.TARGET_LIST)}filter(t,i){let r=this.filterBy.split(",");i===this.SOURCE_LIST?(this.visibleOptionsSource=this.filterService.filter(t,r,this.filterValueSource,this.filterMatchMode,this.filterLocale),this.onSourceFilter.emit({query:this.filterValueSource,value:this.visibleOptionsSource})):i===this.TARGET_LIST&&(this.visibleOptionsTarget=this.filterService.filter(t,r,this.filterValueTarget,this.filterMatchMode,this.filterLocale),this.onTargetFilter.emit({query:this.filterValueTarget,value:this.visibleOptionsTarget}))}isItemVisible(t,i){return i==this.SOURCE_LIST?this.isVisibleInList(this.visibleOptionsSource,t,this.filterValueSource):this.isVisibleInList(this.visibleOptionsTarget,t,this.filterValueTarget)}isEmpty(t){return t==this.SOURCE_LIST?this.filterValueSource?!this.visibleOptionsSource||0===this.visibleOptionsSource.length:!this.source||0===this.source.length:this.filterValueTarget?!this.visibleOptionsTarget||0===this.visibleOptionsTarget.length:!this.target||0===this.target.length}isVisibleInList(t,i,r){if(!r||!r.trim().length)return!0;for(let c=0;c<t.length;c++)if(i==t[c])return!0}onItemTouchEnd(){this.disabled||(this.itemTouched=!0)}sortByIndexInList(t,i){return t.sort((r,c)=>Sn.gb.findIndexInList(r,i)-Sn.gb.findIndexInList(c,i))}moveUp(t,i,r,c,h){if(r&&r.length){r=this.sortByIndexInList(r,i);for(let y=0;y<r.length;y++){let ce=Sn.gb.findIndexInList(r[y],i);if(0==ce)break;{let ct=i[ce-1];i[ce-1]=i[ce],i[ce]=ct}}this.dragdrop&&(this.filterValueSource&&h===this.SOURCE_LIST||this.filterValueTarget&&h===this.TARGET_LIST)&&this.filter(i,h),this.movedUp=!0,this.reorderedListElement=t,c.emit({items:r})}}moveTop(t,i,r,c,h){if(r&&r.length){r=this.sortByIndexInList(r,i);for(let y=0;y<r.length;y++){let ce=Sn.gb.findIndexInList(r[y],i);if(0==ce)break;{let fe=i.splice(ce,1)[0];i.unshift(fe)}}this.dragdrop&&(this.filterValueSource&&h===this.SOURCE_LIST||this.filterValueTarget&&h===this.TARGET_LIST)&&this.filter(i,h),t.scrollTop=0,c.emit({items:r})}}moveDown(t,i,r,c,h){if(r&&r.length){for(let y=(r=this.sortByIndexInList(r,i)).length-1;y>=0;y--){let ce=Sn.gb.findIndexInList(r[y],i);if(ce==i.length-1)break;{let ct=i[ce+1];i[ce+1]=i[ce],i[ce]=ct}}this.dragdrop&&(this.filterValueSource&&h===this.SOURCE_LIST||this.filterValueTarget&&h===this.TARGET_LIST)&&this.filter(i,h),this.movedDown=!0,this.reorderedListElement=t,c.emit({items:r})}}moveBottom(t,i,r,c,h){if(r&&r.length){for(let y=(r=this.sortByIndexInList(r,i)).length-1;y>=0;y--){let ce=Sn.gb.findIndexInList(r[y],i);if(ce==i.length-1)break;{let fe=i.splice(ce,1)[0];i.push(fe)}}this.dragdrop&&(this.filterValueSource&&h===this.SOURCE_LIST||this.filterValueTarget&&h===this.TARGET_LIST)&&this.filter(i,h),t.scrollTop=t.scrollHeight,c.emit({items:r})}}moveRight(){if(this.selectedItemsSource&&this.selectedItemsSource.length){for(let t=0;t<this.selectedItemsSource.length;t++){let i=this.selectedItemsSource[t];-1==Sn.gb.findIndexInList(i,this.target)&&(this.target.push(this.source.splice(Sn.gb.findIndexInList(i,this.source),1)[0]),this.visibleOptionsSource&&this.visibleOptionsSource.splice(Sn.gb.findIndexInList(i,this.visibleOptionsSource),1))}this.onMoveToTarget.emit({items:this.selectedItemsSource}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}moveAllRight(){if(this.source){let t=[];for(let i=0;i<this.source.length;i++)if(this.isItemVisible(this.source[i],this.SOURCE_LIST)){let r=this.source.splice(i,1)[0];this.target.push(r),t.push(r),i--}this.onMoveAllToTarget.emit({items:t}),this.keepSelection&&(this.selectedItemsTarget=[...this.selectedItemsTarget,...this.selectedItemsSource]),this.selectedItemsSource=[],this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST),this.visibleOptionsSource=[]}}moveLeft(){if(this.selectedItemsTarget&&this.selectedItemsTarget.length){for(let t=0;t<this.selectedItemsTarget.length;t++){let i=this.selectedItemsTarget[t];-1==Sn.gb.findIndexInList(i,this.source)&&(this.source.push(this.target.splice(Sn.gb.findIndexInList(i,this.target),1)[0]),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(Sn.gb.findIndexInList(i,this.visibleOptionsTarget),1))}this.onMoveToSource.emit({items:this.selectedItemsTarget}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}}moveAllLeft(){if(this.target){let t=[];for(let i=0;i<this.target.length;i++)if(this.isItemVisible(this.target[i],this.TARGET_LIST)){let r=this.target.splice(i,1)[0];this.source.push(r),t.push(r),i--}this.onMoveAllToSource.emit({items:t}),this.keepSelection&&(this.selectedItemsSource=[...this.selectedItemsSource,...this.selectedItemsTarget]),this.selectedItemsTarget=[],this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST),this.visibleOptionsTarget=[]}}isSelected(t,i){return-1!=this.findIndexInSelection(t,i)}findIndexInSelection(t,i){return Sn.gb.findIndexInList(t,i)}onDrop(t,i){let r=t.previousContainer!==t.container,c=this.getDropIndexes(t.previousIndex,t.currentIndex,i,r,t.item.data);if(i===this.SOURCE_LIST){if(r){Nu(t.previousContainer.data,t.container.data,c.previousIndex,c.currentIndex);let h=Sn.gb.findIndexInList(t.item.data,this.selectedItemsTarget);-1!=h&&(this.selectedItemsTarget.splice(h,1),this.keepSelection&&this.selectedItemsTarget.push(t.item.data)),this.visibleOptionsTarget&&this.visibleOptionsTarget.splice(t.previousIndex,1),this.onMoveToSource.emit({items:[t.item.data]})}else Ac(t.container.data,c.previousIndex,c.currentIndex),this.onSourceReorder.emit({items:[t.item.data]});this.filterValueSource&&this.filter(this.source,this.SOURCE_LIST)}else{if(r){Nu(t.previousContainer.data,t.container.data,c.previousIndex,c.currentIndex);let h=Sn.gb.findIndexInList(t.item.data,this.selectedItemsSource);-1!=h&&(this.selectedItemsSource.splice(h,1),this.keepSelection&&this.selectedItemsTarget.push(t.item.data)),this.visibleOptionsSource&&this.visibleOptionsSource.splice(t.previousIndex,1),this.onMoveToTarget.emit({items:[t.item.data]})}else Ac(t.container.data,c.previousIndex,c.currentIndex),this.onTargetReorder.emit({items:[t.item.data]});this.filterValueTarget&&this.filter(this.target,this.TARGET_LIST)}}getDropIndexes(t,i,r,c,h){let y,O;return r===this.SOURCE_LIST?(y=c?this.filterValueTarget?Sn.gb.findIndexInList(h,this.target):t:this.filterValueSource?Sn.gb.findIndexInList(h,this.source):t,O=this.filterValueSource?this.findFilteredCurrentIndex(this.visibleOptionsSource,i,this.source):i):(y=c?this.filterValueSource?Sn.gb.findIndexInList(h,this.source):t:this.filterValueTarget?Sn.gb.findIndexInList(h,this.target):t,O=this.filterValueTarget?this.findFilteredCurrentIndex(this.visibleOptionsTarget,i,this.target):i),{previousIndex:y,currentIndex:O}}findFilteredCurrentIndex(t,i,r){return t.length===i?Sn.gb.findIndexInList(t[i-1],r)+1:Sn.gb.findIndexInList(t[i],r)}resetSourceFilter(){this.visibleOptionsSource=null,this.filterValueSource=null,this.sourceFilterViewChild&&(this.sourceFilterViewChild.nativeElement.value="")}resetTargetFilter(){this.visibleOptionsTarget=null,this.filterValueTarget=null,this.targetFilterViewChild&&(this.targetFilterViewChild.nativeElement.value="")}resetFilter(){this.resetSourceFilter(),this.resetTargetFilter()}onItemKeydown(t,i,r,c){let h=t.currentTarget;switch(t.which){case 40:var y=this.findNextItem(h);y&&y.focus(),t.preventDefault();break;case 38:var O=this.findPrevItem(h);O&&O.focus(),t.preventDefault();break;case 13:this.onItemClick(t,i,r,c),t.preventDefault()}}findNextItem(t){let i=t.nextElementSibling;return i?!Ln.p.hasClass(i,"p-picklist-item")||Ln.p.isHidden(i)?this.findNextItem(i):i:null}findPrevItem(t){let i=t.previousElementSibling;return i?!Ln.p.hasClass(i,"p-picklist-item")||Ln.p.isHidden(i)?this.findPrevItem(i):i:null}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n            @media screen and (max-width: ${this.breakpoint}) {\n                .p-picklist[${this.id}] {\n                    flex-direction: column;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons {\n                    padding: var(--content-padding);\n                    flex-direction: row;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button {\n                    margin-right: var(--inline-spacing);\n                    margin-bottom: 0;\n                }\n\n                .p-picklist[${this.id}] .p-picklist-buttons .p-button:last-child {\n                    margin-right: 0;\n                }\n\n                .p-picklist[${this.id}] .pi-angle-right:before {\n                    content: "\\e930"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-right:before {\n                    content: "\\e92c"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-left:before {\n                    content: "\\e933"\n                }\n\n                .p-picklist[${this.id}] .pi-angle-double-left:before {\n                    content: "\\e92f"\n                }\n            }\n            `)}sourceMoveDisabled(){if(this.disabled||!this.selectedItemsSource.length)return!0}targetMoveDisabled(){if(this.disabled||!this.selectedItemsTarget.length)return!0}moveRightDisabled(){return this.disabled||Sn.gb.isEmpty(this.selectedItemsSource)}moveLeftDisabled(){return this.disabled||Sn.gb.isEmpty(this.selectedItemsTarget)}moveAllRightDisabled(){return this.disabled||Sn.gb.isEmpty(this.source)}moveAllLeftDisabled(){return this.disabled||Sn.gb.isEmpty(this.target)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Le.iZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-pickList"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,Le.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(Qf,5),e.Gf(Qv,5),e.Gf(Jv,5),e.Gf(jv,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.listViewSourceChild=r.first),e.iGM(r=e.CRH())&&(i.listViewTargetChild=r.first),e.iGM(r=e.CRH())&&(i.sourceFilterViewChild=r.first),e.iGM(r=e.CRH())&&(i.targetFilterViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{source:"source",target:"target",sourceHeader:"sourceHeader",rightButtonAriaLabel:"rightButtonAriaLabel",leftButtonAriaLabel:"leftButtonAriaLabel",allRightButtonAriaLabel:"allRightButtonAriaLabel",allLeftButtonAriaLabel:"allLeftButtonAriaLabel",upButtonAriaLabel:"upButtonAriaLabel",downButtonAriaLabel:"downButtonAriaLabel",topButtonAriaLabel:"topButtonAriaLabel",bottomButtonAriaLabel:"bottomButtonAriaLabel",targetHeader:"targetHeader",responsive:"responsive",filterBy:"filterBy",filterLocale:"filterLocale",trackBy:"trackBy",sourceTrackBy:"sourceTrackBy",targetTrackBy:"targetTrackBy",showSourceFilter:"showSourceFilter",showTargetFilter:"showTargetFilter",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",style:"style",styleClass:"styleClass",sourceStyle:"sourceStyle",targetStyle:"targetStyle",showSourceControls:"showSourceControls",showTargetControls:"showTargetControls",sourceFilterPlaceholder:"sourceFilterPlaceholder",targetFilterPlaceholder:"targetFilterPlaceholder",disabled:"disabled",ariaSourceFilterLabel:"ariaSourceFilterLabel",ariaTargetFilterLabel:"ariaTargetFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",keepSelection:"keepSelection"},outputs:{onMoveToSource:"onMoveToSource",onMoveAllToSource:"onMoveAllToSource",onMoveAllToTarget:"onMoveAllToTarget",onMoveToTarget:"onMoveToTarget",onSourceReorder:"onSourceReorder",onTargetReorder:"onTargetReorder",onSourceSelect:"onSourceSelect",onTargetSelect:"onTargetSelect",onSourceFilter:"onSourceFilter",onTargetFilter:"onTargetFilter"},decls:22,vars:30,consts:[["cdkDropListGroup","",3,"ngStyle","ngClass"],["class","p-picklist-buttons p-picklist-source-controls",4,"ngIf"],[1,"p-picklist-list-wrapper","p-picklist-source-wrapper"],["class","p-picklist-header",4,"ngIf"],["class","p-picklist-filter-container",4,"ngIf"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-source",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["sourcelist",""],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"p-picklist-buttons","p-picklist-transfer-buttons"],["type","button","pButton","","pRipple","","icon","pi pi-angle-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-right",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-left",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-left",3,"disabled","click"],[1,"p-picklist-list-wrapper","p-picklist-target-wrapper"],["cdkDropList","","role","listbox","aria-multiselectable","multiple",1,"p-picklist-list","p-picklist-target",3,"cdkDropListData","ngStyle","cdkDropListDropped"],["targetlist",""],["class","p-picklist-buttons p-picklist-target-controls",4,"ngIf"],[1,"p-picklist-buttons","p-picklist-source-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-picklist-header"],["class","p-picklist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-picklist-title"],[1,"p-picklist-filter-container"],[4,"ngIf","ngIfElse"],["builtInSourceElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-picklist-filter"],["type","text","role","textbox",1,"p-picklist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["sourceFilter",""],[1,"p-picklist-filter-icon","pi","pi-search"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown",4,"ngIf"],["pRipple","","cdkDrag","","tabindex","0","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","dblclick","touchend","keydown"],["class","p-picklist-empty-message",4,"ngIf"],[1,"p-picklist-empty-message"],["builtInTargetElement",""],["targetFilter",""],[1,"p-picklist-buttons","p-picklist-target-controls"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ui,5,8,"div",1),e.TgZ(2,"div",2),e.YNc(3,Wf,3,2,"div",3),e.YNc(4,qf,4,2,"div",4),e.TgZ(5,"ul",5,6),e.NdJ("cdkDropListDropped",function(c){return i.onDrop(c,i.SOURCE_LIST)}),e.YNc(7,em,1,1,"ng-template",7),e.YNc(8,Xv,3,2,"ng-container",8),e.qZA()(),e.TgZ(9,"div",9)(10,"button",10),e.NdJ("click",function(){return i.moveRight()}),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){return i.moveAllRight()}),e.qZA(),e.TgZ(12,"button",12),e.NdJ("click",function(){return i.moveLeft()}),e.qZA(),e.TgZ(13,"button",13),e.NdJ("click",function(){return i.moveAllLeft()}),e.qZA()(),e.TgZ(14,"div",14),e.YNc(15,qA,3,2,"div",3),e.YNc(16,tb,4,2,"div",4),e.TgZ(17,"ul",15,16),e.NdJ("cdkDropListDropped",function(c){return i.onDrop(c,i.TARGET_LIST)}),e.YNc(19,nm,1,1,"ng-template",7),e.YNc(20,sb,3,2,"ng-container",8),e.qZA()(),e.YNc(21,rb,5,8,"div",17),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.VKq(28,ab,i.stripedRows)),e.xp6(1),e.Q6J("ngIf",i.showSourceControls),e.xp6(2),e.Q6J("ngIf",i.sourceHeader||i.sourceHeaderTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy&&!1!==i.showSourceFilter),e.xp6(1),e.Q6J("cdkDropListData",i.source)("ngStyle",i.sourceStyle),e.xp6(2),e.Q6J("ngForOf",i.source)("ngForTrackBy",i.sourceTrackBy||i.trackBy),e.xp6(1),e.Q6J("ngIf",i.isEmpty(i.SOURCE_LIST)&&(i.emptyMessageSourceTemplate||i.emptyFilterMessageSourceTemplate)),e.xp6(2),e.Q6J("disabled",i.moveRightDisabled()),e.uIk("aria-label",i.rightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",i.moveAllRightDisabled()),e.uIk("aria-label",i.allRightButtonAriaLabel),e.xp6(1),e.Q6J("disabled",i.moveLeftDisabled()),e.uIk("aria-label",i.leftButtonAriaLabel),e.xp6(1),e.Q6J("disabled",i.moveAllLeftDisabled()),e.uIk("aria-label",i.allLeftButtonAriaLabel),e.xp6(2),e.Q6J("ngIf",i.targetHeader||i.targetHeaderTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy&&!1!==i.showTargetFilter),e.xp6(1),e.Q6J("cdkDropListData",i.target)("ngStyle",i.targetStyle),e.xp6(2),e.Q6J("ngForOf",i.target)("ngForTrackBy",i.targetTrackBy||i.trackBy),e.xp6(1),e.Q6J("ngIf",i.isEmpty(i.TARGET_LIST)&&(i.emptyMessageTargetTemplate||i.emptyFilterMessageTargetTemplate)),e.xp6(1),e.Q6J("ngIf",i.showTargetControls))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC,Ei.Hq,mn.H,Ap,QA,Gf],styles:[".p-picklist{display:flex}.p-picklist-buttons{display:flex;flex-direction:column;justify-content:center}.p-picklist-list-wrapper{flex:1 1 50%}.p-picklist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-picklist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-picklist-item:not(.cdk-drag-disabled){cursor:move}.p-picklist-item.cdk-drag-placeholder{opacity:0}.p-picklist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-picklist-filter{position:relative}.p-picklist-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-picklist-filter-input{width:100%}.p-picklist-list.cdk-drop-list-dragging .p-picklist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),n})(),sm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Ei.hJ,Le.m8,mn.T,Hu,Le.m8,Hu]}),n})();const lb=["pOrganizationChartNode",""];function rm(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.node.label)}}function am(n,o){1&n&&e.GkF(0)}const xp=function(n){return{$implicit:n}};function XA(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,am,1,0,"ng-container",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.chart.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,xp,t.node))}}const Ep=function(n,o){return{"pi-chevron-down":n,"pi-chevron-up":o}};function cb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleNode(r,c.node))})("keydown.enter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleNode(r,c.node))}),e._UZ(1,"i",9),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(1,Ep,t.node.expanded,!t.node.expanded))}}function eT(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"div",4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",t.colspan)}}const Xa=function(n){return{"p-organizationchart-line-top":n}};function lm(n,o){if(1&n&&(e.TgZ(0,"td",11),e._uU(1,"\xa0"),e.qZA(),e.TgZ(2,"td",12),e._uU(3,"\xa0"),e.qZA()),2&n){const i=o.last;e.Q6J("ngClass",e.VKq(2,Xa,!o.first)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,Xa,!i))}}function cm(n,o){if(1&n&&(e.ynx(0),e.YNc(1,lm,4,6,"ng-template",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function Vu(n,o){if(1&n&&(e.TgZ(0,"td",13),e._UZ(1,"table",14),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("node",t)}}const Dr=function(n,o){return{"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":n,"p-highlight":o}};function um(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",1),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onNodeClick(r,c.node))}),e.YNc(4,rm,2,1,"div",0),e.YNc(5,XA,2,4,"div",0),e.YNc(6,cb,2,4,"a",2),e.qZA()()(),e.TgZ(7,"tr",3)(8,"td"),e._UZ(9,"div",4),e.qZA()(),e.TgZ(10,"tr",3),e.YNc(11,eT,3,1,"ng-container",0),e.YNc(12,cm,2,1,"ng-container",0),e.qZA(),e.TgZ(13,"tr",5),e.YNc(14,Vu,2,1,"td",6),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.colspan),e.xp6(1),e.Tol(t.node.styleClass),e.Q6J("ngClass",e.WLB(17,Dr,t.chart.selectionMode&&!1!==t.node.selectable,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.leaf),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.uIk("colspan",t.colspan),e.xp6(2),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngIf",t.node.children&&1===t.node.children.length),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.children.length>1),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function ub(n,o){if(1&n&&e._UZ(0,"table",2),2&n){const t=e.oxw();e.Q6J("node",t.root)}}const Sp=function(n){return{"p-organizationchart p-component":!0,"p-organizationchart-preservespace":n}};let ga=(()=>{class n{constructor(t,i){this.cd=i,this.chart=t,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(t,i){this.chart.onNodeClick(t,i)}toggleNode(t,i){i.expanded=!i.expanded,i.expanded?this.chart.onNodeExpand.emit({originalEvent:t,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:t,node:this.node}),t.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>Uu)),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:"root",first:"first",last:"last"},attrs:lb,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter",4,"ngIf"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter"],[1,"p-node-toggler-icon","pi",3,"ngClass"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&e.YNc(0,um,15,20,"tbody",0),2&t&&e.Q6J("ngIf",i.node)},dependencies:[I.mk,I.sg,I.O5,I.tP,n],styles:[".p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}\n"],encapsulation:2,data:{animation:[(0,ai.X$)("childState",[(0,ai.SB)("in",(0,ai.oB)({opacity:1})),(0,ai.eR)("void => *",[(0,ai.oB)({opacity:0}),(0,ai.jt)(150)]),(0,ai.eR)("* => void",[(0,ai.jt)(150,(0,ai.oB)({opacity:0}))])])]},changeDetection:0}),n})(),Uu=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.preserveSpace=!0,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.selectionSource=new Zi.x,this.selectionSource$=this.selectionSource.asObservable()}get selection(){return this._selection}set selection(t){this._selection=t,this.initialized&&this.selectionSource.next(null)}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{this.templateMap[t.getType()]=t.template}),this.initialized=!0}getTemplateForNode(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null}onNodeClick(t,i){let r=t.target;if((!r.className||-1===r.className.indexOf("p-node-toggler")&&-1===r.className.indexOf("p-node-toggler-icon"))&&this.selectionMode){if(!1===i.selectable)return;let c=this.findIndexInSelection(i),h=c>=0;"single"===this.selectionMode?h?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=i,this.onNodeSelect.emit({originalEvent:t,node:i})):"multiple"===this.selectionMode&&(h?(this.selection=this.selection.filter((y,O)=>O!=c),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=[...this.selection||[],i],this.onNodeSelect.emit({originalEvent:t,node:i}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(t){let i=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)i=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(let r=0;r<this.selection.length;r++)if(this.selection[r]==t){i=r;break}return i}isSelected(t){return-1!=this.findIndexInSelection(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-organizationChart"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,Le.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",preserveSpace:"preserveSpace",selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},decls:2,vars:7,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ub,1,1,"table",1),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.VKq(5,Sp,i.preserveSpace)),e.xp6(1),e.Q6J("ngIf",i.root))},dependencies:[I.mk,I.O5,I.PC,ga],encapsulation:2,changeDetection:0}),n})(),dm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Le.m8]}),n})();var wc=C(7307);const tT=function(n){return{"p-hidden":n}};function pm(n,o){if(1&n&&e._UZ(0,"li",4),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,tT,!1===t.visible))}}function nT(n,o){if(1&n&&e._UZ(0,"span",16),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function zu(n,o){if(1&n&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function Gu(n,o){if(1&n&&e._UZ(0,"span",18),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function kp(n,o){if(1&n&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}const Qu=function(n,o){return{"pi-angle-down":n,"pi-angle-right":o}};function Mp(n,o){if(1&n&&e._UZ(0,"span",20),2&n){const t=e.oxw(4);e.Q6J("ngClass",e.WLB(1,Qu,t.root,!t.root))}}const db=function(n){return{"p-menuitem-link":!0,"p-disabled":n}};function pb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2).$implicit,h=e.oxw();return e.KtG(h.onItemClick(r,c))})("mouseenter",function(r){e.CHM(t);const c=e.oxw(2).$implicit,h=e.oxw();return e.KtG(h.onItemMouseEnter(r,c))}),e.YNc(1,nT,1,2,"span",11),e.YNc(2,zu,2,1,"span",12),e.YNc(3,Gu,1,1,"ng-template",null,13,e.W1O),e.YNc(5,kp,2,2,"span",14),e.YNc(6,Mp,1,4,"span",15),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2).$implicit,r=e.oxw();e.Q6J("target",i.target)("ngClass",e.VKq(14,db,i.disabled)),e.uIk("href",i.url,e.LSH)("data-automationid",i.automationId)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0")("aria-haspopup",null!=r.item.items)("aria-expanded",r.item===r.activeItem),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.badge),e.xp6(1),e.Q6J("ngIf",i.items)}}function hb(n,o){if(1&n&&e._UZ(0,"span",16),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function gb(n,o){if(1&n&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function fb(n,o){if(1&n&&e._UZ(0,"span",18),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function hm(n,o){if(1&n&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}function iT(n,o){if(1&n&&e._UZ(0,"span",20),2&n){const t=e.oxw(4);e.Q6J("ngClass",e.WLB(1,Qu,t.root,!t.root))}}const mb=function(){return{exact:!1}};function oT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2).$implicit,h=e.oxw();return e.KtG(h.onItemClick(r,c))})("mouseenter",function(r){e.CHM(t);const c=e.oxw(2).$implicit,h=e.oxw();return e.KtG(h.onItemMouseEnter(r,c))}),e.YNc(1,hb,1,2,"span",11),e.YNc(2,gb,2,1,"span",12),e.YNc(3,fb,1,1,"ng-template",null,22,e.W1O),e.YNc(5,hm,2,2,"span",14),e.YNc(6,iT,1,4,"span",15),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2).$implicit;e.Q6J("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||e.DdM(21,mb))("target",i.target)("ngClass",e.VKq(22,db,i.disabled))("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),e.uIk("data-automationid",i.automationId)("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.badge),e.xp6(1),e.Q6J("ngIf",i.items)}}function gm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-menubarSub",23),e.NdJ("leafClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onLeafClick())}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.Q6J("parentActive",t===i.activeItem)("item",t)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)}}const fm=function(n,o){return{"p-menuitem":!0,"p-menuitem-active":n,"p-hidden":o}};function _b(n,o){if(1&n&&(e.TgZ(0,"li",5,6),e.YNc(2,pb,7,16,"a",7),e.YNc(3,oT,7,24,"a",8),e.YNc(4,gm,1,4,"p-menubarSub",9),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.WLB(8,fm,t===i.activeItem,!1===t.visible))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),e.xp6(2),e.Q6J("ngIf",!t.routerLink),e.xp6(1),e.Q6J("ngIf",t.routerLink),e.xp6(1),e.Q6J("ngIf",t.items)}}function Dp(n,o){if(1&n&&(e.YNc(0,pm,1,3,"li",2),e.YNc(1,_b,5,11,"li",3)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}const sT=function(n,o){return{"p-submenu-list":n,"p-menubar-root-list":o}},rT=["menubutton"],aT=["rootmenu"];function lT(n,o){1&n&&e.GkF(0)}function cT(n,o){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,lT,1,0,"ng-container",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.startTemplate)}}function uT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",9,10),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.toggle(r))}),e._UZ(2,"i",11),e.qZA()}}function dT(n,o){1&n&&e.GkF(0)}function pT(n,o){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,dT,1,0,"ng-container",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.endTemplate)}}function hT(n,o){1&n&&(e.TgZ(0,"div",12),e.Hsn(1),e.qZA())}const gT=function(n){return{"p-menubar p-component":!0,"p-menubar-mobile-active":n}},Oa=["*"];let Op=(()=>{class n{constructor(t,i,r){this.el=t,this.renderer=i,this.cd=r,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new e.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(t){this.root||(this._parentActive=t,t||(this.activeItem=null))}onItemClick(t,i){i.disabled?t.preventDefault():(!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),i.items&&(this.activeItem&&i===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=i,this.root&&this.bindDocumentClickListener())),i.items||this.onLeafClick())}onItemMouseEnter(t,i){i.disabled||this.mobileActive?t.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=i,this.bindDocumentClickListener()):(this.activeItem=i,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=t=>{this.el&&!this.el.nativeElement.contains(t.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(t,i){1&t&&(e.TgZ(0,"ul",0),e.YNc(1,Dp,2,2,"ng-template",1),e.qZA()),2&t&&(e.Q6J("ngClass",e.WLB(3,sT,!i.root,i.root)),e.uIk("role",i.root?"menubar":"menu"),e.xp6(1),e.Q6J("ngForOf",i.root?i.item:i.item.items))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,mn.H,ln.u,n],encapsulation:2}),n})(),Cb=(()=>{class n{constructor(t,i,r,c){this.el=t,this.renderer=i,this.cd=r,this.config=c,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template}})}toggle(t){this.mobileActive?(this.hide(),Sn.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,Sn.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),t.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.mobileActive&&this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target)&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),Sn.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Le.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-menubar"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,Le.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(rT,5),e.Gf(aT,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.menubutton=r.first),e.iGM(r=e.CRH())&&(i.rootmenu=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:Oa,decls:8,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","class","p-menubar-button",3,"click",4,"ngIf"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-menubar-end"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,cT,2,1,"div",1),e.YNc(2,uT,3,0,"a",2),e.TgZ(3,"p-menubarSub",3,4),e.NdJ("leafClick",function(){return i.onLeafClick()}),e.qZA(),e.YNc(5,pT,2,1,"div",5),e.YNc(6,hT,2,0,"ng-template",null,6,e.W1O),e.qZA()),2&t){const r=e.MAs(7);e.Tol(i.styleClass),e.Q6J("ngClass",e.VKq(13,gT,i.mobileActive))("ngStyle",i.style),e.xp6(1),e.Q6J("ngIf",i.startTemplate),e.xp6(1),e.Q6J("ngIf",i.model&&i.model.length>0),e.xp6(1),e.Q6J("item",i.model)("baseZIndex",i.baseZIndex)("autoZIndex",i.autoZIndex)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay),e.xp6(2),e.Q6J("ngIf",i.endTemplate)("ngIfElse",r)}},dependencies:[I.mk,I.O5,I.tP,I.PC,Op],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),n})(),mm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,s.Bz,mn.T,ln.z,Le.m8,s.Bz,ln.z,Le.m8]}),n})();var Pp=C(7728);const _m=["filesInput"],Rp=["taskActualDateSetPanel"],vb=["commentEditor"],Pa=["taskLinkingDialog"],Cm=["workLogsDialogEl"];function bb(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-progressSpinner",59),e.BQk())}function yb(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",60)(2,"div",61),e._UZ(3,"span",62),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.customNav.backOrDefault(["/tasks","list"]))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" \u0417\u0430\u0434\u0430\u0447\u0438 #",t.taskId," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 ")}}function vm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",94),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.moveToNextStage())}),e._uU(1," \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f "),e._UZ(2,"i",95),e.qZA()}}function Ib(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",88)(1,"p-button",89),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.customNav.backOrDefault(["/tasks","list"]))}),e.qZA(),e.TgZ(2,"div",8)(3,"span",90),e._uU(4),e.qZA(),e.TgZ(5,"div",91)(6,"span"),e._uU(7,"\u0421\u0442\u0430\u0434\u0438\u044f:"),e.qZA(),e.TgZ(8,"app-tiny-button",92),e.NdJ("onClick",function(r){e.CHM(t),e.oxw(2);const c=e.MAs(75);return e.KtG(c.toggle(r))}),e.qZA(),e.YNc(9,vm,3,0,"span",93),e.qZA()()()}if(2&n){const t=e.oxw(2);let i,r;e.xp6(4),e.Oqu(null!==(i=null==t.currentTask||null==t.currentTask.modelWireframe?null:t.currentTask.modelWireframe.name)&&void 0!==i?i:""),e.xp6(4),e.Q6J("disabled",!(null!=t.currentTask&&t.currentTask.currentStage))("label",null!==(r=null==t.currentTask||null==t.currentTask.currentStage?null:t.currentTask.currentStage.label)&&void 0!==r?r:"\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430")("size",.9),e.xp6(1),e.Q6J("ngIf",!t.isLastStage()&&(null==t.currentTask?null:t.currentTask.currentStage))}}function Ab(n,o){1&n&&e.GkF(0)}function Ju(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ab,1,0,"ng-container",97),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(3),i=e.MAs(80),r=e.MAs(82);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,t.isBeforeActualFrom$))("ngIfThen",i)("ngIfElse",r)}}function wl(n,o){if(1&n&&(e.YNc(0,Ju,3,5,"ng-container",96),e.ALo(1,"async")),2&n){const t=e.oxw(2);e.Q6J("ngIf",(null==t.currentTask?null:t.currentTask.actualTo)||(null==t.currentTask?null:t.currentTask.actualFrom)&&e.lcZ(1,1,t.isBeforeActualFrom$))}}function Lp(n,o){if(1&n&&(e.TgZ(0,"div",98)(1,"div",99),e._uU(2),e.qZA(),e.TgZ(3,"div",100),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.textRepresentation," ")}}function xl(n,o){if(1&n&&(e.TgZ(0,"div",74),e._UZ(1,"i",77),e.TgZ(2,"span",76),e._uU(3," \u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 "),e.qZA(),e.TgZ(4,"span",78),e._UZ(5,"app-employee-label",79),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("employee",null==t.currentTask?null:t.currentTask.responsible)}}function Np(n,o){1&n&&e._UZ(0,"app-employee-label",79),2&n&&e.Q6J("employee",o.$implicit)}function ju(n,o){if(1&n&&(e.TgZ(0,"div",101)(1,"div",102),e._UZ(2,"i",103),e.TgZ(3,"span",100),e._uU(4," \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438 "),e.qZA()(),e.TgZ(5,"div",104),e.YNc(6,Np,1,1,"app-employee-label",105),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.activeWorkLog.employees)}}function bm(n,o){if(1&n&&(e.TgZ(0,"div",107),e._UZ(1,"app-department-label",108),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("department",t)}}function ym(n,o){if(1&n&&(e.TgZ(0,"span",107),e._UZ(1,"app-employee-label",79),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("employee",t)}}function Fp(n,o){if(1&n&&(e.TgZ(0,"div",101)(1,"div",102),e._UZ(2,"i",103),e.TgZ(3,"span",100),e._uU(4," \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 "),e.qZA()(),e.TgZ(5,"div",104),e.YNc(6,bm,2,1,"div",106),e.YNc(7,ym,2,1,"span",106),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.departmentsObservers),e.xp6(1),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.employeesObservers)}}function Bp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-tiny-button",116),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.unlinkParentTask())}),e.qZA()}}function Im(n,o){if(1&n&&(e.TgZ(0,"div",113)(1,"span",9),e._uU(2,"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f:"),e.qZA(),e._UZ(3,"app-task-link",114),e.YNc(4,Bp,1,0,"app-tiny-button",115),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(3),e.Q6J("taskId",null!==(i=null==t.currentTask?null:t.currentTask.parent)&&void 0!==i?i:0),e.xp6(1),e.Q6J("ngIf",!(null==t.currentTask||!t.currentTask.parent))}}function Hp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",120),e._UZ(1,"app-task-link",121),e.TgZ(2,"app-tiny-button",116),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw(4);return e.KtG(h.unlinkParentTask(c.taskId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("task",t)}}function Tb(n,o){if(1&n&&(e.TgZ(0,"div",117)(1,"span"),e._uU(2,"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435:"),e.qZA(),e.TgZ(3,"div",118),e.YNc(4,Hp,3,1,"span",119),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",null==t.currentTask?null:t.currentTask.children)}}function fT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",101)(1,"div",102),e._UZ(2,"i",109),e.TgZ(3,"span",100),e._uU(4," \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),e.qZA(),e.TgZ(5,"app-tiny-button",110),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openTaskChainDialog())}),e.qZA()(),e.TgZ(6,"div",104),e.YNc(7,Im,5,2,"div",111),e.YNc(8,Tb,5,1,"div",112),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.isTaskHasParent()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasChilds())}}function wb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",125),e._UZ(1,"i",126),e.TgZ(2,"div",8),e._UZ(3,"app-employee-label",127),e.TgZ(4,"div",128),e._uU(5),e.qZA()(),e._UZ(6,"div",37),e.TgZ(7,"p-button",129),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.replyComment=void 0)}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(3),e.Q6J("employee",t.replyComment.creator)("size",2),e.xp6(2),e.hij(" ",t.replyComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function Am(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",125),e._UZ(1,"i",130),e.TgZ(2,"div",118)(3,"span"),e._uU(4,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"div",100),e._uU(6),e.qZA()(),e._UZ(7,"div",37),e.TgZ(8,"p-button",129),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(3);return r.editComment=void 0,e.KtG(r.commentInputForm.reset({text:"",files:[]}))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.Udp("padding","1rem 1.5rem"),e.xp6(6),e.hij(" ",t.editComment.simpleText," "),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled)}}function xb(n,o){1&n&&e._UZ(0,"app-file-input",136),2&n&&e.Q6J("short",!0)}function Tm(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",131)(2,"p-button",132),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.commentEditorMode="extended")}),e.qZA(),e.TgZ(3,"textarea",133),e.NdJ("keydown",function(r){e.CHM(t);const c=e.oxw(4);return e.KtG(c.sendCommentByEnter(r))}),e.qZA(),e.YNc(4,xb,1,1,"app-file-input",134),e.TgZ(5,"p-button",135),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.sendComment())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding",".5rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("disabled",t.isTaskClose()),e.xp6(1),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled)}}function wm(n,o){1&n&&e._UZ(0,"app-file-input",143)}const Eb=function(){return{maxHeight:"30vh",minHeight:"10rem",overflow:"auto"}};function ur(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",137)(2,"span",107)(3,"p-button",138),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return r.commentEditorMode="simple",e.KtG(r.clearCommentText())}),e.qZA(),e._UZ(4,"div",37),e.YNc(5,wm,1,0,"app-file-input",139),e.TgZ(6,"p-button",140),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.sendComment())}),e.qZA()(),e.TgZ(7,"quill-editor",141,142),e.NdJ("keydown",function(r){e.CHM(t);const c=e.oxw(4);return e.KtG(c.sendCommentByEnter(r))})("onContentChanged",function(r){e.CHM(t),e.oxw(4);const c=e.MAs(78);return e.KtG(c.setQuillEvent(r))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("padding","1rem 1rem"),e.Q6J("@fadeIn",void 0),e.xp6(2),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(2),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("disabled",t.commentInputForm.disabled),e.xp6(1),e.Q6J("modules",t.quillModules)("disabled",t.isTaskClose())("styles",e.DdM(9,Eb))}}function xm(n,o){if(1&n&&(e.ynx(0,1),e.YNc(1,Tm,6,7,"ng-container",2),e.YNc(2,ur,9,10,"ng-container",2),e.BQk()),2&n){const t=e.oxw(3);e.Q6J("ngSwitch",t.commentEditorMode),e.xp6(1),e.Q6J("ngSwitchCase","simple"),e.xp6(1),e.Q6J("ngSwitchCase","extended")}}function Sb(n,o){if(1&n&&(e.TgZ(0,"div",122),e.YNc(1,wb,8,6,"div",123),e.YNc(2,Am,9,4,"div",123),e.YNc(3,xm,3,3,"ng-container",124),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("formGroup",t.commentInputForm),e.xp6(1),e.Q6J("ngIf",t.replyComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose())}}const mT=function(){return{border:"none"}},kb=function(){return{grid:"1fr/1fr max-content"}},Zp=function(){return[]};function Em(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",64)(2,"p-menubar",65),e.YNc(3,Ib,10,5,"ng-template",66),e.YNc(4,wl,2,3,"ng-template",67),e.qZA(),e.TgZ(5,"div",68)(6,"div",69)(7,"div",70)(8,"label"),e._uU(9,"\u0422\u0435\u0433\u0438"),e.qZA(),e._UZ(10,"app-task-tag-selector",71),e.qZA(),e.YNc(11,Lp,5,2,"div",72),e.qZA(),e.TgZ(12,"div",73)(13,"div",74),e._UZ(14,"i",75),e.TgZ(15,"span",76),e._uU(16," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"taskStatus"),e.qZA()(),e.TgZ(20,"div",74),e._UZ(21,"i",77),e.TgZ(22,"span",76),e._uU(23," \u0410\u0432\u0442\u043e\u0440 "),e.qZA(),e.TgZ(24,"span",78),e._UZ(25,"app-employee-label",79),e.qZA()(),e.TgZ(26,"div",74),e._UZ(27,"i",80),e.TgZ(28,"span",76),e._uU(29," \u0421\u043e\u0437\u0434\u0430\u043d\u0430 "),e.qZA(),e.TgZ(30,"span",78),e._uU(31),e.ALo(32,"titlecase"),e.ALo(33,"date"),e.qZA()(),e.YNc(34,xl,6,1,"div",81),e.YNc(35,ju,7,1,"div",82),e.YNc(36,Fp,8,2,"div",82),e.YNc(37,fT,9,2,"div",82),e.qZA()(),e.TgZ(38,"div",83)(39,"span",84)(40,"span"),e._uU(41," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 "),e.qZA(),e.TgZ(42,"p-toggleButton",85),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.taskEventsVisible=r)}),e.qZA()(),e.TgZ(43,"app-task-journal",86),e.NdJ("editCommentChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.editCommentChanged(r))})("onFirstLoad",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.journalVisible=r)})("editCommentChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.editComment=r)})("replyCommentChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.replyComment=r)}),e.qZA()()(),e.YNc(44,Sb,4,4,"div",87),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(2),e.Akn(e.DdM(30,mT)),e.Q6J("model",t.managementMenu),e.xp6(3),e.Akn(e.DdM(31,kb)),e.xp6(5),e.Q6J("formControl",t.installedTags),e.xp6(1),e.Q6J("ngForOf",null!==(i=null==t.currentTask?null:t.currentTask.fields)&&void 0!==i?i:e.DdM(32,Zp)),e.xp6(6),e.Tol("task-control-panel-item-value status "+(null==t.currentTask?null:t.currentTask.taskStatus)),e.xp6(1),e.hij(" ",e.lcZ(19,23,t.currentTask)," "),e.xp6(7),e.Q6J("employee",null==t.currentTask?null:t.currentTask.creator),e.xp6(6),e.hij(" ",e.lcZ(32,25,e.xi3(33,27,null==t.currentTask?null:t.currentTask.created,"dd MMM yyyy HH:mm"))," "),e.xp6(3),e.Q6J("ngIf",null==t.currentTask?null:t.currentTask.responsible),e.xp6(1),e.Q6J("ngIf",t.activeWorkLog),e.xp6(1),e.Q6J("ngIf",t.isTaskHasObservers()),e.xp6(1),e.Q6J("ngIf",t.isTaskHasParent()||t.isTaskHasChilds()),e.xp6(1),e.Q6J("hidden",!t.journalVisible),e.xp6(4),e.Q6J("ngModel",t.taskEventsVisible),e.xp6(1),e.Q6J("editComment",t.editComment)("replyComment",t.replyComment)("taskId",t.taskId)("showEvents",t.taskEventsVisible),e.xp6(1),e.Q6J("ngIf",!t.isTaskClose())}}function Mb(n,o){if(1&n&&(e.TgZ(0,"div",107),e._UZ(1,"app-employee-label",127),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("employee",t)("size",1.9)}}function Db(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",144)(1,"p-checkbox",145),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedDepartmentObservers=r)}),e.qZA(),e.TgZ(2,"span",146),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedDepartmentObservers)("value",t.departmentId),e.xp6(2),e.Oqu(t.name)}}function Ob(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",144)(1,"p-checkbox",147),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedEmployeeObservers=r)}),e.qZA(),e._UZ(2,"app-employee-label",127),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.selectedEmployeeObservers)("value",t.login),e.xp6(1),e.Q6J("employee",t)("size",2.3)}}function Sm(n,o){1&n&&(e.TgZ(0,"span",151),e._uU(1,"(\u0412\u044b\u0431\u0440\u0430\u043d)"),e.qZA())}const Pb=function(n){return{selected:n}};function km(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",148),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.selectedEmployeeAsResponsible=c)}),e._UZ(1,"app-avatar",149),e.TgZ(2,"div",8)(3,"span",100),e._uU(4),e.qZA(),e.TgZ(5,"span",99),e._uU(6),e.qZA()(),e.YNc(7,Sm,2,0,"span",150),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(7,Pb,(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)),e.xp6(1),e.Q6J("name",t.fullName)("size",2.3)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Oqu(null==t.department?null:t.department.name),e.xp6(1),e.Q6J("ngIf",(null==i.selectedEmployeeAsResponsible?null:i.selectedEmployeeAsResponsible.login)===t.login)}}const Rb=function(){return{maxWidth:"45rem",minWidth:"35rem"}};function Lb(n,o){if(1&n&&e._UZ(0,"app-task-list-element",152),2&n){const t=o.$implicit;e.Akn(e.DdM(3,Rb)),e.Q6J("item",t.data)}}function Mm(n,o){if(1&n&&e._UZ(0,"app-task-template-input",153),2&n){const t=o.$implicit;e.Q6J("field",t)("formControlName",t.modelItemId)}}function Dm(n,o){if(1&n&&(e.TgZ(0,"div",154)(1,"span",113),e._uU(2," \u0412\u0440\u0435\u043c\u044f: "),e.TgZ(3,"span",155),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"span",156),e._uU(7," \u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440: "),e._UZ(8,"app-employee-label",79),e.qZA(),e.TgZ(9,"span",155),e._uU(10),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.xi3(5,4,t.editTaskSnapshots[t.indexEditSnapshot].whenEdited,"dd MMMM yyyy HH:mm")," "),e.xp6(4),e.Q6J("employee",t.editTaskSnapshots[t.indexEditSnapshot].whoEdited),e.xp6(2),e.AsE(" \u0421\u043d\u0438\u043c\u043e\u043a ",t.indexEditSnapshot+1," \u0438\u0437 ",t.editTaskSnapshots.length," ")}}function Nb(n,o){1&n&&(e.TgZ(0,"span",159),e._uU(1,"keyboard_double_arrow_right"),e.qZA())}function Qr(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"span",157),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.YNc(7,Nb,2,0,"span",158),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(3),e.hij(" ",t.before.name," "),e.xp6(2),e.hij(" ",t.before.textRepresentation," "),e.xp6(2),e.Q6J("ngIf",!i.areFieldsEqual(t.before,t.after)),e.xp6(2),e.hij(" ",t.after.textRepresentation," ")}}function Vp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"p-calendar",160),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectedTaskDateTime=r)}),e.qZA(),e.TgZ(2,"app-button",161),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.setDateTimeOfTaskRelevance())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectedTaskDateTime)("inline",!0)("selectOtherMonths",!0)("showTime",!0),e.xp6(1),e.Q6J("loading",t.changingTaskDateTime)}}function Fb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",162)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),e.qZA(),e.TgZ(4,"textarea",10),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.forceCloseWorkLogReason=r)}),e.qZA()(),e.TgZ(5,"div",163)(6,"p-button",164),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.forceCloseWorkLogDialogVisible=!1,e.KtG(r.forceCloseWorkLogReason="")}),e.qZA(),e.TgZ(7,"p-button",165),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.forceCloseWorkLog())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.forceCloseWorkLogReason)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isForceClosingWorkLog),e.xp6(1),e.Q6J("disabled",!t.forceCloseWorkLogReason)("loading",t.isForceClosingWorkLog)}}function Bb(n,o){if(1&n&&(e.TgZ(0,"div",166),e.ALo(1,"date"),e._UZ(2,"i",167),e.TgZ(3,"span"),e._uU(4," \u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#f7ce2a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualFrom,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualFromTime$)," ")}}function _T(n,o){if(1&n&&(e.TgZ(0,"div",166),e.ALo(1,"date"),e._UZ(2,"i",167),e.TgZ(3,"span"),e._uU(4," \u0421\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f "),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"async"),e.qZA()()),2&n){const t=e.oxw();let i;e.Udp("color","#ff512a"),e.Q6J("pTooltip",null!==(i=e.xi3(1,4,null==t.currentTask?null:t.currentTask.actualTo,"dd MMMM yyyy HH:mm"))&&void 0!==i?i:""),e.xp6(6),e.hij(" ",e.lcZ(7,7,t.actualToTime$)," ")}}const Up=function(){return{width:"50vw"}},Wu=function(){return{"960px":"75vw","640px":"100vw"}},Om=function(){return{height:"40vh",maxHeight:"15rem"}},Hb=function(){return{minHeight:"8rem"}},zp=function(){return{width:"35rem",height:"50vh"}},Zb=function(){return{"960px":"50vw","640px":"100vw"}},Vb=function(){return{width:"60vw"}},Yu=function(){return{overflow:"auto",minHeight:"100%"}},Gp=function(){return{width:"50vw",maxHeight:"70vh"}},Ku=function(){return{width:"75vw",maxHeight:"70vh"}},CT=function(){return{"960px":"85vw","640px":"100vw"}},Qp=function(){return{maxHeight:"70vh"}},vT=function(){return{width:"50vw",minWidth:"fit-content"}};let Pm=(()=>{class n{constructor(t,i,r,c,h,y,O,ce){this.api=t,this.route=i,this.chatService=r,this.confirmation=c,this.toast=h,this.customNav=y,this.rt=O,this.taskCreator=ce,this.loadingState=ft.Gu.LOADING,this.commentSending=!1,this.quillModules=it.tg,this.attachedFiles=[],this.countAllAttachments=0,this.showFilesHistory=!1,this.stageMenuItems=[],this.sourceInstallers=[],this.targetInstallers=[],this.appointmentRequested=!1,this.showAppointInstallersMenu=!1,this.showChangeObserversDialog=!1,this.showTaskLinkingDialog=!1,this.taskLinkingType="parent",this.isLinkingBegin=!1,this.listOfChildTaskLinking=[],this.departmentList=[],this.employeeList=[],this.selectedDepartmentObservers=[],this.selectedEmployeeObservers=[],this.changingTaskObservers=!1,this.employees$=this.api.getEmployeesOptionsList(),this.linkingTaskSkeletonArray=Array.from({length:50}),this.subscriptions=new it.xf,this.taskChain=[],this.showTaskChainDialog=!1,this.listOfExistingTasksToLink=[],this.totalExistingTasksToLink=0,this.loadingExistingTasksToLink=!1,this.globalTaskSearchString="",this.taskCreationDateFilterForLinking=[],this.taskAuthorEmployeeFilter="",this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1,this.setDateTimeToTaskType="from",this.selectedTaskDateTime=new Date,this.changingTaskDateTime=!1,this.showChatHistory=!1,this.isShowEditTaskDialog=!1,this.editTaskForm=new R.cw({}),this.editBlocked=!1,this.isShowEditHistoryDialog=!1,this.editTaskSnapshots=[],this.indexEditSnapshot=0,this.managementMenu=[],this.isShowSchedulingDialog=!1,this.targetDescription="",this.forceCloseWorkLogDialogVisible=!1,this.forceCloseWorkLogReason="",this.isForceClosingWorkLog=!1,this.commentInputForm=new R.cw({text:new R.NI(""),files:new R.NI([])}),this.commentEditorMode="simple",this.taskEventsVisible=!0,this.journalVisible=!1,this.installedTags=new R.NI([]),this.actualFromDurationCounter=new it.pd,this.actualFromTime$=this.actualFromDurationCounter.observer.pipe((0,F.U)(fe=>fe.actualLabel)),this.isBeforeActualFrom$=this.actualFromDurationCounter.observer.pipe((0,F.U)(fe=>"before"==fe.mode)),this.actualToDurationCounter=new it.pd,this.actualToTime$=this.actualToDurationCounter.observer.pipe((0,F.U)(fe=>"after"===fe.mode?"-"+fe.actualLabel:fe.actualLabel)),this._taskId=0}get taskId(){return this._taskId}set taskId(t){this._taskId=t,this.api.getTask(this._taskId).subscribe({next:i=>{var r;this.currentTask=i,this.loadingState=i.deleted?ft.Gu.ERROR:ft.Gu.READY,this.installedTags.setValue(null!==(r=i.tags)&&void 0!==r?r:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.subscriptions.addSubscription("edTaskTg",this.installedTags.valueChanges.subscribe(c=>{!c||this.api.setTaskTags(i.taskId,c).subscribe()})),this.api.getActiveWorkLogByTaskId(i.taskId).subscribe(c=>{this.activeWorkLog=c}),this.orderFields(),this.stageMenuItems=this.getStageMenuItems(),this.subscriptions.addSubscription("taskUpd",this.rt.taskUpdated(t).subscribe(c=>{var h;this.currentTask=c,this.installedTags.setValue(null!==(h=c.tags)&&void 0!==h?h:[],{emitEvent:!1}),this.isTaskClose()?this.installedTags.disable({emitEvent:!1}):this.installedTags.enable({emitEvent:!1}),this.stageMenuItems=this.getStageMenuItems(),this.orderFields(),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()})),this.managementMenu=this.taskManagementMenu(),this.updateTaskActualTimers()},error:()=>{this.loadingState=ft.Gu.ERROR}})}get taskFields(){var t,i;return this.isShowEditTaskDialog&&null!==(i=null===(t=this.currentTask)||void 0===t?void 0:t.fields)&&void 0!==i?i:[]}get excludedTasks(){if(!this.currentTask)return[];const t=[];return this.currentTask.children&&this.currentTask.children.forEach(i=>t.push(i.taskId)),this.currentTask.parent&&t.push(this.currentTask.parent),t.push(this._taskId),t}trackSnapshotPair(t,i){return i.before.modelItemId}snapshotFieldPairs(t){if(!t)return[];const i=[];return t.beforeEditing.forEach(r=>{const c=t.afterEditing.find(h=>h.id===r.id);c&&i.push({before:r,after:c})}),i}areFieldsEqual(t,i){return JSON.stringify(t)===JSON.stringify(i)}ngOnInit(){this.route.params.subscribe(t=>{this.taskId=parseInt(t.id),this.api.getCountAllTaskAttachments(this._taskId).subscribe(i=>this.countAllAttachments=i),this.updateObservableList()}),this.subscriptions.addSubscription("wlCrd",this.rt.workLogCreated().subscribe(this.workLogCreated.bind(this))),this.subscriptions.addSubscription("wlCls",this.rt.workLogClosed().subscribe(this.workLogClosed.bind(this)))}updateObservableList(){this.api.getDepartments().subscribe(t=>{var i,r,c;this.departmentList=t,this.selectedDepartmentObservers=[];for(const h of t)h.departmentId&&null!==(c=null===(r=null===(i=this.currentTask)||void 0===i?void 0:i.departmentsObservers)||void 0===r?void 0:r.some(y=>y.departmentId===h.departmentId))&&void 0!==c&&c&&this.selectedDepartmentObservers.push(h.departmentId)}),this.api.getEmployees(void 0,!1,!1).subscribe(t=>{var i,r,c;this.employeeList=t,this.selectedEmployeeObservers=[];for(const h of t)h.login&&null!==(c=null===(r=null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers)||void 0===r?void 0:r.some(y=>y.login===h.login))&&void 0!==c&&c&&this.selectedEmployeeObservers.push(h.login)})}sendComment(){var t,i,r;const c=this.commentInputForm.getRawValue();if(0!==(null===(t=c.text)||void 0===t?void 0:t.trim().length)||0!==(null===(i=c.files)||void 0===i?void 0:i.length)){if(this.commentInputForm.disable({emitEvent:!1}),this.editComment){if(null===c.text||0===c.text.trim().length||c.text===this.editComment.message)return;return this.editComment.message=c.text,void this.api.updateComment(this.editComment).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.editComment=void 0},error:()=>this.commentInputForm.enable({emitEvent:!1})})}this.api.createComment(c.text,this._taskId,c.files,null===(r=this.replyComment)||void 0===r?void 0:r.commentId).subscribe({complete:()=>{this.commentInputForm.enable({emitEvent:!1}),this.commentInputForm.reset({text:"",files:[]}),this.replyComment=void 0},error:()=>this.commentInputForm.enable({emitEvent:!1})})}}sendCommentByEnter(t){"Enter"===t.key&&t.ctrlKey&&this.sendComment()}deleteTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>this.api.deleteTask(this._taskId).subscribe()})}getStageMenuItems(){var t,i;return null!==(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)&&void 0!==i&&i.stages?this.currentTask.modelWireframe.stages.sort((r,c)=>r.orderIndex-c.orderIndex).map(r=>{var c,h,y,O;return r.stageId==(null===(h=null===(c=this.currentTask)||void 0===c?void 0:c.currentStage)||void 0===h?void 0:h.stageId)?{label:null!==(y=`${r.label} (\u0442\u0435\u043a\u0443\u0449\u0430\u044f)`)&&void 0!==y?y:"",disabled:!0,icon:"pi pi-fw pi-check"}:{label:null!==(O=r.label)&&void 0!==O?O:"",command:()=>this.api.changeTaskStage(this.taskId,r.stageId).subscribe(),icon:"pi pi-fw pi-chevron-circle-right"}}):[]}moveToNextStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const r=this.currentTask.modelWireframe.stages.sort((h,y)=>h.orderIndex-y.orderIndex),c=r.findIndex(h=>{var y,O;return h.stageId===(null===(O=null===(y=this.currentTask)||void 0===y?void 0:y.currentStage)||void 0===O?void 0:O.stageId)});c<r.length-1&&this.api.changeTaskStage(this.taskId,r[c+1].stageId).subscribe()}isLastStage(){var t,i;if(null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||!i.stages)return;const r=this.currentTask.modelWireframe.stages.sort((h,y)=>h.orderIndex-y.orderIndex);return r.findIndex(h=>{var y,O;return h.stageId===(null===(O=null===(y=this.currentTask)||void 0===y?void 0:y.currentStage)||void 0===O?void 0:O.stageId)})===r.length-1}editCommentChanged(t){this.commentInputForm.patchValue({text:t.message})}ngOnDestroy(){this.subscriptions.unsubscribeAll()}appointInstallers(){this.api.getInstallersEmployees().subscribe(t=>{this.sourceInstallers=t,this.targetInstallers=[],this.showAppointInstallersMenu=!0})}sendListAppointedInstallers(){this.appointmentRequested=!0,this.api.assignInstallersToTask(this._taskId,{installers:this.targetInstallers,description:this.targetDescription}).subscribe({next:()=>{this.appointmentRequested=!1,this.showAppointInstallersMenu=!1},error:()=>this.appointmentRequested=!1})}clearAppointInstallers(){this.targetDescription="",this.targetInstallers=[]}resetListAppointedInstallers(){this.sourceInstallers=[...this.sourceInstallers,...this.targetInstallers],this.targetInstallers=[]}forceCloseWorkLog(){this.api.forceCloseWorkLog(this._taskId,this.forceCloseWorkLogReason).subscribe({next:()=>{this.forceCloseWorkLogDialogVisible=!1,this.forceCloseWorkLogReason="",this.isForceClosingWorkLog=!1},error:()=>this.isForceClosingWorkLog=!1})}sendObservableList(){this.changingTaskObservers=!0,this.api.changeTaskObservers(this._taskId,this.selectedDepartmentObservers,this.selectedEmployeeObservers).subscribe({next:()=>{this.showChangeObserversDialog=!1,this.changingTaskObservers=!1},error:()=>{this.changingTaskObservers=!1}})}createLinkedTask(t){window.open(`/task/create?${t}=${this._taskId}`,"_blank",`popup=yes,width=800,height=800,left=${screen.width/2-400},top=${screen.height/2-400}`)}unlinkParentTask(t){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.unlinkParentTask(t||this._taskId).subscribe()}})}openTaskChainDialog(){var t,i;this.taskChain=[],null!==(t=this.currentTask)&&void 0!==t&&t.taskId&&this.api.getRootTask(null===(i=this.currentTask)||void 0===i?void 0:i.taskId).subscribe(r=>{this.taskChain=[{data:r,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(r)}],this.showTaskChainDialog=!0})}changeTaskListPageToLink(t){var i,r,c,h;this.loadingExistingTasksToLink=!0;const y=[this._taskId,...null!==(c=null===(r=null===(i=this.currentTask)||void 0===i?void 0:i.children)||void 0===r?void 0:r.map(O=>O.taskId))&&void 0!==c?c:[]];!(null===(h=this.currentTask)||void 0===h)&&h.parent&&y.push(this.currentTask.parent),this.api.getPageOfTasks(t.page,{status:[ft.hY.ACTIVE,ft.hY.PROCESSING,ft.hY.CLOSE],searchPhrase:this.globalTaskSearchString,author:this.taskAuthorEmployeeFilter,dateOfCreation:this.taskCreationDateFilterForLinking,exclusionIds:y}).subscribe({next:O=>{this.applyPageOfTasks(O),this.loadingExistingTasksToLink=!1},error:()=>{this.loadingExistingTasksToLink=!1}})}applyPageOfTasks(t){this.listOfExistingTasksToLink=t.content,this.totalExistingTasksToLink=t.totalElements}filteringTasksToLink(){setTimeout(()=>{this.changeTaskListPageToLink({page:0})})}openChangeResponsibleDialog(){var t;this.showChangeResponsibleDialog=!0,this.selectedEmployeeAsResponsible=null===(t=this.currentTask)||void 0===t?void 0:t.responsible}changeResponsible(){!this.selectedEmployeeAsResponsible||(this.selectingResponsible=!0,this.api.changeTaskResponsible(this._taskId,this.selectedEmployeeAsResponsible).subscribe({next:()=>{this.showChangeResponsibleDialog=!1,this.selectingResponsible=!1},error:()=>{this.selectingResponsible=!1}}))}confirmUnbindResponsible(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0431\u0440\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e?",accept:()=>{this.api.unbindResponsible(this._taskId).subscribe()}})}openChangeObserversDialog(){this.showChangeObserversDialog=!0,this.updateObservableList()}openChangeDateDialog(t){this.isShowSchedulingDialog=!0,this.setDateTimeToTaskType=t;const i=new Date,r=i.getMinutes();r>45?i.setHours(i.getHours()+1,0,0,0):r>30?i.setMinutes(45,0,0):r>15?i.setMinutes(30,0,0):r>0&&i.setMinutes(15,0,0),this.selectedTaskDateTime=i}setDateTimeOfTaskRelevance(){this.changingTaskDateTime=!0,"from"===this.setDateTimeToTaskType?this.api.changeTaskActualFrom(this._taskId,this.selectedTaskDateTime).subscribe({next:()=>{this.changingTaskDateTime=!1,this.isShowSchedulingDialog=!1},error:()=>{this.changingTaskDateTime=!1}}):"to"===this.setDateTimeToTaskType&&this.api.changeTaskActualTo(this._taskId,this.selectedTaskDateTime).subscribe({next:()=>{this.changingTaskDateTime=!1,this.isShowSchedulingDialog=!1},error:()=>{this.changingTaskDateTime=!1}})}removeActualFromDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430?",accept:()=>{this.api.clearActualFromDate(this._taskId).subscribe()}})}removeActualToDate(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0438?",accept:()=>{this.api.clearActualToDate(this._taskId).subscribe()}})}closeTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.closeTask(this._taskId).subscribe()}})}isTaskActive(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===ft.hY.ACTIVE}isTaskProcessing(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===ft.hY.PROCESSING}isTaskClose(){var t,i;return!(null===(t=this.currentTask)||void 0===t||!t.taskStatus)&&(null===(i=this.currentTask)||void 0===i?void 0:i.taskStatus)===ft.hY.CLOSE}reopenTask(){this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u043d\u043e\u0432\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443?",accept:()=>{this.api.reopenTask(this._taskId).subscribe()}})}showEditTaskDialog(){var t,i;this.editTaskForm=new R.cw(null!==(t=this.currentTask)&&void 0!==t&&t.fields?null===(i=this.currentTask)||void 0===i?void 0:i.fields.reduce((r,c)=>Object.assign(Object.assign({},r),{[c.modelItemId]:new R.NI(it.cQ.getValueFromModelItem(c),oi.taskInput(c.wireframeFieldType))}),{}):{}),this.isShowEditTaskDialog=!0}doEditTask(){var t,i,r;null===(t=this.currentTask)||void 0===t||!t.modelWireframe||(this.editBlocked=!0,this.api.editTask(this._taskId,it.PU.editExisting(this.editTaskForm.getRawValue(),null!==(r=null===(i=this.currentTask)||void 0===i?void 0:i.fields)&&void 0!==r?r:[])).subscribe({next:()=>{this.editBlocked=!1,this.isShowEditTaskDialog=!1},error:()=>{this.editBlocked=!1}}))}showEditHistoryDialog(){this.api.getEditTaskSnapshots(this._taskId).subscribe(t=>{this.editTaskSnapshots=t,this.indexEditSnapshot=0,this.isShowEditHistoryDialog=!0})}changeCurrentSnapshot(t){this.indexEditSnapshot+=t,this.indexEditSnapshot>this.editTaskSnapshots.length-1?this.indexEditSnapshot=0:this.indexEditSnapshot<0&&(this.indexEditSnapshot=this.editTaskSnapshots.length-1)}isTaskHasParent(){var t;return"number"==typeof(null===(t=this.currentTask)||void 0===t?void 0:t.parent)}isTaskHasChilds(){var t,i;return(null===(t=this.currentTask)||void 0===t?void 0:t.children)&&(null===(i=this.currentTask)||void 0===i?void 0:i.children.length)>0}isTaskHasObservers(){var t,i,r,c;return(null===(t=this.currentTask)||void 0===t?void 0:t.employeesObservers)&&(null===(i=this.currentTask)||void 0===i?void 0:i.employeesObservers.length)>0||(null===(r=this.currentTask)||void 0===r?void 0:r.departmentsObservers)&&(null===(c=this.currentTask)||void 0===c?void 0:c.departmentsObservers.length)>0}insertEmployeeToCommentEditor(t){setTimeout(()=>{var i,r;const c=null===(i=this.commentEditor)||void 0===i?void 0:i.quillEditor;if(!c)return;const h=c.getSelection(!0),y=null!==(r=t.login+" ")&&void 0!==r?r:"";c.insertText(h.index,y,"user"),c.setSelection(h.index+y.length,0)},100)}forceFocusCommentInput(){var t;null===(t=this.commentEditor)||void 0===t||t.quillEditor.focus()}linkToParentTask(t){!t||this.api.changeLinkToParentTask(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}linkToChildTasks(t){!t||0===t.length||this.api.appendLinksToChildrenTasks(this._taskId,t).subscribe({next:()=>{},error:()=>{}})}clearCommentText(){let t=this.commentInputForm.value.text;t&&(t=t.replace(/<\/?[^>]+(>|$)/g,"")),this.commentInputForm.patchValue({text:t})}workLogCreated(t){console.log(t.task.taskId,this._taskId),t.task.taskId===this._taskId&&(this.activeWorkLog=t)}workLogClosed(t){console.log(t.task.taskId,this._taskId),t.task.taskId===this._taskId&&(this.activeWorkLog=void 0)}openWorkLogsDialog(){!this.workLogsDialogEl||this.workLogsDialogEl.open(this._taskId)}taskManagementMenu(){return[{icon:"mdi-task",label:"\u0417\u0430\u0434\u0430\u0447\u0430",items:[{label:"\u0414\u0430\u043d\u043d\u044b\u0435",icon:"mdi-format_list_bulleted",items:[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon:"mdi-edit",command:this.showEditTaskDialog.bind(this)},{label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",icon:"mdi-history",command:this.showEditHistoryDialog.bind(this)}],disabled:this.isTaskClose()},{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",icon:"mdi-person",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:this.openChangeResponsibleDialog.bind(this)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c",icon:"mdi-close",command:this.confirmUnbindResponsible.bind(this)}],disabled:this.isTaskClose()},{label:"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438",icon:"mdi-groups",items:[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:this.openChangeObserversDialog.bind(this)}],disabled:this.isTaskClose()},{label:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",icon:"mdi-link",items:[{label:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f",icon:"mdi-call_merge",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("child",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var t;null===(t=this.taskLinkingDialog)||void 0===t||t.open("single")}}]},{label:"\u0414\u043e\u0447\u0435\u0440\u043d\u0438\u0435",icon:"mdi-call_split",items:[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",command:()=>this.taskCreator.dependency("parent",this._taskId)},{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",icon:"mdi-edit",command:()=>{var t;null===(t=this.taskLinkingDialog)||void 0===t||t.open("multiply")}}]}]},{label:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",icon:"mdi-schedule",items:[{label:"\u041d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-pending_actions",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>this.openChangeDateDialog("from")},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("from")}]},{label:"\u041a\u043e\u043d\u0435\u0446",icon:"mdi-today",items:[{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",command:()=>this.openChangeDateDialog("to")},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:()=>this.confirmUnbindDate("to")}]}],disabled:this.isTaskClose()},{label:"\u041f\u0435\u0440\u0435\u043e\u0442\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_up_alt",command:this.reopenTask.bind(this),visible:this.isTaskClose()},{label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",icon:"mdi-swipe_down_alt",command:this.closeTask.bind(this),visible:this.isTaskActive()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:this.deleteTask.bind(this),disabled:!this.isTaskActive()}]},{icon:"mdi-engineering",label:"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438",items:[{label:"\u041e\u0442\u0434\u0430\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-how_to_reg",command:this.appointInstallers.bind(this),visible:this.isTaskActive()},{label:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0431\u0440\u0430\u0442\u044c",icon:"mdi-assignment_return",command:()=>this.forceCloseWorkLogDialogVisible=!0,visible:this.isTaskProcessing()},{label:"\u041e\u0442\u0447\u0435\u0442\u044b",icon:"mdi-history_edu",command:this.openWorkLogsDialog.bind(this)}]},{icon:"mdi-inventory_2",label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b",command:()=>this.showFilesHistory=!0},{icon:"mdi-forum",label:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0447\u0430\u0442",visible:this.isTaskProcessing(),command:()=>this.api.getActiveTaskChat(this._taskId).subscribe(t=>this.chatService.open.emit(t.chatId))}]}updateTaskActualTimers(){var t,i;this.actualFromDurationCounter.setTime(null===(t=this.currentTask)||void 0===t?void 0:t.actualFrom),this.actualToDurationCounter.setTime(null===(i=this.currentTask)||void 0===i?void 0:i.actualTo)}orderFields(){var t,i,r,c;const h=[];null===(i=null===(t=this.currentTask)||void 0===t?void 0:t.modelWireframe)||void 0===i||i.steps.forEach(y=>y.fields.forEach(O=>h.push(O))),null===(c=null===(r=this.currentTask)||void 0===r?void 0:r.fields)||void 0===c||c.sort((y,O)=>{var ce,fe,ct,pt;return(null!==(fe=null===(ce=h.find(Wt=>Wt.id===y.id))||void 0===ce?void 0:ce.orderPosition)&&void 0!==fe?fe:0)-(null!==(pt=null===(ct=h.find(Wt=>Wt.id===O.id))||void 0===ct?void 0:ct.orderPosition)&&void 0!==pt?pt:0)})}recursivelyCreatingChainOfTasks(t){var i,r;return t&&null!==(r=null===(i=t.children)||void 0===i?void 0:i.map(c=>({data:c,expanded:!0,type:"task",children:this.recursivelyCreatingChainOfTasks(c)})))&&void 0!==r?r:[]}confirmUnbindDate(t){this.confirmation.confirm("from"===t?{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0434\u0430\u0442\u0443?",accept:()=>this.api.clearActualFromDate(this.taskId).subscribe()}:{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f?",accept:()=>this.api.clearActualToDate(this.taskId).subscribe()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(s.gz),e.Y36(si.a),e.Y36(Le.YP),e.Y36(Le.ez),e.Y36(yi),e.Y36(Dn.U),e.Y36(Do.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(_m,5),e.Gf(Rp,5),e.Gf(vb,5),e.Gf(Pa,5),e.Gf(Cm,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.filesInput=r.first),e.iGM(r=e.CRH())&&(i.taskActualDateSetPanel=r.first),e.iGM(r=e.CRH())&&(i.commentEditor=r.first),e.iGM(r=e.CRH())&&(i.taskLinkingDialog=r.first),e.iGM(r=e.CRH())&&(i.workLogsDialogEl=r.first)}},decls:83,vars:117,consts:[["appExtendPageHeight","",1,"flexed","column","vcenter","gap20"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"show","taskId","showChange"],["header","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432",3,"visible","breakpoints","draggable","modal","resizable","onHide","visibleChange"],[1,"flexed","column","gap10"],["sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435","targetHeader","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435",3,"dragdrop","showSourceControls","showTargetControls","sourceStyle","source","targetStyle","target"],["pTemplate","item"],[1,"flexed","column"],[1,"caption","size-small","f-color-500"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","gap5","vend"],["icon","delete","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"disabled","onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],["header","\u041e\u0442\u0434\u0435\u043b\u044b"],[1,"list-view"],["class","list-view-item bordered flexed hcenter gap10",4,"ngFor","ngForOf"],["header","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"],[1,"flexed","gap10","hcenter","vend"],["icon","cancel","label","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","model","p-button-text p-button-secondary",3,"onClick"],["icon","assignment","label","\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c","model","p-button-success",3,"loading","onClick"],["header","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","full-height"],[1,"list-view","stretched","p5","gap5"],["class","list-view-item hovered bordered flexed hcenter gap10",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flexed","vend","hcenter","gap10"],["icon","check","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438",3,"excludedTasks","onMultiplySelected","onSelected"],["taskLinkingDialog",""],["header","\u0426\u0435\u043f\u043e\u0447\u043a\u0430 \u0437\u0430\u0434\u0430\u0447",3,"visible","breakpoints","draggable","maximizable","modal","resizable","visibleChange"],["appDragScrolling",""],[3,"value"],["pTemplate","task"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0437\u0430\u0434\u0430\u0447\u0435",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","gap7","column",3,"formGroup"],["class","stretched",3,"field","formControlName",4,"ngFor","ngForOf"],[1,"stretched"],[1,"flexed","vend","hcenter","sticky","bottom0"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","model","p-button-raised",3,"disabled","loading","onClick"],["header","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","hcenter","vcenter","gap20","p5"],["icon","chevron_left","label","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439","model","p-button-text",3,"onClick"],["class","flexed column hcenter vcenter gap5",4,"ngIf"],["icon","chevron_right","iconPos","right","label","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439","model","p-button-text",3,"onClick"],[1,"change-comparison-table"],[1,"one-line"],[4,"ngFor","ngForOf","ngForTrackBy"],["header","\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",3,"visible","draggable","modal","resizable","visibleChange"],["pTemplate","content"],["header","\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0436\u0443\u0440\u043d\u0430\u043b \u0440\u0430\u0431\u043e\u0442?",3,"visible","draggable","modal","resizable","visibleChange"],["workLogsDialogEl",""],["appendTo","body",3,"model","popup"],["stageMenu",""],["key","popup"],[3,"onReturnFocus","onSelect"],["empInsertPanel",""],["actualFromLabel",""],["actualToLabel",""],["strokeWidth","1",1,"primary-spinner","center-of-page"],[1,"panel","flexed","column","hcenter","vcenter","gap15","p20","caption","size-big","wt-bold","f-color-danger","responsive-wrapper"],[1,"flexed","column","hcenter"],[1,"mds-error"],["label","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430\u0437\u0430\u0434","icon","mdi-chevron_left","styleClass","p-button-outlined",3,"onClick"],[1,"responsive-wrapper","stretched","flexed","gap10","column"],["styleClass","panel",3,"model"],["pTemplate","start"],["pTemplate","end"],[1,"grided","gap10","spbtw"],[1,"flexed","gap7","column","panel","p15","stretched","h-min"],[1,"input-label-wrapper","w","max-fit"],[3,"formControl"],["class","flexed gap1 column",4,"ngFor","ngForOf"],[1,"task-control-panel","panel","p15","h-min"],[1,"task-control-panel-item"],[1,"mdi-flag"],[1,"task-control-panel-item-name"],[1,"mdi-person"],[1,"task-control-panel-item-value"],[3,"employee"],[1,"mdi-event"],["class","task-control-panel-item",4,"ngIf"],["class","dedicated-panel",4,"ngIf"],[1,"panel","flexed","column","gap20","p20",3,"hidden"],[1,"header500","flexed","hcenter","gap10"],["onLabel","C\u043e\u0431\u044b\u0442\u0438\u044f","offLabel","C\u043e\u0431\u044b\u0442\u0438\u044f","onIcon","mdi-visibility","offIcon","mdi-visibility_off",3,"ngModel","ngModelChange"],[1,"indent1",3,"editComment","replyComment","taskId","showEvents","editCommentChange","onFirstLoad","replyCommentChange"],["class","sticky bottom1 flexed vcenter column gap10",3,"formGroup",4,"ngIf"],[1,"flexed","gap10","p5","indent1","hcenter"],["icon","mdi-chevron_left","pTooltip","\u041d\u0430\u0437\u0430\u0434","styleClass","p-button-icon p-button-text","tooltipPosition","bottom",3,"onClick"],[1,"header400"],[1,"flexed","bline","gap5","caption","size-small","f-color-500"],["pTooltip","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","tooltipPosition","bottom",3,"disabled","label","size","onClick"],["class","next-stage-button",3,"click",4,"ngIf"],[1,"next-stage-button",3,"click"],[1,"mdi-chevron_right"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"flexed","gap1","column"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption"],[1,"dedicated-panel"],[1,"title"],[1,"mdi-groups"],[1,"list"],[3,"employee",4,"ngFor","ngForOf"],["class","flexed hcenter gap5",4,"ngFor","ngForOf"],[1,"flexed","hcenter","gap5"],[3,"department"],[1,"mdi-account_tree"],["icon","account_tree","pTooltip","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u0443","tooltipPosition","bottom",3,"onClick"],["class","flexed hcenter gap3",4,"ngIf"],["class","flexed gap5 caption size-small f-color-500",4,"ngIf"],[1,"flexed","hcenter","gap3"],[3,"taskId"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick",4,"ngIf"],["icon","link_off","model","danger","pTooltip","\u041e\u0442\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","tooltipPosition","bottom",3,"onClick"],[1,"flexed","gap5","caption","size-small","f-color-500"],[1,"flexed","column","gap3"],["class","flexed gap3 hcenter",4,"ngFor","ngForOf"],[1,"flexed","gap3","hcenter"],[3,"task"],[1,"sticky","bottom1","flexed","vcenter","column","gap10",3,"formGroup"],["class","flexed hcenter gap15 panel responsive-wrapper caption size-small wt-bold f-color-primary",3,"padding",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[1,"flexed","hcenter","gap15","panel","responsive-wrapper","caption","size-small","wt-bold","f-color-primary"],[1,"mdi-reply"],[3,"employee","size"],[1,"caption","indent2"],["icon","mdi-cancel","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],[1,"mdi-edit"],[1,"flexed","hcenter","gap5","panel","responsive-wrapper"],["icon","mdi-text_fields","pTooltip","\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["appTextareaAutoresize","","formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"borderless-text-field","stretched",3,"disabled","keydown"],["formControlName","files",3,"short",4,"ngIf"],["icon","mdi-send","styleClass","p-button-icon p-button-text p-button-rounded",3,"disabled","onClick"],["formControlName","files",3,"short"],[1,"flexed","column","gap5","panel","responsive-wrapper"],["icon","mdi-short_text","label","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","pTooltip","\u0421\u0442\u0440\u043e\u043a\u0430 \u0432\u0432\u043e\u0434\u0430","styleClass","p-button-icon p-button-text",3,"disabled","onClick"],["formControlName","files",4,"ngIf"],["icon","mdi-send","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass"," p-button-text",3,"disabled","onClick"],["formControlName","text","placeholder","\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",1,"input",3,"modules","disabled","styles","keydown","onContentChanged"],["commentEditor",""],["formControlName","files"],[1,"list-view-item","bordered","flexed","hcenter","gap10"],["name","dep",3,"ngModel","value","ngModelChange"],["appColorize","",1,"caption"],["name","emp",3,"ngModel","value","ngModelChange"],[1,"list-view-item","hovered","bordered","flexed","hcenter","gap10",3,"ngClass","click"],[3,"name","size","src"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],[3,"item"],[1,"stretched",3,"field","formControlName"],[1,"flexed","column","hcenter","vcenter","gap5"],[1,"caption","size-small"],[1,"flexed","hcenter","gap6"],[1,"caption","size-big","one-line"],["class","material-icons-round caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"material-icons-round","caption","size-small","wt-bold","f-color-primary"],[3,"ngModel","inline","selectOtherMonths","showTime","ngModelChange"],["label","\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",3,"loading","onClick"],[1,"input-label-wrapper"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u0417\u0430\u043a\u0440\u044b\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"],["tooltipPosition","bottom",1,"flexed","gap3","caption","hcenter","p10",3,"pTooltip"],[1,"mdi-today","parent-inherit"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,bb,2,0,"ng-container",2),e.YNc(3,yb,7,1,"ng-container",2),e.YNc(4,Em,45,33,"ng-container",2),e.BQk(),e.qZA(),e.TgZ(5,"app-attachments-history-dialog",3),e.NdJ("showChange",function(c){return i.showFilesHistory=c}),e.qZA(),e.TgZ(6,"p-dialog",4),e.NdJ("onHide",function(){return i.clearAppointInstallers()})("visibleChange",function(c){return i.showAppointInstallersMenu=c}),e.TgZ(7,"div",5)(8,"p-pickList",6),e.YNc(9,Mb,2,2,"ng-template",7),e.qZA(),e.TgZ(10,"div",8)(11,"div",9),e._uU(12,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0446\u0435\u043b\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"),e.qZA(),e.TgZ(13,"textarea",10),e.NdJ("ngModelChange",function(c){return i.targetDescription=c}),e.qZA()(),e.TgZ(14,"div",11)(15,"app-button",12),e.NdJ("onClick",function(){return i.resetListAppointedInstallers()}),e.qZA(),e.TgZ(16,"app-button",13),e.NdJ("onClick",function(){return i.sendListAppointedInstallers()}),e.qZA()()()(),e.TgZ(17,"p-dialog",14),e.NdJ("visibleChange",function(c){return i.showChangeObserversDialog=c}),e.TgZ(18,"p-tabView")(19,"p-tabPanel",15)(20,"div",16),e.YNc(21,Db,4,3,"div",17),e.qZA()(),e.TgZ(22,"p-tabPanel",18)(23,"div",16),e.YNc(24,Ob,3,4,"div",17),e.qZA()()(),e.TgZ(25,"div",19)(26,"app-button",20),e.NdJ("onClick",function(){return i.updateObservableList()}),e.qZA(),e.TgZ(27,"app-button",21),e.NdJ("onClick",function(){return i.sendObservableList()}),e.qZA()()(),e.TgZ(28,"p-dialog",22),e.NdJ("visibleChange",function(c){return i.showChangeResponsibleDialog=c}),e.TgZ(29,"div",23)(30,"div",24),e.YNc(31,km,8,9,"div",25),e.qZA(),e.TgZ(32,"div",26)(33,"app-button",27),e.NdJ("onClick",function(){return i.changeResponsible()}),e.qZA()()()(),e.TgZ(34,"app-task-selecting-dialog",28,29),e.NdJ("onMultiplySelected",function(c){return i.linkToChildTasks(c)})("onSelected",function(c){return i.linkToParentTask(c)}),e.qZA(),e.TgZ(36,"p-dialog",30),e.NdJ("visibleChange",function(c){return i.showTaskChainDialog=c}),e.TgZ(37,"div",31)(38,"p-organizationChart",32),e.YNc(39,Lb,1,4,"ng-template",33),e.qZA()()(),e.TgZ(40,"p-dialog",34),e.NdJ("visibleChange",function(c){return i.isShowEditTaskDialog=c}),e.TgZ(41,"div",5)(42,"div",35),e.YNc(43,Mm,1,2,"app-task-template-input",36),e.qZA(),e._UZ(44,"div",37),e.TgZ(45,"div",38)(46,"app-button",39),e.NdJ("onClick",function(){return i.doEditTask()}),e.qZA()()()(),e.TgZ(47,"p-dialog",40),e.NdJ("visibleChange",function(c){return i.isShowEditHistoryDialog=c}),e.TgZ(48,"div",5)(49,"div",41)(50,"app-button",42),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(-1)}),e.qZA(),e.YNc(51,Dm,11,7,"div",43),e.TgZ(52,"app-button",44),e.NdJ("onClick",function(){return i.changeCurrentSnapshot(1)}),e.qZA()(),e.TgZ(53,"table",45)(54,"thead")(55,"tr")(56,"th")(57,"span",46),e._uU(58," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "),e.qZA()(),e.TgZ(59,"th")(60,"span",46),e._uU(61," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e "),e.qZA()(),e._UZ(62,"th"),e.TgZ(63,"th")(64,"span",46),e._uU(65," \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 "),e.qZA()()()(),e.TgZ(66,"tbody"),e.YNc(67,Qr,10,4,"tr",47),e.qZA()()()(),e.TgZ(68,"p-dialog",48),e.NdJ("visibleChange",function(c){return i.isShowSchedulingDialog=c}),e.YNc(69,Vp,3,5,"ng-template",49),e.qZA(),e.TgZ(70,"p-dialog",50),e.NdJ("visibleChange",function(c){return i.forceCloseWorkLogDialogVisible=c}),e.YNc(71,Fb,8,6,"ng-template",49),e.qZA(),e._UZ(72,"app-work-logs-dialog",null,51)(74,"p-menu",52,53)(76,"p-confirmPopup",54),e.TgZ(77,"app-employee-insert-panel",55,56),e.NdJ("onReturnFocus",function(){return i.forceFocusCommentInput()})("onSelect",function(c){return i.insertEmployeeToCommentEditor(c)}),e.qZA(),e.YNc(79,Bb,8,9,"ng-template",null,57,e.W1O),e.YNc(81,_T,8,9,"ng-template",null,58,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("show",i.showFilesHistory)("taskId",i.taskId),e.xp6(1),e.Akn(e.DdM(99,Up)),e.Q6J("visible",i.showAppointInstallersMenu)("breakpoints",e.DdM(100,Wu))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("sourceStyle",e.DdM(101,Om))("source",i.sourceInstallers)("targetStyle",e.DdM(102,Om))("target",i.targetInstallers),e.xp6(2),e.Akn(e.DdM(103,Hb)),e.xp6(3),e.Q6J("ngModel",i.targetDescription)("autoResize",!0)("rows",3),e.xp6(2),e.Q6J("disabled",0===i.targetInstallers.length||i.appointmentRequested),e.xp6(1),e.Q6J("disabled",0===i.targetInstallers.length)("loading",i.appointmentRequested),e.xp6(1),e.Akn(e.DdM(104,Up)),e.Q6J("visible",i.showChangeObserversDialog)("breakpoints",e.DdM(105,Wu))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.departmentList),e.xp6(2),e.Udp("max-height","50vh"),e.xp6(1),e.Q6J("ngForOf",i.employeeList),e.xp6(3),e.Q6J("loading",i.changingTaskObservers),e.xp6(1),e.Akn(e.DdM(106,zp)),e.Q6J("visible",i.showChangeResponsibleDialog)("breakpoints",e.DdM(107,Zb))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngForOf",i.employeeList),e.xp6(2),e.Q6J("disabled",!i.selectedEmployeeAsResponsible)("loading",i.selectingResponsible),e.xp6(1),e.Q6J("excludedTasks",i.excludedTasks),e.xp6(2),e.Akn(e.DdM(108,Vb)),e.Q6J("visible",i.showTaskChainDialog)("breakpoints",e.DdM(109,Wu))("draggable",!1)("maximizable",!0)("modal",!0)("resizable",!1),e.xp6(1),e.Akn(e.DdM(110,Yu)),e.xp6(1),e.Q6J("value",i.taskChain),e.xp6(2),e.Akn(e.DdM(111,Gp)),e.Q6J("visible",i.isShowEditTaskDialog)("breakpoints",e.DdM(112,Wu))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("formGroup",i.editTaskForm),e.xp6(1),e.Q6J("ngForOf",i.taskFields),e.xp6(3),e.Q6J("disabled",!i.editTaskForm.valid)("loading",i.editBlocked),e.xp6(1),e.Akn(e.DdM(113,Ku)),e.Q6J("visible",i.isShowEditHistoryDialog)("breakpoints",e.DdM(114,CT))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(4),e.Q6J("ngIf",null==i.editTaskSnapshots?null:i.editTaskSnapshots.length),e.xp6(16),e.Q6J("ngForOf",i.snapshotFieldPairs(i.editTaskSnapshots[i.indexEditSnapshot]))("ngForTrackBy",i.trackSnapshotPair),e.xp6(1),e.Akn(e.DdM(115,Qp)),e.Q6J("visible",i.isShowSchedulingDialog)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(2),e.Akn(e.DdM(116,vT)),e.Q6J("visible",i.forceCloseWorkLogDialogVisible)("draggable",!1)("modal",!0)("resizable",!1),e.xp6(4),e.Q6J("model",i.stageMenuItems)("popup",!0))},dependencies:[ss.A,fo.r,Zo.Y,os.o,on,Fe.E,jn,$e,Xo,k,yt,Tt.U,Ri.x,Fn,zn.y,Lo,No.W,uu,la,R.Fj,R.JJ,R.JL,R.On,hi.xf,hi.x4,Le.jx,I.sg,qi.V,R.oH,R.sg,R.u,p,x.XZ,I.O5,j.g,Ei.zx,I.RF,I.n9,ho.f,ln.u,Te.v2,om,I.mk,hn.G,Uu,wc.P,Cb,Ps.g6,I.Ov,I.uU,Pp.A,I.rS],styles:['.comment-panel[_ngcontent-%COMP%]{margin:.5rem 0}.status.ACTIVE[_ngcontent-%COMP%]{color:var(--mc-400)}.status.PROCESSING[_ngcontent-%COMP%]{color:var(--warm-400)}.status.CLOSE[_ngcontent-%COMP%]{color:var(--tc-400)}.stage-button[_ngcontent-%COMP%]{color:var(--mc-500);cursor:pointer;-webkit-user-select:none;user-select:none;transition:color .2s ease-out}.stage-button[_ngcontent-%COMP%]:hover{color:var(--mc-500)}.next-stage-button[_ngcontent-%COMP%]{color:var(--green-400);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;font-size:.85rem;font-weight:700;transition:color .2s ease-out}.next-stage-button[_ngcontent-%COMP%] > .material-icons-round[_ngcontent-%COMP%]{font-size:.95rem!important}.next-stage-button[_ngcontent-%COMP%]:hover{color:var(--green-600)}.text-preview[_ngcontent-%COMP%]{padding:1rem;background-color:var(--bgc-100)}.task-control-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.task-control-panel-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:max-content;gap:.2rem}.task-control-panel-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.task-control-panel-item-name[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700}.task-control-panel-item-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;margin-left:.5rem;font-size:1.1rem;color:var(--tc-700);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;gap:.2rem}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--tc-600);line-height:normal}.dedicated-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-600);line-height:normal;font-weight:700;flex:1}.dedicated-panel[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem;margin-left:2rem}.reply-comment-preview[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/min-content 1fr;grid-template-areas:"icon name cancel" "icon message cancel";column-gap:1rem;row-gap:.3rem;align-items:center;padding:1rem 1.2rem;border:1px solid var(--bgc-300);border-bottom:none}.reply-comment-preview[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{grid-area:icon;color:var(--bgc-600);font-size:2.5rem;line-height:normal}.reply-comment-preview[_ngcontent-%COMP%]   .whose-comment[_ngcontent-%COMP%]{grid-area:name;color:var(--tc-800);font-size:1.1rem;line-height:normal;font-weight:600}.reply-comment-preview[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{grid-area:message;color:var(--tc-700);font-size:1rem;line-height:normal;font-weight:400}.reply-comment-preview[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{grid-area:cancel}.comment-input-wrapper[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:1rem}.flow-button[_ngcontent-%COMP%]{position:absolute;transform:translateY(-110%);right:0}.global-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;position:sticky;top:0;padding:1rem 0;z-index:1;background-color:#ffffff80;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.linked-tasks-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;flex:1;height:60vh;overflow-y:auto}.linked-task-skeleton[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:1rem}.tasks-loading-panel[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;grid-area:1/1/-1/-1;display:flex;align-items:center;justify-content:center;background-color:#00000030;z-index:2}.change-comparison-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5rem 1rem}'],data:{animation:[Fi.U1,Fi.Ji]}}),n})();var qu=C(6888);function Rm(n,o){1&n&&e._UZ(0,"i",19)}const Lm=function(){return{width:"max-content"}},Jp=function(){return{"960px":"75vw"}};let fa=(()=>{class n{constructor(t,i){this.confirm=t,this.api=i,this.showEditTagDialog=!1,this.tagNameToEdit="",this.tagColorToEdit="",this.isTagEditing=!1}ngOnInit(){}openEditTagDialog(){var t,i,r,c;this.tagNameToEdit=null!==(i=null===(t=this.tag)||void 0===t?void 0:t.name)&&void 0!==i?i:"",this.tagColorToEdit=null!==(c=null===(r=this.tag)||void 0===r?void 0:r.color)&&void 0!==c?c:"",this.showEditTagDialog=!0}editTag(){var t,i,r,c;this.isTagEditing=!0,this.api.modifyTaskTag({taskTagId:null!==(i=null===(t=this.tag)||void 0===t?void 0:t.taskTagId)&&void 0!==i?i:0,deleted:null!==(c=null===(r=this.tag)||void 0===r?void 0:r.deleted)&&void 0!==c&&c,name:this.tagNameToEdit,color:this.tagColorToEdit}).subscribe({next:()=>{this.isTagEditing=!1,this.showEditTagDialog=!1},error:()=>{this.isTagEditing=!1}})}deleteTag(t){var i;this.confirm.confirm({key:null===(i=this.tag)||void 0===i?void 0:i.taskTagId.toString(),target:t.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0433?",icon:"pi pi-exclamation-triangle",accept:()=>{var r;null!==(r=this.tag)&&void 0!==r&&r.taskTagId&&this.api.deleteTaskTag(this.tag.taskTagId).subscribe()},reject:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Le.YP),e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task-tag-list-item"]],inputs:{tag:"tag"},decls:26,vars:26,consts:[[1,"tag-item"],[1,"color"],[1,"flexed","column"],[1,"name","flexed","hcenter","gap3"],["class","mdi-not_interested",4,"ngIf"],[1,"flexed","hcenter","gap2"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"stretched"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"disabled","onClick"],["styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","icon","mdi-delete",3,"disabled","onClick"],[3,"key"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0433",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","p3"],[1,"flexed","hcenter","gap15"],["pInputText","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430","type","text",3,"ngModel","ngModelChange"],[1,"flexed","hcenter","gap3"],["appendTo","body",3,"ngModel","ngModelChange"],["icon","check","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"mdi-not_interested"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.YNc(4,Rm,1,0,"i",4),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"span",5)(8,"span",6),e._uU(9,"\u0421\u043e\u0437\u0434\u0430\u043d:"),e.qZA(),e.TgZ(10,"span",7),e._uU(11),e.ALo(12,"date"),e.qZA()()(),e._UZ(13,"div",8),e.TgZ(14,"p-button",9),e.NdJ("onClick",function(){return i.openEditTagDialog()}),e.qZA(),e.TgZ(15,"p-button",10),e.NdJ("onClick",function(c){return i.deleteTag(c)}),e.qZA()(),e._UZ(16,"p-confirmPopup",11),e.TgZ(17,"p-dialog",12),e.NdJ("visibleChange",function(c){return i.showEditTagDialog=c}),e.TgZ(18,"div",13)(19,"div",14)(20,"input",15),e.NdJ("ngModelChange",function(c){return i.tagNameToEdit=c}),e.qZA(),e.TgZ(21,"span",16)(22,"span"),e._uU(23,"\u0424\u043e\u043d \u0442\u0435\u0433\u0430"),e.qZA(),e.TgZ(24,"p-colorPicker",17),e.NdJ("ngModelChange",function(c){return i.tagColorToEdit=c}),e.qZA()()(),e.TgZ(25,"app-button",18),e.NdJ("onClick",function(){return i.editTag()}),e.qZA()()()),2&t){let r,c,h;e.xp6(1),e.Udp("background-color",null==i.tag?null:i.tag.color),e.xp6(2),e.Udp("opacity",null!=i.tag&&i.tag.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",null==i.tag?null:i.tag.deleted),e.xp6(2),e.hij(" ",null==i.tag?null:i.tag.name," "),e.xp6(5),e.Oqu(e.xi3(12,21,null==i.tag?null:i.tag.created,"dd MMM yyyy HH:mm")),e.xp6(3),e.Q6J("disabled",null!==(r=null==i.tag?null:i.tag.deleted)&&void 0!==r&&r),e.xp6(1),e.Q6J("disabled",null!==(c=null==i.tag?null:i.tag.deleted)&&void 0!==c&&c),e.xp6(1),e.Q6J("key",(null!==(h=null==i.tag?null:i.tag.taskTagId)&&void 0!==h?h:"").toString()),e.xp6(1),e.Akn(e.DdM(24,Lm)),e.Q6J("visible",i.showEditTagDialog)("breakpoints",e.DdM(25,Jp))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngModel",i.tagNameToEdit),e.xp6(4),e.Q6J("ngModel",i.tagColorToEdit),e.xp6(1),e.Q6J("disabled",!i.tagNameToEdit&&!i.tagColorToEdit)("loading",i.isTagEditing)}},dependencies:[I.O5,Ei.zx,R.Fj,R.JJ,R.On,qi.V,Ze.o,wc.P,qu.zH,fo.r,I.uU],styles:['.task-tags-list-item[_ngcontent-%COMP%]{display:grid;grid:repeat(2,min-content)/repeat(2,max-content);grid-template-areas:"name creator" "time creator";border-radius:999px;color:var(--tc-100);white-space:nowrap;height:min-content;overflow:hidden;position:relative;box-shadow:0 0 .7px #00000003,0 .3px 2.8px #00000009,0 4px 10px #00000026}.task-tags-list-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;grid-area:name;padding:.5rem 1rem 0 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-200);grid-area:time;padding:0 1rem .5rem 1.5rem}.task-tags-list-item[_ngcontent-%COMP%]   .creator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;grid-area:creator;background-color:#fff;padding:1rem}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;border-radius:inherit;background-color:#00000060;transition:opacity .2s ease-out}.task-tags-list-item[_ngcontent-%COMP%]   .edit-menu[_ngcontent-%COMP%]:hover{opacity:1}.tag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.5rem}.tag-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-200)}.tag-item[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:999px}.tag-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;color:var(--tc-700)}']}),n})();function $u(n,o){1&n&&e.GkF(0)}function Xu(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",21),e._UZ(2,"p-progressSpinner",22),e.qZA(),e.BQk())}function xc(n,o){1&n&&e.GkF(0)}const Ub=function(n){return{$implicit:n}};function jp(n,o){if(1&n&&(e.ynx(0),e.YNc(1,xc,1,0,"ng-container",24),e.BQk()),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Ub,t))}}function Nm(n,o){if(1&n&&(e.ynx(0),e.YNc(1,jp,2,4,"ng-container",23),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.templateItems)("ngForTrackBy",t.trackByTemplate)}}function zb(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",25),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}function Gb(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432"),e.qZA()(),e.BQk())}function Ec(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",21),e._UZ(2,"p-progressSpinner",22),e.qZA(),e.BQk())}function Qb(n,o){1&n&&e._UZ(0,"app-task-tag-list-item",29),2&n&&e.Q6J("tag",o.$implicit)}function bT(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Qb,1,1,"app-task-tag-list-item",28),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.availableTags)("ngForTrackBy",t.trackByTag)}}function Jb(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",25),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}function yT(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._UZ(2,"i",26),e.TgZ(3,"span"),e._uU(4,"\u041d\u0435\u0442 \u0442\u0435\u0433\u043e\u0432"),e.qZA()(),e.BQk())}const Fm=function(){return["constructor"]};function jb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabView")(1,"p-tabPanel",13)(2,"div",14),e._UZ(3,"p-button",15)(4,"p-toggleButton",16),e.qZA(),e.ynx(5,17),e.YNc(6,Xu,3,0,"ng-container",18),e.YNc(7,Nm,2,2,"ng-container",18),e.YNc(8,zb,5,0,"ng-container",18),e.YNc(9,Gb,5,0,"ng-container",18),e.BQk(),e.qZA(),e.TgZ(10,"p-tabPanel",19)(11,"div",14)(12,"p-button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openCreateTagDialog())}),e.qZA(),e._UZ(13,"p-toggleButton",16),e.qZA(),e.ynx(14,17),e.YNc(15,Ec,3,0,"ng-container",18),e.YNc(16,bT,2,2,"ng-container",18),e.YNc(17,Jb,5,0,"ng-container",18),e.YNc(18,yT,5,0,"ng-container",18),e.BQk(),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Udp("padding-bottom","1rem"),e.xp6(1),e.Q6J("routerLink",e.DdM(17,Fm)),e.xp6(1),e.Q6J("formControl",t.deletedTemplatesSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(2),e.Udp("padding-bottom","1rem"),e.xp6(2),e.Q6J("formControl",t.deletedTagsSwitcher),e.xp6(1),e.Q6J("ngSwitch",t.tagLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function Wb(n,o){1&n&&e._UZ(0,"i",38)}function Bm(n,o){if(1&n&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}const Wp=function(n){return{editingId:n}};function Yb(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"span",32),e.YNc(3,Wb,1,0,"i",33),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"span",34),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.YNc(9,Bm,2,1,"span",35),e.qZA(),e._UZ(10,"p-button",36),e.TgZ(11,"p-button",37),e.NdJ("onClick",function(r){const h=e.CHM(t).$implicit,y=e.oxw();return e.KtG(y.confirmDeleteWireframe(r,h.wireframeId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("opacity",t.deleted?.5:1),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" \u0421\u043e\u0437\u0434\u0430\u043d\u0430: ",e.xi3(8,10,t.created,"dd MMMM yyyy HH:mm")," "),e.xp6(2),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("routerLink",e.DdM(13,Fm))("disabled",t.deleted)("queryParams",e.VKq(14,Wp,t.wireframeId)),e.xp6(1),e.Q6J("disabled",t.deleted)}}const Yp=function(){return{width:"max-content"}},Kb=function(){return{"960px":"75vw"}};let qb=(()=>{class n{constructor(t,i,r){this.api=t,this.rt=i,this.confirmation=r,this.templateItems=[],this.availableTags=[],this.showCreateTagDialog=!1,this.tagNameToCreate="",this.tagColorToCreate="",this.isTagCreating=!1,this.subscription=new it.xf,this.deletedTemplatesSwitcher=new R.NI(!1),this.deletedTagsSwitcher=new R.NI(!1),this.templateLoadingState=ft.Gu.LOADING,this.tagLoadingState=ft.Gu.LOADING,this.templateLoadingHandler={next:c=>{this.templateLoadingState=c.length>0?ft.Gu.READY:ft.Gu.EMPTY,this.templateItems=c},error:()=>{this.templateLoadingState=ft.Gu.ERROR}},this.tagLoadingHandler={next:c=>{this.tagLoadingState=c.length>0?ft.Gu.READY:ft.Gu.EMPTY,this.availableTags=c},error:()=>{this.tagLoadingState=ft.Gu.ERROR}}}ngOnInit(){this.subscription.addSubscription("crTag",this.rt.taskTagCreated().subscribe(this.tagCreated.bind(this))),this.subscription.addSubscription("updTag",this.rt.taskTagUpdated().subscribe(this.tagUpdated.bind(this))),this.subscription.addSubscription("delTag",this.rt.taskTagDeleted().subscribe(this.tagDeleted.bind(this))),this.subscription.addSubscription("crTemp",this.rt.wireframeCreated().subscribe(this.templateCreated.bind(this))),this.subscription.addSubscription("updTemp",this.rt.wireframeUpdated().subscribe(this.templateUpdated.bind(this))),this.subscription.addSubscription("delTemp",this.rt.wireframeDeleted().subscribe(this.templateDeleted.bind(this))),this.api.getWireframes(!1).subscribe(this.templateLoadingHandler),this.subscription.addSubscription("swDelTemp",this.deletedTemplatesSwitcher.valueChanges.subscribe(t=>{this.templateLoadingState=ft.Gu.LOADING,this.api.getWireframes(null!=t&&t).subscribe(this.templateLoadingHandler)})),this.api.getTaskTags().subscribe(this.tagLoadingHandler),this.subscription.addSubscription("swDelTag",this.deletedTagsSwitcher.valueChanges.subscribe(t=>{this.tagLoadingState=ft.Gu.LOADING,this.api.getTaskTags(null!=t&&t).subscribe(this.tagLoadingHandler)}))}ngOnDestroy(){this.subscription.unsubscribeAll()}tagCreated(t){this.availableTags.some(i=>i.taskTagId===t.taskTagId)||this.availableTags.unshift(t)}tagUpdated(t){const i=this.availableTags.findIndex(r=>r.taskTagId===t.taskTagId);i>=0&&(this.availableTags[i]=t)}tagDeleted(t){const i=this.availableTags.findIndex(r=>r.taskTagId===t.taskTagId);if(i>=0){if(t.deleted&&this.deletedTagsSwitcher.value)return void(this.availableTags[i].deleted=!0);this.availableTags.splice(i,1)}}templateCreated(t){this.templateItems.some(i=>i.wireframeId===t.wireframeId)||this.templateItems.unshift(t)}templateUpdated(t){const i=this.templateItems.findIndex(r=>r.wireframeId===t.wireframeId);i>=0&&(this.templateItems[i]=t)}templateDeleted(t){const i=this.templateItems.findIndex(r=>r.wireframeId===t.wireframeId);if(i>=0){if(t.deleted&&this.deletedTemplatesSwitcher.value)return void(this.templateItems[i].deleted=!0);this.templateItems.splice(i,1)}}createTag(){this.isTagCreating=!0,this.api.createTaskTag({taskTagId:0,deleted:!1,name:this.tagNameToCreate,color:this.tagColorToCreate}).subscribe({next:()=>{this.isTagCreating=!1,this.showCreateTagDialog=!1},error:()=>{this.isTagCreating=!1}})}openCreateTagDialog(){this.tagNameToCreate="",this.tagColorToCreate=this.generateRandomHslColor(),this.showCreateTagDialog=!0}confirmDeleteWireframe(t,i){t.stopPropagation(),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d?",accept:()=>this.api.deleteWireframe(i).subscribe()})}trackByTemplate(t,i){return i.wireframeId+i.name+i.description}trackByTag(t,i){return i.taskTagId+i.name+i.color}hslToHex(t,i,r){let c,h,y;if(t/=360,r/=100,0==(i/=100))c=h=y=r;else{const ce=(pt,rt,Mt)=>(Mt<0&&(Mt+=1),Mt>1&&(Mt-=1),Mt<.16666666666666666?pt+6*(rt-pt)*Mt:Mt<.5?rt:Mt<.6666666666666666?pt+(rt-pt)*(.6666666666666666-Mt)*6:pt),fe=r<.5?r*(1+i):r+i-r*i,ct=2*r-fe;c=ce(ct,fe,t+1/3),h=ce(ct,fe,t),y=ce(ct,fe,t-1/3)}const O=ce=>{const fe=Math.round(255*ce).toString(16);return 1===fe.length?"0"+fe:fe};return`#${O(c)}${O(h)}${O(y)}`}generateRandomHslColor(t=50,i=60,r=50,c=60){let h=Math.floor(360*Math.random()),y=Math.floor(Math.random()*(i-t)+t),O=Math.floor(Math.random()*(c-r)+r);return this.hslToHex(h,y,O)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Dn.U),e.Y36(Le.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:18,vars:16,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","stretched","gap10","panel","overflow"],[4,"ngTemplateOutlet"],["tabview",""],["templateItem",""],["header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0433",3,"visible","breakpoints","draggable","modal","resizable","visibleChange"],[1,"flexed","column","gap10","p3"],[1,"flexed","hcenter","gap15"],["pInputText","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430","type","text",3,"ngModel","ngModelChange"],[1,"flexed","hcenter","gap3"],["appendTo","body",3,"ngModel","ngModelChange"],["icon","check","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["header","\u0428\u0430\u0431\u043b\u043e\u043d\u044b","leftIcon","mdi-list_alt"],[1,"flexed","gap10"],["styleClass","p-button-outlined p-button-success","icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"routerLink"],["onLabel","\u0421\u043a\u0440\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","offLabel","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435",3,"formControl"],[3,"ngSwitch"],[4,"ngSwitchCase"],["header","\u0422\u0435\u0433\u0438","leftIcon","mdi-local_offer"],["styleClass","p-button-outlined p-button-success","icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"click"],[1,"flexed","hcenter","vcenter","p20"],["strokeWidth","1",1,"primary-spinner"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","hcenter","vcenter","p20","caption","size-big","wt-bold","f-color-danger"],[1,"mdi-alert"],[1,"flexed","hcenter","vcenter","p20","caption","size-big","wt-bold","f-color-500"],[3,"tag",4,"ngFor","ngForOf","ngForTrackBy"],[3,"tag"],[1,"template-item","flexed","hcenter","gap5"],[1,"flexed","column","gap5","stretched"],[1,"flexed","hcenter","caption","stretched","hcenter","gap3"],["class","mdi-not_interested",4,"ngIf"],[1,"caption","size-tiny","wt-bold","f-color-500","indent1"],["class","caption size-small wt-bold f-color-500",4,"ngIf"],["label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit","styleClass","p-button-warning p-button-text",3,"routerLink","disabled","queryParams"],["styleClass","p-button-danger p-button-text","icon","mdi-delete","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"disabled","onClick"],[1,"mdi-not_interested"],[1,"caption","size-small","wt-bold","f-color-500"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,$u,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,jb,19,18,"ng-template",null,4,e.W1O),e.YNc(7,Yb,12,16,"ng-template",null,5,e.W1O),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(c){return i.showCreateTagDialog=c}),e.TgZ(10,"div",7)(11,"div",8)(12,"input",9),e.NdJ("ngModelChange",function(c){return i.tagNameToCreate=c}),e.qZA(),e.TgZ(13,"span",10)(14,"span"),e._uU(15,"\u0424\u043e\u043d \u0442\u0435\u0433\u0430"),e.qZA(),e.TgZ(16,"p-colorPicker",11),e.NdJ("ngModelChange",function(c){return i.tagColorToCreate=c}),e.qZA()()(),e.TgZ(17,"app-button",12),e.NdJ("onClick",function(){return i.createTag()}),e.qZA()()()),2&t){const r=e.MAs(6);e.xp6(3),e.Udp("margin-bottom","1rem"),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(5),e.Akn(e.DdM(14,Yp)),e.Q6J("visible",i.showCreateTagDialog)("breakpoints",e.DdM(15,Kb))("draggable",!1)("modal",!0)("resizable",!1),e.xp6(3),e.Q6J("ngModel",i.tagNameToCreate),e.xp6(4),e.Q6J("ngModel",i.tagColorToCreate),e.xp6(1),e.Q6J("disabled",!i.tagNameToCreate&&!i.tagColorToCreate)("loading",i.isTagCreating)}},dependencies:[fo.r,Me,$e,fa,s.rH,R.Fj,R.JJ,R.On,hi.xf,hi.x4,I.sg,qi.V,R.oH,p,I.O5,Ei.zx,I.tP,I.RF,I.n9,Ze.o,hn.G,qu.zH,I.uU],styles:[".templates-scroller[_ngcontent-%COMP%]{height:100%}.template-item[_ngcontent-%COMP%]{padding:.8rem .8rem 1.1rem 1.1rem;font-size:1.2rem;color:var(--tc-700);transition:background-color .2s ease-out}.template-item-main-info-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--tc-500)}.template-item-created-date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--tc-500);display:flex;flex-direction:column;align-items:flex-end}.title[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:300;color:var(--tc-600)}.task-tags-list[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;overflow-y:auto}.append-tag-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1rem;font-weight:700;padding:1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .1s ease-out}.append-tag-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}.template-create-button[_ngcontent-%COMP%]{background-color:#fff;color:var(--tc-500);font-size:1.2rem;font-weight:700;padding:2rem 1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease-out}.template-create-button[_ngcontent-%COMP%]:hover{background-color:var(--mc-0);color:var(--mc-500)}"]}),n})();var dr=C(1588),$b=C(4304),Xb=C(1819);let ey=(()=>{class n{constructor(t){this.api=t,this.control=new R.NI([]),this.suggestions=[],this.onChange=i=>{},this.onTouched=()=>{}}ngOnInit(){this.subscription=this.control.valueChanges.subscribe(t=>{this.onChange(null!=t?t:[])})}search(t){this.api.getAvailableObserversSuggestions(t.query).subscribe(i=>{this.suggestions=i})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}setDisabledState(t){t?this.control.disable({emitEvent:!1}):this.control.enable({emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-observer-selector-input"]],features:[e._Bn([{provide:R.JU,useExisting:n,multi:!0}])],decls:1,vars:7,consts:[["emptyMessage","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","field","name","placeholder","\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0438","appendTo","body",3,"formControl","showClear","showEmptyMessage","suggestions","forceSelection","completeOnFocus","multiple","onBlur","completeMethod"]],template:function(t,i){1&t&&(e.TgZ(0,"p-autoComplete",0),e.NdJ("onBlur",function(){return i.onTouched()})("completeMethod",function(c){return i.search(c)}),e.qZA()),2&t&&e.Q6J("formControl",i.control)("showClear",!0)("showEmptyMessage",!0)("suggestions",i.suggestions)("forceSelection",!0)("completeOnFocus",!0)("multiple",!0)},dependencies:[R.JJ,R.oH,xa.Qc],styles:["[_nghost-%COMP%]{display:flex}"]}),n})();function ed(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.uIk("id",t.id+"_header"),e.xp6(1),e.Oqu(t.header)}}function el(n,o){1&n&&e.GkF(0)}function IT(n,o){}function Sc(n,o){1&n&&e.YNc(0,IT,0,0,"ng-template")}function ty(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onIconClick(r))})("keydown.enter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onIconClick(r))}),e._UZ(1,"span"),e.qZA()}if(2&n){const t=e.oxw(2);e.uIk("aria-label","collapse button")("id",t.id+"-label")("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),e.xp6(1),e.Tol(t.collapsed?t.expandIcon:t.collapseIcon)}}const ny=function(n,o,t){return{"p-panel-icons-start":n,"p-panel-icons-end":o,"p-panel-icons-center":t}};function Kp(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onHeaderClick(r))}),e.YNc(1,ed,2,2,"span",7),e.Hsn(2,1),e.YNc(3,el,1,0,"ng-container",4),e.TgZ(4,"div",8),e.YNc(5,Sc,1,0,null,4),e.YNc(6,ty,2,6,"button",9),e.qZA()()}if(2&n){const t=e.oxw();e.uIk("id",t.id+"-titlebar"),e.xp6(1),e.Q6J("ngIf",t.header),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngClass",e.kEZ(6,ny,"start"===t.iconPos,"end"===t.iconPos,"center"===t.iconPos)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.iconTemplate),e.xp6(1),e.Q6J("ngIf",t.toggleable)}}function iy(n,o){1&n&&e.GkF(0)}function Jr(n,o){1&n&&e.GkF(0)}function kc(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,2),e.YNc(2,Jr,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const Es=["*",[["p-header"]],[["p-footer"]]],tl=function(n,o){return{"p-panel p-component":!0,"p-panel-toggleable":n,"p-panel-expanded":o}},td=function(n){return{transitionParams:n,height:"0",opacity:"0"}},Ar=function(n){return{value:"hidden",params:n}},qp=function(n){return{transitionParams:n,height:"*",opacity:"1"}},El=function(n){return{value:"visible",params:n}},Sl=["*","p-header","p-footer"];let kl=0,nl=(()=>{class n{constructor(t){this.el=t,this.collapsed=!1,this.iconPos="end",this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new e.vpe,this.onBeforeToggle=new e.vpe,this.onAfterToggle=new e.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-panel-"+kl++}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"icons":this.iconTemplate=t.template}})}onHeaderClick(t){"header"===this.toggler&&this.toggle(t)}onIconClick(t){"icon"===this.toggler&&this.toggle(t)}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(t):this.collapse(t)),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1,this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-panel"]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,Le.$_,5),e.Suo(r,Le.jx,4)),2&t){let c;e.iGM(c=e.CRH())&&(i.footerFacet=c.first),e.iGM(c=e.CRH())&&(i.templates=c)}},hostAttrs:[1,"p-element"],inputs:{toggleable:"toggleable",header:"header",collapsed:"collapsed",style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:"showHeader",toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Sl,decls:7,vars:23,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],["role","tablist",1,"p-panel-icons",3,"ngClass"],["type","button","class","p-panel-header-icon p-panel-toggler p-link","pRipple","","role","tab",3,"click","keydown.enter",4,"ngIf"],[1,"p-panel-title"],["type","button","pRipple","","role","tab",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown.enter"],[1,"p-panel-footer"]],template:function(t,i){1&t&&(e.F$t(Es),e.TgZ(0,"div",0),e.YNc(1,Kp,7,10,"div",1),e.TgZ(2,"div",2),e.NdJ("@panelContent.done",function(c){return i.onToggleDone(c)}),e.TgZ(3,"div",3),e.Hsn(4),e.YNc(5,iy,1,0,"ng-container",4),e.qZA(),e.YNc(6,kc,3,1,"div",5),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(12,tl,i.toggleable,!i.collapsed&&i.toggleable))("ngStyle",i.style),e.uIk("id",i.id),e.xp6(1),e.Q6J("ngIf",i.showHeader),e.xp6(1),e.Q6J("@panelContent",i.collapsed?e.VKq(17,Ar,e.VKq(15,td,i.animating?i.transitionOptions:"0ms")):e.VKq(21,El,e.VKq(19,qp,i.animating?i.transitionOptions:"0ms"))),e.uIk("id",i.id+"-content")("aria-hidden",i.collapsed)("aria-labelledby",i.id+"-titlebar"),e.xp6(3),e.Q6J("ngTemplateOutlet",i.contentTemplate),e.xp6(1),e.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[I.mk,I.O5,I.tP,I.PC,mn.H],styles:[".p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded .p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,ai.X$)("panelContent",[(0,ai.SB)("hidden",(0,ai.oB)({height:"0"})),(0,ai.SB)("void",(0,ai.oB)({height:"{{height}}"}),{params:{height:"0"}}),(0,ai.SB)("visible",(0,ai.oB)({height:"*"})),(0,ai.eR)("visible <=> hidden",[(0,ai.jt)("{{transitionParams}}")]),(0,ai.eR)("void => hidden",(0,ai.jt)("{{transitionParams}}")),(0,ai.eR)("void => visible",(0,ai.jt)("{{transitionParams}}"))])]},changeDetection:0}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Le.m8,mn.T,Le.m8]}),n})();function Dl(n,o){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.label)}}function Ol(n,o){if(1&n&&e._UZ(0,"span",12),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}const Pl=function(){return{exact:!1}};function Rl(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(),h=c.$implicit,y=c.index,O=e.oxw();return e.KtG(O.itemClick(r,h,y))})("keydown.enter",function(r){e.CHM(t);const c=e.oxw(),h=c.$implicit,y=c.index,O=e.oxw();return e.KtG(O.itemClick(r,h,y))}),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.YNc(3,Dl,2,1,"span",9),e.YNc(4,Ol,1,1,"ng-template",null,10,e.W1O),e.qZA()}if(2&n){const t=e.MAs(5),i=e.oxw(),r=i.$implicit,c=i.index,h=e.oxw();e.Q6J("routerLink",r.routerLink)("queryParams",r.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.routerLinkActiveOptions||e.DdM(16,Pl))("target",r.target)("fragment",r.fragment)("queryParamsHandling",r.queryParamsHandling)("preserveFragment",r.preserveFragment)("skipLocationChange",r.skipLocationChange)("replaceUrl",r.replaceUrl)("state",r.state),e.uIk("id",r.id)("tabindex",r.disabled||h.readonly?null:r.tabindex?r.tabindex:"0"),e.xp6(2),e.Oqu(c+1),e.xp6(1),e.Q6J("ngIf",!1!==r.escape)("ngIfElse",t)}}function Hm(n,o){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.label)}}function Zm(n,o){if(1&n&&e._UZ(0,"span",12),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function Vm(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(),h=c.$implicit,y=c.index,O=e.oxw();return e.KtG(O.itemClick(r,h,y))})("keydown.enter",function(r){e.CHM(t);const c=e.oxw(),h=c.$implicit,y=c.index,O=e.oxw();return e.KtG(O.itemClick(r,h,y))}),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.YNc(3,Hm,2,1,"span",9),e.YNc(4,Zm,1,1,"ng-template",null,14,e.W1O),e.qZA()}if(2&n){const t=e.MAs(5),i=e.oxw(),r=i.$implicit,c=i.index,h=e.oxw();e.Q6J("target",r.target),e.uIk("href",r.url,e.LSH)("id",r.id)("tabindex",r.disabled||c!==h.activeIndex&&h.readonly?null:r.tabindex?r.tabindex:"0"),e.xp6(2),e.Oqu(c+1),e.xp6(1),e.Q6J("ngIf",!1!==r.escape)("ngIfElse",t)}}const Um=function(n,o){return{"p-highlight p-steps-current":n,"p-disabled":o}};function zm(n,o){if(1&n&&(e.TgZ(0,"li",3,4),e.YNc(2,Rl,6,17,"a",5),e.YNc(3,Vm,6,7,"ng-template",null,6,e.W1O),e.qZA()),2&n){const t=o.$implicit,i=o.index,r=e.MAs(4),c=e.oxw();e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("tooltipOptions",t.tooltipOptions)("ngClass",e.WLB(9,Um,c.isActive(t,i),t.disabled||c.readonly&&!c.isActive(t,i))),e.uIk("aria-selected",i===c.activeIndex)("aria-expanded",i===c.activeIndex),e.xp6(2),e.Q6J("ngIf",c.isClickableRouterLink(t))("ngIfElse",r)}}const Gm=function(n){return{"p-steps p-component":!0,"p-readonly":n}};let Qm=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.cd=r,this.activeIndex=0,this.readonly=!0,this.activeIndexChange=new e.vpe}ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}itemClick(t,i,r){this.readonly||i.disabled?t.preventDefault():(this.activeIndexChange.emit(r),!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i,index:r}))}isClickableRouterLink(t){return t.routerLink&&!this.readonly&&!t.disabled}isActive(t,i){if(t.routerLink){let r=Array.isArray(t.routerLink)?t.routerLink:[t.routerLink];return this.router.isActive(this.router.createUrlTree(r,{relativeTo:this.route}).toString(),!1)}return i===this.activeIndex}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.F0),e.Y36(s.gz),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-steps"]],hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",model:"model",readonly:"readonly",style:"style",styleClass:"styleClass"},outputs:{activeIndexChange:"activeIndexChange"},decls:3,vars:7,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["class","p-steps-item","role","tab","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["role","tab","pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["menuitem",""],["role","presentation","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter",4,"ngIf","ngIfElse"],["elseBlock",""],["role","presentation",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","presentation",1,"p-menuitem-link",3,"target","click","keydown.enter"],["htmlRouteLabel",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ul",1),e.YNc(2,zm,5,12,"li",2),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.VKq(5,Gm,i.readonly))("ngStyle",i.style),e.xp6(2),e.Q6J("ngForOf",i.model))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,ln.u],styles:[".p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),Jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,s.Bz,ln.z,s.Bz,ln.z]}),n})();const jm=["listelement"],oy=["filter"];function sy(n,o){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.header)}}function Wm(n,o){1&n&&e.GkF(0)}function ry(n,o){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,sy,2,1,"div",14),e.YNc(2,Wm,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function Ym(n,o){1&n&&e.GkF(0)}const $p=function(n){return{options:n}};function Xp(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ym,1,0,"ng-container",20),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,$p,t.filterOptions))}}function ay(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("keyup",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onFilterKeyup(r))}),e.qZA(),e._UZ(3,"span",24),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled),e.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)}}function nd(n,o){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,Xp,2,4,"ng-container",18),e.YNc(2,ay,4,3,"ng-template",null,19,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.filterTemplate)("ngIfElse",t)}}function id(n,o){1&n&&e.GkF(0)}const eh=function(n,o){return{"p-highlight":n,"p-disabled":o}},ly=function(n,o){return{$implicit:n,index:o}};function od(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",26),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(),h=c.$implicit,y=c.index,O=e.oxw();return e.KtG(O.onItemClick(r,h,y))})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onItemTouchEnd())})("keydown",function(r){e.CHM(t);const c=e.oxw(),h=c.$implicit,y=c.index,O=e.oxw();return e.KtG(O.onItemKeydown(r,h,y))}),e.YNc(1,id,1,0,"ng-container",20),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw();e.Q6J("ngClass",e.WLB(6,eh,c.isSelected(i),c.disabled))("cdkDragData",i)("cdkDragDisabled",!c.dragdrop),e.uIk("aria-selected",c.isSelected(i)),e.xp6(1),e.Q6J("ngTemplateOutlet",c.itemTemplate)("ngTemplateOutletContext",e.WLB(9,ly,i,r))}}function sd(n,o){if(1&n&&e.YNc(0,od,2,12,"li",25),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngIf",i.isItemVisible(t))}}function th(n,o){1&n&&e.GkF(0)}function Km(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,th,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function nh(n,o){1&n&&e.GkF(0)}function qm(n,o){if(1&n&&(e.TgZ(0,"li",28),e.YNc(1,nh,1,0,"ng-container",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterMessageTemplate)}}function $m(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Km,2,1,"li",27),e.YNc(2,qm,2,1,"li",27),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.filterValue||!t.emptyFilterMessageTemplate),e.xp6(1),e.Q6J("ngIf",t.filterValue)}}const ih=function(n,o,t){return{"p-orderlist p-component":!0,"p-orderlist-striped":n,"p-orderlist-controls-left":o,"p-orderlist-controls-right":t}};let Xm=(()=>{class n{constructor(t,i,r){this.el=t,this.cd=i,this.filterService=r,this.metaKeySelection=!0,this.dragdrop=!1,this.controlsPosition="left",this.filterMatchMode="contains",this.breakpoint="960px",this.disabled=!1,this.selectionChange=new e.vpe,this.trackBy=(c,h)=>h,this.onReorder=new e.vpe,this.onSelectionChange=new e.vpe,this.onFilterEvent=new e.vpe,this._selection=[],this.id=(0,Sn.Th)()}get selection(){return this._selection}set selection(t){this._selection=t}ngOnInit(){this.responsive&&this.createStyle(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterKeyup(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"emptyfilter":this.emptyFilterMessageTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"header":this.headerTemplate=t.template}})}ngAfterViewChecked(){if(this.movedUp||this.movedDown){let i,t=Ln.p.find(this.listViewChild.nativeElement,"li.p-highlight");t.length>0&&(i=this.movedUp?t[0]:t[t.length-1],Ln.p.scrollInView(this.listViewChild.nativeElement,i)),this.movedUp=!1,this.movedDown=!1}}get value(){return this._value}set value(t){this._value=t,this.filterValue&&this.filter()}onItemClick(t,i,r){this.itemTouched=!1;let c=Sn.gb.findIndexInList(i,this.selection),h=-1!=c;if(!this.itemTouched&&this.metaKeySelection){let O=t.metaKey||t.ctrlKey||t.shiftKey;h&&O?this._selection=this._selection.filter((ce,fe)=>fe!==c):(this._selection=O&&this._selection?[...this._selection]:[],Sn.gb.insertIntoOrderedArray(i,r,this._selection,this.value))}else h?this._selection=this._selection.filter((O,ce)=>ce!==c):(this._selection=this._selection?[...this._selection]:[],Sn.gb.insertIntoOrderedArray(i,r,this._selection,this.value));this.selectionChange.emit(this._selection),this.onSelectionChange.emit({originalEvent:t,value:this._selection})}onFilterKeyup(t){this.filterValue=t.target.value.trim().toLocaleLowerCase(this.filterLocale),this.filter(),this.onFilterEvent.emit({originalEvent:t,value:this.visibleOptions})}filter(){let t=this.filterBy.split(",");this.visibleOptions=this.filterService.filter(this.value,t,this.filterValue,this.filterMatchMode,this.filterLocale)}resetFilter(){this.filterValue=null,this.filterViewChild&&(this.filterViewChild.nativeElement.value="")}isItemVisible(t){if(!this.filterValue||!this.filterValue.trim().length)return!0;for(let i=0;i<this.visibleOptions.length;i++)if(t==this.visibleOptions[i])return!0}onItemTouchEnd(){this.itemTouched=!0}isSelected(t){return-1!=Sn.gb.findIndexInList(t,this.selection)}isEmpty(){return this.filterValue?!this.visibleOptions||0===this.visibleOptions.length:!this.value||0===this.value.length}moveUp(){if(this.selection){for(let t=0;t<this.selection.length;t++){let r=Sn.gb.findIndexInList(this.selection[t],this.value);if(0==r)break;{let h=this.value[r-1];this.value[r-1]=this.value[r],this.value[r]=h}}this.dragdrop&&this.filterValue&&this.filter(),this.movedUp=!0,this.onReorder.emit(this.selection)}}moveTop(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let r=Sn.gb.findIndexInList(this.selection[t],this.value);if(0==r)break;{let c=this.value.splice(r,1)[0];this.value.unshift(c)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=0}}moveDown(){if(this.selection){for(let t=this.selection.length-1;t>=0;t--){let r=Sn.gb.findIndexInList(this.selection[t],this.value);if(r==this.value.length-1)break;{let h=this.value[r+1];this.value[r+1]=this.value[r],this.value[r]=h}}this.dragdrop&&this.filterValue&&this.filter(),this.movedDown=!0,this.onReorder.emit(this.selection)}}moveBottom(){if(this.selection){for(let t=0;t<this.selection.length;t++){let r=Sn.gb.findIndexInList(this.selection[t],this.value);if(r==this.value.length-1)break;{let c=this.value.splice(r,1)[0];this.value.push(c)}}this.dragdrop&&this.filterValue&&this.filter(),this.onReorder.emit(this.selection),this.listViewChild.nativeElement.scrollTop=this.listViewChild.nativeElement.scrollHeight}}onDrop(t){let i=t.previousIndex,r=t.currentIndex;i!==r&&(this.visibleOptions&&(this.filterValue&&(i=Sn.gb.findIndexInList(t.item.data,this.value),r=Sn.gb.findIndexInList(this.visibleOptions[r],this.value)),Ac(this.visibleOptions,t.previousIndex,t.currentIndex)),Ac(this.value,i,r),this.onReorder.emit([t.item.data]))}onItemKeydown(t,i,r){let c=t.currentTarget;switch(t.which){case 40:var h=this.findNextItem(c);h&&h.focus(),t.preventDefault();break;case 38:var y=this.findPrevItem(c);y&&y.focus(),t.preventDefault();break;case 13:this.onItemClick(t,i,r),t.preventDefault()}}findNextItem(t){let i=t.nextElementSibling;return i?!Ln.p.hasClass(i,"p-orderlist-item")||Ln.p.isHidden(i)?this.findNextItem(i):i:null}findPrevItem(t){let i=t.previousElementSibling;return i?!Ln.p.hasClass(i,"p-orderlist-item")||Ln.p.isHidden(i)?this.findPrevItem(i):i:null}moveDisabled(){if(this.disabled||!this.selection.length)return!0}createStyle(){this.styleElement||(this.el.nativeElement.children[0].setAttribute(this.id,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement),this.styleElement.innerHTML=`\n                @media screen and (max-width: ${this.breakpoint}) {\n                    .p-orderlist[${this.id}] {\n                        flex-direction: column;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls {\n                        padding: var(--content-padding);\n                        flex-direction: row;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button {\n                        margin-right: var(--inline-spacing);\n                        margin-bottom: 0;\n                    }\n\n                    .p-orderlist[${this.id}] .p-orderlist-controls .p-button:last-child {\n                        margin-right: 0;\n                    }\n                }\n            `)}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Le.iZ))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-orderList"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,Le.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(jm,5),e.Gf(oy,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.listViewChild=r.first),e.iGM(r=e.CRH())&&(i.filterViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",style:"style",styleClass:"styleClass",listStyle:"listStyle",responsive:"responsive",filterBy:"filterBy",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dragdrop:"dragdrop",controlsPosition:"controlsPosition",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",breakpoint:"breakpoint",stripedRows:"stripedRows",disabled:"disabled",trackBy:"trackBy",selection:"selection",value:"value"},outputs:{selectionChange:"selectionChange",onReorder:"onReorder",onSelectionChange:"onSelectionChange",onFilterEvent:"onFilterEvent"},decls:13,vars:18,consts:[[3,"ngClass","ngStyle"],[1,"p-orderlist-controls"],["type","button","pButton","","pRipple","","icon","pi pi-angle-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-up",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-down",3,"disabled","click"],["type","button","pButton","","pRipple","","icon","pi pi-angle-double-down",3,"disabled","click"],[1,"p-orderlist-list-container"],["class","p-orderlist-header",4,"ngIf"],["class","p-orderlist-filter-container",4,"ngIf"],["cdkDropList","",1,"p-orderlist-list",3,"ngStyle","cdkDropListDropped"],["listelement",""],["ngFor","",3,"ngForTrackBy","ngForOf"],[4,"ngIf"],[1,"p-orderlist-header"],["class","p-orderlist-title",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-orderlist-title"],[1,"p-orderlist-filter-container"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-orderlist-filter"],["type","text","role","textbox",1,"p-orderlist-filter-input","p-inputtext","p-component",3,"disabled","keyup"],["filter",""],[1,"p-orderlist-filter-icon","pi","pi-search"],["class","p-orderlist-item","tabindex","0","cdkDrag","","pRipple","","role","option",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown",4,"ngIf"],["tabindex","0","cdkDrag","","pRipple","","role","option",1,"p-orderlist-item",3,"ngClass","cdkDragData","cdkDragDisabled","click","touchend","keydown"],["class","p-orderlist-empty-message",4,"ngIf"],[1,"p-orderlist-empty-message"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.moveUp()}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.moveTop()}),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return i.moveDown()}),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return i.moveBottom()}),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,ry,3,2,"div",7),e.YNc(8,nd,4,2,"div",8),e.TgZ(9,"ul",9,10),e.NdJ("cdkDropListDropped",function(c){return i.onDrop(c)}),e.YNc(11,sd,1,1,"ng-template",11),e.YNc(12,$m,3,2,"ng-container",12),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(14,ih,i.stripedRows,"left"===i.controlsPosition,"right"===i.controlsPosition))("ngStyle",i.style),e.xp6(2),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(1),e.Q6J("disabled",i.moveDisabled()),e.xp6(2),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.filterBy),e.xp6(1),e.Q6J("ngStyle",i.listStyle),e.xp6(2),e.Q6J("ngForTrackBy",i.trackBy)("ngForOf",i.value),e.xp6(1),e.Q6J("ngIf",i.isEmpty()&&(i.emptyMessageTemplate||i.emptyFilterMessageTemplate)))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC,Ei.Hq,mn.H,Ap,Gf],styles:[".p-orderlist{display:flex}.p-orderlist-controls{display:flex;flex-direction:column;justify-content:center}.p-orderlist-list-container{flex:1 1 auto}.p-orderlist-list{list-style-type:none;margin:0;padding:0;overflow:auto;min-height:12rem}.p-orderlist-item{display:block;cursor:pointer;overflow:hidden;position:relative}.p-orderlist-item:not(.cdk-drag-disabled){cursor:move}.p-orderlist-item.cdk-drag-placeholder{opacity:0}.p-orderlist-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.p-orderlist.p-state-disabled .p-orderlist-item,.p-orderlist.p-state-disabled .p-button{cursor:default}.p-orderlist.p-state-disabled .p-orderlist-list{overflow:hidden}.p-orderlist-filter{position:relative}.p-orderlist-filter-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-orderlist-filter-input{width:100%}.p-orderlist-controls-right .p-orderlist-controls{order:2}.p-orderlist-controls-right .p-orderlist-list-container{order:1}.p-orderlist-list.cdk-drop-list-dragging .p-orderlist-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),n})(),cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Ei.hJ,Le.m8,mn.T,Hu,Le.m8,Hu]}),n})();const e_=["stepsContextMenuElem"];function t_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e._UZ(1,"app-task-template-input",29),e.TgZ(2,"app-icon-button",30),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.deleteField(c.id))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("field",t)("isExample",!0),e.xp6(1),e.Udp("transform","translateY(.5rem)")}}function n_(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"p-button",9),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.nav.backOrDefault(["/"]))}),e.qZA(),e.TgZ(4,"p-button",10),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeStagesSettingsStep())}),e.qZA()(),e.TgZ(5,"div",11)(6,"div",12)(7,"label"),e._uU(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(9,"input",13),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.wireframe.name=r)}),e.qZA()()(),e.TgZ(10,"div",12)(11,"label"),e._uU(12,"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),e.qZA(),e.TgZ(13,"app-observer-selector-input",14),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.wireframe.defaultObservers=r)}),e.qZA()(),e.TgZ(14,"div",15)(15,"div",16)(16,"label"),e._uU(17,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.TgZ(18,"textarea",17),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.wireframe.description=r)}),e.qZA()()(),e.TgZ(19,"p-button",18),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createStep())}),e.qZA(),e._UZ(20,"p-steps",19),e.qZA(),e.TgZ(21,"div",20)(22,"div",21)(23,"div",22)(24,"span",23),e._uU(25),e.qZA(),e.TgZ(26,"app-editing-caption",24),e.NdJ("captionChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.stepsPanelCaptionUpdate(r))})("onStopEditing",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.fillingEmptyStepName())})("captionChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.wireframe.steps[c.activeStepIndex].name=r)}),e.qZA()(),e.TgZ(27,"div",25),e.YNc(28,t_,3,4,"div",26),e.TgZ(29,"app-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.chooseFieldTypeDialogVisible=!0)}),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("ngModel",t.wireframe.name)("disabled",void 0!==t.editingId),e.xp6(4),e.Q6J("ngModel",t.wireframe.defaultObservers),e.xp6(5),e.Q6J("ngModel",t.wireframe.description)("autoResize",!0),e.xp6(2),e.Q6J("activeIndex",t.activeStepIndex)("model",t.stepsArray)("readonly",!1),e.xp6(5),e.hij("\u042d\u0442\u0430\u043f ",t.activeStepIndex+1,":"),e.xp6(1),e.Q6J("caption",t.wireframe.steps[t.activeStepIndex].name),e.xp6(2),e.Q6J("ngForOf",t.wireframe.steps[t.activeStepIndex].fields)}}function i_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"span",40),e._uU(2,"drag_indicator"),e.qZA(),e.TgZ(3,"span",41),e._uU(4),e.qZA(),e.TgZ(5,"input",42),e.NdJ("mousedown",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.mouseDown(r))})("ngModelChange",function(r){const h=e.CHM(t).$implicit;return e.KtG(h.label=r)}),e.qZA(),e._UZ(6,"div",43),e.TgZ(7,"app-icon-button",44),e.NdJ("mousedown",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.mouseDown(r))})("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.removeStage(c.stageId))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("",t.orderIndex+1,"."),e.xp6(1),e.Q6J("ngModel",t.label),e.xp6(2),e.Q6J("size",1.4)}}const uy=function(){return[]};function o_(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",31)(2,"div",32)(3,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.constructStage="FIELDS")}),e.qZA(),e.TgZ(4,"app-button",34),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeViewSettingsStep())}),e.qZA()()(),e.TgZ(5,"div",20)(6,"p-panel",35)(7,"div",31)(8,"app-button",36),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createStage())}),e.qZA(),e.TgZ(9,"p-orderList",37),e.NdJ("onReorder",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reorderStages())}),e.YNc(10,i_,8,3,"ng-template",38),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();let i;e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("disabled",!t.wireframe.name),e.xp6(5),e.Q6J("dragdrop",!0)("value",null!==(i=t.wireframe.stages)&&void 0!==i?i:e.DdM(4,uy))}}function s_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createWireframe())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.wireframe.name)}}function r_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",56),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateWireframe())}),e.qZA()}}function oh(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function a_(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",45)(2,"div",46)(3,"app-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.constructStage="STAGES")}),e.qZA(),e.YNc(4,s_,1,1,"app-button",47),e.YNc(5,r_,1,0,"app-button",48),e.qZA(),e.TgZ(6,"div",49)(7,"span",50),e._uU(8," \u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 "),e.qZA(),e.TgZ(9,"div",51)(10,"div",12)(11,"label"),e._uU(12," \u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f "),e.qZA(),e.TgZ(13,"p-dropdown",52),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c._wireframe.listViewType=r)}),e.qZA()(),e.TgZ(14,"app-task-list-element",53),e.NdJ("selectFieldToView",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectFieldToView(r))}),e.qZA()()(),e.TgZ(15,"div",49)(16,"span",50),e._uU(17," \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043f\u043e\u043b\u0435\u0439 "),e.qZA(),e.TgZ(18,"div",54)(19,"p-orderList",37),e.NdJ("onReorder",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reorderFields())}),e.YNc(20,oh,2,1,"ng-template",38),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("disabled",!t.wireframe.name),e.xp6(1),e.Q6J("ngIf",void 0===t.editingId),e.xp6(1),e.Q6J("ngIf",void 0!==t.editingId),e.xp6(8),e.Q6J("ngModel",t._wireframe.listViewType)("options",t.listItemViewOptions),e.xp6(1),e.Q6J("item",t.taskItemForView())("viewExample",!0)("isHover",!1)("wireframeFieldsList",t.wireframeFieldsList),e.xp6(5),e.Q6J("dragdrop",!0)("value",t.wireframeFieldsList)}}function l_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"p-dropdown",58),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.createFieldType=r)}),e.qZA(),e.TgZ(2,"app-button",59),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createField(r.createFieldType))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.createFieldType)("options",t.fieldTypeOptions)}}function c_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"app-select-field-to-view-button",63),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA(),e._UZ(2,"div",43),e.TgZ(3,"div",8),e._UZ(4,"app-avatar",64),e.TgZ(5,"span",65),e._uU(6,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("size",1.8)}}function u_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",66)(2,"app-select-field-to-view-button",63),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA(),e.TgZ(3,"app-select-field-to-view-button",67),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA()(),e._UZ(4,"div",43),e.TgZ(5,"div",8),e._UZ(6,"app-avatar",64),e.TgZ(7,"span",65),e._uU(8,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(3),e.Q6J("size",1.8)}}function d_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",66)(2,"div",28)(3,"app-select-field-to-view-button",63),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA(),e.TgZ(4,"span",65),e._uU(5,"-"),e.qZA(),e.TgZ(6,"app-select-field-to-view-button",68),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA()(),e.TgZ(7,"app-select-field-to-view-button",67),e.NdJ("selectView",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectFieldToView(r))}),e.qZA()(),e._UZ(8,"div",43),e.TgZ(9,"div",8),e._UZ(10,"app-avatar",64),e.TgZ(11,"span",65),e._uU(12,"Creator"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",1),e.xp6(3),e.Q6J("fields",t.wireframeFieldsList)("index",2),e.xp6(1),e.Q6J("fields",t.wireframeFieldsList)("index",3),e.xp6(3),e.Q6J("size",1.8)}}function p_(n,o){if(1&n&&(e.ynx(0,60),e.YNc(1,c_,7,3,"div",61),e.YNc(2,u_,9,5,"div",61),e.YNc(3,d_,13,7,"div",61),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.wireframe.listViewType),e.xp6(1),e.Q6J("ngSwitchCase","SIMPLE"),e.xp6(1),e.Q6J("ngSwitchCase","COMPOSITE"),e.xp6(1),e.Q6J("ngSwitchCase","DETAILED")}}const h_=function(){return{width:"30vw"}},g_={id:0,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[]};let AT=(()=>{class n{constructor(t,i,r){this.api=t,this.route=i,this.nav=r,this.activeStepIndex=0,this.stepsArray=[{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:()=>this.selectStep(0)}],this.wireframeFieldsList=[],this.stepsContextMenu=[],this.chooseFieldTypeDialogVisible=!1,this.fieldTypeOptions=[{label:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",value:ft._r.BOOLEAN},{label:"\u041c\u0430\u043b\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",value:ft._r.SMALL_TEXT},{label:"\u0422\u0435\u043a\u0441\u0442",value:ft._r.LARGE_TEXT},{label:"\u0426\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e\u0435",value:ft._r.INTEGER},{label:"\u041d\u0435 \u0446\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e\u0435",value:ft._r.FLOAT},{label:"\u0410\u0434\u0440\u0435\u0441",value:ft._r.ADDRESS},{label:"\u041b\u043e\u0433\u0438\u043d",value:ft._r.LOGIN},{label:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",value:ft._r.AD_SOURCE},{label:"\u0422\u0438\u043f \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0437\u0430\u044f\u0432\u043a\u0438",value:ft._r.REQUEST_INITIATOR},{label:"IP \u0410\u0434\u0440\u0435\u0441",value:ft._r.IP},{label:"\u0410\u0431\u043e\u043d\u0435\u043d\u0442\u0441\u043a\u043e\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",value:ft._r.EQUIPMENTS},{label:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438",value:ft._r.CONNECTION_SERVICES},{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430",value:ft._r.PHONE_ARRAY}],this.createFieldType=ft._r.SMALL_TEXT,this.constructStage="FIELDS",this.listItemViewOptions=[{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439",value:"SIMPLE"},{label:"\u0421\u043e\u0441\u0442\u0430\u0432\u043d\u043e\u0439",value:"COMPOSITE"},{label:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439",value:"DETAILED"}],this._wireframe={wireframeId:0,created:"",deleted:!1,name:"",description:"",creator:{login:"admin"},wireframeType:ft.Ez.MODEL,steps:[g_],defaultObservers:[],stages:[{label:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439",stageId:(0,dr.Z)(),orderIndex:0}],listViewType:"SIMPLE"}}get wireframe(){return this._wireframe}set wireframe(t){this._wireframe=t,this.wireframeFieldsList=this.fieldsLabelsList()}ngOnInit(){this.route.queryParams.subscribe(t=>{t.editingId&&(this.editingId=t.editingId,this.api.getWireframe(t.editingId).subscribe(i=>{var r;this.wireframe=i,this.fillingSteps(i.steps),null===(r=this.wireframe.stages)||void 0===r||r.sort((c,h)=>c.orderIndex-h.orderIndex),this.wireframe=this.wireframe}))})}createField(t){const i=(0,dr.Z)(),r=this.wireframe.steps.find(c=>c.id===this.activeStepIndex);r?r.fields.push({name:"\u0418\u043c\u044f \u043f\u043e\u043b\u044f",id:i,type:t}):console.error("\u042d\u0442\u0430\u043f \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}deleteField(t){const i=this.wireframe.steps.find(r=>r.id===this.activeStepIndex);i&&(i.fields=i.fields.filter(r=>r.id!==t))}createStep(){const t=this.stepsArray.length;this.stepsArray.push({label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",command:i=>this.openStepContextMenu(t,i.originalEvent)}),this.stepsArray=[...this.stepsArray],this.wireframe.steps.push({name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",fields:[],id:t}),this.selectStep(t)}selectStep(t){this.activeStepIndex=t}removeStep(t){this.activeStepIndex===t&&this.selectStep(0),this.stepsArray.splice(t,1),this.stepsArray=this.stepsArray.map((i,r)=>({label:i.label,command:0===r?()=>this.selectStep(r):c=>this.openStepContextMenu(r,c.originalEvent)})),this.wireframe.steps.splice(t,1),this.wireframe.steps=this.wireframe.steps.map((i,r)=>(i.id=r,i))}openStepContextMenu(t,i){this.stepsContextMenu=[{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",command:this.selectStep.bind(this,t)},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",command:this.removeStep.bind(this,t)}],this.stepsContextMenuElem&&this.stepsContextMenuElem.toggle(i)}stepsPanelCaptionUpdate(t){this.stepsArray[this.activeStepIndex].label=t,this.stepsArray=[...this.stepsArray]}fillingEmptyStepName(){this.wireframe.steps[this.activeStepIndex]&&""===this.wireframe.steps[this.activeStepIndex].name&&(this.wireframe.steps[this.activeStepIndex].name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray[this.activeStepIndex].label="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u0442\u0430\u043f\u0430",this.stepsArray=[...this.stepsArray])}createWireframe(){this.api.createWireframe(this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fillingSteps(t){this.stepsArray=t.map((i,r)=>({label:i.name,command:0===r?()=>this.selectStep(i.id):c=>this.openStepContextMenu(i.id,c.originalEvent)}))}updateWireframe(){this.api.updateWireframe(this.wireframe).subscribe(()=>{this.nav.backOrDefault(["/"])})}fieldsLabelsList(){const t=[];return this.wireframe.steps.forEach(i=>{i.fields.forEach(r=>{t.push({label:r.name,id:r.id,listViewIndex:r.listViewIndex,orderPosition:r.orderPosition})})}),t.sort((i,r)=>i.orderPosition-r.orderPosition),t}selectFieldToView(t){this._wireframe.steps.forEach(i=>{console.log(i.fields,t),i.fields.forEach(r=>{r.id===t.id?r.listViewIndex=t.index:r.listViewIndex===t.index&&(r.listViewIndex=void 0)})})}reorderFields(){this.wireframeFieldsList.forEach((t,i)=>{this.wireframe.steps.forEach(r=>{r.fields.forEach(c=>{c.id===t.id&&(c.orderPosition=i)})})})}changeStagesSettingsStep(){this.constructStage="STAGES",this.wireframe=this.wireframe,this.reorderFields()}changeViewSettingsStep(){this.constructStage="VIEW"}taskItemForView(){return{taskId:0,modelWireframe:this.wireframe,listItemFields:[],allEmployeesObservers:[]}}createStage(){var t,i,r;this.wireframe.stages=[...null!==(t=this.wireframe.stages)&&void 0!==t?t:[],{label:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0434\u0438\u044f",stageId:(0,dr.Z)(),orderIndex:null!==(r=null===(i=this.wireframe.stages)||void 0===i?void 0:i.length)&&void 0!==r?r:0}]}removeStage(t){var i;this.wireframe.stages=null===(i=this.wireframe.stages)||void 0===i?void 0:i.filter(r=>r.stageId!==t).map((r,c)=>(r.orderIndex=c,r))}mouseDown(t){t.stopPropagation()}reorderStages(){var t;this.wireframe.stages=null===(t=this.wireframe.stages)||void 0===t?void 0:t.map((i,r)=>(i.orderIndex=r,i))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(s.gz),e.Y36(yi))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-wireframe-constructor-page"]],viewQuery:function(t,i){if(1&t&&e.Gf(e_,5),2&t){let r;e.iGM(r=e.CRH())&&(i.stepsContextMenuElem=r.first)}},decls:10,vars:13,consts:[["appExtendPageHeight","",1,"flexed","vcenter","column","gap15",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"model","popup"],["stepsContextMenuElem",""],["header","\u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",3,"visible","modal","visibleChange"],["pTemplate","content"],["listElementTemplate",""],[1,"flexed","column","gap10","panel","p10"],[1,"flexed","gap5"],["label","\u0412\u044b\u0439\u0442\u0438","icon","mdi-close","styleClass","p-button-secondary p-button-text",3,"onClick"],["label","\u0414\u0430\u043b\u0435\u0435: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0442\u0430\u0434\u0438\u0439 \u0437\u0430\u0434\u0430\u0447\u0438","icon","mdi-navigate_next",3,"disabled","onClick"],[1,"gap10","flexed","hend"],[1,"input-label-wrapper"],["pInputText","",3,"ngModel","disabled","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"flexed"],[1,"input-label-wrapper","stretched"],["pInputTextarea","",3,"ngModel","autoResize","ngModelChange"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0430\u043f","icon","mdi-add","styleClass","p-button-success",1,"self-center",3,"onClick"],[1,"stretched",3,"activeIndex","model","readonly"],[1,"flexed","hcenter","column","stretched"],[1,"step-construct-view","panel"],[1,"step-construct-view-header"],[1,"step-construct-view-header-step-number"],[1,"step-construct-view-header-caption",3,"caption","captionChange","onStopEditing"],[1,"flexed","column","p20","gap5"],["class","flexed gap5 hcenter",4,"ngFor","ngForOf"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435","model","p-button-success",3,"onClick"],[1,"flexed","gap5","hcenter"],[1,"stretched",3,"field","isExample"],["icon","delete","model","danger",3,"click"],[1,"flexed","column","gap10"],[1,"gap15","flexed","hend","panel","p10"],["icon","arrow_back_ios","label","\u041d\u0430\u0437\u0430\u0434","model","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","navigate_next","label","\u0414\u0430\u043b\u0435\u0435: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",3,"disabled","onClick"],["header","\u0421\u0442\u0430\u0434\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438",1,"stage-list-panel"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0434\u0438\u044e","model","p-button-success",3,"onClick"],[3,"dragdrop","value","onReorder"],["pTemplate","item"],[1,"flexed","hcenter","gap5","caption"],[1,"material-icons-round","drag-icon"],[1,"caption","size-small","f-color-500"],[1,"inline-input",3,"ngModel","mousedown","ngModelChange"],[1,"stretched"],["icon","delete","model","danger",3,"size","mousedown","onClick"],[1,"flexed","column","gap20","panel","p10"],[1,"gap15","flexed","hend","vend"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick",4,"ngIf"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick",4,"ngIf"],[1,"gap5","flexed","column","p10"],[1,"header400"],[1,"gap10","flexed","column"],[3,"ngModel","options","ngModelChange"],[3,"item","viewExample","isHover","wireframeFieldsList","selectFieldToView"],[1,"gap5","flexed","column","overflow"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"disabled","onClick"],["icon","edit","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u0434\u0430\u0447\u0438",3,"onClick"],[1,"flexed","column","p10","gap10"],["appendTo","body","styleClass","full-width",3,"ngModel","options","ngModelChange"],["icon","add","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",3,"onClick"],[3,"ngSwitch"],["class","flexed p8 hcenter item-example",4,"ngSwitchCase"],[1,"flexed","p8","hcenter","item-example"],["classes","caption",3,"fields","index","selectView"],[3,"size"],[1,"caption"],[1,"flexed","column","gap5"],["classes","caption size-small wt-bold f-color-500",3,"fields","index","selectView"],["classes","caption size-small",3,"fields","index","selectView"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,n_,30,12,"ng-container",1),e.YNc(2,o_,11,5,"ng-container",1),e.YNc(3,a_,21,11,"ng-container",1),e.qZA(),e._UZ(4,"p-menu",2,3),e.TgZ(6,"p-dialog",4),e.NdJ("visibleChange",function(c){return i.chooseFieldTypeDialogVisible=c}),e.YNc(7,l_,3,2,"ng-template",5),e.qZA(),e.YNc(8,p_,4,4,"ng-template",null,6,e.W1O)),2&t&&(e.Udp("padding-bottom","2rem"),e.Q6J("ngSwitch",i.constructStage),e.xp6(1),e.Q6J("ngSwitchCase","FIELDS"),e.xp6(1),e.Q6J("ngSwitchCase","STAGES"),e.xp6(1),e.Q6J("ngSwitchCase","VIEW"),e.xp6(1),e.Q6J("model",i.stepsContextMenu)("popup",!0),e.xp6(2),e.Akn(e.DdM(12,h_)),e.Q6J("visible",i.chooseFieldTypeDialogVisible)("modal",!0))},dependencies:[ss.A,fo.r,$b.h,Je.r,os.o,Fe.E,Xb.g,$e,ey,R.Fj,R.JJ,R.On,Le.jx,I.sg,qi.V,Ht.Lt,nl,I.O5,j.g,Ei.zx,I.RF,I.n9,Qm,Xm,Te.v2,Ze.o],styles:[".item-example[_ngcontent-%COMP%]{box-shadow:0 0 2px #0003,0 .5rem 1rem #0000001a}.step-enumerator-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:min-content;min-width:40rem}.step-construct-view[_ngcontent-%COMP%]{min-width:40rem;width:max-content}.step-construct-view-header[_ngcontent-%COMP%]{display:flex;padding:1.7rem 2.1rem;gap:.5rem;align-items:center}.step-construct-view-header-step-number[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:var(--tc-500)}.step-construct-view-header-caption[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:var(--tc-700)}.step-construct-view-header-edit-button[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--mc-500);transform:translateY(.15rem)}.step-construct-view-content[_ngcontent-%COMP%]{display:flex}.stage-list-panel[_ngcontent-%COMP%]{min-width:30rem}.inline-input[_ngcontent-%COMP%]{border:0;outline:0;background-color:transparent;color:var(--tc-600);transition:color .2s ease-in-out}.inline-input[_ngcontent-%COMP%]:hover{color:var(--tc-900)}.drag-icon[_ngcontent-%COMP%]{color:var(--tc-300)}"]}),n})();const dy=function(n,o,t){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":n,"p-disabled":o,"p-focus":t}},py={provide:R.JU,useExisting:(0,e.Gpc)(()=>sh),multi:!0};let sh=(()=>{class n{constructor(t){this.cd=t,this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(t,i){!this.disabled&&!this.readonly&&(t.preventDefault(),this.toggle(t),i.focus())}onInputChange(t){this.readonly||this.updateModel(t,t.target.checked)}toggle(t){this.updateModel(t,!this.checked())}updateModel(t,i){this.modelValue=i?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:t,checked:this.modelValue})}onFocus(t){this.focused=!0}onBlur(t){this.focused=!1,this.onModelTouched()}writeValue(t){this.modelValue=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[e._Bn([py])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(h){e.CHM(r);const y=e.MAs(3);return e.KtG(i.onClick(h,y))}),e.TgZ(1,"div",1)(2,"input",2,3),e.NdJ("change",function(h){return i.onInputChange(h)})("focus",function(h){return i.onFocus(h)})("blur",function(h){return i.onBlur(h)}),e.qZA()(),e._UZ(4,"span",4),e.qZA()}2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.kEZ(12,dy,i.checked(),i.disabled,i.focused))("ngStyle",i.style),e.xp6(2),e.Q6J("checked",i.checked())("disabled",i.disabled),e.uIk("aria-label",i.ariaLabel)("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-checked",i.checked())("aria-labelledby",i.ariaLabelledBy))},dependencies:[I.mk,I.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),n})(),hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez]}),n})();function ns(n,o){1&n&&(e.TgZ(0,"div",26),e._UZ(1,"i",27),e.TgZ(2,"span"),e._uU(3," \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 "),e.qZA()())}function f_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e._UZ(1,"app-avatar",29),e.TgZ(2,"div",4)(3,"span",30),e._uU(4),e.qZA(),e.TgZ(5,"div",31)(6,"span",32),e._uU(7),e.qZA(),e.TgZ(8,"span",32),e._uU(9),e.qZA()()(),e._UZ(10,"div",33),e.TgZ(11,"p-button",34),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.openEmployeeEditor(c.login))}),e.qZA(),e.TgZ(12,"p-button",35),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.employeeDeleteConfirm(c))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();let r,c,h;e.xp6(1),e.Q6J("deleted",null!==(r=t.deleted)&&void 0!==r&&r)("name",t.fullName)("size",2.5)("src",t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(3),e.hij(" ",null==t.department?null:t.department.name," "),e.xp6(2),e.hij(" ",null==t.position?null:t.position.name," "),e.xp6(2),e.Q6J("disabled",null!==(c=t.deleted)&&void 0!==c&&c),e.xp6(1),e.Q6J("disabled",null!==(h=t.deleted)&&void 0!==h&&h)("loading",!!t.login&&i.isBeginDeleteEmployee[t.login])}}function gy(n,o){1&n&&(e.TgZ(0,"div",26),e._UZ(1,"i",36),e.TgZ(2,"span"),e._uU(3," \u041e\u0442\u0434\u0435\u043b\u044b "),e.qZA()())}const m_=function(){return{maxWidth:"20rem",marginLeft:".5rem"}};function __(n,o){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,m_)),e.xp6(1),e.hij(" ",t.description," ")}}function fy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"span",39),e._uU(3),e.qZA(),e.YNc(4,__,2,4,"div",40),e.qZA(),e._UZ(5,"div",33),e.TgZ(6,"p-button",34),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw();let y;return e.KtG(h.openDepartmentEditor(null!==(y=c.name)&&void 0!==y?y:"",null!==(y=c.description)&&void 0!==y?y:"",c.departmentId))}),e.qZA(),e.TgZ(7,"p-button",41),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.departmentDeleteConfirm(c))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();let r;e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(r=t.deleted)&&void 0!==r&&r),e.xp6(1),e.Q6J("loading",!!t.departmentId&&i.isBeginDeleteDepartment[t.departmentId])}}function C_(n,o){1&n&&(e.TgZ(0,"div",26),e._UZ(1,"i",43),e.TgZ(2,"span"),e._uU(3," \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438 "),e.qZA()())}function v_(n,o){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Akn(e.DdM(3,m_)),e.xp6(1),e.hij(" ",t.description," ")}}function Ll(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"span",39),e._uU(3),e.qZA(),e.YNc(4,v_,2,4,"div",40),e.qZA(),e._UZ(5,"div",33),e.TgZ(6,"p-button",34),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw();let y;return e.KtG(h.openPositionEditor(null!==(y=c.name)&&void 0!==y?y:"",null!==(y=c.description)&&void 0!==y?y:"",null!==(y=c.access)&&void 0!==y?y:0,c.positionId))}),e.qZA(),e.TgZ(7,"p-button",41),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.positionDeleteConfirm(c))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();let r;e.xp6(3),e.hij(" ",null==t?null:t.name," "),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(2),e.Q6J("disabled",null!==(r=t.deleted)&&void 0!==r&&r),e.xp6(1),e.Q6J("loading",!!t.positionId&&i.isBeginDeletePosition[t.positionId])}}function my(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"span",45)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",46),e.qZA(),e.TgZ(5,"span",45)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",47),e.qZA(),e.TgZ(9,"app-button",48),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.departmentCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginCreatingDepartment)}}function _y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"span",45)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",46),e.qZA(),e.TgZ(5,"span",45)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",47),e.qZA(),e.TgZ(9,"app-button",49),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.departmentEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.departmentForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("disabled",!t.departmentForm.valid)("loading",t.isBeginEditingDepartment)}}function b_(n,o){if(1&n&&e._UZ(0,"p-checkbox",53),2&n){const t=o.$implicit;e.Q6J("label",t.name)("value",t.value)}}function Cy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"span",45)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",46),e.qZA(),e.TgZ(5,"span",45)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",47),e.qZA(),e.TgZ(9,"p-panel",50)(10,"div",51),e.YNc(11,b_,1,2,"p-checkbox",52),e.qZA()(),e.TgZ(12,"app-button",48),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.positionCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(3),e.Q6J("ngForOf",t.accessFlags()),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginCreatingPosition)}}function y_(n,o){if(1&n&&e._UZ(0,"p-checkbox",53),2&n){const t=o.$implicit;e.Q6J("label",t.name)("value",t.value)}}function TT(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"span",45)(2,"label"),e._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(4,"input",46),e.qZA(),e.TgZ(5,"span",45)(6,"label"),e._uU(7,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(8,"textarea",47),e.qZA(),e.TgZ(9,"p-panel",50)(10,"div",51),e.YNc(11,y_,1,2,"p-checkbox",52),e.qZA()(),e.TgZ(12,"app-button",49),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.positionEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.positionForm),e.xp6(8),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(3),e.Q6J("ngForOf",t.accessFlags()),e.xp6(1),e.Q6J("disabled",!t.positionForm.valid)("loading",t.isBeginEditingPosition)}}function rh(n,o){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.Oqu(t.name)}}function ah(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function Or(n,o){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function vy(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function I_(n,o){if(1&n&&e._UZ(0,"p-checkbox",53),2&n){const t=o.$implicit;e.Q6J("label",t.name)("value",t.value)}}function jr(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,I_,1,2,"p-checkbox",52),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())}}const $s=function(){return{standalone:!0}};function Pr(n,o){if(1&n&&e._UZ(0,"p-checkbox",75),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("disabled",!0)("label",t.name)("ngModelOptions",e.DdM(5,$s))("ngModel",i.accessOfSelectedPosition)("value",t.value)}}function A_(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,Pr,1,6,"p-checkbox",74),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.accessFlagTrackBy)}}const rd=function(){return{lineHeight:"0"}};function by(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"div",54)(2,"span",55)(3,"label"),e._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(5,"input",56),e.qZA(),e.TgZ(6,"span",55)(7,"label"),e._uU(8,"\u0418\u043c\u044f"),e.qZA(),e._UZ(9,"input",57),e.qZA(),e.TgZ(10,"span",55)(11,"label"),e._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(13,"input",58),e.qZA()(),e.TgZ(14,"div",54)(15,"span",55)(16,"label"),e._uU(17,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(18,"input",59),e.qZA(),e.TgZ(19,"span",55)(20,"label"),e._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(22,"input",60),e.qZA()(),e.TgZ(23,"div",54)(24,"span",55)(25,"label"),e._uU(26,"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(27,"input",61),e.qZA(),e.TgZ(28,"span",55)(29,"label"),e._uU(30,"Telegram ID"),e.qZA(),e._UZ(31,"input",62),e.qZA()(),e.TgZ(32,"div",54)(33,"span",45)(34,"label"),e._uU(35,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(36,"p-dropdown",63),e.YNc(37,rh,2,2,"ng-template",64),e.YNc(38,ah,2,1,"ng-template",65),e.qZA()(),e.TgZ(39,"span",45)(40,"label"),e._uU(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(42,"p-dropdown",66),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.positionSelecting(r))}),e.YNc(43,Or,2,2,"ng-template",64),e.YNc(44,vy,2,1,"ng-template",65),e.qZA()(),e.TgZ(45,"span",67)(46,"label"),e._uU(47,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),e.qZA(),e._UZ(48,"p-inputSwitch",68),e.qZA()(),e.TgZ(49,"p-panel",50)(50,"div",18)(51,"div",54)(52,"p-toggleButton",69),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.checkAllAccess(r))}),e.qZA(),e.TgZ(53,"p-toggleButton",70),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.accessOverrideChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.isAccessOverride=r)}),e.qZA()(),e.YNc(54,jr,2,1,"div",71),e.YNc(55,A_,2,2,"div",71),e.qZA()(),e.TgZ(56,"app-button",72),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.employeeCreate())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.employeeForm),e.xp6(36),e.Q6J("options",t.departments),e.xp6(6),e.Q6J("options",t.positions),e.xp6(6),e.Q6J("falseValue",!1)("ngStyle",e.DdM(12,rd))("trueValue",!0),e.xp6(4),e.Q6J("disabled",!t.isAccessOverride),e.xp6(1),e.Q6J("ngModel",t.isAccessOverride)("ngModelOptions",e.DdM(13,$s)),e.xp6(1),e.Q6J("ngIf",t.isAccessOverride),e.xp6(1),e.Q6J("ngIf",!t.isAccessOverride),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)}}function yy(n,o){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.Oqu(t.name)}}function Iy(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function Ay(n,o){if(1&n&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("colorString",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function lh(n,o){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Mc(n,o){if(1&n&&e._UZ(0,"p-checkbox",53),2&n){const t=o.$implicit;e.Q6J("label",t.name)("value",t.value)}}function Ty(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,Mc,1,2,"p-checkbox",52),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())}}function T_(n,o){if(1&n&&e._UZ(0,"p-checkbox",75),2&n){const t=o.$implicit,i=e.oxw(3);e.Q6J("disabled",!0)("label",t.name)("ngModelOptions",e.DdM(5,$s))("ngModel",i.accessOfSelectedPosition)("value",t.value)}}function wy(n,o){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,T_,1,6,"p-checkbox",74),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accessFlags())("ngForTrackBy",t.accessFlagTrackBy)}}function w_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",44)(1,"div",54)(2,"span",55)(3,"label"),e._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(5,"input",56),e.qZA(),e.TgZ(6,"span",55)(7,"label"),e._uU(8,"\u0418\u043c\u044f"),e.qZA(),e._UZ(9,"input",57),e.qZA(),e.TgZ(10,"span",55)(11,"label"),e._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e._UZ(13,"input",58),e.qZA()(),e.TgZ(14,"div",54)(15,"span",55)(16,"label"),e._uU(17,"\u041b\u043e\u0433\u0438\u043d"),e.qZA(),e._UZ(18,"input",59),e.qZA(),e.TgZ(19,"span",55)(20,"label"),e._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),e.qZA(),e._UZ(22,"input",76),e.qZA()(),e.TgZ(23,"div",54)(24,"span",55)(25,"label"),e._uU(26,"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),e.qZA(),e._UZ(27,"input",61),e.qZA(),e.TgZ(28,"span",55)(29,"label"),e._uU(30,"Telegram ID"),e.qZA(),e._UZ(31,"input",62),e.qZA()(),e.TgZ(32,"div",54)(33,"span",45)(34,"label"),e._uU(35,"\u041e\u0442\u0434\u0435\u043b"),e.qZA(),e.TgZ(36,"p-dropdown",63),e.YNc(37,yy,2,2,"ng-template",64),e.YNc(38,Iy,2,1,"ng-template",65),e.qZA()(),e.TgZ(39,"span",45)(40,"label"),e._uU(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(42,"p-dropdown",66),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.positionSelecting(r))}),e.YNc(43,Ay,2,2,"ng-template",64),e.YNc(44,lh,2,1,"ng-template",65),e.qZA()(),e.TgZ(45,"span",67)(46,"label"),e._uU(47,"\u041c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a?"),e.qZA(),e._UZ(48,"p-inputSwitch",68),e.qZA()(),e.TgZ(49,"p-panel",50)(50,"div",18)(51,"div",54)(52,"p-toggleButton",69),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.checkAllAccess(r))}),e.qZA(),e.TgZ(53,"p-toggleButton",70),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.accessOverrideChange(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.isAccessOverride=r)}),e.qZA()(),e.YNc(54,Ty,2,1,"div",71),e.YNc(55,wy,2,2,"div",71),e.qZA()(),e.TgZ(56,"app-button",77),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.employeeEdit())}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.employeeForm),e.xp6(36),e.Q6J("options",t.departments),e.xp6(6),e.Q6J("options",t.positions),e.xp6(6),e.Q6J("falseValue",!1)("ngStyle",e.DdM(12,rd))("trueValue",!0),e.xp6(4),e.Q6J("disabled",!t.isAccessOverride),e.xp6(1),e.Q6J("ngModel",t.isAccessOverride)("ngModelOptions",e.DdM(13,$s)),e.xp6(1),e.Q6J("ngIf",t.isAccessOverride),e.xp6(1),e.Q6J("ngIf",!t.isAccessOverride),e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)}}let Nl=(()=>{class n{static getName(t){return 0===t?"\u0411\u0435\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u0430":1===t?"\u0427\u0442\u0435\u043d\u0438\u0435":2===t?"\u0417\u0430\u043f\u0438\u0441\u044c":4===t?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435":8===t?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435":16===t?"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c\u0438":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439"}static flagList(){return this.array().map(t=>({name:this.getName(t),value:t}))}static read(t){const i=[];for(const r of n.array())t&r&&i.push(r);return i}static array(){return Object.values(n)}}return n.NONE=0,n.READ=1,n.WRITE=2,n.DELETE=4,n.ADMIN=8,n.EMPLOYEE_MANAGEMENT=16,n})(),ad=(()=>{class n{constructor(t,i,r){this.api=t,this.confirm=i,this.rt=r,this.employees=[],this.departments=[],this.positions=[],this.showCreateDepartmentDialog=!1,this.showEditDepartmentDialog=!1,this.isBeginCreatingDepartment=!1,this.isBeginEditingDepartment=!1,this.isBeginDeleteDepartment={},this.departmentForm=new R.cw({id:new R.NI(void 0),name:new R.NI("",R.kI.required),description:new R.NI("")}),this.positionForm=new R.cw({id:new R.NI(void 0),name:new R.NI("",R.kI.required),description:new R.NI(""),access:new R.NI([])}),this.showCreatePositionDialog=!1,this.showEditPositionDialog=!1,this.isBeginCreatingPosition=!1,this.isBeginEditingPosition=!1,this.isBeginDeletePosition={},this.showCreateEmployeeDialog=!1,this.showEditEmployeeDialog=!1,this.employeeFiltrationForm=new R.cw({query:new R.NI(""),showDeleted:new R.NI(!1)}),this.employeeForm=new R.cw({lastName:new R.NI(""),firstName:new R.NI("",R.kI.required),secondName:new R.NI(""),internalPhoneNumber:new R.NI,access:new R.NI([]),login:new R.NI("",R.kI.required),password:new R.NI("",R.kI.required),telegramUserId:new R.NI(""),department:new R.NI(void 0,R.kI.required),position:new R.NI(void 0,R.kI.required),offsite:new R.NI(!1)}),this.isAccessOverride=!1,this.accessOfSelectedPosition=[],this.isBeginDeleteEmployee={},this.isBeginCreatingEmployee=!1,this.isBeginEditingEmployee=!1,this.subscriptions=new it.xf}trackByEmployee(t,i){return i.login+i.fullName+JSON.stringify(i.position)+JSON.stringify(i.department)+i.deleted+i.avatar+i.deleted}trackByPosition(t,i){return i.positionId+i.name+i.description+i.deleted}trackByDepartment(t,i){return i.departmentId+i.name+i.description+i.deleted}ngOnDestroy(){this.subscriptions.unsubscribeAll()}ngOnInit(){this.api.getEmployees(void 0,!1).subscribe(t=>this.employees=t),this.api.getDepartments().subscribe(t=>this.departments=t),this.api.getPositions().subscribe(t=>this.positions=t),this.subscriptions.addSubscription("empUpd",this.rt.employeeUpdated().subscribe(t=>{const i=this.employees.findIndex(r=>r.login===t.login);i>=0&&(this.employees[i]=t)})),this.subscriptions.addSubscription("empCr",this.rt.employeeCreated().subscribe(t=>{this.employees.push(t)})),this.subscriptions.addSubscription("empDel",this.rt.employeeDeleted().subscribe(t=>{const i=this.employees.findIndex(r=>r.login===t.login);i>=0&&this.employees.splice(i,1)})),this.subscriptions.addSubscription("depUpd",this.rt.departmentUpdated().subscribe(t=>{const i=this.departments.findIndex(r=>r.departmentId===t.departmentId);i>=0&&(this.departments[i]=t),this.employees.filter(r=>{var c;return(null===(c=r.department)||void 0===c?void 0:c.departmentId)===t.departmentId}).forEach(r=>{r.department=t})})),this.subscriptions.addSubscription("depCr",this.rt.departmentCreated().subscribe(t=>{this.departments.push(t)})),this.subscriptions.addSubscription("depDel",this.rt.departmentDeleted().subscribe(t=>{const i=this.departments.findIndex(r=>r.departmentId===t.departmentId);i>=0&&this.departments.splice(i,1)})),this.subscriptions.addSubscription("posUpd",this.rt.positionUpdated().subscribe(t=>{const i=this.positions.findIndex(r=>r.positionId===t.positionId);i>=0&&(this.positions[i]=t),this.employees.filter(r=>{var c;return(null===(c=r.position)||void 0===c?void 0:c.positionId)===t.positionId}).forEach(r=>{r.position=t})})),this.subscriptions.addSubscription("posCr",this.rt.positionCreated().subscribe(t=>{this.positions.push(t)})),this.subscriptions.addSubscription("posDel",this.rt.positionDeleted().subscribe(t=>{const i=this.positions.findIndex(r=>r.positionId===t.positionId);i>=0&&this.positions.splice(i,1)})),this.subscriptions.addSubscription("empSearch",this.employeeFiltrationForm.valueChanges.pipe((0,ri.b)(1e3),(0,mi.x)()).subscribe(t=>{var i,r;this.employeeFiltrationForm.disable({emitEvent:!1}),this.api.getEmployees(null!==(i=t.query)&&void 0!==i?i:void 0,null!==(r=t.showDeleted)&&void 0!==r?r:void 0).subscribe({next:c=>{this.employees=c,this.employeeFiltrationForm.enable({emitEvent:!1})},error:()=>this.employeeFiltrationForm.enable({emitEvent:!1})})}))}departmentCreate(){this.isBeginCreatingDepartment=!0,this.api.createDepartment(this.departmentForm.getRawValue()).subscribe({complete:()=>{this.isBeginCreatingDepartment=!1,this.showCreateDepartmentDialog=!1},error:()=>{this.isBeginCreatingDepartment=!1}})}departmentDelete(t){"number"==typeof t&&(this.isBeginDeleteDepartment[t]=!0,this.api.deleteDepartment(t).subscribe({complete:()=>{delete this.isBeginDeleteDepartment[t]},error:()=>{delete this.isBeginDeleteDepartment[t]}}))}departmentDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b: "+t.name+"?",accept:()=>{this.departmentDelete(t.departmentId)}})}departmentEdit(){const t=this.departmentForm.value.id;"number"==typeof t&&(this.isBeginEditingDepartment=!0,this.api.editDepartment(this.departmentForm.getRawValue(),t).subscribe({complete:()=>{this.isBeginEditingDepartment=!1,this.showEditDepartmentDialog=!1},error:()=>{this.isBeginEditingDepartment=!1}}))}openDepartmentEditor(t,i,r){"number"==typeof r&&(this.showEditDepartmentDialog=!0,this.departmentForm.setValue({id:r,name:t,description:i}))}openDepartmentCreator(){this.showCreateDepartmentDialog=!0,this.departmentForm.reset()}openPositionCreator(){this.showCreatePositionDialog=!0,this.positionForm.reset()}openPositionEditor(t,i,r,c){"number"==typeof c&&(this.showEditPositionDialog=!0,this.positionForm.setValue({id:c,name:t,description:i,access:Nl.read(r)}))}accessFlags(){return Nl.flagList()}positionCreate(){const t=this.positionForm.getRawValue();this.isBeginCreatingPosition=!0,Array.isArray(t.access)&&(t.access=t.access.reduce((i,r)=>i+r,0)),this.api.createPosition(t).subscribe({complete:()=>{this.isBeginCreatingPosition=!1,this.showCreatePositionDialog=!1},error:()=>{this.isBeginCreatingPosition=!1}})}positionEdit(){const t=this.positionForm.getRawValue();"number"==typeof t.id&&(this.isBeginEditingPosition=!0,Array.isArray(t.access)&&(t.access=t.access.reduce((i,r)=>i+r,0)),this.api.editPosition(t,t.id).subscribe({complete:()=>{this.isBeginEditingPosition=!1,this.showEditPositionDialog=!1},error:()=>{this.isBeginEditingPosition=!1}}))}positionDelete(t){"number"==typeof t&&(this.isBeginDeletePosition[t]=!0,this.api.deletePosition(t).subscribe({complete:()=>{delete this.isBeginDeletePosition[t]},error:()=>{delete this.isBeginDeletePosition[t]}}))}positionDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: "+t.name+"?",accept:()=>{this.positionDelete(t.positionId)}})}openEmployeeCreator(){this.showCreateEmployeeDialog=!0}accessOverrideChange(t){t||this.employeeForm.patchValue({access:[]})}positionSelecting(t){const i=this.positions.find(r=>r.positionId===t.value);i&&i.access&&(this.accessOfSelectedPosition=Nl.read(i.access))}accessFlagTrackBy(t,i){return i.value}checkAllAccess(t){const{checked:i}=t;this.employeeForm.patchValue(i?{access:Nl.array()}:{access:[]})}employeeCreate(){const t=this.employeeForm.getRawValue();this.isBeginCreatingEmployee=!0,Array.isArray(t.access)&&(t.access=t.access.reduce((i,r)=>i+r,0)),this.api.createEmployee(t).subscribe({complete:()=>{this.isBeginCreatingEmployee=!1,this.showCreateEmployeeDialog=!1},error:()=>{this.isBeginCreatingEmployee=!1}})}employeeDeleteConfirm(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: "+t.login+"?",accept:()=>{this.employeeDelete(t.login)}})}employeeDelete(t){"string"==typeof t&&(this.isBeginDeleteEmployee[t]=!0,this.api.deleteEmployee(t).subscribe({complete:()=>{delete this.isBeginDeleteEmployee[t]},error:()=>{delete this.isBeginDeleteEmployee[t]}}))}employeeEdit(){const t=this.employeeForm.getRawValue();"string"==typeof t.login&&(this.isBeginEditingEmployee=!0,Array.isArray(t.access)&&(t.access=t.access.reduce((i,r)=>i+r,0)),this.api.editEmployee(t,t.login).subscribe({complete:()=>{this.isBeginEditingEmployee=!1,this.showEditEmployeeDialog=!1},error:()=>{this.isBeginEditingEmployee=!1}}))}openEmployeeEditor(t){"string"==typeof t&&this.api.getEmployee(t).subscribe({next:i=>{var r,c,h,y;this.employeeForm.patchValue({login:i.login,password:"password",access:Nl.read(null!==(r=i.access)&&void 0!==r?r:0),department:null===(c=i.department)||void 0===c?void 0:c.departmentId,position:null===(h=i.position)||void 0===h?void 0:h.positionId,secondName:i.secondName,firstName:i.firstName,lastName:i.lastName,internalPhoneNumber:i.internalPhoneNumber,telegramUserId:i.telegramUserId,offsite:i.offsite}),this.positionSelecting({value:null===(y=i.position)||void 0===y?void 0:y.positionId}),this.showEditEmployeeDialog=!0},error:()=>{}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Le.YP),e.Y36(Dn.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:43,vars:31,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"stretched","panel","overflow"],["pTemplate","header"],[1,"flexed","column"],[1,"flexed","gap10","vcenter","hcenter",3,"formGroup"],[1,"p-input-icon-left"],[1,"mdi-search"],["formControlName","query","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a...","type","text"],[1,"caption","size-small","f-color-500","flexed","column","hcenter"],["formControlName","showDeleted",3,"falseValue","ngStyle","trueValue"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-text p-button-success",3,"onClick"],[1,"employee-list"],["class","employee-list-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","column","gap10"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","model","p-button-success",3,"onClick"],[1,"list-view"],["class","list-view-item bordered",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap10","column"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","resizable","visibleChange"],["pTemplate","content"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0430",3,"visible","modal","resizable","visibleChange"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","resizable","visibleChange"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"visible","modal","resizable","visibleChange"],["header","\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","resizable","visibleChange"],["header","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",3,"visible","modal","resizable","visibleChange"],[1,"flexed","gap3","hcenter"],[1,"mdi-person"],[1,"employee-list-item"],[3,"deleted","name","size","src"],[1,"caption"],[1,"flexed","gap5","hcenter"],["appColorize",""],[1,"stretched"],["icon","mdi-edit","styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"disabled","onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"disabled","loading","onClick"],[1,"mdi-groups"],[1,"list-view-item","bordered"],[1,"flexed","column","gap5"],["appColorize","",1,"caption","size-small","f-color-500"],["class","caption size-small",3,"style",4,"ngIf"],["icon","mdi-delete","styleClass","p-button-text p-button-danger","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",3,"loading","onClick"],[1,"caption","size-small"],[1,"mdi-badge"],[1,"flexed","column","gap5",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","name","pInputText","","type","text"],["formControlName","description","pInputTextarea","",3,"autoResize","cols","rows"],["icon","add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","loading","onClick"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","loading","onClick"],["header","\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430"],[1,"flexed","gap10","wrapped"],["formControlName","access","name","access",3,"label","value",4,"ngFor","ngForOf"],["formControlName","access","name","access",3,"label","value"],[1,"flexed","gap10","hcenter"],[1,"input-label-wrapper","full-width"],["appRegexPatternChecker","","formControlName","lastName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text"],["appRegexPatternChecker","","formControlName","firstName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text"],["appRegexPatternChecker","","formControlName","secondName","pInputText","","patternRx","^[\u0410-\u044f]+$","type","text"],["appRegexPatternChecker","","formControlName","login","pInputText","","patternRx","^[A-z\\d\\.-_]+$","type","text"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[A-z\\d\\.-_]+$","type","text"],["appRegexPatternChecker","","formControlName","internalPhoneNumber","pInputText","","patternRx","^\\d+$","type","text"],["appRegexPatternChecker","","formControlName","telegramUserId","pInputText","","patternRx","^\\d+$","type","text"],["formControlName","department","optionLabel","name","optionValue","departmentId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options"],["pTemplate","selectedItem"],["pTemplate","item"],["formControlName","position","optionLabel","name","optionValue","positionId","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c",3,"options","onChange"],[1,"input-label-wrapper","flexed","vcenter"],["formControlName","offsite",3,"falseValue","ngStyle","trueValue"],["offLabel","\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","onLabel","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435",3,"disabled","onChange"],["offLabel","\u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c","onLabel","\u0418\u0437 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",3,"ngModel","ngModelOptions","ngModelChange"],["class","flexed gap10 wrapped",4,"ngIf"],["icon","person_add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"disabled","onClick"],["appColorize","",3,"colorString"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value",4,"ngFor","ngForOf","ngForTrackBy"],["name","accessPosition",3,"disabled","label","ngModelOptions","ngModel","value"],["appRegexPatternChecker","","formControlName","password","pInputText","","patternRx","^[A-z\\d\\.-_]+$","type","password"],["icon","save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"p-tabView",2)(4,"p-tabPanel"),e.YNc(5,ns,4,0,"ng-template",3),e.TgZ(6,"div",4)(7,"div",5)(8,"span",6),e._UZ(9,"i",7)(10,"input",8),e.qZA(),e.TgZ(11,"span",9),e._UZ(12,"p-inputSwitch",10),e._uU(13," \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435? "),e.qZA(),e.TgZ(14,"span")(15,"app-button",11),e.NdJ("onClick",function(){return i.openEmployeeCreator()}),e.qZA()()(),e.TgZ(16,"div",12),e.YNc(17,f_,13,10,"div",13),e.qZA()()(),e.TgZ(18,"p-tabPanel"),e.YNc(19,gy,4,0,"ng-template",3),e.TgZ(20,"div",14)(21,"div")(22,"app-button",15),e.NdJ("onClick",function(){return i.openDepartmentCreator()}),e.qZA()(),e.TgZ(23,"div",16),e.YNc(24,fy,8,4,"div",17),e.qZA()()(),e.TgZ(25,"p-tabPanel"),e.YNc(26,C_,4,0,"ng-template",3),e.TgZ(27,"div",18)(28,"app-button",15),e.NdJ("onClick",function(){return i.openPositionCreator()}),e.qZA(),e.TgZ(29,"div",16),e.YNc(30,Ll,8,4,"div",17),e.qZA()()()()()(),e.TgZ(31,"p-dialog",19),e.NdJ("visibleChange",function(c){return i.showCreateDepartmentDialog=c}),e.YNc(32,my,10,6,"ng-template",20),e.qZA(),e.TgZ(33,"p-dialog",21),e.NdJ("visibleChange",function(c){return i.showEditDepartmentDialog=c}),e.YNc(34,_y,10,6,"ng-template",20),e.qZA(),e.TgZ(35,"p-dialog",22),e.NdJ("visibleChange",function(c){return i.showCreatePositionDialog=c}),e.YNc(36,Cy,13,7,"ng-template",20),e.qZA(),e.TgZ(37,"p-dialog",23),e.NdJ("visibleChange",function(c){return i.showEditPositionDialog=c}),e.YNc(38,TT,13,7,"ng-template",20),e.qZA(),e.TgZ(39,"p-dialog",24),e.NdJ("visibleChange",function(c){return i.showCreateEmployeeDialog=c}),e.YNc(40,by,57,14,"ng-template",20),e.qZA(),e.TgZ(41,"p-dialog",25),e.NdJ("visibleChange",function(c){return i.showEditEmployeeDialog=c}),e.YNc(42,w_,57,14,"ng-template",20),e.qZA()),2&t&&(e.xp6(1),e.Udp("padding-bottom","2rem"),e.xp6(6),e.Q6J("formGroup",i.employeeFiltrationForm),e.xp6(5),e.Q6J("falseValue",!1)("ngStyle",e.DdM(30,rd))("trueValue",!0),e.xp6(5),e.Q6J("ngForOf",i.employees)("ngForTrackBy",i.trackByEmployee),e.xp6(7),e.Q6J("ngForOf",i.departments)("ngForTrackBy",i.trackByDepartment),e.xp6(6),e.Q6J("ngForOf",i.positions)("ngForTrackBy",i.trackByPosition),e.xp6(1),e.Q6J("visible",i.showCreateDepartmentDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditDepartmentDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreatePositionDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditPositionDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showCreateEmployeeDialog)("modal",!0)("resizable",!1),e.xp6(2),e.Q6J("visible",i.showEditEmployeeDialog)("modal",!0)("resizable",!1))},dependencies:[ss.A,fo.r,Me,It.k,jn,$e,sh,R._Y,R.Fj,R.JJ,R.JL,R.On,I.PC,hi.xf,hi.x4,Le.jx,I.sg,qi.V,R.sg,R.u,Ht.Lt,nl,p,x.XZ,I.O5,j.g,Ei.zx,Ze.o],styles:[".employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.employee-list-item[_ngcontent-%COMP%]{display:flex;cursor:pointer;padding:1rem;gap:1rem;align-items:center;transition:background-color .2s ease-out}.employee-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--bgc-100)}.department-menu[_ngcontent-%COMP%]{border-left:1px solid var(--bgc-300)}"]}),n})();var xy=C(9936);const x_=["headerItm"],E_=["contentItm"];function ch(n,o){1&n&&e.GkF(0)}function ld(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.header," ")}}function uh(n,o){1&n&&e.GkF(0)}const dh=function(n){return{$implicit:n}};function ph(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,uh,1,0,"ng-container",7),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(2,dh,t))}}let S_=(()=>{class n{constructor(t){this.host=t,this._items=[],this.header="",this.headerTemplate=null,this.itemTemplate=null,this.onScrollDown=new e.vpe}set items(t){this._items=t}get items(){return this._items}onResize(){const t=this.host.nativeElement,i=this.host.nativeElement.parentElement,r=getComputedStyle(i),c=parseFloat(r.getPropertyValue("padding-top")),h=parseFloat(r.getPropertyValue("padding-bottom"));t.style.maxHeight=i.clientHeight-(c+h)+"px"}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>this.onResize()),this.contentItm.nativeElement.onwheel=t=>{const i=t.target;i.scrollHeight-(i.offsetHeight+i.scrollTop)==0&&this.onScrollDown.emit()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-panel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(x_,5),e.Gf(E_,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.headerItm=r.first),e.iGM(r=e.CRH())&&(i.contentItm=r.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)},inputs:{items:"items",header:"header",headerTemplate:"headerTemplate",itemTemplate:"itemTemplate"},outputs:{onScrollDown:"onScrollDown"},decls:7,vars:3,consts:[[1,"header"],["headerItm",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"content"],["contentItm",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,ch,1,0,"ng-container",2),e.YNc(3,ld,2,1,"ng-container",3),e.qZA(),e.TgZ(4,"div",4,5),e.YNc(6,ph,2,4,"div",6),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngTemplateOutlet",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",!i.headerTemplate),e.xp6(3),e.Q6J("ngForOf",i.items))},dependencies:[I.sg,I.O5,I.tP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;border:1px solid var(--bgc-300);min-height:100px;height:max-content;min-width:15rem;max-width:30rem;overflow:hidden}[_nghost-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:.9rem 1.1rem;background-color:#fff;color:var(--tc-700);font-size:1.1rem;font-weight:700;border-bottom:1px solid var(--bgc-300)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;height:100%}"]}),n})();const k_=["taskMovePanel"];function M_(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-button",13),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.checkedTasks=[])}),e.qZA(),e.TgZ(2,"app-button",14),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const c=e.MAs(14);return e.KtG(c.toggle(r))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("@fade",void 0)("disabled",!(null!=t.wireframe&&t.wireframe.stages)||0===(null==t.wireframe||null==t.wireframe.stages?null:t.wireframe.stages.length))}}function D_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.allTaskChecked("null-pointer",r))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3," \u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438 "),e.qZA(),e._UZ(4,"app-colored-tag",21),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("binary",!0),e.xp6(3),e.Q6J("caption",t.getCount("null-pointer"))}}function O_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.checkedTasks=r)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function Ey(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.stageScrollDown("null-pointer"))}),e.YNc(1,D_,5,2,"ng-template",null,16,e.W1O),e.YNc(3,O_,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=e.MAs(2),i=e.MAs(4),r=e.oxw();e.Q6J("headerTemplate",t)("itemTemplate",i)("items",r.tasks["null-pointer"])}}function Sy(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"p-checkbox",19),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.allTaskChecked(c.stageId,r))}),e.qZA(),e.TgZ(2,"span",20),e._uU(3),e.qZA(),e._UZ(4,"app-colored-tag",23),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("binary",!0),e.xp6(2),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("captionForColor",t.label)("caption",i.getCount(t.stageId))}}function ky(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-list-element",22),e.NdJ("checkChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.checkedTasks=r)}),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("check",i.checkedTasks)("item",t)("inlined",!0)}}function My(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-panel",15),e.NdJ("onScrollDown",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.stageScrollDown(c.stageId))}),e.YNc(1,Sy,5,4,"ng-template",null,16,e.W1O),e.YNc(3,ky,1,3,"ng-template",null,17,e.W1O),e.qZA()}if(2&n){const t=o.$implicit,i=e.MAs(2),r=e.MAs(4),c=e.oxw();e.Q6J("headerTemplate",i)("itemTemplate",r)("items",c.tasks[t.stageId])}}const Dy=function(){return[]};let Oy=(()=>{class n{constructor(t,i,r){this.api=t,this.route=i,this.rt=r,this.tasks={},this.tasksCount={},this.tasksLoading={},this.checkedTasks=[],this.taskMoving=!1}ngOnInit(){this.route.params.subscribe(t=>{const{template:i}=t;this.api.getWireframe(i).subscribe(r=>{var c,h;this.api.getActiveTaskInNullStage(0,10,r.wireframeId).subscribe(y=>{this.tasks["null-pointer"]=y.content,this.tasksCount["null-pointer"]=y.totalElements}),r.stages=null===(c=r.stages)||void 0===c?void 0:c.sort((y,O)=>y.orderIndex-O.orderIndex),null===(h=r.stages)||void 0===h||h.forEach(y=>{this.api.getActiveTaskInStage(0,10,r.wireframeId,y.stageId).subscribe(O=>{this.tasks[y.stageId]=O.content,this.tasksCount[y.stageId]=O.totalElements})}),this.wireframe=r,this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe(),this.anyTaskUpdatingSub=this.rt.taskUpdated().subscribe(this.onAnyTaskUpdate.bind(this))})})}ngOnDestroy(){this.anyTaskUpdatingSub&&this.anyTaskUpdatingSub.unsubscribe()}onAnyTaskUpdate(t){var i,r,c,h;for(const y in this.tasks){const O=this.tasks[y].findIndex(ce=>ce.taskId===t.taskId);if(O>=0){const ce=null===(i=this.tasks[y][O].currentStage)||void 0===i?void 0:i.stageId,fe=null===(r=t.currentStage)||void 0===r?void 0:r.stageId;fe&&fe!==ce?(this.tasks[y].splice(O,1),null===(c=this.tasks[fe])||void 0===c||c.push(t),ce&&this.tasksCount[ce]--,this.tasksCount[fe]++,this.tasks[fe]=null===(h=this.tasks[fe])||void 0===h?void 0:h.sort((ct,pt)=>{var rt,Mt;return new Date(null!==(rt=pt.created)&&void 0!==rt?rt:"").getTime()-new Date(null!==(Mt=ct.created)&&void 0!==Mt?Mt:"").getTime()})):this.tasks[y].splice(O,1,t)}}}stageScrollDown(t){this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"!==t?(this.tasksLoading[t]=!0,this.api.getActiveTaskInStage(this.tasks[t].length,10,this.wireframe.wireframeId,t).subscribe(i=>{this.tasks[t]=[...this.tasks[t],...i.content],this.tasksLoading[t]=!1})):this.tasks[t].length<this.tasksCount[t]&&!this.tasksLoading[t]&&this.wireframe&&"null-pointer"===t&&(this.tasksLoading["null-pointer"]=!0,this.api.getActiveTaskInStage(this.tasks["null-pointer"].length,10,this.wireframe.wireframeId,"null-pointer").subscribe(i=>{this.tasks["null-pointer"]=[...this.tasks["null-pointer"],...i.content],this.tasksLoading["null-pointer"]=!1}))}declineTask(t){return it.cQ.declineOfNumber(t,["\u0437\u0430\u0434\u0430\u0447\u0438","\u0437\u0430\u0434\u0430\u0447","\u0437\u0430\u0434\u0430\u0447"])}taskMoveApply(){const t=[];this.checkedTasks.forEach(i=>{"string"==typeof this.selectedStageToMove&&(this.taskMoving=!0,this.api.changeTaskStage(i,this.selectedStageToMove).subscribe({next:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(r=>!t.includes(r)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)},error:()=>{t.push(i),this.checkedTasks=this.checkedTasks.filter(r=>!t.includes(r)),0===this.checkedTasks.length&&(this.taskMovePanel.hide(),this.taskMoving=!1)}}))})}allTaskChecked(t,i){var r,c;!this.wireframe||("null-pointer"!==t?this.api.getActiveTaskIdsInStage(null===(r=this.wireframe)||void 0===r?void 0:r.wireframeId,t).subscribe(h=>{this.checkedTasks=i.checked?[...this.checkedTasks,...h]:this.checkedTasks.filter(y=>!h.includes(y))}):this.api.getActiveTaskIdsInNullStage(null===(c=this.wireframe)||void 0===c?void 0:c.wireframeId).subscribe(h=>{this.checkedTasks=i.checked?[...this.checkedTasks,...h]:this.checkedTasks.filter(y=>!h.includes(y))}))}getCount(t){return this.tasksCount[t]?this.tasksCount[t].toString():"0"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(s.gz),e.Y36(Dn.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(k_,5),2&t){let r;e.iGM(r=e.CRH())&&(i.taskMovePanel=r.first)}},decls:20,vars:13,consts:[["appExtendPageHeight","",1,"flexed","gap10",3,"limited"],[1,"flexed","column","gap5","overflow"],[1,"caption","size-big","p10","flexed","hcenter","gap5"],[1,"material-icons-round"],[1,"stretched"],[4,"ngIf"],["appDragScrolling","",1,"stages-wrapper"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngIf"],[3,"headerTemplate","itemTemplate","items","onScrollDown",4,"ngFor","ngForOf"],["taskMovePanel",""],[1,"flexed","gap10","column"],["optionLabel","label","optionValue","stageId","appendTo","body",3,"options","ngModel","ngModelChange"],["label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",3,"loading","onClick"],["label","\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435","icon","deselect","model","p-button-secondary p-button-outlined",3,"onClick"],["label","\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c","icon","swap_horiz","model","p-button-outlined p-button-help",3,"disabled","onClick"],[3,"headerTemplate","itemTemplate","items","onScrollDown"],["header",""],["taskElem",""],[1,"flexed","hcenter","stretched","spbtw"],[3,"binary","onChange"],["appColorize",""],["captionForColor","\u0411\u0435\u0437 \u0441\u0442\u0430\u0434\u0438\u0438",3,"caption"],[3,"check","item","inlined","checkChange"],[3,"captionForColor","caption"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-main-menu-panel"),e.TgZ(2,"div",1)(3,"div",2)(4,"span",3),e._uU(5,"checklist"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"div",4),e.YNc(9,M_,3,3,"ng-container",5),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,Ey,5,3,"app-list-panel",7),e.YNc(12,My,5,3,"app-list-panel",8),e.qZA()()(),e.TgZ(13,"p-overlayPanel",null,9)(15,"div",10)(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"p-dropdown",11),e.NdJ("ngModelChange",function(c){return i.selectedStageToMove=c}),e.qZA(),e.TgZ(19,"app-button",12),e.NdJ("onClick",function(){return i.taskMoveApply()}),e.qZA()()()),2&t){let r;e.Udp("padding-left","1rem"),e.Q6J("limited",!0),e.xp6(7),e.hij(" \u0421\u0442\u0430\u0434\u0438\u0438 \u0437\u0430\u0434\u0430\u0447: ",null==i.wireframe?null:i.wireframe.name," "),e.xp6(2),e.Q6J("ngIf",i.checkedTasks.length>0),e.xp6(2),e.Q6J("ngIf",i.tasksCount["null-pointer"]>0),e.xp6(1),e.Q6J("ngForOf",null==i.wireframe?null:i.wireframe.stages),e.xp6(5),e.AsE("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0434\u0438\u044e \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f ",i.checkedTasks.length," ",i.declineTask(i.checkedTasks.length),""),e.xp6(1),e.Q6J("options",null!==(r=null==i.wireframe?null:i.wireframe.stages)&&void 0!==r?r:e.DdM(12,Dy))("ngModel",i.selectedStageToMove),e.xp6(1),e.Q6J("loading",i.taskMoving)}},dependencies:[fo.r,Me,Fe.E,jn,$e,Xo,S_,yn.C,R.JJ,R.On,I.sg,Ht.Lt,x.XZ,I.O5,Et.T],styles:[".stages-wrapper[_ngcontent-%COMP%]{display:flex;flex:1;padding:0 2rem 2rem;gap:1rem;overflow-x:scroll;overflow-y:hidden}.stages-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:500px}.stages-content[_ngcontent-%COMP%]{display:grid;grid:1fr/max-content 1fr}.stage-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex:1;background-color:#fff}"],data:{animation:[Fi.U1]}}),n})(),Py=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:6,vars:0,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div")(4,"h2"),e._uU(5,"\u0417\u0434\u0435\u0441\u044c \u043e\u0431\u0449\u0438\u0439 \u0434\u0430\u0448\u0431\u043e\u0430\u0440\u0434"),e.qZA()()()())},dependencies:[Me,$e]}),n})();var Dc=C(8952),P_=C(4496),hh=C(9873);let gh=(()=>{class n{transform(t){switch(t){case ft.b9.AMOUNT:return"\u0448\u0442.";case ft.b9.METRES:return"\u043c.";case ft.b9.KILOGRAMS:return"\u043a\u0433."}return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"unitName",type:n,pure:!0}),n})();function Ry(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",18),e.NdJ("dblclick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.workingTableBack())}),e.TgZ(1,"td",19),e._UZ(2,"span",20),e.TgZ(3,"span"),e._uU(4,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()(),e._UZ(5,"td"),e.qZA()}2&n&&(e.xp6(2),e.Udp("font-size","1em"))}function Ly(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",18),e.NdJ("dblclick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.loadWorksByGroup(r.key))}),e.TgZ(1,"td",19),e._UZ(2,"span"),e.TgZ(3,"span",21),e._uU(4),e.qZA()(),e._UZ(5,"td"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Tol(t.icon),e.Udp("font-size","1em"),e.xp6(2),e.Oqu(t.label)}}function Ny(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",22),e.NdJ("onDragStart",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.workDragging(r.data))}),e.TgZ(1,"td",19),e._UZ(2,"span"),e.TgZ(3,"span",21),e._uU(4),e.qZA()(),e.TgZ(5,"td",23),e._uU(6),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Tol(t.icon),e.Udp("font-size","1em"),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.hij(" ",i.workCost(t.data)," \u0440\u0443\u0431. ")}}function Fy(n,o){1&n&&(e.ynx(0,15),e.YNc(1,Ry,6,2,"tr",16),e.YNc(2,Ly,6,5,"tr",16),e.YNc(3,Ny,7,6,"tr",17),e.BQk()),2&n&&(e.Q6J("ngSwitch",o.$implicit.type),e.xp6(1),e.Q6J("ngSwitchCase","back"),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work"))}function By(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",22),e.NdJ("onDragStart",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.actionDragging(c))}),e.TgZ(1,"td",19),e._UZ(2,"span",24),e.TgZ(3,"span",21),e._uU(4),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"unitName"),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Udp("font-size","1em"),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431/",e.lcZ(7,5,t.unit)," ")}}function Hy(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0420\u0430\u0431\u043e\u0442\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u044d\u0444."),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0423\u0434.?"),e.qZA()())}function R_(n,o){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2),r=t.$implicit;e.uIk("rowspan",t.rowspan),e.xp6(1),e.Oqu(r.workName)}}function L_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",29),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw(2).$implicit,h=e.oxw();return e.KtG(h.updateActionCount(r,c))})("onFocus",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.selectAllValue(r))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw(2).$implicit;return e.KtG(c.count=r)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function N_(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function F_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",30),e.NdJ("onClick",function(r){e.CHM(t);const c=e.oxw(2).$implicit,h=e.oxw(),y=e.MAs(22);return h.selectWorkActions(c.workId,c.workName),e.KtG(y.toggle(r))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function B_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,c=e.oxw();return e.KtG(c.removeWork(r.workId))}),e.qZA()()}if(2&n){const t=e.oxw(2).rowspan;e.uIk("rowspan",t)}}function H_(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,R_,2,2,"td",25),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",26)(5,"p-cellEditor"),e.YNc(6,L_,1,5,"ng-template",27),e.YNc(7,N_,2,4,"ng-template",28),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.YNc(10,F_,2,1,"td",25),e.YNc(11,B_,2,1,"td",25),e.qZA()),2&n){const t=e.oxw(),i=t.rowgroup,r=t.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(2),e.Oqu(r.actionName),e.xp6(6),e.hij("",r.cost," \u0440\u0443\u0431."),e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",i)}}function Z_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-inputNumber",29),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw(2).$implicit,h=e.oxw();return e.KtG(h.updateActionCount(r,c))})("ngModelChange",function(r){e.CHM(t);const c=e.oxw(2).$implicit;return e.KtG(c.count=r)})("onFocus",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.selectAllValue(r))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.count)("allowEmpty",!1)("max",99999)("min",1)("size",4)}}function V_(n,o){if(1&n&&(e._uU(0),e.ALo(1,"unitName")),2&n){const t=e.oxw(2).$implicit;e.AsE(" ",t.count," ",e.lcZ(1,2,t.unit)," ")}}function U_(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td",26)(5,"p-cellEditor"),e.YNc(6,Z_,1,5,"ng-template",27),e.YNc(7,V_,2,4,"ng-template",28),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"p-button",30),e.NdJ("onClick",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw(),y=e.MAs(22);return h.selectAction(c.uuid,c.actionName),e.KtG(y.toggle(r))}),e.qZA()(),e.TgZ(12,"td")(13,"p-button",31),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.removeAction(r.uuid))}),e.qZA()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.actionName),e.xp6(6),e.hij("",t.cost," \u0440\u0443\u0431.")}}function z_(n,o){if(1&n&&(e.YNc(0,H_,12,5,"tr",25),e.YNc(1,U_,14,2,"tr",25)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.workId),e.xp6(1),e.Q6J("ngIf",!t.workId)}}const G_=function(){return{grid:"min-content 1fr / max-content max-content 1fr"}},il=function(n){return{"drop-zone":n}},Zy=function(){return{width:"max-content"}};let fh=(()=>{class n{constructor(t){this.api=t,this.treeMenuWorksItems=[],this.worksTablePath=[],this.worksTableLoading=!1,this.actionsTaken=[],this.isDragging=!1,this.dragEnterCounter=0,this.tableMenuActionsItems=[],this.actionsTableLoading=!1,this.workActionsRatioMenu=[],this.factorsActions=[],this.subscriptions=new it.xf,this.isDisabled=!1,this._employees=[],this.onChange=i=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){null!=t?(this._employees=t,this.workActionsRatioMenu=this.employees.map(i=>({label:i.fullName,items:[{label:"x0.1",command:()=>this.addActionRatio(.1,i.login)},{label:"x0.25",command:()=>this.addActionRatio(.2,i.login)},{label:"x0.5",command:()=>this.addActionRatio(.5,i.login)},{label:"x0.75",command:()=>this.addActionRatio(.75,i.login)},{label:"x1.25",command:()=>this.addActionRatio(1.25,i.login)},{label:"x1.5",command:()=>this.addActionRatio(1.5,i.login)},{label:"x2",command:()=>this.addActionRatio(2,i.login)},{label:"x3",command:()=>this.addActionRatio(3,i.login)}]}))):this._employees=[]}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}writeValue(t){t?(this.actionsTaken=t.actionsTaken,t.factorsActions&&(this.factorsActions=t.factorsActions)):(this.actionsTaken=[],this.factorsActions=[])}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}deselectFactor(){this.selectedUuidActions=void 0}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadWorks(),this.loadActions()}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadActions(){this.actionsTableLoading=!0,this.api.getListAvailablePaidActions().subscribe({next:t=>{this.tableMenuActionsItems=t,this.actionsTableLoading=!1},error:t=>{this.actionsTableLoading=!1}})}loadWorks(){this.worksTableLoading=!0,this.api.getRootTreeOfWorks(!0).subscribe({next:t=>{this.treeMenuWorksItems=t,this.worksTableLoading=!1}})}loadWorksByGroup(t){this.worksTableLoading=!0,this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTablePath.push(t),this.treeMenuWorksItems.unshift({type:"back",key:t}),this.worksTableLoading=!1}})}workingTableBack(){this.worksTablePath.pop();const t=this.worksTablePath.pop();this.worksTableLoading=!0,t?this.api.getWorksOfGroup(t.substring(1),!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.treeMenuWorksItems.unshift({type:"back"}),this.worksTableLoading=!1}}):this.api.getRootTreeOfWorks(!0).subscribe({next:i=>{this.treeMenuWorksItems=i,this.worksTableLoading=!1}})}dropped(){if(this.draggablePaidWork){const t=this.actionsTaken.filter(i=>{var r;return i.workId===(null===(r=this.draggablePaidWork)||void 0===r?void 0:r.paidWorkId)});if(0===t.length)for(let i of this.draggablePaidWork.actions)this.actionsTaken.push({workName:this.draggablePaidWork.name,workId:this.draggablePaidWork.paidWorkId,actionName:i.action.name,count:i.count,unit:i.action.unit,price:i.action.cost,cost:i.action.cost*i.count,actionId:i.action.paidActionId,uuid:(0,dr.Z)()});else t.forEach(i=>{var r;const c=null===(r=this.draggablePaidWork)||void 0===r?void 0:r.actions.find(h=>h.action.paidActionId===i.actionId);c&&(i.count+=c.count,i.cost=i.price*i.count)});this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}if(this.draggableAction){const t=this.actionsTaken.find(i=>{var r;return!i.workId&&i.actionId===(null===(r=this.draggableAction)||void 0===r?void 0:r.paidActionId)});t?(t.count+=1,t.cost=t.price*t.count):this.actionsTaken.push({workName:void 0,workId:void 0,actionName:this.draggableAction.name,count:1,unit:this.draggableAction.unit,price:this.draggableAction.cost,cost:this.draggableAction.cost,actionId:this.draggableAction.paidActionId,uuid:(0,dr.Z)()}),this.actionsTaken=[...this.actionsTaken],this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}this.draggablePaidWork=void 0,this.draggableAction=void 0,this.isDragging=!1,this.dragEnterCounter=0}workDragging(t){this.draggablePaidWork=t}actionDragging(t){this.draggableAction=t}workCost(t){let i=0;for(let r of t.actions)i+=r.action.cost*r.count;return i}removeWork(t){const i=this.actionsTaken.filter(r=>r.workId===t);this.factorsActions=this.factorsActions.filter(r=>!r.actionUuids.some(c=>c===i[0].uuid)),this.actionsTaken=this.actionsTaken.filter(r=>!i.some(c=>c.uuid==r.uuid)),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}updateActionCount(t,i){i.cost=t*i.price}dragEnter(){this.dragEnterCounter++,this.isDragging=!0}dragLeave(){this.dragEnterCounter--,0===this.dragEnterCounter&&(this.isDragging=!1)}removeAction(t){this.factorsActions=this.factorsActions.filter(i=>!i.actionUuids.some(r=>r===t)),this.actionsTaken=this.actionsTaken.filter(i=>i.uuid!==t),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions})}selectAllValue(t){const i=t.target;i.setSelectionRange(0,i.value.length)}addActionRatio(t,i){!this.selectedUuidActions||!this.selectedWorkName||(this.factorsActions.push({factor:t,login:i,name:this.selectedWorkName,actionUuids:this.selectedUuidActions,uuid:(0,dr.Z)()}),this.onChange({actionsTaken:this.actionsTaken,factorsActions:this.factorsActions}))}selectWorkActions(t,i){this.selectedUuidActions=this.actionsTaken.filter(r=>r.workId===t).map(r=>r.uuid),this.selectedWorkName=i}selectAction(t,i){this.selectedUuidActions=[t],this.selectedWorkName=i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-works-picker"]],inputs:{employees:"employees"},features:[e._Bn([{provide:R.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0},Le.Y])],decls:23,vars:19,consts:[[1,"grided","gap5"],[1,"caption","size-big","wt-bold","f-color-500"],[1,"table-wrapper"],["styleClass","tab-content-unpadding"],["header","\u0420\u0430\u0431\u043e\u0442\u044b"],["styleClass","p-datatable-sm",3,"loading","rowHover","value"],["pTemplate","body"],["header","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"],[1,"mds-sync_alt","caption","size-huge","self-center"],["pDroppable","dd",1,"stretched","flexed","column","table-wrapper",3,"ngClass","onDragEnter","onDragLeave","onDrop"],["groupRowsBy","workId","rowGroupMode","rowspan","sortField","workName","sortMode","single",1,"stretched",3,"value"],["pTemplate","header"],[1,"flexed","hcenter","vend","caption","f-color-400","wt-tiny","size-huge","p5"],["appendTo","body",3,"model","popup","onHide"],["ratioMenu",""],[3,"ngSwitch"],["class","not-selectable",3,"dblclick",4,"ngSwitchCase"],["class","not-selectable cursor-move","dragEffect","move","pDraggable","dd",3,"onDragStart",4,"ngSwitchCase"],[1,"not-selectable",3,"dblclick"],[1,"caption","size-small","with-icon"],[1,"mdi-subdirectory_arrow_left"],[1,"caption","f-inline"],["dragEffect","move","pDraggable","dd",1,"not-selectable","cursor-move",3,"onDragStart"],[1,"caption","size-small"],[1,"mdi-directions_run"],[4,"ngIf"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],[3,"ngModel","allowEmpty","max","min","size","ngModelChange","onFocus"],["icon","mdi-percent","styleClass","p-button-text p-button-icon p-button-success",3,"onClick"],["icon","mdi-delete","styleClass","p-button-text p-button-icon p-button-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e._UZ(3,"span"),e.TgZ(4,"div",1),e._uU(5," \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e.TgZ(6,"div",2)(7,"p-tabView",3)(8,"p-tabPanel",4)(9,"p-table",5),e.YNc(10,Fy,4,4,"ng-template",6),e.qZA()(),e.TgZ(11,"p-tabPanel",7)(12,"p-table",5),e.YNc(13,By,8,7,"ng-template",6),e.qZA()()()(),e._UZ(14,"span",8),e.TgZ(15,"div",9),e.NdJ("onDragEnter",function(){return i.dragEnter()})("onDragLeave",function(){return i.dragLeave()})("onDrop",function(){return i.dropped()}),e.TgZ(16,"p-table",10),e.YNc(17,Hy,13,0,"ng-template",11),e.YNc(18,z_,2,2,"ng-template",6),e.qZA(),e.TgZ(19,"div",12),e._uU(20),e.qZA()()(),e.TgZ(21,"p-slideMenu",13,14),e.NdJ("onHide",function(){return i.deselectFactor()}),e.qZA()),2&t&&(e.Akn(e.DdM(15,G_)),e.xp6(9),e.Q6J("loading",i.worksTableLoading)("rowHover",!0)("value",i.treeMenuWorksItems),e.xp6(3),e.Q6J("loading",i.actionsTableLoading)("rowHover",!0)("value",i.tableMenuActionsItems),e.xp6(3),e.Q6J("ngClass",e.VKq(16,il,i.isDragging)),e.xp6(1),e.Q6J("value",i.actionsTaken),e.xp6(4),e.hij(" \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442: ",i.totalCostOfWork," \u0440\u0443\u0431. "),e.xp6(1),e.Akn(e.DdM(18,Zy)),e.Q6J("model",i.workActionsRatioMenu)("popup",!0))},dependencies:[I.mk,I.O5,I.RF,I.n9,Ei.zx,R.JJ,R.On,Le.jx,mt.Rn,hi.xf,hi.x4,Dc.iA,Dc.Wq,Dc.YL,P_.aj,hh._l,hh.bK,gh]}),n})();const Fl=function(){return{fullName:"\u0412\u0441\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",login:"s"}},Vy=function(n){return[n]};let mh=(()=>{class n{constructor(t){this.api=t,this.items=[],this.fields=[{name:"\u0411\u0443\u043b\u0435\u0432\u043e",id:(0,dr.Z)(),type:ft._r.BOOLEAN,orderPosition:1,listViewIndex:1},{name:"\u0418\u043d\u0442\u0435\u0433\u0435\u0440",id:(0,dr.Z)(),type:ft._r.INTEGER,orderPosition:1,listViewIndex:1},{name:"\u0424\u043b\u043e\u0430\u0442",id:(0,dr.Z)(),type:ft._r.FLOAT,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043a\u0441\u0442",id:(0,dr.Z)(),type:ft._r.LARGE_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0421\u0442\u0440\u043e\u043a\u0430",id:(0,dr.Z)(),type:ft._r.SMALL_TEXT,orderPosition:1,listViewIndex:1},{name:"\u0410\u0434\u0440\u0435\u0441",id:(0,dr.Z)(),type:ft._r.ADDRESS,orderPosition:1,listViewIndex:1},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",id:(0,dr.Z)(),type:ft._r.PHONE_ARRAY,orderPosition:1,listViewIndex:1}],this.form=new R.cw({}),this.employees$=this.api.getEmployees(),this.users=[],this.filterForm=new R.cw({mode:new R.NI("login"),query:new R.NI("")}),this.filterChange$=this.filterForm.valueChanges.pipe((0,ri.b)(1e3),(0,mi.x)(),(0,Sr.w)(i=>{if(!i.query)return(0,cr.of)([]);switch(i.mode){case"login":return this.api.getBillingUsersByLogin(i.query);case"fio":return this.api.getBillingUsersByFio(i.query);case"address":return this.api.getBillingUsersByAddress(i.query)}return(0,cr.of)([])})),this.filterModeItems=[{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"},{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"}],this.usersHandler={next:i=>{this.users=i}},this.workPickerControl=new R.NI(null)}ngOnInit(){for(let t=0;t<1e4;t++)this.generateRandomString();for(const t of this.fields)this.form.addControl(t.id,new R.NI(null));this.filterChange$.subscribe(this.usersHandler),this.form.valueChanges.subscribe(t=>console.log(t)),this.workPickerControl.valueChanges.subscribe(console.log)}generateRandomString(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";const r=t.length;for(let c=0;c<5;c++)i+=t.charAt(Math.floor(Math.random()*r));this.items.push(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:5,consts:[["appExtendPageHeight","",1,"flexed","column","gap10","hcenter","vcenter","p10"],[3,"formControl","employees"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-works-picker",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formControl",i.workPickerControl)("employees",e.VKq(3,Vy,e.DdM(2,Fl))))},dependencies:[$e,fh,R.JJ,R.oH],styles:[".hovered[_ngcontent-%COMP%]{background-color:#fff;transition:background-color .2s ease-in-out;cursor:pointer}.hovered[_ngcontent-%COMP%]:hover{background-color:#00f}"]}),n})();const wT=["paginator"];function Q_(n,o){1&n&&e.GkF(0)}function J_(n,o){1&n&&e._UZ(0,"app-task-list-element",15),2&n&&e.Q6J("item",o.$implicit)}const xT=function(){return{flex:"1",minHeight:"2rem"}};function Qn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.YNc(1,J_,1,1,"app-task-list-element",11),e._UZ(2,"div"),e.TgZ(3,"div",12)(4,"p-paginator",13,14),e.NdJ("onPageChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.changePage(r))}),e.qZA()()()}if(2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngForOf",t.tasks)("ngForTrackBy",t.taskTrack),e.xp6(1),e.Akn(e.DdM(8,xT)),e.xp6(2),e.Q6J("alwaysShow",!1)("rows",t.PAGE_SIZE)("showCurrentPageReport",!0)("totalRecords",null!==(i=null==t.taskPage?null:t.taskPage.totalElements)&&void 0!==i?i:0)}}function Uy(n,o){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"p-progressSpinner",17),e.qZA())}function zy(n,o){1&n&&(e.TgZ(0,"div",16)(1,"span",18),e._UZ(2,"span",19),e.TgZ(3,"span"),e._uU(4," \u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0437\u0430\u0434\u0430\u0447 \u043d\u0435\u0442 "),e.qZA()()())}function Gy(n,o){if(1&n&&(e.ynx(0,7),e.YNc(1,Qn,6,9,"div",8),e.YNc(2,Uy,2,0,"div",9),e.YNc(3,zy,5,0,"div",9),e.BQk()),2&n){const t=e.oxw();e.Q6J("ngSwitch",t.status),e.xp6(1),e.Q6J("ngSwitchCase","ready"),e.xp6(1),e.Q6J("ngSwitchCase","loading"),e.xp6(1),e.Q6J("ngSwitchCase","empty")}}let Bl=(()=>{class n{constructor(t,i,r){this.api=t,this.rt=i,this.personality=r,this.PAGE_SIZE=25,this.filtersForm=new R.cw({template:new R.NI([])}),this.status="loading",this.subscribes=new it.xf,this._pageNum=0}get pageNum(){var t;return null!==(t=this._pageNum)&&void 0!==t?t:0}set pageNum(t){this._pageNum=null!=t?t:0}get tasks(){var t;return(null===(t=this.taskPage)||void 0===t?void 0:t.content)||[]}ngOnInit(){this.personality.onGettingUserData.subscribe(i=>{this.subscribes.addSubscription("tskCr",this.rt.incomingTaskCreated(i.login).subscribe(this.rtCreateTask.bind(this)))}),this.subscribes.addSubscription("tskUp",this.rt.taskUpdated().subscribe(this.rtUpdateTask.bind(this))),this.subscribes.addSubscription("cngFltr",this.filtersForm.valueChanges.pipe((0,Ka.h)(i=>!!i.template&&i.template.length>0)).subscribe(i=>{this.toFirstPage(),this.loadTasks(i)})),this.pageNum=it.Ke.load("incomingPageNum");const t=it.Ke.load("incomingFilters");t&&this.filtersForm.setValue(t)}toFirstPage(){this.pageNum=0,this.paginator&&(this.paginator.first=0)}rtCreateTask(t){var i,r;null!==(i=this.taskPage)&&void 0!==i&&i.first&&(null===(r=this.taskPage.content)||void 0===r||r.unshift(t))}rtUpdateTask(t){var i;if(null!==(i=this.taskPage)&&void 0!==i&&i.content){const r=this.taskPage.content.findIndex(c=>c.taskId===t.taskId);-1!==r&&(this.taskPage.content[r]=t)}}loadTasks(t){this.status="loading",this.api.getIncomingTasks(this.pageNum,this.PAGE_SIZE,t).pipe((0,Sr.w)(i=>i.pageable.pageNumber<=i.totalPages?(0,cr.of)(i):(this.toFirstPage(),this.api.getIncomingTasks(this.pageNum,this.PAGE_SIZE,t)))).subscribe({next:i=>{this.taskPage=i,it.Ke.save("incomingPageNum",this.pageNum),it.Ke.save("incomingFilters",t),this.status=0===this.taskPage.totalElements?"empty":"ready"},error:()=>{this.status="error"}})}changePage(t){this.pageNum=t.page,this.loadTasks(this.filtersForm.getRawValue())}taskTrack(t,i){return i.taskId}isNewDate(t,i){if(0===i)return!0;const r=t[i-1],c=t[i];if(!r||!c)return!1;const h=new Date(r.created);h.setHours(0,0,0,0);const y=new Date(c.created);return y.setHours(0,0,0,0),h.getTime()>y.getTime()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Dn.U),e.Y36(wo.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(wT,5),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first)}},decls:9,vars:2,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","gap10","stretched"],[4,"ngTemplateOutlet"],[3,"formGroup"],["formControlName","template"],["taskList",""],[3,"ngSwitch"],["class","flexed column stretched gap10",4,"ngSwitchCase"],["class","flexed column stretched hcenter vcenter self-center",4,"ngSwitchCase"],[1,"flexed","column","stretched","gap10"],[3,"item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sticky","bottom0"],["currentPageReportTemplate","\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0441 {first} \u043f\u043e {last} \u0438\u0437 {totalRecords} \u0437\u0430\u0434\u0430\u0447","styleClass","panel",3,"alwaysShow","rows","showCurrentPageReport","totalRecords","onPageChange"],["paginator",""],[3,"item"],[1,"flexed","column","stretched","hcenter","vcenter","self-center"],["strokeWidth","1",1,"primary-spinner"],[1,"caption","size-big","wt-bold","f-color-500","flexed","column","hcenter","vcenter"],[1,"mds-inbox"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,Q_,1,0,"ng-container",3),e.ynx(5,4),e._UZ(6,"app-task-template-multi-selector",5),e.BQk(),e.qZA()()(),e.YNc(7,Gy,4,4,"ng-template",null,6,e.W1O)),2&t){const r=e.MAs(8);e.xp6(4),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("formGroup",i.filtersForm)}},dependencies:[Me,Fe.E,$e,Di,R.JJ,R.JL,I.sg,R.sg,R.u,I.tP,I.RF,I.n9,hn.G,Wo.D]}),n})();var Oc,Bn,Pc,Rc,Ra,_h,j_,Ch,Lc={},vh=[],W_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ma(n,o){for(var t in o)n[t]=o[t];return n}function Y_(n){var o=n.parentNode;o&&o.removeChild(n)}function _t(n,o,t){var i,r,c,h={};for(c in o)"key"==c?i=o[c]:"ref"==c?r=o[c]:h[c]=o[c];if(arguments.length>2&&(h.children=arguments.length>3?Oc.call(arguments,2):t),"function"==typeof n&&null!=n.defaultProps)for(c in n.defaultProps)void 0===h[c]&&(h[c]=n.defaultProps[c]);return _a(n,h,i,r,null)}function _a(n,o,t,i,r){var c={type:n,props:o,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++Pc:r};return null==r&&null!=Bn.vnode&&Bn.vnode(c),c}function ji(n){return n.children}function Nc(n,o,t){"-"===o[0]?n.setProperty(o,null==t?"":t):n[o]=null==t?"":"number"!=typeof t||W_.test(o)?t:t+"px"}function Fc(n,o,t,i,r){var c;e:if("style"===o)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(o in i)t&&o in t||Nc(n.style,o,"");if(t)for(o in t)i&&t[o]===i[o]||Nc(n.style,o,t[o])}else if("o"===o[0]&&"n"===o[1])c=o!==(o=o.replace(/Capture$/,"")),o=o.toLowerCase()in n?o.toLowerCase().slice(2):o.slice(2),n.l||(n.l={}),n.l[o+c]=t,t?i||n.addEventListener(o,c?yh:bh,c):n.removeEventListener(o,c?yh:bh,c);else if("dangerouslySetInnerHTML"!==o){if(r)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==o&&"height"!==o&&"href"!==o&&"list"!==o&&"form"!==o&&"tabIndex"!==o&&"download"!==o&&o in n)try{n[o]=null==t?"":t;break e}catch(h){}"function"==typeof t||(null==t||!1===t&&-1==o.indexOf("-")?n.removeAttribute(o):n.setAttribute(o,t))}}function bh(n){Rc=!0;try{return this.l[n.type+!1](Bn.event?Bn.event(n):n)}finally{Rc=!1}}function yh(n){Rc=!0;try{return this.l[n.type+!0](Bn.event?Bn.event(n):n)}finally{Rc=!1}}function Xs(n,o){this.props=n,this.context=o}function Ca(n,o){if(null==o)return n.__?Ca(n.__,n.__.__k.indexOf(n)+1):null;for(var t;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e)return t.__e;return"function"==typeof n.type?Ca(n):null}function Hl(n){var o,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,o=0;o<n.__k.length;o++)if(null!=(t=n.__k[o])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return Hl(n)}}function Jy(n){Rc?setTimeout(n):j_(n)}function Ih(n){(!n.__d&&(n.__d=!0)&&Ra.push(n)&&!ud.__r++||_h!==Bn.debounceRendering)&&((_h=Bn.debounceRendering)||Jy)(ud)}function ud(){var n,o,t,i,r,c,h,y;for(Ra.sort(function(O,ce){return O.__v.__b-ce.__v.__b});n=Ra.shift();)n.__d&&(o=Ra.length,i=void 0,r=void 0,h=(c=(t=n).__v).__e,(y=t.__P)&&(i=[],(r=ma({},c)).__v=c.__v+1,xh(y,c,r,t.__n,void 0!==y.ownerSVGElement,null!=c.__h?[h]:null,i,null==h?Ca(c):h,c.__h),q_(i,c),c.__e!=h&&Hl(c)),Ra.length>o&&Ra.sort(function(O,ce){return O.__v.__b-ce.__v.__b}));ud.__r=0}function Ah(n,o,t,i,r,c,h,y,O,ce){var fe,ct,pt,rt,Mt,Wt,zt,dn=i&&i.__k||vh,On=dn.length;for(t.__k=[],fe=0;fe<o.length;fe++)if(null!=(rt=t.__k[fe]=null==(rt=o[fe])||"boolean"==typeof rt?null:"string"==typeof rt||"number"==typeof rt||"bigint"==typeof rt?_a(null,rt,null,null,rt):Array.isArray(rt)?_a(ji,{children:rt},null,null,null):rt.__b>0?_a(rt.type,rt.props,rt.key,rt.ref?rt.ref:null,rt.__v):rt)){if(rt.__=t,rt.__b=t.__b+1,null===(pt=dn[fe])||pt&&rt.key==pt.key&&rt.type===pt.type)dn[fe]=void 0;else for(ct=0;ct<On;ct++){if((pt=dn[ct])&&rt.key==pt.key&&rt.type===pt.type){dn[ct]=void 0;break}pt=null}xh(n,rt,pt=pt||Lc,r,c,h,y,O,ce),Mt=rt.__e,(ct=rt.ref)&&pt.ref!=ct&&(zt||(zt=[]),pt.ref&&zt.push(pt.ref,null,rt),zt.push(ct,rt.__c||Mt,rt)),null!=Mt?(null==Wt&&(Wt=Mt),"function"==typeof rt.type&&rt.__k===pt.__k?rt.__d=O=Th(rt,O,n):O=K_(n,rt,pt,dn,Mt,O),"function"==typeof t.type&&(t.__d=O)):O&&pt.__e==O&&O.parentNode!=n&&(O=Ca(pt))}for(t.__e=Wt,fe=On;fe--;)null!=dn[fe]&&("function"==typeof t.type&&null!=dn[fe].__e&&dn[fe].__e==t.__d&&(t.__d=wh(i).nextSibling),Wy(dn[fe],dn[fe]));if(zt)for(fe=0;fe<zt.length;fe++)jy(zt[fe],zt[++fe],zt[++fe])}function Th(n,o,t){for(var i,r=n.__k,c=0;r&&c<r.length;c++)(i=r[c])&&(i.__=n,o="function"==typeof i.type?Th(i,o,t):K_(t,i,i,r,i.__e,o));return o}function Wr(n,o){return o=o||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(t){Wr(t,o)}):o.push(n)),o}function K_(n,o,t,i,r,c){var h,y,O;if(void 0!==o.__d)h=o.__d,o.__d=void 0;else if(null==t||r!=c||null==r.parentNode)e:if(null==c||c.parentNode!==n)n.appendChild(r),h=null;else{for(y=c,O=0;(y=y.nextSibling)&&O<i.length;O+=1)if(y==r)break e;n.insertBefore(r,c),h=c}return void 0!==h?h:r.nextSibling}function wh(n){var o,t,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(o=n.__k.length-1;o>=0;o--)if((t=n.__k[o])&&(i=wh(t)))return i;return null}function xh(n,o,t,i,r,c,h,y,O){var ce,fe,ct,pt,rt,Mt,Wt,zt,dn,On,ti,Yn,Pi,vo,Bo,Ni=o.type;if(void 0!==o.constructor)return null;null!=t.__h&&(O=t.__h,y=o.__e=t.__e,o.__h=null,c=[y]),(ce=Bn.__b)&&ce(o);try{e:if("function"==typeof Ni){if(zt=o.props,dn=(ce=Ni.contextType)&&i[ce.__c],On=ce?dn?dn.props.value:ce.__:i,t.__c?Wt=(fe=o.__c=t.__c).__=fe.__E:("prototype"in Ni&&Ni.prototype.render?o.__c=fe=new Ni(zt,On):(o.__c=fe=new Xs(zt,On),fe.constructor=Ni,fe.render=ST),dn&&dn.sub(fe),fe.props=zt,fe.state||(fe.state={}),fe.context=On,fe.__n=i,ct=fe.__d=!0,fe.__h=[],fe._sb=[]),null==fe.__s&&(fe.__s=fe.state),null!=Ni.getDerivedStateFromProps&&(fe.__s==fe.state&&(fe.__s=ma({},fe.__s)),ma(fe.__s,Ni.getDerivedStateFromProps(zt,fe.__s))),pt=fe.props,rt=fe.state,fe.__v=o,ct)null==Ni.getDerivedStateFromProps&&null!=fe.componentWillMount&&fe.componentWillMount(),null!=fe.componentDidMount&&fe.__h.push(fe.componentDidMount);else{if(null==Ni.getDerivedStateFromProps&&zt!==pt&&null!=fe.componentWillReceiveProps&&fe.componentWillReceiveProps(zt,On),!fe.__e&&null!=fe.shouldComponentUpdate&&!1===fe.shouldComponentUpdate(zt,fe.__s,On)||o.__v===t.__v){for(o.__v!==t.__v&&(fe.props=zt,fe.state=fe.__s,fe.__d=!1),o.__e=t.__e,o.__k=t.__k,o.__k.forEach(function(ac){ac&&(ac.__=o)}),ti=0;ti<fe._sb.length;ti++)fe.__h.push(fe._sb[ti]);fe._sb=[],fe.__h.length&&h.push(fe);break e}null!=fe.componentWillUpdate&&fe.componentWillUpdate(zt,fe.__s,On),null!=fe.componentDidUpdate&&fe.__h.push(function(){fe.componentDidUpdate(pt,rt,Mt)})}if(fe.context=On,fe.props=zt,fe.__P=n,Yn=Bn.__r,Pi=0,"prototype"in Ni&&Ni.prototype.render){for(fe.state=fe.__s,fe.__d=!1,Yn&&Yn(o),ce=fe.render(fe.props,fe.state,fe.context),vo=0;vo<fe._sb.length;vo++)fe.__h.push(fe._sb[vo]);fe._sb=[]}else do{fe.__d=!1,Yn&&Yn(o),ce=fe.render(fe.props,fe.state,fe.context),fe.state=fe.__s}while(fe.__d&&++Pi<25);fe.state=fe.__s,null!=fe.getChildContext&&(i=ma(ma({},i),fe.getChildContext())),ct||null==fe.getSnapshotBeforeUpdate||(Mt=fe.getSnapshotBeforeUpdate(pt,rt)),Bo=null!=ce&&ce.type===ji&&null==ce.key?ce.props.children:ce,Ah(n,Array.isArray(Bo)?Bo:[Bo],o,t,i,r,c,h,y,O),fe.base=o.__e,o.__h=null,fe.__h.length&&h.push(fe),Wt&&(fe.__E=fe.__=null),fe.__e=!1}else null==c&&o.__v===t.__v?(o.__k=t.__k,o.__e=t.__e):o.__e=function ET(n,o,t,i,r,c,h,y){var O,ce,fe,ct=t.props,pt=o.props,rt=o.type,Mt=0;if("svg"===rt&&(r=!0),null!=c)for(;Mt<c.length;Mt++)if((O=c[Mt])&&"setAttribute"in O==!!rt&&(rt?O.localName===rt:3===O.nodeType)){n=O,c[Mt]=null;break}if(null==n){if(null===rt)return document.createTextNode(pt);n=r?document.createElementNS("http://www.w3.org/2000/svg",rt):document.createElement(rt,pt.is&&pt),c=null,y=!1}if(null===rt)ct===pt||y&&n.data===pt||(n.data=pt);else{if(c=c&&Oc.call(n.childNodes),ce=(ct=t.props||Lc).dangerouslySetInnerHTML,fe=pt.dangerouslySetInnerHTML,!y){if(null!=c)for(ct={},Mt=0;Mt<n.attributes.length;Mt++)ct[n.attributes[Mt].name]=n.attributes[Mt].value;(fe||ce)&&(fe&&(ce&&fe.__html==ce.__html||fe.__html===n.innerHTML)||(n.innerHTML=fe&&fe.__html||""))}if(function Qy(n,o,t,i,r){var c;for(c in t)"children"===c||"key"===c||c in o||Fc(n,c,null,t[c],i);for(c in o)r&&"function"!=typeof o[c]||"children"===c||"key"===c||"value"===c||"checked"===c||t[c]===o[c]||Fc(n,c,o[c],t[c],i)}(n,pt,ct,r,y),fe)o.__k=[];else if(Mt=o.props.children,Ah(n,Array.isArray(Mt)?Mt:[Mt],o,t,i,r&&"foreignObject"!==rt,c,h,c?c[0]:t.__k&&Ca(t,0),y),null!=c)for(Mt=c.length;Mt--;)null!=c[Mt]&&Y_(c[Mt]);y||("value"in pt&&void 0!==(Mt=pt.value)&&(Mt!==n.value||"progress"===rt&&!Mt||"option"===rt&&Mt!==ct.value)&&Fc(n,"value",Mt,ct.value,!1),"checked"in pt&&void 0!==(Mt=pt.checked)&&Mt!==n.checked&&Fc(n,"checked",Mt,ct.checked,!1))}return n}(t.__e,o,t,i,r,c,h,O);(ce=Bn.diffed)&&ce(o)}catch(ac){o.__v=null,(O||null!=c)&&(o.__e=y,o.__h=!!O,c[c.indexOf(y)]=null),Bn.__e(ac,o,t)}}function q_(n,o){Bn.__c&&Bn.__c(o,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){Bn.__e(i,t.__v)}})}function jy(n,o,t){try{"function"==typeof n?n(o):n.current=o}catch(i){Bn.__e(i,t)}}function Wy(n,o,t){var i,r;if(Bn.unmount&&Bn.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||jy(i,null,o)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(c){Bn.__e(c,o)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&Wy(i[r],o,t||"function"!=typeof n.type);t||null==n.__e||Y_(n.__e),n.__=n.__e=n.__d=void 0}function ST(n,o,t){return this.constructor(n,t)}function va(n,o,t){var i,r,c;Bn.__&&Bn.__(n,o),r=(i="function"==typeof t)?null:t&&t.__k||o.__k,c=[],xh(o,n=(!i&&t||o).__k=_t(ji,null,[n]),r||Lc,Lc,void 0!==o.ownerSVGElement,!i&&t?[t]:r?null:o.firstChild?Oc.call(o.childNodes):null,c,!i&&t?t:r?r.__e:o.firstChild,i),q_(c,n)}Oc=vh.slice,Bn={__e:function(n,o,t,i){for(var r,c,h;o=o.__;)if((r=o.__c)&&!r.__)try{if((c=r.constructor)&&null!=c.getDerivedStateFromError&&(r.setState(c.getDerivedStateFromError(n)),h=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(n,i||{}),h=r.__d),h)return r.__E=r}catch(y){n=y}throw n}},Pc=0,Rc=!1,Xs.prototype.setState=function(n,o){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ma({},this.state),"function"==typeof n&&(n=n(ma({},t),this.props)),n&&ma(t,n),null!=n&&this.__v&&(o&&this._sb.push(o),Ih(this))},Xs.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Ih(this))},Xs.prototype.render=ji,Ra=[],j_="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ud.__r=0,Ch=0;var Wi,Eh,X_,eC=[],dd=[],Sh=Bn.__b,tC=Bn.__r,nC=Bn.diffed,Vl=Bn.__c,iC=Bn.unmount;function Ph(){for(var n;n=eC.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(pd),n.__H.__h.forEach(Rh),n.__H.__h=[]}catch(o){n.__H.__h=[],Bn.__e(o,n.__v)}}Bn.__b=function(n){Wi=null,Sh&&Sh(n)},Bn.__r=function(n){tC&&tC(n);var o=(Wi=n.__c).__H;o&&(Eh===Wi?(o.__h=[],Wi.__h=[],o.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=dd,t.__N=t.i=void 0})):(o.__h.forEach(pd),o.__h.forEach(Rh),o.__h=[])),Eh=Wi},Bn.diffed=function(n){nC&&nC(n);var o=n.__c;o&&o.__H&&(o.__H.__h.length&&(1!==eC.push(o)&&X_===Bn.requestAnimationFrame||((X_=Bn.requestAnimationFrame)||lC)(Ph)),o.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==dd&&(t.__=t.__V),t.i=void 0,t.__V=dd})),Eh=Wi=null},Bn.__c=function(n,o){o.some(function(t){try{t.__h.forEach(pd),t.__h=t.__h.filter(function(i){return!i.__||Rh(i)})}catch(i){o.some(function(r){r.__h&&(r.__h=[])}),o=[],Bn.__e(i,t.__v)}}),Vl&&Vl(n,o)},Bn.unmount=function(n){iC&&iC(n);var o,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{pd(i)}catch(r){o=r}}),t.__H=void 0,o&&Bn.__e(o,t.__v))};var aC="function"==typeof requestAnimationFrame;function lC(n){var o,t=function(){clearTimeout(i),aC&&cancelAnimationFrame(o),setTimeout(n)},i=setTimeout(t,100);aC&&(o=requestAnimationFrame(t))}function pd(n){var o=Wi,t=n.__c;"function"==typeof t&&(n.__c=void 0,t()),Wi=o}function Rh(n){var o=Wi;n.__c=n.__(),Wi=o}function Nh(n,o){for(var t in n)if("__source"!==t&&!(t in o))return!0;for(var i in o)if("__source"!==i&&n[i]!==o[i])return!0;return!1}function Bh(n){this.props=n}(Bh.prototype=new Xs).isPureReactComponent=!0,Bh.prototype.shouldComponentUpdate=function(n,o){return Nh(this.props,n)||Nh(this.state,o)};var Hh=Bn.__b;Bn.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Hh&&Hh(n)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var nI=Bn.__e;Bn.__e=function(n,o,t,i){if(n.then)for(var r,c=o;c=c.__;)if((r=c.__c)&&r.__c)return null==o.__e&&(o.__e=t.__e,o.__k=t.__k),r.__c(n,o);nI(n,o,t,i)};var pC=Bn.unmount;function hd(n,o,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){"function"==typeof i.__c&&i.__c()}),n.__c.__H=null),null!=(n=function uC(n,o){for(var t in o)n[t]=o[t];return n}({},n)).__c&&(n.__c.__P===t&&(n.__c.__P=o),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return hd(i,o,t)})),n}function gd(n,o,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return gd(i,o,t)}),n.__c&&n.__c.__P===o&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Zc(){this.__u=0,this.t=null,this.__b=null}function fd(n){var o=n.__.__c;return o&&o.__a&&o.__a(n)}function Vc(){this.u=null,this.o=null}Bn.unmount=function(n){var o=n.__c;o&&o.__R&&o.__R(),o&&!0===n.__h&&(n.type=null),pC&&pC(n)},(Zc.prototype=new Xs).__c=function(n,o){var t=o.__c,i=this;null==i.t&&(i.t=[]),i.t.push(t);var r=fd(i.__v),c=!1,h=function(){c||(c=!0,t.__R=null,r?r(y):y())};t.__R=h;var y=function(){if(!--i.__u){if(i.state.__a){var ce=i.state.__a;i.__v.__k[0]=gd(ce,ce.__c.__P,ce.__c.__O)}var fe;for(i.setState({__a:i.__b=null});fe=i.t.pop();)fe.forceUpdate()}},O=!0===o.__h;i.__u++||O||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(h,h)},Zc.prototype.componentWillUnmount=function(){this.t=[]},Zc.prototype.render=function(n,o){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=hd(this.__b,t,i.__O=i.__P)}this.__b=null}var r=o.__a&&_t(ji,null,n.fallback);return r&&(r.__h=null),[_t(ji,null,o.__a?null:n.children),r]};var md=function(n,o,t){if(++t[1]===t[0]&&n.o.delete(o),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function oI(n){return this.getChildContext=function(){return n.context},n.children}function hC(n){var o=this,t=n.i;o.componentWillUnmount=function(){va(null,o.l),o.l=null,o.i=null},o.i&&o.i!==t&&o.componentWillUnmount(),n.__v?(o.l||(o.i=t,o.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),o.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),o.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),o.i.removeChild(i)}}),va(_t(oI,{context:o.context},n.__v),o.l)):o.l&&o.componentWillUnmount()}(Vc.prototype=new Xs).__a=function(n){var o=this,t=fd(o.__v),i=o.o.get(n);return i[0]++,function(r){var c=function(){o.props.revealOrder?(i.push(r),md(o,n,i)):r()};t?t(c):c()}},Vc.prototype.render=function(n){this.u=null,this.o=new Map;var o=Wr(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&o.reverse();for(var t=o.length;t--;)this.o.set(o[t],this.u=[1,0,this.u]);return n.children},Vc.prototype.componentDidUpdate=Vc.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(o,t){md(n,t,o)})};var Vh="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,sI=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,MT="undefined"!=typeof document,gC=function(n){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};Xs.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Xs.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(o){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:o})}})});var _d=Bn.event;function aI(){}function fC(){return this.cancelBubble}function zh(){return this.defaultPrevented}Bn.event=function(n){return _d&&(n=_d(n)),n.persist=aI,n.isPropagationStopped=fC,n.isDefaultPrevented=zh,n.nativeEvent=n};var Qh={configurable:!0,get:function(){return this.class}},Jh=Bn.vnode;Bn.vnode=function(n){var o=n.type,t=n.props,i=t;if("string"==typeof o){var r=-1===o.indexOf("-");for(var c in i={},t){var h=t[c];MT&&"children"===c&&"noscript"===o||"value"===c&&"defaultValue"in t&&null==h||("defaultValue"===c&&"value"in t&&null==t.value?c="value":"download"===c&&!0===h?h="":/ondoubleclick/i.test(c)?c="ondblclick":/^onchange(textarea|input)/i.test(c+o)&&!gC(t.type)?c="oninput":/^onfocus$/i.test(c)?c="onfocusin":/^onblur$/i.test(c)?c="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(c)?c=c.toLowerCase():r&&sI.test(c)?c=c.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===h&&(h=void 0),/^oninput$/i.test(c)&&(c=c.toLowerCase(),i[c]&&(c="oninputCapture")),i[c]=h)}"select"==o&&i.multiple&&Array.isArray(i.value)&&(i.value=Wr(t.children).forEach(function(y){y.props.selected=-1!=i.value.indexOf(y.props.value)})),"select"==o&&null!=i.defaultValue&&(i.value=Wr(t.children).forEach(function(y){y.props.selected=i.multiple?-1!=i.defaultValue.indexOf(y.props.value):i.defaultValue==y.props.value})),n.props=i,t.class!=t.className&&(Qh.enumerable="className"in t,null!=t.className&&(i.class=t.className),Object.defineProperty(i,"className",Qh))}n.$$typeof=Vh,Jh&&Jh(n)};var jh=Bn.__r;Bn.__r=function(n){jh&&jh(n)};const Wh=[],Cd=new Map,Yh=" fullcalendar styles ";function Uc(n){Wh.push(n),Cd.forEach(o=>{Ul(n,o)})}function IC(n,o=n,t=o.firstChild){if(!Cd.has(n)){const i=document.createComment(Yh),r=document.createComment(` END${Yh}`);o.insertBefore(r,t),o.insertBefore(i,r),Cd.set(n,r),function AC(n){for(const o of Wh)Ul(o,n)}(r)}}function Ul(n,o){const t=document.createElement("style"),i=function TC(){return void 0===vd&&(vd=function wC(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const o=document.querySelector("script[nonce]");return o&&o.nonce||""}()),vd}();i&&(t.nonce=i),t.innerText=n,o.parentNode.insertBefore(t,o)}let vd;function bd(n){n.parentNode&&n.parentNode.removeChild(n)}function vs(n,o){if(n.closest)return n.closest(o);if(!document.documentElement.contains(n))return null;do{if(EC(n,o))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function EC(n,o){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,o)}"undefined"!=typeof document&&IC(document,document.head,document.head.querySelector("script,link,style")),Uc(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const SC=/(top|left|right|bottom|width|height)$/i;function zl(n,o){for(let t in o)Kh(n,t,o[t])}function Kh(n,o,t){n.style[o]=null==t?"":"number"==typeof t&&SC.test(o)?`${t}px`:t}function qh(n){var o,t;return null!==(t=null===(o=n.composedPath)||void 0===o?void 0:o.call(n)[0])&&void 0!==t?t:n.target}let Gl=0;function Na(){return Gl+=1,"fc-dom-"+Gl}function Ql(n){n.preventDefault()}function kC(n,o,t,i){let r=function Yr(n,o){return t=>{let i=vs(t.target,n);i&&o.call(i,t,i)}}(t,i);return n.addEventListener(o,r),()=>{n.removeEventListener(o,r)}}const Jl=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function MC(n){return Object.assign({onClick:n},DC(n))}function DC(n){return{tabIndex:0,onKeyDown(o){("Enter"===o.key||" "===o.key)&&(n(o),o.preventDefault())}}}let zc=0;function Kr(){return zc+=1,String(zc)}function Xh(){document.body.classList.add("fc-not-allowed")}function eg(){document.body.classList.remove("fc-not-allowed")}function LT(n,o,t){return t.func?t.func(n,o):function ng(n,o){return n||o?null==o?-1:null==n?1:"string"==typeof n||"string"==typeof o?String(n).localeCompare(String(o)):n-o:0}(n[t.field],o[t.field])*(t.order||1)}function Fa(n,o){let t=String(n);return"000".substr(0,o-t.length)+t}function jl(n,o,t){return"function"==typeof n?n(...o):"string"==typeof n?o.reduce((i,r,c)=>i.replace("$"+c,r||""),n):t}function ig(n,o){return n-o}function Wl(n){return n%1==0}function bI(n){let o=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!o)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-o.getBoundingClientRect().width+t.getBoundingClientRect().width}const LC=["years","months","days","milliseconds"],yI=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function wi(n,o){return"string"==typeof n?function NC(n){let o=yI.exec(n);if(o){let t=o[1]?-1:1;return{years:0,months:0,days:t*(o[2]?parseInt(o[2],10):0),milliseconds:t*(60*(o[3]?parseInt(o[3],10):0)*60*1e3+60*(o[4]?parseInt(o[4],10):0)*1e3+1e3*(o[5]?parseInt(o[5],10):0)+(o[6]?parseInt(o[6],10):0))}}return null}(n):"object"==typeof n&&n?yd(n):"number"==typeof n?yd({[o||"milliseconds"]:n}):null}function yd(n){let o={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:60*(n.hours||n.hour||0)*60*1e3+60*(n.minutes||n.minute||0)*1e3+1e3*(n.seconds||n.second||0)+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(o.days+=7*t,o.specifiedWeeks=!0),o}function Id(n,o){return{years:n.years+o.years,months:n.months+o.months,days:n.days+o.days,milliseconds:n.milliseconds+o.milliseconds}}function Yl(n){return Xi(n)/864e5}function Xi(n){return 31536e6*n.years+2592e6*n.months+864e5*n.days+n.milliseconds}function Ba(n,o){let t=null;for(let i=0;i<LC.length;i+=1){let r=LC[i];if(o[r]){let c=n[r]/o[r];if(!Wl(c)||null!==t&&t!==c)return null;t=c}else if(n[r])return null}return t}function og(n){let o=n.milliseconds;if(o){if(o%1e3!=0)return{unit:"millisecond",value:o};if(o%6e4!=0)return{unit:"second",value:o/1e3};if(o%36e5!=0)return{unit:"minute",value:o/6e4};if(o)return{unit:"hour",value:o/36e5}}return n.days?n.specifiedWeeks&&n.days%7==0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}const{hasOwnProperty:Ad}=Object.prototype;function VC(n,o){let t={};if(o)for(let i in o)if(o[i]===ec){let r=[];for(let c=n.length-1;c>=0;c-=1){let h=n[c][i];if("object"==typeof h&&h)r.unshift(h);else if(void 0!==h){t[i]=h;break}}r.length&&(t[i]=VC(r))}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let c in r)c in t||(t[c]=r[c])}return t}function Kl(n,o){let t={};for(let i in n)o(n[i],i)&&(t[i]=n[i]);return t}function qr(n,o){let t={};for(let i in n)t[i]=o(n[i],i);return t}function sg(n){let o={};for(let t of n)o[t]=!0;return o}function sl(n){let o=[];for(let t in n)o.push(n[t]);return o}function $r(n,o){if(n===o)return!0;for(let t in n)if(Ad.call(n,t)&&!(t in o))return!1;for(let t in o)if(Ad.call(o,t)&&n[t]!==o[t])return!1;return!0}const rg=/^on[A-Z]/;function Td(n,o){let t=[];for(let i in n)Ad.call(n,i)&&(i in o||t.push(i));for(let i in o)Ad.call(o,i)&&n[i]!==o[i]&&t.push(i);return t}function ag(n,o,t={}){if(n===o)return!0;for(let i in o)if(!(i in n)||!EI(n[i],o[i],t[i]))return!1;for(let i in n)if(!(i in o))return!1;return!0}function EI(n,o,t){return n===o||!0===t||!!t&&t(n,o)}function Rr(n,o,t){if(n===o)return!0;let r,i=n.length;if(i!==o.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],o[r]):n[r]===o[r]))return!1;return!0}const lg=["sun","mon","tue","wed","thu","fri","sat"];function Gc(n,o){let t=ya(n);return t[2]+=7*o,er(t)}function Go(n,o){let t=ya(n);return t[2]+=o,er(t)}function rl(n,o){let t=ya(n);return t[6]+=o,er(t)}function Ha(n,o){return(o.valueOf()-n.valueOf())/864e5}function ug(n,o){return Ia(n)===Ia(o)?Math.round(Ha(n,o)):null}function eo(n){return er([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function wd(n,o,t,i){let r=er([o,0,1+JC(o,t,i)]),c=eo(n),h=Math.round(Ha(r,c));return Math.floor(h/7)+1}function JC(n,o,t){let i=7+o-t;return-(7+er([n,0,i]).getUTCDay()-o)%7+i-1}function jC(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function dg(n){return new Date(n[0],n[1]||0,null==n[2]?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function ya(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function er(n){return 1===n.length&&(n=n.concat([0])),new Date(Date.UTC(...n))}function WC(n){return!isNaN(n.valueOf())}function Ia(n){return 1e3*n.getUTCHours()*60*60+1e3*n.getUTCMinutes()*60+1e3*n.getUTCSeconds()+n.getUTCMilliseconds()}function YC(n,o,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==o?i=i.replace("Z",""):0!==o&&(i=i.replace("Z",xd(o,!0)))),i}function $l(n){return n.toISOString().replace(/T.*$/,"")}function qC(n){return Fa(n.getUTCHours(),2)+":"+Fa(n.getUTCMinutes(),2)+":"+Fa(n.getUTCSeconds(),2)}function xd(n,o=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),c=Math.round(i%60);return o?`${t+Fa(r,2)}:${Fa(c,2)}`:`GMT${t}${r}${c?`:${Fa(c,2)}`:""}`}function Jn(n,o,t){let i,r;return function(...c){if(i){if(!Rr(i,c)){t&&t(r);let h=n.apply(this,c);(!o||!o(h,r))&&(r=h)}}else r=n.apply(this,c);return i=c,r}}function Ed(n,o,t){let i,r;return c=>{if(i){if(!$r(i,c)){t&&t(r);let h=n.call(this,c);(!o||!o(h,r))&&(r=h)}}else r=n.call(this,c);return i=c,r}}const RI={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},pg={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},hg=/\s*([ap])\.?m\.?/i,FT=/,/g,BT=/\s+/g,HT=/\u200e/g,ZT=/UTC|GMT/;class VT{constructor(o){let t={},i={},r=0;for(let c in o)c in RI?(i[c]=o[c],r=Math.max(RI[c],r)):(t[c]=o[c],c in pg&&(r=Math.max(pg[c],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=Jn(Qc)}format(o,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(o)}formatRange(o,t,i,r){let{standardDateProps:c,extendedSettings:h}=this,y=function zT(n,o,t){return t.getMarkerYear(n)!==t.getMarkerYear(o)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(o)?4:t.getMarkerDay(n)!==t.getMarkerDay(o)?2:Ia(n)!==Ia(o)?1:0}(o.marker,t.marker,i.calendarSystem);if(!y)return this.format(o,i);let O=y;O>1&&("numeric"===c.year||"2-digit"===c.year)&&("numeric"===c.month||"2-digit"===c.month)&&("numeric"===c.day||"2-digit"===c.day)&&(O=1);let ce=this.format(o,i),fe=this.format(t,i);if(ce===fe)return ce;let ct=function gg(n,o){let t={};for(let i in n)(!(i in pg)||pg[i]<=o)&&(t[i]=n[i]);return t}(c,O),pt=Qc(ct,h,i),rt=pt(o),Mt=pt(t),Wt=function t0(n,o,t,i){let r=0;for(;r<n.length;){let c=n.indexOf(o,r);if(-1===c)break;let h=n.substr(0,c);r=c+o.length;let y=n.substr(r),O=0;for(;O<t.length;){let ce=t.indexOf(i,O);if(-1===ce)break;let fe=t.substr(0,ce);O=ce+i.length;let ct=t.substr(O);if(h===fe&&y===ct)return{before:h,after:y}}}return null}(ce,rt,fe,Mt),zt=h.separator||r||i.defaultSeparator||"";return Wt?Wt.before+rt+zt+Mt+Wt.after:ce+zt+fe}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Qc(n,o,t){let i=Object.keys(n).length;return 1===i&&"short"===n.timeZoneName?r=>xd(r.timeZoneOffset):0===i&&o.week?r=>function e0(n,o,t,i,r){let c=[];return"long"===r?c.push(t):("short"===r||"narrow"===r)&&c.push(o),("long"===r||"short"===r)&&c.push(" "),c.push(i.simpleNumberFormat.format(n)),"rtl"===i.options.direction&&c.reverse(),c.join("")}(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,o.week):function UT(n,o,t){n=Object.assign({},n),o=Object.assign({},o),function $C(n,o){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),"long"===n.timeZoneName&&(n.timeZoneName="short"),o.omitZeroMinute&&(n.second||n.millisecond)&&delete o.omitZeroMinute}(n,o),n.timeZone="UTC";let r,i=new Intl.DateTimeFormat(t.locale.codes,n);if(o.omitZeroMinute){let c=Object.assign({},n);delete c.minute,r=new Intl.DateTimeFormat(t.locale.codes,c)}return c=>{let y,{marker:h}=c;return y=r&&!h.getUTCMinutes()?r:i,function Sd(n,o,t,i,r){return n=n.replace(HT,""),"short"===t.timeZoneName&&(n=function XC(n,o){let t=!1;return n=n.replace(ZT,()=>(t=!0,o)),t||(n+=` ${o}`),n}(n,"UTC"===r.timeZone||null==o.timeZoneOffset?"UTC":xd(o.timeZoneOffset))),i.omitCommas&&(n=n.replace(FT,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),!1===i.meridiem?n=n.replace(hg,"").trim():"narrow"===i.meridiem?n=n.replace(hg,(c,h)=>h.toLocaleLowerCase()):"short"===i.meridiem?n=n.replace(hg,(c,h)=>`${h.toLocaleLowerCase()}m`):"lowercase"===i.meridiem&&(n=n.replace(hg,c=>c.toLocaleLowerCase())),(n=n.replace(BT," ")).trim()}(y.format(h),c,n,o,t)}}(n,o,t)}function n0(n,o){let t=o.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Jc(n,o,t,i){let r=n0(n,t.calendarSystem);return{date:r,start:r,end:o?n0(o,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}class GT{constructor(o){this.cmdStr=o}format(o,t,i){return t.cmdFormatter(this.cmdStr,Jc(o,null,t,i))}formatRange(o,t,i,r){return i.cmdFormatter(this.cmdStr,Jc(o,t,i,r))}}class LI{constructor(o){this.func=o}format(o,t,i){return this.func(Jc(o,null,t,i))}formatRange(o,t,i,r){return this.func(Jc(o,t,i,r))}}function co(n){return"object"==typeof n&&n?new VT(n):"string"==typeof n?new GT(n):"function"==typeof n?new LI(n):null}const o0={navLinkDayClick:jt,navLinkWeekClick:jt,duration:wi,bootstrapFontAwesome:jt,buttonIcons:jt,customButtons:jt,defaultAllDayEventDuration:wi,defaultTimedEventDuration:wi,nextDayThreshold:wi,scrollTime:wi,scrollTimeReset:Boolean,slotMinTime:wi,slotMaxTime:wi,dayPopoverFormat:co,slotDuration:wi,snapDuration:wi,headerToolbar:jt,footerToolbar:jt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:co,dayHeaderClassNames:jt,dayHeaderContent:jt,dayHeaderDidMount:jt,dayHeaderWillUnmount:jt,dayCellClassNames:jt,dayCellContent:jt,dayCellDidMount:jt,dayCellWillUnmount:jt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:jt,weekNumbers:Boolean,weekNumberClassNames:jt,weekNumberContent:jt,weekNumberDidMount:jt,weekNumberWillUnmount:jt,editable:Boolean,viewClassNames:jt,viewDidMount:jt,viewWillUnmount:jt,nowIndicator:Boolean,nowIndicatorClassNames:jt,nowIndicatorContent:jt,nowIndicatorDidMount:jt,nowIndicatorWillUnmount:jt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:jt,locale:jt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:jt,eventOrder:function CI(n){let i,r,o=[],t=[];for("string"==typeof n?t=n.split(/\s*,\s*/):"function"==typeof n?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],"string"==typeof r?o.push("-"===r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&o.push({func:r});return o},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:jt,contentHeight:jt,direction:String,weekNumberFormat:co,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:jt,initialDate:jt,now:jt,eventDataTransform:jt,stickyHeaderDates:jt,stickyFooterScrollbar:jt,viewHeight:jt,defaultAllDay:Boolean,eventSourceFailure:jt,eventSourceSuccess:jt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:jt,eventConstraint:jt,eventAllow:jt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:jt,eventContent:jt,eventDidMount:jt,eventWillUnmount:jt,selectConstraint:jt,selectOverlap:jt,selectAllow:jt,droppable:Boolean,unselectCancel:String,slotLabelFormat:jt,slotLaneClassNames:jt,slotLaneContent:jt,slotLaneDidMount:jt,slotLaneWillUnmount:jt,slotLabelClassNames:jt,slotLabelContent:jt,slotLabelDidMount:jt,slotLabelWillUnmount:jt,dayMaxEvents:jt,dayMaxEventRows:jt,dayMinWidth:Number,slotLabelInterval:wi,allDayText:String,allDayClassNames:jt,allDayContent:jt,allDayDidMount:jt,allDayWillUnmount:jt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:co,rerenderDelay:Number,moreLinkText:jt,moreLinkHint:jt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:jt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:wi,hiddenDays:jt,fixedWeekCount:Boolean,validRange:jt,visibleRange:jt,titleFormat:jt,eventInteractive:Boolean,noEventsText:String,viewHint:jt,navLinkHint:jt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:jt,moreLinkClassNames:jt,moreLinkContent:jt,moreLinkDidMount:jt,moreLinkWillUnmount:jt,monthStartFormat:co,handleCustomRendering:jt,customRenderingMetaMap:jt,customRenderingReplacesEl:Boolean},Za={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},s0={datesSet:jt,eventsSet:jt,eventAdd:jt,eventChange:jt,eventRemove:jt,windowResize:jt,eventClick:jt,eventMouseEnter:jt,eventMouseLeave:jt,select:jt,unselect:jt,loading:jt,_unmount:jt,_beforeprint:jt,_afterprint:jt,_noEventDrop:jt,_noEventResize:jt,_resize:jt,_scrollRequest:jt},NI={buttonText:jt,buttonHints:jt,views:jt,plugins:jt,initialEvents:jt,events:jt,eventSources:jt},Xl={headerToolbar:ec,footerToolbar:ec,buttonText:ec,buttonHints:ec,buttonIcons:ec,dateIncrement:ec,plugins:kd,events:kd,eventSources:kd,resources:kd};function ec(n,o){return"object"==typeof n&&"object"==typeof o&&n&&o?$r(n,o):n===o}function kd(n,o){return Array.isArray(n)&&Array.isArray(o)?Rr(n,o):n===o}const FI={type:String,component:jt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:jt,usesMinMaxTime:Boolean,classNames:jt,content:jt,didMount:jt,willUnmount:jt};function fg(n){return VC(n,Xl)}function mg(n,o){let t={},i={};for(let r in o)r in n&&(t[r]=o[r](n[r]));for(let r in n)r in o||(i[r]=n[r]);return{refined:t,extra:i}}function jt(n){return n}function Md(n,o,t,i){return{instanceId:Kr(),defId:n,range:o,forcedStartTzo:null==t?null:t,forcedEndTzo:null==i?null:i}}function tc(n,o,t){let{dateEnv:i,pluginHooks:r,options:c}=t,{defs:h,instances:y}=n;y=Kl(y,O=>!h[O.defId].recurringDef);for(let O in h){let ce=h[O];if(ce.recurringDef){let{duration:fe}=ce.recurringDef;fe||(fe=ce.allDay?c.defaultAllDayEventDuration:c.defaultTimedEventDuration);let ct=Lr(ce,fe,o,i,r.recurringTypes);for(let pt of ct){let rt=Md(O,{start:pt,end:i.add(pt,fe)});y[rt.instanceId]=rt}}}return{defs:h,instances:y}}function Lr(n,o,t,i,r){let h=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,o),end:t.end},i);return n.allDay&&(h=h.map(eo)),h}function jc(n,o,t,i,r,c){let h={defs:{},instances:{}},y=eu(t);for(let O of n){let ce=Nr(O,o,t,i,y,r,c);ce&&Wc(ce,h)}return h}function Wc(n,o={defs:{},instances:{}}){return o.defs[n.def.defId]=n.def,n.instance&&(o.instances[n.instance.instanceId]=n.instance),o}function _g(n,o){let t=n.instances[o];if(t){let i=n.defs[t.defId],r=Dd(n,c=>function Tr(n,o){return Boolean(n.groupId&&n.groupId===o.groupId)}(i,c));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return{defs:{},instances:{}}}function Yc(n,o){return{defs:Object.assign(Object.assign({},n.defs),o.defs),instances:Object.assign(Object.assign({},n.instances),o.instances)}}function Dd(n,o){let t=Kl(n.defs,o),i=Kl(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function vg(n){return Array.isArray(n)?n:"string"==typeof n?n.split(/\s+/):[]}const Kc={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:jt,overlap:jt,allow:jt,className:vg,classNames:vg,color:String,backgroundColor:String,borderColor:String,textColor:String},HI={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function qc(n,o){let t=function Cg(n,o){return Array.isArray(n)?jc(n,null,o,!0):"object"==typeof n&&n?jc([n],null,o,!0):null!=n?String(n):null}(n.constraint,o);return{display:n.display||null,startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=t?[t]:[],overlap:null!=n.overlap?n.overlap:null,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function bg(n){return n.reduce(ZI,HI)}function ZI(n,o){return{display:null!=o.display?o.display:n.display,startEditable:null!=o.startEditable?o.startEditable:n.startEditable,durationEditable:null!=o.durationEditable?o.durationEditable:n.durationEditable,constraints:n.constraints.concat(o.constraints),overlap:"boolean"==typeof o.overlap?o.overlap:n.overlap,allows:n.allows.concat(o.allows),backgroundColor:o.backgroundColor||n.backgroundColor,borderColor:o.borderColor||n.borderColor,textColor:o.textColor||n.textColor,classNames:n.classNames.concat(o.classNames)}}const $c={id:String,groupId:String,title:String,url:String,interactive:Boolean},a0={start:jt,end:jt,date:jt,allDay:Boolean},Xc=Object.assign(Object.assign(Object.assign({},$c),a0),{extendedProps:jt});function Nr(n,o,t,i,r=eu(t),c,h){let{refined:y,extra:O}=yg(n,t,r),ce=function QT(n,o){let t=null;return n&&(t=n.defaultAllDay),null==t&&(t=o.options.defaultAllDay),t}(o,t),fe=function r0(n,o,t,i){for(let r=0;r<i.length;r+=1){let c=i[r].parse(n,t);if(c){let{allDay:h}=n;return null==h&&(h=o,null==h&&(h=c.allDayGuess,null==h&&(h=!1))),{allDay:h,duration:c.duration,typeData:c.typeData,typeId:r}}}return null}(y,ce,t.dateEnv,t.pluginHooks.recurringTypes);if(fe){let pt=Fr(y,O,o?o.sourceId:"",fe.allDay,Boolean(fe.duration),t,c);return pt.recurringDef={typeId:fe.typeId,typeData:fe.typeData,duration:fe.duration},{def:pt,instance:null}}let ct=function VI(n,o,t,i){let c,O,{allDay:r}=n,h=null,y=!1,ce=null;if(c=t.dateEnv.createMarkerMeta(null!=n.start?n.start:n.date),c)h=c.marker;else if(!i)return null;return null!=n.end&&(O=t.dateEnv.createMarkerMeta(n.end)),null==r&&(r=null!=o?o:(!c||c.isTimeUnspecified)&&(!O||O.isTimeUnspecified)),r&&h&&(h=eo(h)),O&&(ce=O.marker,r&&(ce=eo(ce)),h&&ce<=h&&(ce=null)),ce?y=!0:i||(y=t.options.forceEventDuration||!1,ce=t.dateEnv.add(h,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:y,range:{start:h,end:ce},forcedStartTzo:c?c.forcedTzo:null,forcedEndTzo:O?O.forcedTzo:null}}(y,ce,t,i);if(ct){let pt=Fr(y,O,o?o.sourceId:"",ct.allDay,ct.hasEnd,t,c),rt=Md(pt.defId,ct.range,ct.forcedStartTzo,ct.forcedEndTzo);return h&&pt.publicId&&h[pt.publicId]&&(rt.instanceId=h[pt.publicId]),{def:pt,instance:rt}}return null}function yg(n,o,t=eu(o)){return mg(n,t)}function eu(n){return Object.assign(Object.assign(Object.assign({},Kc),Xc),n.pluginHooks.eventRefiners)}function Fr(n,o,t,i,r,c,h){let y={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(h&&n.id?h[n.id]:"")||Kr(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:qc(n,c),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),o)};for(let O of c.pluginHooks.eventDefMemberAdders)Object.assign(y,O(n));return Object.freeze(y.ui.classNames),Object.freeze(y.extendedProps),y}const UI={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function l0(n){let o=Math.floor(Ha(n.start,n.end))||1,t=eo(n.start);return{start:t,end:Go(t,o)}}function Od(n,o=wi(0)){let t=null,i=null;if(n.end){i=eo(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=Xi(o)&&(i=Go(i,1))}return n.start&&(t=eo(n.start),i&&i<=t&&(i=Go(t,1))),{start:t,end:i}}function al(n,o,t,i){return"year"===i?wi(t.diffWholeYears(n,o),"year"):"month"===i?wi(t.diffWholeMonths(n,o),"month"):function QC(n,o){let t=eo(n),i=eo(o);return{years:0,months:0,days:Math.round(Ha(t,i)),milliseconds:o.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}(n,o)}function QI(n,o){return n.left>=o.left&&n.left<o.right&&n.top>=o.top&&n.top<o.bottom}function Ig(n,o){let t={left:Math.max(n.left,o.left),right:Math.min(n.right,o.right),top:Math.max(n.top,o.top),bottom:Math.min(n.bottom,o.bottom)};return t.left<t.right&&t.top<t.bottom&&t}let Pd;function Tg(){return null==Pd&&(Pd=function d0(){if("undefined"==typeof document)return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}()),Pd}const nc={defs:{},instances:{}};function p0(n,o,t){let i=[];n&&i.push(n),o&&i.push(o);let r={"":bg(i)};return t&&Object.assign(r,t),r}function wg(n,o){let r,c,t=[],{start:i}=o;for(n.sort(h0),r=0;r<n.length;r+=1)c=n[r],c.start>i&&t.push({start:i,end:c.start}),c.end>i&&(i=c.end);return i<o.end&&t.push({start:i,end:o.end}),t}function h0(n,o){return n.start.valueOf()-o.start.valueOf()}function Va(n,o){let{start:t,end:i}=n,r=null;return null!==o.start&&(t=null===t?o.start:new Date(Math.max(t.valueOf(),o.start.valueOf()))),null!=o.end&&(i=null===i?o.end:new Date(Math.min(i.valueOf(),o.end.valueOf()))),(null===t||null===i||t<i)&&(r={start:t,end:i}),r}function g0(n,o){return(null===n.end||null===o.start||n.end>o.start)&&(null===n.start||null===o.end||n.start<o.end)}function xg(n,o){return(null===n.start||null!==o.start&&o.start>=n.start)&&(null===n.end||null!==o.end&&o.end<=n.end)}function Xr(n,o){return(null===n.start||o>=n.start)&&(null===n.end||o<n.end)}function Eg(n,o,t,i){return{dow:n.getUTCDay(),isDisabled:Boolean(i&&!Xr(i.activeRange,n)),isOther:Boolean(i&&!Xr(i.currentRange,n)),isToday:Boolean(o&&Xr(o,n)),isPast:Boolean(t?n<t:!!o&&n<o.start),isFuture:Boolean(t?n>t:!!o&&n>=o.end)}}function Ld(n,o){let t=["fc-day",`fc-day-${lg[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(o.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const jT=co({year:"numeric",month:"long",day:"numeric"}),WT=co({week:"long"});function tu(n,o,t="day",i=!0){const{dateEnv:r,options:c,calendarApi:h}=n;let y=r.format(o,"week"===t?WT:jT);if(c.navLinks){let O=r.toDate(o);const ce=fe=>{let ct="day"===t?c.navLinkDayClick:"week"===t?c.navLinkWeekClick:null;"function"==typeof ct?ct.call(h,r.toDate(o),fe):("string"==typeof ct&&(t=ct),h.zoomTo(o,t))};return Object.assign({title:jl(c.navLinkHint,[y,O],y),"data-navlink":""},i?MC(ce):{onClick:ce})}return{"aria-label":y}}let Sg,f0=null;function Ua(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function kg(n,o=!1,t){let i=t?n.getBoundingClientRect():nu(n),r=function _0(n,o=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,c=parseInt(t.borderTopWidth,10)||0,h=parseInt(t.borderBottomWidth,10)||0,y=Ua(n),O=y.y-i-r,fe={borderLeft:i,borderRight:r,borderTop:c,borderBottom:h,scrollbarBottom:y.x-c-h,scrollbarLeft:0,scrollbarRight:0};return function YI(){return null===f0&&(f0=function Nd(){let n=document.createElement("div");zl(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return bd(n),t}()),f0}()&&"rtl"===t.direction?fe.scrollbarLeft=O:fe.scrollbarRight=O,o&&(fe.paddingLeft=parseInt(t.paddingLeft,10)||0,fe.paddingRight=parseInt(t.paddingRight,10)||0,fe.paddingTop=parseInt(t.paddingTop,10)||0,fe.paddingBottom=parseInt(t.paddingBottom,10)||0),fe}(n,o),c={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return o&&(c.left+=r.paddingLeft,c.right-=r.paddingRight,c.top+=r.paddingTop,c.bottom-=r.paddingBottom),c}function nu(n){let o=n.getBoundingClientRect();return{left:o.left+window.pageXOffset,top:o.top+window.pageYOffset,right:o.right+window.pageXOffset,bottom:o.bottom+window.pageYOffset}}function Fd(n){let o=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&o.push(n),n=n.parentNode}return o}class ll{constructor(){this.handlers={},this.thisContext=null}setThisContext(o){this.thisContext=o}setOptions(o){this.options=o}on(o,t){!function YT(n,o,t){(n[o]||(n[o]=[])).push(t)}(this.handlers,o,t)}off(o,t){!function KT(n,o,t){t?n[o]&&(n[o]=n[o].filter(i=>i!==t)):delete n[o]}(this.handlers,o,t)}trigger(o,...t){let c=[].concat(this.options&&this.options[o]||[],this.handlers[o]||[]);for(let h of c)h.apply(this.thisContext,t)}hasHandlers(o){return Boolean(this.handlers[o]&&this.handlers[o].length||this.options&&this.options[o])}}class iu{constructor(o,t,i,r){this.els=t;let c=this.originClientRect=o.getBoundingClientRect();i&&this.buildElHorizontals(c.left),r&&this.buildElVerticals(c.top)}buildElHorizontals(o){let t=[],i=[];for(let r of this.els){let c=r.getBoundingClientRect();t.push(c.left-o),i.push(c.right-o)}this.lefts=t,this.rights=i}buildElVerticals(o){let t=[],i=[];for(let r of this.els){let c=r.getBoundingClientRect();t.push(c.top-o),i.push(c.bottom-o)}this.tops=t,this.bottoms=i}leftToIndex(o){let c,{lefts:t,rights:i}=this,r=t.length;for(c=0;c<r;c+=1)if(o>=t[c]&&o<i[c])return c}topToIndex(o){let c,{tops:t,bottoms:i}=this,r=t.length;for(c=0;c<r;c+=1)if(o>=t[c]&&o<i[c])return c}getWidth(o){return this.rights[o]-this.lefts[o]}getHeight(o){return this.bottoms[o]-this.tops[o]}similarTo(o){return Dg(this.tops||[],o.tops||[])&&Dg(this.bottoms||[],o.bottoms||[])&&Dg(this.lefts||[],o.lefts||[])&&Dg(this.rights||[],o.rights||[])}}function Dg(n,o){const t=n.length;if(t!==o.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(o[i]))return!1;return!0}class Bd{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class $I extends Bd{constructor(o){super(),this.el=o}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(o){this.el.scrollTop=o}setScrollLeft(o){this.el.scrollLeft=o}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class XI extends Bd{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(o){window.scroll(window.pageXOffset,o)}setScrollLeft(o){window.scroll(o,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ou{constructor(o){this.iconOverrideOption&&this.setIconOverride(o[this.iconOverrideOption])}setIconOverride(o){let t,i;if("object"==typeof o&&o){for(i in t=Object.assign({},this.iconClasses),o)t[i]=this.applyIconOverridePrefix(o[i]);this.iconClasses=t}else!1===o&&(this.iconClasses={})}applyIconOverridePrefix(o){let t=this.iconOverridePrefix;return t&&0!==o.indexOf(t)&&(o=t+o),o}getClass(o){return this.classes[o]||""}getIconClass(o,t){let i;return i=t&&this.rtlIconClasses&&this.rtlIconClasses[o]||this.iconClasses[o],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(o){let t;return this.iconOverrideCustomButtonOption&&(t=o[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function C0(n){n();let o=Bn.debounceRendering,t=[];for(Bn.debounceRendering=function i(r){t.push(r)},va(_t(v0,{}),document.createElement("div"));t.length;)t.shift()();Bn.debounceRendering=o}ou.prototype.classes={},ou.prototype.iconClasses={},ou.prototype.baseIconClass="",ou.prototype.iconOverridePrefix="";class v0 extends Xs{render(){return _t("div",{})}componentDidMount(){this.setState({})}}function Og(n){let o=function $_(n,o){var t={__c:o="__cC"+Ch++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,c;return this.getChildContext||(r=[],(c={})[o]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(h){this.props.value!==h.value&&r.some(function(y){y.__e=!0,Ih(y)})},this.sub=function(h){r.push(h);var y=h.componentWillUnmount;h.componentWillUnmount=function(){r.splice(r.indexOf(h),1),y&&y.call(h)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}(n),t=o.Provider;return o.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let c=[];this.shouldComponentUpdate=h=>{this.props.value!==h.value&&c.forEach(y=>{y.context=h.value,y.forceUpdate()})},this.sub=h=>{c.push(h);let y=h.componentWillUnmount;h.componentWillUnmount=()=>{c.splice(c.indexOf(h),1),y&&y.call(h)}}}return r},o}class b0{constructor(o,t,i,r){this.execFunc=o,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=c=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},c),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(o){o&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Aa=Og({});function e1(n,o,t,i,r,c,h,y,O,ce,fe,ct,pt){return{dateEnv:r,options:t,pluginHooks:h,emitter:ce,dispatch:y,getCurrentData:O,calendarApi:fe,viewSpec:n,viewApi:o,dateProfileGenerator:i,theme:c,isRtl:"rtl"===t.direction,addResizeHandler(rt){ce.on("_resize",rt)},removeResizeHandler(rt){ce.off("_resize",rt)},createScrollResponder:rt=>new b0(rt,ce,wi(t.scrollTime),t.scrollTimeReset),registerInteractiveComponent:ct,unregisterInteractiveComponent:pt}}let su=(()=>{class n extends Xs{shouldComponentUpdate(t,i){return this.debug&&console.log(Td(t,this.props),Td(i,this.state)),!ag(this.props,t,this.propEquality)||!ag(this.state,i,this.stateEquality)}safeSetState(t){ag(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=qT,n.addStateEquality=y0,n.contextType=Aa,n})();su.prototype.propEquality={},su.prototype.stateEquality={};let Li=(()=>{class n extends su{}return n.contextType=Aa,n})();function qT(n){let o=Object.create(this.prototype.propEquality);Object.assign(o,n),this.prototype.propEquality=o}function y0(n){let o=Object.create(this.prototype.stateEquality);Object.assign(o,n),this.prototype.stateEquality=o}function Br(n,o){"function"==typeof n?n(o):n&&(n.current=o)}class Hr extends Li{constructor(){super(...arguments),this.uid=Kr()}prepareHits(){}queryHit(o,t,i,r){return null}isValidSegDownEl(o){return!this.props.eventDrag&&!this.props.eventResize&&!vs(o,".fc-event-mirror")}isValidDateDownEl(o){return!(vs(o,".fc-event:not(.fc-bg-event)")||vs(o,".fc-more-link")||vs(o,"a[data-navlink]")||vs(o,".fc-popover"))}}function Hd(n,o){return"function"==typeof n&&(n=n()),null==n?o.createNowMarker():o.createMarker(n)}class I0{constructor(o){this.props=o,this.nowDate=Hd(o.nowInput,o.dateEnv),this.initHiddenDays()}buildPrev(o,t,i){let{dateEnv:r}=this.props,c=r.subtract(r.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(c,-1,i)}buildNext(o,t,i){let{dateEnv:r}=this.props,c=r.add(r.startOf(t,o.currentRangeUnit),o.dateIncrement);return this.build(c,1,i)}build(o,t,i=!0){let c,h,y,O,ce,fe,{props:r}=this;return c=this.buildValidRange(),c=this.trimHiddenDays(c),i&&(o=function WI(n,o){return null!=o.start&&n<o.start?o.start:null!=o.end&&n>=o.end?new Date(o.end.valueOf()-1):n}(o,c)),h=this.buildCurrentRangeInfo(o,t),y=/^(year|month|week|day)$/.test(h.unit),O=this.buildRenderRange(this.trimHiddenDays(h.range),h.unit,y),O=this.trimHiddenDays(O),ce=O,r.showNonCurrentDates||(ce=Va(ce,h.range)),ce=this.adjustActiveRange(ce),ce=Va(ce,c),fe=g0(h.range,c),Xr(O,o)||(o=O.start),{currentDate:o,validRange:c,currentRange:h.range,currentRangeUnit:h.unit,isRangeAllDay:y,activeRange:ce,renderRange:O,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:fe,dateIncrement:this.buildDateIncrement(h.duration)}}buildValidRange(){let o=this.props.validRangeInput,t="function"==typeof o?o.call(this.props.calendarApi,this.nowDate):o;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(o,t){let y,{props:i}=this,r=null,c=null,h=null;return i.duration?(r=i.duration,c=i.durationUnit,h=this.buildRangeFromDuration(o,t,r,c)):(y=this.props.dayCount)?(c="day",h=this.buildRangeFromDayCount(o,t,y)):(h=this.buildCustomVisibleRange(o))?c=i.dateEnv.greatestWholeUnit(h.start,h.end).unit:(r=this.getFallbackDuration(),c=og(r).unit,h=this.buildRangeFromDuration(o,t,r,c)),{duration:r,unit:c,range:h}}getFallbackDuration(){return wi({day:1})}adjustActiveRange(o){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:c}=this.props,{start:h,end:y}=o;return i&&(Yl(r)<0&&(h=eo(h),h=t.add(h,r)),Yl(c)>1&&(y=eo(y),y=Go(y,-1),y=t.add(y,c))),{start:h,end:y}}buildRangeFromDuration(o,t,i,r){let y,O,ce,{dateEnv:c,dateAlignment:h}=this.props;if(!h){let{dateIncrement:ct}=this.props;h=ct&&Xi(ct)<Xi(i)?og(ct).unit:r}function fe(){y=c.startOf(o,h),O=c.add(y,i),ce={start:y,end:O}}return Yl(i)<=1&&this.isHiddenDay(y)&&(y=this.skipHiddenDays(y,t),y=eo(y)),fe(),this.trimHiddenDays(ce)||(o=this.skipHiddenDays(o,t),fe()),ce}buildRangeFromDayCount(o,t,i){let O,{dateEnv:r,dateAlignment:c}=this.props,h=0,y=o;c&&(y=r.startOf(y,c)),y=eo(y),y=this.skipHiddenDays(y,t),O=y;do{O=Go(O,1),this.isHiddenDay(O)||(h+=1)}while(h<i);return{start:y,end:O}}buildCustomVisibleRange(o){let{props:t}=this,i=t.visibleRangeInput,r="function"==typeof i?i.call(t.calendarApi,t.dateEnv.toDate(o)):i,c=this.refineRange(r);return!c||null!=c.start&&null!=c.end?c:null}buildRenderRange(o,t,i){return o}buildDateIncrement(o){let i,{dateIncrement:t}=this.props;return t||((i=this.props.dateAlignment)?wi(1,i):o||wi({days:1}))}refineRange(o){if(o){let t=function JI(n,o){let t=null,i=null;return n.start&&(t=o.createMarker(n.start)),n.end&&(i=o.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}(o,this.props.dateEnv);return t&&(t=Od(t)),t}return null}initHiddenDays(){let r,o=this.props.hiddenDays||[],t=[],i=0;for(!1===this.props.weekends&&o.push(0,6),r=0;r<7;r+=1)(t[r]=-1!==o.indexOf(r))||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(o){let{start:t,end:i}=o;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),null==t||null==i||t<i?{start:t,end:i}:null}isHiddenDay(o){return o instanceof Date&&(o=o.getUTCDay()),this.isHiddenDayHash[o]}skipHiddenDays(o,t=1,i=!1){for(;this.isHiddenDayHash[(o.getUTCDay()+(i?t:0)+7)%7];)o=Go(o,t);return o}}function A0(n,o,t){t.emitter.trigger("select",Object.assign(Object.assign({},T0(n,t)),{jsEvent:o?o.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function T0(n,o){let t={};for(let i of o.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,o));return Object.assign(t,function Un(n,o){return Object.assign(Object.assign({},Wn(n.range,o,n.allDay)),{allDay:n.allDay})}(n,o.dateEnv)),t}function o1(n,o,t){let{dateEnv:i,options:r}=t,c=o;return n?(c=eo(c),c=i.add(c,r.defaultAllDayEventDuration)):c=i.add(c,r.defaultTimedEventDuration),c}function w0(n,o,t,i){let r=l(n.defs,o),c={defs:{},instances:{}};for(let h in n.defs)c.defs[h]=XT(n.defs[h],r[h],t,i);for(let h in n.instances){let y=n.instances[h];c.instances[h]=ew(y,c.defs[y.defId],r[y.defId],t,i)}return c}function XT(n,o,t,i){let r=t.standardProps||{};null==r.hasEnd&&o.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let c=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(c.extendedProps=Object.assign(Object.assign({},c.extendedProps),t.extendedProps));for(let h of i.pluginHooks.eventDefMutationAppliers)h(c,t,i);return!c.hasEnd&&i.options.forceEventDuration&&(c.hasEnd=!0),c}function ew(n,o,t,i,r){let{dateEnv:c}=r,h=i.standardProps&&!0===i.standardProps.allDay,y=i.standardProps&&!1===i.standardProps.hasEnd,O=Object.assign({},n);return h&&(O.range=l0(O.range)),i.datesDelta&&t.startEditable&&(O.range={start:c.add(O.range.start,i.datesDelta),end:c.add(O.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(O.range={start:c.add(O.range.start,i.startDelta),end:O.range.end}),i.endDelta&&t.durationEditable&&(O.range={start:O.range.start,end:c.add(O.range.end,i.endDelta)}),y&&(O.range={start:O.range.start,end:o1(o.allDay,O.range.start,r)}),o.allDay&&(O.range={start:eo(O.range.start),end:eo(O.range.end)}),O.range.end<O.range.start&&(O.range.end=o1(o.allDay,O.range.start,r)),O}class ic{constructor(o,t){this.context=o,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Ao{constructor(o,t,i){this._context=o,this._def=t,this._instance=i||null}setProp(o,t){if(o in a0)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===o)t=$c[o](t),this.mutate({standardProps:{publicId:t}});else if(o in $c)t=$c[o](t),this.mutate({standardProps:{[o]:t}});else if(o in Kc){let i=Kc[o](t);i="color"===o?{backgroundColor:t,borderColor:t}:"editable"===o?{startEditable:t,durationEditable:t}:{[o]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${o}'. Use setExtendedProp instead.`)}setExtendedProp(o,t){this.mutate({extendedProps:{[o]:t}})}setStart(o,t={}){let{dateEnv:i}=this._context,r=i.createMarker(o);if(r&&this._instance){let h=al(this._instance.range.start,r,i,t.granularity);this.mutate(t.maintainDuration?{datesDelta:h}:{startDelta:h})}}setEnd(o,t={}){let r,{dateEnv:i}=this._context;if((null==o||(r=i.createMarker(o),r))&&this._instance)if(r){let c=al(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:c})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(o,t,i={}){let y,{dateEnv:r}=this._context,c={allDay:i.allDay},h=r.createMarker(o);if(h&&(null==t||(y=r.createMarker(t),y))&&this._instance){let O=this._instance.range;!0===i.allDay&&(O=l0(O));let ce=al(O.start,h,r,i.granularity);if(y){let fe=al(O.end,y,r,i.granularity);!function FC(n,o){return n.years===o.years&&n.months===o.months&&n.days===o.days&&n.milliseconds===o.milliseconds}(ce,fe)?this.mutate({startDelta:ce,endDelta:fe,standardProps:c}):this.mutate({datesDelta:ce,standardProps:c})}else c.hasEnd=!1,this.mutate({datesDelta:ce,standardProps:c})}}moveStart(o){let t=wi(o);t&&this.mutate({startDelta:t})}moveEnd(o){let t=wi(o);t&&this.mutate({endDelta:t})}moveDates(o){let t=wi(o);t&&this.mutate({datesDelta:t})}setAllDay(o,t={}){let i={allDay:o},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==o&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(o){let{dateEnv:t}=this._context,i=this._instance,r=co(o);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(o){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:c}=r.getCurrentData(),h=_g(c,t.instanceId);h=w0(h,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},o,r);let O=new Ao(r,i,t);this._def=h.defs[i.defId],this._instance=h.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:h}),r.emitter.trigger("eventChange",{oldEvent:O,event:this,relatedEvents:oc(h,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:c})}})}}remove(){let o=this._context,t=s1(this);o.dispatch({type:"REMOVE_EVENTS",eventStore:t}),o.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:o}=this._def;return o?new ic(this._context,this._context.getCurrentData().eventSources[o]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let o=this._instance;return o?this._context.dateEnv.formatIso(o.range.start,{omitTime:this._def.allDay,forcedTzo:o.forcedStartTzo}):""}get endStr(){let o=this._instance;return o&&this._def.hasEnd?this._context.dateEnv.formatIso(o.range.end,{omitTime:this._def.allDay,forcedTzo:o.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(o={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:c}=this,h={allDay:t.allDay};return t.title&&(h.title=t.title),r&&(h.start=r),c&&(h.end=c),t.publicId&&(h.id=t.publicId),t.groupId&&(h.groupId=t.groupId),t.url&&(h.url=t.url),i.display&&"auto"!==i.display&&(h.display=i.display),o.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?h.color=i.backgroundColor:(i.backgroundColor&&(h.backgroundColor=i.backgroundColor),i.borderColor&&(h.borderColor=i.borderColor)),i.textColor&&(h.textColor=i.textColor),i.classNames.length&&(h.classNames=i.classNames),Object.keys(t.extendedProps).length&&(o.collapseExtendedProps?Object.assign(h,t.extendedProps):h.extendedProps=t.extendedProps),h}toJSON(){return this.toPlainObject()}}function s1(n){let o=n._def,t=n._instance;return{defs:{[o.defId]:o},instances:t?{[t.instanceId]:t}:{}}}function oc(n,o,t){let{defs:i,instances:r}=n,c=[],h=t?t.instanceId:"";for(let y in r){let O=r[y],ce=i[O.defId];O.instanceId!==h&&c.push(new Ao(o,ce,O))}return c}function x0(n,o,t,i){let r={},c={},h={},y=[],O=[],ce=l(n.defs,o);for(let fe in n.defs){let ct=n.defs[fe];"inverse-background"===ce[ct.defId].display&&(ct.groupId?(r[ct.groupId]=[],h[ct.groupId]||(h[ct.groupId]=ct)):c[fe]=[])}for(let fe in n.instances){let ct=n.instances[fe],pt=n.defs[ct.defId],rt=ce[pt.defId],Mt=ct.range,Wt=!pt.allDay&&i?Od(Mt,i):Mt,zt=Va(Wt,t);zt&&("inverse-background"===rt.display?pt.groupId?r[pt.groupId].push(zt):c[ct.defId].push(zt):"none"!==rt.display&&("background"===rt.display?y:O).push({def:pt,ui:rt,instance:ct,range:zt,isStart:Wt.start&&Wt.start.valueOf()===zt.start.valueOf(),isEnd:Wt.end&&Wt.end.valueOf()===zt.end.valueOf()}))}for(let fe in r){let pt=wg(r[fe],t);for(let rt of pt){let Mt=h[fe];y.push({def:Mt,ui:ce[Mt.defId],instance:null,range:rt,isStart:!1,isEnd:!1})}}for(let fe in c){let pt=wg(c[fe],t);for(let rt of pt)y.push({def:n.defs[fe],ui:ce[fe],instance:null,range:rt,isStart:!1,isEnd:!1})}return{bg:y,fg:O}}function r1(n,o){n.fcSeg=o}function a(n){return n.fcSeg||n.parentNode.fcSeg||null}function l(n,o){return qr(n,t=>u(t,o))}function u(n,o){let t=[];return o[""]&&t.push(o[""]),o[n.defId]&&t.push(o[n.defId]),t.push(n.ui),bg(t)}function d(n,o){let t=n.map(g);return t.sort((i,r)=>function vI(n,o,t){let i,r;for(i=0;i<t.length;i+=1)if(r=LT(n,o,t[i]),r)return r;return 0}(i,r,o)),t.map(i=>i._seg)}function g(n){let{eventRange:o}=n,t=o.def,i=o.instance?o.instance.range:o.range,r=i.start?i.start.valueOf():0,c=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:c,duration:c-r,allDay:Number(t.allDay),_seg:n})}function v(n,o){let{pluginHooks:t}=o,i=t.isDraggableTransformers,{def:r,ui:c}=n.eventRange,h=c.startEditable;for(let y of i)h=y(h,r,c,o);return h}function T(n,o){return n.isStart&&n.eventRange.ui.durationEditable&&o.options.eventResizableFromStart}function K(n,o,t,i,r,c,h){let{dateEnv:y,options:O}=t,{displayEventTime:ce,displayEventEnd:fe}=O,ct=n.eventRange.def,pt=n.eventRange.instance;null==ce&&(ce=!1!==i),null==fe&&(fe=!1!==r);let rt=pt.range.start,Mt=pt.range.end,Wt=c||n.start||n.eventRange.range.start,zt=h||n.end||n.eventRange.range.end,dn=eo(rt).valueOf()===eo(Wt).valueOf(),On=eo(rl(Mt,-1)).valueOf()===eo(rl(zt,-1)).valueOf();return ce&&!ct.allDay&&(dn||On)?(Wt=dn?rt:Wt,zt=On?Mt:zt,fe&&ct.hasEnd?y.formatRange(Wt,zt,o,{forcedStartTzo:c?null:pt.forcedStartTzo,forcedEndTzo:h?null:pt.forcedEndTzo}):y.format(Wt,o,{forcedTzo:c?null:pt.forcedStartTzo})):""}function ve(n,o,t){let i=n.eventRange.range;return{isPast:i.end<(t||o.start),isFuture:i.start>=(t||o.end),isToday:o&&Xr(o,i.start)}}function je(n){let o=["fc-event"];return n.isMirror&&o.push("fc-event-mirror"),n.isDraggable&&o.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&o.push("fc-event-resizable"),n.isDragging&&o.push("fc-event-dragging"),n.isResizing&&o.push("fc-event-resizing"),n.isSelected&&o.push("fc-event-selected"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),n.isPast&&o.push("fc-event-past"),n.isToday&&o.push("fc-event-today"),n.isFuture&&o.push("fc-event-future"),o}function lt(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function wt(n,o){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:c,options:h}=o,{eventInteractive:y}=h;return null==y&&(y=t.interactive,null==y&&(y=Boolean(c.hasHandlers("eventClick")))),y?DC(O=>{c.trigger("eventClick",{el:O.target,event:new Ao(o,t,i),jsEvent:O,view:o.viewApi})}):{}}const Ft={start:jt,end:jt,allDay:Boolean};function rn(n,o,t){return Object.assign(Object.assign({},Wn(n,o,t)),{timeZone:o.timeZone})}function Wn(n,o,t){return{start:o.toDate(n.start),end:o.toDate(n.end),startStr:o.formatIso(n.start,{omitTime:t}),endStr:o.formatIso(n.end,{omitTime:t})}}let uo={};!function cl(n,o){uo[n]=o}("gregory",class Rg{getMarkerYear(o){return o.getUTCFullYear()}getMarkerMonth(o){return o.getUTCMonth()}getMarkerDay(o){return o.getUTCDate()}arrayToMarker(o){return er(o)}markerToArray(o){return ya(o)}});const Lg=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class Fg{constructor(o){let t=this.timeZone=o.timeZone,i="local"!==t&&"UTC"!==t;o.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new o.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=function Pg(n){return new uo[n]}(o.calendarSystem),this.locale=o.locale,this.weekDow=o.locale.week.dow,this.weekDoy=o.locale.week.doy,"ISO"===o.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof o.firstDay&&(this.weekDow=o.firstDay),"function"==typeof o.weekNumberCalculation&&(this.weekNumberFunc=o.weekNumberCalculation),this.weekText=null!=o.weekText?o.weekText:o.locale.options.weekText,this.weekTextLong=(null!=o.weekTextLong?o.weekTextLong:o.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=o.cmdFormatter,this.defaultSeparator=o.defaultSeparator}createMarker(o){let t=this.createMarkerMeta(o);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):er(jC(new Date))}createMarkerMeta(o){if("string"==typeof o)return this.parse(o);let t=null;return"number"==typeof o?t=this.timestampToMarker(o):o instanceof Date?(o=o.valueOf(),isNaN(o)||(t=this.timestampToMarker(o))):Array.isArray(o)&&(t=er(o)),null!==t&&WC(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(o){let t=function Ng(n){let o=Lg.exec(n);if(o){let t=new Date(Date.UTC(Number(o[1]),o[3]?Number(o[3])-1:0,Number(o[5]||1),Number(o[7]||0),Number(o[8]||0),Number(o[10]||0),o[12]?1e3*Number(`0.${o[12]}`):0));if(WC(t)){let i=null;return o[13]&&(i=("-"===o[15]?-1:1)*(60*Number(o[16]||0)+Number(o[18]||0))),{marker:t,isTimeUnspecified:!o[6],timeZoneOffset:i}}}return null}(o);if(null===t)return null;let{marker:i}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(o){return this.calendarSystem.getMarkerYear(o)}getMonth(o){return this.calendarSystem.getMarkerMonth(o)}getDay(o){return this.calendarSystem.getMarkerDay(o)}add(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(o,t){let i=this.calendarSystem.markerToArray(o);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(o,t){let i=this.calendarSystem.markerToArray(o);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(o,t){let{calendarSystem:i}=this;return Ia(o)===Ia(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)&&i.getMarkerMonth(o)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(o):null}diffWholeMonths(o,t){let{calendarSystem:i}=this;return Ia(o)===Ia(t)&&i.getMarkerDay(o)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(o)+12*(i.getMarkerYear(t)-i.getMarkerYear(o)):null}greatestWholeUnit(o,t){let i=this.diffWholeYears(o,t);return null!==i?{unit:"year",value:i}:(i=this.diffWholeMonths(o,t),null!==i?{unit:"month",value:i}:(i=function cg(n,o){let t=ug(n,o);return null!==t&&t%7==0?t/7:null}(o,t),null!==i?{unit:"week",value:i}:(i=ug(o,t),null!==i?{unit:"day",value:i}:(i=function GC(n,o){return(o.valueOf()-n.valueOf())/36e5}(o,t),Wl(i)?{unit:"hour",value:i}:(i=function ql(n,o){return(o.valueOf()-n.valueOf())/6e4}(o,t),Wl(i)?{unit:"minute",value:i}:(i=function kI(n,o){return(o.valueOf()-n.valueOf())/1e3}(o,t),Wl(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-o.valueOf()}))))))}countDurationsBetween(o,t,i){let r;return i.years&&(r=this.diffWholeYears(o,t),null!==r)?r/function HC(n){return Yl(n)/365}(i):i.months&&(r=this.diffWholeMonths(o,t),null!==r)?r/function ZC(n){return Yl(n)/30}(i):i.days&&(r=ug(o,t),null!==r)?r/Yl(i):(t.valueOf()-o.valueOf())/Xi(i)}startOf(o,t){return"year"===t?this.startOfYear(o):"month"===t?this.startOfMonth(o):"week"===t?this.startOfWeek(o):"day"===t?eo(o):"hour"===t?function NT(n){return er([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}(o):"minute"===t?function MI(n){return er([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}(o):"second"===t?function DI(n){return er([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}(o):null}startOfYear(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o)])}startOfMonth(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o)])}startOfWeek(o){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(o),this.calendarSystem.getMarkerMonth(o),o.getUTCDate()-(o.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(o){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(o)):function OI(n,o,t){let i=n.getUTCFullYear(),r=wd(n,i,o,t);if(r<1)return wd(n,i-1,o,t);let c=wd(n,i+1,o,t);return c>=1?Math.min(r,c):r}(o,this.weekDow,this.weekDoy)}format(o,t,i={}){return t.format({marker:o,timeZoneOffset:null!=i.forcedTzo?i.forcedTzo:this.offsetForMarker(o)},this)}formatRange(o,t,i,r={}){return r.isEndExclusive&&(t=rl(t,-1)),i.formatRange({marker:o,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(o)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(o,t={}){let i=null;return t.omitTimeZoneOffset||(i=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(o)),YC(o,i,t.omitTime)}timestampToMarker(o){return"local"===this.timeZone?er(jC(new Date(o))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?er(this.namedTimeZoneImpl.timestampToArray(o)):new Date(o)}offsetForMarker(o){return"local"===this.timeZone?-dg(ya(o)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ya(o)):null}toDate(o,t){return"local"===this.timeZone?dg(ya(o)):"UTC"===this.timeZone?new Date(o.valueOf()):this.namedTimeZoneImpl?new Date(o.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(ya(o))*60):new Date(o.valueOf()-(t||0))}}class Zd{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(o){let t=[];for(let i of o)this.insertEntry(i,t);return t}insertEntry(o,t){let i=this.findInsertion(o);return this.isInsertionValid(i,o)?(this.insertEntryAt(o,i),1):this.handleInvalidInsertion(i,o,t)}isInsertionValid(o,t){return(-1===this.maxCoord||o.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||o.stackCnt<this.maxStackCnt)}handleInvalidInsertion(o,t,i){return this.allowReslicing&&o.touchingEntry?this.splitEntry(t,o.touchingEntry,i):(i.push(t),0)}splitEntry(o,t,i){let r=0,c=[],h=o.span,y=t.span;return h.start<y.start&&(r+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:h.start,end:y.start}},c)),h.end>y.end&&(r+=this.insertEntry({index:o.index,thickness:o.thickness,span:{start:y.end,end:h.end}},c)),r?(i.push({index:o.index,thickness:o.thickness,span:a1(y,h)},...c),r):(i.push(o),0)}insertEntryAt(o,t){let{entriesByLevel:i,levelCoords:r}=this;-1===t.lateral?(l1(r,t.level,t.levelCoord),l1(i,t.level,[o])):l1(i[t.level],t.lateral,o),this.stackCnts[Ta(o)]=t.stackCnt}findInsertion(o){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:c}=this,h=t.length,y=0,O=-1,ce=-1,fe=null,ct=0;for(let Mt=0;Mt<h;Mt+=1){let Wt=t[Mt];if(!r&&Wt>=y+o.thickness)break;let dn,zt=i[Mt],On=c1(zt,o.span.start,ru),ti=On[0]+On[1];for(;(dn=zt[ti])&&dn.span.start<o.span.end;){let Yn=Wt+dn.thickness;Yn>y&&(y=Yn,fe=dn,O=Mt,ce=ti),Yn===y&&(ct=Math.max(ct,c[Ta(dn)]+1)),ti+=1}}let pt=0;if(fe)for(pt=O+1;pt<h&&t[pt]<y;)pt+=1;let rt=-1;return pt<h&&t[pt]===y&&(rt=c1(i[pt],o.span.end,ru)[0]),{touchingLevel:O,touchingLateral:ce,touchingEntry:fe,stackCnt:ct,levelCoord:y,level:pt,lateral:rt}}toRects(){let{entriesByLevel:o,levelCoords:t}=this,i=o.length,r=[];for(let c=0;c<i;c+=1){let h=o[c],y=t[c];for(let O of h)r.push(Object.assign(Object.assign({},O),{levelCoord:y}))}return r}}function ru(n){return n.span.end}function Ta(n){return n.index+":"+n.span.start}function mE(n,o){return{start:Math.min(n.start,o.start),end:Math.max(n.end,o.end)}}function a1(n,o){let t=Math.max(n.start,o.start),i=Math.min(n.end,o.end);return t<i?{start:t,end:i}:null}function l1(n,o,t){n.splice(o,0,t)}function c1(n,o,t){let i=0,r=n.length;if(!r||o<t(n[i]))return[0,0];if(o>t(n[r-1]))return[r,0];for(;i<r;){let c=Math.floor(i+(r-i)/2),h=t(n[c]);if(o<h)r=c;else{if(!(o>h))return[c,1];i=c+1}}return[i,0]}class Vd{constructor(o){this.component=o.component,this.isHitComboAllowed=o.isHitComboAllowed||null}destroy(){}}function u1(n){return{[n.component.uid]:n}}const d1={},p1={};Boolean;class bE extends Li{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:o}=this,{options:t}=o,{forPrint:i}=this.state,r=i||"auto"===t.height||"auto"===t.contentHeight,c=r||null==t.height?"":t.height,h=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,o.theme.getClass("root")];return Tg()||h.push("fc-liquid-hack"),o.children(h,c,r,i)}componentDidMount(){let{emitter:o}=this.props;o.on("_beforeprint",this.handleBeforePrint),o.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:o}=this.props;o.off("_beforeprint",this.handleBeforePrint),o.off("_afterprint",this.handleAfterPrint)}}const nw="fc-col-header-cell";function iw(n){return n.text}class h1 extends Li{constructor(){super(...arguments),this.id=Kr(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=o=>{this.props.elRef&&Br(this.props.elRef,o)}}render(){const{props:o,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:c,renderProps:h}=o,y=sw(o);let ce,ct,O=!1,fe=[];if(null!=r){const pt="function"==typeof r?r(h,_t):r;if(!0===pt)O=!0;else{const rt=pt&&"object"==typeof pt;rt&&"html"in pt?y.dangerouslySetInnerHTML={__html:pt.html}:rt&&"domNodes"in pt?fe=Array.prototype.slice.call(pt.domNodes):rt||"function"==typeof pt?ct=pt:ce=pt}}else O=!ow(o.generatorName,i);return O&&c&&(ce=c(h)),this.queuedDomNodes=fe,this.currentGeneratorMeta=ct,_t(o.elTag,y,ce)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(o){var t;const{props:i,context:r}=this,{handleCustomRendering:c,customRenderingMetaMap:h}=r.options;if(c){const y=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==h?void 0:h[i.generatorName];y&&c(Object.assign(Object.assign({id:this.id,isActive:o,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:y},i),{elClasses:(i.elClasses||[]).filter(IE)}))}}applyQueueudDomNodes(){const{queuedDomNodes:o,currentDomNodes:t}=this,i=this.base;if(!Rr(o,t)){t.forEach(bd);for(let r of o)i.appendChild(r);this.currentDomNodes=o}}}function ow(n,o){var t;return Boolean(o.handleCustomRendering&&n&&(null===(t=o.customRenderingMetaMap)||void 0===t?void 0:t[n]))}function sw(n,o){const t=Object.assign(Object.assign({},n.elAttrs),{ref:n.elRef});return(n.elClasses||o)&&(t.className=(n.elClasses||[]).concat(o||[]).concat(t.className||[]).filter(Boolean).join(" ")),n.elStyle&&(t.style=n.elStyle),t}function IE(n){return Boolean(n)}h1.addPropsEquality({elClasses:Rr,elStyle:$r,elAttrs:function xI(n,o){const t=Td(n,o);for(let i of t)if(!rg.test(i))return!1;return!0},renderProps:$r});const rw=Og(0);let hr=(()=>{class n extends Xs{constructor(){super(...arguments),this.InnerContent=AE.bind(void 0,this),this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Br(this.props.elRef,t)}}render(){const{props:t}=this,i=function TE(n,o){const t="function"==typeof n?n(o):n||[];return"string"==typeof t?[t]:t}(t.classNameGenerator,t.renderProps);if(t.children){const r=sw(t,i),c=t.children(this.InnerContent,t.renderProps,r);return t.elTag?_t(t.elTag,r,c):c}return _t(h1,Object.assign(Object.assign({},t),{elRef:this.handleRootEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;null===(i=(t=this.props).didMount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var t,i;null===(i=(t=this.props).willUnmount)||void 0===i||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}return n.contextType=rw,n})();function AE(n,o){const t=n.props;return _t(h1,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},o))}class wE extends Li{render(){let{dateEnv:o,options:t,theme:i,viewApi:r}=this.context,{props:c}=this,{date:h,dateProfile:y}=c,O=Eg(h,c.todayRange,null,y),ce=[nw].concat(Ld(O,i)),fe=o.format(h,c.dayHeaderFormat),ct=!O.isDisabled&&c.colCnt>1?tu(this.context,h):{},pt=Object.assign(Object.assign(Object.assign({date:o.toDate(h),view:r},c.extraRenderProps),{text:fe}),O);return _t(hr,{elTag:"th",elClasses:ce,elAttrs:Object.assign({role:"columnheader",colSpan:c.colSpan,"data-date":O.isDisabled?void 0:$l(h)},c.extraDataAttrs),renderProps:pt,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:iw,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},rt=>_t("div",{className:"fc-scrollgrid-sync-inner"},!O.isDisabled&&_t(rt,{elTag:"a",elAttrs:ct,elClasses:["fc-col-header-cell-cushion",c.isSticky&&"fc-sticky"]})))}}const xE=co({weekday:"long"});class EE extends Li{render(){let{props:o}=this,{dateEnv:t,theme:i,viewApi:r,options:c}=this.context,h=Go(new Date(2592e5),o.dow),y={dow:o.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},O=t.format(h,o.dayHeaderFormat),ce=Object.assign(Object.assign(Object.assign(Object.assign({date:h},y),{view:r}),o.extraRenderProps),{text:O});return _t(hr,{elTag:"th",elClasses:[nw,...Ld(y,i),...o.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan},o.extraDataAttrs),renderProps:ce,generatorName:"dayHeaderContent",customGenerator:c.dayHeaderContent,defaultGenerator:iw,classNameGenerator:c.dayHeaderClassNames,didMount:c.dayHeaderDidMount,willUnmount:c.dayHeaderWillUnmount},fe=>_t("div",{className:"fc-scrollgrid-sync-inner"},_t(fe,{elTag:"a",elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(h,xE)}})))}}let Bg=(()=>{class n extends Xs{constructor(t,i){super(t,i),this.initialNowDate=Hd(i.options.now,i.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:i}=this,r=rl(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),c=i.dateEnv.startOf(r,t.unit),h=i.dateEnv.add(c,wi(1,t.unit)),y=h.valueOf()-r.valueOf();return y=Math.min(864e5,y),{currentState:{nowDate:c,todayRange:aw(c)},nextState:{nowDate:h,todayRange:aw(h)},waitMs:y}}setTimeout(){let{nextState:t,waitMs:i}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},i)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=Aa,n})();function aw(n){let o=eo(n);return{start:o,end:Go(o,1)}}class lw extends Li{constructor(){super(...arguments),this.createDayHeaderFormatter=Jn(SE)}render(){let{context:o}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:c}=this.props,h=this.createDayHeaderFormatter(o.options.dayHeaderFormat,r,t.length);return _t(Bg,{unit:"day"},(y,O)=>_t("tr",{role:"row"},c&&c("day"),t.map(ce=>r?_t(wE,{key:ce.toISOString(),date:ce,dateProfile:i,todayRange:O,colCnt:t.length,dayHeaderFormat:h}):_t(EE,{key:ce.getUTCDay(),dow:ce.getUTCDay(),dayHeaderFormat:h}))))}}function SE(n,o,t){return n||function yE(n,o){return co(!n||o>10?{weekday:"short"}:o>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(o,t)}class cw{constructor(o,t){let i=o.start,{end:r}=o,c=[],h=[],y=-1;for(;i<r;)t.isHiddenDay(i)?c.push(y+.5):(y+=1,c.push(y),h.push(i)),i=Go(i,1);this.dates=h,this.indices=c,this.cnt=h.length}sliceRange(o){let t=this.getDateDayIndex(o.start),i=this.getDateDayIndex(Go(o.end,-1)),r=Math.max(0,t),c=Math.min(this.cnt-1,i);return r=Math.ceil(r),c=Math.floor(c),r<=c?{firstIndex:r,lastIndex:c,isStart:t===r,isEnd:i===c}:null}getDateDayIndex(o){let{indices:t}=this,i=Math.floor(Ha(this.dates[0],o));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}}class uw{constructor(o,t){let r,c,h,{dates:i}=o;if(t){for(c=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==c;r+=1);h=Math.ceil(i.length/r)}else h=1,r=i.length;this.rowCnt=h,this.colCnt=r,this.daySeries=o,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let o=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));o.push(i)}return o}buildCell(o,t){let i=this.daySeries.dates[o*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let o=[];for(let t=0;t<this.colCnt;t+=1)o.push(this.cells[0][t].date);return o}sliceRange(o){let{colCnt:t}=this,i=this.daySeries.sliceRange(o),r=[];if(i){let{firstIndex:c,lastIndex:h}=i,y=c;for(;y<=h;){let O=Math.floor(y/t),ce=Math.min((O+1)*t,h+1);r.push({row:O,firstCol:y%t,lastCol:(ce-1)%t,isStart:i.isStart&&y===c,isEnd:i.isEnd&&ce-1===h}),y=ce}}return r}}class dw{constructor(){this.sliceBusinessHours=Jn(this._sliceBusinessHours),this.sliceDateSelection=Jn(this._sliceDateSpan),this.sliceEventStore=Jn(this._sliceEventStore),this.sliceEventDrag=Jn(this._sliceInteraction),this.sliceEventResize=Jn(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(o,t,i,r,...c){let{eventUiBases:h}=o,y=this.sliceEventStore(o.eventStore,h,t,i,...c);return{dateSelectionSegs:this.sliceDateSelection(o.dateSelection,t,i,h,r,...c),businessHourSegs:this.sliceBusinessHours(o.businessHours,t,i,r,...c),fgEventSegs:y.fg,bgEventSegs:y.bg,eventDrag:this.sliceEventDrag(o.eventDrag,h,t,i,...c),eventResize:this.sliceEventResize(o.eventResize,h,t,i,...c),eventSelection:o.eventSelection}}sliceNowDate(o,t,i,r,...c){return this._sliceDateSpan({range:{start:o,end:rl(o,1)},allDay:!1},t,i,{},r,...c)}_sliceBusinessHours(o,t,i,r,...c){return o?this._sliceEventStore(tc(o,S0(t,Boolean(i)),r),{},t,i,...c).bg:[]}_sliceEventStore(o,t,i,r,...c){if(o){let h=x0(o,t,S0(i,Boolean(r)),r);return{bg:this.sliceEventRanges(h.bg,c),fg:this.sliceEventRanges(h.fg,c)}}return{bg:[],fg:[]}}_sliceInteraction(o,t,i,r,...c){if(!o)return null;let h=x0(o.mutatedEvents,t,S0(i,Boolean(r)),r);return{segs:this.sliceEventRanges(h.fg,c),affectedInstances:o.affectedEvents.instances,isEvent:o.isEvent}}_sliceDateSpan(o,t,i,r,c,...h){if(!o)return[];let y=S0(t,Boolean(i)),O=Va(o.range,y);if(O){let ce=function Mi(n,o,t){let i=yg({editable:!1},t),r=Fr(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:u(r,o),instance:Md(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}(o=Object.assign(Object.assign({},o),{range:O}),r,c),fe=this.sliceRange(o.range,...h);for(let ct of fe)ct.eventRange=ce;return fe}return[]}sliceEventRanges(o,t){let i=[];for(let r of o)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(o,t){let i=o.range;this.forceDayIfListItem&&"list-item"===o.ui.display&&(i={start:i.start,end:Go(i.start,1)});let r=this.sliceRange(i,...t);for(let c of r)c.eventRange=o,c.isStart=o.isStart&&c.isStart,c.isEnd=o.isEnd&&c.isEnd;return r}}function S0(n,o){let t=n.activeRange;return o?t:{start:rl(t.start,n.slotMinTime.milliseconds),end:rl(t.end,n.slotMaxTime.milliseconds-864e5)}}function pw(n,o,t){let i=t.options.eventDataTransform,r=o?o.eventDataTransform:null;return r&&(n=hw(n,r)),i&&(n=hw(n,i)),n}function hw(n,o){let t;if(o){t=[];for(let i of n){let r=o(i);r?t.push(r):null==r&&t.push(i)}}else t=n;return t}function gw(n,o,t){let{defs:i}=n,r=qr(n.instances,c=>i[c.defId].allDay?c:Object.assign(Object.assign({},c),{range:{start:t.createMarker(o.toDate(c.range.start,c.forcedStartTzo)),end:t.createMarker(o.toDate(c.range.end,c.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:c.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:c.forcedEndTzo}));return{defs:i,instances:r}}function fw(n,o){return Dd(n,t=>t.sourceId!==o)}function mw(n,o,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!xg(o.validRange,i[r].range))return!1;return _w({eventDrag:n},t)}function _w(n,o){let t=o.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(o.pluginHooks.isPropsValid||NE)(i,o)}function NE(n,o,t={},i){return!(n.eventDrag&&!function FE(n,o,t,i){let r=o.getCurrentData(),c=n.eventDrag,h=c.mutatedEvents,y=h.defs,O=h.instances,ce=l(y,c.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(ce=qr(ce,i));let fe=function PE(n,o){return{defs:n.defs,instances:Kl(n.instances,t=>!o[t.instanceId])}}(n.eventStore,c.affectedEvents.instances),ct=fe.defs,pt=fe.instances,rt=l(ct,n.eventUiBases);for(let Mt in O){let Wt=O[Mt],zt=Wt.range,dn=ce[Wt.defId],On=y[Wt.defId];if(!Cw(dn.constraints,zt,fe,n.businessHours,o))return!1;let{eventOverlap:ti}=o.options,Yn="function"==typeof ti?ti:null;for(let vo in pt){let Bo=pt[vo];if(g0(zt,Bo.range)&&(!1===rt[Bo.defId].overlap&&c.isEvent||!1===dn.overlap||Yn&&!Yn(new Ao(o,ct[Bo.defId],Bo),new Ao(o,On,Wt))))return!1}let Pi=r.eventStore;for(let vo of dn.allows){let Ug,Bo=Object.assign(Object.assign({},t),{range:Wt.range,allDay:On.allDay}),Ni=Pi.defs[On.defId],ac=Pi.instances[Mt];if(Ug=Ni?new Ao(o,Ni,ac):new Ao(o,On),!vo(T0(Bo,o),Ug))return!1}}return!0}(n,o,t,i)||n.dateSelection&&!function BE(n,o,t,i){let r=n.eventStore,c=r.defs,h=r.instances,y=n.dateSelection,O=y.range,{selectionConfig:ce}=o.getCurrentData();if(i&&(ce=i(ce)),!Cw(ce.constraints,O,r,n.businessHours,o))return!1;let{selectOverlap:fe}=o.options,ct="function"==typeof fe?fe:null;for(let pt in h){let rt=h[pt];if(g0(O,rt.range)&&(!1===ce.overlap||ct&&!ct(new Ao(o,c[rt.defId],rt),null)))return!1}for(let pt of ce.allows)if(!pt(T0(Object.assign(Object.assign({},t),y),o),null))return!1;return!0}(n,o,t,i))}function Cw(n,o,t,i,r){for(let c of n)if(!ZE(HE(c,o,t,i,r),o))return!1;return!0}function HE(n,o,t,i,r){return"businessHours"===n?g1(tc(i,o,r)):"string"==typeof n?g1(Dd(t,c=>c.groupId===n)):"object"==typeof n&&n?g1(tc(n,o,r)):[]}function g1(n){let{instances:o}=n,t=[];for(let i in o)t.push(o[i].range);return t}function ZE(n,o){for(let t of n)if(xg(t,o))return!0;return!1}class vw extends Error{constructor(o,t){super(o),this.response=t}}class f1{constructor(o){this.drainedOption=o,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(o){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==o?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),o))}pause(o=""){let{pauseDepths:t}=this;t[o]=(t[o]||0)+1,this.clearTimeout()}resume(o="",t){let{pauseDepths:i}=this;o in i&&(t?delete i[o]:(i[o]-=1,i[o]<=0&&delete i[o]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}const k0=/^(visible|hidden)$/;class bw extends Li{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,Br(this.props.elRef,o)}}render(){let{props:o}=this,{liquid:t,liquidIsAbsolute:i}=o,r=t&&i,c=["fc-scroller"];return t&&c.push(i?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),_t("div",{ref:this.handleEl,className:c.join(" "),style:{overflowX:o.overflowX,overflowY:o.overflowY,left:r&&-(o.overcomeLeft||0)||"",right:r&&-(o.overcomeRight||0)||"",bottom:r&&-(o.overcomeBottom||0)||"",marginLeft:!r&&-(o.overcomeLeft||0)||"",marginRight:!r&&-(o.overcomeRight||0)||"",marginBottom:!r&&-(o.overcomeBottom||0)||"",maxHeight:o.maxHeight||""}},o.children)}needsXScrolling(){if(k0.test(this.props.overflowX))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=o;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(k0.test(this.props.overflowY))return!1;let{el:o}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=o;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return k0.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return k0.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ul{constructor(o){this.masterCallback=o,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:c}=this,h=!1,y=!1;null!==t?(h=i in c,c[i]=t,r[i]=(r[i]||0)+1,y=!0):(r[i]-=1,r[i]||(delete c[i],delete this.callbackMap[i],h=!0)),this.masterCallback&&(h&&this.masterCallback(null,String(i)),y&&this.masterCallback(t,String(i)))}}createRef(o){let t=this.callbackMap[o];return t||(t=this.callbackMap[o]=i=>{this.handleValue(i,String(o))}),t}collect(o,t,i){return function SI(n,o=0,t,i=1){let r=[];null==t&&(t=Object.keys(n).length);for(let c=o;c<t;c+=i){let h=n[c];void 0!==h&&r.push(h)}return r}(this.currentMap,o,t,i)}getAll(){return sl(this.currentMap)}}function yw(n,o){return n.liquid&&o.liquid}function QE(n,o){return Rr(n,o,$r)}function JE(n,o){let t=[];for(let i of n){let r=i.span||1;for(let c=0;c<r;c+=1)t.push(_t("col",{style:{width:"shrink"===i.width?jE(o):i.width||"",minWidth:i.minWidth||""}}))}return _t("colgroup",{},...t)}function jE(n){return null==n?4:n}function KE(n,o){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return o&&n.liquid&&null==n.maxHeight&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function m1(n){return _t("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function M0(n){let{stickyHeaderDates:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}function Iw(n){let{stickyFooterScrollbar:o}=n;return(null==o||"auto"===o)&&(o="auto"===n.height||"auto"===n.viewHeight),o}class _1 extends Li{constructor(){super(...arguments),this.processCols=Jn(o=>o,QE),this.renderMicroColGroup=Jn(JE),this.scrollerRefs=new ul,this.scrollerElRefs=new ul(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:o,state:t,context:i}=this,r=o.sections||[],c=this.processCols(o.cols),h=this.renderMicroColGroup(c,t.shrinkWidth),y=function YE(n,o){let t=["fc-scrollgrid",o.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}(o.liquid,i);o.collapsibleWidth&&y.push("fc-scrollgrid-collapsible");let fe,O=r.length,ce=0,ct=[],pt=[],rt=[];for(;ce<O&&"header"===(fe=r[ce]).type;)ct.push(this.renderSection(fe,h,!0)),ce+=1;for(;ce<O&&"body"===(fe=r[ce]).type;)pt.push(this.renderSection(fe,h,!1)),ce+=1;for(;ce<O&&"footer"===(fe=r[ce]).type;)rt.push(this.renderSection(fe,h,!0)),ce+=1;let Mt=!Tg();const Wt={role:"rowgroup"};return _t("table",{role:"grid",className:y.join(" "),style:{height:o.height}},Boolean(!Mt&&ct.length)&&_t("thead",Wt,...ct),Boolean(!Mt&&pt.length)&&_t("tbody",Wt,...pt),Boolean(!Mt&&rt.length)&&_t("tfoot",Wt,...rt),Mt&&_t("tbody",Wt,...ct,...pt,...rt))}renderSection(o,t,i){return"outerContent"in o?_t(ji,{key:o.key},o.outerContent):_t("tr",{key:o.key,role:"presentation",className:KE(o,this.props.liquid).join(" ")},this.renderChunkTd(o,t,o.chunk,i))}renderChunkTd(o,t,i,r){if("outerContent"in i)return i.outerContent;let{props:c}=this,{forceYScrollbars:h,scrollerClientWidths:y,scrollerClientHeights:O}=this.state,ce=function zE(n,o){return null!=o.maxHeight||yw(n,o)}(c,o),fe=yw(c,o),ct=c.liquid?h?"scroll":ce?"auto":"hidden":"visible",pt=o.key,rt=function GE(n,o,t,i){let{expandRows:r}=t;return"function"==typeof o.content?o.content(t):_t("table",{role:"presentation",className:[o.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,_t(i?"thead":"tbody",{role:"presentation"},"function"==typeof o.rowContent?o.rowContent(t):o.rowContent))}(o,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:c.collapsibleWidth||void 0===y[pt]?null:y[pt],clientHeight:void 0!==O[pt]?O[pt]:null,expandRows:o.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return _t(r?"th":"td",{ref:i.elRef,role:"presentation"},_t("div",{className:"fc-scroller-harness"+(fe?" fc-scroller-harness-liquid":"")},_t(bw,{ref:this.scrollerRefs.createRef(pt),elRef:this.scrollerElRefs.createRef(pt),overflowY:ct,overflowX:c.liquid?"hidden":"visible",maxHeight:o.maxHeight,liquid:fe,liquidIsAbsolute:!0},rt)))}_handleScrollerEl(o,t){let i=function qE(n,o){for(let t of n)if(t.key===o)return t;return null}(this.props.sections,t);i&&Br(i.chunk.scrollerElRef,o)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function WE(n){for(let o of n)if("shrink"===o.width)return!0;return!1}(this.props.cols)?function UE(n){let o=function RT(n,o){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let c=t[r].querySelectorAll(o);for(let h=0;h<c.length;h+=1)i.push(c[h])}return i}(n,".fc-scrollgrid-shrink"),t=0;for(let i of o)t=Math.max(t,bI(i));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let o=function KI(){return Sg||(Sg=function m0(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let o=Ua(n);return document.body.removeChild(n),o}()),Sg}(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,c={},h={};for(let y in t.currentMap){let O=t.currentMap[y];if(O&&O.needsYScrolling()){r=!0;break}}for(let y of this.props.sections){let O=y.key,ce=i.currentMap[O];if(ce){let fe=ce.parentNode;c[O]=Math.floor(fe.getBoundingClientRect().width-(r?o.y:0)),h[O]=Math.floor(fe.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:c,scrollerClientHeights:h}}}_1.addStateEquality({scrollerClientWidths:$r,scrollerClientHeights:$r});class D0 extends Li{constructor(){super(...arguments),this.handleEl=o=>{this.el=o,o&&r1(o,this.props.seg)}}render(){const{props:o,context:t}=this,{options:i}=t,{seg:r}=o,{eventRange:c}=r,{ui:h}=c,y={event:new Ao(t,c.def,c.instance),view:t.viewApi,timeText:o.timeText,textColor:h.textColor,backgroundColor:h.backgroundColor,borderColor:h.borderColor,isDraggable:!o.disableDragging&&v(r,t),isStartResizable:!o.disableResizing&&T(r,t),isEndResizable:!o.disableResizing&&(n=r,n.isEnd&&n.eventRange.ui.durationEditable),isMirror:Boolean(o.isDragging||o.isResizing||o.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(o.isPast),isFuture:Boolean(o.isFuture),isToday:Boolean(o.isToday),isSelected:Boolean(o.isSelected),isDragging:Boolean(o.isDragging),isResizing:Boolean(o.isResizing)};var n;return _t(hr,Object.assign({},o,{elRef:this.handleEl,elClasses:[...je(y),...r.eventRange.ui.classNames,...o.elClasses||[]],renderProps:y,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:o.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(o){this.el&&this.props.seg!==o.seg&&r1(this.el,this.props.seg)}}class Aw extends Li{render(){let{props:o,context:t}=this,{options:i}=t,{seg:r}=o,{ui:c}=r.eventRange,y=K(r,i.eventTimeFormat||o.defaultTimeFormat,t,o.defaultDisplayEventTime,o.defaultDisplayEventEnd);return _t(D0,Object.assign({},o,{elTag:"a",elStyle:{borderColor:c.borderColor,backgroundColor:c.backgroundColor},elAttrs:wt(r,t),defaultGenerator:$E,timeText:y}),(O,ce)=>_t(ji,null,_t(O,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:ce.textColor}}),Boolean(ce.isStartResizable)&&_t("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(ce.isEndResizable)&&_t("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function $E(n){return _t("div",{className:"fc-event-main-frame"},n.timeText&&_t("div",{className:"fc-event-time"},n.timeText),_t("div",{className:"fc-event-title-container"},_t("div",{className:"fc-event-title fc-sticky"},n.event.title||_t(ji,null,"\xa0"))))}const C1=n=>_t(Aa.Consumer,null,o=>{let{options:t}=o,i={isAxis:n.isAxis,date:o.dateEnv.toDate(n.date),view:o.viewApi};return _t(hr,Object.assign({},n,{elTag:n.elTag||"div",renderProps:i,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),XE=co({day:"numeric"});class v1 extends Li{constructor(){super(...arguments),this.refineRenderProps=Ed(e4)}render(){let{props:o,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,isMonthStart:o.isMonthStart||!1,showDayNumber:o.showDayNumber,extraRenderProps:o.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return _t(hr,Object.assign({},o,{elClasses:[...Ld(r,t.theme),...o.elClasses||[]],elAttrs:Object.assign(Object.assign({},o.elAttrs),r.isDisabled?{}:{"data-date":$l(o.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:o.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function b1(n){return Boolean(n.dayCellContent||ow("dayCellContent",n))}function e4(n){let{date:o,dateEnv:t,dateProfile:i,isMonthStart:r}=n,c=Eg(o,n.todayRange,null,i),h=n.showDayNumber?t.format(o,r?n.monthStartFormat:XE):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(o),view:n.viewApi},c),{isMonthStart:r,dayNumberText:h}),n.extraRenderProps)}class Tw extends Li{render(){let{props:o}=this,{seg:t}=o;return _t(D0,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:t4,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:o.isPast,isFuture:o.isFuture,isToday:o.isToday,disableDragging:!0,disableResizing:!0})}}function t4(n){let{title:o}=n.event;return o&&_t("div",{className:"fc-event-title"},n.event.title)}function ww(n){return _t("div",{className:`fc-${n}`})}const xw=n=>_t(Aa.Consumer,null,o=>{let{dateEnv:t,options:i}=o,{date:r}=n,c=i.weekNumberFormat||n.defaultFormat,h=t.computeWeekNumber(r),y=t.format(r,c);return _t(hr,Object.assign({},n,{renderProps:{num:h,text:y,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:n4,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function n4(n){return n.text}class o4 extends Li{constructor(){super(...arguments),this.state={titleId:Na()},this.handleRootEl=o=>{this.rootEl=o,this.props.elRef&&Br(this.props.elRef,o)},this.handleDocumentMouseDown=o=>{const t=qh(o);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=o=>{"Escape"===o.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:o}=this.props;o&&o()}}render(){let{theme:o,options:t}=this.context,{props:i,state:r}=this,c=["fc-popover",o.getClass("popover")].concat(i.extraClassNames||[]);return function ol(n,o){var t=_t(hC,{__v:n,i:o});return t.containerInfo=o,t}(_t("div",Object.assign({},i.extraAttrs,{id:i.id,className:c.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),_t("div",{className:"fc-popover-header "+o.getClass("popoverHeader")},_t("span",{className:"fc-popover-title",id:r.titleId},i.title),_t("span",{className:"fc-popover-close "+o.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),_t("div",{className:"fc-popover-body "+o.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:o}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,c=function qI(n){let o=Fd(n),t=n.getBoundingClientRect();for(let i of o){let r=Ig(t,i.getBoundingClientRect());if(!r)return null;t=r}return t}(t);if(c){let h=r.getBoundingClientRect(),y=i?vs(t,".fc-scrollgrid").getBoundingClientRect().top:c.top,O=o?c.right-h.width:c.left;y=Math.max(y,10),O=Math.min(O,document.documentElement.clientWidth-10-h.width),O=Math.max(O,10);let ce=r.offsetParent.getBoundingClientRect();zl(r,{top:y-ce.top,left:O-ce.left})}}}class s4 extends Hr{constructor(){super(...arguments),this.handleRootEl=o=>{this.rootEl=o,o?this.context.registerInteractiveComponent(this,{el:o,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:o,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:c,dateProfile:h}=i,y=t.format(r,o.dayPopoverFormat);return _t(v1,{elRef:this.handleRootEl,date:r,dateProfile:h,todayRange:c},(O,ce,fe)=>_t(o4,{elRef:fe.ref,id:i.id,title:y,extraClassNames:["fc-more-popover"].concat(fe.className||[]),extraAttrs:fe,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},b1(o)&&_t(O,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(o,t,i,r){let{rootEl:c,props:h}=this;return o>=0&&o<i&&t>=0&&t<r?{dateProfile:h.dateProfile,dateSpan:Object.assign({allDay:!h.forceTimed,range:{start:h.startDate,end:h.endDate}},h.extraDateSpan),dayEl:c,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class Ew extends Li{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Na()},this.handleLinkEl=o=>{this.linkEl=o,this.props.elRef&&Br(this.props.elRef,o)},this.handleClick=o=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,c=Sw(t).start;function h(y){let{def:O,instance:ce,range:fe}=y.eventRange;return{event:new Ao(i,O,ce),start:i.dateEnv.toDate(fe.start),end:i.dateEnv.toDate(fe.end),isStart:y.isStart,isEnd:y.isEnd}}"function"==typeof r&&(r=r({date:c,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(h),hiddenSegs:t.hiddenSegs.map(h),jsEvent:o,view:i.viewApi})),r&&"popover"!==r?"string"==typeof r&&i.calendarApi.zoomTo(c,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:o,state:t}=this;return _t(Aa.Consumer,null,i=>{let{viewApi:r,options:c,calendarApi:h}=i,{moreLinkText:y}=c,{moreCnt:O}=o,ce=Sw(o),fe="function"==typeof y?y.call(h,O):`+${O} ${y}`,ct=jl(c.moreLinkHint,[O],fe),pt={num:O,shortText:`+${O}`,text:fe,view:r};return _t(ji,null,Boolean(o.moreCnt)&&_t(hr,{elTag:o.elTag||"a",elRef:this.handleLinkEl,elClasses:[...o.elClasses||[],"fc-more-link"],elStyle:o.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},o.elAttrs),MC(this.handleClick)),{title:ct,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:pt,generatorName:"moreLinkContent",customGenerator:c.moreLinkContent,defaultGenerator:o.defaultGenerator||r4,classNameGenerator:c.moreLinkClassNames,didMount:c.moreLinkDidMount,willUnmount:c.moreLinkWillUnmount},o.children),t.isPopoverOpen&&_t(s4,{id:t.popoverId,startDate:ce.start,endDate:ce.end,dateProfile:o.dateProfile,todayRange:o.todayRange,extraDateSpan:o.extraDateSpan,parentEl:this.parentEl,alignmentEl:o.alignmentElRef?o.alignmentElRef.current:this.linkEl,alignGridTop:o.alignGridTop,forceTimed:o.forceTimed,onClose:this.handlePopoverClose},o.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=vs(this.linkEl,".fc-view-harness"))}}function r4(n){return n.text}function Sw(n){if(n.allDayDate)return{start:n.allDayDate,end:Go(n.allDayDate,1)};let{hiddenSegs:o}=n;return{start:kw(o),end:l4(o)}}function kw(n){return n.reduce(a4).eventRange.range.start}function a4(n,o){return n.eventRange.range.start<o.eventRange.range.start?n:o}function l4(n){return n.reduce(c4).eventRange.range.end}function c4(n,o){return n.eventRange.range.end>o.eventRange.range.end?n:o}class Hg extends Li{render(){let{props:o,context:t}=this,{options:i}=t,r={view:t.viewApi};return _t(hr,Object.assign({},o,{elTag:o.elTag||"div",elClasses:[...Mw(o.viewSpec),...o.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>o.children)}}function Mw(n){return[`fc-${n.type}-view`,"fc-view"]}const u4={id:String,defaultAllDay:Boolean,url:String,format:String,events:jt,eventDataTransform:jt,success:jt,failure:jt};function Dw(n,o,t=Ow(o)){let i;if("string"==typeof n?i={url:n}:"function"==typeof n||Array.isArray(n)?i={events:n}:"object"==typeof n&&n&&(i=n),i){let{refined:r,extra:c}=mg(i,t),h=function d4(n,o){let t=o.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let c=t[i].parseMeta(n);if(c)return{sourceDefId:i,meta:c}}return null}(r,o);if(h)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Kr(),sourceDefId:h.sourceDefId,meta:h.meta,ui:qc(r,o),extendedProps:c}}return null}function Ow(n){return Object.assign(Object.assign(Object.assign({},Kc),u4),n.pluginHooks.eventSourceRefiners)}class g4 extends class h4{constructor(){this.handlers=[]}set(o){this.currentValue=o;for(let t of this.handlers)t(o)}subscribe(o){this.handlers.push(o),void 0!==this.currentValue&&o(this.currentValue)}}{constructor(){super(...arguments),this.map=new Map}handle(o){const{map:t}=this;let i=!1;o.isActive?(t.set(o.id,o),i=!0):t.has(o.id)&&(t.delete(o.id),i=!0),i&&this.set(t)}}const f4=[],Pw={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Rw=Object.assign(Object.assign({},Pw),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(n,o)=>"day"===o?"Today":`This ${n}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:n=>`Show ${n} more event${1===n?"":"s"}`});function Lw(n){let o=n.length>0?n[0].code:"en",t=f4.concat(n),i={en:Rw};for(let r of t)i[r.code]=r;return{map:i,defaultCode:o}}function I1(n,o){return"object"!=typeof n||Array.isArray(n)?function m4(n,o){let t=[].concat(n||[]),i=function _4(n,o){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let c=i.slice(0,r).join("-");if(o[c])return o[c]}}return null}(t,o)||Rw;return Nw(n,t,i)}(n,o):Nw(n.code,[n.code],n)}function Nw(n,o,t){let i=VC([Pw,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:o,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function za(n){return{id:Kr(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function b4(n,o){return{premiumReleaseDate:y4(n.premiumReleaseDate,o.premiumReleaseDate),reducers:n.reducers.concat(o.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(o.isLoadingFuncs),contextInit:n.contextInit.concat(o.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),o.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(o.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),o.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(o.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(o.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(o.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(o.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(o.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(o.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),o.views),viewPropsTransformers:n.viewPropsTransformers.concat(o.viewPropsTransformers),isPropsValid:o.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(o.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(o.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(o.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(o.calendarInteractions),componentInteractions:n.componentInteractions.concat(o.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),o.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(o.eventSourceDefs),cmdFormatter:o.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(o.recurringTypes),namedTimeZonedImpl:o.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||o.initialView,elementDraggingImpl:n.elementDraggingImpl||o.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),o.optionChangeHandlers),scrollGridImpl:o.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),o.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),o.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),o.propSetHandlers)}}function y4(n,o){return void 0===n?o:void 0===o?n:new Date(Math.max(n.valueOf(),o.valueOf()))}class sc extends ou{}function A1(n,o,t,i){if(o[n])return o[n];let r=function A4(n,o,t,i){let r=t[n],c=i[n],h=fe=>r&&null!==r[fe]?r[fe]:c&&null!==c[fe]?c[fe]:null,y=h("component"),O=h("superType"),ce=null;if(O){if(O===n)throw new Error("Can't have a custom view type that references itself");ce=A1(O,o,t,i)}return!y&&ce&&(y=ce.component),y?{type:n,component:y,defaults:Object.assign(Object.assign({},ce?ce.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},ce?ce.overrides:{}),c?c.rawOptions:{})}:null}(n,o,t,i);return r&&(o[n]=r),r}function Fw(n){return qr(n,T4)}function T4(n){let o="function"==typeof n?{component:n}:n,{component:t}=o;return o.content&&(t=function w4(n){return o=>_t(Aa.Consumer,null,t=>_t(hr,{elTag:"div",elClasses:Mw(t.viewSpec),renderProps:Object.assign(Object.assign({},o),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}(o)),{superType:o.type,component:t,rawOptions:o}}function x4(n,o,t,i){let r=Fw(n),c=Fw(o.views),h=function I4(n,o){let i,t={};for(i in n)A1(i,t,n,o);for(i in o)A1(i,t,n,o);return t}(r,c);return qr(h,y=>function E4(n,o,t,i,r){let c=n.overrides.duration||n.defaults.duration||i.duration||t.duration,h=null,y="",O="",ce={};if(c&&(h=function S4(n){let o=JSON.stringify(n),t=Bw[o];return void 0===t&&(t=wi(n),Bw[o]=t),t}(c),h)){let pt=og(h);y=pt.unit,1===pt.value&&(O=y,ce=o[y]?o[y].rawOptions:{})}let fe=pt=>{let rt=pt.buttonText||{},Mt=n.defaults.buttonTextKey;return null!=Mt&&null!=rt[Mt]?rt[Mt]:null!=rt[n.type]?rt[n.type]:null!=rt[O]?rt[O]:null},ct=pt=>{let rt=pt.buttonHints||{},Mt=n.defaults.buttonTextKey;return null!=Mt&&null!=rt[Mt]?rt[Mt]:null!=rt[n.type]?rt[n.type]:null!=rt[O]?rt[O]:null};return{type:n.type,component:n.component,duration:h,durationUnit:y,singleUnit:O,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},ce),n.overrides),buttonTextOverride:fe(i)||fe(t)||n.overrides.buttonText,buttonTextDefault:fe(r)||n.defaults.buttonText||fe(Za)||n.type,buttonTitleOverride:ct(i)||ct(t)||n.overrides.buttonHint,buttonTitleDefault:ct(r)||n.defaults.buttonHint||ct(Za)}}(y,c,o,t,i))}sc.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},sc.prototype.baseIconClass="fc-icon",sc.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},sc.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},sc.prototype.iconOverrideOption="buttonIcons",sc.prototype.iconOverrideCustomButtonOption="icon",sc.prototype.iconOverridePrefix="fc-icon-";let Bw={};function Hw(n){for(let o in n)if(n[o].isFetching)return!0;return!1}function Zw(n,o,t,i){let r={};for(let c of o)r[c.sourceId]=c;return t&&(r=Vw(r,t,i)),Object.assign(Object.assign({},n),r)}function Vw(n,o,t){return T1(n,Kl(n,i=>function N4(n,o,t){return zw(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||o.start<n.fetchRange.start||o.end>n.fetchRange.end:!n.latestFetchId}(i,o,t)),o,!1,t)}function T1(n,o,t,i,r){let c={};for(let h in n){let y=n[h];c[h]=o[h]?F4(y,t,i,r):y}return c}function F4(n,o,t,i){let{options:r,calendarApi:c}=i,h=i.pluginHooks.eventSourceDefs[n.sourceDefId],y=Kr();return h.fetch({eventSource:n,range:o,isRefetch:t,context:i},O=>{let{rawEvents:ce}=O;r.eventSourceSuccess&&(ce=r.eventSourceSuccess.call(c,ce,O.response)||ce),n.success&&(ce=n.success.call(c,ce,O.response)||ce),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:y,fetchRange:o,rawEvents:ce})},O=>{let ce=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(c,O),ce=!0),n.failure&&(n.failure(O),ce=!0),ce||console.warn(O.message,O),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:y,fetchRange:o,error:O})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:y})}function Uw(n,o){return Kl(n,t=>zw(t,o))}function zw(n,o){return!o.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function Z4(n,o){switch(o.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return o.selection;default:return n}}function V4(n,o){switch(o.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return o.eventInstanceId;default:return n}}function U4(n,o){let t;switch(o.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function z4(n,o){let t;switch(o.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=o.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function G4(n,o,t,i,r){return{header:n.headerToolbar?Gw(n.headerToolbar,n,o,t,i,r):null,footer:n.footerToolbar?Gw(n.footerToolbar,n,o,t,i,r):null}}function Gw(n,o,t,i,r,c){let h={},y=[],O=!1;for(let ce in n){let ct=Q4(n[ce],o,t,i,r,c);h[ce]=ct.widgets,y.push(...ct.viewsWithButtons),O=O||ct.hasTitle}return{sectionWidgets:h,viewsWithButtons:y,hasTitle:O}}function Q4(n,o,t,i,r,c){let h="rtl"===o.direction,y=o.customButtons||{},O=t.buttonText||{},ce=o.buttonText||{},fe=t.buttonHints||{},ct=o.buttonHints||{},pt=n?n.split(" "):[],rt=[],Mt=!1;return{widgets:pt.map(zt=>zt.split(",").map(dn=>{if("title"===dn)return Mt=!0,{buttonName:dn};let On,ti,Yn,Pi,vo,Bo;if(On=y[dn])Yn=Ni=>{On.click&&On.click.call(Ni.target,Ni,Ni.target)},(Pi=i.getCustomButtonIconClass(On))||(Pi=i.getIconClass(dn,h))||(vo=On.text),Bo=On.hint||On.text;else if(ti=r[dn]){rt.push(dn),Yn=()=>{c.changeView(dn)},(vo=ti.buttonTextOverride)||(Pi=i.getIconClass(dn,h))||(vo=ti.buttonTextDefault);let Ni=ti.buttonTextOverride||ti.buttonTextDefault;Bo=jl(ti.buttonTitleOverride||ti.buttonTitleDefault||o.viewHint,[Ni,dn],Ni)}else if(c[dn])if(Yn=()=>{c[dn]()},(vo=O[dn])||(Pi=i.getIconClass(dn,h))||(vo=ce[dn]),"prevYear"===dn||"nextYear"===dn){let Ni="prevYear"===dn?"prev":"next";Bo=jl(fe[Ni]||ct[Ni],[ce.year||"year","year"],ce[dn])}else Bo=Ni=>jl(fe[dn]||ct[dn],[ce[Ni]||Ni,Ni],ce[dn]);return{buttonName:dn,buttonClick:Yn,buttonIcon:Pi,buttonText:vo,buttonHint:Bo}})),viewsWithButtons:rt,hasTitle:Mt}}class J4{constructor(o,t,i){this.type=o,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(o){return this.getCurrentData().options[o]}}function Qw(n,o){let t=sl(o.getCurrentData().eventSources);if(1===t.length&&1===n.length&&Array.isArray(t[0]._raw)&&Array.isArray(n[0]))return void o.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});let i=[];for(let r of n){let c=!1;for(let h=0;h<t.length;h+=1)if(t[h]._raw===r){t.splice(h,1),c=!0;break}c||i.push(r)}for(let r of t)o.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)o.calendarApi.addEventSource(r)}const nS=[za({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:n=>Array.isArray(n.events)?n.events:null,fetch(n,o){o({rawEvents:n.eventSource.meta})}}]}),za({name:"func-event-source",eventSourceDefs:[{parseMeta:n=>"function"==typeof n.events?n.events:null,fetch(n,o,t){const{dateEnv:i}=n.context;!function Mg(n,o,t){let i=!1,r=function(y){i||(i=!0,o(y))},c=function(y){i||(i=!0,t(y))},h=n(r,c);h&&"function"==typeof h.then&&h.then(r,c)}(n.eventSource.meta.bind(null,rn(n.range,i)),c=>o({rawEvents:c}),t)}}]}),za({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:jt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:n=>!n.url||"json"!==n.format&&n.format?null:{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam},fetch(n,o,t){const{meta:i}=n.eventSource,r=function K4(n,o,t){let c,h,y,O,{dateEnv:i,options:r}=t,ce={};return c=n.startParam,null==c&&(c=r.startParam),h=n.endParam,null==h&&(h=r.endParam),y=n.timeZoneParam,null==y&&(y=r.timeZoneParam),O="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},Object.assign(ce,O),ce[c]=i.formatIso(o.start),ce[h]=i.formatIso(o.end),"local"!==i.timeZone&&(ce[y]=i.timeZone),ce}(i,n.range,n.context);(function VE(n,o,t){const i={method:n=n.toUpperCase()};return"GET"===n?o+=(-1===o.indexOf("?")?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(o,i).then(r=>{if(r.ok)return r.json().then(c=>[c,r],()=>{throw new vw("Failure parsing JSON",r)});throw new vw("Request failed",r)})})(i.method,i.url,r).then(([c,h])=>{o({rawEvents:c,response:h})},t)}}]}),za({name:"simple-recurring-event",recurringTypes:[{parse(n,o){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let i,t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?o.createMarker(n.startRecur):null,endRecur:n.endRecur?o.createMarker(n.endRecur):null};return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=function BC(n,o){return{years:n.years-o.years,months:n.months-o.months,days:n.days-o.days,milliseconds:n.milliseconds-o.milliseconds}}(n.endTime,n.startTime)),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:i,typeData:t}}return null},expand(n,o,t){let i=Va(o,{start:n.startRecur,end:n.endRecur});return i?function $4(n,o,t,i){let r=n?sg(n):null,c=eo(t.start),h=t.end,y=[];for(;c<h;){let O;(!r||r[c.getUTCDay()])&&(O=o?i.add(c,o):c,y.push(O)),c=Go(c,1)}return y}(n.daysOfWeek,n.startTime,i,t):[]}}],eventRefiners:{daysOfWeek:jt,startTime:wi,endTime:wi,duration:wi,startRecur:jt,endRecur:jt}}),za({name:"change-handler",optionChangeHandlers:{events(n,o){Qw([n],o)},eventSources:Qw}}),za({name:"misc",isLoadingFuncs:[n=>Hw(n.eventSources)],propSetHandlers:{dateProfile:function eS(n,o){o.emitter.trigger("datesSet",Object.assign(Object.assign({},rn(n.activeRange,o.dateEnv)),{view:o.viewApi}))},eventStore:function tS(n,o){let{emitter:t}=o;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",oc(n,o))}}})];class iS{constructor(o,t){this.runTaskOption=o,this.drainedOption=t,this.queue=[],this.delayedRunner=new f1(this.drain.bind(this))}request(o,t){this.queue.push(o),this.delayedRunner.request(t)}pause(o){this.delayedRunner.pause(o)}resume(o,t){this.delayedRunner.resume(o,t)}drain(){let{queue:o}=this;for(;o.length;){let i,t=[];for(;i=o.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(o){this.runTaskOption&&this.runTaskOption(o)}drained(o){this.drainedOption&&this.drainedOption(o)}}function oS(n,o,t){let i;return i=/^(year|month)$/.test(n.currentRangeUnit)?n.currentRange:n.activeRange,t.formatRange(i.start,i.end,co(o.titleFormat||function sS(n){let{currentRangeUnit:o}=n;if("year"===o)return{year:"numeric"};if("month"===o)return{year:"numeric",month:"long"};let t=ug(n.currentRange.start,n.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:o.titleRangeSeparator})}class rS{constructor(o){this.computeCurrentViewData=Jn(this._computeCurrentViewData),this.organizeRawLocales=Jn(Lw),this.buildLocale=Jn(I1),this.buildPluginHooks=function v4(){let t,n=[],o=[];return(i,r)=>((!t||!Rr(i,n)||!Rr(r,o))&&(t=function C4(n,o){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(c){for(let h of c){const y=h.name,O=t[y];void 0===O?(t[y]=h.id,r(h.deps),i=b4(i,h)):O!==h.id&&console.warn(`Duplicate plugin '${y}'`)}}return n&&r(n),r(o),i}(i,r)),n=i,o=r,t)}(),this.buildDateEnv=Jn(aS),this.buildTheme=Jn(lS),this.parseToolbars=Jn(G4),this.buildViewSpecs=Jn(x4),this.buildDateProfileGenerator=Ed(cS),this.buildViewApi=Jn(uS),this.buildViewUiProps=Ed(hS),this.buildEventUiBySource=Jn(dS,$r),this.buildEventUiBases=Jn(pS),this.parseContextBusinessHours=Ed(gS),this.buildTitle=Jn(oS),this.emitter=new ll,this.actionRunner=new iS(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=pt=>{this.actionRunner.request(pt)},this.props=o,this.actionRunner.pause();let t={},i=this.computeOptionsData(o.optionOverrides,t,o.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,c=this.computeCurrentViewData(r,i,o.optionOverrides,t);o.calendarApi.currentDataManager=this,this.emitter.setThisContext(o.calendarApi),this.emitter.setOptions(c.options);let h=function $T(n,o){let t=n.initialDate;return null!=t?o.createMarker(t):Hd(n.now,o)}(i.calendarOptions,i.dateEnv),y=c.dateProfileGenerator.build(h);Xr(y.activeRange,h)||(h=y.currentRange.start);let O={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let pt of i.pluginHooks.contextInit)pt(O);let ce=function O4(n,o,t){let i=o?o.activeRange:null;return Zw({},function H4(n,o){let t=Ow(o),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let c of i){let h=Dw(c,o,t);h&&r.push(h)}return r}(n,t),i,t)}(i.calendarOptions,y,O),fe={dynamicOptionOverrides:t,currentViewType:r,currentDate:h,dateProfile:y,businessHours:this.parseContextBusinessHours(O),eventSources:ce,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(O).selectionConfig},ct=Object.assign(Object.assign({},O),fe);for(let pt of i.pluginHooks.reducers)Object.assign(fe,pt(null,null,ct));w1(fe,O)&&this.emitter.trigger("loading",!0),this.state=fe,this.updateData(),this.actionRunner.resume()}resetOptions(o,t){let{props:i}=this;void 0===t?i.optionOverrides=o:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),o),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(o){let{props:t,state:i,emitter:r}=this,c=function M4(n,o){return"SET_OPTION"===o.type?Object.assign(Object.assign({},n),{[o.optionName]:o.rawOptionValue}):n}(i.dynamicOptionOverrides,o),h=this.computeOptionsData(t.optionOverrides,c,t.calendarApi),y=function k4(n,o){return"CHANGE_VIEW_TYPE"===o.type&&(n=o.viewType),n}(i.currentViewType,o),O=this.computeCurrentViewData(y,h,t.optionOverrides,c);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(O.options);let ce={dateEnv:h.dateEnv,options:h.calendarOptions,pluginHooks:h.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:fe,dateProfile:ct}=i;this.data&&this.data.dateProfileGenerator!==O.dateProfileGenerator&&(ct=O.dateProfileGenerator.build(fe)),fe=function t1(n,o){return"CHANGE_DATE"===o.type?o.dateMarker:n}(fe,o),ct=function D4(n,o,t,i){let r;switch(o.type){case"CHANGE_VIEW_TYPE":return i.build(o.dateMarker||t);case"CHANGE_DATE":return i.build(o.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r}return n}(ct,o,fe,O.dateProfileGenerator),("PREV"===o.type||"NEXT"===o.type||!Xr(ct.currentRange,fe))&&(fe=ct.currentRange.start);let pt=function P4(n,o,t,i){let r=t?t.activeRange:null;switch(o.type){case"ADD_EVENT_SOURCES":return Zw(n,o.sources,r,i);case"REMOVE_EVENT_SOURCE":return function L4(n,o){return Kl(n,t=>t.sourceId!==o)}(n,o.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Vw(n,r,i):n;case"FETCH_EVENT_SOURCES":return T1(n,o.sourceIds?sg(o.sourceIds):Uw(n,i),r,o.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function B4(n,o,t,i){let r=n[o];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[o]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}(n,o.sourceId,o.fetchId,o.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}(i.eventSources,o,ct,ce),rt=function kE(n,o,t,i,r){switch(o.type){case"RECEIVE_EVENTS":return function ME(n,o,t,i,r,c){if(o&&t===o.latestFetchId){let h=jc(pw(r,o,c),o,c);return i&&(h=tc(h,i,c)),Yc(fw(n,o.sourceId),h)}return n}(n,t[o.sourceId],o.fetchId,o.fetchRange,o.rawEvents,r);case"RESET_RAW_EVENTS":return function DE(n,o,t,i,r){const{defIdMap:c,instanceIdMap:h}=function RE(n){const{defs:o,instances:t}=n,i={},r={};for(let c in o){const h=o[c],{publicId:y}=h;y&&(i[y]=c)}for(let c in t){const y=o[t[c].defId],{publicId:O}=y;O&&(r[O]=c)}return{defIdMap:i,instanceIdMap:r}}(n);return tc(jc(pw(t,o,r),o,r,!1,c,h),i,r)}(n,t[o.sourceId],o.rawEvents,i.activeRange,r);case"ADD_EVENTS":return function OE(n,o,t,i){return t&&(o=tc(o,t,i)),Yc(n,o)}(n,o.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return o.eventStore;case"MERGE_EVENTS":return Yc(n,o.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?tc(n,i.activeRange,r):n;case"REMOVE_EVENTS":return function BI(n,o){let{defs:t,instances:i}=n,r={},c={};for(let h in t)o.defs[h]||(r[h]=t[h]);for(let h in i)!o.instances[h]&&r[i[h].defId]&&(c[h]=i[h]);return{defs:r,instances:c}}(n,o.eventStore);case"REMOVE_EVENT_SOURCE":return fw(n,o.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Dd(n,c=>!c.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return n}}(i.eventStore,o,pt,ct,ce),Wt=Hw(pt)&&!O.options.progressiveEventRendering&&i.renderableEventStore||rt,{eventUiSingleBase:zt,selectionConfig:dn}=this.buildViewUiProps(ce),On=this.buildEventUiBySource(pt),Yn={dynamicOptionOverrides:c,currentViewType:y,currentDate:fe,dateProfile:ct,eventSources:pt,eventStore:rt,renderableEventStore:Wt,selectionConfig:dn,eventUiBases:this.buildEventUiBases(Wt.defs,zt,On),businessHours:this.parseContextBusinessHours(ce),dateSelection:Z4(i.dateSelection,o),eventSelection:V4(i.eventSelection,o),eventDrag:U4(i.eventDrag,o),eventResize:z4(i.eventResize,o)},Pi=Object.assign(Object.assign({},ce),Yn);for(let Ni of h.pluginHooks.reducers)Object.assign(Yn,Ni(i,o,Pi));let vo=w1(i,ce),Bo=w1(Yn,ce);!vo&&Bo?r.trigger("loading",!0):vo&&!Bo&&r.trigger("loading",!1),this.state=Yn,t.onAction&&t.onAction(o)}updateData(){let{props:o,state:t}=this,i=this.data,r=this.computeOptionsData(o.optionOverrides,t.dynamicOptionOverrides,o.calendarApi),c=this.computeCurrentViewData(t.currentViewType,r,o.optionOverrides,t.dynamicOptionOverrides),h=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,c.options,r.dateEnv),calendarApi:o.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),c),t),y=r.pluginHooks.optionChangeHandlers,O=i&&i.calendarOptions,ce=r.calendarOptions;if(O&&O!==ce){O.timeZone!==ce.timeZone&&(t.eventSources=h.eventSources=function R4(n,o,t){let i=o?o.activeRange:null;return T1(n,Uw(n,t),i,!0,t)}(h.eventSources,t.dateProfile,h),t.eventStore=h.eventStore=gw(h.eventStore,i.dateEnv,h.dateEnv),t.renderableEventStore=h.renderableEventStore=gw(h.renderableEventStore,i.dateEnv,h.dateEnv));for(let fe in y)(-1!==this.optionsForHandling.indexOf(fe)||O[fe]!==ce[fe])&&y[fe](ce[fe],h)}this.optionsForHandling=[],o.onData&&o.onData(h)}computeOptionsData(o,t,i){if(!this.optionsForRefining.length&&o===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:c,localeDefaults:h,availableLocaleData:y,extra:O}=this.processRawCalendarOptions(o,t);Jw(O);let ce=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,c,y,r.defaultRangeSeparator),fe=this.buildViewSpecs(c.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,h),ct=this.buildTheme(r,c),pt=this.parseToolbars(r,this.stableOptionOverrides,ct,fe,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:c,dateEnv:ce,viewSpecs:fe,theme:ct,toolbarConfig:pt,localeDefaults:h,availableRawLocales:y.map}}processRawCalendarOptions(o,t){let{locales:i,locale:r}=fg([Za,o,t]),c=this.organizeRawLocales(i),y=this.buildLocale(r||c.defaultCode,c.map).options,O=this.buildPluginHooks(o.plugins||[],nS),ce=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o0),s0),NI),O.listenerRefiners),O.optionRefiners),fe={},ct=fg([Za,y,o,t]),pt={},rt=this.currentCalendarOptionsInput,Mt=this.currentCalendarOptionsRefined,Wt=!1;for(let zt in ct)-1===this.optionsForRefining.indexOf(zt)&&(ct[zt]===rt[zt]||Xl[zt]&&zt in rt&&Xl[zt](rt[zt],ct[zt]))?pt[zt]=Mt[zt]:ce[zt]?(pt[zt]=ce[zt](ct[zt]),Wt=!0):fe[zt]=rt[zt];return Wt&&(this.currentCalendarOptionsInput=ct,this.currentCalendarOptionsRefined=pt,this.stableOptionOverrides=o,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:O,availableLocaleData:c,localeDefaults:y,extra:fe}}_computeCurrentViewData(o,t,i,r){let c=t.viewSpecs[o];if(!c)throw new Error(`viewType "${o}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:h,extra:y}=this.processRawViewOptions(c,t.pluginHooks,t.localeDefaults,i,r);return Jw(y),{viewSpec:c,options:h,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:c.optionDefaults.dateProfileGeneratorClass,duration:c.duration,durationUnit:c.durationUnit,usesMinMaxTime:c.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:h.slotMinTime,slotMaxTime:h.slotMaxTime,showNonCurrentDates:h.showNonCurrentDates,dayCount:h.dayCount,dateAlignment:h.dateAlignment,dateIncrement:h.dateIncrement,hiddenDays:h.hiddenDays,weekends:h.weekends,nowInput:h.now,validRangeInput:h.validRange,visibleRangeInput:h.visibleRange,fixedWeekCount:h.fixedWeekCount}),viewApi:this.buildViewApi(o,this.getCurrentData,t.dateEnv)}}processRawViewOptions(o,t,i,r,c){let h=fg([Za,o.optionDefaults,i,r,o.optionOverrides,c]),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o0),s0),NI),FI),t.listenerRefiners),t.optionRefiners),O={},ce=this.currentViewOptionsInput,fe=this.currentViewOptionsRefined,ct=!1,pt={};for(let rt in h)h[rt]===ce[rt]||Xl[rt]&&Xl[rt](h[rt],ce[rt])?O[rt]=fe[rt]:(h[rt]===this.currentCalendarOptionsInput[rt]||Xl[rt]&&Xl[rt](h[rt],this.currentCalendarOptionsInput[rt])?rt in this.currentCalendarOptionsRefined&&(O[rt]=this.currentCalendarOptionsRefined[rt]):y[rt]?O[rt]=y[rt](h[rt]):pt[rt]=h[rt],ct=!0);return ct&&(this.currentViewOptionsInput=h,this.currentViewOptionsRefined=O),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:pt}}}function aS(n,o,t,i,r,c,h,y){let O=I1(o||h.defaultCode,h.map);return new Fg({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:c.namedTimeZonedImpl,locale:O,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:c.cmdFormatter,defaultSeparator:y})}function lS(n,o){return new(o.themeClasses[n.themeSystem]||sc)(n)}function cS(n){return new(n.dateProfileGeneratorClass||I0)(n)}function uS(n,o,t){return new J4(n,o,t)}function dS(n){return qr(n,o=>o.ui)}function pS(n,o,t){let i={"":o};for(let r in n){let c=n[r];c.sourceId&&t[c.sourceId]&&(i[r]=t[c.sourceId])}return i}function hS(n){let{options:o}=n;return{eventUiSingleBase:qc({display:o.eventDisplay,editable:o.editable,startEditable:o.eventStartEditable,durationEditable:o.eventDurationEditable,constraint:o.eventConstraint,overlap:"boolean"==typeof o.eventOverlap?o.eventOverlap:void 0,allow:o.eventAllow,backgroundColor:o.eventBackgroundColor,borderColor:o.eventBorderColor,textColor:o.eventTextColor,color:o.eventColor},n),selectionConfig:qc({constraint:o.selectConstraint,overlap:"boolean"==typeof o.selectOverlap?o.selectOverlap:void 0,allow:o.selectAllow},n)}}function w1(n,o){for(let t of o.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function gS(n){return function zI(n,o){return jc(function GI(n){let o;return o=!0===n?[{}]:Array.isArray(n)?n.filter(t=>t.daysOfWeek):"object"==typeof n&&n?[n]:[],o=o.map(t=>Object.assign(Object.assign({},UI),t)),o}(n),null,o)}(n.options.businessHours,n)}function Jw(n,o){for(let t in n)console.warn(`Unknown option '${t}'`+(o?` for view '${o}'`:""))}class fS extends Li{render(){return _t("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(t=>this.renderWidgetGroup(t)))}renderWidgetGroup(o){let{props:t}=this,{theme:i}=this.context,r=[],c=!0;for(let h of o){let{buttonName:y,buttonClick:O,buttonText:ce,buttonIcon:fe,buttonHint:ct}=h;if("title"===y)c=!1,r.push(_t("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let pt=y===t.activeButton,rt=!t.isTodayEnabled&&"today"===y||!t.isPrevEnabled&&"prev"===y||!t.isNextEnabled&&"next"===y,Mt=[`fc-${y}-button`,i.getClass("button")];pt&&Mt.push(i.getClass("buttonActive")),r.push(_t("button",{type:"button",title:"function"==typeof ct?ct(t.navUnit):ct,disabled:rt,"aria-pressed":pt,className:Mt.join(" "),onClick:O},ce||(fe?_t("span",{className:fe}):"")))}}return r.length>1?_t("div",{className:c&&i.getClass("buttonGroup")||""},...r):r[0]}}class jw extends Li{render(){let r,c,{model:o,extraClassName:t}=this.props,i=!1,h=o.sectionWidgets,y=h.center;return h.left?(i=!0,r=h.left):r=h.start,h.right?(i=!0,c=h.right):c=h.end,_t("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",y||[]),this.renderSection("end",c||[]))}renderSection(o,t){let{props:i}=this;return _t(fS,{key:o,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class mS extends Li{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=o=>{this.el=o,Br(this.props.elRef,o),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:o,state:t}=this,{aspectRatio:i}=o,c="",h="";return i?null!==t.availableWidth?c=t.availableWidth/i:h=1/i*100+"%":c=o.height||"",_t("div",{"aria-labelledby":o.labeledById,ref:this.handleEl,className:["fc-view-harness",i||o.liquid||o.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:c,paddingBottom:h}},o.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class _S extends Vd{constructor(o){super(o),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:c}=r,h=a(i);if(h&&r.isValidSegDownEl(t.target)){let y=vs(t.target,".fc-event-forced-url"),O=y?y.querySelector("a[href]").href:"";c.emitter.trigger("eventClick",{el:i,event:new Ao(r.context,h.eventRange.def,h.eventRange.instance),jsEvent:t,view:c.viewApi}),O&&!t.defaultPrevented&&(window.location.href=O)}},this.destroy=kC(o.el,"click",".fc-event",this.handleSegClick)}}class CS extends Vd{constructor(o){super(o),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{a(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=function $h(n,o,t,i){let r;return kC(n,"mouseover",o,(c,h)=>{if(h!==r){r=h,t(c,h);let y=O=>{r=null,i(O,h),h.removeEventListener("mouseleave",y)};h.addEventListener("mouseleave",y)}})}(o.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(o,t,i){let{component:r}=this,{context:c}=r,h=a(i);(!t||r.isValidSegDownEl(t.target))&&c.emitter.trigger(o,{el:i,event:new Ao(c,h.eventRange.def,h.eventRange.instance),jsEvent:t,view:c.viewApi})}}class vS extends su{constructor(){super(...arguments),this.buildViewContext=Jn(e1),this.buildViewPropTransformers=Jn(yS),this.buildToolbarProps=Jn(bS),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:Na()},this.registerInteractiveComponent=(o,t)=>{let i=function _E(n,o){return{component:n,el:o.el,useEventCenter:null==o.useEventCenter||o.useEventCenter,isHitComboAllowed:o.isHitComboAllowed||null}}(o,t),h=[_S,CS].concat(this.props.pluginHooks.componentInteractions).map(y=>new y(i));this.interactionsStore[o.uid]=h,d1[o.uid]=i},this.unregisterInteractiveComponent=o=>{let t=this.interactionsStore[o.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[o.uid]}delete d1[o.uid]},this.resizeRunner=new f1(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=o=>{let{options:t}=this.props;t.handleWindowResize&&o.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let y,{props:o}=this,{toolbarConfig:t,options:i}=o,r=this.buildToolbarProps(o.viewSpec,o.dateProfile,o.dateProfileGenerator,o.currentDate,Hd(o.options.now,o.dateEnv),o.viewTitle),c=!1,h="";o.isHeightAuto||o.forPrint?h="":null!=i.height?c=!0:null!=i.contentHeight?h=i.contentHeight:y=Math.max(i.aspectRatio,.5);let O=this.buildViewContext(o.viewSpec,o.viewApi,o.options,o.dateProfileGenerator,o.dateEnv,o.theme,o.pluginHooks,o.dispatch,o.getCurrentData,o.emitter,o.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),ce=t.header&&t.header.hasTitle?this.state.viewLabelId:"";return _t(Aa.Provider,{value:O},t.header&&_t(jw,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:ce},r)),_t(mS,{liquid:c,height:h,aspectRatio:y,labeledById:ce},this.renderView(o),this.buildAppendContent()),t.footer&&_t(jw,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:o}=this;this.calendarInteractions=o.pluginHooks.calendarInteractions.map(i=>new i(o)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=o.pluginHooks;for(let i in t)t[i](o[i],o)}componentDidUpdate(o){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==o[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let o of this.calendarInteractions)o.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:o}=this;return _t(ji,{},...o.pluginHooks.viewContainerAppends.map(i=>i(o)))}renderView(o){let{pluginHooks:t}=o,{viewSpec:i}=o,r={dateProfile:o.dateProfile,businessHours:o.businessHours,eventStore:o.renderableEventStore,eventUiBases:o.eventUiBases,dateSelection:o.dateSelection,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,isHeightAuto:o.isHeightAuto,forPrint:o.forPrint},c=this.buildViewPropTransformers(t.viewPropsTransformers);for(let y of c)Object.assign(r,y.transform(r,o));return _t(i.component,Object.assign({},r))}}function bS(n,o,t,i,r,c){let h=t.build(r,void 0,!1),y=t.buildPrev(o,i,!1),O=t.buildNext(o,i,!1);return{title:c,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:h.isValid&&!Xr(o.currentRange,r),isPrevEnabled:y.isValid,isNextEnabled:O.isValid}}function yS(n){return n.map(o=>new o)}class IS extends class p4{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(o){this.currentDataManager.dispatch(o)}get view(){return this.getCurrentData().viewApi}batchRendering(o){o()}updateSize(){this.trigger("_resize",!0)}setOption(o,t){this.dispatch({type:"SET_OPTION",optionName:o,rawOptionValue:t})}getOption(o){return this.currentDataManager.currentCalendarOptionsInput[o]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(o,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[o]?i.emitter.on(o,t):console.warn(`Unknown listener name '${o}'`)}off(o,t){this.currentDataManager.emitter.off(o,t)}trigger(o,...t){this.currentDataManager.emitter.trigger(o,...t)}changeView(o,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:o})})}zoomTo(o,t){let r;r=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(r?{type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:o}:{type:"CHANGE_DATE",dateMarker:o})}getUnitViewSpec(o){let c,h,{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let y in t)r.push(y);for(c=0;c<r.length;c+=1)if(h=t[r[c]],h&&h.singleUnit===o)return h;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,-1)})}nextYear(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:o.dateEnv.addYears(o.currentDate,1)})}today(){let o=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Hd(o.calendarOptions.now,o.dateEnv)})}gotoDate(o){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(o)})}incrementDate(o){let t=this.getCurrentData(),i=wi(o);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let o=this.getCurrentData();return o.dateEnv.toDate(o.currentDate)}formatDate(o,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(o),co(t))}formatRange(o,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(o),r.createMarker(t),co(i),i)}formatIso(o,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(o),{omitTime:t})}select(o,t){let i;i=null==t?null!=o.start?o:{start:o,end:null}:{start:o,end:t};let r=this.getCurrentData(),c=function Xt(n,o,t){let i=function fn(n,o){let{refined:t,extra:i}=mg(n,Ft),r=t.start?o.createMarkerMeta(t.start):null,c=t.end?o.createMarkerMeta(t.end):null,{allDay:h}=t;return null==h&&(h=r&&r.isTimeUnspecified&&(!c||c.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:c?c.marker:null},allDay:h},i)}(n,o),{range:r}=i;if(!r.start)return null;if(!r.end){if(null==t)return null;r.end=o.add(r.start,t)}return i}(i,r.dateEnv,wi({days:1}));c&&(this.dispatch({type:"SELECT_DATES",selection:c}),A0(c,null,r))}unselect(o){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function n1(n,o){o.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:o.viewApi||o.calendarApi.view})}(o,t))}addEvent(o,t){if(o instanceof Ao){let h=o._def,y=o._instance;return this.getCurrentData().eventStore.defs[h.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Wc({def:h,instance:y})}),this.triggerEventAdd(o)),o}let r,i=this.getCurrentData();if(t instanceof ic)r=t.internalEventSource;else if("boolean"==typeof t)t&&([r]=sl(i.eventSources));else if(null!=t){let h=this.getEventSourceById(t);if(!h)return console.warn(`Could not find an event source with ID "${t}"`),null;r=h.internalEventSource}let c=Nr(o,r,i,!1);if(c){let h=new Ao(i,c.def,c.def.recurringDef?null:c.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Wc(c)}),this.triggerEventAdd(h),h}return null}triggerEventAdd(o){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:o,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:s1(o)})}})}getEventById(o){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;o=String(o);for(let c in i){let h=i[c];if(h.publicId===o){if(h.recurringDef)return new Ao(t,h,null);for(let y in r){let O=r[y];if(O.defId===h.defId)return new Ao(t,h,O)}}}return null}getEvents(){let o=this.getCurrentData();return oc(o.eventStore,o)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let o=this.getCurrentData(),t=o.eventSources,i=[];for(let r in t)i.push(new ic(o,t[r]));return i}getEventSourceById(o){let t=this.getCurrentData(),i=t.eventSources;o=String(o);for(let r in i)if(i[r].publicId===o)return new ic(t,i[r]);return null}addEventSource(o){let t=this.getCurrentData();if(o instanceof ic)return t.eventSources[o.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[o.internalEventSource]}),o;let i=Dw(o,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new ic(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(o){let t=wi(o);t&&this.trigger("_scrollRequest",{time:t})}}{constructor(o,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;C0(()=>{va(_t(bE,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,c,h,y)=>(this.setClassNames(r),this.setHeight(c),_t(rw.Provider,{value:this.customContentRenderId},_t(vS,Object.assign({isHeightAuto:h,forPrint:y},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,va(null,this.el),this.setClassNames([]),this.setHeight(""))},function yC(n){IC(n.getRootNode())}(o),this.el=o,this.renderRunner=new f1(this.handleRenderRequest),new rS({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let o=this.isRendering;o?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),o&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){C0(()=>{super.updateSize()})}batchRendering(o){this.renderRunner.pause("batchRendering"),o(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(o,t){this.currentDataManager.resetOptions(o,t)}setClassNames(o){if(!Rr(o,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of o)t.add(i);this.currentClassNames=o}}setHeight(o){Kh(this.el,"height",o)}}function O0(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function P0(n,o){let t=[];for(let i=0;i<o;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Yw(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}Uc(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const Kw=co({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function qw(n){let{display:o}=n.eventRange.ui;return"list-item"===o||"auto"===o&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class $w extends Li{render(){let{props:o}=this;return _t(Aw,Object.assign({},o,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Kw,defaultDisplayEventEnd:o.defaultDisplayEventEnd,disableResizing:!o.seg.eventRange.def.allDay}))}}class Xw extends Li{render(){let{props:o,context:t}=this,{options:i}=t,{seg:r}=o,h=K(r,i.eventTimeFormat||Kw,t,!0,o.defaultDisplayEventEnd);return _t(D0,Object.assign({},o,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:wt(o.seg,t),defaultGenerator:TS,timeText:h,isResizing:!1,isDateSelecting:!1}))}}function TS(n){return _t(ji,null,_t("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&_t("div",{className:"fc-event-time"},n.timeText),_t("div",{className:"fc-event-title"},n.event.title||_t(ji,null,"\xa0")))}class wS extends Li{constructor(){super(...arguments),this.compileSegs=Jn(xS)}render(){let{props:o}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(o.singlePlacements);return _t(Ew,{elClasses:["fc-daygrid-more-link"],dateProfile:o.dateProfile,todayRange:o.todayRange,allDayDate:o.allDayDate,moreCnt:o.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:o.alignmentElRef,alignGridTop:o.alignGridTop,extraDateSpan:o.extraDateSpan,popoverContent:()=>{let r=(o.eventDrag?o.eventDrag.affectedInstances:null)||(o.eventResize?o.eventResize.affectedInstances:null)||{};return _t(ji,null,t.map(c=>{let h=c.eventRange.instance.instanceId;return _t("div",{className:"fc-daygrid-event-harness",key:h,style:{visibility:r[h]?"hidden":""}},qw(c)?_t(Xw,Object.assign({seg:c,isDragging:!1,isSelected:h===o.eventSelection,defaultDisplayEventEnd:!1},ve(c,o.todayRange))):_t($w,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:h===o.eventSelection,defaultDisplayEventEnd:!1},ve(c,o.todayRange))))}))}})}}function xS(n){let o=[],t=[];for(let i of n)o.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:o,invisibleSegs:t}}const ES=co({week:"narrow"});class SS extends Hr{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:Na()},this.handleRootEl=o=>{Br(this.rootElRef,o),Br(this.props.elRef,o)}}render(){let{context:o,props:t,state:i,rootElRef:r}=this,{options:c,dateEnv:h}=o,{date:y,dateProfile:O}=t;const ce=t.showDayNumber&&function MS(n,o,t){const{start:i,end:r}=o,c=rl(r,-1),h=t.getYear(i),y=t.getMonth(i),O=t.getYear(c),ce=t.getMonth(c);return!(h===O&&y===ce)&&Boolean(n.valueOf()===i.valueOf()||1===t.getDay(n)&&n.valueOf()<r.valueOf())}(y,O.currentRange,h);return _t(v1,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:kS,date:y,dateProfile:O,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:ce,extraRenderProps:t.extraRenderProps},(fe,ct)=>_t("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&_t(xw,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:tu(o,y,"week"),date:y,defaultFormat:ES}),!ct.isDisabled&&(t.showDayNumber||b1(c)||t.forceDayTop)?_t("div",{className:"fc-daygrid-day-top"},_t(fe,{elTag:"a",elClasses:["fc-daygrid-day-number",ce&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},tu(o,y)),{id:i.dayNumberId})})):t.showDayNumber?_t("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},_t("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,_t("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,_t("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},_t(wS,{allDayDate:y,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),_t("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function kS(n){return n.dayNumberText||_t(ji,null,"\xa0")}function Ud(n,o,t,i){if(n.firstCol===o&&n.lastCol===t-1)return n;let r=n.eventRange,c=r.range,h=Va(c,{start:i[o].date,end:Go(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:o,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:h},isStart:n.isStart&&h.start.valueOf()===c.start.valueOf(),isEnd:n.isEnd&&h.end.valueOf()===c.end.valueOf()})}class RS extends Zd{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(o){const t=super.addSegs(o),{entriesByLevel:i}=this,r=c=>!this.forceHidden[Ta(c)];for(let c=0;c<i.length;c+=1)i[c]=i[c].filter(r);return t}handleInvalidInsertion(o,t,i){const{entriesByLevel:r,forceHidden:c}=this,{touchingEntry:h,touchingLevel:y,touchingLateral:O}=o;if(this.hiddenConsumes&&h){const ce=Ta(h);if(!c[ce])if(this.allowReslicing){const fe=Object.assign(Object.assign({},h),{span:a1(h.span,t.span)});c[Ta(fe)]=!0,r[y][O]=fe,this.splitEntry(h,t,i)}else c[ce]=!0,i.push(h)}return super.handleInvalidInsertion(o,t,i)}}class ex extends Hr{constructor(){super(...arguments),this.cellElRefs=new ul,this.frameElRefs=new ul,this.fgElRefs=new ul,this.segHarnessRefs=new ul,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=o=>{o&&this.updateSizing(!0)}}render(){let{props:o,state:t,context:i}=this,{options:r}=i,c=o.cells.length,h=P0(o.businessHourSegs,c),y=P0(o.bgEventSegs,c),O=P0(this.getHighlightSegs(),c),ce=P0(this.getMirrorSegs(),c),{singleColPlacements:fe,multiColPlacements:ct,moreCnts:pt,moreMarginTops:rt}=function DS(n,o,t,i,r,c,h){let y=new RS;y.allowReslicing=!0,y.strictOrder=i,!0===o||!0===t?(y.maxCoord=c,y.hiddenConsumes=!0):"number"==typeof o?y.maxStackCnt=o:"number"==typeof t&&(y.maxStackCnt=t,y.hiddenConsumes=!0);let O=[],ce=[];for(let dn=0;dn<n.length;dn+=1){let On=n[dn],{instanceId:ti}=On.eventRange.instance,Yn=r[ti];null!=Yn?O.push({index:dn,thickness:Yn,span:{start:On.firstCol,end:On.lastCol+1}}):ce.push(On)}let fe=y.addSegs(O),ct=y.toRects(),{singleColPlacements:pt,multiColPlacements:rt,leftoverMargins:Mt}=function OS(n,o,t){let i=function PS(n,o){let t=[];for(let i=0;i<o;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}(n,t.length),r=[],c=[],h=[];for(let y=0;y<t.length;y+=1){let O=i[y],ce=[],fe=0,ct=0;for(let rt of O)ce.push({seg:Ud(o[rt.index],y,y+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:rt.levelCoord,marginTop:rt.levelCoord-fe}),fe=rt.levelCoord+rt.thickness;let pt=[];fe=0,ct=0;for(let rt of O){let Mt=o[rt.index],zt=rt.span.start===y;ct+=rt.levelCoord-fe,fe=rt.levelCoord+rt.thickness,rt.span.end-rt.span.start>1?(ct+=rt.thickness,zt&&pt.push({seg:Ud(Mt,rt.span.start,rt.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:rt.levelCoord,marginTop:0})):zt&&(pt.push({seg:Ud(Mt,rt.span.start,rt.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:rt.levelCoord,marginTop:ct}),ct=0)}r.push(ce),c.push(pt),h.push(ct)}return{singleColPlacements:r,multiColPlacements:c,leftoverMargins:h}}(ct,n,h),Wt=[],zt=[];for(let dn of ce){rt[dn.firstCol].push({seg:dn,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let On=dn.firstCol;On<=dn.lastCol;On+=1)pt[On].push({seg:Ud(dn,On,On+1,h),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let dn=0;dn<h.length;dn+=1)Wt.push(0);for(let dn of fe){let On=n[dn.index],ti=dn.span;rt[ti.start].push({seg:Ud(On,ti.start,ti.end,h),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Yn=ti.start;Yn<ti.end;Yn+=1)Wt[Yn]+=1,pt[Yn].push({seg:Ud(On,Yn,Yn+1,h),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let dn=0;dn<h.length;dn+=1)zt.push(Mt[dn]);return{singleColPlacements:pt,multiColPlacements:rt,moreCnts:Wt,moreMarginTops:zt}}(d(o.fgEventSegs,r.eventOrder),o.dayMaxEvents,o.dayMaxEventRows,r.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,o.cells),Mt=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{};return _t("tr",{ref:this.rootElRef,role:"row"},o.renderIntro&&o.renderIntro(),o.cells.map((Wt,zt)=>{let dn=this.renderFgSegs(zt,o.forPrint?fe[zt]:ct[zt],o.todayRange,Mt),On=this.renderFgSegs(zt,function LS(n,o){if(!n.length)return[];let t=function NS(n){let o={};for(let t of n)for(let i of t)o[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return o}(o);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}(ce[zt],ct),o.todayRange,{},Boolean(o.eventDrag),Boolean(o.eventResize),!1);return _t(SS,{key:Wt.key,elRef:this.cellElRefs.createRef(Wt.key),innerElRef:this.frameElRefs.createRef(Wt.key),dateProfile:o.dateProfile,date:Wt.date,showDayNumber:o.showDayNumbers,showWeekNumber:o.showWeekNumbers&&0===zt,forceDayTop:o.showWeekNumbers,todayRange:o.todayRange,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,extraRenderProps:Wt.extraRenderProps,extraDataAttrs:Wt.extraDataAttrs,extraClassNames:Wt.extraClassNames,extraDateSpan:Wt.extraDateSpan,moreCnt:pt[zt],moreMarginTop:rt[zt],singlePlacements:fe[zt],fgContentElRef:this.fgElRefs.createRef(Wt.key),fgContent:_t(ji,null,_t(ji,null,dn),_t(ji,null,On)),bgContent:_t(ji,null,this.renderFillSegs(O[zt],"highlight"),this.renderFillSegs(h[zt],"non-business"),this.renderFillSegs(y[zt],"bg-event")),minHeight:o.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(o,t){this.updateSizing(!$r(o,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:o}=this;return o.eventDrag&&o.eventDrag.segs.length?o.eventDrag.segs:o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:o.dateSelectionSegs}getMirrorSegs(){let{props:o}=this;return o.eventResize&&o.eventResize.segs.length?o.eventResize.segs:[]}renderFgSegs(o,t,i,r,c,h,y){let{context:O}=this,{eventSelection:ce}=this.props,{framePositions:fe}=this.state,ct=1===this.props.cells.length,pt=c||h||y,rt=[];if(fe)for(let Mt of t){let{seg:Wt}=Mt,{instanceId:zt}=Wt.eventRange.instance,dn=zt+":"+o,On=Mt.isVisible&&!r[zt],ti=Mt.isAbsolute,Yn="",Pi="";ti&&(O.isRtl?(Pi=0,Yn=fe.lefts[Wt.lastCol]-fe.lefts[Wt.firstCol]):(Yn=0,Pi=fe.rights[Wt.firstCol]-fe.rights[Wt.lastCol])),rt.push(_t("div",{className:"fc-daygrid-event-harness"+(ti?" fc-daygrid-event-harness-abs":""),key:dn,ref:pt?null:this.segHarnessRefs.createRef(dn),style:{visibility:On?"":"hidden",marginTop:ti?"":Mt.marginTop,top:ti?Mt.absoluteTop:"",left:Yn,right:Pi}},qw(Wt)?_t(Xw,Object.assign({seg:Wt,isDragging:c,isSelected:zt===ce,defaultDisplayEventEnd:ct},ve(Wt,i))):_t($w,Object.assign({seg:Wt,isDragging:c,isResizing:h,isDateSelecting:y,isSelected:zt===ce,defaultDisplayEventEnd:ct},ve(Wt,i)))))}return rt}renderFillSegs(o,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:c}=this.state,h=[];if(c)for(let y of o){let O=i?{right:0,left:c.lefts[y.lastCol]-c.lefts[y.firstCol]}:{left:0,right:c.rights[y.firstCol]-c.rights[y.lastCol]};h.push(_t("div",{key:lt(y.eventRange),className:"fc-daygrid-bg-harness",style:O},"bg-event"===t?_t(Tw,Object.assign({seg:y},ve(y,r))):ww(t)))}return _t(ji,{},...h)}updateSizing(o){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(o){let O=t.cells.map(ce=>r.currentMap[ce.key]);if(O.length){let ce=this.rootElRef.current,fe=new iu(ce,O,!0,!1);(!i.framePositions||!i.framePositions.similarTo(fe))&&this.setState({framePositions:new iu(ce,O,!0,!1)})}}const c=this.state.eventInstanceHeights,h=this.queryEventInstanceHeights(),y=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},c),h),maxContentHeight:y?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let o=this.segHarnessRefs.currentMap,t={};for(let i in o){let r=Math.round(o[i].getBoundingClientRect().height),c=i.split(":")[0];t[c]=Math.max(t[c]||0,r)}return t}computeMaxContentHeight(){let o=this.props.cells[0].key,i=this.fgElRefs.currentMap[o];return this.cellElRefs.currentMap[o].getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let o=this.cellElRefs.currentMap;return this.props.cells.map(t=>o[t.key])}}ex.addStateEquality({eventInstanceHeights:$r});class FS extends Hr{constructor(){super(...arguments),this.splitBusinessHourSegs=Jn(O0),this.splitBgEventSegs=Jn(O0),this.splitFgEventSegs=Jn(O0),this.splitDateSelectionSegs=Jn(O0),this.splitEventDrag=Jn(Yw),this.splitEventResize=Jn(Yw),this.rowRefs=new ul}render(){let{props:o,context:t}=this,i=o.cells.length,r=this.splitBusinessHourSegs(o.businessHourSegs,i),c=this.splitBgEventSegs(o.bgEventSegs,i),h=this.splitFgEventSegs(o.fgEventSegs,i),y=this.splitDateSelectionSegs(o.dateSelectionSegs,i),O=this.splitEventDrag(o.eventDrag,i),ce=this.splitEventResize(o.eventResize,i),fe=i>=7&&o.clientWidth?o.clientWidth/t.options.aspectRatio/6:null;return _t(Bg,{unit:"day"},(ct,pt)=>_t(ji,null,o.cells.map((rt,Mt)=>_t(ex,{ref:this.rowRefs.createRef(Mt),key:rt.length?rt[0].date.toISOString():Mt,showDayNumbers:i>1,showWeekNumbers:o.showWeekNumbers,todayRange:pt,dateProfile:o.dateProfile,cells:rt,renderIntro:o.renderRowIntro,businessHourSegs:r[Mt],eventSelection:o.eventSelection,bgEventSegs:c[Mt].filter(BS),fgEventSegs:h[Mt],dateSelectionSegs:y[Mt],eventDrag:O[Mt],eventResize:ce[Mt],dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,clientWidth:o.clientWidth,clientHeight:o.clientHeight,cellMinHeight:fe,forPrint:o.forPrint}))))}componentDidMount(){const o=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=o?o.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new iu(this.rootEl,this.rowRefs.collect().map(o=>o.getCellEls()[0]),!1,!0),this.colPositions=new iu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(o,t){let{colPositions:i,rowPositions:r}=this,c=i.leftToIndex(o),h=r.topToIndex(t);if(null!=h&&null!=c){let y=this.props.cells[h][c];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(h,c),allDay:!0},y.extraDateSpan),dayEl:this.getCellEl(h,c),rect:{left:i.lefts[c],right:i.rights[c],top:r.tops[h],bottom:r.bottoms[h]},layer:0}}return null}getCellEl(o,t){return this.rowRefs.currentMap[o].getCellEls()[t]}getCellRange(o,t){let i=this.props.cells[o][t].date;return{start:i,end:Go(i,1)}}}function BS(n){return n.eventRange.def.allDay}class HS extends Hr{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:o}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=o,c=!0===i||!0===t;return c&&!r&&(c=!1,t=null,i=null),_t("div",{ref:this.elRef,className:["fc-daygrid-body",c?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"].join(" "),style:{width:o.clientWidth,minWidth:o.tableMinWidth}},_t("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:o.clientWidth,minWidth:o.tableMinWidth,height:r?o.clientHeight:""}},o.colGroupNode,_t("tbody",{role:"presentation"},_t(FS,{dateProfile:o.dateProfile,cells:o.cells,renderRowIntro:o.renderRowIntro,showWeekNumbers:o.showWeekNumbers,clientWidth:o.clientWidth,clientHeight:o.clientHeight,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:o.forPrint,isHitComboAllowed:o.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(o){o.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const o=function ZS(n,o){let t;return o.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${function KC(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}(o.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${$l(o.currentDate)}"]`)),t}(this.elRef.current,this.props.dateProfile);if(o){const t=o.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=o.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}class VS extends dw{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(o,t){return t.sliceRange(o)}}class tx extends Hr{constructor(){super(...arguments),this.slicer=new VS,this.tableRef={current:null}}render(){let{props:o,context:t}=this;return _t(HS,Object.assign({ref:this.tableRef},this.slicer.sliceProps(o,o.dateProfile,o.nextDayThreshold,t,o.dayTableModel),{dateProfile:o.dateProfile,cells:o.dayTableModel.cells,colGroupNode:o.colGroupNode,tableMinWidth:o.tableMinWidth,renderRowIntro:o.renderRowIntro,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.showWeekNumbers,expandRows:o.expandRows,headerAlignElRef:o.headerAlignElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:o.forPrint}))}}class GS extends Hr{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(o,t){let{props:i,context:r}=this,c=[],h=M0(r.options);return o&&c.push({type:"header",key:"header",isSticky:h,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),c.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),_t(Hg,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},_t(_1,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:c}))}renderHScrollLayout(o,t,i,r){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{props:h,context:y}=this,O=!h.forPrint&&M0(y.options),ce=!h.forPrint&&Iw(y.options),fe=[];return o&&fe.push({type:"header",key:"header",isSticky:O,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),fe.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),ce&&fe.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:m1}]}),_t(Hg,{elClasses:["fc-daygrid"],viewSpec:y.viewSpec},_t(c,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:h.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:fe}))}}function JS(n,o){let t=new cw(n.renderRange,o);return new uw(t,/year|month|week/.test(n.currentRangeUnit))}var jS=za({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class QS extends GS{constructor(){super(...arguments),this.buildDayTableModel=Jn(JS),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:o,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),c=o.dayHeaders&&_t(lw,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),h=y=>_t(tx,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:o.nextDayThreshold,colGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:i.forPrint});return o.dayMinWidth?this.renderHScrollLayout(c,h,r.colCnt,o.dayMinWidth):this.renderSimpleLayout(c,h)}},dateProfileGeneratorClass:class US extends I0{buildRenderRange(o,t,i){let r=super.buildRenderRange(o,t,i),{props:c}=this;return function zS(n){let c,{dateEnv:o,currentRange:t}=n,{start:i,end:r}=t;if(n.snapToWeek&&(i=o.startOfWeek(i),c=o.startOfWeek(r),c.valueOf()!==r.valueOf()&&(r=Gc(c,1))),n.fixedWeekCount){let h=o.startOfWeek(o.startOfMonth(Go(t.end,-1))),y=Math.ceil(function zC(n,o){return Ha(n,o)/7}(h,r));r=Gc(r,6-y)}return{start:i,end:r}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:c.fixedWeekCount,dateEnv:c.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class WS extends class Rd{constructor(){this.getKeysForEventDefs=Jn(this._getKeysForEventDefs),this.splitDateSelection=Jn(this._splitDateSpan),this.splitEventStore=Jn(this._splitEventStore),this.splitIndividualUi=Jn(this._splitIndividualUi),this.splitEventDrag=Jn(this._splitInteraction),this.splitEventResize=Jn(this._splitInteraction),this.eventUiBuilders={}}splitProps(o){let t=this.getKeyInfo(o),i=this.getKeysForEventDefs(o.eventStore),r=this.splitDateSelection(o.dateSelection),c=this.splitIndividualUi(o.eventUiBases,i),h=this.splitEventStore(o.eventStore,i),y=this.splitEventDrag(o.eventDrag),O=this.splitEventResize(o.eventResize),ce={};this.eventUiBuilders=qr(t,(fe,ct)=>this.eventUiBuilders[ct]||Jn(p0));for(let fe in t){let ct=t[fe],pt=h[fe]||nc;ce[fe]={businessHours:ct.businessHours||o.businessHours,dateSelection:r[fe]||null,eventStore:pt,eventUiBases:(0,this.eventUiBuilders[fe])(o.eventUiBases[""],ct.ui,c[fe]),eventSelection:pt.instances[o.eventSelection]?o.eventSelection:"",eventDrag:y[fe]||null,eventResize:O[fe]||null}}return ce}_splitDateSpan(o){let t={};if(o){let i=this.getKeysForDateSpan(o);for(let r of i)t[r]=o}return t}_getKeysForEventDefs(o){return qr(o.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(o,t){let{defs:i,instances:r}=o,c={};for(let h in i)for(let y of t[h])c[y]||(c[y]={defs:{},instances:{}}),c[y].defs[h]=i[h];for(let h in r){let y=r[h];for(let O of t[y.defId])c[O]&&(c[O].instances[h]=y)}return c}_splitIndividualUi(o,t){let i={};for(let r in o)if(r)for(let c of t[r])i[c]||(i[c]={}),i[c][r]=o[r];return i}_splitInteraction(o){let t={};if(o){let i=this._splitEventStore(o.affectedEvents,this._getKeysForEventDefs(o.affectedEvents)),r=this._getKeysForEventDefs(o.mutatedEvents),c=this._splitEventStore(o.mutatedEvents,r),h=y=>{t[y]||(t[y]={affectedEvents:i[y]||nc,mutatedEvents:c[y]||nc,isEvent:o.isEvent})};for(let y in i)h(y);for(let y in c)h(y)}return t}}{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(o){return o.allDay?["allDay"]:["timed"]}getKeysForEventDef(o){return o.allDay?function tw(n){return"background"===n.ui.display||"inverse-background"===n.ui.display}(o)?["timed","allDay"]:["allDay"]:["timed"]}}const YS=co({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function nx(n){let o=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return _t(Aa.Consumer,null,t=>{if(!n.isLabeled)return _t("td",{className:o.join(" "),"data-time":n.isoTimeStr});let{dateEnv:i,options:r,viewApi:c}=t,h=null==r.slotLabelFormat?YS:Array.isArray(r.slotLabelFormat)?co(r.slotLabelFormat[0]):co(r.slotLabelFormat),y={level:0,time:n.time,date:i.toDate(n.date),view:c,text:i.format(n.date,h)};return _t(hr,{elTag:"td",elClasses:o,elAttrs:{"data-time":n.isoTimeStr},renderProps:y,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:KS,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},O=>_t("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},_t(O,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function KS(n){return n.text}class qS extends Li{render(){return this.props.slatMetas.map(o=>_t("tr",{key:o.key},_t(nx,Object.assign({},o))))}}const $S=co({week:"short"});class ek extends Hr{constructor(){super(...arguments),this.allDaySplitter=new WS,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=o=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=o)},this.renderHeadAxis=(o,t="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,c=r.renderRange,y=1===Ha(c.start,c.end)?tu(this.context,c.start,"week"):{};return i.weekNumbers&&"day"===o?_t(xw,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:c.start,defaultFormat:$S},O=>_t("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},_t(O,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:y}))):_t("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},_t("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=o=>{let{options:t,viewApi:i}=this.context;return _t(hr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:i},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:tk,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},c=>_t("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==o?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:o}},_t(c,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=o=>{this.setState({slatCoords:o})}}renderSimpleLayout(o,t,i){let{context:r,props:c}=this,h=[],y=M0(r.options);return o&&h.push({type:"header",key:"header",isSticky:y,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}}),t&&(h.push({type:"body",key:"all-day",chunk:{content:t}}),h.push({type:"body",key:"all-day-divider",outerContent:_t("tr",{role:"presentation",className:"fc-scrollgrid-section"},_t("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),h.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),_t(Hg,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},_t(_1,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:c.forPrint,cols:[{width:"shrink"}],sections:h}))}renderHScrollLayout(o,t,i,r,c,h,y){let O=this.context.pluginHooks.scrollGridImpl;if(!O)throw new Error("No ScrollGrid implementation");let{context:ce,props:fe}=this,ct=!fe.forPrint&&M0(ce.options),pt=!fe.forPrint&&Iw(ce.options),rt=[];o&&rt.push({type:"header",key:"header",isSticky:ct,syncRowHeights:!0,chunks:[{key:"axis",rowContent:Wt=>_t("tr",{role:"presentation"},this.renderHeadAxis("day",Wt.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:o}]}),t&&(rt.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:Wt=>_t("tr",{role:"presentation"},this.renderTableRowAxis(Wt.rowSyncHeights[0]))},{key:"cols",content:t}]}),rt.push({key:"all-day-divider",type:"body",outerContent:_t("tr",{role:"presentation",className:"fc-scrollgrid-section"},_t("td",{colSpan:2,className:"fc-timegrid-divider "+ce.theme.getClass("tableCellShaded")}))}));let Mt=ce.options.nowIndicator;return rt.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(ce.options.expandRows),chunks:[{key:"axis",content:Wt=>_t("div",{className:"fc-timegrid-axis-chunk"},_t("table",{"aria-hidden":!0,style:{height:Wt.expandRows?Wt.clientHeight:""}},Wt.tableColGroupNode,_t("tbody",null,_t(qS,{slatMetas:h}))),_t("div",{className:"fc-timegrid-now-indicator-container"},_t(Bg,{unit:Mt?"minute":"day"},zt=>{let dn=Mt&&y&&y.safeComputeTop(zt);return"number"==typeof dn?_t(C1,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:dn},isAxis:!0,date:zt}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),pt&&rt.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:m1},{key:"cols",content:m1}]}),_t(Hg,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:ce.viewSpec},_t(O,{liquid:!fe.isHeightAuto&&!fe.forPrint,forPrint:fe.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:c}]}],sections:rt}))}getAllDayMaxEventProps(){let{dayMaxEvents:o,dayMaxEventRows:t}=this.context.options;return(!0===o||!0===t)&&(o=void 0,t=5),{dayMaxEvents:o,dayMaxEventRows:t}}}function tk(n){return n.text}class nk{constructor(o,t,i){this.positions=o,this.dateProfile=t,this.slotDuration=i}safeComputeTop(o){let{dateProfile:t}=this;if(Xr(t.currentRange,o)){let i=eo(o),r=o.valueOf()-i.valueOf();if(r>=Xi(t.slotMinTime)&&r<Xi(t.slotMaxTime))return this.computeTimeTop(wi(r))}return null}computeDateTop(o,t){return t||(t=eo(o)),this.computeTimeTop(wi(o.valueOf()-t.valueOf()))}computeTimeTop(o){let h,y,{positions:t,dateProfile:i}=this,r=t.els.length,c=(o.milliseconds-Xi(i.slotMinTime))/Xi(this.slotDuration);return c=Math.max(0,c),c=Math.min(r,c),h=Math.floor(c),h=Math.min(h,r-1),y=c-h,t.tops[h]+t.getHeight(h)*y}}class ik extends Li{render(){let{props:o,context:t}=this,{options:i}=t,{slatElRefs:r}=o;return _t("tbody",null,o.slatMetas.map((c,h)=>{let y={time:c.time,date:t.dateEnv.toDate(c.date),view:t.viewApi};return _t("tr",{key:c.key,ref:r.createRef(c.key)},o.axis&&_t(nx,Object.assign({},c)),_t(hr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!c.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":c.isoTimeStr},renderProps:y,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class ok extends Li{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new ul}render(){let{props:o,context:t}=this;return _t("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},_t("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:o.tableMinWidth,width:o.clientWidth,height:o.minHeight}},o.tableColGroupNode,_t(ik,{slatElRefs:this.slatElRefs,axis:o.axis,slatMetas:o.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:o,props:t}=this;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new nk(new iu(this.rootElRef.current,function sk(n,o){return o.map(t=>n[t.key])}(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,o.options.slotDuration))}}function Zg(n,o){let i,t=[];for(i=0;i<o;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function ix(n,o){let t=[];if(n){for(let i=0;i<o;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.col].segs.push(i)}else for(let i=0;i<o;i+=1)t[i]=null;return t}class rk extends Li{render(){let{props:o}=this;return _t(Ew,{elClasses:["fc-timegrid-more-link"],elStyle:{top:o.top,bottom:o.bottom},allDayDate:null,moreCnt:o.hiddenSegs.length,allSegs:o.hiddenSegs,hiddenSegs:o.hiddenSegs,extraDateSpan:o.extraDateSpan,dateProfile:o.dateProfile,todayRange:o.todayRange,popoverContent:()=>ax(o.hiddenSegs,o),defaultGenerator:ak,forceTimed:!0},t=>_t(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function ak(n){return n.shortText}function ox(n,o){if(!n)return[[],0];let{level:t,lateralStart:i,lateralEnd:r}=n,c=i,h=[];for(;c<r;)h.push(o(t,c)),c+=1;return h.sort(uk),[h.map(dk),h[0][1]]}function uk(n,o){return o[1]-n[1]}function dk(n){return n[0]}function gk(n){let o=[];const t=x1((r,c,h)=>Ta(r),(r,c,h)=>{let y=Object.assign(Object.assign({},r),{levelCoord:c,stackDepth:h,stackForward:0});return o.push(y),y.stackForward=i(r.nextLevelNodes,c+r.thickness,h+1)+1});function i(r,c,h){let y=0;for(let O of r)y=Math.max(t(O,c,h),y);return y}return i(n,0,0),o}function x1(n,o){const t={};return(...i)=>{let r=n(...i);return r in t?t[r]:t[r]=o(...i)}}function sx(n,o,t=null,i=0){let r=[];if(t)for(let c=0;c<n.length;c+=1){let h=n[c],y=t.computeDateTop(h.start,o),O=Math.max(y+(i||0),t.computeDateTop(h.end,o));r.push({start:Math.round(y),end:Math.round(O)})}return r}const mk=co({hour:"numeric",minute:"2-digit",meridiem:!1});class rx extends Li{render(){return _t(Aw,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:mk}))}}class _k extends Li{constructor(){super(...arguments),this.sortEventSegs=Jn(d)}render(){let{props:o,context:t}=this,{options:i}=t,r=i.selectMirror,c=o.eventDrag&&o.eventDrag.segs||o.eventResize&&o.eventResize.segs||r&&o.dateSelectionSegs||[],h=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{},y=this.sortEventSegs(o.fgEventSegs,i.eventOrder);return _t(v1,{elTag:"td",elRef:o.elRef,elClasses:["fc-timegrid-col",...o.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},o.extraDataAttrs),date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraRenderProps:o.extraRenderProps},O=>_t("div",{className:"fc-timegrid-col-frame"},_t("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(o.businessHourSegs,"non-business"),this.renderFillSegs(o.bgEventSegs,"bg-event"),this.renderFillSegs(o.dateSelectionSegs,"highlight")),_t("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(y,h,!1,!1,!1)),_t("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(c,{},Boolean(o.eventDrag),Boolean(o.eventResize),Boolean(r))),_t("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(o.nowIndicatorSegs)),b1(i)&&_t(O,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(o,t,i,r,c){let{props:h}=this;return h.forPrint?ax(o,h):this.renderPositionedFgSegs(o,t,i,r,c)}renderPositionedFgSegs(o,t,i,r,c){let{eventMaxStack:h,eventShortHeight:y,eventOrderStrict:O,eventMinHeight:ce}=this.context.options,{date:fe,slatCoords:ct,eventSelection:pt,todayRange:rt,nowDate:Mt}=this.props,Wt=i||r||c,zt=sx(o,fe,ct,ce),{segPlacements:dn,hiddenGroups:On}=function fk(n,o,t,i){let r=[],c=[];for(let ce=0;ce<n.length;ce+=1){let fe=o[ce];fe?r.push({index:ce,thickness:1,span:fe}):c.push(n[ce])}let{segRects:h,hiddenGroups:y}=function lk(n,o,t){let i=new Zd;null!=o&&(i.strictOrder=o),null!=t&&(i.maxStackCnt=t);let c=function fE(n){let o=[];for(let t of n){let i=[],r={span:t.span,entries:[t]};for(let c of o)a1(c.span,r.span)?r={entries:c.entries.concat(r.entries),span:mE(c.span,r.span)}:i.push(c);i.push(r),o=i}return o}(i.addSegs(n)),h=function ck(n){const{entriesByLevel:o}=n,t=x1((i,r)=>i+":"+r,(i,r)=>{let c=function pk(n,o,t){let{levelCoords:i,entriesByLevel:r}=n,c=r[o][t],h=i[o]+c.thickness,y=i.length,O=o;for(;O<y&&i[O]<h;O+=1);for(;O<y;O+=1){let fe,ce=r[O],ct=c1(ce,c.span.start,ru),pt=ct[0]+ct[1],rt=pt;for(;(fe=ce[rt])&&fe.span.start<c.span.end;)rt+=1;if(pt<rt)return{level:O,lateralStart:pt,lateralEnd:rt}}return null}(n,i,r),h=ox(c,t),y=o[i][r];return[Object.assign(Object.assign({},y),{nextLevelNodes:h[0]}),y.thickness+h[1]]});return ox(o.length?{level:0,lateralStart:0,lateralEnd:o[0].length}:null,t)[0]}(i);return h=function hk(n,o){const t=x1((i,r,c)=>Ta(i),(i,r,c)=>{let fe,{nextLevelNodes:h,thickness:y}=i,O=y+c,ce=y/O,ct=[];if(h.length)for(let rt of h)if(void 0===fe){let Mt=t(rt,r,O);fe=Mt[0],ct.push(Mt[1])}else{let Mt=t(rt,fe,0);ct.push(Mt[1])}else fe=o;let pt=(fe-r)*ce;return[fe-pt,Object.assign(Object.assign({},i),{thickness:pt,nextLevelNodes:ct})]});return n.map(i=>t(i,0,0)[1])}(h,1),{segRects:gk(h),hiddenGroups:c}}(r,t,i),O=[];for(let ce of h)O.push({seg:n[ce.index],rect:ce});for(let ce of c)O.push({seg:ce,rect:null});return{segPlacements:O,hiddenGroups:y}}(o,zt,O,h);return _t(ji,null,this.renderHiddenGroups(On,o),dn.map(ti=>{let{seg:Yn,rect:Pi}=ti,vo=Yn.eventRange.instance.instanceId,Bo=Wt||Boolean(!t[vo]&&Pi),Ni=E1(Pi&&Pi.span),ac=!Wt&&Pi?this.computeSegHStyle(Pi):{left:0,right:0},Ug=Boolean(Pi)&&Pi.stackForward>0,d6=Boolean(Pi)&&Pi.span.end-Pi.span.start<y;return _t("div",{className:"fc-timegrid-event-harness"+(Ug?" fc-timegrid-event-harness-inset":""),key:vo,style:Object.assign(Object.assign({visibility:Bo?"":"hidden"},Ni),ac)},_t(rx,Object.assign({seg:Yn,isDragging:i,isResizing:r,isDateSelecting:c,isSelected:vo===pt,isShort:d6},ve(Yn,rt,Mt))))}))}renderHiddenGroups(o,t){let{extraDateSpan:i,dateProfile:r,todayRange:c,nowDate:h,eventSelection:y,eventDrag:O,eventResize:ce}=this.props;return _t(ji,null,o.map(fe=>{let ct=E1(fe.span),pt=function Ck(n,o){return n.map(t=>o[t.index])}(fe.entries,t);return _t(rk,{key:YC(kw(pt)),hiddenSegs:pt,top:ct.top,bottom:ct.bottom,extraDateSpan:i,dateProfile:r,todayRange:c,nowDate:h,eventSelection:y,eventDrag:O,eventResize:ce})}))}renderFillSegs(o,t){let{props:i,context:r}=this,h=sx(o,i.date,i.slatCoords,r.options.eventMinHeight).map((y,O)=>{let ce=o[O];return _t("div",{key:lt(ce.eventRange),className:"fc-timegrid-bg-harness",style:E1(y)},"bg-event"===t?_t(Tw,Object.assign({seg:ce},ve(ce,i.todayRange,i.nowDate))):ww(t))});return _t(ji,null,h)}renderNowIndicator(o){let{slatCoords:t,date:i}=this.props;return t?o.map((r,c)=>_t(C1,{key:c,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(o){let y,O,{isRtl:t,options:i}=this.context,r=i.slotEventOverlap,c=o.levelCoord,h=o.levelCoord+o.thickness;r&&(h=Math.min(1,c+2*(h-c))),t?(y=1-h,O=c):(y=c,O=1-h);let ce={zIndex:o.stackDepth+1,left:100*y+"%",right:100*O+"%"};return r&&!o.stackForward&&(ce[t?"marginLeft":"marginRight"]=20),ce}}function ax(n,{todayRange:o,nowDate:t,eventSelection:i,eventDrag:r,eventResize:c}){let h=(r?r.affectedInstances:null)||(c?c.affectedInstances:null)||{};return _t(ji,null,n.map(y=>{let O=y.eventRange.instance.instanceId;return _t("div",{key:O,style:{visibility:h[O]?"hidden":""}},_t(rx,Object.assign({seg:y,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:O===i,isShort:!1},ve(y,o,t))))}))}function E1(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}class vk extends Li{constructor(){super(...arguments),this.splitFgEventSegs=Jn(Zg),this.splitBgEventSegs=Jn(Zg),this.splitBusinessHourSegs=Jn(Zg),this.splitNowIndicatorSegs=Jn(Zg),this.splitDateSelectionSegs=Jn(Zg),this.splitEventDrag=Jn(ix),this.splitEventResize=Jn(ix),this.rootElRef={current:null},this.cellElRefs=new ul}render(){let{props:o,context:t}=this,i=t.options.nowIndicator&&o.slatCoords&&o.slatCoords.safeComputeTop(o.nowDate),r=o.cells.length,c=this.splitFgEventSegs(o.fgEventSegs,r),h=this.splitBgEventSegs(o.bgEventSegs,r),y=this.splitBusinessHourSegs(o.businessHourSegs,r),O=this.splitNowIndicatorSegs(o.nowIndicatorSegs,r),ce=this.splitDateSelectionSegs(o.dateSelectionSegs,r),fe=this.splitEventDrag(o.eventDrag,r),ct=this.splitEventResize(o.eventResize,r);return _t("div",{className:"fc-timegrid-cols",ref:this.rootElRef},_t("table",{role:"presentation",style:{minWidth:o.tableMinWidth,width:o.clientWidth}},o.tableColGroupNode,_t("tbody",{role:"presentation"},_t("tr",{role:"row"},o.axis&&_t("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},_t("div",{className:"fc-timegrid-col-frame"},_t("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&_t(C1,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:o.nowDate})))),o.cells.map((pt,rt)=>_t(_k,{key:pt.key,elRef:this.cellElRefs.createRef(pt.key),dateProfile:o.dateProfile,date:pt.date,nowDate:o.nowDate,todayRange:o.todayRange,extraRenderProps:pt.extraRenderProps,extraDataAttrs:pt.extraDataAttrs,extraClassNames:pt.extraClassNames,extraDateSpan:pt.extraDateSpan,fgEventSegs:c[rt],bgEventSegs:h[rt],businessHourSegs:y[rt],nowIndicatorSegs:O[rt],dateSelectionSegs:ce[rt],eventDrag:fe[rt],eventResize:ct[rt],slatCoords:o.slatCoords,eventSelection:o.eventSelection,forPrint:o.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:o}=this;o.onColCoords&&null!==o.clientWidth&&o.onColCoords(new iu(this.rootElRef.current,function bk(n,o){return o.map(t=>n[t.key])}(this.cellElRefs.currentMap,o.cells),!0,!1))}}class yk extends Hr{constructor(){super(...arguments),this.processSlotOptions=Jn(Ik),this.state={slatCoords:null},this.handleRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=o=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(o.time){let r=i.computeTimeTop(o.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=o=>{this.colCoords=o},this.handleSlatCoords=o=>{this.setState({slatCoords:o}),this.props.onSlatCoords&&this.props.onSlatCoords(o)}}render(){let{props:o,state:t}=this;return _t("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:o.clientWidth,minWidth:o.tableMinWidth}},_t(ok,{axis:o.axis,dateProfile:o.dateProfile,slatMetas:o.slatMetas,clientWidth:o.clientWidth,minHeight:o.expandRows?o.clientHeight:"",tableMinWidth:o.tableMinWidth,tableColGroupNode:o.axis?o.tableColGroupNode:null,onCoords:this.handleSlatCoords}),_t(vk,{cells:o.cells,axis:o.axis,dateProfile:o.dateProfile,businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,fgEventSegs:o.fgEventSegs,dateSelectionSegs:o.dateSelectionSegs,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,todayRange:o.todayRange,nowDate:o.nowDate,nowIndicatorSegs:o.nowIndicatorSegs,clientWidth:o.clientWidth,tableMinWidth:o.tableMinWidth,tableColGroupNode:o.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:o.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(o){this.scrollResponder.update(o.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(o,t){let{dateEnv:i,options:r}=this.context,{colCoords:c}=this,{dateProfile:h}=this.props,{slatCoords:y}=this.state,{snapDuration:O,snapsPerSlot:ce}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),fe=c.leftToIndex(o),ct=y.positions.topToIndex(t);if(null!=fe&&null!=ct){let pt=this.props.cells[fe],rt=y.positions.tops[ct],Mt=y.positions.getHeight(ct),zt=Math.floor((t-rt)/Mt*ce),On=this.props.cells[fe].date,ti=Id(h.slotMinTime,function AI(n,o){return{years:n.years*o,months:n.months*o,days:n.days*o,milliseconds:n.milliseconds*o}}(O,ct*ce+zt)),Yn=i.add(On,ti),Pi=i.add(Yn,O);return{dateProfile:h,dateSpan:Object.assign({range:{start:Yn,end:Pi},allDay:!1},pt.extraDateSpan),dayEl:c.els[fe],rect:{left:c.lefts[fe],right:c.rights[fe],top:rt,bottom:rt+Mt},layer:0}}return null}}function Ik(n,o){let t=o||n,i=Ba(n,t);return null===i&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}class Ak extends dw{sliceRange(o,t){let i=[];for(let r=0;r<t.length;r+=1){let c=Va(o,t[r]);c&&i.push({start:c.start,end:c.end,isStart:c.start.valueOf()===o.start.valueOf(),isEnd:c.end.valueOf()===o.end.valueOf(),col:r})}return i}}class Tk extends Hr{constructor(){super(...arguments),this.buildDayRanges=Jn(wk),this.slicer=new Ak,this.timeColsRef={current:null}}render(){let{props:o,context:t}=this,{dateProfile:i,dayTableModel:r}=o,{nowIndicator:c,nextDayThreshold:h}=t.options,y=this.buildDayRanges(r,i,t.dateEnv);return _t(Bg,{unit:c?"minute":"day"},(O,ce)=>_t(yk,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(o,i,null,t,y),{forPrint:o.forPrint,axis:o.axis,dateProfile:i,slatMetas:o.slatMetas,slotDuration:o.slotDuration,cells:r.cells[0],tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,clientWidth:o.clientWidth,clientHeight:o.clientHeight,expandRows:o.expandRows,nowDate:O,nowIndicatorSegs:c&&this.slicer.sliceNowDate(O,i,h,t,y),todayRange:ce,onScrollTopRequest:o.onScrollTopRequest,onSlatCoords:o.onSlatCoords})))}}function wk(n,o,t){let i=[];for(let r of n.headerDates)i.push({start:t.add(r,o.slotMinTime),end:t.add(r,o.slotMaxTime)});return i}const lx=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function xk(n,o,t,i,r){let c=new Date(0),h=n,y=wi(0),O=t||function Ek(n){let o,t,i;for(o=lx.length-1;o>=0;o-=1)if(t=wi(lx[o]),i=Ba(t,n),null!==i&&i>1)return t;return n}(i),ce=[];for(;Xi(h)<Xi(o);){let fe=r.add(c,h),ct=null!==Ba(y,O);ce.push({date:fe,time:h,key:fe.toISOString(),isoTimeStr:qC(fe),isLabeled:ct}),h=Id(h,i),y=Id(y,i)}return ce}function kk(n,o){let t=new cw(n.renderRange,o);return new uw(t,!1)}Uc('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var Dk=za({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class Sk extends ek{constructor(){super(...arguments),this.buildTimeColsModel=Jn(kk),this.buildSlatMetas=Jn(xk)}render(){let{options:o,dateEnv:t,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:c}=r,h=this.buildTimeColsModel(c,i),y=this.allDaySplitter.splitProps(r),O=this.buildSlatMetas(c.slotMinTime,c.slotMaxTime,o.slotLabelInterval,o.slotDuration,t),{dayMinWidth:ce}=o,fe=!ce,ct=ce,pt=o.dayHeaders&&_t(lw,{dates:h.headerDates,dateProfile:c,datesRepDistinctDays:!0,renderIntro:fe?this.renderHeadAxis:null}),rt=!1!==o.allDaySlot&&(Wt=>_t(tx,Object.assign({},y.allDay,{dateProfile:c,dayTableModel:h,nextDayThreshold:o.nextDayThreshold,tableMinWidth:Wt.tableMinWidth,colGroupNode:Wt.tableColGroupNode,renderRowIntro:fe?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:Wt.clientWidth,clientHeight:Wt.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),Mt=Wt=>_t(Tk,Object.assign({},y.timed,{dayTableModel:h,dateProfile:c,axis:fe,slotDuration:o.slotDuration,slatMetas:O,forPrint:r.forPrint,tableColGroupNode:Wt.tableColGroupNode,tableMinWidth:Wt.tableMinWidth,clientWidth:Wt.clientWidth,clientHeight:Wt.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:Wt.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return ct?this.renderHScrollLayout(pt,rt,Mt,h.colCnt,ce,O,this.state.slatCoords):this.renderSimpleLayout(pt,rt,Mt)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Ok extends Li{constructor(){super(...arguments),this.state={textId:Na()}}render(){let{theme:o,dateEnv:t,options:i,viewApi:r}=this.context,{cellId:c,dayDate:h,todayRange:y}=this.props,{textId:O}=this.state,ce=Eg(h,y),fe=i.listDayFormat?t.format(h,i.listDayFormat):"",ct=i.listDaySideFormat?t.format(h,i.listDaySideFormat):"",pt=Object.assign({date:t.toDate(h),view:r,textId:O,text:fe,sideText:ct,navLinkAttrs:tu(this.context,h),sideNavLinkAttrs:tu(this.context,h,"day",!1)},ce);return _t(hr,{elTag:"tr",elClasses:["fc-list-day",...Ld(ce,o)],elAttrs:{"data-date":$l(h)},renderProps:pt,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Pk,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},rt=>_t("th",{scope:"colgroup",colSpan:3,id:c,"aria-labelledby":O},_t(rt,{elTag:"div",elClasses:["fc-list-day-cushion",o.getClass("tableCellShaded")]})))}}function Pk(n){return _t(ji,null,n.text&&_t("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&_t("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const Rk=co({hour:"numeric",minute:"2-digit",meridiem:"short"});class Lk extends Li{render(){let{props:o,context:t}=this,{options:i}=t,{seg:r,timeHeaderId:c,eventHeaderId:h,dateHeaderId:y}=o,O=i.eventTimeFormat||Rk;return _t(D0,Object.assign({},o,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function Nk(n,o){let t=wt(n,o);return _t("a",Object.assign({},t),n.eventRange.def.title)}(r,t),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(ce,fe)=>_t(ji,null,function Fk(n,o,t,i,r){let{options:c}=t;if(!1!==c.displayEventTime){let ce,y=n.eventRange.instance,O=!1;return n.eventRange.def.allDay?O=!0:function JT(n){let o=Od(n);return Ha(o.start,o.end)>1}(n.eventRange.range)?n.isStart?ce=K(n,o,t,null,null,y.range.start,n.end):n.isEnd?ce=K(n,o,t,null,null,n.start,y.range.end):O=!0:ce=K(n,o,t),O?_t(hr,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:{text:t.options.allDayText,view:t.viewApi},generatorName:"allDayContent",customGenerator:c.allDayContent,defaultGenerator:Bk,classNameGenerator:c.allDayClassNames,didMount:c.allDayDidMount,willUnmount:c.allDayWillUnmount}):_t("td",{className:"fc-list-event-time"},ce)}return null}(r,O,t,c,y),_t("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},_t("span",{className:"fc-list-event-dot",style:{borderColor:fe.borderColor||fe.backgroundColor}})),_t(ce,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${h} ${y}`}})))}}function Bk(n){return n.text}function Zk(n){return n.text}function Vk(n){let o=eo(n.renderRange.start),t=n.renderRange.end,i=[],r=[];for(;o<t;)i.push(o),r.push({start:o,end:Go(o,1)}),o=Go(o,1);return{dayDates:i,dayRanges:r}}function cx(n){return!1===n?null:co(n)}Uc(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var Qk=za({name:"@fullcalendar/list",optionRefiners:{listDayFormat:cx,listDaySideFormat:cx,noEventsClassNames:jt,noEventsContent:jt,noEventsDidMount:jt,noEventsWillUnmount:jt},views:{list:{component:class Hk extends Hr{constructor(){super(...arguments),this.computeDateVars=Jn(Vk),this.eventStoreToSegs=Jn(this._eventStoreToSegs),this.state={timeHeaderId:Na(),eventHeaderId:Na(),dateHeaderIdRoot:Na()},this.setRootEl=o=>{o?this.context.registerInteractiveComponent(this,{el:o}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:o,context:t}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(o.dateProfile),c=this.eventStoreToSegs(o.eventStore,o.eventUiBases,r);return _t(Hg,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},_t(bw,{liquid:!o.isHeightAuto,overflowX:o.isHeightAuto?"visible":"hidden",overflowY:o.isHeightAuto?"visible":"auto"},c.length>0?this.renderSegList(c,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:o,viewApi:t}=this.context;return _t(hr,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:o.noEventsText,view:t},generatorName:"noEventsContent",customGenerator:o.noEventsContent,defaultGenerator:Zk,classNameGenerator:o.noEventsClassNames,didMount:o.noEventsDidMount,willUnmount:o.noEventsWillUnmount},r=>_t(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(o,t){let{theme:i,options:r}=this.context,{timeHeaderId:c,eventHeaderId:h,dateHeaderIdRoot:y}=this.state,O=function Uk(n){let t,i,o=[];for(t=0;t<n.length;t+=1)i=n[t],(o[i.dayIndex]||(o[i.dayIndex]=[])).push(i);return o}(o);return _t(Bg,{unit:"day"},(ce,fe)=>{let ct=[];for(let pt=0;pt<O.length;pt+=1){let rt=O[pt];if(rt){let Mt=$l(t[pt]),Wt=y+"-"+Mt;ct.push(_t(Ok,{key:Mt,cellId:Wt,dayDate:t[pt],todayRange:fe})),rt=d(rt,r.eventOrder);for(let zt of rt)ct.push(_t(Lk,Object.assign({key:Mt+":"+zt.eventRange.instance.instanceId,seg:zt,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:c,eventHeaderId:h,dateHeaderId:Wt},ve(zt,fe,ce))))}}return _t("table",{className:"fc-list-table "+i.getClass("table")},_t("thead",null,_t("tr",null,_t("th",{scope:"col",id:c},r.timeHint),_t("th",{scope:"col","aria-hidden":!0}),_t("th",{scope:"col",id:h},r.eventHint))),_t("tbody",null,ct))})}_eventStoreToSegs(o,t,i){return this.eventRangesToSegs(x0(o,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(o,t){let i=[];for(let r of o)i.push(...this.eventRangeToSegs(r,t));return i}eventRangeToSegs(o,t){let y,O,ce,{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,c=o.range,h=o.def.allDay,fe=[];for(y=0;y<t.length;y+=1)if(O=Va(c,t[y]),O&&(ce={component:this,eventRange:o,start:O.start,end:O.end,isStart:o.isStart&&O.start.valueOf()===c.start.valueOf(),isEnd:o.isEnd&&O.end.valueOf()===c.end.valueOf(),dayIndex:y},fe.push(ce),!ce.isEnd&&!h&&y+1<t.length&&c.end<i.add(t[y+1].start,r))){ce.end=c.end,ce.isEnd=!0;break}return fe}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});p1.touchMouseIgnoreWait=500;let S1=0,R0=0,k1=!1;class M1{constructor(o){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function Jk(n){return 0===n.button&&!n.ctrlKey}(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,function jk(){S1+=1,setTimeout(()=>{S1-=1},p1.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.pageXOffset-this.prevScrollX+this.prevPageX,r=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=o,this.emitter=new ll,o.addEventListener("mousedown",this.handleMouseDown),o.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Wk(){R0+=1,1===R0&&window.addEventListener("touchmove",ux,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Yk(){R0-=1,R0||window.removeEventListener("touchmove",ux,{passive:!1})}()}tryStart(o){let t=this.querySubjectEl(o);return!(!t||this.handleSelector&&!vs(o.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){k1=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(o){return this.selector?vs(o.target,this.selector):this.containerEl}shouldIgnoreMouse(){return S1||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(k1=!0)}initScrollWatch(o){this.shouldWatchScroll&&(this.recordCoords(o),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(o){this.shouldWatchScroll&&(this.prevPageX=o.pageX,this.prevPageY=o.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(o,t){let i=0,r=0;return t?(this.origPageX=o.pageX,this.origPageY=o.pageY):(i=o.pageX-this.origPageX,r=o.pageY-this.origPageY),{origEvent:o,isTouch:!1,subjectEl:this.subjectEl,pageX:o.pageX,pageY:o.pageY,deltaX:i,deltaY:r}}createEventFromTouch(o,t){let r,c,i=o.touches,h=0,y=0;return i&&i.length?(r=i[0].pageX,c=i[0].pageY):(r=o.pageX,c=o.pageY),t?(this.origPageX=r,this.origPageY=c):(h=r-this.origPageX,y=c-this.origPageY),{origEvent:o,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:c,deltaX:h,deltaY:y}}}function ux(n){k1&&n.preventDefault()}class Kk{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(o,t,i){this.sourceEl=o,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(o,t){this.deltaX=o-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(o){o?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=o,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=o)}stop(o,t){let i=()=>{this.cleanup(),t()};o&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(o,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",zl(i,{left:r.left,top:r.top}),function _I(n,o){let t=i=>{o(i),Jl.forEach(r=>{n.removeEventListener(r,t)})};Jl.forEach(i=>{n.addEventListener(i,t)})}(i,()=>{i.style.transition="",o()})}cleanup(){this.mirrorEl&&(bd(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&zl(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let o=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.classList.add("fc-event-dragging"),zl(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:o.right-o.left,height:o.bottom-o.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class dx extends Bd{constructor(o,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=o,this.doesListening=t,this.scrollTop=this.origScrollTop=o.getScrollTop(),this.scrollLeft=this.origScrollLeft=o.getScrollLeft(),this.scrollWidth=o.getScrollWidth(),this.scrollHeight=o.getScrollHeight(),this.clientWidth=o.getClientWidth(),this.clientHeight=o.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(o){this.scrollController.setScrollTop(o),this.doesListening||(this.scrollTop=Math.max(Math.min(o,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(o){this.scrollController.setScrollLeft(o),this.doesListening||(this.scrollLeft=Math.max(Math.min(o,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class px extends dx{constructor(o,t){super(new $I(o),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return kg(this.scrollController.el)}}class qk extends dx{constructor(o){super(new XI,o)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const hx="function"==typeof performance?performance.now:Date.now;class $k{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let o=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(o){let t=hx();this.handleSide(o,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(o,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(o,t))}handleMove(o,t){if(this.isEnabled){let i=o-window.pageXOffset,r=t-window.pageYOffset,c=null===this.pointerScreenY?0:r-this.pointerScreenY,h=null===this.pointerScreenX?0:i-this.pointerScreenX;c<0?this.everMovedUp=!0:c>0&&(this.everMovedDown=!0),h<0?this.everMovedLeft=!0:h>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(hx()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let o of this.scrollCaches)o.destroy();this.scrollCaches=null}}requestAnimation(o){this.msSinceRequest=o,requestAnimationFrame(this.animate)}handleSide(o,t){let{scrollCache:i}=o,{edgeThreshold:r}=this,c=r-o.distance,h=c*c/(r*r)*this.maxVelocity*t,y=1;switch(o.name){case"left":y=-1;case"right":i.setScrollLeft(i.getScrollLeft()+h*y);break;case"top":y=-1;case"bottom":i.setScrollTop(i.getScrollTop()+h*y)}}computeBestEdge(o,t){let{edgeThreshold:i}=this,r=null,c=this.scrollCaches||[];for(let h of c){let y=h.clientRect,O=o-y.left,ce=y.right-o,fe=t-y.top,ct=y.bottom-t;O>=0&&ce>=0&&fe>=0&&ct>=0&&(fe<=i&&this.everMovedUp&&h.canScrollUp()&&(!r||r.distance>fe)&&(r={scrollCache:h,name:"top",distance:fe}),ct<=i&&this.everMovedDown&&h.canScrollDown()&&(!r||r.distance>ct)&&(r={scrollCache:h,name:"bottom",distance:ct}),O<=i&&this.everMovedLeft&&h.canScrollLeft()&&(!r||r.distance>O)&&(r={scrollCache:h,name:"left",distance:O}),ce<=i&&this.everMovedRight&&h.canScrollRight()&&(!r||r.distance>ce)&&(r={scrollCache:h,name:"right",distance:ce}))}return r}buildCaches(o){return this.queryScrollEls(o).map(t=>t===window?new qk(!1):new px(t,!1))}queryScrollEls(o){let t=[];for(let i of this.scrollQuery)"object"==typeof i?t.push(i):t.push(...Array.prototype.slice.call(o.getRootNode().querySelectorAll(i)));return t}}class zd extends class CE{constructor(o,t){this.emitter=new ll}destroy(){}setMirrorIsVisible(o){}setMirrorNeedsRevert(o){}setAutoScrollEnabled(o){}}{constructor(o,t){super(o),this.containerEl=o,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,function OC(n){n.style.userSelect="none",n.addEventListener("selectstart",Ql)}(document.body),function tg(n){n.addEventListener("contextmenu",Ql)}(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let h,c=this.minDistance,{deltaX:y,deltaY:O}=r;h=y*y+O*O,h>=c*c&&this.handleDistanceSurpassed(r)}this.isDragging&&("scroll"!==r.origEvent.type&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,function PC(n){n.style.userSelect="",n.removeEventListener("selectstart",Ql)}(document.body),function RC(n){n.removeEventListener("contextmenu",Ql)}(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new M1(o);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new Kk,this.autoScroller=new $k}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(o){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(o)},this.delay):this.handleDelayEnd(o)}handleDelayEnd(o){this.isDelayEnded=!0,this.tryStartDrag(o)}handleDistanceSurpassed(o){this.isDistanceSurpassed=!0,this.tryStartDrag(o)}tryStartDrag(o){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(o.pageX,o.pageY,this.containerEl),this.emitter.trigger("dragstart",o),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(o){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,o))}stopDrag(o){this.isDragging=!1,this.emitter.trigger("dragend",o)}setIgnoreMove(o){this.pointer.shouldIgnoreMove=o}setMirrorIsVisible(o){this.mirror.setIsVisible(o)}setMirrorNeedsRevert(o){this.mirrorNeedsRevert=o}setAutoScrollEnabled(o){this.autoScroller.isEnabled=o}}class Xk{constructor(o){this.origRect=nu(o),this.scrollCaches=Fd(o).map(t=>new px(t,!0))}destroy(){for(let o of this.scrollCaches)o.destroy()}computeLeft(){let o=this.origRect.left;for(let t of this.scrollCaches)o+=t.origScrollLeft-t.getScrollLeft();return o}computeTop(){let o=this.origRect.top;for(let t of this.scrollCaches)o+=t.origScrollTop-t.getScrollTop();return o}isWithinClipping(o,t){let i={left:o,top:t};for(let r of this.scrollCaches)if(!eM(r.getEventTarget())&&!QI(i,r.clientRect))return!1;return!0}}function eM(n){let o=n.tagName;return"HTML"===o||"BODY"===o}class Vg{constructor(o,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("dragmove",this.handleDragMove),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd),this.dragging=o,this.emitter=new ll}processFirstCoord(o){let c,t={left:o.pageX,top:o.pageY},i=t,r=o.subjectEl;r instanceof HTMLElement&&(c=nu(r),i=function Ag(n,o){return{left:Math.min(Math.max(n.left,o.left),o.right),top:Math.min(Math.max(n.top,o.top),o.bottom)}}(i,c));let h=this.initialHit=this.queryHitForOffset(i.left,i.top);if(h){if(this.useSubjectCenter&&c){let y=Ig(c,h.rect);y&&(i=function c0(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}(y))}this.coordAdjust=function u0(n,o){return{left:n.left-o.left,top:n.top-o.top}}(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(o,t){let i=this.queryHitForOffset(o.pageX+this.coordAdjust.left,o.pageY+this.coordAdjust.top);(t||!L0(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,o))}prepareHits(){this.offsetTrackers=qr(this.droppableStore,o=>(o.component.prepareHits(),new Xk(o.el)))}releaseHits(){let{offsetTrackers:o}=this;for(let t in o)o[t].destroy();this.offsetTrackers={}}queryHitForOffset(o,t){let{droppableStore:i,offsetTrackers:r}=this,c=null;for(let h in i){let y=i[h].component,O=r[h];if(O&&O.isWithinClipping(o,t)){let ce=O.computeLeft(),fe=O.computeTop(),ct=o-ce,pt=t-fe,{origRect:rt}=O,Mt=rt.right-rt.left,Wt=rt.bottom-rt.top;if(ct>=0&&ct<Mt&&pt>=0&&pt<Wt){let zt=y.queryHit(ct,pt,Mt,Wt);zt&&xg(zt.dateProfile.activeRange,zt.dateSpan.range)&&(!c||zt.layer>c.layer)&&(zt.componentId=h,zt.context=y.context,zt.rect.left+=ce,zt.rect.right+=ce,zt.rect.top+=fe,zt.rect.bottom+=fe,c=zt)}}}return c}}function L0(n,o){return!n&&!o||Boolean(n)===Boolean(o)&&function An(n,o){return function jI(n,o){return(null===n.start?null:n.start.valueOf())===(null===o.start?null:o.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===o.end?null:o.end.valueOf())}(n.range,o.range)&&n.allDay===o.allDay&&function Pn(n,o){for(let t in o)if("range"!==t&&"allDay"!==t&&n[t]!==o[t])return!1;for(let t in n)if(!(t in o))return!1;return!0}(n,o)}(n.dateSpan,o.dateSpan)}function D1(n,o){let t={};for(let i of o.pluginHooks.datePointTransforms)Object.assign(t,i(n,o));return Object.assign(t,function tM(n,o){return{date:o.toDate(n.range.start),dateStr:o.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,o.dateEnv)),t}let gx=(()=>{class n extends Vd{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=y=>{let O=y.origEvent.target,{component:ce,dragging:fe}=this,{mirror:ct}=fe,{options:pt}=ce.context,rt=ce.context;this.subjectEl=y.subjectEl;let Mt=this.subjectSeg=a(y.subjectEl),zt=(this.eventRange=Mt.eventRange).instance.instanceId;this.relevantEvents=_g(rt.getCurrentData().eventStore,zt),fe.minDistance=y.isTouch?0:pt.eventDragMinDistance,fe.delay=y.isTouch&&zt!==ce.props.eventSelection?function aM(n){let{options:o}=n.context,t=o.eventLongPressDelay;return null==t&&(t=o.longPressDelay),t}(ce):null,ct.parentNode=pt.fixedMirrorParent?pt.fixedMirrorParent:vs(O,".fc"),ct.revertDuration=pt.dragRevertDuration;let dn=ce.isValidSegDownEl(O)&&!vs(O,".fc-event-resizer");fe.setIgnoreMove(!dn),this.isDragging=dn&&y.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=y=>{let O=this.component.context,ce=this.eventRange,fe=ce.instance.instanceId;y.isTouch?fe!==this.component.props.eventSelection&&O.dispatch({type:"SELECT_EVENT",eventInstanceId:fe}):O.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(O.calendarApi.unselect(y),O.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ao(O,ce.def,ce.instance),jsEvent:y.origEvent,view:O.viewApi}))},this.handleHitUpdate=(y,O)=>{if(!this.isDragging)return;let ce=this.relevantEvents,fe=this.hitDragging.initialHit,ct=this.component.context,pt=null,rt=null,Mt=null,Wt=!1,zt={affectedEvents:ce,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(y){pt=y.context;let dn=pt.options;ct===pt||dn.editable&&dn.droppable?(rt=function rM(n,o,t){let i=n.dateSpan,r=o.dateSpan,c=i.range.start,h=r.range.start,y={};i.allDay!==r.allDay&&(y.allDay=r.allDay,y.hasEnd=o.context.options.allDayMaintainDuration,r.allDay&&(c=eo(c)));let O=al(c,h,n.context.dateEnv,n.componentId===o.componentId?n.largeUnit:null);O.milliseconds&&(y.allDay=!1);let ce={datesDelta:O,standardProps:y};for(let fe of t)fe(ce,n,o);return ce}(fe,y,pt.getCurrentData().pluginHooks.eventDragMutationMassagers),rt&&(Mt=w0(ce,pt.getCurrentData().eventUiBases,rt,pt),zt.mutatedEvents=Mt,mw(zt,y.dateProfile,pt)||(Wt=!0,rt=null,Mt=null,zt.mutatedEvents={defs:{},instances:{}}))):pt=null}this.displayDrag(pt,zt),Wt?Xh():eg(),O||(ct===pt&&L0(fe,y)&&(rt=null),this.dragging.setMirrorNeedsRevert(!rt),this.dragging.setMirrorIsVisible(!y||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=pt,this.validMutation=rt,this.mutatedRelevantEvents=Mt)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=y=>{if(this.isDragging){let O=this.component.context,ce=O.viewApi,{receivingContext:fe,validMutation:ct}=this,pt=this.eventRange.def,rt=this.eventRange.instance,Mt=new Ao(O,pt,rt),Wt=this.relevantEvents,zt=this.mutatedRelevantEvents,{finalHit:dn}=this.hitDragging;if(this.clearDrag(),O.emitter.trigger("eventDragStop",{el:this.subjectEl,event:Mt,jsEvent:y.origEvent,view:ce}),ct){if(fe===O){let On=new Ao(O,zt.defs[pt.defId],rt?zt.instances[rt.instanceId]:null);O.dispatch({type:"MERGE_EVENTS",eventStore:zt});let ti={oldEvent:Mt,event:On,relatedEvents:oc(zt,O,rt),revert(){O.dispatch({type:"MERGE_EVENTS",eventStore:Wt})}},Yn={};for(let Pi of O.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(Yn,Pi(ct,O));O.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},ti),Yn),{el:y.subjectEl,delta:ct.datesDelta,jsEvent:y.origEvent,view:ce})),O.emitter.trigger("eventChange",ti)}else if(fe){let On={event:Mt,relatedEvents:oc(Wt,O,rt),revert(){O.dispatch({type:"MERGE_EVENTS",eventStore:Wt})}};O.emitter.trigger("eventLeave",Object.assign(Object.assign({},On),{draggedEl:y.subjectEl,view:ce})),O.dispatch({type:"REMOVE_EVENTS",eventStore:Wt}),O.emitter.trigger("eventRemove",On);let Yn=zt.instances[rt.instanceId],Pi=new Ao(fe,zt.defs[pt.defId],Yn);fe.dispatch({type:"MERGE_EVENTS",eventStore:zt});let vo={event:Pi,relatedEvents:oc(zt,fe,Yn),revert(){fe.dispatch({type:"REMOVE_EVENTS",eventStore:zt})}};fe.emitter.trigger("eventAdd",vo),y.isTouch&&fe.dispatch({type:"SELECT_EVENT",eventInstanceId:rt.instanceId}),fe.emitter.trigger("drop",Object.assign(Object.assign({},D1(dn.dateSpan,fe)),{draggedEl:y.subjectEl,jsEvent:y.origEvent,view:dn.context.viewApi})),fe.emitter.trigger("eventReceive",Object.assign(Object.assign({},vo),{draggedEl:y.subjectEl,view:dn.context.viewApi}))}}else O.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:r}=i.context,c=this.dragging=new zd(t.el);c.pointer.selector=n.SELECTOR,c.touchScrollAllowed=!1,c.autoScroller.isEnabled=r.dragScroll;let h=this.hitDragging=new Vg(this.dragging,d1);h.useSubjectCenter=t.useEventCenter,h.emitter.on("pointerdown",this.handlePointerDown),h.emitter.on("dragstart",this.handleDragStart),h.emitter.on("hitupdate",this.handleHitUpdate),h.emitter.on("pointerup",this.handlePointerUp),h.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let c=this.receivingContext;c&&c!==t&&c.dispatch(c===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();const dM={fixedMirrorParent:jt},pM={dateClick:jt,eventDragStart:jt,eventDragStop:jt,eventDrop:jt,eventResizeStart:jt,eventResizeStop:jt,eventResize:jt,drop:jt,eventReceive:jt,eventLeave:jt};p1.dataAttrPrefix="";var _M=za({name:"@fullcalendar/interaction",componentInteractions:[class nM extends Vd{constructor(o){super(o),this.handlePointerDown=i=>{let{dragging:r}=this;r.setIgnoreMove(!this.component.isValidDateDownEl(i.origEvent.target))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:c}=this.dragging;if(!c.wasTouchScroll){let{initialHit:h,finalHit:y}=this.hitDragging;if(h&&y&&L0(h,y)){let{context:O}=r,ce=Object.assign(Object.assign({},D1(h.dateSpan,O)),{dayEl:h.dayEl,jsEvent:i.origEvent,view:O.viewApi||O.calendarApi.view});O.emitter.trigger("dateClick",ce)}}},this.dragging=new zd(o.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Vg(this.dragging,u1(o));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class iM extends Vd{constructor(o){super(o),this.dragSelection=null,this.handlePointerDown=h=>{let{component:y,dragging:O}=this,{options:ce}=y.context,fe=ce.selectable&&y.isValidDateDownEl(h.origEvent.target);O.setIgnoreMove(!fe),O.delay=h.isTouch?function oM(n){let{options:o}=n.context,t=o.selectLongPressDelay;return null==t&&(t=o.longPressDelay),t}(y):null},this.handleDragStart=h=>{this.component.context.calendarApi.unselect(h)},this.handleHitUpdate=(h,y)=>{let{context:O}=this.component,ce=null,fe=!1;if(h){let ct=this.hitDragging.initialHit;h.componentId===ct.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(ct,h)||(ce=function sM(n,o,t){let i=n.dateSpan,r=o.dateSpan,c=[i.range.start,i.range.end,r.range.start,r.range.end];c.sort(ig);let h={};for(let y of t){let O=y(n,o);if(!1===O)return null;O&&Object.assign(h,O)}return h.range={start:c[0],end:c[3]},h.allDay=i.allDay,h}(ct,h,O.pluginHooks.dateSelectionTransformers)),(!ce||!function LE(n,o,t){return!!xg(o.validRange,n.range)&&_w({dateSelection:n},t)}(ce,h.dateProfile,O))&&(fe=!0,ce=null)}ce?O.dispatch({type:"SELECT_DATES",selection:ce}):y||O.dispatch({type:"UNSELECT_DATES"}),fe?Xh():eg(),y||(this.dragSelection=ce)},this.handlePointerUp=h=>{this.dragSelection&&(A0(this.dragSelection,h,this.component.context),this.dragSelection=null)};let{component:t}=o,{options:i}=t.context,r=this.dragging=new zd(o.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let c=this.hitDragging=new Vg(this.dragging,u1(o));c.emitter.on("pointerdown",this.handlePointerDown),c.emitter.on("dragstart",this.handleDragStart),c.emitter.on("hitupdate",this.handleHitUpdate),c.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},gx,class lM extends Vd{constructor(o){super(o),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let{component:h}=this,O=a(this.querySegEl(c)),ce=this.eventRange=O.eventRange;this.dragging.minDistance=h.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(c.origEvent.target)||c.isTouch&&this.component.props.eventSelection!==ce.instance.instanceId)},this.handleDragStart=c=>{let{context:h}=this.component,y=this.eventRange;this.relevantEvents=_g(h.getCurrentData().eventStore,this.eventRange.instance.instanceId);let O=this.querySegEl(c);this.draggingSegEl=O,this.draggingSeg=a(O),h.calendarApi.unselect(),h.emitter.trigger("eventResizeStart",{el:O,event:new Ao(h,y.def,y.instance),jsEvent:c.origEvent,view:h.viewApi})},this.handleHitUpdate=(c,h,y)=>{let{context:O}=this.component,ce=this.relevantEvents,fe=this.hitDragging.initialHit,ct=this.eventRange.instance,pt=null,rt=null,Mt=!1,Wt={affectedEvents:ce,mutatedEvents:{defs:{},instances:{}},isEvent:!0};c&&(c.componentId===fe.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(fe,c)||(pt=function cM(n,o,t,i){let r=n.context.dateEnv,y=al(n.dateSpan.range.start,o.dateSpan.range.start,r,n.largeUnit);if(t){if(r.add(i.start,y)<i.end)return{startDelta:y}}else if(r.add(i.end,y)>i.start)return{endDelta:y};return null}(fe,c,y.subjectEl.classList.contains("fc-event-resizer-start"),ct.range))),pt&&(rt=w0(ce,O.getCurrentData().eventUiBases,pt,O),Wt.mutatedEvents=rt,mw(Wt,c.dateProfile,O)||(Mt=!0,pt=null,rt=null,Wt.mutatedEvents=null)),O.dispatch(rt?{type:"SET_EVENT_RESIZE",state:Wt}:{type:"UNSET_EVENT_RESIZE"}),Mt?Xh():eg(),h||(pt&&L0(fe,c)&&(pt=null),this.validMutation=pt,this.mutatedRelevantEvents=rt)},this.handleDragEnd=c=>{let{context:h}=this.component,y=this.eventRange.def,O=this.eventRange.instance,ce=new Ao(h,y,O),fe=this.relevantEvents,ct=this.mutatedRelevantEvents;if(h.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:ce,jsEvent:c.origEvent,view:h.viewApi}),this.validMutation){let pt=new Ao(h,ct.defs[y.defId],O?ct.instances[O.instanceId]:null);h.dispatch({type:"MERGE_EVENTS",eventStore:ct});let rt={oldEvent:ce,event:pt,relatedEvents:oc(ct,h,O),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:fe})}};h.emitter.trigger("eventResize",Object.assign(Object.assign({},rt),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||wi(0),endDelta:this.validMutation.endDelta||wi(0),jsEvent:c.origEvent,view:h.viewApi})),h.emitter.trigger("eventChange",rt)}else h.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=o,i=this.dragging=new zd(o.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Vg(this.dragging,u1(o));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(o){return vs(o.subjectEl,".fc-event")}}],calendarInteractions:[class uM{constructor(o){this.context=o,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,c=qh(i.origEvent);this.matchesCancel=!!vs(c,r),this.matchesEvent=!!vs(c,gx.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:c}=this,h=r.getCurrentData();if(!c.wasTouchScroll){if(h.dateSelection&&!this.isRecentPointerDateSelect){let y=r.options.unselectAuto;y&&(!y||!this.matchesCancel)&&r.calendarApi.unselect(i)}h.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new M1(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),o.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:zd,optionRefiners:dM,listenerRefiners:pM});const CM=["*"],vM=["rootEl"],Gd=function(n){return{$implicit:n}};function bM(n,o){if(1&n&&(e.TgZ(0,"div",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Gd,t.renderProps))}}function yM(n,o){if(1&n&&(e.TgZ(0,"span",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Gd,t.renderProps))}}function IM(n,o){if(1&n&&(e.TgZ(0,"a",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Gd,t.renderProps))}}function AM(n,o){if(1&n&&(e.TgZ(0,"tr",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Gd,t.renderProps))}}function TM(n,o){if(1&n&&(e.TgZ(0,"th",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Gd,t.renderProps))}}function wM(n,o){if(1&n&&(e.TgZ(0,"td",1,2),e.GkF(2,3),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Gd,t.renderProps))}}const xM=["dayHeaderContent"],EM=["dayCellContent"],SM=["weekNumberContent"],kM=["nowIndicatorContent"],MM=["eventContent"],DM=["slotLaneContent"],OM=["slotLabelContent"],PM=["allDayContent"],RM=["moreLinkContent"],LM=["noEventsContent"],NM=["resourceAreaHeaderContent"],FM=["resourceGroupLabelContent"],BM=["resourceLabelContent"],HM=["resourceLaneContent"],ZM=["resourceGroupLaneContent"];function VM(n,o){if(1&n&&e._UZ(0,"transport-container",1),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",i.templateMap[t.generatorName])("renderProps",t.renderProps)}}const mx={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},UM=["events","eventSources","resources"],zM=Object.prototype.hasOwnProperty;function N0(n){return Array.isArray(n)?n.map(N0):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?_x(n,N0):n}function _x(n,o){const t={};for(const i in n)zM.call(n,i)&&(t[i]=o(n[i],i));return t}function O1(n,o){if(n===o)return!0;if(n&&o&&"object"==typeof n&&"object"==typeof o){if(n.constructor!==o.constructor)return!1;var t,i,r;if(Array.isArray(n)){if((t=n.length)!=o.length)return!1;for(i=t;0!=i--;)if(!O1(n[i],o[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===o.toString();if((t=(r=Object.keys(n)).length)!==Object.keys(o).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(o,r[i]))return!1;for(i=t;0!=i--;){var c=r[i];if(!O1(n[c],o[c]))return!1}return!0}return n!=n&&o!=o}const Cx=document.createDocumentFragment();let GM=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){Cx.appendChild(this.element.nativeElement)}ngOnDestroy(){Cx.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["offscreen-fragment"]],ngContentSelectors:CM,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),n})();const F0=document.createDocumentFragment();let QM=(()=>{class n{ngAfterViewInit(){var t;const i=null===(t=this.rootElRef)||void 0===t?void 0:t.nativeElement;vx(i,this.inPlaceOf),P1(i,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(i)}ngOnChanges(t){var i;const r=null===(i=this.rootElRef)||void 0===i?void 0:i.nativeElement;if(r)if(this.inPlaceOf.parentNode!==F0)vx(r,this.inPlaceOf),P1(r,void 0,this.elAttrs),this.reportEl(r);else{const c=t.elAttrs;c&&P1(r,c.previousValue,c.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===F0&&F0.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(1&t&&e.Gf(vM,5),2&t){let r;e.iGM(r=e.CRH())&&(i.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[e.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.YNc(0,bM,3,6,"ng-template",0),e.YNc(1,yM,3,6,"ng-template",0),e.YNc(2,IM,3,6,"ng-template",0),e.YNc(3,AM,3,6,"ng-template",0),e.YNc(4,TM,3,6,"ng-template",0),e.YNc(5,wM,3,6,"ng-template",0)),2&t&&(e.Q6J("ngIf","div"==i.elTag),e.xp6(1),e.Q6J("ngIf","span"==i.elTag),e.xp6(1),e.Q6J("ngIf","a"==i.elTag),e.xp6(1),e.Q6J("ngIf","tr"==i.elTag),e.xp6(1),e.Q6J("ngIf","th"==i.elTag),e.xp6(1),e.Q6J("ngIf","td"==i.elTag))},dependencies:[I.O5,I.mk,I.PC,I.tP],encapsulation:2}),n})();function vx(n,o){var t;null===(t=o.parentNode)||void 0===t||t.insertBefore(n,o.nextSibling),F0.appendChild(o)}function P1(n,o={},t={}){for(const i in o)i in t||(n[i]=null);for(const i in t)n[i]=t[i]}let JM=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};const r=new g4;r.subscribe(c=>{this.customRenderingMap=c,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=r.handle.bind(r),this.templateMap=this}ngAfterViewInit(){const{deepChangeDetection:t}=this,i=Object.assign(Object.assign({},this.options),this.buildInputOptions());this.optionSnapshot=_x(i,(y,O)=>t&&mx[O]?N0(y):y);const r=this.element.nativeElement,c=this.calendar=new IS(r,Object.assign(Object.assign({},i),this.buildExtraOptions())),h=r.closest("ion-content");h&&h.componentOnReady?h.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{c.render()})}):c.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:i}=this,r=Object.assign(Object.assign({},this.options),this.buildInputOptions()),c={},h=[];for(const O in r)if(r.hasOwnProperty(O)){let ce=r[O];t&&mx[O]?O1(i[O],ce)||(i[O]=N0(ce),h.push(O)):i[O]!==ce&&(i[O]=ce,h.push(O)),c[O]=ce}const y=Object.keys(i);for(const O of y)O in r||(delete i[O],h.push(O));h.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(Object.assign(Object.assign({},c),this.buildExtraOptions()),h))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){const t={};for(const i of UM){const r=this[i];null!=r&&(t[i]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplacesEl:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,xM,7),e.Suo(r,EM,7),e.Suo(r,SM,7),e.Suo(r,kM,7),e.Suo(r,MM,7),e.Suo(r,DM,7),e.Suo(r,OM,7),e.Suo(r,PM,7),e.Suo(r,RM,7),e.Suo(r,LM,7),e.Suo(r,NM,7),e.Suo(r,FM,7),e.Suo(r,BM,7),e.Suo(r,HM,7),e.Suo(r,ZM,7)),2&t){let c;e.iGM(c=e.CRH())&&(i.dayHeaderContent=c.first),e.iGM(c=e.CRH())&&(i.dayCellContent=c.first),e.iGM(c=e.CRH())&&(i.weekNumberContent=c.first),e.iGM(c=e.CRH())&&(i.nowIndicatorContent=c.first),e.iGM(c=e.CRH())&&(i.eventContent=c.first),e.iGM(c=e.CRH())&&(i.slotLaneContent=c.first),e.iGM(c=e.CRH())&&(i.slotLabelContent=c.first),e.iGM(c=e.CRH())&&(i.allDayContent=c.first),e.iGM(c=e.CRH())&&(i.moreLinkContent=c.first),e.iGM(c=e.CRH())&&(i.noEventsContent=c.first),e.iGM(c=e.CRH())&&(i.resourceAreaHeaderContent=c.first),e.iGM(c=e.CRH())&&(i.resourceGroupLabelContent=c.first),e.iGM(c=e.CRH())&&(i.resourceLabelContent=c.first),e.iGM(c=e.CRH())&&(i.resourceLaneContent=c.first),e.iGM(c=e.CRH())&&(i.resourceGroupLaneContent=c.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){1&t&&(e.TgZ(0,"offscreen-fragment"),e.YNc(1,VM,1,8,"transport-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[GM,QM,I.sg],encapsulation:2}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[I.ez]]}),n})();const WM=["sublist"],YM=["menuitem"],KM=function(n){return{"p-hidden":n}};function qM(n,o){if(1&n&&e._UZ(0,"li",5,6),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,KM,!1===t.visible))}}function $M(n,o){if(1&n&&e._UZ(0,"span",17),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function XM(n,o){if(1&n&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function eD(n,o){if(1&n&&e._UZ(0,"span",19),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function tD(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}function nD(n,o){1&n&&e._UZ(0,"span",21)}const bx=function(n){return{"p-menuitem-link":!0,"p-disabled":n}};function iD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(r){e.CHM(t),e.oxw();const c=e.MAs(1),h=e.oxw(),y=h.$implicit,O=h.index,ce=e.oxw();return e.KtG(ce.onItemClick(r,y,c,ce.getKey(O)))}),e.YNc(1,$M,1,2,"span",12),e.YNc(2,XM,2,1,"span",13),e.YNc(3,eD,1,1,"ng-template",null,14,e.W1O),e.YNc(5,tD,2,2,"span",15),e.YNc(6,nD,1,0,"span",16),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2),r=i.$implicit,c=i.index,h=e.oxw();e.Q6J("target",r.target)("ngClass",e.VKq(13,bx,r.disabled)),e.uIk("href",r.url?r.url:null,e.LSH)("title",r.title)("id",r.id)("tabindex",r.disabled?null:"0")("aria-haspopup",null!=h.item.items)("aria-expanded",h.isActive(h.getKey(c))),e.xp6(1),e.Q6J("ngIf",r.icon),e.xp6(1),e.Q6J("ngIf",!1!==r.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",r.badge),e.xp6(1),e.Q6J("ngIf",r.items)}}function oD(n,o){if(1&n&&e._UZ(0,"span",17),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function sD(n,o){if(1&n&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function rD(n,o){if(1&n&&e._UZ(0,"span",19),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function aD(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.badgeStyleClass),e.xp6(1),e.Oqu(t.badge)}}function lD(n,o){1&n&&e._UZ(0,"span",21)}const cD=function(){return{exact:!1}};function uD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(r){e.CHM(t),e.oxw();const c=e.MAs(1),h=e.oxw(),y=h.$implicit,O=h.index,ce=e.oxw();return e.KtG(ce.onItemClick(r,y,c,ce.getKey(O)))}),e.YNc(1,oD,1,2,"span",12),e.YNc(2,sD,2,1,"span",13),e.YNc(3,rD,1,1,"ng-template",null,23,e.W1O),e.YNc(5,aD,2,2,"span",15),e.YNc(6,lD,1,0,"span",16),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw(2).$implicit;e.Q6J("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||e.DdM(20,cD))("target",i.target)("ngClass",e.VKq(21,bx,i.disabled))("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),e.uIk("title",i.title)("id",i.id)("tabindex",i.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",i.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.badge),e.xp6(1),e.Q6J("ngIf",i.items)}}function dD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-contextMenuSub",24),e.NdJ("leafClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onLeafClick())}),e.qZA()}if(2&n){const t=e.oxw(2),i=t.index,r=t.$implicit,c=e.oxw();e.Q6J("parentItemKey",c.getKey(i))("item",r)}}const pD=function(n,o){return{"p-menuitem":!0,"p-menuitem-active":n,"p-hidden":o}};function hD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",7,6),e.NdJ("mouseenter",function(r){e.CHM(t);const c=e.oxw(),h=c.$implicit,y=c.index,O=e.oxw();return e.KtG(O.onItemMouseEnter(r,h,O.getKey(y)))})("mouseleave",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.onItemMouseLeave(r,c))}),e.YNc(2,iD,7,15,"a",8),e.YNc(3,uD,7,23,"a",9),e.YNc(4,dD,1,2,"p-contextMenuSub",10),e.qZA()}if(2&n){const t=e.oxw(),i=t.$implicit,r=t.index,c=e.oxw();e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(9,pD,c.isActive(c.getKey(r)),!1===i.visible))("ngStyle",i.style)("tooltipOptions",i.tooltipOptions),e.uIk("data-ik",c.getKey(r)),e.xp6(2),e.Q6J("ngIf",!i.routerLink),e.xp6(1),e.Q6J("ngIf",i.routerLink),e.xp6(1),e.Q6J("ngIf",i.items)}}function gD(n,o){if(1&n&&(e.YNc(0,qM,2,3,"li",3),e.YNc(1,hD,5,12,"li",4)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}const fD=function(n){return{"p-submenu-list":n}},mD=["container"];let _D=(()=>{class n{constructor(t){this.leafClick=new e.vpe,this.contextMenu=t}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe((0,Gr.R)(this.contextMenu.ngDestroy$)).subscribe(t=>{this.activeItemKey=t,this.isActive(this.parentItemKey)&&Ln.p.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(t,i,r){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),i.disabled)this.activeItemKey=null;else{if(i.items){let c=Ln.p.findSingle(t.currentTarget,".p-submenu-list");Ln.p.addClass(c,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(r)}}onItemMouseLeave(t,i){i.disabled||this.contextMenu.el.nativeElement.contains(t.toElement)&&(i.items&&this.contextMenu.removeActiveFromSubLists(t.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(t,i,r,c){if(i.disabled)t.preventDefault();else{if(!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),i.items){let h=Ln.p.findSingle(r,".p-submenu-list");h&&(this.isActive(c)&&Ln.p.hasClass(h,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(r):Ln.p.addClass(h,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(c))}i.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(t){return this.root?String(t):this.parentItemKey+"_"+t}isActive(t){return this.activeItemKey&&(this.activeItemKey.startsWith(t+"_")||this.activeItemKey===t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>R1)))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-contextMenuSub"]],viewQuery:function(t,i){if(1&t&&(e.Gf(WM,5),e.Gf(YM,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.sublistViewChild=r.first),e.iGM(r=e.CRH())&&(i.menuitemViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["pTooltip","","role","none",3,"ngClass","ngStyle","class","tooltipOptions","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["pTooltip","","role","none",3,"ngClass","ngStyle","tooltipOptions","mouseenter","mouseleave"],["pRipple","",3,"target","ngClass","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(t,i){1&t&&(e.TgZ(0,"ul",0,1),e.YNc(2,gD,2,2,"ng-template",2),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(2,fD,!i.root)),e.xp6(2),e.Q6J("ngForOf",i.root?i.item:i.item.items))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,mn.H,ln.u,n],encapsulation:2}),n})(),R1=(()=>{class n{constructor(t,i,r,c,h,y){this.el=t,this.renderer=i,this.cd=r,this.zone=c,this.contextMenuService=h,this.config=y,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new e.vpe,this.onHide=new e.vpe,this.ngDestroy$=new Zi.x,this.preventDocumentDefault=!1}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,i=>{this.show(i),i.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,t=>{this.show(t),t.preventDefault()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):Ln.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(t){this.clearActiveItem(),this.position(t),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",this.preventDocumentDefault=!0,Ln.p.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),t&&t.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.autoZIndex&&Sn.P9.clear(this.containerViewChild.nativeElement),this.clearActiveItem(),this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&this.containerViewChild&&"block"!==this.containerViewChild.nativeElement.style.display&&Sn.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}toggle(t){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(t)}position(t){if(t){let i=t.pageX+1,r=t.pageY+1,c=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:Ln.p.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),h=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:Ln.p.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),y=Ln.p.getViewport();i+c-document.scrollingElement.scrollLeft>y.width&&(i-=c),r+h-document.scrollingElement.scrollTop>y.height&&(r-=h),i<document.scrollingElement.scrollLeft&&(i=document.scrollingElement.scrollLeft),r<document.scrollingElement.scrollTop&&(r=document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=i+"px",this.containerViewChild.nativeElement.style.top=r+"px"}}positionSubmenu(t){let i=t.parentElement.parentElement,r=Ln.p.getViewport(),c=t.offsetParent?t.offsetWidth:Ln.p.getHiddenElementOuterWidth(t),h=t.offsetHeight?t.offsetHeight:Ln.p.getHiddenElementOuterHeight(t),y=Ln.p.getOuterWidth(i.children[0]),O=Ln.p.getOuterHeight(i.children[0]),ce=Ln.p.getOffset(i.parentElement);t.style.zIndex=++Ln.p.zindex,parseInt(ce.top)+O+h>r.height-Ln.p.calculateScrollbarHeight()?(t.style.removeProperty("top"),t.style.bottom="0px"):(t.style.removeProperty("bottom"),t.style.top="0px"),t.style.left=parseInt(ce.left)+y+c>r.width-Ln.p.calculateScrollbarWidth()?-c+"px":y+"px"}isItemMatched(t){return Ln.p.hasClass(t,"p-menuitem")&&!Ln.p.hasClass(t.children[0],"p-disabled")}findNextItem(t,i){let r=t.nextElementSibling;if(r)return this.isItemMatched(r)?r:this.findNextItem(r,i);{let c=t.parentElement.children[0];return this.isItemMatched(c)?c:i?null:this.findNextItem(c,!0)}}findPrevItem(t,i){let r=t.previousElementSibling;if(r)return this.isItemMatched(r)?r:this.findPrevItem(r,i);{let c=t.parentElement.children[t.parentElement.children.length-1];return this.isItemMatched(c)?c:i?null:this.findPrevItem(c,!0)}}getActiveItem(){let t=this.contextMenuService.activeItemKey;return null==t?null:Ln.p.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+t+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(t){let i=Ln.p.find(t,".p-submenu-list-active");for(let r of i)Ln.p.removeClass(r,"p-submenu-list-active")}removeActiveFromSublist(t){t&&Ln.p.findSingle(t,".p-submenu-list")&&Ln.p.hasClass(t,"p-submenu-list-active")&&Ln.p.removeClass(t,"p-submenu-list-active")}bindGlobalListeners(){if(!this.documentClickListener){const t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(t,"click",i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&!i.ctrlKey&&2!==i.button&&this.hide()}),this.documentTriggerListener=this.renderer.listen(t,this.triggerEvent,i=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(i)&&!this.preventDocumentDefault&&this.hide(),this.preventDocumentDefault=!1})}this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{let r=this.getActiveItem();switch(i.key){case"ArrowDown":if(r)this.removeActiveFromSublist(r),r=this.findNextItem(r);else{let c=Ln.p.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;r=this.isItemMatched(c)?c:this.findNextItem(c)}r&&this.contextMenuService.changeKey(r.getAttribute("data-ik")),i.preventDefault();break;case"ArrowUp":if(r)this.removeActiveFromSublist(r),r=this.findPrevItem(r);else{let c=Ln.p.findSingle(this.containerViewChild.nativeElement,"ul"),h=c.children[c.children.length-1];r=this.isItemMatched(h)?h:this.findPrevItem(h)}r&&this.contextMenuService.changeKey(r.getAttribute("data-ik")),i.preventDefault();break;case"ArrowRight":if(r){let c=Ln.p.findSingle(r,".p-submenu-list");c&&(Ln.p.addClass(c,"p-submenu-list-active"),r=Ln.p.findSingle(c,".p-menuitem-link:not(.p-disabled)").parentElement,r&&this.contextMenuService.changeKey(r.getAttribute("data-ik")))}i.preventDefault();break;case"ArrowLeft":if(r){let c=r.parentElement;c&&Ln.p.hasClass(c,"p-submenu-list-active")&&(Ln.p.removeClass(c,"p-submenu-list-active"),r=c.parentElement.parentElement,r&&this.contextMenuService.changeKey(r.getAttribute("data-ik")))}i.preventDefault();break;case"Escape":this.hide(),i.preventDefault();break;case"Enter":r&&this.handleItemClick(i,this.findModelItemFromKey(this.contextMenuService.activeItemKey),r),i.preventDefault()}}))}findModelItemFromKey(t){return null!=t&&this.model?t.split("_").reduce((r,c)=>r?r.items[c]:this.model[c],null):null}handleItemClick(t,i,r){if(i&&!i.disabled){if(i.command&&i.command({originalEvent:t,item:i}),i.items){let c=Ln.p.findSingle(r,".p-submenu-list");c&&(Ln.p.hasClass(c,"p-submenu-list-active")?this.removeActiveFromSubLists(r):(Ln.p.addClass(c,"p-submenu-list-active"),this.positionSubmenu(c)))}i.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(t){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(t){return!(this.containerViewChild.nativeElement.isSameNode(t.target)||this.containerViewChild.nativeElement.contains(t.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.containerViewChild&&this.autoZIndex&&Sn.P9.clear(this.containerViewChild.nativeElement),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(Le.Lk),e.Y36(Le.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-contextMenu"]],viewQuery:function(t,i){if(1&t&&e.Gf(mD,5),2&t){let r;e.iGM(r=e.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"p-contextMenuSub",2),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-contextmenu p-component")("ngStyle",i.style),e.xp6(2),e.Q6J("item",i.model)("root",!0))},dependencies:[I.mk,I.PC,_D],styles:[".p-contextmenu{position:absolute;display:none}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}\n"],encapsulation:2,changeDetection:0}),n})(),CD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Le.Lk],imports:[I.ez,s.Bz,mn.T,ln.z,s.Bz,ln.z]}),n})();const vD=["taskPanel"],bD=["eventMenu"],yD=["scheduleTaskDialog"];function ID(n,o){1&n&&e.GkF(0)}function AD(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"full-calendar",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("events",t.taskEvent)("options",t.calendarOptions)}}const TD=function(){return{width:"40vw",minWidth:"min-content"}};function wD(n,o){if(1&n&&(e._UZ(0,"app-task-list-element",14),e.ALo(1,"async")),2&n){const t=e.oxw();let i;e.Akn(e.DdM(6,TD)),e.Q6J("isHover",!1)("item",null!==(i=e.lcZ(1,4,t.api.getTask(t.hoveredTask,!0)))&&void 0!==i?i:void 0)}}var Zr=(()=>{return(n=Zr||(Zr={})).RANGE="RANGE",n.START="START",n.END="END",Zr;var n})();let xD=(()=>{class n{constructor(t,i,r,c){this.api=t,this.rt=i,this.router=r,this.confirmation=c,this.taskEvent=[],this.hoveredTask=0,this.subscriptionsHolder=new it.xf,this.eventMenuModel=[],this.currentCalendarRange={start:0,end:0},this.calendarOptions={initialView:"dayGridMonth",locale:"ru",aspectRatio:1.5,selectable:!0,nowIndicator:!0,slotEventOverlap:!1,plugins:[jS,Dk,Qk,_M],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,listWeek,timeGridDay"},editable:!0,eventMouseEnter:this.openPreviewTaskPanel.bind(this),eventMouseLeave:this.hidePreviewTaskPanel.bind(this),eventDrop:this.scheduleMove.bind(this),eventResize:this.scheduleResizing.bind(this),eventClick:this.openContextOfTask.bind(this),select:this.openContextOfSelectDate.bind(this),datesSet:h=>{this.currentCalendarRange.start=h.start.getTime(),this.currentCalendarRange.end=h.end.getTime(),this.api.getScheduledTask(it.cQ.dateFormatTS(h.start),it.cQ.dateFormatTS(h.end)).pipe((0,F.U)(this.tasksToEvents.bind(this))).subscribe(y=>this.taskEvent=y)},firstDay:1,buttonText:{today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",month:"\u041c\u0435\u0441\u044f\u0446",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c"},allDayText:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c",weekText:"\u041d\u0435\u0434\u0435\u043b\u044f",moreLinkText:"\u0411\u043e\u043b\u044c\u0448\u0435",noEventsText:"\u0417\u0430\u0434\u0430\u0447 \u043d\u0435\u0442",navLinks:!0},this.scheduleType=Zr.RANGE}unscheduleTask(t){this.api.clearActualFromDate(t).subscribe(),this.api.clearActualToDate(t).subscribe()}ngOnInit(){this.subscriptionsHolder.addSubscription("updTsk",this.rt.taskUpdated().subscribe(this.updateCalendar.bind(this))),this.subscriptionsHolder.addSubscription("hidePv",(0,ha.R)(window,"mousedown").subscribe(this.hidePreviewTaskPanel.bind(this)))}ngOnDestroy(){this.subscriptionsHolder.unsubscribeAll()}openContextOfTask(t){this.eventMenuModel=[{label:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-open_in_new",command:this.openTask.bind(this,t)},{label:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",icon:"mdi-event_busy",command:this.confirmUnschedulingTask.bind(this,t)}],setTimeout(()=>{var i;null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent)})}openContextOfSelectDate(t){this.eventMenuModel=[{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d",icon:"mdi-date_range",command:this.openSelectTaskDialog.bind(this,t,Zr.RANGE)},{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0447\u0430\u043b\u043e",icon:"mdi-today",command:this.openSelectTaskDialog.bind(this,t,Zr.START)},{label:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a",icon:"mdi-free_cancellation",command:this.openSelectTaskDialog.bind(this,t,Zr.END)}],setTimeout(()=>{var i;t.jsEvent&&(null===(i=this.eventMenu)||void 0===i||i.show(t.jsEvent))})}confirmUnschedulingTask(t){if(!t.event.id)return;const i=parseInt(t.event.id);this.confirmation.confirm({header:"\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u0437 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f",message:`\u0423\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t.event.id}?`,accept:this.unscheduleTask.bind(this,i)})}openSelectTaskDialog(t,i){var r;this.scheduleType=i,this.scheduleDate=t,null===(r=this.scheduleTaskDialog)||void 0===r||r.open("single")}confirmScheduleTask(t){if(!this.scheduleDate)return;let i="";switch(this.scheduleType){case Zr.RANGE:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${it.cQ.dateFormatTS(this.scheduleDate.start)} \u043f\u043e ${it.cQ.dateFormatTS(this.scheduleDate.end)}`;break;case Zr.START:i=`\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 #${t} \u0441 ${it.cQ.dateFormatTS(this.scheduleDate.start)}`;break;case Zr.END:i=`\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0440\u043e\u043a \u0437\u0430\u0434\u0430\u0447\u0438 #${t} \u043f\u043e ${it.cQ.dateFormatTS(this.scheduleDate.end)}`}this.confirmation.confirm({header:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",message:i,accept:this.scheduleTask.bind(this,t)})}scheduleTask(t){var i,r,c,h;if(this.scheduleDate)switch(this.scheduleType){case Zr.RANGE:this.api.changeTaskActualFrom(t,null===(i=this.scheduleDate)||void 0===i?void 0:i.start).subscribe(),this.api.changeTaskActualTo(t,null===(r=this.scheduleDate)||void 0===r?void 0:r.end).subscribe();break;case Zr.START:this.api.changeTaskActualFrom(t,null===(c=this.scheduleDate)||void 0===c?void 0:c.start).subscribe();break;case Zr.END:this.api.changeTaskActualTo(t,null===(h=this.scheduleDate)||void 0===h?void 0:h.end).subscribe()}}taskToEvent(t){var i,r,c,h,y;const O={id:t.taskId.toString(),title:(null===(i=t.modelWireframe)||void 0===i?void 0:i.name)+" #"+t.taskId,start:t.actualFrom,end:t.actualTo,backgroundColor:it.cQ.stringToColor(null!==(c=null===(r=t.modelWireframe)||void 0===r?void 0:r.name)&&void 0!==c?c:"",70,95,70,90),borderColor:it.cQ.stringToColor(null!==(y=null===(h=t.modelWireframe)||void 0===h?void 0:h.name)&&void 0!==y?y:"",80,100,30,80)};return t.actualFrom||(O.start=t.actualTo,O.borderColor="#ff0000"),O}tasksToEvents(t){return t.map(this.taskToEvent.bind(this))}openPreviewTaskPanel(t){var i;this.hideTimer&&clearTimeout(this.hideTimer),this.hoveredTask=parseInt(t.event.id),null===(i=this.taskPanel)||void 0===i||i.show(t.jsEvent,t.el)}hidePreviewTaskPanel(){this.hideTimer=setTimeout(()=>{var t;null===(t=this.taskPanel)||void 0===t||t.hide()})}scheduleMove(t){this.api.moveScheduledTask(parseInt(t.event.id),t.delta).subscribe()}scheduleResizing(t){console.log(t)}updateCalendar(t){let i=this.taskEvent.findIndex(h=>parseInt(h.id)===t.taskId),r=!1,c=!1;if(t.actualFrom){const h=new Date(t.actualFrom).getTime();r=this.currentCalendarRange.start<=h&&h<=this.currentCalendarRange.end,console.log(t,r,this.currentCalendarRange)}if(t.actualTo){const h=new Date(t.actualTo).getTime();c=this.currentCalendarRange.start<=h&&h<=this.currentCalendarRange.end}(r||c)&&-1!==i?(this.taskEvent[i]=this.taskToEvent(t),this.taskEvent=[...this.taskEvent]):(r||c)&&-1===i?this.taskEvent=[...this.taskEvent,this.taskToEvent(t)]:!r&&!c&&-1!==i&&(this.taskEvent.splice(i,1),this.taskEvent=[...this.taskEvent])}openTask(t){this.router.navigate(["/task",t.event.id]).then()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Dn.U),e.Y36(s.F0),e.Y36(Le.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.Gf(vD,5),e.Gf(bD,5),e.Gf(yD,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.taskPanel=r.first),e.iGM(r=e.CRH())&&(i.eventMenu=r.first),e.iGM(r=e.CRH())&&(i.scheduleTaskDialog=r.first)}},decls:14,vars:5,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","gap10","stretched"],[4,"ngTemplateOutlet"],["calendar",""],["showTransitionOptions","0ms","hideTransitionOptions","0ms","appendTo","body",3,"dismissable"],["taskPanel",""],[3,"style","isHover","item",4,"ngIf"],["appendTo","body",3,"model"],["eventMenu",""],["header","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",3,"onlyMy","onSelected"],["scheduleTaskDialog",""],[1,"stretched"],[3,"events","options"],[3,"isHover","item"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.YNc(4,ID,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,AD,2,2,"ng-template",null,4,e.W1O),e.TgZ(7,"p-overlayPanel",5,6),e.YNc(9,wD,2,7,"app-task-list-element",7),e.qZA(),e._UZ(10,"p-contextMenu",8,9),e.TgZ(12,"app-task-selecting-dialog",10,11),e.NdJ("onSelected",function(c){return i.confirmScheduleTask(c)}),e.qZA()),2&t){const r=e.MAs(6);e.xp6(4),e.Q6J("ngTemplateOutlet",r),e.xp6(3),e.Q6J("dismissable",!0),e.xp6(2),e.Q6J("ngIf",i.hoveredTask),e.xp6(1),e.Q6J("model",i.eventMenuModel),e.xp6(2),e.Q6J("onlyMy",!0)}},dependencies:[Me,Fe.E,$e,Lo,I.O5,I.tP,Et.T,JM,R1,I.Ov]}),n})();const ED=function(){return[]};function SD(n,o){if(1&n&&(e._UZ(0,"p-dropdown",4),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw();let r;e.Q6J("formControlName",t.name)("options",null!==(r=e.lcZ(1,3,i.templates$))&&void 0!==r?r:e.DdM(5,ED))("placeholder",t.name)}}const kD=function(){return{}};function MD(n,o){if(1&n&&(e._UZ(0,"p-dropdown",7),e.ALo(1,"async")),2&n){const t=o.$implicit,i=e.oxw().$implicit,r=e.oxw();let c;e.Q6J("formControlName",t)("options",r.fieldOfWireframe((null!==(c=e.lcZ(1,3,r.templateBinds$))&&void 0!==c?c:e.DdM(5,kD))[i.name]))("placeholder",t)}}function DD(n,o){if(1&n&&(e.TgZ(0,"fieldset",5)(1,"legend"),e._uU(2),e.qZA(),e.YNc(3,MD,2,6,"p-dropdown",6),e.qZA()),2&n){const t=o.$implicit;e.Q6J("formGroupName",t.name),e.xp6(2),e.hij("\u0428\u0430\u0431\u043b\u043e\u043d: ",t.name,""),e.xp6(1),e.Q6J("ngForOf",t.fields)}}let OD=(()=>{class n{constructor(t){this.api=t,this.controls=[{name:"accident",fields:["description","address","login","phone","workReport"]},{name:"connection",fields:["address","login","phone","advertisingSource","fullName","password","takenFrom","techInfo","type"]},{name:"privateSectorRM",fields:["address","advertisingSource","name","phone","gardening"]},{name:"privateSectorVD",fields:["name","address","advertisingSource","phone","district"]}],this.selectionBindsMap={},this.templatesBindingsMap={},this.templates$=this.api.getWireframes(),this.templateLinkToBindsForm=new R.cw({accident:new R.NI(null),connection:new R.NI(null),privateSectorRM:new R.NI(null),privateSectorVD:new R.NI(null)}),this.bindingsForm=new R.cw({accident:new R.cw({description:new R.NI(""),address:new R.NI(""),login:new R.NI(""),phone:new R.NI(""),workReport:new R.NI(""),wireframe:new R.NI(null)}),connection:new R.cw({address:new R.NI(""),login:new R.NI(""),phone:new R.NI(""),advertisingSource:new R.NI(""),fullName:new R.NI(""),password:new R.NI(""),takenFrom:new R.NI(""),techInfo:new R.NI(""),type:new R.NI(""),wireframe:new R.NI(null)}),privateSectorRM:new R.cw({address:new R.NI(""),advertisingSource:new R.NI(""),name:new R.NI(""),phone:new R.NI(""),gardening:new R.NI(""),wireframe:new R.NI(null)}),privateSectorVD:new R.cw({name:new R.NI(""),address:new R.NI(""),advertisingSource:new R.NI(""),phone:new R.NI(""),district:new R.NI(""),wireframe:new R.NI(null)})}),this.templateBinds$=this.templateLinkToBindsForm.valueChanges.pipe((0,Vi.b)(i=>{const r={};Object.entries(i).forEach(c=>{r[c[0]]={},r[c[0]].wireframe=c[1]}),this.bindingsForm.patchValue(r)}),(0,F.U)(i=>Object.assign({},i))),this.onChange=i=>{},this.onTouched=()=>{}}get setOfFieldsForSelectingTemplates(){return Object.keys(this.controls)}bindEntries(t){return Object.keys(this.controls[t])}fieldOfWireframe(t){return t?t.steps.reduce((i,r)=>i.concat(r.fields),[]):[]}bindMapTrack(t,i){return i.key}ngOnInit(){this.bindingsForm.valueChanges.subscribe(t=>{console.log(t),this.onChange(t)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){t&&this.bindingsForm.patchValue(t)}changeTemplateSelection(t,i){this.selectionBindsMap[t]={binds:this.bindEntries(t),wireframe:i.value}}ngOnDestroy(){var t;null===(t=this.formSubscribtion)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tracker-bindings-input"]],features:[e._Bn([{provide:R.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:4,consts:[[1,"flexed","column","gap5",3,"formGroup"],[1,"node","flexed","gap5","column"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["class","node flexed gap5 column",3,"formGroupName",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name",3,"formControlName","options","placeholder"],[1,"node","flexed","gap5","column",3,"formGroupName"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder",4,"ngFor","ngForOf"],["appendTo","body","optionLabel","name","optionValue","id",3,"formControlName","options","placeholder"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"fieldset",1)(2,"legend"),e._uU(3,"\u0412\u044b\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043f\u043e\u0434 \u0442\u0438\u043f\u044b \u0437\u0430\u0434\u0430\u0447"),e.qZA(),e.YNc(4,SD,2,6,"p-dropdown",2),e.qZA()(),e.TgZ(5,"div",0),e.ynx(6),e.YNc(7,DD,4,3,"fieldset",3),e.BQk(),e.qZA()),2&t&&(e.Q6J("formGroup",i.templateLinkToBindsForm),e.xp6(4),e.Q6J("ngForOf",i.controls),e.xp6(1),e.Q6J("formGroup",i.bindingsForm),e.xp6(2),e.Q6J("ngForOf",i.controls))},dependencies:[I.sg,R.JJ,R.JL,Ht.Lt,R.sg,R.u,R.x0,I.Ov]}),n})();var rc=C(5871);const PD=["scroller"];function RD(n,o){1&n&&e.GkF(0)}function LD(n,o){if(1&n&&(e.TgZ(0,"div",8),e.Hsn(1),e.YNc(2,RD,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function ND(n,o){1&n&&e.GkF(0)}const yx=function(n){return{height:n}},FD=function(n,o){return{$implicit:n,options:o}};function BD(n,o){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,ND,1,0,"ng-container",11),e.qZA()),2&n){const t=o.$implicit,i=o.options,r=e.oxw();e.Q6J("ngStyle",e.VKq(3,yx,r.itemSize+"px")),e.xp6(1),e.Q6J("ngTemplateOutlet",t?r.itemTemplate:r.loadingItemTemplate)("ngTemplateOutletContext",e.WLB(5,FD,t,i))}}function HD(n,o){1&n&&e.GkF(0)}function ZD(n,o){if(1&n&&(e.TgZ(0,"div",12),e.Hsn(1,1),e.YNc(2,HD,1,0,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const VD=[[["p-header"]],[["p-footer"]]],UD=["p-header","p-footer"];let zD=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.delay=250,this.onLazyLoad=new e.vpe}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"loadingItem":this.loadingItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}onLazyItemLoad(t){this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{this.onLazyLoad.emit(Object.assign(Object.assign({},t),{rows:t.last-t.first,forceUpdate:()=>this.cd.detectChanges()}))},this.delay)}getBlockableElement(){return this.el.nativeElement.children[0]}scrollToIndex(t,i){var r;null===(r=this.scroller)||void 0===r||r.scrollToIndex(t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-virtualScroller"]],contentQueries:function(t,i,r){if(1&t&&(e.Suo(r,Le.h4,5),e.Suo(r,Le.$_,5),e.Suo(r,Le.jx,4)),2&t){let c;e.iGM(c=e.CRH())&&(i.header=c.first),e.iGM(c=e.CRH())&&(i.footer=c.first),e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&e.Gf(PD,5),2&t){let r;e.iGM(r=e.CRH())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",itemSize:"itemSize",style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:"lazy",options:"options",delay:"delay"},outputs:{onLazyLoad:"onLazyLoad"},ngContentSelectors:UD,decls:8,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["content",""],["styleClass","p-virtualscroller-list",3,"items","itemSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","item"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(t,i){1&t&&(e.F$t(VD),e.TgZ(0,"div",0),e.YNc(1,LD,3,1,"div",1),e.TgZ(2,"div",2,3)(4,"p-scroller",4,5),e.NdJ("onLazyLoad",function(c){return i.onLazyItemLoad(c)}),e.YNc(6,BD,2,8,"ng-template",6),e.qZA()(),e.YNc(7,ZD,3,1,"div",7),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-virtualscroller p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngIf",i.header||i.headerTemplate),e.xp6(3),e.Akn(e.VKq(12,yx,i.scrollHeight)),e.Q6J("items",i.value)("itemSize",i.itemSize)("lazy",i.lazy)("options",i.options),e.xp6(3),e.Q6J("ngIf",i.footer||i.footerTemplate))},dependencies:[I.mk,I.O5,I.tP,I.PC,Le.jx,rc.T],encapsulation:2}),n})(),Ix=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Le.m8,rc.v,Le.m8,rc.v]}),n})();var Ax=C(8185);const GD=["vs"];function QD(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}function JD(n,o){if(1&n&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"elapsedTime"),e.ALo(3,"elapsedTime"),e.ALo(4,"elapsedTime"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq(" ",e.gM2(2,3,null==t.parserState?null:t.parserState.elapsedTime,"\u041f\u0440\u043e\u0448\u043b\u043e ","",!0)," / ",e.gM2(3,8,null==t.parserState?null:t.parserState.averageTimePerTask,"\u041d\u0430 \u0437\u0430\u0434\u0430\u0447\u0443 ","",!0)," / ",e.gM2(4,13,null==t.parserState?null:t.parserState.remainingTime,"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ","",!0)," ")}}function jD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.startParsing())}),e.qZA()}}function WD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",22),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.stopParsing())}),e.qZA()}}function YD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.currentCorrectingStreetAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctStreet(r.streetToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.streetToCorrect[0]),e.xp6(2),e.lnq("",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].streetRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].houseRaw," ",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.streetToCorrect[1]?null:t.streetToCorrect[1].address)}}function KD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.currentCorrectingHouseAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctHouse(r.houseToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.houseToCorrect[0]),e.xp6(2),e.lnq("",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].streetRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].houseRaw," ",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.houseToCorrect[1]?null:t.houseToCorrect[1].address)}}function qD(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA(),e.TgZ(5,"app-address-input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.currentCorrectingApartAddress=r)}),e.qZA(),e.TgZ(6,"p-button",27),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.correctApart(r.apartmentToCorrect))}),e.qZA()()}if(2&n){const t=e.oxw();e.Udp("width","max-content"),e.xp6(2),e.Oqu(t.apartmentToCorrect[0]),e.xp6(2),e.lnq("",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].streetRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].houseRaw," ",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].apartRaw,""),e.xp6(1),e.Q6J("ngModel",null==t.apartmentToCorrect[1]?null:t.apartmentToCorrect[1].address)}}let $D=(()=>{class n{constructor(t,i){this.api=t,this.rt=i,this.settingsForm=new R.cw({startId:new R.NI(0,[R.kI.required]),endId:new R.NI(0,[R.kI.required]),trackerLogin:new R.NI("",[R.kI.required]),trackerPassword:new R.NI("",[R.kI.required]),trackerUrl:new R.NI("",[R.kI.required]),bindings:new R.NI({})}),this.messages=[],this.subscribes=new it.xf,this.currentCorrectingStreetAddress={},this.currentCorrectingHouseAddress={},this.currentCorrectingApartAddress={},this.listOfCorrectedStreets=[],this.listOfCorrectedHouses=[],this.listOfCorrectedApartments=[],this.streetToCorrect=[null,null],this.houseToCorrect=[null,null],this.apartmentToCorrect=[null,null]}get progress(){if(this.parserState){const{startId:t,endId:i}=this.parserState.settings,{currentTask:r}=this.parserState;if(r){const c=(r-t)/(i-t)*100;return c>100?100:parseFloat(c.toFixed(2))}}return 0}ngOnInit(){this.api.getTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this)),this.subscribes.addSubscription("updState",this.rt.updateTrackerParserState().subscribe(this.setCurrentTrackerParserState.bind(this))),this.subscribes.addSubscription("updMessages",this.rt.parserMessageReceived().subscribe(t=>{this.messages=[...this.messages,t],this.vs&&this.vs.scrollToIndex(this.messages.length,"auto")})),this.settingsForm.valueChanges.subscribe(t=>console.log(t)),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}ngOnDestroy(){this.subscribes.unsubscribeAll()}submitSaveSettings(){this.api.saveTrackerParserSettings(this.settingsForm.getRawValue()).subscribe()}startParsing(){this.api.startTrackerParser().subscribe()}stopParsing(){this.api.stopTrackerParser().subscribe(),this.api.getAddressCorrectingPool().subscribe(t=>{this.addressCorrectingPool=t,this.updateStreetToCorrect(),this.updateHouseToCorrect(),this.updateApartmentToCorrect()})}messageClass(t){return"simple-message "+t.severity.toLowerCase()}correctStreet(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(Object.entries(this.addressCorrectingPool).forEach(i=>{const[r,c]=i;null==t[0]||null==t[1]||c.streetRaw===t[1].streetRaw&&(this.addressCorrectingPool&&this.currentCorrectingStreetAddress.street&&(this.addressCorrectingPool[r].address.street=Object.assign({},this.currentCorrectingStreetAddress.street)),this.listOfCorrectedStreets=[...this.listOfCorrectedStreets,r])}),this.sendCorrectedAddress(),this.updateStreetToCorrect())}updateStreetToCorrect(){var t;this.addressCorrectingPool&&(this.streetToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[r,c]=i;return c.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(r)})[0])&&void 0!==t?t:[null,null])}updateHouseToCorrect(){var t;this.addressCorrectingPool&&(this.houseToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[r,c]=i;return c.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(r)})[0])&&void 0!==t?t:[null,null])}updateApartmentToCorrect(){var t;this.addressCorrectingPool&&(this.apartmentToCorrect=null!==(t=Object.entries(this.addressCorrectingPool).filter(i=>{const[r,c]=i;return c.types.includes("APART")&&!this.listOfCorrectedApartments.includes(r)})[0])&&void 0!==t?t:[null,null])}setCurrentTrackerParserState(t){this.parserState=t,this.settingsForm.setValue(t.settings)}correctHouse(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.houseNum=this.currentCorrectingHouseAddress.houseNum,this.addressCorrectingPool[t[0]].address.fraction=this.currentCorrectingHouseAddress.fraction,this.addressCorrectingPool[t[0]].address.build=this.currentCorrectingHouseAddress.build,this.addressCorrectingPool[t[0]].address.letter=this.currentCorrectingHouseAddress.letter,this.listOfCorrectedHouses=[...this.listOfCorrectedHouses,t[0]],this.sendCorrectedAddress(),this.updateHouseToCorrect())}correctApart(t){null==t[0]||null==t[1]||!this.addressCorrectingPool||!this.addressCorrectingPool[t[0]]||(this.addressCorrectingPool[t[0]].address.entrance=this.currentCorrectingApartAddress.entrance,this.addressCorrectingPool[t[0]].address.floor=this.currentCorrectingApartAddress.floor,this.addressCorrectingPool[t[0]].address.apartmentNum=this.currentCorrectingApartAddress.apartmentNum,this.addressCorrectingPool[t[0]].address.apartmentMod=this.currentCorrectingApartAddress.apartmentMod,this.listOfCorrectedApartments=[...this.listOfCorrectedApartments,t[0]],this.sendCorrectedAddress(),this.updateApartmentToCorrect())}gettingFullCorrectedAddress(){return this.addressCorrectingPool?Object.entries(this.addressCorrectingPool).filter(t=>{let i=!0,r=!0,c=!0;const[h,y]=t;return y.types.includes("STREET")&&!this.listOfCorrectedStreets.includes(h)&&(i=!1),y.types.includes("HOUSE")&&!this.listOfCorrectedHouses.includes(h)&&(r=!1),y.types.includes("APART")&&!this.listOfCorrectedApartments.includes(h)&&(c=!1),i&&r&&c}).reduce((t,i)=>{const[r,c]=i;return t[r]=c,t},{}):{}}sendCorrectedAddress(){const t=this.gettingFullCorrectedAddress();this.api.sendCorrectedAddress(t).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Dn.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(GD,5),2&t){let r;e.iGM(r=e.CRH())&&(i.vs=r.first)}},decls:24,vars:12,consts:[["appExtendPageHeight","",1,"flexed","gap10","p20"],[1,"flexed","column","gap10",3,"formGroup"],["formControlName","trackerUrl","pInputText","","placeholder","Url \u0422\u0440\u0435\u043a\u0435\u0440\u0430","type","text"],["formControlName","trackerLogin","pInputText","","placeholder","\u041b\u043e\u0433\u0438\u043d","type","text"],["formControlName","trackerPassword","pInputText","","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","type","text"],["formControlName","startId","placeholder","\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 id"],["formControlName","endId","placeholder","\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 id"],["icon","mdi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"disabled","onClick"],["formControlName","bindings"],[1,"flexed","column","stretched","gap10"],[1,"console",3,"value","itemSize","scrollHeight"],["vs",""],["pTemplate","item"],[1,"flexed","gap10"],[1,"stretched","flexed","column","gap3","vcenter"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[1,"full-width",3,"value"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick",4,"ngIf"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick",4,"ngIf"],["class","flexed column gap5",3,"width",4,"ngIf"],[1,"caption","size-small","wt-bold","f-color-primary"],["label","\u0421\u0442\u0430\u0440\u0442",3,"onClick"],["label","\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","styleClass","p-button-text p-button-secondary",3,"onClick"],[1,"flexed","column","gap5"],[1,"flexed","hcenter","vcenter","caption","size-big"],[1,"flexed","hcenter","vcenter","caption","size-small","wt-bold","f-color-primary"],[3,"ngModel","ngModelChange"],["label","\u041e\u0442\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"input",2)(3,"input",3)(4,"input",4)(5,"p-inputNumber",5)(6,"p-inputNumber",6),e.TgZ(7,"p-button",7),e.NdJ("onClick",function(){return i.submitSaveSettings()}),e.qZA(),e._UZ(8,"app-tracker-bindings-input",8),e.qZA(),e.TgZ(9,"div",9)(10,"p-virtualScroller",10,11),e.YNc(12,QD,2,3,"ng-template",12),e.qZA(),e.TgZ(13,"div",13)(14,"div",14),e.YNc(15,JD,5,18,"span",15),e._UZ(16,"p-progressBar",16),e.qZA(),e.TgZ(17,"span"),e.YNc(18,jD,1,0,"p-button",17),e.YNc(19,WD,1,0,"p-button",18),e.qZA()(),e.TgZ(20,"div",13),e.YNc(21,YD,7,7,"div",19),e.YNc(22,KD,7,7,"div",19),e.YNc(23,qD,7,7,"div",19),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.settingsForm),e.xp6(6),e.Q6J("disabled",!!i.parserState&&i.parserState.isRunning),e.xp6(3),e.Q6J("value",i.messages)("itemSize",29)("scrollHeight","715px"),e.xp6(5),e.Q6J("ngIf",null==i.parserState?null:i.parserState.remainingTime),e.xp6(1),e.Q6J("value",i.progress),e.xp6(2),e.Q6J("ngIf",i.parserState&&!i.parserState.isRunning),e.xp6(1),e.Q6J("ngIf",i.parserState&&i.parserState.isRunning),e.xp6(2),e.Q6J("ngIf",i.streetToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.houseToCorrect[0]),e.xp6(1),e.Q6J("ngIf",i.apartmentToCorrect[0]))},dependencies:[$e,M.Q,OD,R.Fj,R.JJ,R.JL,R.On,Le.jx,R.sg,R.u,I.O5,Ei.zx,zD,Ze.o,mt.Rn,Ax.k,Ts.t],styles:[".console[_ngcontent-%COMP%]{border-radius:.3rem;border:1px solid var(--bgc-200)}"]}),n})();const XD=["messageListEl"];function e3(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Tol(i.messageClass(t)),e.xp6(1),e.hij(" ",t.message," ")}}let t3=(()=>{class n{constructor(t,i){this.rt=t,this.api=i,this.messages=[]}ngOnInit(){this.subscription=this.rt.parserMessageReceived().subscribe(t=>{var i;this.messages.push(t),null!==(i=this.messageListEl)&&void 0!==i&&i.nativeElement&&(this.messageListEl.nativeElement.scrollTop=this.messageListEl.nativeElement.scrollHeight-this.messageListEl.nativeElement.clientHeight)})}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}messageClass(t){return"simple-message "+t.severity.toLowerCase()}startParse(){this.api.startAddressParse().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Dn.U),e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(XD,5),2&t){let r;e.iGM(r=e.CRH())&&(i.messageListEl=r.first)}},decls:6,vars:2,consts:[["appExtendPageHeight","",1,"flexed","column",3,"limited"],[1,"list-view","p20"],["messageListEl",""],[4,"ngFor","ngForOf"],[1,"flexed","vend","p10"],["styleClass","p-button-success","label","\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0430",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,e3,3,3,"div",3),e.qZA(),e.TgZ(4,"div",4)(5,"p-button",5),e.NdJ("onClick",function(){return i.startParse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(3),e.Q6J("ngForOf",i.messages))},dependencies:[$e,I.sg,Ei.zx]}),n})();function n3(n,o){if(1&n&&(e.TgZ(0,"th",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function o3(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,n3,2,1,"th",17),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function s3(n,o){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}function r3(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,s3,2,1,"td",19),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}let a3=(()=>{class n{constructor(t){this.api=t,this.filtrationForm=new R.cw({date:new R.NI(new Date),position:new R.NI(null)}),this.subscriptions=new it.xf,this.mainTableColumns=[],this.tableRow=[],this.salaryRows=[],this.positions=[],this.tableLoadHandler={next:i=>{this.salaryRows=i;for(const r of i){const c=[r.employee.fullName];for(let h=0;h<this.numberDaysOfMonth;h++){const y=r.salaryPoints.filter(O=>new Date(O.date).getDate()===h+1);c.push(y.length>0?y.reduce((O,ce)=>O+ce.value,0).toString():"0")}c.push(r.sum.toString()),this.tableRow.push(c)}},error:()=>{}},this.filtrationHandler={next:i=>{this.mainTableColumns=["\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"];for(let r=0;r<this.numberDaysOfMonth;r++)this.mainTableColumns.push((r+1).toString());this.tableRow=[],this.mainTableColumns.push("\u0421\u0443\u043c\u043c\u0430"),this.api.getSalaryTable(this.filtrationForm.value).subscribe(this.tableLoadHandler)},error:()=>{}},this.positionsLoadHandler={next:i=>{this.positions=i.map(r=>({value:r.positionId,label:r.name})),this.filtrationForm.patchValue({position:this.positions[0].value})},error:()=>{}}}get numberDaysOfMonth(){return this.filtrationForm.value.date?new Date(this.filtrationForm.value.date.getFullYear(),this.filtrationForm.value.date.getMonth()+1,0).getDate():0}get totalSalary(){return this.salaryRows.reduce((t,i)=>t+i.sum,0)}ngOnInit(){this.api.getPositions().subscribe(this.positionsLoadHandler),this.subscriptions.addSubscription("flCh",this.filtrationForm.valueChanges.subscribe(this.filtrationHandler))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:24,vars:6,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"flexed","gap10"],[1,"flexed","column","gap15","stretched"],[1,"flexed","column","panel","overflow"],[1,"flexed","gap10","p5",3,"formGroup"],[1,"p-inputgroup","w-max"],[1,"p-inputgroup-addon"],[1,"mdi-calendar_month"],["view","month","inputStyleClass","border-noround-left","appendTo","body","dateFormat","MM yy","formControlName","date",3,"readonlyInput"],[1,"flexed","gap5","hcenter"],[1,"caption","wt-black","f-color-500","size-small","with-icon"],[1,"mdi-group"],["formControlName","position","placeholder","\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",3,"options"],["styleClass","p-datatable-sm",3,"columns","value"],["pTemplate","header"],["pTemplate","body"],[1,"flexed","gap5","vend","caption","size-big","wt-tiny","p10"],["class","caption size-tiny",4,"ngFor","ngForOf"],[1,"caption","size-tiny"],["class","caption size-tiny f-inline",4,"ngFor","ngForOf"],[1,"caption","size-tiny","f-inline"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"span",6),e._UZ(8,"i",7),e.qZA(),e._UZ(9,"p-calendar",8),e.qZA(),e.TgZ(10,"div",9)(11,"span",10),e._UZ(12,"i",11),e.TgZ(13,"span"),e._uU(14,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),e.qZA()(),e._UZ(15,"p-dropdown",12),e.qZA()(),e.TgZ(16,"p-table",13),e.YNc(17,o3,2,1,"ng-template",14),e.YNc(18,r3,2,1,"ng-template",15),e.qZA(),e.TgZ(19,"div",16)(20,"span"),e._uU(21,"\u0418\u0442\u043e\u0433:"),e.qZA(),e.TgZ(22,"span"),e._uU(23),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.filtrationForm),e.xp6(4),e.Q6J("readonlyInput",!0),e.xp6(6),e.Q6J("options",i.positions),e.xp6(1),e.Q6J("columns",i.mainTableColumns)("value",i.tableRow),e.xp6(7),e.hij("",i.totalSalary," \u0440\u0443\u0431."))},dependencies:[Me,$e,R.JJ,R.JL,Le.jx,I.sg,R.sg,R.u,Ht.Lt,ho.f,Dc.iA]}),n})();var l3=C(9841);function c3(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," (\u0443\u0434\u0430\u043b\u0435\u043d) "),e.qZA())}function u3(n,o){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function d3(n,o){1&n&&(e.TgZ(0,"span",28),e._uU(1," \u0411\u0435\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f "),e.qZA())}function p3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"p-button",31),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.openCreationDialog(r))}),e.qZA(),e.TgZ(2,"p-button",32),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.deletePaidAction(r.paidActionId))}),e.qZA()()}}function h3(n,o){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"span",19)(3,"span"),e._uU(4),e.qZA(),e.YNc(5,c3,2,0,"span",20),e.qZA(),e.YNc(6,u3,2,1,"span",21),e.YNc(7,d3,2,0,"span",20),e.qZA(),e.YNc(8,p3,3,0,"div",22),e.TgZ(9,"div",23)(10,"span",24),e._uU(11),e.ALo(12,"currency"),e.ALo(13,"unitName"),e.qZA(),e._UZ(14,"app-employee-label",25)(15,"div",26),e.TgZ(16,"span",27),e._uU(17),e.ALo(18,"date"),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.deleted),e.xp6(1),e.Q6J("ngIf",t.description),e.xp6(1),e.Q6J("ngIf",!t.description),e.xp6(1),e.Q6J("ngIf",!t.deleted),e.xp6(3),e.AsE(" ",e.xi3(12,9,t.cost,"RUB"),"/",e.lcZ(13,12,t.unit)," "),e.xp6(3),e.Q6J("employee",t.creator),e.xp6(3),e.hij(" ",e.xi3(18,14,t.created,"dd MMMM yyyy HH:mm")," ")}}function g3(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,h3,19,17,"div",16),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",null==t.paidActionsPage?null:t.paidActionsPage.content)("ngForTrackBy",t.trackByPaidAction)}}function f3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",33),e._UZ(2,"p-progressSpinner",34),e.qZA(),e.BQk())}function m3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._UZ(2,"span",36),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()(),e.BQk())}function _3(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",37),e._UZ(2,"span",38),e.TgZ(3,"span"),e._uU(4,"\u041f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043d\u0435 \u043d\u0430\u0438\u0306\u0434\u0435\u043d\u043d\u043e"),e.qZA()(),e.BQk())}function C3(n,o){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"unitName"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" \u0411\u0435\u0437 \u041d\u0414\u0424\u041b: ",e.xi3(2,2,t.withoutNDFL,"RUB"),"/",e.lcZ(3,5,t.createForm.value.unit)," ")}}function v3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",49),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function b3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",50),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.editPaidAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Udp("place-self","flex-end"),e.Q6J("loading",t.beginCreate)}}function y3(n,o){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"input",40)(2,"textarea",41)(3,"p-inputNumber",42)(4,"p-dropdown",43),e.TgZ(5,"div",44),e.YNc(6,C3,4,7,"span",45),e._UZ(7,"div",26),e.YNc(8,v3,1,3,"p-button",46),e.YNc(9,b3,1,3,"p-button",47),e.qZA()()),2&n){const t=e.oxw();e.Udp("margin-top",".2rem"),e.Q6J("formGroup",t.createForm),e.xp6(1),e.Udp("max-width","15rem"),e.xp6(1),e.Q6J("autoResize",!0)("cols",50)("rows",5),e.xp6(1),e.Q6J("maxFractionDigits",1),e.xp6(1),e.Q6J("options",t.typeOptions),e.xp6(1),e.Q6J("ngSwitch",t.createDialogMode),e.xp6(1),e.Q6J("ngIf",t.withoutNDFL>0&&t.createForm.value.unit),e.xp6(2),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}const I3=function(){return{grid:"1fr min-content/1fr",marginBottom:"1rem"}};let A3=(()=>{class n{constructor(t,i,r,c,h){this.api=t,this.rt=i,this.route=r,this.router=c,this.confirm=h,this.loadingState=ft.Gu.LOADING,this.subscriptions=new it.xf,this.filterForm=new R.cw({nameQuery:new R.NI(""),includeDeleted:new R.NI(!1)}),this.page=0,this.createDialogVisible=!1,this.createDialogMode="create",this.createForm=new R.cw({name:new R.NI("",[R.kI.required]),description:new R.NI(""),cost:new R.NI(0,[R.kI.required]),unit:new R.NI("",[R.kI.required])}),this.typeOptions=[{label:"\u0417\u0430 \u0448\u0442\u0443\u043a\u0443",value:ft.b9.AMOUNT},{label:"\u0417\u0430 \u043c\u0435\u0442\u0440",value:ft.b9.METRES},{label:"\u0417\u0430 \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c",value:ft.b9.KILOGRAMS}],this.beginCreate=!1}get withoutNDFL(){return this.createForm.value.cost?Math.round(this.createForm.value.cost-.13*this.createForm.value.cost):0}unitName(t){switch(t){case ft.b9.AMOUNT:return"\u0448\u0442.";case ft.b9.METRES:return"\u043c\u0435\u0442\u0440";case ft.b9.KILOGRAMS:return"\u043a\u0433."}}get createDialogHeader(){return"create"===this.createDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}trackByPaidAction(t,i){return i.paidActionId+i.name+i.description+i.cost+i.unit}ngOnInit(){this.filterForm.valueChanges.pipe((0,ri.b)(1e3),(0,mi.x)()).pipe((0,F.U)(r=>{let c={includeDeleted:r.includeDeleted};return r.nameQuery&&(c.nameQuery=r.nameQuery),this.page=0,c})).subscribe(r=>{this.router.navigate(["."],{relativeTo:this.route,queryParams:r}).then()});const t=this.route.params.pipe((0,mi.x)()),i=this.route.queryParams.pipe((0,mi.x)());(0,l3.a)([t,i]).subscribe(([r,c])=>{var h;this.loadingState=ft.Gu.LOADING,this.filterForm.patchValue({nameQuery:null!==(h=c.nameQuery)&&void 0!==h?h:"",includeDeleted:"true"===c.includeDeleted}),this.api.getPageOfPaidActions(r.page-1,c).subscribe({next:y=>{this.loadingState=y.totalElements>0?ft.Gu.READY:ft.Gu.EMPTY,this.paidActionsPage=y},error:()=>this.loadingState=ft.Gu.ERROR,complete:()=>{this.page=r.page||0}})}),this.subscriptions.addSubscription("paCr",this.rt.paidActionCreated().subscribe(r=>{var c,h,y;null!==(c=this.paidActionsPage)&&void 0!==c&&c.content.find(ce=>ce.identifier===r.identifier)||(null===(h=this.paidActionsPage)||void 0===h||h.content.unshift(r),this.paidActionsPage&&this.paidActionsPage.content.length>25&&(null===(y=this.paidActionsPage)||void 0===y||y.content.pop()))})),this.subscriptions.addSubscription("paEd",this.rt.paidActionUpdated().subscribe(r=>{if(!this.paidActionsPage)return;const c=this.paidActionsPage.content.findIndex(h=>h.identifier===r.identifier);-1!==c&&(this.paidActionsPage.content[c]=r)})),this.subscriptions.addSubscription("paDe",this.rt.paidActionDeleted().subscribe(r=>{if(!this.paidActionsPage)return;const c=this.paidActionsPage.content.findIndex(h=>h.identifier===r.identifier);-1!==c&&(this.paidActionsPage.content.splice(c,1),this.paidActionsPage.totalElements--)}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}changePage(t){this.router.navigate(["/salary","paid-actions",t+1],{queryParamsHandling:"merge"})}openCreationDialog(t){var i;this.createForm.reset(),this.createDialogMode=t?"edit":"create",this.editingPaidActionId=null==t?void 0:t.paidActionId,t&&this.createForm.setValue({name:t.name,description:null!==(i=t.description)&&void 0!==i?i:"",cost:t.cost,unit:t.unit}),this.createDialogVisible=!0}createPaidAction(){this.createForm.valid&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.createPaidAction(this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}editPaidAction(){this.createForm.valid&&this.editingPaidActionId&&(this.createForm.disable({emitEvent:!1}),this.beginCreate=!0,this.api.editPaidAction(this.editingPaidActionId,this.createForm.value).subscribe({next:()=>{this.createForm.enable({emitEvent:!1}),this.createDialogVisible=!1,this.beginCreate=!1},error:()=>{this.createForm.enable({emitEvent:!1}),this.beginCreate=!1}}))}deletePaidAction(t){this.confirm.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",accept:()=>{this.api.deletePaidAction(t).subscribe()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Dn.U),e.Y36(s.gz),e.Y36(s.F0),e.Y36(Le.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:19,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"grided","gap10","stretched"],[1,"flexed","gap10","panel","p10","vcenter",3,"formGroup"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["formControlName","nameQuery","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","includeDeleted","offIcon","mdi-visibility","offLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435","onIcon","mdi-visibility_off","onLabel","\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"onClick"],[1,"grided","panel","p10",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"first","rows","totalRecords","onPageChange"],["appendTo","body",3,"visible","draggable","header","modal","resizable","visibleChange"],["pTemplate","content"],[1,"flexed","column"],["class","flexed p10 gap10 h-fit split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","p10","gap10","h-fit","split-line"],[1,"flexed","column","stretched"],[1,"caption","size-big","flexed","hcenter","gap3"],["class","caption size-small f-color-500",4,"ngIf"],["class","caption size-small",4,"ngIf"],["class","flexed column gap5",4,"ngIf"],[1,"flexed","column","gap5","vend","hstart"],[1,"caption"],[3,"employee"],[1,"stretched"],[1,"caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","f-color-500"],[1,"caption","size-small"],[1,"flexed","column","gap5"],["icon","mdi-edit","styleClass","p-button-warning p-button-icon p-button-outlined",3,"onClick"],["icon","mdi-delete","styleClass","p-button-danger p-button-icon p-button-outlined",3,"onClick"],[1,"grided","vcenter","hcenter"],["strokeWidth","1",1,"primary-spinner"],[1,"caption","size-big","wt-bold","f-color-danger","grided","vcenter","hcenter"],[1,"mds-error"],[1,"caption","size-big","wt-bold","f-color-500","grided","vcenter","hcenter"],[1,"mds-search_off"],[1,"grided","gap10",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435...","type","text"],["formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435...",3,"autoResize","cols","rows"],["currency","RUB","formControlName","cost","locale","ru-RU","mode","currency","placeholder","\u0421\u0443\u043c\u043c\u0430...",3,"maxFractionDigits"],["appendTo","body","formControlName","unit","placeholder","\u0422\u0438\u043f",3,"options"],[1,"flexed","hcenter",3,"ngSwitch"],["class","caption size-big f-color-500",4,"ngIf"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","place-self","onClick",4,"ngSwitchCase"],[1,"caption","size-big","f-color-500"],["icon","mdi-add","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"],["icon","mdi-pencil","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-success",3,"loading","onClick"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4)(6,"span",5),e._UZ(7,"i",6),e.qZA(),e._UZ(8,"input",7),e.qZA(),e._UZ(9,"p-toggleButton",8),e.TgZ(10,"p-button",9),e.NdJ("onClick",function(){return i.openCreationDialog()}),e.qZA()(),e.TgZ(11,"div",10),e.YNc(12,g3,3,2,"ng-container",11),e.YNc(13,f3,3,0,"ng-container",11),e.YNc(14,m3,5,0,"ng-container",11),e.YNc(15,_3,5,0,"ng-container",11),e.TgZ(16,"p-paginator",12),e.NdJ("onPageChange",function(c){return i.changePage(c.page)}),e.qZA()()()()(),e.TgZ(17,"p-dialog",13),e.NdJ("visibleChange",function(c){return i.createDialogVisible=c}),e.YNc(18,y3,10,14,"ng-template",14),e.qZA()),2&t){let r;e.xp6(3),e.Udp("grid","min-content 1fr/1fr"),e.xp6(1),e.Q6J("formGroup",i.filterForm),e.xp6(7),e.Akn(e.DdM(18,I3)),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("first",25*(i.page-1))("rows",25)("totalRecords",null!==(r=null==i.paidActionsPage?null:i.paidActionsPage.totalElements)&&void 0!==r?r:0),e.xp6(1),e.Q6J("visible",i.createDialogVisible)("draggable",!1)("header",i.createDialogHeader)("modal",!0)("resizable",!1)}},dependencies:[Me,$e,Ri.x,R.Fj,R.JJ,R.JL,Le.jx,I.sg,qi.V,R.sg,R.u,Ht.Lt,p,I.O5,j.g,Ei.zx,I.RF,I.n9,Ze.o,hn.G,Wo.D,mt.Rn,I.uU,gh,I.H9]}),n})();const Tx=function(n){return{"p-treenode-droppoint-active":n}};function T3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPoint(r,-1))})("dragover",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragOver(r))})("dragenter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragEnter(r,-1))})("dragleave",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragLeave(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,Tx,t.draghoverPrev))}}const w3=function(n){return{"p-checkbox-disabled":n}},x3=function(n,o){return{"p-highlight":n,"p-indeterminate":o}},E3=function(n,o){return{"pi-check":n,"pi-minus":o}};function S3(n,o){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._UZ(2,"span",15),e.qZA()()),2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,w3,!1===t.node.selectable)),e.uIk("aria-checked",t.isSelected()),e.xp6(1),e.Q6J("ngClass",e.WLB(6,x3,t.isSelected(),t.node.partialSelected)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,E3,t.isSelected(),t.node.partialSelected))}}function k3(n,o){if(1&n&&e._UZ(0,"span"),2&n){const t=e.oxw(3);e.Tol(t.getIcon())}}function M3(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.node.label)}}function D3(n,o){1&n&&e.GkF(0)}const wx=function(n){return{$implicit:n}};function O3(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,D3,1,0,"ng-container",16),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,wx,t.node))}}function P3(n,o){if(1&n&&e._UZ(0,"p-treeNode",19),2&n){const t=o.$implicit,i=o.first,r=o.last,c=o.index,h=e.oxw(4);e.Q6J("node",t)("parentNode",h.node)("firstChild",i)("lastChild",r)("index",c)("itemSize",h.itemSize)("level",h.level+1)}}function R3(n,o){if(1&n&&(e.TgZ(0,"ul",17),e.YNc(1,P3,1,7,"p-treeNode",18),e.qZA()),2&n){const t=e.oxw(3);e.Udp("display",t.node.expanded?"block":"none"),e.xp6(1),e.Q6J("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}const L3=function(n,o){return["p-treenode",n,o]},xx=function(n){return{height:n}},N3=function(n,o,t){return{"p-treenode-selectable":n,"p-treenode-dragover":o,"p-highlight":t}},F3=function(n,o){return{"pi-chevron-right":n,"pi-chevron-down":o}};function B3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",5)(1,"div",6),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeClick(r))})("contextmenu",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeRightClick(r))})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onNodeTouchEnd())})("drop",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropNode(r))})("dragover",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropNodeDragOver(r))})("dragenter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropNodeDragEnter(r))})("dragleave",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropNodeDragLeave(r))})("dragstart",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDragStart(r))})("dragend",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDragStop(r))})("keydown",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onKeyDown(r))}),e.TgZ(2,"button",7),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggle(r))}),e._UZ(3,"span",8),e.qZA(),e.YNc(4,S3,3,12,"div",9),e.YNc(5,k3,1,2,"span",3),e.TgZ(6,"span",10),e.YNc(7,M3,2,1,"span",11),e.YNc(8,O3,2,4,"span",11),e.qZA()(),e.YNc(9,R3,2,4,"ul",12),e.qZA()}if(2&n){const t=e.oxw(2);e.Akn(t.node.style),e.Q6J("ngClass",e.WLB(20,L3,t.node.styleClass||"",t.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.VKq(23,xx,t.itemSize+"px")),e.xp6(1),e.Udp("padding-left",t.level*t.indentation+"rem"),e.Q6J("draggable",t.tree.draggableNodes)("ngClass",e.kEZ(25,N3,t.tree.selectionMode&&!1!==t.node.selectable,t.draghoverNode,t.isSelected())),e.uIk("tabindex",0)("aria-posinset",t.index+1)("aria-expanded",t.node.expanded)("aria-selected",t.isSelected())("aria-label",t.node.label),e.xp6(1),e.uIk("aria-label",t.tree.togglerAriaLabel),e.xp6(1),e.Q6J("ngClass",e.WLB(29,F3,!t.node.expanded,t.node.expanded)),e.xp6(1),e.Q6J("ngIf","checkbox"==t.tree.selectionMode),e.xp6(1),e.Q6J("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.tree.virtualScroll&&t.node.children&&t.node.expanded)}}function H3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPoint(r,1))})("dragover",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragOver(r))})("dragenter",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragEnter(r,1))})("dragleave",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onDropPointDragLeave(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,Tx,t.draghoverNext))}}const Ex=function(n){return{"p-treenode-connector-line":n}};function Z3(n,o){if(1&n&&(e.TgZ(0,"td",25)(1,"table",26)(2,"tbody")(3,"tr"),e._UZ(4,"td",27),e.qZA(),e.TgZ(5,"tr"),e._UZ(6,"td",27),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngClass",e.VKq(2,Ex,!t.firstChild)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,Ex,!t.lastChild))}}const V3=function(n,o){return{"pi-plus":n,"pi-minus":o}};function U3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",28),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(3);return e.KtG(c.toggle(r))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.WLB(2,V3,!t.node.expanded,t.node.expanded)),e.uIk("aria-label",t.tree.togglerAriaLabel)}}function z3(n,o){if(1&n&&e._UZ(0,"span"),2&n){const t=e.oxw(3);e.Tol(t.getIcon())}}function G3(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.node.label)}}function Q3(n,o){1&n&&e.GkF(0)}function J3(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,Q3,1,0,"ng-container",16),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,wx,t.node))}}function j3(n,o){if(1&n&&e._UZ(0,"p-treeNode",32),2&n){const i=o.first,r=o.last;e.Q6J("node",o.$implicit)("firstChild",i)("lastChild",r)}}function W3(n,o){if(1&n&&(e.TgZ(0,"td",29)(1,"div",30),e.YNc(2,j3,1,3,"p-treeNode",31),e.qZA()()),2&n){const t=e.oxw(3);e.Udp("display",t.node.expanded?"table-cell":"none"),e.xp6(2),e.Q6J("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}const Y3=function(n){return{"p-treenode-collapsed":n}},K3=function(n,o){return{"p-treenode-selectable":n,"p-highlight":o}};function q3(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"table")(1,"tbody")(2,"tr"),e.YNc(3,Z3,7,6,"td",20),e.TgZ(4,"td",21)(5,"div",22),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeClick(r))})("contextmenu",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeRightClick(r))})("touchend",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onNodeTouchEnd())})("keydown",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onNodeKeydown(r))}),e.YNc(6,U3,1,5,"span",23),e.YNc(7,z3,1,2,"span",3),e.TgZ(8,"span",10),e.YNc(9,G3,2,1,"span",11),e.YNc(10,J3,2,4,"span",11),e.qZA()()(),e.YNc(11,W3,3,4,"td",24),e.qZA()()()}if(2&n){const t=e.oxw(2);e.Tol(t.node.styleClass),e.xp6(3),e.Q6J("ngIf",!t.root),e.xp6(1),e.Q6J("ngClass",e.VKq(10,Y3,!t.node.expanded)),e.xp6(1),e.Q6J("ngClass",e.WLB(12,K3,t.tree.selectionMode,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.isLeaf()),e.xp6(1),e.Q6J("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.expanded)}}function $3(n,o){if(1&n&&(e.YNc(0,T3,1,3,"li",1),e.YNc(1,B3,10,32,"li",2),e.YNc(2,H3,1,3,"li",1),e.YNc(3,q3,12,15,"table",3)),2&n){const t=e.oxw();e.Q6J("ngIf",t.tree.droppableNodes),e.xp6(1),e.Q6J("ngIf",!t.tree.horizontal),e.xp6(1),e.Q6J("ngIf",t.tree.droppableNodes&&t.lastChild),e.xp6(1),e.Q6J("ngIf",t.tree.horizontal)}}const X3=["filter"],e2=["scroller"],t2=["wrapper"];function n2(n,o){if(1&n&&(e.TgZ(0,"div",9),e._UZ(1,"i"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function o2(n,o){1&n&&e.GkF(0)}function s2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"input",11,12),e.NdJ("keydown.enter",function(r){return r.preventDefault()})("input",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c._filter(r.target.value))}),e.qZA(),e._UZ(3,"span",13),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.uIk("placeholder",t.filterPlaceholder)}}function r2(n,o){if(1&n&&e._UZ(0,"p-treeNode",20),2&n){const t=o.$implicit,i=o.first,r=o.last,c=o.index,h=e.oxw(2).options,y=e.oxw(3);e.Q6J("level",t.level)("rowNode",t)("node",t.node)("firstChild",i)("lastChild",r)("index",y.getIndex(h,c))("itemSize",h.itemSize)("indentation",y.indentation)}}function a2(n,o){if(1&n&&(e.TgZ(0,"ul",18),e.YNc(1,r2,1,8,"p-treeNode",19),e.qZA()),2&n){const t=e.oxw(),i=t.options,r=t.$implicit,c=e.oxw(3);e.Akn(i.contentStyle),e.Q6J("ngClass",i.contentStyleClass),e.uIk("aria-label",c.ariaLabel)("aria-labelledby",c.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",r)("ngForTrackBy",c.trackBy)}}function l2(n,o){1&n&&e.YNc(0,a2,2,7,"ul",17),2&n&&e.Q6J("ngIf",o.$implicit)}function c2(n,o){1&n&&e.GkF(0)}const u2=function(n){return{options:n}};function d2(n,o){if(1&n&&e.YNc(0,c2,1,0,"ng-container",22),2&n){const t=o.options,i=e.oxw(4);e.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,u2,t))}}function p2(n,o){1&n&&(e.ynx(0),e.YNc(1,d2,1,4,"ng-template",21),e.BQk())}function h2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-scroller",14,15),e.NdJ("onScroll",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onScroll.emit(r))})("onScrollIndexChange",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onScrollIndexChange.emit(r))})("onLazyLoad",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onLazyLoad.emit(r))}),e.YNc(2,l2,1,1,"ng-template",16),e.YNc(3,p2,2,0,"ng-container",7),e.qZA()}if(2&n){const t=e.oxw(2);e.Akn(e.VKq(7,xx,t.scrollHeight)),e.Q6J("items",t.serializedValue)("itemSize",t.virtualScrollItemSize||t._virtualNodeHeight)("lazy",t.lazy)("options",t.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",t.loaderTemplate)}}function g2(n,o){if(1&n&&e._UZ(0,"p-treeNode",28),2&n){const i=o.first,r=o.last,c=o.index;e.Q6J("node",o.$implicit)("firstChild",i)("lastChild",r)("index",c)("level",0)}}function f2(n,o){if(1&n&&(e.TgZ(0,"ul",26),e.YNc(1,g2,1,5,"p-treeNode",27),e.qZA()),2&n){const t=e.oxw(3);e.uIk("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",t.getRootNode())("ngForTrackBy",t.trackBy)}}function m2(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",23,24),e.YNc(3,f2,2,4,"ul",25),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Udp("max-height",t.scrollHeight),e.xp6(2),e.Q6J("ngIf",t.getRootNode())}}function _2(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function C2(n,o){1&n&&e.GkF(0,null,31)}function v2(n,o){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,_2,2,1,"ng-container",30),e.YNc(2,C2,2,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function b2(n,o){1&n&&e.GkF(0)}const y2=function(n,o,t,i){return{"p-tree p-component":!0,"p-tree-selectable":n,"p-treenode-dragover":o,"p-tree-loading":t,"p-tree-flex-scrollable":i}};function I2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("drop",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onDrop(r))})("dragover",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onDragOver(r))})("dragenter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onDragEnter())})("dragleave",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onDragLeave(r))}),e.YNc(1,n2,2,2,"div",3),e.YNc(2,o2,1,0,"ng-container",4),e.YNc(3,s2,4,1,"div",5),e.YNc(4,h2,4,9,"p-scroller",6),e.YNc(5,m2,4,3,"ng-container",7),e.YNc(6,v2,3,3,"div",8),e.YNc(7,b2,1,0,"ng-container",4),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.l5B(11,y2,t.selectionMode,t.dragHover,t.loading,"flex"===t.scrollHeight))("ngStyle",t.style),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(1),e.Q6J("ngIf",t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.loading&&(null==t.getRootNode()||0===t.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}function A2(n,o){1&n&&e.GkF(0)}function T2(n,o){if(1&n&&(e.TgZ(0,"div",34),e._UZ(1,"i"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Tol("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function w2(n,o){if(1&n&&(e.TgZ(0,"table"),e._UZ(1,"p-treeNode",35),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("node",t.value[0])("root",!0)}}function x2(n,o){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function E2(n,o){1&n&&e.GkF(0,null,31)}function S2(n,o){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,x2,2,1,"ng-container",30),e.YNc(2,E2,2,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function k2(n,o){1&n&&e.GkF(0)}const M2=function(n){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":n}};function D2(n,o){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,A2,1,0,"ng-container",4),e.YNc(2,T2,2,2,"div",33),e.YNc(3,w2,2,2,"table",7),e.YNc(4,S2,3,3,"div",8),e.YNc(5,k2,1,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.VKq(9,M2,t.selectionMode))("ngStyle",t.style),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",t.value&&t.value[0]),e.xp6(1),e.Q6J("ngIf",!t.loading&&(null==t.getRootNode()||0===t.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}let O2=(()=>{class n{constructor(t){this.tree=t}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let t;return t=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,n.ICON_CLASS+" "+t}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(t){this.node.expanded?this.collapse(t):this.expand(t)}expand(t){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:t,node:this.node})}collapse(t){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:t,node:this.node})}onNodeClick(t){this.tree.onNodeClick(t,this.node)}onNodeKeydown(t){13===t.which&&this.tree.onNodeClick(t,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(t){this.tree.onNodeRightClick(t,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(t,i){t.preventDefault();let r=this.tree.dragNode,y=this.tree.dragNodeTree!==this.tree||1===i||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(r,this.node,this.tree.dragNodeScope)&&y){let O=Object.assign({},this.createDropPointEventMetadata(i));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:r,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(O)}}):(this.processPointDrop(O),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:r,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(t){let i=t.dropNode.parent?t.dropNode.parent.children:this.tree.value;t.dragNodeSubNodes.splice(t.dragNodeIndex,1);let r=this.index;t.position<0?(r=t.dragNodeSubNodes===i?t.dragNodeIndex>t.index?t.index:t.index-1:t.index,i.splice(r,0,t.dragNode)):(r=i.length,i.push(t.dragNode)),this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:t.dragNodeIndex})}createDropPointEventMetadata(t){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:t}}onDropPointDragOver(t){t.dataTransfer.dropEffect="move",t.preventDefault()}onDropPointDragEnter(t,i){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(i<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(t){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(t){this.tree.draggableNodes&&!1!==this.node.draggable?(t.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):t.preventDefault()}onDragStop(t){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(t){t.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(t.preventDefault(),t.stopPropagation())}onDropNode(t){if(this.tree.droppableNodes&&!1!==this.node.droppable){let i=this.tree.dragNode;if(this.tree.allowDrop(i,this.node,this.tree.dragNodeScope)){let r=Object.assign({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(r)}}):(this.processNodeDrop(r),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:this.node,index:this.index}))}}t.preventDefault(),t.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(t){let i=t.dragNodeIndex;t.dragNodeSubNodes.splice(i,1),t.dropNode.children?t.dropNode.children.push(t.dragNode):t.dropNode.children=[t.dragNode],this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:i})}onDropNodeDragEnter(t){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(t){if(this.tree.droppableNodes){let i=t.currentTarget.getBoundingClientRect();(t.x>i.left+i.width||t.x<i.left||t.y>=Math.floor(i.top+i.height)||t.y<i.top)&&(this.draghoverNode=!1)}}onKeyDown(t){const i=t.target.parentElement.parentElement;if(!("P-TREENODE"!==i.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild.nativeElement.style.display))switch(t.which){case 40:const r=this.tree.droppableNodes?i.children[1].children[1]:i.children[0].children[1];if(r&&r.children.length>0)this.focusNode(r.children[0]);else{const c=i.nextElementSibling;if(c)this.focusNode(c);else{let h=this.findNextSiblingOfAncestor(i);h&&this.focusNode(h)}}t.preventDefault();break;case 38:if(i.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(i.previousElementSibling));else{let c=this.getParentNodeElement(i);c&&this.focusNode(c)}t.preventDefault();break;case 39:!this.node.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(t),t.preventDefault();break;case 37:if(this.node.expanded)this.collapse(t);else{let c=this.getParentNodeElement(i);c&&this.focusNode(c)}t.preventDefault();break;case 13:this.tree.onNodeClick(t,this.node),t.preventDefault()}}findNextSiblingOfAncestor(t){let i=this.getParentNodeElement(t);return i?i.nextElementSibling?i.nextElementSibling:this.findNextSiblingOfAncestor(i):null}findLastVisibleDescendant(t){const r=Array.from(t.children).find(c=>Ln.p.hasClass(c,"p-treenode")).children[1];return r&&r.children.length>0?this.findLastVisibleDescendant(r.children[r.children.length-1]):t}getParentNodeElement(t){const i=t.parentElement.parentElement.parentElement;return"P-TREENODE"===i.tagName?i:null}focusNode(t){this.tree.droppableNodes?t.children[1].children[0].focus():t.children[0].children[0].focus()}}return n.ICON_CLASS="p-treenode-icon ",n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>L1)))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation",itemSize:"itemSize"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","style",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass","ngStyle"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[1,"p-tree-toggler-icon","pi","pi-fw",3,"ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],[4,"ngIf"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon","pi",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],["class","p-tree-toggler pi pi-fw",3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[1,"p-tree-toggler","pi","pi-fw",3,"ngClass","click"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(t,i){1&t&&e.YNc(0,$3,4,4,"ng-template",0),2&t&&e.Q6J("ngIf",i.node)},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC,mn.H,n],encapsulation:2}),n})(),L1=(()=>{class n{constructor(t,i,r){this.el=t,this.dragDropService=i,this.config=r,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="",this.filterBy="label",this.filterMode="lenient",this.lazy=!1,this.indentation=1.5,this.trackBy=(c,h)=>h,this.selectionChange=new e.vpe,this.onNodeSelect=new e.vpe,this.onNodeUnselect=new e.vpe,this.onNodeExpand=new e.vpe,this.onNodeCollapse=new e.vpe,this.onNodeContextMenuSelect=new e.vpe,this.onNodeDrop=new e.vpe,this.onLazyLoad=new e.vpe,this.onScroll=new e.vpe,this.onScrollIndexChange=new e.vpe,this.onFilter=new e.vpe}get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(t){this._virtualNodeHeight=t,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(t=>{this.dragNodeTree=t.tree,this.dragNode=t.node,this.dragNodeSubNodes=t.subNodes,this.dragNodeIndex=t.index,this.dragNodeScope=t.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(t=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(t){t.value&&this.updateSerializedValue()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Le.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;default:this._templateMap[t.name]=t.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(t,i,r,c){if(i&&i.length)for(let h of i){h.parent=t;const y={node:h,parent:t,level:r,visible:c&&(!t||t.expanded)};this.serializedValue.push(y),y.visible&&h.expanded&&this.serializeNodes(h,h.children,r+1,y.visible)}}onNodeClick(t,i){let r=t.target;if(!Ln.p.hasClass(r,"p-tree-toggler")&&!Ln.p.hasClass(r,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===i.selectable||this.hasFilteredNodes()&&!(i=this.getNodeWithKey(i.key,this.value)))return;let c=this.findIndexInSelection(i),h=c>=0;if(this.isCheckboxSelectionMode())h?(this.propagateSelectionDown?this.propagateDown(i,!1):this.selection=this.selection.filter((y,O)=>O!=c),this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.propagateSelectionDown?this.propagateDown(i,!0):this.selection=[...this.selection||[],i],this.propagateSelectionUp&&i.parent&&this.propagateUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t,node:i}));else if(!this.nodeTouched&&this.metaKeySelection){let O=t.metaKey||t.ctrlKey;h&&O?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((ce,fe)=>fe!=c),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.isMultipleSelectionMode()&&(this.selection=O&&this.selection||[],this.selection=[...this.selection,i],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:t,node:i}))}else this.isSingleSelectionMode()?h?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=i,this.onNodeSelect.emit({originalEvent:t,node:i})):h?(this.selection=this.selection.filter((O,ce)=>ce!=c),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=[...this.selection||[],i],this.onNodeSelect.emit({originalEvent:t,node:i})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(t,i){if(this.contextMenu){let r=t.target;if(r.className&&0===r.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(i)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(i):this.selectionChange.emit([i])),this.contextMenu.show(t),this.onNodeContextMenuSelect.emit({originalEvent:t,node:i})}}findIndexInSelection(t){let i=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())i=this.selection.key&&this.selection.key===t.key||this.selection==t?0:-1;else for(let r=0;r<this.selection.length;r++){let c=this.selection[r];if(c.key&&c.key===t.key||c==t){i=r;break}}return i}syncNodeOption(t,i,r,c){const h=this.hasFilteredNodes()?this.getNodeWithKey(t.key,i):null;h&&(h[r]=c||t[r])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(t,i){for(let r of i){if(r.key===t)return r;if(r.children){let c=this.getNodeWithKey(t,r.children);if(c)return c}}}propagateUp(t,i){if(t.children&&t.children.length){let c=0,h=!1;for(let y of t.children)this.isSelected(y)?c++:y.partialSelected&&(h=!0);if(i&&c==t.children.length)this.selection=[...this.selection||[],t],t.partialSelected=!1;else{if(!i){let y=this.findIndexInSelection(t);y>=0&&(this.selection=this.selection.filter((O,ce)=>ce!=y))}t.partialSelected=!!(h||c>0&&c!=t.children.length)}this.syncNodeOption(t,this.filteredNodes,"partialSelected")}let r=t.parent;r&&this.propagateUp(r,i)}propagateDown(t,i){let r=this.findIndexInSelection(t);if(i&&-1==r?this.selection=[...this.selection||[],t]:!i&&r>-1&&(this.selection=this.selection.filter((c,h)=>h!=r)),t.partialSelected=!1,this.syncNodeOption(t,this.filteredNodes,"partialSelected"),t.children&&t.children.length)for(let c of t.children)this.propagateDown(c,i)}isSelected(t){return-1!=this.findIndexInSelection(t)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(t){return 0!=t.leaf&&!(t.children&&t.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(t){return this._templateMap?t.type?this._templateMap[t.type]:this._templateMap.default:null}onDragOver(t){this.droppableNodes&&(!this.value||0===this.value.length)&&(t.dataTransfer.dropEffect="move",t.preventDefault())}onDrop(t){if(this.droppableNodes&&(!this.value||0===this.value.length)){t.preventDefault();let i=this.dragNode;if(this.allowDrop(i,null,this.dragNodeScope)){let r=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:null,index:r,accept:()=>{this.processTreeDrop(i,r)}}):(this.onNodeDrop.emit({originalEvent:t,dragNode:i,dropNode:null,index:r}),this.processTreeDrop(i,r))}}}processTreeDrop(t,i){this.dragNodeSubNodes.splice(i,1),this.value.push(t),this.dragDropService.stopDrag({node:t})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(t){if(this.droppableNodes){let i=t.currentTarget.getBoundingClientRect();(t.x>i.left+i.width||t.x<i.left||t.y>i.top+i.height||t.y<i.top)&&(this.dragHover=!1)}}allowDrop(t,i,r){if(t){if(this.isValidDragScope(r)){let c=!0;if(i)if(t===i)c=!1;else{let h=i.parent;for(;null!=h;){if(h===t){c=!1;break}h=h.parent}}return c}return!1}return!1}isValidDragScope(t){let i=this.droppableScope;if(i){if("string"==typeof i){if("string"==typeof t)return i===t;if(t instanceof Array)return-1!=t.indexOf(i)}else if(i instanceof Array){if("string"==typeof t)return-1!=i.indexOf(t);if(t instanceof Array)for(let r of i)for(let c of t)if(r===c)return!0}return!1}return!0}_filter(t){let i=t;if(""===i)this.filteredNodes=null;else{this.filteredNodes=[];const r=this.filterBy.split(","),c=Sn.gb.removeAccents(i).toLocaleLowerCase(this.filterLocale),h="strict"===this.filterMode;for(let y of this.value){let O=Object.assign({},y),ce={searchFields:r,filterText:c,isStrictMode:h};(h&&(this.findFilteredNodes(O,ce)||this.isFilterMatched(O,ce))||!h&&(this.isFilterMatched(O,ce)||this.findFilteredNodes(O,ce)))&&this.filteredNodes.push(O)}}this.updateSerializedValue(),this.onFilter.emit({filter:i,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(t){this.virtualScroll&&this.scroller.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}findFilteredNodes(t,i){if(t){let r=!1;if(t.children){let c=[...t.children];t.children=[];for(let h of c){let y=Object.assign({},h);this.isFilterMatched(y,i)&&(r=!0,t.children.push(y))}}if(r)return t.expanded=!0,!0}}isFilterMatched(t,{searchFields:i,filterText:r,isStrictMode:c}){let h=!1;for(let y of i)Sn.gb.removeAccents(String(Sn.gb.resolveFieldData(t,y))).toLocaleLowerCase(this.filterLocale).indexOf(r)>-1&&(h=!0);return(!h||c&&!this.isNodeLeaf(t))&&(h=this.findFilteredNodes(t,{searchFields:i,filterText:r,isStrictMode:c})||h),h}getIndex(t,i){const r=t.getItemOptions;return r?r(i).index:i}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Le.Y,8),e.Y36(Le.b4))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-tree"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,Le.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&(e.Gf(X3,5),e.Gf(e2,5),e.Gf(t2,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.filterViewChild=r.first),e.iGM(r=e.CRH())&&(i.scroller=r.first),e.iGM(r=e.CRH())&&(i.wrapperViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",indentation:"indentation",_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],["styleClass","p-tree-wrapper",3,"items","style","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[1,"p-tree-filter-icon","pi","pi-search"],["styleClass","p-tree-wrapper",3,"items","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad"],["scroller",""],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper"],["wrapper",""],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(t,i){1&t&&(e.YNc(0,I2,8,16,"div",0),e.YNc(1,D2,6,11,"div",1)),2&t&&(e.Q6J("ngIf",!i.horizontal),e.xp6(1),e.Q6J("ngIf",i.horizontal))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC,Le.jx,rc.T,O2],styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}\n"],encapsulation:2}),n})(),P2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Le.m8,mn.T,rc.v,Le.m8,rc.v]}),n})();var R2=C(2529),L2=C(2035),Sx=C(4326),F2=C(599);let B2=(()=>{class n{constructor(t){this.elementRef=t}ngOnInit(){const t=this.elementRef.nativeElement,i=(0,Cf.F)(100).pipe((0,R2.o)(()=>t.scrollWidth>t.scrollLeft+t.clientWidth),(0,Vi.b)(()=>{let r=Math.floor((t.scrollWidth-t.clientWidth)/15);r<1&&(r=1),t.scrollBy({left:r})}),(0,L2.h)(1));this.subscription=(0,cr.of)(null).pipe((0,Sx.g)(1e3),function N2(n){return(0,cp.e)((o,t)=>{let i=!1,r=0;o.subscribe(new Cl.Q(t,c=>(i||(i=!n(c,r++)))&&t.next(c)))})}(()=>t.scrollWidth<=t.clientWidth),(0,Sr.w)(()=>i),(0,Sx.g)(1e3),(0,Vi.b)(()=>t.scrollTo({left:0})),(0,F2.r)()).subscribe()}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","appTicker",""]]}),n})();function H2(n,o){if(1&n&&e._UZ(0,"span",10),2&n){const t=e.oxw(3);e.Q6J("ngClass",t.home.icon||"pi pi-home")("ngStyle",t.home.iconStyle)}}function Z2(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(t.home.label)}}function V2(n,o){if(1&n&&e._UZ(0,"span",14),2&n){const t=e.oxw(4);e.Q6J("innerHTML",t.home.label,e.oJD)}}function U2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Z2,2,1,"span",11),e.YNc(2,V2,1,1,"ng-template",null,12,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==i.home.escape)("ngIfElse",t)}}function z2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.itemClick(r,c.home))}),e.YNc(1,H2,1,2,"span",8),e.YNc(2,U2,4,2,"ng-container",9),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("href",t.home.url?t.home.url:null,e.LSH)("target",t.home.target),e.uIk("aria-label",t.homeAriaLabel)("title",t.home.title)("id",t.home.id)("tabindex",t.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",t.home.icon),e.xp6(1),e.Q6J("ngIf",t.home.label)}}function G2(n,o){if(1&n&&e._UZ(0,"span",10),2&n){const t=e.oxw(3);e.Q6J("ngClass",t.home.icon||"pi pi-home")("ngStyle",t.home.iconStyle)}}function Q2(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(t.home.label)}}function J2(n,o){if(1&n&&e._UZ(0,"span",14),2&n){const t=e.oxw(4);e.Q6J("innerHTML",t.home.label,e.oJD)}}function j2(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Q2,2,1,"span",11),e.YNc(2,J2,1,1,"ng-template",null,16,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!1!==i.home.escape)("ngIfElse",t)}}const kx=function(){return{exact:!1}};function W2(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.itemClick(r,c.home))}),e.YNc(1,G2,1,2,"span",8),e.YNc(2,j2,4,2,"ng-container",9),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("routerLink",t.home.routerLink)("queryParams",t.home.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",t.home.routerLinkActiveOptions||e.DdM(17,kx))("target",t.home.target)("fragment",t.home.fragment)("queryParamsHandling",t.home.queryParamsHandling)("preserveFragment",t.home.preserveFragment)("skipLocationChange",t.home.skipLocationChange)("replaceUrl",t.home.replaceUrl)("state",t.home.state),e.uIk("aria-label",t.homeAriaLabel)("title",t.home.title)("id",t.home.id)("tabindex",t.home.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",t.home.icon),e.xp6(1),e.Q6J("ngIf",t.home.label)}}const Y2=function(n){return{"p-breadcrumb-home":!0,"p-disabled":n}};function K2(n,o){if(1&n&&(e.TgZ(0,"li",4),e.YNc(1,z2,3,8,"a",5),e.YNc(2,W2,3,18,"a",6),e.qZA()),2&n){const t=e.oxw();e.Tol(t.home.styleClass),e.Q6J("ngClass",e.VKq(7,Y2,t.home.disabled))("ngStyle",t.home.style)("tooltipOptions",t.home.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!t.home.routerLink),e.xp6(1),e.Q6J("ngIf",t.home.routerLink)}}function q2(n,o){1&n&&e._UZ(0,"li",17)}function $2(n,o){if(1&n&&e._UZ(0,"span",10),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function X2(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function eO(n,o){if(1&n&&e._UZ(0,"span",14),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function tO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,X2,2,1,"span",11),e.YNc(2,eO,1,1,"ng-template",null,21,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t)}}function nO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.itemClick(r,c))}),e.YNc(1,$2,1,2,"span",8),e.YNc(2,tO,4,2,"ng-container",9),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("target",t.target),e.uIk("href",t.url?t.url:null,e.LSH)("title",t.title)("id",t.id)("tabindex",t.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",t.icon),e.xp6(1),e.Q6J("ngIf",t.label)}}function iO(n,o){if(1&n&&e._UZ(0,"span",10),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function oO(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(t.label)}}function sO(n,o){if(1&n&&e._UZ(0,"span",14),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function rO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,oO,2,1,"span",11),e.YNc(2,sO,1,1,"ng-template",null,22,e.W1O),e.BQk()),2&n){const t=e.MAs(3),i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t)}}function aO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.itemClick(r,c))}),e.YNc(1,iO,1,2,"span",8),e.YNc(2,rO,4,2,"ng-container",9),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",t.routerLink)("queryParams",t.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",t.routerLinkActiveOptions||e.DdM(16,kx))("target",t.target)("fragment",t.fragment)("queryParamsHandling",t.queryParamsHandling)("preserveFragment",t.preserveFragment)("skipLocationChange",t.skipLocationChange)("replaceUrl",t.replaceUrl)("state",t.state),e.uIk("title",t.title)("id",t.id)("tabindex",t.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",t.icon),e.xp6(1),e.Q6J("ngIf",t.label)}}function lO(n,o){1&n&&e._UZ(0,"li",17)}const cO=function(n){return{"p-disabled":n}};function uO(n,o){if(1&n&&(e.TgZ(0,"li",18),e.YNc(1,nO,3,7,"a",19),e.YNc(2,aO,3,17,"a",6),e.qZA(),e.YNc(3,lO,1,0,"li",2)),2&n){const t=o.$implicit,i=o.last;e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("ngClass",e.VKq(8,cO,t.disabled))("tooltipOptions",t.tooltipOptions),e.xp6(1),e.Q6J("ngIf",!t.routerLink),e.xp6(1),e.Q6J("ngIf",t.routerLink),e.xp6(1),e.Q6J("ngIf",!i)}}let dO=(()=>{class n{constructor(){this.onItemClick=new e.vpe}itemClick(t,i){i.disabled?t.preventDefault():(!i.url&&!i.routerLink&&t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.onItemClick.emit({originalEvent:t,item:i}))}onHomeClick(t){this.home&&this.itemClick(t,this.home)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-breadcrumb"]],hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home",homeAriaLabel:"homeAriaLabel"},outputs:{onItemClick:"onItemClick"},decls:5,vars:7,consts:[[3,"ngStyle","ngClass"],["pTooltip","",3,"class","ngClass","ngStyle","tooltipOptions",4,"ngIf"],["class","p-breadcrumb-chevron pi pi-chevron-right",4,"ngIf"],["ngFor","",3,"ngForOf"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["class","p-menuitem-link",3,"href","target","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[1,"p-menuitem-link",3,"href","target","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],[4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlHomeLabel",""],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlHomeRouteLabel",""],[1,"p-breadcrumb-chevron","pi","pi-chevron-right"],["pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["class","p-menuitem-link",3,"target","click",4,"ngIf"],[1,"p-menuitem-link",3,"target","click"],["htmlLabel",""],["htmlRouteLabel",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"ul"),e.YNc(2,K2,3,9,"li",1),e.YNc(3,q2,1,0,"li",2),e.YNc(4,uO,4,10,"ng-template",3),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass","p-breadcrumb p-component"),e.xp6(2),e.Q6J("ngIf",i.home),e.xp6(1),e.Q6J("ngIf",i.model&&i.home),e.xp6(1),e.Q6J("ngForOf",i.model))},dependencies:[I.mk,I.sg,I.O5,I.PC,s.yS,s.Od,ln.u],styles:[".p-breadcrumb{overflow-x:auto}.p-breadcrumb ul{margin:0;padding:0;list-style-type:none;display:flex;align-items:center;flex-wrap:nowrap}.p-breadcrumb .p-menuitem-text{line-height:1}.p-breadcrumb .p-menuitem-link{text-decoration:none;cursor:pointer}.p-breadcrumb::-webkit-scrollbar{display:none}\n"],encapsulation:2,changeDetection:0}),n})(),pO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,s.Bz,ln.z,s.Bz,ln.z]}),n})();const hO=function(){return{padding:"0 0 0 1rem"}};function gO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"span",26),e._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(3,"div",27),e.TgZ(4,"p-button",28),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const c=e.MAs(17);return e.KtG(c.toggle(r))}),e.qZA()()}2&n&&e.Akn(e.DdM(2,hO))}function fO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",29)(1,"p-button",30),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const c=e.MAs(19);return e.KtG(c.toggle(r))}),e.qZA()()}}function mO(n,o){1&n&&e.GkF(0)}function _O(n,o){if(1&n&&(e.ynx(0),e.YNc(1,mO,1,0,"ng-container",31),e.BQk()),2&n){e.oxw();const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function CO(n,o){1&n&&e.GkF(0)}function vO(n,o){1&n&&e.GkF(0)}function bO(n,o){1&n&&e.GkF(0)}function yO(n,o){1&n&&e.GkF(0)}const Qd=function(n){return{$implicit:n}};function IO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,yO,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(4);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Qd,t))}}function AO(n,o){1&n&&e.GkF(0)}function TO(n,o){if(1&n&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),e.qZA(),e.TgZ(3,"span",43),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",null==t.selectedNodeInTree?null:t.selectedNodeInTree.data.description," ")}}const Mx=function(){return{alignContent:"flex-start"}};function wO(n,o){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,vO,1,0,"ng-container",37),e.TgZ(2,"div",38),e.YNc(3,bO,1,0,"ng-container",31),e.YNc(4,IO,2,4,"ng-container",39),e.YNc(5,AO,1,0,"ng-container",31),e.qZA(),e.YNc(6,TO,5,1,"div",40),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27),r=e.MAs(33),c=e.MAs(35);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(10,Qd,t.selectedNodeInTree)),e.xp6(1),e.Akn(e.DdM(12,Mx)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngForOf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.children)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",c),e.xp6(1),e.Q6J("ngIf",null==t.selectedNodeInTree?null:t.selectedNodeInTree.data.description)}}function xO(n,o){1&n&&e.GkF(0)}function EO(n,o){1&n&&e.GkF(0)}function SO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,EO,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(29);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function kO(n,o){1&n&&e.GkF(0)}function MO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,kO,1,0,"ng-container",31),e.BQk()),2&n){e.oxw(4);const t=e.MAs(31);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function DO(n,o){if(1&n&&(e.TgZ(0,"div",47)(1,"span",48),e._uU(2,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"span",51),e._uU(4),e.qZA()()),2&n){const t=e.oxw(5);e.xp6(4),e.Oqu(null==t.currentWork?null:t.currentWork.description)}}function OO(n,o){1&n&&e.GkF(0)}function PO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,OO,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(5);const i=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Qd,t))}}function RO(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e.YNc(2,DO,5,1,"div",46),e.TgZ(3,"div",47)(4,"span",48),e._uU(5," \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f "),e.qZA(),e.TgZ(6,"div",47),e.YNc(7,PO,2,4,"ng-container",39),e.qZA(),e._UZ(8,"div",49),e.TgZ(9,"div",50)(10,"span"),e._uU(11,"\u0412\u0441\u0435\u0433\u043e"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",null==t.currentWork?null:t.currentWork.description),e.xp6(5),e.Q6J("ngForOf",null==t.currentWork?null:t.currentWork.actions)("ngForTrackBy",t.trackByAction),e.xp6(6),e.hij("",t.currentWorkActionsSum," \u0440\u0443\u0431")}}function LO(n,o){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,xO,1,0,"ng-container",37),e.ynx(2,8),e.YNc(3,SO,2,1,"ng-container",9),e.YNc(4,MO,2,1,"ng-container",9),e.YNc(5,RO,14,4,"ng-container",9),e.BQk(),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(27);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(6,Qd,t.selectedNodeInTree)),e.xp6(1),e.Q6J("ngSwitch",t.workLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY")}}function NO(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,wO,7,13,"div",34),e.YNc(2,LO,6,8,"div",35),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",null==t.selectedNodeInTree?null:t.selectedNodeInTree.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function FO(n,o){1&n&&e.GkF(0)}function BO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,FO,1,0,"ng-container",37),e.BQk()),2&n){const t=o.$implicit;e.oxw(3);const i=e.MAs(37);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,Qd,t))}}function HO(n,o){1&n&&e.GkF(0)}function ZO(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",52)(2,"div",53),e.YNc(3,BO,2,4,"ng-container",39),e.YNc(4,HO,1,0,"ng-container",31),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2),i=e.MAs(35);e.xp6(2),e.Akn(e.DdM(6,Mx)),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.treeMenuItems)("ngForTrackBy",t.trackByNode),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function VO(n,o){if(1&n&&(e.ynx(0),e.YNc(1,NO,3,3,"ng-container",32),e.YNc(2,ZO,5,7,"ng-container",33),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedNodeInTree),e.xp6(1),e.Q6J("ngIf",!t.selectedNodeInTree)}}function UO(n,o){1&n&&e.GkF(0)}function zO(n,o){1&n&&e.GkF(0)}function GO(n,o){1&n&&e.GkF(0)}function QO(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54),e.YNc(2,UO,1,0,"ng-container",37),e.TgZ(3,"div",53),e.YNc(4,zO,1,0,"ng-container",31),e.YNc(5,GO,1,0,"ng-container",31),e.TgZ(6,"div",55),e._UZ(7,"span",56),e.TgZ(8,"span"),e._uU(9,"\u041d\u0435\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw(),i=e.MAs(27),r=e.MAs(33),c=e.MAs(35);e.xp6(2),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(4,Qd,t.selectedNodeInTree)),e.xp6(2),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngTemplateOutlet",c)}}function JO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function jO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateGroup())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}const Dx=function(){return{maxWidth:"15rem"}};function WO(n,o){if(1&n&&(e.TgZ(0,"div",57),e._UZ(1,"input",58)(2,"textarea",59),e.ynx(3,8),e.YNc(4,JO,1,2,"p-button",60),e.YNc(5,jO,1,2,"p-button",61),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.Q6J("formGroup",t.createGroupForm),e.xp6(1),e.Akn(e.DdM(7,Dx)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("ngSwitch",t.createGroupDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function YO(n,o){if(1&n&&(e.TgZ(0,"div",73),e._UZ(1,"p-inputNumber",74),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("formGroup",t.control),e.xp6(1),e.Q6J("size",4)("min",.01)("minFractionDigits",0)("maxFractionDigits",2)("max",99999)("allowEmpty",!1)}}function KO(n,o){if(1&n&&(e.TgZ(0,"div",68)(1,"div",69)(2,"span",70),e._uU(3),e.qZA(),e.TgZ(4,"span",71),e._uU(5),e.ALo(6,"unitName"),e.qZA()(),e.YNc(7,YO,2,7,"div",72),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" ",t.cost," \u0440\u0443\u0431./",e.lcZ(6,4,t.unit)," "),e.xp6(2),e.Q6J("ngIf","select"===t.mode)}}function qO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",62),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.createWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function $O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateWork())}),e.qZA()}2&n&&e.Udp("place-self","flex-end")}function XO(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",57),e._UZ(1,"input",64)(2,"textarea",65),e.TgZ(3,"p-pickList",66),e.NdJ("onMoveToSource",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.unselectPaidAction(r))})("onMoveToTarget",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectPaidAction(r))}),e.YNc(4,KO,8,6,"ng-template",67),e.qZA(),e.ynx(5,8),e.YNc(6,qO,1,2,"p-button",60),e.YNc(7,$O,1,2,"p-button",61),e.BQk(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createWorkForm),e.xp6(1),e.Akn(e.DdM(12,Dx)),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("dragdrop",!0)("showSourceControls",!1)("showTargetControls",!1)("source",t.availablePaidActions)("target",t.selectedPaidActions),e.xp6(2),e.Q6J("ngSwitch",t.createWorkDialogMode),e.xp6(1),e.Q6J("ngSwitchCase","create"),e.xp6(1),e.Q6J("ngSwitchCase","edit")}}function eP(n,o){if(1&n&&(e.TgZ(0,"div",75)(1,"div",47)(2,"span",76),e._uU(3),e.qZA(),e.TgZ(4,"span",77),e._UZ(5,"span",78),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"unitName"),e.qZA()()(),e._UZ(9,"div",27),e.TgZ(10,"span",79),e._uU(11),e.ALo(12,"unitName"),e.qZA(),e.TgZ(13,"span",80),e._uU(14),e.qZA()()),2&n){const t=o.$implicit;e.xp6(3),e.hij(" ",t.action.name," "),e.xp6(4),e.AsE(" ",t.action.cost," \u0440\u0443\u0431/",e.lcZ(8,6,t.action.unit)," "),e.xp6(4),e.AsE(" \u041a\u043e\u043b-\u0432\u043e: ",t.count," ",e.lcZ(12,8,t.action.unit)," "),e.xp6(3),e.hij(" \u0421\u0442\u043e\u0439\u043c\u043e\u0441\u0442\u044c: ",t.action.cost*t.count," \u0440\u0443\u0431 ")}}function tP(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",81)(2,"span"),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",t.data.name," ")}}function nP(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",82)(2,"p-button",83),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.back())}),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"div",27),e.TgZ(6,"p-button",84),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw(2).$implicit,c=e.oxw();return c.editingWorkId=r.data.id,e.KtG(c.openEditWorkDialog())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.hij(" ",t.data.name," ")}}function iP(n,o){if(1&n&&(e.ynx(0,8),e.YNc(1,tP,4,1,"ng-container",9),e.YNc(2,nP,7,1,"ng-container",9),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","group"),e.xp6(1),e.Q6J("ngSwitchCase","work")}}function oP(n,o){1&n&&e.YNc(0,iP,3,3,"ng-container",32),2&n&&e.Q6J("ngIf",o.$implicit)}function sP(n,o){1&n&&(e.TgZ(0,"div",85),e._UZ(1,"p-progressSpinner",86),e.qZA())}function rP(n,o){1&n&&(e.TgZ(0,"div",85)(1,"div",87),e._UZ(2,"span",88),e.TgZ(3,"span"),e._uU(4," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "),e.qZA()()())}function aP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",90),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.back())}),e._UZ(1,"span",91),e.TgZ(2,"span",92),e._uU(3,"\u041d\u0430\u0437\u0430\u0434"),e.qZA()()}}function lP(n,o){if(1&n&&e.YNc(0,aP,4,0,"div",89),2&n){const t=e.oxw();e.Q6J("ngIf",t.selectedNodeInTree)}}function cP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",90),e.NdJ("click",function(r){e.CHM(t),e.oxw();const c=e.MAs(19);return e.KtG(c.toggle(r))}),e._UZ(1,"span",93),e.TgZ(2,"span",92),e._uU(3,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),e.qZA()()}}function uP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",90),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.selectGroupInView(c))}),e._UZ(1,"span"),e.TgZ(2,"span",94),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Tol("group"===t.type?"mds-folder":"mds-construction"),e.xp6(2),e.Oqu(t.data.name)}}const dP=function(){return{marginBottom:"1rem"}},pP=function(){return{padding:"0"}};let hP=(()=>{class n{constructor(t,i,r){this.api=t,this.rt=i,this.confirmation=r,this.rootContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog()},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog()}],this.treeMenuItems=[],this.createGroupDialogVisible=!1,this.createGroupDialogMode="create",this.createGroupForm=new R.cw({name:new R.NI("",[R.kI.required]),description:new R.NI(""),parentGroupId:new R.NI(null)}),this.treeContextMenuItems=[],this.subscriptions=new it.xf,this.createWorkDialogVisible=!1,this.createWorkDialogMode="create",this.createWorkForm=new R.cw({name:new R.NI("",[R.kI.required]),description:new R.NI(""),parentGroupId:new R.NI(null),actions:new R.Oe([],[oi.notEmpty])}),this.breadcrumbHome={icon:"mdi-home",command:()=>{this.selectedNodeInTree=void 0,this.changeBreadcrumbs()}},this.breadcrumb=[],this.availablePaidActions=[],this.selectedPaidActions=[],this.loadingTreeState=ft.Gu.LOADING,this.workLoadingState=ft.Gu.LOADING,this.inViewContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}],L1.prototype.isNodeLeaf=c=>c.leaf}get currentWorkActionsSum(){return this.currentWork?this.currentWork.actions.reduce((t,i)=>t+i.count*i.action.cost,0):0}trackByAction(t,i){return i.paidActionTemplateId+i.count}trackByNode(t,i){var r,c;return null!==(c=null!==(r=i.key)&&void 0!==r?r:""+i.leaf)&&void 0!==c?c:""+i.label+JSON.stringify(i.data)}selectPaidAction(t){t.items.forEach(i=>{i.mode="select",i.controlIndex=this.createWorkForm.controls.actions.length,i.control=new R.cw({actionId:new R.NI(i.paidActionId),count:new R.NI(1)}),this.createWorkForm.controls.actions.push(i.control)})}unselectPaidAction(t){t.items.forEach(i=>{i.mode=void 0,i.control=void 0,this.createWorkForm.controls.actions.removeAt(i.controlIndex)})}unitName(t){switch(t){case ft.b9.AMOUNT:return"\u0448\u0442.";case ft.b9.METRES:return"\u043c.";case ft.b9.KILOGRAMS:return"\u043a\u0433."}}changeContextMenuItems(){var t,i,r;if(this.selectedNodeInTree)switch(this.selectedNodeInTree.type){case"group":this.treeContextMenuItems=[{label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",icon:"mdi-add",items:[{label:"\u0413\u0440\u0443\u043f\u043f\u0443",icon:"mdi-folder",command:()=>this.openCreateGroupDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)},{label:"\u0420\u0430\u0431\u043e\u0442\u0443",icon:"mdi-construction",command:()=>this.openCreateWorkDialog(this.selectedNodeInTree?this.selectedNodeInTree.key:void 0)}]},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditGroupDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteGroup()}];break;case"work":this.treeContextMenuItems=[{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"mdi-edit",command:()=>this.openEditWorkDialog()},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"mdi-delete",command:()=>this.deleteWork()}]}"group"===(null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.type)?this.loadOfGroup({node:this.selectedNodeInTree},()=>this.changeBreadcrumbs()):"work"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)&&null!==(r=this.selectedNodeInTree)&&void 0!==r&&r.key&&this.loadWork(this.selectedNodeInTree.key)}changeBreadcrumbs(){if(this.selectedNodeInTree){let t=this.selectedNodeInTree;const i=[];for(;t;){let r=t.key;i.push({label:t.label,key:r,command:()=>{var c;if((null===(c=this.selectedNodeInTree)||void 0===c?void 0:c.key)===r)return;let h;const y=[];for(let O of this.breadcrumb)if(void 0===h?h=this.treeMenuItems.find(ce=>ce.key===O.key):h.children&&(h=h.children.find(ce=>ce.key===O.key)),y.push(O),h&&h.key===r)break;this.selectedNodeInTree=h,this.breadcrumb=y}}),t=t.parent}this.breadcrumb=i.reverse()}else this.breadcrumb=[]}openCreateGroupDialog(t){this.createGroupForm.reset(),this.createGroupDialogMode="create",this.createGroupDialogVisible=!0,this.createGroupForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null})}openEditGroupDialog(){var t,i,r,c,h,y,O,ce,fe,ct;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createGroupForm.reset(),this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createGroupDialogMode="edit",this.createGroupDialogVisible=!0,this.createGroupForm.setValue({name:null!==(c=null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.label)&&void 0!==c?c:"",description:null!==(y=null===(h=this.selectedNodeInTree)||void 0===h?void 0:h.data.description)&&void 0!==y?y:"",parentGroupId:null!==(ce=null===(O=this.selectedNodeInTree)||void 0===O?void 0:O.parent)&&void 0!==ce&&ce.key?parseInt(null===(ct=null===(fe=this.selectedNodeInTree)||void 0===fe?void 0:fe.parent)||void 0===ct?void 0:ct.key):null}))}openCreateWorkDialog(t){this.createWorkForm.reset(),this.createWorkDialogMode="create",this.createWorkDialogVisible=!0,this.createWorkForm.controls.actions.clear(),this.createWorkForm.patchValue({parentGroupId:t?parseInt(t.substring(1)):null}),this.selectedPaidActions=[],console.log(this.createWorkForm.value),this.api.getListAvailablePaidActions().subscribe({next:i=>this.availablePaidActions=i})}openEditWorkDialog(){var t,i,r,c,h,y,O,ce,fe,ct;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.createWorkForm.reset(),this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.createWorkDialogMode="edit",this.createWorkDialogVisible=!0,this.createWorkForm.patchValue({name:null!==(c=null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.label)&&void 0!==c?c:"",description:null!==(y=null===(h=this.selectedNodeInTree)||void 0===h?void 0:h.data.description)&&void 0!==y?y:"",parentGroupId:null!==(ce=null===(O=this.selectedNodeInTree)||void 0===O?void 0:O.parent)&&void 0!==ce&&ce.key?parseInt(null===(ct=null===(fe=this.selectedNodeInTree)||void 0===fe?void 0:fe.parent)||void 0===ct?void 0:ct.key):null}),this.selectedPaidActions=[],this.createWorkForm.controls.actions.clear(),this.api.getListAvailablePaidActions().subscribe({next:pt=>{var rt;!(null===(rt=this.selectedNodeInTree)||void 0===rt)&&rt.data.actions&&this.selectedNodeInTree.data.actions.forEach(Mt=>{let Wt=structuredClone(Mt.action);Wt.mode="select",Wt.controlIndex=this.createWorkForm.controls.actions.length,Wt.control=new R.cw({actionId:new R.NI(Wt.paidActionId),count:new R.NI(Mt.count)}),this.selectedPaidActions.push(Wt),this.createWorkForm.controls.actions.push(Wt.control)}),this.availablePaidActions=pt.filter(Mt=>-1===this.selectedPaidActions.findIndex(Wt=>Wt.paidActionId===Mt.paidActionId))}}))}ngOnInit(){this.api.getRootTreeOfWorks().subscribe({next:t=>{this.treeMenuItems=t,this.loadingTreeState=t.length>0?ft.Gu.READY:ft.Gu.EMPTY},error:()=>{this.loadingTreeState=ft.Gu.ERROR}}),this.subscriptions.addSubscription("trMove",this.rt.paidWorksTreeMoved().subscribe(t=>{const i=this.foundNodeByPath(t.sourcePath),r=this.foundNodeByPath(t.targetPath);if(i){if(i.children){const c=i.children.findIndex(h=>h.key===t.object.key&&h.type===t.object.type);c>-1&&i.children.splice(c,1),0===i.children.length&&(i.leaf=!0)}}else{const c=this.treeMenuItems.findIndex(h=>h.key===t.object.key&&h.type===t.object.type);c>-1&&this.treeMenuItems.splice(c,1)}r?(r.children?-1===r.children.findIndex(h=>h.key===t.object.key&&h.type===t.object.type)&&r.children.push(t.object):(r.children=[],r.children.push(t.object)),r.leaf=!1):-1===this.treeMenuItems.findIndex(h=>h.key===t.object.key&&h.type===t.object.type)&&this.treeMenuItems.push(t.object)})),this.subscriptions.addSubscription("trUpd",this.rt.paidWorksTreeUpdated().subscribe(t=>{var i,r;const c=this.foundNodeByPath(t.path);if(c&&c.children){const h=null===(i=c.children)||void 0===i?void 0:i.findIndex(y=>y.key===t.object.key&&y.type===t.object.type);h>-1&&(c.children[h]=t.object)}else if(!c){const h=this.treeMenuItems.findIndex(y=>y.key===t.object.key&&y.type===t.object.type);h>-1&&(this.treeMenuItems[h]=t.object)}(null===(r=this.selectedNodeInTree)||void 0===r?void 0:r.key)===t.object.key&&(this.selectedNodeInTree=t.object)})),this.subscriptions.addSubscription("trCr",this.rt.paidWorksTreeCreated().subscribe(t=>{const i=this.foundNodeByPath(t.path);i?(i.children||(i.children=[]),i.children.push(t.object),i.children.sort((r,c)=>r.position-c.position),i.leaf=!1):(this.treeMenuItems.push(t.object),this.treeMenuItems.sort((r,c)=>r.position-c.position))})),this.subscriptions.addSubscription("trDel",this.rt.paidWorksTreeDeleted().subscribe(t=>{var i;const r=this.foundNodeByPath(t.path);if(r&&r.children){const c=r.children.findIndex(h=>h.key===t.object.key);this.selectedNodeInTree===r.children[c]&&(this.selectedNodeInTree=void 0),c>-1&&(null===(i=r.children)||void 0===i||i.splice(c,1))}else if(!r){const c=this.treeMenuItems.findIndex(h=>h.key===t.object.key);this.selectedNodeInTree===this.treeMenuItems[c]&&(this.selectedNodeInTree=void 0),c>-1&&this.treeMenuItems.splice(c,1)}})),this.subscriptions.addSubscription("workUp",this.rt.paidWorkUpdated().subscribe({next:t=>{var i;(null===(i=this.currentWork)||void 0===i?void 0:i.paidWorkId)===t.paidWorkId&&(this.currentWork=t)}})),this.subscriptions.addSubscription("sort",this.rt.worksTreeReposition().subscribe(t=>{t.forEach(i=>{const r="group"===i.type?"g":"w";if(i.path&&i.path.length>0){const c=this.foundNodeByPath(i.path);c&&c.children&&(c.children.find(y=>y.key===r+i.id).position=i.position,c.children.sort((y,O)=>y.position-O.position))}else this.treeMenuItems.find(h=>h.key===r+i.id).position=i.position,this.treeMenuItems.sort((h,y)=>h.position-y.position)})}))}foundNodeByPath(t){var i;if(!t||0===t.length)return null;let r=null,c=this.treeMenuItems;for(let h of t){if(!c)return null;if(r=null!==(i=c.find(y=>y.key==="g"+h))&&void 0!==i?i:null,!r)return null;c=r.children}return r}ngOnDestroy(){this.subscriptions.unsubscribeAll()}createGroup(){this.createGroupForm.valid&&this.api.createPaidWorkGroup(this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}updateGroup(){this.editingGroupId&&this.createGroupForm.valid&&this.api.editPaidWorkGroup(this.editingGroupId,this.createGroupForm.value).subscribe(()=>{this.createGroupDialogVisible=!1})}nodeDrop(t){this.api.treeWorksDragDrop(new ft.AE(t)).subscribe(),this.api.paidWorkTreeReposition(this.getPositions(t)).subscribe(()=>this.changeBreadcrumbs())}getPositions(t){const i=t.dragNode.parent,r=t.dropNode.parent;let c=[];return i||r?i?r?i===r&&(c=[...i.children.map((h,y)=>({id:h.key.substring(1),type:h.type,position:y}))]):c=[...i.children.map((h,y)=>({id:h.key.substring(1),type:h.type,position:y})),...this.treeMenuItems.map((h,y)=>({id:h.key.substring(1),type:h.type,position:y}))]:c=[...this.treeMenuItems.map((h,y)=>({id:h.key.substring(1),type:h.type,position:y})),...r.children.map((h,y)=>({id:h.key.substring(1),type:h.type,position:y}))]:c=this.treeMenuItems.map((h,y)=>({id:h.key.substring(1),type:h.type,position:y})),c}loadOfGroup(t,i=(()=>{})){"group"!==t.node.type||t.node.children&&t.node.children.length>0?"group"===t.node.type&&(this.loadingTreeState=ft.Gu.READY,i()):(this.loadingTreeState=ft.Gu.LOADING,this.api.getWorksOfGroup(t.node.key.substring(1)).subscribe({next:r=>{t.node.children=r,this.loadingTreeState=r.length>0?ft.Gu.READY:ft.Gu.EMPTY,i()},error:()=>{this.loadingTreeState=ft.Gu.ERROR}}))}createWork(){if(!this.createWorkForm.valid)return;const t=this.createWorkForm.value;console.log(this.createWorkForm.value),this.api.createPaidWork(t).subscribe({next:()=>{this.createWorkDialogVisible=!1},error:()=>{}})}updateWork(){this.editingWorkId&&this.createWorkForm.valid&&this.api.editPaidWork(this.editingWorkId,this.createWorkForm.value).subscribe(()=>{this.createWorkDialogVisible=!1})}selectNode(t){var i;"group"===t.node.type?this.loadOfGroup(t,()=>this.changeBreadcrumbs()):null!==(i=this.selectedNodeInTree)&&void 0!==i&&i.key&&this.loadWork(this.selectedNodeInTree.key)}selectGroupInView(t){setTimeout(()=>{var i,r;this.selectedNodeInTree&&!this.selectedNodeInTree.leaf&&(this.selectedNodeInTree.expanded=!0),this.selectedNodeInTree=t,"group"===(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.type)?this.loadOfGroup({node:t},()=>this.changeBreadcrumbs()):null!==(r=this.selectedNodeInTree)&&void 0!==r&&r.key&&this.loadWork(this.selectedNodeInTree.key)},200)}loadWork(t){this.loadingTreeState=ft.Gu.READY,this.workLoadingState=ft.Gu.LOADING,this.api.getPaidWorkById(parseInt(t.substring(1))).subscribe({next:i=>{this.currentWork=i,this.workLoadingState=ft.Gu.READY,this.changeBreadcrumbs()},error:()=>{this.workLoadingState=ft.Gu.ERROR}})}back(){var t;this.loadingTreeState=ft.Gu.READY,this.selectedNodeInTree&&(this.selectedNodeInTree.expanded=!1),this.selectedNodeInTree=null===(t=this.selectedNodeInTree)||void 0===t?void 0:t.parent,this.changeBreadcrumbs()}deleteGroup(){var t,i;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingGroupId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0440\u0430\u0431\u043e\u0442? (\u0420\u0430\u0431\u043e\u0442\u044b \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u043d\u0435 \u0431\u0443\u0434\u0443\u0442)",accept:()=>{!this.editingGroupId||this.api.deletePaidWorkGroup(this.editingGroupId).subscribe(()=>{})}}))}deleteWork(){var t,i;null===(t=this.selectedNodeInTree)||void 0===t||!t.key||(this.editingWorkId=parseInt(null===(i=this.selectedNodeInTree)||void 0===i?void 0:i.key.substring(1)),this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443?",accept:()=>{!this.editingWorkId||this.api.deletePaidWork(this.editingWorkId).subscribe(()=>{})}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Dn.U),e.Y36(Le.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([Le.Y])],decls:38,vars:33,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","gap10","stretched","panel","p10"],[3,"home","model"],[1,"flexed","gap10","stretched"],["styleClass","work-tree","draggableScope","self","droppableScope","self","selectionMode","single",3,"selection","contextMenu","draggableNodes","droppableNodes","lazy","loading","value","onNodeContextMenuSelect","onNodeDrop","onNodeExpand","onNodeSelect","onNodeUnselect","selectionChange"],["pTemplate","header"],["pTemplate","empty"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appendTo","body",3,"model"],["treeContextMenu",""],[3,"model","popup"],["rootTreeMenu",""],["inViewContextMenu",""],["appendTo","body",3,"visible","header","resizable","visibleChange"],["pTemplate","content"],[3,"visible","autoZIndex","baseZIndex","header","resizable","visibleChange"],["workEntryRef",""],["nodeTitleRef",""],["loadingRef",""],["errorRef",""],["backButtonRef",""],["createButtonRef",""],["nodeRef",""],[1,"flexed","hcenter","gap10"],[1,"caption","size-big","f-inline"],[1,"stretched"],["icon","mdi-more_vert","styleClass","p-button-secondary p-button-text p-button-icon",3,"onClick"],[1,"flexed","p10","w-full","vcenter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","icon","mdi-add","styleClass","p-button-secondary p-button-text",3,"onClick"],[4,"ngTemplateOutlet"],[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],["class","flexed column gap10 stretched",4,"ngSwitchCase"],["class","flexed column stretched",4,"ngSwitchCase"],[1,"flexed","column","gap10","stretched"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flexed","wrapped","gap10","stretched"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","group-description",4,"ngIf"],[1,"group-description"],[1,"caption","size-small","f-inline"],[1,"caption"],[1,"flexed","column","stretched"],[1,"flexed","column","gap10","p10"],["class","flexed column",4,"ngIf"],[1,"flexed","column"],[1,"caption","wt-bold","size-big","f-color-500"],[1,"terminator-bottom"],[1,"flexed","gap5","vend","hcenter","caption","wt-tiny","f-color-primary","size-big","p10"],[1,"caption","indent1"],[1,"flexed","column","gap10"],[1,"flexed","wrapped","gap10"],[1,"flexed","column","gap10","relative","stretched"],[1,"center-of-content","flexed","column","vcenter","caption","size-big","wt-bold","f-color-500"],[1,"mds-receipt_long"],[1,"flexed","column","gap10","p1",3,"formGroup"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b..."],["cols","50","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b...","rows","5",3,"autoResize"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"place-self","onClick",4,"ngSwitchCase"],["icon","mdi-plus","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c",3,"onClick"],["icon","mdi-edit","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",3,"onClick"],["formControlName","name","pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b..."],["cols","70","formControlName","description","pInputTextarea","","placeholder","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b...","rows","5",3,"autoResize"],["sourceHeader","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","targetHeader","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",3,"dragdrop","showSourceControls","showTargetControls","source","target","onMoveToSource","onMoveToTarget"],["pTemplate","item"],[1,"flexed","gap5"],[1,"flexed","column","gap5","stretched"],[1,"caption","size-big","w-max"],[1,"caption","size-small","f-color-500"],["class","w-min",3,"formGroup",4,"ngIf"],[1,"w-min",3,"formGroup"],["formControlName","count",3,"size","min","minFractionDigits","maxFractionDigits","max","allowEmpty"],[1,"flexed","gap5","hcenter","p10","split-line"],[1,"caption","size-big","f-color-600"],[1,"caption","with-icon","size-small","f-color-500","wt-black"],[1,"mdi-payments"],[1,"caption","size-big","wt-tiny"],[1,"caption","size-big","f-color-primary","wt-tiny"],[1,"caption","size-huge","f-color-500","wt-bold","f-inline"],[1,"flexed","hcenter","gap5","p3","caption","size-huge","f-color-500","wt-bold","f-inline"],["styleClass","p-button-text p-button-secondary p-button-icon","icon","mdi-arrow_back",3,"onClick"],["styleClass","p-button-text p-button-warning","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","icon","mdi-edit",3,"onClick"],[1,"relative","stretched"],[1,"primary-spinner","center-of-content"],[1,"flexed","hcenter","column","caption","size-big","wt-bold","f-color-danger","center-of-content"],[1,"mds-error"],["class","group-list-el primary","pRipple","",3,"click",4,"ngIf"],["pRipple","",1,"group-list-el","primary",3,"click"],[1,"mds-arrow_top_left"],[1,"name"],[1,"mds-add"],["appTicker","",1,"name"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e._UZ(4,"p-breadcrumb",3),e.TgZ(5,"div",4)(6,"p-tree",5),e.NdJ("onNodeContextMenuSelect",function(){return i.changeContextMenuItems()})("onNodeDrop",function(c){return i.nodeDrop(c)})("onNodeExpand",function(c){return i.loadOfGroup(c)})("onNodeSelect",function(c){return i.selectNode(c)})("onNodeUnselect",function(){return i.changeBreadcrumbs()})("selectionChange",function(c){return i.selectedNodeInTree=c}),e.YNc(7,gO,5,3,"ng-template",6),e.YNc(8,fO,2,0,"ng-template",7),e.qZA(),e.ynx(9,8),e.YNc(10,_O,2,1,"ng-container",9),e.YNc(11,CO,1,0,"ng-container",9),e.YNc(12,VO,3,2,"ng-container",9),e.YNc(13,QO,10,6,"ng-container",9),e.BQk(),e.qZA()()()(),e._UZ(14,"p-contextMenu",10,11)(16,"p-menu",12,13)(18,"p-menu",12,14),e.TgZ(20,"p-dialog",15),e.NdJ("visibleChange",function(c){return i.createGroupDialogVisible=c}),e.YNc(21,WO,6,8,"ng-template",16),e.qZA(),e.TgZ(22,"p-dialog",17),e.NdJ("visibleChange",function(c){return i.createWorkDialogVisible=c}),e.YNc(23,XO,8,13,"ng-template",16),e.qZA(),e.YNc(24,eP,15,10,"ng-template",null,18,e.W1O),e.YNc(26,oP,1,1,"ng-template",null,19,e.W1O),e.YNc(28,sP,2,0,"ng-template",null,20,e.W1O),e.YNc(30,rP,5,0,"ng-template",null,21,e.W1O),e.YNc(32,lP,1,1,"ng-template",null,22,e.W1O),e.YNc(34,cP,4,0,"ng-template",null,23,e.W1O),e.YNc(36,uP,4,3,"ng-template",null,24,e.W1O)),2&t){const r=e.MAs(15);e.xp6(1),e.Akn(e.DdM(31,dP)),e.xp6(3),e.Q6J("home",i.breadcrumbHome)("model",i.breadcrumb),e.xp6(2),e.Akn(e.DdM(32,pP)),e.Q6J("selection",i.selectedNodeInTree)("contextMenu",r)("draggableNodes",!0)("droppableNodes",!0)("lazy",!0)("loading","LOADING"===i.loadingTreeState)("value",i.treeMenuItems),e.xp6(3),e.Q6J("ngSwitch",i.loadingTreeState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("model",i.treeContextMenuItems),e.xp6(2),e.Q6J("model",i.rootContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("model",i.inViewContextMenuItems)("popup",!0),e.xp6(2),e.Q6J("visible",i.createGroupDialogVisible)("header","create"===i.createGroupDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b")("resizable",!1),e.xp6(2),e.Q6J("visible",i.createWorkDialogVisible)("autoZIndex",!1)("baseZIndex",999)("header","create"===i.createWorkDialogMode?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b")("resizable",!1)}},dependencies:[Me,$e,B2,R.Fj,R.JJ,R.JL,Le.jx,I.sg,qi.V,R.sg,R.u,I.O5,j.g,Ei.zx,I.tP,I.RF,I.n9,Te.v2,Ze.o,om,hn.G,mt.Rn,R1,dO,L1,mn.H,gh],styles:[".group-list-el[_ngcontent-%COMP%]{cursor:pointer;display:grid;align-items:center;justify-content:center;justify-items:center;padding:.2rem 1rem 1rem;border-radius:.5rem;border:1px solid var(--bgc-200);font-size:.85rem;font-weight:700;color:var(--tc-600);width:min-content;transition:all .1s ease-in-out}.group-list-el[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;width:100%;text-align:center}.group-list-el[_ngcontent-%COMP%]:hover{border-color:var(--mc-100);color:var(--mc-400)}.empty-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.group-description[_ngcontent-%COMP%]{display:grid;border-top:1px solid var(--bgc-200);padding-top:.5rem}"],data:{animation:[Fi.S9]}}),n})();var Ox=C(4776);function gP(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Tol("caption "+(i.getWorkActionsRatioSum(t.uuid)>0?"f-color-success":"f-color-danger")),e.xp6(1),e.hij(" ",i.getWorkActionsRatioSum(t.uuid),"\u0440\u0443\u0431. ")}}function fP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"span",18),e._uU(2),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA(),e.YNc(5,gP,2,3,"span",21),e.TgZ(6,"app-tiny-button",22),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw(3);return e.KtG(h.removeWorkActionRatio(c.uuid))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.hij("x",null==t?null:t.factor,""),e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("size",.8)}}function mP(n,o){if(1&n&&(e.TgZ(0,"div",15)(1,"span",16),e._uU(2,"\u0414\u043e\u043f. \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b:"),e.qZA(),e.TgZ(3,"div",15),e.YNc(4,fP,7,4,"div",17),e.qZA(),e.TgZ(5,"span",18),e._uU(6),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(4),e.Q6J("ngForOf",i.getFactorsActions(t.login))("ngForTrackBy",i.trackByWar),e.xp6(2),e.hij("\u0418\u0442\u043e\u0433: ",i.getEmployeeTotalPayment(t.login)," \u0440\u0443\u0431.")}}function _P(n,o){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"app-avatar",7),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.ynx(4,9),e.TgZ(5,"div",10),e._UZ(6,"p-slider",11),e.TgZ(7,"span",12),e._uU(8),e.ALo(9,"number"),e.qZA()(),e._UZ(10,"p-inputNumber",13),e.YNc(11,mP,7,3,"div",14),e.BQk(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("deleted",t.deleted)("name",t.fullName)("size",5)("src",t.avatar),e.xp6(2),e.Oqu(t.fullName),e.xp6(1),e.Q6J("formGroupName",t.login),e.xp6(2),e.Q6J("max",1)("min",0)("step",.01),e.xp6(2),e.hij(" ",e.xi3(9,12,100*i.employeeRatioForm.value[t.login].ratio,"1.2-2"),"% "),e.xp6(2),e.Q6J("disabled",0===i.totalCostOfWork),e.xp6(1),e.Q6J("ngIf",i.hasWorkActionRatio(t.login))}}let Px=(()=>{class n{constructor(){this.employeeRatioSubscriptions=new it.xf,this.employeeRatioForm=new R.cw({}),this.isDisabled=!1,this._employees=[],this._factorsActions=[],this._actionsTaken=[],this.onRemoveFactorAction=new e.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get employees(){return this._employees}set employees(t){var i;if(null==t)return void(this._employees=[]);this._employees=t;const c=1/t.length;this.employeeRatioForm=new R.cw(t.reduce((h,y)=>{const O=new R.cw({ratio:new R.NI(c),sum:new R.NI(Math.floor(c*this.totalCostOfWork))});return this.employeeRatioSubscriptions.addSubscription(y.login+"rt",O.controls.ratio.valueChanges.subscribe(ce=>{if(null===ce)return;const fe=y.login,ct=Object.keys(this.employeeRatioForm.value).filter(pt=>pt!==fe).map(pt=>this.employeeRatioForm.value[pt].ratio).reduce((pt,rt)=>pt+rt,0);if(ce+ct>1){const pt=ce+ct-1,rt={};for(let Mt in this.employeeRatioForm.value){if(rt[Mt]={ratio:0,sum:0},Mt===fe)continue;const Wt=this.employeeRatioForm.value[Mt].ratio;rt[Mt].ratio=Wt-pt*(Wt/ct),rt[Mt].sum=Math.floor(rt[Mt].ratio*this.totalCostOfWork)}rt[fe].ratio=ce,rt[fe].sum=Math.floor(ce*this.totalCostOfWork),this.employeeRatioForm.patchValue(rt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[fe]:{ratio:ce,sum:Math.floor(ce*this.totalCostOfWork)}},{emitEvent:!1})})),this.employeeRatioSubscriptions.addSubscription(y.login+"sum",O.controls.sum.valueChanges.subscribe(ce=>{if(null!==ce&&ce>this.totalCostOfWork&&(ce=this.totalCostOfWork),null===ce)return;const fe=y.login,ct=Object.keys(this.employeeRatioForm.value).filter(pt=>pt!==fe).map(pt=>this.employeeRatioForm.value[pt].sum).reduce((pt,rt)=>pt+rt,0);if(ce+ct>this.totalCostOfWork){const pt=ce+ct-this.totalCostOfWork,rt={};for(let Mt in this.employeeRatioForm.value){if(rt[Mt]={ratio:0,sum:0},Mt===fe)continue;const Wt=this.employeeRatioForm.value[Mt].sum;rt[Mt].sum=Math.floor(Wt-pt*(Wt/ct)),rt[Mt].ratio=rt[Mt].sum/this.totalCostOfWork}rt[fe].sum=Math.floor(ce),rt[fe].ratio=ce/this.totalCostOfWork,this.employeeRatioForm.patchValue(rt,{emitEvent:!1})}else this.employeeRatioForm.patchValue({[fe]:{ratio:ce/this.totalCostOfWork,sum:Math.floor(ce)}},{emitEvent:!1})})),Object.assign(Object.assign({},h),{[y.login]:O})},{})),this.onChange(this.employeeRatioForm.value),null===(i=this.formSub)||void 0===i||i.unsubscribe(),this.formSub=this.employeeRatioForm.valueChanges.subscribe(h=>{this.onChange(h),this.onTouched()})}get factorsActions(){return this._factorsActions}set factorsActions(t){null!=t?(this._factorsActions=t,this.recalculateAmountsForEmployees()):this._factorsActions=[]}get actionsTaken(){return this._actionsTaken}set actionsTaken(t){null!=t?(this._actionsTaken=t,this.recalculateAmountsForEmployees()):this._actionsTaken=[]}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}get allMoney(){return this.employeeRatioForm.value?Object.values(this.employeeRatioForm.value).reduce((t,i)=>t+i.sum,0):0}get allMoneyWithRatio(){return this.allMoney+this.getTotalWorkActionsRatioSum()}getTotalWorkActionsRatioSum(){return this.factorsActions.reduce((t,i)=>t+this.getWorkActionsRatioSum(i.uuid),0)}ngOnInit(){setTimeout(()=>this.onChange(this.employeeRatioForm.value))}ngOnDestroy(){var t;null===(t=this.formSub)||void 0===t||t.unsubscribe()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}equalize(){const i=1/this.employees.length;Object.keys(this.employeeRatioForm.value).forEach(r=>{this.employeeRatioForm.patchValue({[r]:{ratio:i,sum:Math.floor(i*this.totalCostOfWork)}},{emitEvent:!1})})}setDisabledState(t){this.isDisabled=t}writeValue(t){this.employeeRatioForm.patchValue(t)}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWar(t,i){return i.uuid+i.name+i.factor}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.factorsActions=this.factorsActions.filter(i=>i.uuid!==t),this.onRemoveFactorAction.emit(this.factorsActions)}getEmployeeTotalPayment(t){return this.employeeRatioForm.value[t].sum+this.getFactorsActions(t).reduce((i,r)=>i+this.getWorkActionsRatioSum(r.uuid),0)}getWorkActionsRatioSum(t){const i=this.factorsActions.find(r=>r.uuid===t);if(i){const h=i.actionUuids.reduce((y,O)=>{const ce=this.actionsTaken.find(fe=>fe.uuid===O);return ce?y+ce.cost:y},0)*this.employeeRatioForm.value[i.login].ratio;return Math.floor(h*i.factor-h)}return 0}recalculateAmountsForEmployees(){for(const t in this.employeeRatioForm.value){const i=this.employeeRatioForm.value[t];this.employeeRatioForm.patchValue({[t]:{ratio:i.ratio,sum:Math.floor(i.ratio*this.totalCostOfWork)}},{emitEvent:!1})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-sum-distribution"]],inputs:{employees:"employees",factorsActions:"factorsActions",actionsTaken:"actionsTaken"},outputs:{onRemoveFactorAction:"onRemoveFactorAction"},features:[e._Bn([{provide:R.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:5,consts:[[1,"flex","flex-column","gap-4"],[1,"flexed","gap10","sparnd",3,"formGroup"],["class","flexed column vcenter gap5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","vend","hcenter","gap10"],[1,"caption","wt-bold","f-color-500"],[1,"caption","size-big","wt-bold","f-color-primary"],[1,"flexed","column","vcenter","gap5"],[3,"deleted","name","size","src"],[1,"caption","size-big"],[3,"formGroupName"],[1,"flexed","gap10","hcenter","w-full"],["formControlName","ratio",1,"w-full",3,"max","min","step"],[1,"caption","size-tiny","wt-bold","f-color-500"],["formControlName","sum","suffix"," \u0440\u0443\u0431.",3,"disabled"],["class","flexed column gap2",4,"ngIf"],[1,"flexed","column","gap2"],[1,"caption","size-tiny","wt-bold"],["class","flexed hcenter gap3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"caption"],[1,"flexed","hcenter","gap3"],[1,"caption","size-tiny","wt-bold","f-color-primary"],[3,"class",4,"ngIf"],["icon","delete","model","danger",3,"size","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,_P,12,15,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.employeeRatioForm),e.xp6(1),e.Q6J("ngForOf",i.employees)("ngForTrackBy",i.trackByEmployee),e.xp6(3),e.hij(" \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",i.allMoney," \u0440\u0443\u0431. "),e.xp6(2),e.hij(" \u0418\u0442\u043e\u0433 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u044d\u0444.: ",i.allMoneyWithRatio," \u0440\u0443\u0431. "))},dependencies:[I.sg,I.O5,R.JJ,R.JL,mt.Rn,R.sg,R.u,R.x0,Ox.iR,ss.A,yt,I.JJ]}),n})();function CP(n,o){1&n&&e.GkF(0)}function vP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,CP,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function bP(n,o){1&n&&e.GkF(0)}function yP(n,o){if(1&n&&(e.ynx(0),e.YNc(1,bP,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function IP(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",10)(2,"div",11)(3,"span",12),e._uU(4," \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c "),e.qZA(),e.TgZ(5,"p-button",13),e.NdJ("onClick",function(){e.CHM(t);const r=e.MAs(7);return e.KtG(null==r?null:r.equalize())}),e.qZA()(),e.TgZ(6,"app-employee-sum-distribution",14,15),e.NdJ("onRemoveFactorAction",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onRemoveFactorAction(r))}),e.qZA(),e.TgZ(8,"p-button",16),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendCalculation())}),e.qZA()(),e.BQk()}if(2&n){const t=o.ngIf,i=e.oxw();e.xp6(6),e.Q6J("actionsTaken",t.actionsTaken)("employees",null==i.selectedWorkLog?null:i.selectedWorkLog.employees)("factorsActions",t.factorsActions)("formControl",i.employeeRatioForm),e.xp6(2),e.Q6J("loading",i.isSendingCalculation)}}function AP(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",20),e._UZ(2,"p-progressSpinner",21),e.qZA(),e.BQk())}function TP(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",20)(2,"div",22),e._UZ(3,"span",23),e.TgZ(4,"span"),e._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA()()(),e.BQk())}function wP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"span",29),e._uU(4),e.qZA(),e.TgZ(5,"span",30),e._uU(6,"\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 "),e._UZ(7,"app-task-link",31),e.qZA()(),e.TgZ(8,"div",28)(9,"span",29),e._uU(10),e.ALo(11,"titlecase"),e.ALo(12,"date"),e.qZA(),e._UZ(13,"app-employee-label",32),e.qZA(),e.TgZ(14,"div",28)(15,"span",29),e._uU(16),e.ALo(17,"titlecase"),e.ALo(18,"date"),e.qZA(),e._UZ(19,"app-avatar-list",33),e.qZA()(),e._UZ(20,"div",34),e.TgZ(21,"div",35)(22,"p-button",36),e.NdJ("onClick",function(){const c=e.CHM(t).$implicit,h=e.oxw(3);return e.KtG(h.selectWork(c))}),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(4),e.hij("#",t.workLogId,""),e.xp6(3),e.Q6J("task",t.task),e.xp6(3),e.hij("\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430: ",e.lcZ(11,8,e.xi3(12,10,t.created,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employee",t.creator)("size",1.2),e.xp6(3),e.hij("\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430: ",e.lcZ(17,13,e.xi3(18,15,t.closed,"EEEE, dd MMMM yyyy HH:mm")),""),e.xp6(3),e.Q6J("employees",t.employees)("size",1.2)}}function xP(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",24),e.YNc(2,wP,23,18,"div",25),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.uncalculatedWorkLogs)("ngForTrackBy",t.trackByWorkLog)}}function EP(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",20)(2,"div",37),e._UZ(3,"span",38),e.TgZ(4,"span"),e._uU(5,"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA()()(),e.BQk())}function SP(n,o){if(1&n&&(e.TgZ(0,"div",17),e._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0435 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445"),e.qZA(),e.ynx(2,18),e.YNc(3,AP,3,0,"ng-container",19),e.YNc(4,TP,6,0,"ng-container",19),e.YNc(5,xP,3,2,"ng-container",19),e.YNc(6,EP,6,0,"ng-container",19),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY")}}function kP(n,o){1&n&&(e.TgZ(0,"span",54),e._uU(1,"(\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0430)"),e.qZA())}function MP(n,o){if(1&n&&(e.TgZ(0,"div",55)(1,"div",56),e._uU(2),e.qZA(),e.TgZ(3,"div",30),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.textRepresentation," ")}}function DP(n,o){1&n&&(e.TgZ(0,"div",44),e._UZ(1,"span",57),e.TgZ(2,"span"),e._uU(3," \u0426\u0435\u043b\u044c "),e.qZA()())}function OP(n,o){if(1&n&&(e.TgZ(0,"div",58),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription," ")}}const PP=function(){return[]};function RP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"p-button",40),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.unselectWork())}),e.qZA(),e.TgZ(2,"span",41),e._uU(3),e.qZA(),e.YNc(4,kP,2,0,"span",42),e.qZA(),e.TgZ(5,"div",43)(6,"div",27)(7,"div",44),e._UZ(8,"span",45),e.TgZ(9,"span"),e._uU(10," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 "),e.qZA()(),e.TgZ(11,"div",46),e.YNc(12,MP,5,2,"div",47),e.qZA()(),e.TgZ(13,"div",27),e.YNc(14,DP,4,0,"div",48),e.YNc(15,OP,2,1,"div",49),e.qZA(),e.TgZ(16,"div",27)(17,"div",44),e._UZ(18,"span",50),e.TgZ(19,"span"),e._uU(20),e.qZA()(),e.TgZ(21,"div",51),e._uU(22),e.qZA()(),e._UZ(23,"div",52)(24,"app-works-picker",53),e.qZA()}if(2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("disabled",t.isSendingCalculation),e.xp6(2),e.hij("\u0420\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435 #",null==t.selectedWorkLog||null==t.selectedWorkLog.task?null:t.selectedWorkLog.task.taskId,""),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.isForceClosed),e.xp6(8),e.Q6J("ngForOf",null!==(i=null==t.selectedWorkLog||null==t.selectedWorkLog.task?null:t.selectedWorkLog.task.fields)&&void 0!==i?i:e.DdM(11,PP))("ngForTrackBy",t.trackByField),e.xp6(2),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(1),e.Q6J("ngIf",null==t.selectedWorkLog?null:t.selectedWorkLog.targetDescription),e.xp6(5),e.hij(" ",null!=t.selectedWorkLog&&t.selectedWorkLog.isForceClosed?"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f":"\u041e\u0442\u0447\u0435\u0442"," "),e.xp6(2),e.hij(" ",null==t.selectedWorkLog?null:t.selectedWorkLog.report," "),e.xp6(2),e.Q6J("employees",null==t.selectedWorkLog?null:t.selectedWorkLog.employees)("formControl",t.worksPicker)}}function LP(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60)(2,"label"),e._uU(3,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(4,"textarea",61),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.emptyCalculationDescription=r)}),e.qZA()(),e.TgZ(5,"div",62)(6,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return r.emptyCalculationConformationDialogVisible=!1,e.KtG(r.emptyCalculationDescription="")}),e.qZA(),e.TgZ(7,"p-button",64),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.sendEmptyCalculation())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.emptyCalculationDescription)("autoResize",!0)("rows",5),e.xp6(2),e.Q6J("disabled",t.isSendingCalculation),e.xp6(1),e.Q6J("disabled",!t.emptyCalculationDescription)("loading",t.isSendingCalculation)}}const NP=function(){return{marginBottom:"1rem"}},FP=function(){return{width:"50vw",minWidth:"fit-content"}};let BP=(()=>{class n{constructor(t,i,r){this.api=t,this.confirmation=i,this.rt=r,this.uncalculatedWorkLogs=[],this.loadingState=ft.Gu.LOADING,this.actionsTaken=[],this.employeeRatioForm=new R.NI({}),this.factorsActions=[],this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.isSendingCalculation=!1,this.subscriptions=new it.xf,this.removeWorkLogFromListHandler={next:c=>{this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(h=>h.workLogId!==c.workLogId)}},this.addWorkLogToListHandler={next:c=>{this.uncalculatedWorkLogs.unshift(c)}},this.sendingCalculationHandlers={next:()=>{this.isSendingCalculation=!1,this.emptyCalculationConformationDialogVisible=!1,this.emptyCalculationDescription="",this.resetCalculation(),this.selectedWorkLog&&(this.uncalculatedWorkLogs=this.uncalculatedWorkLogs.filter(c=>{var h;return c.workLogId!==(null===(h=this.selectedWorkLog)||void 0===h?void 0:h.workLogId)}),this.uncalculatedWorkLogs.length>0&&this.selectWork(this.uncalculatedWorkLogs[0]))},error:()=>{this.isSendingCalculation=!1}},this.worksPicker=new R.NI(null)}get totalCostOfWork(){return this.actionsTaken.reduce((t,i)=>t+i.cost,0)}trackByField(t,i){return i.name+i.textRepresentation+i.modelItemId}trackByEmployee(t,i){return i.login+i.fullName+i.avatar}trackByWorkLog(t,i){return i.workLogId}ngOnInit(){this.loadUncalculatedWorkLogs(),this.subscriptions.addSubscription("wp",this.worksPicker.valueChanges.subscribe(t=>{var i;!t||(this.actionsTaken=t.actionsTaken,this.factorsActions=null!==(i=t.factorsActions)&&void 0!==i?i:[])}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadUncalculatedWorkLogs(){this.loadingState=ft.Gu.LOADING,this.api.getUncalculatedWorkLogs().subscribe({next:t=>{this.uncalculatedWorkLogs=t,this.loadingState=t.length>0?ft.Gu.READY:ft.Gu.EMPTY},error:t=>{this.loadingState=ft.Gu.ERROR}}),this.subscriptions.addSubscription("wlUpd",this.rt.workLogUpdated().pipe((0,Ka.h)(t=>t.calculated)).subscribe(this.removeWorkLogFromListHandler)),this.subscriptions.addSubscription("wlCr",this.rt.workLogClosed().pipe((0,Ka.h)(t=>!t.calculated)).subscribe(this.addWorkLogToListHandler))}selectWork(t){this.selectedWorkLog=t}unselectWork(){this.selectedWorkLog=void 0,this.resetCalculation()}resetCalculation(){this.worksPicker.reset(),this.employeeRatioForm.reset()}sendCalculation(){0!==this.actionsTaken.length?this.confirmation.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u0447\u0435\u0442?",accept:()=>{!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))}))}).subscribe(this.sendingCalculationHandlers))}}):this.emptyCalculationConformationDialogVisible=!0}sendEmptyCalculation(){!this.selectedWorkLog||(this.isSendingCalculation=!0,this.api.sendWorkCalculation({workLogId:this.selectedWorkLog.workLogId,emptyDescription:this.emptyCalculationDescription,actions:this.actionsTaken.map(t=>({workId:t.workId,actionId:t.actionId,count:t.count,uuid:t.uuid})),spreading:this.selectedWorkLog.employees.map(t=>({login:t.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[t.login].ratio:0,factorsActions:this.getFactorsActions(t.login).filter(i=>i).map(i=>({factor:i.factor,name:i.name,actionUuids:i.actionUuids}))}))}).subscribe(this.sendingCalculationHandlers))}getWorkActionsRatioSum(t){const i=this.factorsActions.find(r=>r.uuid===t);if(i){const h=i.actionUuids.reduce((y,O)=>{const ce=this.actionsTaken.find(fe=>fe.uuid===O);return ce?y+ce.cost:y},0)*(this.employeeRatioForm.value?this.employeeRatioForm.value[i.login].ratio:0);return Math.floor(h*i.factor-h)}return 0}getFactorsActions(t){return this.factorsActions.filter(i=>i.login===t)}removeWorkActionRatio(t){this.factorsActions=this.factorsActions.filter(i=>i.uuid!==t)}hasWorkActionRatio(t){return this.factorsActions.find(i=>i.login===t)}getEmployeeTotalPayment(t){return(this.employeeRatioForm.value?this.employeeRatioForm.value[t].sum:0)+this.getFactorsActions(t).reduce((i,r)=>i+this.getWorkActionsRatioSum(r.uuid),0)}onRemoveFactorAction(t){this.worksPicker.value&&this.worksPicker.setValue({actionsTaken:this.worksPicker.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Le.YP),e.Y36(Dn.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([Le.Y])],decls:15,vars:15,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","stretched","panel","p10"],[4,"ngIf"],["uncalculatedListTemp",""],["selectedWorkTemp",""],["header","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0440\u0430\u0441\u0447\u0435\u0442?",3,"visible","draggable","modal","resizable","visibleChange"],["pTemplate","content"],[4,"ngTemplateOutlet"],[1,"flexed","column","gap15","stretched","panel","p20"],[1,"flexed","gap10","hcenter","spbtw"],[1,"caption","size-huge"],["icon","mdi-equalizer","label","\u0420\u0430\u0432\u043d\u044b\u0435 \u0434\u043e\u043b\u0438","styleClass","p-button-text p-button-secondary",3,"onClick"],[3,"actionsTaken","employees","factorsActions","formControl","onRemoveFactorAction"],["sumDistr",""],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",1,"align-self-end",3,"loading","onClick"],[1,"caption","size-huge","wt-tiny","f-color-600"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"stretched","relative"],["strokeWidth","1",1,"primary-spinner","center-of-content"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-danger","wt-bold"],[1,"mds-error"],[1,"flexed","column"],["class","flexed gap3 p10 split-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flexed","gap3","p10","split-line"],[1,"flexed","column","gap3"],[1,"flexed","gap5","hcenter"],[1,"caption","size-small","wt-bold","f-color-600"],[1,"caption"],[3,"task"],[3,"employee","size"],[3,"employees","size"],[1,"stretched"],[1,"flexed","hcenter"],["label","\u0420\u0430\u0441c\u0447\u0438\u0442\u0430\u0442\u044c","styleClass","p-button-outlined p-button-success",3,"onClick"],[1,"flexed","column","vcenter","center-of-content","caption","size-huge","f-color-400","wt-bold"],[1,"mds-release_alert"],[1,"flexed","hcenter","gap10"],["icon","mdi-arrow_back","styleClass","p-button-text p-button-icon",3,"disabled","onClick"],[1,"caption","wt-tiny","f-color-600","size-huge"],["class","caption f-color-danger wt-bold size-big",4,"ngIf"],[1,"flexed","column","p-sides-20","gap10"],[1,"caption","f-color-700","size-big","with-icon"],[1,"mdi-info"],[1,"flexed","column","p-sides-20","gap5"],["class","flexed gap1 column",4,"ngFor","ngForOf","ngForTrackBy"],["class","caption f-color-700 size-big with-icon",4,"ngIf"],["class","flexed column p-sides-20",4,"ngIf"],[1,"mdi-feed"],[1,"caption","prewrap","p-sides-20"],[1,"terminator-bottom"],[1,"mb-4",3,"employees","formControl"],[1,"caption","f-color-danger","wt-bold","size-big"],[1,"flexed","gap1","column"],[1,"caption","size-small","wt-bold","f-color-500"],[1,"mdi-radar"],[1,"flexed","column","p-sides-20"],[1,"flexed","column","gap10"],[1,"input-label-wrapper"],["pInputTextarea","",1,"stretched",3,"ngModel","autoResize","rows","ngModelChange"],[1,"flexed","hcenter","vend","gap10"],["icon","mdi-close","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","styleClass","p-button-secondary p-button-text",3,"disabled","onClick"],["icon","mdi-check","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","styleClass","p-button-danger",3,"disabled","loading","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,vP,2,1,"ng-container",4),e.YNc(6,yP,2,1,"ng-container",4),e.qZA(),e.YNc(7,IP,9,5,"ng-container",4),e.ALo(8,"async"),e.qZA()()(),e.YNc(9,SP,7,5,"ng-template",null,5,e.W1O),e.YNc(11,RP,25,12,"ng-template",null,6,e.W1O),e.TgZ(13,"p-dialog",7),e.NdJ("visibleChange",function(c){return i.emptyCalculationConformationDialogVisible=c}),e.YNc(14,LP,8,6,"ng-template",8),e.qZA()),2&t&&(e.xp6(1),e.Akn(e.DdM(13,NP)),e.xp6(4),e.Q6J("ngIf",!i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",i.selectedWorkLog),e.xp6(1),e.Q6J("ngIf",e.lcZ(8,11,i.selectedWorkLog&&i.worksPicker.valueChanges)),e.xp6(6),e.Akn(e.DdM(14,FP)),e.Q6J("visible",i.emptyCalculationConformationDialogVisible)("draggable",!1)("modal",!0)("resizable",!1))},dependencies:[Me,$e,Tt.U,Ri.x,as.k,fh,Px,R.Fj,R.JJ,R.On,Le.jx,I.sg,qi.V,R.oH,I.O5,j.g,Ei.zx,I.tP,I.RF,I.n9,hn.G,I.Ov,I.uU,I.rS],styles:[".table-wrapper[_ngcontent-%COMP%]{border:1px solid var(--bgc-300);border-radius:var(--br-200);overflow:hidden}"]}),n})();var HP=C(262),ZP=C(4671);let UP=(()=>{class n{constructor(t){this.api=t,this.users=[],this.page=[],this.first=0,this.PAGE_SIZE=10,this.userLoadingState=ft.Gu.EMPTY,this.filtrationForm=new R.cw({mode:new R.NI("address"),query:new R.NI("")}),this.changeUsersSubject=new Zi.x,this.changeUsers$=this.changeUsersSubject.asObservable(),this.modeChange$=this.filtrationForm.controls.mode.valueChanges,this.filterChange$=this.filtrationForm.valueChanges.pipe((0,ri.b)(1e3),(0,mi.x)(),(0,Vi.b)(()=>{this.userLoadingState=ft.Gu.LOADING}),(0,Sr.w)(i=>{if(!i.query)return(0,cr.of)([]);switch(i.mode){case"login":return this.api.getBillingUsersByLogin(i.query);case"fio":return this.api.getBillingUsersByFio(i.query);case"address":return this.api.getBillingUsersByAddress(i.query)}return(0,cr.of)([])}),(0,HP.K)((i,r)=>(this.userLoadingState=ft.Gu.ERROR,this.users=[],(0,cr.of)([]))),function VP(n=1/0){let o;o=n&&"object"==typeof n?n:{count:n};const{count:t=1/0,delay:i,resetOnSuccess:r=!1}=o;return t<=0?ZP.y:(0,cp.e)((c,h)=>{let O,y=0;const ce=()=>{let fe=!1;O=c.subscribe(new Cl.Q(h,ct=>{r&&(y=0),h.next(ct)},void 0,ct=>{if(y++<t){const pt=()=>{O?(O.unsubscribe(),O=null,ce()):fe=!0};if(null!=i){const rt="number"==typeof i?(0,wf.H)(i):(0,Su.Xf)(i(ct,y)),Mt=new Cl.Q(h,()=>{Mt.unsubscribe(),pt()},()=>{h.complete()});rt.subscribe(Mt)}else pt()}else h.error(ct)})),fe&&(O.unsubscribe(),O=null,ce())};ce()})}()),this.usersHandler={next:i=>{this.userLoadingState=i&&0!==i.length?ft.Gu.READY:ft.Gu.EMPTY,this.users=i&&0!==i.length?i:[],this.first=1,this.page=this.users.slice(0,this.PAGE_SIZE)}},this.filterChange$.subscribe(i=>this.changeUsersSubject.next(i)),this.modeChange$.subscribe(()=>{this.filtrationForm.patchValue({query:""})}),this.changeUsers$.subscribe(this.usersHandler)}get isAddressMode(){return"address"===this.filtrationForm.controls.mode.value}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(V.s))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rx=(()=>{class n{constructor(){this.appPreventInput=!1}onKeyDown(t){this.appPreventInput&&t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appPreventInput",""]],hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(c){return i.onKeyDown(c)})},inputs:{appPreventInput:"appPreventInput"}}),n})();function zP(n,o){if(1&n&&e._UZ(0,"input",13),2&n){const t=e.oxw();e.Q6J("appPreventInput","LOADING"===t.busService.userLoadingState)}}function GP(n,o){1&n&&e._UZ(0,"app-address-input",14)}function QP(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",15),e._UZ(2,"p-progressSpinner",16),e.qZA(),e.BQk())}function JP(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",17),e._UZ(3,"span",18),e.TgZ(4,"span"),e._uU(5,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()()(),e.BQk())}function jP(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",19),e._UZ(3,"span",20),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function WP(n,o){1&n&&e._UZ(0,"app-colored-tag",36)}function YP(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",32),e._uU(2," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: "),e.qZA(),e.TgZ(3,"span",37),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.coment," ")}}const KP=function(n){return["/billing","user",n]},qP=function(n){return{"f-color-danger":n}};function $P(n,o){if(1&n&&(e.TgZ(0,"div",25)(1,"span",26)(2,"span",27),e._uU(3),e.qZA(),e.TgZ(4,"span",28),e._uU(5),e.qZA(),e._UZ(6,"app-colored-tag",29),e.YNc(7,WP,1,0,"app-colored-tag",30),e._UZ(8,"div",31),e.TgZ(9,"span")(10,"span",32),e._uU(11," \u0422\u0435\u043b\u0435\u0444\u043e\u043d: "),e.qZA(),e.TgZ(12,"span",33),e._uU(13),e.qZA()()(),e.TgZ(14,"span",26)(15,"span")(16,"span",32),e._uU(17," \u0424\u0418\u041e: "),e.qZA(),e.TgZ(18,"span",33),e._uU(19),e.qZA()(),e.TgZ(20,"span")(21,"span",32),e._uU(22," \u0422\u0430\u0440\u0438\u0444: "),e.qZA(),e.TgZ(23,"span",34),e._uU(24),e.qZA()()(),e.YNc(25,YP,5,1,"span",35),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",e.VKq(11,KP,t.uname)),e.xp6(3),e.Oqu(t.uname),e.xp6(2),e.Oqu(t.addr),e.xp6(1),e.Q6J("caption","1"===t.state?"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0438\u0306":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0438\u0306")("color","1"===t.state?"var(--mc-500)":"var(--danger-600)"),e.xp6(1),e.Q6J("ngIf","11"===t.utype),e.xp6(6),e.hij(" ",t.phone," "),e.xp6(6),e.hij(" ",t.fio," "),e.xp6(4),e.Q6J("ngClass",e.VKq(13,qP,!t.tarif)),e.xp6(1),e.hij(" ",t.tarif?t.tarif:"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"," "),e.xp6(1),e.Q6J("ngIf",t.coment)}}function XP(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",21)(2,"div",22),e.YNc(3,$P,26,15,"div",23),e.qZA(),e.TgZ(4,"p-paginator",24),e.NdJ("onPageChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.pageChange(r))}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("@flowInChild",void 0),e.xp6(1),e.Q6J("ngForOf",t.busService.page),e.xp6(1),e.Q6J("first",t.busService.first)("rows",t.busService.PAGE_SIZE)("totalRecords",t.busService.users.length)}}const eR=function(){return{marginBottom:"1rem"}};let tR=(()=>{class n{constructor(t){this.busService=t,this.filterModeItems=[{label:"\u0410\u0434\u0440\u0435\u0441",value:"address"},{label:"\u041b\u043e\u0433\u0438\u043d",value:"login"},{label:"\u0424\u0418\u041e",value:"fio"}]}ngOnInit(){}pageChange(t){this.busService.first=t.first,this.busService.page=this.busService.users.slice(t.first,t.first+t.rows)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(UP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:22,vars:13,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[1,"flexed","column","gap10","stretched"],[1,"flexed","column","gap10","panel","p10"],[1,"caption","size-big","f-color-500"],[1,"flexed","gap10",3,"formGroup"],[1,"input-label-wrapper"],["formControlName","mode",3,"disabled","options"],[1,"input-label-wrapper","stretched"],["formControlName","query","pInputText","","type","text",3,"appPreventInput",4,"ngIf"],["formControlName","query",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["formControlName","query","pInputText","","type","text",3,"appPreventInput"],["formControlName","query"],[1,"flexed","vcenter","hcenter","gap10","stretched","panel","p10"],["strokeWidth","1",1,"primary-spinner"],[1,"flexed","column","vcenter","caption","f-color-500","size-huge","wt-tiny"],[1,"mds-person_search"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[1,"flexed","column","gap5","stretched","panel","p10"],[1,"flexed","column","stretched"],["class","subscriber-item split-line",3,"routerLink",4,"ngFor","ngForOf"],[3,"first","rows","totalRecords","onPageChange"],[1,"subscriber-item","split-line",3,"routerLink"],[1,"flexed","gap5","hcenter"],[1,"caption","wt-bold","f-color-600"],[1,"caption","f-color-600"],[3,"caption","color"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)",4,"ngIf"],[1,"stretched"],[1,"caption","wt-black","size-small","f-color-500"],[1,"caption"],[1,"caption",3,"ngClass"],[4,"ngIf"],["caption","\u0411\u0438\u0437\u043d\u0435\u0441","color","var(--warm-600)"],[1,"caption","size-small"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"div",3)(5,"span",4),e._uU(6,"\u041f\u043e\u0438\u0441\u043a \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u043e\u0432"),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"label"),e._uU(10,"\u0420\u0435\u0436\u0438\u043c \u043f\u043e\u0438\u0441\u043a\u0430"),e.qZA(),e._UZ(11,"p-selectButton",7),e.qZA(),e.TgZ(12,"div",8)(13,"label"),e._uU(14,"\u0417\u0430\u043f\u0440\u043e\u0441"),e.qZA(),e.YNc(15,zP,1,1,"input",9),e.YNc(16,GP,1,0,"app-address-input",10),e.qZA()()(),e.ynx(17,11),e.YNc(18,QP,3,0,"ng-container",12),e.YNc(19,JP,6,0,"ng-container",12),e.YNc(20,jP,6,0,"ng-container",12),e.YNc(21,XP,5,5,"ng-container",12),e.BQk(),e.qZA()()()),2&t&&(e.xp6(1),e.Akn(e.DdM(12,eR)),e.xp6(6),e.Q6J("formGroup",i.busService.filtrationForm),e.xp6(4),e.Q6J("disabled","LOADING"===i.busService.userLoadingState)("options",i.filterModeItems),e.xp6(4),e.Q6J("ngIf",!i.busService.isAddressMode),e.xp6(1),e.Q6J("ngIf",i.busService.isAddressMode),e.xp6(1),e.Q6J("ngSwitch",i.busService.userLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"))},dependencies:[Me,$e,yn.C,M.Q,Rx,s.rH,R.Fj,R.JJ,R.JL,I.sg,R.sg,R.u,I.O5,I.RF,I.n9,Ze.o,I.mk,hn.G,Wo.D,ei.UN],styles:[".subscriber-item[_ngcontent-%COMP%]{display:grid;grid:auto-flow/1fr;gap:.5rem;padding:1rem;cursor:pointer;transition:background-color .1s ease-in-out,color .1s ease-in-out}.subscriber-item[_ngcontent-%COMP%]:hover{background-color:var(--mc-0)}.subscriber-item[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{color:var(--mc-500)}"],data:{animation:[Fi.S9]}}),n})();var nR=C(6847);function iR(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"p-progressSpinner",12),e.qZA(),e.BQk())}function oR(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",13),e._UZ(3,"span",14),e.TgZ(4,"span"),e._uU(5,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.qZA()()(),e.BQk())}function sR(n,o){1&n&&e.GkF(0)}function rR(n,o){if(1&n&&(e.ynx(0),e.YNc(1,sR,1,0,"ng-container",15),e.BQk()),2&n){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function aR(n,o){1&n&&e.GkF(0)}function lR(n,o){1&n&&e.GkF(0)}function cR(n,o){1&n&&e.GkF(0)}function uR(n,o){1&n&&e.GkF(0)}function dR(n,o){if(1&n&&(e.TgZ(0,"span",30),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" \u041a\u0440\u0435\u0434\u0438\u0442: ",e.xi3(2,1,t.creditAmount,"RUB")," ")}}const pR=function(n,o){return{"f-color-primary":n,"f-color-danger":o}};function hR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"p-button",18),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.customNav.backOrDefault(["/billing","search"]))}),e.qZA(),e.TgZ(3,"span",19),e._UZ(4,"span",20),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.YNc(7,aR,1,0,"ng-container",15),e._UZ(8,"div",21),e.TgZ(9,"span",22),e._uU(10,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e "),e._UZ(11,"app-time-elapsed",23),e._uU(12," \u043d\u0430\u0437\u0430\u0434"),e.qZA(),e.TgZ(13,"p-button",24),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.load())}),e.qZA()(),e.TgZ(14,"div",25),e.YNc(15,lR,1,0,"ng-container",15),e.YNc(16,cR,1,0,"ng-container",15),e.YNc(17,uR,1,0,"ng-container",15),e.qZA(),e.TgZ(18,"div",26)(19,"p-button",27),e.NdJ("onClick",function(r){e.CHM(t),e.oxw();const c=e.MAs(17);return e.KtG(c.toggle(r))}),e.qZA(),e._UZ(20,"div",21),e.YNc(21,dR,3,4,"span",28),e.TgZ(22,"span",29),e._uU(23),e.ALo(24,"currency"),e.qZA()()()}if(2&n){const t=e.oxw(),i=e.MAs(9),r=e.MAs(11),c=e.MAs(13),h=e.MAs(15);e.xp6(6),e.hij(" ",null==t.userInfo?null:t.userInfo.uname," "),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(4),e.Q6J("startTime",t.loadingTimestamp),e.xp6(4),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("ngTemplateOutlet",c),e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(4),e.Q6J("ngIf",t.creditAmount),e.xp6(1),e.Q6J("ngClass",e.WLB(12,pR,t.moneyAmount>=0,t.moneyAmount<0)),e.xp6(1),e.hij(" \u0411\u0430\u043b\u0430\u043d\u0441: ",e.xi3(24,9,t.moneyAmount,"RUB")," ")}}function gR(n,o){1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",35),e.BQk())}function fR(n,o){1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",36),e.BQk())}function mR(n,o){1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",37),e.BQk())}function _R(n,o){1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",38),e.BQk())}function CR(n,o){1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",39),e.BQk())}function vR(n,o){1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",40),e.BQk())}function bR(n,o){1&n&&(e.ynx(0),e._UZ(1,"app-colored-tag",36),e.BQk())}function yR(n,o){1&n&&e._UZ(0,"app-colored-tag",41)}function IR(n,o){if(1&n&&(e.TgZ(0,"div",31),e.ynx(1,2),e.YNc(2,gR,2,0,"ng-container",3),e.YNc(3,fR,2,0,"ng-container",3),e.YNc(4,mR,2,0,"ng-container",3),e.YNc(5,_R,2,0,"ng-container",3),e.YNc(6,CR,2,0,"ng-container",3),e.YNc(7,vR,2,0,"ng-container",3),e.YNc(8,bR,2,0,"ng-container",32),e.BQk(),e._UZ(9,"app-colored-tag",33),e.YNc(10,yR,1,0,"app-colored-tag",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.state),e.xp6(1),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",100),e.xp6(1),e.Q6J("ngSwitchCase",7),e.xp6(1),e.Q6J("ngSwitchCase",10),e.xp6(1),e.Q6J("ngSwitchCase",9),e.xp6(1),e.Q6J("ngSwitchCase",11),e.xp6(2),e.Q6J("caption",t.isOnline?"\u041e\u043d\u043b\u0430\u0438\u0306\u043d":"\u041e\u0444\u043b\u0430\u0438\u0306\u043d")("color",t.isOnline?"var(--scs-500)":"var(--danger-500)"),e.xp6(1),e.Q6J("ngIf",t.hasCredit)}}function AR(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",45),e._uU(2," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: "),e.qZA(),e.TgZ(3,"span",46),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.coment," ")}}function TR(n,o){if(1&n&&(e.TgZ(0,"div",42)(1,"span",43),e._uU(2," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c "),e.qZA(),e.TgZ(3,"div",44)(4,"span")(5,"span",45),e._uU(6," \u0410\u0434\u0440\u0435\u0441: "),e.qZA(),e.TgZ(7,"span",46),e._uU(8),e.qZA()(),e.TgZ(9,"span")(10,"span",45),e._uU(11," \u0424\u0418\u041e: "),e.qZA(),e.TgZ(12,"span",46),e._uU(13),e.qZA()(),e.TgZ(14,"span")(15,"span",45),e._uU(16," \u0422\u0435\u043b\u0435\u0444\u043e\u043d: "),e.qZA(),e.TgZ(17,"span",46),e._uU(18),e.qZA()(),e.TgZ(19,"span")(20,"span",45),e._uU(21," \u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0437\u0430\u043a\u043b\u044e\u0447\u0435\u043d: "),e.qZA(),e.TgZ(22,"span",46),e._uU(23),e.ALo(24,"titlecase"),e.ALo(25,"date"),e.qZA()(),e.YNc(26,AR,5,1,"span",47),e.qZA()()),2&n){const t=e.oxw();e.xp6(8),e.hij(" ",null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.addr," "),e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.fio," "),e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.phone," "),e.xp6(5),e.hij(" ",e.lcZ(24,5,e.xi3(25,7,null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.ddog,"EEEE dd MMMM yyyy")),"\u0433. "),e.xp6(3),e.Q6J("ngIf",null==t.userInfo||null==t.userInfo.ibase?null:t.userInfo.ibase.coment)}}const wR=function(n){return[n,""," \u043d\u0430\u0437\u0430\u0434",!1,!0]};function xR(n,o){if(1&n&&(e.TgZ(0,"div",42)(1,"span",43),e._uU(2," \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA(),e.TgZ(3,"div",44)(4,"span")(5,"span",45),e._uU(6," IP: "),e.qZA(),e.TgZ(7,"span",46)(8,"span"),e._uU(9),e.qZA(),e.TgZ(10,"span",48),e._uU(11),e.qZA()()(),e.TgZ(12,"span")(13,"span",45),e._uU(14," \u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c: "),e.qZA(),e.TgZ(15,"span",46),e._uU(16),e.ALo(17,"titlecase"),e.ALo(18,"date"),e.ALo(19,"elapsedTime"),e.qZA(),e._UZ(20,"span",49),e.qZA()()()),2&n){const t=e.oxw();e.xp6(9),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.intIp," "),e.xp6(1),e.Udp("color",t.isOnline?"var(--scs-500)":"var(--danger-500)"),e.xp6(1),e.hij(" ",t.isOnline?"\u041e\u043d\u043b\u0430\u0438\u0306\u043d":"\u041e\u0444\u043b\u0430\u0438\u0306\u043d"," "),e.xp6(5),e.AsE(" ",e.lcZ(17,6,e.xi3(18,8,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.last,"dd MMMM yyyy HH:mm:ss"))," (",e.G7q(19,11,e.VKq(17,wR,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.last)),") ")}}function ER(n,o){if(1&n&&(e.TgZ(0,"span",54),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.mainTariff?null:t.mainTariff.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 ")}}function SR(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",54),e._uU(4),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij(" ",null==t?null:t.service," "),e.xp6(2),e.hij(" ",null==t?null:t.price," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 ")}}function kR(n,o){if(1&n&&(e.TgZ(0,"span",52)(1,"span",45),e._uU(2," \u0421\u0435\u0440\u0432\u0438\u0441\u044b: "),e.qZA(),e.TgZ(3,"div",53),e.YNc(4,SR,5,2,"span",55),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.services)}}function MR(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",45),e._uU(2," \u041f\u0435\u0440\u0438\u043e\u0434 \u0442\u0430\u0440\u0438\u0444\u0430: "),e.qZA(),e.TgZ(3,"span",46),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA(),e._uU(7," - "),e.TgZ(8,"span",46),e._uU(9),e.ALo(10,"titlecase"),e.ALo(11,"date"),e.qZA(),e._UZ(12,"span",56),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,2,e.xi3(6,4,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.hdate,"dd MMMM yyyy HH:mm"))," "),e.xp6(5),e.hij(" ",e.lcZ(10,7,e.xi3(11,9,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate,"dd MMMM yyyy HH:mm"))," ")}}const DR=function(n){return[n,"","",!1,!0]};function OR(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",45),e._uU(2," \u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437: "),e.qZA(),e.TgZ(3,"span",46),e._uU(4),e.ALo(5,"elapsedTime"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.G7q(5,1,e.VKq(7,DR,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.edate))," ")}}function PR(n,o){if(1&n&&(e.TgZ(0,"span")(1,"span",45),e._uU(2," \u0418\u0437\u043c. \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f: "),e.qZA(),e.TgZ(3,"span",46),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"date"),e.qZA(),e._UZ(7,"span",57),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,1,e.xi3(6,3,null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.endstate,"dd MMMM yyyy HH:mm"))," ")}}function RR(n,o){if(1&n&&(e.TgZ(0,"div",42)(1,"span",43),e._uU(2," \u0422\u0430\u0440\u0438\u0444\u044b "),e.qZA(),e.TgZ(3,"div",44)(4,"span")(5,"span",45),e._uU(6," \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439: "),e.qZA(),e.TgZ(7,"span",46)(8,"span"),e._uU(9),e.qZA(),e.YNc(10,ER,2,1,"span",50),e.qZA()(),e.YNc(11,kR,5,1,"span",51),e.TgZ(12,"span")(13,"span",45),e._uU(14," \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0439\u043c\u043e\u0441\u0442\u044c: "),e.qZA(),e.TgZ(15,"span",46),e._uU(16),e.qZA()(),e.TgZ(17,"span",52)(18,"span",45),e._uU(19," \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: "),e.qZA(),e.TgZ(20,"div",53)(21,"span")(22,"span"),e._uU(23," \u041f\u043e \u0442\u0430\u0440\u0438\u0444\u0443 "),e.qZA(),e.TgZ(24,"span",54),e._uU(25),e.qZA()(),e.TgZ(26,"span")(27,"span"),e._uU(28," \u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f "),e.qZA(),e.TgZ(29,"span",54),e._uU(30),e.qZA()()()(),e.YNc(31,MR,13,12,"span",47),e.YNc(32,OR,6,9,"span",47),e.YNc(33,PR,8,6,"span",47),e.qZA()()),2&n){const t=e.oxw();e.xp6(9),e.hij(" ",null!=t.mainTariff&&t.mainTariff.service?null==t.mainTariff?null:t.mainTariff.service:"\u041d\u0435\u0442 \u0442\u0430\u0440\u0438\u0444\u0430"," "),e.xp6(1),e.Q6J("ngIf",null==t.mainTariff?null:t.mainTariff.service),e.xp6(1),e.Q6J("ngIf",t.services.length>0),e.xp6(5),e.hij(" ",t.totalCost," \u0440\u0443\u0431/\u043f\u0435\u0440\u0438\u043e\u0434 "),e.xp6(9),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.tspeed," \u041c\u0431\u0438\u0442/\u0441 "),e.xp6(5),e.hij(" ",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.speed," \u041c\u0431\u0438\u0442/\u0441 "),e.xp6(1),e.Q6J("ngIf",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.hdate),e.xp6(1),e.Q6J("ngIf",t.isEndTariffDateAfter),e.xp6(1),e.Q6J("ngIf",null==t.userInfo||null==t.userInfo.newTarif?null:t.userInfo.newTarif.endstate)}}const LR=function(){return{marginBottom:"1rem"}};let NR=(()=>{class n{constructor(t,i,r,c,h){this.api=t,this.route=i,this.customNav=r,this.taskCreation=c,this.toast=h,this.loadingState=ft.Gu.LOADING,this.loadingTimestamp=new Date,this.pathChange$=this.route.params.pipe((0,Vi.b)(y=>this.currentLogin=y.login)),this.subscriptions=new it.xf,this.userInfoHandler={next:y=>{this.userInfo=void 0,setTimeout(()=>{this.userInfo=y,this.loadingTimestamp=new Date}),this.loadingState=ft.Gu.READY},error:()=>{this.userInfo=void 0,this.loadingState=ft.Gu.ERROR}},this.wireframes=[]}get isEndTariffDateAfter(){var t,i,r,c;return(null===(i=null===(t=this.userInfo)||void 0===t?void 0:t.newTarif)||void 0===i?void 0:i.edate)&&new Date(null===(c=null===(r=this.userInfo)||void 0===r?void 0:r.newTarif)||void 0===c?void 0:c.edate).getTime()>(new Date).getTime()}get isOnline(){var t,i;return 1===(null===(i=null===(t=this.userInfo)||void 0===t?void 0:t.newTarif)||void 0===i?void 0:i.online)}get hasCredit(){var t,i;return(null===(i=null===(t=this.userInfo)||void 0===t?void 0:t.ibase)||void 0===i?void 0:i.credit)&&this.userInfo.ibase.credit>0}get mainTariff(){var t,i;return null!==(t=this.userInfo)&&void 0!==t&&t.oldTarif[0]?null===(i=this.userInfo)||void 0===i?void 0:i.oldTarif[0]:null}get services(){var t,i,r;return(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif)&&(null===(i=this.userInfo)||void 0===i?void 0:i.oldTarif.length)>0?null===(r=this.userInfo)||void 0===r?void 0:r.oldTarif.slice(1):[]}get totalCost(){var t,i;return(null===(t=this.userInfo)||void 0===t?void 0:t.oldTarif)&&(null===(i=this.userInfo)||void 0===i?void 0:i.oldTarif.length)>0?this.userInfo.oldTarif.reduce((r,c)=>r+c.price,0):0}get creditAmount(){var t,i,r;return null!==(r=null===(i=null===(t=this.userInfo)||void 0===t?void 0:t.ibase)||void 0===i?void 0:i.credit)&&void 0!==r?r:0}get moneyAmount(){var t,i,r;return null!==(r=null===(i=null===(t=this.userInfo)||void 0===t?void 0:t.ibase)||void 0===i?void 0:i.money)&&void 0!==r?r:0}ngOnInit(){this.subscriptions.addSubscription("pch",this.pathChange$.subscribe(this.load.bind(this))),this.api.getWireframesNames().subscribe(t=>{this.wireframes=t.map(i=>({label:i.name,command:()=>{var r,c;this.api.convertBillingAddress(null===(c=null===(r=this.userInfo)||void 0===r?void 0:r.ibase)||void 0===c?void 0:c.addr).subscribe(h=>{this.currentLogin?this.taskCreation.wireframe(i.wireframeId,{login:this.currentLogin,address:h}):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"})})}}))})}load(){this.currentLogin?this.api.getBillingUserInfo(this.currentLogin).subscribe(this.userInfoHandler):this.loadingState=ft.Gu.ERROR}ngOnDestroy(){this.subscriptions.unsubscribeAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(s.gz),e.Y36(yi),e.Y36(Do.e),e.Y36(Le.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:18,vars:9,consts:[["appExtendPageHeight","",1,"flexed","vcenter"],[1,"responsive-wrapper","flexed","gap10"],[3,"ngSwitch"],[4,"ngSwitchCase"],["infoViewTemp",""],["titleTagsTemp",""],["mainUserInfoTemp",""],["hardwareInfoTemp",""],["tariffInfoTemp",""],["appendTo","body",3,"model","popup"],["createTaskMenu",""],[1,"flexed","hcenter","vcenter","stretched","panel"],["strokeWidth","1",1,"primary-spinner"],[1,"flexed","column","vcenter","caption","f-color-danger","size-huge","wt-tiny"],[1,"mds-error"],[4,"ngTemplateOutlet"],[1,"flexed","column","stretched","h-min","panel"],[1,"flexed","gap10","p10","hcenter","terminator-bottom"],["styleClass","p-button-secondary p-button-text p-button-icon","icon","mdi-arrow_back",3,"onClick"],[1,"caption","size-huge","wt-tiny","f-color-600","with-icon"],[1,"mds-person","caption","size-xlarge"],[1,"stretched"],[1,"caption","size-tiny","wt-black","f-color-300"],[3,"startTime"],["styleClass","p-button-text p-button-icon","icon","mdi-refresh",3,"onClick"],[1,"flexed","column","gap10","p20","terminator-bottom"],[1,"flexed","gap10","p10","hcenter"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","icon","mdi-add","styleClass","p-button-success p-button-text",3,"onClick"],["class","caption wt-tiny size-huge f-color-danger",4,"ngIf"],[1,"caption","wt-tiny","size-huge","f-color-primary",3,"ngClass"],[1,"caption","wt-tiny","size-huge","f-color-danger"],[1,"flexed","gap5","hcenter"],[4,"ngSwitchDefault"],[3,"caption","color"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)",4,"ngIf"],["caption","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0438\u0306","color","var(--mc-500)"],["caption","\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0438\u0306","color","var(--danger-600)"],["caption","\u041d\u0435\u0442 \u0434\u0435\u043d\u0435\u0433","color","var(--warm-500)"],["caption","\u0414\u0440\u0435\u0432\u043d\u0438\u0439","color","var(--danger-600)"],["caption","\u041d\u0435\u0442 \u0442\u0430\u0440\u0438\u0444\u0430","color","var(--danger-600)"],["caption","\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d","color","var(--danger-600)"],["caption","\u041a\u0440\u0435\u0434\u0438\u0442","color","var(--warm-500)"],[1,"flexed","column"],[1,"caption","wt-bold","size-big","f-color-600"],[1,"flexed","column","gap5","p10"],[1,"caption","wt-black","size-small","f-color-500"],[1,"caption"],[4,"ngIf"],[1,"caption","wt-bold"],["pTooltip","\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0443.",1,"mdi-help_outline","caption","size-big","f-color-300"],["class","caption wt-bold size-small f-color-primary",4,"ngIf"],["class","flexed gap5 hstart",4,"ngIf"],[1,"flexed","gap5","hstart"],[1,"flexed","column","gap5"],[1,"caption","wt-bold","size-small","f-color-primary"],[4,"ngFor","ngForOf"],["pTooltip","\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0438 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0442\u0430\u0440\u0438\u0444\u0430. (\u0414\u0430\u0442\u0430 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f)",1,"mdi-help_outline","caption","size-big","f-color-300"],["pTooltip","\u041c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430. (\u041f\u0440\u0438\u043c. \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u043e\u0442\u043b. \u043f\u043b\u0430\u0442\u0435\u0436)",1,"mdi-help_outline","caption","size-big","f-color-300"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.ynx(2,2),e.YNc(3,iR,3,0,"ng-container",3),e.YNc(4,oR,6,0,"ng-container",3),e.YNc(5,rR,2,1,"ng-container",3),e.BQk(),e.qZA()(),e.YNc(6,hR,25,15,"ng-template",null,4,e.W1O),e.YNc(8,IR,11,10,"ng-template",null,5,e.W1O),e.YNc(10,TR,27,10,"ng-template",null,6,e.W1O),e.YNc(12,xR,21,19,"ng-template",null,7,e.W1O),e.YNc(14,RR,34,9,"ng-template",null,8,e.W1O),e._UZ(16,"p-menu",9,10)),2&t&&(e.xp6(1),e.Akn(e.DdM(8,LR)),e.xp6(1),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(11),e.Q6J("model",i.wireframes)("popup",!0))},dependencies:[$e,yn.C,nR.j,I.sg,I.O5,Ei.zx,I.tP,I.RF,I.n9,ln.u,Te.v2,I.mk,hn.G,I.uU,Ts.t,I.rS,I.H9]}),n})();var B0=C(1135),N1=C(5376);const FR=["inputtext"];function BR(n,o){1&n&&e.GkF(0)}function HR(n,o){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Oqu(i.field?i.resolveFieldData(t,i.field):t)}}function ZR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(r){e.CHM(t);const c=e.oxw().index,h=e.oxw();return e.KtG(h.removeItem(r,c))}),e.qZA()}}const VR=function(n){return{$implicit:n}};function UR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",7,8),e.NdJ("click",function(r){const h=e.CHM(t).$implicit,y=e.oxw();return e.KtG(y.onItemClick(r,h))}),e.YNc(2,BR,1,0,"ng-container",9),e.YNc(3,HR,2,1,"span",10),e.YNc(4,ZR,1,0,"span",11),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",e.VKq(4,VR,t)),e.xp6(1),e.Q6J("ngIf",!i.itemTemplate),e.xp6(1),e.Q6J("ngIf",!i.disabled)}}function zR(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clear())}),e.qZA()}}const GR=function(n,o){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":n,"p-disabled":o}},QR=function(n){return{"p-chips-clearable":n}},JR={provide:R.JU,useExisting:(0,e.Gpc)(()=>Lx),multi:!0};let Lx=(()=>{class n{constructor(t,i){this.el=t,this.cd=i,this.allowDuplicate=!0,this.showClear=!1,this.onAdd=new e.vpe,this.onRemove=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onChipClick=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.itemTemplate=t.template}),this.updateFilledState()}onClick(){this.inputViewChild.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||window.clipboardData).getData("Text").split(this.separator).forEach(r=>{this.addItem(t,r,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(t,i){this.onChipClick.emit({originalEvent:t,value:i})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,i){if(t&&i){if(-1==i.indexOf("."))return t[i];{let h=i.split("."),y=t;for(var r=0,c=h.length;r<c;++r)y=y[h[r]];return y}}return null}onInputFocus(t){this.focus=!0,this.onFocus.emit(t)}onInputBlur(t){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,i){if(this.disabled)return;let r=this.value[i];this.value=this.value.filter((c,h)=>h!=i),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:r}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,i,r){this.value=this.value||[],i&&i.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(i))&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:i})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",r&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onKeydown(t){switch(t.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:i}),this.updateFilledState()}break;case 13:this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?t.preventDefault():this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.max&&this.value&&this.max===this.value.length?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-chips"]],contentQueries:function(t,i,r){if(1&t&&e.Suo(r,Le.jx,4),2&t){let c;e.iGM(c=e.CRH())&&(i.templates=c)}},viewQuery:function(t,i){if(1&t&&e.Gf(FR,5),2&t){let r;e.iGM(r=e.CRH())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,i){2&t&&e.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-chips-clearable",i.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[e._Bn([JR])],decls:8,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],["class","p-chips-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],["class","p-chips-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-chips-token-label"],[1,"p-chips-token-icon","pi","pi-times-circle",3,"click"],[1,"p-chips-clear-icon","pi","pi-times",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return i.onClick()}),e.TgZ(1,"ul",1),e.YNc(2,UR,5,6,"li",2),e.TgZ(3,"li",3)(4,"input",4,5),e.NdJ("keydown",function(c){return i.onKeydown(c)})("input",function(){return i.onInput()})("paste",function(c){return i.onPaste(c)})("focus",function(c){return i.onInputFocus(c)})("blur",function(c){return i.onInputBlur(c)}),e.qZA()(),e.TgZ(6,"li"),e.YNc(7,zR,1,0,"i",6),e.qZA()()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-chips p-component")("ngStyle",i.style),e.xp6(1),e.Q6J("ngClass",e.WLB(16,GR,i.focus,i.disabled)),e.xp6(1),e.Q6J("ngForOf",i.value),e.xp6(1),e.Q6J("ngClass",e.VKq(19,QR,i.showClear&&!i.disabled)),e.xp6(1),e.Tol(i.inputStyleClass),e.Q6J("disabled",i.disabled)("ngStyle",i.inputStyle),e.uIk("id",i.inputId)("placeholder",i.value&&i.value.length?null:i.placeholder)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),e.xp6(3),e.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear))},dependencies:[I.mk,I.sg,I.O5,I.tP,I.PC],styles:[".p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),jR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Ze.j,Le.m8,Ze.j,Le.m8]}),n})();var Nx=C(2537),WR=C(5032);const Fx=new pa.y(WR.Z);var YR=C(2843),KR=C(655);const qR=["container"];class Bx{constructor(o){this.ngZone=o,this.pending=[],this.listeners=[],this.targetStream=new B0.X(void 0)}getLazyEmitter(o){return this.targetStream.pipe((0,Sr.w)(t=>{const i=new pa.y(r=>{if(!t)return void this.pending.push({observable:i,observer:r});const c=y=>{const O={event:y,target:t,ymaps};this.ngZone.run(()=>r.next(O))},h=t.events.add(o,c);return this.listeners.push({name:o,callback:c,manager:h}),()=>h.remove(o,c)});return i}))}setTarget(o){const t=this.targetStream.value;o!==t&&(t&&(this.clearListeners(),this.pending=[]),this.targetStream.next(o),this.pending.forEach(i=>i.observable.subscribe(i.observer)),this.pending=[])}destroy(){this.clearListeners(),this.pending=[],this.targetStream.complete()}clearListeners(){this.listeners.forEach(o=>{const{name:t,callback:i,manager:r}=o;r.remove(t,i)}),this.listeners=[]}}const Hx=new e.OlP("YA_CONFIG");let XR=(()=>{class n{constructor(t,i,r){this.document=i,this.isBrowser=(0,I.NF)(r),this.config=Object.assign(Object.assign({},{lang:"ru_RU"}),t)}load(){if(!this.isBrowser)return Fx;if(window.ymaps)return(0,St.D)(ymaps.ready()).pipe((0,F.U)(()=>ymaps));if(!this.script){const r=this.document.createElement("script");r.type="text/javascript",r.src=this.getScriptSource(this.config),r.id="yandexMapsApiScript",r.async=!0,r.defer=!0,this.script=this.document.body.appendChild(r)}const t=(0,ha.R)(this.script,"load").pipe((0,Sr.w)(()=>(0,St.D)(ymaps.ready())),(0,F.U)(()=>ymaps)),i=(0,ha.R)(this.script,"error").pipe((0,Sr.w)(YR._));return(0,_l.T)(t,i).pipe((0,_c.q)(1))}getScriptSource(t){const{enterprise:i,version:r="2.1"}=t,c=(0,KR._T)(t,["enterprise","version"]);return`https://${i?"enterprise.":""}api-maps.yandex.ru/${r}/?${this.convertConfigIntoQueryParams(c)}`}convertConfigIntoQueryParams(t){return Object.entries(t).map(([i,r])=>`${i}=${r}`).join("&")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Hx,8),e.LFG(I.K0),e.LFG(e.Lbi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zx=(()=>{class n{constructor(t,i){this.ngZone=t,this.yaApiLoaderService=i,this.destroy$=new Zi.x,this.eventManager=new Bx(this.ngZone),this.map$=new B0.X(null),this.ready=new e.vpe,this.actionbegin=this.eventManager.getLazyEmitter("actionbegin"),this.actionbreak=this.eventManager.getLazyEmitter("actionbreak"),this.actionend=this.eventManager.getLazyEmitter("actionend"),this.actiontick=this.eventManager.getLazyEmitter("actiontick"),this.actiontickcomplete=this.eventManager.getLazyEmitter("actiontickcomplete"),this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.boundschange=this.eventManager.getLazyEmitter("boundschange"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.destroy=this.eventManager.getLazyEmitter("destroy"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.marginchange=this.eventManager.getLazyEmitter("marginchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.sizechange=this.eventManager.getLazyEmitter("sizechange"),this.typechange=this.eventManager.getLazyEmitter("typechange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){const i=this.map$.value;if(i){const{center:r,zoom:c,state:h,options:y}=t;h&&this.setState(this.combineState(),i),r&&i.setCenter(r.currentValue),c&&i.setZoom(c.currentValue),y&&i.options.set(y.currentValue)}}ngAfterViewInit(){this.yaApiLoaderService.load().pipe((0,_c.q)(1),(0,Gr.R)(this.destroy$)).subscribe(()=>{const t=`f${Date.now().toString(16)}`,i=this.createMap(t);this.map$.next(i),this.eventManager.setTarget(i),this.ngZone.run(()=>this.ready.emit({ymaps,target:i}))})}ngOnDestroy(){this.eventManager.destroy(),this.destroy$.next(),this.destroy$.complete()}setState(t,i){const{behaviors:r,bounds:c,center:h,controls:y,margin:O,type:ce,zoom:fe}=t;r&&i.behaviors.enable(r),c&&i.setBounds(c),h&&i.setCenter(h),y&&y.forEach(ct=>i.controls.add(ct)),O&&i.margin.setDefaultMargin(O),ce&&i.setType(ce),fe&&i.setZoom(fe)}createMap(t){const i=this.container.nativeElement;return i.setAttribute("id",t),i.style.cssText="width: 100%; height: 100%;",new ymaps.Map(t,this.combineState(),this.options||{})}combineState(){var t,i;const r=this.state||{};return Object.assign(Object.assign({},r),{center:this.center||r.center||[0,0],zoom:null!==(i=null!==(t=this.zoom)&&void 0!==t?t:r.zoom)&&void 0!==i?i:10})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(XR))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ya-map"]],viewQuery:function(t,i){if(1&t&&e.Gf(qR,5),2&t){let r;e.iGM(r=e.CRH())&&(i.container=r.first)}},inputs:{center:"center",zoom:"zoom",state:"state",options:"options"},outputs:{ready:"ready",actionbegin:"actionbegin",actionbreak:"actionbreak",actionend:"actionend",actiontick:"actiontick",actiontickcomplete:"actiontickcomplete",balloonclose:"balloonclose",balloonopen:"balloonopen",boundschange:"boundschange",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",destroy:"destroy",hintclose:"hintclose",hintopen:"hintopen",marginchange:"marginchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",sizechange:"sizechange",typechange:"typechange",yawheel:"yawheel"},features:[e.TTD],decls:2,vars:0,consts:[["container",""]],template:function(t,i){1&t&&e._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})(),eL=(()=>{class n{constructor(t,i){this.ngZone=t,this.yaMapComponent=i,this.destroy$=new Zi.x,this.eventManager=new Bx(this.ngZone),this.ready=new e.vpe,this.balloonclose=this.eventManager.getLazyEmitter("balloonclose"),this.balloonopen=this.eventManager.getLazyEmitter("balloonopen"),this.beforedrag=this.eventManager.getLazyEmitter("beforedrag"),this.beforedragstart=this.eventManager.getLazyEmitter("beforedragstart"),this.yaclick=this.eventManager.getLazyEmitter("click"),this.yacontextmenu=this.eventManager.getLazyEmitter("contextmenu"),this.yadblclick=this.eventManager.getLazyEmitter("dblclick"),this.yadrag=this.eventManager.getLazyEmitter("drag"),this.yadragend=this.eventManager.getLazyEmitter("dragend"),this.yadragstart=this.eventManager.getLazyEmitter("dragstart"),this.editorstatechange=this.eventManager.getLazyEmitter("editorstatechange"),this.geometrychange=this.eventManager.getLazyEmitter("geometrychange"),this.hintclose=this.eventManager.getLazyEmitter("hintclose"),this.hintopen=this.eventManager.getLazyEmitter("hintopen"),this.mapchange=this.eventManager.getLazyEmitter("mapchange"),this.yamousedown=this.eventManager.getLazyEmitter("mousedown"),this.yamouseenter=this.eventManager.getLazyEmitter("mouseenter"),this.yamouseleave=this.eventManager.getLazyEmitter("mouseleave"),this.yamousemove=this.eventManager.getLazyEmitter("mousemove"),this.yamouseup=this.eventManager.getLazyEmitter("mouseup"),this.multitouchend=this.eventManager.getLazyEmitter("multitouchend"),this.multitouchmove=this.eventManager.getLazyEmitter("multitouchmove"),this.multitouchstart=this.eventManager.getLazyEmitter("multitouchstart"),this.optionschange=this.eventManager.getLazyEmitter("optionschange"),this.overlaychange=this.eventManager.getLazyEmitter("overlaychange"),this.parentchange=this.eventManager.getLazyEmitter("parentchange"),this.propertieschange=this.eventManager.getLazyEmitter("propertieschange"),this.yawheel=this.eventManager.getLazyEmitter("wheel")}ngOnChanges(t){var i;const{placemark:r}=this;if(r){const{geometry:c,properties:h,options:y}=t;c&&(null===(i=r.geometry)||void 0===i||i.setCoordinates(c.currentValue)),h&&r.properties.set(h.currentValue),y&&r.options.set(y.currentValue)}}ngOnInit(){this.yaMapComponent.map$.pipe((0,Ka.h)(Boolean),(0,_c.q)(1),(0,Gr.R)(this.destroy$)).subscribe(t=>{const i=this.createPlacemark();this.placemark=i,t.geoObjects.add(i),this.eventManager.setTarget(i),this.ngZone.run(()=>this.ready.emit({ymaps,target:i}))})}ngOnDestroy(){var t,i;this.placemark&&(null===(i=null===(t=this.yaMapComponent)||void 0===t?void 0:t.map$.value)||void 0===i||i.geoObjects.remove(this.placemark),this.eventManager.destroy()),this.destroy$.next(),this.destroy$.complete()}createPlacemark(){return new ymaps.Placemark(this.geometry,this.properties,this.options)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b),e.Y36(Zx))},n.\u0275dir=e.lG2({type:n,selectors:[["ya-placemark"]],inputs:{geometry:"geometry",properties:"properties",options:"options"},outputs:{ready:"ready",balloonclose:"balloonclose",balloonopen:"balloonopen",beforedrag:"beforedrag",beforedragstart:"beforedragstart",yaclick:"yaclick",yacontextmenu:"yacontextmenu",yadblclick:"yadblclick",yadrag:"yadrag",yadragend:"yadragend",yadragstart:"yadragstart",editorstatechange:"editorstatechange",geometrychange:"geometrychange",hintclose:"hintclose",hintopen:"hintopen",mapchange:"mapchange",yamousedown:"yamousedown",yamouseenter:"yamouseenter",yamouseleave:"yamouseleave",yamousemove:"yamousemove",yamouseup:"yamouseup",multitouchend:"multitouchend",multitouchmove:"multitouchmove",multitouchstart:"multitouchstart",optionschange:"optionschange",overlaychange:"overlaychange",parentchange:"parentchange",propertieschange:"propertieschange",yawheel:"yawheel"},features:[e.TTD]}),n})(),tL=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Hx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();function nL(n,o){1&n&&e.GkF(0)}function iL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nL,1,0,"ng-container",27),e.BQk()),2&n){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function oL(n,o){1&n&&e.GkF(0)}function sL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,oL,1,0,"ng-container",27),e.BQk()),2&n){e.oxw();const t=e.MAs(19);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function rL(n,o){1&n&&e.GkF(0)}function aL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,rL,1,0,"ng-container",27),e.BQk()),2&n){e.oxw(2);const t=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function lL(n,o){1&n&&e.GkF(0)}function cL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,lL,1,0,"ng-container",27),e.BQk()),2&n){e.oxw(2);const t=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function uL(n,o){1&n&&e.GkF(0)}function dL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,uL,1,0,"ng-container",27),e.BQk()),2&n){e.oxw(2);const t=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function pL(n,o){1&n&&e.GkF(0)}function hL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,pL,1,0,"ng-container",27),e.BQk()),2&n){e.oxw(2);const t=e.MAs(15);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function gL(n,o){if(1&n&&(e.ynx(0)(1,3),e.YNc(2,aL,2,1,"ng-container",4),e.YNc(3,cL,2,1,"ng-container",4),e.YNc(4,dL,2,1,"ng-container",4),e.YNc(5,hL,2,1,"ng-container",4),e.BQk()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.viewMode),e.xp6(1),e.Q6J("ngSwitchCase","city"),e.xp6(1),e.Q6J("ngSwitchCase","street"),e.xp6(1),e.Q6J("ngSwitchCase","house"),e.xp6(1),e.Q6J("ngSwitchCase","houseView")}}function fL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.selectCity(c))}),e._UZ(1,"span",41),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.name)}}function mL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"span",31),e._uU(4," \u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b "),e.qZA(),e._UZ(5,"div",32),e.TgZ(6,"p-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialogCreateCity())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",34),e.YNc(9,fL,4,1,"div",35),e.qZA()(),e.TgZ(10,"div",36)(11,"div",37),e._UZ(12,"span",38),e.TgZ(13,"span",39),e._uU(14,"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442"),e.qZA()()()()}if(2&n){const t=e.oxw();let i;e.xp6(6),e.Q6J("loading",null!==(i=e.lcZ(7,3,t.beginRequest$))&&void 0!==i&&i),e.xp6(3),e.Q6J("ngForOf",t.cities)("ngForTrackBy",t.trackByCity)}}function _L(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.selectStreet(c))}),e._UZ(1,"span",56),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.nameWithPrefix)}}const CL=function(n){return{"cover-element":n}};function vL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",42)(3,"p-button",43),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",31),e._uU(6," \u0423\u043b\u0438\u0446\u044b "),e.qZA(),e._UZ(7,"div",32),e.TgZ(8,"p-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialogCreateStreet())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",44)(11,"div",45)(12,"span",46),e._UZ(13,"span",47),e.qZA(),e._UZ(14,"input",48),e.qZA()(),e.TgZ(15,"div",49),e.YNc(16,_L,4,1,"div",35),e.qZA()(),e.TgZ(17,"div",50)(18,"div",51)(19,"span",31),e._uU(20),e.qZA(),e._UZ(21,"div",52),e.TgZ(22,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteCity())}),e.ALo(23,"async"),e.qZA()(),e.TgZ(24,"div",54)(25,"div",13)(26,"label",14),e._uU(27,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(28,"input",19),e.qZA(),e.TgZ(29,"p-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveCity())}),e.ALo(30,"async"),e.qZA()()()()}if(2&n){const t=e.oxw();let i,r,c,h;e.xp6(3),e.Q6J("loading",null!==(i=e.lcZ(4,12,t.beginRequest$))&&void 0!==i&&i),e.xp6(5),e.Q6J("loading",null!==(r=e.lcZ(9,14,t.beginRequest$))&&void 0!==r&&r),e.xp6(6),e.Q6J("appPreventInput",t.streetFiltering)("formControl",t.filterControl),e.xp6(1),e.Q6J("ngClass",e.VKq(20,CL,t.streetFiltering)),e.xp6(1),e.Q6J("ngForOf",t.streets)("ngForTrackBy",t.trackByStreet),e.xp6(4),e.hij(" \u0413\u043e\u0440\u043e\u0434: ",null==t.selectedCity?null:t.selectedCity.name," "),e.xp6(2),e.Q6J("loading",null!==(c=e.lcZ(23,16,t.beginRequest$))&&void 0!==c&&c),e.xp6(2),e.Q6J("formGroup",t.cityEditingForm),e.xp6(5),e.Q6J("loading",null!==(h=e.lcZ(30,18,t.beginRequest$))&&void 0!==h&&h)("disabled",!t.cityEditingForm.valid||t.cityEditingForm.pristine)}}function bL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",40),e.NdJ("click",function(){const c=e.CHM(t).$implicit,h=e.oxw(2);return e.KtG(h.selectHouse(c))}),e._UZ(1,"span",58),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.houseName)}}function yL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",42)(3,"p-button",43),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.back())}),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"span",31),e._uU(6," \u0414\u043e\u043c\u0430 "),e.qZA(),e._UZ(7,"div",32),e.TgZ(8,"p-button",33),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialogCreateHouse())}),e.ALo(9,"async"),e.qZA()(),e.TgZ(10,"div",34),e.YNc(11,bL,4,1,"div",35),e.qZA()(),e.TgZ(12,"div",50)(13,"div",51)(14,"span",31),e._uU(15),e.qZA(),e._UZ(16,"div",52),e.TgZ(17,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteStreet())}),e.ALo(18,"async"),e.qZA()(),e.TgZ(19,"div",54)(20,"div",13)(21,"label",14),e._uU(22,"\u0422\u0438\u043f"),e.qZA(),e._UZ(23,"p-dropdown",57),e.qZA(),e.TgZ(24,"div",13)(25,"label",14),e._uU(26,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(27,"input",19),e.qZA(),e.TgZ(28,"div",13)(29,"label",14),e._uU(30,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(31,"p-chips",20),e.qZA(),e.TgZ(32,"div",13)(33,"label",14),e._uU(34,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(35,"input",21),e.qZA(),e.TgZ(36,"p-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveStreet())}),e.ALo(37,"async"),e.qZA()()()()}if(2&n){const t=e.oxw();let i,r,c,h;e.xp6(3),e.Q6J("loading",null!==(i=e.lcZ(4,13,t.beginRequest$))&&void 0!==i&&i),e.xp6(5),e.Q6J("loading",null!==(r=e.lcZ(9,15,t.beginRequest$))&&void 0!==r&&r),e.xp6(3),e.Q6J("ngForOf",t.houses)("ngForTrackBy",t.trackByHouse),e.xp6(4),e.hij(" \u0423\u043b\u0438\u0446\u0430: ",null==t.selectedStreet?null:t.selectedStreet.streetName," "),e.xp6(2),e.Q6J("loading",null!==(c=e.lcZ(18,17,t.beginRequest$))&&void 0!==c&&c),e.xp6(2),e.Q6J("formGroup",t.streetEditingForm),e.xp6(4),e.Q6J("options",t.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("loading",null!==(h=e.lcZ(37,19,t.beginRequest$))&&void 0!==h&&h)("disabled",!t.streetEditingForm.valid||t.streetEditingForm.pristine)}}function IL(n,o){1&n&&e._UZ(0,"ya-placemark",71),2&n&&e.Q6J("geometry",o.$implicit)}const AL=function(){return[47.519624,42.206329]};function TL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60)(2,"p-button",43),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.back())}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"span",61),e._uU(5),e.qZA(),e.TgZ(6,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteHouse())}),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"div",62)(9,"p-button",63),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.manualHouseNavigation$.next(-1))}),e.ALo(10,"async"),e.qZA(),e._UZ(11,"div",32),e.TgZ(12,"p-button",64),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.manualHouseNavigation$.next(1))}),e.ALo(13,"async"),e.qZA()(),e.TgZ(14,"div",65),e.NdJ("@swipe.done",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.animationEnd$.next(!0))}),e.ALo(15,"async"),e.TgZ(16,"div",13)(17,"label",14),e._uU(18,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(19,"p-inputNumber",23),e.qZA(),e.TgZ(20,"div",13)(21,"label",14),e._uU(22,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(23,"p-inputNumber",66),e.qZA(),e.TgZ(24,"div",13)(25,"label",14),e._uU(26,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(27,"input",67),e.qZA(),e.TgZ(28,"div",13)(29,"label",14),e._uU(30,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(31,"p-inputNumber",68),e.qZA(),e.TgZ(32,"p-button",55),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveHouse())}),e.ALo(33,"async"),e.qZA(),e.TgZ(34,"ya-map",69),e.NdJ("yaclick",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.mapClick$.next(r))}),e.YNc(35,IL,1,1,"ya-placemark",70),e.qZA()()()}if(2&n){const t=e.oxw();let i,r,c,h,y;e.xp6(2),e.Q6J("loading",null!==(i=e.lcZ(3,13,t.beginRequest$))&&void 0!==i&&i),e.xp6(3),e.hij(" \u0414\u043e\u043c: ",null==t.selectedHouse?null:t.selectedHouse.addressName," "),e.xp6(1),e.Q6J("loading",null!==(r=e.lcZ(7,15,t.beginRequest$))&&void 0!==r&&r),e.xp6(3),e.Q6J("loading",null!==(c=e.lcZ(10,17,t.beginRequest$))&&void 0!==c&&c),e.xp6(3),e.Q6J("loading",null!==(h=e.lcZ(13,19,t.beginRequest$))&&void 0!==h&&h),e.xp6(2),e.Q6J("formGroup",t.houseEditingForm)("@swipe",e.lcZ(15,21,t.animationState$)),e.xp6(18),e.Q6J("loading",null!==(y=e.lcZ(33,23,t.beginRequest$))&&void 0!==y&&y)("disabled",!t.houseEditingForm.valid||t.houseEditingForm.pristine),e.xp6(2),e.Q6J("center",e.DdM(25,AL))("zoom",12)("options",t.mapOptions),e.xp6(1),e.Q6J("ngForOf",t.mapPins)}}function wL(n,o){1&n&&(e.TgZ(0,"div",72),e._UZ(1,"p-progressSpinner",73),e.qZA())}function xL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",74)(1,"div",75),e._UZ(2,"span",76),e.TgZ(3,"span"),e._uU(4,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA(),e.TgZ(5,"p-button",77),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.reload())}),e.qZA()()()}}const EL=function(){return{marginBottom:"1rem"}};let SL=(()=>{class n{constructor(t,i,r,c){this.api=t,this.rt=i,this.toast=r,this.confirmationService=c,this.cities=[],this.streets=[],this.houses=[],this.streetFiltering=!1,this.viewMode="city",this.loadingState=ft.Gu.LOADING,this.filterControl=new R.NI(""),this.filterChanged$=this.filterControl.valueChanges.pipe((0,ri.b)(1e3),(0,mi.x)()),this.cityEditingForm=new R.cw({name:new R.NI("",[R.kI.required,R.kI.minLength(3)])}),this.streetEditingForm=new R.cw({prefix:new R.NI("",[R.kI.required]),name:new R.NI("",[R.kI.required,R.kI.minLength(3),R.kI.maxLength(48)]),altNames:new R.NI([]),billingAlias:new R.NI("")}),this.houseEditingForm=new R.cw({houseNum:new R.NI(null,[R.kI.required,R.kI.min(1),R.kI.max(999)]),letter:new R.NI(null),fraction:new R.NI(null),build:new R.NI(null)}),this.subscriptions=new it.xf,this.cityLoad$=(0,cr.of)(null).pipe((0,Sr.w)(()=>this.api.getCities()),(0,Vi.b)(h=>this.cities=h),(0,Vi.b)(()=>{this.subscriptions.unsubscribe("cityCr"),this.subscriptions.unsubscribe("cityUpd"),this.subscriptions.unsubscribe("cityDel"),this.subscriptions.unsubscribe("streetCr"),this.subscriptions.unsubscribe("streetUpd"),this.subscriptions.unsubscribe("streetDel"),this.subscriptions.unsubscribe("houseCr"),this.subscriptions.unsubscribe("houseUpd"),this.subscriptions.unsubscribe("houseDel"),this.subscriptions.addSubscription("cityCr",this.rt.cityCreated().subscribe(h=>{this.cities=[...this.cities,h]})),this.subscriptions.addSubscription("cityUpd",this.rt.cityUpdated().subscribe(h=>{var y;this.cities=this.cities.map(O=>O.cityId===h.cityId?h:O),(null===(y=this.selectedCity)||void 0===y?void 0:y.cityId)===h.cityId&&this.selectCity(h)})),this.subscriptions.addSubscription("cityDel",this.rt.cityDeleted().subscribe(h=>{var y;this.cities=this.cities.filter(O=>O.cityId!==h.cityId),(null===(y=this.selectedCity)||void 0===y?void 0:y.cityId)===h.cityId&&(this.viewMode="city")})),this.subscriptions.addSubscription("streetCr",this.rt.streetCreated().subscribe(h=>{var y;h.city.cityId===(null===(y=this.selectedCity)||void 0===y?void 0:y.cityId)&&(this.streets=[...this.streets,h].sort(this.streetSort))})),this.subscriptions.addSubscription("streetUpd",this.rt.streetUpdated().subscribe(h=>{var y;this.streets=this.streets.map(O=>O.streetId===h.streetId?h:O).sort(this.streetSort),(null===(y=this.selectedStreet)||void 0===y?void 0:y.streetId)===h.streetId&&this.selectStreet(h)})),this.subscriptions.addSubscription("streetDel",this.rt.streetDeleted().subscribe(h=>{var y;this.streets=this.streets.filter(O=>O.streetId!==h.streetId),(null===(y=this.selectedStreet)||void 0===y?void 0:y.streetId)===h.streetId&&(this.viewMode="street")})),this.subscriptions.addSubscription("houseCr",this.rt.houseCreated().subscribe(h=>{var y;h.streetId===(null===(y=this.selectedStreet)||void 0===y?void 0:y.streetId)&&(this.houses=[...this.houses,h].sort(this.houseSort))})),this.subscriptions.addSubscription("houseUpd",this.rt.houseUpdated().subscribe(h=>{var y;this.houses=this.houses.map(O=>O.houseId===h.houseId?h:O).sort(this.houseSort),(null===(y=this.selectedHouse)||void 0===y?void 0:y.houseId)===h.houseId&&this.selectHouse(h)})),this.subscriptions.addSubscription("houseDel",this.rt.houseDeleted().subscribe(h=>{var y;this.houses=this.houses.filter(O=>O.houseId!==h.houseId),(null===(y=this.selectedHouse)||void 0===y?void 0:y.houseId)===h.houseId&&(this.viewMode="house")}))})),this.streetPrefixes=[{label:"\u0423\u043b\u0438\u0446\u0430",value:"\u0443\u043b"},{label:"\u0410\u043b\u043b\u0435\u044f",value:"\u0430\u043b\u043b\u0435\u044f"},{label:"\u0411\u0443\u043b\u044c\u0432\u0430\u0440",value:"\u0431-\u0440"},{label:"\u041f\u0435\u0440\u0435\u0443\u043b\u043e\u043a",value:"\u043f\u0435\u0440"},{label:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c",value:"\u043f\u043b"},{label:"\u041f\u0440\u043e\u0435\u0437\u0434",value:"\u043f\u0440-\u0434"},{label:"\u041f\u0440\u043e\u0441\u043f\u0435\u043a\u0442",value:"\u043f\u0440-\u043a\u0442"},{label:"\u0428\u043e\u0441\u0441\u0435",value:"\u0448"}],this.loadingStateHandler={next:()=>{this.loadingState=ft.Gu.READY},error:()=>{this.loadingState=ft.Gu.ERROR}},this.createCityVisible=!1,this.createCityForm=new R.cw({name:new R.NI("",[R.kI.required,R.kI.minLength(3)])}),this.createStreetVisible=!1,this.createStreetForm=new R.cw({prefix:new R.NI("",[R.kI.required]),name:new R.NI("",[R.kI.required,R.kI.minLength(3),R.kI.maxLength(48)]),altNames:new R.NI([]),billingAlias:new R.NI("")}),this.createHouseVisible=!1,this.createHouseForm=new R.cw({houseNum:new R.NI(null,[R.kI.required,R.kI.min(1),R.kI.max(999)]),letter:new R.NI(null,[R.kI.maxLength(1)]),fraction:new R.NI(null,[R.kI.min(1),R.kI.max(999)]),build:new R.NI(null,[R.kI.min(1),R.kI.max(99)])}),this.beginRequest$=new B0.X(!1),this.houseNavigation$=(0,ha.R)(window,"keyup").pipe((0,Ka.h)(h=>h.altKey&&!!this.selectedHouse),(0,F.U)(h=>{switch(h.key){case"n":return 1;case"b":return-1}return 0})),this.manualHouseNavigation$=new Zi.x,this.animationEnd$=new Zi.x,this.houseBeginningNavigate=!1,this.requestStatusHandler={next:()=>{this.beginRequest$.next(!1)},error:()=>{this.beginRequest$.next(!1)}},this.mapOptions={avoidFractionalZoom:!0},this._houseViewAnimation=new B0.X([0,0]),this.animationState$=this._houseViewAnimation.pipe((0,Sr.w)(h=>(0,cr.of)(...h)),(0,F.U)(h=>h>0?"right":h<0?"left":"default")),this.mapClick$=new Zi.x,this.mapPins=[]}trackByHouse(t,i){return i.houseId+i.addressName}trackByStreet(t,i){return i.streetId+i.nameWithPrefix}trackByCity(t,i){return i.cityId+i.name}streetSort(t,i){return t.name<i.name?-1:t.name>i.name?1:0}houseSort(t,i){var r;return t.houseNum-i.houseNum||(null===(r=t.letter)||void 0===r?void 0:r.localeCompare(i.letter))||t.fraction-i.fraction||t.build-i.build}ngOnInit(){this.cityLoad$.subscribe(this.loadingStateHandler),this.subscriptions.addSubscription("hsnav",(0,_l.T)(this.houseNavigation$,this.manualHouseNavigation$.asObservable()).pipe((0,Ka.h)(()=>!this.houseBeginningNavigate),(0,Vi.b)(t=>{this.houseBeginningNavigate=!0,this._houseViewAnimation.next([0,t])}),(0,N1.j)(()=>this.animationEnd$),(0,Vi.b)(t=>this._houseViewAnimation.next([t,-t])),(0,N1.j)(()=>this.animationEnd$),(0,Vi.b)(t=>{-1===t?this.previousHouse():1===t&&this.nextHouse(),this._houseViewAnimation.next([t,0])}),(0,N1.j)(()=>this.animationEnd$)).subscribe(t=>{this.houseBeginningNavigate=!1})),this.mapClick$.subscribe(({event:i})=>{const[r,c]=i.get("coords");this.mapPins.push([r,c])}),this.subscriptions.addSubscription("bgreq",this.beginRequest$.subscribe(t=>{t?(this.createCityForm.disable(),this.cityEditingForm.disable(),this.streetEditingForm.disable(),this.createStreetForm.disable(),this.houseEditingForm.disable(),this.createHouseForm.disable()):(this.createCityForm.enable(),this.cityEditingForm.enable(),this.streetEditingForm.enable(),this.createStreetForm.enable(),this.houseEditingForm.enable(),this.createHouseForm.enable())}))}ngOnDestroy(){this.subscriptions.unsubscribeAll()}loadStreets$(t,i){return this.api.getStreets(t,null!=i?i:void 0).pipe((0,Vi.b)(r=>this.streets=r),(0,Vi.b)(()=>this.viewMode="street"),(0,Vi.b)(()=>this.streetFiltering=!1))}selectCity(t){let{cityId:i}=t;i?(this.loadingState=ft.Gu.LOADING,this.selectedCity=t,this.filterControl.reset(),this.cityEditingForm.setValue({name:t.name}),this.subscriptions.unsubscribe("cityLoad"),this.subscriptions.addSubscription("cityLoad",(0,_l.T)(this.loadStreets$(i),this.filterChanged$.pipe((0,Vi.b)(()=>this.streetFiltering=!0),(0,Vt.z)(r=>this.loadStreets$(i,r)))).subscribe(this.loadingStateHandler))):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectStreet(t){var i,r,c;t.streetId?(this.loadingState=ft.Gu.LOADING,this.selectedStreet=t,this.streetEditingForm.setValue({prefix:null!==(i=t.prefix)&&void 0!==i?i:null,name:null!==(r=t.name)&&void 0!==r?r:"",altNames:t.altNames?t.altNames.split(","):[],billingAlias:null!==(c=t.billingAlias)&&void 0!==c?c:""}),this.api.getHouses(t.streetId).pipe((0,Vi.b)(h=>this.houses=h.sort(this.houseSort)),(0,Vi.b)(()=>this.viewMode="house")).subscribe(this.loadingStateHandler)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0443\u043b\u0438\u0446\u044b",detail:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0443\u043b\u0438\u0446\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})}selectHouse(t){this.viewMode="houseView",this.selectedHouse=t,this.houseEditingForm.setValue({houseNum:t.houseNum,letter:t.letter,fraction:t.fraction,build:t.build})}createCity(){this.beginRequest$.next(!0),this.api.createCity(this.createCityForm.value).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe(()=>this.createCityVisible=!1)}deleteCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.deleteCity(this.selectedCity.cityId).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="city")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}saveCity(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{this.selectedCity?(this.beginRequest$.next(!0),this.api.editCity(this.selectedCity.cityId,this.cityEditingForm.value).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}})}createStreet(){this.selectedCity?(this.beginRequest$.next(!0),this.api.createStreet(this.selectedCity.cityId,this.createStreetForm.value).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe(()=>this.createStreetVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0438\u0306 \u043f\u0443\u043d\u043a\u0442"})}deleteStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u043b\u0438\u0446\u0443?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.deleteStreet(this.selectedStreet.streetId).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="street")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}saveStreet(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;null!==(t=this.selectedStreet)&&void 0!==t&&t.streetId?(this.beginRequest$.next(!0),this.api.editStreet(this.selectedStreet.streetId,this.streetEditingForm.value).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}})}createHouse(){this.selectedStreet?(this.beginRequest$.next(!0),this.api.createHouse(this.selectedStreet.streetId,this.createHouseForm.value).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe(()=>this.createHouseVisible=!1)):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443"})}deleteHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u043c?",accept:()=>{var t;null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId?(this.beginRequest$.next(!0),this.api.deleteHouse(this.selectedHouse.houseId).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe(()=>this.viewMode="house")):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}saveHouse(){this.confirmationService.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",message:"\u0412\u044b \u0434\u0435\u0438\u0306\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",accept:()=>{var t;null!==(t=this.selectedHouse)&&void 0!==t&&t.houseId?(this.beginRequest$.next(!0),this.api.editHouse(this.selectedHouse.houseId,this.houseEditingForm.value).pipe((0,Vi.b)(this.requestStatusHandler)).subscribe()):this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430",detail:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u043e\u043c"})}})}back(){"houseView"===this.viewMode?(this.viewMode="house",this.selectedHouse=void 0):"house"===this.viewMode?(this.viewMode="street",this.selectedStreet=void 0):"street"===this.viewMode&&(this.viewMode="city",this.selectedCity=void 0)}openDialogCreateHouse(){this.createHouseForm.reset(),this.createHouseVisible=!0}openDialogCreateStreet(){this.createStreetForm.reset(),this.createStreetVisible=!0}openDialogCreateCity(){this.createCityForm.reset(),this.createCityVisible=!0}reload(){this.cities=[],this.streets=[],this.houses=[],this.selectedCity=void 0,this.selectedStreet=void 0,this.selectedHouse=void 0,this.viewMode="city",this.streetFiltering=!1,this.loadingState=ft.Gu.LOADING,this.filterControl.reset(),this.cityLoad$.subscribe(this.loadingStateHandler)}houseNavigationHandler(t){-1===t?this.previousHouse():1===t&&this.nextHouse()}previousHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t>0?this.houses[t-1]:this.houses[this.houses.length-1])}}nextHouse(){if(this.selectedHouse){const t=this.houses.indexOf(this.selectedHouse);this.selectHouse(t<this.houses.length-1?this.houses[t+1]:this.houses[0])}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s),e.Y36(Dn.U),e.Y36(Le.ez),e.Y36(Le.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:65,vars:34,consts:[["appExtendPageHeight","",1,"flexed","vcenter",3,"limited"],[1,"responsive-wrapper","flexed","gap10"],[1,"flex","p-3","flex-grow-1","gap-2","panel","overflow-hidden"],[3,"ngSwitch"],[4,"ngSwitchCase"],["cityList",""],["streetList",""],["houseList",""],["houseView",""],["loadingTemp",""],["errorTemp",""],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442",3,"modal","resizable","draggable","visible","visibleChange"],[1,"flex","flex-column","gap-3",3,"formGroup"],[1,"input-label-wrapper"],[1,"caption","size-small","wt-bold","f-color-500"],["pInputText","","type","text","formControlName","name"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c","styleClass","p-button-success","icon","mdi-add",1,"align-self-end",3,"disabled","onClick"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u043b\u0438\u0446\u0443",3,"modal","resizable","draggable","visible","visibleChange"],["appendTo","body","formControlName","prefix",3,"options"],["pInputText","","formControlName","name","type","text"],["formControlName","altNames","separator",",",3,"allowDuplicate","addOnTab","addOnBlur"],["pInputText","","formControlName","billingAlias","type","text"],["appendTo","body","header","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043c",3,"modal","resizable","draggable","visible","visibleChange"],["formControlName","houseNum"],["formControlName","fraction",3,"min","max"],["formControlName","letter","mask","a","characterPattern","[\u0430-\u044f]"],["formControlName","build",3,"min","max"],[4,"ngTemplateOutlet"],[1,"flex","gap-3","flex-grow-1"],[1,"flex","flex-column","gap-2","terminator-right"],[1,"flex","gap-3","px-3","align-items-center"],[1,"caption","size-big"],[1,"flex-grow-1"],["icon","mdi-add","styleClass","p-button-outlined p-button-success p-button-icon",3,"loading","onClick"],[1,"list-view","pr-3"],["class","flexed gap5 p10 h-min hcenter caption wt-bold f-color-600 border-round-md active-element","pRipple","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","p-3","flex-grow-1","align-items-center","justify-content-center"],[1,"flex","flex-column","align-items-center","caption","f-color-500"],[1,"mds-check_circle"],[1,"caption","size-big","f-color-500"],["pRipple","",1,"flexed","gap5","p10","h-min","hcenter","caption","wt-bold","f-color-600","border-round-md","active-element",3,"click"],[1,"mdi-location_city"],[1,"flex","gap-3","pr-3","align-items-center"],["icon","mdi-arrow_back_ios_new","styleClass","p-button-text p-button-secondary p-button-icon",3,"loading","onClick"],[1,"pr-3"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"mdi-search"],["pInputText","","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b...","type","text",3,"appPreventInput","formControl"],[1,"list-view","pr-3",3,"ngClass"],[1,"flexed","column","stretched","gap10"],[1,"flexed","gap5","pb-2","px-2","hcenter","terminator-bottom"],[1,"stretched"],["label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","styleClass","p-button-text p-button-danger","icon","mdi-delete",3,"loading","onClick"],[1,"flex","flex-column","gap-2","p-3",3,"formGroup"],["label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","styleClass","p-button-success","icon","mdi-save",1,"align-self-end",3,"loading","disabled","onClick"],[1,"mdi-streetview"],["formControlName","prefix",3,"options"],[1,"mdi-home"],[1,"flex","flex-column","gap-3","flex-grow-1"],[1,"flex","align-items-center","gap-3","terminator-bottom","pb-2"],[1,"caption","size-big","flex-grow-1"],[1,"flex","gap-3"],["label","\u041f\u0440\u0435\u0434. (Alt+B)","icon","mdi-arrow_back","styleClass","p-button-text p-button-info",3,"loading","onClick"],["label","\u0421\u043b\u0435\u0434. (Alt+N)","icon","mdi-arrow_forward","iconPos","right","styleClass","p-button-text p-button-info",3,"loading","onClick"],[1,"flex","flex-column","gap-3","flex-grow-1","p-3",3,"formGroup"],["formControlName","fraction"],["pInputText","","formControlName","letter","type","text"],["formControlName","build"],[1,"flex-grow-1",3,"center","zoom","options","yaclick"],[3,"geometry",4,"ngFor","ngForOf"],[3,"geometry"],[1,"flex","align-items-center","justify-content-center","flex-grow-1"],["strokeWidth","1",1,"primary-spinner"],[1,"flex","align-items-center","justify-content-center","flex-grow-1","caption","size-big","f-color-danger"],[1,"flex","flex-column","align-items-center"],[1,"mds-error"],["label","\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","icon","mdi-refresh","styleClass","p-button-success p-button-outlined",1,"mt-3",3,"onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2),e.ynx(4,3),e.YNc(5,iL,2,1,"ng-container",4),e.YNc(6,sL,2,1,"ng-container",4),e.YNc(7,gL,6,5,"ng-container",4),e.BQk(),e.qZA()()(),e.YNc(8,mL,15,5,"ng-template",null,5,e.W1O),e.YNc(10,vL,31,22,"ng-template",null,6,e.W1O),e.YNc(12,yL,38,21,"ng-template",null,7,e.W1O),e.YNc(14,TL,36,26,"ng-template",null,8,e.W1O),e.YNc(16,wL,2,0,"ng-template",null,9,e.W1O),e.YNc(18,xL,6,0,"ng-template",null,10,e.W1O),e.TgZ(20,"p-dialog",11),e.NdJ("visibleChange",function(c){return i.createCityVisible=c}),e.TgZ(21,"div",12)(22,"div",13)(23,"label",14),e._uU(24,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"),e.qZA(),e._UZ(25,"input",15),e.qZA(),e.TgZ(26,"p-button",16),e.NdJ("onClick",function(){return i.createCity()}),e.qZA()()(),e.TgZ(27,"p-dialog",17),e.NdJ("visibleChange",function(c){return i.createStreetVisible=c}),e.TgZ(28,"div",12)(29,"div",13)(30,"label",14),e._uU(31,"\u0422\u0438\u043f"),e.qZA(),e._UZ(32,"p-dropdown",18),e.qZA(),e.TgZ(33,"div",13)(34,"label",14),e._uU(35,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"),e.qZA(),e._UZ(36,"input",19),e.qZA(),e.TgZ(37,"div",13)(38,"label",14),e._uU(39,"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"),e.qZA(),e._UZ(40,"p-chips",20),e.qZA(),e.TgZ(41,"div",13)(42,"label",14),e._uU(43,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432 \u0431\u0438\u043b\u043b\u0438\u043d\u0433\u0435"),e.qZA(),e._UZ(44,"input",21),e.qZA(),e.TgZ(45,"p-button",16),e.NdJ("onClick",function(){return i.createStreet()}),e.qZA()()(),e.TgZ(46,"p-dialog",22),e.NdJ("visibleChange",function(c){return i.createHouseVisible=c}),e.TgZ(47,"div",12)(48,"div",13)(49,"label",14),e._uU(50,"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"),e.qZA(),e._UZ(51,"p-inputNumber",23),e.qZA(),e.TgZ(52,"div",13)(53,"label",14),e._uU(54,"\u0414\u0440\u043e\u0431\u044c (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(55,"p-inputNumber",24),e.qZA(),e.TgZ(56,"div",13)(57,"label",14),e._uU(58,"\u041b\u0438\u0442\u0435\u0440\u0430 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(59,"p-inputMask",25),e.qZA(),e.TgZ(60,"div",13)(61,"label",14),e._uU(62,"\u0421\u0442\u0440\u043e\u0435\u043d\u0438\u0435 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)"),e.qZA(),e._UZ(63,"p-inputNumber",26),e.qZA(),e.TgZ(64,"p-button",16),e.NdJ("onClick",function(){return i.createHouse()}),e.qZA()()()),2&t&&(e.Q6J("limited",!0),e.xp6(1),e.Akn(e.DdM(33,EL)),e.xp6(3),e.Q6J("ngSwitch",i.loadingState),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","READY"),e.xp6(13),e.Q6J("modal",!0)("resizable",!1)("draggable",!1)("visible",i.createCityVisible),e.xp6(1),e.Q6J("formGroup",i.createCityForm),e.xp6(5),e.Q6J("disabled",!i.createCityForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("draggable",!1)("visible",i.createStreetVisible),e.xp6(1),e.Q6J("formGroup",i.createStreetForm),e.xp6(4),e.Q6J("options",i.streetPrefixes),e.xp6(8),e.Q6J("allowDuplicate",!1)("addOnTab",!0)("addOnBlur",!0),e.xp6(5),e.Q6J("disabled",!i.createStreetForm.valid),e.xp6(1),e.Q6J("modal",!0)("resizable",!1)("draggable",!1)("visible",i.createHouseVisible),e.xp6(1),e.Q6J("formGroup",i.createHouseForm),e.xp6(8),e.Q6J("min",1)("max",999),e.xp6(8),e.Q6J("min",1)("max",99),e.xp6(1),e.Q6J("disabled",!i.createHouseForm.valid))},dependencies:[Me,$e,Rx,R.Fj,R.JJ,R.JL,I.sg,qi.V,R.oH,R.sg,R.u,Ht.Lt,Ei.zx,I.tP,I.RF,I.n9,Ze.o,I.mk,hn.G,mt.Rn,mn.H,Lx,Nx.vy,Zx,eL,I.Ov],data:{animation:[Fi.aq]}}),n})();var Vx=C(5055);function kL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-listbox",18),e.NdJ("onChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.selectTemplate(r.value))}),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw();e.Q6J("disabled","LOADING"===i.templateLoadingState)("hidden","READY"!==i.wireframesLoadingState)("options",t)}}function ML(n,o){1&n&&e.GkF(0)}function DL(n,o){if(1&n&&e._UZ(0,"app-task-template-input",20),2&n){const t=o.$implicit;e.Q6J("field",t)("formControlName",t.id)}}function OL(n,o){if(1&n&&(e.ynx(0),e.YNc(1,DL,1,2,"app-task-template-input",19),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.taskFields)}}function PL(n,o){1&n&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"span",23),e.TgZ(3,"span"),e._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA()()())}function RL(n,o){1&n&&(e.TgZ(0,"div",21),e._UZ(1,"p-progressSpinner",24),e.qZA())}function LL(n,o){1&n&&e._UZ(0,"app-employee-label",33),2&n&&e.Q6J("employee",o.$implicit)}function NL(n,o){if(1&n&&(e.TgZ(0,"section",25)(1,"div",6)(2,"span",7),e._uU(3,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u0438"),e.qZA(),e.TgZ(4,"p-listbox",26),e.YNc(5,LL,1,1,"ng-template",27),e.qZA()(),e.TgZ(6,"div",28)(7,"div",6)(8,"span",7),e._uU(9,"\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e._UZ(10,"p-calendar",29),e.qZA(),e.TgZ(11,"div",6)(12,"span",7),e._uU(13,"\u0422\u0435\u0433\u0438 \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e._UZ(14,"app-task-tag-selector",30),e.qZA(),e.TgZ(15,"div",31)(16,"span",7),e._uU(17,"\u041e\u0442\u0447\u0435\u0442 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0445"),e.qZA(),e._UZ(18,"textarea",32),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.installersReportForm),e.xp6(4),e.Q6J("checkbox",!0)("metaKeySelection",!1)("multiple",!0)("options",t.installers),e.xp6(6),e.Q6J("readonlyInput",!0)("selectOtherMonths",!0),e.xp6(4),e.Q6J("autoAccept",!0),e.xp6(4),e.Q6J("autoResize",!0)("rows",4)}}function FL(n,o){if(1&n&&(e.TgZ(0,"section",5),e._UZ(1,"app-works-picker",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("employees",t.installersReportForm.value.installers)("formControl",t.worksPickerForm)}}function BL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",5)(1,"app-employee-sum-distribution",35),e.NdJ("onRemoveFactorAction",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.removeFactorActionHandler(r))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.employeeRatioForm)("employees",t.installersReportForm.value.installers)("actionsTaken",null==t.worksPickerForm.value?null:t.worksPickerForm.value.actionsTaken)("factorsActions",null==t.worksPickerForm.value?null:t.worksPickerForm.value.factorsActions)}}function HL(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",36),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.createTaskAndCalculate())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.taskInformationForm.valid||!t.worksPickerForm.valid||!t.installersReportForm.valid)("loading",t.isSendingCalculation)}}function ZL(n,o){1&n&&(e.TgZ(0,"span",42),e._UZ(1,"span",43),e.TgZ(2,"span"),e._uU(3,"\u041e\u0448\u0438\u0431\u043a\u0430"),e.qZA()())}function VL(n,o){1&n&&(e.TgZ(0,"span",44),e._UZ(1,"span",45),e.TgZ(2,"span"),e._uU(3,"\u041f\u0443\u0441\u0442\u043e"),e.qZA()())}function UL(n,o){1&n&&(e.ynx(0),e._UZ(1,"p-skeleton",46)(2,"p-skeleton",46)(3,"p-skeleton",46),e.BQk())}function zL(n,o){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,ZL,4,0,"span",39),e.YNc(2,VL,4,0,"span",40),e.YNc(3,UL,4,0,"ng-container",41),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.wireframesLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","ERROR"),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING")}}function GL(n,o){if(1&n&&e.YNc(0,zL,4,4,"div",37),2&n){const t=e.oxw();e.Q6J("ngIf","READY"!==t.wireframesLoadingState)}}const JL=[{path:"",component:xy.h,children:[{path:"",component:Py},{path:"tasks/incoming",component:Bl},{path:"tasks/calendar",component:xD},{path:"tasks/list",component:yo},{path:"tasks/status/:status",component:yo},{path:"tasks/status/:status/:template",component:yo},{path:"tasks/stages/:template",component:Oy},{path:"task/create",component:Gn},{path:"task/:id",component:Pm},{path:"tasks/templates",component:qb},{path:"tasks/templates/constructor",component:AT},{path:"employees",component:ad},{path:"testing",component:mh},{path:"parser/tracker",component:$D},{path:"parser/address",component:t3},{path:"salary/table",component:a3},{path:"salary/paid-actions",redirectTo:"/salary/paid-actions/1?includeDeleted=false",pathMatch:"full"},{path:"salary/paid-actions/:page",component:A3},{path:"salary/works",component:hP},{path:"salary/estimation",component:BP},{path:"salary/estimation/bypass",component:(()=>{class n{constructor(t){this.api=t,this.wireframesLoadingState=ft.Gu.LOADING,this.wireframes$=(0,cr.of)(null).pipe((0,Vi.b)(()=>{this.wireframesLoadingState=ft.Gu.LOADING}),(0,Sr.w)(()=>this.api.getWireframes(!1)),(0,Vi.b)({next:i=>{this.wireframesLoadingState=i.length>0?ft.Gu.READY:ft.Gu.EMPTY},error:()=>{this.wireframesLoadingState=ft.Gu.ERROR}}),(0,F.U)(i=>i.map(r=>({label:r.name,value:r.wireframeId})))),this.templateLoadingState=ft.Gu.EMPTY,this.taskFields=[],this.taskInformationForm=new R.cw({}),this.installers=[],this.loadingInstallers$=this.api.getInstallersEmployees().pipe((0,Vi.b)({next:i=>{this.installers=i},error:()=>{}})),this.installersReportForm=new R.cw({installers:new R.NI([],[R.kI.required]),report:new R.NI("",[R.kI.required]),tags:new R.NI([]),date:new R.NI(new Date,[R.kI.required])}),this.subscriptions=new it.xf,this.worksPickerForm=new R.NI(null,[this.worksPickerValidator]),this.isSendingCalculation=!1,this.employeeRatioForm=new R.NI({}),this._selectTemplateSubject=new Zi.x,this.selectWireframe$=this._selectTemplateSubject.pipe((0,Vi.b)(()=>{this.templateLoadingState=ft.Gu.LOADING}),(0,Sr.w)(i=>this.api.getWireframe(i)),(0,Vi.b)(()=>this.loadingInstallers$.subscribe()),(0,Vi.b)({next:i=>{var r,c,h;this.taskFields=null!==(r=i.allFields)&&void 0!==r?r:[],this.selectedWireframe=i,this.taskInformationForm=new R.cw(null!==(h=null===(c=i.allFields)||void 0===c?void 0:c.reduce((y,O)=>Object.assign(Object.assign({},y),{[O.id]:new R.NI(null,[oi.taskInput(O.type,O.variation)])}),{}))&&void 0!==h?h:new R.cw({})),this.templateLoadingState=ft.Gu.READY},error:()=>{this.templateLoadingState=ft.Gu.ERROR}}))}worksPickerValidator(t){const i=t.value;return null==i?{required:!0}:"actionsTaken"in i?null==i.actionsTaken||0===i.actionsTaken.length?{required:!0}:null:{required:!0}}ngOnInit(){this.subscriptions.addSubscription("selwf",this.selectWireframe$.subscribe())}ngOnDestroy(){this.subscriptions.unsubscribeAll()}selectTemplate(t){this._selectTemplateSubject.next(t)}getFactorsActions(t){var i,r;return null!==(i=this.worksPickerForm.value)&&void 0!==i&&i.factorsActions?null===(r=this.worksPickerForm.value)||void 0===r?void 0:r.factorsActions.filter(c=>c.login===t):[]}createTaskAndCalculate(){var t;const i=this.installersReportForm.value.installers;!i||null===(t=this.worksPickerForm.value)||void 0===t||!t.actionsTaken||!this.selectedWireframe||this.api.sendBypassWorkCalculation({taskInfo:{wireframeId:this.selectedWireframe.wireframeId,fields:it.PU.convert(this.taskInformationForm.value,this.selectedWireframe)},reportInfo:this.installersReportForm.value,actions:this.worksPickerForm.value.actionsTaken.map(r=>({workId:r.workId,actionId:r.actionId,count:r.count,uuid:r.uuid})),spreading:i.map(r=>({login:r.login,ratio:this.employeeRatioForm.value?this.employeeRatioForm.value[r.login].ratio:0,factorsActions:this.getFactorsActions(r.login).filter(c=>c).map(c=>({factor:c.factor,name:c.name,actionUuids:c.actionUuids}))}))}).subscribe()}removeFactorActionHandler(t){this.worksPickerForm.value&&this.worksPickerForm.setValue({actionsTaken:this.worksPickerForm.value.actionsTaken,factorsActions:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:28,vars:13,consts:[["appExtendPageHeight","",1,"flex","justify-content-center"],[1,"flex","gap-3","responsive-wrapper","mb-3"],[1,"flex","flex-column","flex-grow-1","panel"],[1,"caption","size-huge","wt-tiny","f-color-600","p-3","terminator-bottom"],[1,"flex","flex-column","px-4"],[1,"flex","gap-4","p-4","terminator-bottom"],[1,"flex","flex-column","gap-1"],[1,"caption","wt-bold","f-color-500"],[3,"disabled","hidden","options","onChange",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"flex","flex-grow-1","flex-column","gap-2",3,"formGroup"],[4,"ngIf"],[3,"ngSwitch"],["class","flex justify-content-center",4,"ngSwitchCase"],["class","flex gap-4 p-4 terminator-bottom",3,"formGroup",4,"ngIf"],["class","flex gap-4 p-4 terminator-bottom",4,"ngIf"],["class","align-self-end my-3","icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"disabled","loading","onClick",4,"ngIf"],["wireframesLoadingTemp",""],[3,"disabled","hidden","options","onChange"],[3,"field","formControlName",4,"ngFor","ngForOf"],[3,"field","formControlName"],[1,"flex","justify-content-center"],[1,"flex","align-items-center","caption","size-big","wt-bold","f-color-400"],[1,"mds-done"],["strokeWidth","1",1,"primary-spinner"],[1,"flex","gap-4","p-4","terminator-bottom",3,"formGroup"],["formControlName","installers",3,"checkbox","metaKeySelection","multiple","options"],["pTemplate","item"],[1,"flex","flex-column","gap-2","flex-grow-1"],["selectionMode","single","appendTo","body","formControlName","date",3,"readonlyInput","selectOtherMonths"],["formControlName","tags",3,"autoAccept"],[1,"flex","flex-column","gap-1","flex-grow-1"],["pInputTextarea","","formControlName","report",3,"autoResize","rows"],[3,"employee"],[1,"flex-grow-1",3,"employees","formControl"],[1,"w-full",3,"formControl","employees","actionsTaken","factorsActions","onRemoveFactorAction"],["icon","mdi-currency_exchange","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c",1,"align-self-end","my-3",3,"disabled","loading","onClick"],["class","border-round-md border-1 border-solid border-300 p-3 flex flex-column gap-2",3,"ngSwitch",4,"ngIf"],[1,"border-round-md","border-1","border-solid","border-300","p-3","flex","flex-column","gap-2",3,"ngSwitch"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-danger",4,"ngSwitchCase"],["class","flex flex-grow-1 gap-1 h-10rem align-items-center justify-content-center caption wt-bold f-color-300",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-danger"],[1,"mdi-error"],[1,"flex","flex-grow-1","gap-1","h-10rem","align-items-center","justify-content-center","caption","wt-bold","f-color-300"],[1,"mdi-backpack"],["width","10rem","height","2.8rem"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-main-menu-panel"),e.TgZ(3,"div",2)(4,"span",3),e._uU(5,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043f\u043e\u0434\u0441\u0447\u0435\u0442 \u0440\u0430\u0431\u043e\u0442"),e.qZA(),e.TgZ(6,"div",4)(7,"section",5)(8,"div")(9,"div",6)(10,"span",7),e._uU(11,"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438"),e.qZA(),e.YNc(12,kL,1,3,"p-listbox",8),e.ALo(13,"async"),e.YNc(14,ML,1,0,"ng-container",9),e.qZA()(),e.TgZ(15,"div",10)(16,"span",7),e._uU(17,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u0434\u0430\u0447\u0435"),e.qZA(),e.YNc(18,OL,2,1,"ng-container",11),e.ynx(19,12),e.YNc(20,PL,5,0,"div",13),e.YNc(21,RL,2,0,"div",13),e.BQk(),e.qZA()(),e.YNc(22,NL,19,10,"section",14),e.YNc(23,FL,2,2,"section",15),e.YNc(24,BL,2,4,"section",15),e.YNc(25,HL,1,2,"p-button",16),e.qZA()()()(),e.YNc(26,GL,1,1,"ng-template",null,17,e.W1O)),2&t){const r=e.MAs(27);e.xp6(12),e.Q6J("ngIf",e.lcZ(13,11,i.wireframes$)),e.xp6(2),e.Q6J("ngTemplateOutlet",r),e.xp6(1),e.Q6J("formGroup",i.taskInformationForm),e.xp6(3),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngSwitch",i.templateLoadingState),e.xp6(1),e.Q6J("ngSwitchCase","EMPTY"),e.xp6(1),e.Q6J("ngSwitchCase","LOADING"),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState),e.xp6(1),e.Q6J("ngIf","READY"===i.templateLoadingState)}},dependencies:[os.o,Me,$e,Ri.x,la,fh,Px,R.Fj,R.JJ,R.JL,Le.jx,I.sg,R.oH,R.sg,R.u,I.O5,j.g,Ei.zx,I.tP,I.RF,I.n9,ho.f,hn.G,Os.O,Vx.Ri,I.Ov]}),n})()},{path:"billing/search",component:tR},{path:"billing/user/:login",component:NR},{path:"addresses/list",component:SL}]}];let jL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.Bz.forChild(JL),s.Bz]}),n})();var WL=C(1663),YL=C(9114);let nN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Le.m8]}),n})(),fN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[I.ez,R.u5]]}),n})();var mN=C(9925),_N=C(9770),CN=C(9718),vN=C(4782);function bN(n,o){}const H0=()=>{const n="undefined"!=typeof window?window:void 0;return n&&n.tinymce?n.tinymce:null};let yN=(()=>{class n{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const Ux=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Z0=(n,o,t)=>(0,ha.R)(n,o).pipe((0,Gr.R)(t)),zx=(n,o)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:o;let Gx=0;const Qx=n=>void 0!==n&&"textarea"===n.tagName.toLowerCase(),Jx=n=>void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" "),wN=(n,o)=>Jx(n).concat(Jx(o)),xN=()=>{},jx=n=>null==n,EN=(()=>{let n={script$:null};return{load:(i,r)=>n.script$||(n.script$=(0,_N.P)(()=>{const c=i.createElement("script");return c.referrerPolicy="origin",c.type="application/javascript",c.src=r,i.head.appendChild(c),(0,ha.R)(c,"load").pipe((0,_c.q)(1),(0,CN.h)(void 0))}).pipe((0,vN.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),SN=new e.OlP("TINYMCE_SCRIPT_SRC"),kN={provide:R.JU,useExisting:(0,e.Gpc)(()=>Yx),multi:!0};let Yx=(()=>{class n extends yN{constructor(t,i,r,c){super(),this.platformId=r,this.tinymceScriptSrc=c,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=xN,this.destroy$=new Zi.x,this.initialise=()=>{const h=Object.assign(Object.assign({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:wN(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:y=>{this._editor=y,Z0(y,"init",this.destroy$).subscribe(()=>{this.initEditor(y)}),((n,o,t)=>{(n=>{const o=zx(n.ignoreEvents,[]);return zx(n.allowedEvents,Ux).filter(i=>Ux.includes(i)&&!o.includes(i))})(n).forEach(r=>{const c=n[r];Z0(o,r.substring(2),t).subscribe(h=>{c.observers.length>0&&n.ngZone.run(()=>c.emit({event:h,editor:o}))})})})(this,y,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(y)}});Qx(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{H0().init(h)})},this._elementRef=t,this.ngZone=i}set disabled(t){var i;this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof(null===(i=this._editor.mode)||void 0===i?void 0:i.set)?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(jx(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){var t;(0,I.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),i=Math.floor(1e9*Math.random());return Gx++,"tiny-angular_"+i+Gx+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!(null===(t=this.init)||void 0===t||!t.inline),this.createElement(),null!==H0()?this.initialise():this._element&&this._element.ownerDocument&&EN.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,Gr.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==H0()&&H0().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Qx(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return jx(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){Z0(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),Z0(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(SN,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([kN]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,i){1&t&&e.YNc(0,bN,0,0,"ng-template")},dependencies:[I.ez,R.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var MN=C(9618);let a6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,Wo.U,mn.T,rc.v,Le.m8,rc.v]}),n})();var l6=C(9955);const c6={apikey:"008574e5-f34b-4270-b3d5-91aaabd036e8",lang:"ru_RU"};let u6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Le.ez,{provide:e.soG,useValue:"ru"},Le.YP],imports:[WL.U,jL,Bi.JP.forRoot({sanitize:e.q3G.NONE}),hy,R.u5,hi.LU,qi.S,R.UX,Ht.kW,Ml,_,x.nD,j.A,YL.D,nN,fN,ho._8,jo,Ix,Jm,cy,Te.$9,Ze.j,mN.z,un.q4,Et.y,sm,hn.L,Os.m,dm,qu.e4,Lv,Wo.U,wc.n,Vx.ON,mm,Yx,Ps.g6,Ps.qH,jM,CD,Ix,Ax.q,ei.Qy,MN.E,pO,P2,mn.T,a6,hh._t,Dc.U$,Ox.JH,P_.ce,l6.l,jR,Nx.zz,tL.forRoot(c6)]}),n})()},9936:(Lt,qe,C)=>{C.d(qe,{h:()=>ge});var e=C(5e3),s=C(3470),f=C(9744),V=C(9014),F=C(2248);const I=["chatPanelEl"];function L(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"app-button",9),e.NdJ("onClick",function(){e.CHM(Q);const le=e.oxw();return e.KtG(le.taskCreator.standard())}),e.qZA()}}function se(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"span",10),e._UZ(1,"i",11),e._uU(2," \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e._UZ(3,"div",4),e.TgZ(4,"p-button",12),e.NdJ("onClick",function(){e.CHM(Q);const le=e.oxw();return e.KtG(le.notifyService.readAllNotifications())}),e.qZA()}if(2&pe){const Q=e.oxw();e.xp6(4),e.Q6J("disabled",!Q.notifyService.isHasUnread)}}function q(pe,ke){1&pe&&e._UZ(0,"app-notification-item",17),2&pe&&e.Q6J("notification",ke.$implicit)}function z(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"div",15),e.NdJ("onScrollToBottom",function(){e.CHM(Q);const le=e.oxw(2);return e.KtG(!le.notifyService.isLast&&le.notifyService.load())}),e.YNc(1,q,1,1,"app-notification-item",16),e.qZA()}if(2&pe){const Q=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",Q.notifyService.list)}}function he(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"div",18)(1,"span",19),e._UZ(2,"i",20),e._uU(3," \u041d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0438\u0306 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"),e.qZA(),e.TgZ(4,"p-button",21),e.NdJ("onClick",function(){e.CHM(Q);const le=e.oxw(2);return e.KtG(le.notifyService.changeNotificationViewMode("ALL"))}),e.qZA()()}2&pe&&e.Udp("padding-top","10rem")}function ne(pe,ke){if(1&pe&&(e.YNc(0,z,2,1,"div",13),e.YNc(1,he,5,2,"div",14)),2&pe){const Q=e.oxw();e.Q6J("ngIf",!Q.notifyService.isEmpty),e.xp6(1),e.Q6J("ngIf",Q.notifyService.isEmpty)}}const De=function(){return["/"]},ue=function(){return{width:"max-content",maxWidth:"30vw"}};let ge=(()=>{class pe{constructor(Q,Oe,le,P){this.router=Q,this.notifyService=Oe,this.chatService=le,this.taskCreator=P,this.isTaskCreationPage=!1}ngOnInit(){this.isTaskCreationPage="/task/create"===this.router.url,this.openChatSub=this.chatService.open.subscribe(Q=>{this.chatPanelEl&&this.chatPanelEl.show(Q)})}ngOnDestroy(){var Q;null===(Q=this.openChatSub)||void 0===Q||Q.unsubscribe()}}return pe.\u0275fac=function(Q){return new(Q||pe)(e.Y36(s.F0),e.Y36(f.T),e.Y36(V.a),e.Y36(F.e))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["ng-component"]],viewQuery:function(Q,Oe){if(1&Q&&e.Gf(I,5),2&Q){let le;e.iGM(le=e.CRH())&&(Oe.chatPanelEl=le.first)}},decls:17,vars:12,consts:[[1,"top-panel"],[1,"responsive-wrapper","top-panel-content"],["src","assets/logo-dark.svg","alt","",1,"cursor-pointer",3,"routerLink"],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","icon","add_task","model","p-button-success",3,"onClick",4,"ngIf"],[1,"stretched"],["appScrollToBottomEmitter","",3,"showCloseIcon","blockScroll","visible","position","visibleChange","onShow","onHide"],["pTemplate","header"],["pTemplate","content"],["chatPanelEl",""],["label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443","icon","add_task","model","p-button-success",3,"onClick"],[1,"caption","size-big","flexed","inline","hcenter","gap3"],[1,"mdi-circle_notifications"],["styleClass","p-button-text","icon","mdi-clear_all","label","\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",3,"disabled","onClick"],["class","list-view flexed v-scroll","appScrollToBottomEmitter","",3,"onScrollToBottom",4,"ngIf"],["class","flexed hcenter vcenter column p10",3,"padding-top",4,"ngIf"],["appScrollToBottomEmitter","",1,"list-view","flexed","v-scroll",3,"onScrollToBottom"],[3,"notification",4,"ngFor","ngForOf"],[3,"notification"],[1,"flexed","hcenter","vcenter","column","p10"],[1,"flexed","hcenter","gap5","caption","size-big","wt-bold","f-color-500"],[1,"mdi-inventory"],["label","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435","styleClass","p-button-text one-line",3,"onClick"]],template:function(Q,Oe){1&Q&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.YNc(3,L,1,0,"app-button",3),e._UZ(4,"div",4)(5,"app-active-work-logs-panel")(6,"app-my-active-chats")(7,"app-account-panel"),e.qZA()(),e._UZ(8,"router-outlet")(9,"app-notifications-popup-panel"),e.TgZ(10,"p-sidebar",5),e.NdJ("visibleChange",function(P){return Oe.notifyService.displaySideBar=P})("onShow",function(){return Oe.notifyService.load()})("onHide",function(){return Oe.notifyService.readAllNotifications()}),e.YNc(11,se,5,1,"ng-template",6),e.YNc(12,ne,2,2,"ng-template",7),e.qZA(),e._UZ(13,"p-confirmDialog")(14,"app-media-viewer")(15,"app-chat-panel",null,8)),2&Q&&(e.xp6(2),e.Udp("height","3rem"),e.Q6J("routerLink",e.DdM(10,De)),e.xp6(1),e.Q6J("ngIf",!Oe.isTaskCreationPage),e.xp6(7),e.Akn(e.DdM(11,ue)),e.Q6J("showCloseIcon",!1)("blockScroll",!0)("visible",Oe.notifyService.displaySideBar)("position","right"))},styles:[".top-panel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--bgc-000);border-bottom:1px solid var(--bgc-300);box-shadow:var(--shadow-0);position:sticky;margin-bottom:1.5rem;top:0;height:var(--top-panel-height);z-index:1009}.top-panel-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem 1.5rem 1.5rem 2rem}"]}),pe})()},417:(Lt,qe,C)=>{C.d(qe,{t:()=>f});var e=C(383),s=C(5e3);let f=(()=>{class V{transform(I,L,se,q,z){let he,ne;if(q)ne=I;else{if(he=new Date(I),"Invalid Date"===he.toString())return"\u041d\u0435 \u0432\u0435\u0440\u043d\u0430\u044f \u0434\u0430\u0442\u0430";ne=Math.abs(Date.now()-he.getTime())}const De=Math.floor(ne/36e5),ue=Math.floor(ne%36e5/6e4),ge=Math.floor(ne%6e4/1e3);if(z&&De>0){if(De<24)return`${L}${De} ${e.cQ.declineOfNumber(De,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${se}`;{const pe=Math.floor(De/24),ke=Math.floor(De%24);return`${L}${pe} ${e.cQ.declineOfNumber(pe,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])} ${ke} ${e.cQ.declineOfNumber(ke,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${se}`}}return De>0&&De<13?`${L}${De} ${e.cQ.declineOfNumber(De,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"])}${se}`:0===De&&ue>0?`${L}${ue} ${e.cQ.declineOfNumber(ue,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"])}${se}`:0===De&&0===ue&&ge>0?`${L}${ge} ${e.cQ.declineOfNumber(ge,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])}${se}`:0===De&&0===ue&&0===ge?`${L}${ne.toFixed(2)} ${e.cQ.declineOfNumber(ne,["\u043c\u0441","\u043c\u0441","\u043c\u0441"])}${se}`:!q&&he?he.toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}}return V.\u0275fac=function(I){return new(I||V)},V.\u0275pipe=s.Yjl({name:"elapsedTime",type:V,pure:!0}),V})()},7728:(Lt,qe,C)=>{C.d(qe,{A:()=>f});var e=C(540),s=C(5e3);let f=(()=>{class V{transform(I){if(!I)return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";switch(I.taskStatus){case e.hY.ACTIVE:return"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f";case e.hY.PROCESSING:return"\u0423 \u043c\u043e\u043d\u0442\u0430\u0436\u043d\u0438\u043a\u043e\u0432";case e.hY.CLOSE:return"\u0417\u0430\u043a\u0440\u044b\u0442\u0430\u044f";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}}return V.\u0275fac=function(I){return new(I||V)},V.\u0275pipe=s.Yjl({name:"taskStatus",type:V,pure:!0}),V})()},8738:(Lt,qe,C)=>{C.d(qe,{s:()=>Q});var e=C(5861),s=C(4004),f=C(8505),V=C(9751),F=C(8421);const{isArray:I}=Array;var se=C(515),q=C(5403),z=C(3269);var ne=C(3099),De=C(262),ue=C(383),ge=C(5e3),pe=C(520),ke=C(9783);let Q=(()=>{class Oe{constructor(P,N){this.client=P,this.toast=N,this.requestCacheMap={},this.loggedIn=!1}getWireframe(P){return this.sendGet("api/private/wireframe/"+P)}getWireframeFields(P){return this.sendGet("api/private/wireframe/"+P+"/fields")}getWireframes(P){return null==P?this.sendGet("api/private/wireframes"):this.sendGet("api/private/wireframes",{includingRemoved:P})}getWireframesNames(){return this.sendGet("api/private/wireframes/names")}createWireframe(P){return this.sendPost("api/private/wireframe",P)}updateWireframe(P){return console.log(P),this.sendPatch("api/private/wireframe",P)}createTask(P){return this.sendPost("api/private/task",P)}deleteTask(P){return this.sendDelete("api/private/task/"+P)}getTask(P,N=!1){const we="api/private/task/"+P;return N?this.sendGetSilent(we):this.sendGet(we)}getWorkLogsByTaskId(P){return this.sendGet(`api/private/task/${P}/work-logs`)}getActiveWorkLogs(){return this.sendGet("api/private/work-logs/active")}getCountOfActiveWorkLogs(){return this.sendGet("api/private/work-logs/active/count")}getRootTask(P){return this.sendGet("api/private/task/"+P+"/root")}getFieldsTask(P){return this.sendGet(`api/private/task/${P}/fields`)}getPageOfTasks(P,N){return this.sendGet(`api/private/tasks/${P}`,ue.cQ.prepareForHttpRequest(N))}getHouses(P){return this.sendGet(`api/private/houses/${P}`)}getStreets(P,N){return N?this.sendGet("api/private/streets/"+P,{filter:N}):this.sendGet("api/private/streets/"+P)}getCities(){return this.sendGet("api/private/cities")}getAvailableObservers(){return this.sendGet("api/private/available-observers")}getAvailableObserversSuggestions(P){return this.sendGet(`api/private/available-observers/${P}`)}createComment(P,N,we,be){return this.sendPost("api/private/comment",{taskId:N,text:P||"",files:we||[],replyComment:be})}getComments(P,N,we){return this.sendGet("api/private/comments",{taskId:P,offset:N,limit:we})}getTaskJournal(P,N,we){return this.sendGet(`api/private/task/${P}/journal`,{offset:N,limit:we})}getEmployees(P,N,we){const be={};return P&&(be.globalFilter=P),"boolean"==typeof N&&!N&&(be.showDeleted=N),"boolean"==typeof we&&!we&&(be.showOffsite=we),this.sendGet("api/private/employees/list",be)}getEmployeesOptionsList(P){return this.sendGet("api/private/employees/list",{globalFilter:null!=P?P:""}).pipe((0,s.U)(N=>N.map(we=>{const{firstName:be,secondName:ye,lastName:G,login:E}=we;return{label:be&&ye&&G?`${G} ${be} ${ye}`:E,value:E}})))}getAllTaskAttachments(P){return this.sendGet("api/private/task/"+P+"/attachments")}getCountAllTaskAttachments(P){return this.sendGet("api/private/task/"+P+"/attachments/count")}getDepartments(){return this.sendGet("api/private/departments")}getPositions(){return this.sendGet("api/private/positions")}createDepartment(P){return this.sendPost("api/private/department",P)}editDepartment(P,N){return this.sendPatch("api/private/department/"+N,P)}deleteDepartment(P){return this.sendDelete("api/private/department/"+P)}createPosition(P){return this.sendPost("api/private/position",P)}editPosition(P,N){return this.sendPatch("api/private/position/"+N,P)}deletePosition(P){return this.sendDelete("api/private/position/"+P)}createEmployee(P){return this.sendPost("api/private/employee",P)}editEmployee(P,N){return this.sendPatch("api/private/employee/"+N,P)}deleteEmployee(P){return this.sendDelete("api/private/employee/"+P)}getEmployee(P,N=!1){const we="api/private/employee/"+P;return N?this.sendGetSilent(we):this.sendGet(we)}signIn(P){return this.sendPost("api/public/sign-in",P).pipe((0,f.b)(N=>{ue.Ke.save("token",N.token),this.loggedIn=!0}))}authCheckout(){return this.sendGet("api/public/auth-checkout").pipe((0,f.b)(P=>{P&&localStorage.setItem("token",P.token)}))}getMe(){return this.sendGet("api/private/me")}setAvatar(P){return this.sendPost("api/private/employee/avatar",P)}getResponsible(){return function he(...Oe){const le=(0,z.jO)(Oe),P=function L(Oe){return 1===Oe.length&&I(Oe[0])?Oe[0]:Oe}(Oe);return P.length?new V.y(N=>{let we=P.map(()=>[]),be=P.map(()=>!1);N.add(()=>{we=be=null});for(let ye=0;!N.closed&&ye<P.length;ye++)(0,F.Xf)(P[ye]).subscribe(new q.Q(N,G=>{if(we[ye].push(G),we.every(E=>E.length)){const E=we.map(U=>U.shift());N.next(le?le(...E):E),we.some((U,$)=>!U.length&&be[$])&&N.complete()}},()=>{be[ye]=!0,!we[ye].length&&N.complete()}));return()=>{we=be=null}}):se.E}(this.sendGet("api/private/departments"),this.sendGet("api/private/employees/list")).pipe((0,s.U)(P=>P.flat()),(0,s.U)(P=>P.filter(N=>!N.deleted)))}getActiveTaskInStage(P,N,we,be){return this.sendGet(`api/private/tasks/template/${we}/stage/${be}`,{offset:P,limit:N})}getActiveTaskInNullStage(P,N,we){return this.sendGet(`api/private/tasks/template/${we}/stage`,{offset:P,limit:N})}changeTaskStage(P,N){return this.sendPatch(`api/private/task/${P}/stage`,{stageId:N})}getActiveTaskIdsInStage(P,N){return this.sendGet(`api/private/tasks/template/${P}/stage/${N}/taskIdOnly`)}getActiveTaskIdsInNullStage(P){return this.sendGet(`api/private/tasks/template/${P}/stage/taskIdOnly`)}updateComment(P){return this.sendPatch("api/private/comment",P)}deleteComment(P){return this.sendDelete("api/private/comment/"+P)}getInstallersEmployees(){return this.sendGet("api/private/employees/installers")}assignInstallersToTask(P,N){return this.sendPost("api/private/task/"+P+"/assign-installers",N)}forceCloseWorkLog(P,N){return this.sendPost("api/private/task/"+P+"/force-close-work-log",N)}changeTaskObservers(P,N,we){return this.sendPatch("api/private/task/"+P+"/observers",{departmentObservers:N,personalObservers:we})}unlinkParentTask(P){return this.sendPatch("api/private/task/"+P+"/unlink-parent",{})}changeLinkToParentTask(P,N){return this.sendPatch("api/private/task/"+P+"/link-to-parent",{parentTaskId:N})}appendLinksToChildrenTasks(P,N){return this.sendPatch("api/private/task/"+P+"/append-links-to-children",N)}getTaskTags(P){const N={};return void 0!==P&&(N.includingRemote=P),this.sendGet("api/private/task-tags",N)}getTaskTagsBySearch(P){return this.sendGet(`api/private/task-tags/${P}`)}createTaskTag(P){return this.sendPost("api/private/task-tag",P)}modifyTaskTag(P){return this.sendPatch("api/private/task-tag",P)}deleteTaskTag(P){return this.sendDelete("api/private/task-tag/"+P)}setTaskTags(P,N){return this.sendPatch(`api/private/task/${P}/tags`,N)}changeTaskResponsible(P,N){return this.sendPatch("api/private/task/"+P+"/responsible",N)}unbindResponsible(P){return this.sendPatch("api/private/task/"+P+"/unbind-responsible",{})}changeTaskActualFrom(P,N){return this.sendPatch("api/private/task/"+P+"/actual-from",N)}changeTaskActualTo(P,N){return this.sendPatch("api/private/task/"+P+"/actual-to",N)}clearActualFromDate(P){return this.sendPatch("api/private/task/"+P+"/clear-actual-from-date",{})}clearActualToDate(P){return this.sendPatch("api/private/task/"+P+"/clear-actual-to-date",{})}closeTask(P){return this.sendPatch("api/private/task/"+P+"/close",{})}reopenTask(P){return this.sendPatch("api/private/task/"+P+"/reopen",{})}editTask(P,N){return this.sendPatch("api/private/task/"+P+"/edit-fields",N)}getEditTaskSnapshots(P){return this.sendGet("api/private/task/"+P+"/edit-snapshots")}getNotifications(P,N,we=!1){return this.sendGet("api/private/notifications",{first:P,limit:N,unreadOnly:we})}getCountOfUnreadNotifications(){return this.sendGet("api/private/notifications/unread-count")}getDepartment(P,N=!1){return N?this.sendGetSilent("api/private/department/"+P):this.sendGet("api/private/department/"+P)}getWorkLog(P,N=!1){return N?this.sendGetSilent("api/private/work-log/"+P):this.sendGet("api/private/work-log/"+P)}getActiveWorkLogByTaskId(P){return this.sendGetSilent("api/private/task/"+P+"/work-log/active")}readAllNotifications(){return this.sendPatch("api/private/notifications/read-all",{})}changeMyStatus(P){return this.sendPatch("api/private/employee/status",P)}getChatMessages(P,N,we){return this.sendGet("api/private/chat/"+P+"/messages",{first:N,limit:we})}setMessagesAsRead(P){return this.sendPatch("api/private/chat/messages/read",P)}getActiveTaskChat(P){return this.sendGet("api/private/task/"+P+"/active-chat")}getChat(P){return this.sendGet("api/private/chat/"+P)}sendChatMessage(P,N,we,be){return this.sendPost("api/private/chat/"+P+"/message",{text:N,files:we,replyMessageId:be})}editChatMessage(P,N){return this.sendPatch("api/private/chat/message/"+P,N)}deleteChatMessage(P,N){return this.sendDelete("api/private/chat/message/"+N)}getMyActiveChats(){return this.sendGet("api/private/chats/my/active")}getIncomingTasks(P,N,we){return this.sendGet("api/private/tasks/incoming",Object.assign({page:P,limit:N},we))}getCountIncomingTasks(){return this.sendGet("api/private/tasks/incoming/count",{})}getCountIncomingTasksByWireframeId(P){return this.sendGet("api/private/tasks/incoming/wireframe/"+P+"/count",{})}getCountAllTasksByWireframeId(P){return this.sendGet("api/private/tasks/wireframe/"+P+"/count",{})}getScheduledTask(P,N){return this.sendGet("api/private/tasks/scheduled",{start:P,end:N})}moveScheduledTask(P,N){return this.sendPatch(`api/private/task/${P}/scheduled/move`,N)}signOut(){return this.sendPost("api/public/sign-out",{}).pipe((0,f.b)(()=>{this.loggedIn=!1}))}deleteWireframe(P){return this.sendDelete(`api/private/wireframe/${P}`)}getTrackerParserState(){return this.sendGet("api/private/parser/tracker")}saveTrackerParserSettings(P){return this.sendPatch("api/private/parser/tracker/settings",P)}startTrackerParser(){return this.sendPost("api/private/parser/tracker/start",{})}stopTrackerParser(){return this.sendPost("api/private/parser/tracker/stop",{})}getAddressCorrectingPool(){return this.sendGet("api/private/parser/tracker/address-correcting-pool")}sendCorrectedAddress(P){return this.sendPost("api/private/parser/tracker/address-correcting-pool",P)}startAddressParse(){return this.sendPost("api/private/parser/addresses/start",{})}getAddressSuggestions(P){return this.sendGet("api/private/suggestions/address",{query:P})}getCountOfUnreadMessages(P){return this.sendGet("api/private/chat/"+P+"/messages/unread-count")}getPageOfPaidActions(P,N){return this.sendGet(`api/private/salary/paid-actions/${P}`,N)}getListAvailablePaidActions(){return this.sendGet("api/private/salary/paid-actions/available")}createPaidAction(P){return this.sendPost("api/private/salary/paid-action",P)}editPaidAction(P,N){return this.sendPatch("api/private/salary/paid-action/"+P,N)}deletePaidAction(P){return this.sendDelete("api/private/salary/paid-action/"+P)}getRootTreeOfWorks(P){return this.sendGet("api/private/salary/paid-works-tree/root",{groupsUndraggable:null!=P&&P})}getWorksOfGroup(P,N){return this.sendGet(`api/private/salary/paid-works-tree/${P}`,{groupsUndraggable:null!=N&&N})}treeWorksDragDrop(P){return this.sendPatch("api/private/salary/paid-works-tree/drag-drop",P)}createPaidWorkGroup(P){return this.sendPost("api/private/salary/paid-work-group",P)}editPaidWorkGroup(P,N){return this.sendPatch("api/private/salary/paid-work-group/"+P,N)}deletePaidWorkGroup(P){return this.sendDelete("api/private/salary/paid-work-group/"+P)}createPaidWork(P){return this.sendPost("api/private/salary/paid-work",P)}editPaidWork(P,N){return this.sendPatch("api/private/salary/paid-work/"+P,N)}deletePaidWork(P){return this.sendDelete("api/private/salary/paid-work/"+P)}getPaidWorkById(P){return this.sendGet("api/private/salary/paid-work/"+P)}paidWorkTreeReposition(P){return this.sendPatch("api/private/salary/paid-works-tree/reposition",P)}getUncalculatedWorkLogs(){return this.sendGet("api/private/work-logs/uncalculated")}sendWorkCalculation(P){return this.sendPost("api/private/salary/work-calculation",P)}sendBypassWorkCalculation(P){return this.sendPost("api/private/salary/work-calculation/bypass",P)}getSalaryTable(P){return this.sendGet("api/private/salary/table",P)}getBillingUsersByLogin(P){return this.sendGet("api/private/billing/users/by-login",{login:P})}getBillingUsersByFio(P){return this.sendGet("api/private/billing/users/by-fio",{query:P})}getBillingUsersByAddress(P){return this.sendGet("api/private/billing/users/by-address",{address:JSON.stringify(P,(N,we)=>null!=we?we:void 0)})}getBillingUserInfo(P){return this.sendGet(`api/private/billing/user/${encodeURIComponent(P)}`)}convertBillingAddress(P){return this.sendGet("api/private/convert/billing-address-string",{addressString:P})}createCity(P){return this.sendPost("api/private/city",P)}editCity(P,N){return this.sendPatch(`api/private/city/${P}`,N)}deleteCity(P){return this.sendDelete(`api/private/city/${P}`)}createStreet(P,N){return this.sendPost(`api/private/city/${P}/street`,N)}editStreet(P,N){return this.sendPatch(`api/private/street/${P}`,N)}deleteStreet(P){return this.sendDelete(`api/private/street/${P}`)}createHouse(P,N){return this.sendPost(`api/private/street/${P}/house`,N)}editHouse(P,N){return this.sendPatch(`api/private/house/${P}`,N)}deleteHouse(P){return this.sendDelete(`api/private/house/${P}`)}sendGet(P,N){var we=this;const be=this.generateHash(P,N);let ye=null;return this.requestCacheMap[be]?ye=this.requestCacheMap[be]:(ye=this.client.get(P,{params:N}).pipe((0,ne.B)(),(0,De.K)(function(){var G=(0,e.Z)(function*(E,U){throw we.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:E.error.message}),E});return function(E,U){return G.apply(this,arguments)}}())),this.requestCacheMap[be]=ye,setTimeout(()=>{delete this.requestCacheMap[be]},1e4)),ye}sendGetSilent(P,N){const we=this.generateHash(P,N);let be=null;return this.requestCacheMap[we]?be=this.requestCacheMap[we]:(be=this.client.get(P,{params:N}).pipe((0,ne.B)()),this.requestCacheMap[we]=be,setTimeout(()=>{delete this.requestCacheMap[we]},1e4)),be}sendPost(P,N){var we=this;return this.client.post(P,N).pipe((0,De.K)(function(){var be=(0,e.Z)(function*(ye,G){throw we.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:ye.error.message}),ye});return function(ye,G){return be.apply(this,arguments)}}()))}sendPatch(P,N){return this.client.patch(P,N).pipe((0,De.K)((we,be)=>{throw console.log(we),this.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:we.error.message}),we}))}sendDelete(P){var N=this;return this.client.delete(P).pipe((0,De.K)(function(){var we=(0,e.Z)(function*(be,ye){throw N.toast.add({severity:"error",summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",detail:be.error.message}),be});return function(be,ye){return we.apply(this,arguments)}}()))}generateHash(P,N){return(0,ue.d4)(P+JSON.stringify(N),0)}}return Oe.\u0275fac=function(P){return new(P||Oe)(ge.LFG(pe.eN),ge.LFG(ke.ez))},Oe.\u0275prov=ge.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})()},9014:(Lt,qe,C)=>{C.d(qe,{a:()=>I});var e=C(5e3),s=C(8738),f=C(8007),V=C(8028),F=C(9783);let I=(()=>{class L{constructor(q,z,he,ne){this.api=q,this.rt=z,this.personality=he,this.messageService=ne,this.chats=[],this.unreadMessagesCount={},this.open=new e.vpe,this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},this.getChats(),he.onGettingUserData.subscribe(De=>{!De.login||(this.rt.chatCreated(De.login).subscribe(this.createChat.bind(this)),this.rt.updateCountUnreadMessages(De.login).subscribe(ue=>this.unreadMessagesCount[ue.chatId]=ue.count))}),this.rt.chatUpdated().subscribe(this.updateChat.bind(this)),this.rt.chatClosed().subscribe(this.closeChat.bind(this)),this.rt.chatMessageCreated().subscribe(De=>{De.parentChatId!==this.currentOpenChat?(this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then(),this.messageService.add({key:"chatMessage",severity:"chatmsg",data:De,life:3e4})):this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then()}),this.open.subscribe(()=>this.messageService.clear("chatMessage"))}get isHasUnreadMessages(){return Object.keys(this.unreadMessagesCount).length>0}get allUnreadCount(){return Object.values(this.unreadMessagesCount).reduce((q,z)=>q+z,0)}createChat(q){this.chats.push(q),this.api.getCountOfUnreadMessages(q.chatId).subscribe(z=>this.unreadMessagesCount[q.chatId]=z)}updateChat(q){const z=this.chats.findIndex(he=>he.chatId===q.chatId);-1!=z&&(this.chats[z]=q)}closeChat(q){const z=this.chats.findIndex(he=>he.chatId===q.chatId);-1!=z&&(this.chats.splice(z,1),delete this.unreadMessagesCount[q.chatId])}getChats(){this.api.getMyActiveChats().subscribe(q=>{this.chats=q;for(const z of q)this.api.getCountOfUnreadMessages(z.chatId).subscribe(he=>this.unreadMessagesCount[z.chatId]=he)})}}return L.\u0275fac=function(q){return new(q||L)(e.LFG(s.s),e.LFG(f.U),e.LFG(V.F),e.LFG(F.ez))},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},3064:(Lt,qe,C)=>{C.d(qe,{E:()=>f});var e=C(7579),s=C(5e3);let f=(()=>{class V{constructor(){this.mediaEmitter$=new e.x,this.mediaAlbumEmitter$=new e.x}showMedia(I){this.mediaEmitter$.next(I)}showMediaAlbum(I,L){this.mediaAlbumEmitter$.next({index:I,album:L})}media(){return this.mediaEmitter$.pipe()}mediaAlbum(){return this.mediaAlbumEmitter$.pipe()}}return V.\u0275fac=function(I){return new(I||V)},V.\u0275prov=s.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},9744:(Lt,qe,C)=>{C.d(qe,{T:()=>se});var e=C(540),s=C(8028),f=C(5e3),V=C(8738),F=C(8007),L=(()=>{return(q=L||(L={}))[q.ALL=0]="ALL",q[q.UNREAD=1]="UNREAD",L;var q})();let se=(()=>{class q{constructor(he,ne,De){this.api=he,this.rt=ne,this.personality=De,this.receivedNotifications=[],this.timers={},this.displaySideBar=!1,this.unreadCount=0,this.notificationViewMode=L.UNREAD,this.titles={[e.k$.NEW_COMMENT]:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",[e.k$.TASK_CREATED]:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",[e.k$.TASK_EDITED]:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u0434\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u0434\u0430\u0447\u0438",[e.k$.TASK_DELETED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",[e.k$.TASK_CLOSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0430",[e.k$.TASK_REOPENED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",[e.k$.TASK_PROCESSED]:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430",[e.k$.TASK_STAGE_CHANGED]:"\u0421\u0442\u0430\u0434\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430",[e.k$.YOU_OBSERVER]:"\u0412\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c",[e.k$.YOU_RESPONSIBLE]:"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439",[e.k$.TASK_HAS_BECOME_ACTUAL]:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f",[e.k$.TASK_EXPIRED]:"\u0421\u0440\u043e\u043a \u0438\u0441\u0442\u0435\u043a",[e.k$.WORKS_COMPLETED]:"\u0420\u0430\u0431\u043e\u0442\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b",[e.k$.REPORT_RECEIVED]:"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d",[e.k$.MENTIONED_IN_TASK]:"\u0412\u0430\u0441 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u043b\u0438"},this.icons={[e.k$.NEW_COMMENT]:"mdi-add_comment",[e.k$.TASK_CREATED]:"mdi-add_task",[e.k$.TASK_EDITED]:"mdi-edit",[e.k$.TASK_DELETED]:"mdi-delete",[e.k$.TASK_CLOSED]:"mdi-swipe_down_alt",[e.k$.TASK_REOPENED]:"mdi-swipe_up_alt",[e.k$.TASK_PROCESSED]:"mdi-how_to_reg",[e.k$.TASK_STAGE_CHANGED]:"mdi-next_week",[e.k$.YOU_OBSERVER]:"mdi-visibility",[e.k$.YOU_RESPONSIBLE]:"mdi-person",[e.k$.TASK_HAS_BECOME_ACTUAL]:"mdi-event_available",[e.k$.TASK_EXPIRED]:"mdi-event_busy",[e.k$.WORKS_COMPLETED]:"mdi-fact_check",[e.k$.REPORT_RECEIVED]:"mdi-edit_note",[e.k$.MENTIONED_IN_TASK]:"mdi-campaign"},this.notificationAudios={loud:new Audio("/assets/audio/notify/loud-notify.mp3"),quiet:new Audio("/assets/audio/notify/quiet-notify.mp3")},this.api.getCountOfUnreadNotifications().subscribe({next:ue=>{this.unreadCount=ue}}),this.load(),De.onGettingUserData.subscribe(ue=>{!ue.login||(this.rt.notificationCreated(ue.login).subscribe(this.createNotificationHandler.bind(this)),this.rt.notificationUpdated(ue.login).subscribe(this.updateNotificationHandler.bind(this)))}),Notification.requestPermission().then(ue=>console.log(ue))}get isEmpty(){var he;return!(null!==(he=this.notifications)&&void 0!==he&&he.content)||0===this.notifications.content.length}get list(){var he,ne;return null!==(ne=null===(he=this.notifications)||void 0===he?void 0:he.content)&&void 0!==ne?ne:[]}get isLast(){var he,ne;return null!==(ne=null===(he=this.notifications)||void 0===he?void 0:he.last)&&void 0!==ne&&ne}get isHasUnread(){return this.unreadCount>0}showSideBar(){this.displaySideBar=!0,this.receivedNotifications=[],Object.entries(this.timers).forEach(([he,ne])=>{clearTimeout(ne),delete this.timers[parseInt(he)]})}changeNotificationViewMode(he){this.notificationViewMode=he,this.notifications=void 0,this.load()}readAllNotifications(){this.isHasUnread&&this.api.readAllNotifications().subscribe({next:()=>{this.unreadCount=0,this.notifications=void 0}}),this.notificationViewMode=L.UNREAD,this.notifications=void 0}load(){this.notifications?this.api.getNotifications(this.notifications.pageable.offset+25,25,this.notificationViewMode===L.UNREAD).subscribe({next:he=>{var ne,De;he.content=[...null!==(De=null===(ne=this.notifications)||void 0===ne?void 0:ne.content)&&void 0!==De?De:[],...he.content],this.notifications=he}}):this.api.getNotifications(0,25,this.notificationViewMode===L.UNREAD).subscribe({next:he=>{this.notifications=he}})}suspendClosing(he){!this.timers[he]||(clearTimeout(this.timers[he]),delete this.timers[he])}resumeClosure(he){this.timers[he]||(this.timers[he]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(ne=>ne.notificationId!==he),delete this.timers[he]},1e4))}close(he){this.timers[he]&&(clearTimeout(this.timers[he]),delete this.timers[he]),this.receivedNotifications=this.receivedNotifications.filter(ne=>ne.notificationId!==he)}playNotifySound(){this.personality.focusStatus===s.P.FOCUS?this.notificationAudios.quiet.paused&&this.notificationAudios.quiet.play().then():this.notificationAudios.loud.paused&&this.notificationAudios.loud.play().then()}showExternalNotification(he){new Notification(this.titles[he.type],{body:he.message})}createNotificationHandler(he){var ne,De,ue;this.displaySideBar||(this.receivedNotifications.unshift(he),this.timers[he.notificationId]=setTimeout(()=>{this.receivedNotifications=this.receivedNotifications.filter(ge=>ge.notificationId!==he.notificationId),delete this.timers[he.notificationId]},1e4)),this.unreadCount++,this.personality.focusStatus===s.P.BLUR&&this.showExternalNotification(he),this.playNotifySound(),null!==(ne=this.notifications)&&void 0!==ne&&ne.content&&(this.notifications.content.find(ge=>ge.notificationId===he.notificationId)||null===(ue=null===(De=this.notifications)||void 0===De?void 0:De.content)||void 0===ue||ue.unshift(he))}updateNotificationHandler(he){var ne;if(null===(ne=this.notifications)||void 0===ne||!ne.content)return;const De=this.notifications.content.findIndex(ue=>ue.notificationId===he.notificationId);-1!==De&&(this.notifications.content[De]=he)}}return q.\u0275fac=function(he){return new(he||q)(f.LFG(V.s),f.LFG(F.U),f.LFG(s.F))},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},8028:(Lt,qe,C)=>{C.d(qe,{P:()=>ne,F:()=>De});var e=C(5e3),s=C(540),f=C(4968);function V(ue){this.message=ue}(V.prototype=new Error).name="InvalidCharacterError";var F="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(ue){var ge=String(ue).replace(/=+$/,"");if(ge.length%4==1)throw new V("'atob' failed: The string to be decoded is not correctly encoded.");for(var pe,ke,Q=0,Oe=0,le="";ke=ge.charAt(Oe++);~ke&&(pe=Q%4?64*pe+ke:ke,Q++%4)?le+=String.fromCharCode(255&pe>>(-2*Q&6)):0)ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(ke);return le};function L(ue){this.message=ue}(L.prototype=new Error).name="InvalidTokenError";var z=C(8738),he=C(8007),ne=(()=>{return(ue=ne||(ne={})).FOCUS="FOCUS",ue.NO_TOUCH="NO_TOUCH",ue.BLUR="BLUR",ne;var ue})();let De=(()=>{class ue{constructor(pe,ke){this.api=pe,this.rt=ke,this.focusStatus=ne.BLUR,this.onGettingUserData=new e.vpe,this.lastTouch=0,this.api.getMe().subscribe({next:Q=>{this.me=Q,this.onGettingUserData.emit(Q),this.meUpdate&&this.meUpdate.unsubscribe(),this.meUpdate=this.rt.employeeUpdated(Q.login).subscribe(Oe=>{this.me=Oe})}}),(0,f.R)(window,"focus").subscribe(Q=>{!this.api.loggedIn||(this.focusStatus=ne.FOCUS,this.api.changeMyStatus(s.LE.ONLINE).subscribe())}),(0,f.R)(window,"blur").subscribe(Q=>{!this.api.loggedIn||(this.focusStatus=ne.BLUR,this.api.changeMyStatus(s.LE.AWAY).subscribe())}),(0,f.R)(document,"mousemove").subscribe(()=>{this.lastTouch=(new Date).getTime()}),setInterval(()=>{!this.api.loggedIn||(new Date).getTime()-this.lastTouch>3e4&&this.focusStatus===ne.FOCUS&&(this.focusStatus=ne.NO_TOUCH,this.api.changeMyStatus(s.LE.AWAY).subscribe())},1e3),setInterval(()=>{const Q=(new Date).getTime(),Oe=localStorage.getItem("token");Oe&&1e3*function se(ue,ge){if("string"!=typeof ue)throw new L("Invalid token specified");var pe=!0===(ge=ge||{}).header?0:1;try{return JSON.parse(function I(ue){var ge=ue.replace(/-/g,"+").replace(/_/g,"/");switch(ge.length%4){case 0:break;case 2:ge+="==";break;case 3:ge+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(F(ge).replace(/(.)/g,function(ke,Q){var Oe=Q.charCodeAt(0).toString(16).toUpperCase();return Oe.length<2&&(Oe="0"+Oe),"%"+Oe}))}catch(pe){return F(ge)}}(ue.split(".")[pe]))}catch(ke){throw new L("Invalid token specified: "+ke.message)}}(Oe).exp-Q<3e4&&(this.api.authCheckout().subscribe(),console.log("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430"))},1e4)}}return ue.\u0275fac=function(pe){return new(pe||ue)(e.LFG(z.s),e.LFG(he.U))},ue.\u0275prov=e.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},8007:(Lt,qe,C)=>{C.d(qe,{U:()=>L});var e=C(8746),s=C(3099),f=C(4004),V=C(383),F=C(5e3),I=C(5845);let L=(()=>{class se{constructor(z){this.stomp=z,this.watchCacheMap={}}commentCreated(z){return this.watch("task",z.toString(),"comment","create")}commentUpdated(z){return this.watch("task",z.toString(),"comment","update")}commentDeleted(z){return this.watch("task",z.toString(),"comment","delete")}taskEventCreated(z){return this.watch("task",z.toString(),"event","create")}employeeCreated(){return this.watch("employee","create")}employeeUpdated(z){return z?this.watch("employee",z,"update"):this.watch("employee","update")}employeeDeleted(){return this.watch("employee","delete")}departmentCreated(){return this.watch("department","create")}departmentUpdated(z){return z?this.watch("department",z.toString(),"update"):this.watch("department","update")}departmentDeleted(){return this.watch("department","delete")}positionCreated(){return this.watch("position","create")}positionUpdated(z){return z?this.watch("position",z.toString(),"update"):this.watch("position","update")}positionDeleted(){return this.watch("position","delete")}taskTagCreated(){return this.watch("task-tag","create")}taskTagUpdated(){return this.watch("task-tag","update")}taskTagDeleted(){return this.watch("task-tag","delete")}taskUpdated(z){return z?this.watch("task",z.toString(),"update"):this.watch("task","update")}taskDeleted(z){return z?this.watch("task",z.toString(),"delete"):this.watch("task","delete")}taskCreated(){return this.watch("task","create")}incomingTaskCreated(z){return this.watchUnicast(z,"task","create")}notificationCreated(z){return this.watchUnicast(z,"notification","create")}notificationUpdated(z){return this.watchUnicast(z,"notification","update")}chatMessageCreated(z){return z?this.watch("chat",z.toString(),"message","create"):this.watch("chat","message","create")}chatMessageUpdated(z){return this.watch("chat",z.toString(),"message","update")}chatMessageDeleted(z){return this.watch("chat",z.toString(),"message","delete")}updateTrackerParserState(){return this.watch("parser","tracker","update")}parserMessageReceived(){return this.watch("parser","message")}updateCountUnreadMessages(z){return this.watchUnicast(z,"chat","message","unread")}chatCreated(z){return this.watchUnicast(z,"chat","create")}chatUpdated(){return this.watch("chat","update")}chatClosed(){return this.watch("chat","close")}workLogCreated(){return this.watch("worklog","create")}workLogUpdated(z){return z?this.watch("work-log",z.toString(),"update"):this.watch("worklog","update")}workLogClosed(){return this.watch("worklog","close")}workLogDeleted(z){return z?this.watch("work-log",z.toString(),"delete"):this.watch("worklog","delete")}wireframeCreated(){return this.watch("wireframe","create")}wireframeUpdated(z){return z?this.watch("wireframe",z.toString(),"update"):this.watch("wireframe","update")}wireframeDeleted(z){return z?this.watch("wireframe",z.toString(),"delete"):this.watch("wireframe","delete")}paidActionCreated(){return this.watch("paid-action","create")}paidActionUpdated(z){return z?this.watch("paid-action",z.toString(),"update"):this.watch("paid-action","update")}paidActionDeleted(z){return z?this.watch("paid-action",z.toString(),"delete"):this.watch("paid-action","delete")}paidWorksTreeMoved(){return this.watch("paid-works","tree","move")}paidWorksTreeUpdated(){return this.watch("paid-works","tree","update")}paidWorksTreeCreated(){return this.watch("paid-works","tree","create")}paidWorksTreeDeleted(){return this.watch("paid-works","tree","delete")}worksTreeReposition(){return this.watch("paid-works","tree","reposition")}paidWorkUpdated(z){return z?this.watch("paid-work",z.toString(),"update"):this.watch("paid-work","update")}cityCreated(){return this.watch("city","create")}cityUpdated(z){return z?this.watch("city",z.toString(),"update"):this.watch("city","update")}cityDeleted(z){return z?this.watch("city",z.toString(),"delete"):this.watch("city","delete")}streetCreated(){return this.watch("street","create")}streetUpdated(z){return z?this.watch("street",z.toString(),"update"):this.watch("street","update")}streetDeleted(z){return z?this.watch("street",z.toString(),"delete"):this.watch("street","delete")}houseCreated(){return this.watch("house","create")}houseUpdated(z){return z?this.watch("house",z.toString(),"update"):this.watch("house","update")}houseDeleted(z){return z?this.watch("house",z.toString(),"delete"):this.watch("house","delete")}watchUnicast(...z){return this.getObservable("user",...z)}watch(...z){return this.getObservable("api",...z)}getObservable(z,...he){const ne=`/${z}/${he.join("/")}`,De=this.generateHash(ne);let ue=null;return this.watchCacheMap[De]?ue=this.watchCacheMap[De]:(ue=this.stomp.watch(ne).pipe((0,e.x)(this.deleteFromCache.bind(this,ne)),(0,s.B)(),(0,f.U)(ge=>JSON.parse(ge.body))),this.watchCacheMap[De]=ue),ue}generateHash(z){return(0,V.d4)(z,0)}deleteFromCache(z){delete this.watchCacheMap[z]}}return se.\u0275fac=function(z){return new(z||se)(F.LFG(I.f))},se.\u0275prov=F.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})()},5845:(Lt,qe,C)=>{C.d(qe,{f:()=>ye});var e=C(5861),s=C(1135),f=C(9300),V=C(7579),F=C(9751),I=C(5698),L=C(3099),se=C(3905);const q_LF="\n",q_NULL="\0";class z{constructor(E){const{command:U,headers:$,body:Ae,binaryBody:Ne,escapeHeaderValues:He,skipContentLengthHeader:Re}=E;this.command=U,this.headers=Object.assign({},$||{}),Ne?(this._binaryBody=Ne,this.isBinaryBody=!0):(this._body=Ae||"",this.isBinaryBody=!1),this.escapeHeaderValues=He||!1,this.skipContentLengthHeader=Re||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(E,U){const $={},Ae=Ne=>Ne.replace(/^\s+|\s+$/g,"");for(const Ne of E.headers.reverse()){Ne.indexOf(":");const Re=Ae(Ne[0]);let gt=Ae(Ne[1]);U&&"CONNECT"!==E.command&&"CONNECTED"!==E.command&&(gt=z.hdrValueUnEscape(gt)),$[Re]=gt}return new z({command:E.command,headers:$,binaryBody:E.binaryBody,escapeHeaderValues:U})}toString(){return this.serializeCmdAndHeaders()}serialize(){const E=this.serializeCmdAndHeaders();return this.isBinaryBody?z.toUnit8Array(E,this._binaryBody).buffer:E+this._body+q_NULL}serializeCmdAndHeaders(){const E=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const U of Object.keys(this.headers||{})){const $=this.headers[U];E.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${U}:${z.hdrValueEscape(`${$}`)}`:`${U}:${$}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&E.push(`content-length:${this.bodyLength()}`),E.join(q_LF)+q_LF+q_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const E=this.binaryBody;return E?E.length:0}static sizeOfUTF8(E){return E?(new TextEncoder).encode(E).length:0}static toUnit8Array(E,U){const $=(new TextEncoder).encode(E),Ae=new Uint8Array([0]),Ne=new Uint8Array($.length+U.length+Ae.length);return Ne.set($),Ne.set(U,$.length),Ne.set(Ae,$.length+U.length),Ne}static marshall(E){return new z(E).serialize()}static hdrValueEscape(E){return E.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(E){return E.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class ge{constructor(E,U){this.onFrame=E,this.onIncomingPing=U,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(E,U=!1){let $;if($="string"==typeof E?this._encoder.encode(E):new Uint8Array(E),U&&0!==$[$.length-1]){const Ae=new Uint8Array($.length+1);Ae.set($,0),Ae[$.length]=0,$=Ae}for(let Ae=0;Ae<$.length;Ae++)this._onByte($[Ae])}_collectFrame(E){if(0!==E&&13!==E){if(10===E)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(E)}}_collectCommand(E){if(13!==E){if(10===E)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(E)}}_collectHeaders(E){if(13!==E){if(10===E)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(E)}}_reinjectByte(E){this._onByte(E)}_collectHeaderKey(E){if(58===E)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(E)}_collectHeaderValue(E){if(13!==E){if(10===E)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(E)}}_setupCollectBody(){const E=this._results.headers.filter(U=>"content-length"===U[0])[0];E?(this._bodyBytesRemaining=parseInt(E[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(E){0!==E?this._consumeByte(E):this._retrievedBody()}_collectBodyFixedSize(E){0!=this._bodyBytesRemaining--?this._consumeByte(E):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(E){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",E)}this._initState()}_consumeByte(E){this._token.push(E)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const E=new Uint8Array(this._token);return this._token=[],E}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var pe,G,ke,N;(G=pe=pe||(pe={}))[G.CONNECTING=0]="CONNECTING",G[G.OPEN=1]="OPEN",G[G.CLOSING=2]="CLOSING",G[G.CLOSED=3]="CLOSED",function(G){G[G.ACTIVE=0]="ACTIVE",G[G.DEACTIVATING=1]="DEACTIVATING",G[G.INACTIVE=2]="INACTIVE"}(ke=ke||(ke={}));class Q{constructor(E){this.versions=E}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(E=>`v${E.replace(".","")}.stomp`)}}Q.V1_0="1.0",Q.V1_1="1.1",Q.V1_2="1.2",Q.default=new Q([Q.V1_2,Q.V1_1,Q.V1_0]);class le{constructor(E,U,$){this._client=E,this._webSocket=U,this._connected=!1,this._serverFrameHandlers={CONNECTED:Ae=>{this.debug(`connected to server ${Ae.headers.server}`),this._connected=!0,this._connectedVersion=Ae.headers.version,this._connectedVersion===Q.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(Ae.headers),this.onConnect(Ae)},MESSAGE:Ae=>{const Ne=Ae.headers.subscription,He=this._subscriptions[Ne]||this.onUnhandledMessage,Re=Ae,gt=this,ut=this._connectedVersion===Q.V1_2?Re.headers.ack:Re.headers["message-id"];Re.ack=(Pe={})=>gt.ack(ut,Ne,Pe),Re.nack=(Pe={})=>gt.nack(ut,Ne,Pe),He(Re)},RECEIPT:Ae=>{const Ne=this._receiptWatchers[Ae.headers["receipt-id"]];Ne?(Ne(Ae),delete this._receiptWatchers[Ae.headers["receipt-id"]]):this.onUnhandledReceipt(Ae)},ERROR:Ae=>{this.onStompError(Ae)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=$.debug,this.stompVersions=$.stompVersions,this.connectHeaders=$.connectHeaders,this.disconnectHeaders=$.disconnectHeaders,this.heartbeatIncoming=$.heartbeatIncoming,this.heartbeatOutgoing=$.heartbeatOutgoing,this.splitLargeFrames=$.splitLargeFrames,this.maxWebSocketChunkSize=$.maxWebSocketChunkSize,this.forceBinaryWSFrames=$.forceBinaryWSFrames,this.logRawCommunication=$.logRawCommunication,this.appendMissingNULLonIncoming=$.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=$.discardWebsocketOnCommFailure,this.onConnect=$.onConnect,this.onDisconnect=$.onDisconnect,this.onStompError=$.onStompError,this.onWebSocketClose=$.onWebSocketClose,this.onWebSocketError=$.onWebSocketError,this.onUnhandledMessage=$.onUnhandledMessage,this.onUnhandledReceipt=$.onUnhandledReceipt,this.onUnhandledFrame=$.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const E=new ge(U=>{const $=z.fromRawFrame(U,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${$}`),(this._serverFrameHandlers[$.command]||this.onUnhandledFrame)($)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=U=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const $=U.data instanceof ArrayBuffer?(new TextDecoder).decode(U.data):U.data;this.debug(`<<< ${$}`)}E.parseChunk(U.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=U=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(U)},this._webSocket.onerror=U=>{this.onWebSocketError(U)},this._webSocket.onopen=()=>{const U=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),U["accept-version"]=this.stompVersions.supportedVersions(),U["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:U})}}_setupHeartbeat(E){if(E.version!==Q.V1_1&&E.version!==Q.V1_2||!E["heart-beat"])return;const[U,$]=E["heart-beat"].split(",").map(Ae=>parseInt(Ae,10));if(0!==this.heartbeatOutgoing&&0!==$){const Ae=Math.max(this.heartbeatOutgoing,$);this.debug(`send PING every ${Ae}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===pe.OPEN&&(this._webSocket.send(q_LF),this.debug(">>> PING"))},Ae)}if(0!==this.heartbeatIncoming&&0!==U){const Ae=Math.max(this.heartbeatIncoming,U);this.debug(`check PONG every ${Ae}ms`),this._ponger=setInterval(()=>{const Ne=Date.now()-this._lastServerActivityTS;Ne>2*Ae&&(this.debug(`did not receive server activity for the last ${Ne}ms`),this._closeOrDiscardWebsocket())},Ae)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===pe.CONNECTING||this._webSocket.readyState===pe.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function Oe(G,E){G.terminate=function(){const U=()=>{};this.onerror=U,this.onmessage=U,this.onopen=U;const $=new Date,Ae=Math.random().toString().substring(2,8),Ne=this.onclose;this.onclose=He=>{const Re=(new Date).getTime()-$.getTime();E(`Discarded socket (#${Ae})  closed after ${Re}ms, with code/reason: ${He.code}/${He.reason}`)},this.close(),null==Ne||Ne.call(G,{code:4001,reason:`Quick discarding socket (#${Ae}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,E=>this.debug(E)),this._webSocket.terminate()}_transmit(E){const{command:U,headers:$,body:Ae,binaryBody:Ne,skipContentLengthHeader:He}=E,Re=new z({command:U,headers:$,body:Ae,binaryBody:Ne,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:He});let gt=Re.serialize();if(this.debug(this.logRawCommunication?`>>> ${gt}`:`>>> ${Re}`),this.forceBinaryWSFrames&&"string"==typeof gt&&(gt=(new TextEncoder).encode(gt)),"string"==typeof gt&&this.splitLargeFrames){let ut=gt;for(;ut.length>0;){const Pe=ut.substring(0,this.maxWebSocketChunkSize);ut=ut.substring(this.maxWebSocketChunkSize),this._webSocket.send(Pe),this.debug(`chunk sent = ${Pe.length}, remaining = ${ut.length}`)}}else this._webSocket.send(gt)}dispose(){if(this.connected)try{const E=Object.assign({},this.disconnectHeaders);E.receipt||(E.receipt="close-"+this._counter++),this.watchForReceipt(E.receipt,U=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(U)}),this._transmit({command:"DISCONNECT",headers:E})}catch(E){this.debug(`Ignoring error during disconnect ${E}`)}else(this._webSocket.readyState===pe.CONNECTING||this._webSocket.readyState===pe.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(E){const{destination:U,headers:$,body:Ae,binaryBody:Ne,skipContentLengthHeader:He}=E,Re=Object.assign({destination:U},$);this._transmit({command:"SEND",headers:Re,body:Ae,binaryBody:Ne,skipContentLengthHeader:He})}watchForReceipt(E,U){this._receiptWatchers[E]=U}subscribe(E,U,$={}){($=Object.assign({},$)).id||($.id="sub-"+this._counter++),$.destination=E,this._subscriptions[$.id]=U,this._transmit({command:"SUBSCRIBE",headers:$});const Ae=this;return{id:$.id,unsubscribe:Ne=>Ae.unsubscribe($.id,Ne)}}unsubscribe(E,U={}){U=Object.assign({},U),delete this._subscriptions[E],U.id=E,this._transmit({command:"UNSUBSCRIBE",headers:U})}begin(E){const U=E||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:U}});const $=this;return{id:U,commit(){$.commit(U)},abort(){$.abort(U)}}}commit(E){this._transmit({command:"COMMIT",headers:{transaction:E}})}abort(E){this._transmit({command:"ABORT",headers:{transaction:E}})}ack(E,U,$={}){$=Object.assign({},$),this._connectedVersion===Q.V1_2?$.id=E:$["message-id"]=E,$.subscription=U,this._transmit({command:"ACK",headers:$})}nack(E,U,$={}){return $=Object.assign({},$),this._connectedVersion===Q.V1_2?$.id=E:$["message-id"]=E,$.subscription=U,this._transmit({command:"NACK",headers:$})}}class P{constructor(E={}){this.stompVersions=Q.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=ke.INACTIVE;const U=()=>{};this.debug=U,this.beforeConnect=U,this.onConnect=U,this.onDisconnect=U,this.onUnhandledMessage=U,this.onUnhandledReceipt=U,this.onUnhandledFrame=U,this.onStompError=U,this.onWebSocketClose=U,this.onWebSocketError=U,this.logRawCommunication=!1,this.onChangeState=U,this.connectHeaders={},this._disconnectHeaders={},this.configure(E)}get webSocket(){var E;return null==(E=this._stompHandler)?void 0:E._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(E){this._disconnectHeaders=E,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===ke.ACTIVE}_changeState(E){this.state=E,this.onChangeState(E)}configure(E){Object.assign(this,E)}activate(){const E=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(ke.ACTIVE),this._connect())};this.state===ke.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{E()})):E()}_connect(){var E=this;return(0,e.Z)(function*(){if(yield E.beforeConnect(),E._stompHandler)return void E.debug("There is already a stompHandler, skipping the call to connect");if(!E.active)return void E.debug("Client has been marked inactive, will not attempt to connect");E.connectionTimeout>0&&(E._connectionWatcher&&clearTimeout(E._connectionWatcher),E._connectionWatcher=setTimeout(()=>{E.connected||(E.debug(`Connection not established in ${E.connectionTimeout}ms, closing socket`),E.forceDisconnect())},E.connectionTimeout)),E.debug("Opening Web Socket...");const U=E._createWebSocket();E._stompHandler=new le(E,U,{debug:E.debug,stompVersions:E.stompVersions,connectHeaders:E.connectHeaders,disconnectHeaders:E._disconnectHeaders,heartbeatIncoming:E.heartbeatIncoming,heartbeatOutgoing:E.heartbeatOutgoing,splitLargeFrames:E.splitLargeFrames,maxWebSocketChunkSize:E.maxWebSocketChunkSize,forceBinaryWSFrames:E.forceBinaryWSFrames,logRawCommunication:E.logRawCommunication,appendMissingNULLonIncoming:E.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:E.discardWebsocketOnCommFailure,onConnect:$=>{if(E._connectionWatcher&&(clearTimeout(E._connectionWatcher),E._connectionWatcher=void 0),!E.active)return E.debug("STOMP got connected while deactivate was issued, will disconnect now"),void E._disposeStompHandler();E.onConnect($)},onDisconnect:$=>{E.onDisconnect($)},onStompError:$=>{E.onStompError($)},onWebSocketClose:$=>{E._stompHandler=void 0,E.state===ke.DEACTIVATING&&E._changeState(ke.INACTIVE),E.onWebSocketClose($),E.active&&E._schedule_reconnect()},onWebSocketError:$=>{E.onWebSocketError($)},onUnhandledMessage:$=>{E.onUnhandledMessage($)},onUnhandledReceipt:$=>{E.onUnhandledReceipt($)},onUnhandledFrame:$=>{E.onUnhandledFrame($)}}),E._stompHandler.start()})()}_createWebSocket(){let E;if(this.webSocketFactory)E=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");E=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return E.binaryType="arraybuffer",E}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(E={}){var U=this;return(0,e.Z)(function*(){var He;const $=E.force||!1,Ae=U.active;let Ne;if(U.state===ke.INACTIVE)return U.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(U._changeState(ke.DEACTIVATING),U._reconnector&&(clearTimeout(U._reconnector),U._reconnector=void 0),!U._stompHandler||U.webSocket.readyState===pe.CLOSED)return U._changeState(ke.INACTIVE),Promise.resolve();{const Re=U._stompHandler.onWebSocketClose;Ne=new Promise((gt,ut)=>{U._stompHandler.onWebSocketClose=Pe=>{Re(Pe),gt()}})}return $?null==(He=U._stompHandler)||He.discardWebsocket():Ae&&U._disposeStompHandler(),Ne})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(E){this._checkConnection(),this._stompHandler.publish(E)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(E,U){this._checkConnection(),this._stompHandler.watchForReceipt(E,U)}subscribe(E,U,$={}){return this._checkConnection(),this._stompHandler.subscribe(E,U,$)}unsubscribe(E,U={}){this._checkConnection(),this._stompHandler.unsubscribe(E,U)}begin(E){return this._checkConnection(),this._stompHandler.begin(E)}commit(E){this._checkConnection(),this._stompHandler.commit(E)}abort(E){this._checkConnection(),this._stompHandler.abort(E)}ack(E,U,$={}){this._checkConnection(),this._stompHandler.ack(E,U,$)}nack(E,U,$={}){this._checkConnection(),this._stompHandler.nack(E,U,$)}}!function(G){G[G.CONNECTING=0]="CONNECTING",G[G.OPEN=1]="OPEN",G[G.CLOSING=2]="CLOSING",G[G.CLOSED=3]="CLOSED"}(N=N||(N={}));var be=C(5e3);let ye=(()=>{class G extends class we{get stompClient(){return this._stompClient}constructor(E){this._queuedMessages=[];const U=E||new P;this._stompClient=U;const $=()=>{};this._beforeConnect=$,this._correlateErrors=()=>{},this._debug=$,this._connectionStatePre$=new s.X(N.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe((0,f.h)(Ae=>Ae===N.OPEN)),this.connectionState$=new s.X(N.CLOSED),this.connected$=this.connectionState$.pipe((0,f.h)(Ae=>Ae===N.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new s.X(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe((0,f.h)(Ae=>null!==Ae)),this.stompErrors$=new V.x,this.unhandledMessage$=new V.x,this.unhandledReceipts$=new V.x,this.unhandledFrame$=new V.x,this.webSocketErrors$=new V.x}configure(E){const U=Object.assign({},E);U.beforeConnect&&(this._beforeConnect=U.beforeConnect,delete U.beforeConnect),U.correlateErrors&&(this._correlateErrors=U.correlateErrors,delete U.correlateErrors),this._stompClient.configure(U),U.debug&&(this._debug=U.debug)}activate(){var U,E=this;this._stompClient.configure({beforeConnect:(U=(0,e.Z)(function*(){E._changeState(N.CONNECTING),yield E._beforeConnect(E)}),function(){return U.apply(this,arguments)}),onConnect:U=>{this._serverHeadersBehaviourSubject$.next(U.headers),this._changeState(N.OPEN)},onStompError:U=>{this.stompErrors$.next(U)},onWebSocketClose:()=>{this._changeState(N.CLOSED)},onUnhandledMessage:U=>{this.unhandledMessage$.next(U)},onUnhandledReceipt:U=>{this.unhandledReceipts$.next(U)},onUnhandledFrame:U=>{this.unhandledFrame$.next(U)},onWebSocketError:U=>{this.webSocketErrors$.next(U)}}),this._stompClient.activate()}deactivate(E={}){var U=this;return(0,e.Z)(function*(){U._changeState(N.CLOSING),yield U._stompClient.deactivate(E),U._changeState(N.CLOSED)})()}connected(){return this.connectionState$.getValue()===N.OPEN}get active(){return this.stompClient.active}publish(E){const U=null==E.retryIfDisconnected||E.retryIfDisconnected;if(this.connected())this._stompClient.publish(E);else{if(!U)throw new Error("Cannot publish while broker is not connected");this._debug("Not connected, queueing"),this._queuedMessages.push(E)}}_sendQueuedMessages(){const E=this._queuedMessages;if(this._queuedMessages=[],0!==E.length){this._debug(`Will try sending  ${E.length} queued message(s)`);for(const U of E)this._debug(`Attempting to send ${U}`),this.publish(U)}}watch(E,U={}){let Ae;return Ae=Object.assign({},{subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},"string"==typeof E?{destination:E,subHeaders:U}:E),this._debug(`Request to subscribe ${Ae.destination}`),F.y.create(He=>{let Re,gt,ut=this._connectedPre$;Ae.subscribeOnlyOnce&&(ut=ut.pipe((0,I.q)(1)));const Pe=this.stompErrors$.subscribe(We=>{this._correlateErrors(We)===Ae.destination&&He.error(We)});return gt=ut.subscribe(()=>{this._debug(`Will subscribe to ${Ae.destination}`);let We=Ae.subHeaders;"function"==typeof We&&(We=We()),Re=this._stompClient.subscribe(Ae.destination,J=>{He.next(J)},We)}),()=>{if(this._debug(`Stop watching connection state (for ${Ae.destination})`),gt.unsubscribe(),Pe.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${Ae.destination} at Stomp`);let We=Ae.unsubHeaders;"function"==typeof We&&(We=We()),Re.unsubscribe(We)}else this._debug(`Stomp not connected, no need to unsubscribe from ${Ae.destination} at Stomp`)}}).pipe((0,L.B)())}watchForReceipt(E,U){this._stompClient.watchForReceipt(E,U)}asyncReceipt(E){return(0,se.z)(this.unhandledReceipts$.pipe((0,f.h)(U=>U.headers["receipt-id"]===E)))}_changeState(E){this._connectionStatePre$.next(E),this.connectionState$.next(E)}}{constructor(){super()}}return G.\u0275fac=function(U){return new(U||G)},G.\u0275prov=be.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})()},2248:(Lt,qe,C)=>{C.d(qe,{e:()=>q});var e=C(7579),s=C(4004),f=C(3900),V=C(4968),F=C(9646),I=C(4326),L=C(8505),se=C(5e3);let q=(()=>{class z{constructor(){this.creationMode="standard",this._dimensions={width:800,height:800},this._openSubject=new e.x,this.openObserver.pipe((0,s.U)(()=>window.open("/task/create","_blank",this.features)),(0,f.w)(ne=>ne?(0,V.R)(ne,"load"):(0,F.of)(null)),(0,I.g)(200),(0,L.b)(ne=>{ne&&ne.currentTarget.postMessage(this.transferObject,"*")})).subscribe()}get dependencyIdentifier(){return this._dependencyIdentifier}get wireframeId(){return this._wireframeId}get billingInfo(){return this._billingInfo}get features(){return`popup=yes,width=${this._dimensions.width},height=${this._dimensions.height},left=${screen.width/2-this._dimensions.width/2},top=${screen.height/2-this._dimensions.height/2}`}get mode(){return this.creationMode}get openObserver(){return this._openSubject.asObservable()}get transferObject(){return{mode:this.mode,dependencyIdentifier:this._dependencyIdentifier,wireframeId:this._wireframeId,billingInfo:this._billingInfo}}standard(){this.creationMode="standard",this._dependencyIdentifier=void 0,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}dependency(ne,De){this.creationMode="parent"===ne?"parent":"child",this._dependencyIdentifier=De,this._wireframeId=void 0,this._billingInfo=void 0,this.open()}wireframe(ne,De){this.creationMode="billing",this._dependencyIdentifier=void 0,this._wireframeId=ne,this._billingInfo=De,this.open()}open(){this._openSubject.next(void 0)}}return z.\u0275fac=function(ne){return new(ne||z)},z.\u0275prov=se.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},4488:(Lt,qe,C)=>{C.d(qe,{U:()=>q});var e=C(540),s=C(8372),f=C(1884),V=C(2382),F=C(383),I=C(5e3),L=C(8738),se=C(8007);let q=(()=>{class z{constructor(ne,De){this.api=ne,this.rt=De,this.pageNumber=0,this.TASK_PAGE_SIZE=25,this.taskItems=[],this.totalTaskItems=0,this.filterForm=new V.cw({status:new V.NI(["ACTIVE","PROCESSING"]),template:new V.NI(F.Ke.loadOrDefault("listPageTempFilter",[])),searchPhrase:new V.NI(null),tags:new V.NI([])}),this.isPageChanging=!1,this.templateFilterForm=new V.cw(this.templateFilterFormInit),this.templateFilterFields=F.Ke.loadOrDefault("templateFilterFields",[]),this.contextSearchString="",this.loadingState=e.Gu.LOADING,this.exclusionIds=[],this.rt.taskCreated().subscribe(this.createTask.bind(this)),this.rt.taskUpdated().subscribe(this.updateTask.bind(this)),this.rt.taskDeleted().subscribe(this.deleteTask.bind(this)),this.filterForm.controls.template.valueChanges.subscribe(ue=>{F.Ke.save("listPageTempFilter",ue),1===ue.length?this.api.getWireframe(ue[0]).subscribe(ge=>{var pe;const ke=null!==(pe=ge.allFields)&&void 0!==pe?pe:[],Q=Object.assign({author:this.templateFilterForm.controls.author,dateOfCreation:this.templateFilterForm.controls.dateOfCreation},ke.reduce((Oe,le)=>Object.assign(Object.assign({},Oe),{[le.id]:new V.NI(null)}),{}));this.templateFilterForm=new V.cw(Q),this.templateFilterFields=ke,F.Ke.save("templateFilterFormControls",["author","dateOfCreation",...ke.map(Oe=>Oe.id)]),F.Ke.save("templateFilterFields",this.templateFilterFields)}):(this.templateFilterForm=new V.cw({author:this.templateFilterForm.controls.author,dateOfCreation:this.templateFilterForm.controls.dateOfCreation}),this.templateFilterFields=[],F.Ke.save("templateFilterFormControls",["author","dateOfCreation"]),F.Ke.save("templateFilterFields",this.templateFilterFields))}),this.filterForm.valueChanges.pipe((0,s.b)(500),(0,f.x)()).subscribe(this.filtersApply.bind(this))}get templateFilterFormInit(){return F.Ke.loadOrDefault("templateFilterFormControls",["author","dateOfCreation"]).reduce((ne,De)=>(ne[De]=new V.NI(null),ne),{})}set setPaginatorPage(ne){this._setPaginatorPage=ne}contextSearch(){setTimeout(()=>{this.loadPageOfTasks(0)})}filtersApply(){this.loadPageOfTasks(0)}pageChange(ne){this.isPageChanging||(this.pageNumber=ne.page,this.loadPageOfTasks(ne.page))}loadPage(){this.loadPageOfTasks(this.pageNumber)}createTask(ne){this.taskItems.findIndex(ue=>ue.taskId===ne.taskId)<0&&0===this.pageNumber&&(this.taskItems.splice(0,1,ne),this.totalTaskItems++)}updateTask(ne){let De=this.taskItems.findIndex(ue=>ue.taskId===ne.taskId);De>=0&&(this.taskItems[De]=ne)}deleteTask(ne){let De=this.taskItems.findIndex(ue=>ue.taskId===ne.taskId);De>=0&&this.taskItems.splice(De,1)}changePage(ne){this.isPageChanging=!0,this._setPaginatorPage&&this._setPaginatorPage(ne),this.isPageChanging=!1}loadPageOfTasks(ne){0===ne&&this.changePage(0),this.loadingState=e.Gu.LOADING;const De=this.templateFilterForm.getRawValue(),ue=JSON.stringify(this.templateFilterFields.filter(ge=>De[ge.id]).map(ge=>({id:ge.id,wireframeFieldType:ge.type,value:De[ge.id]})));this.api.getPageOfTasks(ne,Object.assign(Object.assign({},this.filterForm.getRawValue()),{author:this.templateFilterForm.value.author,dateOfCreation:this.templateFilterForm.value.dateOfCreation,templateFilter:ue})).subscribe(this.observerHandlers()),this.filterForm.disable({emitEvent:!1}),this.templateFilterForm.disable({emitEvent:!1})}observerHandlers(){return{next:ne=>{this.totalTaskItems=ne.totalElements,this.loadingState=0===this.totalTaskItems?e.Gu.EMPTY:e.Gu.READY,this.taskItems=ne.content,this.changePage(this.pageNumber),this.filterForm.enable({emitEvent:!1}),this.templateFilterForm.enable({emitEvent:!1})},error:()=>{this.loadingState=e.Gu.ERROR,this.filterForm.enable({emitEvent:!1}),this.templateFilterForm.enable({emitEvent:!1})}}}}return z.\u0275fac=function(ne){return new(ne||z)(I.LFG(L.s),I.LFG(se.U))},z.\u0275prov=I.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},540:(Lt,qe,C)=>{C.d(qe,{AE:()=>ge,Ez:()=>s,Gu:()=>De,LE:()=>ne,_r:()=>e,b9:()=>ue,dA:()=>q,hY:()=>I,k$:()=>he,sf:()=>L});var e=(()=>{return(Q=e||(e={})).BOOLEAN="BOOLEAN",Q.SMALL_TEXT="SMALL_TEXT",Q.LARGE_TEXT="LARGE_TEXT",Q.INTEGER="INTEGER",Q.FLOAT="FLOAT",Q.ADDRESS="ADDRESS",Q.LOGIN="LOGIN",Q.AD_SOURCE="AD_SOURCE",Q.REQUEST_INITIATOR="REQUEST_INITIATOR",Q.IP="IP",Q.EQUIPMENTS="EQUIPMENTS",Q.CONNECTION_SERVICES="CONNECTION_SERVICES",Q.PHONE_ARRAY="PHONE_ARRAY",e;var Q})(),s=(()=>{return(Q=s||(s={})).MODEL="MODEL",Q.PIPELINE="PIPELINE",s;var Q})(),I=(()=>{return(Q=I||(I={})).ACTIVE="ACTIVE",Q.PROCESSING="PROCESSING",Q.CLOSE="CLOSE",I;var Q})(),L=(()=>{return(Q=L||(L={})).PHOTO="PHOTO",Q.VIDEO="VIDEO",Q.DOCUMENT="DOCUMENT",Q.AUDIO="AUDIO",Q.FILE="FILE",L;var Q})(),q=(()=>{return(Q=q||(q={})).CHANGE_STAGE="CHANGE_STAGE",Q.CREATE_WORK_LOG="CREATE_WORK_LOG",Q.FORCE_CLOSE_WORK_LOG="FORCE_CLOSE_WORK_LOG",Q.CLOSE_WORK_LOG="CLOSE_WORK_LOG",Q.CHANGE_RESPONSIBILITY="CHANGE_RESPONSIBILITY",Q.LINKED_TO_PARENT_TASK="LINKED_TO_PARENT_TASK",Q.UNLINKED_FROM_PARENT_TASK="UNLINKED_FROM_PARENT_TASK",Q.UNLINK_CHILD_TASK="UNLINK_CHILD_TASK",Q.LINKED_TO_CHILD_TASKS="LINKED_TO_CHILD_TASKS",Q.CHANGE_TAGS="CHANGE_TAGS",Q.CLEAN_TAGS="CLEAN_TAGS",Q.CHANGE_OBSERVERS="CHANGE_OBSERVERS",Q.UNBIND_RESPONSIBLE="UNBIND_RESPONSIBLE",Q.CHANGE_ACTUAL_FROM="CHANGE_ACTUAL_FROM",Q.CHANGE_ACTUAL_TO="CHANGE_ACTUAL_TO",Q.CLEAR_ACTUAL_FROM_TASK="CLEAR_ACTUAL_FROM_TASK",Q.CLEAR_ACTUAL_TO_TASK="CLEAR_ACTUAL_TO_TASK",Q.CLOSE_TASK="CLOSE_TASK",Q.REOPEN_TASK="REOPEN_TASK",Q.EDIT_FIELDS="EDIT_FIELDS",Q.REPORT_CREATED="REPORT_CREATED",q;var Q})(),he=(()=>{return(Q=he||(he={})).TASK_CREATED="TASK_CREATED",Q.TASK_EDITED="TASK_EDITED",Q.TASK_CLOSED="TASK_CLOSED",Q.TASK_DELETED="TASK_DELETED",Q.TASK_PROCESSED="TASK_PROCESSED",Q.TASK_REOPENED="TASK_REOPENED",Q.TASK_STAGE_CHANGED="TASK_STAGE_CHANGED",Q.YOU_RESPONSIBLE="YOU_RESPONSIBLE",Q.YOU_OBSERVER="YOU_OBSERVER",Q.NEW_COMMENT="NEW_COMMENT",Q.TASK_HAS_BECOME_ACTUAL="TASK_HAS_BECOME_ACTUAL",Q.TASK_EXPIRED="TASK_EXPIRED",Q.WORKS_COMPLETED="WORKS_COMPLETED",Q.REPORT_RECEIVED="REPORT_RECEIVED",Q.MENTIONED_IN_TASK="MENTIONED_IN_TASK",he;var Q})(),ne=(()=>{return(Q=ne||(ne={})).ONLINE="ONLINE",Q.AWAY="AWAY",Q.OFFLINE="OFFLINE",ne;var Q})(),De=(()=>{return(Q=De||(De={})).READY="READY",Q.LOADING="LOADING",Q.ERROR="ERROR",Q.EMPTY="EMPTY",De;var Q})(),ue=(()=>{return(Q=ue||(ue={})).AMOUNT="AMOUNT",Q.METRES="METRES",Q.KILOGRAMS="KILOGRAMS",ue;var Q})();class ge{constructor(Oe){this.target=null,this.index=null;const le=Oe.dragNode,P=Oe.dropNode;this.index=Oe.index,this.source=new pe(le),this.target=P.children&&P.children.includes(le)?new pe(P):P.parent?new pe(P.parent):null}}class pe{constructor(Oe){this.key=Oe.key,this.label=Oe.label,this.icon=Oe.icon,this.type=Oe.type}}},383:(Lt,qe,C)=>{C.d(qe,{pd:()=>Re,PU:()=>He,Ke:()=>de,xf:()=>gt,cQ:()=>Ne,EM:()=>We,d4:()=>J,tg:()=>ut,XO:()=>Pe});var e=C(540),s=C(5963),f=C(3900),V=C(9646),F=C(5e3),I=C(4707),L=C(6451),se=C(4004);const q={schedule(Qe,re){const Ve=setTimeout(Qe,re);return()=>clearTimeout(Ve)},scheduleBeforeRender(Qe){if("undefined"==typeof window)return q.schedule(Qe,0);if(void 0===window.requestAnimationFrame)return q.schedule(Qe,16);const re=window.requestAnimationFrame(Qe);return()=>window.cancelAnimationFrame(re)}};let ue;function le(Qe,re,Ve){let Me=Ve;return function he(Qe){return!!Qe&&Qe.nodeType===Node.ELEMENT_NODE}(Qe)&&re.some((Fe,$e)=>!("*"===Fe||!function ge(Qe,re){if(!ue){const Ve=Element.prototype;ue=Ve.matches||Ve.matchesSelector||Ve.mozMatchesSelector||Ve.msMatchesSelector||Ve.oMatchesSelector||Ve.webkitMatchesSelector}return Qe.nodeType===Node.ELEMENT_NODE&&ue.call(Qe,re)}(Qe,Fe)||(Me=$e,0))),Me}class N{constructor(re,Ve){this.componentFactory=Ve.get(F._Vd).resolveComponentFactory(re)}create(re){return new we(this.componentFactory,re)}}class we{constructor(re,Ve){this.componentFactory=re,this.injector=Ve,this.eventEmitters=new I.t(1),this.events=this.eventEmitters.pipe((0,f.w)(Me=>(0,L.T)(...Me))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:Me})=>Me)),this.ngZone=this.injector.get(F.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(re){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(re)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=q.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(re){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(re):this.componentRef.instance[re])}setInputValue(re,Ve){this.runInZone(()=>{null!==this.componentRef?function pe(Qe,re){return Qe===re||Qe!=Qe&&re!=re}(Ve,this.getInputValue(re))&&(void 0!==Ve||!this.unchangedInputs.has(re))||(this.recordInputChange(re,Ve),this.unchangedInputs.delete(re),this.hasInputChanges=!0,this.componentRef.instance[re]=Ve,this.scheduleDetectChanges()):this.initialInputValues.set(re,Ve)})}initializeComponent(re){const Ve=F.zs3.create({providers:[],parent:this.injector}),Me=function Oe(Qe,re){const Ve=Qe.childNodes,Me=re.map(()=>[]);let Fe=-1;re.some(($e,R)=>"*"===$e&&(Fe=R,!0));for(let $e=0,R=Ve.length;$e<R;++$e){const it=Ve[$e],Le=le(it,re,Fe);-1!==Le&&Me[Le].push(it)}return Me}(re,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(Ve,Me,re),this.viewChangeDetectorRef=this.componentRef.injector.get(F.sBO),this.implementsOnChanges=function ne(Qe){return"function"==typeof Qe}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(F.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:re})=>{this.initialInputValues.has(re)&&this.setInputValue(re,this.initialInputValues.get(re))}),this.initialInputValues.clear()}initializeOutputs(re){const Ve=this.componentFactory.outputs.map(({propName:Me,templateName:Fe})=>re.instance[Me].pipe((0,se.U)(R=>({name:Fe,value:R}))));this.eventEmitters.next(Ve)}callNgOnChanges(re){if(!this.implementsOnChanges||null===this.inputChanges)return;const Ve=this.inputChanges;this.inputChanges=null,re.instance.ngOnChanges(Ve)}markViewForCheck(re){this.hasInputChanges&&(this.hasInputChanges=!1,re.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=q.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(re,Ve){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const Me=this.inputChanges[re];if(Me)return void(Me.currentValue=Ve);const Fe=this.unchangedInputs.has(re),$e=Fe?void 0:this.getInputValue(re);this.inputChanges[re]=new F.WD2($e,Ve,Fe)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(re){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(re):re()}}class be extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function ye(Qe,re){const Ve=function Q(Qe,re){return re.get(F._Vd).resolveComponentFactory(Qe).inputs}(Qe,re.injector),Me=re.strategyFactory||new N(Qe,re.injector),Fe=function ke(Qe){const re={};return Qe.forEach(({propName:Ve,templateName:Me})=>{re[function z(Qe){return Qe.replace(/[A-Z]/g,re=>`-${re.toLowerCase()}`)}(Me)]=Ve}),re}(Ve);class $e extends be{constructor(it){super(),this.injector=it}get ngElementStrategy(){if(!this._ngElementStrategy){const it=this._ngElementStrategy=Me.create(this.injector||re.injector);Ve.forEach(({propName:Le})=>{if(!this.hasOwnProperty(Le))return;const Et=this[Le];delete this[Le],it.setInputValue(Le,Et)})}return this._ngElementStrategy}attributeChangedCallback(it,Le,Et,un){this.ngElementStrategy.setInputValue(Fe[it],Et)}connectedCallback(){let it=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),it=!0),this.ngElementStrategy.connect(this),it||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(it=>{const Le=new CustomEvent(it.name,{detail:it.value});this.dispatchEvent(Le)})}}return $e.observedAttributes=Object.keys(Fe),Ve.forEach(({propName:R})=>{Object.defineProperty($e.prototype,R,{get(){return this.ngElementStrategy.getInputValue(R)},set(it){this.ngElementStrategy.setInputValue(R,it)},configurable:!0,enumerable:!0})}),$e}var E=C(1110),U=C(2777),$=C(7805),Ae=C(7092);class Ne{static convertModelItemToString(re){var Ve,Me;if(re.wireframeFieldType===e._r.ADDRESS){const Fe=re.addressData;return Fe?`${null===(Ve=Fe.city)||void 0===Ve?void 0:Ve.name} ${null===(Me=Fe.street)||void 0===Me?void 0:Me.name} ${Fe.houseNum}${Fe.fraction?"/"+Fe.fraction:""}${Fe.letter}${Fe.build?" \u0441\u0442\u0440."+Fe.build:""} \u043a\u0432.${Fe.apartmentNum}`:""}return""}static isCorrectSequenceOfCharacters(re,Ve,Me=[]){const Fe=re.delta.ops,$e=re.oldDelta.ops,R=re.editor.getSelection(!0).index;if(!Fe||!$e)return!1;if(1===Fe.length){if(Fe[0].insert===Ve)return!0}else if(2===Fe.length){const it=$e.reduce((Et,un)=>Et+un.insert,"").slice(0,R-1),Le=Fe[1].insert;if(0===Me.length&&Le===Ve||Le===Ve&&Me.some(Et=>it.endsWith(Et)))return!0}return!1}static dateArrayToRange(re){if(!re)return null;const Ve=re.map((Fe,$e)=>{if(Fe)return 1===$e?(Fe.setHours(23,59,59,999),Ne.dateFormat(Fe)):(Fe.setHours(0,0,0,0),Ne.dateFormat(Fe))});return{start:Ve[0],end:Ve[1]}}static dateFormat(re){return`${re.getFullYear()}-${(re.getMonth()+1).toString().padStart(2,"0")}-${re.getDate().toString().padStart(2,"0")}T${re.getHours().toString().padStart(2,"0")}:${re.getMinutes().toString().padStart(2,"0")}:${re.getSeconds().toString().padStart(2,"0")}Z`}static dateFormatTS(re){return`${re.getFullYear()}-${(re.getMonth()+1).toString().padStart(2,"0")}-${re.getDate().toString().padStart(2,"0")} ${re.getHours().toString().padStart(2,"0")}:${re.getMinutes().toString().padStart(2,"0")}:${re.getSeconds().toString().padStart(2,"0")}`}static stringToColor(re,Ve=70,Me=100,Fe=50,$e=80){let R=0;for(let un=0;un<re.length;un++)R=re.charCodeAt(un)+((R<<5)-R);return`hsl(${R%360}, ${Math.max(Ve,Math.min(Me,R%100/100*(Me-Ve)+Ve))}%, ${Math.max(Fe,Math.min($e,R%100/100*($e-Fe)+Fe))}%)`}static stringToGradient(re,Ve=90,Me=70,Fe=85,$e=65){let R=0;for(let Pt=0;Pt<re.length;Pt++)R=re.charCodeAt(Pt)+((R<<5)-R);const it=R%360,Le=R%(Ve-Me+1)+Me,Et=R%(Fe-$e+1)+$e;return`linear-gradient(0deg, hsl(${it}, ${Le}%, ${Et}%) 0%, hsl(${(it-30)%360}, ${Le}%, ${Et-10}%) 100%)`}static declineOfNumber(re,Ve){const Me=(re=Math.abs(re)%100)%10;return re>10&&re<20?Ve[2]:Me>1&&Me<5?Ve[1]:1==Me?Ve[0]:Ve[2]}static getValueFromModelItem(re){switch(re.wireframeFieldType){case e._r.ADDRESS:return re.addressData;case e._r.INTEGER:return re.integerData;case e._r.FLOAT:return re.floatData;case e._r.BOOLEAN:return re.booleanData;case e._r.PHONE_ARRAY:return re.phoneData;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.SMALL_TEXT:return re.stringData;default:return null}}static setValueToModelItem(re,Ve){switch(re.wireframeFieldType){case e._r.ADDRESS:re.addressData=Ve;break;case e._r.INTEGER:re.integerData=Ve;break;case e._r.FLOAT:re.floatData=Ve;break;case e._r.BOOLEAN:re.booleanData=Ve;break;case e._r.PHONE_ARRAY:re.phoneData=Ve;break;case e._r.IP:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.SMALL_TEXT:re.stringData=Ve}return re}static prepareForHttpRequest(re){if("object"==typeof re)for(let Ve in re)Array.isArray(re[Ve])||"string"==typeof re[Ve]||"number"==typeof re[Ve]||"boolean"==typeof re[Ve]?Array.isArray(re[Ve])&&(re[Ve]=re[Ve].map(Me=>"object"==typeof Me?JSON.stringify(Me):Me)):re[Ve]=JSON.stringify(re[Ve]);return re}}class He{static convert(re,Ve){return Ve.steps.reduce((Fe,$e)=>[...Fe,...$e.fields],[]).filter(Fe=>Object.keys(re).includes(Fe.id)).map(Fe=>{const $e=re[Fe.id],R={id:Fe.id,wireframeFieldType:Fe.type,name:Fe.name};switch(Fe.type){case e._r.SMALL_TEXT:case e._r.LARGE_TEXT:case e._r.LOGIN:case e._r.IP:R.stringData=$e;break;case e._r.ADDRESS:R.addressData=$e;break;case e._r.PHONE_ARRAY:R.phoneData=$e;break;case e._r.INTEGER:R.integerData=$e;break;case e._r.BOOLEAN:R.booleanData=$e;break;case e._r.FLOAT:R.floatData=$e}return R})}static editExisting(re,Ve){return Ve.map(Me=>Ne.setValueToModelItem(Me,re[Me.modelItemId]))}}class Re{constructor(){this.observer=(0,s.H)(0,1e3).pipe((0,f.w)(()=>(0,V.of)(this.getTime()))),this.time=0}setTime(re){this.time=re instanceof Date?re.getTime():"string"==typeof re?new Date(re).getTime():"number"==typeof re?re:0}getTime(){if(0===this.time)return{biggestSuffix:"",biggestType:"none",biggestValue:0,current:{days:0,hours:0,minutes:0,seconds:0},mode:"none",timeError:!0,actualLabel:"-"};const re=(new Date).getTime(),Ve=Math.abs(this.time-re),Me=this.time<re?"after":"before";let Fe=Math.floor(Ve/864e5),$e=Math.floor(Ve%864e5/36e5),R=Math.floor(Ve%36e5/6e4),it=Math.floor(Ve%6e4/1e3);if(Fe>0){const Le=Ne.declineOfNumber(Fe,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]);return{biggestSuffix:Le,biggestType:"days",biggestValue:Fe,current:{days:Fe,hours:$e,minutes:R,seconds:it},mode:Me,timeError:!1,actualLabel:`${Fe} ${Le}`}}if($e>0){const Le=Ne.declineOfNumber($e,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]);return{biggestSuffix:Le,biggestType:"hours",biggestValue:$e,current:{days:Fe,hours:$e,minutes:R,seconds:it},mode:Me,timeError:!1,actualLabel:`${$e} ${Le}`}}if(R>0){const Le=Ne.declineOfNumber(R,["\u043c\u0438\u043d\u0443\u0442\u0443","\u043c\u0438\u043d\u0443\u0442\u044b","\u043c\u0438\u043d\u0443\u0442"]);return{biggestSuffix:Le,biggestType:"minutes",biggestValue:R,current:{days:Fe,hours:$e,minutes:R,seconds:it},mode:Me,timeError:!1,actualLabel:`${R} ${Le}`}}{const Le=Ne.declineOfNumber(it,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]);return{biggestSuffix:Le,biggestType:"seconds",biggestValue:it,current:{days:Fe,hours:$e,minutes:R,seconds:it},mode:Me,timeError:!1,actualLabel:`${it} ${Le}`}}}}class gt{constructor(){this.subscriptions=new Map}addSubscription(re,Ve){const Me=this.subscriptions.get(re);Me&&Me.unsubscribe(),this.subscriptions.set(re,Ve)}unsubscribeAll(){this.subscriptions.forEach(re=>re.unsubscribe()),this.subscriptions.clear()}unsubscribe(re){const Ve=this.subscriptions.get(re);Ve&&Ve.unsubscribe(),this.subscriptions.delete(re)}}const ut={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{color:[]}],["clean"],["link"]]};function Pe(Qe){const re={"employee-label-element":ye(E.x,{injector:Qe}),"task-link-element":ye(U.U,{injector:Qe}),"department-label-element":ye($.y,{injector:Qe}),"appointed-installers-element":ye(Ae._,{injector:Qe})};for(const[Ve,Me]of Object.entries(re))customElements.get(Ve)||customElements.define(Ve,Me)}function We(Qe){Qe.ripple=!0,Qe.setTranslation({startsWith:"\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441",contains:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442",notContains:"\u041d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",endsWith:"\u041a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f",equals:"\u0420\u0430\u0432\u043d\u043e",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",matchAll:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043e \u0432\u0441\u0435\u043c",matchAny:"\u0421\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438",addRule:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",removeRule:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e",accept:"\u0414\u0430",reject:"\u041d\u0435\u0442",choose:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",dayNames:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441\u043a","\u041f\u043e\u043d","\u0412\u0442\u043e","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041f\u044f\u0442","\u0421\u0443\u0431"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dateFormat:"dd-mm-yy",firstDayOfWeek:0,today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",weekHeader:"\u041d\u0434",weak:"\u041d\u0435\u0434\u0435\u043b\u044f",medium:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",strong:"\u0416\u0438\u0440\u043d\u044b\u0439",passwordPrompt:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",emptyMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442",emptyFilterMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})}function J(Qe,re=0){let Ve=3735928559^re,Me=1103547991^re;for(let $e,Fe=0;Fe<Qe.length;Fe++)$e=Qe.charCodeAt(Fe),Ve=Math.imul(Ve^$e,2654435761),Me=Math.imul(Me^$e,1597334677);return Ve=Math.imul(Ve^Ve>>>16,2246822507),Ve^=Math.imul(Me^Me>>>13,3266489909),Me=Math.imul(Me^Me>>>16,2246822507),Me^=Math.imul(Ve^Ve>>>13,3266489909),(4294967296*(2097151&Me)+(Ve>>>0)).toString(16)}class de{static save(re,Ve){localStorage.setItem(re,JSON.stringify(Ve))}static load(re){const Ve=localStorage.getItem(re);return null===Ve?null:JSON.parse(Ve)}static loadOrDefault(re,Ve){const Me=localStorage.getItem(re);return null===Me?Ve:JSON.parse(Me)}}},2340:(Lt,qe,C)=>{C.d(qe,{N:()=>e});const e={production:!0,wsHost:"ws://10.128.227.39/socket",hmr:!1}},7014:(Lt,qe,C)=>{var e=C(2313),s=C(5e3),f=C(383),V=C(9783),F=C(3470),I=C(9808),L=C(7773),se=C(1110);function q(Ee,w){if(1&Ee&&(s.TgZ(0,"span",9),s._uU(1),s.qZA()),2&Ee){const k=s.oxw().$implicit;s.xp6(1),s.Oqu(k.data.descriptionOfAttachment)}}function z(Ee,w){if(1&Ee&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&Ee){const k=s.oxw().$implicit;s.xp6(1),s.Oqu(k.data.text)}}const he=function(){return{marginLeft:"2rem"}};function ne(Ee,w){if(1&Ee&&(s.TgZ(0,"div",2)(1,"div",3),s._UZ(2,"app-employee-label",4),s.qZA(),s.TgZ(3,"div",5),s.YNc(4,q,2,1,"span",6),s.YNc(5,z,2,1,"span",7),s.qZA(),s.TgZ(6,"div",8)(7,"span"),s._uU(8),s.ALo(9,"date"),s.qZA()()()),2&Ee){const k=w.$implicit;s.xp6(2),s.Q6J("employee",k.data.author),s.xp6(1),s.Akn(s.DdM(9,he)),s.xp6(1),s.Q6J("ngIf",k.data.descriptionOfAttachment),s.xp6(1),s.Q6J("ngIf",k.data.text),s.xp6(3),s.Oqu(s.xi3(9,6,k.data.sendAt,"dd-MM-yyyy HH:mm"))}}let De=(()=>{class Ee{constructor(k,ae){this.config=k,this.title="Microel CRM",(0,f.EM)(k),(0,f.XO)(ae)}}return Ee.\u0275fac=function(k){return new(k||Ee)(s.Y36(V.b4),s.Y36(s.zs3))},Ee.\u0275cmp=s.Xpm({type:Ee,selectors:[["app-root"]],decls:4,vars:0,consts:[["position","bottom-right","key","chatMessage"],["pTemplate","message"],[1,"flexed","column","stretched","gap5"],[1,"flexed","hcenter"],[3,"employee"],[1,"flexed","column"],["class","caption size-small wt-bold f-color-primary",4,"ngIf"],[4,"ngIf"],[1,"flexed","vend","caption","size-tiny","wt-bold","f-color-500"],[1,"caption","size-small","wt-bold","f-color-primary"]],template:function(k,ae){1&k&&(s._UZ(0,"router-outlet")(1,"p-toast"),s.TgZ(2,"p-toast",0),s.YNc(3,ne,10,10,"ng-template",1),s.qZA())},dependencies:[F.lC,I.O5,L.FN,V.jx,se.x,I.uU]}),Ee})();const ue=void 0,pe=["ru",[["AM","PM"],ue,ue],ue,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],ue,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",ue,ue,ue],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[ue,"\u0440."],GEL:[ue,"\u10da"],PHP:[ue,"\u20b1"],RON:[ue,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function ge(Ee){const k=Math.floor(Math.abs(Ee)),ae=Ee.toString().replace(/^[^.]*\.?/,"").length;return 0===ae&&k%10==1&&k%100!=11?1:0===ae&&k%10===Math.floor(k%10)&&k%10>=2&&k%10<=4&&!(k%100>=12&&k%100<=14)?3:0===ae&&k%10==0||0===ae&&k%10===Math.floor(k%10)&&k%10>=5&&k%10<=9||0===ae&&k%100===Math.floor(k%100)&&k%100>=11&&k%100<=14?4:5}];var ke=C(975),Q=C(6870),Oe=C(1777);function P(Ee){return new s.vHH(3e3,!1)}function ft(){return"undefined"!=typeof window&&void 0!==window.document}function ei(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qn(Ee){switch(Ee.length){case 0:return new Oe.ZN;case 1:return Ee[0];default:return new Oe.ZE(Ee)}}function Ht(Ee,w,k,ae,Be=new Map,et=new Map){const yt=[],Tt=[];let Nt=-1,$t=null;if(ae.forEach(In=>{const En=In.get("offset"),$n=En==Nt,Xn=$n&&$t||new Map;In.forEach((Fn,zn)=>{let ri=zn,mi=Fn;if("offset"!==zn)switch(ri=w.normalizePropertyName(ri,yt),mi){case Oe.k1:mi=Be.get(zn);break;case Oe.l3:mi=et.get(zn);break;default:mi=w.normalizeStyleValue(zn,ri,mi,yt)}Xn.set(ri,mi)}),$n||Tt.push(Xn),$t=Xn,Nt=En}),yt.length)throw function $e(Ee){return new s.vHH(3502,!1)}();return Tt}function mt(Ee,w,k,ae){switch(w){case"start":Ee.onStart(()=>ae(k&&Ze(k,"start",Ee)));break;case"done":Ee.onDone(()=>ae(k&&Ze(k,"done",Ee)));break;case"destroy":Ee.onDestroy(()=>ae(k&&Ze(k,"destroy",Ee)))}}function Ze(Ee,w,k){const ae=k.totalTime,et=It(Ee.element,Ee.triggerName,Ee.fromState,Ee.toState,w||Ee.phaseName,null==ae?Ee.totalTime:ae,!!k.disabled),yt=Ee._data;return null!=yt&&(et._data=yt),et}function It(Ee,w,k,ae,Be="",et=0,yt){return{element:Ee,triggerName:w,fromState:k,toState:ae,phaseName:Be,totalTime:et,disabled:!!yt}}function M(Ee,w,k){let ae=Ee.get(w);return ae||Ee.set(w,ae=k),ae}function _e(Ee){const w=Ee.indexOf(":");return[Ee.substring(1,w),Ee.slice(w+1)]}let Ie=(Ee,w)=>!1,Xe=(Ee,w,k)=>[],Rt=null;function Qt(Ee){const w=Ee.parentNode||Ee.host;return w===Rt?null:w}(ei()||"undefined"!=typeof Element)&&(ft()?(Rt=(()=>document.documentElement)(),Ie=(Ee,w)=>{for(;w;){if(w===Ee)return!0;w=Qt(w)}return!1}):Ie=(Ee,w)=>Ee.contains(w),Xe=(Ee,w,k)=>{if(k)return Array.from(Ee.querySelectorAll(w));const ae=Ee.querySelector(w);return ae?[ae]:[]});let xt=null,ee=!1;const sn=Ie,ni=Xe;let kt=(()=>{class Ee{validateStyleProperty(k){return function ze(Ee){xt||(xt=function bt(){return"undefined"!=typeof document?document.body:null}()||{},ee=!!xt.style&&"WebkitAppearance"in xt.style);let w=!0;return xt.style&&!function nt(Ee){return"ebkit"==Ee.substring(1,6)}(Ee)&&(w=Ee in xt.style,!w&&ee&&(w="Webkit"+Ee.charAt(0).toUpperCase()+Ee.slice(1)in xt.style)),w}(k)}matchesElement(k,ae){return!1}containsElement(k,ae){return sn(k,ae)}getParentElement(k){return Qt(k)}query(k,ae,Be){return ni(k,ae,Be)}computeStyle(k,ae,Be){return Be||""}animate(k,ae,Be,et,yt,Tt=[],Nt){return new Oe.ZN(Be,et)}}return Ee.\u0275fac=function(k){return new(k||Ee)},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),an=(()=>{class Ee{}return Ee.NOOP=new kt,Ee})();const Kt="ng-enter",vn="ng-leave",Rn="ng-trigger",pi=".ng-trigger",Ai="ng-animating",Ki=".ng-animating";function Ke(Ee){if("number"==typeof Ee)return Ee;const w=Ee.match(/^(-?[\.\d]+)(m?s)/);return!w||w.length<2?0:ie(parseFloat(w[1]),w[2])}function ie(Ee,w){return"s"===w?1e3*Ee:Ee}function B(Ee,w,k){return Ee.hasOwnProperty("duration")?Ee:function oe(Ee,w,k){let Be,et=0,yt="";if("string"==typeof Ee){const Tt=Ee.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Tt)return w.push(P()),{duration:0,delay:0,easing:""};Be=ie(parseFloat(Tt[1]),Tt[2]);const Nt=Tt[3];null!=Nt&&(et=ie(parseFloat(Nt),Tt[4]));const $t=Tt[5];$t&&(yt=$t)}else Be=Ee;if(!k){let Tt=!1,Nt=w.length;Be<0&&(w.push(function N(){return new s.vHH(3100,!1)}()),Tt=!0),et<0&&(w.push(function we(){return new s.vHH(3101,!1)}()),Tt=!0),Tt&&w.splice(Nt,0,P())}return{duration:Be,delay:et,easing:yt}}(Ee,w,k)}function xe(Ee,w={}){return Object.keys(Ee).forEach(k=>{w[k]=Ee[k]}),w}function Ct(Ee){const w=new Map;return Object.keys(Ee).forEach(k=>{w.set(k,Ee[k])}),w}function Vt(Ee,w=new Map,k){if(k)for(let[ae,Be]of k)w.set(ae,Be);for(let[ae,Be]of Ee)w.set(ae,Be);return w}function ln(Ee,w,k){return k?w+":"+k+";":""}function hn(Ee){let w="";for(let k=0;k<Ee.style.length;k++){const ae=Ee.style.item(k);w+=ln(0,ae,Ee.style.getPropertyValue(ae))}for(const k in Ee.style)Ee.style.hasOwnProperty(k)&&!k.startsWith("_")&&(w+=ln(0,_i(k),Ee.style[k]));Ee.setAttribute("style",w)}function mn(Ee,w,k){Ee.style&&(w.forEach((ae,Be)=>{const et=Ji(Be);k&&!k.has(Be)&&k.set(Be,Ee.style[et]),Ee.style[et]=ae}),ei()&&hn(Ee))}function yn(Ee,w){Ee.style&&(w.forEach((k,ae)=>{const Be=Ji(ae);Ee.style[Be]=""}),ei()&&hn(Ee))}function xn(Ee){return Array.isArray(Ee)?1==Ee.length?Ee[0]:(0,Oe.vP)(Ee):Ee}const Si=new RegExp("{{\\s*(.+?)\\s*}}","g");function ki(Ee){let w=[];if("string"==typeof Ee){let k;for(;k=Si.exec(Ee);)w.push(k[1]);Si.lastIndex=0}return w}function bn(Ee,w,k){const ae=Ee.toString(),Be=ae.replace(Si,(et,yt)=>{let Tt=w[yt];return null==Tt&&(k.push(function ye(Ee){return new s.vHH(3003,!1)}()),Tt=""),Tt.toString()});return Be==ae?Ee:Be}function Ti(Ee){const w=[];let k=Ee.next();for(;!k.done;)w.push(k.value),k=Ee.next();return w}const po=/-+([a-z0-9])/g;function Ji(Ee){return Ee.replace(po,(...w)=>w[1].toUpperCase())}function _i(Ee){return Ee.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xi(Ee,w,k){switch(w.type){case 7:return Ee.visitTrigger(w,k);case 0:return Ee.visitState(w,k);case 1:return Ee.visitTransition(w,k);case 2:return Ee.visitSequence(w,k);case 3:return Ee.visitGroup(w,k);case 4:return Ee.visitAnimate(w,k);case 5:return Ee.visitKeyframes(w,k);case 6:return Ee.visitStyle(w,k);case 8:return Ee.visitReference(w,k);case 9:return Ee.visitAnimateChild(w,k);case 10:return Ee.visitAnimateRef(w,k);case 11:return Ee.visitQuery(w,k);case 12:return Ee.visitStagger(w,k);default:throw function G(Ee){return new s.vHH(3004,!1)}()}}function oo(Ee,w){return window.getComputedStyle(Ee)[w]}function Jo(Ee,w){const k=[];return"string"==typeof Ee?Ee.split(/\s*,\s*/).forEach(ae=>function ys(Ee,w,k){if(":"==Ee[0]){const Nt=function ho(Ee,w){switch(Ee){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(k,ae)=>parseFloat(ae)>parseFloat(k);case":decrement":return(k,ae)=>parseFloat(ae)<parseFloat(k);default:return w.push(function re(Ee){return new s.vHH(3016,!1)}()),"* => *"}}(Ee,k);if("function"==typeof Nt)return void w.push(Nt);Ee=Nt}const ae=Ee.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ae||ae.length<4)return k.push(function Qe(Ee){return new s.vHH(3015,!1)}()),w;const Be=ae[1],et=ae[2],yt=ae[3];w.push(Ei(Be,yt));"<"==et[0]&&!("*"==Be&&"*"==yt)&&w.push(Ei(yt,Be))}(ae,k,w)):k.push(Ee),k}const is=new Set(["true","1"]),qi=new Set(["false","0"]);function Ei(Ee,w){const k=is.has(Ee)||qi.has(Ee),ae=is.has(w)||qi.has(w);return(Be,et)=>{let yt="*"==Ee||Ee==Be,Tt="*"==w||w==et;return!yt&&k&&"boolean"==typeof Be&&(yt=Be?is.has(Ee):qi.has(Ee)),!Tt&&ae&&"boolean"==typeof et&&(Tt=et?is.has(w):qi.has(w)),yt&&Tt}}const Ln=new RegExp("s*:selfs*,?","g");function Sn(Ee,w,k,ae){return new tr(Ee).build(w,k,ae)}class tr{constructor(w){this._driver=w}build(w,k,ae){const Be=new jo(k);return this._resetContextStyleTimingState(Be),xi(this,xn(w),Be)}_resetContextStyleTimingState(w){w.currentQuerySelector="",w.collectedStyles=new Map,w.collectedStyles.set("",new Map),w.currentTime=0}visitTrigger(w,k){let ae=k.queryCount=0,Be=k.depCount=0;const et=[],yt=[];return"@"==w.name.charAt(0)&&k.errors.push(function U(){return new s.vHH(3006,!1)}()),w.definitions.forEach(Tt=>{if(this._resetContextStyleTimingState(k),0==Tt.type){const Nt=Tt,$t=Nt.name;$t.toString().split(/\s*,\s*/).forEach(In=>{Nt.name=In,et.push(this.visitState(Nt,k))}),Nt.name=$t}else if(1==Tt.type){const Nt=this.visitTransition(Tt,k);ae+=Nt.queryCount,Be+=Nt.depCount,yt.push(Nt)}else k.errors.push(function $(){return new s.vHH(3007,!1)}())}),{type:7,name:w.name,states:et,transitions:yt,queryCount:ae,depCount:Be,options:null}}visitState(w,k){const ae=this.visitStyle(w.styles,k),Be=w.options&&w.options.params||null;if(ae.containsDynamicStyles){const et=new Set,yt=Be||{};ae.styles.forEach(Tt=>{Tt instanceof Map&&Tt.forEach(Nt=>{ki(Nt).forEach($t=>{yt.hasOwnProperty($t)||et.add($t)})})}),et.size&&(Ti(et.values()),k.errors.push(function Ae(Ee,w){return new s.vHH(3008,!1)}()))}return{type:0,name:w.name,style:ae,options:Be?{params:Be}:null}}visitTransition(w,k){k.queryCount=0,k.depCount=0;const ae=xi(this,xn(w.animation),k);return{type:1,matchers:Jo(w.expr,k.errors),animation:ae,queryCount:k.queryCount,depCount:k.depCount,options:To(w.options)}}visitSequence(w,k){return{type:2,steps:w.steps.map(ae=>xi(this,ae,k)),options:To(w.options)}}visitGroup(w,k){const ae=k.currentTime;let Be=0;const et=w.steps.map(yt=>{k.currentTime=ae;const Tt=xi(this,yt,k);return Be=Math.max(Be,k.currentTime),Tt});return k.currentTime=Be,{type:3,steps:et,options:To(w.options)}}visitAnimate(w,k){const ae=function Yo(Ee,w){if(Ee.hasOwnProperty("duration"))return Ee;if("number"==typeof Ee)return fr(B(Ee,w).duration,0,"");const k=Ee;if(k.split(/\s+/).some(et=>"{"==et.charAt(0)&&"{"==et.charAt(1))){const et=fr(0,0,"");return et.dynamic=!0,et.strValue=k,et}const Be=B(k,w);return fr(Be.duration,Be.delay,Be.easing)}(w.timings,k.errors);k.currentAnimateTimings=ae;let Be,et=w.styles?w.styles:(0,Oe.oB)({});if(5==et.type)Be=this.visitKeyframes(et,k);else{let yt=w.styles,Tt=!1;if(!yt){Tt=!0;const $t={};ae.easing&&($t.easing=ae.easing),yt=(0,Oe.oB)($t)}k.currentTime+=ae.duration+ae.delay;const Nt=this.visitStyle(yt,k);Nt.isEmptyStep=Tt,Be=Nt}return k.currentAnimateTimings=null,{type:4,timings:ae,style:Be,options:null}}visitStyle(w,k){const ae=this._makeStyleAst(w,k);return this._validateStyleAst(ae,k),ae}_makeStyleAst(w,k){const ae=[],Be=Array.isArray(w.styles)?w.styles:[w.styles];for(let Tt of Be)"string"==typeof Tt?Tt===Oe.l3?ae.push(Tt):k.errors.push(new s.vHH(3002,!1)):ae.push(Ct(Tt));let et=!1,yt=null;return ae.forEach(Tt=>{if(Tt instanceof Map&&(Tt.has("easing")&&(yt=Tt.get("easing"),Tt.delete("easing")),!et))for(let Nt of Tt.values())if(Nt.toString().indexOf("{{")>=0){et=!0;break}}),{type:6,styles:ae,easing:yt,offset:w.offset,containsDynamicStyles:et,options:null}}_validateStyleAst(w,k){const ae=k.currentAnimateTimings;let Be=k.currentTime,et=k.currentTime;ae&&et>0&&(et-=ae.duration+ae.delay),w.styles.forEach(yt=>{"string"!=typeof yt&&yt.forEach((Tt,Nt)=>{const $t=k.collectedStyles.get(k.currentQuerySelector),In=$t.get(Nt);let En=!0;In&&(et!=Be&&et>=In.startTime&&Be<=In.endTime&&(k.errors.push(function Re(Ee,w,k,ae,Be){return new s.vHH(3010,!1)}()),En=!1),et=In.startTime),En&&$t.set(Nt,{startTime:et,endTime:Be}),k.options&&function Kn(Ee,w,k){const ae=w.params||{},Be=ki(Ee);Be.length&&Be.forEach(et=>{ae.hasOwnProperty(et)||k.push(function be(Ee){return new s.vHH(3001,!1)}())})}(Tt,k.options,k.errors)})})}visitKeyframes(w,k){const ae={type:5,styles:[],options:null};if(!k.currentAnimateTimings)return k.errors.push(function gt(){return new s.vHH(3011,!1)}()),ae;let et=0;const yt=[];let Tt=!1,Nt=!1,$t=0;const In=w.steps.map(mi=>{const no=this._makeStyleAst(mi,k);let Vo=null!=no.offset?no.offset:function Wo(Ee){if("string"==typeof Ee)return null;let w=null;if(Array.isArray(Ee))Ee.forEach(k=>{if(k instanceof Map&&k.has("offset")){const ae=k;w=parseFloat(ae.get("offset")),ae.delete("offset")}});else if(Ee instanceof Map&&Ee.has("offset")){const k=Ee;w=parseFloat(k.get("offset")),k.delete("offset")}return w}(no.styles),ao=0;return null!=Vo&&(et++,ao=no.offset=Vo),Nt=Nt||ao<0||ao>1,Tt=Tt||ao<$t,$t=ao,yt.push(ao),no});Nt&&k.errors.push(function ut(){return new s.vHH(3012,!1)}()),Tt&&k.errors.push(function Pe(){return new s.vHH(3200,!1)}());const En=w.steps.length;let $n=0;et>0&&et<En?k.errors.push(function We(){return new s.vHH(3202,!1)}()):0==et&&($n=1/(En-1));const Xn=En-1,Fn=k.currentTime,zn=k.currentAnimateTimings,ri=zn.duration;return In.forEach((mi,no)=>{const Vo=$n>0?no==Xn?1:$n*no:yt[no],ao=Vo*ri;k.currentTime=Fn+zn.delay+ao,zn.duration=ao,this._validateStyleAst(mi,k),mi.offset=Vo,ae.styles.push(mi)}),ae}visitReference(w,k){return{type:8,animation:xi(this,xn(w.animation),k),options:To(w.options)}}visitAnimateChild(w,k){return k.depCount++,{type:9,options:To(w.options)}}visitAnimateRef(w,k){return{type:10,animation:this.visitReference(w.animation,k),options:To(w.options)}}visitQuery(w,k){const ae=k.currentQuerySelector,Be=w.options||{};k.queryCount++,k.currentQuery=w;const[et,yt]=function gr(Ee){const w=!!Ee.split(/\s*,\s*/).find(k=>":self"==k);return w&&(Ee=Ee.replace(Ln,"")),Ee=Ee.replace(/@\*/g,pi).replace(/@\w+/g,k=>pi+"-"+k.slice(1)).replace(/:animating/g,Ki),[Ee,w]}(w.selector);k.currentQuerySelector=ae.length?ae+" "+et:et,M(k.collectedStyles,k.currentQuerySelector,new Map);const Tt=xi(this,xn(w.animation),k);return k.currentQuery=null,k.currentQuerySelector=ae,{type:11,selector:et,limit:Be.limit||0,optional:!!Be.optional,includeSelf:yt,animation:Tt,originalSelector:w.selector,options:To(w.options)}}visitStagger(w,k){k.currentQuery||k.errors.push(function J(){return new s.vHH(3013,!1)}());const ae="full"===w.timings?{duration:0,delay:0,easing:"full"}:B(w.timings,k.errors,!0);return{type:12,animation:xi(this,xn(w.animation),k),timings:ae,options:null}}}class jo{constructor(w){this.errors=w,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function To(Ee){return Ee?(Ee=xe(Ee)).params&&(Ee.params=function cs(Ee){return Ee?xe(Ee):null}(Ee.params)):Ee={},Ee}function fr(Ee,w,k){return{duration:Ee,delay:w,easing:k}}function Vs(Ee,w,k,ae,Be,et,yt=null,Tt=!1){return{type:1,element:Ee,keyframes:w,preStyleProps:k,postStyleProps:ae,duration:Be,delay:et,totalTime:Be+et,easing:yt,subTimeline:Tt}}class Us{constructor(){this._map=new Map}get(w){return this._map.get(w)||[]}append(w,k){let ae=this._map.get(w);ae||this._map.set(w,ae=[]),ae.push(...k)}has(w){return this._map.has(w)}clear(){this._map.clear()}}const qo=new RegExp(":enter","g"),ks=new RegExp(":leave","g");function Ho(Ee,w,k,ae,Be,et=new Map,yt=new Map,Tt,Nt,$t=[]){return(new yo).buildKeyframes(Ee,w,k,ae,Be,et,yt,Tt,Nt,$t)}class yo{buildKeyframes(w,k,ae,Be,et,yt,Tt,Nt,$t,In=[]){$t=$t||new Us;const En=new oi(w,k,$t,Be,et,In,[]);En.options=Nt;const $n=Nt.delay?Ke(Nt.delay):0;En.currentTimeline.delayNextStep($n),En.currentTimeline.setStyles([yt],null,En.errors,Nt),xi(this,ae,En);const Xn=En.timelines.filter(Fn=>Fn.containsAnimation());if(Xn.length&&Tt.size){let Fn;for(let zn=Xn.length-1;zn>=0;zn--){const ri=Xn[zn];if(ri.element===k){Fn=ri;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([Tt],null,En.errors,Nt)}return Xn.length?Xn.map(Fn=>Fn.buildKeyframes()):[Vs(k,[],[],[],0,$n,"",!1)]}visitTrigger(w,k){}visitState(w,k){}visitTransition(w,k){}visitAnimateChild(w,k){const ae=k.subInstructions.get(k.element);if(ae){const Be=k.createSubContext(w.options),et=k.currentTimeline.currentTime,yt=this._visitSubInstructions(ae,Be,Be.options);et!=yt&&k.transformIntoNewTimeline(yt)}k.previousNode=w}visitAnimateRef(w,k){const ae=k.createSubContext(w.options);ae.transformIntoNewTimeline(),this._applyAnimationRefDelays([w.options,w.animation.options],k,ae),this.visitReference(w.animation,ae),k.transformIntoNewTimeline(ae.currentTimeline.currentTime),k.previousNode=w}_applyAnimationRefDelays(w,k,ae){var Be;for(const et of w){const yt=null==et?void 0:et.delay;if(yt){const Tt="number"==typeof yt?yt:Ke(bn(yt,null!==(Be=null==et?void 0:et.params)&&void 0!==Be?Be:{},k.errors));ae.delayNextStep(Tt)}}}_visitSubInstructions(w,k,ae){let et=k.currentTimeline.currentTime;const yt=null!=ae.duration?Ke(ae.duration):null,Tt=null!=ae.delay?Ke(ae.delay):null;return 0!==yt&&w.forEach(Nt=>{const $t=k.appendInstructionToTimeline(Nt,yt,Tt);et=Math.max(et,$t.duration+$t.delay)}),et}visitReference(w,k){k.updateOptions(w.options,!0),xi(this,w.animation,k),k.previousNode=w}visitSequence(w,k){const ae=k.subContextCount;let Be=k;const et=w.options;if(et&&(et.params||et.delay)&&(Be=k.createSubContext(et),Be.transformIntoNewTimeline(),null!=et.delay)){6==Be.previousNode.type&&(Be.currentTimeline.snapshotCurrentStyles(),Be.previousNode=Fi);const yt=Ke(et.delay);Be.delayNextStep(yt)}w.steps.length&&(w.steps.forEach(yt=>xi(this,yt,Be)),Be.currentTimeline.applyStylesToKeyframe(),Be.subContextCount>ae&&Be.transformIntoNewTimeline()),k.previousNode=w}visitGroup(w,k){const ae=[];let Be=k.currentTimeline.currentTime;const et=w.options&&w.options.delay?Ke(w.options.delay):0;w.steps.forEach(yt=>{const Tt=k.createSubContext(w.options);et&&Tt.delayNextStep(et),xi(this,yt,Tt),Be=Math.max(Be,Tt.currentTimeline.currentTime),ae.push(Tt.currentTimeline)}),ae.forEach(yt=>k.currentTimeline.mergeTimelineCollectedStyles(yt)),k.transformIntoNewTimeline(Be),k.previousNode=w}_visitTiming(w,k){if(w.dynamic){const ae=w.strValue;return B(k.params?bn(ae,k.params,k.errors):ae,k.errors)}return{duration:w.duration,delay:w.delay,easing:w.easing}}visitAnimate(w,k){const ae=k.currentAnimateTimings=this._visitTiming(w.timings,k),Be=k.currentTimeline;ae.delay&&(k.incrementTime(ae.delay),Be.snapshotCurrentStyles());const et=w.style;5==et.type?this.visitKeyframes(et,k):(k.incrementTime(ae.duration),this.visitStyle(et,k),Be.applyStylesToKeyframe()),k.currentAnimateTimings=null,k.previousNode=w}visitStyle(w,k){const ae=k.currentTimeline,Be=k.currentAnimateTimings;!Be&&ae.hasCurrentStyleProperties()&&ae.forwardFrame();const et=Be&&Be.easing||w.easing;w.isEmptyStep?ae.applyEmptyStep(et):ae.setStyles(w.styles,et,k.errors,k.options),k.previousNode=w}visitKeyframes(w,k){const ae=k.currentAnimateTimings,Be=k.currentTimeline.duration,et=ae.duration,Tt=k.createSubContext().currentTimeline;Tt.easing=ae.easing,w.styles.forEach(Nt=>{Tt.forwardTime((Nt.offset||0)*et),Tt.setStyles(Nt.styles,Nt.easing,k.errors,k.options),Tt.applyStylesToKeyframe()}),k.currentTimeline.mergeTimelineCollectedStyles(Tt),k.transformIntoNewTimeline(Be+et),k.previousNode=w}visitQuery(w,k){const ae=k.currentTimeline.currentTime,Be=w.options||{},et=Be.delay?Ke(Be.delay):0;et&&(6===k.previousNode.type||0==ae&&k.currentTimeline.hasCurrentStyleProperties())&&(k.currentTimeline.snapshotCurrentStyles(),k.previousNode=Fi);let yt=ae;const Tt=k.invokeQuery(w.selector,w.originalSelector,w.limit,w.includeSelf,!!Be.optional,k.errors);k.currentQueryTotal=Tt.length;let Nt=null;Tt.forEach(($t,In)=>{k.currentQueryIndex=In;const En=k.createSubContext(w.options,$t);et&&En.delayNextStep(et),$t===k.element&&(Nt=En.currentTimeline),xi(this,w.animation,En),En.currentTimeline.applyStylesToKeyframe(),yt=Math.max(yt,En.currentTimeline.currentTime)}),k.currentQueryIndex=0,k.currentQueryTotal=0,k.transformIntoNewTimeline(yt),Nt&&(k.currentTimeline.mergeTimelineCollectedStyles(Nt),k.currentTimeline.snapshotCurrentStyles()),k.previousNode=w}visitStagger(w,k){const ae=k.parentContext,Be=k.currentTimeline,et=w.timings,yt=Math.abs(et.duration),Tt=yt*(k.currentQueryTotal-1);let Nt=yt*k.currentQueryIndex;switch(et.duration<0?"reverse":et.easing){case"reverse":Nt=Tt-Nt;break;case"full":Nt=ae.currentStaggerTime}const In=k.currentTimeline;Nt&&In.delayNextStep(Nt);const En=In.currentTime;xi(this,w.animation,k),k.previousNode=w,ae.currentStaggerTime=Be.currentTime-En+(Be.startTime-ae.currentTimeline.startTime)}}const Fi={};class oi{constructor(w,k,ae,Be,et,yt,Tt,Nt){this._driver=w,this.element=k,this.subInstructions=ae,this._enterClassName=Be,this._leaveClassName=et,this.errors=yt,this.timelines=Tt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Nt||new wo(this._driver,k,0),Tt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(w,k){if(!w)return;const ae=w;let Be=this.options;null!=ae.duration&&(Be.duration=Ke(ae.duration)),null!=ae.delay&&(Be.delay=Ke(ae.delay));const et=ae.params;if(et){let yt=Be.params;yt||(yt=this.options.params={}),Object.keys(et).forEach(Tt=>{(!k||!yt.hasOwnProperty(Tt))&&(yt[Tt]=bn(et[Tt],yt,this.errors))})}}_copyOptions(){const w={};if(this.options){const k=this.options.params;if(k){const ae=w.params={};Object.keys(k).forEach(Be=>{ae[Be]=k[Be]})}}return w}createSubContext(w=null,k,ae){const Be=k||this.element,et=new oi(this._driver,Be,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Be,ae||0));return et.previousNode=this.previousNode,et.currentAnimateTimings=this.currentAnimateTimings,et.options=this._copyOptions(),et.updateOptions(w),et.currentQueryIndex=this.currentQueryIndex,et.currentQueryTotal=this.currentQueryTotal,et.parentContext=this,this.subContextCount++,et}transformIntoNewTimeline(w){return this.previousNode=Fi,this.currentTimeline=this.currentTimeline.fork(this.element,w),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(w,k,ae){const Be={duration:null!=k?k:w.duration,delay:this.currentTimeline.currentTime+(null!=ae?ae:0)+w.delay,easing:""},et=new Do(this._driver,w.element,w.keyframes,w.preStyleProps,w.postStyleProps,Be,w.stretchStartingKeyframe);return this.timelines.push(et),Be}incrementTime(w){this.currentTimeline.forwardTime(this.currentTimeline.duration+w)}delayNextStep(w){w>0&&this.currentTimeline.delayNextStep(w)}invokeQuery(w,k,ae,Be,et,yt){let Tt=[];if(Be&&Tt.push(this.element),w.length>0){w=(w=w.replace(qo,"."+this._enterClassName)).replace(ks,"."+this._leaveClassName);let $t=this._driver.query(this.element,w,1!=ae);0!==ae&&($t=ae<0?$t.slice($t.length+ae,$t.length):$t.slice(0,ae)),Tt.push(...$t)}return!et&&0==Tt.length&&yt.push(function de(Ee){return new s.vHH(3014,!1)}()),Tt}}class wo{constructor(w,k,ae,Be){this._driver=w,this.element=k,this.startTime=ae,this._elementTimelineStylesLookup=Be,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(k),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(k,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(w){const k=1===this._keyframes.size&&this._pendingStyles.size;this.duration||k?(this.forwardTime(this.currentTime+w),k&&this.snapshotCurrentStyles()):this.startTime+=w}fork(w,k){return this.applyStylesToKeyframe(),new wo(this._driver,w,k||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(w){this.applyStylesToKeyframe(),this.duration=w,this._loadKeyframe()}_updateStyle(w,k){this._localTimelineStyles.set(w,k),this._globalTimelineStyles.set(w,k),this._styleSummary.set(w,{time:this.currentTime,value:k})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(w){w&&this._previousKeyframe.set("easing",w);for(let[k,ae]of this._globalTimelineStyles)this._backFill.set(k,ae||Oe.l3),this._currentKeyframe.set(k,Oe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(w,k,ae,Be){var et;k&&this._previousKeyframe.set("easing",k);const yt=Be&&Be.params||{},Tt=function os(Ee,w){const k=new Map;let ae;return Ee.forEach(Be=>{if("*"===Be){ae=ae||w.keys();for(let et of ae)k.set(et,Oe.l3)}else Vt(Be,k)}),k}(w,this._globalTimelineStyles);for(let[Nt,$t]of Tt){const In=bn($t,yt,ae);this._pendingStyles.set(Nt,In),this._localTimelineStyles.has(Nt)||this._backFill.set(Nt,null!==(et=this._globalTimelineStyles.get(Nt))&&void 0!==et?et:Oe.l3),this._updateStyle(Nt,In)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((w,k)=>{this._currentKeyframe.set(k,w)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((w,k)=>{this._currentKeyframe.has(k)||this._currentKeyframe.set(k,w)}))}snapshotCurrentStyles(){for(let[w,k]of this._localTimelineStyles)this._pendingStyles.set(w,k),this._updateStyle(w,k)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const w=[];for(let k in this._currentKeyframe)w.push(k);return w}mergeTimelineCollectedStyles(w){w._styleSummary.forEach((k,ae)=>{const Be=this._styleSummary.get(ae);(!Be||k.time>Be.time)&&this._updateStyle(ae,k.value)})}buildKeyframes(){this.applyStylesToKeyframe();const w=new Set,k=new Set,ae=1===this._keyframes.size&&0===this.duration;let Be=[];this._keyframes.forEach((Tt,Nt)=>{const $t=Vt(Tt,new Map,this._backFill);$t.forEach((In,En)=>{In===Oe.k1?w.add(En):In===Oe.l3&&k.add(En)}),ae||$t.set("offset",Nt/this.duration),Be.push($t)});const et=w.size?Ti(w.values()):[],yt=k.size?Ti(k.values()):[];if(ae){const Tt=Be[0],Nt=new Map(Tt);Tt.set("offset",0),Nt.set("offset",1),Be=[Tt,Nt]}return Vs(this.element,Be,et,yt,this.duration,this.startTime,this.easing,!1)}}class Do extends wo{constructor(w,k,ae,Be,et,yt,Tt=!1){super(w,k,yt.delay),this.keyframes=ae,this.preStyleProps=Be,this.postStyleProps=et,this._stretchStartingKeyframe=Tt,this.timings={duration:yt.duration,delay:yt.delay,easing:yt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let w=this.keyframes,{delay:k,duration:ae,easing:Be}=this.timings;if(this._stretchStartingKeyframe&&k){const et=[],yt=ae+k,Tt=k/yt,Nt=Vt(w[0]);Nt.set("offset",0),et.push(Nt);const $t=Vt(w[0]);$t.set("offset",fo(Tt)),et.push($t);const In=w.length-1;for(let En=1;En<=In;En++){let $n=Vt(w[En]);const Xn=$n.get("offset");$n.set("offset",fo((k+Xn*ae)/yt)),et.push($n)}ae=yt,k=0,Be="",w=et}return Vs(this.element,w,this.preStyleProps,this.postStyleProps,ae,k,Be,!0)}}function fo(Ee,w=3){const k=Math.pow(10,w-1);return Math.round(Ee*k)/k}class us{}const zs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mo extends us{normalizePropertyName(w,k){return Ji(w)}normalizeStyleValue(w,k,ae,Be){let et="";const yt=ae.toString().trim();if(zs.has(k)&&0!==ae&&"0"!==ae)if("number"==typeof ae)et="px";else{const Tt=ae.match(/^[+-]?[\d\.]+([a-z]*)$/);Tt&&0==Tt[1].length&&Be.push(function E(Ee,w){return new s.vHH(3005,!1)}())}return yt+et}}function $o(Ee,w,k,ae,Be,et,yt,Tt,Nt,$t,In,En,$n){return{type:0,element:Ee,triggerName:w,isRemovalTransition:Be,fromState:k,fromStyles:et,toState:ae,toStyles:yt,timelines:Tt,queriedElements:Nt,preStyleProps:$t,postStyleProps:In,totalTime:En,errors:$n}}const Ye={};class vt{constructor(w,k,ae){this._triggerName=w,this.ast=k,this._stateStyles=ae}match(w,k,ae,Be){return function me(Ee,w,k,ae,Be){return Ee.some(et=>et(w,k,ae,Be))}(this.ast.matchers,w,k,ae,Be)}buildStyles(w,k,ae){let Be=this._stateStyles.get("*");return void 0!==w&&(Be=this._stateStyles.get(null==w?void 0:w.toString())||Be),Be?Be.buildStyles(k,ae):new Map}build(w,k,ae,Be,et,yt,Tt,Nt,$t,In){var En;const $n=[],Xn=this.ast.options&&this.ast.options.params||Ye,zn=this.buildStyles(ae,Tt&&Tt.params||Ye,$n),ri=Nt&&Nt.params||Ye,mi=this.buildStyles(Be,ri,$n),no=new Set,Vo=new Map,ao=new Map,Ws="void"===Be,fs={params:Ue(ri,Xn),delay:null===(En=this.ast.options)||void 0===En?void 0:En.delay},Gi=In?[]:Ho(w,k,this.ast.animation,et,yt,zn,mi,fs,$t,$n);let Uo=0;if(Gi.forEach(ts=>{Uo=Math.max(ts.duration+ts.delay,Uo)}),$n.length)return $o(k,this._triggerName,ae,Be,Ws,zn,mi,[],[],Vo,ao,Uo,$n);Gi.forEach(ts=>{const sr=ts.element,ms=M(Vo,sr,new Set);ts.preStyleProps.forEach(Cr=>ms.add(Cr));const Ys=M(ao,sr,new Set);ts.postStyleProps.forEach(Cr=>Ys.add(Cr)),sr!==k&&no.add(sr)});const xs=Ti(no.values());return $o(k,this._triggerName,ae,Be,Ws,zn,mi,Gi,xs,Vo,ao,Uo)}}function Ue(Ee,w){const k=xe(w);for(const ae in Ee)Ee.hasOwnProperty(ae)&&null!=Ee[ae]&&(k[ae]=Ee[ae]);return k}class st{constructor(w,k,ae){this.styles=w,this.defaultParams=k,this.normalizer=ae}buildStyles(w,k){const ae=new Map,Be=xe(this.defaultParams);return Object.keys(w).forEach(et=>{const yt=w[et];null!==yt&&(Be[et]=yt)}),this.styles.styles.forEach(et=>{"string"!=typeof et&&et.forEach((yt,Tt)=>{yt&&(yt=bn(yt,Be,k));const Nt=this.normalizer.normalizePropertyName(Tt,k);yt=this.normalizer.normalizeStyleValue(Tt,Nt,yt,k),ae.set(Nt,yt)})}),ae}}class gn{constructor(w,k,ae){this.name=w,this.ast=k,this._normalizer=ae,this.transitionFactories=[],this.states=new Map,k.states.forEach(Be=>{this.states.set(Be.name,new st(Be.style,Be.options&&Be.options.params||{},ae))}),Gn(this.states,"true","1"),Gn(this.states,"false","0"),k.transitions.forEach(Be=>{this.transitionFactories.push(new vt(w,Be,this.states))}),this.fallbackTransition=function _n(Ee,w,k){return new vt(Ee,{type:1,animation:{type:2,steps:[],options:null},matchers:[(yt,Tt)=>!0],options:null,queryCount:0,depCount:0},w)}(w,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(w,k,ae,Be){return this.transitionFactories.find(yt=>yt.match(w,k,ae,Be))||null}matchStyles(w,k,ae){return this.fallbackTransition.buildStyles(w,k,ae)}}function Gn(Ee,w,k){Ee.has(w)?Ee.has(k)||Ee.set(k,Ee.get(w)):Ee.has(k)&&Ee.set(w,Ee.get(k))}const si=new Us;class yi{constructor(w,k,ae){this.bodyNode=w,this._driver=k,this._normalizer=ae,this._animations=new Map,this._playersById=new Map,this.players=[]}register(w,k){const ae=[],et=Sn(this._driver,k,ae,[]);if(ae.length)throw function R(Ee){return new s.vHH(3503,!1)}();this._animations.set(w,et)}_buildPlayer(w,k,ae){const Be=w.element,et=Ht(0,this._normalizer,0,w.keyframes,k,ae);return this._driver.animate(Be,et,w.duration,w.delay,w.easing,[],!0)}create(w,k,ae={}){const Be=[],et=this._animations.get(w);let yt;const Tt=new Map;if(et?(yt=Ho(this._driver,k,et,Kt,vn,new Map,new Map,ae,si,Be),yt.forEach(In=>{const En=M(Tt,In.element,new Map);In.postStyleProps.forEach($n=>En.set($n,null))})):(Be.push(function it(){return new s.vHH(3300,!1)}()),yt=[]),Be.length)throw function Le(Ee){return new s.vHH(3504,!1)}();Tt.forEach((In,En)=>{In.forEach(($n,Xn)=>{In.set(Xn,this._driver.computeStyle(En,Xn,Oe.l3))})});const $t=qn(yt.map(In=>{const En=Tt.get(In.element);return this._buildPlayer(In,new Map,En)}));return this._playersById.set(w,$t),$t.onDestroy(()=>this.destroy(w)),this.players.push($t),$t}destroy(w){const k=this._getPlayer(w);k.destroy(),this._playersById.delete(w);const ae=this.players.indexOf(k);ae>=0&&this.players.splice(ae,1)}_getPlayer(w){const k=this._playersById.get(w);if(!k)throw function Et(Ee){return new s.vHH(3301,!1)}();return k}listen(w,k,ae,Be){const et=It(k,"","","");return mt(this._getPlayer(w),ae,et,Be),()=>{}}command(w,k,ae,Be){if("register"==ae)return void this.register(w,Be[0]);if("create"==ae)return void this.create(w,k,Be[0]||{});const et=this._getPlayer(w);switch(ae){case"play":et.play();break;case"pause":et.pause();break;case"reset":et.reset();break;case"restart":et.restart();break;case"finish":et.finish();break;case"init":et.init();break;case"setPosition":et.setPosition(parseFloat(Be[0]));break;case"destroy":this.destroy(w)}}}const Dn="ng-animate-queued",Zo="ng-animate-disabled",ds=[],Vn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xo="__ng_removed";class Is{constructor(w,k=""){this.namespaceId=k;const ae=w&&w.hasOwnProperty("value");if(this.value=function jn(Ee){return null!=Ee?Ee:null}(ae?w.value:w),ae){const et=xe(w);delete et.value,this.options=et}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(w){const k=w.params;if(k){const ae=this.options.params;Object.keys(k).forEach(Be=>{null==ae[Be]&&(ae[Be]=k[Be])})}}}const ps="void",Gs=new Is(ps);class Oo{constructor(w,k,ae){this.id=w,this.hostElement=k,this._engine=ae,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+w,zi(k,this._hostClassName)}listen(w,k,ae,Be){if(!this._triggers.has(k))throw function un(Ee,w){return new s.vHH(3302,!1)}();if(null==ae||0==ae.length)throw function Cn(Ee){return new s.vHH(3303,!1)}();if(!function Os(Ee){return"start"==Ee||"done"==Ee}(ae))throw function Ot(Ee,w){return new s.vHH(3400,!1)}();const et=M(this._elementListeners,w,[]),yt={name:k,phase:ae,callback:Be};et.push(yt);const Tt=M(this._engine.statesByElement,w,new Map);return Tt.has(k)||(zi(w,Rn),zi(w,Rn+"-"+k),Tt.set(k,Gs)),()=>{this._engine.afterFlush(()=>{const Nt=et.indexOf(yt);Nt>=0&&et.splice(Nt,1),this._triggers.has(k)||Tt.delete(k)})}}register(w,k){return!this._triggers.has(w)&&(this._triggers.set(w,k),!0)}_getTrigger(w){const k=this._triggers.get(w);if(!k)throw function en(Ee){return new s.vHH(3401,!1)}();return k}trigger(w,k,ae,Be=!0){const et=this._getTrigger(k),yt=new _r(this.id,k,w);let Tt=this._engine.statesByElement.get(w);Tt||(zi(w,Rn),zi(w,Rn+"-"+k),this._engine.statesByElement.set(w,Tt=new Map));let Nt=Tt.get(k);const $t=new Is(ae,this.id);if(!(ae&&ae.hasOwnProperty("value"))&&Nt&&$t.absorbOptions(Nt.options),Tt.set(k,$t),Nt||(Nt=Gs),$t.value!==ps&&Nt.value===$t.value){if(!function Ce(Ee,w){const k=Object.keys(Ee),ae=Object.keys(w);if(k.length!=ae.length)return!1;for(let Be=0;Be<k.length;Be++){const et=k[Be];if(!w.hasOwnProperty(et)||Ee[et]!==w[et])return!1}return!0}(Nt.params,$t.params)){const zn=[],ri=et.matchStyles(Nt.value,Nt.params,zn),mi=et.matchStyles($t.value,$t.params,zn);zn.length?this._engine.reportError(zn):this._engine.afterFlush(()=>{yn(w,ri),mn(w,mi)})}return}const $n=M(this._engine.playersByElement,w,[]);$n.forEach(zn=>{zn.namespaceId==this.id&&zn.triggerName==k&&zn.queued&&zn.destroy()});let Xn=et.matchTransition(Nt.value,$t.value,w,$t.params),Fn=!1;if(!Xn){if(!Be)return;Xn=et.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:w,triggerName:k,transition:Xn,fromState:Nt,toState:$t,player:yt,isFallbackTransition:Fn}),Fn||(zi(w,Dn),yt.onStart(()=>{As(w,Dn)})),yt.onDone(()=>{let zn=this.players.indexOf(yt);zn>=0&&this.players.splice(zn,1);const ri=this._engine.playersByElement.get(w);if(ri){let mi=ri.indexOf(yt);mi>=0&&ri.splice(mi,1)}}),this.players.push(yt),$n.push(yt),yt}deregister(w){this._triggers.delete(w),this._engine.statesByElement.forEach(k=>k.delete(w)),this._elementListeners.forEach((k,ae)=>{this._elementListeners.set(ae,k.filter(Be=>Be.name!=w))})}clearElementCache(w){this._engine.statesByElement.delete(w),this._elementListeners.delete(w);const k=this._engine.playersByElement.get(w);k&&(k.forEach(ae=>ae.destroy()),this._engine.playersByElement.delete(w))}_signalRemovalForInnerTriggers(w,k){const ae=this._engine.driver.query(w,pi,!0);ae.forEach(Be=>{if(Be[xo])return;const et=this._engine.fetchNamespacesByElement(Be);et.size?et.forEach(yt=>yt.triggerLeaveAnimation(Be,k,!1,!0)):this.clearElementCache(Be)}),this._engine.afterFlushAnimationsDone(()=>ae.forEach(Be=>this.clearElementCache(Be)))}triggerLeaveAnimation(w,k,ae,Be){const et=this._engine.statesByElement.get(w),yt=new Map;if(et){const Tt=[];if(et.forEach((Nt,$t)=>{if(yt.set($t,Nt.value),this._triggers.has($t)){const In=this.trigger(w,$t,ps,Be);In&&Tt.push(In)}}),Tt.length)return this._engine.markElementAsRemoved(this.id,w,!0,k,yt),ae&&qn(Tt).onDone(()=>this._engine.processLeaveNode(w)),!0}return!1}prepareLeaveAnimationListeners(w){const k=this._elementListeners.get(w),ae=this._engine.statesByElement.get(w);if(k&&ae){const Be=new Set;k.forEach(et=>{const yt=et.name;if(Be.has(yt))return;Be.add(yt);const Nt=this._triggers.get(yt).fallbackTransition,$t=ae.get(yt)||Gs,In=new Is(ps),En=new _r(this.id,yt,w);this._engine.totalQueuedPlayers++,this._queue.push({element:w,triggerName:yt,transition:Nt,fromState:$t,toState:In,player:En,isFallbackTransition:!0})})}}removeNode(w,k){const ae=this._engine;if(w.childElementCount&&this._signalRemovalForInnerTriggers(w,k),this.triggerLeaveAnimation(w,k,!0))return;let Be=!1;if(ae.totalAnimations){const et=ae.players.length?ae.playersByQueriedElement.get(w):[];if(et&&et.length)Be=!0;else{let yt=w;for(;yt=yt.parentNode;)if(ae.statesByElement.get(yt)){Be=!0;break}}}if(this.prepareLeaveAnimationListeners(w),Be)ae.markElementAsRemoved(this.id,w,!1,k);else{const et=w[xo];(!et||et===Vn)&&(ae.afterFlush(()=>this.clearElementCache(w)),ae.destroyInnerAnimations(w),ae._onRemovalComplete(w,k))}}insertNode(w,k){zi(w,this._hostClassName)}drainQueuedTransitions(w){const k=[];return this._queue.forEach(ae=>{const Be=ae.player;if(Be.destroyed)return;const et=ae.element,yt=this._elementListeners.get(et);yt&&yt.forEach(Tt=>{if(Tt.name==ae.triggerName){const Nt=It(et,ae.triggerName,ae.fromState.value,ae.toState.value);Nt._data=w,mt(ae.player,Tt.phase,Nt,Tt.callback)}}),Be.markedForDestroy?this._engine.afterFlush(()=>{Be.destroy()}):k.push(ae)}),this._queue=[],k.sort((ae,Be)=>{const et=ae.transition.ast.depCount,yt=Be.transition.ast.depCount;return 0==et||0==yt?et-yt:this._engine.driver.containsElement(ae.element,Be.element)?1:-1})}destroy(w){this.players.forEach(k=>k.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,w)}elementContainsData(w){let k=!1;return this._elementListeners.has(w)&&(k=!0),k=!!this._queue.find(ae=>ae.element===w)||k,k}}class Qs{constructor(w,k,ae){this.bodyNode=w,this.driver=k,this._normalizer=ae,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Be,et)=>{}}_onRemovalComplete(w,k){this.onRemovalComplete(w,k)}get queuedPlayers(){const w=[];return this._namespaceList.forEach(k=>{k.players.forEach(ae=>{ae.queued&&w.push(ae)})}),w}createNamespace(w,k){const ae=new Oo(w,k,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,k)?this._balanceNamespaceList(ae,k):(this.newHostElements.set(k,ae),this.collectEnterElement(k)),this._namespaceLookup[w]=ae}_balanceNamespaceList(w,k){const ae=this._namespaceList,Be=this.namespacesByHostElement;if(ae.length-1>=0){let yt=!1,Tt=this.driver.getParentElement(k);for(;Tt;){const Nt=Be.get(Tt);if(Nt){const $t=ae.indexOf(Nt);ae.splice($t+1,0,w),yt=!0;break}Tt=this.driver.getParentElement(Tt)}yt||ae.unshift(w)}else ae.push(w);return Be.set(k,w),w}register(w,k){let ae=this._namespaceLookup[w];return ae||(ae=this.createNamespace(w,k)),ae}registerTrigger(w,k,ae){let Be=this._namespaceLookup[w];Be&&Be.register(k,ae)&&this.totalAnimations++}destroy(w,k){if(!w)return;const ae=this._fetchNamespace(w);this.afterFlush(()=>{this.namespacesByHostElement.delete(ae.hostElement),delete this._namespaceLookup[w];const Be=this._namespaceList.indexOf(ae);Be>=0&&this._namespaceList.splice(Be,1)}),this.afterFlushAnimationsDone(()=>ae.destroy(k))}_fetchNamespace(w){return this._namespaceLookup[w]}fetchNamespacesByElement(w){const k=new Set,ae=this.statesByElement.get(w);if(ae)for(let Be of ae.values())if(Be.namespaceId){const et=this._fetchNamespace(Be.namespaceId);et&&k.add(et)}return k}trigger(w,k,ae,Be){if(Xo(k)){const et=this._fetchNamespace(w);if(et)return et.trigger(k,ae,Be),!0}return!1}insertNode(w,k,ae,Be){if(!Xo(k))return;const et=k[xo];if(et&&et.setForRemoval){et.setForRemoval=!1,et.setForMove=!0;const yt=this.collectedLeaveElements.indexOf(k);yt>=0&&this.collectedLeaveElements.splice(yt,1)}if(w){const yt=this._fetchNamespace(w);yt&&yt.insertNode(k,ae)}Be&&this.collectEnterElement(k)}collectEnterElement(w){this.collectedEnterElements.push(w)}markElementAsDisabled(w,k){k?this.disabledNodes.has(w)||(this.disabledNodes.add(w),zi(w,Zo)):this.disabledNodes.has(w)&&(this.disabledNodes.delete(w),As(w,Zo))}removeNode(w,k,ae,Be){if(Xo(k)){const et=w?this._fetchNamespace(w):null;if(et?et.removeNode(k,Be):this.markElementAsRemoved(w,k,!1,Be),ae){const yt=this.namespacesByHostElement.get(k);yt&&yt.id!==w&&yt.removeNode(k,Be)}}else this._onRemovalComplete(k,Be)}markElementAsRemoved(w,k,ae,Be,et){this.collectedLeaveElements.push(k),k[xo]={namespaceId:w,setForRemoval:Be,hasAnimation:ae,removedBeforeQueried:!1,previousTriggersValues:et}}listen(w,k,ae,Be,et){return Xo(k)?this._fetchNamespace(w).listen(k,ae,Be,et):()=>{}}_buildInstruction(w,k,ae,Be,et){return w.transition.build(this.driver,w.element,w.fromState.value,w.toState.value,ae,Be,w.fromState.options,w.toState.options,k,et)}destroyInnerAnimations(w){let k=this.driver.query(w,pi,!0);k.forEach(ae=>this.destroyActiveAnimationsForElement(ae)),0!=this.playersByQueriedElement.size&&(k=this.driver.query(w,Ki,!0),k.forEach(ae=>this.finishActiveQueriedAnimationOnElement(ae)))}destroyActiveAnimationsForElement(w){const k=this.playersByElement.get(w);k&&k.forEach(ae=>{ae.queued?ae.markedForDestroy=!0:ae.destroy()})}finishActiveQueriedAnimationOnElement(w){const k=this.playersByQueriedElement.get(w);k&&k.forEach(ae=>ae.finish())}whenRenderingDone(){return new Promise(w=>{if(this.players.length)return qn(this.players).onDone(()=>w());w()})}processLeaveNode(w){var k;const ae=w[xo];if(ae&&ae.setForRemoval){if(w[xo]=Vn,ae.namespaceId){this.destroyInnerAnimations(w);const Be=this._fetchNamespace(ae.namespaceId);Be&&Be.clearElementCache(w)}this._onRemovalComplete(w,ae.setForRemoval)}!(null===(k=w.classList)||void 0===k)&&k.contains(Zo)&&this.markElementAsDisabled(w,!1),this.driver.query(w,".ng-animate-disabled",!0).forEach(Be=>{this.markElementAsDisabled(Be,!1)})}flush(w=-1){let k=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ae,Be)=>this._balanceNamespaceList(ae,Be)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ae=0;ae<this.collectedEnterElements.length;ae++)zi(this.collectedEnterElements[ae],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ae=[];try{k=this._flushAnimations(ae,w)}finally{for(let Be=0;Be<ae.length;Be++)ae[Be]()}}else for(let ae=0;ae<this.collectedLeaveElements.length;ae++)this.processLeaveNode(this.collectedLeaveElements[ae]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ae=>ae()),this._flushFns=[],this._whenQuietFns.length){const ae=this._whenQuietFns;this._whenQuietFns=[],k.length?qn(k).onDone(()=>{ae.forEach(Be=>Be())}):ae.forEach(Be=>Be())}}reportError(w){throw function at(Ee){return new s.vHH(3402,!1)}()}_flushAnimations(w,k){const ae=new Us,Be=[],et=new Map,yt=[],Tt=new Map,Nt=new Map,$t=new Map,In=new Set;this.disabledNodes.forEach(Mn=>{In.add(Mn);const Nn=this.driver.query(Mn,".ng-animate-queued",!0);for(let Hn=0;Hn<Nn.length;Hn++)In.add(Nn[Hn])});const En=this.bodyNode,$n=Array.from(this.statesByElement.keys()),Xn=Rs($n,this.collectedEnterElements),Fn=new Map;let zn=0;Xn.forEach((Mn,Nn)=>{const Hn=Kt+zn++;Fn.set(Nn,Hn),Mn.forEach(Zn=>zi(Zn,Hn))});const ri=[],mi=new Set,no=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const Nn=this.collectedLeaveElements[Mn],Hn=Nn[xo];Hn&&Hn.setForRemoval&&(ri.push(Nn),mi.add(Nn),Hn.hasAnimation?this.driver.query(Nn,".ng-star-inserted",!0).forEach(Zn=>mi.add(Zn)):no.add(Nn))}const Vo=new Map,ao=Rs($n,Array.from(mi));ao.forEach((Mn,Nn)=>{const Hn=vn+zn++;Vo.set(Nn,Hn),Mn.forEach(Zn=>zi(Zn,Hn))}),w.push(()=>{Xn.forEach((Mn,Nn)=>{const Hn=Fn.get(Nn);Mn.forEach(Zn=>As(Zn,Hn))}),ao.forEach((Mn,Nn)=>{const Hn=Vo.get(Nn);Mn.forEach(Zn=>As(Zn,Hn))}),ri.forEach(Mn=>{this.processLeaveNode(Mn)})});const Ws=[],fs=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(k).forEach(Hn=>{const Zn=Hn.player,Qi=Hn.element;if(Ws.push(Zn),this.collectedEnterElements.length){const Eo=Qi[xo];if(Eo&&Eo.setForMove){if(Eo.previousTriggersValues&&Eo.previousTriggersValues.has(Hn.triggerName)){const Ks=Eo.previousTriggersValues.get(Hn.triggerName),ls=this.statesByElement.get(Hn.element);if(ls&&ls.has(Hn.triggerName)){const rr=ls.get(Hn.triggerName);rr.value=Ks,ls.set(Hn.triggerName,rr)}}return void Zn.destroy()}}const Lo=!En||!this.driver.containsElement(En,Qi),No=Vo.get(Qi),as=Fn.get(Qi),Hi=this._buildInstruction(Hn,ae,as,No,Lo);if(Hi.errors&&Hi.errors.length)return void fs.push(Hi);if(Lo)return Zn.onStart(()=>yn(Qi,Hi.fromStyles)),Zn.onDestroy(()=>mn(Qi,Hi.toStyles)),void Be.push(Zn);if(Hn.isFallbackTransition)return Zn.onStart(()=>yn(Qi,Hi.fromStyles)),Zn.onDestroy(()=>mn(Qi,Hi.toStyles)),void Be.push(Zn);const vr=[];Hi.timelines.forEach(Eo=>{Eo.stretchStartingKeyframe=!0,this.disabledNodes.has(Eo.element)||vr.push(Eo)}),Hi.timelines=vr,ae.append(Qi,Hi.timelines),yt.push({instruction:Hi,player:Zn,element:Qi}),Hi.queriedElements.forEach(Eo=>M(Tt,Eo,[]).push(Zn)),Hi.preStyleProps.forEach((Eo,Ks)=>{if(Eo.size){let ls=Nt.get(Ks);ls||Nt.set(Ks,ls=new Set),Eo.forEach((rr,br)=>ls.add(br))}}),Hi.postStyleProps.forEach((Eo,Ks)=>{let ls=$t.get(Ks);ls||$t.set(Ks,ls=new Set),Eo.forEach((rr,br)=>ls.add(br))})});if(fs.length){const Mn=[];fs.forEach(Nn=>{Mn.push(function Bt(Ee,w){return new s.vHH(3505,!1)}())}),Ws.forEach(Nn=>Nn.destroy()),this.reportError(Mn)}const Gi=new Map,Uo=new Map;yt.forEach(Mn=>{const Nn=Mn.element;ae.has(Nn)&&(Uo.set(Nn,Nn),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,Gi))}),Be.forEach(Mn=>{const Nn=Mn.element;this._getPreviousPlayers(Nn,!1,Mn.namespaceId,Mn.triggerName,null).forEach(Zn=>{M(Gi,Nn,[]).push(Zn),Zn.destroy()})});const xs=ri.filter(Mn=>te(Mn,Nt,$t)),ts=new Map;Ps(ts,this.driver,no,$t,Oe.l3).forEach(Mn=>{te(Mn,Nt,$t)&&xs.push(Mn)});const ms=new Map;Xn.forEach((Mn,Nn)=>{Ps(ms,this.driver,new Set(Mn),Nt,Oe.k1)}),xs.forEach(Mn=>{var Nn,Hn;const Zn=ts.get(Mn),Qi=ms.get(Mn);ts.set(Mn,new Map([...Array.from(null!==(Nn=null==Zn?void 0:Zn.entries())&&void 0!==Nn?Nn:[]),...Array.from(null!==(Hn=null==Qi?void 0:Qi.entries())&&void 0!==Hn?Hn:[])]))});const Ys=[],Cr=[],ia={};yt.forEach(Mn=>{const{element:Nn,player:Hn,instruction:Zn}=Mn;if(ae.has(Nn)){if(In.has(Nn))return Hn.onDestroy(()=>mn(Nn,Zn.toStyles)),Hn.disabled=!0,Hn.overrideTotalTime(Zn.totalTime),void Be.push(Hn);let Qi=ia;if(Uo.size>1){let No=Nn;const as=[];for(;No=No.parentNode;){const Hi=Uo.get(No);if(Hi){Qi=Hi;break}as.push(No)}as.forEach(Hi=>Uo.set(Hi,Qi))}const Lo=this._buildAnimation(Hn.namespaceId,Zn,Gi,et,ms,ts);if(Hn.setRealPlayer(Lo),Qi===ia)Ys.push(Hn);else{const No=this.playersByElement.get(Qi);No&&No.length&&(Hn.parentPlayer=qn(No)),Be.push(Hn)}}else yn(Nn,Zn.fromStyles),Hn.onDestroy(()=>mn(Nn,Zn.toStyles)),Cr.push(Hn),In.has(Nn)&&Be.push(Hn)}),Cr.forEach(Mn=>{const Nn=et.get(Mn.element);if(Nn&&Nn.length){const Hn=qn(Nn);Mn.setRealPlayer(Hn)}}),Be.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<ri.length;Mn++){const Nn=ri[Mn],Hn=Nn[xo];if(As(Nn,vn),Hn&&Hn.hasAnimation)continue;let Zn=[];if(Tt.size){let Lo=Tt.get(Nn);Lo&&Lo.length&&Zn.push(...Lo);let No=this.driver.query(Nn,Ki,!0);for(let as=0;as<No.length;as++){let Hi=Tt.get(No[as]);Hi&&Hi.length&&Zn.push(...Hi)}}const Qi=Zn.filter(Lo=>!Lo.destroyed);Qi.length?Vr(this,Nn,Qi):this.processLeaveNode(Nn)}return ri.length=0,Ys.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const Nn=this.players.indexOf(Mn);this.players.splice(Nn,1)}),Mn.play()}),Ys}elementContainsData(w,k){let ae=!1;const Be=k[xo];return Be&&Be.setForRemoval&&(ae=!0),this.playersByElement.has(k)&&(ae=!0),this.playersByQueriedElement.has(k)&&(ae=!0),this.statesByElement.has(k)&&(ae=!0),this._fetchNamespace(w).elementContainsData(k)||ae}afterFlush(w){this._flushFns.push(w)}afterFlushAnimationsDone(w){this._whenQuietFns.push(w)}_getPreviousPlayers(w,k,ae,Be,et){let yt=[];if(k){const Tt=this.playersByQueriedElement.get(w);Tt&&(yt=Tt)}else{const Tt=this.playersByElement.get(w);if(Tt){const Nt=!et||et==ps;Tt.forEach($t=>{$t.queued||!Nt&&$t.triggerName!=Be||yt.push($t)})}}return(ae||Be)&&(yt=yt.filter(Tt=>!(ae&&ae!=Tt.namespaceId||Be&&Be!=Tt.triggerName))),yt}_beforeAnimationBuild(w,k,ae){const et=k.element,yt=k.isRemovalTransition?void 0:w,Tt=k.isRemovalTransition?void 0:k.triggerName;for(const Nt of k.timelines){const $t=Nt.element,In=$t!==et,En=M(ae,$t,[]);this._getPreviousPlayers($t,In,yt,Tt,k.toState).forEach(Xn=>{const Fn=Xn.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),Xn.destroy(),En.push(Xn)})}yn(et,k.fromStyles)}_buildAnimation(w,k,ae,Be,et,yt){const Tt=k.triggerName,Nt=k.element,$t=[],In=new Set,En=new Set,$n=k.timelines.map(Fn=>{const zn=Fn.element;In.add(zn);const ri=zn[xo];if(ri&&ri.removedBeforeQueried)return new Oe.ZN(Fn.duration,Fn.delay);const mi=zn!==Nt,no=function Ur(Ee){const w=[];return ir(Ee,w),w}((ae.get(zn)||ds).map(Gi=>Gi.getRealPlayer())).filter(Gi=>!!Gi.element&&Gi.element===zn),Vo=et.get(zn),ao=yt.get(zn),Ws=Ht(0,this._normalizer,0,Fn.keyframes,Vo,ao),fs=this._buildPlayer(Fn,Ws,no);if(Fn.subTimeline&&Be&&En.add(zn),mi){const Gi=new _r(w,Tt,zn);Gi.setRealPlayer(fs),$t.push(Gi)}return fs});$t.forEach(Fn=>{M(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function on(Ee,w,k){let ae=Ee.get(w);if(ae){if(ae.length){const Be=ae.indexOf(k);ae.splice(Be,1)}0==ae.length&&Ee.delete(w)}return ae}(this.playersByQueriedElement,Fn.element,Fn))}),In.forEach(Fn=>zi(Fn,Ai));const Xn=qn($n);return Xn.onDestroy(()=>{In.forEach(Fn=>As(Fn,Ai)),mn(Nt,k.toStyles)}),En.forEach(Fn=>{M(Be,Fn,[]).push(Xn)}),Xn}_buildPlayer(w,k,ae){return k.length>0?this.driver.animate(w.element,k,w.duration,w.delay,w.easing,ae):new Oe.ZN(w.duration,w.delay)}}class _r{constructor(w,k,ae){this.namespaceId=w,this.triggerName=k,this.element=ae,this._player=new Oe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(w){this._containsRealPlayer||(this._player=w,this._queuedCallbacks.forEach((k,ae)=>{k.forEach(Be=>mt(w,ae,void 0,Be))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(w.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(w){this.totalTime=w}syncPlayerEvents(w){const k=this._player;k.triggerCallback&&w.onStart(()=>k.triggerCallback("start")),w.onDone(()=>this.finish()),w.onDestroy(()=>this.destroy())}_queueEvent(w,k){M(this._queuedCallbacks,w,[]).push(k)}onDone(w){this.queued&&this._queueEvent("done",w),this._player.onDone(w)}onStart(w){this.queued&&this._queueEvent("start",w),this._player.onStart(w)}onDestroy(w){this.queued&&this._queueEvent("destroy",w),this._player.onDestroy(w)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(w){this.queued||this._player.setPosition(w)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(w){const k=this._player;k.triggerCallback&&k.triggerCallback(w)}}function Xo(Ee){return Ee&&1===Ee.nodeType}function Bi(Ee,w){const k=Ee.style.display;return Ee.style.display=null!=w?w:"none",k}function Ps(Ee,w,k,ae,Be){const et=[];k.forEach(Nt=>et.push(Bi(Nt)));const yt=[];ae.forEach((Nt,$t)=>{const In=new Map;Nt.forEach(En=>{const $n=w.computeStyle($t,En,Be);In.set(En,$n),(!$n||0==$n.length)&&($t[xo]=mr,yt.push($t))}),Ee.set($t,In)});let Tt=0;return k.forEach(Nt=>Bi(Nt,et[Tt++])),yt}function Rs(Ee,w){const k=new Map;if(Ee.forEach(Tt=>k.set(Tt,[])),0==w.length)return k;const Be=new Set(w),et=new Map;function yt(Tt){if(!Tt)return 1;let Nt=et.get(Tt);if(Nt)return Nt;const $t=Tt.parentNode;return Nt=k.has($t)?$t:Be.has($t)?1:yt($t),et.set(Tt,Nt),Nt}return w.forEach(Tt=>{const Nt=yt(Tt);1!==Nt&&k.get(Nt).push(Tt)}),k}function zi(Ee,w){var k;null===(k=Ee.classList)||void 0===k||k.add(w)}function As(Ee,w){var k;null===(k=Ee.classList)||void 0===k||k.remove(w)}function Vr(Ee,w,k){qn(k).onDone(()=>Ee.processLeaveNode(w))}function ir(Ee,w){for(let k=0;k<Ee.length;k++){const ae=Ee[k];ae instanceof Oe.ZE?ir(ae.players,w):w.push(ae)}}function te(Ee,w,k){const ae=k.get(Ee);if(!ae)return!1;let Be=w.get(Ee);return Be?ae.forEach(et=>Be.add(et)):w.set(Ee,ae),k.delete(Ee),!0}class W{constructor(w,k,ae){this.bodyNode=w,this._driver=k,this._normalizer=ae,this._triggerCache={},this.onRemovalComplete=(Be,et)=>{},this._transitionEngine=new Qs(w,k,ae),this._timelineEngine=new yi(w,k,ae),this._transitionEngine.onRemovalComplete=(Be,et)=>this.onRemovalComplete(Be,et)}registerTrigger(w,k,ae,Be,et){const yt=w+"-"+Be;let Tt=this._triggerCache[yt];if(!Tt){const Nt=[],In=Sn(this._driver,et,Nt,[]);if(Nt.length)throw function Fe(Ee,w){return new s.vHH(3404,!1)}();Tt=function Yt(Ee,w,k){return new gn(Ee,w,k)}(Be,In,this._normalizer),this._triggerCache[yt]=Tt}this._transitionEngine.registerTrigger(k,Be,Tt)}register(w,k){this._transitionEngine.register(w,k)}destroy(w,k){this._transitionEngine.destroy(w,k)}onInsert(w,k,ae,Be){this._transitionEngine.insertNode(w,k,ae,Be)}onRemove(w,k,ae,Be){this._transitionEngine.removeNode(w,k,Be||!1,ae)}disableAnimations(w,k){this._transitionEngine.markElementAsDisabled(w,k)}process(w,k,ae,Be){if("@"==ae.charAt(0)){const[et,yt]=_e(ae);this._timelineEngine.command(et,k,yt,Be)}else this._transitionEngine.trigger(w,k,ae,Be)}listen(w,k,ae,Be,et){if("@"==ae.charAt(0)){const[yt,Tt]=_e(ae);return this._timelineEngine.listen(yt,k,Tt,et)}return this._transitionEngine.listen(w,k,ae,Be,et)}flush(w=-1){this._transitionEngine.flush(w)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Jt=(()=>{class Ee{constructor(k,ae,Be){this._element=k,this._startStyles=ae,this._endStyles=Be,this._state=0;let et=Ee.initialStylesByElement.get(k);et||Ee.initialStylesByElement.set(k,et=new Map),this._initialStyles=et}start(){this._state<1&&(this._startStyles&&mn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mn(this._element,this._initialStyles),this._endStyles&&(mn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ee.initialStylesByElement.delete(this._element),this._startStyles&&(yn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yn(this._element,this._endStyles),this._endStyles=null),mn(this._element,this._initialStyles),this._state=3)}}return Ee.initialStylesByElement=new WeakMap,Ee})();function Tn(Ee){let w=null;return Ee.forEach((k,ae)=>{(function Ci(Ee){return"display"===Ee||"position"===Ee})(ae)&&(w=w||new Map,w.set(ae,k))}),w}class Po{constructor(w,k,ae,Be){this.element=w,this.keyframes=k,this.options=ae,this._specialStyles=Be,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=ae.duration,this._delay=ae.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const w=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,w,this.options),this._finalKeyframe=w.length?w[w.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(w){const k=[];return w.forEach(ae=>{k.push(Object.fromEntries(ae))}),k}_triggerWebAnimation(w,k,ae){return w.animate(this._convertKeyframesToObject(k),ae)}onStart(w){this._originalOnStartFns.push(w),this._onStartFns.push(w)}onDone(w){this._originalOnDoneFns.push(w),this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(w=>w()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}setPosition(w){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=w*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const w=new Map;this.hasStarted()&&this._finalKeyframe.forEach((ae,Be)=>{"offset"!==Be&&w.set(Be,this._finished?ae:oo(this.element,Be))}),this.currentSnapshot=w}triggerCallback(w){const k="start"===w?this._onStartFns:this._onDoneFns;k.forEach(ae=>ae()),k.length=0}}class hs{validateStyleProperty(w){return!0}validateAnimatableStyleProperty(w){return!0}matchesElement(w,k){return!1}containsElement(w,k){return sn(w,k)}getParentElement(w){return Qt(w)}query(w,k,ae){return ni(w,k,ae)}computeStyle(w,k,ae){return window.getComputedStyle(w)[k]}animate(w,k,ae,Be,et,yt=[]){const Nt={duration:ae,delay:Be,fill:0==Be?"both":"forwards"};et&&(Nt.easing=et);const $t=new Map,In=yt.filter(Xn=>Xn instanceof Po);(function di(Ee,w){return 0===Ee||0===w})(ae,Be)&&In.forEach(Xn=>{Xn.currentSnapshot.forEach((Fn,zn)=>$t.set(zn,Fn))});let En=function Dt(Ee){return Ee.length?Ee[0]instanceof Map?Ee:Ee.map(w=>Ct(w)):[]}(k).map(Xn=>Vt(Xn));En=function to(Ee,w,k){if(k.size&&w.length){let ae=w[0],Be=[];if(k.forEach((et,yt)=>{ae.has(yt)||Be.push(yt),ae.set(yt,et)}),Be.length)for(let et=1;et<w.length;et++){let yt=w[et];Be.forEach(Tt=>yt.set(Tt,oo(Ee,Tt)))}}return w}(w,En,$t);const $n=function Je(Ee,w){let k=null,ae=null;return Array.isArray(w)&&w.length?(k=Tn(w[0]),w.length>1&&(ae=Tn(w[w.length-1]))):w instanceof Map&&(k=Tn(w)),k||ae?new Jt(Ee,k,ae):null}(w,En);return new Po(w,En,Nt,$n)}}let Ls=(()=>{class Ee extends Oe._j{constructor(k,ae){super(),this._nextAnimationId=0,this._renderer=k.createRenderer(ae.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(k){const ae=this._nextAnimationId.toString();this._nextAnimationId++;const Be=Array.isArray(k)?(0,Oe.vP)(k):k;return Js(this._renderer,null,ae,"register",[Be]),new Ts(ae,this._renderer)}}return Ee.\u0275fac=function(k){return new(k||Ee)(s.LFG(s.FYo),s.LFG(I.K0))},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Ts extends Oe.LC{constructor(w,k){super(),this._id=w,this._renderer=k}create(w,k){return new Ns(this._id,w,k||{},this._renderer)}}class Ns{constructor(w,k,ae,Be){this.id=w,this.element=k,this._renderer=Be,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ae)}_listen(w,k){return this._renderer.listen(this.element,`@@${this.id}:${w}`,k)}_command(w,...k){return Js(this._renderer,this.element,this.id,w,k)}onDone(w){this._listen("done",w)}onStart(w){this._listen("start",w)}onDestroy(w){this._listen("destroy",w)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(w){this._command("setPosition",w)}getPosition(){var w,k;return null!==(k=null===(w=this._renderer.engine.players[+this.id])||void 0===w?void 0:w.getPosition())&&void 0!==k?k:0}}function Js(Ee,w,k,ae,Be){return Ee.setProperty(w,`@@${k}:${ae}`,Be)}const or="@.disabled";let wr=(()=>{class Ee{constructor(k,ae,Be){this.delegate=k,this.engine=ae,this._zone=Be,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),ae.onRemovalComplete=(et,yt)=>{const Tt=null==yt?void 0:yt.parentNode(et);Tt&&yt.removeChild(Tt,et)}}createRenderer(k,ae){const et=this.delegate.createRenderer(k,ae);if(!(k&&ae&&ae.data&&ae.data.animation)){let In=this._rendererCache.get(et);return In||(In=new Fs("",et,this.engine,()=>this._rendererCache.delete(et)),this._rendererCache.set(et,In)),In}const yt=ae.id,Tt=ae.id+"-"+this._currentId;this._currentId++,this.engine.register(Tt,k);const Nt=In=>{Array.isArray(In)?In.forEach(Nt):this.engine.registerTrigger(yt,Tt,k,In.name,In)};return ae.data.animation.forEach(Nt),new zr(this,Tt,et,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(k,ae,Be){k>=0&&k<this._microtaskId?this._zone.run(()=>ae(Be)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(et=>{const[yt,Tt]=et;yt(Tt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ae,Be]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Ee.\u0275fac=function(k){return new(k||Ee)(s.LFG(s.FYo),s.LFG(W),s.LFG(s.R0b))},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Fs{constructor(w,k,ae,Be){this.namespaceId=w,this.delegate=k,this.engine=ae,this._onDestroy=Be,this.destroyNode=this.delegate.destroyNode?et=>k.destroyNode(et):null}get data(){return this.delegate.data}destroy(){var w;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(w=this._onDestroy)||void 0===w||w.call(this)}createElement(w,k){return this.delegate.createElement(w,k)}createComment(w){return this.delegate.createComment(w)}createText(w){return this.delegate.createText(w)}appendChild(w,k){this.delegate.appendChild(w,k),this.engine.onInsert(this.namespaceId,k,w,!1)}insertBefore(w,k,ae,Be=!0){this.delegate.insertBefore(w,k,ae),this.engine.onInsert(this.namespaceId,k,w,Be)}removeChild(w,k,ae){this.engine.onRemove(this.namespaceId,k,this.delegate,ae)}selectRootElement(w,k){return this.delegate.selectRootElement(w,k)}parentNode(w){return this.delegate.parentNode(w)}nextSibling(w){return this.delegate.nextSibling(w)}setAttribute(w,k,ae,Be){this.delegate.setAttribute(w,k,ae,Be)}removeAttribute(w,k,ae){this.delegate.removeAttribute(w,k,ae)}addClass(w,k){this.delegate.addClass(w,k)}removeClass(w,k){this.delegate.removeClass(w,k)}setStyle(w,k,ae,Be){this.delegate.setStyle(w,k,ae,Be)}removeStyle(w,k,ae){this.delegate.removeStyle(w,k,ae)}setProperty(w,k,ae){"@"==k.charAt(0)&&k==or?this.disableAnimations(w,!!ae):this.delegate.setProperty(w,k,ae)}setValue(w,k){this.delegate.setValue(w,k)}listen(w,k,ae){return this.delegate.listen(w,k,ae)}disableAnimations(w,k){this.engine.disableAnimations(w,k)}}class zr extends Fs{constructor(w,k,ae,Be,et){super(k,ae,Be,et),this.factory=w,this.namespaceId=k}setProperty(w,k,ae){"@"==k.charAt(0)?"."==k.charAt(1)&&k==or?this.disableAnimations(w,ae=void 0===ae||!!ae):this.engine.process(this.namespaceId,w,k.slice(1),ae):this.delegate.setProperty(w,k,ae)}listen(w,k,ae){if("@"==k.charAt(0)){const Be=function ea(Ee){switch(Ee){case"body":return document.body;case"document":return document;case"window":return window;default:return Ee}}(w);let et=k.slice(1),yt="";return"@"!=et.charAt(0)&&([et,yt]=function ta(Ee){const w=Ee.indexOf(".");return[Ee.substring(0,w),Ee.slice(w+1)]}(et)),this.engine.listen(this.namespaceId,Be,et,yt,Tt=>{this.factory.scheduleListenerCallback(Tt._data||-1,ae,Tt)})}return this.delegate.listen(w,k,ae)}}const X=[{provide:Oe._j,useClass:Ls},{provide:us,useFactory:function Y(){return new mo}},{provide:W,useClass:(()=>{class Ee extends W{constructor(k,ae,Be,et){super(k.body,ae,Be)}ngOnDestroy(){this.flush()}}return Ee.\u0275fac=function(k){return new(k||Ee)(s.LFG(I.K0),s.LFG(an),s.LFG(us),s.LFG(s.z2F))},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})()},{provide:s.FYo,useFactory:function Se(Ee,w,k){return new wr(Ee,w,k)},deps:[e.se,W,s.R0b]}],Ge=[{provide:an,useFactory:()=>new hs},{provide:s.QbO,useValue:"BrowserAnimations"},...X],ht=[{provide:an,useClass:kt},{provide:s.QbO,useValue:"NoopAnimations"},...X];let Zt=(()=>{class Ee{static withConfig(k){return{ngModule:Ee,providers:k.disableAnimations?ht:Ge}}}return Ee.\u0275fac=function(k){return new(k||Ee)},Ee.\u0275mod=s.oAB({type:Ee}),Ee.\u0275inj=s.cJS({providers:Ge,imports:[e.b2]}),Ee})();var gi=C(262),vi=C(9646),li=C(4004),$i=C(8738);let fi=(()=>{class Ee{constructor(k,ae){this.api=k,this.router=ae}canActivate(k,ae){return this.api.authCheckout().pipe((0,gi.K)((Be,et)=>(0,vi.of)(this.router.createUrlTree(["/login"]))),(0,li.U)(Be=>!(Be instanceof F.lo)||Be))}canActivateChild(k,ae){return this.api.authCheckout().pipe((0,gi.K)((Be,et)=>(0,vi.of)(this.router.createUrlTree(["/login"]))),(0,li.U)(Be=>!(Be instanceof F.lo)||Be))}}return Ee.\u0275fac=function(k){return new(k||Ee)(s.LFG($i.s),s.LFG(F.F0))},Ee.\u0275prov=s.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();const Yi=[{path:"",loadChildren:()=>Promise.resolve().then(C.bind(C,6870)).then(Ee=>Ee.MainModule),canActivate:[fi],canActivateChild:[fi]},{path:"login",loadChildren:()=>Promise.resolve().then(C.bind(C,975)).then(Ee=>Ee.LoginModule)}];let rs=(()=>{class Ee{}return Ee.\u0275fac=function(k){return new(k||Ee)},Ee.\u0275mod=s.oAB({type:Ee}),Ee.\u0275inj=s.cJS({imports:[F.Bz.forRoot(Yi,{}),F.Bz]}),Ee})();var Ro=C(520),gs=C(2382),ws=C(1663);(0,I.qS)(pe,"ru");let es=(()=>{class Ee{}return Ee.\u0275fac=function(k){return new(k||Ee)},Ee.\u0275mod=s.oAB({type:Ee,bootstrap:[De]}),Ee.\u0275inj=s.cJS({imports:[rs,Zt,e.b2,Q.MainModule,ke.LoginModule,F.Bz,gs.u5,Ro.JF,L.EV,ws.U,Zt,gs.u5,Ro.JF]}),Ee})();C(2340).N.production&&(0,s.G48)(),e.q6().bootstrapModule(es).catch(Ee=>console.error(Ee))},1135:(Lt,qe,C)=>{C.d(qe,{X:()=>s});var e=C(7579);class s extends e.x{constructor(V){super(),this._value=V}get value(){return this.getValue()}_subscribe(V){const F=super._subscribe(V);return!F.closed&&V.next(this._value),F}getValue(){const{hasError:V,thrownError:F,_value:I}=this;if(V)throw F;return this._throwIfClosed(),I}next(V){super.next(this._value=V)}}},9751:(Lt,qe,C)=>{C.d(qe,{y:()=>se});var e=C(930),s=C(727),f=C(8822),V=C(9635),F=C(2416),I=C(576),L=C(2806);let se=(()=>{class ne{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const ge=new ne;return ge.source=this,ge.operator=ue,ge}subscribe(ue,ge,pe){const ke=function he(ne){return ne&&ne instanceof e.Lv||function z(ne){return ne&&(0,I.m)(ne.next)&&(0,I.m)(ne.error)&&(0,I.m)(ne.complete)}(ne)&&(0,s.Nn)(ne)}(ue)?ue:new e.Hp(ue,ge,pe);return(0,L.x)(()=>{const{operator:Q,source:Oe}=this;ke.add(Q?Q.call(ke,Oe):Oe?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(ue){try{return this._subscribe(ue)}catch(ge){ue.error(ge)}}forEach(ue,ge){return new(ge=q(ge))((pe,ke)=>{let Q;Q=this.subscribe(Oe=>{try{ue(Oe)}catch(le){ke(le),null==Q||Q.unsubscribe()}},ke,pe)})}_subscribe(ue){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(ue)}[f.L](){return this}pipe(...ue){return(0,V.U)(ue)(this)}toPromise(ue){return new(ue=q(ue))((ge,pe)=>{let ke;this.subscribe(Q=>ke=Q,Q=>pe(Q),()=>ge(ke))})}}return ne.create=De=>new ne(De),ne})();function q(ne){var De;return null!==(De=null!=ne?ne:F.v.Promise)&&void 0!==De?De:Promise}},4707:(Lt,qe,C)=>{C.d(qe,{t:()=>f});var e=C(7579),s=C(6063);class f extends e.x{constructor(F=1/0,I=1/0,L=s.l){super(),this._bufferSize=F,this._windowTime=I,this._timestampProvider=L,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=I===1/0,this._bufferSize=Math.max(1,F),this._windowTime=Math.max(1,I)}next(F){const{isStopped:I,_buffer:L,_infiniteTimeWindow:se,_timestampProvider:q,_windowTime:z}=this;I||(L.push(F),!se&&L.push(q.now()+z)),this._trimBuffer(),super.next(F)}_subscribe(F){this._throwIfClosed(),this._trimBuffer();const I=this._innerSubscribe(F),{_infiniteTimeWindow:L,_buffer:se}=this,q=se.slice();for(let z=0;z<q.length&&!F.closed;z+=L?1:2)F.next(q[z]);return this._checkFinalizedStatuses(F),I}_trimBuffer(){const{_bufferSize:F,_timestampProvider:I,_buffer:L,_infiniteTimeWindow:se}=this,q=(se?1:2)*F;if(F<1/0&&q<L.length&&L.splice(0,L.length-q),!se){const z=I.now();let he=0;for(let ne=1;ne<L.length&&L[ne]<=z;ne+=2)he=ne;he&&L.splice(0,he+1)}}}},7579:(Lt,qe,C)=>{C.d(qe,{x:()=>L});var e=C(9751),s=C(727);const V=(0,C(3888).d)(q=>function(){q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var F=C(8737),I=C(2806);let L=(()=>{class q extends e.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const ne=new se(this,this);return ne.operator=he,ne}_throwIfClosed(){if(this.closed)throw new V}next(he){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ne=this.observers.slice();for(const De of ne)De.next(he)}})}error(he){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:ne}=this;for(;ne.length;)ne.shift().error(he)}})}complete(){(0,I.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:ne,isStopped:De,observers:ue}=this;return ne||De?s.Lc:(ue.push(he),new s.w0(()=>(0,F.P)(ue,he)))}_checkFinalizedStatuses(he){const{hasError:ne,thrownError:De,isStopped:ue}=this;ne?he.error(De):ue&&he.complete()}asObservable(){const he=new e.y;return he.source=this,he}}return q.create=(z,he)=>new se(z,he),q})();class se extends L{constructor(z,he){super(),this.destination=z,this.source=he}next(z){var he,ne;null===(ne=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===ne||ne.call(he,z)}error(z){var he,ne;null===(ne=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===ne||ne.call(he,z)}complete(){var z,he;null===(he=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===he||he.call(z)}_subscribe(z){var he,ne;return null!==(ne=null===(he=this.source)||void 0===he?void 0:he.subscribe(z))&&void 0!==ne?ne:s.Lc}}},930:(Lt,qe,C)=>{C.d(qe,{Hp:()=>De,Lv:()=>ne});var e=C(576),s=C(727),f=C(2416),V=C(7849),F=C(5032);const I=q("C",void 0,void 0);function q(Q,Oe,le){return{kind:Q,value:Oe,error:le}}var z=C(3410),he=C(2806);class ne extends s.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,s.Nn)(Oe)&&Oe.add(this)):this.destination=ke}static create(Oe,le,P){return new De(Oe,le,P)}next(Oe){this.isStopped?pe(function se(Q){return q("N",Q,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?pe(function L(Q){return q("E",void 0,Q)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?pe(I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class De extends ne{constructor(Oe,le,P){let N;if(super(),(0,e.m)(Oe))N=Oe;else if(Oe){let we;({next:N,error:le,complete:P}=Oe),this&&f.v.useDeprecatedNextContext?(we=Object.create(Oe),we.unsubscribe=()=>this.unsubscribe()):we=Oe,N=null==N?void 0:N.bind(we),le=null==le?void 0:le.bind(we),P=null==P?void 0:P.bind(we)}this.destination={next:N?ue(N):F.Z,error:ue(null!=le?le:ge),complete:P?ue(P):F.Z}}}function ue(Q,Oe){return(...le)=>{try{Q(...le)}catch(P){f.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(P):(0,V.h)(P)}}}function ge(Q){throw Q}function pe(Q,Oe){const{onStoppedNotification:le}=f.v;le&&z.z.setTimeout(()=>le(Q,Oe))}const ke={closed:!0,next:F.Z,error:ge,complete:F.Z}},727:(Lt,qe,C)=>{C.d(qe,{Lc:()=>I,w0:()=>F,Nn:()=>L});var e=C(576);const f=(0,C(3888).d)(q=>function(he){q(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((ne,De)=>`${De+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var V=C(8737);class F{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const ue of he)ue.remove(this);else he.remove(this);const{initialTeardown:ne}=this;if((0,e.m)(ne))try{ne()}catch(ue){z=ue instanceof f?ue.errors:[ue]}const{_teardowns:De}=this;if(De){this._teardowns=null;for(const ue of De)try{se(ue)}catch(ge){z=null!=z?z:[],ge instanceof f?z=[...z,...ge.errors]:z.push(ge)}}if(z)throw new f(z)}}add(z){var he;if(z&&z!==this)if(this.closed)se(z);else{if(z instanceof F){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._teardowns=null!==(he=this._teardowns)&&void 0!==he?he:[]).push(z)}}_hasParent(z){const{_parentage:he}=this;return he===z||Array.isArray(he)&&he.includes(z)}_addParent(z){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(z),he):he?[he,z]:z}_removeParent(z){const{_parentage:he}=this;he===z?this._parentage=null:Array.isArray(he)&&(0,V.P)(he,z)}remove(z){const{_teardowns:he}=this;he&&(0,V.P)(he,z),z instanceof F&&z._removeParent(this)}}F.EMPTY=(()=>{const q=new F;return q.closed=!0,q})();const I=F.EMPTY;function L(q){return q instanceof F||q&&"closed"in q&&(0,e.m)(q.remove)&&(0,e.m)(q.add)&&(0,e.m)(q.unsubscribe)}function se(q){(0,e.m)(q)?q():q.unsubscribe()}},2416:(Lt,qe,C)=>{C.d(qe,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(Lt,qe,C)=>{C.d(qe,{z:()=>f});var e=C(6805),s=C(930);function f(V,F){const I="object"==typeof F;return new Promise((L,se)=>{const q=new s.Hp({next:z=>{L(z),q.unsubscribe()},error:se,complete:()=>{I?L(F.defaultValue):se(new e.K)}});V.subscribe(q)})}},9841:(Lt,qe,C)=>{C.d(qe,{a:()=>z});var e=C(9751),s=C(4742),f=C(2076),V=C(4671),F=C(3268),I=C(3269),L=C(1810),se=C(5403),q=C(9672);function z(...De){const ue=(0,I.yG)(De),ge=(0,I.jO)(De),{args:pe,keys:ke}=(0,s.D)(De);if(0===pe.length)return(0,f.D)([],ue);const Q=new e.y(function he(De,ue,ge=V.y){return pe=>{ne(ue,()=>{const{length:ke}=De,Q=new Array(ke);let Oe=ke,le=ke;for(let P=0;P<ke;P++)ne(ue,()=>{const N=(0,f.D)(De[P],ue);let we=!1;N.subscribe(new se.Q(pe,be=>{Q[P]=be,we||(we=!0,le--),le||pe.next(ge(Q.slice()))},()=>{--Oe||pe.complete()}))},pe)},pe)}}(pe,ue,ke?Oe=>(0,L.n)(ke,Oe):V.y));return ge?Q.pipe((0,F.Z)(ge)):Q}function ne(De,ue,ge){De?(0,q.f)(ge,De,ue):ue()}},7272:(Lt,qe,C)=>{C.d(qe,{z:()=>F});var e=C(8189),f=C(3269),V=C(2076);function F(...I){return function s(){return(0,e.J)(1)}()((0,V.D)(I,(0,f.yG)(I)))}},9770:(Lt,qe,C)=>{C.d(qe,{P:()=>f});var e=C(9751),s=C(8421);function f(V){return new e.y(F=>{(0,s.Xf)(V()).subscribe(F)})}},515:(Lt,qe,C)=>{C.d(qe,{E:()=>s});const s=new(C(9751).y)(F=>F.complete())},2076:(Lt,qe,C)=>{C.d(qe,{D:()=>be});var e=C(8421),s=C(9672),f=C(4482),V=C(5403);function F(ye,G=0){return(0,f.e)((E,U)=>{E.subscribe(new V.Q(U,$=>(0,s.f)(U,ye,()=>U.next($),G),()=>(0,s.f)(U,ye,()=>U.complete(),G),$=>(0,s.f)(U,ye,()=>U.error($),G)))})}function I(ye,G=0){return(0,f.e)((E,U)=>{U.add(ye.schedule(()=>E.subscribe(U),G))})}var q=C(9751),he=C(2202),ne=C(576);function ue(ye,G){if(!ye)throw new Error("Iterable cannot be null");return new q.y(E=>{(0,s.f)(E,G,()=>{const U=ye[Symbol.asyncIterator]();(0,s.f)(E,G,()=>{U.next().then($=>{$.done?E.complete():E.next($.value)})},0,!0)})})}var ge=C(3670),pe=C(8239),ke=C(1144),Q=C(6495),Oe=C(2206),le=C(4532),P=C(3260);function be(ye,G){return G?function we(ye,G){if(null!=ye){if((0,ge.c)(ye))return function L(ye,G){return(0,e.Xf)(ye).pipe(I(G),F(G))}(ye,G);if((0,ke.z)(ye))return function z(ye,G){return new q.y(E=>{let U=0;return G.schedule(function(){U===ye.length?E.complete():(E.next(ye[U++]),E.closed||this.schedule())})})}(ye,G);if((0,pe.t)(ye))return function se(ye,G){return(0,e.Xf)(ye).pipe(I(G),F(G))}(ye,G);if((0,Oe.D)(ye))return ue(ye,G);if((0,Q.T)(ye))return function De(ye,G){return new q.y(E=>{let U;return(0,s.f)(E,G,()=>{U=ye[he.h](),(0,s.f)(E,G,()=>{let $,Ae;try{({value:$,done:Ae}=U.next())}catch(Ne){return void E.error(Ne)}Ae?E.complete():E.next($)},0,!0)}),()=>(0,ne.m)(null==U?void 0:U.return)&&U.return()})}(ye,G);if((0,P.L)(ye))return function N(ye,G){return ue((0,P.Q)(ye),G)}(ye,G)}throw(0,le.z)(ye)}(ye,G):(0,e.Xf)(ye)}},4968:(Lt,qe,C)=>{C.d(qe,{R:()=>z});var e=C(8421),s=C(9751),f=C(5577),V=C(1144),F=C(576),I=C(3268);const L=["addListener","removeListener"],se=["addEventListener","removeEventListener"],q=["on","off"];function z(ge,pe,ke,Q){if((0,F.m)(ke)&&(Q=ke,ke=void 0),Q)return z(ge,pe,ke).pipe((0,I.Z)(Q));const[Oe,le]=function ue(ge){return(0,F.m)(ge.addEventListener)&&(0,F.m)(ge.removeEventListener)}(ge)?se.map(P=>N=>ge[P](pe,N,ke)):function ne(ge){return(0,F.m)(ge.addListener)&&(0,F.m)(ge.removeListener)}(ge)?L.map(he(ge,pe)):function De(ge){return(0,F.m)(ge.on)&&(0,F.m)(ge.off)}(ge)?q.map(he(ge,pe)):[];if(!Oe&&(0,V.z)(ge))return(0,f.z)(P=>z(P,pe,ke))((0,e.Xf)(ge));if(!Oe)throw new TypeError("Invalid event target");return new s.y(P=>{const N=(...we)=>P.next(1<we.length?we:we[0]);return Oe(N),()=>le(N)})}function he(ge,pe){return ke=>Q=>ge[ke](pe,Q)}},8421:(Lt,qe,C)=>{C.d(qe,{Xf:()=>De});var e=C(5987),s=C(1144),f=C(8239),V=C(9751),F=C(3670),I=C(2206),L=C(4532),se=C(6495),q=C(3260),z=C(576),he=C(7849),ne=C(8822);function De(P){if(P instanceof V.y)return P;if(null!=P){if((0,F.c)(P))return function ue(P){return new V.y(N=>{const we=P[ne.L]();if((0,z.m)(we.subscribe))return we.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(P);if((0,s.z)(P))return function ge(P){return new V.y(N=>{for(let we=0;we<P.length&&!N.closed;we++)N.next(P[we]);N.complete()})}(P);if((0,f.t)(P))return function pe(P){return new V.y(N=>{P.then(we=>{N.closed||(N.next(we),N.complete())},we=>N.error(we)).then(null,he.h)})}(P);if((0,I.D)(P))return Q(P);if((0,se.T)(P))return function ke(P){return new V.y(N=>{for(const we of P)if(N.next(we),N.closed)return;N.complete()})}(P);if((0,q.L)(P))return function Oe(P){return Q((0,q.Q)(P))}(P)}throw(0,L.z)(P)}function Q(P){return new V.y(N=>{(function le(P,N){var we,be,ye,G;return(0,e.mG)(this,void 0,void 0,function*(){try{for(we=(0,e.KL)(P);!(be=yield we.next()).done;)if(N.next(be.value),N.closed)return}catch(E){ye={error:E}}finally{try{be&&!be.done&&(G=we.return)&&(yield G.call(we))}finally{if(ye)throw ye.error}}N.complete()})})(P,N).catch(we=>N.error(we))})}},7445:(Lt,qe,C)=>{C.d(qe,{F:()=>f});var e=C(4986),s=C(5963);function f(V=0,F=e.z){return V<0&&(V=0),(0,s.H)(V,V,F)}},6451:(Lt,qe,C)=>{C.d(qe,{T:()=>I});var e=C(8189),s=C(8421),f=C(515),V=C(3269),F=C(2076);function I(...L){const se=(0,V.yG)(L),q=(0,V._6)(L,1/0),z=L;return z.length?1===z.length?(0,s.Xf)(z[0]):(0,e.J)(q)((0,F.D)(z,se)):f.E}},9646:(Lt,qe,C)=>{C.d(qe,{of:()=>f});var e=C(3269),s=C(2076);function f(...V){const F=(0,e.yG)(V);return(0,s.D)(V,F)}},2843:(Lt,qe,C)=>{C.d(qe,{_:()=>f});var e=C(9751),s=C(576);function f(V,F){const I=(0,s.m)(V)?V:()=>V,L=se=>se.error(I());return new e.y(F?se=>F.schedule(L,0,se):L)}},5963:(Lt,qe,C)=>{C.d(qe,{H:()=>F});var e=C(9751),s=C(4986),f=C(3532);function F(I=0,L,se=s.P){let q=-1;return null!=L&&((0,f.K)(L)?se=L:q=L),new e.y(z=>{let he=function V(I){return I instanceof Date&&!isNaN(I)}(I)?+I-se.now():I;he<0&&(he=0);let ne=0;return se.schedule(function(){z.closed||(z.next(ne++),0<=q?this.schedule(void 0,q):z.complete())},he)})}},5403:(Lt,qe,C)=>{C.d(qe,{Q:()=>s});var e=C(930);class s extends e.Lv{constructor(V,F,I,L,se){super(V),this.onFinalize=se,this._next=F?function(q){try{F(q)}catch(z){V.error(z)}}:super._next,this._error=L?function(q){try{L(q)}catch(z){V.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=I?function(){try{I()}catch(q){V.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;const{closed:F}=this;super.unsubscribe(),!F&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}},262:(Lt,qe,C)=>{C.d(qe,{K:()=>V});var e=C(8421),s=C(5403),f=C(4482);function V(F){return(0,f.e)((I,L)=>{let z,se=null,q=!1;se=I.subscribe(new s.Q(L,void 0,void 0,he=>{z=(0,e.Xf)(F(he,V(F)(I))),se?(se.unsubscribe(),se=null,z.subscribe(L)):q=!0})),q&&(se.unsubscribe(),se=null,z.subscribe(L))})}},4351:(Lt,qe,C)=>{C.d(qe,{b:()=>f});var e=C(5577),s=C(576);function f(V,F){return(0,s.m)(F)?(0,e.z)(V,F,1):(0,e.z)(V,1)}},8372:(Lt,qe,C)=>{C.d(qe,{b:()=>V});var e=C(4986),s=C(4482),f=C(5403);function V(F,I=e.z){return(0,s.e)((L,se)=>{let q=null,z=null,he=null;const ne=()=>{if(q){q.unsubscribe(),q=null;const ue=z;z=null,se.next(ue)}};function De(){const ue=he+F,ge=I.now();if(ge<ue)return q=this.schedule(void 0,ue-ge),void se.add(q);ne()}L.subscribe(new f.Q(se,ue=>{z=ue,he=I.now(),q||(q=I.schedule(De,F),se.add(q))},()=>{ne(),se.complete()},void 0,()=>{z=q=null}))})}},6590:(Lt,qe,C)=>{C.d(qe,{d:()=>f});var e=C(4482),s=C(5403);function f(V){return(0,e.e)((F,I)=>{let L=!1;F.subscribe(new s.Q(I,se=>{L=!0,I.next(se)},()=>{L||I.next(V),I.complete()}))})}},4326:(Lt,qe,C)=>{C.d(qe,{g:()=>V});var e=C(4986),s=C(5376),f=C(5963);function V(F,I=e.z){const L=(0,f.H)(F,I);return(0,s.j)(()=>L)}},5376:(Lt,qe,C)=>{C.d(qe,{j:()=>q});var e=C(7272),s=C(5698),f=C(4482),V=C(5403),F=C(5032),L=C(9718),se=C(5577);function q(z,he){return he?ne=>(0,e.z)(he.pipe((0,s.q)(1),function I(){return(0,f.e)((z,he)=>{z.subscribe(new V.Q(he,F.Z))})}()),ne.pipe(q(z))):(0,se.z)((ne,De)=>z(ne,De).pipe((0,s.q)(1),(0,L.h)(ne)))}},1884:(Lt,qe,C)=>{C.d(qe,{x:()=>V});var e=C(4671),s=C(4482),f=C(5403);function V(I,L=e.y){return I=null!=I?I:F,(0,s.e)((se,q)=>{let z,he=!0;se.subscribe(new f.Q(q,ne=>{const De=L(ne);(he||!I(z,De))&&(he=!1,z=De,q.next(ne))}))})}function F(I,L){return I===L}},9300:(Lt,qe,C)=>{C.d(qe,{h:()=>f});var e=C(4482),s=C(5403);function f(V,F){return(0,e.e)((I,L)=>{let se=0;I.subscribe(new s.Q(L,q=>V.call(F,q,se++)&&L.next(q)))})}},8746:(Lt,qe,C)=>{C.d(qe,{x:()=>s});var e=C(4482);function s(f){return(0,e.e)((V,F)=>{try{V.subscribe(F)}finally{F.add(f)}})}},590:(Lt,qe,C)=>{C.d(qe,{P:()=>L});var e=C(6805),s=C(9300),f=C(5698),V=C(6590),F=C(8068),I=C(4671);function L(se,q){const z=arguments.length>=2;return he=>he.pipe(se?(0,s.h)((ne,De)=>se(ne,De,he)):I.y,(0,f.q)(1),z?(0,V.d)(q):(0,F.T)(()=>new e.K))}},4004:(Lt,qe,C)=>{C.d(qe,{U:()=>f});var e=C(4482),s=C(5403);function f(V,F){return(0,e.e)((I,L)=>{let se=0;I.subscribe(new s.Q(L,q=>{L.next(V.call(F,q,se++))}))})}},9718:(Lt,qe,C)=>{C.d(qe,{h:()=>s});var e=C(4004);function s(f){return(0,e.U)(()=>f)}},8189:(Lt,qe,C)=>{C.d(qe,{J:()=>f});var e=C(5577),s=C(4671);function f(V=1/0){return(0,e.z)(s.y,V)}},5577:(Lt,qe,C)=>{C.d(qe,{z:()=>se});var e=C(4004),s=C(8421),f=C(4482),V=C(9672),F=C(5403),L=C(576);function se(q,z,he=1/0){return(0,L.m)(z)?se((ne,De)=>(0,e.U)((ue,ge)=>z(ne,ue,De,ge))((0,s.Xf)(q(ne,De))),he):("number"==typeof z&&(he=z),(0,f.e)((ne,De)=>function I(q,z,he,ne,De,ue,ge,pe){const ke=[];let Q=0,Oe=0,le=!1;const P=()=>{le&&!ke.length&&!Q&&z.complete()},N=be=>Q<ne?we(be):ke.push(be),we=be=>{ue&&z.next(be),Q++;let ye=!1;(0,s.Xf)(he(be,Oe++)).subscribe(new F.Q(z,G=>{null==De||De(G),ue?N(G):z.next(G)},()=>{ye=!0},void 0,()=>{if(ye)try{for(Q--;ke.length&&Q<ne;){const G=ke.shift();ge?(0,V.f)(z,ge,()=>we(G)):we(G)}P()}catch(G){z.error(G)}}))};return q.subscribe(new F.Q(z,N,()=>{le=!0,P()})),()=>{null==pe||pe()}}(ne,De,q,he)))}},599:(Lt,qe,C)=>{C.d(qe,{r:()=>V});var e=C(515),s=C(4482),f=C(5403);function V(F=1/0){return F<=0?()=>e.E:(0,s.e)((I,L)=>{let q,se=0;const z=()=>{let he=!1;q=I.subscribe(new f.Q(L,void 0,()=>{++se<F?q?(q.unsubscribe(),q=null,z()):he=!0:L.complete()})),he&&(q.unsubscribe(),q=null,z())};z()})}},3099:(Lt,qe,C)=>{C.d(qe,{B:()=>I});var e=C(2076),s=C(5698),f=C(7579),V=C(930),F=C(4482);function I(se={}){const{connector:q=(()=>new f.x),resetOnError:z=!0,resetOnComplete:he=!0,resetOnRefCountZero:ne=!0}=se;return De=>{let ue=null,ge=null,pe=null,ke=0,Q=!1,Oe=!1;const le=()=>{null==ge||ge.unsubscribe(),ge=null},P=()=>{le(),ue=pe=null,Q=Oe=!1},N=()=>{const we=ue;P(),null==we||we.unsubscribe()};return(0,F.e)((we,be)=>{ke++,!Oe&&!Q&&le();const ye=pe=null!=pe?pe:q();be.add(()=>{ke--,0===ke&&!Oe&&!Q&&(ge=L(N,ne))}),ye.subscribe(be),ue||(ue=new V.Hp({next:G=>ye.next(G),error:G=>{Oe=!0,le(),ge=L(P,z,G),ye.error(G)},complete:()=>{Q=!0,le(),ge=L(P,he),ye.complete()}}),(0,e.D)(we).subscribe(ue))})(De)}}function L(se,q,...z){return!0===q?(se(),null):!1===q?null:q(...z).pipe((0,s.q)(1)).subscribe(()=>se())}},4782:(Lt,qe,C)=>{C.d(qe,{d:()=>f});var e=C(4707),s=C(3099);function f(V,F,I){var L,se;let q,z=!1;return V&&"object"==typeof V?(q=null!==(L=V.bufferSize)&&void 0!==L?L:1/0,F=null!==(se=V.windowTime)&&void 0!==se?se:1/0,z=!!V.refCount,I=V.scheduler):q=null!=V?V:1/0,(0,s.B)({connector:()=>new e.t(q,F,I),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:z})}},8675:(Lt,qe,C)=>{C.d(qe,{O:()=>V});var e=C(7272),s=C(3269),f=C(4482);function V(...F){const I=(0,s.yG)(F);return(0,f.e)((L,se)=>{(I?(0,e.z)(F,L,I):(0,e.z)(F,L)).subscribe(se)})}},3900:(Lt,qe,C)=>{C.d(qe,{w:()=>V});var e=C(8421),s=C(4482),f=C(5403);function V(F,I){return(0,s.e)((L,se)=>{let q=null,z=0,he=!1;const ne=()=>he&&!q&&se.complete();L.subscribe(new f.Q(se,De=>{null==q||q.unsubscribe();let ue=0;const ge=z++;(0,e.Xf)(F(De,ge)).subscribe(q=new f.Q(se,pe=>se.next(I?I(De,pe,ge,ue++):pe),()=>{q=null,ne()}))},()=>{he=!0,ne()}))})}},5698:(Lt,qe,C)=>{C.d(qe,{q:()=>V});var e=C(515),s=C(4482),f=C(5403);function V(F){return F<=0?()=>e.E:(0,s.e)((I,L)=>{let se=0;I.subscribe(new f.Q(L,q=>{++se<=F&&(L.next(q),F<=se&&L.complete())}))})}},2035:(Lt,qe,C)=>{C.d(qe,{h:()=>V});var e=C(515),s=C(4482),f=C(5403);function V(F){return F<=0?()=>e.E:(0,s.e)((I,L)=>{let se=[];I.subscribe(new f.Q(L,q=>{se.push(q),F<se.length&&se.shift()},()=>{for(const q of se)L.next(q);L.complete()},void 0,()=>{se=null}))})}},2722:(Lt,qe,C)=>{C.d(qe,{R:()=>F});var e=C(4482),s=C(5403),f=C(8421),V=C(5032);function F(I){return(0,e.e)((L,se)=>{(0,f.Xf)(I).subscribe(new s.Q(se,()=>se.complete(),V.Z)),!se.closed&&L.subscribe(se)})}},2529:(Lt,qe,C)=>{C.d(qe,{o:()=>f});var e=C(4482),s=C(5403);function f(V,F=!1){return(0,e.e)((I,L)=>{let se=0;I.subscribe(new s.Q(L,q=>{const z=V(q,se++);(z||F)&&L.next(q),!z&&L.complete()}))})}},8505:(Lt,qe,C)=>{C.d(qe,{b:()=>F});var e=C(576),s=C(4482),f=C(5403),V=C(4671);function F(I,L,se){const q=(0,e.m)(I)||L||se?{next:I,error:L,complete:se}:I;return q?(0,s.e)((z,he)=>{var ne;null===(ne=q.subscribe)||void 0===ne||ne.call(q);let De=!0;z.subscribe(new f.Q(he,ue=>{var ge;null===(ge=q.next)||void 0===ge||ge.call(q,ue),he.next(ue)},()=>{var ue;De=!1,null===(ue=q.complete)||void 0===ue||ue.call(q),he.complete()},ue=>{var ge;De=!1,null===(ge=q.error)||void 0===ge||ge.call(q,ue),he.error(ue)},()=>{var ue,ge;De&&(null===(ue=q.unsubscribe)||void 0===ue||ue.call(q)),null===(ge=q.finalize)||void 0===ge||ge.call(q)}))}):V.y}},8068:(Lt,qe,C)=>{C.d(qe,{T:()=>V});var e=C(6805),s=C(4482),f=C(5403);function V(I=F){return(0,s.e)((L,se)=>{let q=!1;L.subscribe(new f.Q(se,z=>{q=!0,se.next(z)},()=>q?se.complete():se.error(I())))})}function F(){return new e.K}},4408:(Lt,qe,C)=>{C.d(qe,{o:()=>F});var e=C(727);class s extends e.w0{constructor(L,se){super()}schedule(L,se=0){return this}}const f={setInterval(...I){const{delegate:L}=f;return((null==L?void 0:L.setInterval)||setInterval)(...I)},clearInterval(I){const{delegate:L}=f;return((null==L?void 0:L.clearInterval)||clearInterval)(I)},delegate:void 0};var V=C(8737);class F extends s{constructor(L,se){super(L,se),this.scheduler=L,this.work=se,this.pending=!1}schedule(L,se=0){if(this.closed)return this;this.state=L;const q=this.id,z=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(z,q,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(z,this.id,se),this}requestAsyncId(L,se,q=0){return f.setInterval(L.flush.bind(L,this),q)}recycleAsyncId(L,se,q=0){if(null!=q&&this.delay===q&&!1===this.pending)return se;f.clearInterval(se)}execute(L,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(L,se);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,se){let z,q=!1;try{this.work(L)}catch(he){q=!0,z=he||new Error("Scheduled action threw falsy error")}if(q)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:L,scheduler:se}=this,{actions:q}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,V.P)(q,this),null!=L&&(this.id=this.recycleAsyncId(se,L,null)),this.delay=null,super.unsubscribe()}}}},7565:(Lt,qe,C)=>{C.d(qe,{v:()=>f});var e=C(6063);class s{constructor(F,I=s.now){this.schedulerActionCtor=F,this.now=I}schedule(F,I=0,L){return new this.schedulerActionCtor(this,F).schedule(L,I)}}s.now=e.l.now;class f extends s{constructor(F,I=s.now){super(F,I),this.actions=[],this._active=!1,this._scheduled=void 0}flush(F){const{actions:I}=this;if(this._active)return void I.push(F);let L;this._active=!0;do{if(L=F.execute(F.state,F.delay))break}while(F=I.shift());if(this._active=!1,L){for(;F=I.shift();)F.unsubscribe();throw L}}}},4986:(Lt,qe,C)=>{C.d(qe,{P:()=>V,z:()=>f});var e=C(4408);const f=new(C(7565).v)(e.o),V=f},6063:(Lt,qe,C)=>{C.d(qe,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(Lt,qe,C)=>{C.d(qe,{z:()=>e});const e={setTimeout(...s){const{delegate:f}=e;return((null==f?void 0:f.setTimeout)||setTimeout)(...s)},clearTimeout(s){const{delegate:f}=e;return((null==f?void 0:f.clearTimeout)||clearTimeout)(s)},delegate:void 0}},2202:(Lt,qe,C)=>{C.d(qe,{h:()=>s});const s=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Lt,qe,C)=>{C.d(qe,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Lt,qe,C)=>{C.d(qe,{K:()=>s});const s=(0,C(3888).d)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Lt,qe,C)=>{C.d(qe,{_6:()=>I,jO:()=>V,yG:()=>F});var e=C(576),s=C(3532);function f(L){return L[L.length-1]}function V(L){return(0,e.m)(f(L))?L.pop():void 0}function F(L){return(0,s.K)(f(L))?L.pop():void 0}function I(L,se){return"number"==typeof f(L)?L.pop():se}},4742:(Lt,qe,C)=>{C.d(qe,{D:()=>F});const{isArray:e}=Array,{getPrototypeOf:s,prototype:f,keys:V}=Object;function F(L){if(1===L.length){const se=L[0];if(e(se))return{args:se,keys:null};if(function I(L){return L&&"object"==typeof L&&s(L)===f}(se)){const q=V(se);return{args:q.map(z=>se[z]),keys:q}}}return{args:L,keys:null}}},8737:(Lt,qe,C)=>{function e(s,f){if(s){const V=s.indexOf(f);0<=V&&s.splice(V,1)}}C.d(qe,{P:()=>e})},3888:(Lt,qe,C)=>{function e(s){const V=s(F=>{Error.call(F),F.stack=(new Error).stack});return V.prototype=Object.create(Error.prototype),V.prototype.constructor=V,V}C.d(qe,{d:()=>e})},1810:(Lt,qe,C)=>{function e(s,f){return s.reduce((V,F,I)=>(V[F]=f[I],V),{})}C.d(qe,{n:()=>e})},2806:(Lt,qe,C)=>{C.d(qe,{O:()=>V,x:()=>f});var e=C(2416);let s=null;function f(F){if(e.v.useDeprecatedSynchronousErrorHandling){const I=!s;if(I&&(s={errorThrown:!1,error:null}),F(),I){const{errorThrown:L,error:se}=s;if(s=null,L)throw se}}else F()}function V(F){e.v.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=F)}},9672:(Lt,qe,C)=>{function e(s,f,V,F=0,I=!1){const L=f.schedule(function(){V(),I?s.add(this.schedule(null,F)):this.unsubscribe()},F);if(s.add(L),!I)return L}C.d(qe,{f:()=>e})},4671:(Lt,qe,C)=>{function e(s){return s}C.d(qe,{y:()=>e})},1144:(Lt,qe,C)=>{C.d(qe,{z:()=>e});const e=s=>s&&"number"==typeof s.length&&"function"!=typeof s},2206:(Lt,qe,C)=>{C.d(qe,{D:()=>s});var e=C(576);function s(f){return Symbol.asyncIterator&&(0,e.m)(null==f?void 0:f[Symbol.asyncIterator])}},576:(Lt,qe,C)=>{function e(s){return"function"==typeof s}C.d(qe,{m:()=>e})},3670:(Lt,qe,C)=>{C.d(qe,{c:()=>f});var e=C(8822),s=C(576);function f(V){return(0,s.m)(V[e.L])}},6495:(Lt,qe,C)=>{C.d(qe,{T:()=>f});var e=C(2202),s=C(576);function f(V){return(0,s.m)(null==V?void 0:V[e.h])}},8239:(Lt,qe,C)=>{C.d(qe,{t:()=>s});var e=C(576);function s(f){return(0,e.m)(null==f?void 0:f.then)}},3260:(Lt,qe,C)=>{C.d(qe,{L:()=>V,Q:()=>f});var e=C(5987),s=C(576);function f(F){return(0,e.FC)(this,arguments,function*(){const L=F.getReader();try{for(;;){const{value:se,done:q}=yield(0,e.qq)(L.read());if(q)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(se)}}finally{L.releaseLock()}})}function V(F){return(0,s.m)(null==F?void 0:F.getReader)}},3532:(Lt,qe,C)=>{C.d(qe,{K:()=>s});var e=C(576);function s(f){return f&&(0,e.m)(f.schedule)}},4482:(Lt,qe,C)=>{C.d(qe,{A:()=>s,e:()=>f});var e=C(576);function s(V){return(0,e.m)(null==V?void 0:V.lift)}function f(V){return F=>{if(s(F))return F.lift(function(I){try{return V(I,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Lt,qe,C)=>{C.d(qe,{Z:()=>V});var e=C(4004);const{isArray:s}=Array;function V(F){return(0,e.U)(I=>function f(F,I){return s(I)?F(...I):F(I)}(F,I))}},5032:(Lt,qe,C)=>{function e(){}C.d(qe,{Z:()=>e})},9635:(Lt,qe,C)=>{C.d(qe,{U:()=>f,z:()=>s});var e=C(4671);function s(...V){return f(V)}function f(V){return 0===V.length?e.y:1===V.length?V[0]:function(I){return V.reduce((L,se)=>se(L),I)}}},7849:(Lt,qe,C)=>{C.d(qe,{h:()=>f});var e=C(2416),s=C(3410);function f(V){s.z.setTimeout(()=>{const{onUnhandledError:F}=e.v;if(!F)throw V;F(V)})}},4532:(Lt,qe,C)=>{function e(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(qe,{z:()=>e})},1588:(Lt,qe,C)=>{C.d(qe,{Z:()=>he});const s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let f;const V=new Uint8Array(16);function F(){if(!f&&(f="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(V)}const I=[];for(let ne=0;ne<256;++ne)I.push((ne+256).toString(16).slice(1));const he=function z(ne,De,ue){if(s.randomUUID&&!De&&!ne)return s.randomUUID();const ge=(ne=ne||{}).random||(ne.rng||F)();if(ge[6]=15&ge[6]|64,ge[8]=63&ge[8]|128,De){ue=ue||0;for(let pe=0;pe<16;++pe)De[ue+pe]=ge[pe];return De}return function L(ne,De=0){return(I[ne[De+0]]+I[ne[De+1]]+I[ne[De+2]]+I[ne[De+3]]+"-"+I[ne[De+4]]+I[ne[De+5]]+"-"+I[ne[De+6]]+I[ne[De+7]]+"-"+I[ne[De+8]]+I[ne[De+9]]+"-"+I[ne[De+10]]+I[ne[De+11]]+I[ne[De+12]]+I[ne[De+13]]+I[ne[De+14]]+I[ne[De+15]]).toLowerCase()}(ge)}},5987:(Lt,qe,C)=>{function se(E,U,$,Ae){return new($||($=Promise))(function(He,Re){function gt(We){try{Pe(Ae.next(We))}catch(J){Re(J)}}function ut(We){try{Pe(Ae.throw(We))}catch(J){Re(J)}}function Pe(We){We.done?He(We.value):function Ne(He){return He instanceof $?He:new $(function(Re){Re(He)})}(We.value).then(gt,ut)}Pe((Ae=Ae.apply(E,U||[])).next())})}function ke(E){return this instanceof ke?(this.v=E,this):new ke(E)}function Q(E,U,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Ae=$.apply(E,U||[]),He=[];return Ne={},Re("next"),Re("throw"),Re("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Re(de){Ae[de]&&(Ne[de]=function(Qe){return new Promise(function(re,Ve){He.push([de,Qe,re,Ve])>1||gt(de,Qe)})})}function gt(de,Qe){try{!function ut(de){de.value instanceof ke?Promise.resolve(de.value.v).then(Pe,We):J(He[0][2],de)}(Ae[de](Qe))}catch(re){J(He[0][3],re)}}function Pe(de){gt("next",de)}function We(de){gt("throw",de)}function J(de,Qe){de(Qe),He.shift(),He.length&&gt(He[0][0],He[0][1])}}function le(E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,U=E[Symbol.asyncIterator];return U?U.call(E):(E=function ne(E){var U="function"==typeof Symbol&&Symbol.iterator,$=U&&E[U],Ae=0;if($)return $.call(E);if(E&&"number"==typeof E.length)return{next:function(){return E&&Ae>=E.length&&(E=void 0),{value:E&&E[Ae++],done:!E}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}(E),$={},Ae("next"),Ae("throw"),Ae("return"),$[Symbol.asyncIterator]=function(){return this},$);function Ae(He){$[He]=E[He]&&function(Re){return new Promise(function(gt,ut){!function Ne(He,Re,gt,ut){Promise.resolve(ut).then(function(Pe){He({value:Pe,done:gt})},Re)}(gt,ut,(Re=E[He](Re)).done,Re.value)})}}}C.d(qe,{FC:()=>Q,KL:()=>le,mG:()=>se,qq:()=>ke})},655:(Lt,qe,C)=>{function V(U,$){var Ae={};for(var Ne in U)Object.prototype.hasOwnProperty.call(U,Ne)&&$.indexOf(Ne)<0&&(Ae[Ne]=U[Ne]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Ne=Object.getOwnPropertySymbols(U);He<Ne.length;He++)$.indexOf(Ne[He])<0&&Object.prototype.propertyIsEnumerable.call(U,Ne[He])&&(Ae[Ne[He]]=U[Ne[He]])}return Ae}function se(U,$,Ae,Ne){return new(Ae||(Ae=Promise))(function(Re,gt){function ut(J){try{We(Ne.next(J))}catch(de){gt(de)}}function Pe(J){try{We(Ne.throw(J))}catch(de){gt(de)}}function We(J){J.done?Re(J.value):function He(Re){return Re instanceof Ae?Re:new Ae(function(gt){gt(Re)})}(J.value).then(ut,Pe)}We((Ne=Ne.apply(U,$||[])).next())})}C.d(qe,{_T:()=>V,mG:()=>se})},1777:(Lt,qe,C)=>{C.d(qe,{EY:()=>pe,IO:()=>ge,LC:()=>s,SB:()=>q,X$:()=>V,ZE:()=>Oe,ZN:()=>Q,_7:()=>ue,_j:()=>e,eR:()=>he,jt:()=>F,k1:()=>le,l3:()=>f,oB:()=>se,oQ:()=>ne,pV:()=>De,vP:()=>L});class e{}class s{}const f="*";function V(P,N){return{type:7,name:P,definitions:N,options:{}}}function F(P,N=null){return{type:4,styles:N,timings:P}}function L(P,N=null){return{type:2,steps:P,options:N}}function se(P){return{type:6,styles:P,offset:null}}function q(P,N,we){return{type:0,name:P,styles:N,options:we}}function he(P,N,we=null){return{type:1,expr:P,animation:N,options:we}}function ne(P,N=null){return{type:8,animation:P,options:N}}function De(P=null){return{type:9,options:P}}function ue(P,N=null){return{type:10,animation:P,options:N}}function ge(P,N,we=null){return{type:11,selector:P,animation:N,options:we}}function pe(P,N){return{type:12,timings:P,animation:N}}function ke(P){Promise.resolve().then(P)}class Q{constructor(N=0,we=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=N+we}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(N=>N()),this._onDoneFns=[])}onStart(N){this._originalOnStartFns.push(N),this._onStartFns.push(N)}onDone(N){this._originalOnDoneFns.push(N),this._onDoneFns.push(N)}onDestroy(N){this._onDestroyFns.push(N)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ke(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(N=>N()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(N=>N()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(N){this._position=this.totalTime?N*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(N){const we="start"==N?this._onStartFns:this._onDoneFns;we.forEach(be=>be()),we.length=0}}class Oe{constructor(N){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=N;let we=0,be=0,ye=0;const G=this.players.length;0==G?ke(()=>this._onFinish()):this.players.forEach(E=>{E.onDone(()=>{++we==G&&this._onFinish()}),E.onDestroy(()=>{++be==G&&this._onDestroy()}),E.onStart(()=>{++ye==G&&this._onStart()})}),this.totalTime=this.players.reduce((E,U)=>Math.max(E,U.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(N=>N()),this._onDoneFns=[])}init(){this.players.forEach(N=>N.init())}onStart(N){this._onStartFns.push(N)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(N=>N()),this._onStartFns=[])}onDone(N){this._onDoneFns.push(N)}onDestroy(N){this._onDestroyFns.push(N)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(N=>N.play())}pause(){this.players.forEach(N=>N.pause())}restart(){this.players.forEach(N=>N.restart())}finish(){this._onFinish(),this.players.forEach(N=>N.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(N=>N.destroy()),this._onDestroyFns.forEach(N=>N()),this._onDestroyFns=[])}reset(){this.players.forEach(N=>N.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(N){const we=N*this.totalTime;this.players.forEach(be=>{const ye=be.totalTime?Math.min(1,we/be.totalTime):1;be.setPosition(ye)})}getPosition(){const N=this.players.reduce((we,be)=>null===we||be.totalTime>we.totalTime?be:we,null);return null!=N?N.getPosition():0}beforeDestroy(){this.players.forEach(N=>{N.beforeDestroy&&N.beforeDestroy()})}triggerCallback(N){const we="start"==N?this._onStartFns:this._onDoneFns;we.forEach(be=>be()),we.length=0}}const le="!"},925:(Lt,qe,C)=>{C.d(qe,{i$:()=>he,kV:()=>Q,sA:()=>le,t4:()=>V});var e=C(5e3),s=C(9808);let f;try{f="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(N){f=!1}let q,pe,V=(()=>{class N{constructor(be){this._platformId=be,this.isBrowser=this._platformId?(0,s.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return N.\u0275fac=function(be){return new(be||N)(e.LFG(e.Lbi))},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function he(N){return function z(){if(null==q&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>q=!0}))}finally{q=q||!1}return q}()?N:!!N.capture}function Q(N){if(function ke(){if(null==pe){const N="undefined"!=typeof document?document.head:null;pe=!(!N||!N.createShadowRoot&&!N.attachShadow)}return pe}()){const we=N.getRootNode?N.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&we instanceof ShadowRoot)return we}return null}function le(N){return N.composedPath?N.composedPath()[0]:N.target}},9808:(Lt,qe,C)=>{C.d(qe,{Do:()=>le,ED:()=>ys,EM:()=>st,H9:()=>wo,HT:()=>F,JF:()=>si,JJ:()=>Fi,K0:()=>L,Mx:()=>Ji,NF:()=>Ye,Nd:()=>Ho,O5:()=>bs,OU:()=>os,Ov:()=>jo,PC:()=>Ei,PM:()=>vt,RF:()=>Mo,S$:()=>ke,V_:()=>z,Ye:()=>P,b0:()=>Oe,bD:()=>Ms,ez:()=>us,mk:()=>_i,n9:()=>Jo,q:()=>f,qS:()=>po,rS:()=>To,sg:()=>so,tP:()=>ai,uU:()=>Us,w_:()=>I});var e=C(5e3);let s=null;function f(){return s}function F(Y){s||(s=Y)}class I{}const L=new e.OlP("DocumentToken");let se=(()=>{class Y{historyGo(X){throw new Error("Not implemented")}}return Y.\u0275fac=function(X){return new(X||Y)},Y.\u0275prov=e.Yz7({token:Y,factory:function(){return function q(){return(0,e.LFG)(he)}()},providedIn:"platform"}),Y})();const z=new e.OlP("Location Initialized");let he=(()=>{class Y extends se{constructor(X){super(),this._doc=X,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return f().getBaseHref(this._doc)}onPopState(X){const Ge=f().getGlobalEventTarget(this._doc,"window");return Ge.addEventListener("popstate",X,!1),()=>Ge.removeEventListener("popstate",X)}onHashChange(X){const Ge=f().getGlobalEventTarget(this._doc,"window");return Ge.addEventListener("hashchange",X,!1),()=>Ge.removeEventListener("hashchange",X)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(X){this.location.pathname=X}pushState(X,Ge,ht){ne()?this._history.pushState(X,Ge,ht):this.location.hash=ht}replaceState(X,Ge,ht){ne()?this._history.replaceState(X,Ge,ht):this.location.hash=ht}forward(){this._history.forward()}back(){this._history.back()}historyGo(X=0){this._history.go(X)}getState(){return this._history.state}}return Y.\u0275fac=function(X){return new(X||Y)(e.LFG(L))},Y.\u0275prov=e.Yz7({token:Y,factory:function(){return function De(){return new he((0,e.LFG)(L))}()},providedIn:"platform"}),Y})();function ne(){return!!window.history.pushState}function ue(Y,Se){if(0==Y.length)return Se;if(0==Se.length)return Y;let X=0;return Y.endsWith("/")&&X++,Se.startsWith("/")&&X++,2==X?Y+Se.substring(1):1==X?Y+Se:Y+"/"+Se}function ge(Y){const Se=Y.match(/#|\?|$/),X=Se&&Se.index||Y.length;return Y.slice(0,X-("/"===Y[X-1]?1:0))+Y.slice(X)}function pe(Y){return Y&&"?"!==Y[0]?"?"+Y:Y}let ke=(()=>{class Y{historyGo(X){throw new Error("Not implemented")}}return Y.\u0275fac=function(X){return new(X||Y)},Y.\u0275prov=e.Yz7({token:Y,factory:function(){return(0,e.f3M)(Oe)},providedIn:"root"}),Y})();const Q=new e.OlP("appBaseHref");let Oe=(()=>{class Y extends ke{constructor(X,Ge){var ht,Zt,Gt;super(),this._platformLocation=X,this._removeListenerFns=[],this._baseHref=null!==(Gt=null!==(ht=null!=Ge?Ge:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ht?ht:null===(Zt=(0,e.f3M)(L).location)||void 0===Zt?void 0:Zt.origin)&&void 0!==Gt?Gt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}prepareExternalUrl(X){return ue(this._baseHref,X)}path(X=!1){const Ge=this._platformLocation.pathname+pe(this._platformLocation.search),ht=this._platformLocation.hash;return ht&&X?`${Ge}${ht}`:Ge}pushState(X,Ge,ht,Zt){const Gt=this.prepareExternalUrl(ht+pe(Zt));this._platformLocation.pushState(X,Ge,Gt)}replaceState(X,Ge,ht,Zt){const Gt=this.prepareExternalUrl(ht+pe(Zt));this._platformLocation.replaceState(X,Ge,Gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){var Ge,ht;null===(ht=(Ge=this._platformLocation).historyGo)||void 0===ht||ht.call(Ge,X)}}return Y.\u0275fac=function(X){return new(X||Y)(e.LFG(se),e.LFG(Q,8))},Y.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),le=(()=>{class Y extends ke{constructor(X,Ge){super(),this._platformLocation=X,this._baseHref="",this._removeListenerFns=[],null!=Ge&&(this._baseHref=Ge)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}path(X=!1){let Ge=this._platformLocation.hash;return null==Ge&&(Ge="#"),Ge.length>0?Ge.substring(1):Ge}prepareExternalUrl(X){const Ge=ue(this._baseHref,X);return Ge.length>0?"#"+Ge:Ge}pushState(X,Ge,ht,Zt){let Gt=this.prepareExternalUrl(ht+pe(Zt));0==Gt.length&&(Gt=this._platformLocation.pathname),this._platformLocation.pushState(X,Ge,Gt)}replaceState(X,Ge,ht,Zt){let Gt=this.prepareExternalUrl(ht+pe(Zt));0==Gt.length&&(Gt=this._platformLocation.pathname),this._platformLocation.replaceState(X,Ge,Gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){var Ge,ht;null===(ht=(Ge=this._platformLocation).historyGo)||void 0===ht||ht.call(Ge,X)}}return Y.\u0275fac=function(X){return new(X||Y)(e.LFG(se),e.LFG(Q,8))},Y.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),P=(()=>{class Y{constructor(X){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=X;const Ge=this._locationStrategy.getBaseHref();this._baseHref=ge(be(Ge)),this._locationStrategy.onPopState(ht=>{this._subject.emit({url:this.path(!0),pop:!0,state:ht.state,type:ht.type})})}ngOnDestroy(){var X;null===(X=this._urlChangeSubscription)||void 0===X||X.unsubscribe(),this._urlChangeListeners=[]}path(X=!1){return this.normalize(this._locationStrategy.path(X))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(X,Ge=""){return this.path()==this.normalize(X+pe(Ge))}normalize(X){return Y.stripTrailingSlash(function we(Y,Se){return Y&&Se.startsWith(Y)?Se.substring(Y.length):Se}(this._baseHref,be(X)))}prepareExternalUrl(X){return X&&"/"!==X[0]&&(X="/"+X),this._locationStrategy.prepareExternalUrl(X)}go(X,Ge="",ht=null){this._locationStrategy.pushState(ht,"",X,Ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+pe(Ge)),ht)}replaceState(X,Ge="",ht=null){this._locationStrategy.replaceState(ht,"",X,Ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+pe(Ge)),ht)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(X=0){var Ge,ht;null===(ht=(Ge=this._locationStrategy).historyGo)||void 0===ht||ht.call(Ge,X)}onUrlChange(X){return this._urlChangeListeners.push(X),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ge=>{this._notifyUrlChangeListeners(Ge.url,Ge.state)})),()=>{var Ge;const ht=this._urlChangeListeners.indexOf(X);this._urlChangeListeners.splice(ht,1),0===this._urlChangeListeners.length&&(null===(Ge=this._urlChangeSubscription)||void 0===Ge||Ge.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(X="",Ge){this._urlChangeListeners.forEach(ht=>ht(X,Ge))}subscribe(X,Ge,ht){return this._subject.subscribe({next:X,error:Ge,complete:ht})}}return Y.normalizeQueryParams=pe,Y.joinWithSlash=ue,Y.stripTrailingSlash=ge,Y.\u0275fac=function(X){return new(X||Y)(e.LFG(ke))},Y.\u0275prov=e.Yz7({token:Y,factory:function(){return function N(){return new P((0,e.LFG)(ke))}()},providedIn:"root"}),Y})();function be(Y){return Y.replace(/\/index.html$/,"")}const ye={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var G=(()=>((G=G||{})[G.Decimal=0]="Decimal",G[G.Percent=1]="Percent",G[G.Currency=2]="Currency",G[G.Scientific=3]="Scientific",G))(),U=(()=>((U=U||{})[U.Format=0]="Format",U[U.Standalone=1]="Standalone",U))(),$=(()=>(($=$||{})[$.Narrow=0]="Narrow",$[$.Abbreviated=1]="Abbreviated",$[$.Wide=2]="Wide",$[$.Short=3]="Short",$))(),Ae=(()=>((Ae=Ae||{})[Ae.Short=0]="Short",Ae[Ae.Medium=1]="Medium",Ae[Ae.Long=2]="Long",Ae[Ae.Full=3]="Full",Ae))(),Ne=(()=>((Ne=Ne||{})[Ne.Decimal=0]="Decimal",Ne[Ne.Group=1]="Group",Ne[Ne.List=2]="List",Ne[Ne.PercentSign=3]="PercentSign",Ne[Ne.PlusSign=4]="PlusSign",Ne[Ne.MinusSign=5]="MinusSign",Ne[Ne.Exponential=6]="Exponential",Ne[Ne.SuperscriptingExponent=7]="SuperscriptingExponent",Ne[Ne.PerMille=8]="PerMille",Ne[Ne.Infinity=9]="Infinity",Ne[Ne.NaN=10]="NaN",Ne[Ne.TimeSeparator=11]="TimeSeparator",Ne[Ne.CurrencyDecimal=12]="CurrencyDecimal",Ne[Ne.CurrencyGroup=13]="CurrencyGroup",Ne))();function Qe(Y,Se){return at((0,e.cg1)(Y)[e.wAp.DateFormat],Se)}function re(Y,Se){return at((0,e.cg1)(Y)[e.wAp.TimeFormat],Se)}function Ve(Y,Se){return at((0,e.cg1)(Y)[e.wAp.DateTimeFormat],Se)}function Me(Y,Se){const X=(0,e.cg1)(Y),Ge=X[e.wAp.NumberSymbols][Se];if(void 0===Ge){if(Se===Ne.CurrencyDecimal)return X[e.wAp.NumberSymbols][Ne.Decimal];if(Se===Ne.CurrencyGroup)return X[e.wAp.NumberSymbols][Ne.Group]}return Ge}function Fe(Y,Se){return(0,e.cg1)(Y)[e.wAp.NumberFormats][Se]}function un(Y){if(!Y[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Y[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function at(Y,Se){for(let X=Se;X>-1;X--)if(void 0!==Y[X])return Y[X];throw new Error("Locale data API: locale data undefined")}function Pt(Y){const[Se,X]=Y.split(":");return{hours:+Se,minutes:+X}}const ei=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qn={},Ht=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mt=(()=>((mt=mt||{})[mt.Short=0]="Short",mt[mt.ShortGMT=1]="ShortGMT",mt[mt.Long=2]="Long",mt[mt.Extended=3]="Extended",mt))(),Ze=(()=>((Ze=Ze||{})[Ze.FullYear=0]="FullYear",Ze[Ze.Month=1]="Month",Ze[Ze.Date=2]="Date",Ze[Ze.Hours=3]="Hours",Ze[Ze.Minutes=4]="Minutes",Ze[Ze.Seconds=5]="Seconds",Ze[Ze.FractionalSeconds=6]="FractionalSeconds",Ze[Ze.Day=7]="Day",Ze))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function M(Y,Se,X,Ge){let ht=function vn(Y){if(pi(Y))return Y;if("number"==typeof Y&&!isNaN(Y))return new Date(Y);if("string"==typeof Y){if(Y=Y.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Y)){const[ht,Zt=1,Gt=1]=Y.split("-").map(wn=>+wn);return _e(ht,Zt-1,Gt)}const X=parseFloat(Y);if(!isNaN(Y-X))return new Date(X);let Ge;if(Ge=Y.match(ei))return function Rn(Y){const Se=new Date(0);let X=0,Ge=0;const ht=Y[8]?Se.setUTCFullYear:Se.setFullYear,Zt=Y[8]?Se.setUTCHours:Se.setHours;Y[9]&&(X=Number(Y[9]+Y[10]),Ge=Number(Y[9]+Y[11])),ht.call(Se,Number(Y[1]),Number(Y[2])-1,Number(Y[3]));const Gt=Number(Y[4]||0)-X,wn=Number(Y[5]||0)-Ge,Ii=Number(Y[6]||0),gi=Math.floor(1e3*parseFloat("0."+(Y[7]||0)));return Zt.call(Se,Gt,wn,Ii,gi),Se}(Ge)}const Se=new Date(Y);if(!pi(Se))throw new Error(`Unable to convert "${Y}" into a date`);return Se}(Y);Se=Ie(X,Se)||Se;let wn,Gt=[];for(;Se;){if(wn=Ht.exec(Se),!wn){Gt.push(Se);break}{Gt=Gt.concat(wn.slice(1));const vi=Gt.pop();if(!vi)break;Se=vi}}let Ii=ht.getTimezoneOffset();Ge&&(Ii=At(Ge,Ii),ht=function Kt(Y,Se,X){const Ge=X?-1:1,ht=Y.getTimezoneOffset();return function qt(Y,Se){return(Y=new Date(Y.getTime())).setMinutes(Y.getMinutes()+Se),Y}(Y,Ge*(At(Se,ht)-ht))}(ht,Ge,!0));let gi="";return Gt.forEach(vi=>{const li=function tt(Y){if(an[Y])return an[Y];let Se;switch(Y){case"G":case"GG":case"GGG":Se=xt(It.Eras,$.Abbreviated);break;case"GGGG":Se=xt(It.Eras,$.Wide);break;case"GGGGG":Se=xt(It.Eras,$.Narrow);break;case"y":Se=nn(Ze.FullYear,1,0,!1,!0);break;case"yy":Se=nn(Ze.FullYear,2,0,!0,!0);break;case"yyy":Se=nn(Ze.FullYear,3,0,!1,!0);break;case"yyyy":Se=nn(Ze.FullYear,4,0,!1,!0);break;case"Y":Se=kt(1);break;case"YY":Se=kt(2,!0);break;case"YYY":Se=kt(3);break;case"YYYY":Se=kt(4);break;case"M":case"L":Se=nn(Ze.Month,1,1);break;case"MM":case"LL":Se=nn(Ze.Month,2,1);break;case"MMM":Se=xt(It.Months,$.Abbreviated);break;case"MMMM":Se=xt(It.Months,$.Wide);break;case"MMMMM":Se=xt(It.Months,$.Narrow);break;case"LLL":Se=xt(It.Months,$.Abbreviated,U.Standalone);break;case"LLLL":Se=xt(It.Months,$.Wide,U.Standalone);break;case"LLLLL":Se=xt(It.Months,$.Narrow,U.Standalone);break;case"w":Se=Ui(1);break;case"ww":Se=Ui(2);break;case"W":Se=Ui(1,!0);break;case"d":Se=nn(Ze.Date,1);break;case"dd":Se=nn(Ze.Date,2);break;case"c":case"cc":Se=nn(Ze.Day,1);break;case"ccc":Se=xt(It.Days,$.Abbreviated,U.Standalone);break;case"cccc":Se=xt(It.Days,$.Wide,U.Standalone);break;case"ccccc":Se=xt(It.Days,$.Narrow,U.Standalone);break;case"cccccc":Se=xt(It.Days,$.Short,U.Standalone);break;case"E":case"EE":case"EEE":Se=xt(It.Days,$.Abbreviated);break;case"EEEE":Se=xt(It.Days,$.Wide);break;case"EEEEE":Se=xt(It.Days,$.Narrow);break;case"EEEEEE":Se=xt(It.Days,$.Short);break;case"a":case"aa":case"aaa":Se=xt(It.DayPeriods,$.Abbreviated);break;case"aaaa":Se=xt(It.DayPeriods,$.Wide);break;case"aaaaa":Se=xt(It.DayPeriods,$.Narrow);break;case"b":case"bb":case"bbb":Se=xt(It.DayPeriods,$.Abbreviated,U.Standalone,!0);break;case"bbbb":Se=xt(It.DayPeriods,$.Wide,U.Standalone,!0);break;case"bbbbb":Se=xt(It.DayPeriods,$.Narrow,U.Standalone,!0);break;case"B":case"BB":case"BBB":Se=xt(It.DayPeriods,$.Abbreviated,U.Format,!0);break;case"BBBB":Se=xt(It.DayPeriods,$.Wide,U.Format,!0);break;case"BBBBB":Se=xt(It.DayPeriods,$.Narrow,U.Format,!0);break;case"h":Se=nn(Ze.Hours,1,-12);break;case"hh":Se=nn(Ze.Hours,2,-12);break;case"H":Se=nn(Ze.Hours,1);break;case"HH":Se=nn(Ze.Hours,2);break;case"m":Se=nn(Ze.Minutes,1);break;case"mm":Se=nn(Ze.Minutes,2);break;case"s":Se=nn(Ze.Seconds,1);break;case"ss":Se=nn(Ze.Seconds,2);break;case"S":Se=nn(Ze.FractionalSeconds,1);break;case"SS":Se=nn(Ze.FractionalSeconds,2);break;case"SSS":Se=nn(Ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Se=ze(mt.Short);break;case"ZZZZZ":Se=ze(mt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Se=ze(mt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Se=ze(mt.Long);break;default:return null}return an[Y]=Se,Se}(vi);gi+=li?li(ht,X,Ii):"''"===vi?"'":vi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),gi}function _e(Y,Se,X){const Ge=new Date(0);return Ge.setFullYear(Y,Se,X),Ge.setHours(0,0,0),Ge}function Ie(Y,Se){const X=function Re(Y){return(0,e.cg1)(Y)[e.wAp.LocaleId]}(Y);if(qn[X]=qn[X]||{},qn[X][Se])return qn[X][Se];let Ge="";switch(Se){case"shortDate":Ge=Qe(Y,Ae.Short);break;case"mediumDate":Ge=Qe(Y,Ae.Medium);break;case"longDate":Ge=Qe(Y,Ae.Long);break;case"fullDate":Ge=Qe(Y,Ae.Full);break;case"shortTime":Ge=re(Y,Ae.Short);break;case"mediumTime":Ge=re(Y,Ae.Medium);break;case"longTime":Ge=re(Y,Ae.Long);break;case"fullTime":Ge=re(Y,Ae.Full);break;case"short":const ht=Ie(Y,"shortTime"),Zt=Ie(Y,"shortDate");Ge=Xe(Ve(Y,Ae.Short),[ht,Zt]);break;case"medium":const Gt=Ie(Y,"mediumTime"),wn=Ie(Y,"mediumDate");Ge=Xe(Ve(Y,Ae.Medium),[Gt,wn]);break;case"long":const Ii=Ie(Y,"longTime"),gi=Ie(Y,"longDate");Ge=Xe(Ve(Y,Ae.Long),[Ii,gi]);break;case"full":const vi=Ie(Y,"fullTime"),li=Ie(Y,"fullDate");Ge=Xe(Ve(Y,Ae.Full),[vi,li])}return Ge&&(qn[X][Se]=Ge),Ge}function Xe(Y,Se){return Se&&(Y=Y.replace(/\{([^}]+)}/g,function(X,Ge){return null!=Se&&Ge in Se?Se[Ge]:X})),Y}function Rt(Y,Se,X="-",Ge,ht){let Zt="";(Y<0||ht&&Y<=0)&&(ht?Y=1-Y:(Y=-Y,Zt=X));let Gt=String(Y);for(;Gt.length<Se;)Gt="0"+Gt;return Ge&&(Gt=Gt.slice(Gt.length-Se)),Zt+Gt}function nn(Y,Se,X=0,Ge=!1,ht=!1){return function(Zt,Gt){let wn=function nt(Y,Se){switch(Y){case Ze.FullYear:return Se.getFullYear();case Ze.Month:return Se.getMonth();case Ze.Date:return Se.getDate();case Ze.Hours:return Se.getHours();case Ze.Minutes:return Se.getMinutes();case Ze.Seconds:return Se.getSeconds();case Ze.FractionalSeconds:return Se.getMilliseconds();case Ze.Day:return Se.getDay();default:throw new Error(`Unknown DateType value "${Y}".`)}}(Y,Zt);if((X>0||wn>-X)&&(wn+=X),Y===Ze.Hours)0===wn&&-12===X&&(wn=12);else if(Y===Ze.FractionalSeconds)return function Qt(Y,Se){return Rt(Y,3).substring(0,Se)}(wn,Se);const Ii=Me(Gt,Ne.MinusSign);return Rt(wn,Se,Ii,Ge,ht)}}function xt(Y,Se,X=U.Format,Ge=!1){return function(ht,Zt){return function ee(Y,Se,X,Ge,ht,Zt){switch(X){case It.Months:return function Pe(Y,Se,X){const Ge=(0,e.cg1)(Y),Zt=at([Ge[e.wAp.MonthsFormat],Ge[e.wAp.MonthsStandalone]],Se);return at(Zt,X)}(Se,ht,Ge)[Y.getMonth()];case It.Days:return function ut(Y,Se,X){const Ge=(0,e.cg1)(Y),Zt=at([Ge[e.wAp.DaysFormat],Ge[e.wAp.DaysStandalone]],Se);return at(Zt,X)}(Se,ht,Ge)[Y.getDay()];case It.DayPeriods:const Gt=Y.getHours(),wn=Y.getMinutes();if(Zt){const gi=function Cn(Y){const Se=(0,e.cg1)(Y);return un(Se),(Se[e.wAp.ExtraData][2]||[]).map(Ge=>"string"==typeof Ge?Pt(Ge):[Pt(Ge[0]),Pt(Ge[1])])}(Se),vi=function Ot(Y,Se,X){const Ge=(0,e.cg1)(Y);un(Ge);const Zt=at([Ge[e.wAp.ExtraData][0],Ge[e.wAp.ExtraData][1]],Se)||[];return at(Zt,X)||[]}(Se,ht,Ge),li=gi.findIndex($i=>{if(Array.isArray($i)){const[fi,Yi]=$i,rs=Gt>=fi.hours&&wn>=fi.minutes,Ro=Gt<Yi.hours||Gt===Yi.hours&&wn<Yi.minutes;if(fi.hours<Yi.hours){if(rs&&Ro)return!0}else if(rs||Ro)return!0}else if($i.hours===Gt&&$i.minutes===wn)return!0;return!1});if(-1!==li)return vi[li]}return function gt(Y,Se,X){const Ge=(0,e.cg1)(Y),Zt=at([Ge[e.wAp.DayPeriodsFormat],Ge[e.wAp.DayPeriodsStandalone]],Se);return at(Zt,X)}(Se,ht,Ge)[Gt<12?0:1];case It.Eras:return function We(Y,Se){return at((0,e.cg1)(Y)[e.wAp.Eras],Se)}(Se,Ge)[Y.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${X}`)}}(ht,Zt,Y,Se,X,Ge)}}function ze(Y){return function(Se,X,Ge){const ht=-1*Ge,Zt=Me(X,Ne.MinusSign),Gt=ht>0?Math.floor(ht/60):Math.ceil(ht/60);switch(Y){case mt.Short:return(ht>=0?"+":"")+Rt(Gt,2,Zt)+Rt(Math.abs(ht%60),2,Zt);case mt.ShortGMT:return"GMT"+(ht>=0?"+":"")+Rt(Gt,1,Zt);case mt.Long:return"GMT"+(ht>=0?"+":"")+Rt(Gt,2,Zt)+":"+Rt(Math.abs(ht%60),2,Zt);case mt.Extended:return 0===Ge?"Z":(ht>=0?"+":"")+Rt(Gt,2,Zt)+":"+Rt(Math.abs(ht%60),2,Zt);default:throw new Error(`Unknown zone width "${Y}"`)}}}function ni(Y){return _e(Y.getFullYear(),Y.getMonth(),Y.getDate()+(4-Y.getDay()))}function Ui(Y,Se=!1){return function(X,Ge){let ht;if(Se){const Zt=new Date(X.getFullYear(),X.getMonth(),1).getDay()-1,Gt=X.getDate();ht=1+Math.floor((Gt+Zt)/7)}else{const Zt=ni(X),Gt=function sn(Y){const Se=_e(Y,0,1).getDay();return _e(Y,0,1+(Se<=4?4:11)-Se)}(Zt.getFullYear()),wn=Zt.getTime()-Gt.getTime();ht=1+Math.round(wn/6048e5)}return Rt(ht,Y,Me(Ge,Ne.MinusSign))}}function kt(Y,Se=!1){return function(X,Ge){return Rt(ni(X).getFullYear(),Y,Me(Ge,Ne.MinusSign),Se)}}const an={};function At(Y,Se){Y=Y.replace(/:/g,"");const X=Date.parse("Jan 01, 1970 00:00:00 "+Y)/6e4;return isNaN(X)?Se:X}function pi(Y){return Y instanceof Date&&!isNaN(Y.valueOf())}const Ai=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function St(Y,Se,X,Ge,ht,Zt,Gt=!1){let wn="",Ii=!1;if(isFinite(Y)){let gi=function xn(Y){let Ge,ht,Zt,Gt,wn,Se=Math.abs(Y)+"",X=0;for((ht=Se.indexOf("."))>-1&&(Se=Se.replace(".","")),(Zt=Se.search(/e/i))>0?(ht<0&&(ht=Zt),ht+=+Se.slice(Zt+1),Se=Se.substring(0,Zt)):ht<0&&(ht=Se.length),Zt=0;"0"===Se.charAt(Zt);Zt++);if(Zt===(wn=Se.length))Ge=[0],ht=1;else{for(wn--;"0"===Se.charAt(wn);)wn--;for(ht-=Zt,Ge=[],Gt=0;Zt<=wn;Zt++,Gt++)Ge[Gt]=Number(Se.charAt(Zt))}return ht>22&&(Ge=Ge.splice(0,21),X=ht-1,ht=1),{digits:Ge,exponent:X,integerLen:ht}}(Y);Gt&&(gi=function yn(Y){if(0===Y.digits[0])return Y;const Se=Y.digits.length-Y.integerLen;return Y.exponent?Y.exponent+=2:(0===Se?Y.digits.push(0,0):1===Se&&Y.digits.push(0),Y.integerLen+=2),Y}(gi));let vi=Se.minInt,li=Se.minFrac,$i=Se.maxFrac;if(Zt){const ws=Zt.match(Ai);if(null===ws)throw new Error(`${Zt} is not a valid digit info`);const es=ws[1],Bs=ws[3],Ee=ws[5];null!=es&&(vi=Si(es)),null!=Bs&&(li=Si(Bs)),null!=Ee?$i=Si(Ee):null!=Bs&&li>$i&&($i=li)}!function Kn(Y,Se,X){if(Se>X)throw new Error(`The minimum number of digits after fraction (${Se}) is higher than the maximum (${X}).`);let Ge=Y.digits,ht=Ge.length-Y.integerLen;const Zt=Math.min(Math.max(Se,ht),X);let Gt=Zt+Y.integerLen,wn=Ge[Gt];if(Gt>0){Ge.splice(Math.max(Y.integerLen,Gt));for(let li=Gt;li<Ge.length;li++)Ge[li]=0}else{ht=Math.max(0,ht),Y.integerLen=1,Ge.length=Math.max(1,Gt=Zt+1),Ge[0]=0;for(let li=1;li<Gt;li++)Ge[li]=0}if(wn>=5)if(Gt-1<0){for(let li=0;li>Gt;li--)Ge.unshift(0),Y.integerLen++;Ge.unshift(1),Y.integerLen++}else Ge[Gt-1]++;for(;ht<Math.max(0,Zt);ht++)Ge.push(0);let Ii=0!==Zt;const gi=Se+Y.integerLen,vi=Ge.reduceRight(function(li,$i,fi,Yi){return Yi[fi]=($i+=li)<10?$i:$i-10,Ii&&(0===Yi[fi]&&fi>=gi?Yi.pop():Ii=!1),$i>=10?1:0},0);vi&&(Ge.unshift(vi),Y.integerLen++)}(gi,li,$i);let fi=gi.digits,Yi=gi.integerLen;const rs=gi.exponent;let Ro=[];for(Ii=fi.every(ws=>!ws);Yi<vi;Yi++)fi.unshift(0);for(;Yi<0;Yi++)fi.unshift(0);Yi>0?Ro=fi.splice(Yi,fi.length):(Ro=fi,fi=[0]);const gs=[];for(fi.length>=Se.lgSize&&gs.unshift(fi.splice(-Se.lgSize,fi.length).join(""));fi.length>Se.gSize;)gs.unshift(fi.splice(-Se.gSize,fi.length).join(""));fi.length&&gs.unshift(fi.join("")),wn=gs.join(Me(X,Ge)),Ro.length&&(wn+=Me(X,ht)+Ro.join("")),rs&&(wn+=Me(X,Ne.Exponential)+"+"+rs)}else wn=Me(X,Ne.Infinity);return wn=Y<0&&!Ii?Se.negPre+wn+Se.negSuf:Se.posPre+wn+Se.posSuf,wn}function mn(Y,Se="-"){const X={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Ge=Y.split(";"),ht=Ge[0],Zt=Ge[1],Gt=-1!==ht.indexOf(".")?ht.split("."):[ht.substring(0,ht.lastIndexOf("0")+1),ht.substring(ht.lastIndexOf("0")+1)],wn=Gt[0],Ii=Gt[1]||"";X.posPre=wn.substring(0,wn.indexOf("#"));for(let vi=0;vi<Ii.length;vi++){const li=Ii.charAt(vi);"0"===li?X.minFrac=X.maxFrac=vi+1:"#"===li?X.maxFrac=vi+1:X.posSuf+=li}const gi=wn.split(",");if(X.gSize=gi[1]?gi[1].length:0,X.lgSize=gi[2]||gi[1]?(gi[2]||gi[1]).length:0,Zt){const vi=ht.length-X.posPre.length-X.posSuf.length,li=Zt.indexOf("#");X.negPre=Zt.substring(0,li).replace(/'/g,""),X.negSuf=Zt.slice(li+vi).replace(/'/g,"")}else X.negPre=Se+X.posPre,X.negSuf=X.posSuf;return X}function Si(Y){const Se=parseInt(Y);if(isNaN(Se))throw new Error("Invalid integer literal when parsing "+Y);return Se}function po(Y,Se,X){return(0,e.dwT)(Y,Se,X)}function Ji(Y,Se){Se=encodeURIComponent(Se);for(const X of Y.split(";")){const Ge=X.indexOf("="),[ht,Zt]=-1==Ge?[X,""]:[X.slice(0,Ge),X.slice(Ge+1)];if(ht.trim()===Se)return decodeURIComponent(Zt)}return null}let _i=(()=>{class Y{constructor(X,Ge,ht,Zt){this._iterableDiffers=X,this._keyValueDiffers=Ge,this._ngEl=ht,this._renderer=Zt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(X){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof X?X.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(X){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof X?X.split(/\s+/):X,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const X=this._iterableDiffer.diff(this._rawClass);X&&this._applyIterableChanges(X)}else if(this._keyValueDiffer){const X=this._keyValueDiffer.diff(this._rawClass);X&&this._applyKeyValueChanges(X)}}_applyKeyValueChanges(X){X.forEachAddedItem(Ge=>this._toggleClass(Ge.key,Ge.currentValue)),X.forEachChangedItem(Ge=>this._toggleClass(Ge.key,Ge.currentValue)),X.forEachRemovedItem(Ge=>{Ge.previousValue&&this._toggleClass(Ge.key,!1)})}_applyIterableChanges(X){X.forEachAddedItem(Ge=>{if("string"!=typeof Ge.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(Ge.item)}`);this._toggleClass(Ge.item,!0)}),X.forEachRemovedItem(Ge=>this._toggleClass(Ge.item,!1))}_applyClasses(X){X&&(Array.isArray(X)||X instanceof Set?X.forEach(Ge=>this._toggleClass(Ge,!0)):Object.keys(X).forEach(Ge=>this._toggleClass(Ge,!!X[Ge])))}_removeClasses(X){X&&(Array.isArray(X)||X instanceof Set?X.forEach(Ge=>this._toggleClass(Ge,!1)):Object.keys(X).forEach(Ge=>this._toggleClass(Ge,!1)))}_toggleClass(X,Ge){(X=X.trim())&&X.split(/\s+/g).forEach(ht=>{Ge?this._renderer.addClass(this._ngEl.nativeElement,ht):this._renderer.removeClass(this._ngEl.nativeElement,ht)})}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},Y.\u0275dir=e.lG2({type:Y,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Y})();class oo{constructor(Se,X,Ge,ht){this.$implicit=Se,this.ngForOf=X,this.index=Ge,this.count=ht}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let so=(()=>{class Y{constructor(X,Ge,ht){this._viewContainer=X,this._template=Ge,this._differs=ht,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(X){this._ngForOf=X,this._ngForOfDirty=!0}set ngForTrackBy(X){this._trackByFn=X}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(X){X&&(this._template=X)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const X=this._ngForOf;!this._differ&&X&&(this._differ=this._differs.find(X).create(this.ngForTrackBy))}if(this._differ){const X=this._differ.diff(this._ngForOf);X&&this._applyChanges(X)}}_applyChanges(X){const Ge=this._viewContainer;X.forEachOperation((ht,Zt,Gt)=>{if(null==ht.previousIndex)Ge.createEmbeddedView(this._template,new oo(ht.item,this._ngForOf,-1,-1),null===Gt?void 0:Gt);else if(null==Gt)Ge.remove(null===Zt?void 0:Zt);else if(null!==Zt){const wn=Ge.get(Zt);Ge.move(wn,Gt),Qo(wn,ht)}});for(let ht=0,Zt=Ge.length;ht<Zt;ht++){const wn=Ge.get(ht).context;wn.index=ht,wn.count=Zt,wn.ngForOf=this._ngForOf}X.forEachIdentityChange(ht=>{Qo(Ge.get(ht.currentIndex),ht)})}static ngTemplateContextGuard(X,Ge){return!0}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},Y.\u0275dir=e.lG2({type:Y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Y})();function Qo(Y,Se){Y.context.$implicit=Se.item}let bs=(()=>{class Y{constructor(X,Ge){this._viewContainer=X,this._context=new bo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ge}set ngIf(X){this._context.$implicit=this._context.ngIf=X,this._updateView()}set ngIfThen(X){Di("ngIfThen",X),this._thenTemplateRef=X,this._thenViewRef=null,this._updateView()}set ngIfElse(X){Di("ngIfElse",X),this._elseTemplateRef=X,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(X,Ge){return!0}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.s_b),e.Y36(e.Rgc))},Y.\u0275dir=e.lG2({type:Y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Y})();class bo{constructor(){this.$implicit=null,this.ngIf=null}}function Di(Y,Se){if(Se&&!Se.createEmbeddedView)throw new Error(`${Y} must be a TemplateRef, but received '${(0,e.AaK)(Se)}'.`)}class Ri{constructor(Se,X){this._viewContainerRef=Se,this._templateRef=X,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Se){Se&&!this._created?this.create():!Se&&this._created&&this.destroy()}}let Mo=(()=>{class Y{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(X){this._ngSwitch=X,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(X){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(X)}_matchCase(X){const Ge=X==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ge,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ge}_updateDefaultCases(X){if(this._defaultViews&&X!==this._defaultUsed){this._defaultUsed=X;for(let Ge=0;Ge<this._defaultViews.length;Ge++)this._defaultViews[Ge].enforceState(X)}}}return Y.\u0275fac=function(X){return new(X||Y)},Y.\u0275dir=e.lG2({type:Y,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Y})(),Jo=(()=>{class Y{constructor(X,Ge,ht){this.ngSwitch=ht,ht._addCase(),this._view=new Ri(X,Ge)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Mo,9))},Y.\u0275dir=e.lG2({type:Y,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Y})(),ys=(()=>{class Y{constructor(X,Ge,ht){ht._addDefault(new Ri(X,Ge))}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Mo,9))},Y.\u0275dir=e.lG2({type:Y,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Y})(),Ei=(()=>{class Y{constructor(X,Ge,ht){this._ngEl=X,this._differs=Ge,this._renderer=ht,this._ngStyle=null,this._differ=null}set ngStyle(X){this._ngStyle=X,!this._differ&&X&&(this._differ=this._differs.find(X).create())}ngDoCheck(){if(this._differ){const X=this._differ.diff(this._ngStyle);X&&this._applyChanges(X)}}_setStyle(X,Ge){const[ht,Zt]=X.split("."),Gt=-1===ht.indexOf("-")?void 0:e.JOm.DashCase;null!=Ge?this._renderer.setStyle(this._ngEl.nativeElement,ht,Zt?`${Ge}${Zt}`:Ge,Gt):this._renderer.removeStyle(this._ngEl.nativeElement,ht,Gt)}_applyChanges(X){X.forEachRemovedItem(Ge=>this._setStyle(Ge.key,null)),X.forEachAddedItem(Ge=>this._setStyle(Ge.key,Ge.currentValue)),X.forEachChangedItem(Ge=>this._setStyle(Ge.key,Ge.currentValue))}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Qsj))},Y.\u0275dir=e.lG2({type:Y,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Y})(),ai=(()=>{class Y{constructor(X){this._viewContainerRef=X,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(X){if(X.ngTemplateOutlet||X.ngTemplateOutletInjector){const Ge=this._viewContainerRef;if(this._viewRef&&Ge.remove(Ge.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ht,ngTemplateOutletContext:Zt,ngTemplateOutletInjector:Gt}=this;this._viewRef=Ge.createEmbeddedView(ht,Zt,Gt?{injector:Gt}:void 0)}else this._viewRef=null}else this._viewRef&&X.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.s_b))},Y.\u0275dir=e.lG2({type:Y,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]}),Y})();function Sn(Y,Se){return new e.vHH(2100,!1)}class Zs{createSubscription(Se,X){return Se.subscribe({next:X,error:Ge=>{throw Ge}})}dispose(Se){Se.unsubscribe()}}class tr{createSubscription(Se,X){return Se.then(X,Ge=>{throw Ge})}dispose(Se){}}const gr=new tr,cs=new Zs;let jo=(()=>{class Y{constructor(X){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=X}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(X){return this._obj?X!==this._obj?(this._dispose(),this.transform(X)):this._latestValue:(X&&this._subscribe(X),this._latestValue)}_subscribe(X){this._obj=X,this._strategy=this._selectStrategy(X),this._subscription=this._strategy.createSubscription(X,Ge=>this._updateLatestValue(X,Ge))}_selectStrategy(X){if((0,e.QGY)(X))return gr;if((0,e.F4k)(X))return cs;throw Sn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(X,Ge){X===this._obj&&(this._latestValue=Ge,this._ref.markForCheck())}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.sBO,16))},Y.\u0275pipe=e.Yjl({name:"async",type:Y,pure:!1,standalone:!0}),Y})();const Yo=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let To=(()=>{class Y{transform(X){if(null==X)return null;if("string"!=typeof X)throw Sn();return X.replace(Yo,Ge=>Ge[0].toUpperCase()+Ge.slice(1).toLowerCase())}}return Y.\u0275fac=function(X){return new(X||Y)},Y.\u0275pipe=e.Yjl({name:"titlecase",type:Y,pure:!0,standalone:!0}),Y})();const Vs=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Us=(()=>{class Y{constructor(X,Ge){this.locale=X,this.defaultTimezone=Ge}transform(X,Ge="mediumDate",ht,Zt){var Gt;if(null==X||""===X||X!=X)return null;try{return M(X,Ge,Zt||this.locale,null!==(Gt=null!=ht?ht:this.defaultTimezone)&&void 0!==Gt?Gt:void 0)}catch(wn){throw Sn()}}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.soG,16),e.Y36(Vs,24))},Y.\u0275pipe=e.Yjl({name:"date",type:Y,pure:!0,standalone:!0}),Y})(),Ho=(()=>{class Y{constructor(X){this.differs=X,this.keyValues=[],this.compareFn=yo}transform(X,Ge=yo){if(!X||!(X instanceof Map)&&"object"!=typeof X)return null;this.differ||(this.differ=this.differs.find(X).create());const ht=this.differ.diff(X),Zt=Ge!==this.compareFn;return ht&&(this.keyValues=[],ht.forEachItem(Gt=>{this.keyValues.push(function ks(Y,Se){return{key:Y,value:Se}}(Gt.key,Gt.currentValue))})),(ht||Zt)&&(this.keyValues.sort(Ge),this.compareFn=Ge),this.keyValues}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.aQg,16))},Y.\u0275pipe=e.Yjl({name:"keyvalue",type:Y,pure:!1,standalone:!0}),Y})();function yo(Y,Se){const X=Y.key,Ge=Se.key;if(X===Ge)return 0;if(void 0===X)return 1;if(void 0===Ge)return-1;if(null===X)return 1;if(null===Ge)return-1;if("string"==typeof X&&"string"==typeof Ge)return X<Ge?-1:1;if("number"==typeof X&&"number"==typeof Ge)return X-Ge;if("boolean"==typeof X&&"boolean"==typeof Ge)return X<Ge?-1:1;const ht=String(X),Zt=String(Ge);return ht==Zt?0:ht<Zt?-1:1}let Fi=(()=>{class Y{constructor(X){this._locale=X}transform(X,Ge,ht){if(!Do(X))return null;ht=ht||this._locale;try{return function hn(Y,Se,X){return St(Y,mn(Fe(Se,G.Decimal),Me(Se,Ne.MinusSign)),Se,Ne.Group,Ne.Decimal,X)}(fo(X),ht,Ge)}catch(Zt){throw Sn()}}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.soG,16))},Y.\u0275pipe=e.Yjl({name:"number",type:Y,pure:!0,standalone:!0}),Y})(),wo=(()=>{class Y{constructor(X,Ge="USD"){this._locale=X,this._defaultCurrencyCode=Ge}transform(X,Ge=this._defaultCurrencyCode,ht="symbol",Zt,Gt){if(!Do(X))return null;Gt=Gt||this._locale,"boolean"==typeof ht&&(ht=ht?"symbol":"code");let wn=Ge||this._defaultCurrencyCode;"code"!==ht&&(wn="symbol"===ht||"symbol-narrow"===ht?function Bt(Y,Se,X="en"){const Ge=function Le(Y){return(0,e.cg1)(Y)[e.wAp.Currencies]}(X)[Y]||ye[Y]||[],ht=Ge[1];return"narrow"===Se&&"string"==typeof ht?ht:Ge[0]||Y}(wn,"symbol"===ht?"wide":"narrow",Gt):ht);try{return function Vt(Y,Se,X,Ge,ht){const Gt=mn(Fe(Se,G.Currency),Me(Se,Ne.MinusSign));return Gt.minFrac=function ft(Y){let Se;const X=ye[Y];return X&&(Se=X[2]),"number"==typeof Se?Se:2}(Ge),Gt.maxFrac=Gt.minFrac,St(Y,Gt,Se,Ne.CurrencyGroup,Ne.CurrencyDecimal,ht).replace("\xa4",X).replace("\xa4","").trim()}(fo(X),Gt,wn,Ge,Zt)}catch(Ii){throw Sn()}}}return Y.\u0275fac=function(X){return new(X||Y)(e.Y36(e.soG,16),e.Y36(e.EJc,16))},Y.\u0275pipe=e.Yjl({name:"currency",type:Y,pure:!0,standalone:!0}),Y})();function Do(Y){return!(null==Y||""===Y||Y!=Y)}function fo(Y){if("string"==typeof Y&&!isNaN(Number(Y)-parseFloat(Y)))return Number(Y);if("number"!=typeof Y)throw new Error(`${Y} is not a number`);return Y}let os=(()=>{class Y{transform(X,Ge,ht){if(null==X)return null;if(!this.supports(X))throw Sn();return X.slice(Ge,ht)}supports(X){return"string"==typeof X||Array.isArray(X)}}return Y.\u0275fac=function(X){return new(X||Y)},Y.\u0275pipe=e.Yjl({name:"slice",type:Y,pure:!1,standalone:!0}),Y})(),us=(()=>{class Y{}return Y.\u0275fac=function(X){return new(X||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({}),Y})();const Ms="browser";function Ye(Y){return Y===Ms}function vt(Y){return"server"===Y}let st=(()=>{class Y{}return Y.\u0275prov=(0,e.Yz7)({token:Y,providedIn:"root",factory:()=>new Yt((0,e.LFG)(L),window)}),Y})();class Yt{constructor(Se,X){this.document=Se,this.window=X,this.offset=()=>[0,0]}setOffset(Se){this.offset=Array.isArray(Se)?()=>Se:Se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Se){this.supportsScrolling()&&this.window.scrollTo(Se[0],Se[1])}scrollToAnchor(Se){if(!this.supportsScrolling())return;const X=function _n(Y,Se){const X=Y.getElementById(Se)||Y.getElementsByName(Se)[0];if(X)return X;if("function"==typeof Y.createTreeWalker&&Y.body&&(Y.body.createShadowRoot||Y.body.attachShadow)){const Ge=Y.createTreeWalker(Y.body,NodeFilter.SHOW_ELEMENT);let ht=Ge.currentNode;for(;ht;){const Zt=ht.shadowRoot;if(Zt){const Gt=Zt.getElementById(Se)||Zt.querySelector(`[name="${Se}"]`);if(Gt)return Gt}ht=Ge.nextNode()}}return null}(this.document,Se);X&&(this.scrollToElement(X),X.focus())}setHistoryScrollRestoration(Se){if(this.supportScrollRestoration()){const X=this.window.history;X&&X.scrollRestoration&&(X.scrollRestoration=Se)}}scrollToElement(Se){const X=Se.getBoundingClientRect(),Ge=X.left+this.window.pageXOffset,ht=X.top+this.window.pageYOffset,Zt=this.offset();this.window.scrollTo(Ge-Zt[0],ht-Zt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Se=gn(this.window.history)||gn(Object.getPrototypeOf(this.window.history));return!(!Se||!Se.writable&&!Se.set)}catch(Se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Se){return!1}}}function gn(Y){return Object.getOwnPropertyDescriptor(Y,"scrollRestoration")}class si{}},520:(Lt,qe,C)=>{C.d(qe,{JF:()=>ft,eN:()=>Re});var e=C(9808),s=C(5e3),f=C(9646),V=C(9751),F=C(4351),I=C(9300),L=C(4004);class se{}class q{}class z{constructor(mt){this.normalizedNames=new Map,this.lazyUpdate=null,mt?this.lazyInit="string"==typeof mt?()=>{this.headers=new Map,mt.split("\n").forEach(Ze=>{const It=Ze.indexOf(":");if(It>0){const M=Ze.slice(0,It),_e=M.toLowerCase(),Ie=Ze.slice(It+1).trim();this.maybeSetNormalizedName(M,_e),this.headers.has(_e)?this.headers.get(_e).push(Ie):this.headers.set(_e,[Ie])}})}:()=>{this.headers=new Map,Object.keys(mt).forEach(Ze=>{let It=mt[Ze];const M=Ze.toLowerCase();"string"==typeof It&&(It=[It]),It.length>0&&(this.headers.set(M,It),this.maybeSetNormalizedName(Ze,M))})}:this.headers=new Map}has(mt){return this.init(),this.headers.has(mt.toLowerCase())}get(mt){this.init();const Ze=this.headers.get(mt.toLowerCase());return Ze&&Ze.length>0?Ze[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(mt){return this.init(),this.headers.get(mt.toLowerCase())||null}append(mt,Ze){return this.clone({name:mt,value:Ze,op:"a"})}set(mt,Ze){return this.clone({name:mt,value:Ze,op:"s"})}delete(mt,Ze){return this.clone({name:mt,value:Ze,op:"d"})}maybeSetNormalizedName(mt,Ze){this.normalizedNames.has(Ze)||this.normalizedNames.set(Ze,mt)}init(){this.lazyInit&&(this.lazyInit instanceof z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(mt=>this.applyUpdate(mt)),this.lazyUpdate=null))}copyFrom(mt){mt.init(),Array.from(mt.headers.keys()).forEach(Ze=>{this.headers.set(Ze,mt.headers.get(Ze)),this.normalizedNames.set(Ze,mt.normalizedNames.get(Ze))})}clone(mt){const Ze=new z;return Ze.lazyInit=this.lazyInit&&this.lazyInit instanceof z?this.lazyInit:this,Ze.lazyUpdate=(this.lazyUpdate||[]).concat([mt]),Ze}applyUpdate(mt){const Ze=mt.name.toLowerCase();switch(mt.op){case"a":case"s":let It=mt.value;if("string"==typeof It&&(It=[It]),0===It.length)return;this.maybeSetNormalizedName(mt.name,Ze);const M=("a"===mt.op?this.headers.get(Ze):void 0)||[];M.push(...It),this.headers.set(Ze,M);break;case"d":const _e=mt.value;if(_e){let Ie=this.headers.get(Ze);if(!Ie)return;Ie=Ie.filter(Xe=>-1===_e.indexOf(Xe)),0===Ie.length?(this.headers.delete(Ze),this.normalizedNames.delete(Ze)):this.headers.set(Ze,Ie)}else this.headers.delete(Ze),this.normalizedNames.delete(Ze)}}forEach(mt){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ze=>mt(this.normalizedNames.get(Ze),this.headers.get(Ze)))}}class ne{encodeKey(mt){return pe(mt)}encodeValue(mt){return pe(mt)}decodeKey(mt){return decodeURIComponent(mt)}decodeValue(mt){return decodeURIComponent(mt)}}const ue=/%(\d[a-f0-9])/gi,ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pe(Ht){return encodeURIComponent(Ht).replace(ue,(mt,Ze)=>{var It;return null!==(It=ge[Ze])&&void 0!==It?It:mt})}function ke(Ht){return`${Ht}`}class Q{constructor(mt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=mt.encoder||new ne,mt.fromString){if(mt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function De(Ht,mt){const Ze=new Map;return Ht.length>0&&Ht.replace(/^\?/,"").split("&").forEach(M=>{const _e=M.indexOf("="),[Ie,Xe]=-1==_e?[mt.decodeKey(M),""]:[mt.decodeKey(M.slice(0,_e)),mt.decodeValue(M.slice(_e+1))],Rt=Ze.get(Ie)||[];Rt.push(Xe),Ze.set(Ie,Rt)}),Ze}(mt.fromString,this.encoder)}else mt.fromObject?(this.map=new Map,Object.keys(mt.fromObject).forEach(Ze=>{const It=mt.fromObject[Ze],M=Array.isArray(It)?It.map(ke):[ke(It)];this.map.set(Ze,M)})):this.map=null}has(mt){return this.init(),this.map.has(mt)}get(mt){this.init();const Ze=this.map.get(mt);return Ze?Ze[0]:null}getAll(mt){return this.init(),this.map.get(mt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(mt,Ze){return this.clone({param:mt,value:Ze,op:"a"})}appendAll(mt){const Ze=[];return Object.keys(mt).forEach(It=>{const M=mt[It];Array.isArray(M)?M.forEach(_e=>{Ze.push({param:It,value:_e,op:"a"})}):Ze.push({param:It,value:M,op:"a"})}),this.clone(Ze)}set(mt,Ze){return this.clone({param:mt,value:Ze,op:"s"})}delete(mt,Ze){return this.clone({param:mt,value:Ze,op:"d"})}toString(){return this.init(),this.keys().map(mt=>{const Ze=this.encoder.encodeKey(mt);return this.map.get(mt).map(It=>Ze+"="+this.encoder.encodeValue(It)).join("&")}).filter(mt=>""!==mt).join("&")}clone(mt){const Ze=new Q({encoder:this.encoder});return Ze.cloneFrom=this.cloneFrom||this,Ze.updates=(this.updates||[]).concat(mt),Ze}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(mt=>this.map.set(mt,this.cloneFrom.map.get(mt))),this.updates.forEach(mt=>{switch(mt.op){case"a":case"s":const Ze=("a"===mt.op?this.map.get(mt.param):void 0)||[];Ze.push(ke(mt.value)),this.map.set(mt.param,Ze);break;case"d":if(void 0===mt.value){this.map.delete(mt.param);break}{let It=this.map.get(mt.param)||[];const M=It.indexOf(ke(mt.value));-1!==M&&It.splice(M,1),It.length>0?this.map.set(mt.param,It):this.map.delete(mt.param)}}}),this.cloneFrom=this.updates=null)}}class le{constructor(){this.map=new Map}set(mt,Ze){return this.map.set(mt,Ze),this}get(mt){return this.map.has(mt)||this.map.set(mt,mt.defaultValue()),this.map.get(mt)}delete(mt){return this.map.delete(mt),this}has(mt){return this.map.has(mt)}keys(){return this.map.keys()}}function N(Ht){return"undefined"!=typeof ArrayBuffer&&Ht instanceof ArrayBuffer}function we(Ht){return"undefined"!=typeof Blob&&Ht instanceof Blob}function be(Ht){return"undefined"!=typeof FormData&&Ht instanceof FormData}class G{constructor(mt,Ze,It,M){let _e;if(this.url=Ze,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=mt.toUpperCase(),function P(Ht){switch(Ht){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||M?(this.body=void 0!==It?It:null,_e=M):_e=It,_e&&(this.reportProgress=!!_e.reportProgress,this.withCredentials=!!_e.withCredentials,_e.responseType&&(this.responseType=_e.responseType),_e.headers&&(this.headers=_e.headers),_e.context&&(this.context=_e.context),_e.params&&(this.params=_e.params)),this.headers||(this.headers=new z),this.context||(this.context=new le),this.params){const Ie=this.params.toString();if(0===Ie.length)this.urlWithParams=Ze;else{const Xe=Ze.indexOf("?");this.urlWithParams=Ze+(-1===Xe?"?":Xe<Ze.length-1?"&":"")+Ie}}else this.params=new Q,this.urlWithParams=Ze}serializeBody(){return null===this.body?null:N(this.body)||we(this.body)||be(this.body)||function ye(Ht){return"undefined"!=typeof URLSearchParams&&Ht instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Q?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||be(this.body)?null:we(this.body)?this.body.type||null:N(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Q?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(mt={}){var Ze;const It=mt.method||this.method,M=mt.url||this.url,_e=mt.responseType||this.responseType,Ie=void 0!==mt.body?mt.body:this.body,Xe=void 0!==mt.withCredentials?mt.withCredentials:this.withCredentials,Rt=void 0!==mt.reportProgress?mt.reportProgress:this.reportProgress;let Qt=mt.headers||this.headers,nn=mt.params||this.params;const nt=null!==(Ze=mt.context)&&void 0!==Ze?Ze:this.context;return void 0!==mt.setHeaders&&(Qt=Object.keys(mt.setHeaders).reduce((xt,ee)=>xt.set(ee,mt.setHeaders[ee]),Qt)),mt.setParams&&(nn=Object.keys(mt.setParams).reduce((xt,ee)=>xt.set(ee,mt.setParams[ee]),nn)),new G(It,M,Ie,{params:nn,headers:Qt,context:nt,reportProgress:Rt,responseType:_e,withCredentials:Xe})}}var E=(()=>((E=E||{})[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E))();class U{constructor(mt,Ze=200,It="OK"){this.headers=mt.headers||new z,this.status=void 0!==mt.status?mt.status:Ze,this.statusText=mt.statusText||It,this.url=mt.url||null,this.ok=this.status>=200&&this.status<300}}class $ extends U{constructor(mt={}){super(mt),this.type=E.ResponseHeader}clone(mt={}){return new $({headers:mt.headers||this.headers,status:void 0!==mt.status?mt.status:this.status,statusText:mt.statusText||this.statusText,url:mt.url||this.url||void 0})}}class Ae extends U{constructor(mt={}){super(mt),this.type=E.Response,this.body=void 0!==mt.body?mt.body:null}clone(mt={}){return new Ae({body:void 0!==mt.body?mt.body:this.body,headers:mt.headers||this.headers,status:void 0!==mt.status?mt.status:this.status,statusText:mt.statusText||this.statusText,url:mt.url||this.url||void 0})}}class Ne extends U{constructor(mt){super(mt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${mt.url||"(unknown url)"}`:`Http failure response for ${mt.url||"(unknown url)"}: ${mt.status} ${mt.statusText}`,this.error=mt.error||null}}function He(Ht,mt){return{body:mt,headers:Ht.headers,context:Ht.context,observe:Ht.observe,params:Ht.params,reportProgress:Ht.reportProgress,responseType:Ht.responseType,withCredentials:Ht.withCredentials}}let Re=(()=>{class Ht{constructor(Ze){this.handler=Ze}request(Ze,It,M={}){let _e;if(Ze instanceof G)_e=Ze;else{let Rt,Qt;Rt=M.headers instanceof z?M.headers:new z(M.headers),M.params&&(Qt=M.params instanceof Q?M.params:new Q({fromObject:M.params})),_e=new G(Ze,It,void 0!==M.body?M.body:null,{headers:Rt,context:M.context,params:Qt,reportProgress:M.reportProgress,responseType:M.responseType||"json",withCredentials:M.withCredentials})}const Ie=(0,f.of)(_e).pipe((0,F.b)(Rt=>this.handler.handle(Rt)));if(Ze instanceof G||"events"===M.observe)return Ie;const Xe=Ie.pipe((0,I.h)(Rt=>Rt instanceof Ae));switch(M.observe||"body"){case"body":switch(_e.responseType){case"arraybuffer":return Xe.pipe((0,L.U)(Rt=>{if(null!==Rt.body&&!(Rt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Rt.body}));case"blob":return Xe.pipe((0,L.U)(Rt=>{if(null!==Rt.body&&!(Rt.body instanceof Blob))throw new Error("Response is not a Blob.");return Rt.body}));case"text":return Xe.pipe((0,L.U)(Rt=>{if(null!==Rt.body&&"string"!=typeof Rt.body)throw new Error("Response is not a string.");return Rt.body}));default:return Xe.pipe((0,L.U)(Rt=>Rt.body))}case"response":return Xe;default:throw new Error(`Unreachable: unhandled observe type ${M.observe}}`)}}delete(Ze,It={}){return this.request("DELETE",Ze,It)}get(Ze,It={}){return this.request("GET",Ze,It)}head(Ze,It={}){return this.request("HEAD",Ze,It)}jsonp(Ze,It){return this.request("JSONP",Ze,{params:(new Q).append(It,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ze,It={}){return this.request("OPTIONS",Ze,It)}patch(Ze,It,M={}){return this.request("PATCH",Ze,He(M,It))}post(Ze,It,M={}){return this.request("POST",Ze,He(M,It))}put(Ze,It,M={}){return this.request("PUT",Ze,He(M,It))}}return Ht.\u0275fac=function(Ze){return new(Ze||Ht)(s.LFG(se))},Ht.\u0275prov=s.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();class gt{constructor(mt,Ze){this.next=mt,this.interceptor=Ze}handle(mt){return this.interceptor.intercept(mt,this.next)}}const ut=new s.OlP("HTTP_INTERCEPTORS");let Pe=(()=>{class Ht{intercept(Ze,It){return It.handle(Ze)}}return Ht.\u0275fac=function(Ze){return new(Ze||Ht)},Ht.\u0275prov=s.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const R=/^\)\]\}',?\n/;let Le=(()=>{class Ht{constructor(Ze){this.xhrFactory=Ze}handle(Ze){if("JSONP"===Ze.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new V.y(It=>{const M=this.xhrFactory.build();if(M.open(Ze.method,Ze.urlWithParams),Ze.withCredentials&&(M.withCredentials=!0),Ze.headers.forEach((ee,ze)=>M.setRequestHeader(ee,ze.join(","))),Ze.headers.has("Accept")||M.setRequestHeader("Accept","application/json, text/plain, */*"),!Ze.headers.has("Content-Type")){const ee=Ze.detectContentTypeHeader();null!==ee&&M.setRequestHeader("Content-Type",ee)}if(Ze.responseType){const ee=Ze.responseType.toLowerCase();M.responseType="json"!==ee?ee:"text"}const _e=Ze.serializeBody();let Ie=null;const Xe=()=>{if(null!==Ie)return Ie;const ee=M.statusText||"OK",ze=new z(M.getAllResponseHeaders()),dt=function it(Ht){return"responseURL"in Ht&&Ht.responseURL?Ht.responseURL:/^X-Request-URL:/m.test(Ht.getAllResponseHeaders())?Ht.getResponseHeader("X-Request-URL"):null}(M)||Ze.url;return Ie=new $({headers:ze,status:M.status,statusText:ee,url:dt}),Ie},Rt=()=>{let{headers:ee,status:ze,statusText:dt,url:bt}=Xe(),sn=null;204!==ze&&(sn=void 0===M.response?M.responseText:M.response),0===ze&&(ze=sn?200:0);let ni=ze>=200&&ze<300;if("json"===Ze.responseType&&"string"==typeof sn){const Ui=sn;sn=sn.replace(R,"");try{sn=""!==sn?JSON.parse(sn):null}catch(kt){sn=Ui,ni&&(ni=!1,sn={error:kt,text:sn})}}ni?(It.next(new Ae({body:sn,headers:ee,status:ze,statusText:dt,url:bt||void 0})),It.complete()):It.error(new Ne({error:sn,headers:ee,status:ze,statusText:dt,url:bt||void 0}))},Qt=ee=>{const{url:ze}=Xe(),dt=new Ne({error:ee,status:M.status||0,statusText:M.statusText||"Unknown Error",url:ze||void 0});It.error(dt)};let nn=!1;const nt=ee=>{nn||(It.next(Xe()),nn=!0);let ze={type:E.DownloadProgress,loaded:ee.loaded};ee.lengthComputable&&(ze.total=ee.total),"text"===Ze.responseType&&!!M.responseText&&(ze.partialText=M.responseText),It.next(ze)},xt=ee=>{let ze={type:E.UploadProgress,loaded:ee.loaded};ee.lengthComputable&&(ze.total=ee.total),It.next(ze)};return M.addEventListener("load",Rt),M.addEventListener("error",Qt),M.addEventListener("timeout",Qt),M.addEventListener("abort",Qt),Ze.reportProgress&&(M.addEventListener("progress",nt),null!==_e&&M.upload&&M.upload.addEventListener("progress",xt)),M.send(_e),It.next({type:E.Sent}),()=>{M.removeEventListener("error",Qt),M.removeEventListener("abort",Qt),M.removeEventListener("load",Rt),M.removeEventListener("timeout",Qt),Ze.reportProgress&&(M.removeEventListener("progress",nt),null!==_e&&M.upload&&M.upload.removeEventListener("progress",xt)),M.readyState!==M.DONE&&M.abort()}})}}return Ht.\u0275fac=function(Ze){return new(Ze||Ht)(s.LFG(e.JF))},Ht.\u0275prov=s.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const Et=new s.OlP("XSRF_COOKIE_NAME"),un=new s.OlP("XSRF_HEADER_NAME");class Cn{}let Ot=(()=>{class Ht{constructor(Ze,It,M){this.doc=Ze,this.platform=It,this.cookieName=M,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ze=this.doc.cookie||"";return Ze!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,e.Mx)(Ze,this.cookieName),this.lastCookieString=Ze),this.lastToken}}return Ht.\u0275fac=function(Ze){return new(Ze||Ht)(s.LFG(e.K0),s.LFG(s.Lbi),s.LFG(Et))},Ht.\u0275prov=s.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})(),en=(()=>{class Ht{constructor(Ze,It){this.tokenService=Ze,this.headerName=It}intercept(Ze,It){const M=Ze.url.toLowerCase();if("GET"===Ze.method||"HEAD"===Ze.method||M.startsWith("http://")||M.startsWith("https://"))return It.handle(Ze);const _e=this.tokenService.getToken();return null!==_e&&!Ze.headers.has(this.headerName)&&(Ze=Ze.clone({headers:Ze.headers.set(this.headerName,_e)})),It.handle(Ze)}}return Ht.\u0275fac=function(Ze){return new(Ze||Ht)(s.LFG(Cn),s.LFG(un))},Ht.\u0275prov=s.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})(),at=(()=>{class Ht{constructor(Ze,It){this.backend=Ze,this.injector=It,this.chain=null}handle(Ze){if(null===this.chain){const It=this.injector.get(ut,[]);this.chain=It.reduceRight((M,_e)=>new gt(M,_e),this.backend)}return this.chain.handle(Ze)}}return Ht.\u0275fac=function(Ze){return new(Ze||Ht)(s.LFG(q),s.LFG(s.zs3))},Ht.\u0275prov=s.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})(),tn=(()=>{class Ht{static disable(){return{ngModule:Ht,providers:[{provide:en,useClass:Pe}]}}static withOptions(Ze={}){return{ngModule:Ht,providers:[Ze.cookieName?{provide:Et,useValue:Ze.cookieName}:[],Ze.headerName?{provide:un,useValue:Ze.headerName}:[]]}}}return Ht.\u0275fac=function(Ze){return new(Ze||Ht)},Ht.\u0275mod=s.oAB({type:Ht}),Ht.\u0275inj=s.cJS({providers:[en,{provide:ut,useExisting:en,multi:!0},{provide:Cn,useClass:Ot},{provide:Et,useValue:"XSRF-TOKEN"},{provide:un,useValue:"X-XSRF-TOKEN"}]}),Ht})(),ft=(()=>{class Ht{}return Ht.\u0275fac=function(Ze){return new(Ze||Ht)},Ht.\u0275mod=s.oAB({type:Ht}),Ht.\u0275inj=s.cJS({providers:[Re,{provide:se,useClass:at},Le,{provide:q,useExisting:Le}],imports:[tn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ht})()},5e3:(Lt,qe,C)=>{C.d(qe,{$8M:()=>br,$Z:()=>lm,AFp:()=>XC,ALo:()=>vs,AaK:()=>se,Akn:()=>Or,AsE:()=>uh,B6R:()=>sn,BQk:()=>sd,CHM:()=>Xo,CRH:()=>BC,CZH:()=>Sd,CqO:()=>$m,D6c:()=>n1,DdM:()=>vC,Dn7:()=>zl,EJc:()=>s0,EiD:()=>Af,EpF:()=>Km,F$t:()=>o_,F4k:()=>qm,FYo:()=>Rf,FiY:()=>_u,G48:()=>jI,G7q:()=>qh,Gf:()=>II,GfV:()=>bp,GkF:()=>th,Gpc:()=>he,HOy:()=>ph,HTZ:()=>Uc,Hh0:()=>yC,Hsn:()=>s_,JOm:()=>da,JVY:()=>FA,Jf7:()=>Ff,KtG:()=>Os,L6k:()=>BA,LAX:()=>ml,LFG:()=>Co,LSH:()=>Su,Lbi:()=>n0,Lck:()=>sI,MAs:()=>Ym,MMx:()=>_d,NdJ:()=>ih,O4$:()=>wn,OlP:()=>Oi,Oqu:()=>ch,PXZ:()=>zI,Q6J:()=>$p,QGY:()=>nh,QP$:()=>pi,QbO:()=>LI,Qsj:()=>vp,R0b:()=>Tr,RDi:()=>MA,Rgc:()=>Jl,SBq:()=>Il,Sil:()=>FI,Suo:()=>Id,TTD:()=>oi,TgZ:()=>nd,Tol:()=>I_,Udp:()=>rh,VKq:()=>bC,W1O:()=>wI,WD2:()=>Fi,WLB:()=>fI,X6Q:()=>Va,XFs:()=>at,Xpm:()=>bt,Xts:()=>ku,Y36:()=>Xa,YKP:()=>Vh,YNc:()=>Wm,Yjl:()=>qt,Yz7:()=>re,Z0I:()=>$e,ZZ4:()=>Li,_Bn:()=>hC,_UZ:()=>eh,_Vd:()=>yl,_c5:()=>I0,_uU:()=>E_,aQg:()=>Br,c2e:()=>co,cJS:()=>Me,cg1:()=>mh,dDg:()=>ZI,dqk:()=>M,dwT:()=>Vy,eBb:()=>Zi,eFA:()=>al,ekj:()=>ah,eoX:()=>$c,evT:()=>yp,f3M:()=>qd,g9A:()=>t0,gM2:()=>Kh,h0i:()=>ol,hGG:()=>A0,hij:()=>ld,iGM:()=>FC,ifc:()=>It,ip1:()=>$C,jDz:()=>fC,kEZ:()=>Wh,kL8:()=>Q_,l5B:()=>Cd,lG2:()=>At,lcZ:()=>mI,lnq:()=>dh,lqb:()=>bl,lri:()=>qc,mCW:()=>mc,n5z:()=>Eo,oAB:()=>kt,oJD:()=>Tf,oxw:()=>i_,pB0:()=>Cf,q3G:()=>zo,qLn:()=>Fu,qOj:()=>Wp,qZA:()=>id,qbA:()=>Yh,qzn:()=>gc,rFY:()=>AC,rWj:()=>bg,sBO:()=>WI,sIi:()=>Sc,s_b:()=>Kr,soG:()=>Za,tb:()=>Jc,tp0:()=>Cu,uIk:()=>qp,vHH:()=>ge,vpe:()=>Yr,wAp:()=>Qn,xi3:()=>SC,xp6:()=>Jf,ynx:()=>od,z2F:()=>nc,z3N:()=>Ma,zSh:()=>pp,zs3:()=>$a});var e=C(7579),s=C(727),f=C(9751),V=C(6451),F=C(3099);function I(a){for(let l in a)if(a[l]===I)return l;throw Error("Could not find renamed property on target object.")}function L(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function se(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(se).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function q(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const z=I({__forward_ref__:I});function he(a){return a.__forward_ref__=he,a.toString=function(){return se(this())},a}function ne(a){return De(a)?a():a}function De(a){return"function"==typeof a&&a.hasOwnProperty(z)&&a.__forward_ref__===he}class ge extends Error{constructor(l,u){super(function pe(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function ke(a){return"string"==typeof a?a:null==a?"":String(a)}function N(a,l){throw new ge(-201,!1)}function Pe(a,l){null==a&&function We(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function re(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Me(a){return{providers:a.providers||[],imports:a.imports||[]}}function Fe(a){return R(a,un)||R(a,Ot)}function $e(a){return null!==Fe(a)}function R(a,l){return a.hasOwnProperty(l)?a[l]:null}function Et(a){return a&&(a.hasOwnProperty(Cn)||a.hasOwnProperty(en))?a[Cn]:null}const un=I({\u0275prov:I}),Cn=I({\u0275inj:I}),Ot=I({ngInjectableDef:I}),en=I({ngInjectorDef:I});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let Pt;function tn(a){const l=Pt;return Pt=a,l}function ft(a,l,u){const d=Fe(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&at.Optional?null:void 0!==l?l:void N(se(a))}function qn(a){return{toString:a}.toString()}var Ht=(()=>((Ht=Ht||{})[Ht.OnPush=0]="OnPush",Ht[Ht.Default=1]="Default",Ht))(),It=(()=>{return(a=It||(It={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",It;var a})();const M=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Xe={},Rt=[],Qt=I({\u0275cmp:I}),nn=I({\u0275dir:I}),nt=I({\u0275pipe:I}),xt=I({\u0275mod:I}),ee=I({\u0275fac:I}),ze=I({__NG_ELEMENT_ID__:I});let dt=0;function bt(a){return qn(()=>{const u=!0===a.standalone,d={},g={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ht.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Rt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||It.Emulated,id:"c"+dt++,styles:a.styles||Rt,_:null,setInput:null,schemas:a.schemas||null,tView:null},v=a.dependencies,T=a.features;return g.inputs=tt(a.inputs,d),g.outputs=tt(a.outputs),T&&T.forEach(H=>H(g)),g.directiveDefs=v?()=>("function"==typeof v?v():v).map(ni).filter(Ui):null,g.pipeDefs=v?()=>("function"==typeof v?v():v).map(Rn).filter(Ui):null,g})}function sn(a,l,u){const d=a.\u0275cmp;d.directiveDefs=()=>("function"==typeof l?l():l).map(ni),d.pipeDefs=()=>("function"==typeof u?u():u).map(Rn)}function ni(a){return Kt(a)||vn(a)}function Ui(a){return null!==a}function kt(a){return qn(()=>({type:a.type,bootstrap:a.bootstrap||Rt,declarations:a.declarations||Rt,imports:a.imports||Rt,exports:a.exports||Rt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function tt(a,l){if(null==a)return Xe;const u={};for(const d in a)if(a.hasOwnProperty(d)){let g=a[d],v=g;Array.isArray(g)&&(v=g[1],g=g[0]),u[g]=d,l&&(l[g]=v)}return u}const At=bt;function qt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Kt(a){return a[Qt]||null}function vn(a){return a[nn]||null}function Rn(a){return a[nt]||null}function pi(a){const l=Kt(a)||vn(a)||Rn(a);return null!==l&&l.standalone}function Ai(a,l){const u=a[xt]||null;if(!u&&!0===l)throw new Error(`Type ${se(a)} does not have '\u0275mod' property.`);return u}function Di(a){return Array.isArray(a)&&"object"==typeof a[1]}function Ri(a){return Array.isArray(a)&&!0===a[1]}function Mo(a){return 0!=(8&a.flags)}function Jo(a){return 2==(2&a.flags)}function ys(a){return 1==(1&a.flags)}function ho(a){return null!==a.template}function is(a){return 0!=(256&a[2])}function yo(a,l){return a.hasOwnProperty(ee)?a[ee]:null}class Fi{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function oi(){return wo}function wo(a){return a.type.prototype.ngOnChanges&&(a.setInput=fo),Do}function Do(){const a=nr(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===Xe)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function fo(a,l,u,d){const g=nr(a)||function us(a,l){return a[os]=l}(a,{previous:Xe,current:null}),v=g.current||(g.current={}),T=g.previous,H=this.declaredInputs[u],K=T[H];v[H]=new Fi(K&&K.currentValue,l,T===Xe),a[d]=l}oi.ngInherit=!0;const os="__ngSimpleChanges__";function nr(a){return a[os]||null}function Ue(a){for(;Array.isArray(a);)a=a[0];return a}function gn(a,l){return Ue(l[a])}function _n(a,l){return Ue(l[a.index])}function si(a,l){return a.data[l]}function yi(a,l){return a[l]}function Dn(a,l){const u=l[a];return Di(u)?u:u[0]}function Zo(a){return 64==(64&a[2])}function hi(a,l){return null==l?null:a[l]}function Ds(a){a[18]=0}function ds(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const Vn={lFrame:ta(null),bindingsEnabled:!0};function Oo(){return Vn.bindingsEnabled}function on(){return Vn.lFrame.lView}function jn(){return Vn.lFrame.tView}function Xo(a){return Vn.lFrame.contextLView=a,a[8]}function Os(a){return Vn.lFrame.contextLView=null,a}function Bi(){let a=Ps();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ps(){return Vn.lFrame.currentTNode}function zi(a,l){const u=Vn.lFrame;u.currentTNode=a,u.isParent=l}function As(){return Vn.lFrame.isParent}function Vr(){Vn.lFrame.isParent=!1}function W(){const a=Vn.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Je(){return Vn.lFrame.bindingIndex}function Tn(){return Vn.lFrame.bindingIndex++}function Ci(a){const l=Vn.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Ls(a,l){const u=Vn.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ns(l)}function Ns(a){Vn.lFrame.currentDirectiveIndex=a}function js(){return Vn.lFrame.currentQueryIndex}function or(a){Vn.lFrame.currentQueryIndex=a}function wr(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Fs(a,l,u){if(u&at.SkipSelf){let g=l,v=a;for(;!(g=g.parent,null!==g||u&at.Host||(g=wr(v),null===g||(v=v[15],10&g.type))););if(null===g)return!1;l=g,a=v}const d=Vn.lFrame=ea();return d.currentTNode=l,d.lView=a,!0}function zr(a){const l=ea(),u=a[1];Vn.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function ea(){const a=Vn.lFrame,l=null===a?null:a.child;return null===l?ta(a):l}function ta(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function na(){const a=Vn.lFrame;return Vn.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Y=na;function Se(){const a=na();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ht(){return Vn.lFrame.selectedIndex}function Zt(a){Vn.lFrame.selectedIndex=a}function Gt(){const a=Vn.lFrame;return si(a.tView,a.selectedIndex)}function wn(){Vn.lFrame.currentNamespace="svg"}function fi(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const v=a.data[u].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:H,ngAfterViewInit:K,ngAfterViewChecked:ve,ngOnDestroy:je}=v;T&&(a.contentHooks||(a.contentHooks=[])).push(-u,T),H&&((a.contentHooks||(a.contentHooks=[])).push(u,H),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,H)),K&&(a.viewHooks||(a.viewHooks=[])).push(-u,K),ve&&((a.viewHooks||(a.viewHooks=[])).push(u,ve),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,ve)),null!=je&&(a.destroyHooks||(a.destroyHooks=[])).push(u,je)}}function Yi(a,l,u){gs(a,l,3,u)}function rs(a,l,u,d){(3&a[2])===u&&gs(a,l,u,d)}function Ro(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function gs(a,l,u,d){const v=null!=d?d:-1,T=l.length-1;let H=0;for(let K=void 0!==d?65535&a[18]:0;K<T;K++)if("number"==typeof l[K+1]){if(H=l[K],null!=d&&H>=d)break}else l[K]<0&&(a[18]+=65536),(H<v||-1==v)&&(ws(a,u,l,K),a[18]=(4294901760&a[18])+K+2),K++}function ws(a,l,u,d){const g=u[d]<0,v=u[d+1],H=a[g?-u[d]:u[d]];if(g){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{v.call(H)}finally{}}}else try{v.call(H)}finally{}}class Bs{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Nt(a,l,u){let d=0;for(;d<u.length;){const g=u[d];if("number"==typeof g){if(0!==g)break;d++;const v=u[d++],T=u[d++],H=u[d++];a.setAttribute(l,T,H,v)}else{const v=g,T=u[++d];In(v)?a.setProperty(l,v,T):a.setAttribute(l,v,T),d++}}return d}function $t(a){return 3===a||4===a||6===a}function In(a){return 64===a.charCodeAt(0)}function En(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const g=l[d];"number"==typeof g?u=g:0===u||$n(a,u,g,null,-1===u||2===u?l[++d]:null)}}return a}function $n(a,l,u,d,g){let v=0,T=a.length;if(-1===l)T=-1;else for(;v<a.length;){const H=a[v++];if("number"==typeof H){if(H===l){T=-1;break}if(H>l){T=v-1;break}}}for(;v<a.length;){const H=a[v];if("number"==typeof H)break;if(H===u){if(null===d)return void(null!==g&&(a[v+1]=g));if(d===a[v+1])return void(a[v+2]=g)}v++,null!==d&&v++,null!==g&&v++}-1!==T&&(a.splice(T,0,l),v=T+1),a.splice(v++,0,u),null!==d&&a.splice(v++,0,d),null!==g&&a.splice(v++,0,g)}function Xn(a){return-1!==a}function Fn(a){return 32767&a}function ri(a,l){let u=function zn(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let mi=!0;function no(a){const l=mi;return mi=a,l}let fs=0;const Gi={};function xs(a,l){const u=sr(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,ts(d.data,a),ts(l,null),ts(d.blueprint,null));const g=ms(a,l),v=a.injectorIndex;if(Xn(g)){const T=Fn(g),H=ri(g,l),K=H[1].data;for(let ve=0;ve<8;ve++)l[v+ve]=H[T+ve]|K[T+ve]}return l[v+8]=g,v}function ts(a,l){a.push(0,0,0,0,0,0,0,0,l)}function sr(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function ms(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,g=l;for(;null!==g;){if(d=rr(g),null===d)return-1;if(u++,g=g[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Ys(a,l,u){!function Uo(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(ze)&&(d=u[ze]),null==d&&(d=u[ze]=fs++);const g=255&d;l.data[a+(g>>5)]|=1<<g}(a,l,u)}function ia(a,l,u){if(u&at.Optional||void 0!==a)return a;N()}function Mn(a,l,u,d){if(u&at.Optional&&void 0===d&&(d=null),0==(u&(at.Self|at.Host))){const g=a[9],v=tn(void 0);try{return g?g.get(l,d,u&at.Optional):ft(l,d,u&at.Optional)}finally{tn(v)}}return ia(d,0,u)}function Nn(a,l,u,d=at.Default,g){if(null!==a){if(1024&l[2]){const T=function ls(a,l,u,d,g){let v=a,T=l;for(;null!==v&&null!==T&&1024&T[2]&&!(256&T[2]);){const H=Hn(v,T,u,d|at.Self,Gi);if(H!==Gi)return H;let K=v.parent;if(!K){const ve=T[21];if(ve){const je=ve.get(u,Gi,d);if(je!==Gi)return je}K=rr(T),T=T[15]}v=K}return g}(a,l,u,d,Gi);if(T!==Gi)return T}const v=Hn(a,l,u,d,Gi);if(v!==Gi)return v}return Mn(l,u,d,g)}function Hn(a,l,u,d,g){const v=function No(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(ze)?a[ze]:void 0;return"number"==typeof l?l>=0?255&l:wa:l}(u);if("function"==typeof v){if(!Fs(l,a,d))return d&at.Host?ia(g,0,d):Mn(l,u,d,g);try{const T=v(d);if(null!=T||d&at.Optional)return T;N()}finally{Y()}}else if("number"==typeof v){let T=null,H=sr(a,l),K=-1,ve=d&at.Host?l[16][6]:null;for((-1===H||d&at.SkipSelf)&&(K=-1===H?ms(a,l):l[H+8],-1!==K&&Hi(d,!1)?(T=l[1],H=Fn(K),l=ri(K,l)):H=-1);-1!==H;){const je=l[1];if(as(v,H,je.data)){const lt=Zn(H,l,u,T,d,ve);if(lt!==Gi)return lt}K=l[H+8],-1!==K&&Hi(d,l[1].data[H+8]===ve)&&as(v,H,l)?(T=je,H=Fn(K),l=ri(K,l)):H=-1}}return g}function Zn(a,l,u,d,g,v){const T=l[1],H=T.data[a+8],je=Qi(H,T,u,null==d?Jo(H)&&mi:d!=T&&0!=(3&H.type),g&at.Host&&v===H);return null!==je?Lo(l,T,je,H):Gi}function Qi(a,l,u,d,g){const v=a.providerIndexes,T=l.data,H=1048575&v,K=a.directiveStart,je=v>>20,wt=g?H+je:a.directiveEnd;for(let Ft=d?H:H+je;Ft<wt;Ft++){const Xt=T[Ft];if(Ft<K&&u===Xt||Ft>=K&&Xt.type===u)return Ft}if(g){const Ft=T[K];if(Ft&&ho(Ft)&&Ft.type===u)return K}return null}function Lo(a,l,u,d){let g=a[u];const v=l.data;if(function Ee(a){return a instanceof Bs}(g)){const T=g;T.resolving&&function Oe(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ge(-200,`Circular dependency in DI detected for ${a}${u}`)}(function Q(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ke(a)}(v[u]));const H=no(T.canSeeViewProviders);T.resolving=!0;const K=T.injectImpl?tn(T.injectImpl):null;Fs(a,d,at.Default);try{g=a[u]=T.factory(void 0,v,a,d),l.firstCreatePass&&u>=d.directiveStart&&function $i(a,l,u){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:v}=l.type.prototype;if(d){const T=wo(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,T),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,T)}g&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,g),v&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v))}(u,v[u],l)}finally{null!==K&&tn(K),no(H),T.resolving=!1,Y()}}return g}function as(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Hi(a,l){return!(a&at.Self||a&at.Host&&l)}class vr{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Nn(this._tNode,this._lView,l,d,u)}}function wa(){return new vr(Bi(),on())}function Eo(a){return qn(()=>{const l=a.prototype.constructor,u=l[ee]||Ks(l),d=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==d;){const v=g[ee]||Ks(g);if(v&&v!==u)return v;g=Object.getPrototypeOf(g)}return v=>new v})}function Ks(a){return De(a)?()=>{const l=Ks(ne(a));return l&&l()}:yo(a)}function rr(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function br(a){return function Cr(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let g=0;for(;g<d;){const v=u[g];if($t(v))break;if(0===v)g+=2;else if("number"==typeof v)for(g++;g<d&&"string"==typeof u[g];)g++;else{if(v===l)return u[g+1];g+=2}}}return null}(Bi(),a)}const oa="__parameters__";function ra(a,l,u){return qn(()=>{const d=function sa(a){return function(...u){if(a){const d=a(...u);for(const g in d)this[g]=d[g]}}}(l);function g(...v){if(this instanceof g)return d.apply(this,v),this;const T=new g(...v);return H.annotation=T,H;function H(K,ve,je){const lt=K.hasOwnProperty(oa)?K[oa]:Object.defineProperty(K,oa,{value:[]})[oa];for(;lt.length<=je;)lt.push(null);return(lt[je]=lt[je]||[]).push(T),K}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}class Oi{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=re({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _s(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),_s(d,l)):l!==a&&l.push(d)}return l}function lr(a,l){a.forEach(u=>Array.isArray(u)?lr(u,l):l(u))}function Qa(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function la(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Sa(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function j(a,l,u){let d=ot(a,l);return d>=0?a[1|d]=u:(d=~d,function b(a,l,u,d){let g=a.length;if(g==l)a.push(u,d);else if(1===g)a.push(d,a[0]),a[0]=u;else{for(g--,a.push(a[g-1],a[g]);g>l;)a[g]=a[g-2],g--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function Te(a,l){const u=ot(a,l);if(u>=0)return a[1|u]}function ot(a,l){return function pn(a,l,u){let d=0,g=a.length>>u;for(;g!==d;){const v=d+(g-d>>1),T=a[v<<u];if(l===T)return v<<u;T>l?g=v:d=v+1}return~(g<<u)}(a,l,1)}const Fo={},ka="__NG_DI_FLAG__",Ja="ngTempTokenPath",Wd=/\n/gm,Kd="__source";let pl;function ca(a){const l=pl;return pl=a,l}function gu(a,l=at.Default){if(void 0===pl)throw new ge(-203,!1);return null===pl?ft(a,void 0,l):pl.get(a,l&at.Optional?null:void 0,l)}function Co(a,l=at.Default){return(function Bt(){return Pt}()||gu)(ne(a),l)}function qd(a,l=at.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Co(a,l)}function mu(a){const l=[];for(let u=0;u<a.length;u++){const d=ne(a[u]);if(Array.isArray(d)){if(0===d.length)throw new ge(900,!1);let g,v=at.Default;for(let T=0;T<d.length;T++){const H=d[T],K=$d(H);"number"==typeof K?-1===K?g=H.token:v|=K:g=H}l.push(Co(g,v))}else l.push(Co(d))}return l}function ua(a,l){return a[ka]=l,a.prototype[ka]=l,a}function $d(a){return a[ka]}const _u=ua(ra("Optional"),8),Cu=ua(ra("SkipSelf"),4);var da=(()=>((da=da||{})[da.Important=1]="Important",da[da.DashCase=2]="DashCase",da))();const Wg=new Map;let X1=0;const Kg="__ngContext__";function Hs(a,l){Di(l)?(a[Kg]=l[20],function tA(a){Wg.set(a[20],a)}(l)):a[Kg]=l}function $g(a,l){return undefined(a,l)}function Iu(a){const l=a[3];return Ri(l)?l[3]:l}function Xg(a){return sv(a[13])}function ef(a){return sv(a[4])}function sv(a){for(;null!==a&&!Ri(a);)a=a[4];return a}function hc(a,l,u,d,g){if(null!=d){let v,T=!1;Ri(d)?v=d:Di(d)&&(T=!0,d=d[0]);const H=Ue(d);0===a&&null!==u?null==g?uf(l,u,H):hl(l,u,H,g||null,!0):1===a&&null!==u?hl(l,u,H,g||null,!0):2===a?function op(a,l,u){const d=np(a,l);d&&function IA(a,l,u,d){a.removeChild(l,u,d)}(a,d,l,u)}(l,H,T):3===a&&l.destroyNode(H),null!=v&&function wA(a,l,u,d,g){const v=u[7];v!==Ue(u)&&hc(l,a,d,v,g);for(let H=10;H<u.length;H++){const K=u[H];xu(K[1],K,a,l,d,v)}}(l,a,v,u,g)}}function nf(a,l,u){return a.createElement(l,u)}function sf(a,l){const u=a[9],d=u.indexOf(l),g=l[3];512&l[2]&&(l[2]&=-513,ds(g,-1)),u.splice(d,1)}function rf(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const g=d[17];null!==g&&g!==a&&sf(g,d),l>0&&(a[u-1][4]=d[4]);const v=la(a,10+l);!function fA(a,l){xu(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const T=v[19];null!==T&&T.detachView(v[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function tp(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&xu(a,l,u,3,null,null),function CA(a){let l=a[13];if(!l)return af(a[1],a);for(;l;){let u=null;if(Di(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)Di(l)&&af(l[1],l),l=l[3];null===l&&(l=a),Di(l)&&af(l[1],l),u=l&&l[4]}l=u}}(l)}}function af(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function lf(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const g=l[u[d]];if(!(g instanceof Bs)){const v=u[d+1];if(Array.isArray(v))for(let T=0;T<v.length;T+=2){const H=g[v[T]],K=v[T+1];try{K.call(H)}finally{}}else try{v.call(g)}finally{}}}}(a,l),function yA(a,l){const u=a.cleanup,d=l[7];let g=-1;if(null!==u)for(let v=0;v<u.length-1;v+=2)if("string"==typeof u[v]){const T=u[v+1],H="function"==typeof T?T(l):Ue(l[T]),K=d[g=u[v+2]],ve=u[v+3];"boolean"==typeof ve?H.removeEventListener(u[v],K,ve):ve>=0?d[g=ve]():d[g=-ve].unsubscribe(),v+=2}else{const T=d[g=u[v+1]];u[v].call(T)}if(null!==d){for(let v=g+1;v<d.length;v++)(0,d[v])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Ri(l[3])){u!==l[3]&&sf(u,l);const d=l[19];null!==d&&d.detachView(a)}!function nA(a){Wg.delete(a[20])}(l)}}function av(a,l,u){return function cf(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const g=a.data[d.directiveStart].encapsulation;if(g===It.None||g===It.Emulated)return null}return _n(d,u)}(a,l.parent,u)}function hl(a,l,u,d,g){a.insertBefore(l,u,d,g)}function uf(a,l,u){a.appendChild(l,u)}function lv(a,l,u,d,g){null!==d?hl(a,l,u,d,g):uf(a,l,u)}function np(a,l){return a.parentNode(l)}function cv(a,l,u){return dv(a,l,u)}let sp,ff,rp,dv=function uv(a,l,u){return 40&a.type?_n(a,u):null};function Au(a,l,u,d){const g=av(a,d,l),v=l[11],H=cv(d.parent||l[6],d,l);if(null!=g)if(Array.isArray(u))for(let K=0;K<u.length;K++)lv(v,g,u[K],H,!1);else lv(v,g,u,H,!1)}function Tu(a,l){if(null!==l){const u=l.type;if(3&u)return _n(l,a);if(4&u)return ip(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return Tu(a,d);{const g=a[l.index];return Ri(g)?ip(-1,g):Ue(g)}}if(32&u)return $g(l,a)()||Ue(a[l.index]);{const d=pf(a,l);return null!==d?Array.isArray(d)?d[0]:Tu(Iu(a[16]),d):Tu(a,l.next)}}return null}function pf(a,l){return null!==l?a[16][6].projection[l.projection]:null}function ip(a,l){const u=10+a+1;if(u<l.length){const d=l[u],g=d[1].firstChild;if(null!==g)return Tu(d,g)}return l[7]}function wu(a,l,u,d,g,v,T){for(;null!=u;){const H=d[u.index],K=u.type;if(T&&0===l&&(H&&Hs(Ue(H),d),u.flags|=4),64!=(64&u.flags))if(8&K)wu(a,l,u.child,d,g,v,!1),hc(l,a,g,H,v);else if(32&K){const ve=$g(u,d);let je;for(;je=ve();)hc(l,a,g,je,v);hc(l,a,g,H,v)}else 16&K?hv(a,l,d,u,g,v):hc(l,a,g,H,v);u=T?u.projectionNext:u.next}}function xu(a,l,u,d,g,v){wu(u,d,a.firstChild,l,g,v,!1)}function hv(a,l,u,d,g,v){const T=u[16],K=T[6].projection[d.projection];if(Array.isArray(K))for(let ve=0;ve<K.length;ve++)hc(l,a,g,K[ve],v);else wu(a,l,K,T[3],g,v,!0)}function gv(a,l,u){a.setAttribute(l,"style",u)}function hf(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function gl(a){var l;return(null===(l=function gf(){if(void 0===sp&&(sp=null,M.trustedTypes))try{sp=M.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return sp}())||void 0===l?void 0:l.createHTML(a))||a}function MA(a){ff=a}function _v(a){var l;return(null===(l=function mf(){if(void 0===rp&&(rp=null,M.trustedTypes))try{rp=M.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return rp}())||void 0===l?void 0:l.createHTML(a))||a}class fl{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class DA extends fl{getTypeName(){return"HTML"}}class OA extends fl{getTypeName(){return"Style"}}class PA extends fl{getTypeName(){return"Script"}}class RA extends fl{getTypeName(){return"URL"}}class LA extends fl{getTypeName(){return"ResourceURL"}}function Ma(a){return a instanceof fl?a.changingThisBreaksApplicationSecurity:a}function gc(a,l){const u=function NA(a){return a instanceof fl&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function FA(a){return new DA(a)}function BA(a){return new OA(a)}function Zi(a){return new PA(a)}function ml(a){return new RA(a)}function Cf(a){return new LA(a)}class fc{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(gl(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class vv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=gl(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=gl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let g=u.length-1;0<g;g--){const T=u.item(g).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&l.removeAttribute(T)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const bv=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function mc(a){return(a=String(a)).match(bv)?a:"unsafe:"+a}function Da(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function pa(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const _l=Da("area,br,col,hr,img,wbr"),Gr=Da("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Eu=Da("rp,rt"),cr=pa(_l,pa(Gr,Da("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pa(Eu,Da("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pa(Eu,Gr)),ha=Da("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cc=pa(ha,Da("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Da("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yf=Da("script,style,template");class yv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let g=this.checkClobberedElement(u,u.nextSibling);if(g){u=g;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!cr.hasOwnProperty(u))return this.sanitizedSomething=!0,!yf.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let g=0;g<d.length;g++){const v=d.item(g),T=v.name,H=T.toLowerCase();if(!Cc.hasOwnProperty(H)){this.sanitizedSomething=!0;continue}let K=v.value;ha[H]&&(K=mc(K)),this.buf.push(" ",T,'="',If(K),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();cr.hasOwnProperty(u)&&!_l.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(If(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const ZA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Iv=/([^\#-~ |!])/g;function If(a){return a.replace(/&/g,"&amp;").replace(ZA,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Iv,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ya;function Af(a,l){let u=null;try{Ya=Ya||function ap(a){const l=new vv(a);return function vf(){try{return!!(new window.DOMParser).parseFromString(gl(""),"text/html")}catch(a){return!1}}()?new fc(l):l}(a);let d=l?String(l):"";u=Ya.getInertBodyElement(d);let g=5,v=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=v,v=u.innerHTML,u=Ya.getInertBodyElement(d)}while(d!==v);return gl((new yv).sanitizeChildren(lp(u)||u))}finally{if(u){const d=lp(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function lp(a){return"content"in a&&function Av(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var zo=(()=>((zo=zo||{})[zo.NONE=0]="NONE",zo[zo.HTML=1]="HTML",zo[zo.STYLE=2]="STYLE",zo[zo.SCRIPT=3]="SCRIPT",zo[zo.URL=4]="URL",zo[zo.RESOURCE_URL=5]="RESOURCE_URL",zo))();function Tf(a){const l=vc();return l?_v(l.sanitize(zo.HTML,a)||""):gc(a,"HTML")?_v(Ma(a)):Af(function mv(){return void 0!==ff?ff:"undefined"!=typeof document?document:void 0}(),ke(a))}function Su(a){const l=vc();return l?l.sanitize(zo.URL,a)||"":gc(a,"URL")?Ma(a):mc(ke(a))}function vc(){const a=on();return a&&a[12]}const ku=new Oi("ENVIRONMENT_INITIALIZER"),xv=new Oi("INJECTOR",-1),up=new Oi("INJECTOR_DEF_TYPES");class Ev{get(l,u=Fo){if(u===Fo){const d=new Error(`NullInjectorError: No provider for ${se(l)}!`);throw d.name="NullInjectorError",d}return u}}function zA(...a){return{\u0275providers:Sv(0,a)}}function Sv(a,...l){const u=[],d=new Set;let g;return lr(l,v=>{const T=v;Ef(T,u,[],d)&&(g||(g=[]),g.push(T))}),void 0!==g&&kv(g,u),u}function kv(a,l){for(let u=0;u<a.length;u++){const{providers:g}=a[u];lr(g,v=>{l.push(v)})}}function Ef(a,l,u,d){if(!(a=ne(a)))return!1;let g=null,v=Et(a);const T=!v&&Kt(a);if(v||T){if(T&&!T.standalone)return!1;g=a}else{const K=a.ngModule;if(v=Et(K),!v)return!1;g=K}const H=d.has(g);if(T){if(H)return!1;if(d.add(g),T.dependencies){const K="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const ve of K)Ef(ve,l,u,d)}}else{if(!v)return!1;{if(null!=v.imports&&!H){let ve;d.add(g);try{lr(v.imports,je=>{Ef(je,l,u,d)&&(ve||(ve=[]),ve.push(je))})}finally{}void 0!==ve&&kv(ve,l)}if(!H){const ve=yo(g)||(()=>new g);l.push({provide:g,useFactory:ve,deps:Rt},{provide:up,useValue:g,multi:!0},{provide:ku,useValue:()=>Co(g),multi:!0})}const K=v.providers;null==K||H||lr(K,je=>{l.push(je)})}}return g!==a&&void 0!==a.providers}const Mv=I({provide:String,useValue:I});function dp(a){return null!==a&&"object"==typeof a&&Mv in a}function vl(a){return"function"==typeof a}const pp=new Oi("Set Injector scope."),hp={},GA={};let Sf;function gp(){return void 0===Sf&&(Sf=new Ev),Sf}class bl{}class Rv extends bl{constructor(l,u,d,g){super(),this.parent=u,this.source=d,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bc(l,T=>this.processProvider(T)),this.records.set(xv,kr(void 0,this)),g.has("environment")&&this.records.set(bl,kr(void 0,this));const v=this.records.get(pp);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(up.multi,Rt,at.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=ca(this),d=tn(void 0);try{return l()}finally{ca(u),tn(d)}}get(l,u=Fo,d=at.Default){this.assertNotDestroyed();const g=ca(this),v=tn(void 0);try{if(!(d&at.SkipSelf)){let H=this.records.get(l);if(void 0===H){const K=function Df(a){return"function"==typeof a||"object"==typeof a&&a instanceof Oi}(l)&&Fe(l);H=K&&this.injectableDefInScope(K)?kr(kf(l),hp):null,this.records.set(l,H)}if(null!=H)return this.hydrate(l,H)}return(d&at.Self?gp():this.parent).get(l,u=d&at.Optional&&u===Fo?null:u)}catch(T){if("NullInjectorError"===T.name){if((T[Ja]=T[Ja]||[]).unshift(se(l)),g)throw T;return function ja(a,l,u,d){const g=a[Ja];throw l[Kd]&&g.unshift(l[Kd]),a.message=function Wa(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let g=se(l);if(Array.isArray(l))g=l.map(se).join(" -> ");else if("object"==typeof l){let v=[];for(let T in l)if(l.hasOwnProperty(T)){let H=l[T];v.push(T+":"+("string"==typeof H?JSON.stringify(H):se(H)))}g=`{${v.join(", ")}}`}return`${u}${d?"("+d+")":""}[${g}]: ${a.replace(Wd,"\n  ")}`}("\n"+a.message,g,u,d),a.ngTokenPath=g,a[Ja]=null,a}(T,l,"R3InjectorError",this.source)}throw T}finally{tn(v),ca(g)}}resolveInjectorInitializers(){const l=ca(this),u=tn(void 0);try{const d=this.get(ku.multi,Rt,at.Self);for(const g of d)g()}finally{ca(l),tn(u)}}toString(){const l=[],u=this.records;for(const d of u.keys())l.push(se(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(l){let u=vl(l=ne(l))?l:ne(l&&l.provide);const d=function Lv(a){return dp(a)?kr(void 0,a.useValue):kr(Mu(a),hp)}(l);if(vl(l)||!0!==l.multi)this.records.get(u);else{let g=this.records.get(u);g||(g=kr(void 0,hp,!0),g.factory=()=>mu(g.multi),this.records.set(u,g)),u=l,g.multi.push(l)}this.records.set(u,d)}hydrate(l,u){return u.value===hp&&(u.value=GA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Du(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ne(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function kf(a){const l=Fe(a),u=null!==l?l.factory:yo(a);if(null!==u)return u;if(a instanceof Oi)throw new ge(204,!1);if(a instanceof Function)return function fp(a){const l=a.length;if(l>0)throw Sa(l,"?"),new ge(204,!1);const u=function it(a){const l=a&&(a[un]||a[Ot]);if(l){const u=function Le(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new ge(204,!1)}function Mu(a,l,u){let d;if(vl(a)){const g=ne(a);return yo(g)||kf(g)}if(dp(a))d=()=>ne(a.useValue);else if(function Ov(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...mu(a.deps||[]));else if(function Dv(a){return!(!a||!a.useExisting)}(a))d=()=>Co(ne(a.useExisting));else{const g=ne(a&&(a.useClass||a.provide));if(!function Mf(a){return!!a.deps}(a))return yo(g)||kf(g);d=()=>new g(...mu(a.deps))}return d}function kr(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function Nv(a){return!!a.\u0275providers}function bc(a,l){for(const u of a)Array.isArray(u)?bc(u,l):Nv(u)?bc(u.\u0275providers,l):l(u)}class Ou{}class Of{resolveComponentFactory(l){throw function yc(a){const l=Error(`No component factory found for ${se(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let yl=(()=>{class a{}return a.NULL=new Of,a})();function Bv(){return qa(Bi(),on())}function qa(a,l){return new Il(_n(a,l))}let Il=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Bv,a})();function Pf(a){return a instanceof Il?a.nativeElement:a}class Rf{}let vp=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Hv(){const a=on(),u=Dn(Bi().index,a);return(Di(u)?u:a)[11]}(),a})(),Pu=(()=>{class a{}return a.\u0275prov=re({token:a,providedIn:"root",factory:()=>null}),a})();class bp{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Ic=new bp("14.2.12"),Ru={};function Nu(a){return a.ngOriginalError}class Fu{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Nu(l);for(;u&&Nu(u);)u=Nu(u);return u||null}}function Ff(a){return a.ownerDocument.defaultView}function yp(a){return a.ownerDocument}function Ir(a){return a instanceof Function?a():a}function Ip(a,l,u){let d=a.length;for(;;){const g=a.indexOf(l,u);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const v=l.length;if(g+v===d||a.charCodeAt(g+v)<=32)return g}u=g+1}}const Zf="ng-template";function Vf(a,l,u){let d=0;for(;d<a.length;){let g=a[d++];if(u&&"class"===g){if(g=a[d],-1!==Ip(g.toLowerCase(),l,0))return!0}else if(1===g){for(;d<a.length&&"string"==typeof(g=a[d++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function Ap(a){return 4===a.type&&a.value!==Zf}function Uf(a,l,u){return l===(4!==a.type||u?a.value:Zf)}function JA(a,l,u){let d=4;const g=a.attrs||[],v=function Gv(a){for(let l=0;l<a.length;l++)if($t(a[l]))return l;return a.length}(g);let T=!1;for(let H=0;H<l.length;H++){const K=l[H];if("number"!=typeof K){if(!T)if(4&d){if(d=2|1&d,""!==K&&!Uf(a,K,u)||""===K&&1===l.length){if(Mr(d))return!1;T=!0}}else{const ve=8&d?K:l[++H];if(8&d&&null!==a.attrs){if(!Vf(a.attrs,ve,u)){if(Mr(d))return!1;T=!0}continue}const lt=jA(8&d?"class":K,g,Ap(a),u);if(-1===lt){if(Mr(d))return!1;T=!0;continue}if(""!==ve){let wt;wt=lt>v?"":g[lt+1].toLowerCase();const Ft=8&d?wt:null;if(Ft&&-1!==Ip(Ft,ve,0)||2&d&&ve!==wt){if(Mr(d))return!1;T=!0}}}}else{if(!T&&!Mr(d)&&!Mr(K))return!1;if(T&&Mr(K))continue;T=!1,d=K|1&d}}return Mr(d)||T}function Mr(a){return 0==(1&a)}function jA(a,l,u,d){if(null===l)return-1;let g=0;if(d||!u){let v=!1;for(;g<l.length;){const T=l[g];if(T===a)return g;if(3===T||6===T)v=!0;else{if(1===T||2===T){let H=l[++g];for(;"string"==typeof H;)H=l[++g];continue}if(4===T)break;if(0===T){g+=4;continue}}g+=v?1:2}return-1}return function Gf(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function zf(a,l,u=!1){for(let d=0;d<l.length;d++)if(JA(a,l[d],u))return!0;return!1}function Hu(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let g=0;g<a.length;g++)if(a[g]!==d[g])continue e;return!0}}return!1}function Qf(a,l){return a?":not("+l.trim()+")":l}function Qv(a){let l=a[0],u=1,d=2,g="",v=!1;for(;u<a.length;){let T=a[u];if("string"==typeof T)if(2&d){const H=a[++u];g+="["+T+(H.length>0?'="'+H+'"':"")+"]"}else 8&d?g+="."+T:4&d&&(g+=" "+T);else""!==g&&!Mr(T)&&(l+=Qf(v,g),g=""),d=T,v=v||!Mr(d);u++}return""!==g&&(l+=Qf(v,g)),l}const ui={};function Jf(a){jf(jn(),on(),ht()+a,!1)}function jf(a,l,u,d){if(!d)if(3==(3&l[2])){const v=a.preOrderCheckHooks;null!==v&&Yi(l,v,u)}else{const v=a.preOrderHooks;null!==v&&rs(l,v,0,u)}Zt(u)}function Xf(a,l=null,u=null,d){const g=em(a,l,u,d);return g.resolveInjectorInitializers(),g}function em(a,l=null,u=null,d,g=new Set){const v=[u||Rt,zA(a)];return d=d||("object"==typeof a?void 0:se(a)),new Rv(v,l||gp(),d||null,g)}let $a=(()=>{class a{static create(u,d){var g;if(Array.isArray(u))return Xf({name:""},d,u,"");{const v=null!==(g=u.name)&&void 0!==g?g:"";return Xf({name:v},u.parent,u.providers,v)}}}return a.THROW_IF_NOT_FOUND=Fo,a.NULL=new Ev,a.\u0275prov=re({token:a,providedIn:"any",factory:()=>Co(xv)}),a.__NG_ELEMENT_ID__=-1,a})();function Xa(a,l=at.Default){const u=on();return null===u?Co(a,l):Nn(Bi(),u,ne(a),l)}function lm(){throw new Error("invalid")}function Vu(a,l){return a<<17|l<<2}function Dr(a){return a>>17&32767}function Sp(a){return 2|a}function ga(a){return(131068&a)>>2}function Uu(a,l){return-131069&a|l<<2}function wc(a){return 1|a}function vm(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const g=u[d],v=u[d+1];if(-1!==v){const T=a.data[v];or(g),T.contentQueries(2,l[v],v)}}}function Ju(a,l,u,d,g,v,T,H,K,ve,je){const lt=l.blueprint.slice();return lt[0]=g,lt[2]=76|d,(null!==je||a&&1024&a[2])&&(lt[2]|=1024),Ds(lt),lt[3]=lt[15]=a,lt[8]=u,lt[10]=T||a&&a[10],lt[11]=H||a&&a[11],lt[12]=K||a&&a[12]||null,lt[9]=ve||a&&a[9]||null,lt[6]=v,lt[20]=function eA(){return X1++}(),lt[21]=je,lt[16]=2==l.type?a[16]:lt,lt}function wl(a,l,u,d,g){let v=a.data[l];if(null===v)v=function Lp(a,l,u,d,g){const v=Ps(),T=As(),K=a.data[l]=function xb(a,l,u,d,g,v){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?v:v&&v.parent,u,l,d,g);return null===a.firstChild&&(a.firstChild=K),null!==v&&(T?null==v.child&&null!==K.parent&&(v.child=K):null===v.next&&(v.next=K)),K}(a,l,u,d,g),function Po(){return Vn.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=u,v.value=d,v.attrs=g;const T=function Rs(){const a=Vn.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();v.injectorIndex=null===T?-1:T.injectorIndex}return zi(v,!0),v}function xl(a,l,u,d){if(0===u)return-1;const g=l.length;for(let v=0;v<u;v++)l.push(d),a.blueprint.push(d),a.data.push(null);return g}function Np(a,l,u){zr(l);try{const d=a.viewQuery;null!==d&&Qp(1,d,u);const g=a.template;null!==g&&bm(a,l,g,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&vm(a,l),a.staticViewQueries&&Qp(2,a.viewQuery,u);const v=a.components;null!==v&&function Ab(a,l){for(let u=0;u<l.length;u++)Zb(a,l[u])}(l,v)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Se()}}function ju(a,l,u,d){const g=l[2];if(128!=(128&g)){zr(l);try{Ds(l),function Jt(a){return Vn.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&bm(a,l,u,2,d);const T=3==(3&g);if(T){const ve=a.preOrderCheckHooks;null!==ve&&Yi(l,ve,null)}else{const ve=a.preOrderHooks;null!==ve&&rs(l,ve,0,null),Ro(l,0)}if(function Om(a){for(let l=Xg(a);null!==l;l=ef(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const g=u[d],v=g[3];0==(512&g[2])&&ds(v,1),g[2]|=512}}}(l),function Wu(a){for(let l=Xg(a);null!==l;l=ef(l))for(let u=10;u<l.length;u++){const d=l[u],g=d[1];Zo(d)&&ju(g,d,g.template,d[8])}}(l),null!==a.contentQueries&&vm(a,l),T){const ve=a.contentCheckHooks;null!==ve&&Yi(l,ve)}else{const ve=a.contentHooks;null!==ve&&rs(l,ve,1),Ro(l,1)}!function yb(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const g=u[d];if(g<0)Zt(~g);else{const v=g,T=u[++d],H=u[++d];Ls(T,v),H(2,l[v])}}}finally{Zt(-1)}}(a,l);const H=a.components;null!==H&&function Ib(a,l){for(let u=0;u<l.length;u++)Hb(a,l[u])}(l,H);const K=a.viewQuery;if(null!==K&&Qp(2,K,d),T){const ve=a.viewCheckHooks;null!==ve&&Yi(l,ve)}else{const ve=a.viewHooks;null!==ve&&rs(l,ve,2),Ro(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,ds(l[3],-1))}finally{Se()}}}function bm(a,l,u,d,g){const v=ht(),T=2&d;try{Zt(-1),T&&l.length>22&&jf(a,l,22,!1),u(d,g)}finally{Zt(v)}}function ym(a,l,u){if(Mo(l)){const g=l.directiveEnd;for(let v=l.directiveStart;v<g;v++){const T=a.data[v];T.contentQueries&&T.contentQueries(1,u[v],v)}}}function Fp(a,l,u){!Oo()||(function Db(a,l,u,d){const g=u.directiveStart,v=u.directiveEnd;a.firstCreatePass||xs(u,l),Hs(d,l);const T=u.initialInputs;for(let H=g;H<v;H++){const K=a.data[H],ve=ho(K);ve&&Nb(l,u,K);const je=Lo(l,a,H,u);Hs(je,l),null!==T&&Fb(0,H-g,je,K,0,T),ve&&(Dn(u.index,l)[8]=je)}}(a,l,u,_n(u,l)),128==(128&u.flags)&&function Ob(a,l,u){const d=u.directiveStart,g=u.directiveEnd,v=u.index,T=function Ts(){return Vn.lFrame.currentDirectiveIndex}();try{Zt(v);for(let H=d;H<g;H++){const K=a.data[H],ve=l[H];Ns(H),(null!==K.hostBindings||0!==K.hostVars||null!==K.hostAttrs)&&Sm(K,ve)}}finally{Zt(-1),Ns(T)}}(a,l,u))}function Bp(a,l,u=_n){const d=l.localNames;if(null!==d){let g=l.index+1;for(let v=0;v<d.length;v+=2){const T=d[v+1],H=-1===T?u(l,a):a[T];a[g++]=H}}}function Im(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Hp(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Hp(a,l,u,d,g,v,T,H,K,ve){const je=22+d,lt=je+g,wt=function Tb(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:ui);return u}(je,lt),Ft="function"==typeof ve?ve():ve;return wt[1]={type:a,blueprint:wt,template:u,queries:null,viewQuery:H,declTNode:l,data:wt.slice().fill(null,je),bindingStartIndex:je,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:K,consts:Ft,incompleteFirstPass:!1}}function Am(a,l,u,d){const g=Pm(l);null===u?g.push(d):(g.push(u),a.firstCreatePass&&qu(a).push(d,g.length-1))}function Tm(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const g=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,g):u[d]=[l,g]}return u}function wm(a,l){const d=l.directiveEnd,g=a.data,v=l.attrs,T=[];let H=null,K=null;for(let ve=l.directiveStart;ve<d;ve++){const je=g[ve],lt=je.inputs,wt=null===v||Ap(l)?null:Bb(lt,v);T.push(wt),H=Tm(lt,ve,H),K=Tm(je.outputs,ve,K)}null!==H&&(H.hasOwnProperty("class")&&(l.flags|=16),H.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=T,l.inputs=H,l.outputs=K}function xm(a,l){const u=Dn(l,a);16&u[2]||(u[2]|=32)}function Zp(a,l,u,d){let g=!1;if(Oo()){const v=function Pb(a,l,u){const d=a.directiveRegistry;let g=null;if(d)for(let v=0;v<d.length;v++){const T=d[v];zf(u,T.selectors,!1)&&(g||(g=[]),Ys(xs(u,l),a,T.type),ho(T)?(km(a,u),g.unshift(T)):g.push(T))}return g}(a,l,u),T=null===d?null:{"":-1};if(null!==v){g=!0,Mm(u,a.data.length,v.length);for(let je=0;je<v.length;je++){const lt=v[je];lt.providersResolver&&lt.providersResolver(lt)}let H=!1,K=!1,ve=xl(a,l,v.length,null);for(let je=0;je<v.length;je++){const lt=v[je];u.mergedAttrs=En(u.mergedAttrs,lt.hostAttrs),Dm(a,u,l,ve,lt),Lb(ve,lt,T),null!==lt.contentQueries&&(u.flags|=8),(null!==lt.hostBindings||null!==lt.hostAttrs||0!==lt.hostVars)&&(u.flags|=128);const wt=lt.type.prototype;!H&&(wt.ngOnChanges||wt.ngOnInit||wt.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),H=!0),!K&&(wt.ngOnChanges||wt.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),K=!0),ve++}wm(a,u)}T&&function Rb(a,l,u){if(l){const d=a.localNames=[];for(let g=0;g<l.length;g+=2){const v=u[l[g+1]];if(null==v)throw new ge(-301,!1);d.push(l[g],v)}}}(u,d,T)}return u.mergedAttrs=En(u.mergedAttrs,u.attrs),g}function Em(a,l,u,d,g,v){const T=v.hostBindings;if(T){let H=a.hostBindingOpCodes;null===H&&(H=a.hostBindingOpCodes=[]);const K=~l.index;(function Mb(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(H)!=K&&H.push(K),H.push(d,g,T)}}function Sm(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function km(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Lb(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;ho(l)&&(u[""]=a)}}function Mm(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function Dm(a,l,u,d,g){a.data[d]=g;const v=g.factory||(g.factory=yo(g.type)),T=new Bs(v,ho(g),Xa);a.blueprint[d]=T,u[d]=T,Em(a,l,0,d,xl(a,u,g.hostVars,ui),g)}function Nb(a,l,u){const d=_n(l,a),g=Im(u),v=a[10],T=Yu(a,Ju(a,g,null,u.onPush?32:16,d,l,v,v.createRenderer(d,u),null,null,null));a[l.index]=T}function Qr(a,l,u,d,g,v){const T=_n(a,l);!function Vp(a,l,u,d,g,v,T){if(null==v)a.removeAttribute(l,g,u);else{const H=null==T?ke(v):T(v,d||"",g);a.setAttribute(l,g,H,u)}}(l[11],T,v,a.value,u,d,g)}function Fb(a,l,u,d,g,v){const T=v[l];if(null!==T){const H=d.setInput;for(let K=0;K<T.length;){const ve=T[K++],je=T[K++],lt=T[K++];null!==H?d.setInput(u,lt,ve,je):u[je]=lt}}}function Bb(a,l){let u=null,d=0;for(;d<l.length;){const g=l[d];if(0!==g)if(5!==g){if("number"==typeof g)break;a.hasOwnProperty(g)&&(null===u&&(u=[]),u.push(g,a[g],l[d+1])),d+=2}else d+=2;else d+=4}return u}function Up(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function Hb(a,l){const u=Dn(l,a);if(Zo(u)){const d=u[1];48&u[2]?ju(d,u,d.template,u[8]):u[5]>0&&zp(u)}}function zp(a){for(let d=Xg(a);null!==d;d=ef(d))for(let g=10;g<d.length;g++){const v=d[g];if(Zo(v))if(512&v[2]){const T=v[1];ju(T,v,T.template,v[8])}else v[5]>0&&zp(v)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const g=Dn(u[d],a);Zo(g)&&g[5]>0&&zp(g)}}function Zb(a,l){const u=Dn(l,a),d=u[1];(function Vb(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),Np(d,u,u[8])}function Yu(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Gp(a){for(;a;){a[2]|=32;const l=Iu(a);if(is(a)&&!l)return a;a=l}return null}function Ku(a,l,u,d=!0){const g=l[10];g.begin&&g.begin();try{ju(a,l,a.template,u)}catch(T){throw d&&Lm(l,T),T}finally{g.end&&g.end()}}function Qp(a,l,u){or(0),l(a,u)}function Pm(a){return a[7]||(a[7]=[])}function qu(a){return a.cleanup||(a.cleanup=[])}function Lm(a,l){const u=a[9],d=u?u.get(Fu,null):null;d&&d.handleError(l)}function Jp(a,l,u,d,g){for(let v=0;v<u.length;){const T=u[v++],H=u[v++],K=l[T],ve=a.data[T];null!==ve.setInput?ve.setInput(K,g,d,H):K[H]=g}}function fa(a,l,u){const d=gn(l,a);!function rv(a,l,u){a.setValue(l,u)}(a[11],d,u)}function $u(a,l,u){let d=u?a.styles:null,g=u?a.classes:null,v=0;if(null!==l)for(let T=0;T<l.length;T++){const H=l[T];"number"==typeof H?v=H:1==v?g=q(g,H):2==v&&(d=q(d,H+": "+l[++T]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=g:a.classesWithoutHost=g}function Xu(a,l,u,d,g=!1){for(;null!==u;){const v=l[u.index];if(null!==v&&d.push(Ue(v)),Ri(v))for(let H=10;H<v.length;H++){const K=v[H],ve=K[1].firstChild;null!==ve&&Xu(K[1],K,ve,d)}const T=u.type;if(8&T)Xu(a,l,u.child,d);else if(32&T){const H=$g(u,l);let K;for(;K=H();)d.push(K)}else if(16&T){const H=pf(l,u);if(Array.isArray(H))d.push(...H);else{const K=Iu(l[16]);Xu(K[1],K,H,d,!0)}}u=g?u.projectionNext:u.next}return d}class xc{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Xu(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Ri(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(rf(l,d),la(u,d))}this._attachedToViewContainer=!1}tp(this._lView[1],this._lView)}onDestroy(l){Am(this._lView[1],this._lView,null,l)}markForCheck(){Gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ku(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _A(a,l){xu(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=l}}class Ub extends xc{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Ku(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class jp extends yl{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Kt(l);return new Ec(u,this.ngModule)}}function Nm(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class Gb{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,d){const g=this.injector.get(l,Ru,d);return g!==Ru||u===Ru?g:this.parentInjector.get(l,u,d)}}class Ec extends Ou{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Jv(a){return a.map(Qv).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Nm(this.componentDef.inputs)}get outputs(){return Nm(this.componentDef.outputs)}create(l,u,d,g){let v=(g=g||this.ngModule)instanceof bl?g:null==g?void 0:g.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const T=v?new Gb(l,v):l,H=T.get(Rf,null);if(null===H)throw new ge(407,!1);const K=T.get(Pu,null),ve=H.createRenderer(null,this.componentDef),je=this.componentDef.selectors[0][0]||"div",lt=d?function wb(a,l,u){return a.selectRootElement(l,u===It.ShadowDom)}(ve,d,this.componentDef.encapsulation):nf(ve,je,function zb(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(je)),wt=this.componentDef.onPush?288:272,Ft=Hp(0,null,null,1,0,null,null,null,null,null),Xt=Ju(null,Ft,null,wt,null,null,H,ve,K,T,null);let fn,An;zr(Xt);try{const Pn=function Fm(a,l,u,d,g,v){const T=u[1];u[22]=a;const K=wl(T,22,2,"#host",null),ve=K.mergedAttrs=l.hostAttrs;null!==ve&&($u(K,ve,!0),null!==a&&(Nt(g,a,ve),null!==K.classes&&hf(g,a,K.classes),null!==K.styles&&gv(g,a,K.styles)));const je=d.createRenderer(a,l),lt=Ju(u,Im(l),null,l.onPush?32:16,u[22],K,d,je,v||null,null,null);return T.firstCreatePass&&(Ys(xs(K,u),T,l.type),km(T,K),Mm(K,u.length,1)),Yu(u,lt),u[22]=lt}(lt,this.componentDef,Xt,H,ve);if(lt)if(d)Nt(ve,lt,["ng-version",Ic.full]);else{const{attrs:Un,classes:rn}=function jv(a){const l=[],u=[];let d=1,g=2;for(;d<a.length;){let v=a[d];if("string"==typeof v)2===g?""!==v&&l.push(v,a[++d]):8===g&&u.push(v);else{if(!Mr(g))break;g=v}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Un&&Nt(ve,lt,Un),rn&&rn.length>0&&hf(ve,lt,rn.join(" "))}if(An=si(Ft,22),void 0!==u){const Un=An.projection=[];for(let rn=0;rn<this.ngContentSelectors.length;rn++){const Wn=u[rn];Un.push(null!=Wn?Array.from(Wn):null)}}fn=function jb(a,l,u,d){const g=u[1],v=function kb(a,l,u){const d=Bi();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Dm(a,d,l,xl(a,l,1,null),u),wm(a,d));const g=Lo(l,a,d.directiveStart,d);Hs(g,l);const v=_n(d,l);return v&&Hs(v,l),g}(g,u,l);if(a[8]=u[8]=v,null!==d)for(const H of d)H(v,l);if(l.contentQueries){const H=Bi();l.contentQueries(1,v,H.directiveStart)}const T=Bi();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Zt(T.index),Em(u[1],T,0,T.directiveStart,T.directiveEnd,l),Sm(l,v)),v}(Pn,this.componentDef,Xt,[Wb]),Np(Ft,Xt,null)}finally{Se()}return new Jb(this.componentType,fn,qa(An,Xt),Xt,An)}}class Jb extends class mp{}{constructor(l,u,d,g,v){super(),this.location=d,this._rootLView=g,this._tNode=v,this.instance=u,this.hostView=this.changeDetectorRef=new Ub(g),this.componentType=l}setInput(l,u){const d=this._tNode.inputs;let g;if(null!==d&&(g=d[l])){const v=this._rootLView;Jp(v[1],v,g,l,u),xm(v,this._tNode.index)}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Wb(){const a=Bi();fi(on()[1],a)}function Wp(a){let l=function Bm(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let g;if(ho(a))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ge(903,!1);g=l.\u0275dir}if(g){if(u){d.push(g);const T=a;T.inputs=Yp(a.inputs),T.declaredInputs=Yp(a.declaredInputs),T.outputs=Yp(a.outputs);const H=g.hostBindings;H&&dr(a,H);const K=g.viewQuery,ve=g.contentQueries;if(K&&Kb(a,K),ve&&qb(a,ve),L(a.inputs,g.inputs),L(a.declaredInputs,g.declaredInputs),L(a.outputs,g.outputs),ho(g)&&g.data.animation){const je=a.data;je.animation=(je.animation||[]).concat(g.data.animation)}}const v=g.features;if(v)for(let T=0;T<v.length;T++){const H=v[T];H&&H.ngInherit&&H(a),H===Wp&&(u=!1)}}l=Object.getPrototypeOf(l)}!function Yb(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const g=a[d];g.hostVars=l+=g.hostVars,g.hostAttrs=En(g.hostAttrs,u=En(u,g.hostAttrs))}}(d)}function Yp(a){return a===Xe?{}:a===Rt?[]:a}function Kb(a,l){const u=a.viewQuery;a.viewQuery=u?(d,g)=>{l(d,g),u(d,g)}:l}function qb(a,l){const u=a.contentQueries;a.contentQueries=u?(d,g,v)=>{l(d,g,v),u(d,g,v)}:l}function dr(a,l){const u=a.hostBindings;a.hostBindings=u?(d,g)=>{l(d,g),u(d,g)}:l}let ed=null;function el(){if(!ed){const a=M.Symbol;if(a&&a.iterator)ed=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(ed=d)}}}return ed}function Sc(a){return!!Kp(a)&&(Array.isArray(a)||!(a instanceof Map)&&el()in a)}function Kp(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Jr(a,l,u){return a[l]=u}function kc(a,l){return a[l]}function Es(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function tl(a,l,u,d){const g=Es(a,l,u);return Es(a,l+1,d)||g}function td(a,l,u,d,g){const v=tl(a,l,u,d);return Es(a,l+2,g)||v}function Ar(a,l,u,d,g,v){const T=tl(a,l,u,d);return tl(a,l+2,g,v)||T}function qp(a,l,u,d){const g=on();return Es(g,Tn(),l)&&(jn(),Qr(Gt(),g,a,l,u,d)),qp}function Wm(a,l,u,d,g,v,T,H){const K=on(),ve=jn(),je=a+22,lt=ve.firstCreatePass?function sy(a,l,u,d,g,v,T,H,K){const ve=l.consts,je=wl(l,a,4,T||null,hi(ve,H));Zp(l,u,je,hi(ve,K)),fi(l,je);const lt=je.tViews=Hp(2,je,d,g,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,ve);return null!==l.queries&&(l.queries.template(l,je),lt.queries=l.queries.embeddedTView(je)),je}(je,ve,K,l,u,d,g,v,T):ve.data[je];zi(lt,!1);const wt=K[11].createComment("");Au(ve,K,wt,lt),Hs(wt,K),Yu(K,K[je]=Up(wt,K,wt,lt)),ys(lt)&&Fp(ve,K,lt),null!=T&&Bp(K,lt,H)}function Ym(a){return yi(function ir(){return Vn.lFrame.contextLView}(),22+a)}function $p(a,l,u){const d=on();return Es(d,Tn(),l)&&function ur(a,l,u,d,g,v,T,H){const K=_n(l,u);let je,ve=l.inputs;!H&&null!=ve&&(je=ve[d])?(Jp(a,u,je,d,g),Jo(l)&&xm(u,l.index)):3&l.type&&(d=function Eb(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),g=null!=T?T(g,l.value||"",d):g,v.setProperty(K,d,g))}(jn(),Gt(),d,a,l,d[11],u,!1),$p}function Xp(a,l,u,d,g){const T=g?"class":"style";Jp(a,u,l.inputs[T],T,d)}function nd(a,l,u,d){const g=on(),v=jn(),T=22+a,H=g[11],K=g[T]=nf(H,l,function li(){return Vn.lFrame.currentNamespace}()),ve=v.firstCreatePass?function ay(a,l,u,d,g,v,T){const H=l.consts,ve=wl(l,a,2,g,hi(H,v));return Zp(l,u,ve,hi(H,T)),null!==ve.attrs&&$u(ve,ve.attrs,!1),null!==ve.mergedAttrs&&$u(ve,ve.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,ve),ve}(T,v,g,0,l,u,d):v.data[T];zi(ve,!0);const je=ve.mergedAttrs;null!==je&&Nt(H,K,je);const lt=ve.classes;null!==lt&&hf(H,K,lt);const wt=ve.styles;return null!==wt&&gv(H,K,wt),64!=(64&ve.flags)&&Au(v,g,K,ve),0===function Is(){return Vn.lFrame.elementDepthCount}()&&Hs(K,g),function ps(){Vn.lFrame.elementDepthCount++}(),ys(ve)&&(Fp(v,g,ve),ym(v,ve,g)),null!==d&&Bp(g,ve),nd}function id(){let a=Bi();As()?Vr():(a=a.parent,zi(a,!1));const l=a;!function Gs(){Vn.lFrame.elementDepthCount--}();const u=jn();return u.firstCreatePass&&(fi(u,a),Mo(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Be(a){return 0!=(16&a.flags)}(l)&&Xp(u,l,on(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function et(a){return 0!=(32&a.flags)}(l)&&Xp(u,l,on(),l.stylesWithoutHost,!1),id}function eh(a,l,u,d){return nd(a,l,u,d),id(),eh}function od(a,l,u){const d=on(),g=jn(),v=a+22,T=g.firstCreatePass?function ly(a,l,u,d,g){const v=l.consts,T=hi(v,d),H=wl(l,a,8,"ng-container",T);return null!==T&&$u(H,T,!0),Zp(l,u,H,hi(v,g)),null!==l.queries&&l.queries.elementStart(l,H),H}(v,g,d,l,u):g.data[v];zi(T,!0);const H=d[v]=d[11].createComment("");return Au(g,d,H,T),Hs(H,d),ys(T)&&(Fp(g,d,T),ym(g,T,d)),null!=u&&Bp(d,T),od}function sd(){let a=Bi();const l=jn();return As()?Vr():(a=a.parent,zi(a,!1)),l.firstCreatePass&&(fi(l,a),Mo(a)&&l.queries.elementEnd(a)),sd}function th(a,l,u){return od(a,l,u),sd(),th}function Km(){return on()}function nh(a){return!!a&&"function"==typeof a.then}function qm(a){return!!a&&"function"==typeof a.subscribe}const $m=qm;function ih(a,l,u,d){const g=on(),v=jn(),T=Bi();return function e_(a,l,u,d,g,v,T,H){const K=ys(d),je=a.firstCreatePass&&qu(a),lt=l[8],wt=Pm(l);let Ft=!0;if(3&d.type||H){const An=_n(d,l),Pn=H?H(An):An,Un=wt.length,rn=H?Mi=>H(Ue(Mi[d.index])):d.index;let Wn=null;if(!H&&K&&(Wn=function cy(a,l,u,d){const g=a.cleanup;if(null!=g)for(let v=0;v<g.length-1;v+=2){const T=g[v];if(T===u&&g[v+1]===d){const H=l[7],K=g[v+2];return H.length>K?H[K]:null}"string"==typeof T&&(v+=2)}return null}(a,l,g,d.index)),null!==Wn)(Wn.__ngLastListenerFn__||Wn).__ngNextListenerFn__=v,Wn.__ngLastListenerFn__=v,Ft=!1;else{v=n_(d,l,lt,v,!1);const Mi=u.listen(Pn,g,v);wt.push(v,Mi),je&&je.push(g,rn,Un,Un+1)}}else v=n_(d,l,lt,v,!1);const Xt=d.outputs;let fn;if(Ft&&null!==Xt&&(fn=Xt[g])){const An=fn.length;if(An)for(let Pn=0;Pn<An;Pn+=2){const uo=l[fn[Pn]][fn[Pn+1]].subscribe(v),cl=wt.length;wt.push(v,uo),je&&je.push(g,d.index,cl,-(cl+1))}}}(v,g,g[11],T,a,l,0,d),ih}function t_(a,l,u,d){try{return!1!==u(d)}catch(g){return Lm(a,g),!1}}function n_(a,l,u,d,g){return function v(T){if(T===Function)return d;Gp(2&a.flags?Dn(a.index,l):l);let K=t_(l,0,d,T),ve=v.__ngNextListenerFn__;for(;ve;)K=t_(l,0,ve,T)&&K,ve=ve.__ngNextListenerFn__;return g&&!1===K&&(T.preventDefault(),T.returnValue=!1),K}}function i_(a=1){return function X(a){return(Vn.lFrame.contextLView=function Ge(a,l){for(;a>0;)l=l[15],a--;return l}(a,Vn.lFrame.contextLView))[8]}(a)}function uy(a,l){let u=null;const d=function WA(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let g=0;g<l.length;g++){const v=l[g];if("*"!==v){if(null===d?zf(a,v,!0):Hu(d,v))return g}else u=g}return u}function o_(a){const l=on()[16][6];if(!l.projection){const d=l.projection=Sa(a?a.length:1,null),g=d.slice();let v=l.child;for(;null!==v;){const T=a?uy(v,a):0;null!==T&&(g[T]?g[T].projectionNext=v:d[T]=v,g[T]=v),v=v.next}}}function s_(a,l=0,u){const d=on(),g=jn(),v=wl(g,22+a,16,null,u||null);null===v.projection&&(v.projection=l),Vr(),64!=(64&v.flags)&&function TA(a,l,u){hv(l[11],0,l,u,av(a,u,l),cv(u.parent||l[6],u,l))}(g,d,v)}function sh(a,l,u,d,g){const v=a[u+1],T=null===l;let H=d?Dr(v):ga(v),K=!1;for(;0!==H&&(!1===K||T);){const je=a[H+1];hy(a[H],l)&&(K=!0,a[H+1]=d?wc(je):Sp(je)),H=d?Dr(je):ga(je)}K&&(a[u+1]=d?Sp(v):wc(v))}function hy(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ot(a,l)>=0}const ns={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function f_(a){return a.substring(ns.key,ns.keyEnd)}function gy(a){return a.substring(ns.value,ns.valueEnd)}function __(a,l){const u=ns.textEnd;return u===l?-1:(l=ns.keyEnd=function my(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,ns.key=l,u),Ll(a,l,u))}function C_(a,l){const u=ns.textEnd;let d=ns.key=Ll(a,l,u);return u===d?-1:(d=ns.keyEnd=function _y(a,l,u){let d;for(;l<u&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,u),d=b_(a,d,u),d=ns.value=Ll(a,d,u),d=ns.valueEnd=function Cy(a,l,u){let d=-1,g=-1,v=-1,T=l,H=T;for(;T<u;){const K=a.charCodeAt(T++);if(59===K)return H;34===K||39===K?H=T=y_(a,K,T,u):l===T-4&&85===v&&82===g&&76===d&&40===K?H=T=y_(a,41,T,u):K>32&&(H=T),v=g,g=d,d=-33&K}return H}(a,d,u),b_(a,d,u))}function v_(a){ns.key=0,ns.keyEnd=0,ns.value=0,ns.valueEnd=0,ns.textEnd=a.length}function Ll(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function b_(a,l,u,d){return(l=Ll(a,l,u))<u&&l++,l}function y_(a,l,u,d){let g=-1,v=u;for(;v<d;){const T=a.charCodeAt(v++);if(T==l&&92!==g)return v;g=92==T&&92===g?0:T}throw new Error}function rh(a,l,u){return $s(a,l,u,!1),rh}function ah(a,l){return $s(a,l,null,!0),ah}function Or(a){Pr(T_,vy,a,!1)}function vy(a,l){for(let u=function fy(a){return v_(a),C_(a,Ll(a,0,ns.textEnd))}(l);u>=0;u=C_(l,u))T_(a,f_(l),gy(l))}function I_(a){Pr(j,jr,a,!0)}function jr(a,l){for(let u=function m_(a){return v_(a),__(a,Ll(a,0,ns.textEnd))}(l);u>=0;u=__(l,u))j(a,f_(l),!0)}function $s(a,l,u,d){const g=on(),v=jn(),T=Ci(2);v.firstUpdatePass&&rd(v,a,T,d),l!==ui&&Es(g,T,l)&&w_(v,v.data[ht()],g,g[11],a,g[T+1]=function xy(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=se(Ma(a)))),a}(l,u),d,T)}function Pr(a,l,u,d){const g=jn(),v=Ci(2);g.firstUpdatePass&&rd(g,null,v,d);const T=on();if(u!==ui&&Es(T,v,u)){const H=g.data[ht()];if(x_(H,d)&&!A_(g,v)){let K=d?H.classesWithoutHost:H.stylesWithoutHost;null!==K&&(u=q(K,u||"")),Xp(g,H,T,u,d)}else!function wy(a,l,u,d,g,v,T,H){g===ui&&(g=Rt);let K=0,ve=0,je=0<g.length?g[0]:null,lt=0<v.length?v[0]:null;for(;null!==je||null!==lt;){const wt=K<g.length?g[K+1]:void 0,Ft=ve<v.length?v[ve+1]:void 0;let fn,Xt=null;je===lt?(K+=2,ve+=2,wt!==Ft&&(Xt=lt,fn=Ft)):null===lt||null!==je&&je<lt?(K+=2,Xt=je):(ve+=2,Xt=lt,fn=Ft),null!==Xt&&w_(a,l,u,d,Xt,fn,T,H),je=K<g.length?g[K]:null,lt=ve<v.length?v[ve]:null}}(g,H,T,T[11],T[v+1],T[v+1]=function Ty(a,l,u){if(null==u||""===u)return Rt;const d=[],g=Ma(u);if(Array.isArray(g))for(let v=0;v<g.length;v++)a(d,g[v],!0);else if("object"==typeof g)for(const v in g)g.hasOwnProperty(v)&&a(d,v,g[v]);else"string"==typeof g&&l(d,g);return d}(a,l,u),d,v)}}function A_(a,l){return l>=a.expandoStartIndex}function rd(a,l,u,d){const g=a.data;if(null===g[u+1]){const v=g[ht()],T=A_(a,u);x_(v,d)&&null===l&&!T&&(l=!1),l=function by(a,l,u,d){const g=function Js(a){const l=Vn.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let v=d?l.residualClasses:l.residualStyles;if(null===g)0===(d?l.classBindings:l.styleBindings)&&(u=Mc(u=lh(null,a,l,u,d),l.attrs,d),v=null);else{const T=l.directiveStylingLast;if(-1===T||a[T]!==g)if(u=lh(g,a,l,u,d),null===v){let K=function yy(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==ga(d))return a[Dr(d)]}(a,l,d);void 0!==K&&Array.isArray(K)&&(K=lh(null,a,l,K[1],d),K=Mc(K,l.attrs,d),function Iy(a,l,u,d){a[Dr(u?l.classBindings:l.styleBindings)]=d}(a,l,d,K))}else v=function Ay(a,l,u){let d;const g=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<g;v++)d=Mc(d,a[v].hostAttrs,u);return Mc(d,l.attrs,u)}(a,l,d)}return void 0!==v&&(d?l.residualClasses=v:l.residualStyles=v),u}(g,v,l,d),function dy(a,l,u,d,g,v){let T=v?l.classBindings:l.styleBindings,H=Dr(T),K=ga(T);a[d]=u;let je,ve=!1;if(Array.isArray(u)){const lt=u;je=lt[1],(null===je||ot(lt,je)>0)&&(ve=!0)}else je=u;if(g)if(0!==K){const wt=Dr(a[H+1]);a[d+1]=Vu(wt,H),0!==wt&&(a[wt+1]=Uu(a[wt+1],d)),a[H+1]=function ub(a,l){return 131071&a|l<<17}(a[H+1],d)}else a[d+1]=Vu(H,0),0!==H&&(a[H+1]=Uu(a[H+1],d)),H=d;else a[d+1]=Vu(K,0),0===H?H=d:a[K+1]=Uu(a[K+1],d),K=d;ve&&(a[d+1]=Sp(a[d+1])),sh(a,je,d,!0),sh(a,je,d,!1),function py(a,l,u,d,g){const v=g?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof l&&ot(v,l)>=0&&(u[d+1]=wc(u[d+1]))}(l,je,a,d,v),T=Vu(H,K),v?l.classBindings=T:l.styleBindings=T}(g,v,l,u,T,d)}}function lh(a,l,u,d,g){let v=null;const T=u.directiveEnd;let H=u.directiveStylingLast;for(-1===H?H=u.directiveStart:H++;H<T&&(v=l[H],d=Mc(d,v.hostAttrs,g),v!==a);)H++;return null!==a&&(u.directiveStylingLast=H),d}function Mc(a,l,u){const d=u?1:2;let g=-1;if(null!==l)for(let v=0;v<l.length;v++){const T=l[v];"number"==typeof T?g=T:g===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),j(a,T,!!u||l[++v]))}return void 0===a?null:a}function T_(a,l,u){j(a,l,Ma(u))}function w_(a,l,u,d,g,v,T,H){if(!(3&l.type))return;const K=a.data,ve=K[H+1];ad(function dm(a){return 1==(1&a)}(ve)?Nl(K,l,u,g,ga(ve),T):void 0)||(ad(v)||function um(a){return 2==(2&a)}(ve)&&(v=Nl(K,null,u,g,H,T)),function xA(a,l,u,d,g){if(l)g?a.addClass(u,d):a.removeClass(u,d);else{let v=-1===d.indexOf("-")?void 0:da.DashCase;null==g?a.removeStyle(u,d,v):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),v|=da.Important),a.setStyle(u,d,g,v))}}(d,T,gn(ht(),u),g,v))}function Nl(a,l,u,d,g,v){const T=null===l;let H;for(;g>0;){const K=a[g],ve=Array.isArray(K),je=ve?K[1]:K,lt=null===je;let wt=u[g+1];wt===ui&&(wt=lt?Rt:void 0);let Ft=lt?Te(wt,d):je===d?wt:void 0;if(ve&&!ad(Ft)&&(Ft=Te(K,d)),ad(Ft)&&(H=Ft,T))return H;const Xt=a[g+1];g=T?Dr(Xt):ga(Xt)}if(null!==l){let K=v?l.residualClasses:l.residualStyles;null!=K&&(H=Te(K,d))}return H}function ad(a){return void 0!==a}function x_(a,l){return 0!=(a.flags&(l?16:32))}function E_(a,l=""){const u=on(),d=jn(),g=a+22,v=d.firstCreatePass?wl(d,g,1,l,null):d.data[g],T=u[g]=function tf(a,l){return a.createText(l)}(u[11],l);Au(d,u,T,v),zi(v,!1)}function ch(a){return ld("",a,""),ch}function ld(a,l,u){const d=on(),g=function Sl(a,l,u,d){return Es(a,Tn(),u)?l+ke(u)+d:ui}(d,a,l,u);return g!==ui&&fa(d,ht(),g),ld}function uh(a,l,u,d,g){const v=on(),T=function kl(a,l,u,d,g,v){const H=tl(a,Je(),u,g);return Ci(2),H?l+ke(u)+d+ke(g)+v:ui}(v,a,l,u,d,g);return T!==ui&&fa(v,ht(),T),uh}function dh(a,l,u,d,g,v,T){const H=on(),K=function nl(a,l,u,d,g,v,T,H){const ve=td(a,Je(),u,g,T);return Ci(3),ve?l+ke(u)+d+ke(g)+v+ke(T)+H:ui}(H,a,l,u,d,g,v,T);return K!==ui&&fa(H,ht(),K),dh}function ph(a,l,u,d,g,v,T,H,K){const ve=on(),je=function Ml(a,l,u,d,g,v,T,H,K,ve){const lt=Ar(a,Je(),u,g,T,K);return Ci(4),lt?l+ke(u)+d+ke(g)+v+ke(T)+H+ke(K)+ve:ui}(ve,a,l,u,d,g,v,T,H,K);return je!==ui&&fa(ve,ht(),je),ph}const il=void 0;var fh=["en",[["a","p"],["AM","PM"],il],[["AM","PM"],il,il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",il,"{1} 'at' {0}",il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Zy(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Fl={};function Vy(a,l,u){"string"!=typeof l&&(u=l,l=a[Qn.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),Fl[l]=a,u&&(Fl[l][Qn.ExtraData]=u)}function mh(a){const l=function Uy(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=J_(l);if(u)return u;const d=l.split("-")[0];if(u=J_(d),u)return u;if("en"===d)return fh;throw new ge(701,!1)}function Q_(a){return mh(a)[Qn.PluralCase]}function J_(a){return a in Fl||(Fl[a]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[a]),Fl[a]}var Qn=(()=>((Qn=Qn||{})[Qn.LocaleId=0]="LocaleId",Qn[Qn.DayPeriodsFormat=1]="DayPeriodsFormat",Qn[Qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qn[Qn.DaysFormat=3]="DaysFormat",Qn[Qn.DaysStandalone=4]="DaysStandalone",Qn[Qn.MonthsFormat=5]="MonthsFormat",Qn[Qn.MonthsStandalone=6]="MonthsStandalone",Qn[Qn.Eras=7]="Eras",Qn[Qn.FirstDayOfWeek=8]="FirstDayOfWeek",Qn[Qn.WeekendRange=9]="WeekendRange",Qn[Qn.DateFormat=10]="DateFormat",Qn[Qn.TimeFormat=11]="TimeFormat",Qn[Qn.DateTimeFormat=12]="DateTimeFormat",Qn[Qn.NumberSymbols=13]="NumberSymbols",Qn[Qn.NumberFormats=14]="NumberFormats",Qn[Qn.CurrencyCode=15]="CurrencyCode",Qn[Qn.CurrencySymbol=16]="CurrencySymbol",Qn[Qn.CurrencyName=17]="CurrencyName",Qn[Qn.Currencies=18]="Currencies",Qn[Qn.Directionality=19]="Directionality",Qn[Qn.PluralCase=20]="PluralCase",Qn[Qn.ExtraData=21]="ExtraData",Qn))();const Bl="en-US";let Ra=Bl;function hd(a,l,u,d,g){if(a=ne(a),Array.isArray(a))for(let v=0;v<a.length;v++)hd(a[v],l,u,d,g);else{const v=jn(),T=on();let H=vl(a)?a:ne(a.provide),K=Mu(a);const ve=Bi(),je=1048575&ve.providerIndexes,lt=ve.directiveStart,wt=ve.providerIndexes>>20;if(vl(a)||!a.multi){const Ft=new Bs(K,g,Xa),Xt=fd(H,l,g?je:je+wt,lt);-1===Xt?(Ys(xs(ve,T),v,H),gd(v,a,l.length),l.push(H),ve.directiveStart++,ve.directiveEnd++,g&&(ve.providerIndexes+=1048576),u.push(Ft),T.push(Ft)):(u[Xt]=Ft,T[Xt]=Ft)}else{const Ft=fd(H,l,je+wt,lt),Xt=fd(H,l,je,je+wt),fn=Ft>=0&&u[Ft],An=Xt>=0&&u[Xt];if(g&&!An||!g&&!fn){Ys(xs(ve,T),v,H);const Pn=function oI(a,l,u,d,g){const v=new Bs(a,u,Xa);return v.multi=[],v.index=l,v.componentProviders=0,Zc(v,g,d&&!u),v}(g?Vc:iI,u.length,g,d,K);!g&&An&&(u[Xt].providerFactory=Pn),gd(v,a,l.length,0),l.push(H),ve.directiveStart++,ve.directiveEnd++,g&&(ve.providerIndexes+=1048576),u.push(Pn),T.push(Pn)}else gd(v,a,Ft>-1?Ft:Xt,Zc(u[g?Xt:Ft],K,!g&&d));!g&&d&&An&&u[Xt].componentProviders++}}}function gd(a,l,u,d){const g=vl(l),v=function Pv(a){return!!a.useClass}(l);if(g||v){const K=(v?ne(l.useClass):l).prototype.ngOnDestroy;if(K){const ve=a.destroyHooks||(a.destroyHooks=[]);if(!g&&l.multi){const je=ve.indexOf(u);-1===je?ve.push(u,[d,K]):ve[je+1].push(d,K)}else ve.push(u,K)}}}function Zc(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function fd(a,l,u,d){for(let g=u;g<d;g++)if(l[g]===a)return g;return-1}function iI(a,l,u,d){return md(this.multi,[])}function Vc(a,l,u,d){const g=this.multi;let v;if(this.providerFactory){const T=this.providerFactory.componentProviders,H=Lo(u,u[1],this.providerFactory.index,d);v=H.slice(0,T),md(g,v);for(let K=T;K<H.length;K++)v.push(H[K])}else v=[],md(g,v);return v}function md(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function hC(a,l=[]){return u=>{u.providersResolver=(d,g)=>function pC(a,l,u){const d=jn();if(d.firstCreatePass){const g=ho(a);hd(u,d.data,d.blueprint,g,!0),hd(l,d.data,d.blueprint,g,!1)}}(d,g?g(a):a,l)}}class ol{}class Vh{}function sI(a,l){return new gC(a,null!=l?l:null)}class gC extends ol{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jp(this);const d=Ai(l);this._bootstrapComponents=Ir(d.bootstrap),this._r3Injector=em(l,u,[{provide:ol,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],se(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Uh extends Vh{constructor(l){super(),this.moduleType=l}create(l){return new gC(this.moduleType,l)}}class rI extends ol{constructor(l,u,d){super(),this.componentFactoryResolver=new jp(this),this.instance=null;const g=new Rv([...l,{provide:ol,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],u||gp(),d,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function _d(a,l,u=null){return new rI(a,l,u).injector}let aI=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Sv(0,u.type),g=d.length>0?_d([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,g)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=re({token:a,providedIn:"environment",factory:()=>new a(Co(bl))}),a})();function fC(a){a.getStandaloneInjector=l=>l.get(aI).getOrCreateStandaloneInjector(a)}function vC(a,l,u){const d=W()+a,g=on();return g[d]===ui?Jr(g,d,u?l.call(u):l()):kc(g,d)}function bC(a,l,u,d){return vd(on(),W(),a,l,u,d)}function fI(a,l,u,d,g){return TC(on(),W(),a,l,u,d,g)}function Wh(a,l,u,d,g,v){return wC(on(),W(),a,l,u,d,g,v)}function Cd(a,l,u,d,g,v,T){return xC(on(),W(),a,l,u,d,g,v,T)}function Yh(a,l,u,d,g,v,T,H){const K=W()+a,ve=on(),je=Ar(ve,K,u,d,g,v);return Es(ve,K+4,T)||je?Jr(ve,K+5,H?l.call(H,u,d,g,v,T):l(u,d,g,v,T)):kc(ve,K+5)}function Uc(a,l,u,d,g,v,T,H,K){const ve=W()+a,je=on(),lt=Ar(je,ve,u,d,g,v);return tl(je,ve+4,T,H)||lt?Jr(je,ve+6,K?l.call(K,u,d,g,v,T,H):l(u,d,g,v,T,H)):kc(je,ve+6)}function yC(a,l,u,d,g,v,T,H,K,ve){const je=W()+a,lt=on();let wt=Ar(lt,je,u,d,g,v);return td(lt,je+4,T,H,K)||wt?Jr(lt,je+7,ve?l.call(ve,u,d,g,v,T,H,K):l(u,d,g,v,T,H,K)):kc(lt,je+7)}function AC(a,l,u,d){return bd(on(),W(),a,l,u,d)}function Ul(a,l){const u=a[l];return u===ui?void 0:u}function vd(a,l,u,d,g,v){const T=l+u;return Es(a,T,g)?Jr(a,T+1,v?d.call(v,g):d(g)):Ul(a,T+1)}function TC(a,l,u,d,g,v,T){const H=l+u;return tl(a,H,g,v)?Jr(a,H+2,T?d.call(T,g,v):d(g,v)):Ul(a,H+2)}function wC(a,l,u,d,g,v,T,H){const K=l+u;return td(a,K,g,v,T)?Jr(a,K+3,H?d.call(H,g,v,T):d(g,v,T)):Ul(a,K+3)}function xC(a,l,u,d,g,v,T,H,K){const ve=l+u;return Ar(a,ve,g,v,T,H)?Jr(a,ve+4,K?d.call(K,g,v,T,H):d(g,v,T,H)):Ul(a,ve+4)}function bd(a,l,u,d,g,v){let T=l+u,H=!1;for(let K=0;K<g.length;K++)Es(a,T++,g[K])&&(H=!0);return H?Jr(a,T,d.apply(v,g)):Ul(a,T)}function vs(a,l){const u=jn();let d;const g=a+22;u.firstCreatePass?(d=function EC(a,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(a===d.name)return d}}(l,u.pipeRegistry),u.data[g]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(g,d.onDestroy)):d=u.data[g];const v=d.factory||(d.factory=yo(d.type)),T=tn(Xa);try{const H=no(!1),K=v();return no(H),function ry(a,l,u,d){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=d}(u,on(),g,K),K}finally{tn(T)}}function mI(a,l,u){const d=a+22,g=on(),v=yi(g,d);return Gl(g,d)?vd(g,W(),l,v.transform,u,v):v.transform(u)}function SC(a,l,u,d){const g=a+22,v=on(),T=yi(v,g);return Gl(v,g)?TC(v,W(),l,T.transform,u,d,T):T.transform(u,d)}function zl(a,l,u,d,g){const v=a+22,T=on(),H=yi(T,v);return Gl(T,v)?wC(T,W(),l,H.transform,u,d,g,H):H.transform(u,d,g)}function Kh(a,l,u,d,g,v){const T=a+22,H=on(),K=yi(H,T);return Gl(H,T)?xC(H,W(),l,K.transform,u,d,g,v,K):K.transform(u,d,g,v)}function qh(a,l,u){const d=a+22,g=on(),v=yi(g,d);return Gl(g,d)?bd(g,W(),l,v.transform,u,v):v.transform.apply(v,u)}function Gl(a,l){return a[1].data[l].pure}function Ql(a){return l=>{setTimeout(a,void 0,l)}}const Yr=class Na extends e.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var g,v,T;let H=l,K=u||(()=>null),ve=d;if(l&&"object"==typeof l){const lt=l;H=null===(g=lt.next)||void 0===g?void 0:g.bind(lt),K=null===(v=lt.error)||void 0===v?void 0:v.bind(lt),ve=null===(T=lt.complete)||void 0===T?void 0:T.bind(lt)}this.__isAsync&&(K=Ql(K),H&&(H=Ql(H)),ve&&(ve=Ql(ve)));const je=super.subscribe({next:H,error:K,complete:ve});return l instanceof s.w0&&l.add(je),je}};function kC(){return this._results[el()]()}class $h{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=el(),d=$h.prototype;d[u]||(d[u]=kC)}get changes(){return this._changes||(this._changes=new Yr)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const g=_s(l);(this._changesDetected=!function dc(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let g=a[d],v=l[d];if(u&&(g=u(g),v=u(v)),v!==g)return!1}return!0}(d._results,g,u))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jl=(()=>{class a{}return a.__NG_ELEMENT_ID__=DC,a})();const _I=Jl,MC=class extends _I{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l,u){const d=this._declarationTContainer.tViews,g=Ju(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,u||null);g[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(g[19]=T.createEmbeddedView(d)),Np(d,g,l),new xc(g)}};function DC(){return zc(Bi(),on())}function zc(a,l){return 4&a.type?new MC(l,a,qa(a,l)):null}let Kr=(()=>{class a{}return a.__NG_ELEMENT_ID__=Xh,a})();function Xh(){return RC(Bi(),on())}const eg=Kr,OC=class extends eg{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return qa(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){const l=ms(this._hostTNode,this._hostLView);if(Xn(l)){const u=ri(l,this._hostLView),d=Fn(l);return new vr(u[1].data[d+8],u)}return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=PC(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){let g,v;"number"==typeof d?g=d:null!=d&&(g=d.index,v=d.injector);const T=l.createEmbeddedView(u||{},v);return this.insert(T,g),T}createComponent(l,u,d,g,v){const T=l&&!function aa(a){return"function"==typeof a}(l);let H;if(T)H=u;else{const lt=u||{};H=lt.index,d=lt.injector,g=lt.projectableNodes,v=lt.environmentInjector||lt.ngModuleRef}const K=T?l:new Ec(Kt(l)),ve=d||this.parentInjector;if(!v&&null==K.ngModule){const wt=(T?ve:this.parentInjector).get(bl,null);wt&&(v=wt)}const je=K.create(ve,g,void 0,v);return this.insert(je.hostView,H),je}insert(l,u){const d=l._lView,g=d[1];if(function _o(a){return Ri(a[3])}(d)){const je=this.indexOf(l);if(-1!==je)this.detach(je);else{const lt=d[3],wt=new OC(lt,lt[6],lt[3]);wt.detach(wt.indexOf(l))}}const v=this._adjustIndex(u),T=this._lContainer;!function vA(a,l,u,d){const g=10+d,v=u.length;d>0&&(u[g-1][4]=l),d<v-10?(l[4]=u[g],Qa(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const T=l[17];null!==T&&u!==T&&function bA(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(T,l);const H=l[19];null!==H&&H.insertView(a),l[2]|=64}(g,d,T,v);const H=ip(v,T),K=d[11],ve=np(K,T[7]);return null!==ve&&function mA(a,l,u,d,g,v){d[0]=g,d[6]=l,xu(a,d,u,1,g,v)}(g,T[6],K,d,ve,H),l.attachToViewContainerRef(),Qa(tg(T),v,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=PC(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=rf(this._lContainer,u);d&&(la(tg(this._lContainer),u),tp(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=rf(this._lContainer,u);return d&&null!=la(tg(this._lContainer),u)?new xc(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function PC(a){return a[8]}function tg(a){return a[8]||(a[8]=[])}function RC(a,l){let u;const d=l[a.index];if(Ri(d))u=d;else{let g;if(8&a.type)g=Ue(d);else{const v=l[11];g=v.createComment("");const T=_n(a,l);hl(v,np(v,T),g,function AA(a,l){return a.nextSibling(l)}(v,T),!1)}l[a.index]=u=Up(d,l,g,a),Yu(l,u)}return new OC(u,a,l)}class ng{constructor(l){this.queryList=l,this.matches=null}clone(){return new ng(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fa{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,g=[];for(let v=0;v<d;v++){const T=u.getByIndex(v);g.push(this.queries[T.indexInDeclarationView].clone())}return new Fa(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==TI(l,u).matches&&this.queries[u].setDirty()}}class jl{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class ig{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const g=null!==u?u.length:0,v=this.getByIndex(d).embeddedTView(l,g);v&&(v.indexInDeclarationView=d,null!==u?u.push(v):u=[v])}return null!==u?new ig(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Wl{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Wl(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const v=d[g];this.matchTNodeWithReadOption(l,u,bI(u,v)),this.matchTNodeWithReadOption(l,u,Qi(u,l,v,!1,!1))}else d===Jl?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Qi(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===Il||g===Kr||g===Jl&&4&u.type)this.addMatch(u.index,-2);else{const v=Qi(u,l,g,!1,!1);null!==v&&this.addMatch(u.index,v)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function bI(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function yI(a,l,u,d){return-1===u?function LC(a,l){return 11&a.type?qa(a,l):4&a.type?zc(a,l):null}(l,a):-2===u?function wi(a,l,u){return u===Il?qa(l,a):u===Jl?zc(l,a):u===Kr?RC(l,a):void 0}(a,l,d):Lo(a,a[1],u,l)}function NC(a,l,u,d){const g=l[19].queries[d];if(null===g.matches){const v=a.data,T=u.matches,H=[];for(let K=0;K<T.length;K+=2){const ve=T[K];H.push(ve<0?null:yI(l,v[ve],T[K+1],u.metadata.read))}g.matches=H}return g.matches}function yd(a,l,u,d){const g=a.queries.getByIndex(u),v=g.matches;if(null!==v){const T=NC(a,l,g,u);for(let H=0;H<v.length;H+=2){const K=v[H];if(K>0)d.push(T[H/2]);else{const ve=v[H+1],je=l[-K];for(let lt=10;lt<je.length;lt++){const wt=je[lt];wt[17]===wt[3]&&yd(wt[1],wt,ve,d)}if(null!==je[9]){const lt=je[9];for(let wt=0;wt<lt.length;wt++){const Ft=lt[wt];yd(Ft[1],Ft,ve,d)}}}}}return d}function FC(a){const l=on(),u=jn(),d=js();or(d+1);const g=TI(u,d);if(a.dirty&&function ss(a){return 4==(4&a[2])}(l)===(2==(2&g.metadata.flags))){if(null===g.matches)a.reset([]);else{const v=g.crossesNgTemplate?yd(u,l,d,[]):NC(u,l,g,d);a.reset(v,Pf),a.notifyOnChanges()}return!0}return!1}function II(a,l,u){const d=jn();d.firstCreatePass&&(ZC(d,new jl(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),HC(d,on(),l)}function Id(a,l,u,d){const g=jn();if(g.firstCreatePass){const v=Bi();ZC(g,new jl(l,u,d),v.index),function Yl(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(g,a),2==(2&u)&&(g.staticContentQueries=!0)}HC(g,on(),u)}function BC(){return function AI(a,l){return a[19].queries[l].queryList}(on(),js())}function HC(a,l,u){const d=new $h(4==(4&u));Am(a,l,d,d.destroy),null===l[19]&&(l[19]=new Fa),l[19].queries.push(new ng(d))}function ZC(a,l,u){null===a.queries&&(a.queries=new ig),a.queries.track(new Wl(l,u))}function TI(a,l){return a.queries.getByIndex(l)}function wI(a,l){return zc(a,l)}function Qc(...a){}const $C=new Oi("Application Initializer");let Sd=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Qc,this.reject=Qc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,g)=>{this.resolve=d,this.reject=g})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const v=this.appInits[g]();if(nh(v))u.push(v);else if($m(v)){const T=new Promise((H,K)=>{v.subscribe({complete:H,error:K})});u.push(T)}}Promise.all(u).then(()=>{d()}).catch(g=>{this.reject(g)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Co($C,8))},a.\u0275prov=re({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const XC=new Oi("AppId",{providedIn:"root",factory:function e0(){return`${gg()}${gg()}${gg()}`}});function gg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const t0=new Oi("Platform Initializer"),n0=new Oi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jc=new Oi("appBootstrapListener"),LI=new Oi("AnimationModuleType");let co=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=re({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Za=new Oi("LocaleId",{providedIn:"root",factory:()=>qd(Za,at.Optional|at.SkipSelf)||function o0(){return"undefined"!=typeof $localize&&$localize.locale||Bl}()}),s0=new Oi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kd{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let FI=(()=>{class a{compileModuleSync(u){return new Uh(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),v=Ir(Ai(u).declarations).reduce((T,H)=>{const K=Kt(H);return K&&T.push(new Ec(K)),T},[]);return new kd(d,v)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=re({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const jc=(()=>Promise.resolve(0))();function Wc(a){"undefined"==typeof Zone?jc.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Tr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yr(!1),this.onMicrotaskEmpty=new Yr(!1),this.onStable=new Yr(!1),this.onError=new Yr(!1),"undefined"==typeof Zone)throw new ge(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const v=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new v("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&u,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function _g(){let a=M.requestAnimationFrame,l=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function BI(a){const l=()=>{!function Dd(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(M,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Cg(a),a.isCheckStableRunning=!0,Yc(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Cg(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,g,v,T,H)=>{try{return vg(a),u.invokeTask(g,v,T,H)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&l(),Kc(a)}},onInvoke:(u,d,g,v,T,H,K)=>{try{return vg(a),u.invoke(g,v,T,H,K)}finally{a.shouldCoalesceRunChangeDetection&&l(),Kc(a)}},onHasTask:(u,d,g,v)=>{u.hasTask(g,v),d===g&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,Cg(a),Yc(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(u,d,g,v)=>(u.handleError(g,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tr.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(Tr.isInAngularZone())throw new ge(909,!1)}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,g){const v=this._inner,T=v.scheduleEventTask("NgZoneEvent: "+g,l,pr,Qc,Qc);try{return v.runTask(T,u,d)}finally{v.cancelTask(T)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const pr={};function Yc(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Cg(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function vg(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Kc(a){a._nesting--,Yc(a)}class HI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yr,this.onMicrotaskEmpty=new Yr,this.onStable=new Yr,this.onError=new Yr}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,g){return l.apply(u,d)}}const qc=new Oi(""),bg=new Oi("");let Xc,ZI=(()=>{class a{constructor(u,d,g){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xc||(function a0(a){Xc=a}(g),g.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tr.assertNotInAngularZone(),Wc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wc(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,g){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==v),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:v,updateCb:g})}whenStable(u,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,g){return[]}}return a.\u0275fac=function(u){return new(u||a)(Co(Tr),Co($c),Co(bg))},a.\u0275prov=re({token:a,factory:a.\u0275fac}),a})(),$c=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){var g;return null!==(g=null==Xc?void 0:Xc.findTestabilityInTree(this,u,d))&&void 0!==g?g:null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=re({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Nr=null;const yg=new Oi("AllowMultipleToken"),eu=new Oi("PlatformDestroyListeners");class zI{constructor(l,u){this.name=l,this.token=u}}function al(a,l,u=[]){const d=`Platform: ${l}`,g=new Oi(d);return(v=[])=>{let T=Ag();if(!T||T.injector.get(yg,!1)){const H=[...u,...v,{provide:g,useValue:!0}];a?a(H):function GI(a){if(Nr&&!Nr.get(yg,!1))throw new ge(400,!1);Nr=a;const l=a.get(c0);(function Od(a){const l=a.get(t0,null);l&&l.forEach(u=>u())})(a)}(function Ig(a=[],l){return $a.create({name:l,providers:[{provide:pp,useValue:"platform"},{provide:eu,useValue:new Set([()=>Nr=null])},...a]})}(H,d))}return function QI(a){const l=Ag();if(!l)throw new ge(401,!1);return l}()}}function Ag(){var a;return null!==(a=null==Nr?void 0:Nr.get(c0))&&void 0!==a?a:null}let c0=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const g=function Pd(a,l){let u;return u="noop"===a?new HI:("zone.js"===a?void 0:a)||new Tr(l),u}(null==d?void 0:d.ngZone,function u0(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),v=[{provide:Tr,useValue:g}];return g.run(()=>{const T=$a.create({providers:v,parent:this.injector,name:u.moduleType.name}),H=u.create(T),K=H.injector.get(Fu,null);if(!K)throw new ge(402,!1);return g.runOutsideAngular(()=>{const ve=g.onError.subscribe({next:je=>{K.handleError(je)}});H.onDestroy(()=>{Rd(this._modules,H),ve.unsubscribe()})}),function Tg(a,l,u){try{const d=u();return nh(d)?d.catch(g=>{throw l.runOutsideAngular(()=>a.handleError(g)),g}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(K,g,()=>{const ve=H.injector.get(Sd);return ve.runInitializers(),ve.donePromise.then(()=>(function _h(a){Pe(a,"Expected localeId to be defined"),"string"==typeof a&&(Ra=a.toLowerCase().replace(/_/g,"-"))}(H.injector.get(Za,Bl)||Bl),this._moduleDoBootstrap(H),H))})})}bootstrapModule(u,d=[]){const g=d0({},d);return function VI(a,l,u){const d=new Uh(u);return Promise.resolve(d)}(0,0,u).then(v=>this.bootstrapModuleFactory(v,g))}_moduleDoBootstrap(u){const d=u.injector.get(nc);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new ge(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(eu,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Co($a))},a.\u0275prov=re({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function d0(a,l){return Array.isArray(l)?l.reduce(d0,a):Object.assign(Object.assign({},a),l)}let nc=(()=>{class a{constructor(u,d,g){this._zone=u,this._injector=d,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new f.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),T=new f.y(H=>{let K;this._zone.runOutsideAngular(()=>{K=this._zone.onStable.subscribe(()=>{Tr.assertNotInAngularZone(),Wc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const ve=this._zone.onUnstable.subscribe(()=>{Tr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{K.unsubscribe(),ve.unsubscribe()}});this.isStable=(0,V.T)(v,T.pipe((0,F.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const g=u instanceof Ou;if(!this._injector.get(Sd).done)throw!g&&pi(u),new ge(405,false);let T;T=g?u:this._injector.get(yl).resolveComponentFactory(u),this.componentTypes.push(T.componentType);const H=function UI(a){return a.isBoundToModule}(T)?void 0:this._injector.get(ol),ve=T.create($a.NULL,[],d||T.selector,H),je=ve.location.nativeElement,lt=ve.injector.get(qc,null);return null==lt||lt.registerApplication(je),ve.onDestroy(()=>{this.detachView(ve.hostView),Rd(this.components,ve),null==lt||lt.unregisterApplication(je)}),this._loadComponent(ve),ve}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Rd(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Jc,[]).concat(this._bootstrapListeners).forEach(g=>g(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Rd(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ge(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Co(Tr),Co(bl),Co(Fu))},a.\u0275prov=re({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Rd(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let wg=!0,h0=!1;function Va(){return h0=!0,wg}function jI(){if(h0)throw new Error("Cannot enable prod mode after platform setup.");wg=!1}let WI=(()=>{class a{}return a.__NG_ELEMENT_ID__=Eg,a})();function Eg(a){return function Ld(a,l,u){if(Jo(a)&&!u){const d=Dn(a.index,l);return new xc(d,d)}return 47&a.type?new xc(l[16],l):null}(Bi(),on(),16==(16&a))}class Bd{constructor(){}supports(l){return Sc(l)}create(l){return new XI(l)}}const $I=(a,l)=>l;class XI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||$I}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,g=0,v=null;for(;u||d;){const T=!d||u&&u.currentIndex<Og(d,g,v)?u:d,H=Og(T,g,v),K=T.currentIndex;if(T===d)g--,d=d._nextRemoved;else if(u=u._next,null==T.previousIndex)g++;else{v||(v=[]);const ve=H-g,je=K-g;if(ve!=je){for(let wt=0;wt<ve;wt++){const Ft=wt<v.length?v[wt]:v[wt]=0,Xt=Ft+wt;je<=Xt&&Xt<ve&&(v[wt]=Ft+1)}v[T.previousIndex]=je-ve}}H!==K&&l(T,H,K)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Sc(l))throw new ge(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,v,T,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let H=0;H<this.length;H++)v=l[H],T=this._trackByFn(H,v),null!==u&&Object.is(u.trackById,T)?(d&&(u=this._verifyReinsertion(u,v,T,H)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,T,H),d=!0),u=u._next}else g=0,function ny(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[el()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,H=>{T=this._trackByFn(g,H),null!==u&&Object.is(u.trackById,T)?(d&&(u=this._verifyReinsertion(u,H,T,g)),Object.is(u.item,H)||this._addIdentityChange(u,H)):(u=this._mismatch(u,H,T,g),d=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,g){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,v,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,v,g)):l=this._addAfter(new ou(u,d),v,g),l}_verifyReinsertion(l,u,d,g){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?l=this._reinsertAfter(v,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,v=l._nextRemoved;return null===g?this._removalsHead=v:g._nextRemoved=v,null===v?this._removalsTail=g:v._prevRemoved=g,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const g=null===u?this._itHead:u._next;return l._next=g,l._prev=u,null===g?this._itTail=l:g._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new v0),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new v0),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class ou{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class C0{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class v0{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new C0,this.map.set(u,d)),d.add(l)}get(l,u){const g=this.map.get(l);return g?g.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Og(a,l,u){const d=a.previousIndex;if(null===d)return d;let g=0;return u&&d<u.length&&(g=u[d]),d+l+g}class b0{constructor(){}supports(l){return l instanceof Map||Kp(l)}create(){return new Aa}}class Aa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Kp(l)))throw new ge(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const v=this._getOrCreateRecordForKey(g,d);u=this._insertBeforeOrAppend(u,v)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,u);const v=g._prev,T=g._next;return v&&(v._next=T),T&&(T._prev=v),g._next=null,g._prev=null,g}const d=new e1(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class e1{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function su(){return new Li([new Bd])}let Li=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const g=d.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||su()),deps:[[a,new Cu,new _u]]}}find(u){const d=this.factories.find(g=>g.supports(u));if(null!=d)return d;throw new ge(901,!1)}}return a.\u0275prov=re({token:a,providedIn:"root",factory:su}),a})();function y0(){return new Br([new b0])}let Br=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const g=d.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||y0()),deps:[[a,new Cu,new _u]]}}find(u){const d=this.factories.find(g=>g.supports(u));if(d)return d;throw new ge(901,!1)}}return a.\u0275prov=re({token:a,providedIn:"root",factory:y0}),a})();const I0=al(null,"core",[]);let A0=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Co(nc))},a.\u0275mod=kt({type:a}),a.\u0275inj=Me({}),a})();function n1(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},2382:(Lt,qe,C)=>{C.d(qe,{Fj:()=>P,Oe:()=>Bi,NI:()=>Jo,oH:()=>Ho,u:()=>us,cw:()=>ie,sg:()=>Fi,x0:()=>wo,u5:()=>Xo,Cf:()=>ye,JU:()=>ge,a5:()=>Bt,JJ:()=>Ht,JL:()=>mt,On:()=>cs,UX:()=>Os,kI:()=>U,_Y:()=>jo});var e=C(5e3),s=C(9808),f=C(2076),V=C(9751),F=C(4742),I=C(8421),L=C(3269),se=C(5403),q=C(3268),z=C(1810),ne=C(4004);let De=(()=>{class Ce{constructor(W,Je){this._renderer=W,this._elementRef=Je,this.onChange=Jt=>{},this.onTouched=()=>{}}setProperty(W,Je){this._renderer.setProperty(this._elementRef.nativeElement,W,Je)}registerOnTouched(W){this.onTouched=W}registerOnChange(W){this.onChange=W}setDisabledState(W){this.setProperty("disabled",W)}}return Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(e.Qsj),e.Y36(e.SBq))},Ce.\u0275dir=e.lG2({type:Ce}),Ce})(),ue=(()=>{class Ce extends De{}return Ce.\u0275fac=function(){let te;return function(Je){return(te||(te=e.n5z(Ce)))(Je||Ce)}}(),Ce.\u0275dir=e.lG2({type:Ce,features:[e.qOj]}),Ce})();const ge=new e.OlP("NgValueAccessor"),Q={provide:ge,useExisting:(0,e.Gpc)(()=>P),multi:!0},le=new e.OlP("CompositionEventMode");let P=(()=>{class Ce extends De{constructor(W,Je,Jt){super(W,Je),this._compositionMode=Jt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oe(){const Ce=(0,s.q)()?(0,s.q)().getUserAgent():"";return/android (\d+)/.test(Ce.toLowerCase())}())}writeValue(W){this.setProperty("value",null==W?"":W)}_handleInput(W){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(W)}_compositionStart(){this._composing=!0}_compositionEnd(W){this._composing=!1,this._compositionMode&&this.onChange(W)}}return Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(le,8))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,Je){1&W&&e.NdJ("input",function(Tn){return Je._handleInput(Tn.target.value)})("blur",function(){return Je.onTouched()})("compositionstart",function(){return Je._compositionStart()})("compositionend",function(Tn){return Je._compositionEnd(Tn.target.value)})},features:[e._Bn([Q]),e.qOj]}),Ce})();function we(Ce){return null==Ce||("string"==typeof Ce||Array.isArray(Ce))&&0===Ce.length}function be(Ce){return null!=Ce&&"number"==typeof Ce.length}const ye=new e.OlP("NgValidators"),G=new e.OlP("NgAsyncValidators"),E=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class U{static min(te){return function $(Ce){return te=>{if(we(te.value)||we(Ce))return null;const W=parseFloat(te.value);return!isNaN(W)&&W<Ce?{min:{min:Ce,actual:te.value}}:null}}(te)}static max(te){return function Ae(Ce){return te=>{if(we(te.value)||we(Ce))return null;const W=parseFloat(te.value);return!isNaN(W)&&W>Ce?{max:{max:Ce,actual:te.value}}:null}}(te)}static required(te){return function Ne(Ce){return we(Ce.value)?{required:!0}:null}(te)}static requiredTrue(te){return function He(Ce){return!0===Ce.value?null:{required:!0}}(te)}static email(te){return function Re(Ce){return we(Ce.value)||E.test(Ce.value)?null:{email:!0}}(te)}static minLength(te){return function gt(Ce){return te=>we(te.value)||!be(te.value)?null:te.value.length<Ce?{minlength:{requiredLength:Ce,actualLength:te.value.length}}:null}(te)}static maxLength(te){return function ut(Ce){return te=>be(te.value)&&te.value.length>Ce?{maxlength:{requiredLength:Ce,actualLength:te.value.length}}:null}(te)}static pattern(te){return function Pe(Ce){if(!Ce)return We;let te,W;return"string"==typeof Ce?(W="","^"!==Ce.charAt(0)&&(W+="^"),W+=Ce,"$"!==Ce.charAt(Ce.length-1)&&(W+="$"),te=new RegExp(W)):(W=Ce.toString(),te=Ce),Je=>{if(we(Je.value))return null;const Jt=Je.value;return te.test(Jt)?null:{pattern:{requiredPattern:W,actualValue:Jt}}}}(te)}static nullValidator(te){return null}static compose(te){return Fe(te)}static composeAsync(te){return R(te)}}function We(Ce){return null}function J(Ce){return null!=Ce}function de(Ce){return(0,e.QGY)(Ce)?(0,f.D)(Ce):Ce}function Qe(Ce){let te={};return Ce.forEach(W=>{te=null!=W?Object.assign(Object.assign({},te),W):te}),0===Object.keys(te).length?null:te}function re(Ce,te){return te.map(W=>W(Ce))}function Me(Ce){return Ce.map(te=>function Ve(Ce){return!Ce.validate}(te)?te:W=>te.validate(W))}function Fe(Ce){if(!Ce)return null;const te=Ce.filter(J);return 0==te.length?null:function(W){return Qe(re(W,te))}}function $e(Ce){return null!=Ce?Fe(Me(Ce)):null}function R(Ce){if(!Ce)return null;const te=Ce.filter(J);return 0==te.length?null:function(W){return function he(...Ce){const te=(0,L.jO)(Ce),{args:W,keys:Je}=(0,F.D)(Ce),Jt=new V.y(Tn=>{const{length:Ci}=W;if(!Ci)return void Tn.complete();const Po=new Array(Ci);let hs=Ci,Ls=Ci;for(let Ts=0;Ts<Ci;Ts++){let Ns=!1;(0,I.Xf)(W[Ts]).subscribe(new se.Q(Tn,Js=>{Ns||(Ns=!0,Ls--),Po[Ts]=Js},()=>hs--,void 0,()=>{(!hs||!Ns)&&(Ls||Tn.next(Je?(0,z.n)(Je,Po):Po),Tn.complete())}))}});return te?Jt.pipe((0,q.Z)(te)):Jt}(re(W,te).map(de)).pipe((0,ne.U)(Qe))}}function it(Ce){return null!=Ce?R(Me(Ce)):null}function Le(Ce,te){return null===Ce?[te]:Array.isArray(Ce)?[...Ce,te]:[Ce,te]}function Et(Ce){return Ce._rawValidators}function un(Ce){return Ce._rawAsyncValidators}function Cn(Ce){return Ce?Array.isArray(Ce)?Ce:[Ce]:[]}function Ot(Ce,te){return Array.isArray(Ce)?Ce.includes(te):Ce===te}function en(Ce,te){const W=Cn(te);return Cn(Ce).forEach(Jt=>{Ot(W,Jt)||W.push(Jt)}),W}function at(Ce,te){return Cn(te).filter(W=>!Ot(Ce,W))}class Pt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(te){this._rawValidators=te||[],this._composedValidatorFn=$e(this._rawValidators)}_setAsyncValidators(te){this._rawAsyncValidators=te||[],this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(te){this._onDestroyCallbacks.push(te)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(te=>te()),this._onDestroyCallbacks=[]}reset(te){this.control&&this.control.reset(te)}hasError(te,W){return!!this.control&&this.control.hasError(te,W)}getError(te,W){return this.control?this.control.getError(te,W):null}}class Bt extends Pt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tn extends Pt{get formDirective(){return null}get path(){return null}}class ft{constructor(te){this._cd=te}get isTouched(){var te,W;return!(null===(W=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===W||!W.touched)}get isUntouched(){var te,W;return!(null===(W=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===W||!W.untouched)}get isPristine(){var te,W;return!(null===(W=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===W||!W.pristine)}get isDirty(){var te,W;return!(null===(W=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===W||!W.dirty)}get isValid(){var te,W;return!(null===(W=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===W||!W.valid)}get isInvalid(){var te,W;return!(null===(W=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===W||!W.invalid)}get isPending(){var te,W;return!(null===(W=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===W||!W.pending)}get isSubmitted(){var te;return!(null===(te=this._cd)||void 0===te||!te.submitted)}}let Ht=(()=>{class Ce extends ft{constructor(W){super(W)}}return Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(Bt,2))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,Je){2&W&&e.ekj("ng-untouched",Je.isUntouched)("ng-touched",Je.isTouched)("ng-pristine",Je.isPristine)("ng-dirty",Je.isDirty)("ng-valid",Je.isValid)("ng-invalid",Je.isInvalid)("ng-pending",Je.isPending)},features:[e.qOj]}),Ce})(),mt=(()=>{class Ce extends ft{constructor(W){super(W)}}return Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(tn,10))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,Je){2&W&&e.ekj("ng-untouched",Je.isUntouched)("ng-touched",Je.isTouched)("ng-pristine",Je.isPristine)("ng-dirty",Je.isDirty)("ng-valid",Je.isValid)("ng-invalid",Je.isInvalid)("ng-pending",Je.isPending)("ng-submitted",Je.isSubmitted)},features:[e.qOj]}),Ce})();const kt="VALID",an="INVALID",tt="PENDING",At="DISABLED";function qt(Ce){return(pi(Ce)?Ce.validators:Ce)||null}function Kt(Ce){return Array.isArray(Ce)?$e(Ce):Ce||null}function vn(Ce,te){return(pi(te)?te.asyncValidators:Ce)||null}function Rn(Ce){return Array.isArray(Ce)?it(Ce):Ce||null}function pi(Ce){return null!=Ce&&!Array.isArray(Ce)&&"object"==typeof Ce}function Ai(Ce,te,W){const Je=Ce.controls;if(!(te?Object.keys(Je):Je).length)throw new e.vHH(1e3,"");if(!Je[W])throw new e.vHH(1001,"")}function Ki(Ce,te,W){Ce._forEachChild((Je,Jt)=>{if(void 0===W[Jt])throw new e.vHH(1002,"")})}class Ke{constructor(te,W){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=te,this._rawAsyncValidators=W,this._composedValidatorFn=Kt(this._rawValidators),this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(te){this._rawValidators=this._composedValidatorFn=te}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(te){this._rawAsyncValidators=this._composedAsyncValidatorFn=te}get parent(){return this._parent}get valid(){return this.status===kt}get invalid(){return this.status===an}get pending(){return this.status==tt}get disabled(){return this.status===At}get enabled(){return this.status!==At}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(te){this._rawValidators=te,this._composedValidatorFn=Kt(te)}setAsyncValidators(te){this._rawAsyncValidators=te,this._composedAsyncValidatorFn=Rn(te)}addValidators(te){this.setValidators(en(te,this._rawValidators))}addAsyncValidators(te){this.setAsyncValidators(en(te,this._rawAsyncValidators))}removeValidators(te){this.setValidators(at(te,this._rawValidators))}removeAsyncValidators(te){this.setAsyncValidators(at(te,this._rawAsyncValidators))}hasValidator(te){return Ot(this._rawValidators,te)}hasAsyncValidator(te){return Ot(this._rawAsyncValidators,te)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(te={}){this.touched=!0,this._parent&&!te.onlySelf&&this._parent.markAsTouched(te)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(te=>te.markAllAsTouched())}markAsUntouched(te={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(W=>{W.markAsUntouched({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}markAsDirty(te={}){this.pristine=!1,this._parent&&!te.onlySelf&&this._parent.markAsDirty(te)}markAsPristine(te={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(W=>{W.markAsPristine({onlySelf:!0})}),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}markAsPending(te={}){this.status=tt,!1!==te.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!te.onlySelf&&this._parent.markAsPending(te)}disable(te={}){const W=this._parentMarkedDirty(te.onlySelf);this.status=At,this.errors=null,this._forEachChild(Je=>{Je.disable(Object.assign(Object.assign({},te),{onlySelf:!0}))}),this._updateValue(),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},te),{skipPristineCheck:W})),this._onDisabledChange.forEach(Je=>Je(!0))}enable(te={}){const W=this._parentMarkedDirty(te.onlySelf);this.status=kt,this._forEachChild(Je=>{Je.enable(Object.assign(Object.assign({},te),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},te),{skipPristineCheck:W})),this._onDisabledChange.forEach(Je=>Je(!1))}_updateAncestors(te){this._parent&&!te.onlySelf&&(this._parent.updateValueAndValidity(te),te.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(te){this._parent=te}getRawValue(){return this.value}updateValueAndValidity(te={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kt||this.status===tt)&&this._runAsyncValidator(te.emitEvent)),!1!==te.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.updateValueAndValidity(te)}_updateTreeValidity(te={emitEvent:!0}){this._forEachChild(W=>W._updateTreeValidity(te)),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?At:kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(te){if(this.asyncValidator){this.status=tt,this._hasOwnPendingAsyncValidator=!0;const W=de(this.asyncValidator(this));this._asyncValidationSubscription=W.subscribe(Je=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Je,{emitEvent:te})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(te,W={}){this.errors=te,this._updateControlsErrors(!1!==W.emitEvent)}get(te){let W=te;return null==W||(Array.isArray(W)||(W=W.split(".")),0===W.length)?null:W.reduce((Je,Jt)=>Je&&Je._find(Jt),this)}getError(te,W){const Je=W?this.get(W):this;return Je&&Je.errors?Je.errors[te]:null}hasError(te,W){return!!this.getError(te,W)}get root(){let te=this;for(;te._parent;)te=te._parent;return te}_updateControlsErrors(te){this.status=this._calculateStatus(),te&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(te)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?At:this.errors?an:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tt)?tt:this._anyControlsHaveStatus(an)?an:kt}_anyControlsHaveStatus(te){return this._anyControls(W=>W.status===te)}_anyControlsDirty(){return this._anyControls(te=>te.dirty)}_anyControlsTouched(){return this._anyControls(te=>te.touched)}_updatePristine(te={}){this.pristine=!this._anyControlsDirty(),this._parent&&!te.onlySelf&&this._parent._updatePristine(te)}_updateTouched(te={}){this.touched=this._anyControlsTouched(),this._parent&&!te.onlySelf&&this._parent._updateTouched(te)}_registerOnCollectionChange(te){this._onCollectionChange=te}_setUpdateStrategy(te){pi(te)&&null!=te.updateOn&&(this._updateOn=te.updateOn)}_parentMarkedDirty(te){return!te&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(te){return null}}class ie extends Ke{constructor(te,W,Je){super(qt(W),vn(Je,W)),this.controls=te,this._initObservables(),this._setUpdateStrategy(W),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(te,W){return this.controls[te]?this.controls[te]:(this.controls[te]=W,W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange),W)}addControl(te,W,Je={}){this.registerControl(te,W),this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}removeControl(te,W={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}setControl(te,W,Je={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],W&&this.registerControl(te,W),this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}contains(te){return this.controls.hasOwnProperty(te)&&this.controls[te].enabled}setValue(te,W={}){Ki(this,0,te),Object.keys(te).forEach(Je=>{Ai(this,!0,Je),this.controls[Je].setValue(te[Je],{onlySelf:!0,emitEvent:W.emitEvent})}),this.updateValueAndValidity(W)}patchValue(te,W={}){null!=te&&(Object.keys(te).forEach(Je=>{const Jt=this.controls[Je];Jt&&Jt.patchValue(te[Je],{onlySelf:!0,emitEvent:W.emitEvent})}),this.updateValueAndValidity(W))}reset(te={},W={}){this._forEachChild((Je,Jt)=>{Je.reset(te[Jt],{onlySelf:!0,emitEvent:W.emitEvent})}),this._updatePristine(W),this._updateTouched(W),this.updateValueAndValidity(W)}getRawValue(){return this._reduceChildren({},(te,W,Je)=>(te[Je]=W.getRawValue(),te))}_syncPendingControls(){let te=this._reduceChildren(!1,(W,Je)=>!!Je._syncPendingControls()||W);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){Object.keys(this.controls).forEach(W=>{const Je=this.controls[W];Je&&te(Je,W)})}_setUpControls(){this._forEachChild(te=>{te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(te){for(const[W,Je]of Object.entries(this.controls))if(this.contains(W)&&te(Je))return!0;return!1}_reduceValue(){return this._reduceChildren({},(W,Je,Jt)=>((Je.enabled||this.disabled)&&(W[Jt]=Je.value),W))}_reduceChildren(te,W){let Je=te;return this._forEachChild((Jt,Tn)=>{Je=W(Je,Jt,Tn)}),Je}_allControlsDisabled(){for(const te of Object.keys(this.controls))if(this.controls[te].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(te){return this.controls.hasOwnProperty(te)?this.controls[te]:null}}function Dt(Ce,te){return[...te.path,Ce]}function St(Ce,te){var W,Je;mn(Ce,te),te.valueAccessor.writeValue(Ce.value),Ce.disabled&&(null===(Je=(W=te.valueAccessor).setDisabledState)||void 0===Je||Je.call(W,!0)),function xn(Ce,te){te.valueAccessor.registerOnChange(W=>{Ce._pendingValue=W,Ce._pendingChange=!0,Ce._pendingDirty=!0,"change"===Ce.updateOn&&Si(Ce,te)})}(Ce,te),function ki(Ce,te){const W=(Je,Jt)=>{te.valueAccessor.writeValue(Je),Jt&&te.viewToModelUpdate(Je)};Ce.registerOnChange(W),te._registerOnDestroy(()=>{Ce._unregisterOnChange(W)})}(Ce,te),function Kn(Ce,te){te.valueAccessor.registerOnTouched(()=>{Ce._pendingTouched=!0,"blur"===Ce.updateOn&&Ce._pendingChange&&Si(Ce,te),"submit"!==Ce.updateOn&&Ce.markAsTouched()})}(Ce,te),function hn(Ce,te){if(te.valueAccessor.setDisabledState){const W=Je=>{te.valueAccessor.setDisabledState(Je)};Ce.registerOnDisabledChange(W),te._registerOnDestroy(()=>{Ce._unregisterOnDisabledChange(W)})}}(Ce,te)}function Vt(Ce,te,W=!0){const Je=()=>{};te.valueAccessor&&(te.valueAccessor.registerOnChange(Je),te.valueAccessor.registerOnTouched(Je)),yn(Ce,te),Ce&&(te._invokeOnDestroyCallbacks(),Ce._registerOnCollectionChange(()=>{}))}function ln(Ce,te){Ce.forEach(W=>{W.registerOnValidatorChange&&W.registerOnValidatorChange(te)})}function mn(Ce,te){const W=Et(Ce);null!==te.validator?Ce.setValidators(Le(W,te.validator)):"function"==typeof W&&Ce.setValidators([W]);const Je=un(Ce);null!==te.asyncValidator?Ce.setAsyncValidators(Le(Je,te.asyncValidator)):"function"==typeof Je&&Ce.setAsyncValidators([Je]);const Jt=()=>Ce.updateValueAndValidity();ln(te._rawValidators,Jt),ln(te._rawAsyncValidators,Jt)}function yn(Ce,te){let W=!1;if(null!==Ce){if(null!==te.validator){const Jt=Et(Ce);if(Array.isArray(Jt)&&Jt.length>0){const Tn=Jt.filter(Ci=>Ci!==te.validator);Tn.length!==Jt.length&&(W=!0,Ce.setValidators(Tn))}}if(null!==te.asyncValidator){const Jt=un(Ce);if(Array.isArray(Jt)&&Jt.length>0){const Tn=Jt.filter(Ci=>Ci!==te.asyncValidator);Tn.length!==Jt.length&&(W=!0,Ce.setAsyncValidators(Tn))}}}const Je=()=>{};return ln(te._rawValidators,Je),ln(te._rawAsyncValidators,Je),W}function Si(Ce,te){Ce._pendingDirty&&Ce.markAsDirty(),Ce.setValue(Ce._pendingValue,{emitModelToViewChange:!1}),te.viewToModelUpdate(Ce._pendingValue),Ce._pendingChange=!1}function to(Ce,te){if(!Ce.hasOwnProperty("model"))return!1;const W=Ce.model;return!!W.isFirstChange()||!Object.is(te,W.currentValue)}function so(Ce,te){if(!te)return null;let W,Je,Jt;return Array.isArray(te),te.forEach(Tn=>{Tn.constructor===P?W=Tn:function xi(Ce){return Object.getPrototypeOf(Ce.constructor)===ue}(Tn)?Je=Tn:Jt=Tn}),Jt||Je||W||null}function Ri(Ce,te){const W=Ce.indexOf(te);W>-1&&Ce.splice(W,1)}function Mo(Ce){return"object"==typeof Ce&&null!==Ce&&2===Object.keys(Ce).length&&"value"in Ce&&"disabled"in Ce}const Jo=class extends Ke{constructor(te=null,W,Je){super(qt(W),vn(Je,W)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(te),this._setUpdateStrategy(W),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pi(W)&&(W.nonNullable||W.initialValueIsDefault)&&(this.defaultValue=Mo(te)?te.value:te)}setValue(te,W={}){this.value=this._pendingValue=te,this._onChange.length&&!1!==W.emitModelToViewChange&&this._onChange.forEach(Je=>Je(this.value,!1!==W.emitViewToModelChange)),this.updateValueAndValidity(W)}patchValue(te,W={}){this.setValue(te,W)}reset(te=this.defaultValue,W={}){this._applyFormState(te),this.markAsPristine(W),this.markAsUntouched(W),this.setValue(this.value,W),this._pendingChange=!1}_updateValue(){}_anyControls(te){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(te){this._onChange.push(te)}_unregisterOnChange(te){Ri(this._onChange,te)}registerOnDisabledChange(te){this._onDisabledChange.push(te)}_unregisterOnDisabledChange(te){Ri(this._onDisabledChange,te)}_forEachChild(te){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(te){Mo(te)?(this.value=this._pendingValue=te.value,te.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=te}};let is=(()=>{class Ce extends tn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return Ce.\u0275fac=function(){let te;return function(Je){return(te||(te=e.n5z(Ce)))(Je||Ce)}}(),Ce.\u0275dir=e.lG2({type:Ce,features:[e.qOj]}),Ce})();const tr={provide:Bt,useExisting:(0,e.Gpc)(()=>cs)},gr=(()=>Promise.resolve())();let cs=(()=>{class Ce extends Bt{constructor(W,Je,Jt,Tn,Ci){super(),this._changeDetectorRef=Ci,this.control=new Jo,this._registered=!1,this.update=new e.vpe,this._parent=W,this._setValidators(Je),this._setAsyncValidators(Jt),this.valueAccessor=so(0,Tn)}ngOnChanges(W){if(this._checkForErrors(),!this._registered||"name"in W){if(this._registered&&(this._checkName(),this.formDirective)){const Je=W.name.previousValue;this.formDirective.removeControl({name:Je,path:this._getPath(Je)})}this._setUpControl()}"isDisabled"in W&&this._updateDisabled(W),to(W,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){St(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(W){gr.then(()=>{var Je;this.control.setValue(W,{emitViewToModelChange:!1}),null===(Je=this._changeDetectorRef)||void 0===Je||Je.markForCheck()})}_updateDisabled(W){const Je=W.isDisabled.currentValue,Jt=0!==Je&&(0,e.D6c)(Je);gr.then(()=>{var Tn;Jt&&!this.control.disabled?this.control.disable():!Jt&&this.control.disabled&&this.control.enable(),null===(Tn=this._changeDetectorRef)||void 0===Tn||Tn.markForCheck()})}_getPath(W){return this._parent?Dt(W,this._parent):[W]}}return Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(tn,9),e.Y36(ye,10),e.Y36(G,10),e.Y36(ge,10),e.Y36(e.sBO,8))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([tr]),e.qOj,e.TTD]}),Ce})(),jo=(()=>{class Ce{}return Ce.\u0275fac=function(W){return new(W||Ce)},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Ce})(),Vs=(()=>{class Ce{}return Ce.\u0275fac=function(W){return new(W||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({}),Ce})();const ro=new e.OlP("NgModelWithFormControlWarning"),ks={provide:Bt,useExisting:(0,e.Gpc)(()=>Ho)};let Ho=(()=>{class Ce extends Bt{constructor(W,Je,Jt,Tn){super(),this._ngModelWarningConfig=Tn,this.update=new e.vpe,this._ngModelWarningSent=!1,this._setValidators(W),this._setAsyncValidators(Je),this.valueAccessor=so(0,Jt)}set isDisabled(W){}ngOnChanges(W){if(this._isControlChanged(W)){const Je=W.form.previousValue;Je&&Vt(Je,this,!1),St(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}to(W,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Vt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}_isControlChanged(W){return W.hasOwnProperty("form")}}return Ce._ngModelWarningSentOnce=!1,Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(ye,10),e.Y36(G,10),e.Y36(ge,10),e.Y36(ro,8))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e._Bn([ks]),e.qOj,e.TTD]}),Ce})();const yo={provide:tn,useExisting:(0,e.Gpc)(()=>Fi)};let Fi=(()=>{class Ce extends tn{constructor(W,Je){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(W),this._setAsyncValidators(Je)}ngOnChanges(W){this._checkFormPresent(),W.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(W){const Je=this.form.get(W.path);return St(Je,W),Je.updateValueAndValidity({emitEvent:!1}),this.directives.push(W),Je}getControl(W){return this.form.get(W.path)}removeControl(W){Vt(W.control||null,W,!1),function Qo(Ce,te){const W=Ce.indexOf(te);W>-1&&Ce.splice(W,1)}(this.directives,W)}addFormGroup(W){this._setUpFormContainer(W)}removeFormGroup(W){this._cleanUpFormContainer(W)}getFormGroup(W){return this.form.get(W.path)}addFormArray(W){this._setUpFormContainer(W)}removeFormArray(W){this._cleanUpFormContainer(W)}getFormArray(W){return this.form.get(W.path)}updateModel(W,Je){this.form.get(W.path).setValue(Je)}onSubmit(W){var Je;return this.submitted=!0,function oo(Ce,te){Ce._syncPendingControls(),te.forEach(W=>{const Je=W.control;"submit"===Je.updateOn&&Je._pendingChange&&(W.viewToModelUpdate(Je._pendingValue),Je._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(W),"dialog"===(null===(Je=null==W?void 0:W.target)||void 0===Je?void 0:Je.method)}onReset(){this.resetForm()}resetForm(W){this.form.reset(W),this.submitted=!1}_updateDomValue(){this.directives.forEach(W=>{const Je=W.control,Jt=this.form.get(W.path);Je!==Jt&&(Vt(Je||null,W),(Ce=>Ce instanceof Jo)(Jt)&&(St(Jt,W),W.control=Jt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(W){const Je=this.form.get(W.path);(function bn(Ce,te){mn(Ce,te)})(Je,W),Je.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(W){if(this.form){const Je=this.form.get(W.path);Je&&function Ti(Ce,te){return yn(Ce,te)}(Je,W)&&Je.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mn(this.form,this),this._oldForm&&yn(this._oldForm,this)}_checkFormPresent(){}}return Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(ye,10),e.Y36(G,10))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","formGroup",""]],hostBindings:function(W,Je){1&W&&e.NdJ("submit",function(Tn){return Je.onSubmit(Tn)})("reset",function(){return Je.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([yo]),e.qOj,e.TTD]}),Ce})();const oi={provide:tn,useExisting:(0,e.Gpc)(()=>wo)};let wo=(()=>{class Ce extends is{constructor(W,Je,Jt){super(),this._parent=W,this._setValidators(Je),this._setAsyncValidators(Jt)}_checkParentType(){os(this._parent)}}return Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(tn,13),e.Y36(ye,10),e.Y36(G,10))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e._Bn([oi]),e.qOj]}),Ce})();const Do={provide:tn,useExisting:(0,e.Gpc)(()=>fo)};let fo=(()=>{class Ce extends tn{constructor(W,Je,Jt){super(),this._parent=W,this._setValidators(Je),this._setAsyncValidators(Jt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){os(this._parent)}}return Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(tn,13),e.Y36(ye,10),e.Y36(G,10))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e._Bn([Do]),e.qOj]}),Ce})();function os(Ce){return!(Ce instanceof wo||Ce instanceof Fi||Ce instanceof fo)}const nr={provide:Bt,useExisting:(0,e.Gpc)(()=>us)};let us=(()=>{class Ce extends Bt{constructor(W,Je,Jt,Tn,Ci){super(),this._ngModelWarningConfig=Ci,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=W,this._setValidators(Je),this._setAsyncValidators(Jt),this.valueAccessor=so(0,Tn)}set isDisabled(W){}ngOnChanges(W){this._added||this._setUpControl(),to(W,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return Ce._ngModelWarningSentOnce=!1,Ce.\u0275fac=function(W){return new(W||Ce)(e.Y36(tn,13),e.Y36(ye,10),e.Y36(G,10),e.Y36(ge,10),e.Y36(ro,8))},Ce.\u0275dir=e.lG2({type:Ce,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([nr]),e.qOj,e.TTD]}),Ce})(),jn=(()=>{class Ce{}return Ce.\u0275fac=function(W){return new(W||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({imports:[Vs]}),Ce})(),Xo=(()=>{class Ce{}return Ce.\u0275fac=function(W){return new(W||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({imports:[jn]}),Ce})(),Os=(()=>{class Ce{static withConfig(W){return{ngModule:Ce,providers:[{provide:ro,useValue:W.warnOnNgModelWithFormControl}]}}}return Ce.\u0275fac=function(W){return new(W||Ce)},Ce.\u0275mod=e.oAB({type:Ce}),Ce.\u0275inj=e.cJS({imports:[jn]}),Ce})();class Bi extends Ke{constructor(te,W,Je){super(qt(W),vn(Je,W)),this.controls=te,this._initObservables(),this._setUpdateStrategy(W),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(te){return this.controls[this._adjustIndex(te)]}push(te,W={}){this.controls.push(te),this._registerControl(te),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}insert(te,W,Je={}){this.controls.splice(te,0,W),this._registerControl(W),this.updateValueAndValidity({emitEvent:Je.emitEvent})}removeAt(te,W={}){let Je=this._adjustIndex(te);Je<0&&(Je=0),this.controls[Je]&&this.controls[Je]._registerOnCollectionChange(()=>{}),this.controls.splice(Je,1),this.updateValueAndValidity({emitEvent:W.emitEvent})}setControl(te,W,Je={}){let Jt=this._adjustIndex(te);Jt<0&&(Jt=0),this.controls[Jt]&&this.controls[Jt]._registerOnCollectionChange(()=>{}),this.controls.splice(Jt,1),W&&(this.controls.splice(Jt,0,W),this._registerControl(W)),this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(te,W={}){Ki(this,0,te),te.forEach((Je,Jt)=>{Ai(this,!1,Jt),this.at(Jt).setValue(Je,{onlySelf:!0,emitEvent:W.emitEvent})}),this.updateValueAndValidity(W)}patchValue(te,W={}){null!=te&&(te.forEach((Je,Jt)=>{this.at(Jt)&&this.at(Jt).patchValue(Je,{onlySelf:!0,emitEvent:W.emitEvent})}),this.updateValueAndValidity(W))}reset(te=[],W={}){this._forEachChild((Je,Jt)=>{Je.reset(te[Jt],{onlySelf:!0,emitEvent:W.emitEvent})}),this._updatePristine(W),this._updateTouched(W),this.updateValueAndValidity(W)}getRawValue(){return this.controls.map(te=>te.getRawValue())}clear(te={}){this.controls.length<1||(this._forEachChild(W=>W._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:te.emitEvent}))}_adjustIndex(te){return te<0?te+this.length:te}_syncPendingControls(){let te=this.controls.reduce((W,Je)=>!!Je._syncPendingControls()||W,!1);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){this.controls.forEach((W,Je)=>{te(W,Je)})}_updateValue(){this.value=this.controls.filter(te=>te.enabled||this.disabled).map(te=>te.value)}_anyControls(te){return this.controls.some(W=>W.enabled&&te(W))}_setUpControls(){this._forEachChild(te=>this._registerControl(te))}_allControlsDisabled(){for(const te of this.controls)if(te.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(te){te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)}_find(te){var W;return null!==(W=this.at(te))&&void 0!==W?W:null}}},2313:(Lt,qe,C)=>{C.d(qe,{Dx:()=>Ht,H7:()=>Rn,b2:()=>Bt,q6:()=>Ot,se:()=>Ne});var e=C(9808),s=C(5e3);class f extends e.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class V extends f{static makeCurrent(){(0,e.HT)(new V)}onAndCancel(ie,B,oe){return ie.addEventListener(B,oe,!1),()=>{ie.removeEventListener(B,oe,!1)}}dispatchEvent(ie,B){ie.dispatchEvent(B)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,B){return(B=B||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,B){return"window"===B?window:"document"===B?ie:"body"===B?ie.body:null}getBaseHref(ie){const B=function I(){return F=F||document.querySelector("base"),F?F.getAttribute("href"):null}();return null==B?null:function se(Ke){L=L||document.createElement("a"),L.setAttribute("href",Ke);const ie=L.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(B)}resetBaseElement(){F=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,e.Mx)(document.cookie,ie)}}let L,F=null;const q=new s.OlP("TRANSITION_ID"),he=[{provide:s.ip1,useFactory:function z(Ke,ie,B){return()=>{B.get(s.CZH).donePromise.then(()=>{const oe=(0,e.q)(),xe=ie.querySelectorAll(`style[ng-transition="${Ke}"]`);for(let Ct=0;Ct<xe.length;Ct++)oe.remove(xe[Ct])})}},deps:[q,e.K0,s.zs3],multi:!0}];let De=(()=>{class Ke{build(){return new XMLHttpRequest}}return Ke.\u0275fac=function(B){return new(B||Ke)},Ke.\u0275prov=s.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const ue=new s.OlP("EventManagerPlugins");let ge=(()=>{class Ke{constructor(B,oe){this._zone=oe,this._eventNameToPlugin=new Map,B.forEach(xe=>xe.manager=this),this._plugins=B.slice().reverse()}addEventListener(B,oe,xe){return this._findPluginFor(oe).addEventListener(B,oe,xe)}addGlobalEventListener(B,oe,xe){return this._findPluginFor(oe).addGlobalEventListener(B,oe,xe)}getZone(){return this._zone}_findPluginFor(B){const oe=this._eventNameToPlugin.get(B);if(oe)return oe;const xe=this._plugins;for(let Ct=0;Ct<xe.length;Ct++){const Dt=xe[Ct];if(Dt.supports(B))return this._eventNameToPlugin.set(B,Dt),Dt}throw new Error(`No event manager plugin found for event ${B}`)}}return Ke.\u0275fac=function(B){return new(B||Ke)(s.LFG(ue),s.LFG(s.R0b))},Ke.\u0275prov=s.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class pe{constructor(ie){this._doc=ie}addGlobalEventListener(ie,B,oe){const xe=(0,e.q)().getGlobalEventTarget(this._doc,ie);if(!xe)throw new Error(`Unsupported event target ${xe} for event ${B}`);return this.addEventListener(xe,B,oe)}}let ke=(()=>{class Ke{constructor(){this._stylesSet=new Set}addStyles(B){const oe=new Set;B.forEach(xe=>{this._stylesSet.has(xe)||(this._stylesSet.add(xe),oe.add(xe))}),this.onStylesAdded(oe)}onStylesAdded(B){}getAllStyles(){return Array.from(this._stylesSet)}}return Ke.\u0275fac=function(B){return new(B||Ke)},Ke.\u0275prov=s.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),Q=(()=>{class Ke extends ke{constructor(B){super(),this._doc=B,this._hostNodes=new Map,this._hostNodes.set(B.head,[])}_addStylesToHost(B,oe,xe){B.forEach(Ct=>{const Dt=this._doc.createElement("style");Dt.textContent=Ct,xe.push(oe.appendChild(Dt))})}addHost(B){const oe=[];this._addStylesToHost(this._stylesSet,B,oe),this._hostNodes.set(B,oe)}removeHost(B){const oe=this._hostNodes.get(B);oe&&oe.forEach(Oe),this._hostNodes.delete(B)}onStylesAdded(B){this._hostNodes.forEach((oe,xe)=>{this._addStylesToHost(B,xe,oe)})}ngOnDestroy(){this._hostNodes.forEach(B=>B.forEach(Oe))}}return Ke.\u0275fac=function(B){return new(B||Ke)(s.LFG(e.K0))},Ke.\u0275prov=s.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();function Oe(Ke){(0,e.q)().remove(Ke)}const le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P=/%COMP%/g;function U(Ke,ie,B){for(let oe=0;oe<ie.length;oe++){let xe=ie[oe];Array.isArray(xe)?U(Ke,xe,B):(xe=xe.replace(P,Ke),B.push(xe))}return B}function $(Ke){return ie=>{if("__ngUnwrap__"===ie)return Ke;!1===Ke(ie)&&(ie.preventDefault(),ie.returnValue=!1)}}let Ne=(()=>{class Ke{constructor(B,oe,xe){this.eventManager=B,this.sharedStylesHost=oe,this.appId=xe,this.rendererByCompId=new Map,this.defaultRenderer=new He(B)}createRenderer(B,oe){if(!B||!oe)return this.defaultRenderer;switch(oe.encapsulation){case s.ifc.Emulated:{let xe=this.rendererByCompId.get(oe.id);return xe||(xe=new Pe(this.eventManager,this.sharedStylesHost,oe,this.appId),this.rendererByCompId.set(oe.id,xe)),xe.applyToHost(B),xe}case 1:case s.ifc.ShadowDom:return new We(this.eventManager,this.sharedStylesHost,B,oe);default:if(!this.rendererByCompId.has(oe.id)){const xe=U(oe.id,oe.styles,[]);this.sharedStylesHost.addStyles(xe),this.rendererByCompId.set(oe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ke.\u0275fac=function(B){return new(B||Ke)(s.LFG(ge),s.LFG(Q),s.LFG(s.AFp))},Ke.\u0275prov=s.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class He{constructor(ie){this.eventManager=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,B){return B?document.createElementNS(le[B]||B,ie):document.createElement(ie)}createComment(ie){return document.createComment(ie)}createText(ie){return document.createTextNode(ie)}appendChild(ie,B){(ut(ie)?ie.content:ie).appendChild(B)}insertBefore(ie,B,oe){ie&&(ut(ie)?ie.content:ie).insertBefore(B,oe)}removeChild(ie,B){ie&&ie.removeChild(B)}selectRootElement(ie,B){let oe="string"==typeof ie?document.querySelector(ie):ie;if(!oe)throw new Error(`The selector "${ie}" did not match any elements`);return B||(oe.textContent=""),oe}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,B,oe,xe){if(xe){B=xe+":"+B;const Ct=le[xe];Ct?ie.setAttributeNS(Ct,B,oe):ie.setAttribute(B,oe)}else ie.setAttribute(B,oe)}removeAttribute(ie,B,oe){if(oe){const xe=le[oe];xe?ie.removeAttributeNS(xe,B):ie.removeAttribute(`${oe}:${B}`)}else ie.removeAttribute(B)}addClass(ie,B){ie.classList.add(B)}removeClass(ie,B){ie.classList.remove(B)}setStyle(ie,B,oe,xe){xe&(s.JOm.DashCase|s.JOm.Important)?ie.style.setProperty(B,oe,xe&s.JOm.Important?"important":""):ie.style[B]=oe}removeStyle(ie,B,oe){oe&s.JOm.DashCase?ie.style.removeProperty(B):ie.style[B]=""}setProperty(ie,B,oe){ie[B]=oe}setValue(ie,B){ie.nodeValue=B}listen(ie,B,oe){return"string"==typeof ie?this.eventManager.addGlobalEventListener(ie,B,$(oe)):this.eventManager.addEventListener(ie,B,$(oe))}}function ut(Ke){return"TEMPLATE"===Ke.tagName&&void 0!==Ke.content}class Pe extends He{constructor(ie,B,oe,xe){super(ie),this.component=oe;const Ct=U(xe+"-"+oe.id,oe.styles,[]);B.addStyles(Ct),this.contentAttr=function G(Ke){return"_ngcontent-%COMP%".replace(P,Ke)}(xe+"-"+oe.id),this.hostAttr=function E(Ke){return"_nghost-%COMP%".replace(P,Ke)}(xe+"-"+oe.id)}applyToHost(ie){super.setAttribute(ie,this.hostAttr,"")}createElement(ie,B){const oe=super.createElement(ie,B);return super.setAttribute(oe,this.contentAttr,""),oe}}class We extends He{constructor(ie,B,oe,xe){super(ie),this.sharedStylesHost=B,this.hostEl=oe,this.shadowRoot=oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ct=U(xe.id,xe.styles,[]);for(let Dt=0;Dt<Ct.length;Dt++){const St=document.createElement("style");St.textContent=Ct[Dt],this.shadowRoot.appendChild(St)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ie,B){return super.appendChild(this.nodeOrShadowRoot(ie),B)}insertBefore(ie,B,oe){return super.insertBefore(this.nodeOrShadowRoot(ie),B,oe)}removeChild(ie,B){return super.removeChild(this.nodeOrShadowRoot(ie),B)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}}let J=(()=>{class Ke extends pe{constructor(B){super(B)}supports(B){return!0}addEventListener(B,oe,xe){return B.addEventListener(oe,xe,!1),()=>this.removeEventListener(B,oe,xe)}removeEventListener(B,oe,xe){return B.removeEventListener(oe,xe)}}return Ke.\u0275fac=function(B){return new(B||Ke)(s.LFG(e.K0))},Ke.\u0275prov=s.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const de=["alt","control","meta","shift"],Qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},re={alt:Ke=>Ke.altKey,control:Ke=>Ke.ctrlKey,meta:Ke=>Ke.metaKey,shift:Ke=>Ke.shiftKey};let Ve=(()=>{class Ke extends pe{constructor(B){super(B)}supports(B){return null!=Ke.parseEventName(B)}addEventListener(B,oe,xe){const Ct=Ke.parseEventName(oe),Dt=Ke.eventCallback(Ct.fullKey,xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.q)().onAndCancel(B,Ct.domEventName,Dt))}static parseEventName(B){const oe=B.toLowerCase().split("."),xe=oe.shift();if(0===oe.length||"keydown"!==xe&&"keyup"!==xe)return null;const Ct=Ke._normalizeKey(oe.pop());let Dt="",St=oe.indexOf("code");if(St>-1&&(oe.splice(St,1),Dt="code."),de.forEach(ln=>{const hn=oe.indexOf(ln);hn>-1&&(oe.splice(hn,1),Dt+=ln+".")}),Dt+=Ct,0!=oe.length||0===Ct.length)return null;const Vt={};return Vt.domEventName=xe,Vt.fullKey=Dt,Vt}static matchEventFullKeyCode(B,oe){let xe=Qe[B.key]||B.key,Ct="";return oe.indexOf("code.")>-1&&(xe=B.code,Ct="code."),!(null==xe||!xe)&&(xe=xe.toLowerCase()," "===xe?xe="space":"."===xe&&(xe="dot"),de.forEach(Dt=>{Dt!==xe&&(0,re[Dt])(B)&&(Ct+=Dt+".")}),Ct+=xe,Ct===oe)}static eventCallback(B,oe,xe){return Ct=>{Ke.matchEventFullKeyCode(Ct,B)&&xe.runGuarded(()=>oe(Ct))}}static _normalizeKey(B){return"esc"===B?"escape":B}}return Ke.\u0275fac=function(B){return new(B||Ke)(s.LFG(e.K0))},Ke.\u0275prov=s.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const Ot=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:e.bD},{provide:s.g9A,useValue:function Le(){V.makeCurrent()},multi:!0},{provide:e.K0,useFactory:function un(){return(0,s.RDi)(document),document},deps:[]}]),en=new s.OlP(""),at=[{provide:s.rWj,useClass:class ne{addToWindow(ie){s.dqk.getAngularTestability=(oe,xe=!0)=>{const Ct=ie.findTestabilityInTree(oe,xe);if(null==Ct)throw new Error("Could not find testability for element.");return Ct},s.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(oe=>{const xe=s.dqk.getAllAngularTestabilities();let Ct=xe.length,Dt=!1;const St=function(Vt){Dt=Dt||Vt,Ct--,0==Ct&&oe(Dt)};xe.forEach(function(Vt){Vt.whenStable(St)})})}findTestabilityInTree(ie,B,oe){if(null==B)return null;const xe=ie.getTestability(B);return null!=xe?xe:oe?(0,e.q)().isShadowRoot(B)?this.findTestabilityInTree(ie,B.host,!0):this.findTestabilityInTree(ie,B.parentElement,!0):null}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Pt=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Et(){return new s.qLn},deps:[]},{provide:ue,useClass:J,multi:!0,deps:[e.K0,s.R0b,s.Lbi]},{provide:ue,useClass:Ve,multi:!0,deps:[e.K0]},{provide:Ne,useClass:Ne,deps:[ge,Q,s.AFp]},{provide:s.FYo,useExisting:Ne},{provide:ke,useExisting:Q},{provide:Q,useClass:Q,deps:[e.K0]},{provide:ge,useClass:ge,deps:[ue,s.R0b]},{provide:e.JF,useClass:De,deps:[]},[]];let Bt=(()=>{class Ke{constructor(B){}static withServerTransition(B){return{ngModule:Ke,providers:[{provide:s.AFp,useValue:B.appId},{provide:q,useExisting:s.AFp},he]}}}return Ke.\u0275fac=function(B){return new(B||Ke)(s.LFG(en,12))},Ke.\u0275mod=s.oAB({type:Ke}),Ke.\u0275inj=s.cJS({providers:[...Pt,...at],imports:[e.ez,s.hGG]}),Ke})(),Ht=(()=>{class Ke{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}}return Ke.\u0275fac=function(B){return new(B||Ke)(s.LFG(e.K0))},Ke.\u0275prov=s.Yz7({token:Ke,factory:function(B){let oe=null;return oe=B?new B:function qn(){return new Ht((0,s.LFG)(e.K0))}(),oe},providedIn:"root"}),Ke})();"undefined"!=typeof window&&window;let Rn=(()=>{class Ke{}return Ke.\u0275fac=function(B){return new(B||Ke)},Ke.\u0275prov=s.Yz7({token:Ke,factory:function(B){let oe=null;return oe=B?new(B||Ke):s.LFG(Ai),oe},providedIn:"root"}),Ke})(),Ai=(()=>{class Ke extends Rn{constructor(B){super(),this._doc=B}sanitize(B,oe){if(null==oe)return null;switch(B){case s.q3G.NONE:return oe;case s.q3G.HTML:return(0,s.qzn)(oe,"HTML")?(0,s.z3N)(oe):(0,s.EiD)(this._doc,String(oe)).toString();case s.q3G.STYLE:return(0,s.qzn)(oe,"Style")?(0,s.z3N)(oe):oe;case s.q3G.SCRIPT:if((0,s.qzn)(oe,"Script"))return(0,s.z3N)(oe);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(oe,"URL")?(0,s.z3N)(oe):(0,s.mCW)(String(oe));case s.q3G.RESOURCE_URL:if((0,s.qzn)(oe,"ResourceURL"))return(0,s.z3N)(oe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${B} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(B){return(0,s.JVY)(B)}bypassSecurityTrustStyle(B){return(0,s.L6k)(B)}bypassSecurityTrustScript(B){return(0,s.eBb)(B)}bypassSecurityTrustUrl(B){return(0,s.LAX)(B)}bypassSecurityTrustResourceUrl(B){return(0,s.pB0)(B)}}return Ke.\u0275fac=function(B){return new(B||Ke)(s.LFG(e.K0))},Ke.\u0275prov=s.Yz7({token:Ke,factory:function(B){let oe=null;return oe=B?new B:function pi(Ke){return new Ai(Ke.get(e.K0))}(s.LFG(s.zs3)),oe},providedIn:"root"}),Ke})()},3470:(Lt,qe,C)=>{C.d(qe,{gz:()=>Ko,F0:()=>Zn,rH:()=>No,Od:()=>Hi,yS:()=>as,Bz:()=>Ga,lC:()=>S,lo:()=>_e,fw:()=>st});var e=C(5e3),s=C(2076),f=C(9646),V=C(1135),F=C(6805),I=C(9841),L=C(7272),se=C(9770),q=C(9635),z=C(2843),he=C(9751),ne=C(515),De=C(727),ue=C(4482),ge=C(5403);function pe(){return(0,ue.e)((D,m)=>{let b=null;D._refCount++;const p=new ge.Q(m,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(b=null);const _=D._connection,x=b;b=null,_&&(!x||_===x)&&_.unsubscribe(),m.unsubscribe()});D.subscribe(p),p.closed||(b=D.connect())})}class ke extends he.y{constructor(m,b){super(),this.source=m,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,ue.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,null==m||m.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new De.w0;const b=this.getSubject();m.add(this.source.subscribe(new ge.Q(b,void 0,()=>{this._teardown(),b.complete()},p=>{this._teardown(),b.error(p)},()=>this._teardown()))),m.closed&&(this._connection=null,m=De.w0.EMPTY)}return m}refCount(){return pe()(this)}}var Q=C(7579),Oe=C(9808),le=C(4004),P=C(3900),N=C(5698),we=C(8675),be=C(9300),ye=C(5577),G=C(590),E=C(4351),U=C(8505),$=C(262);function Ae(D,m,b,p,_){return(x,j)=>{let Te=b,ot=m,Ut=0;x.subscribe(new ge.Q(j,pn=>{const cn=Ut++;ot=Te?D(ot,pn,cn):(Te=!0,pn),p&&j.next(ot)},_&&(()=>{Te&&j.next(ot),j.complete()})))}}function Ne(D,m){return(0,ue.e)(Ae(D,m,arguments.length>=2,!0))}var He=C(2035),Re=C(8068),gt=C(6590),ut=C(4671);function Pe(D,m){const b=arguments.length>=2;return p=>p.pipe(D?(0,be.h)((_,x)=>D(_,x,p)):ut.y,(0,He.h)(1),b?(0,gt.d)(m):(0,Re.T)(()=>new F.K))}var We=C(2529),J=C(9718),de=C(8746),Qe=C(8189),re=C(2313);const Ve="primary",Me=Symbol("RouteTitle");class Fe{constructor(m){this.params=m||{}}has(m){return Object.prototype.hasOwnProperty.call(this.params,m)}get(m){if(this.has(m)){const b=this.params[m];return Array.isArray(b)?b[0]:b}return null}getAll(m){if(this.has(m)){const b=this.params[m];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function $e(D){return new Fe(D)}function R(D,m,b){const p=b.path.split("/");if(p.length>D.length||"full"===b.pathMatch&&(m.hasChildren()||p.length<D.length))return null;const _={};for(let x=0;x<p.length;x++){const j=p[x],Te=D[x];if(j.startsWith(":"))_[j.substring(1)]=Te;else if(j!==Te.path)return null}return{consumed:D.slice(0,p.length),posParams:_}}function Le(D,m){const b=D?Object.keys(D):void 0,p=m?Object.keys(m):void 0;if(!b||!p||b.length!=p.length)return!1;let _;for(let x=0;x<b.length;x++)if(_=b[x],!Et(D[_],m[_]))return!1;return!0}function Et(D,m){if(Array.isArray(D)&&Array.isArray(m)){if(D.length!==m.length)return!1;const b=[...D].sort(),p=[...m].sort();return b.every((_,x)=>p[x]===_)}return D===m}function un(D){return Array.prototype.concat.apply([],D)}function Cn(D){return D.length>0?D[D.length-1]:null}function en(D,m){for(const b in D)D.hasOwnProperty(b)&&m(D[b],b)}function at(D){return(0,e.CqO)(D)?D:(0,e.QGY)(D)?(0,s.D)(Promise.resolve(D)):(0,f.of)(D)}const tn={exact:function Ht(D,m,b){if(!Qt(D.segments,m.segments)||!M(D.segments,m.segments,b)||D.numberOfChildren!==m.numberOfChildren)return!1;for(const p in m.children)if(!D.children[p]||!Ht(D.children[p],m.children[p],b))return!1;return!0},subset:Ze},ft={exact:function qn(D,m){return Le(D,m)},subset:function mt(D,m){return Object.keys(m).length<=Object.keys(D).length&&Object.keys(m).every(b=>Et(D[b],m[b]))},ignored:()=>!0};function ei(D,m,b){return tn[b.paths](D.root,m.root,b.matrixParams)&&ft[b.queryParams](D.queryParams,m.queryParams)&&!("exact"===b.fragment&&D.fragment!==m.fragment)}function Ze(D,m,b){return It(D,m,m.segments,b)}function It(D,m,b,p){if(D.segments.length>b.length){const _=D.segments.slice(0,b.length);return!(!Qt(_,b)||m.hasChildren()||!M(_,b,p))}if(D.segments.length===b.length){if(!Qt(D.segments,b)||!M(D.segments,b,p))return!1;for(const _ in m.children)if(!D.children[_]||!Ze(D.children[_],m.children[_],p))return!1;return!0}{const _=b.slice(0,D.segments.length),x=b.slice(D.segments.length);return!!(Qt(D.segments,_)&&M(D.segments,_,p)&&D.children[Ve])&&It(D.children[Ve],m,x,p)}}function M(D,m,b){return m.every((p,_)=>ft[b](D[_].parameters,p.parameters))}class _e{constructor(m,b,p){this.root=m,this.queryParams=b,this.fragment=p}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return ee.serialize(this)}}class Ie{constructor(m,b){this.segments=m,this.children=b,this.parent=null,en(b,(p,_)=>p.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ze(this)}}class Xe{constructor(m,b){this.path=m,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=$e(this.parameters)),this._parameterMap}toString(){return tt(this)}}function Qt(D,m){return D.length===m.length&&D.every((b,p)=>b.path===m[p].path)}let nt=(()=>{class D{}return D.\u0275fac=function(b){return new(b||D)},D.\u0275prov=e.Yz7({token:D,factory:function(){return new xt},providedIn:"root"}),D})();class xt{parse(m){const b=new Ke(m);return new _e(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(m){const b=`/${dt(m.root,!0)}`,p=function qt(D){const m=Object.keys(D).map(b=>{const p=D[b];return Array.isArray(p)?p.map(_=>`${sn(b)}=${sn(_)}`).join("&"):`${sn(b)}=${sn(p)}`}).filter(b=>!!b);return m.length?`?${m.join("&")}`:""}(m.queryParams);return`${b}${p}${"string"==typeof m.fragment?`#${function ni(D){return encodeURI(D)}(m.fragment)}`:""}`}}const ee=new xt;function ze(D){return D.segments.map(m=>tt(m)).join("/")}function dt(D,m){if(!D.hasChildren())return ze(D);if(m){const b=D.children[Ve]?dt(D.children[Ve],!1):"",p=[];return en(D.children,(_,x)=>{x!==Ve&&p.push(`${x}:${dt(_,!1)}`)}),p.length>0?`${b}(${p.join("//")})`:b}{const b=function nn(D,m){let b=[];return en(D.children,(p,_)=>{_===Ve&&(b=b.concat(m(p,_)))}),en(D.children,(p,_)=>{_!==Ve&&(b=b.concat(m(p,_)))}),b}(D,(p,_)=>_===Ve?[dt(D.children[Ve],!1)]:[`${_}:${dt(p,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Ve]?`${ze(D)}/${b[0]}`:`${ze(D)}/(${b.join("//")})`}}function bt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sn(D){return bt(D).replace(/%3B/gi,";")}function Ui(D){return bt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kt(D){return decodeURIComponent(D)}function an(D){return kt(D.replace(/\+/g,"%20"))}function tt(D){return`${Ui(D.path)}${function At(D){return Object.keys(D).map(m=>`;${Ui(m)}=${Ui(D[m])}`).join("")}(D.parameters)}`}const Kt=/^[^\/()?;=#]+/;function vn(D){const m=D.match(Kt);return m?m[0]:""}const Rn=/^[^=?&#]+/,Ai=/^[^&#]+/;class Ke{constructor(m){this.url=m,this.remaining=m}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const m={};if(this.consumeOptional("?"))do{this.parseQueryParam(m)}while(this.consumeOptional("&"));return m}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const m=[];for(this.peekStartsWith("(")||m.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),m.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let p={};return this.peekStartsWith("(")&&(p=this.parseParens(!1)),(m.length>0||Object.keys(b).length>0)&&(p[Ve]=new Ie(m,b)),p}parseSegment(){const m=vn(this.remaining);if(""===m&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(m),new Xe(kt(m),this.parseMatrixParams())}parseMatrixParams(){const m={};for(;this.consumeOptional(";");)this.parseParam(m);return m}parseParam(m){const b=vn(this.remaining);if(!b)return;this.capture(b);let p="";if(this.consumeOptional("=")){const _=vn(this.remaining);_&&(p=_,this.capture(p))}m[kt(b)]=kt(p)}parseQueryParam(m){const b=function pi(D){const m=D.match(Rn);return m?m[0]:""}(this.remaining);if(!b)return;this.capture(b);let p="";if(this.consumeOptional("=")){const j=function Ki(D){const m=D.match(Ai);return m?m[0]:""}(this.remaining);j&&(p=j,this.capture(p))}const _=an(b),x=an(p);if(m.hasOwnProperty(_)){let j=m[_];Array.isArray(j)||(j=[j],m[_]=j),j.push(x)}else m[_]=x}parseParens(m){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const p=vn(this.remaining),_=this.remaining[p.length];if("/"!==_&&")"!==_&&";"!==_)throw new e.vHH(4010,!1);let x;p.indexOf(":")>-1?(x=p.slice(0,p.indexOf(":")),this.capture(x),this.capture(":")):m&&(x=Ve);const j=this.parseChildren();b[x]=1===Object.keys(j).length?j[Ve]:new Ie([],j),this.consumeOptional("//")}return b}peekStartsWith(m){return this.remaining.startsWith(m)}consumeOptional(m){return!!this.peekStartsWith(m)&&(this.remaining=this.remaining.substring(m.length),!0)}capture(m){if(!this.consumeOptional(m))throw new e.vHH(4011,!1)}}function ie(D){return D.segments.length>0?new Ie([],{[Ve]:D}):D}function B(D){const m={};for(const p of Object.keys(D.children)){const x=B(D.children[p]);(x.segments.length>0||x.hasChildren())&&(m[p]=x)}return function oe(D){if(1===D.numberOfChildren&&D.children[Ve]){const m=D.children[Ve];return new Ie(D.segments.concat(m.segments),m.children)}return D}(new Ie(D.segments,m))}function xe(D){return D instanceof _e}function ln(D,m,b,p,_){var x;if(0===b.length)return yn(m.root,m.root,m.root,p,_);const Te=function Si(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Kn(!0,0,D);let m=0,b=!1;const p=D.reduce((_,x,j)=>{if("object"==typeof x&&null!=x){if(x.outlets){const Te={};return en(x.outlets,(ot,Ut)=>{Te[Ut]="string"==typeof ot?ot.split("/"):ot}),[..._,{outlets:Te}]}if(x.segmentPath)return[..._,x.segmentPath]}return"string"!=typeof x?[..._,x]:0===j?(x.split("/").forEach((Te,ot)=>{0==ot&&"."===Te||(0==ot&&""===Te?b=!0:".."===Te?m++:""!=Te&&_.push(Te))}),_):[..._,x]},[]);return new Kn(b,m,p)}(b);return Te.toRoot()?yn(m.root,m.root,new Ie([],{}),p,_):function ot(pn){var cn;const kn=function Ti(D,m,b,p){if(D.isAbsolute)return new ki(m.root,!0,0);if(-1===p)return new ki(b,b===m.root,0);return function po(D,m,b){let p=D,_=m,x=b;for(;x>_;){if(x-=_,p=p.parent,!p)throw new e.vHH(4005,!1);_=p.segments.length}return new ki(p,!1,_-x)}(b,p+(hn(D.commands[0])?0:1),D.numberOfDoubleDots)}(Te,m,null===(cn=D.snapshot)||void 0===cn?void 0:cn._urlSegment,pn),ci=kn.processChildren?di(kn.segmentGroup,kn.index,Te.commands):_i(kn.segmentGroup,kn.index,Te.commands);return yn(m.root,kn.segmentGroup,ci,p,_)}(null===(x=D.snapshot)||void 0===x?void 0:x._lastPathIndex)}function hn(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function mn(D){return"object"==typeof D&&null!=D&&D.outlets}function yn(D,m,b,p,_){let j,x={};p&&en(p,(ot,Ut)=>{x[Ut]=Array.isArray(ot)?ot.map(pn=>`${pn}`):`${ot}`}),j=D===m?b:xn(D,m,b);const Te=ie(B(j));return new _e(Te,x,_)}function xn(D,m,b){const p={};return en(D.children,(_,x)=>{p[x]=_===m?b:xn(_,m,b)}),new Ie(D.segments,p)}class Kn{constructor(m,b,p){if(this.isAbsolute=m,this.numberOfDoubleDots=b,this.commands=p,m&&p.length>0&&hn(p[0]))throw new e.vHH(4003,!1);const _=p.find(mn);if(_&&_!==Cn(p))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ki{constructor(m,b,p){this.segmentGroup=m,this.processChildren=b,this.index=p}}function _i(D,m,b){if(D||(D=new Ie([],{})),0===D.segments.length&&D.hasChildren())return di(D,m,b);const p=function to(D,m,b){let p=0,_=m;const x={match:!1,pathIndex:0,commandIndex:0};for(;_<D.segments.length;){if(p>=b.length)return x;const j=D.segments[_],Te=b[p];if(mn(Te))break;const ot=`${Te}`,Ut=p<b.length-1?b[p+1]:null;if(_>0&&void 0===ot)break;if(ot&&Ut&&"object"==typeof Ut&&void 0===Ut.outlets){if(!Qo(ot,Ut,j))return x;p+=2}else{if(!Qo(ot,{},j))return x;p++}_++}return{match:!0,pathIndex:_,commandIndex:p}}(D,m,b),_=b.slice(p.commandIndex);if(p.match&&p.pathIndex<D.segments.length){const x=new Ie(D.segments.slice(0,p.pathIndex),{});return x.children[Ve]=new Ie(D.segments.slice(p.pathIndex),D.children),di(x,0,_)}return p.match&&0===_.length?new Ie(D.segments,{}):p.match&&!D.hasChildren()?xi(D,m,b):p.match?di(D,0,_):xi(D,m,b)}function di(D,m,b){if(0===b.length)return new Ie(D.segments,{});{const p=function Ji(D){return mn(D[0])?D[0].outlets:{[Ve]:D}}(b),_={};return en(p,(x,j)=>{"string"==typeof x&&(x=[x]),null!==x&&(_[j]=_i(D.children[j],m,x))}),en(D.children,(x,j)=>{void 0===p[j]&&(_[j]=x)}),new Ie(D.segments,_)}}function xi(D,m,b){const p=D.segments.slice(0,m);let _=0;for(;_<b.length;){const x=b[_];if(mn(x)){const ot=oo(x.outlets);return new Ie(p,ot)}if(0===_&&hn(b[0])){p.push(new Xe(D.segments[m].path,so(b[0]))),_++;continue}const j=mn(x)?x.outlets[Ve]:`${x}`,Te=_<b.length-1?b[_+1]:null;j&&Te&&hn(Te)?(p.push(new Xe(j,so(Te))),_+=2):(p.push(new Xe(j,{})),_++)}return new Ie(p,{})}function oo(D){const m={};return en(D,(b,p)=>{"string"==typeof b&&(b=[b]),null!==b&&(m[p]=xi(new Ie([],{}),0,b))}),m}function so(D){const m={};return en(D,(b,p)=>m[p]=`${b}`),m}function Qo(D,m,b){return D==b.path&&Le(m,b.parameters)}class ii{constructor(m,b){this.id=m,this.url=b}}class bs extends ii{constructor(m,b,p="imperative",_=null){super(m,b),this.type=0,this.navigationTrigger=p,this.restoredState=_}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bo extends ii{constructor(m,b,p){super(m,b),this.urlAfterRedirects=p,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Di extends ii{constructor(m,b,p,_){super(m,b),this.reason=p,this.code=_,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ri extends ii{constructor(m,b,p,_){super(m,b),this.error=p,this.target=_,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mo extends ii{constructor(m,b,p,_){super(m,b),this.urlAfterRedirects=p,this.state=_,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jo extends ii{constructor(m,b,p,_){super(m,b),this.urlAfterRedirects=p,this.state=_,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ys extends ii{constructor(m,b,p,_,x){super(m,b),this.urlAfterRedirects=p,this.state=_,this.shouldActivate=x,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ho extends ii{constructor(m,b,p,_){super(m,b),this.urlAfterRedirects=p,this.state=_,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class is extends ii{constructor(m,b,p,_){super(m,b),this.urlAfterRedirects=p,this.state=_,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi{constructor(m){this.route=m,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ei{constructor(m){this.route=m,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ai{constructor(m){this.snapshot=m,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ln{constructor(m){this.snapshot=m,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(m){this.snapshot=m,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zs{constructor(m){this.snapshot=m,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(m,b,p){this.routerEvent=m,this.position=b,this.anchor=p,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class cs{constructor(m){this._root=m}get root(){return this._root.value}parent(m){const b=this.pathFromRoot(m);return b.length>1?b[b.length-2]:null}children(m){const b=jo(m,this._root);return b?b.children.map(p=>p.value):[]}firstChild(m){const b=jo(m,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(m){const b=Wo(m,this._root);return b.length<2?[]:b[b.length-2].children.map(_=>_.value).filter(_=>_!==m)}pathFromRoot(m){return Wo(m,this._root).map(b=>b.value)}}function jo(D,m){if(D===m.value)return m;for(const b of m.children){const p=jo(D,b);if(p)return p}return null}function Wo(D,m){if(D===m.value)return[m];for(const b of m.children){const p=Wo(D,b);if(p.length)return p.unshift(m),p}return[]}class Yo{constructor(m,b){this.value=m,this.children=b}toString(){return`TreeNode(${this.value})`}}function To(D){const m={};return D&&D.children.forEach(b=>m[b.value.outlet]=b),m}class fr extends cs{constructor(m,b){super(m),this.snapshot=b,Ho(this,m)}toString(){return this.snapshot.toString()}}function Vs(D,m){const b=function Us(D,m){const j=new ro([],{},{},"",{},Ve,m,null,D.root,-1,{});return new ks("",new Yo(j,[]))}(D,m),p=new V.X([new Xe("",{})]),_=new V.X({}),x=new V.X({}),j=new V.X({}),Te=new V.X(""),ot=new Ko(p,_,j,Te,x,Ve,m,b.root);return ot.snapshot=b.root,new fr(new Yo(ot,[]),b)}class Ko{constructor(m,b,p,_,x,j,Te,ot){var Ut,pn;this.url=m,this.params=b,this.queryParams=p,this.fragment=_,this.data=x,this.outlet=j,this.component=Te,this.title=null!==(pn=null===(Ut=this.data)||void 0===Ut?void 0:Ut.pipe((0,le.U)(cn=>cn[Me])))&&void 0!==pn?pn:(0,f.of)(void 0),this._futureSnapshot=ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,le.U)(m=>$e(m)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,le.U)(m=>$e(m)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function go(D,m="emptyOnly"){const b=D.pathFromRoot;let p=0;if("always"!==m)for(p=b.length-1;p>=1;){const _=b[p],x=b[p-1];if(_.routeConfig&&""===_.routeConfig.path)p--;else{if(x.component)break;p--}}return function qo(D){return D.reduce((m,b)=>{var p;return{params:Object.assign(Object.assign({},m.params),b.params),data:Object.assign(Object.assign({},m.data),b.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},b.data),m.resolve),null===(p=b.routeConfig)||void 0===p?void 0:p.data),b._resolvedData)}},{params:{},data:{},resolve:{}})}(b.slice(p))}class ro{constructor(m,b,p,_,x,j,Te,ot,Ut,pn,cn,kn){var ci;this.url=m,this.params=b,this.queryParams=p,this.fragment=_,this.data=x,this.outlet=j,this.component=Te,this.title=null===(ci=this.data)||void 0===ci?void 0:ci[Me],this.routeConfig=ot,this._urlSegment=Ut,this._lastPathIndex=pn,this._correctedLastPathIndex=null!=kn?kn:pn,this._resolve=cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$e(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(p=>p.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ks extends cs{constructor(m,b){super(b),this.url=m,Ho(this,b)}toString(){return yo(this._root)}}function Ho(D,m){m.value._routerState=D,m.children.forEach(b=>Ho(D,b))}function yo(D){const m=D.children.length>0?` { ${D.children.map(yo).join(", ")} } `:"";return`${D.value}${m}`}function Fi(D){if(D.snapshot){const m=D.snapshot,b=D._futureSnapshot;D.snapshot=b,Le(m.queryParams,b.queryParams)||D.queryParams.next(b.queryParams),m.fragment!==b.fragment&&D.fragment.next(b.fragment),Le(m.params,b.params)||D.params.next(b.params),function it(D,m){if(D.length!==m.length)return!1;for(let b=0;b<D.length;++b)if(!Le(D[b],m[b]))return!1;return!0}(m.url,b.url)||D.url.next(b.url),Le(m.data,b.data)||D.data.next(b.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function oi(D,m){const b=Le(D.params,m.params)&&function Rt(D,m){return Qt(D,m)&&D.every((b,p)=>Le(b.parameters,m[p].parameters))}(D.url,m.url);return b&&!(!D.parent!=!m.parent)&&(!D.parent||oi(D.parent,m.parent))}function Do(D,m,b){if(b&&D.shouldReuseRoute(m.value,b.value.snapshot)){const p=b.value;p._futureSnapshot=m.value;const _=function fo(D,m,b){return m.children.map(p=>{for(const _ of b.children)if(D.shouldReuseRoute(p.value,_.value.snapshot))return Do(D,p,_);return Do(D,p)})}(D,m,b);return new Yo(p,_)}{if(D.shouldAttach(m.value)){const x=D.retrieve(m.value);if(null!==x){const j=x.route;return j.value._futureSnapshot=m.value,j.children=m.children.map(Te=>Do(D,Te)),j}}const p=function os(D){return new Ko(new V.X(D.url),new V.X(D.params),new V.X(D.queryParams),new V.X(D.fragment),new V.X(D.data),D.outlet,D.component,D)}(m.value),_=m.children.map(x=>Do(D,x));return new Yo(p,_)}}const nr="ngNavigationCancelingError";function us(D,m){const{redirectTo:b,navigationBehaviorOptions:p}=xe(m)?{redirectTo:m,navigationBehaviorOptions:void 0}:m,_=Ms(!1,0,m);return _.url=b,_.navigationBehaviorOptions=p,_}function Ms(D,m,b){const p=new Error("NavigationCancelingError: "+(D||""));return p[nr]=!0,p.cancellationCode=m,b&&(p.url=b),p}function zs(D){return mo(D)&&xe(D.url)}function mo(D){return D&&D[nr]}class $o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ye,this.attachRef=null}}let Ye=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(b,p){const _=this.getOrCreateContext(b);_.outlet=p,this.contexts.set(b,_)}onChildOutletDestroyed(b){const p=this.getContext(b);p&&(p.outlet=null,p.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let p=this.getContext(b);return p||(p=new $o,this.contexts.set(b,p)),p}getContext(b){return this.contexts.get(b)||null}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const vt=!1;let S=(()=>{class D{constructor(b,p,_,x,j){this.parentContexts=b,this.location=p,this.changeDetector=x,this.environmentInjector=j,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=_||Ve,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){var b;(null===(b=this.parentContexts.getContext(this.name))||void 0===b?void 0:b.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,vt);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,vt);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,vt);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,p){this.activated=b,this._activatedRoute=p,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,p){if(this.isActivated)throw new e.vHH(4013,vt);this._activatedRoute=b;const _=this.location,j=b._futureSnapshot.component,Te=this.parentContexts.getOrCreateContext(this.name).children,ot=new me(b,Te,_.injector);if(p&&function Ue(D){return!!D.resolveComponentFactory}(p)){const Ut=p.resolveComponentFactory(j);this.activated=_.createComponent(Ut,_.length,ot)}else this.activated=_.createComponent(j,{index:_.length,injector:ot,environmentInjector:null!=p?p:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(b){return new(b||D)(e.Y36(Ye),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},D.\u0275dir=e.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),D})();class me{constructor(m,b,p){this.route=m,this.childContexts=b,this.parent=p}get(m,b){return m===Ko?this.route:m===Ye?this.childContexts:this.parent.get(m,b)}}let st=(()=>{class D{}return D.\u0275fac=function(b){return new(b||D)},D.\u0275cmp=e.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(b,p){1&b&&e._UZ(0,"router-outlet")},dependencies:[S],encapsulation:2}),D})();function Yt(D,m){var b;return D.providers&&!D._injector&&(D._injector=(0,e.MMx)(D.providers,m,`Route: ${D.path}`)),null!==(b=D._injector)&&void 0!==b?b:m}function _o(D){const m=D.children&&D.children.map(_o),b=m?Object.assign(Object.assign({},D),{children:m}):Object.assign({},D);return!b.component&&!b.loadComponent&&(m||b.loadChildren)&&b.outlet&&b.outlet!==Ve&&(b.component=st),b}function hi(D){return D.outlet||Ve}function Ds(D,m){const b=D.filter(p=>hi(p)===m);return b.push(...D.filter(p=>hi(p)!==m)),b}function ds(D){var m;if(!D)return null;if(null!==(m=D.routeConfig)&&void 0!==m&&m._injector)return D.routeConfig._injector;for(let b=D.parent;b;b=b.parent){const p=b.routeConfig;if(null!=p&&p._loadedInjector)return p._loadedInjector;if(null!=p&&p._injector)return p._injector}return null}class mr{constructor(m,b,p,_){this.routeReuseStrategy=m,this.futureState=b,this.currState=p,this.forwardEvent=_}activate(m){const b=this.futureState._root,p=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,p,m),Fi(this.futureState.root),this.activateChildRoutes(b,p,m)}deactivateChildRoutes(m,b,p){const _=To(b);m.children.forEach(x=>{const j=x.value.outlet;this.deactivateRoutes(x,_[j],p),delete _[j]}),en(_,(x,j)=>{this.deactivateRouteAndItsChildren(x,p)})}deactivateRoutes(m,b,p){const _=m.value,x=b?b.value:null;if(_===x)if(_.component){const j=p.getContext(_.outlet);j&&this.deactivateChildRoutes(m,b,j.children)}else this.deactivateChildRoutes(m,b,p);else x&&this.deactivateRouteAndItsChildren(b,p)}deactivateRouteAndItsChildren(m,b){m.value.component&&this.routeReuseStrategy.shouldDetach(m.value.snapshot)?this.detachAndStoreRouteSubtree(m,b):this.deactivateRouteAndOutlet(m,b)}detachAndStoreRouteSubtree(m,b){const p=b.getContext(m.value.outlet),_=p&&m.value.component?p.children:b,x=To(m);for(const j of Object.keys(x))this.deactivateRouteAndItsChildren(x[j],_);if(p&&p.outlet){const j=p.outlet.detach(),Te=p.children.onOutletDeactivated();this.routeReuseStrategy.store(m.value.snapshot,{componentRef:j,route:m,contexts:Te})}}deactivateRouteAndOutlet(m,b){const p=b.getContext(m.value.outlet),_=p&&m.value.component?p.children:b,x=To(m);for(const j of Object.keys(x))this.deactivateRouteAndItsChildren(x[j],_);p&&p.outlet&&(p.outlet.deactivate(),p.children.onOutletDeactivated(),p.attachRef=null,p.resolver=null,p.route=null)}activateChildRoutes(m,b,p){const _=To(b);m.children.forEach(x=>{this.activateRoutes(x,_[x.value.outlet],p),this.forwardEvent(new Zs(x.value.snapshot))}),m.children.length&&this.forwardEvent(new Ln(m.value.snapshot))}activateRoutes(m,b,p){var _;const x=m.value,j=b?b.value:null;if(Fi(x),x===j)if(x.component){const Te=p.getOrCreateContext(x.outlet);this.activateChildRoutes(m,b,Te.children)}else this.activateChildRoutes(m,b,p);else if(x.component){const Te=p.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const ot=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),Te.children.onOutletReAttached(ot.contexts),Te.attachRef=ot.componentRef,Te.route=ot.route.value,Te.outlet&&Te.outlet.attach(ot.componentRef,ot.route.value),Fi(ot.route.value),this.activateChildRoutes(m,null,Te.children)}else{const ot=ds(x.snapshot),Ut=null!==(_=null==ot?void 0:ot.get(e._Vd))&&void 0!==_?_:null;Te.attachRef=null,Te.route=x,Te.resolver=Ut,Te.injector=ot,Te.outlet&&Te.outlet.activateWith(x,Te.injector),this.activateChildRoutes(m,null,Te.children)}}else this.activateChildRoutes(m,null,p)}}class xo{constructor(m){this.path=m,this.route=this.path[this.path.length-1]}}class Is{constructor(m,b){this.component=m,this.route=b}}function ps(D,m,b){const p=D._root;return Qs(p,m?m._root:null,b,[p.value])}function Oo(D,m){const b=Symbol(),p=m.get(D,b);return p===b?"function"!=typeof D||(0,e.Z0I)(D)?m.get(D):D:p}function Qs(D,m,b,p,_={canDeactivateChecks:[],canActivateChecks:[]}){const x=To(m);return D.children.forEach(j=>{(function _r(D,m,b,p,_={canDeactivateChecks:[],canActivateChecks:[]}){const x=D.value,j=m?m.value:null,Te=b?b.getContext(D.value.outlet):null;if(j&&x.routeConfig===j.routeConfig){const ot=function on(D,m,b){if("function"==typeof b)return b(D,m);switch(b){case"pathParamsChange":return!Qt(D.url,m.url);case"pathParamsOrQueryParamsChange":return!Qt(D.url,m.url)||!Le(D.queryParams,m.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oi(D,m)||!Le(D.queryParams,m.queryParams);default:return!oi(D,m)}}(j,x,x.routeConfig.runGuardsAndResolvers);ot?_.canActivateChecks.push(new xo(p)):(x.data=j.data,x._resolvedData=j._resolvedData),Qs(D,m,x.component?Te?Te.children:null:b,p,_),ot&&Te&&Te.outlet&&Te.outlet.isActivated&&_.canDeactivateChecks.push(new Is(Te.outlet.component,j))}else j&&jn(m,Te,_),_.canActivateChecks.push(new xo(p)),Qs(D,null,x.component?Te?Te.children:null:b,p,_)})(j,x[j.value.outlet],b,p.concat([j.value]),_),delete x[j.value.outlet]}),en(x,(j,Te)=>jn(j,b.getContext(Te),_)),_}function jn(D,m,b){const p=To(D),_=D.value;en(p,(x,j)=>{jn(x,_.component?m?m.children.getContext(j):null:m,b)}),b.canDeactivateChecks.push(new Is(_.component&&m&&m.outlet&&m.outlet.isActivated?m.outlet.component:null,_))}function Xo(D){return"function"==typeof D}function ir(D){return D instanceof F.K||"EmptyError"===(null==D?void 0:D.name)}const Ce=Symbol("INITIAL_VALUE");function te(){return(0,P.w)(D=>(0,I.a)(D.map(m=>m.pipe((0,N.q)(1),(0,we.O)(Ce)))).pipe((0,le.U)(m=>{for(const b of m)if(!0!==b){if(b===Ce)return Ce;if(!1===b||b instanceof _e)return b}return!0}),(0,be.h)(m=>m!==Ce),(0,N.q)(1)))}function Ns(D){return(0,q.z)((0,U.b)(m=>{if(xe(m))throw us(0,m)}),(0,le.U)(m=>!0===m))}const js={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function or(D,m,b,p,_){const x=wr(D,m,b);return x.matched?function Js(D,m,b,p){const _=m.canMatch;if(!_||0===_.length)return(0,f.of)(!0);const x=_.map(j=>{const Te=Oo(j,D);return at(function As(D){return D&&Xo(D.canMatch)}(Te)?Te.canMatch(m,b):D.runInContext(()=>Te(m,b)))});return(0,f.of)(x).pipe(te(),Ns())}(p=Yt(m,p),m,b).pipe((0,le.U)(j=>!0===j?x:Object.assign({},js))):(0,f.of)(x)}function wr(D,m,b){var p;if(""===m.path)return"full"===m.pathMatch&&(D.hasChildren()||b.length>0)?Object.assign({},js):{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const x=(m.matcher||R)(b,D,m);if(!x)return Object.assign({},js);const j={};en(x.posParams,(ot,Ut)=>{j[Ut]=ot.path});const Te=x.consumed.length>0?Object.assign(Object.assign({},j),x.consumed[x.consumed.length-1].parameters):j;return{matched:!0,consumedSegments:x.consumed,remainingSegments:b.slice(x.consumed.length),parameters:Te,positionalParamSegments:null!==(p=x.posParams)&&void 0!==p?p:{}}}function Fs(D,m,b,p,_="corrected"){if(b.length>0&&function ta(D,m,b){return b.some(p=>Y(D,m,p)&&hi(p)!==Ve)}(D,b,p)){const j=new Ie(m,function ea(D,m,b,p){const _={};_[Ve]=p,p._sourceSegment=D,p._segmentIndexShift=m.length;for(const x of b)if(""===x.path&&hi(x)!==Ve){const j=new Ie([],{});j._sourceSegment=D,j._segmentIndexShift=m.length,_[hi(x)]=j}return _}(D,m,p,new Ie(b,D.children)));return j._sourceSegment=D,j._segmentIndexShift=m.length,{segmentGroup:j,slicedSegments:[]}}if(0===b.length&&function na(D,m,b){return b.some(p=>Y(D,m,p))}(D,b,p)){const j=new Ie(D.segments,function zr(D,m,b,p,_,x){const j={};for(const Te of p)if(Y(D,b,Te)&&!_[hi(Te)]){const ot=new Ie([],{});ot._sourceSegment=D,ot._segmentIndexShift="legacy"===x?D.segments.length:m.length,j[hi(Te)]=ot}return Object.assign(Object.assign({},_),j)}(D,m,b,p,D.children,_));return j._sourceSegment=D,j._segmentIndexShift=m.length,{segmentGroup:j,slicedSegments:b}}const x=new Ie(D.segments,D.children);return x._sourceSegment=D,x._segmentIndexShift=m.length,{segmentGroup:x,slicedSegments:b}}function Y(D,m,b){return(!(D.hasChildren()||m.length>0)||"full"!==b.pathMatch)&&""===b.path}function Se(D,m,b,p){return!!(hi(D)===p||p!==Ve&&Y(m,b,D))&&("**"===D.path||wr(m,D,b).matched)}function X(D,m,b){return 0===m.length&&!D.children[b]}const Ge=!1;class ht{constructor(m){this.segmentGroup=m||null}}class Zt{constructor(m){this.urlTree=m}}function Gt(D){return(0,z._)(new ht(D))}function wn(D){return(0,z._)(new Zt(D))}class li{constructor(m,b,p,_,x){this.injector=m,this.configLoader=b,this.urlSerializer=p,this.urlTree=_,this.config=x,this.allowRedirects=!0}apply(){const m=Fs(this.urlTree.root,[],[],this.config).segmentGroup,b=new Ie(m.segments,m.children);return this.expandSegmentGroup(this.injector,this.config,b,Ve).pipe((0,le.U)(x=>this.createUrlTree(B(x),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,$.K)(x=>{if(x instanceof Zt)return this.allowRedirects=!1,this.match(x.urlTree);throw x instanceof ht?this.noMatchError(x):x}))}match(m){return this.expandSegmentGroup(this.injector,this.config,m.root,Ve).pipe((0,le.U)(_=>this.createUrlTree(B(_),m.queryParams,m.fragment))).pipe((0,$.K)(_=>{throw _ instanceof ht?this.noMatchError(_):_}))}noMatchError(m){return new e.vHH(4002,Ge)}createUrlTree(m,b,p){const _=ie(m);return new _e(_,b,p)}expandSegmentGroup(m,b,p,_){return 0===p.segments.length&&p.hasChildren()?this.expandChildren(m,b,p).pipe((0,le.U)(x=>new Ie([],x))):this.expandSegment(m,p,b,p.segments,_,!0)}expandChildren(m,b,p){const _=[];for(const x of Object.keys(p.children))"primary"===x?_.unshift(x):_.push(x);return(0,s.D)(_).pipe((0,E.b)(x=>{const j=p.children[x],Te=Ds(b,x);return this.expandSegmentGroup(m,Te,j,x).pipe((0,le.U)(ot=>({segment:ot,outlet:x})))}),Ne((x,j)=>(x[j.outlet]=j.segment,x),{}),Pe())}expandSegment(m,b,p,_,x,j){return(0,s.D)(p).pipe((0,E.b)(Te=>this.expandSegmentAgainstRoute(m,b,p,Te,_,x,j).pipe((0,$.K)(Ut=>{if(Ut instanceof ht)return(0,f.of)(null);throw Ut}))),(0,G.P)(Te=>!!Te),(0,$.K)((Te,ot)=>{if(ir(Te))return X(b,_,x)?(0,f.of)(new Ie([],{})):Gt(b);throw Te}))}expandSegmentAgainstRoute(m,b,p,_,x,j,Te){return Se(_,b,x,j)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(m,b,_,x,j):Te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(m,b,p,_,x,j):Gt(b):Gt(b)}expandSegmentAgainstRouteUsingRedirect(m,b,p,_,x,j){return"**"===_.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(m,p,_,j):this.expandRegularSegmentAgainstRouteUsingRedirect(m,b,p,_,x,j)}expandWildCardWithParamsAgainstRouteUsingRedirect(m,b,p,_){const x=this.applyRedirectCommands([],p.redirectTo,{});return p.redirectTo.startsWith("/")?wn(x):this.lineralizeSegments(p,x).pipe((0,ye.z)(j=>{const Te=new Ie(j,{});return this.expandSegment(m,Te,b,j,_,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(m,b,p,_,x,j){const{matched:Te,consumedSegments:ot,remainingSegments:Ut,positionalParamSegments:pn}=wr(b,_,x);if(!Te)return Gt(b);const cn=this.applyRedirectCommands(ot,_.redirectTo,pn);return _.redirectTo.startsWith("/")?wn(cn):this.lineralizeSegments(_,cn).pipe((0,ye.z)(kn=>this.expandSegment(m,b,p,kn.concat(Ut),j,!1)))}matchSegmentAgainstRoute(m,b,p,_,x){return"**"===p.path?(m=Yt(p,m),p.loadChildren?(p._loadedRoutes?(0,f.of)({routes:p._loadedRoutes,injector:p._loadedInjector}):this.configLoader.loadChildren(m,p)).pipe((0,le.U)(Te=>(p._loadedRoutes=Te.routes,p._loadedInjector=Te.injector,new Ie(_,{})))):(0,f.of)(new Ie(_,{}))):or(b,p,_,m).pipe((0,P.w)(({matched:j,consumedSegments:Te,remainingSegments:ot})=>{var Ut;return j?(m=null!==(Ut=p._injector)&&void 0!==Ut?Ut:m,this.getChildConfig(m,p,_).pipe((0,ye.z)(cn=>{var kn;const ci=null!==(kn=cn.injector)&&void 0!==kn?kn:m,bi=cn.routes,{segmentGroup:So,slicedSegments:lo}=Fs(b,Te,ot,bi),io=new Ie(So.segments,So.children);if(0===lo.length&&io.hasChildren())return this.expandChildren(ci,bi,io).pipe((0,le.U)(ka=>new Ie(Te,ka)));if(0===bi.length&&0===lo.length)return(0,f.of)(new Ie(Te,{}));const Cs=hi(p)===x;return this.expandSegment(ci,io,bi,lo,Cs?Ve:x,!0).pipe((0,le.U)(Fo=>new Ie(Te.concat(Fo.segments),Fo.children)))}))):Gt(b)}))}getChildConfig(m,b,p){return b.children?(0,f.of)({routes:b.children,injector:m}):b.loadChildren?void 0!==b._loadedRoutes?(0,f.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function Ts(D,m,b,p){const _=m.canLoad;if(void 0===_||0===_.length)return(0,f.of)(!0);const x=_.map(j=>{const Te=Oo(j,D);return at(function Bi(D){return D&&Xo(D.canLoad)}(Te)?Te.canLoad(m,b):D.runInContext(()=>Te(m,b)))});return(0,f.of)(x).pipe(te(),Ns())}(m,b,p).pipe((0,ye.z)(_=>_?this.configLoader.loadChildren(m,b).pipe((0,U.b)(x=>{b._loadedRoutes=x.routes,b._loadedInjector=x.injector})):function gi(D){return(0,z._)(Ms(Ge,3))}())):(0,f.of)({routes:[],injector:m})}lineralizeSegments(m,b){let p=[],_=b.root;for(;;){if(p=p.concat(_.segments),0===_.numberOfChildren)return(0,f.of)(p);if(_.numberOfChildren>1||!_.children[Ve])return(0,z._)(new e.vHH(4e3,Ge));_=_.children[Ve]}}applyRedirectCommands(m,b,p){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),m,p)}applyRedirectCreateUrlTree(m,b,p,_){const x=this.createSegmentGroup(m,b.root,p,_);return new _e(x,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(m,b){const p={};return en(m,(_,x)=>{if("string"==typeof _&&_.startsWith(":")){const Te=_.substring(1);p[x]=b[Te]}else p[x]=_}),p}createSegmentGroup(m,b,p,_){const x=this.createSegments(m,b.segments,p,_);let j={};return en(b.children,(Te,ot)=>{j[ot]=this.createSegmentGroup(m,Te,p,_)}),new Ie(x,j)}createSegments(m,b,p,_){return b.map(x=>x.path.startsWith(":")?this.findPosParam(m,x,_):this.findOrReturn(x,p))}findPosParam(m,b,p){const _=p[b.path.substring(1)];if(!_)throw new e.vHH(4001,Ge);return _}findOrReturn(m,b){let p=0;for(const _ of b){if(_.path===m.path)return b.splice(p),_;p++}return m}}class Yi{}class gs{constructor(m,b,p,_,x,j,Te,ot){this.injector=m,this.rootComponentType=b,this.config=p,this.urlTree=_,this.url=x,this.paramsInheritanceStrategy=j,this.relativeLinkResolution=Te,this.urlSerializer=ot}recognize(){const m=Fs(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,m,Ve).pipe((0,le.U)(b=>{if(null===b)return null;const p=new ro([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),_=new Yo(p,b),x=new ks(this.url,_);return this.inheritParamsAndData(x._root),x}))}inheritParamsAndData(m){const b=m.value,p=go(b,this.paramsInheritanceStrategy);b.params=Object.freeze(p.params),b.data=Object.freeze(p.data),m.children.forEach(_=>this.inheritParamsAndData(_))}processSegmentGroup(m,b,p,_){return 0===p.segments.length&&p.hasChildren()?this.processChildren(m,b,p):this.processSegment(m,b,p,p.segments,_)}processChildren(m,b,p){return(0,s.D)(Object.keys(p.children)).pipe((0,E.b)(_=>{const x=p.children[_],j=Ds(b,_);return this.processSegmentGroup(m,j,x,_)}),Ne((_,x)=>_&&x?(_.push(...x),_):null),(0,We.o)(_=>null!==_),(0,gt.d)(null),Pe(),(0,le.U)(_=>{if(null===_)return null;const x=Ee(_);return function ws(D){D.sort((m,b)=>m.value.outlet===Ve?-1:b.value.outlet===Ve?1:m.value.outlet.localeCompare(b.value.outlet))}(x),x}))}processSegment(m,b,p,_,x){return(0,s.D)(b).pipe((0,E.b)(j=>{var Te;return this.processSegmentAgainstRoute(null!==(Te=j._injector)&&void 0!==Te?Te:m,j,p,_,x)}),(0,G.P)(j=>!!j),(0,$.K)(j=>{if(ir(j))return X(p,_,x)?(0,f.of)([]):(0,f.of)(null);throw j}))}processSegmentAgainstRoute(m,b,p,_,x){var j,Te;if(b.redirectTo||!Se(b,p,_,x))return(0,f.of)(null);let ot;if("**"===b.path){const Ut=_.length>0?Cn(_).parameters:{},pn=ae(p)+_.length,cn=new ro(_,Ut,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,et(b),hi(b),null!==(Te=null!==(j=b.component)&&void 0!==j?j:b._loadedComponent)&&void 0!==Te?Te:null,b,k(p),pn,yt(b),pn);ot=(0,f.of)({snapshot:cn,consumedSegments:[],remainingSegments:[]})}else ot=or(p,b,_,m).pipe((0,le.U)(({matched:Ut,consumedSegments:pn,remainingSegments:cn,parameters:kn})=>{var ci,bi;if(!Ut)return null;const So=ae(p)+pn.length;return{snapshot:new ro(pn,kn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,et(b),hi(b),null!==(bi=null!==(ci=b.component)&&void 0!==ci?ci:b._loadedComponent)&&void 0!==bi?bi:null,b,k(p),So,yt(b),So),consumedSegments:pn,remainingSegments:cn}}));return ot.pipe((0,P.w)(Ut=>{var pn,cn;if(null===Ut)return(0,f.of)(null);const{snapshot:kn,consumedSegments:ci,remainingSegments:bi}=Ut;m=null!==(pn=b._injector)&&void 0!==pn?pn:m;const So=null!==(cn=b._loadedInjector)&&void 0!==cn?cn:m,lo=function es(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(b),{segmentGroup:io,slicedSegments:Cs}=Fs(p,ci,bi,lo.filter(Fo=>void 0===Fo.redirectTo),this.relativeLinkResolution);if(0===Cs.length&&io.hasChildren())return this.processChildren(So,lo,io).pipe((0,le.U)(Fo=>null===Fo?null:[new Yo(kn,Fo)]));if(0===lo.length&&0===Cs.length)return(0,f.of)([new Yo(kn,[])]);const yr=hi(b)===x;return this.processSegment(So,lo,io,Cs,yr?Ve:x).pipe((0,le.U)(Fo=>null===Fo?null:[new Yo(kn,Fo)]))}))}}function Bs(D){const m=D.value.routeConfig;return m&&""===m.path&&void 0===m.redirectTo}function Ee(D){const m=[],b=new Set;for(const p of D){if(!Bs(p)){m.push(p);continue}const _=m.find(x=>p.value.routeConfig===x.value.routeConfig);void 0!==_?(_.children.push(...p.children),b.add(_)):m.push(p)}for(const p of b){const _=Ee(p.children);m.push(new Yo(p.value,_))}return m.filter(p=>!b.has(p))}function k(D){let m=D;for(;m._sourceSegment;)m=m._sourceSegment;return m}function ae(D){var m,b;let p=D,_=null!==(m=p._segmentIndexShift)&&void 0!==m?m:0;for(;p._sourceSegment;)p=p._sourceSegment,_+=null!==(b=p._segmentIndexShift)&&void 0!==b?b:0;return _-1}function et(D){return D.data||{}}function yt(D){return D.resolve||{}}function Xn(D){return"string"==typeof D.title||null===D.title}function Fn(D){return(0,P.w)(m=>{const b=D(m);return b?(0,s.D)(b).pipe((0,le.U)(()=>m)):(0,f.of)(m)})}let zn=(()=>{class D{buildTitle(b){var p;let _,x=b.root;for(;void 0!==x;)_=null!==(p=this.getResolvedTitleForRoute(x))&&void 0!==p?p:_,x=x.children.find(j=>j.outlet===Ve);return _}getResolvedTitleForRoute(b){return b.data[Me]}}return D.\u0275fac=function(b){return new(b||D)},D.\u0275prov=e.Yz7({token:D,factory:function(){return(0,e.f3M)(ri)},providedIn:"root"}),D})(),ri=(()=>{class D extends zn{constructor(b){super(),this.title=b}updateTitle(b){const p=this.buildTitle(b);void 0!==p&&this.title.setTitle(p)}}return D.\u0275fac=function(b){return new(b||D)(e.LFG(re.Dx))},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class no{}class ao extends class Vo{shouldDetach(m){return!1}store(m,b){}shouldAttach(m){return!1}retrieve(m){return null}shouldReuseRoute(m,b){return m.routeConfig===b.routeConfig}}{}const fs=new e.OlP("",{providedIn:"root",factory:()=>({})}),Uo=new e.OlP("ROUTES");let xs=(()=>{class D{constructor(b,p){this.injector=b,this.compiler=p,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,f.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const p=at(b.loadComponent()).pipe((0,U.b)(x=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=x}),(0,de.x)(()=>{this.componentLoaders.delete(b)})),_=new ke(p,()=>new Q.x).pipe(pe());return this.componentLoaders.set(b,_),_}loadChildren(b,p){if(this.childrenLoaders.get(p))return this.childrenLoaders.get(p);if(p._loadedRoutes)return(0,f.of)({routes:p._loadedRoutes,injector:p._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(p);const x=this.loadModuleFactoryOrRoutes(p.loadChildren).pipe((0,le.U)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(p);let ot,Ut,pn=!1;Array.isArray(Te)?Ut=Te:(ot=Te.create(b).injector,Ut=un(ot.get(Uo,[],e.XFs.Self|e.XFs.Optional)));return{routes:Ut.map(_o),injector:ot}}),(0,de.x)(()=>{this.childrenLoaders.delete(p)})),j=new ke(x,()=>new Q.x).pipe(pe());return this.childrenLoaders.set(p,j),j}loadModuleFactoryOrRoutes(b){return at(b()).pipe((0,ye.z)(p=>p instanceof e.YKP||Array.isArray(p)?(0,f.of)(p):(0,s.D)(this.compiler.compileModuleAsync(p))))}}return D.\u0275fac=function(b){return new(b||D)(e.LFG(e.zs3),e.LFG(e.Sil))},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class ts{}class sr{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,b){return m}}function Ys(D){throw D}function Cr(D,m,b){return m.parse("/")}const ia={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Hn(){var D,m;const b=(0,e.f3M)(nt),p=(0,e.f3M)(Ye),_=(0,e.f3M)(Oe.Ye),x=(0,e.f3M)(e.zs3),j=(0,e.f3M)(e.Sil),Te=null!==(D=(0,e.f3M)(Uo,{optional:!0}))&&void 0!==D?D:[],ot=null!==(m=(0,e.f3M)(fs,{optional:!0}))&&void 0!==m?m:{},Ut=(0,e.f3M)(ri),pn=(0,e.f3M)(zn,{optional:!0}),cn=(0,e.f3M)(ts,{optional:!0}),kn=(0,e.f3M)(no,{optional:!0}),ci=new Zn(null,b,p,_,x,j,un(Te));return cn&&(ci.urlHandlingStrategy=cn),kn&&(ci.routeReuseStrategy=kn),ci.titleStrategy=null!=pn?pn:Ut,function Nn(D,m){D.errorHandler&&(m.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(m.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(m.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(m.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(m.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(m.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(m.canceledNavigationResolution=D.canceledNavigationResolution)}(ot,ci),ci}let Zn=(()=>{class D{constructor(b,p,_,x,j,Te,ot){this.rootComponentType=b,this.urlSerializer=p,this.rootContexts=_,this.location=x,this.config=ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Q.x,this.errorHandler=Ys,this.malformedUriErrorHandler=Cr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,f.of)(void 0),this.urlHandlingStrategy=new sr,this.routeReuseStrategy=new ao,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=j.get(xs),this.configLoader.onLoadEndListener=kn=>this.triggerEvent(new Ei(kn)),this.configLoader.onLoadStartListener=kn=>this.triggerEvent(new qi(kn)),this.ngModule=j.get(e.h0i),this.console=j.get(e.c2e);const cn=j.get(e.R0b);this.isNgZoneEnabled=cn instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(ot),this.currentUrlTree=function Bt(){return new _e(new Ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vs(this.currentUrlTree,this.rootComponentType),this.transitions=new V.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const p=this.events;return b.pipe((0,be.h)(_=>0!==_.id),(0,le.U)(_=>Object.assign(Object.assign({},_),{extractedUrl:this.urlHandlingStrategy.extract(_.rawUrl)})),(0,P.w)(_=>{let x=!1,j=!1;return(0,f.of)(_).pipe((0,U.b)(Te=>{this.currentNavigation={id:Te.id,initialUrl:Te.rawUrl,extractedUrl:Te.extractedUrl,trigger:Te.source,extras:Te.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,P.w)(Te=>{const ot=this.browserUrlTree.toString(),Ut=!this.navigated||Te.extractedUrl.toString()!==ot||ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ut)&&this.urlHandlingStrategy.shouldProcessUrl(Te.rawUrl))return Lo(Te.source)&&(this.browserUrlTree=Te.extractedUrl),(0,f.of)(Te).pipe((0,P.w)(cn=>{const kn=this.transitions.getValue();return p.next(new bs(cn.id,this.serializeUrl(cn.extractedUrl),cn.source,cn.restoredState)),kn!==this.transitions.getValue()?ne.E:Promise.resolve(cn)}),function $i(D,m,b,p){return(0,P.w)(_=>function vi(D,m,b,p,_){return new li(D,m,b,p,_).apply()}(D,m,b,_.extractedUrl,p).pipe((0,le.U)(x=>Object.assign(Object.assign({},_),{urlAfterRedirects:x}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,U.b)(cn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:cn.urlAfterRedirects}),_.urlAfterRedirects=cn.urlAfterRedirects}),function Tt(D,m,b,p,_,x){return(0,ye.z)(j=>function Ro(D,m,b,p,_,x,j="emptyOnly",Te="legacy"){return new gs(D,m,b,p,_,j,Te,x).recognize().pipe((0,P.w)(ot=>null===ot?function rs(D){return new he.y(m=>m.error(D))}(new Yi):(0,f.of)(ot)))}(D,m,b,j.urlAfterRedirects,p.serialize(j.urlAfterRedirects),p,_,x).pipe((0,le.U)(Te=>Object.assign(Object.assign({},j),{targetSnapshot:Te}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,U.b)(cn=>{if(_.targetSnapshot=cn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!cn.extras.skipLocationChange){const ci=this.urlHandlingStrategy.merge(cn.urlAfterRedirects,cn.rawUrl);this.setBrowserUrl(ci,cn)}this.browserUrlTree=cn.urlAfterRedirects}const kn=new Mo(cn.id,this.serializeUrl(cn.extractedUrl),this.serializeUrl(cn.urlAfterRedirects),cn.targetSnapshot);p.next(kn)}));if(Ut&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:kn,extractedUrl:ci,source:bi,restoredState:So,extras:lo}=Te,io=new bs(kn,this.serializeUrl(ci),bi,So);p.next(io);const Cs=Vs(ci,this.rootComponentType).snapshot;return _=Object.assign(Object.assign({},Te),{targetSnapshot:Cs,urlAfterRedirects:ci,extras:Object.assign(Object.assign({},lo),{skipLocationChange:!1,replaceUrl:!1})}),(0,f.of)(_)}return this.rawUrlTree=Te.rawUrl,Te.resolve(null),ne.E}),(0,U.b)(Te=>{const ot=new Jo(Te.id,this.serializeUrl(Te.extractedUrl),this.serializeUrl(Te.urlAfterRedirects),Te.targetSnapshot);this.triggerEvent(ot)}),(0,le.U)(Te=>_=Object.assign(Object.assign({},Te),{guards:ps(Te.targetSnapshot,Te.currentSnapshot,this.rootContexts)})),function W(D,m){return(0,ye.z)(b=>{const{targetSnapshot:p,currentSnapshot:_,guards:{canActivateChecks:x,canDeactivateChecks:j}}=b;return 0===j.length&&0===x.length?(0,f.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function Je(D,m,b,p){return(0,s.D)(D).pipe((0,ye.z)(_=>function Ls(D,m,b,p,_){const x=m&&m.routeConfig?m.routeConfig.canDeactivate:null;if(!x||0===x.length)return(0,f.of)(!0);const j=x.map(Te=>{var ot;const Ut=null!==(ot=ds(m))&&void 0!==ot?ot:_,pn=Oo(Te,Ut);return at(function zi(D){return D&&Xo(D.canDeactivate)}(pn)?pn.canDeactivate(D,m,b,p):Ut.runInContext(()=>pn(D,m,b,p))).pipe((0,G.P)())});return(0,f.of)(j).pipe(te())}(_.component,_.route,b,m,p)),(0,G.P)(_=>!0!==_,!0))}(j,p,_,D).pipe((0,ye.z)(Te=>Te&&function Os(D){return"boolean"==typeof D}(Te)?function Jt(D,m,b,p){return(0,s.D)(m).pipe((0,E.b)(_=>(0,L.z)(function Ci(D,m){return null!==D&&m&&m(new ai(D)),(0,f.of)(!0)}(_.route.parent,p),function Tn(D,m){return null!==D&&m&&m(new Sn(D)),(0,f.of)(!0)}(_.route,p),function hs(D,m,b){const p=m[m.length-1],x=m.slice(0,m.length-1).reverse().map(j=>function Gs(D){const m=D.routeConfig?D.routeConfig.canActivateChild:null;return m&&0!==m.length?{node:D,guards:m}:null}(j)).filter(j=>null!==j).map(j=>(0,se.P)(()=>{const Te=j.guards.map(ot=>{var Ut;const pn=null!==(Ut=ds(j.node))&&void 0!==Ut?Ut:b,cn=Oo(ot,pn);return at(function Rs(D){return D&&Xo(D.canActivateChild)}(cn)?cn.canActivateChild(p,D):pn.runInContext(()=>cn(p,D))).pipe((0,G.P)())});return(0,f.of)(Te).pipe(te())}));return(0,f.of)(x).pipe(te())}(D,_.path,b),function Po(D,m,b){const p=m.routeConfig?m.routeConfig.canActivate:null;if(!p||0===p.length)return(0,f.of)(!0);const _=p.map(x=>(0,se.P)(()=>{var j;const Te=null!==(j=ds(m))&&void 0!==j?j:b,ot=Oo(x,Te);return at(function Ps(D){return D&&Xo(D.canActivate)}(ot)?ot.canActivate(m,D):Te.runInContext(()=>ot(m,D))).pipe((0,G.P)())}));return(0,f.of)(_).pipe(te())}(D,_.route,b))),(0,G.P)(_=>!0!==_,!0))}(p,x,D,m):(0,f.of)(Te)),(0,le.U)(Te=>Object.assign(Object.assign({},b),{guardsResult:Te})))})}(this.ngModule.injector,Te=>this.triggerEvent(Te)),(0,U.b)(Te=>{if(_.guardsResult=Te.guardsResult,xe(Te.guardsResult))throw us(0,Te.guardsResult);const ot=new ys(Te.id,this.serializeUrl(Te.extractedUrl),this.serializeUrl(Te.urlAfterRedirects),Te.targetSnapshot,!!Te.guardsResult);this.triggerEvent(ot)}),(0,be.h)(Te=>!!Te.guardsResult||(this.restoreHistory(Te),this.cancelNavigationTransition(Te,"",3),!1)),Fn(Te=>{if(Te.guards.canActivateChecks.length)return(0,f.of)(Te).pipe((0,U.b)(ot=>{const Ut=new ho(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(Ut)}),(0,P.w)(ot=>{let Ut=!1;return(0,f.of)(ot).pipe(function Nt(D,m){return(0,ye.z)(b=>{const{targetSnapshot:p,guards:{canActivateChecks:_}}=b;if(!_.length)return(0,f.of)(b);let x=0;return(0,s.D)(_).pipe((0,E.b)(j=>function $t(D,m,b,p){const _=D.routeConfig,x=D._resolve;return void 0!==(null==_?void 0:_.title)&&!Xn(_)&&(x[Me]=_.title),function In(D,m,b,p){const _=function En(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===_.length)return(0,f.of)({});const x={};return(0,s.D)(_).pipe((0,ye.z)(j=>function $n(D,m,b,p){var _;const x=null!==(_=ds(m))&&void 0!==_?_:p,j=Oo(D,x);return at(j.resolve?j.resolve(m,b):x.runInContext(()=>j(m,b)))}(D[j],m,b,p).pipe((0,G.P)(),(0,U.b)(Te=>{x[j]=Te}))),(0,He.h)(1),(0,J.h)(x),(0,$.K)(j=>ir(j)?ne.E:(0,z._)(j)))}(x,D,m,p).pipe((0,le.U)(j=>(D._resolvedData=j,D.data=go(D,b).resolve,_&&Xn(_)&&(D.data[Me]=_.title),null)))}(j.route,p,D,m)),(0,U.b)(()=>x++),(0,He.h)(1),(0,ye.z)(j=>x===_.length?(0,f.of)(b):ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,U.b)({next:()=>Ut=!0,complete:()=>{Ut||(this.restoreHistory(ot),this.cancelNavigationTransition(ot,"",2))}}))}),(0,U.b)(ot=>{const Ut=new is(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent(Ut)}))}),Fn(Te=>{const ot=Ut=>{var pn;const cn=[];(null===(pn=Ut.routeConfig)||void 0===pn?void 0:pn.loadComponent)&&!Ut.routeConfig._loadedComponent&&cn.push(this.configLoader.loadComponent(Ut.routeConfig).pipe((0,U.b)(kn=>{Ut.component=kn}),(0,le.U)(()=>{})));for(const kn of Ut.children)cn.push(...ot(kn));return cn};return(0,I.a)(ot(Te.targetSnapshot.root)).pipe((0,gt.d)(),(0,N.q)(1))}),Fn(()=>this.afterPreactivation()),(0,le.U)(Te=>{const ot=function wo(D,m,b){const p=Do(D,m._root,b?b._root:void 0);return new fr(p,m)}(this.routeReuseStrategy,Te.targetSnapshot,Te.currentRouterState);return _=Object.assign(Object.assign({},Te),{targetRouterState:ot})}),(0,U.b)(Te=>{this.currentUrlTree=Te.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Te.urlAfterRedirects,Te.rawUrl),this.routerState=Te.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Te.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Te),this.browserUrlTree=Te.urlAfterRedirects)}),((D,m,b)=>(0,le.U)(p=>(new mr(m,p.targetRouterState,p.currentRouterState,b).activate(D),p)))(this.rootContexts,this.routeReuseStrategy,Te=>this.triggerEvent(Te)),(0,U.b)({next(){x=!0},complete(){x=!0}}),(0,de.x)(()=>{var Te;x||j||this.cancelNavigationTransition(_,"",1),(null===(Te=this.currentNavigation)||void 0===Te?void 0:Te.id)===_.id&&(this.currentNavigation=null)}),(0,$.K)(Te=>{var ot;if(j=!0,mo(Te)){zs(Te)||(this.navigated=!0,this.restoreHistory(_,!0));const Ut=new Di(_.id,this.serializeUrl(_.extractedUrl),Te.message,Te.cancellationCode);if(p.next(Ut),zs(Te)){const pn=this.urlHandlingStrategy.merge(Te.url,this.rawUrlTree),cn={skipLocationChange:_.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lo(_.source)};this.scheduleNavigation(pn,"imperative",null,cn,{resolve:_.resolve,reject:_.reject,promise:_.promise})}else _.resolve(!1)}else{this.restoreHistory(_,!0);const Ut=new Ri(_.id,this.serializeUrl(_.extractedUrl),Te,null!==(ot=_.targetSnapshot)&&void 0!==ot?ot:void 0);p.next(Ut);try{_.resolve(this.errorHandler(Te))}catch(pn){_.reject(pn)}}return ne.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const p="popstate"===b.type?"popstate":"hashchange";"popstate"===p&&setTimeout(()=>{var _;const x={replaceUrl:!0},j=null!==(_=b.state)&&void 0!==_&&_.navigationId?b.state:null;if(j){const ot=Object.assign({},j);delete ot.navigationId,delete ot.\u0275routerPageId,0!==Object.keys(ot).length&&(x.state=ot)}const Te=this.parseUrl(b.url);this.scheduleNavigation(Te,p,j,x)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){this.config=b.map(_o),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,p={}){const{relativeTo:_,queryParams:x,fragment:j,queryParamsHandling:Te,preserveFragment:ot}=p,Ut=_||this.routerState.root,pn=ot?this.currentUrlTree.fragment:j;let cn=null;switch(Te){case"merge":cn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),x);break;case"preserve":cn=this.currentUrlTree.queryParams;break;default:cn=x||null}return null!==cn&&(cn=this.removeEmptyProps(cn)),ln(Ut,this.currentUrlTree,b,cn,null!=pn?pn:null)}navigateByUrl(b,p={skipLocationChange:!1}){const _=xe(b)?b:this.parseUrl(b),x=this.urlHandlingStrategy.merge(_,this.rawUrlTree);return this.scheduleNavigation(x,"imperative",null,p)}navigate(b,p={skipLocationChange:!1}){return function Qi(D){for(let m=0;m<D.length;m++){if(null==D[m])throw new e.vHH(4008,false)}}(b),this.navigateByUrl(this.createUrlTree(b,p),p)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let p;try{p=this.urlSerializer.parse(b)}catch(_){p=this.malformedUriErrorHandler(_,this.urlSerializer,b)}return p}isActive(b,p){let _;if(_=!0===p?Object.assign({},ia):!1===p?Object.assign({},Mn):p,xe(b))return ei(this.currentUrlTree,b,_);const x=this.parseUrl(b);return ei(this.currentUrlTree,x,_)}removeEmptyProps(b){return Object.keys(b).reduce((p,_)=>{const x=b[_];return null!=x&&(p[_]=x),p},{})}processNavigations(){this.navigations.subscribe(b=>{var p;this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new bo(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(p=this.titleStrategy)||void 0===p||p.updateTitle(this.routerState.snapshot),b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,p,_,x,j){var Te,ot;if(this.disposed)return Promise.resolve(!1);let Ut,pn,cn;j?(Ut=j.resolve,pn=j.reject,cn=j.promise):cn=new Promise((bi,So)=>{Ut=bi,pn=So});const kn=++this.navigationId;let ci;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(_=this.location.getState()),ci=_&&_.\u0275routerPageId?_.\u0275routerPageId:x.replaceUrl||x.skipLocationChange?null!==(Te=this.browserPageId)&&void 0!==Te?Te:0:(null!==(ot=this.browserPageId)&&void 0!==ot?ot:0)+1):ci=0,this.setTransition({id:kn,targetPageId:ci,source:p,restoredState:_,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:x,resolve:Ut,reject:pn,promise:cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),cn.catch(bi=>Promise.reject(bi))}setBrowserUrl(b,p){const _=this.urlSerializer.serialize(b),x=Object.assign(Object.assign({},p.extras.state),this.generateNgRouterState(p.id,p.targetPageId));this.location.isCurrentPathEqualTo(_)||p.extras.replaceUrl?this.location.replaceState(_,"",x):this.location.go(_,"",x)}restoreHistory(b,p=!1){var _,x;if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(_=this.currentNavigation)||void 0===_?void 0:_.finalUrl)||0===j?this.currentUrlTree===(null===(x=this.currentNavigation)||void 0===x?void 0:x.finalUrl)&&0===j&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(j)}else"replace"===this.canceledNavigationResolution&&(p&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,p,_){const x=new Di(b.id,this.serializeUrl(b.extractedUrl),p,_);this.triggerEvent(x),b.resolve(!1)}generateNgRouterState(b,p){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:p}:{navigationId:b}}}return D.\u0275fac=function(b){e.$Z()},D.\u0275prov=e.Yz7({token:D,factory:function(){return Hn()},providedIn:"root"}),D})();function Lo(D){return"imperative"!==D}let No=(()=>{class D{constructor(b,p,_,x,j){this.router=b,this.route=p,this.tabIndexAttribute=_,this.renderer=x,this.el=j,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Q.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(b){this._preserveFragment=(0,e.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,e.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,e.D6c)(b)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const p=this.renderer,_=this.el.nativeElement;null!==b?p.setAttribute(_,"tabindex",b):p.removeAttribute(_,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(b){return new(b||D)(e.Y36(Zn),e.Y36(Ko),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq))},D.\u0275dir=e.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,p){1&b&&e.NdJ("click",function(){return p.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),D})(),as=(()=>{class D{constructor(b,p,_){this.router=b,this.route=p,this.locationStrategy=_,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Q.x,this.subscription=b.events.subscribe(x=>{x instanceof bo&&this.updateTargetUrlAndHref()})}set preserveFragment(b){this._preserveFragment=(0,e.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,e.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,e.D6c)(b)}get replaceUrl(){return this._replaceUrl}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,p,_,x,j){return!!(0!==b||p||_||x||j||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(b){return new(b||D)(e.Y36(Zn),e.Y36(Ko),e.Y36(Oe.S$))},D.\u0275dir=e.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,p){1&b&&e.NdJ("click",function(x){return p.onClick(x.button,x.ctrlKey,x.shiftKey,x.altKey,x.metaKey)}),2&b&&e.uIk("target",p.target)("href",p.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[e.TTD]}),D})(),Hi=(()=>{class D{constructor(b,p,_,x,j,Te){this.router=b,this.element=p,this.renderer=_,this.cdr=x,this.link=j,this.linkWithHref=Te,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=b.events.subscribe(ot=>{ot instanceof bo&&this.update()})}ngAfterContentInit(){(0,f.of)(this.links.changes,this.linksWithHrefs.changes,(0,f.of)(null)).pipe((0,Qe.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const p=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(_=>!!_).map(_=>_.onChanges);this.linkInputChangesSubscription=(0,s.D)(p).pipe((0,Qe.J)()).subscribe(_=>{this.isActive!==this.isLinkActive(this.router)(_)&&this.update()})}set routerLinkActive(b){const p=Array.isArray(b)?b:b.split(" ");this.classes=p.filter(_=>!!_)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(p=>{b?this.renderer.addClass(this.element.nativeElement,p):this.renderer.removeClass(this.element.nativeElement,p)}),b&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(b))})}isLinkActive(b){const p=function vr(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return _=>!!_.urlTree&&b.isActive(_.urlTree,p)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return D.\u0275fac=function(b){return new(b||D)(e.Y36(Zn),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(No,8),e.Y36(as,8))},D.\u0275dir=e.lG2({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(b,p,_){if(1&b&&(e.Suo(_,No,5),e.Suo(_,as,5)),2&b){let x;e.iGM(x=e.CRH())&&(p.links=x),e.iGM(x=e.CRH())&&(p.linksWithHrefs=x)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]}),D})();class wa{}let ls=(()=>{class D{constructor(b,p,_,x,j){this.router=b,this.injector=_,this.preloadingStrategy=x,this.loader=j}setUpPreloading(){this.subscription=this.router.events.pipe((0,be.h)(b=>b instanceof bo),(0,E.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,p){var _,x,j;const Te=[];for(const ot of p){ot.providers&&!ot._injector&&(ot._injector=(0,e.MMx)(ot.providers,b,`Route: ${ot.path}`));const Ut=null!==(_=ot._injector)&&void 0!==_?_:b,pn=null!==(x=ot._loadedInjector)&&void 0!==x?x:Ut;ot.loadChildren&&!ot._loadedRoutes&&void 0===ot.canLoad||ot.loadComponent&&!ot._loadedComponent?Te.push(this.preloadConfig(Ut,ot)):(ot.children||ot._loadedRoutes)&&Te.push(this.processRoutes(pn,null!==(j=ot.children)&&void 0!==j?j:ot._loadedRoutes))}return(0,s.D)(Te).pipe((0,Qe.J)())}preloadConfig(b,p){return this.preloadingStrategy.preload(p,()=>{let _;_=p.loadChildren&&void 0===p.canLoad?this.loader.loadChildren(b,p):(0,f.of)(null);const x=_.pipe((0,ye.z)(j=>{var Te;return null===j?(0,f.of)(void 0):(p._loadedRoutes=j.routes,p._loadedInjector=j.injector,this.processRoutes(null!==(Te=j.injector)&&void 0!==Te?Te:b,j.routes))}));if(p.loadComponent&&!p._loadedComponent){const j=this.loader.loadComponent(p);return(0,s.D)([x,j]).pipe((0,Qe.J)())}return x})}}return D.\u0275fac=function(b){return new(b||D)(e.LFG(Zn),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(wa),e.LFG(xs))},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const rr=new e.OlP("");let br=(()=>{class D{constructor(b,p,_={}){this.router=b,this.viewportScroller=p,this.options=_,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_.scrollPositionRestoration=_.scrollPositionRestoration||"disabled",_.anchorScrolling=_.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof bo&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof tr&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,p){this.router.triggerEvent(new tr(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,p))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(b){e.$Z()},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac}),D})();function Er(D,m){return{\u0275kind:D,\u0275providers:m}}function sa(D){return[{provide:Uo,multi:!0,useValue:D}]}function lc(){const D=(0,e.f3M)(e.zs3);return m=>{var b,p;const _=D.get(e.z2F);if(m!==_.components[0])return;const x=D.get(Zn),j=D.get(dl);1===D.get(Oi)&&x.initialNavigation(),null===(b=D.get(cc,null,e.XFs.Optional))||void 0===b||b.setUpPreloading(),null===(p=D.get(rr,null,e.XFs.Optional))||void 0===p||p.init(),x.resetRootComponentType(_.componentTypes[0]),j.closed||(j.next(),j.unsubscribe())}}const dl=new e.OlP("",{factory:()=>new Q.x}),Oi=new e.OlP("",{providedIn:"root",factory:()=>1});const cc=new e.OlP("");function uu(D){return Er(0,[{provide:cc,useExisting:ls},{provide:wa,useExisting:D}])}const uc=new e.OlP("ROUTER_FORROOT_GUARD"),du=[Oe.Ye,{provide:nt,useClass:xt},{provide:Zn,useFactory:Hn},Ye,{provide:Ko,useFactory:function xr(D){return D.routerState.root},deps:[Zn]},xs];function Io(){return new e.PXZ("Router",Zn)}let Ga=(()=>{class D{constructor(b){}static forRoot(b,p){return{ngModule:D,providers:[du,[],sa(b),{provide:uc,useFactory:_s,deps:[[Zn,new e.FiY,new e.tp0]]},{provide:fs,useValue:p||{}},null!=p&&p.useHash?{provide:Oe.S$,useClass:Oe.Do}:{provide:Oe.S$,useClass:Oe.b0},{provide:rr,useFactory:()=>{const D=(0,e.f3M)(Zn),m=(0,e.f3M)(Oe.EM),b=(0,e.f3M)(fs);return b.scrollOffset&&m.setOffset(b.scrollOffset),new br(D,m,b)}},null!=p&&p.preloadingStrategy?uu(p.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:Io},null!=p&&p.initialNavigation?lr(p):[],[{provide:Qa,useFactory:lc},{provide:e.tb,multi:!0,useExisting:Qa}]]}}static forChild(b){return{ngModule:D,providers:[sa(b)]}}}return D.\u0275fac=function(b){return new(b||D)(e.LFG(uc,8))},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[st]}),D})();function _s(D){return"guarded"}function lr(D){return["disabled"===D.initialNavigation?Er(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const m=(0,e.f3M)(Zn);return()=>{m.setUpLocationChangeListener()}}},{provide:Oi,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Er(2,[{provide:Oi,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:m=>{const b=m.get(Oe.V_,Promise.resolve());let p=!1;return()=>b.then(()=>new Promise(x=>{const j=m.get(Zn),Te=m.get(dl);(function _(x){m.get(Zn).events.pipe((0,be.h)(Te=>Te instanceof bo||Te instanceof Di||Te instanceof Ri),(0,le.U)(Te=>Te instanceof bo||Te instanceof Di&&(0===Te.code||1===Te.code)&&null),(0,be.h)(Te=>null!==Te),(0,N.q)(1)).subscribe(()=>{x()})})(()=>{x(!0),p=!0}),j.afterPreactivation=()=>(x(!0),p||Te.closed?(0,f.of)(void 0):Te),j.initialNavigation()}))}}]).\u0275providers:[]]}const Qa=new e.OlP("")},9354:(Lt,qe,C)=>{C.d(qe,{lF:()=>Kt,JP:()=>Ai});var e=C(5e3),s=C(7579),f=C(6451),V=C(9646),F=C(5963),I=C(3900),L=C(9718),se=C(1884),q=C(4782),z=C(8675),he=C(4004),ne=C(2722),ue=(C(590),C(9808));let pe={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Q=/[&<>"']/,Oe=new RegExp(Q.source,"g"),le=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,P=new RegExp(le.source,"g"),N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},we=Ke=>N[Ke];function be(Ke,ie){if(ie){if(Q.test(Ke))return Ke.replace(Oe,we)}else if(le.test(Ke))return Ke.replace(P,we);return Ke}const ye=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function G(Ke){return Ke.replace(ye,(ie,B)=>"colon"===(B=B.toLowerCase())?":":"#"===B.charAt(0)?"x"===B.charAt(1)?String.fromCharCode(parseInt(B.substring(2),16)):String.fromCharCode(+B.substring(1)):"")}const E=/(^|[^\[])\^/g;function U(Ke,ie){Ke="string"==typeof Ke?Ke:Ke.source,ie=ie||"";const B={replace:(oe,xe)=>(xe=(xe=xe.source||xe).replace(E,"$1"),Ke=Ke.replace(oe,xe),B),getRegex:()=>new RegExp(Ke,ie)};return B}const $=/[^\w:]/g,Ae=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ne(Ke,ie,B){if(Ke){let oe;try{oe=decodeURIComponent(G(B)).replace($,"").toLowerCase()}catch(xe){return null}if(0===oe.indexOf("javascript:")||0===oe.indexOf("vbscript:")||0===oe.indexOf("data:"))return null}ie&&!Ae.test(B)&&(B=function Pe(Ke,ie){He[" "+Ke]||(He[" "+Ke]=Re.test(Ke)?Ke+"/":Qe(Ke,"/",!0));const B=-1===(Ke=He[" "+Ke]).indexOf(":");return"//"===ie.substring(0,2)?B?ie:Ke.replace(gt,"$1")+ie:"/"===ie.charAt(0)?B?ie:Ke.replace(ut,"$1")+ie:Ke+ie}(ie,B));try{B=encodeURI(B).replace(/%25/g,"%")}catch(oe){return null}return B}const He={},Re=/^[^:]+:\/*[^/]*$/,gt=/^([^:]+:)[\s\S]*$/,ut=/^([^:]+:\/*[^/]*)[\s\S]*$/,We={exec:function(){}};function J(Ke){let B,oe,ie=1;for(;ie<arguments.length;ie++)for(oe in B=arguments[ie],B)Object.prototype.hasOwnProperty.call(B,oe)&&(Ke[oe]=B[oe]);return Ke}function de(Ke,ie){const oe=Ke.replace(/\|/g,(Ct,Dt,St)=>{let Vt=!1,ln=Dt;for(;--ln>=0&&"\\"===St[ln];)Vt=!Vt;return Vt?"|":" |"}).split(/ \|/);let xe=0;if(oe[0].trim()||oe.shift(),oe.length>0&&!oe[oe.length-1].trim()&&oe.pop(),oe.length>ie)oe.splice(ie);else for(;oe.length<ie;)oe.push("");for(;xe<oe.length;xe++)oe[xe]=oe[xe].trim().replace(/\\\|/g,"|");return oe}function Qe(Ke,ie,B){const oe=Ke.length;if(0===oe)return"";let xe=0;for(;xe<oe;){const Ct=Ke.charAt(oe-xe-1);if(Ct!==ie||B){if(Ct===ie||!B)break;xe++}else xe++}return Ke.slice(0,oe-xe)}function Ve(Ke){Ke&&Ke.sanitize&&!Ke.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Me(Ke,ie){if(ie<1)return"";let B="";for(;ie>1;)1&ie&&(B+=Ke),ie>>=1,Ke+=Ke;return B+Ke}function Fe(Ke,ie,B,oe){const xe=ie.href,Ct=ie.title?be(ie.title):null,Dt=Ke[1].replace(/\\([\[\]])/g,"$1");if("!"!==Ke[0].charAt(0)){oe.state.inLink=!0;const St={type:"link",raw:B,href:xe,title:Ct,text:Dt,tokens:oe.inlineTokens(Dt)};return oe.state.inLink=!1,St}return{type:"image",raw:B,href:xe,title:Ct,text:be(Dt)}}class R{constructor(ie){this.options=ie||pe}space(ie){const B=this.rules.block.newline.exec(ie);if(B&&B[0].length>0)return{type:"space",raw:B[0]}}code(ie){const B=this.rules.block.code.exec(ie);if(B){const oe=B[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:B[0],codeBlockStyle:"indented",text:this.options.pedantic?oe:Qe(oe,"\n")}}}fences(ie){const B=this.rules.block.fences.exec(ie);if(B){const oe=B[0],xe=function $e(Ke,ie){const B=Ke.match(/^(\s+)(?:```)/);if(null===B)return ie;const oe=B[1];return ie.split("\n").map(xe=>{const Ct=xe.match(/^\s+/);if(null===Ct)return xe;const[Dt]=Ct;return Dt.length>=oe.length?xe.slice(oe.length):xe}).join("\n")}(oe,B[3]||"");return{type:"code",raw:oe,lang:B[2]?B[2].trim().replace(this.rules.inline._escapes,"$1"):B[2],text:xe}}}heading(ie){const B=this.rules.block.heading.exec(ie);if(B){let oe=B[2].trim();if(/#$/.test(oe)){const xe=Qe(oe,"#");(this.options.pedantic||!xe||/ $/.test(xe))&&(oe=xe.trim())}return{type:"heading",raw:B[0],depth:B[1].length,text:oe,tokens:this.lexer.inline(oe)}}}hr(ie){const B=this.rules.block.hr.exec(ie);if(B)return{type:"hr",raw:B[0]}}blockquote(ie){const B=this.rules.block.blockquote.exec(ie);if(B){const oe=B[0].replace(/^ *>[ \t]?/gm,""),xe=this.lexer.state.top;this.lexer.state.top=!0;const Ct=this.lexer.blockTokens(oe);return this.lexer.state.top=xe,{type:"blockquote",raw:B[0],tokens:Ct,text:oe}}}list(ie){let B=this.rules.block.list.exec(ie);if(B){let oe,xe,Ct,Dt,St,Vt,ln,hn,mn,yn,xn,Kn,Si=B[1].trim();const ki=Si.length>1,bn={type:"list",raw:"",ordered:ki,start:ki?+Si.slice(0,-1):"",loose:!1,items:[]};Si=ki?`\\d{1,9}\\${Si.slice(-1)}`:`\\${Si}`,this.options.pedantic&&(Si=ki?Si:"[*+-]");const Ti=new RegExp(`^( {0,3}${Si})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;ie&&(Kn=!1,(B=Ti.exec(ie))&&!this.rules.block.hr.test(ie));){if(oe=B[0],ie=ie.substring(oe.length),hn=B[2].split("\n",1)[0].replace(/^\t+/,Ji=>" ".repeat(3*Ji.length)),mn=ie.split("\n",1)[0],this.options.pedantic?(Dt=2,xn=hn.trimLeft()):(Dt=B[2].search(/[^ ]/),Dt=Dt>4?1:Dt,xn=hn.slice(Dt),Dt+=B[1].length),Vt=!1,!hn&&/^ *$/.test(mn)&&(oe+=mn+"\n",ie=ie.substring(mn.length+1),Kn=!0),!Kn){const Ji=new RegExp(`^ {0,${Math.min(3,Dt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),_i=new RegExp(`^ {0,${Math.min(3,Dt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),di=new RegExp(`^ {0,${Math.min(3,Dt-1)}}(?:\`\`\`|~~~)`),to=new RegExp(`^ {0,${Math.min(3,Dt-1)}}#`);for(;ie&&(yn=ie.split("\n",1)[0],mn=yn,this.options.pedantic&&(mn=mn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(di.test(mn)||to.test(mn)||Ji.test(mn)||_i.test(ie)));){if(mn.search(/[^ ]/)>=Dt||!mn.trim())xn+="\n"+mn.slice(Dt);else{if(Vt||hn.search(/[^ ]/)>=4||di.test(hn)||to.test(hn)||_i.test(hn))break;xn+="\n"+mn}!Vt&&!mn.trim()&&(Vt=!0),oe+=yn+"\n",ie=ie.substring(yn.length+1),hn=mn.slice(Dt)}}bn.loose||(ln?bn.loose=!0:/\n *\n *$/.test(oe)&&(ln=!0)),this.options.gfm&&(xe=/^\[[ xX]\] /.exec(xn),xe&&(Ct="[ ] "!==xe[0],xn=xn.replace(/^\[[ xX]\] +/,""))),bn.items.push({type:"list_item",raw:oe,task:!!xe,checked:Ct,loose:!1,text:xn}),bn.raw+=oe}bn.items[bn.items.length-1].raw=oe.trimRight(),bn.items[bn.items.length-1].text=xn.trimRight(),bn.raw=bn.raw.trimRight();const po=bn.items.length;for(St=0;St<po;St++)if(this.lexer.state.top=!1,bn.items[St].tokens=this.lexer.blockTokens(bn.items[St].text,[]),!bn.loose){const Ji=bn.items[St].tokens.filter(di=>"space"===di.type),_i=Ji.length>0&&Ji.some(di=>/\n.*\n/.test(di.raw));bn.loose=_i}if(bn.loose)for(St=0;St<po;St++)bn.items[St].loose=!0;return bn}}html(ie){const B=this.rules.block.html.exec(ie);if(B){const oe={type:"html",raw:B[0],pre:!this.options.sanitizer&&("pre"===B[1]||"script"===B[1]||"style"===B[1]),text:B[0]};if(this.options.sanitize){const xe=this.options.sanitizer?this.options.sanitizer(B[0]):be(B[0]);oe.type="paragraph",oe.text=xe,oe.tokens=this.lexer.inline(xe)}return oe}}def(ie){const B=this.rules.block.def.exec(ie);if(B){const oe=B[1].toLowerCase().replace(/\s+/g," "),xe=B[2]?B[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",Ct=B[3]?B[3].substring(1,B[3].length-1).replace(this.rules.inline._escapes,"$1"):B[3];return{type:"def",tag:oe,raw:B[0],href:xe,title:Ct}}}table(ie){const B=this.rules.block.table.exec(ie);if(B){const oe={type:"table",header:de(B[1]).map(xe=>({text:xe})),align:B[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:B[3]&&B[3].trim()?B[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(oe.header.length===oe.align.length){oe.raw=B[0];let Ct,Dt,St,Vt,xe=oe.align.length;for(Ct=0;Ct<xe;Ct++)oe.align[Ct]=/^ *-+: *$/.test(oe.align[Ct])?"right":/^ *:-+: *$/.test(oe.align[Ct])?"center":/^ *:-+ *$/.test(oe.align[Ct])?"left":null;for(xe=oe.rows.length,Ct=0;Ct<xe;Ct++)oe.rows[Ct]=de(oe.rows[Ct],oe.header.length).map(ln=>({text:ln}));for(xe=oe.header.length,Dt=0;Dt<xe;Dt++)oe.header[Dt].tokens=this.lexer.inline(oe.header[Dt].text);for(xe=oe.rows.length,Dt=0;Dt<xe;Dt++)for(Vt=oe.rows[Dt],St=0;St<Vt.length;St++)Vt[St].tokens=this.lexer.inline(Vt[St].text);return oe}}}lheading(ie){const B=this.rules.block.lheading.exec(ie);if(B)return{type:"heading",raw:B[0],depth:"="===B[2].charAt(0)?1:2,text:B[1],tokens:this.lexer.inline(B[1])}}paragraph(ie){const B=this.rules.block.paragraph.exec(ie);if(B){const oe="\n"===B[1].charAt(B[1].length-1)?B[1].slice(0,-1):B[1];return{type:"paragraph",raw:B[0],text:oe,tokens:this.lexer.inline(oe)}}}text(ie){const B=this.rules.block.text.exec(ie);if(B)return{type:"text",raw:B[0],text:B[0],tokens:this.lexer.inline(B[0])}}escape(ie){const B=this.rules.inline.escape.exec(ie);if(B)return{type:"escape",raw:B[0],text:be(B[1])}}tag(ie){const B=this.rules.inline.tag.exec(ie);if(B)return!this.lexer.state.inLink&&/^<a /i.test(B[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(B[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(B[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(B[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:B[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(B[0]):be(B[0]):B[0]}}link(ie){const B=this.rules.inline.link.exec(ie);if(B){const oe=B[2].trim();if(!this.options.pedantic&&/^</.test(oe)){if(!/>$/.test(oe))return;const Dt=Qe(oe.slice(0,-1),"\\");if((oe.length-Dt.length)%2==0)return}else{const Dt=function re(Ke,ie){if(-1===Ke.indexOf(ie[1]))return-1;const B=Ke.length;let oe=0,xe=0;for(;xe<B;xe++)if("\\"===Ke[xe])xe++;else if(Ke[xe]===ie[0])oe++;else if(Ke[xe]===ie[1]&&(oe--,oe<0))return xe;return-1}(B[2],"()");if(Dt>-1){const Vt=(0===B[0].indexOf("!")?5:4)+B[1].length+Dt;B[2]=B[2].substring(0,Dt),B[0]=B[0].substring(0,Vt).trim(),B[3]=""}}let xe=B[2],Ct="";if(this.options.pedantic){const Dt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(xe);Dt&&(xe=Dt[1],Ct=Dt[3])}else Ct=B[3]?B[3].slice(1,-1):"";return xe=xe.trim(),/^</.test(xe)&&(xe=this.options.pedantic&&!/>$/.test(oe)?xe.slice(1):xe.slice(1,-1)),Fe(B,{href:xe&&xe.replace(this.rules.inline._escapes,"$1"),title:Ct&&Ct.replace(this.rules.inline._escapes,"$1")},B[0],this.lexer)}}reflink(ie,B){let oe;if((oe=this.rules.inline.reflink.exec(ie))||(oe=this.rules.inline.nolink.exec(ie))){let xe=(oe[2]||oe[1]).replace(/\s+/g," ");if(xe=B[xe.toLowerCase()],!xe){const Ct=oe[0].charAt(0);return{type:"text",raw:Ct,text:Ct}}return Fe(oe,xe,oe[0],this.lexer)}}emStrong(ie,B,oe=""){let xe=this.rules.inline.emStrong.lDelim.exec(ie);if(!xe||xe[3]&&oe.match(/[\p{L}\p{N}]/u))return;const Ct=xe[1]||xe[2]||"";if(!Ct||Ct&&(""===oe||this.rules.inline.punctuation.exec(oe))){const Dt=xe[0].length-1;let St,Vt,ln=Dt,hn=0;const mn="*"===xe[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(mn.lastIndex=0,B=B.slice(-1*ie.length+Dt);null!=(xe=mn.exec(B));){if(St=xe[1]||xe[2]||xe[3]||xe[4]||xe[5]||xe[6],!St)continue;if(Vt=St.length,xe[3]||xe[4]){ln+=Vt;continue}if((xe[5]||xe[6])&&Dt%3&&!((Dt+Vt)%3)){hn+=Vt;continue}if(ln-=Vt,ln>0)continue;Vt=Math.min(Vt,Vt+ln+hn);const yn=ie.slice(0,Dt+xe.index+(xe[0].length-St.length)+Vt);if(Math.min(Dt,Vt)%2){const Kn=yn.slice(1,-1);return{type:"em",raw:yn,text:Kn,tokens:this.lexer.inlineTokens(Kn)}}const xn=yn.slice(2,-2);return{type:"strong",raw:yn,text:xn,tokens:this.lexer.inlineTokens(xn)}}}}codespan(ie){const B=this.rules.inline.code.exec(ie);if(B){let oe=B[2].replace(/\n/g," ");const xe=/[^ ]/.test(oe),Ct=/^ /.test(oe)&&/ $/.test(oe);return xe&&Ct&&(oe=oe.substring(1,oe.length-1)),oe=be(oe,!0),{type:"codespan",raw:B[0],text:oe}}}br(ie){const B=this.rules.inline.br.exec(ie);if(B)return{type:"br",raw:B[0]}}del(ie){const B=this.rules.inline.del.exec(ie);if(B)return{type:"del",raw:B[0],text:B[2],tokens:this.lexer.inlineTokens(B[2])}}autolink(ie,B){const oe=this.rules.inline.autolink.exec(ie);if(oe){let xe,Ct;return"@"===oe[2]?(xe=be(this.options.mangle?B(oe[1]):oe[1]),Ct="mailto:"+xe):(xe=be(oe[1]),Ct=xe),{type:"link",raw:oe[0],text:xe,href:Ct,tokens:[{type:"text",raw:xe,text:xe}]}}}url(ie,B){let oe;if(oe=this.rules.inline.url.exec(ie)){let xe,Ct;if("@"===oe[2])xe=be(this.options.mangle?B(oe[0]):oe[0]),Ct="mailto:"+xe;else{let Dt;do{Dt=oe[0],oe[0]=this.rules.inline._backpedal.exec(oe[0])[0]}while(Dt!==oe[0]);xe=be(oe[0]),Ct="www."===oe[1]?"http://"+oe[0]:oe[0]}return{type:"link",raw:oe[0],text:xe,href:Ct,tokens:[{type:"text",raw:xe,text:xe}]}}}inlineText(ie,B){const oe=this.rules.inline.text.exec(ie);if(oe){let xe;return xe=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(oe[0]):be(oe[0]):oe[0]:be(this.options.smartypants?B(oe[0]):oe[0]),{type:"text",raw:oe[0],text:xe}}}}const it={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:We,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};it.def=U(it.def).replace("label",it._label).replace("title",it._title).getRegex(),it.bullet=/(?:[*+-]|\d{1,9}[.)])/,it.listItemStart=U(/^( *)(bull) */).replace("bull",it.bullet).getRegex(),it.list=U(it.list).replace(/bull/g,it.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+it.def.source+")").getRegex(),it._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",it._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,it.html=U(it.html,"i").replace("comment",it._comment).replace("tag",it._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),it.paragraph=U(it._paragraph).replace("hr",it.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it._tag).getRegex(),it.blockquote=U(it.blockquote).replace("paragraph",it.paragraph).getRegex(),it.normal=J({},it),it.gfm=J({},it.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),it.gfm.table=U(it.gfm.table).replace("hr",it.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it._tag).getRegex(),it.gfm.paragraph=U(it._paragraph).replace("hr",it.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",it.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",it._tag).getRegex(),it.pedantic=J({},it.normal,{html:U("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",it._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:We,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:U(it.normal._paragraph).replace("hr",it.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",it.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Le={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:We,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:We,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Et(Ke){return Ke.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function un(Ke){let B,oe,ie="";const xe=Ke.length;for(B=0;B<xe;B++)oe=Ke.charCodeAt(B),Math.random()>.5&&(oe="x"+oe.toString(16)),ie+="&#"+oe+";";return ie}Le._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Le.punctuation=U(Le.punctuation).replace(/punctuation/g,Le._punctuation).getRegex(),Le.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Le.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Le._comment=U(it._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Le.emStrong.lDelim=U(Le.emStrong.lDelim).replace(/punct/g,Le._punctuation).getRegex(),Le.emStrong.rDelimAst=U(Le.emStrong.rDelimAst,"g").replace(/punct/g,Le._punctuation).getRegex(),Le.emStrong.rDelimUnd=U(Le.emStrong.rDelimUnd,"g").replace(/punct/g,Le._punctuation).getRegex(),Le._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Le._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Le._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Le.autolink=U(Le.autolink).replace("scheme",Le._scheme).replace("email",Le._email).getRegex(),Le._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Le.tag=U(Le.tag).replace("comment",Le._comment).replace("attribute",Le._attribute).getRegex(),Le._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Le._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Le._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Le.link=U(Le.link).replace("label",Le._label).replace("href",Le._href).replace("title",Le._title).getRegex(),Le.reflink=U(Le.reflink).replace("label",Le._label).replace("ref",it._label).getRegex(),Le.nolink=U(Le.nolink).replace("ref",it._label).getRegex(),Le.reflinkSearch=U(Le.reflinkSearch,"g").replace("reflink",Le.reflink).replace("nolink",Le.nolink).getRegex(),Le.normal=J({},Le),Le.pedantic=J({},Le.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:U(/^!?\[(label)\]\((.*?)\)/).replace("label",Le._label).getRegex(),reflink:U(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Le._label).getRegex()}),Le.gfm=J({},Le.normal,{escape:U(Le.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Le.gfm.url=U(Le.gfm.url,"i").replace("email",Le.gfm._extended_email).getRegex(),Le.breaks=J({},Le.gfm,{br:U(Le.br).replace("{2,}","*").getRegex(),text:U(Le.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Cn{constructor(ie){this.tokens=[],this.tokens.links=Object.create(null),this.options=ie||pe,this.options.tokenizer=this.options.tokenizer||new R,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const B={block:it.normal,inline:Le.normal};this.options.pedantic?(B.block=it.pedantic,B.inline=Le.pedantic):this.options.gfm&&(B.block=it.gfm,B.inline=this.options.breaks?Le.breaks:Le.gfm),this.tokenizer.rules=B}static get rules(){return{block:it,inline:Le}}static lex(ie,B){return new Cn(B).lex(ie)}static lexInline(ie,B){return new Cn(B).inlineTokens(ie)}lex(ie){let B;for(ie=ie.replace(/\r\n|\r/g,"\n"),this.blockTokens(ie,this.tokens);B=this.inlineQueue.shift();)this.inlineTokens(B.src,B.tokens);return this.tokens}blockTokens(ie,B=[]){let oe,xe,Ct,Dt;for(ie=this.options.pedantic?ie.replace(/\t/g,"    ").replace(/^ +$/gm,""):ie.replace(/^( *)(\t+)/gm,(St,Vt,ln)=>Vt+"    ".repeat(ln.length));ie;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(St=>!!(oe=St.call({lexer:this},ie,B))&&(ie=ie.substring(oe.raw.length),B.push(oe),!0)))){if(oe=this.tokenizer.space(ie)){ie=ie.substring(oe.raw.length),1===oe.raw.length&&B.length>0?B[B.length-1].raw+="\n":B.push(oe);continue}if(oe=this.tokenizer.code(ie)){ie=ie.substring(oe.raw.length),xe=B[B.length-1],!xe||"paragraph"!==xe.type&&"text"!==xe.type?B.push(oe):(xe.raw+="\n"+oe.raw,xe.text+="\n"+oe.text,this.inlineQueue[this.inlineQueue.length-1].src=xe.text);continue}if(oe=this.tokenizer.fences(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.heading(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.hr(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.blockquote(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.list(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.html(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.def(ie)){ie=ie.substring(oe.raw.length),xe=B[B.length-1],!xe||"paragraph"!==xe.type&&"text"!==xe.type?this.tokens.links[oe.tag]||(this.tokens.links[oe.tag]={href:oe.href,title:oe.title}):(xe.raw+="\n"+oe.raw,xe.text+="\n"+oe.raw,this.inlineQueue[this.inlineQueue.length-1].src=xe.text);continue}if(oe=this.tokenizer.table(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.lheading(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(Ct=ie,this.options.extensions&&this.options.extensions.startBlock){let St=1/0;const Vt=ie.slice(1);let ln;this.options.extensions.startBlock.forEach(function(hn){ln=hn.call({lexer:this},Vt),"number"==typeof ln&&ln>=0&&(St=Math.min(St,ln))}),St<1/0&&St>=0&&(Ct=ie.substring(0,St+1))}if(this.state.top&&(oe=this.tokenizer.paragraph(Ct))){xe=B[B.length-1],Dt&&"paragraph"===xe.type?(xe.raw+="\n"+oe.raw,xe.text+="\n"+oe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=xe.text):B.push(oe),Dt=Ct.length!==ie.length,ie=ie.substring(oe.raw.length);continue}if(oe=this.tokenizer.text(ie)){ie=ie.substring(oe.raw.length),xe=B[B.length-1],xe&&"text"===xe.type?(xe.raw+="\n"+oe.raw,xe.text+="\n"+oe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=xe.text):B.push(oe);continue}if(ie){const St="Infinite loop on byte: "+ie.charCodeAt(0);if(this.options.silent){console.error(St);break}throw new Error(St)}}return this.state.top=!0,B}inline(ie,B=[]){return this.inlineQueue.push({src:ie,tokens:B}),B}inlineTokens(ie,B=[]){let oe,xe,Ct,St,Vt,ln,Dt=ie;if(this.tokens.links){const hn=Object.keys(this.tokens.links);if(hn.length>0)for(;null!=(St=this.tokenizer.rules.inline.reflinkSearch.exec(Dt));)hn.includes(St[0].slice(St[0].lastIndexOf("[")+1,-1))&&(Dt=Dt.slice(0,St.index)+"["+Me("a",St[0].length-2)+"]"+Dt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(St=this.tokenizer.rules.inline.blockSkip.exec(Dt));)Dt=Dt.slice(0,St.index)+"["+Me("a",St[0].length-2)+"]"+Dt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(St=this.tokenizer.rules.inline.escapedEmSt.exec(Dt));)Dt=Dt.slice(0,St.index+St[0].length-2)+"++"+Dt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;ie;)if(Vt||(ln=""),Vt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(hn=>!!(oe=hn.call({lexer:this},ie,B))&&(ie=ie.substring(oe.raw.length),B.push(oe),!0)))){if(oe=this.tokenizer.escape(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.tag(ie)){ie=ie.substring(oe.raw.length),xe=B[B.length-1],xe&&"text"===oe.type&&"text"===xe.type?(xe.raw+=oe.raw,xe.text+=oe.text):B.push(oe);continue}if(oe=this.tokenizer.link(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.reflink(ie,this.tokens.links)){ie=ie.substring(oe.raw.length),xe=B[B.length-1],xe&&"text"===oe.type&&"text"===xe.type?(xe.raw+=oe.raw,xe.text+=oe.text):B.push(oe);continue}if(oe=this.tokenizer.emStrong(ie,Dt,ln)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.codespan(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.br(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.del(ie)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(oe=this.tokenizer.autolink(ie,un)){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(!this.state.inLink&&(oe=this.tokenizer.url(ie,un))){ie=ie.substring(oe.raw.length),B.push(oe);continue}if(Ct=ie,this.options.extensions&&this.options.extensions.startInline){let hn=1/0;const mn=ie.slice(1);let yn;this.options.extensions.startInline.forEach(function(xn){yn=xn.call({lexer:this},mn),"number"==typeof yn&&yn>=0&&(hn=Math.min(hn,yn))}),hn<1/0&&hn>=0&&(Ct=ie.substring(0,hn+1))}if(oe=this.tokenizer.inlineText(Ct,Et)){ie=ie.substring(oe.raw.length),"_"!==oe.raw.slice(-1)&&(ln=oe.raw.slice(-1)),Vt=!0,xe=B[B.length-1],xe&&"text"===xe.type?(xe.raw+=oe.raw,xe.text+=oe.text):B.push(oe);continue}if(ie){const hn="Infinite loop on byte: "+ie.charCodeAt(0);if(this.options.silent){console.error(hn);break}throw new Error(hn)}}return B}}class Ot{constructor(ie){this.options=ie||pe}code(ie,B,oe){const xe=(B||"").match(/\S*/)[0];if(this.options.highlight){const Ct=this.options.highlight(ie,xe);null!=Ct&&Ct!==ie&&(oe=!0,ie=Ct)}return ie=ie.replace(/\n$/,"")+"\n",xe?'<pre><code class="'+this.options.langPrefix+be(xe)+'">'+(oe?ie:be(ie,!0))+"</code></pre>\n":"<pre><code>"+(oe?ie:be(ie,!0))+"</code></pre>\n"}blockquote(ie){return`<blockquote>\n${ie}</blockquote>\n`}html(ie){return ie}heading(ie,B,oe,xe){return this.options.headerIds?`<h${B} id="${this.options.headerPrefix+xe.slug(oe)}">${ie}</h${B}>\n`:`<h${B}>${ie}</h${B}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(ie,B,oe){const xe=B?"ol":"ul";return"<"+xe+(B&&1!==oe?' start="'+oe+'"':"")+">\n"+ie+"</"+xe+">\n"}listitem(ie){return`<li>${ie}</li>\n`}checkbox(ie){return"<input "+(ie?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(ie){return`<p>${ie}</p>\n`}table(ie,B){return B&&(B=`<tbody>${B}</tbody>`),"<table>\n<thead>\n"+ie+"</thead>\n"+B+"</table>\n"}tablerow(ie){return`<tr>\n${ie}</tr>\n`}tablecell(ie,B){const oe=B.header?"th":"td";return(B.align?`<${oe} align="${B.align}">`:`<${oe}>`)+ie+`</${oe}>\n`}strong(ie){return`<strong>${ie}</strong>`}em(ie){return`<em>${ie}</em>`}codespan(ie){return`<code>${ie}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(ie){return`<del>${ie}</del>`}link(ie,B,oe){if(null===(ie=Ne(this.options.sanitize,this.options.baseUrl,ie)))return oe;let xe='<a href="'+ie+'"';return B&&(xe+=' title="'+B+'"'),xe+=">"+oe+"</a>",xe}image(ie,B,oe){if(null===(ie=Ne(this.options.sanitize,this.options.baseUrl,ie)))return oe;let xe=`<img src="${ie}" alt="${oe}"`;return B&&(xe+=` title="${B}"`),xe+=this.options.xhtml?"/>":">",xe}text(ie){return ie}}class en{strong(ie){return ie}em(ie){return ie}codespan(ie){return ie}del(ie){return ie}html(ie){return ie}text(ie){return ie}link(ie,B,oe){return""+oe}image(ie,B,oe){return""+oe}br(){return""}}class at{constructor(){this.seen={}}serialize(ie){return ie.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(ie,B){let oe=ie,xe=0;if(this.seen.hasOwnProperty(oe)){xe=this.seen[ie];do{xe++,oe=ie+"-"+xe}while(this.seen.hasOwnProperty(oe))}return B||(this.seen[ie]=xe,this.seen[oe]=0),oe}slug(ie,B={}){const oe=this.serialize(ie);return this.getNextSafeSlug(oe,B.dryrun)}}class Pt{constructor(ie){this.options=ie||pe,this.options.renderer=this.options.renderer||new Ot,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new en,this.slugger=new at}static parse(ie,B){return new Pt(B).parse(ie)}static parseInline(ie,B){return new Pt(B).parseInline(ie)}parse(ie,B=!0){let xe,Ct,Dt,St,Vt,ln,hn,mn,yn,xn,Kn,Si,ki,bn,Ti,po,Ji,_i,di,oe="";const to=ie.length;for(xe=0;xe<to;xe++)if(xn=ie[xe],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[xn.type]&&(di=this.options.extensions.renderers[xn.type].call({parser:this},xn),!1!==di||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(xn.type)))oe+=di||"";else switch(xn.type){case"space":continue;case"hr":oe+=this.renderer.hr();continue;case"heading":oe+=this.renderer.heading(this.parseInline(xn.tokens),xn.depth,G(this.parseInline(xn.tokens,this.textRenderer)),this.slugger);continue;case"code":oe+=this.renderer.code(xn.text,xn.lang,xn.escaped);continue;case"table":for(mn="",hn="",St=xn.header.length,Ct=0;Ct<St;Ct++)hn+=this.renderer.tablecell(this.parseInline(xn.header[Ct].tokens),{header:!0,align:xn.align[Ct]});for(mn+=this.renderer.tablerow(hn),yn="",St=xn.rows.length,Ct=0;Ct<St;Ct++){for(ln=xn.rows[Ct],hn="",Vt=ln.length,Dt=0;Dt<Vt;Dt++)hn+=this.renderer.tablecell(this.parseInline(ln[Dt].tokens),{header:!1,align:xn.align[Dt]});yn+=this.renderer.tablerow(hn)}oe+=this.renderer.table(mn,yn);continue;case"blockquote":yn=this.parse(xn.tokens),oe+=this.renderer.blockquote(yn);continue;case"list":for(Kn=xn.ordered,Si=xn.start,ki=xn.loose,St=xn.items.length,yn="",Ct=0;Ct<St;Ct++)Ti=xn.items[Ct],po=Ti.checked,Ji=Ti.task,bn="",Ti.task&&(_i=this.renderer.checkbox(po),ki?Ti.tokens.length>0&&"paragraph"===Ti.tokens[0].type?(Ti.tokens[0].text=_i+" "+Ti.tokens[0].text,Ti.tokens[0].tokens&&Ti.tokens[0].tokens.length>0&&"text"===Ti.tokens[0].tokens[0].type&&(Ti.tokens[0].tokens[0].text=_i+" "+Ti.tokens[0].tokens[0].text)):Ti.tokens.unshift({type:"text",text:_i}):bn+=_i),bn+=this.parse(Ti.tokens,ki),yn+=this.renderer.listitem(bn,Ji,po);oe+=this.renderer.list(yn,Kn,Si);continue;case"html":oe+=this.renderer.html(xn.text);continue;case"paragraph":oe+=this.renderer.paragraph(this.parseInline(xn.tokens));continue;case"text":for(yn=xn.tokens?this.parseInline(xn.tokens):xn.text;xe+1<to&&"text"===ie[xe+1].type;)xn=ie[++xe],yn+="\n"+(xn.tokens?this.parseInline(xn.tokens):xn.text);oe+=B?this.renderer.paragraph(yn):yn;continue;default:{const xi='Token with "'+xn.type+'" type was not found.';if(this.options.silent)return void console.error(xi);throw new Error(xi)}}return oe}parseInline(ie,B){B=B||this.renderer;let xe,Ct,Dt,oe="";const St=ie.length;for(xe=0;xe<St;xe++)if(Ct=ie[xe],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ct.type]&&(Dt=this.options.extensions.renderers[Ct.type].call({parser:this},Ct),!1!==Dt||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ct.type)))oe+=Dt||"";else switch(Ct.type){case"escape":case"text":oe+=B.text(Ct.text);break;case"html":oe+=B.html(Ct.text);break;case"link":oe+=B.link(Ct.href,Ct.title,this.parseInline(Ct.tokens,B));break;case"image":oe+=B.image(Ct.href,Ct.title,Ct.text);break;case"strong":oe+=B.strong(this.parseInline(Ct.tokens,B));break;case"em":oe+=B.em(this.parseInline(Ct.tokens,B));break;case"codespan":oe+=B.codespan(Ct.text);break;case"br":oe+=B.br();break;case"del":oe+=B.del(this.parseInline(Ct.tokens,B));break;default:{const Vt='Token with "'+Ct.type+'" type was not found.';if(this.options.silent)return void console.error(Vt);throw new Error(Vt)}}return oe}}function Bt(Ke,ie,B){if(null==Ke)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Ke)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ke)+", string expected");if("function"==typeof ie&&(B=ie,ie=null),Ve(ie=J({},Bt.defaults,ie||{})),B){const xe=ie.highlight;let Ct;try{Ct=Cn.lex(Ke,ie)}catch(Vt){return B(Vt)}const Dt=function(Vt){let ln;if(!Vt)try{ie.walkTokens&&Bt.walkTokens(Ct,ie.walkTokens),ln=Pt.parse(Ct,ie)}catch(hn){Vt=hn}return ie.highlight=xe,Vt?B(Vt):B(null,ln)};if(!xe||xe.length<3||(delete ie.highlight,!Ct.length))return Dt();let St=0;return Bt.walkTokens(Ct,function(Vt){"code"===Vt.type&&(St++,setTimeout(()=>{xe(Vt.text,Vt.lang,function(ln,hn){if(ln)return Dt(ln);null!=hn&&hn!==Vt.text&&(Vt.text=hn,Vt.escaped=!0),St--,0===St&&Dt()})},0))}),void(0===St&&Dt())}function oe(xe){if(xe.message+="\nPlease report this to https://github.com/markedjs/marked.",ie.silent)return"<p>An error occurred:</p><pre>"+be(xe.message+"",!0)+"</pre>";throw xe}try{const xe=Cn.lex(Ke,ie);if(ie.walkTokens){if(ie.async)return Promise.all(Bt.walkTokens(xe,ie.walkTokens)).then(()=>Pt.parse(xe,ie)).catch(oe);Bt.walkTokens(xe,ie.walkTokens)}return Pt.parse(xe,ie)}catch(xe){oe(xe)}}Bt.options=Bt.setOptions=function(Ke){return J(Bt.defaults,Ke),function ke(Ke){pe=Ke}(Bt.defaults),Bt},Bt.getDefaults=function ge(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Bt.defaults=pe,Bt.use=function(...Ke){const ie=Bt.defaults.extensions||{renderers:{},childTokens:{}};Ke.forEach(B=>{const oe=J({},B);if(oe.async=Bt.defaults.async||oe.async,B.extensions&&(B.extensions.forEach(xe=>{if(!xe.name)throw new Error("extension name required");if(xe.renderer){const Ct=ie.renderers[xe.name];ie.renderers[xe.name]=Ct?function(...Dt){let St=xe.renderer.apply(this,Dt);return!1===St&&(St=Ct.apply(this,Dt)),St}:xe.renderer}if(xe.tokenizer){if(!xe.level||"block"!==xe.level&&"inline"!==xe.level)throw new Error("extension level must be 'block' or 'inline'");ie[xe.level]?ie[xe.level].unshift(xe.tokenizer):ie[xe.level]=[xe.tokenizer],xe.start&&("block"===xe.level?ie.startBlock?ie.startBlock.push(xe.start):ie.startBlock=[xe.start]:"inline"===xe.level&&(ie.startInline?ie.startInline.push(xe.start):ie.startInline=[xe.start]))}xe.childTokens&&(ie.childTokens[xe.name]=xe.childTokens)}),oe.extensions=ie),B.renderer){const xe=Bt.defaults.renderer||new Ot;for(const Ct in B.renderer){const Dt=xe[Ct];xe[Ct]=(...St)=>{let Vt=B.renderer[Ct].apply(xe,St);return!1===Vt&&(Vt=Dt.apply(xe,St)),Vt}}oe.renderer=xe}if(B.tokenizer){const xe=Bt.defaults.tokenizer||new R;for(const Ct in B.tokenizer){const Dt=xe[Ct];xe[Ct]=(...St)=>{let Vt=B.tokenizer[Ct].apply(xe,St);return!1===Vt&&(Vt=Dt.apply(xe,St)),Vt}}oe.tokenizer=xe}if(B.walkTokens){const xe=Bt.defaults.walkTokens;oe.walkTokens=function(Ct){let Dt=[];return Dt.push(B.walkTokens.call(this,Ct)),xe&&(Dt=Dt.concat(xe.call(this,Ct))),Dt}}Bt.setOptions(oe)})},Bt.walkTokens=function(Ke,ie){let B=[];for(const oe of Ke)switch(B=B.concat(ie.call(Bt,oe)),oe.type){case"table":for(const xe of oe.header)B=B.concat(Bt.walkTokens(xe.tokens,ie));for(const xe of oe.rows)for(const Ct of xe)B=B.concat(Bt.walkTokens(Ct.tokens,ie));break;case"list":B=B.concat(Bt.walkTokens(oe.items,ie));break;default:Bt.defaults.extensions&&Bt.defaults.extensions.childTokens&&Bt.defaults.extensions.childTokens[oe.type]?Bt.defaults.extensions.childTokens[oe.type].forEach(function(xe){B=B.concat(Bt.walkTokens(oe[xe],ie))}):oe.tokens&&(B=B.concat(Bt.walkTokens(oe.tokens,ie)))}return B},Bt.parseInline=function(Ke,ie){if(null==Ke)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Ke)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ke)+", string expected");Ve(ie=J({},Bt.defaults,ie||{}));try{const B=Cn.lexInline(Ke,ie);return ie.walkTokens&&Bt.walkTokens(B,ie.walkTokens),Pt.parseInline(B,ie)}catch(B){if(B.message+="\nPlease report this to https://github.com/markedjs/marked.",ie.silent)return"<p>An error occurred:</p><pre>"+be(B.message+"",!0)+"</pre>";throw B}},Bt.Parser=Pt,Bt.parser=Pt.parse,Bt.Renderer=Ot,Bt.TextRenderer=en,Bt.Lexer=Cn,Bt.lexer=Cn.lex,Bt.Tokenizer=R,Bt.Slugger=at,Bt.parse=Bt;var M=C(520),_e=C(2313);const Ie=["*"];let Qt=(()=>{class Ke{constructor(){this._buttonClick$=new s.x,this.copied$=this._buttonClick$.pipe((0,I.w)(()=>(0,f.T)((0,V.of)(!0),(0,F.H)(3e3).pipe((0,L.h)(!1)))),(0,se.x)(),(0,q.d)(1)),this.copiedText$=this.copied$.pipe((0,z.O)(!1),(0,he.U)(B=>B?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return Ke.\u0275fac=function(B){return new(B||Ke)},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(B,oe){1&B&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return oe.onCopyToClipboardClick()}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"async"),e.qZA()),2&B&&(e.ekj("copied",e.lcZ(1,3,oe.copied$)),e.xp6(2),e.Oqu(e.lcZ(3,5,oe.copiedText$)))},dependencies:[ue.Ov],encapsulation:2,changeDetection:0}),Ke})();class nn{}var ze=(()=>{return(Ke=ze||(ze={})).CommandLine="command-line",Ke.LineHighlight="line-highlight",Ke.LineNumbers="line-numbers",ze;var Ke})();class dt{}const tt=new e.OlP("SECURITY_CONTEXT");let qt=(()=>{class Ke{constructor(B,oe,xe,Ct,Dt,St){this.platform=B,this.securityContext=oe,this.http=xe,this.clipboardOptions=Ct,this.sanitizer=St,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new Ot},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new s.x,this.reload$=this._reload$.asObservable(),this.options=Dt}get options(){return this._options}set options(B){this._options=Object.assign(Object.assign({},this.DEFAULT_MARKED_OPTIONS),B)}get renderer(){return this.options.renderer}set renderer(B){this.options.renderer=B}parse(B,oe=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:xe,inline:Ct,emoji:Dt,mermaid:St,markedOptions:Vt=this.options}=oe;St&&(this.renderer=this.extendRenderer(Vt.renderer||new Ot));const ln=this.trimIndentation(B),hn=xe?this.decodeHtml(ln):ln,mn=Dt?this.parseEmoji(hn):hn,yn=this.parseMarked(mn,Vt,Ct);return this.sanitizer.sanitize(this.securityContext,yn)||""}render(B,oe=this.DEFAULT_RENDER_OPTIONS,xe){const{clipboard:Ct,clipboardOptions:Dt,katex:St,katexOptions:Vt,mermaid:ln,mermaidOptions:hn}=oe;Ct&&this.renderClipboard(B,xe,Object.assign(Object.assign(Object.assign({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),Dt)),St&&this.renderKatex(B,Object.assign(Object.assign({},this.DEFAULT_KATEX_OPTIONS),Vt)),ln&&this.renderMermaid(B,Object.assign(Object.assign({},this.DEFAULT_MERMAID_OPTIONS),hn)),this.highlight(B)}reload(){this._reload$.next()}getSource(B){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(B,{responseType:"text"}).pipe((0,he.U)(oe=>this.handleExtension(B,oe)))}highlight(B){if(!(0,ue.NF)(this.platform)||"undefined"==typeof Prism||void 0===Prism.highlightAllUnder)return;B||(B=document);const oe=B.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(oe,xe=>xe.classList.add("language-none")),Prism.highlightAllUnder(B)}decodeHtml(B){if(!(0,ue.NF)(this.platform))return B;const oe=document.createElement("textarea");return oe.innerHTML=B,oe.value}extendRenderer(B){const oe=B;if(!0===oe.\u0275NgxMarkdownRendererExtended)return B;const xe=B.code;return B.code=function(Ct,Dt,St){return"mermaid"===Dt?`<div class="mermaid">${Ct}</div>`:xe.call(this,Ct,Dt,St)},oe.\u0275NgxMarkdownRendererExtended=!0,B}handleExtension(B,oe){const xe=B.lastIndexOf("://"),Ct=xe>-1?B.substring(xe+4):B,Dt=Ct.lastIndexOf("/"),St=Dt>-1?Ct.substring(Dt+1).split("?")[0]:"",Vt=St.lastIndexOf("."),ln=Vt>-1?St.substring(Vt+1):"";return ln&&"md"!==ln?"```"+ln+"\n"+oe+"\n```":oe}parseMarked(B,oe,xe=!1){return(0,ue.NF)(this.platform)?xe?Bt.parseInline(B,oe):Bt.parse(B,oe):B}parseEmoji(B){if(!(0,ue.NF)(this.platform))return B;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(B)}renderKatex(B,oe){if((0,ue.NF)(this.platform)){if("undefined"==typeof katex||"undefined"==typeof renderMathInElement)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(B,oe)}}renderClipboard(B,oe,xe){if(!(0,ue.NF)(this.platform))return;if("undefined"==typeof ClipboardJS)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!oe)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:Ct,buttonTemplate:Dt}=xe,St=B.querySelectorAll("pre");for(let Vt=0;Vt<St.length;Vt++){const ln=St.item(Vt),hn=document.createElement("div");hn.style.position="relative",ln.parentNode.insertBefore(hn,ln),hn.appendChild(ln);const mn=document.createElement("div");let yn,xn;mn.style.position="absolute",mn.style.top=".5em",mn.style.right=".5em",mn.style.opacity="0",mn.style.transition="opacity 250ms ease-out",hn.insertAdjacentElement("beforeend",mn),ln.onmouseover=()=>mn.style.opacity="1",ln.onmouseout=()=>mn.style.opacity="0",yn=Ct?oe.createComponent(Ct).hostView:Dt?oe.createEmbeddedView(Dt):oe.createComponent(Qt).hostView,yn.rootNodes.forEach(Kn=>{Kn.onmouseover=()=>mn.style.opacity="1",mn.appendChild(Kn),xn=new ClipboardJS(Kn,{text:()=>ln.innerText})}),yn.onDestroy(()=>xn.destroy())}}renderMermaid(B,oe=this.DEFAULT_MERMAID_OPTIONS){if(!(0,ue.NF)(this.platform))return;if("undefined"==typeof mermaid||void 0===mermaid.init)throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const xe=B.querySelectorAll(".mermaid");0!==xe.length&&(mermaid.initialize(oe),mermaid.init(xe))}trimIndentation(B){if(!B)return"";let oe;return B.split("\n").map(xe=>{let Ct=oe;return xe.length>0&&(Ct=isNaN(Ct)?xe.search(/\S|$/):Math.min(xe.search(/\S|$/),Ct)),isNaN(oe)&&(oe=Ct),Ct?xe.substring(Ct):xe}).join("\n")}}return Ke.\u0275fac=function(B){return new(B||Ke)(e.LFG(e.Lbi),e.LFG(tt),e.LFG(M.eN,8),e.LFG(nn,8),e.LFG(dt,8),e.LFG(_e.H7))},Ke.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),Kt=(()=>{class Ke{constructor(B,oe,xe){this.element=B,this.markdownService=oe,this.viewContainerRef=xe,this.error=new e.vpe,this.load=new e.vpe,this.ready=new e.vpe,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new s.x}get inline(){return this._inline}set inline(B){this._inline=this.coerceBooleanProperty(B)}get clipboard(){return this._clipboard}set clipboard(B){this._clipboard=this.coerceBooleanProperty(B)}get emoji(){return this._emoji}set emoji(B){this._emoji=this.coerceBooleanProperty(B)}get katex(){return this._katex}set katex(B){this._katex=this.coerceBooleanProperty(B)}get mermaid(){return this._mermaid}set mermaid(B){this._mermaid=this.coerceBooleanProperty(B)}get lineHighlight(){return this._lineHighlight}set lineHighlight(B){this._lineHighlight=this.coerceBooleanProperty(B)}get lineNumbers(){return this._lineNumbers}set lineNumbers(B){this._lineNumbers=this.coerceBooleanProperty(B)}get commandLine(){return this._commandLine}set commandLine(B){this._commandLine=this.coerceBooleanProperty(B)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,ne.R)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(B,oe=!1){const Ct={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},Dt=this.markdownService.parse(B,{decodeHtml:oe,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=Dt,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,Ct,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(B){return null!=B&&"false"!=`${String(B)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:B=>{this.render(B),this.load.emit(B)},error:B=>this.error.emit(B)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,ze.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,ze.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(B,oe){const xe=B.querySelectorAll("pre");for(let Ct=0;Ct<xe.length;Ct++){const Dt=oe instanceof Array?oe:[oe];xe.item(Ct).classList.add(...Dt)}}setPluginOptions(B,oe){const xe=B.querySelectorAll("pre");for(let Ct=0;Ct<xe.length;Ct++)Object.keys(oe).forEach(Dt=>{const St=oe[Dt];if(St){const Vt=this.toLispCase(Dt);xe.item(Ct).setAttribute(Vt,St.toString())}})}toLispCase(B){const oe=B.match(/([A-Z])/g);if(!oe)return B;let xe=B.toString();for(let Ct=0,Dt=oe.length;Ct<Dt;Ct++)xe=xe.replace(new RegExp(oe[Ct]),"-"+oe[Ct].toLowerCase());return"-"===xe.slice(0,1)&&(xe=xe.slice(1)),xe}}return Ke.\u0275fac=function(B){return new(B||Ke)(e.Y36(e.SBq),e.Y36(qt),e.Y36(e.s_b))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[e.TTD],ngContentSelectors:Ie,decls:1,vars:0,template:function(B,oe){1&B&&(e.F$t(),e.Hsn(0))},encapsulation:2}),Ke})(),Ai=(()=>{class Ke{static forRoot(B){return{ngModule:Ke,providers:[qt,B&&B.loader||[],B&&B.clipboardOptions||[],B&&B.markedOptions||[],{provide:tt,useValue:B&&null!=B.sanitize?B.sanitize:e.q3G.HTML}]}}static forChild(){return{ngModule:Ke}}}return Ke.\u0275fac=function(B){return new(B||Ke)},Ke.\u0275mod=e.oAB({type:Ke}),Ke.\u0275inj=e.cJS({imports:[ue.ez]}),Ke})();var Ki;!function(Ke){let ie;var xe;let B,oe;(xe=ie=Ke.SecurityLevel||(Ke.SecurityLevel={})).Strict="strict",xe.Loose="loose",xe.Antiscript="antiscript",xe.Sandbox="sandbox",function(xe){xe.Base="base",xe.Forest="forest",xe.Dark="dark",xe.Default="default",xe.Neutral="neutral"}(B=Ke.Theme||(Ke.Theme={})),function(xe){xe[xe.Debug=1]="Debug",xe[xe.Info=2]="Info",xe[xe.Warn=3]="Warn",xe[xe.Error=4]="Error",xe[xe.Fatal=5]="Fatal"}(oe=Ke.LogLevel||(Ke.LogLevel={}))}(Ki||(Ki={}))},8913:(Lt,qe,C)=>{C.d(qe,{g6:()=>He,qH:()=>Re});var e=C(5e3);const s={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},f=new e.OlP("config",{providedIn:"root",factory:()=>({modules:s})});var F=C(9808),I=C(2313),L=C(9770),se=C(9751),q=C(576);function z(Pe){return!!Pe&&(Pe instanceof se.y||(0,q.m)(Pe.lift)&&(0,q.m)(Pe.subscribe))}var he=C(3905),ne=C(727),De=C(4968),ue=C(4782),ge=C(5577),pe=C(8372),ke=C(2382),Q=C(655);function Oe(Pe,We){1&Pe&&e._UZ(0,"div",2)}function le(Pe,We){1&Pe&&e._UZ(0,"pre",2)}function P(Pe,We){if(1&Pe&&(e.ynx(0),e.YNc(1,Oe,1,0,"div",1),e.YNc(2,le,1,0,"pre",1),e.BQk()),2&Pe){const J=e.oxw();e.xp6(1),e.Q6J("ngIf",!J.preserve),e.xp6(1),e.Q6J("ngIf",J.preserve)}}function N(Pe,We){1&Pe&&e._UZ(0,"div",2)}function we(Pe,We){1&Pe&&e._UZ(0,"pre",2)}function be(Pe,We){if(1&Pe&&(e.ynx(0),e.YNc(1,N,1,0,"div",1),e.YNc(2,we,1,0,"pre",1),e.BQk()),2&Pe){const J=e.oxw();e.xp6(1),e.Q6J("ngIf",!J.preserve),e.xp6(1),e.Q6J("ngIf",J.preserve)}}const ye=[[["","quill-editor-toolbar",""]]],G=["[quill-editor-toolbar]"],$=(Pe,We)=>Pe||We||"html";let Ae=(()=>{class Pe{constructor(J,de){this.config=de,this.quill$=(0,L.P)(()=>(0,Q.mG)(this,void 0,void 0,function*(){var Qe;if(!this.Quill){const re=this.document.addEventListener;this.document.addEventListener=this.document.__zone_symbol__addEventListener||this.document.addEventListener;const Ve=yield C.e(971).then(C.t.bind(C,9971,19));this.document.addEventListener=re,this.Quill=Ve.default?Ve.default:Ve}return null===(Qe=this.config.customOptions)||void 0===Qe||Qe.forEach(re=>{const Ve=this.Quill.import(re.import);Ve.whitelist=re.whitelist,this.Quill.register(Ve,!0,this.config.suppressGlobalRegisterWarning)}),yield this.registerCustomModules(this.Quill,this.config.customModules,this.config.suppressGlobalRegisterWarning)})).pipe((0,ue.d)({bufferSize:1,refCount:!0})),this.document=J.get(F.K0),this.config||(this.config={modules:s})}getQuill(){return this.quill$}registerCustomModules(J,de,Qe){return(0,Q.mG)(this,void 0,void 0,function*(){if(Array.isArray(de))for(let{implementation:re,path:Ve}of de)z(re)&&(re=yield(0,he.z)(re)),J.register(Ve,re,Qe);return J})}}return Pe.\u0275fac=function(J){return new(J||Pe)(e.LFG(e.zs3),e.LFG(f,8))},Pe.\u0275prov=e.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),Ne=(()=>{class Pe{constructor(J,de,Qe,re,Ve,Me,Fe,$e){this.elementRef=de,this.cd=Qe,this.domSanitizer=re,this.platformId=Ve,this.renderer=Me,this.zone=Fe,this.service=$e,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(R,it)=>{let Le=it.querySelector(".ql-editor").innerHTML;("<p><br></p>"===Le||"<div><br></div>"===Le)&&(Le=this.defaultEmptyValue);let Et=Le;const un=$(this.format,this.service.config.format);if("text"===un)Et=R.getText();else if("object"===un)Et=R.getContents();else if("json"===un)try{Et=JSON.stringify(R.getContents())}catch(Cn){Et=R.getText()}return Et},this.valueSetter=(R,it)=>{const Le=$(this.format,this.service.config.format);if("html"===Le)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(it=this.domSanitizer.sanitize(e.q3G.HTML,it)),R.clipboard.convert(it);if("json"===Le)try{return JSON.parse(it)}catch(Et){return[{insert:it}]}return it},this.selectionChangeHandler=(R,it,Le)=>{const Et=!R&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!Et||this.zone.run(()=>{null===R?this.onBlur.emit({editor:this.quillEditor,source:Le}):null===it&&this.onFocus.emit({editor:this.quillEditor,source:Le}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:it,range:R,source:Le}),Et&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(R,it,Le)=>{const Et=this.quillEditor.getText(),un=this.quillEditor.getContents();let Cn=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===Cn||"<div><br></div>"===Cn)&&(Cn=this.defaultEmptyValue);const Ot=this.trackChanges||this.service.config.trackChanges,en=("user"===Le||Ot&&"all"===Ot)&&!!this.onModelChange;!this.onContentChanged.observed&&!en||this.zone.run(()=>{en&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:un,delta:R,editor:this.quillEditor,html:Cn,oldDelta:it,source:Le,text:Et}),this.cd.markForCheck()})},this.editorChangeHandler=(R,it,Le,Et)=>{if(this.onEditorChanged.observed)if("text-change"===R){const un=this.quillEditor.getText(),Cn=this.quillEditor.getContents();let Ot=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===Ot||"<div><br></div>"===Ot)&&(Ot=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:Cn,delta:it,editor:this.quillEditor,event:R,html:Ot,oldDelta:Le,source:Et,text:un}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:R,oldRange:Le,range:it,source:Et}),this.cd.markForCheck()})},this.document=J.get(F.K0)}static normalizeClassNames(J){return J.trim().split(" ").reduce((Qe,re)=>{const Ve=re.trim();return Ve&&Qe.push(Ve),Qe},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,F.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,ge.z)(J=>{var de;const Qe=[this.service.registerCustomModules(J,this.customModules)],re=null!==(de=this.beforeRender)&&void 0!==de?de:this.service.config.beforeRender;return re&&Qe.push(re()),Promise.all(Qe).then(()=>J)})).subscribe(J=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const de=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),Qe=Object.assign({},this.modules||this.service.config.modules);de?Qe.toolbar=de:void 0===Qe.toolbar&&(Qe.toolbar=s.toolbar);let re=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===re&&(re="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(Le=>{this.renderer.setStyle(this.editorElem,Le,this.styles[Le])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(Le=>{const Et=J.import(Le.import);Et.whitelist=Le.whitelist,J.register(Et,!0)});let Ve=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;Ve||(Ve=this.service.config.bounds?this.service.config.bounds:this.document.body);let Me=this.debug;!Me&&!1!==Me&&this.service.config.debug&&(Me=this.service.config.debug);let Fe=this.readOnly;!Fe&&!1!==this.readOnly&&(Fe=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let $e=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&($e=this.service.config.defaultEmptyValue);let R=this.scrollingContainer;!R&&null!==this.scrollingContainer&&(R=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let it=this.formats;if(!it&&void 0===it&&(it=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var Le,Et,un;if(this.quillEditor=new J(this.editorElem,{bounds:Ve,debug:Me,formats:it,modules:Qe,placeholder:re,readOnly:Fe,defaultEmptyValue:$e,scrollingContainer:R,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const Cn=null===(Et=null===(Le=this.quillEditor)||void 0===Le?void 0:Le.theme)||void 0===Et?void 0:Et.tooltip,Ot=null===(un=null==Cn?void 0:Cn.root)||void 0===un?void 0:un.querySelector("input[data-link]");null!=Ot&&Ot.dataset&&(Ot.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===$(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const Et=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(Et,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var J;this.dispose(),null===(J=this.quillSubscription)||void 0===J||J.unsubscribe(),this.quillSubscription=null}ngOnChanges(J){if(this.quillEditor){if(J.readOnly&&this.quillEditor.enable(!J.readOnly.currentValue),J.placeholder&&(this.quillEditor.root.dataset.placeholder=J.placeholder.currentValue),J.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=J.defaultEmptyValue.currentValue),J.styles){const de=J.styles.currentValue,Qe=J.styles.previousValue;Qe&&Object.keys(Qe).forEach(re=>{this.renderer.removeStyle(this.editorElem,re)}),de&&Object.keys(de).forEach(re=>{this.renderer.setStyle(this.editorElem,re,this.styles[re])})}if(J.classes){const de=J.classes.currentValue,Qe=J.classes.previousValue;Qe&&this.removeClasses(Qe),de&&this.addClasses(de)}J.debounceTime&&this.addQuillEventListeners()}}addClasses(J){Pe.normalizeClassNames(J).forEach(de=>{this.renderer.addClass(this.editorElem,de)})}removeClasses(J){Pe.normalizeClassNames(J).forEach(de=>{this.renderer.removeClass(this.editorElem,de)})}writeValue(J){if(this.filterNull&&null===J||(this.content=J,!this.quillEditor))return;const de=$(this.format,this.service.config.format),Qe=this.valueSetter(this.quillEditor,J);if(this.compareValues){const re=this.quillEditor.getContents();if(JSON.stringify(re)===JSON.stringify(Qe))return}J?"text"===de?this.quillEditor.setText(J):this.quillEditor.setContents(Qe):this.quillEditor.setText("")}setDisabledState(J=this.disabled){this.disabled=J,this.quillEditor&&(J?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(J){this.onModelChange=J}registerOnTouched(J){this.onModelTouched=J}registerOnValidatorChange(J){this.onValidatorChanged=J}validate(){if(!this.quillEditor)return null;const J={};let de=!0;const Qe=this.quillEditor.getText(),re=this.trimOnValidation?Qe.trim().length:1===Qe.length&&0===Qe.trim().length?0:Qe.length-1,Ve=this.quillEditor.getContents().ops,Me=Ve&&1===Ve.length&&["\n",""].includes(Ve[0].insert);return this.minLength&&re&&re<this.minLength&&(J.minLengthError={given:re,minLength:this.minLength},de=!1),this.maxLength&&re>this.maxLength&&(J.maxLengthError={given:re,maxLength:this.maxLength},de=!1),this.required&&!re&&Me&&(J.requiredError={empty:!0},de=!1),de?null:J}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new ne.w0,this.subscription.add((0,De.R)(this.quillEditor,"selection-change").subscribe(([Qe,re,Ve])=>{this.selectionChangeHandler(Qe,re,Ve)}));let J=(0,De.R)(this.quillEditor,"text-change"),de=(0,De.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(J=J.pipe((0,pe.b)(this.debounceTime)),de=de.pipe((0,pe.b)(this.debounceTime))),this.subscription.add(J.subscribe(([Qe,re,Ve])=>{this.textChangeHandler(Qe,re,Ve)})),this.subscription.add(de.subscribe(([Qe,re,Ve,Me])=>{this.editorChangeHandler(Qe,re,Ve,Me)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return Pe.\u0275fac=function(J){return new(J||Pe)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(I.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Ae))},Pe.\u0275dir=e.lG2({type:Pe,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),Pe})(),He=(()=>{class Pe extends Ne{constructor(J,de,Qe,re,Ve,Me,Fe,$e){super(J,de,Qe,re,Ve,Me,Fe,$e)}}return Pe.\u0275fac=function(J){return new(J||Pe)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(I.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Ae))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:ke.JU,useExisting:(0,e.Gpc)(()=>Pe)},{multi:!0,provide:ke.Cf,useExisting:(0,e.Gpc)(()=>Pe)}]),e.qOj,e.jDz],ngContentSelectors:G,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(J,de){1&J&&(e.F$t(ye),e.YNc(0,P,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,be,3,2,"ng-container",0)),2&J&&(e.Q6J("ngIf","top"!==de.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===de.toolbarPosition))},dependencies:[F.ez,F.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),Pe})(),Re=(()=>{class Pe{constructor(J,de){this.sanitizer=J,this.service=de,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(J){if(J.theme?this.themeClass=`ql-${J.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),J.content){const de=J.content.currentValue,Qe=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=Qe?de:this.sanitizer.bypassSecurityTrustHtml(de)}}}return Pe.\u0275fac=function(J){return new(J||Pe)(e.Y36(I.H7),e.Y36(Ae))},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(J,de){1&J&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&J&&(e.Q6J("ngClass",de.themeClass),e.xp6(1),e.Q6J("innerHTML",de.innerHTML,e.oJD))},dependencies:[F.ez,F.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),Pe})()},9783:(Lt,qe,C)=>{C.d(qe,{$_:()=>ke,F0:()=>De,Lk:()=>se,Y:()=>P,YP:()=>L,a6:()=>q,b4:()=>ge,ez:()=>ne,h4:()=>pe,iZ:()=>he,jx:()=>Q,m8:()=>Oe,pg:()=>z,wB:()=>I,ws:()=>le});var e=C(5e3),s=C(7579),f=C(5921),V=C(9808);const F=["*"];var I=(()=>{return(N=I||(I={}))[N.ACCEPT=0]="ACCEPT",N[N.REJECT=1]="REJECT",N[N.CANCEL=2]="CANCEL",I;var N})();let L=(()=>{class N{constructor(){this.requireConfirmationSource=new s.x,this.acceptConfirmationSource=new s.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(be){return this.requireConfirmationSource.next(be),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return N.\u0275fac=function(be){return new(be||N)},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac}),N})(),se=(()=>{class N{constructor(){this.activeItemKeyChange=new s.x,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(be){this.activeItemKey=be,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return N.\u0275fac=function(be){return new(be||N)},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac}),N})(),q=(()=>{class N{}return N.STARTS_WITH="startsWith",N.CONTAINS="contains",N.NOT_CONTAINS="notContains",N.ENDS_WITH="endsWith",N.EQUALS="equals",N.NOT_EQUALS="notEquals",N.IN="in",N.LESS_THAN="lt",N.LESS_THAN_OR_EQUAL_TO="lte",N.GREATER_THAN="gt",N.GREATER_THAN_OR_EQUAL_TO="gte",N.BETWEEN="between",N.IS="is",N.IS_NOT="isNot",N.BEFORE="before",N.AFTER="after",N.DATE_IS="dateIs",N.DATE_IS_NOT="dateIsNot",N.DATE_BEFORE="dateBefore",N.DATE_AFTER="dateAfter",N})(),z=(()=>{class N{}return N.AND="and",N.OR="or",N})(),he=(()=>{class N{constructor(){this.filters={startsWith:(be,ye,G)=>{if(null==ye||""===ye.trim())return!0;if(null==be)return!1;let E=f.gb.removeAccents(ye.toString()).toLocaleLowerCase(G);return f.gb.removeAccents(be.toString()).toLocaleLowerCase(G).slice(0,E.length)===E},contains:(be,ye,G)=>{if(null==ye||"string"==typeof ye&&""===ye.trim())return!0;if(null==be)return!1;let E=f.gb.removeAccents(ye.toString()).toLocaleLowerCase(G);return-1!==f.gb.removeAccents(be.toString()).toLocaleLowerCase(G).indexOf(E)},notContains:(be,ye,G)=>{if(null==ye||"string"==typeof ye&&""===ye.trim())return!0;if(null==be)return!1;let E=f.gb.removeAccents(ye.toString()).toLocaleLowerCase(G);return-1===f.gb.removeAccents(be.toString()).toLocaleLowerCase(G).indexOf(E)},endsWith:(be,ye,G)=>{if(null==ye||""===ye.trim())return!0;if(null==be)return!1;let E=f.gb.removeAccents(ye.toString()).toLocaleLowerCase(G),U=f.gb.removeAccents(be.toString()).toLocaleLowerCase(G);return-1!==U.indexOf(E,U.length-E.length)},equals:(be,ye,G)=>null==ye||"string"==typeof ye&&""===ye.trim()||null!=be&&(be.getTime&&ye.getTime?be.getTime()===ye.getTime():f.gb.removeAccents(be.toString()).toLocaleLowerCase(G)==f.gb.removeAccents(ye.toString()).toLocaleLowerCase(G)),notEquals:(be,ye,G)=>!(null==ye||"string"==typeof ye&&""===ye.trim()||null!=be&&(be.getTime&&ye.getTime?be.getTime()===ye.getTime():f.gb.removeAccents(be.toString()).toLocaleLowerCase(G)==f.gb.removeAccents(ye.toString()).toLocaleLowerCase(G))),in:(be,ye)=>{if(null==ye||0===ye.length)return!0;for(let G=0;G<ye.length;G++)if(f.gb.equals(be,ye[G]))return!0;return!1},between:(be,ye)=>null==ye||null==ye[0]||null==ye[1]||null!=be&&(be.getTime?ye[0].getTime()<=be.getTime()&&be.getTime()<=ye[1].getTime():ye[0]<=be&&be<=ye[1]),lt:(be,ye,G)=>null==ye||null!=be&&(be.getTime&&ye.getTime?be.getTime()<ye.getTime():be<ye),lte:(be,ye,G)=>null==ye||null!=be&&(be.getTime&&ye.getTime?be.getTime()<=ye.getTime():be<=ye),gt:(be,ye,G)=>null==ye||null!=be&&(be.getTime&&ye.getTime?be.getTime()>ye.getTime():be>ye),gte:(be,ye,G)=>null==ye||null!=be&&(be.getTime&&ye.getTime?be.getTime()>=ye.getTime():be>=ye),is:(be,ye,G)=>this.filters.equals(be,ye,G),isNot:(be,ye,G)=>this.filters.notEquals(be,ye,G),before:(be,ye,G)=>this.filters.lt(be,ye,G),after:(be,ye,G)=>this.filters.gt(be,ye,G),dateIs:(be,ye)=>null==ye||null!=be&&be.toDateString()===ye.toDateString(),dateIsNot:(be,ye)=>null==ye||null!=be&&be.toDateString()!==ye.toDateString(),dateBefore:(be,ye)=>null==ye||null!=be&&be.getTime()<ye.getTime(),dateAfter:(be,ye)=>null==ye||null!=be&&be.getTime()>ye.getTime()}}filter(be,ye,G,E,U){let $=[];if(be)for(let Ae of be)for(let Ne of ye){let He=f.gb.resolveFieldData(Ae,Ne);if(this.filters[E](He,G,U)){$.push(Ae);break}}return $}register(be,ye){this.filters[be]=ye}}return N.\u0275fac=function(be){return new(be||N)},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),ne=(()=>{class N{constructor(){this.messageSource=new s.x,this.clearSource=new s.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(be){be&&this.messageSource.next(be)}addAll(be){be&&be.length&&this.messageSource.next(be)}clear(be){this.clearSource.next(be||null)}}return N.\u0275fac=function(be){return new(be||N)},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac}),N})(),De=(()=>{class N{constructor(){this.clickSource=new s.x,this.clickObservable=this.clickSource.asObservable()}add(be){be&&this.clickSource.next(be)}}return N.\u0275fac=function(be){return new(be||N)},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),ge=(()=>{class N{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[q.STARTS_WITH,q.CONTAINS,q.NOT_CONTAINS,q.ENDS_WITH,q.EQUALS,q.NOT_EQUALS],numeric:[q.EQUALS,q.NOT_EQUALS,q.LESS_THAN,q.LESS_THAN_OR_EQUAL_TO,q.GREATER_THAN,q.GREATER_THAN_OR_EQUAL_TO],date:[q.DATE_IS,q.DATE_IS_NOT,q.DATE_BEFORE,q.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new s.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(be){return this.translation[be]}setTranslation(be){this.translation=Object.assign(Object.assign({},this.translation),be),this.translationSource.next(this.translation)}}return N.\u0275fac=function(be){return new(be||N)},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),pe=(()=>{class N{}return N.\u0275fac=function(be){return new(be||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["p-header"]],ngContentSelectors:F,decls:1,vars:0,template:function(be,ye){1&be&&(e.F$t(),e.Hsn(0))},encapsulation:2}),N})(),ke=(()=>{class N{}return N.\u0275fac=function(be){return new(be||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["p-footer"]],ngContentSelectors:F,decls:1,vars:0,template:function(be,ye){1&be&&(e.F$t(),e.Hsn(0))},encapsulation:2}),N})(),Q=(()=>{class N{constructor(be){this.template=be}getType(){return this.name}}return N.\u0275fac=function(be){return new(be||N)(e.Y36(e.Rgc))},N.\u0275dir=e.lG2({type:N,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),N})(),Oe=(()=>{class N{}return N.\u0275fac=function(be){return new(be||N)},N.\u0275mod=e.oAB({type:N}),N.\u0275inj=e.cJS({imports:[V.ez]}),N})(),le=(()=>{class N{}return N.STARTS_WITH="startsWith",N.CONTAINS="contains",N.NOT_CONTAINS="notContains",N.ENDS_WITH="endsWith",N.EQUALS="equals",N.NOT_EQUALS="notEquals",N.NO_FILTER="noFilter",N.LT="lt",N.LTE="lte",N.GT="gt",N.GTE="gte",N.IS="is",N.IS_NOT="isNot",N.BEFORE="before",N.AFTER="after",N.CLEAR="clear",N.APPLY="apply",N.MATCH_ALL="matchAll",N.MATCH_ANY="matchAny",N.ADD_RULE="addRule",N.REMOVE_RULE="removeRule",N.ACCEPT="accept",N.REJECT="reject",N.CHOOSE="choose",N.UPLOAD="upload",N.CANCEL="cancel",N.DAY_NAMES="dayNames",N.DAY_NAMES_SHORT="dayNamesShort",N.DAY_NAMES_MIN="dayNamesMin",N.MONTH_NAMES="monthNames",N.MONTH_NAMES_SHORT="monthNamesShort",N.FIRST_DAY_OF_WEEK="firstDayOfWeek",N.TODAY="today",N.WEEK_HEADER="weekHeader",N.WEAK="weak",N.MEDIUM="medium",N.STRONG="strong",N.PASSWORD_PROMPT="passwordPrompt",N.EMPTY_MESSAGE="emptyMessage",N.EMPTY_FILTER_MESSAGE="emptyFilterMessage",N})(),P=(()=>{class N{constructor(){this.dragStartSource=new s.x,this.dragStopSource=new s.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(be){this.dragStartSource.next(be)}stopDrag(be){this.dragStopSource.next(be)}}return N.\u0275fac=function(be){return new(be||N)},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac}),N})()},2145:(Lt,qe,C)=>{C.d(qe,{Qc:()=>Qt,WN:()=>nn});var e=C(5e3),s=C(9808),f=C(1777),V=C(1424),F=C(845),I=C(5787),L=C(9783),se=C(5730),q=C(5921),z=C(2382),he=C(5871),ne=C(9618);const De=["container"],ue=["in"],ge=["multiIn"],pe=["multiContainer"],ke=["ddBtn"],Q=["items"],Oe=["scroller"],le=function(nt,xt){return{"p-autocomplete-dd-input":nt,"p-disabled":xt}};function P(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"input",8,9),e.NdJ("click",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputClick(dt))})("input",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInput(dt))})("keydown",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onKeydown(dt))})("keyup",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onKeyup(dt))})("focus",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputFocus(dt))})("blur",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputBlur(dt))})("change",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputChange(dt))})("paste",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputPaste(dt))}),e.qZA()}if(2&nt){const ee=e.oxw();e.Tol(ee.inputStyleClass),e.Q6J("autofocus",ee.autofocus)("ngStyle",ee.inputStyle)("autocomplete",ee.autocomplete)("ngClass",e.WLB(20,le,ee.dropdown,ee.disabled))("value",ee.inputFieldValue)("readonly",ee.readonly)("disabled",ee.disabled),e.uIk("type",ee.type)("id",ee.inputId)("required",ee.required)("name",ee.name)("placeholder",ee.placeholder)("size",ee.size)("maxlength",ee.maxlength)("tabindex",ee.tabindex)("aria-label",ee.ariaLabel)("aria-labelledby",ee.ariaLabelledBy)("aria-required",ee.required)}}function N(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(ee);const dt=e.oxw();return e.KtG(dt.clear())}),e.qZA()}}function we(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"i",10),e.NdJ("click",function(){e.CHM(ee);const dt=e.oxw();return e.KtG(dt.clear())}),e.qZA()}}function be(nt,xt){1&nt&&e.GkF(0)}function ye(nt,xt){if(1&nt&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&nt){const ee=e.oxw().$implicit,ze=e.oxw(2);e.xp6(1),e.Oqu(ze.resolveFieldData(ee))}}function G(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(ee),e.oxw();const dt=e.MAs(1),bt=e.oxw(2);return e.KtG(bt.removeItem(dt))}),e.qZA()}}const E=function(nt){return{$implicit:nt}};function U(nt,xt){if(1&nt&&(e.TgZ(0,"li",17,18),e.YNc(2,be,1,0,"ng-container",19),e.YNc(3,ye,2,1,"span",20),e.YNc(4,G,1,0,"span",21),e.qZA()),2&nt){const ee=xt.$implicit,ze=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",ze.selectedItemTemplate)("ngTemplateOutletContext",e.VKq(4,E,ee)),e.xp6(1),e.Q6J("ngIf",!ze.selectedItemTemplate),e.xp6(1),e.Q6J("ngIf",!ze.disabled&&!ze.readonly)}}const $=function(nt,xt){return{"p-disabled":nt,"p-focus":xt}};function Ae(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"ul",11,12),e.NdJ("click",function(){e.CHM(ee);const dt=e.MAs(5);return e.KtG(dt.focus())}),e.YNc(2,U,5,6,"li",13),e.TgZ(3,"li",14)(4,"input",15,16),e.NdJ("input",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInput(dt))})("click",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputClick(dt))})("keydown",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onKeydown(dt))})("keyup",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onKeyup(dt))})("focus",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputFocus(dt))})("blur",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputBlur(dt))})("change",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputChange(dt))})("paste",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onInputPaste(dt))}),e.qZA()()()}if(2&nt){const ee=e.oxw();e.Q6J("ngClass",e.WLB(20,$,ee.disabled,ee.focus)),e.xp6(2),e.Q6J("ngForOf",ee.value),e.xp6(2),e.Tol(ee.inputStyleClass),e.Q6J("autofocus",ee.autofocus)("disabled",ee.disabled)("readonly",ee.readonly)("autocomplete",ee.autocomplete)("ngStyle",ee.inputStyle),e.uIk("type",ee.type)("id",ee.inputId)("placeholder",ee.value&&ee.value.length?null:ee.placeholder)("tabindex",ee.tabindex)("maxlength",ee.maxlength)("aria-label",ee.ariaLabel)("aria-labelledby",ee.ariaLabelledBy)("aria-required",ee.required)("aria-controls",ee.listId)("aria-expanded",ee.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function Ne(nt,xt){1&nt&&e._UZ(0,"i",24)}function He(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"button",25,26),e.NdJ("click",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.handleDropdownClick(dt))}),e.qZA()}if(2&nt){const ee=e.oxw();e.Q6J("icon",ee.dropdownIcon)("disabled",ee.disabled),e.uIk("aria-label",ee.dropdownAriaLabel)("tabindex",ee.tabindex)}}function Re(nt,xt){1&nt&&e.GkF(0)}function gt(nt,xt){1&nt&&e.GkF(0)}const ut=function(nt,xt){return{$implicit:nt,options:xt}};function Pe(nt,xt){if(1&nt&&e.YNc(0,gt,1,0,"ng-container",19),2&nt){const ee=xt.$implicit,ze=xt.options;e.oxw(2);const dt=e.MAs(6);e.Q6J("ngTemplateOutlet",dt)("ngTemplateOutletContext",e.WLB(2,ut,ee,ze))}}function We(nt,xt){1&nt&&e.GkF(0)}const J=function(nt){return{options:nt}};function de(nt,xt){if(1&nt&&e.YNc(0,We,1,0,"ng-container",19),2&nt){const ee=xt.options,ze=e.oxw(4);e.Q6J("ngTemplateOutlet",ze.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,J,ee))}}function Qe(nt,xt){1&nt&&(e.ynx(0),e.YNc(1,de,1,4,"ng-template",36),e.BQk())}const re=function(nt){return{height:nt}};function Ve(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"p-scroller",33,34),e.NdJ("onLazyLoad",function(dt){e.CHM(ee);const bt=e.oxw(2);return e.KtG(bt.onLazyLoad.emit(dt))}),e.YNc(2,Pe,1,5,"ng-template",35),e.YNc(3,Qe,2,0,"ng-container",31),e.qZA()}if(2&nt){const ee=e.oxw(2);e.Akn(e.VKq(8,re,ee.scrollHeight)),e.Q6J("items",ee.suggestions)("itemSize",ee.virtualScrollItemSize||ee._itemSize)("autoSize",!0)("lazy",ee.lazy)("options",ee.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",ee.loaderTemplate)}}function Me(nt,xt){1&nt&&e.GkF(0)}const Fe=function(){return{}};function $e(nt,xt){if(1&nt&&(e.ynx(0),e.YNc(1,Me,1,0,"ng-container",19),e.BQk()),2&nt){e.oxw();const ee=e.MAs(6),ze=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",ee)("ngTemplateOutletContext",e.WLB(3,ut,ze.suggestions,e.DdM(2,Fe)))}}function R(nt,xt){if(1&nt&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&nt){const ee=e.oxw().$implicit,ze=e.oxw(4);e.xp6(1),e.Oqu(ze.getOptionGroupLabel(ee)||"empty")}}function it(nt,xt){1&nt&&e.GkF(0)}function Le(nt,xt){1&nt&&e.GkF(0)}function Et(nt,xt){if(1&nt&&(e.TgZ(0,"li",42),e.YNc(1,R,2,1,"span",31),e.YNc(2,it,1,0,"ng-container",19),e.qZA(),e.YNc(3,Le,1,0,"ng-container",19)),2&nt){const ee=xt.$implicit,ze=e.oxw(2).options,dt=e.MAs(5),bt=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,re,ze.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!bt.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",bt.groupTemplate)("ngTemplateOutletContext",e.VKq(8,E,ee)),e.xp6(1),e.Q6J("ngTemplateOutlet",dt)("ngTemplateOutletContext",e.VKq(10,E,bt.getOptionGroupChildren(ee)))}}function un(nt,xt){if(1&nt&&(e.ynx(0),e.YNc(1,Et,4,12,"ng-template",41),e.BQk()),2&nt){const ee=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",ee)}}function Cn(nt,xt){1&nt&&e.GkF(0)}function Ot(nt,xt){if(1&nt&&(e.ynx(0),e.YNc(1,Cn,1,0,"ng-container",19),e.BQk()),2&nt){const ee=e.oxw().$implicit,ze=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",e.VKq(2,E,ee))}}function en(nt,xt){if(1&nt&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&nt){const ee=e.oxw().$implicit,ze=e.oxw(4);e.xp6(1),e.Oqu(ze.resolveFieldData(ee))}}function at(nt,xt){1&nt&&e.GkF(0)}const Pt=function(nt){return{"p-highlight":nt}},Bt=function(nt,xt){return{$implicit:nt,index:xt}};function tn(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"li",44),e.NdJ("click",function(){const bt=e.CHM(ee).$implicit,sn=e.oxw(4);return e.KtG(sn.selectItem(bt))}),e.YNc(1,en,2,1,"span",31),e.YNc(2,at,1,0,"ng-container",19),e.qZA()}if(2&nt){const ee=xt.$implicit,ze=xt.index,dt=e.oxw(2).options,bt=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,re,dt.itemSize+"px"))("ngClass",e.VKq(8,Pt,ee===bt.highlightOption))("id",bt.highlightOption==ee?"p-highlighted-option":""),e.xp6(1),e.Q6J("ngIf",!bt.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",bt.itemTemplate)("ngTemplateOutletContext",e.WLB(10,Bt,ee,dt.getOptions?dt.getOptions(ze):ze))}}function ft(nt,xt){1&nt&&e.YNc(0,tn,3,13,"li",43),2&nt&&e.Q6J("ngForOf",xt.$implicit)}function ei(nt,xt){if(1&nt&&(e.ynx(0),e._uU(1),e.BQk()),2&nt){const ee=e.oxw(4);e.xp6(1),e.hij(" ",ee.emptyMessageLabel," ")}}function qn(nt,xt){1&nt&&e.GkF(0,null,47)}function Ht(nt,xt){if(1&nt&&(e.TgZ(0,"li",45),e.YNc(1,ei,2,1,"ng-container",46),e.YNc(2,qn,2,0,"ng-container",29),e.qZA()),2&nt){const ee=e.oxw().options,ze=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,re,ee.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!ze.emptyTemplate)("ngIfElse",ze.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",ze.emptyTemplate)}}function mt(nt,xt){if(1&nt&&(e.TgZ(0,"ul",37,38),e.YNc(2,un,2,1,"ng-container",31),e.YNc(3,Ot,2,4,"ng-container",31),e.YNc(4,ft,1,1,"ng-template",null,39,e.W1O),e.YNc(6,Ht,3,6,"li",40),e.qZA()),2&nt){const ee=xt.options,ze=e.oxw(2);e.Akn(ee.contentStyle),e.Q6J("ngClass",ee.contentStyleClass),e.uIk("id",ze.listId),e.xp6(2),e.Q6J("ngIf",ze.group),e.xp6(1),e.Q6J("ngIf",!ze.group),e.xp6(3),e.Q6J("ngIf",ze.noResults&&ze.showEmptyMessage)}}function Ze(nt,xt){1&nt&&e.GkF(0)}const It=function(){return["p-autocomplete-panel p-component"]},M=function(nt,xt){return{showTransitionParams:nt,hideTransitionParams:xt}},_e=function(nt){return{value:"visible",params:nt}};function Ie(nt,xt){if(1&nt){const ee=e.EpF();e.TgZ(0,"div",27,28),e.NdJ("click",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onOverlayClick(dt))})("@overlayAnimation.start",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onOverlayAnimationStart(dt))})("@overlayAnimation.done",function(dt){e.CHM(ee);const bt=e.oxw();return e.KtG(bt.onOverlayAnimationEnd(dt))}),e.YNc(2,Re,1,0,"ng-container",29),e.YNc(3,Ve,4,10,"p-scroller",30),e.YNc(4,$e,2,6,"ng-container",31),e.YNc(5,mt,7,7,"ng-template",null,32,e.W1O),e.YNc(7,Ze,1,0,"ng-container",29),e.qZA()}if(2&nt){const ee=e.oxw();e.Tol(ee.panelStyleClass),e.Udp("max-height",ee.virtualScroll?"auto":ee.scrollHeight),e.Q6J("ngClass",e.DdM(11,It))("ngStyle",ee.panelStyle)("@overlayAnimation",e.VKq(15,_e,e.WLB(12,M,ee.showTransitionOptions,ee.hideTransitionOptions))),e.xp6(2),e.Q6J("ngTemplateOutlet",ee.headerTemplate),e.xp6(1),e.Q6J("ngIf",ee.virtualScroll),e.xp6(1),e.Q6J("ngIf",!ee.virtualScroll),e.xp6(3),e.Q6J("ngTemplateOutlet",ee.footerTemplate)}}const Xe=function(nt,xt){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":nt,"p-autocomplete-multiple":xt}},Rt={provide:z.JU,useExisting:(0,e.Gpc)(()=>Qt),multi:!0};let Qt=(()=>{class nt{constructor(ee,ze,dt,bt,sn,ni){this.el=ee,this.renderer=ze,this.cd=dt,this.differs=bt,this.config=sn,this.overlayService=ni,this.minLength=1,this.delay=300,this.scrollHeight="200px",this.lazy=!1,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.showClear=!1,this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.completeMethod=new e.vpe,this.onSelect=new e.vpe,this.onUnselect=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onDropdownClick=new e.vpe,this.onClear=new e.vpe,this.onKeyUp=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.onLazyLoad=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.inputValue=null,this.differ=bt.find([]).create(null),this.listId=(0,q.Th)()+"_list"}get itemSize(){return this._itemSize}set itemSize(ee){this._itemSize=ee,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get suggestions(){return this._suggestions}set suggestions(ee){this._suggestions=ee,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let ee=se.p.findSingle(this.overlay,"li.p-highlight");ee&&se.p.scrollInView(this.itemsWrapper,ee)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(ee=>{switch(ee.getType()){case"item":default:this.itemTemplate=ee.template;break;case"group":this.groupTemplate=ee.template;break;case"selectedItem":this.selectedItemTemplate=ee.template;break;case"header":this.headerTemplate=ee.template;break;case"empty":this.emptyTemplate=ee.template;break;case"footer":this.footerTemplate=ee.template;break;case"loader":this.loaderTemplate=ee.template}})}writeValue(ee){this.value=ee,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(ee){return this.optionGroupChildren?q.gb.resolveFieldData(ee,this.optionGroupChildren):ee.items}getOptionGroupLabel(ee){return this.optionGroupLabel?q.gb.resolveFieldData(ee,this.optionGroupLabel):null!=ee.label?ee.label:ee}registerOnChange(ee){this.onModelChange=ee}registerOnTouched(ee){this.onModelTouched=ee}setDisabledState(ee){this.disabled=ee,this.cd.markForCheck()}onInput(ee){if(!this.inputKeyDown&&se.p.isIE())return;this.timeout&&clearTimeout(this.timeout);let ze=ee.target.value;this.inputValue=ze,!this.multiple&&!this.forceSelection&&this.onModelChange(ze),0===ze.length&&!this.multiple&&(this.value=null,this.hide(),this.onClear.emit(ee),this.onModelChange(ze)),ze.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(ee,ze)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(ee){this.documentClickListener&&(this.inputClick=!0)}search(ee,ze){null!=ze&&(this.loading=!0,this.completeMethod.emit({originalEvent:ee,query:ze}))}selectItem(ee,ze=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],(!this.isSelected(ee)||!this.unique)&&(this.value=[...this.value,ee],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(ee),this.value=ee,this.onModelChange(this.value)),this.onSelect.emit(ee),this.updateFilledState(),ze&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let ee=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&ee&&(this.overlayVisible=!0)}}clear(){this.multiple?this.value=null:(this.inputValue=null,this.inputEL.nativeElement.value=""),this.updateFilledState(),this.onModelChange(this.value),this.onClear.emit()}onOverlayAnimationStart(ee){var ze;switch(ee.toState){case"visible":this.overlay=ee.element,this.itemsWrapper=this.virtualScroll?se.p.findSingle(this.overlay,".p-scroller"):this.overlay,this.virtualScroll&&(null===(ze=this.scroller)||void 0===ze||ze.setContentEl(this.itemsViewChild.nativeElement)),this.appendOverlay(),this.autoZIndex&&q.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(ee);break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(ee){"void"===ee.toState&&this.autoZIndex&&q.P9.clear(ee.element)}onOverlayClick(ee){this.overlayService.add({originalEvent:ee,target:this.el.nativeElement})}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):se.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=se.p.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(ee){let ze=this.field?q.gb.resolveFieldData(ee,this.field):ee;return void 0!==ze?ze:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?se.p.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):se.p.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(ee){if(this.overlayVisible)this.hide();else{this.focusInput();let ze=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(ee,""):"current"===this.dropdownMode&&this.search(ee,ze),this.onDropdownClick.emit({originalEvent:ee,query:ze})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(L.ws.EMPTY_MESSAGE)}removeItem(ee){let ze=se.p.index(ee),dt=this.value[ze];this.value=this.value.filter((bt,sn)=>sn!=ze),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(dt)}onKeydown(ee){if(this.overlayVisible)switch(ee.which){case 40:if(this.group){let dt=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==dt){let bt=dt.itemIndex+1;bt<this.getOptionGroupChildren(this.suggestions[dt.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[dt.groupIndex])[bt],this.highlightOptionChanged=!0):this.suggestions[dt.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[dt.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let dt=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=dt){var ze=dt+1;ze!=this.suggestions.length&&(this.highlightOption=this.suggestions[ze],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}ee.preventDefault();break;case 38:if(this.group){let dt=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==dt){let bt=dt.itemIndex-1;if(bt>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[dt.groupIndex])[bt],this.highlightOptionChanged=!0;else if(bt<0){let sn=this.suggestions[dt.groupIndex-1];sn&&(this.highlightOption=this.getOptionGroupChildren(sn)[this.getOptionGroupChildren(sn).length-1],this.highlightOptionChanged=!0)}}}else{let dt=this.findOptionIndex(this.highlightOption,this.suggestions);dt>0&&(this.highlightOption=this.suggestions[dt-1],this.highlightOptionChanged=!0)}ee.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),ee.preventDefault();break;case 27:this.hide(),ee.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===ee.which&&this.suggestions?this.search(ee,ee.target.value):ee.ctrlKey&&"z"===ee.key&&!this.multiple?(this.inputEL.nativeElement.value=this.resolveFieldData(null),this.value="",this.onModelChange(this.value)):ee.ctrlKey&&"z"===ee.key&&this.multiple&&(this.value.pop(),this.onModelChange(this.value),this.updateFilledState());if(this.multiple&&8===ee.which&&this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const dt=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(dt)}this.inputKeyDown=!0}onKeyup(ee){this.onKeyUp.emit(ee)}onInputFocus(ee){!this.itemClicked&&this.completeOnFocus&&this.search(ee,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(ee),this.itemClicked=!1}onInputBlur(ee){this.focus=!1,this.onModelTouched(),this.onBlur.emit(ee)}onInputChange(ee){if(this.forceSelection){let ze=!1,dt=ee.target.value.trim();if(this.suggestions)for(let bt of this.suggestions){let sn=this.field?q.gb.resolveFieldData(bt,this.field):bt;if(sn&&dt===sn.trim()){ze=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(bt,!1)},250);break}}ze||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(ee),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(ee){this.onKeydown(ee)}isSelected(ee){let ze=!1;if(this.value&&this.value.length)for(let dt=0;dt<this.value.length;dt++)if(q.gb.equals(this.value[dt],ee,this.dataKey)){ze=!0;break}return ze}findOptionIndex(ee,ze){let dt=-1;if(ze)for(let bt=0;bt<ze.length;bt++)if(q.gb.equals(ee,ze[bt])){dt=bt;break}return dt}findOptionGroupIndex(ee,ze){let dt,bt;if(ze)for(let sn=0;sn<ze.length&&(dt=sn,bt=this.findOptionIndex(ee,this.getOptionGroupChildren(ze[sn])),-1===bt);sn++);return-1!==bt?{groupIndex:dt,itemIndex:bt}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let ee=this.resolveFieldData(this.value);this.inputFieldValue=ee,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=ee),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",ze=>{3!==ze.which&&(!this.inputClick&&!this.isDropdownClick(ze)&&this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(ee){if(this.dropdown){let ze=ee.target;return ze===this.dropdownButton.nativeElement||ze.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!se.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new se.V(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay&&(this.overlay=null,this.onHide.emit())}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&q.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return nt.\u0275fac=function(ee){return new(ee||nt)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.ZZ4),e.Y36(L.b4),e.Y36(L.F0))},nt.\u0275cmp=e.Xpm({type:nt,selectors:[["p-autoComplete"]],contentQueries:function(ee,ze,dt){if(1&ee&&e.Suo(dt,L.jx,4),2&ee){let bt;e.iGM(bt=e.CRH())&&(ze.templates=bt)}},viewQuery:function(ee,ze){if(1&ee&&(e.Gf(De,5),e.Gf(ue,5),e.Gf(ge,5),e.Gf(pe,5),e.Gf(ke,5),e.Gf(Q,5),e.Gf(Oe,5)),2&ee){let dt;e.iGM(dt=e.CRH())&&(ze.containerEL=dt.first),e.iGM(dt=e.CRH())&&(ze.inputEL=dt.first),e.iGM(dt=e.CRH())&&(ze.multiInputEL=dt.first),e.iGM(dt=e.CRH())&&(ze.multiContainerEL=dt.first),e.iGM(dt=e.CRH())&&(ze.dropdownButton=dt.first),e.iGM(dt=e.CRH())&&(ze.itemsViewChild=dt.first),e.iGM(dt=e.CRH())&&(ze.scroller=dt.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(ee,ze){2&ee&&e.ekj("p-inputwrapper-filled",ze.filled)("p-inputwrapper-focus",ze.focus&&!ze.disabled||ze.autofocus||ze.overlayVisible)("p-autocomplete-clearable",ze.showClear&&!ze.disabled)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",showClear:"showClear",field:"field",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",itemSize:"itemSize",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},features:[e._Bn([Rt])],decls:9,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["pAutoFocus","","class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox",3,"autofocus","ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class","click",4,"ngIf"],["pAutoFocus","","aria-autocomplete","list","role","searchbox",1,"p-autocomplete-input","p-inputtext","p-component",3,"autofocus","ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-clear-icon","pi","pi-times",3,"click"],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["pAutoFocus","","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"autofocus","disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],[3,"ngClass","ngStyle","click"],["panel",""],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-autocomplete-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group",3,"ngStyle"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngStyle","ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngStyle","ngClass","id","click"],[1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(ee,ze){1&ee&&(e.TgZ(0,"span",0,1),e.YNc(2,P,2,23,"input",2),e.YNc(3,N,1,0,"i",3),e.YNc(4,we,1,0,"i",3),e.YNc(5,Ae,6,23,"ul",4),e.YNc(6,Ne,1,0,"i",5),e.YNc(7,He,2,4,"button",6),e.YNc(8,Ie,8,17,"div",7),e.qZA()),2&ee&&(e.Tol(ze.styleClass),e.Q6J("ngClass",e.WLB(11,Xe,ze.dropdown,ze.multiple))("ngStyle",ze.style),e.xp6(2),e.Q6J("ngIf",!ze.multiple),e.xp6(1),e.Q6J("ngIf",!ze.multiple&&ze.filled&&!ze.disabled&&ze.showClear),e.xp6(1),e.Q6J("ngIf",ze.multiple&&ze.filled&&!ze.disabled&&ze.showClear),e.xp6(1),e.Q6J("ngIf",ze.multiple),e.xp6(1),e.Q6J("ngIf",ze.loading),e.xp6(1),e.Q6J("ngIf",ze.dropdown),e.xp6(1),e.Q6J("ngIf",ze.overlayVisible))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,F.Hq,L.jx,I.H,he.T,ne.P],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%;top:0;left:0}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,f.X$)("overlayAnimation",[(0,f.eR)(":enter",[(0,f.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,f.jt)("{{showTransitionParams}}")]),(0,f.eR)(":leave",[(0,f.jt)("{{hideTransitionParams}}",(0,f.oB)({opacity:0}))])])]},changeDetection:0}),nt})(),nn=(()=>{class nt{}return nt.\u0275fac=function(ee){return new(ee||nt)},nt.\u0275mod=e.oAB({type:nt}),nt.\u0275inj=e.cJS({imports:[s.ez,V.j,F.hJ,L.m8,I.T,he.v,ne.E,L.m8,he.v,ne.E]}),nt})()},9618:(Lt,qe,C)=>{C.d(qe,{E:()=>F,P:()=>V});var e=C(9808),s=C(5e3),f=C(5730);let V=(()=>{class I{constructor(se){this.host=se,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const se=f.p.getFocusableElements(this.host.nativeElement);0===se.length&&this.host.nativeElement.focus(),se.length>0&&se[0].focus(),this.focused=!0}}}return I.\u0275fac=function(se){return new(se||I)(s.Y36(s.SBq))},I.\u0275dir=s.lG2({type:I,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),I})(),F=(()=>{class I{}return I.\u0275fac=function(se){return new(se||I)},I.\u0275mod=s.oAB({type:I}),I.\u0275inj=s.cJS({imports:[e.ez]}),I})()},85:(Lt,qe,C)=>{C.d(qe,{Ct:()=>se,TX:()=>q,lM:()=>L});var e=C(9808),s=C(5e3),f=C(9783),V=C(5730),F=C(5921);function I(z,he){if(1&z&&(s.TgZ(0,"span",1),s._uU(1),s.qZA()),2&z){const ne=s.oxw();s.Tol(ne.styleClass),s.Q6J("ngClass",ne.containerClass())("ngStyle",ne.style),s.xp6(1),s.Oqu(ne.value)}}let L=(()=>{class z{constructor(ne){this.el=ne,this.iconPos="left",this._disabled=!1}get disabled(){return this._disabled}set disabled(ne){this._disabled=ne}ngAfterViewInit(){this.id=(0,F.Th)()+"_badge";let ne=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement;if(this._disabled)return null;let De=document.createElement("span");De.id=this.id,De.className="p-badge p-component",this.severity&&V.p.addClass(De,"p-badge-"+this.severity),null!=this.value?(De.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&V.p.addClass(De,"p-badge-no-gutter")):V.p.addClass(De,"p-badge-dot"),V.p.addClass(ne,"p-overlay-badge"),ne.appendChild(De),this.initialized=!0}get value(){return this._value}set value(ne){if(ne!==this._value&&(this._value=ne,this.initialized)){let De=document.getElementById(this.id);this._value?(V.p.hasClass(De,"p-badge-dot")&&V.p.removeClass(De,"p-badge-dot"),1===String(this._value).length?V.p.addClass(De,"p-badge-no-gutter"):V.p.removeClass(De,"p-badge-no-gutter")):!this._value&&!V.p.hasClass(De,"p-badge-dot")&&V.p.addClass(De,"p-badge-dot"),De.innerHTML="",De.appendChild(document.createTextNode(this._value))}}ngOnDestroy(){this.initialized=!1}}return z.\u0275fac=function(ne){return new(ne||z)(s.Y36(s.SBq))},z.\u0275dir=s.lG2({type:z,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",disabled:["badgeDisabled","disabled"],value:"value",severity:"severity"}}),z})(),se=(()=>{class z{constructor(){this.badgeDisabled=!1}containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return z.\u0275fac=function(ne){return new(ne||z)},z.\u0275cmp=s.Xpm({type:z,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value",badgeDisabled:"badgeDisabled"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(ne,De){1&ne&&s.YNc(0,I,2,5,"span",0),2&ne&&s.Q6J("ngIf",!De.badgeDisabled)},dependencies:[e.mk,e.O5,e.PC],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),z})(),q=(()=>{class z{}return z.\u0275fac=function(ne){return new(ne||z)},z.\u0275mod=s.oAB({type:z}),z.\u0275inj=s.cJS({imports:[e.ez,f.m8]}),z})()},845:(Lt,qe,C)=>{C.d(qe,{Hq:()=>ue,hJ:()=>pe,zx:()=>ge});var e=C(9808),s=C(5e3),f=C(9783),V=C(5730),F=C(5787),I=C(5921);function L(ke,Q){1&ke&&s.GkF(0)}const se=function(ke,Q,Oe,le){return{"p-button-icon":!0,"p-button-icon-left":ke,"p-button-icon-right":Q,"p-button-icon-top":Oe,"p-button-icon-bottom":le}};function q(ke,Q){if(1&ke&&s._UZ(0,"span",4),2&ke){const Oe=s.oxw();s.Tol(Oe.loading?"p-button-loading-icon "+Oe.loadingIcon:Oe.icon),s.Q6J("ngClass",s.l5B(4,se,"left"===Oe.iconPos&&Oe.label,"right"===Oe.iconPos&&Oe.label,"top"===Oe.iconPos&&Oe.label,"bottom"===Oe.iconPos&&Oe.label)),s.uIk("aria-hidden",!0)}}function z(ke,Q){if(1&ke&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&ke){const Oe=s.oxw();s.uIk("aria-hidden",Oe.icon&&!Oe.label),s.xp6(1),s.Oqu(Oe.label)}}function he(ke,Q){if(1&ke&&(s.TgZ(0,"span",4),s._uU(1),s.qZA()),2&ke){const Oe=s.oxw();s.Tol(Oe.badgeClass),s.Q6J("ngClass",Oe.badgeStyleClass()),s.xp6(1),s.Oqu(Oe.badge)}}const ne=function(ke,Q,Oe,le,P){return{"p-button p-component":!0,"p-button-icon-only":ke,"p-button-vertical":Q,"p-disabled":Oe,"p-button-loading":le,"p-button-loading-label-only":P}},De=["*"];let ue=(()=>{class ke{constructor(Oe){this.el=Oe,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}get label(){return this._label}set label(Oe){this._label=Oe,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(Oe){this._icon=Oe,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(Oe){this._loading=Oe,this.initialized&&(this.updateIcon(),this.setStyleClass())}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,V.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let Oe="p-button p-component";return this.icon&&!this.label&&I.gb.isEmpty(this.el.nativeElement.textContent)&&(Oe+=" p-button-icon-only"),this.loading&&(Oe+=" p-disabled p-button-loading",!this.icon&&this.label&&(Oe+=" p-button-loading-label-only")),Oe}setStyleClass(){let Oe=this.getStyleClass();this.el.nativeElement.className=Oe+" "+this._initialStyleClass}createLabel(){if(this.label){let Oe=document.createElement("span");this.icon&&!this.label&&Oe.setAttribute("aria-hidden","true"),Oe.className="p-button-label",Oe.appendChild(document.createTextNode(this.label)),this.el.nativeElement.appendChild(Oe)}}createIcon(){if(this.icon||this.loading){let Oe=document.createElement("span");Oe.className="p-button-icon",Oe.setAttribute("aria-hidden","true");let le=this.label?"p-button-icon-"+this.iconPos:null;le&&V.p.addClass(Oe,le);let P=this.getIconClass();P&&V.p.addMultipleClasses(Oe,P),this.el.nativeElement.insertBefore(Oe,this.el.nativeElement.firstChild)}}updateLabel(){let Oe=V.p.findSingle(this.el.nativeElement,".p-button-label");this.label?Oe?Oe.textContent=this.label:this.createLabel():Oe&&this.el.nativeElement.removeChild(Oe)}updateIcon(){let Oe=V.p.findSingle(this.el.nativeElement,".p-button-icon");this.icon||this.loading?Oe?Oe.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():Oe&&this.el.nativeElement.removeChild(Oe)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return ke.\u0275fac=function(Oe){return new(Oe||ke)(s.Y36(s.SBq))},ke.\u0275dir=s.lG2({type:ke,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),ke})(),ge=(()=>{class ke{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe}ngAfterContentInit(){this.templates.forEach(Oe=>{Oe.getType(),this.contentTemplate=Oe.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return ke.\u0275fac=function(Oe){return new(Oe||ke)},ke.\u0275cmp=s.Xpm({type:ke,selectors:[["p-button"]],contentQueries:function(Oe,le,P){if(1&Oe&&s.Suo(P,f.jx,4),2&Oe){let N;s.iGM(N=s.CRH())&&(le.templates=N)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:De,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(Oe,le){1&Oe&&(s.F$t(),s.TgZ(0,"button",0),s.NdJ("click",function(N){return le.onClick.emit(N)})("focus",function(N){return le.onFocus.emit(N)})("blur",function(N){return le.onBlur.emit(N)}),s.Hsn(1),s.YNc(2,L,1,0,"ng-container",1),s.YNc(3,q,1,9,"span",2),s.YNc(4,z,2,2,"span",3),s.YNc(5,he,2,4,"span",2),s.qZA()),2&Oe&&(s.Tol(le.styleClass),s.Q6J("ngStyle",le.style)("disabled",le.disabled||le.loading)("ngClass",s.qbA(11,ne,le.icon&&!le.label,("top"===le.iconPos||"bottom"===le.iconPos)&&le.label,le.disabled||le.loading,le.loading,le.loading&&!le.icon&&le.label)),s.uIk("type",le.type)("aria-label",le.ariaLabel),s.xp6(2),s.Q6J("ngTemplateOutlet",le.contentTemplate),s.xp6(1),s.Q6J("ngIf",!le.contentTemplate&&(le.icon||le.loading)),s.xp6(1),s.Q6J("ngIf",!le.contentTemplate&&le.label),s.xp6(1),s.Q6J("ngIf",!le.contentTemplate&&le.badge))},dependencies:[e.mk,e.O5,e.tP,e.PC,F.H],encapsulation:2,changeDetection:0}),ke})(),pe=(()=>{class ke{}return ke.\u0275fac=function(Oe){return new(Oe||ke)},ke.\u0275mod=s.oAB({type:ke}),ke.\u0275inj=s.cJS({imports:[e.ez,F.T]}),ke})()},5652:(Lt,qe,C)=>{C.d(qe,{_8:()=>mt,f:()=>Ht});var e=C(1777),s=C(9808),f=C(5e3),V=C(2382),F=C(9783),I=C(845),L=C(5730),se=C(5787),q=C(5921);const z=["container"],he=["inputfield"],ne=["contentWrapper"];function De(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"i",8),f.NdJ("click",function(){f.CHM(M);const Ie=f.oxw(2);return f.KtG(Ie.clear())}),f.qZA()}}function ue(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"button",9),f.NdJ("click",function(Ie){f.CHM(M),f.oxw();const Xe=f.MAs(1),Rt=f.oxw();return f.KtG(Rt.onButtonClick(Ie,Xe))}),f.qZA()}if(2&Ze){const M=f.oxw(2);f.Q6J("icon",M.icon)("disabled",M.disabled),f.uIk("aria-label",M.iconAriaLabel)}}function ge(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"input",4,5),f.NdJ("focus",function(Ie){f.CHM(M);const Xe=f.oxw();return f.KtG(Xe.onInputFocus(Ie))})("keydown",function(Ie){f.CHM(M);const Xe=f.oxw();return f.KtG(Xe.onInputKeydown(Ie))})("click",function(){f.CHM(M);const Ie=f.oxw();return f.KtG(Ie.onInputClick())})("blur",function(Ie){f.CHM(M);const Xe=f.oxw();return f.KtG(Xe.onInputBlur(Ie))})("input",function(Ie){f.CHM(M);const Xe=f.oxw();return f.KtG(Xe.onUserInput(Ie))}),f.qZA(),f.YNc(2,De,1,0,"i",6),f.YNc(3,ue,1,3,"button",7)}if(2&Ze){const M=f.oxw();f.Tol(M.inputStyleClass),f.Q6J("value",M.inputFieldValue)("readonly",M.readonlyInput)("ngStyle",M.inputStyle)("placeholder",M.placeholder||"")("disabled",M.disabled)("ngClass","p-inputtext p-component"),f.uIk("id",M.inputId)("name",M.name)("required",M.required)("aria-required",M.required)("tabindex",M.tabindex)("inputmode",M.touchUI?"off":null)("aria-labelledby",M.ariaLabelledBy),f.xp6(2),f.Q6J("ngIf",M.showClear&&!M.disabled&&null!=M.value),f.xp6(1),f.Q6J("ngIf",M.showIcon)}}function pe(Ze,It){1&Ze&&f.GkF(0)}function ke(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"button",30),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(4);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("click",function(Ie){f.CHM(M);const Xe=f.oxw(4);return f.KtG(Xe.onPrevButtonClick(Ie))}),f._UZ(1,"span",31),f.qZA()}}function Q(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"button",32),f.NdJ("click",function(Ie){f.CHM(M);const Xe=f.oxw(4);return f.KtG(Xe.switchToMonthView(Ie))})("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(4);return f.KtG(Xe.onContainerButtonKeydown(Ie))}),f._uU(1),f.qZA()}if(2&Ze){const M=f.oxw().$implicit,_e=f.oxw(3);f.Q6J("disabled",_e.switchViewButtonDisabled()),f.xp6(1),f.hij(" ",_e.getMonthName(M.month)," ")}}function Oe(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"button",33),f.NdJ("click",function(Ie){f.CHM(M);const Xe=f.oxw(4);return f.KtG(Xe.switchToYearView(Ie))})("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(4);return f.KtG(Xe.onContainerButtonKeydown(Ie))}),f._uU(1),f.qZA()}if(2&Ze){const M=f.oxw().$implicit,_e=f.oxw(3);f.Q6J("disabled",_e.switchViewButtonDisabled()),f.xp6(1),f.hij(" ",_e.getYear(M)," ")}}function le(Ze,It){if(1&Ze&&(f.ynx(0),f._uU(1),f.BQk()),2&Ze){const M=f.oxw(5);f.xp6(1),f.AsE("",M.yearPickerValues()[0]," - ",M.yearPickerValues()[M.yearPickerValues().length-1],"")}}function P(Ze,It){1&Ze&&f.GkF(0)}const N=function(Ze){return{$implicit:Ze}};function we(Ze,It){if(1&Ze&&(f.TgZ(0,"span",34),f.YNc(1,le,2,2,"ng-container",13),f.YNc(2,P,1,0,"ng-container",35),f.qZA()),2&Ze){const M=f.oxw(4);f.xp6(1),f.Q6J("ngIf",!M.decadeTemplate),f.xp6(1),f.Q6J("ngTemplateOutlet",M.decadeTemplate)("ngTemplateOutletContext",f.VKq(3,N,M.yearPickerValues))}}function be(Ze,It){if(1&Ze&&(f.TgZ(0,"th",41)(1,"span"),f._uU(2),f.qZA()()),2&Ze){const M=f.oxw(5);f.xp6(2),f.Oqu(M.getTranslation("weekHeader"))}}function ye(Ze,It){if(1&Ze&&(f.TgZ(0,"th",42)(1,"span"),f._uU(2),f.qZA()()),2&Ze){const M=It.$implicit;f.xp6(2),f.Oqu(M)}}function G(Ze,It){if(1&Ze&&(f.TgZ(0,"td",45)(1,"span",46),f._uU(2),f.qZA()()),2&Ze){const M=f.oxw().index,_e=f.oxw(2).$implicit;f.xp6(2),f.hij(" ",_e.weekNumbers[M]," ")}}function E(Ze,It){if(1&Ze&&(f.ynx(0),f._uU(1),f.BQk()),2&Ze){const M=f.oxw(2).$implicit;f.xp6(1),f.Oqu(M.day)}}function U(Ze,It){1&Ze&&f.GkF(0)}const $=function(Ze,It){return{"p-highlight":Ze,"p-disabled":It}};function Ae(Ze,It){if(1&Ze){const M=f.EpF();f.ynx(0),f.TgZ(1,"span",48),f.NdJ("click",function(Ie){f.CHM(M);const Xe=f.oxw().$implicit,Rt=f.oxw(6);return f.KtG(Rt.onDateSelect(Ie,Xe))})("keydown",function(Ie){f.CHM(M);const Xe=f.oxw().$implicit,Rt=f.oxw(3).index,Qt=f.oxw(3);return f.KtG(Qt.onDateCellKeydown(Ie,Xe,Rt))}),f.YNc(2,E,2,1,"ng-container",13),f.YNc(3,U,1,0,"ng-container",35),f.qZA(),f.BQk()}if(2&Ze){const M=f.oxw().$implicit,_e=f.oxw(6);f.xp6(1),f.Q6J("ngClass",f.WLB(4,$,_e.isSelected(M),!M.selectable)),f.xp6(1),f.Q6J("ngIf",!_e.dateTemplate),f.xp6(1),f.Q6J("ngTemplateOutlet",_e.dateTemplate)("ngTemplateOutletContext",f.VKq(7,N,M))}}const Ne=function(Ze,It){return{"p-datepicker-other-month":Ze,"p-datepicker-today":It}};function He(Ze,It){if(1&Ze&&(f.TgZ(0,"td",47),f.YNc(1,Ae,4,9,"ng-container",13),f.qZA()),2&Ze){const M=It.$implicit,_e=f.oxw(6);f.Q6J("ngClass",f.WLB(2,Ne,M.otherMonth,M.today)),f.xp6(1),f.Q6J("ngIf",!M.otherMonth||_e.showOtherMonths)}}function Re(Ze,It){if(1&Ze&&(f.TgZ(0,"tr"),f.YNc(1,G,3,1,"td",43),f.YNc(2,He,2,5,"td",44),f.qZA()),2&Ze){const M=It.$implicit,_e=f.oxw(5);f.xp6(1),f.Q6J("ngIf",_e.showWeek),f.xp6(1),f.Q6J("ngForOf",M)}}function gt(Ze,It){if(1&Ze&&(f.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),f.YNc(4,be,3,1,"th",38),f.YNc(5,ye,3,1,"th",39),f.qZA()(),f.TgZ(6,"tbody"),f.YNc(7,Re,3,2,"tr",40),f.qZA()()()),2&Ze){const M=f.oxw().$implicit,_e=f.oxw(3);f.xp6(4),f.Q6J("ngIf",_e.showWeek),f.xp6(1),f.Q6J("ngForOf",_e.weekDays),f.xp6(2),f.Q6J("ngForOf",M.dates)}}function ut(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"div",20)(1,"div",21),f.YNc(2,ke,2,0,"button",22),f.TgZ(3,"div",23),f.YNc(4,Q,2,2,"button",24),f.YNc(5,Oe,2,2,"button",25),f.YNc(6,we,3,5,"span",26),f.qZA(),f.TgZ(7,"button",27),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("click",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onNextButtonClick(Ie))}),f._UZ(8,"span",28),f.qZA()(),f.YNc(9,gt,8,3,"div",29),f.qZA()}if(2&Ze){const M=It.index,_e=f.oxw(3);f.xp6(2),f.Q6J("ngIf",0===M),f.xp6(2),f.Q6J("ngIf","date"===_e.currentView),f.xp6(1),f.Q6J("ngIf","year"!==_e.currentView),f.xp6(1),f.Q6J("ngIf","year"===_e.currentView),f.xp6(1),f.Udp("display",1===_e.numberOfMonths||M===_e.numberOfMonths-1?"inline-flex":"none"),f.xp6(2),f.Q6J("ngIf","date"===_e.currentView)}}function Pe(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"span",51),f.NdJ("click",function(Ie){const Rt=f.CHM(M).index,Qt=f.oxw(4);return f.KtG(Qt.onMonthSelect(Ie,Rt))})("keydown",function(Ie){const Rt=f.CHM(M).index,Qt=f.oxw(4);return f.KtG(Qt.onMonthCellKeydown(Ie,Rt))}),f._uU(1),f.qZA()}if(2&Ze){const M=It.$implicit,_e=It.index,Ie=f.oxw(4);f.Q6J("ngClass",f.WLB(2,$,Ie.isMonthSelected(_e),Ie.isMonthDisabled(_e))),f.xp6(1),f.hij(" ",M," ")}}function We(Ze,It){if(1&Ze&&(f.TgZ(0,"div",49),f.YNc(1,Pe,2,5,"span",50),f.qZA()),2&Ze){const M=f.oxw(3);f.xp6(1),f.Q6J("ngForOf",M.monthPickerValues())}}const J=function(Ze){return{"p-highlight":Ze}};function de(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"span",54),f.NdJ("click",function(Ie){const Rt=f.CHM(M).$implicit,Qt=f.oxw(4);return f.KtG(Qt.onYearSelect(Ie,Rt))})("keydown",function(Ie){const Rt=f.CHM(M).$implicit,Qt=f.oxw(4);return f.KtG(Qt.onYearCellKeydown(Ie,Rt))}),f._uU(1),f.qZA()}if(2&Ze){const M=It.$implicit,_e=f.oxw(4);f.Q6J("ngClass",f.VKq(2,J,_e.isYearSelected(M))),f.xp6(1),f.hij(" ",M," ")}}function Qe(Ze,It){if(1&Ze&&(f.TgZ(0,"div",52),f.YNc(1,de,2,4,"span",53),f.qZA()),2&Ze){const M=f.oxw(3);f.xp6(1),f.Q6J("ngForOf",M.yearPickerValues())}}function re(Ze,It){if(1&Ze&&(f.ynx(0),f.TgZ(1,"div",16),f.YNc(2,ut,10,7,"div",17),f.qZA(),f.YNc(3,We,2,1,"div",18),f.YNc(4,Qe,2,1,"div",19),f.BQk()),2&Ze){const M=f.oxw(2);f.xp6(2),f.Q6J("ngForOf",M.months),f.xp6(1),f.Q6J("ngIf","month"===M.currentView),f.xp6(1),f.Q6J("ngIf","year"===M.currentView)}}function Ve(Ze,It){1&Ze&&(f.ynx(0),f._uU(1,"0"),f.BQk())}function Me(Ze,It){1&Ze&&(f.ynx(0),f._uU(1,"0"),f.BQk())}function Fe(Ze,It){if(1&Ze&&(f.TgZ(0,"div",60)(1,"span"),f._uU(2),f.qZA()()),2&Ze){const M=f.oxw(3);f.xp6(2),f.Oqu(M.timeSeparator)}}function $e(Ze,It){1&Ze&&(f.ynx(0),f._uU(1,"0"),f.BQk())}function R(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"div",65)(1,"button",57),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("keydown.enter",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.incrementSecond(Ie))})("keydown.space",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.incrementSecond(Ie))})("mousedown",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onTimePickerElementMouseDown(Ie,2,1))})("mouseup",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.enter",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.space",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("mouseleave",function(){f.CHM(M);const Ie=f.oxw(3);return f.KtG(Ie.onTimePickerElementMouseLeave())}),f._UZ(2,"span",58),f.qZA(),f.TgZ(3,"span"),f.YNc(4,$e,2,0,"ng-container",13),f._uU(5),f.qZA(),f.TgZ(6,"button",57),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("keydown.enter",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.decrementSecond(Ie))})("keydown.space",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.decrementSecond(Ie))})("mousedown",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onTimePickerElementMouseDown(Ie,2,-1))})("mouseup",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.enter",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.space",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("mouseleave",function(){f.CHM(M);const Ie=f.oxw(3);return f.KtG(Ie.onTimePickerElementMouseLeave())}),f._UZ(7,"span",59),f.qZA()()}if(2&Ze){const M=f.oxw(3);f.xp6(4),f.Q6J("ngIf",M.currentSecond<10),f.xp6(1),f.Oqu(M.currentSecond)}}function it(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"div",66)(1,"button",67),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("click",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.toggleAMPM(Ie))})("keydown.enter",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.toggleAMPM(Ie))}),f._UZ(2,"span",58),f.qZA(),f.TgZ(3,"span"),f._uU(4),f.qZA(),f.TgZ(5,"button",67),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("click",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.toggleAMPM(Ie))})("keydown.enter",function(Ie){f.CHM(M);const Xe=f.oxw(3);return f.KtG(Xe.toggleAMPM(Ie))}),f._UZ(6,"span",59),f.qZA()()}if(2&Ze){const M=f.oxw(3);f.xp6(4),f.Oqu(M.pm?"PM":"AM")}}function Le(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"div",55)(1,"div",56)(2,"button",57),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("keydown.enter",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.incrementHour(Ie))})("keydown.space",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.incrementHour(Ie))})("mousedown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseDown(Ie,0,1))})("mouseup",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.enter",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.space",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("mouseleave",function(){f.CHM(M);const Ie=f.oxw(2);return f.KtG(Ie.onTimePickerElementMouseLeave())}),f._UZ(3,"span",58),f.qZA(),f.TgZ(4,"span"),f.YNc(5,Ve,2,0,"ng-container",13),f._uU(6),f.qZA(),f.TgZ(7,"button",57),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("keydown.enter",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.decrementHour(Ie))})("keydown.space",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.decrementHour(Ie))})("mousedown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseDown(Ie,0,-1))})("mouseup",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.enter",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.space",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("mouseleave",function(){f.CHM(M);const Ie=f.oxw(2);return f.KtG(Ie.onTimePickerElementMouseLeave())}),f._UZ(8,"span",59),f.qZA()(),f.TgZ(9,"div",60)(10,"span"),f._uU(11),f.qZA()(),f.TgZ(12,"div",61)(13,"button",57),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("keydown.enter",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.incrementMinute(Ie))})("keydown.space",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.incrementMinute(Ie))})("mousedown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseDown(Ie,1,1))})("mouseup",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.enter",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.space",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("mouseleave",function(){f.CHM(M);const Ie=f.oxw(2);return f.KtG(Ie.onTimePickerElementMouseLeave())}),f._UZ(14,"span",58),f.qZA(),f.TgZ(15,"span"),f.YNc(16,Me,2,0,"ng-container",13),f._uU(17),f.qZA(),f.TgZ(18,"button",57),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("keydown.enter",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.decrementMinute(Ie))})("keydown.space",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.decrementMinute(Ie))})("mousedown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseDown(Ie,1,-1))})("mouseup",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.enter",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("keyup.space",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTimePickerElementMouseUp(Ie))})("mouseleave",function(){f.CHM(M);const Ie=f.oxw(2);return f.KtG(Ie.onTimePickerElementMouseLeave())}),f._UZ(19,"span",59),f.qZA()(),f.YNc(20,Fe,3,1,"div",62),f.YNc(21,R,8,2,"div",63),f.YNc(22,it,7,1,"div",64),f.qZA()}if(2&Ze){const M=f.oxw(2);f.xp6(5),f.Q6J("ngIf",M.currentHour<10),f.xp6(1),f.Oqu(M.currentHour),f.xp6(5),f.Oqu(M.timeSeparator),f.xp6(5),f.Q6J("ngIf",M.currentMinute<10),f.xp6(1),f.Oqu(M.currentMinute),f.xp6(3),f.Q6J("ngIf",M.showSeconds),f.xp6(1),f.Q6J("ngIf",M.showSeconds),f.xp6(1),f.Q6J("ngIf","12"==M.hourFormat)}}const Et=function(Ze){return[Ze]};function un(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"div",68)(1,"button",69),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("click",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onTodayButtonClick(Ie))}),f.qZA(),f.TgZ(2,"button",69),f.NdJ("keydown",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onContainerButtonKeydown(Ie))})("click",function(Ie){f.CHM(M);const Xe=f.oxw(2);return f.KtG(Xe.onClearButtonClick(Ie))}),f.qZA()()}if(2&Ze){const M=f.oxw(2);f.xp6(1),f.Q6J("label",M.getTranslation("today"))("ngClass",f.VKq(4,Et,M.todayButtonStyleClass)),f.xp6(1),f.Q6J("label",M.getTranslation("clear"))("ngClass",f.VKq(6,Et,M.clearButtonStyleClass))}}function Cn(Ze,It){1&Ze&&f.GkF(0)}const Ot=function(Ze,It,M,_e,Ie,Xe){return{"p-datepicker p-component":!0,"p-datepicker-inline":Ze,"p-disabled":It,"p-datepicker-timeonly":M,"p-datepicker-multiple-month":_e,"p-datepicker-monthpicker":Ie,"p-datepicker-touch-ui":Xe}},en=function(Ze,It){return{showTransitionParams:Ze,hideTransitionParams:It}},at=function(Ze){return{value:"visibleTouchUI",params:Ze}},Pt=function(Ze){return{value:"visible",params:Ze}};function Bt(Ze,It){if(1&Ze){const M=f.EpF();f.TgZ(0,"div",10,11),f.NdJ("@overlayAnimation.start",function(Ie){f.CHM(M);const Xe=f.oxw();return f.KtG(Xe.onOverlayAnimationStart(Ie))})("@overlayAnimation.done",function(Ie){f.CHM(M);const Xe=f.oxw();return f.KtG(Xe.onOverlayAnimationDone(Ie))})("click",function(Ie){f.CHM(M);const Xe=f.oxw();return f.KtG(Xe.onOverlayClick(Ie))}),f.Hsn(2),f.YNc(3,pe,1,0,"ng-container",12),f.YNc(4,re,5,3,"ng-container",13),f.YNc(5,Le,23,8,"div",14),f.YNc(6,un,3,8,"div",15),f.Hsn(7,1),f.YNc(8,Cn,1,0,"ng-container",12),f.qZA()}if(2&Ze){const M=f.oxw();f.Tol(M.panelStyleClass),f.Q6J("ngStyle",M.panelStyle)("ngClass",f.HTZ(11,Ot,M.inline,M.disabled,M.timeOnly,M.numberOfMonths>1,"month"===M.view,M.touchUI))("@overlayAnimation",M.touchUI?f.VKq(21,at,f.WLB(18,en,M.showTransitionOptions,M.hideTransitionOptions)):f.VKq(26,Pt,f.WLB(23,en,M.showTransitionOptions,M.hideTransitionOptions)))("@.disabled",!0===M.inline),f.xp6(3),f.Q6J("ngTemplateOutlet",M.headerTemplate),f.xp6(1),f.Q6J("ngIf",!M.timeOnly),f.xp6(1),f.Q6J("ngIf",(M.showTime||M.timeOnly)&&"date"===M.currentView),f.xp6(1),f.Q6J("ngIf",M.showButtonBar),f.xp6(2),f.Q6J("ngTemplateOutlet",M.footerTemplate)}}const tn=[[["p-header"]],[["p-footer"]]],ft=function(Ze,It,M,_e){return{"p-calendar":!0,"p-calendar-w-btn":Ze,"p-calendar-timeonly":It,"p-calendar-disabled":M,"p-focus":_e}},ei=["p-header","p-footer"],qn={provide:V.JU,useExisting:(0,f.Gpc)(()=>Ht),multi:!0};let Ht=(()=>{class Ze{constructor(M,_e,Ie,Xe,Rt,Qt){this.el=M,this.renderer=_e,this.cd=Ie,this.zone=Xe,this.config=Rt,this.overlayService=Qt,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new f.vpe,this.onBlur=new f.vpe,this.onClose=new f.vpe,this.onSelect=new f.vpe,this.onClear=new f.vpe,this.onInput=new f.vpe,this.onTodayClick=new f.vpe,this.onClearClick=new f.vpe,this.onMonthChange=new f.vpe,this.onYearChange=new f.vpe,this.onClickOutside=new f.vpe,this.onShow=new f.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(nn,nt){return"12"==this.hourFormat?12===nn?nt?12:0:nt?nn+12:nn:nn}}set content(M){this.contentViewChild=M,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(M){this._view=M,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(M){if(this._defaultDate=M,this.initialized){const _e=M||new Date;this.currentMonth=_e.getMonth(),this.currentYear=_e.getFullYear(),this.initTime(_e),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(M){this._minDate=M,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(M){this._maxDate=M,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(M){this._disabledDates=M,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(M){this._disabledDays=M,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(M){if(this._yearRange=M,M){const _e=M.split(":"),Ie=parseInt(_e[0]),Xe=parseInt(_e[1]);this.populateYearOptions(Ie,Xe)}}get showTime(){return this._showTime}set showTime(M){this._showTime=M,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(M){this._responsiveOptions=M,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(M){this._numberOfMonths=M,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(M){this._firstDayOfWeek=M,this.createWeekDays()}set locale(M){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,q.Th)();const M=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=M.getMonth(),this.currentYear=M.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(M),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(M=>{switch(M.getType()){case"date":default:this.dateTemplate=M.template;break;case"decade":this.decadeTemplate=M.template;break;case"disabledDate":this.disabledDateTemplate=M.template;break;case"header":this.headerTemplate=M.template;break;case"footer":this.footerTemplate=M.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=L.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(M){return this.config.getTranslation(M)}populateYearOptions(M,_e){this.yearOptions=[];for(let Ie=M;Ie<=_e;Ie++)this.yearOptions.push(Ie)}createWeekDays(){this.weekDays=[];let M=this.getFirstDateOfWeek(),_e=this.getTranslation(F.ws.DAY_NAMES_MIN);for(let Ie=0;Ie<7;Ie++)this.weekDays.push(_e[M]),M=6==M?0:++M}monthPickerValues(){let M=[];for(let _e=0;_e<=11;_e++)M.push(this.config.getTranslation("monthNamesShort")[_e]);return M}yearPickerValues(){let M=[],_e=this.currentYear-this.currentYear%10;for(let Ie=0;Ie<10;Ie++)M.push(_e+Ie);return M}createMonths(M,_e){this.months=this.months=[];for(let Ie=0;Ie<this.numberOfMonths;Ie++){let Xe=M+Ie,Rt=_e;Xe>11&&(Xe=Xe%11-1,Rt=_e+1),this.months.push(this.createMonth(Xe,Rt))}}getWeekNumber(M){let _e=new Date(M.getTime());_e.setDate(_e.getDate()+4-(_e.getDay()||7));let Ie=_e.getTime();return _e.setMonth(0),_e.setDate(1),Math.floor(Math.round((Ie-_e.getTime())/864e5)/7)+1}createMonth(M,_e){let Ie=[],Xe=this.getFirstDayOfMonthIndex(M,_e),Rt=this.getDaysCountInMonth(M,_e),Qt=this.getDaysCountInPrevMonth(M,_e),nn=1,nt=new Date,xt=[],ee=Math.ceil((Rt+Xe)/7);for(let ze=0;ze<ee;ze++){let dt=[];if(0==ze){for(let sn=Qt-Xe+1;sn<=Qt;sn++){let ni=this.getPreviousMonthAndYear(M,_e);dt.push({day:sn,month:ni.month,year:ni.year,otherMonth:!0,today:this.isToday(nt,sn,ni.month,ni.year),selectable:this.isSelectable(sn,ni.month,ni.year,!0)})}let bt=7-dt.length;for(let sn=0;sn<bt;sn++)dt.push({day:nn,month:M,year:_e,today:this.isToday(nt,nn,M,_e),selectable:this.isSelectable(nn,M,_e,!1)}),nn++}else for(let bt=0;bt<7;bt++){if(nn>Rt){let sn=this.getNextMonthAndYear(M,_e);dt.push({day:nn-Rt,month:sn.month,year:sn.year,otherMonth:!0,today:this.isToday(nt,nn-Rt,sn.month,sn.year),selectable:this.isSelectable(nn-Rt,sn.month,sn.year,!0)})}else dt.push({day:nn,month:M,year:_e,today:this.isToday(nt,nn,M,_e),selectable:this.isSelectable(nn,M,_e,!1)});nn++}this.showWeek&&xt.push(this.getWeekNumber(new Date(dt[0].year,dt[0].month,dt[0].day))),Ie.push(dt)}return{month:M,year:_e,dates:Ie,weekNumbers:xt}}initTime(M){this.pm=M.getHours()>11,this.showTime?(this.currentMinute=M.getMinutes(),this.currentSecond=M.getSeconds(),this.setCurrentHourPM(M.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(M){this.disabled?M.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(M){this.disabled?M.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let M=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-M,this.yearOptions[this.yearOptions.length-1]-M)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let M=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+M,this.yearOptions[this.yearOptions.length-1]+M)}}switchToMonthView(M){this.setCurrentView("month"),M.preventDefault()}switchToYearView(M){this.setCurrentView("year"),M.preventDefault()}onDateSelect(M,_e){!this.disabled&&_e.selectable?(this.isMultipleSelection()&&this.isSelected(_e)?(this.value=this.value.filter((Ie,Xe)=>!this.isDateEquals(Ie,_e)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(_e)&&this.selectDate(_e),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{M.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),M.preventDefault()):M.preventDefault()}shouldSelectDate(M){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(M,_e){"month"===this.view?this.onDateSelect(M,{year:this.currentYear,month:_e,day:1,selectable:!0}):(this.currentMonth=_e,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(M,_e){"year"===this.view?this.onDateSelect(M,{year:_e,month:0,day:1,selectable:!0}):(this.currentYear=_e,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let M="";if(this.value)if(this.isSingleSelection())M=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let _e=0;_e<this.value.length;_e++)M+=this.formatDateTime(this.value[_e]),_e!==this.value.length-1&&(M+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let Ie=this.value[1];M=this.formatDateTime(this.value[0]),Ie&&(M+=" "+this.rangeSeparator+" "+this.formatDateTime(Ie))}this.inputFieldValue=M,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(M){let _e=this.keepInvalid?M:null;return this.isValidDate(M)&&(this.timeOnly?_e=this.formatTime(M):(_e=this.formatDate(M,this.getDateFormat()),this.showTime&&(_e+=" "+this.formatTime(M)))),_e}setCurrentHourPM(M){"12"==this.hourFormat?(this.pm=M>11,this.currentHour=M>=12?12==M?12:M-12:0==M?12:M):this.currentHour=M}setCurrentView(M){this.currentView=M,this.cd.detectChanges(),this.alignOverlay()}selectDate(M){let _e=new Date(M.year,M.month,M.day);if(this.showTime&&(_e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),_e.setMinutes(this.currentMinute),_e.setSeconds(this.currentSecond)),this.minDate&&this.minDate>_e&&(_e=this.minDate,this.setCurrentHourPM(_e.getHours()),this.currentMinute=_e.getMinutes(),this.currentSecond=_e.getSeconds()),this.maxDate&&this.maxDate<_e&&(_e=this.maxDate,this.setCurrentHourPM(_e.getHours()),this.currentMinute=_e.getMinutes(),this.currentSecond=_e.getSeconds()),this.isSingleSelection())this.updateModel(_e);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,_e]:[_e]);else if(this.isRangeSelection())if(this.value&&this.value.length){let Ie=this.value[0],Xe=this.value[1];!Xe&&_e.getTime()>=Ie.getTime()?Xe=_e:(Ie=_e,Xe=null),this.updateModel([Ie,Xe])}else this.updateModel([_e,null]);this.onSelect.emit(_e)}updateModel(M){if(this.value=M,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let _e=null;this.value&&(_e=this.value.map(Ie=>this.formatDateTime(Ie))),this.onModelChange(_e)}}getFirstDayOfMonthIndex(M,_e){let Ie=new Date;Ie.setDate(1),Ie.setMonth(M),Ie.setFullYear(_e);let Xe=Ie.getDay()+this.getSundayIndex();return Xe>=7?Xe-7:Xe}getDaysCountInMonth(M,_e){return 32-this.daylightSavingAdjust(new Date(_e,M,32)).getDate()}getDaysCountInPrevMonth(M,_e){let Ie=this.getPreviousMonthAndYear(M,_e);return this.getDaysCountInMonth(Ie.month,Ie.year)}getPreviousMonthAndYear(M,_e){let Ie,Xe;return 0===M?(Ie=11,Xe=_e-1):(Ie=M-1,Xe=_e),{month:Ie,year:Xe}}getNextMonthAndYear(M,_e){let Ie,Xe;return 11===M?(Ie=0,Xe=_e+1):(Ie=M+1,Xe=_e),{month:Ie,year:Xe}}getSundayIndex(){let M=this.getFirstDateOfWeek();return M>0?7-M:0}isSelected(M){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,M);if(this.isMultipleSelection()){let _e=!1;for(let Ie of this.value)if(_e=this.isDateEquals(Ie,M),_e)break;return _e}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],M)||this.isDateEquals(this.value[1],M)||this.isDateBetween(this.value[0],this.value[1],M):this.isDateEquals(this.value[0],M):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(M){if(this.isComparable()&&!this.isMultipleSelection()){const[_e,Ie]=this.isRangeSelection()?this.value:[this.value,this.value],Xe=new Date(this.currentYear,M,1);return Xe>=_e&&Xe<=(null!=Ie?Ie:_e)}return!1}isMonthDisabled(M){return!this.isSelectable(1,M,this.currentYear,!1)}isYearSelected(M){if(this.isComparable()){let _e=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&_e.getFullYear()===M}return!1}isDateEquals(M,_e){return!!(M&&M instanceof Date)&&M.getDate()===_e.day&&M.getMonth()===_e.month&&M.getFullYear()===_e.year}isDateBetween(M,_e,Ie){if(M&&_e){let Rt=new Date(Ie.year,Ie.month,Ie.day);return M.getTime()<=Rt.getTime()&&_e.getTime()>=Rt.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(M,_e,Ie,Xe){return M.getDate()===_e&&M.getMonth()===Ie&&M.getFullYear()===Xe}isSelectable(M,_e,Ie,Xe){let Rt=!0,Qt=!0,nn=!0,nt=!0;return!(Xe&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>Ie||this.minDate.getFullYear()===Ie&&(this.minDate.getMonth()>_e||this.minDate.getMonth()===_e&&this.minDate.getDate()>M))&&(Rt=!1),this.maxDate&&(this.maxDate.getFullYear()<Ie||this.maxDate.getFullYear()===Ie&&(this.maxDate.getMonth()<_e||this.maxDate.getMonth()===_e&&this.maxDate.getDate()<M))&&(Qt=!1),this.disabledDates&&(nn=!this.isDateDisabled(M,_e,Ie)),this.disabledDays&&(nt=!this.isDayDisabled(M,_e,Ie)),Rt&&Qt&&nn&&nt)}isDateDisabled(M,_e,Ie){if(this.disabledDates)for(let Xe of this.disabledDates)if(Xe.getFullYear()===Ie&&Xe.getMonth()===_e&&Xe.getDate()===M)return!0;return!1}isDayDisabled(M,_e,Ie){if(this.disabledDays){let Rt=new Date(Ie,_e,M).getDay();return-1!==this.disabledDays.indexOf(Rt)}return!1}onInputFocus(M){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(M)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(M){this.focus=!1,this.onBlur.emit(M),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(M,_e){this.overlayVisible?this.hideOverlay():(_e.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(M){this.overlayService.add({originalEvent:M,target:this.el.nativeElement})}getMonthName(M){return this.config.getTranslation("monthNames")[M]}getYear(M){return"month"===this.currentView?this.currentYear:M.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(M){this.navigationState={backward:!0,button:!0},this.navBackward(M)}onNextButtonClick(M){this.navigationState={backward:!1,button:!0},this.navForward(M)}onContainerButtonKeydown(M){switch(M.which){case 9:this.inline||this.trapFocus(M);break;case 27:this.overlayVisible=!1,M.preventDefault()}}onInputKeydown(M){this.isKeydown=!0,40===M.keyCode&&this.contentViewChild?this.trapFocus(M):27===M.keyCode||13===M.keyCode?this.overlayVisible&&(this.overlayVisible=!1,M.preventDefault()):9===M.keyCode&&this.contentViewChild&&(L.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(_e=>_e.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(M,_e,Ie){const Xe=M.currentTarget,Rt=Xe.parentElement;switch(M.which){case 40:{Xe.tabIndex="-1";let Qt=L.p.index(Rt),nn=Rt.parentElement.nextElementSibling;nn?L.p.hasClass(nn.children[Qt].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(M)):(nn.children[Qt].children[0].tabIndex="0",nn.children[Qt].children[0].focus()):(this.navigationState={backward:!1},this.navForward(M)),M.preventDefault();break}case 38:{Xe.tabIndex="-1";let Qt=L.p.index(Rt),nn=Rt.parentElement.previousElementSibling;if(nn){let nt=nn.children[Qt].children[0];L.p.hasClass(nt,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(M)):(nt.tabIndex="0",nt.focus())}else this.navigationState={backward:!0},this.navBackward(M);M.preventDefault();break}case 37:{Xe.tabIndex="-1";let Qt=Rt.previousElementSibling;if(Qt){let nn=Qt.children[0];L.p.hasClass(nn,"p-disabled")||L.p.hasClass(nn.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,Ie):(nn.tabIndex="0",nn.focus())}else this.navigateToMonth(!0,Ie);M.preventDefault();break}case 39:{Xe.tabIndex="-1";let Qt=Rt.nextElementSibling;if(Qt){let nn=Qt.children[0];L.p.hasClass(nn,"p-disabled")?this.navigateToMonth(!1,Ie):(nn.tabIndex="0",nn.focus())}else this.navigateToMonth(!1,Ie);M.preventDefault();break}case 13:case 32:this.onDateSelect(M,_e),M.preventDefault();break;case 27:this.overlayVisible=!1,M.preventDefault();break;case 9:this.inline||this.trapFocus(M)}}onMonthCellKeydown(M,_e){const Ie=M.currentTarget;switch(M.which){case 38:case 40:{Ie.tabIndex="-1";var Xe=Ie.parentElement.children,Rt=L.p.index(Ie);let Qt=Xe[40===M.which?Rt+3:Rt-3];Qt&&(Qt.tabIndex="0",Qt.focus()),M.preventDefault();break}case 37:{Ie.tabIndex="-1";let Qt=Ie.previousElementSibling;Qt?(Qt.tabIndex="0",Qt.focus()):(this.navigationState={backward:!0},this.navBackward(M)),M.preventDefault();break}case 39:{Ie.tabIndex="-1";let Qt=Ie.nextElementSibling;Qt?(Qt.tabIndex="0",Qt.focus()):(this.navigationState={backward:!1},this.navForward(M)),M.preventDefault();break}case 13:this.onMonthSelect(M,_e),M.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,M.preventDefault();break;case 9:this.inline||this.trapFocus(M)}}onYearCellKeydown(M,_e){const Ie=M.currentTarget;switch(M.which){case 38:case 40:{Ie.tabIndex="-1";var Xe=Ie.parentElement.children,Rt=L.p.index(Ie);let Qt=Xe[40===M.which?Rt+2:Rt-2];Qt&&(Qt.tabIndex="0",Qt.focus()),M.preventDefault();break}case 37:{Ie.tabIndex="-1";let Qt=Ie.previousElementSibling;Qt?(Qt.tabIndex="0",Qt.focus()):(this.navigationState={backward:!0},this.navBackward(M)),M.preventDefault();break}case 39:{Ie.tabIndex="-1";let Qt=Ie.nextElementSibling;Qt?(Qt.tabIndex="0",Qt.focus()):(this.navigationState={backward:!1},this.navForward(M)),M.preventDefault();break}case 13:case 32:this.onYearSelect(M,_e),M.preventDefault();break;case 27:this.overlayVisible=!1,M.preventDefault();break;case 9:this.trapFocus(M)}}navigateToMonth(M,_e){if(M)if(1===this.numberOfMonths||0===_e)this.navigationState={backward:!0},this.navBackward(event);else{let Xe=L.p.find(this.contentViewChild.nativeElement.children[_e-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),Rt=Xe[Xe.length-1];Rt.tabIndex="0",Rt.focus()}else if(1===this.numberOfMonths||_e===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let Xe=L.p.findSingle(this.contentViewChild.nativeElement.children[_e+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");Xe.tabIndex="0",Xe.focus()}}updateFocus(){let M;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?L.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():L.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let _e;_e=L.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),_e&&_e.length>0&&(M=_e[_e.length-1])}else M=L.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");M&&(M.tabIndex="0",M.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){var M;const _e=null===(M=this.contentViewChild)||void 0===M?void 0:M.nativeElement;let Ie;if("month"===this.currentView){let Xe=L.p.find(_e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),Rt=L.p.findSingle(_e,".p-monthpicker .p-monthpicker-month.p-highlight");Xe.forEach(Qt=>Qt.tabIndex=-1),Ie=Rt||Xe[0],0===Xe.length&&L.p.find(_e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(nn=>nn.tabIndex=-1)}else if("year"===this.currentView){let Xe=L.p.find(_e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),Rt=L.p.findSingle(_e,".p-yearpicker .p-yearpicker-year.p-highlight");Xe.forEach(Qt=>Qt.tabIndex=-1),Ie=Rt||Xe[0],0===Xe.length&&L.p.find(_e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(nn=>nn.tabIndex=-1)}else if(Ie=L.p.findSingle(_e,"span.p-highlight"),!Ie){let Xe=L.p.findSingle(_e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");Ie=Xe||L.p.findSingle(_e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}Ie&&(Ie.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{Ie.focus()},1),this.preventFocus=!1)}trapFocus(M){let _e=L.p.getFocusableElements(this.contentViewChild.nativeElement);if(_e&&_e.length>0)if(_e[0].ownerDocument.activeElement){let Ie=_e.indexOf(_e[0].ownerDocument.activeElement);if(M.shiftKey)if(-1==Ie||0===Ie)if(this.focusTrap)_e[_e.length-1].focus();else{if(-1===Ie)return this.hideOverlay();if(0===Ie)return}else _e[Ie-1].focus();else if(-1==Ie||Ie===_e.length-1){if(!this.focusTrap&&-1!=Ie)return this.hideOverlay();_e[0].focus()}else _e[Ie+1].focus()}else _e[0].focus();M.preventDefault()}onMonthDropdownChange(M){this.currentMonth=parseInt(M),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(M){this.currentYear=parseInt(M),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(M,_e,Ie,Xe){let Rt=this.value;const Qt=this.convertTo24Hour(M,Xe);this.isRangeSelection()&&(Rt=this.value[1]||this.value[0]),this.isMultipleSelection()&&(Rt=this.value[this.value.length-1]);const nn=Rt?Rt.toDateString():null;return!(this.minDate&&nn&&this.minDate.toDateString()===nn&&(this.minDate.getHours()>Qt||this.minDate.getHours()===Qt&&(this.minDate.getMinutes()>_e||this.minDate.getMinutes()===_e&&this.minDate.getSeconds()>Ie))||this.maxDate&&nn&&this.maxDate.toDateString()===nn&&(this.maxDate.getHours()<Qt||this.maxDate.getHours()===Qt&&(this.maxDate.getMinutes()<_e||this.maxDate.getMinutes()===_e&&this.maxDate.getSeconds()<Ie)))}incrementHour(M){let Ie=this.currentHour+this.stepHour,Xe=this.pm;"24"==this.hourFormat?Ie=Ie>=24?Ie-24:Ie:"12"==this.hourFormat&&(this.currentHour<12&&Ie>11&&(Xe=!this.pm),Ie=Ie>=13?Ie-12:Ie),this.validateTime(Ie,this.currentMinute,this.currentSecond,Xe)&&(this.currentHour=Ie,this.pm=Xe),M.preventDefault()}onTimePickerElementMouseDown(M,_e,Ie){this.disabled||(this.repeat(M,null,_e,Ie),M.preventDefault())}onTimePickerElementMouseUp(M){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(M,_e,Ie,Xe){let Rt=_e||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(M,100,Ie,Xe),this.cd.markForCheck()},Rt),Ie){case 0:1===Xe?this.incrementHour(M):this.decrementHour(M);break;case 1:1===Xe?this.incrementMinute(M):this.decrementMinute(M);break;case 2:1===Xe?this.incrementSecond(M):this.decrementSecond(M)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(M){let _e=this.currentHour-this.stepHour,Ie=this.pm;"24"==this.hourFormat?_e=_e<0?24+_e:_e:"12"==this.hourFormat&&(12===this.currentHour&&(Ie=!this.pm),_e=_e<=0?12+_e:_e),this.validateTime(_e,this.currentMinute,this.currentSecond,Ie)&&(this.currentHour=_e,this.pm=Ie),M.preventDefault()}incrementMinute(M){let _e=this.currentMinute+this.stepMinute;_e=_e>59?_e-60:_e,this.validateTime(this.currentHour,_e,this.currentSecond,this.pm)&&(this.currentMinute=_e),M.preventDefault()}decrementMinute(M){let _e=this.currentMinute-this.stepMinute;_e=_e<0?60+_e:_e,this.validateTime(this.currentHour,_e,this.currentSecond,this.pm)&&(this.currentMinute=_e),M.preventDefault()}incrementSecond(M){let _e=this.currentSecond+this.stepSecond;_e=_e>59?_e-60:_e,this.validateTime(this.currentHour,this.currentMinute,_e,this.pm)&&(this.currentSecond=_e),M.preventDefault()}decrementSecond(M){let _e=this.currentSecond-this.stepSecond;_e=_e<0?60+_e:_e,this.validateTime(this.currentHour,this.currentMinute,_e,this.pm)&&(this.currentSecond=_e),M.preventDefault()}updateTime(){let M=this.value;this.isRangeSelection()&&(M=this.value[1]||this.value[0]),this.isMultipleSelection()&&(M=this.value[this.value.length-1]),M=M?new Date(M.getTime()):new Date,M.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),M.setMinutes(this.currentMinute),M.setSeconds(this.currentSecond),this.isRangeSelection()&&(M=this.value[1]?[this.value[0],M]:[M,null]),this.isMultipleSelection()&&(M=[...this.value.slice(0,-1),M]),this.updateModel(M),this.onSelect.emit(M),this.updateInputfield()}toggleAMPM(M){const _e=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,_e)&&(this.pm=_e,this.updateTime()),M.preventDefault()}onUserInput(M){if(!this.isKeydown)return;this.isKeydown=!1;let _e=M.target.value;try{let Ie=this.parseValueFromString(_e);this.isValidSelection(Ie)&&(this.updateModel(Ie),this.updateUI())}catch(Ie){this.updateModel(this.keepInvalid?_e:null)}this.filled=null!=_e&&_e.length,this.onInput.emit(M)}isValidSelection(M){let _e=!0;return this.isSingleSelection()?this.isSelectable(M.getDate(),M.getMonth(),M.getFullYear(),!1)||(_e=!1):M.every(Ie=>this.isSelectable(Ie.getDate(),Ie.getMonth(),Ie.getFullYear(),!1))&&this.isRangeSelection()&&(_e=M.length>1&&M[1]>M[0]),_e}parseValueFromString(M){if(!M||0===M.trim().length)return null;let _e;if(this.isSingleSelection())_e=this.parseDateTime(M);else if(this.isMultipleSelection()){let Ie=M.split(this.multipleSeparator);_e=[];for(let Xe of Ie)_e.push(this.parseDateTime(Xe.trim()))}else if(this.isRangeSelection()){let Ie=M.split(" "+this.rangeSeparator+" ");_e=[];for(let Xe=0;Xe<Ie.length;Xe++)_e[Xe]=this.parseDateTime(Ie[Xe].trim())}return _e}parseDateTime(M){let _e,Ie=M.split(" ");if(this.timeOnly)_e=new Date,this.populateTime(_e,Ie[0],Ie[1]);else{const Xe=this.getDateFormat();if(this.showTime){let Rt="12"==this.hourFormat?Ie.pop():null,Qt=Ie.pop();_e=this.parseDate(Ie.join(" "),Xe),this.populateTime(_e,Qt,Rt)}else _e=this.parseDate(M,Xe)}return _e}populateTime(M,_e,Ie){if("12"==this.hourFormat&&!Ie)throw"Invalid Time";this.pm="PM"===Ie||"pm"===Ie;let Xe=this.parseTime(_e);M.setHours(Xe.hour),M.setMinutes(Xe.minute),M.setSeconds(Xe.second)}isValidDate(M){return M instanceof Date&&q.gb.isNotEmpty(M)}updateUI(){let M=this.value;Array.isArray(M)&&(M=M[0]);let _e=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:M&&this.isValidDate(M)?M:new Date;this.currentMonth=_e.getMonth(),this.currentYear=_e.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(_e.getHours()),this.currentMinute=_e.getMinutes(),this.currentSecond=_e.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(M){switch(M.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=M.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?q.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):q.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(M));break;case"void":this.onOverlayHide(),this.onClose.emit(M)}}onOverlayAnimationDone(M){switch(M.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&q.P9.clear(M.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):L.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=L.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=L.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=L.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",L.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):L.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(M){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(M.style.zIndex)-1),L.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",Ie=>{this.disableModality()}),document.body.appendChild(this.mask),L.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(L.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let _e,M=document.body.children;for(let Ie=0;Ie<M.length;Ie++)if(L.p.hasClass(M[Ie],"p-datepicker-mask-scrollblocker")){_e=!0;break}_e||L.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(M){if(this.value=M,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(_e){this.keepInvalid&&(this.value=M)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(M){this.onModelChange=M}registerOnTouched(M){this.onModelTouched=M}setDisabledState(M){this.disabled=M,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(F.ws.FIRST_DAY_OF_WEEK)}formatDate(M,_e){if(!M)return"";let Ie;const Xe=xt=>{const ee=Ie+1<_e.length&&_e.charAt(Ie+1)===xt;return ee&&Ie++,ee},Rt=(xt,ee,ze)=>{let dt=""+ee;if(Xe(xt))for(;dt.length<ze;)dt="0"+dt;return dt},Qt=(xt,ee,ze,dt)=>Xe(xt)?dt[ee]:ze[ee];let nn="",nt=!1;if(M)for(Ie=0;Ie<_e.length;Ie++)if(nt)"'"!==_e.charAt(Ie)||Xe("'")?nn+=_e.charAt(Ie):nt=!1;else switch(_e.charAt(Ie)){case"d":nn+=Rt("d",M.getDate(),2);break;case"D":nn+=Qt("D",M.getDay(),this.getTranslation(F.ws.DAY_NAMES_SHORT),this.getTranslation(F.ws.DAY_NAMES));break;case"o":nn+=Rt("o",Math.round((new Date(M.getFullYear(),M.getMonth(),M.getDate()).getTime()-new Date(M.getFullYear(),0,0).getTime())/864e5),3);break;case"m":nn+=Rt("m",M.getMonth()+1,2);break;case"M":nn+=Qt("M",M.getMonth(),this.getTranslation(F.ws.MONTH_NAMES_SHORT),this.getTranslation(F.ws.MONTH_NAMES));break;case"y":nn+=Xe("y")?M.getFullYear():(M.getFullYear()%100<10?"0":"")+M.getFullYear()%100;break;case"@":nn+=M.getTime();break;case"!":nn+=1e4*M.getTime()+this.ticksTo1970;break;case"'":Xe("'")?nn+="'":nt=!0;break;default:nn+=_e.charAt(Ie)}return nn}formatTime(M){if(!M)return"";let _e="",Ie=M.getHours(),Xe=M.getMinutes(),Rt=M.getSeconds();return"12"==this.hourFormat&&Ie>11&&12!=Ie&&(Ie-=12),_e+="12"==this.hourFormat&&0===Ie?12:Ie<10?"0"+Ie:Ie,_e+=":",_e+=Xe<10?"0"+Xe:Xe,this.showSeconds&&(_e+=":",_e+=Rt<10?"0"+Rt:Rt),"12"==this.hourFormat&&(_e+=M.getHours()>11?" PM":" AM"),_e}parseTime(M){let _e=M.split(":");if(_e.length!==(this.showSeconds?3:2))throw"Invalid time";let Xe=parseInt(_e[0]),Rt=parseInt(_e[1]),Qt=this.showSeconds?parseInt(_e[2]):null;if(isNaN(Xe)||isNaN(Rt)||Xe>23||Rt>59||"12"==this.hourFormat&&Xe>12||this.showSeconds&&(isNaN(Qt)||Qt>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==Xe&&this.pm?Xe+=12:!this.pm&&12===Xe&&(Xe-=12)),{hour:Xe,minute:Rt,second:Qt}}parseDate(M,_e){if(null==_e||null==M)throw"Invalid arguments";if(""===(M="object"==typeof M?M.toString():M+""))return null;let Ie,Xe,Rt,bt,Qt=0,nn="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),nt=-1,xt=-1,ee=-1,ze=-1,dt=!1,sn=an=>{let tt=Ie+1<_e.length&&_e.charAt(Ie+1)===an;return tt&&Ie++,tt},ni=an=>{let tt=sn(an),At="@"===an?14:"!"===an?20:"y"===an&&tt?4:"o"===an?3:2,Kt=new RegExp("^\\d{"+("y"===an?At:1)+","+At+"}"),vn=M.substring(Qt).match(Kt);if(!vn)throw"Missing number at position "+Qt;return Qt+=vn[0].length,parseInt(vn[0],10)},Ui=(an,tt,At)=>{let qt=-1,Kt=sn(an)?At:tt,vn=[];for(let Rn=0;Rn<Kt.length;Rn++)vn.push([Rn,Kt[Rn]]);vn.sort((Rn,pi)=>-(Rn[1].length-pi[1].length));for(let Rn=0;Rn<vn.length;Rn++){let pi=vn[Rn][1];if(M.substr(Qt,pi.length).toLowerCase()===pi.toLowerCase()){qt=vn[Rn][0],Qt+=pi.length;break}}if(-1!==qt)return qt+1;throw"Unknown name at position "+Qt},kt=()=>{if(M.charAt(Qt)!==_e.charAt(Ie))throw"Unexpected literal at position "+Qt;Qt++};for("month"===this.view&&(ee=1),Ie=0;Ie<_e.length;Ie++)if(dt)"'"!==_e.charAt(Ie)||sn("'")?kt():dt=!1;else switch(_e.charAt(Ie)){case"d":ee=ni("d");break;case"D":Ui("D",this.getTranslation(F.ws.DAY_NAMES_SHORT),this.getTranslation(F.ws.DAY_NAMES));break;case"o":ze=ni("o");break;case"m":xt=ni("m");break;case"M":xt=Ui("M",this.getTranslation(F.ws.MONTH_NAMES_SHORT),this.getTranslation(F.ws.MONTH_NAMES));break;case"y":nt=ni("y");break;case"@":bt=new Date(ni("@")),nt=bt.getFullYear(),xt=bt.getMonth()+1,ee=bt.getDate();break;case"!":bt=new Date((ni("!")-this.ticksTo1970)/1e4),nt=bt.getFullYear(),xt=bt.getMonth()+1,ee=bt.getDate();break;case"'":sn("'")?kt():dt=!0;break;default:kt()}if(Qt<M.length&&(Rt=M.substr(Qt),!/^\s+/.test(Rt)))throw"Extra/unparsed characters found in date: "+Rt;if(-1===nt?nt=(new Date).getFullYear():nt<100&&(nt+=(new Date).getFullYear()-(new Date).getFullYear()%100+(nt<=nn?0:-100)),ze>-1)for(xt=1,ee=ze;Xe=this.getDaysCountInMonth(nt,xt-1),!(ee<=Xe);)xt++,ee-=Xe;if("year"===this.view&&(xt=-1===xt?1:xt,ee=-1===ee?1:ee),bt=this.daylightSavingAdjust(new Date(nt,xt-1,ee)),bt.getFullYear()!==nt||bt.getMonth()+1!==xt||bt.getDate()!==ee)throw"Invalid date";return bt}daylightSavingAdjust(M){return M?(M.setHours(M.getHours()>12?M.getHours()+2:0),M):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(M){let _e=new Date,Ie={day:_e.getDate(),month:_e.getMonth(),year:_e.getFullYear(),otherMonth:_e.getMonth()!==this.currentMonth||_e.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(M,Ie),this.onTodayClick.emit(M)}onClearButtonClick(M){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(M)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let M="";if(this.responsiveOptions){let _e=[...this.responsiveOptions].filter(Ie=>!(!Ie.breakpoint||!Ie.numMonths)).sort((Ie,Xe)=>-1*Ie.breakpoint.localeCompare(Xe.breakpoint,void 0,{numeric:!0}));for(let Ie=0;Ie<_e.length;Ie++){let{breakpoint:Xe,numMonths:Rt}=_e[Ie],Qt=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${Rt}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let nn=Rt;nn<this.numberOfMonths;nn++)Qt+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${nn+1}) {\n                                display: none !important;\n                            }\n                        `;M+=`\n                        @media screen and (max-width: ${Xe}) {\n                            ${Qt}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=M}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",_e=>{this.isOutsideClicked(_e)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(_e),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new L.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(M){return!(this.el.nativeElement.isSameNode(M.target)||this.isNavIconClicked(M)||this.el.nativeElement.contains(M.target)||this.overlay&&this.overlay.contains(M.target))}isNavIconClicked(M){return L.p.hasClass(M.target,"p-datepicker-prev")||L.p.hasClass(M.target,"p-datepicker-prev-icon")||L.p.hasClass(M.target,"p-datepicker-next")||L.p.hasClass(M.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!L.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&q.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return Ze.\u0275fac=function(M){return new(M||Ze)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(F.b4),f.Y36(F.F0))},Ze.\u0275cmp=f.Xpm({type:Ze,selectors:[["p-calendar"]],contentQueries:function(M,_e,Ie){if(1&M&&f.Suo(Ie,F.jx,4),2&M){let Xe;f.iGM(Xe=f.CRH())&&(_e.templates=Xe)}},viewQuery:function(M,_e){if(1&M&&(f.Gf(z,5),f.Gf(he,5),f.Gf(ne,5)),2&M){let Ie;f.iGM(Ie=f.CRH())&&(_e.containerViewChild=Ie.first),f.iGM(Ie=f.CRH())&&(_e.inputfieldViewChild=Ie.first),f.iGM(Ie=f.CRH())&&(_e.content=Ie.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(M,_e){2&M&&f.ekj("p-inputwrapper-filled",_e.filled)("p-inputwrapper-focus",_e.focus)("p-calendar-clearable",_e.showClear&&!_e.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[f._Bn([qn])],ngContentSelectors:ei,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(M,_e){1&M&&(f.F$t(tn),f.TgZ(0,"span",0,1),f.YNc(2,ge,4,17,"ng-template",2),f.YNc(3,Bt,9,28,"div",3),f.qZA()),2&M&&(f.Tol(_e.styleClass),f.Q6J("ngClass",f.l5B(6,ft,_e.showIcon,_e.timeOnly,_e.disabled,_e.focus))("ngStyle",_e.style),f.xp6(2),f.Q6J("ngIf",!_e.inline),f.xp6(1),f.Q6J("ngIf",_e.inline||_e.overlayVisible))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,I.Hq,se.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayAnimation",[(0,e.SB)("visibleTouchUI",(0,e.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,e.eR)("void => visible",[(0,e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,e.jt)("{{showTransitionParams}}",(0,e.oB)({opacity:1,transform:"*"}))]),(0,e.eR)("visible => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0}))]),(0,e.eR)("void => visibleTouchUI",[(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,e.jt)("{{showTransitionParams}}")]),(0,e.eR)("visibleTouchUI => void",[(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),Ze})(),mt=(()=>{class Ze{}return Ze.\u0275fac=function(M){return new(M||Ze)},Ze.\u0275mod=f.oAB({type:Ze}),Ze.\u0275inj=f.cJS({imports:[s.ez,I.hJ,F.m8,se.T,I.hJ,F.m8]}),Ze})()},1208:(Lt,qe,C)=>{C.d(qe,{XZ:()=>he,nD:()=>ne});var e=C(5e3),s=C(9808),f=C(2382),V=C(5921);const F=["cb"],I=function(De,ue,ge){return{"p-checkbox-label":!0,"p-checkbox-label-active":De,"p-disabled":ue,"p-checkbox-label-focus":ge}};function L(De,ue){if(1&De){const ge=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(ke){e.CHM(ge);const Q=e.oxw(),Oe=e.MAs(3);return e.KtG(Q.onClick(ke,Oe,!0))}),e._uU(1),e.qZA()}if(2&De){const ge=e.oxw();e.Tol(ge.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,I,ge.checked(),ge.disabled,ge.focused)),e.uIk("for",ge.inputId),e.xp6(1),e.Oqu(ge.label)}}const se=function(De,ue,ge){return{"p-checkbox p-component":!0,"p-checkbox-checked":De,"p-checkbox-disabled":ue,"p-checkbox-focused":ge}},q=function(De,ue,ge){return{"p-highlight":De,"p-disabled":ue,"p-focus":ge}},z={provide:f.JU,useExisting:(0,e.Gpc)(()=>he),multi:!0};let he=(()=>{class De{constructor(ge){this.cd=ge,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(ge,pe,ke){ge.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(ge),ke&&pe.focus())}updateModel(ge){let pe;this.binary?(pe=this.checked()?this.falseValue:this.trueValue,this.model=pe,this.onModelChange(pe)):(pe=this.checked()?this.model.filter(ke=>!V.gb.equals(ke,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(pe),this.model=pe,this.formControl&&this.formControl.setValue(pe)),this.onChange.emit({checked:pe,originalEvent:ge})}handleChange(ge){this.readonly||this.updateModel(ge)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(ge){this.model=ge,this.cd.markForCheck()}registerOnChange(ge){this.onModelChange=ge}registerOnTouched(ge){this.onModelTouched=ge}setDisabledState(ge){this.disabled=ge,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:V.gb.contains(this.value,this.model)}}return De.\u0275fac=function(ge){return new(ge||De)(e.Y36(e.sBO))},De.\u0275cmp=e.Xpm({type:De,selectors:[["p-checkbox"]],viewQuery:function(ge,pe){if(1&ge&&e.Gf(F,5),2&ge){let ke;e.iGM(ke=e.CRH())&&(pe.inputViewChild=ke.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([z])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(ge,pe){if(1&ge){const ke=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return pe.onFocus()})("blur",function(){return pe.onBlur()})("change",function(Oe){return pe.handleChange(Oe)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(Oe){e.CHM(ke);const le=e.MAs(3);return e.KtG(pe.onClick(Oe,le,!0))}),e._UZ(5,"span",5),e.qZA()(),e.YNc(6,L,2,9,"label",6)}2&ge&&(e.Tol(pe.styleClass),e.Q6J("ngStyle",pe.style)("ngClass",e.kEZ(18,se,pe.checked(),pe.disabled,pe.focused)),e.xp6(2),e.Q6J("readonly",pe.readonly)("value",pe.value)("checked",pe.checked())("disabled",pe.disabled),e.uIk("id",pe.inputId)("name",pe.name)("tabindex",pe.tabindex)("aria-labelledby",pe.ariaLabelledBy)("aria-label",pe.ariaLabel)("aria-checked",pe.checked())("required",pe.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,q,pe.checked(),pe.disabled,pe.focused)),e.xp6(1),e.Q6J("ngClass",pe.checked()?pe.checkboxIcon:null),e.xp6(1),e.Q6J("ngIf",pe.label))},dependencies:[s.mk,s.O5,s.PC],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),De})(),ne=(()=>{class De{}return De.\u0275fac=function(ge){return new(ge||De)},De.\u0275mod=e.oAB({type:De}),De.\u0275inj=e.cJS({imports:[s.ez]}),De})()},6888:(Lt,qe,C)=>{C.d(qe,{e4:()=>we,zH:()=>N});var e=C(5e3),s=C(1777),f=C(9808),V=C(5730),F=C(2382),I=C(5921),L=C(9783);const se=["container"],q=["input"],z=["colorSelector"],he=["colorHandle"],ne=["hue"],De=["hueHandle"],ue=function(be){return{"p-disabled":be}};function ge(be,ye){if(1&be){const G=e.EpF();e.TgZ(0,"input",4,5),e.NdJ("focus",function(){e.CHM(G);const U=e.oxw();return e.KtG(U.onInputFocus())})("click",function(){e.CHM(G);const U=e.oxw();return e.KtG(U.onInputClick())})("keydown",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onInputKeydown(U))}),e.qZA()}if(2&be){const G=e.oxw();e.Udp("background-color",G.inputBgColor),e.Q6J("ngClass",e.VKq(6,ue,G.disabled))("disabled",G.disabled),e.uIk("id",G.inputId)("tabindex",G.tabindex)}}const pe=function(be,ye){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":be,"p-disabled":ye}},ke=function(be,ye){return{showTransitionParams:be,hideTransitionParams:ye}},Q=function(be){return{value:"visible",params:be}};function Oe(be,ye){if(1&be){const G=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onOverlayClick(U))})("@overlayAnimation.start",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onOverlayAnimationStart(U))})("@overlayAnimation.done",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onOverlayAnimationEnd(U))}),e.TgZ(1,"div",7)(2,"div",8,9),e.NdJ("touchstart",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onColorTouchStart(U))})("touchmove",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onMove(U))})("touchend",function(){e.CHM(G);const U=e.oxw();return e.KtG(U.onDragEnd())})("mousedown",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onColorMousedown(U))}),e.TgZ(4,"div",10),e._UZ(5,"div",11,12),e.qZA()(),e.TgZ(7,"div",13,14),e.NdJ("mousedown",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onHueMousedown(U))})("touchstart",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onHueTouchStart(U))})("touchmove",function(U){e.CHM(G);const $=e.oxw();return e.KtG($.onMove(U))})("touchend",function(){e.CHM(G);const U=e.oxw();return e.KtG(U.onDragEnd())}),e._UZ(9,"div",15,16),e.qZA()()()}if(2&be){const G=e.oxw();e.Q6J("ngClass",e.WLB(3,pe,!G.inline,G.disabled))("@overlayAnimation",e.VKq(9,Q,e.WLB(6,ke,G.showTransitionOptions,G.hideTransitionOptions)))("@.disabled",!0===G.inline)}}const le=function(be,ye){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":be,"p-colorpicker-dragging":ye}},P={provide:F.JU,useExisting:(0,e.Gpc)(()=>N),multi:!0};let N=(()=>{class be{constructor(G,E,U,$,Ae){this.el=G,this.renderer=E,this.cd=U,this.config=$,this.overlayService=Ae,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.value={h:0,s:100,b:100},this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set colorSelector(G){this.colorSelectorViewChild=G}set colorHandle(G){this.colorHandleViewChild=G}set hue(G){this.hueViewChild=G}set hueHandle(G){this.hueHandleViewChild=G}onHueMousedown(G){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(G))}onHueTouchStart(G){this.disabled||(this.hueDragging=!0,this.pickHue(G,G.changedTouches[0]))}onColorTouchStart(G){this.disabled||(this.colorDragging=!0,this.pickColor(G,G.changedTouches[0]))}pickHue(G,E){let U=E?E.pageY:G.pageY,$=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,U-$)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:G,value:this.getValueToUpdate()})}onColorMousedown(G){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(G))}onMove(G){this.colorDragging&&(this.pickColor(G,G.changedTouches[0]),G.preventDefault()),this.hueDragging&&(this.pickHue(G,G.changedTouches[0]),G.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(G,E){let U=E?E.pageX:G.pageX,$=E?E.pageY:G.pageY,Ae=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),Ne=Ae.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),He=Ae.left+document.body.scrollLeft,Re=Math.floor(100*Math.max(0,Math.min(150,U-He))/150),gt=Math.floor(100*(150-Math.max(0,Math.min(150,$-Ne)))/150);this.value=this.validateHSB({h:this.value.h,s:Re,b:gt}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:G,value:this.getValueToUpdate()})}getValueToUpdate(){let G;switch(this.format){case"hex":G="#"+this.HSBtoHEX(this.value);break;case"rgb":G=this.HSBtoRGB(this.value);break;case"hsb":G=this.value}return G}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(G){if(G)switch(this.format){case"hex":this.value=this.HEXtoHSB(G);break;case"rgb":this.value=this.RGBtoHSB(G);break;case"hsb":this.value=G}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const G={s:100,b:100};G.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(G)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(G){switch(G.toState){case"visible":this.inline||(this.overlay=G.element,this.appendOverlay(),this.autoZIndex&&I.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(G){switch(G.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&I.P9.clear(G.element),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):V.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?V.p.absolutePosition(this.overlay,this.inputViewChild.nativeElement):V.p.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(G){switch(G.which){case 32:this.togglePanel(),G.preventDefault();break;case 27:case 9:this.hide()}}onOverlayClick(G){this.overlayService.add({originalEvent:G,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(G){this.onModelChange=G}registerOnTouched(G){this.onModelTouched=G}setDisabledState(G){this.disabled=G,this.cd.markForCheck()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousemove",E=>{this.colorDragging&&this.pickColor(E),this.hueDragging&&this.pickHue(E)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!V.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new V.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(G){return{h:Math.min(360,Math.max(0,G.h)),s:Math.min(100,Math.max(0,G.s)),b:Math.min(100,Math.max(0,G.b))}}validateRGB(G){return{r:Math.min(255,Math.max(0,G.r)),g:Math.min(255,Math.max(0,G.g)),b:Math.min(255,Math.max(0,G.b))}}validateHEX(G){var E=6-G.length;if(E>0){for(var U=[],$=0;$<E;$++)U.push("0");U.push(G),G=U.join("")}return G}HEXtoRGB(G){let E=parseInt(G.indexOf("#")>-1?G.substring(1):G,16);return{r:E>>16,g:(65280&E)>>8,b:255&E}}HEXtoHSB(G){return this.RGBtoHSB(this.HEXtoRGB(G))}RGBtoHSB(G){var E={h:0,s:0,b:0},U=Math.min(G.r,G.g,G.b),$=Math.max(G.r,G.g,G.b),Ae=$-U;return E.b=$,E.s=0!=$?255*Ae/$:0,E.h=0!=E.s?G.r==$?(G.g-G.b)/Ae:G.g==$?2+(G.b-G.r)/Ae:4+(G.r-G.g)/Ae:-1,E.h*=60,E.h<0&&(E.h+=360),E.s*=100/255,E.b*=100/255,E}HSBtoRGB(G){var E={r:null,g:null,b:null};let U=G.h,$=255*G.s/100,Ae=255*G.b/100;if(0==$)E={r:Ae,g:Ae,b:Ae};else{let Ne=Ae,He=(255-$)*Ae/255,Re=U%60*(Ne-He)/60;360==U&&(U=0),U<60?(E.r=Ne,E.b=He,E.g=He+Re):U<120?(E.g=Ne,E.b=He,E.r=Ne-Re):U<180?(E.g=Ne,E.r=He,E.b=He+Re):U<240?(E.b=Ne,E.r=He,E.g=Ne-Re):U<300?(E.b=Ne,E.g=He,E.r=He+Re):U<360?(E.r=Ne,E.g=He,E.b=Ne-Re):(E.r=0,E.g=0,E.b=0)}return{r:Math.round(E.r),g:Math.round(E.g),b:Math.round(E.b)}}RGBtoHEX(G){var E=[G.r.toString(16),G.g.toString(16),G.b.toString(16)];for(var U in E)1==E[U].length&&(E[U]="0"+E[U]);return E.join("")}HSBtoHEX(G){return this.RGBtoHEX(this.HSBtoRGB(G))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&I.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return be.\u0275fac=function(G){return new(G||be)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(L.b4),e.Y36(L.F0))},be.\u0275cmp=e.Xpm({type:be,selectors:[["p-colorPicker"]],viewQuery:function(G,E){if(1&G&&(e.Gf(se,5),e.Gf(q,5),e.Gf(z,5),e.Gf(he,5),e.Gf(ne,5),e.Gf(De,5)),2&G){let U;e.iGM(U=e.CRH())&&(E.containerViewChild=U.first),e.iGM(U=e.CRH())&&(E.inputViewChild=U.first),e.iGM(U=e.CRH())&&(E.colorSelector=U.first),e.iGM(U=e.CRH())&&(E.colorHandle=U.first),e.iGM(U=e.CRH())&&(E.hue=U.first),e.iGM(U=e.CRH())&&(E.hueHandle=U.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:"inline",format:"format",appendTo:"appendTo",disabled:"disabled",tabindex:"tabindex",inputId:"inputId",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[e._Bn([P])],decls:4,vars:9,consts:[[3,"ngStyle","ngClass"],["container",""],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(G,E){1&G&&(e.TgZ(0,"div",0,1),e.YNc(2,ge,2,8,"input",2),e.YNc(3,Oe,11,11,"div",3),e.qZA()),2&G&&(e.Tol(E.styleClass),e.Q6J("ngStyle",E.style)("ngClass",e.WLB(6,le,!E.inline,E.colorDragging||E.hueDragging)),e.xp6(2),e.Q6J("ngIf",!E.inline),e.xp6(1),e.Q6J("ngIf",E.inline||E.overlayVisible))},dependencies:[f.mk,f.O5,f.PC],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,s.X$)("overlayAnimation",[(0,s.eR)(":enter",[(0,s.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,s.jt)("{{showTransitionParams}}")]),(0,s.eR)(":leave",[(0,s.jt)("{{hideTransitionParams}}",(0,s.oB)({opacity:0}))])])]},changeDetection:0}),be})(),we=(()=>{class be{}return be.\u0275fac=function(G){return new(G||be)},be.\u0275mod=e.oAB({type:be}),be.\u0275inj=e.cJS({imports:[f.ez]}),be})()},9114:(Lt,qe,C)=>{C.d(qe,{D:()=>He,Q:()=>Ne});var e=C(5e3),s=C(1777),f=C(9808),V=C(5730),F=C(9783),I=C(845),L=C(5921),se=C(5787);const q=["content"];function z(Re,gt){1&Re&&e.GkF(0)}function he(Re,gt){if(1&Re&&(e.TgZ(0,"div",10),e.YNc(1,z,1,0,"ng-container",11),e.qZA()),2&Re){const ut=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",ut.headerTemplate)}}function ne(Re,gt){if(1&Re&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&Re){const ut=e.oxw(4);e.xp6(1),e.Oqu(ut.option("header"))}}const De=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function ue(Re,gt){if(1&Re){const ut=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(We){e.CHM(ut);const J=e.oxw(4);return e.KtG(J.close(We))})("keydown.enter",function(We){e.CHM(ut);const J=e.oxw(4);return e.KtG(J.close(We))}),e._UZ(1,"span",17),e.qZA()}2&Re&&e.Q6J("ngClass",e.DdM(1,De))}function ge(Re,gt){if(1&Re&&(e.TgZ(0,"div",10),e.YNc(1,ne,2,1,"span",12),e.TgZ(2,"div",13),e.YNc(3,ue,2,2,"button",14),e.qZA()()),2&Re){const ut=e.oxw(3);e.xp6(1),e.Q6J("ngIf",ut.option("header")),e.xp6(2),e.Q6J("ngIf",ut.closable)}}function pe(Re,gt){if(1&Re&&e._UZ(0,"i",1),2&Re){const ut=e.oxw(3);e.Tol(ut.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function ke(Re,gt){1&Re&&e.GkF(0)}function Q(Re,gt){if(1&Re&&(e.TgZ(0,"div",18),e.Hsn(1),e.YNc(2,ke,1,0,"ng-container",11),e.qZA()),2&Re){const ut=e.oxw(3);e.xp6(2),e.Q6J("ngTemplateOutlet",ut.footerTemplate)}}function Oe(Re,gt){if(1&Re){const ut=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(ut);const We=e.oxw(4);return e.KtG(We.reject())}),e.qZA()}if(2&Re){const ut=e.oxw(4);e.Tol(ut.option("rejectButtonStyleClass")),e.Q6J("icon",ut.option("rejectIcon"))("label",ut.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",ut.rejectAriaLabel)}}function le(Re,gt){if(1&Re){const ut=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(ut);const We=e.oxw(4);return e.KtG(We.accept())}),e.qZA()}if(2&Re){const ut=e.oxw(4);e.Tol(ut.option("acceptButtonStyleClass")),e.Q6J("icon",ut.option("acceptIcon"))("label",ut.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",ut.acceptAriaLabel)}}function P(Re,gt){if(1&Re&&(e.TgZ(0,"div",18),e.YNc(1,Oe,1,6,"button",19),e.YNc(2,le,1,6,"button",19),e.qZA()),2&Re){const ut=e.oxw(3);e.xp6(1),e.Q6J("ngIf",ut.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",ut.option("acceptVisible"))}}const N=function(Re){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":Re}},we=function(Re,gt){return{transform:Re,transition:gt}},be=function(Re){return{value:"visible",params:Re}};function ye(Re,gt){if(1&Re){const ut=e.EpF();e.TgZ(0,"div",3),e.NdJ("@animation.start",function(We){e.CHM(ut);const J=e.oxw(2);return e.KtG(J.onAnimationStart(We))})("@animation.done",function(We){e.CHM(ut);const J=e.oxw(2);return e.KtG(J.onAnimationEnd(We))}),e.YNc(1,he,2,1,"div",4),e.YNc(2,ge,4,2,"div",4),e.TgZ(3,"div",5,6),e.YNc(5,pe,1,3,"i",7),e._UZ(6,"span",8),e.qZA(),e.YNc(7,Q,3,1,"div",9),e.YNc(8,P,3,2,"div",9),e.qZA()}if(2&Re){const ut=e.oxw(2);e.Tol(ut.styleClass),e.Q6J("ngClass",e.VKq(11,N,ut.rtl))("ngStyle",ut.style)("@animation",e.VKq(16,be,e.WLB(13,we,ut.transformOptions,ut.transitionOptions))),e.xp6(1),e.Q6J("ngIf",ut.headerTemplate),e.xp6(1),e.Q6J("ngIf",!ut.headerTemplate),e.xp6(3),e.Q6J("ngIf",ut.option("icon")),e.xp6(1),e.Q6J("innerHTML",ut.option("message"),e.oJD),e.xp6(1),e.Q6J("ngIf",ut.footer||ut.footerTemplate),e.xp6(1),e.Q6J("ngIf",!ut.footer&&!ut.footerTemplate)}}function G(Re,gt){if(1&Re&&(e.TgZ(0,"div",1),e.YNc(1,ye,9,18,"div",2),e.qZA()),2&Re){const ut=e.oxw();e.Tol(ut.maskStyleClass),e.Q6J("ngClass",ut.getMaskClass()),e.xp6(1),e.Q6J("ngIf",ut.visible)}}const E=[[["p-footer"]]],U=["p-footer"],$=(0,s.oQ)([(0,s.oB)({transform:"{{transform}}",opacity:0}),(0,s.jt)("{{transition}}",(0,s.oB)({transform:"none",opacity:1}))]),Ae=(0,s.oQ)([(0,s.jt)("{{transition}}",(0,s.oB)({transform:"{{transform}}",opacity:0}))]);let Ne=(()=>{class Re{constructor(ut,Pe,We,J,de,Qe){this.el=ut,this.renderer=Pe,this.confirmationService=We,this.zone=J,this.cd=de,this.config=Qe,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new e.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=(0,L.Th)(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(re=>{re?re.key===this.key&&(this.confirmation=re,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(ut){this._visible=ut,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(ut){switch(this._position=ut,ut){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(ut=>{switch(ut.getType()){case"header":this.headerTemplate=ut.template;break;case"footer":this.footerTemplate=ut.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(ut){const Pe=this.confirmationOptions||this;if(Pe.hasOwnProperty(ut))return Pe[ut]}onAnimationStart(ut){if("visible"===ut.toState){this.container=ut.element,this.wrapper=this.container.parentElement,this.contentContainer=V.p.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const Pe=this.getElementToFocus();Pe&&Pe.focus()}}onAnimationEnd(ut){"void"===ut.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return V.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return V.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return V.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):V.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&V.p.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",ut=>{this.wrapper&&this.wrapper.isSameNode(ut.target)&&this.close(ut)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&V.p.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let ut="";for(let Pe in this.breakpoints)ut+=`\n                    @media screen and (max-width: ${Pe}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[Pe]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=ut}}close(ut){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(F.wB.CANCEL),this.hide(F.wB.CANCEL),ut.preventDefault()}hide(ut){this.onHide.emit(ut),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(L.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let ut={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return ut[this.getPositionClass().toString()]=!0,ut}getPositionClass(){const Pe=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(We=>We===this.position);return Pe?`p-dialog-${Pe}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Pe=>{if(27==Pe.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===L.P9.get(this.container)&&this.visible&&this.close(Pe),9===Pe.which&&this.focusTrap){Pe.preventDefault();let We=V.p.getFocusableElements(this.container);if(We&&We.length>0)if(We[0].ownerDocument.activeElement){let J=We.indexOf(We[0].ownerDocument.activeElement);Pe.shiftKey?-1==J||0===J?We[We.length-1].focus():We[J-1].focus():-1==J||J===We.length-1?We[0].focus():We[J+1].focus()}else We[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&L.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(F.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(F.wB.REJECT),this.hide(F.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(F.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(F.ws.REJECT)}}return Re.\u0275fac=function(ut){return new(ut||Re)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(F.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(F.b4))},Re.\u0275cmp=e.Xpm({type:Re,selectors:[["p-confirmDialog"]],contentQueries:function(ut,Pe,We){if(1&ut&&(e.Suo(We,F.$_,5),e.Suo(We,F.jx,4)),2&ut){let J;e.iGM(J=e.CRH())&&(Pe.footer=J.first),e.iGM(J=e.CRH())&&(Pe.templates=J)}},viewQuery:function(ut,Pe){if(1&ut&&e.Gf(q,5),2&ut){let We;e.iGM(We=e.CRH())&&(Pe.contentViewChild=We.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:U,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(ut,Pe){1&ut&&(e.F$t(E),e.YNc(0,G,2,4,"div",0)),2&ut&&e.Q6J("ngIf",Pe.maskVisible)},dependencies:[f.mk,f.O5,f.tP,f.PC,I.Hq,se.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,s.X$)("animation",[(0,s.eR)("void => visible",[(0,s._7)($)]),(0,s.eR)("visible => void",[(0,s._7)(Ae)])])]},changeDetection:0}),Re})(),He=(()=>{class Re{}return Re.\u0275fac=function(ut){return new(ut||Re)},Re.\u0275mod=e.oAB({type:Re}),Re.\u0275inj=e.cJS({imports:[f.ez,I.hJ,se.T,I.hJ,F.m8]}),Re})()},7307:(Lt,qe,C)=>{C.d(qe,{P:()=>ue,n:()=>ge});var e=C(5e3),s=C(9808),f=C(9783),V=C(845),F=C(5921),I=C(1777),L=C(5730);function se(pe,ke){if(1&pe&&e._UZ(0,"i",8),2&pe){const Q=e.oxw(2);e.Tol(Q.confirmation.icon),e.Q6J("ngClass","p-confirm-popup-icon")}}function q(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(Q);const le=e.oxw(2);return e.KtG(le.reject())}),e.qZA()}if(2&pe){const Q=e.oxw(2);e.Tol(Q.confirmation.rejectButtonStyleClass||"p-button-text"),e.Q6J("icon",Q.confirmation.rejectIcon)("label",Q.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),e.uIk("aria-label",Q.rejectButtonLabel)}}function z(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(Q);const le=e.oxw(2);return e.KtG(le.accept())}),e.qZA()}if(2&pe){const Q=e.oxw(2);e.Tol(Q.confirmation.acceptButtonStyleClass),e.Q6J("icon",Q.confirmation.acceptIcon)("label",Q.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),e.uIk("aria-label",Q.acceptButtonLabel)}}const he=function(pe,ke){return{showTransitionParams:pe,hideTransitionParams:ke}},ne=function(pe){return{value:"open",params:pe}};function De(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(le){e.CHM(Q);const P=e.oxw();return e.KtG(P.onOverlayClick(le))})("@animation.start",function(le){e.CHM(Q);const P=e.oxw();return e.KtG(P.onAnimationStart(le))})("@animation.done",function(le){e.CHM(Q);const P=e.oxw();return e.KtG(P.onAnimationEnd(le))}),e.TgZ(1,"div",2,3),e.YNc(3,se,1,3,"i",4),e.TgZ(4,"span",5),e._uU(5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,q,1,6,"button",7),e.YNc(8,z,1,6,"button",7),e.qZA()()}if(2&pe){const Q=e.oxw();e.Tol(Q.styleClass),e.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",Q.style)("@animation",e.VKq(12,ne,e.WLB(9,he,Q.showTransitionOptions,Q.hideTransitionOptions))),e.xp6(3),e.Q6J("ngIf",Q.confirmation.icon),e.xp6(2),e.Oqu(Q.confirmation.message),e.xp6(2),e.Q6J("ngIf",!1!==Q.confirmation.rejectVisible),e.xp6(1),e.Q6J("ngIf",!1!==Q.confirmation.acceptVisible)}}let ue=(()=>{class pe{constructor(Q,Oe,le,P,N,we){this.el=Q,this.confirmationService=Oe,this.renderer=le,this.cd=P,this.config=N,this.overlayService=we,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(be=>{be?be.key===this.key&&(this.confirmation=be,this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(Q){this._visible=Q,this.cd.markForCheck()}onAnimationStart(Q){if("open"===Q.toState){this.container=Q.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const Oe=this.getElementToFocus();Oe&&Oe.focus()}}onAnimationEnd(Q){"void"===Q.toState&&this.onContainerDestroy()}getElementToFocus(){switch(this.defaultFocus){case"accept":return L.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return L.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&F.P9.set("overlay",this.container,this.config.zIndex.overlay),L.p.absolutePosition(this.container,this.confirmation.target);const Q=L.p.getOffset(this.container),Oe=L.p.getOffset(this.confirmation.target);let le=0;Q.left<Oe.left&&(le=Oe.left-Q.left),this.container.style.setProperty("--overlayArrowLeft",`${le}px`),Q.top<Oe.top&&L.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(Q){this.overlayService.add({originalEvent:Q,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let Q=L.p.isIOS()?"touchstart":"click";const Oe=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(Oe,Q,le=>{let P=this.confirmation.target;this.container!==le.target&&!this.container.contains(le.target)&&P!==le.target&&!P.contains(le.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!L.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new L.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&F.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(f.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(f.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return pe.\u0275fac=function(Q){return new(Q||pe)(e.Y36(e.SBq),e.Y36(f.YP),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(f.b4),e.Y36(f.F0))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(Q,Oe){1&Q&&e.YNc(0,De,9,14,"div",0),2&Q&&e.Q6J("ngIf",Oe.visible)},dependencies:[s.mk,s.O5,s.PC,V.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}\n'],encapsulation:2,data:{animation:[(0,I.X$)("animation",[(0,I.SB)("void",(0,I.oB)({transform:"scaleY(0.8)",opacity:0})),(0,I.SB)("open",(0,I.oB)({transform:"translateY(0)",opacity:1})),(0,I.eR)("void => open",(0,I.jt)("{{showTransitionParams}}")),(0,I.eR)("open => void",(0,I.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),pe})(),ge=(()=>{class pe{}return pe.\u0275fac=function(Q){return new(Q||pe)},pe.\u0275mod=e.oAB({type:pe}),pe.\u0275inj=e.cJS({imports:[s.ez,V.hJ]}),pe})()},5315:(Lt,qe,C)=>{C.d(qe,{V:()=>ut,S:()=>Pe});var e=C(5e3),s=C(1777),f=C(9808),V=C(5730),F=C(9783);let I=(()=>{class We{constructor(de){this.el=de}onkeydown(de){if(!0!==this.pFocusTrapDisabled){de.preventDefault();let Qe=V.p.getFocusableElements(this.el.nativeElement);if(Qe&&Qe.length>0)if(Qe[0].ownerDocument.activeElement){let re=Qe.indexOf(Qe[0].ownerDocument.activeElement);de.shiftKey?-1==re||0===re?Qe[Qe.length-1].focus():Qe[re-1].focus():-1==re||re===Qe.length-1?Qe[0].focus():Qe[re+1].focus()}else Qe[0].focus()}}}return We.\u0275fac=function(de){return new(de||We)(e.Y36(e.SBq))},We.\u0275dir=e.lG2({type:We,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(de,Qe){1&de&&e.NdJ("keydown.tab",function(Ve){return Qe.onkeydown(Ve)})("keydown.shift.tab",function(Ve){return Qe.onkeydown(Ve)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),We})(),L=(()=>{class We{}return We.\u0275fac=function(de){return new(de||We)},We.\u0275mod=e.oAB({type:We}),We.\u0275inj=e.cJS({imports:[f.ez]}),We})();var se=C(5787),q=C(5921);const z=["titlebar"],he=["content"],ne=["footer"];function De(We,J){if(1&We){const de=e.EpF();e.TgZ(0,"div",11),e.NdJ("mousedown",function(re){e.CHM(de);const Ve=e.oxw(3);return e.KtG(Ve.initResize(re))}),e.qZA()}}function ue(We,J){if(1&We&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&We){const de=e.oxw(4);e.uIk("id",de.id+"-label"),e.xp6(1),e.Oqu(de.header)}}function ge(We,J){if(1&We&&(e.TgZ(0,"span",18),e.Hsn(1,1),e.qZA()),2&We){const de=e.oxw(4);e.uIk("id",de.id+"-label")}}function pe(We,J){1&We&&e.GkF(0)}const ke=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function Q(We,J){if(1&We){const de=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(de);const re=e.oxw(4);return e.KtG(re.maximize())})("keydown.enter",function(){e.CHM(de);const re=e.oxw(4);return e.KtG(re.maximize())}),e._UZ(1,"span",20),e.qZA()}if(2&We){const de=e.oxw(4);e.Q6J("ngClass",e.DdM(2,ke)),e.xp6(1),e.Q6J("ngClass",de.maximized?de.minimizeIcon:de.maximizeIcon)}}const Oe=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function le(We,J){if(1&We){const de=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(re){e.CHM(de);const Ve=e.oxw(4);return e.KtG(Ve.close(re))})("keydown.enter",function(re){e.CHM(de);const Ve=e.oxw(4);return e.KtG(Ve.close(re))}),e._UZ(1,"span",22),e.qZA()}if(2&We){const de=e.oxw(4);e.Q6J("ngClass",e.DdM(4,Oe)),e.uIk("aria-label",de.closeAriaLabel)("tabindex",de.closeTabindex),e.xp6(1),e.Q6J("ngClass",de.closeIcon)}}function P(We,J){if(1&We){const de=e.EpF();e.TgZ(0,"div",12,13),e.NdJ("mousedown",function(re){e.CHM(de);const Ve=e.oxw(3);return e.KtG(Ve.initDrag(re))}),e.YNc(2,ue,2,2,"span",14),e.YNc(3,ge,2,1,"span",14),e.YNc(4,pe,1,0,"ng-container",9),e.TgZ(5,"div",15),e.YNc(6,Q,2,3,"button",16),e.YNc(7,le,2,5,"button",17),e.qZA()()}if(2&We){const de=e.oxw(3);e.xp6(2),e.Q6J("ngIf",!de.headerFacet&&!de.headerTemplate),e.xp6(1),e.Q6J("ngIf",de.headerFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",de.headerTemplate),e.xp6(2),e.Q6J("ngIf",de.maximizable),e.xp6(1),e.Q6J("ngIf",de.closable)}}function N(We,J){1&We&&e.GkF(0)}function we(We,J){1&We&&e.GkF(0)}function be(We,J){if(1&We&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.YNc(3,we,1,0,"ng-container",9),e.qZA()),2&We){const de=e.oxw(3);e.xp6(3),e.Q6J("ngTemplateOutlet",de.footerTemplate)}}const ye=function(We,J,de,Qe){return{"p-dialog p-component":!0,"p-dialog-rtl":We,"p-dialog-draggable":J,"p-dialog-resizable":de,"p-dialog-maximized":Qe}},G=function(We,J){return{transform:We,transition:J}},E=function(We){return{value:"visible",params:We}};function U(We,J){if(1&We){const de=e.EpF();e.TgZ(0,"div",3,4),e.NdJ("@animation.start",function(re){e.CHM(de);const Ve=e.oxw(2);return e.KtG(Ve.onAnimationStart(re))})("@animation.done",function(re){e.CHM(de);const Ve=e.oxw(2);return e.KtG(Ve.onAnimationEnd(re))}),e.YNc(2,De,1,0,"div",5),e.YNc(3,P,8,5,"div",6),e.TgZ(4,"div",7,8),e.Hsn(6),e.YNc(7,N,1,0,"ng-container",9),e.qZA(),e.YNc(8,be,4,1,"div",10),e.qZA()}if(2&We){const de=e.oxw(2);e.Tol(de.styleClass),e.Q6J("ngClass",e.l5B(15,ye,de.rtl,de.draggable,de.resizable,de.maximized))("ngStyle",de.style)("pFocusTrapDisabled",!1===de.focusTrap)("@animation",e.VKq(23,E,e.WLB(20,G,de.transformOptions,de.transitionOptions))),e.uIk("aria-labelledby",de.id+"-label"),e.xp6(2),e.Q6J("ngIf",de.resizable),e.xp6(1),e.Q6J("ngIf",de.showHeader),e.xp6(1),e.Tol(de.contentStyleClass),e.Q6J("ngClass","p-dialog-content")("ngStyle",de.contentStyle),e.xp6(3),e.Q6J("ngTemplateOutlet",de.contentTemplate),e.xp6(1),e.Q6J("ngIf",de.footerFacet||de.footerTemplate)}}const $=function(We,J,de,Qe,re,Ve,Me,Fe,$e,R){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":We,"p-dialog-mask-scrollblocker":J,"p-dialog-left":de,"p-dialog-right":Qe,"p-dialog-top":re,"p-dialog-top-left":Ve,"p-dialog-top-right":Me,"p-dialog-bottom":Fe,"p-dialog-bottom-left":$e,"p-dialog-bottom-right":R}};function Ae(We,J){if(1&We&&(e.TgZ(0,"div",1),e.YNc(1,U,9,25,"div",2),e.qZA()),2&We){const de=e.oxw();e.Tol(de.maskStyleClass),e.Q6J("ngClass",e.rFY(4,$,[de.modal,de.modal||de.blockScroll,"left"===de.position,"right"===de.position,"top"===de.position,"topleft"===de.position||"top-left"===de.position,"topright"===de.position||"top-right"===de.position,"bottom"===de.position,"bottomleft"===de.position||"bottom-left"===de.position,"bottomright"===de.position||"bottom-right"===de.position])),e.xp6(1),e.Q6J("ngIf",de.visible)}}const Ne=["*",[["p-header"]],[["p-footer"]]],He=["*","p-header","p-footer"],Re=(0,s.oQ)([(0,s.oB)({transform:"{{transform}}",opacity:0}),(0,s.jt)("{{transition}}")]),gt=(0,s.oQ)([(0,s.jt)("{{transition}}",(0,s.oB)({transform:"{{transform}}",opacity:0}))]);let ut=(()=>{class We{constructor(de,Qe,re,Ve,Me){this.el=de,this.renderer=Qe,this.zone=re,this.cd=Ve,this.config=Me,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new e.vpe,this.onHide=new e.vpe,this.visibleChange=new e.vpe,this.onResizeInit=new e.vpe,this.onResizeEnd=new e.vpe,this.onDragEnd=new e.vpe,this.onMaximize=new e.vpe,this.id=(0,q.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(de){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(de){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(de){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(de){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(de=>{switch(de.getType()){case"header":this.headerTemplate=de.template;break;case"content":default:this.contentTemplate=de.template;break;case"footer":this.footerTemplate=de.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(de){this._visible=de,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(de){de&&(this._style=Object.assign({},de),this.originalStyle=de)}get position(){return this._position}set position(de){switch(this._position=de,de){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let de=V.p.findSingle(this.container,"[autofocus]");de&&this.zone.runOutsideAngular(()=>{setTimeout(()=>de.focus(),5)})}close(de){this.visibleChange.emit(!1),de.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",de=>{this.wrapper&&this.wrapper.isSameNode(de.target)&&this.close(de)})),this.modal&&V.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&V.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?V.p.addClass(document.body,"p-overflow-hidden"):V.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(q.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let de="";for(let Qe in this.breakpoints)de+=`\n                    @media screen and (max-width: ${Qe}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[Qe]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=de}}initDrag(de){V.p.hasClass(de.target,"p-dialog-header-icon")||V.p.hasClass(de.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=de.pageX,this.lastPageY=de.pageY,this.container.style.margin="0",V.p.addClass(document.body,"p-unselectable-text"))}onKeydown(de){if(this.focusTrap&&9===de.which){de.preventDefault();let Qe=V.p.getFocusableElements(this.container);if(Qe&&Qe.length>0)if(Qe[0].ownerDocument.activeElement){let re=Qe.indexOf(Qe[0].ownerDocument.activeElement);de.shiftKey?-1==re||0===re?Qe[Qe.length-1].focus():Qe[re-1].focus():-1==re||re===Qe.length-1?Qe[0].focus():Qe[re+1].focus()}else Qe[0].focus()}}onDrag(de){if(this.dragging){let Qe=V.p.getOuterWidth(this.container),re=V.p.getOuterHeight(this.container),Ve=de.pageX-this.lastPageX,Me=de.pageY-this.lastPageY,Fe=this.container.getBoundingClientRect(),$e=Fe.left+Ve,R=Fe.top+Me,it=V.p.getViewport();this.container.style.position="fixed",this.keepInViewport?($e>=this.minX&&$e+Qe<it.width&&(this._style.left=$e+"px",this.lastPageX=de.pageX,this.container.style.left=$e+"px"),R>=this.minY&&R+re<it.height&&(this._style.top=R+"px",this.lastPageY=de.pageY,this.container.style.top=R+"px")):(this.lastPageX=de.pageX,this.container.style.left=$e+"px",this.lastPageY=de.pageY,this.container.style.top=R+"px")}}endDrag(de){this.dragging&&(this.dragging=!1,V.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(de))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(de){this.resizable&&(this.resizing=!0,this.lastPageX=de.pageX,this.lastPageY=de.pageY,V.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(de))}onResize(de){if(this.resizing){let Qe=de.pageX-this.lastPageX,re=de.pageY-this.lastPageY,Ve=V.p.getOuterWidth(this.container),Me=V.p.getOuterHeight(this.container),Fe=V.p.getOuterHeight(this.contentViewChild.nativeElement),$e=Ve+Qe,R=Me+re,it=this.container.style.minWidth,Le=this.container.style.minHeight,Et=this.container.getBoundingClientRect(),un=V.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&($e+=Qe,R+=re),(!it||$e>parseInt(it))&&Et.left+$e<un.width&&(this._style.width=$e+"px",this.container.style.width=this._style.width),(!Le||R>parseInt(Le))&&Et.top+R<un.height&&(this.contentViewChild.nativeElement.style.height=Fe+R-Me+"px",this._style.height&&(this._style.height=R+"px",this.container.style.height=this._style.height)),this.lastPageX=de.pageX,this.lastPageY=de.pageY}}resizeEnd(de){this.resizing&&(this.resizing=!1,V.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(de))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Qe=>{27==Qe.which&&this.close(Qe)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):V.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(de){switch(de.toState){case"visible":this.container=de.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&V.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&V.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(de){switch(de.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(V.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&V.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&q.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return We.\u0275fac=function(de){return new(de||We)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(F.b4))},We.\u0275cmp=e.Xpm({type:We,selectors:[["p-dialog"]],contentQueries:function(de,Qe,re){if(1&de&&(e.Suo(re,F.h4,5),e.Suo(re,F.$_,5),e.Suo(re,F.jx,4)),2&de){let Ve;e.iGM(Ve=e.CRH())&&(Qe.headerFacet=Ve.first),e.iGM(Ve=e.CRH())&&(Qe.footerFacet=Ve.first),e.iGM(Ve=e.CRH())&&(Qe.templates=Ve)}},viewQuery:function(de,Qe){if(1&de&&(e.Gf(z,5),e.Gf(he,5),e.Gf(ne,5)),2&de){let re;e.iGM(re=e.CRH())&&(Qe.headerViewChild=re.first),e.iGM(re=e.CRH())&&(Qe.contentViewChild=re.first),e.iGM(re=e.CRH())&&(Qe.footerViewChild=re.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:He,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(de,Qe){1&de&&(e.F$t(Ne),e.YNc(0,Ae,2,15,"div",0)),2&de&&e.Q6J("ngIf",Qe.maskVisible)},dependencies:[f.mk,f.O5,f.tP,f.PC,I,se.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,s.X$)("animation",[(0,s.eR)("void => visible",[(0,s._7)(Re)]),(0,s.eR)("visible => void",[(0,s._7)(gt)])])]},changeDetection:0}),We})(),Pe=(()=>{class We{}return We.\u0275fac=function(de){return new(de||We)},We.\u0275mod=e.oAB({type:We}),We.\u0275inj=e.cJS({imports:[f.ez,L,se.T,F.m8]}),We})()},5730:(Lt,qe,C)=>{C.d(qe,{V:()=>s,p:()=>e});let e=(()=>{class f{static addClass(F,I){F&&I&&(F.classList?F.classList.add(I):F.className+=" "+I)}static addMultipleClasses(F,I){if(F&&I)if(F.classList){let L=I.trim().split(" ");for(let se=0;se<L.length;se++)F.classList.add(L[se])}else{let L=I.split(" ");for(let se=0;se<L.length;se++)F.className+=" "+L[se]}}static removeClass(F,I){F&&I&&(F.classList?F.classList.remove(I):F.className=F.className.replace(new RegExp("(^|\\b)"+I.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(F,I){return!(!F||!I)&&(F.classList?F.classList.contains(I):new RegExp("(^| )"+I+"( |$)","gi").test(F.className))}static siblings(F){return Array.prototype.filter.call(F.parentNode.children,function(I){return I!==F})}static find(F,I){return Array.from(F.querySelectorAll(I))}static findSingle(F,I){return F?F.querySelector(I):null}static index(F){let I=F.parentNode.childNodes,L=0;for(var se=0;se<I.length;se++){if(I[se]==F)return L;1==I[se].nodeType&&L++}return-1}static indexWithinGroup(F,I){let L=F.parentNode?F.parentNode.childNodes:[],se=0;for(var q=0;q<L.length;q++){if(L[q]==F)return se;L[q].attributes&&L[q].attributes[I]&&1==L[q].nodeType&&se++}return-1}static appendOverlay(F,I,L="self"){"self"!==L&&F&&I&&this.appendChild(F,I)}static alignOverlay(F,I,L="self",se=!0){F&&I&&(se&&(F.style.minWidth||(F.style.minWidth=f.getOuterWidth(I)+"px")),"self"===L?this.relativePosition(F,I):this.absolutePosition(F,I))}static relativePosition(F,I){const L=Q=>{if(Q)return"relative"===getComputedStyle(Q).getPropertyValue("position")?Q:L(Q.parentElement)},se=F.offsetParent?{width:F.offsetWidth,height:F.offsetHeight}:this.getHiddenElementDimensions(F),q=I.offsetHeight,z=I.getBoundingClientRect(),he=this.getWindowScrollTop(),ne=this.getWindowScrollLeft(),De=this.getViewport(),ue=L(F),ge=(null==ue?void 0:ue.getBoundingClientRect())||{top:-1*he,left:-1*ne};let pe,ke;z.top+q+se.height>De.height?(pe=z.top-ge.top-se.height,F.style.transformOrigin="bottom",z.top+pe<0&&(pe=-1*z.top)):(pe=q+z.top-ge.top,F.style.transformOrigin="top"),ke=se.width>De.width?-1*(z.left-ge.left):z.left-ge.left+se.width>De.width?-1*(z.left-ge.left+se.width-De.width):z.left-ge.left,F.style.top=pe+"px",F.style.left=ke+"px"}static absolutePosition(F,I){const L=F.offsetParent?{width:F.offsetWidth,height:F.offsetHeight}:this.getHiddenElementDimensions(F),se=L.height,q=L.width,z=I.offsetHeight,he=I.offsetWidth,ne=I.getBoundingClientRect(),De=this.getWindowScrollTop(),ue=this.getWindowScrollLeft(),ge=this.getViewport();let pe,ke;ne.top+z+se>ge.height?(pe=ne.top+De-se,F.style.transformOrigin="bottom",pe<0&&(pe=De)):(pe=z+ne.top+De,F.style.transformOrigin="top"),ke=ne.left+q>ge.width?Math.max(0,ne.left+ue+he-q):ne.left+ue,F.style.top=pe+"px",F.style.left=ke+"px"}static getParents(F,I=[]){return null===F.parentNode?I:this.getParents(F.parentNode,I.concat([F.parentNode]))}static getScrollableParents(F){let I=[];if(F){let L=this.getParents(F);const se=/(auto|scroll)/,q=z=>{let he=window.getComputedStyle(z,null);return se.test(he.getPropertyValue("overflow"))||se.test(he.getPropertyValue("overflowX"))||se.test(he.getPropertyValue("overflowY"))};for(let z of L){let he=1===z.nodeType&&z.dataset.scrollselectors;if(he){let ne=he.split(",");for(let De of ne){let ue=this.findSingle(z,De);ue&&q(ue)&&I.push(ue)}}9!==z.nodeType&&q(z)&&I.push(z)}}return I}static getHiddenElementOuterHeight(F){F.style.visibility="hidden",F.style.display="block";let I=F.offsetHeight;return F.style.display="none",F.style.visibility="visible",I}static getHiddenElementOuterWidth(F){F.style.visibility="hidden",F.style.display="block";let I=F.offsetWidth;return F.style.display="none",F.style.visibility="visible",I}static getHiddenElementDimensions(F){let I={};return F.style.visibility="hidden",F.style.display="block",I.width=F.offsetWidth,I.height=F.offsetHeight,F.style.display="none",F.style.visibility="visible",I}static scrollInView(F,I){let L=getComputedStyle(F).getPropertyValue("borderTopWidth"),se=L?parseFloat(L):0,q=getComputedStyle(F).getPropertyValue("paddingTop"),z=q?parseFloat(q):0,he=F.getBoundingClientRect(),De=I.getBoundingClientRect().top+document.body.scrollTop-(he.top+document.body.scrollTop)-se-z,ue=F.scrollTop,ge=F.clientHeight,pe=this.getOuterHeight(I);De<0?F.scrollTop=ue+De:De+pe>ge&&(F.scrollTop=ue+De-ge+pe)}static fadeIn(F,I){F.style.opacity=0;let L=+new Date,se=0,q=function(){se=+F.style.opacity.replace(",",".")+((new Date).getTime()-L)/I,F.style.opacity=se,L=+new Date,+se<1&&(window.requestAnimationFrame&&requestAnimationFrame(q)||setTimeout(q,16))};q()}static fadeOut(F,I){var L=1,z=50/I;let he=setInterval(()=>{(L-=z)<=0&&(L=0,clearInterval(he)),F.style.opacity=L},50)}static getWindowScrollTop(){let F=document.documentElement;return(window.pageYOffset||F.scrollTop)-(F.clientTop||0)}static getWindowScrollLeft(){let F=document.documentElement;return(window.pageXOffset||F.scrollLeft)-(F.clientLeft||0)}static matches(F,I){var L=Element.prototype;return(L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.msMatchesSelector||function(q){return-1!==[].indexOf.call(document.querySelectorAll(q),this)}).call(F,I)}static getOuterWidth(F,I){let L=F.offsetWidth;if(I){let se=getComputedStyle(F);L+=parseFloat(se.marginLeft)+parseFloat(se.marginRight)}return L}static getHorizontalPadding(F){let I=getComputedStyle(F);return parseFloat(I.paddingLeft)+parseFloat(I.paddingRight)}static getHorizontalMargin(F){let I=getComputedStyle(F);return parseFloat(I.marginLeft)+parseFloat(I.marginRight)}static innerWidth(F){let I=F.offsetWidth,L=getComputedStyle(F);return I+=parseFloat(L.paddingLeft)+parseFloat(L.paddingRight),I}static width(F){let I=F.offsetWidth,L=getComputedStyle(F);return I-=parseFloat(L.paddingLeft)+parseFloat(L.paddingRight),I}static getInnerHeight(F){let I=F.offsetHeight,L=getComputedStyle(F);return I+=parseFloat(L.paddingTop)+parseFloat(L.paddingBottom),I}static getOuterHeight(F,I){let L=F.offsetHeight;if(I){let se=getComputedStyle(F);L+=parseFloat(se.marginTop)+parseFloat(se.marginBottom)}return L}static getHeight(F){let I=F.offsetHeight,L=getComputedStyle(F);return I-=parseFloat(L.paddingTop)+parseFloat(L.paddingBottom)+parseFloat(L.borderTopWidth)+parseFloat(L.borderBottomWidth),I}static getWidth(F){let I=F.offsetWidth,L=getComputedStyle(F);return I-=parseFloat(L.paddingLeft)+parseFloat(L.paddingRight)+parseFloat(L.borderLeftWidth)+parseFloat(L.borderRightWidth),I}static getViewport(){let F=window,I=document,L=I.documentElement,se=I.getElementsByTagName("body")[0];return{width:F.innerWidth||L.clientWidth||se.clientWidth,height:F.innerHeight||L.clientHeight||se.clientHeight}}static getOffset(F){var I=F.getBoundingClientRect();return{top:I.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:I.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(F,I){let L=F.parentNode;if(!L)throw"Can't replace element";return L.replaceChild(I,F)}static getUserAgent(){return navigator.userAgent}static isIE(){var F=window.navigator.userAgent;return F.indexOf("MSIE ")>0||(F.indexOf("Trident/")>0?(F.indexOf("rv:"),!0):F.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(F,I){if(this.isElement(I))I.appendChild(F);else{if(!I.el||!I.el.nativeElement)throw"Cannot append "+I+" to "+F;I.el.nativeElement.appendChild(F)}}static removeChild(F,I){if(this.isElement(I))I.removeChild(F);else{if(!I.el||!I.el.nativeElement)throw"Cannot remove "+F+" from "+I;I.el.nativeElement.removeChild(F)}}static removeElement(F){"remove"in Element.prototype?F.remove():F.parentNode.removeChild(F)}static isElement(F){return"object"==typeof HTMLElement?F instanceof HTMLElement:F&&"object"==typeof F&&null!==F&&1===F.nodeType&&"string"==typeof F.nodeName}static calculateScrollbarWidth(F){if(F){let I=getComputedStyle(F);return F.offsetWidth-F.clientWidth-parseFloat(I.borderLeftWidth)-parseFloat(I.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let I=document.createElement("div");I.className="p-scrollbar-measure",document.body.appendChild(I);let L=I.offsetWidth-I.clientWidth;return document.body.removeChild(I),this.calculatedScrollbarWidth=L,L}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let F=document.createElement("div");F.className="p-scrollbar-measure",document.body.appendChild(F);let I=F.offsetHeight-F.clientHeight;return document.body.removeChild(F),this.calculatedScrollbarWidth=I,I}static invokeElementMethod(F,I,L){F[I].apply(F,L)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(F){}}static getBrowser(){if(!this.browser){let F=this.resolveUserAgent();this.browser={},F.browser&&(this.browser[F.browser]=!0,this.browser.version=F.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let F=navigator.userAgent.toLowerCase(),I=/(chrome)[ \/]([\w.]+)/.exec(F)||/(webkit)[ \/]([\w.]+)/.exec(F)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(F)||/(msie) ([\w.]+)/.exec(F)||F.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(F)||[];return{browser:I[1]||"",version:I[2]||"0"}}static isInteger(F){return Number.isInteger?Number.isInteger(F):"number"==typeof F&&isFinite(F)&&Math.floor(F)===F}static isHidden(F){return!F||null===F.offsetParent}static isVisible(F){return F&&null!=F.offsetParent}static isExist(F){return null!=F&&F.nodeName&&F.parentNode}static focus(F,I){F&&document.activeElement!==F&&F.focus(I)}static getFocusableElements(F){let I=f.find(F,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),L=[];for(let se of I)"none"!=getComputedStyle(se).display&&"hidden"!=getComputedStyle(se).visibility&&L.push(se);return L}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(F,I){if(!F)return null;switch(F){case"document":return document;case"window":return window;case"@next":return null==I?void 0:I.nextElementSibling;case"@prev":return null==I?void 0:I.previousElementSibling;case"@parent":return null==I?void 0:I.parentElement;case"@grandparent":return null==I?void 0:I.parentElement.parentElement;default:const L=typeof F;if("string"===L)return document.querySelector(F);if("object"===L&&F.hasOwnProperty("nativeElement"))return this.isExist(F.nativeElement)?F.nativeElement:void 0;const q=(z=F)&&z.constructor&&z.call&&z.apply?F():F;return q&&9===q.nodeType||this.isExist(q)?q:null}var z}}return f.zindex=1e3,f.calculatedScrollbarWidth=null,f.calculatedScrollbarHeight=null,f})();class s{constructor(V,F=(()=>{})){this.element=V,this.listener=F}bindScrollListener(){this.scrollableParents=e.getScrollableParents(this.element);for(let V=0;V<this.scrollableParents.length;V++)this.scrollableParents[V].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let V=0;V<this.scrollableParents.length;V++)this.scrollableParents[V].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},9873:(Lt,qe,C)=>{C.d(qe,{_l:()=>V,_t:()=>I,bK:()=>F});var e=C(5e3),s=C(9808),f=C(5730);let V=(()=>{class L{constructor(q,z){this.el=q,this.zone=z,this.onDragStart=new e.vpe,this.onDragEnd=new e.vpe,this.onDrag=new e.vpe}get pDraggableDisabled(){return this._pDraggableDisabled}set pDraggableDisabled(q){this._pDraggableDisabled=q,this._pDraggableDisabled?this.unbindMouseListeners():(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}ngAfterViewInit(){this.pDraggableDisabled||(this.el.nativeElement.draggable=!0,this.bindMouseListeners())}bindDragListener(){this.dragListener||this.zone.runOutsideAngular(()=>{this.dragListener=this.drag.bind(this),this.el.nativeElement.addEventListener("drag",this.dragListener)})}unbindDragListener(){this.dragListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("drag",this.dragListener),this.dragListener=null})}bindMouseListeners(){!this.mouseDownListener&&!this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.mousedown.bind(this),this.mouseUpListener=this.mouseup.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.addEventListener("mouseup",this.mouseUpListener)})}unbindMouseListeners(){this.mouseDownListener&&this.mouseUpListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),this.el.nativeElement.removeEventListener("mouseup",this.mouseUpListener),this.mouseDownListener=null,this.mouseUpListener=null})}drag(q){this.onDrag.emit(q)}dragStart(q){this.allowDrag()&&!this.pDraggableDisabled?(this.dragEffect&&(q.dataTransfer.effectAllowed=this.dragEffect),q.dataTransfer.setData("text",this.scope),this.onDragStart.emit(q),this.bindDragListener()):q.preventDefault()}dragEnd(q){this.onDragEnd.emit(q),this.unbindDragListener()}mousedown(q){this.handle=q.target}mouseup(q){this.handle=null}allowDrag(){return!this.dragHandle||!this.handle||f.p.matches(this.handle,this.dragHandle)}ngOnDestroy(){this.unbindDragListener(),this.unbindMouseListeners()}}return L.\u0275fac=function(q){return new(q||L)(e.Y36(e.SBq),e.Y36(e.R0b))},L.\u0275dir=e.lG2({type:L,selectors:[["","pDraggable",""]],hostAttrs:[1,"p-element"],hostBindings:function(q,z){1&q&&e.NdJ("dragstart",function(ne){return z.dragStart(ne)})("dragend",function(ne){return z.dragEnd(ne)})},inputs:{scope:["pDraggable","scope"],dragEffect:"dragEffect",dragHandle:"dragHandle",pDraggableDisabled:"pDraggableDisabled"},outputs:{onDragStart:"onDragStart",onDragEnd:"onDragEnd",onDrag:"onDrag"}}),L})(),F=(()=>{class L{constructor(q,z){this.el=q,this.zone=z,this.onDragEnter=new e.vpe,this.onDragLeave=new e.vpe,this.onDrop=new e.vpe}ngAfterViewInit(){this.pDroppableDisabled||this.bindDragOverListener()}bindDragOverListener(){this.dragOverListener||this.zone.runOutsideAngular(()=>{this.dragOverListener=this.dragOver.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener)})}unbindDragOverListener(){this.dragOverListener&&this.zone.runOutsideAngular(()=>{this.el.nativeElement.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null})}dragOver(q){q.preventDefault()}drop(q){this.allowDrop(q)&&(f.p.removeClass(this.el.nativeElement,"p-draggable-enter"),q.preventDefault(),this.onDrop.emit(q))}dragEnter(q){q.preventDefault(),this.dropEffect&&(q.dataTransfer.dropEffect=this.dropEffect),f.p.addClass(this.el.nativeElement,"p-draggable-enter"),this.onDragEnter.emit(q)}dragLeave(q){q.preventDefault(),f.p.removeClass(this.el.nativeElement,"p-draggable-enter"),this.onDragLeave.emit(q)}allowDrop(q){let z=q.dataTransfer.getData("text");if("string"==typeof this.scope&&z==this.scope)return!0;if(this.scope instanceof Array)for(let he=0;he<this.scope.length;he++)if(z==this.scope[he])return!0;return!1}ngOnDestroy(){this.unbindDragOverListener()}}return L.\u0275fac=function(q){return new(q||L)(e.Y36(e.SBq),e.Y36(e.R0b))},L.\u0275dir=e.lG2({type:L,selectors:[["","pDroppable",""]],hostAttrs:[1,"p-element"],hostBindings:function(q,z){1&q&&e.NdJ("drop",function(ne){return z.drop(ne)})("dragenter",function(ne){return z.dragEnter(ne)})("dragleave",function(ne){return z.dragLeave(ne)})},inputs:{scope:["pDroppable","scope"],pDroppableDisabled:"pDroppableDisabled",dropEffect:"dropEffect"},outputs:{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"}}),L})(),I=(()=>{class L{}return L.\u0275fac=function(q){return new(q||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[s.ez]}),L})()},4036:(Lt,qe,C)=>{C.d(qe,{Lt:()=>Qt,kW:()=>nn});var e=C(9808),s=C(5e3),f=C(2382),V=C(9783),F=C(9618),I=C(5730),L=C(8050),se=C(5787),q=C(5871),z=C(4119),he=C(5921);function ne(nt,xt){if(1&nt&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&nt){const ee=s.oxw();s.xp6(1),s.Oqu(ee.label||"empty")}}function De(nt,xt){1&nt&&s.GkF(0)}const ue=function(nt){return{height:nt}},ge=function(nt,xt){return{"p-dropdown-item":!0,"p-highlight":nt,"p-disabled":xt}},pe=function(nt){return{$implicit:nt}},ke=["container"],Q=["filter"],Oe=["in"],le=["editableInput"],P=["items"],N=["scroller"],we=["overlay"];function be(nt,xt){if(1&nt&&(s.ynx(0),s._uU(1),s.BQk()),2&nt){const ee=s.oxw(2);s.xp6(1),s.Oqu(ee.label||"empty")}}function ye(nt,xt){1&nt&&s.GkF(0)}const G=function(nt){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":nt}};function E(nt,xt){if(1&nt&&(s.TgZ(0,"span",14),s.YNc(1,be,2,1,"ng-container",15),s.YNc(2,ye,1,0,"ng-container",16),s.qZA()),2&nt){const ee=s.oxw();s.Q6J("ngClass",s.VKq(9,G,null==ee.label||0===ee.label.length))("pTooltip",ee.tooltip)("tooltipPosition",ee.tooltipPosition)("positionStyle",ee.tooltipPositionStyle)("tooltipStyleClass",ee.tooltipStyleClass),s.uIk("id",ee.labelId),s.xp6(1),s.Q6J("ngIf",!ee.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",ee.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,pe,ee.selectedOption))}}const U=function(nt){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":nt}};function $(nt,xt){if(1&nt&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&nt){const ee=s.oxw();s.Q6J("ngClass",s.VKq(2,U,null==ee.placeholder||0===ee.placeholder.length)),s.xp6(1),s.Oqu(ee.placeholder||"empty")}}function Ae(nt,xt){if(1&nt){const ee=s.EpF();s.TgZ(0,"input",18,19),s.NdJ("input",function(dt){s.CHM(ee);const bt=s.oxw();return s.KtG(bt.onEditableInputChange(dt))})("focus",function(dt){s.CHM(ee);const bt=s.oxw();return s.KtG(bt.onEditableInputFocus(dt))})("blur",function(dt){s.CHM(ee);const bt=s.oxw();return s.KtG(bt.onInputBlur(dt))}),s.qZA()}if(2&nt){const ee=s.oxw();s.Q6J("disabled",ee.disabled),s.uIk("maxlength",ee.maxlength)("placeholder",ee.placeholder)("aria-expanded",ee.overlayVisible)}}function Ne(nt,xt){if(1&nt){const ee=s.EpF();s.TgZ(0,"i",20),s.NdJ("click",function(dt){s.CHM(ee);const bt=s.oxw();return s.KtG(bt.clear(dt))}),s.qZA()}}function He(nt,xt){1&nt&&s.GkF(0)}function Re(nt,xt){1&nt&&s.GkF(0)}const gt=function(nt){return{options:nt}};function ut(nt,xt){if(1&nt&&(s.ynx(0),s.YNc(1,Re,1,0,"ng-container",16),s.BQk()),2&nt){const ee=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",ee.filterTemplate)("ngTemplateOutletContext",s.VKq(2,gt,ee.filterOptions))}}function Pe(nt,xt){if(1&nt){const ee=s.EpF();s.TgZ(0,"div",30)(1,"input",31,32),s.NdJ("keydown.enter",function(dt){return dt.preventDefault()})("keydown",function(dt){s.CHM(ee);const bt=s.oxw(3);return s.KtG(bt.onKeydown(dt,!1))})("input",function(dt){s.CHM(ee);const bt=s.oxw(3);return s.KtG(bt.onFilterInputChange(dt))}),s.qZA(),s._UZ(3,"span",33),s.qZA()}if(2&nt){const ee=s.oxw(3);s.xp6(1),s.Q6J("value",ee.filterValue||""),s.uIk("placeholder",ee.filterPlaceholder)("aria-label",ee.ariaFilterLabel)("aria-activedescendant",ee.overlayVisible?"p-highlighted-option":ee.labelId)}}function We(nt,xt){if(1&nt&&(s.TgZ(0,"div",27),s.NdJ("click",function(ze){return ze.stopPropagation()}),s.YNc(1,ut,2,4,"ng-container",28),s.YNc(2,Pe,4,4,"ng-template",null,29,s.W1O),s.qZA()),2&nt){const ee=s.MAs(3),ze=s.oxw(2);s.xp6(1),s.Q6J("ngIf",ze.filterTemplate)("ngIfElse",ee)}}function J(nt,xt){1&nt&&s.GkF(0)}const de=function(nt,xt){return{$implicit:nt,options:xt}};function Qe(nt,xt){if(1&nt&&s.YNc(0,J,1,0,"ng-container",16),2&nt){const ee=xt.$implicit,ze=xt.options;s.oxw(2);const dt=s.MAs(7);s.Q6J("ngTemplateOutlet",dt)("ngTemplateOutletContext",s.WLB(2,de,ee,ze))}}function re(nt,xt){1&nt&&s.GkF(0)}function Ve(nt,xt){if(1&nt&&s.YNc(0,re,1,0,"ng-container",16),2&nt){const ee=xt.options,ze=s.oxw(4);s.Q6J("ngTemplateOutlet",ze.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,gt,ee))}}function Me(nt,xt){1&nt&&(s.ynx(0),s.YNc(1,Ve,1,4,"ng-template",36),s.BQk())}function Fe(nt,xt){if(1&nt){const ee=s.EpF();s.TgZ(0,"p-scroller",34,35),s.NdJ("onLazyLoad",function(dt){s.CHM(ee);const bt=s.oxw(2);return s.KtG(bt.onLazyLoad.emit(dt))}),s.YNc(2,Qe,1,5,"ng-template",13),s.YNc(3,Me,2,0,"ng-container",15),s.qZA()}if(2&nt){const ee=s.oxw(2);s.Akn(s.VKq(8,ue,ee.scrollHeight)),s.Q6J("items",ee.optionsToDisplay)("itemSize",ee.virtualScrollItemSize||ee._itemSize)("autoSize",!0)("lazy",ee.lazy)("options",ee.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",ee.loaderTemplate)}}function $e(nt,xt){1&nt&&s.GkF(0)}const R=function(){return{}};function it(nt,xt){if(1&nt&&(s.ynx(0),s.YNc(1,$e,1,0,"ng-container",16),s.BQk()),2&nt){s.oxw();const ee=s.MAs(7),ze=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",ee)("ngTemplateOutletContext",s.WLB(3,de,ze.optionsToDisplay,s.DdM(2,R)))}}function Le(nt,xt){if(1&nt&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&nt){const ee=s.oxw().$implicit,ze=s.oxw(4);s.xp6(1),s.Oqu(ze.getOptionGroupLabel(ee)||"empty")}}function Et(nt,xt){1&nt&&s.GkF(0)}function un(nt,xt){1&nt&&s.GkF(0)}const Cn=function(nt,xt){return{$implicit:nt,selectedOption:xt}};function Ot(nt,xt){if(1&nt&&(s.TgZ(0,"li",42),s.YNc(1,Le,2,1,"span",15),s.YNc(2,Et,1,0,"ng-container",16),s.qZA(),s.YNc(3,un,1,0,"ng-container",16)),2&nt){const ee=xt.$implicit,ze=s.oxw(2).options,dt=s.MAs(5),bt=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,ue,ze.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!bt.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",bt.groupTemplate)("ngTemplateOutletContext",s.VKq(8,pe,ee)),s.xp6(1),s.Q6J("ngTemplateOutlet",dt)("ngTemplateOutletContext",s.WLB(10,Cn,bt.getOptionGroupChildren(ee),bt.selectedOption))}}function en(nt,xt){if(1&nt&&(s.ynx(0),s.YNc(1,Ot,4,13,"ng-template",41),s.BQk()),2&nt){const ee=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",ee)}}function at(nt,xt){1&nt&&s.GkF(0)}function Pt(nt,xt){if(1&nt&&(s.ynx(0),s.YNc(1,at,1,0,"ng-container",16),s.BQk()),2&nt){const ee=s.oxw().$implicit,ze=s.MAs(5),dt=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",ze)("ngTemplateOutletContext",s.WLB(2,Cn,ee,dt.selectedOption))}}function Bt(nt,xt){if(1&nt){const ee=s.EpF();s.TgZ(0,"p-dropdownItem",43),s.NdJ("onClick",function(dt){s.CHM(ee);const bt=s.oxw(4);return s.KtG(bt.onItemClick(dt))}),s.qZA()}if(2&nt){const ee=xt.$implicit,ze=s.oxw().selectedOption,dt=s.oxw(3);s.Q6J("option",ee)("selected",ze==ee)("label",dt.getOptionLabel(ee))("disabled",dt.isOptionDisabled(ee))("template",dt.itemTemplate)}}function tn(nt,xt){1&nt&&s.YNc(0,Bt,1,5,"ng-template",41),2&nt&&s.Q6J("ngForOf",xt.$implicit)}function ft(nt,xt){if(1&nt&&(s.ynx(0),s._uU(1),s.BQk()),2&nt){const ee=s.oxw(4);s.xp6(1),s.hij(" ",ee.emptyFilterMessageLabel," ")}}function ei(nt,xt){1&nt&&s.GkF(0,null,45)}function qn(nt,xt){if(1&nt&&(s.TgZ(0,"li",44),s.YNc(1,ft,2,1,"ng-container",28),s.YNc(2,ei,2,0,"ng-container",22),s.qZA()),2&nt){const ee=s.oxw().options,ze=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,ue,ee.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!ze.emptyFilterTemplate&&!ze.emptyTemplate)("ngIfElse",ze.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",ze.emptyFilterTemplate||ze.emptyTemplate)}}function Ht(nt,xt){if(1&nt&&(s.ynx(0),s._uU(1),s.BQk()),2&nt){const ee=s.oxw(4);s.xp6(1),s.hij(" ",ee.emptyMessageLabel," ")}}function mt(nt,xt){1&nt&&s.GkF(0,null,46)}function Ze(nt,xt){if(1&nt&&(s.TgZ(0,"li",44),s.YNc(1,Ht,2,1,"ng-container",28),s.YNc(2,mt,2,0,"ng-container",22),s.qZA()),2&nt){const ee=s.oxw().options,ze=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,ue,ee.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!ze.emptyTemplate)("ngIfElse",ze.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",ze.emptyTemplate)}}function It(nt,xt){if(1&nt&&(s.TgZ(0,"ul",37,38),s.YNc(2,en,2,1,"ng-container",15),s.YNc(3,Pt,2,5,"ng-container",15),s.YNc(4,tn,1,1,"ng-template",null,39,s.W1O),s.YNc(6,qn,3,6,"li",40),s.YNc(7,Ze,3,6,"li",40),s.qZA()),2&nt){const ee=xt.options,ze=s.oxw(2);s.Akn(ee.contentStyle),s.Q6J("ngClass",ee.contentStyleClass),s.uIk("id",ze.listId),s.xp6(2),s.Q6J("ngIf",ze.group),s.xp6(1),s.Q6J("ngIf",!ze.group),s.xp6(3),s.Q6J("ngIf",ze.filterValue&&ze.isEmpty()),s.xp6(1),s.Q6J("ngIf",!ze.filterValue&&ze.isEmpty())}}function M(nt,xt){1&nt&&s.GkF(0)}function _e(nt,xt){if(1&nt&&(s.TgZ(0,"div",21),s.YNc(1,He,1,0,"ng-container",22),s.YNc(2,We,4,2,"div",23),s.TgZ(3,"div",24),s.YNc(4,Fe,4,10,"p-scroller",25),s.YNc(5,it,2,6,"ng-container",15),s.YNc(6,It,8,8,"ng-template",null,26,s.W1O),s.qZA(),s.YNc(8,M,1,0,"ng-container",22),s.qZA()),2&nt){const ee=s.oxw();s.Tol(ee.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",ee.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",ee.headerTemplate),s.xp6(1),s.Q6J("ngIf",ee.filter),s.xp6(1),s.Udp("max-height",ee.virtualScroll?"auto":ee.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",ee.virtualScroll),s.xp6(1),s.Q6J("ngIf",!ee.virtualScroll),s.xp6(3),s.Q6J("ngTemplateOutlet",ee.footerTemplate)}}const Ie=function(nt,xt,ee,ze){return{"p-dropdown p-component":!0,"p-disabled":nt,"p-dropdown-open":xt,"p-focus":ee,"p-dropdown-clearable":ze}},Xe={provide:f.JU,useExisting:(0,s.Gpc)(()=>Qt),multi:!0};let Rt=(()=>{class nt{constructor(){this.onClick=new s.vpe}onOptionClick(ee){this.onClick.emit({originalEvent:ee,option:this.option})}}return nt.\u0275fac=function(ee){return new(ee||nt)},nt.\u0275cmp=s.Xpm({type:nt,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(ee,ze){1&ee&&(s.TgZ(0,"li",0),s.NdJ("click",function(bt){return ze.onOptionClick(bt)}),s.YNc(1,ne,2,1,"span",1),s.YNc(2,De,1,0,"ng-container",2),s.qZA()),2&ee&&(s.Q6J("ngStyle",s.VKq(8,ue,ze.itemSize+"px"))("id",ze.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,ge,ze.selected,ze.disabled)),s.uIk("aria-label",ze.label)("aria-selected",ze.selected),s.xp6(1),s.Q6J("ngIf",!ze.template),s.xp6(1),s.Q6J("ngTemplateOutlet",ze.template)("ngTemplateOutletContext",s.VKq(13,pe,ze.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,se.H],encapsulation:2}),nt})(),Qt=(()=>{class nt{constructor(ee,ze,dt,bt,sn,ni){this.el=ee,this.renderer=ze,this.cd=dt,this.zone=bt,this.filterService=sn,this.config=ni,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=(0,he.Th)()}get disabled(){return this._disabled}set disabled(ee){ee&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=ee,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(ee){this._itemSize=ee,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(ee){this._autoZIndex=ee,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(ee){this._baseZIndex=ee,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(ee){this._showTransitionOptions=ee,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(ee){this._hideTransitionOptions=ee,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(ee=>{switch(ee.getType()){case"item":default:this.itemTemplate=ee.template;break;case"selectedItem":this.selectedItemTemplate=ee.template;break;case"header":this.headerTemplate=ee.template;break;case"filter":this.filterTemplate=ee.template;break;case"footer":this.footerTemplate=ee.template;break;case"emptyfilter":this.emptyFilterTemplate=ee.template;break;case"empty":this.emptyTemplate=ee.template;break;case"group":this.groupTemplate=ee.template;break;case"loader":this.loaderTemplate=ee.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:ee=>this.onFilterInputChange(ee),reset:()=>this.resetFilter()})}get options(){return this._options}set options(ee){this._options=ee,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&he.gb.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(ee){this._filterValue=ee,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(V.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(V.ws.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(ee){return this.optionLabel?he.gb.resolveFieldData(ee,this.optionLabel):ee&&void 0!==ee.label?ee.label:ee}getOptionValue(ee){return this.optionValue?he.gb.resolveFieldData(ee,this.optionValue):!this.optionLabel&&ee&&void 0!==ee.value?ee.value:ee}isOptionDisabled(ee){return this.optionDisabled?he.gb.resolveFieldData(ee,this.optionDisabled):!(!ee||void 0===ee.disabled)&&ee.disabled}getOptionGroupLabel(ee){return this.optionGroupLabel?he.gb.resolveFieldData(ee,this.optionGroupLabel):ee&&void 0!==ee.label?ee.label:ee}getOptionGroupChildren(ee){return this.optionGroupChildren?he.gb.resolveFieldData(ee,this.optionGroupChildren):ee.items}onItemClick(ee){const ze=ee.option;this.isOptionDisabled(ze)||(this.selectItem(ee.originalEvent,ze),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(ee,ze){this.selectedOption!=ze&&(this.selectedOption=ze,this.value=this.getOptionValue(ze),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:ee,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(I.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&I.p.scrollInView(this.itemsWrapper,I.p.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(ee){this.filter&&this.resetFilter(),this.value=ee,this.updateSelectedOption(ee),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(ee){this.selectedOption=this.findOption(ee,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(ee){this.onModelChange=ee}registerOnTouched(ee){this.onModelTouched=ee}setDisabledState(ee){this.disabled=ee,this.cd.markForCheck()}onMouseclick(ee){this.disabled||this.readonly||this.isInputClick(ee)||(this.onClick.emit(ee),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(ee){return I.p.hasClass(ee.target,"p-dropdown-clear-icon")||ee.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&ee.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(ee){this.focused=!0,this.hide(),this.onFocus.emit(ee)}onEditableInputChange(ee){this.value=ee.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:ee,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(ee){if("visible"===ee.toState){if(this.itemsWrapper=I.p.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const ze=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==ze&&this.scroller.scrollToIndex(ze)}else{let ze=I.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");ze&&ze.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(ee)}"void"===ee.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(ee))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(ee){this.focused=!0,this.onFocus.emit(ee)}onInputBlur(ee){this.focused=!1,this.onBlur.emit(ee),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(ee){let ze;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let dt=ee-1;0<=dt;dt--){let bt=this.optionsToDisplay[dt];if(!this.isOptionDisabled(bt)){ze=bt;break}}if(!ze)for(let dt=this.optionsToDisplay.length-1;dt>=ee;dt--){let bt=this.optionsToDisplay[dt];if(!this.isOptionDisabled(bt)){ze=bt;break}}}return ze}findNextEnabledOption(ee){let ze;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let dt=ee+1;dt<this.optionsToDisplay.length;dt++){let bt=this.optionsToDisplay[dt];if(!this.isOptionDisabled(bt)){ze=bt;break}}if(!ze)for(let dt=0;dt<ee;dt++){let bt=this.optionsToDisplay[dt];if(!this.isOptionDisabled(bt)){ze=bt;break}}}return ze}onKeydown(ee,ze){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(ee.which){case 40:if(!this.overlayVisible&&ee.altKey)this.show();else if(this.group){let dt=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==dt){let bt=dt.itemIndex+1;bt<this.getOptionGroupChildren(this.optionsToDisplay[dt.groupIndex]).length?(this.selectItem(ee,this.getOptionGroupChildren(this.optionsToDisplay[dt.groupIndex])[bt]),this.selectedOptionUpdated=!0):this.optionsToDisplay[dt.groupIndex+1]&&(this.selectItem(ee,this.getOptionGroupChildren(this.optionsToDisplay[dt.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(ee,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let dt=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,bt=this.findNextEnabledOption(dt);bt&&(this.selectItem(ee,bt),this.selectedOptionUpdated=!0)}ee.preventDefault();break;case 38:if(this.group){let dt=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==dt){let bt=dt.itemIndex-1;if(bt>=0)this.selectItem(ee,this.getOptionGroupChildren(this.optionsToDisplay[dt.groupIndex])[bt]),this.selectedOptionUpdated=!0;else if(bt<0){let sn=this.optionsToDisplay[dt.groupIndex-1];sn&&(this.selectItem(ee,this.getOptionGroupChildren(sn)[this.getOptionGroupChildren(sn).length-1]),this.selectedOptionUpdated=!0)}}}else{let dt=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,bt=this.findPrevEnabledOption(dt);bt&&(this.selectItem(ee,bt),this.selectedOptionUpdated=!0)}ee.preventDefault();break;case 32:ze&&(this.overlayVisible?this.hide():this.show(),ee.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),ee.preventDefault();break;case 27:case 9:this.hide();break;default:ze&&!ee.metaKey&&17!==ee.which&&this.search(ee)}}search(ee){this.searchTimeout&&clearTimeout(this.searchTimeout);const ze=ee.key;let dt;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=ze,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+ze:ze,this.group){let bt=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};dt=this.searchOptionWithinGroup(bt)}else{let bt=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;dt=this.searchOption(++bt)}dt&&!this.isOptionDisabled(dt)&&(this.selectItem(ee,dt),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(ee){let ze;return this.searchValue&&(ze=this.searchOptionInRange(ee,this.optionsToDisplay.length),ze||(ze=this.searchOptionInRange(0,ee))),ze}searchOptionInRange(ee,ze){for(let dt=ee;dt<ze;dt++){let bt=this.optionsToDisplay[dt];if(this.getOptionLabel(bt).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(bt))return bt}return null}searchOptionWithinGroup(ee){if(this.searchValue){for(let dt=ee.groupIndex;dt<this.optionsToDisplay.length;dt++)for(let bt=ee.groupIndex===dt?ee.itemIndex+1:0;bt<this.getOptionGroupChildren(this.optionsToDisplay[dt]).length;bt++){let sn=this.getOptionGroupChildren(this.optionsToDisplay[dt])[bt];if(this.getOptionLabel(sn).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(sn))return sn}for(let dt=0;dt<=ee.groupIndex;dt++)for(let bt=0;bt<(ee.groupIndex===dt?ee.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[dt]).length);bt++){let sn=this.getOptionGroupChildren(this.optionsToDisplay[dt])[bt];if(this.getOptionLabel(sn).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(sn))return sn}}return null}findOptionIndex(ee,ze){let dt=-1;if(ze)for(let bt=0;bt<ze.length;bt++)if(null==ee&&null==this.getOptionValue(ze[bt])||he.gb.equals(ee,this.getOptionValue(ze[bt]),this.dataKey)){dt=bt;break}return dt}findOptionGroupIndex(ee,ze){let dt,bt;if(ze)for(let sn=0;sn<ze.length&&(dt=sn,bt=this.findOptionIndex(ee,this.getOptionGroupChildren(ze[sn])),-1===bt);sn++);return-1!==bt?{groupIndex:dt,itemIndex:bt}:-1}findOption(ee,ze,dt){if(this.group&&!dt){let bt;if(ze&&ze.length)for(let sn of ze)if(bt=this.findOption(ee,this.getOptionGroupChildren(sn),!0),bt)break;return bt}{let bt=this.findOptionIndex(ee,ze);return-1!=bt?ze[bt]:null}}onFilterInputChange(ee){let ze=ee.target.value;ze&&ze.length?(this._filterValue=ze,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:ee,filter:this._filterValue})}activateFilter(){let ee=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let ze=[];for(let dt of this.options){let bt=this.filterService.filter(this.getOptionGroupChildren(dt),ee,this.filterValue,this.filterMatchMode,this.filterLocale);bt&&bt.length&&ze.push(Object.assign(Object.assign({},dt),{[this.optionGroupChildren]:bt}))}this.optionsToDisplay=ze}else this.optionsToDisplay=this.filterService.filter(this.options,ee,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?I.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():I.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(ee){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:ee,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(ee)}}return nt.\u0275fac=function(ee){return new(ee||nt)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(V.iZ),s.Y36(V.b4))},nt.\u0275cmp=s.Xpm({type:nt,selectors:[["p-dropdown"]],contentQueries:function(ee,ze,dt){if(1&ee&&s.Suo(dt,V.jx,4),2&ee){let bt;s.iGM(bt=s.CRH())&&(ze.templates=bt)}},viewQuery:function(ee,ze){if(1&ee&&(s.Gf(ke,5),s.Gf(Q,5),s.Gf(Oe,5),s.Gf(le,5),s.Gf(P,5),s.Gf(N,5),s.Gf(we,5)),2&ee){let dt;s.iGM(dt=s.CRH())&&(ze.containerViewChild=dt.first),s.iGM(dt=s.CRH())&&(ze.filterViewChild=dt.first),s.iGM(dt=s.CRH())&&(ze.accessibleViewChild=dt.first),s.iGM(dt=s.CRH())&&(ze.editableInputViewChild=dt.first),s.iGM(dt=s.CRH())&&(ze.itemsViewChild=dt.first),s.iGM(dt=s.CRH())&&(ze.scroller=dt.first),s.iGM(dt=s.CRH())&&(ze.overlayViewChild=dt.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(ee,ze){2&ee&&s.ekj("p-inputwrapper-filled",ze.filled)("p-inputwrapper-focus",ze.focused||ze.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[s._Bn([Xe])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(ee,ze){1&ee&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(bt){return ze.onMouseclick(bt)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(bt){return ze.onInputFocus(bt)})("blur",function(bt){return ze.onInputBlur(bt)})("keydown",function(bt){return ze.onKeydown(bt,!0)}),s.qZA()(),s.YNc(5,E,3,13,"span",5),s.YNc(6,$,2,4,"span",6),s.YNc(7,Ae,2,4,"input",7),s.YNc(8,Ne,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.TgZ(11,"p-overlay",11,12),s.NdJ("visibleChange",function(bt){return ze.overlayVisible=bt})("onAnimationStart",function(bt){return ze.onOverlayAnimationStart(bt)})("onHide",function(){return ze.hide()}),s.YNc(13,_e,9,11,"ng-template",13),s.qZA()()),2&ee&&(s.Tol(ze.styleClass),s.Q6J("ngClass",s.l5B(27,Ie,ze.disabled,ze.overlayVisible,ze.focused,ze.showClear&&!ze.disabled))("ngStyle",ze.style),s.xp6(3),s.Q6J("disabled",ze.disabled)("autofocus",ze.autofocus),s.uIk("id",ze.inputId)("placeholder",ze.placeholder)("aria-label",ze.ariaLabel)("aria-expanded",!1)("aria-labelledby",ze.ariaLabelledBy)("tabindex",ze.tabindex)("aria-activedescendant",ze.overlayVisible?ze.labelId:null),s.xp6(2),s.Q6J("ngIf",!ze.editable&&null!=ze.label),s.xp6(1),s.Q6J("ngIf",!ze.editable&&null==ze.label),s.xp6(1),s.Q6J("ngIf",ze.editable),s.xp6(1),s.Q6J("ngIf",ze.isVisibleClearIcon),s.xp6(1),s.uIk("aria-expanded",ze.overlayVisible),s.xp6(1),s.Q6J("ngClass",ze.dropdownIcon),s.xp6(1),s.Q6J("visible",ze.overlayVisible)("options",ze.overlayOptions)("target","@parent")("appendTo",ze.appendTo)("autoZIndex",ze.autoZIndex)("baseZIndex",ze.baseZIndex)("showTransitionOptions",ze.showTransitionOptions)("hideTransitionOptions",ze.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,L.aV,V.jx,z.u,q.T,F.P,Rt],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),nt})(),nn=(()=>{class nt{}return nt.\u0275fac=function(ee){return new(ee||nt)},nt.\u0275mod=s.oAB({type:nt}),nt.\u0275inj=s.cJS({imports:[e.ez,L.U8,V.m8,z.z,se.T,q.v,F.E,L.U8,V.m8,q.v]}),nt})()},2537:(Lt,qe,C)=>{C.d(qe,{vy:()=>z,zz:()=>he});var e=C(5e3),s=C(9808),f=C(5730),V=C(1424),F=C(2382),I=C(9618);const L=["input"];function se(ne,De){if(1&ne){const ue=e.EpF();e.TgZ(0,"i",3),e.NdJ("click",function(){e.CHM(ue);const pe=e.oxw();return e.KtG(pe.clear())}),e.qZA()}}const q={provide:F.JU,useExisting:(0,e.Gpc)(()=>z),multi:!0};let z=(()=>{class ne{constructor(ue,ge){this.el=ue,this.cd=ge,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onInput=new e.vpe,this.onKeydown=new e.vpe,this.onClear=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let ue=f.p.getUserAgent();this.androidChrome=/chrome/i.test(ue)&&/android/i.test(ue),this.initMask()}get mask(){return this._mask}set mask(ue){this._mask=ue,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let ue=this.mask.split("");for(let ge=0;ge<ue.length;ge++){let pe=ue[ge];"?"==pe?(this.len--,this.partialPosition=ge):this.defs[pe]?(this.tests.push(new RegExp(this.defs[pe])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),ge<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let ge=0;ge<ue.length;ge++){let pe=ue[ge];"?"!=pe&&this.buffer.push(this.defs[pe]?this.getPlaceholder(ge):pe)}this.defaultBuffer=this.buffer.join("")}writeValue(ue){this.value=ue,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(ue){this.onModelChange=ue}registerOnTouched(ue){this.onModelTouched=ue}setDisabledState(ue){this.disabled=ue,this.cd.markForCheck()}caret(ue,ge){let pe,ke,Q;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof ue)return this.inputViewChild.nativeElement.setSelectionRange?(ke=this.inputViewChild.nativeElement.selectionStart,Q=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(pe=document.selection.createRange(),ke=0-pe.duplicate().moveStart("character",-1e5),Q=ke+pe.text.length),{begin:ke,end:Q};ke=ue,Q="number"==typeof ge?ge:ke,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(ke,Q):this.inputViewChild.nativeElement.createTextRange&&(pe=this.inputViewChild.nativeElement.createTextRange(),pe.collapse(!0),pe.moveEnd("character",Q),pe.moveStart("character",ke),pe.select())}}isCompleted(){for(let ge=this.firstNonMaskPos;ge<=this.lastRequiredNonMaskPos;ge++)if(this.tests[ge]&&this.buffer[ge]===this.getPlaceholder(ge))return!1;return!0}getPlaceholder(ue){return this.slotChar.charAt(ue<this.slotChar.length?ue:0)}seekNext(ue){for(;++ue<this.len&&!this.tests[ue];);return ue}seekPrev(ue){for(;--ue>=0&&!this.tests[ue];);return ue}shiftL(ue,ge){let pe,ke;if(!(ue<0)){for(pe=ue,ke=this.seekNext(ge);pe<this.len;pe++)if(this.tests[pe]){if(!(ke<this.len&&this.tests[pe].test(this.buffer[ke])))break;this.buffer[pe]=this.buffer[ke],this.buffer[ke]=this.getPlaceholder(ke),ke=this.seekNext(ke)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,ue))}}shiftR(ue){let ge,pe,ke,Q;for(ge=ue,pe=this.getPlaceholder(ue);ge<this.len;ge++)if(this.tests[ge]){if(ke=this.seekNext(ge),Q=this.buffer[ge],this.buffer[ge]=pe,!(ke<this.len&&this.tests[ke].test(Q)))break;pe=Q}}handleAndroidInput(ue){var ge=this.inputViewChild.nativeElement.value,pe=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>ge.length){for(this.checkVal(!0);pe.begin>0&&!this.tests[pe.begin-1];)pe.begin--;if(0===pe.begin)for(;pe.begin<this.firstNonMaskPos&&!this.tests[pe.begin];)pe.begin++;setTimeout(()=>{this.caret(pe.begin,pe.begin),this.updateModel(ue),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);pe.begin<this.len&&!this.tests[pe.begin];)pe.begin++;setTimeout(()=>{this.caret(pe.begin,pe.begin),this.updateModel(ue),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(ue){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(ue),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(ue);let ge=document.createEvent("HTMLEvents");ge.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(ge)}}onInputKeydown(ue){if(this.readonly)return;let pe,ke,Q,ge=ue.which||ue.keyCode,Oe=/iphone/i.test(f.p.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(ue),8===ge||46===ge||Oe&&127===ge?(pe=this.caret(),ke=pe.begin,Q=pe.end,Q-ke==0&&(ke=46!==ge?this.seekPrev(ke):Q=this.seekNext(ke-1),Q=46===ge?this.seekNext(Q):Q),this.clearBuffer(ke,Q),this.shiftL(ke,Q-1),this.updateModel(ue),this.onInput.emit(ue),ue.preventDefault()):13===ge?(this.onInputBlur(ue),this.updateModel(ue)):27===ge&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(ue),ue.preventDefault())}onKeyPress(ue){if(!this.readonly){var ke,Q,Oe,le,ge=ue.which||ue.keyCode,pe=this.caret();ue.ctrlKey||ue.altKey||ue.metaKey||ge<32||ge>34&&ge<41||(ge&&13!==ge&&(pe.end-pe.begin!=0&&(this.clearBuffer(pe.begin,pe.end),this.shiftL(pe.begin,pe.end-1)),(ke=this.seekNext(pe.begin-1))<this.len&&(Q=String.fromCharCode(ge),this.tests[ke].test(Q)&&(this.shiftR(ke),this.buffer[ke]=Q,this.writeBuffer(),Oe=this.seekNext(ke),/android/i.test(f.p.getUserAgent())?setTimeout(()=>{this.caret(Oe)},0):this.caret(Oe),pe.begin<=this.lastRequiredNonMaskPos&&(le=this.isCompleted()),this.onInput.emit(ue))),ue.preventDefault()),this.updateModel(ue),this.updateFilledState(),le&&this.onComplete.emit())}}clearBuffer(ue,ge){let pe;for(pe=ue;pe<ge&&pe<this.len;pe++)this.tests[pe]&&(this.buffer[pe]=this.getPlaceholder(pe))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(ue){let ke,Q,Oe,ge=this.inputViewChild.nativeElement.value,pe=-1;for(ke=0,Oe=0;ke<this.len;ke++)if(this.tests[ke]){for(this.buffer[ke]=this.getPlaceholder(ke);Oe++<ge.length;)if(Q=ge.charAt(Oe-1),this.tests[ke].test(Q)){this.buffer[ke]=Q,pe=ke;break}if(Oe>ge.length){this.clearBuffer(ke+1,this.len);break}}else this.buffer[ke]===ge.charAt(Oe)&&Oe++,ke<this.partialPosition&&(pe=ke);return ue?this.writeBuffer():pe+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,pe+1)),this.partialPosition?ke:this.firstNonMaskPos}onInputFocus(ue){if(this.readonly)return;let ge;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,ge=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),ge==this.mask.replace("?","").length?this.caret(0,ge):this.caret(ge))},10),this.onFocus.emit(ue)}onInputChange(ue){this.androidChrome?this.handleAndroidInput(ue):this.handleInputChange(ue),this.onInput.emit(ue)}handleInputChange(ue){this.readonly||setTimeout(()=>{var ge=this.checkVal(!0);this.caret(ge),this.updateModel(ue),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let ue=[];for(let ge=0;ge<this.buffer.length;ge++){let pe=this.buffer[ge];this.tests[ge]&&pe!=this.getPlaceholder(ge)&&ue.push(pe)}return ue.join("")}updateModel(ue){const ge=this.unmask?this.getUnmaskedValue():ue.target.value;(null!==ge||void 0!==ge)&&(this.value=ge,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return ne.\u0275fac=function(ue){return new(ue||ne)(e.Y36(e.SBq),e.Y36(e.sBO))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["p-inputMask"]],viewQuery:function(ue,ge){if(1&ue&&e.Gf(L,7),2&ue){let pe;e.iGM(pe=e.CRH())&&(ge.inputViewChild=pe.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(ue,ge){2&ue&&e.ekj("p-inputwrapper-filled",ge.filled)("p-inputwrapper-focus",ge.focused)("p-inputmask-clearable",ge.showClear&&!ge.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[e._Bn([q])],decls:3,vars:18,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(ue,ge){1&ue&&(e.TgZ(0,"input",0,1),e.NdJ("focus",function(ke){return ge.onInputFocus(ke)})("blur",function(ke){return ge.onInputBlur(ke)})("keydown",function(ke){return ge.onInputKeydown(ke)})("keypress",function(ke){return ge.onKeyPress(ke)})("input",function(ke){return ge.onInputChange(ke)})("paste",function(ke){return ge.handleInputChange(ke)}),e.qZA(),e.YNc(2,se,1,0,"i",2)),2&ue&&(e.Q6J("ngStyle",ge.style)("ngClass",ge.styleClass)("disabled",ge.disabled)("readonly",ge.readonly)("autofocus",ge.autoFocus),e.uIk("id",ge.inputId)("type",ge.type)("name",ge.name)("placeholder",ge.placeholder)("title",ge.title)("size",ge.size)("autocomplete",ge.autocomplete)("maxlength",ge.maxlength)("tabindex",ge.tabindex)("aria-label",ge.ariaLabel)("aria-required",ge.ariaRequired)("required",ge.required),e.xp6(2),e.Q6J("ngIf",null!=ge.value&&ge.filled&&ge.showClear&&!ge.disabled))},dependencies:[s.mk,s.O5,s.PC,V.o,I.P],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),ne})(),he=(()=>{class ne{}return ne.\u0275fac=function(ue){return new(ue||ne)},ne.\u0275mod=e.oAB({type:ne}),ne.\u0275inj=e.cJS({imports:[s.ez,V.j,I.E]}),ne})()},7010:(Lt,qe,C)=>{C.d(qe,{L$:()=>ke,Rn:()=>pe});var e=C(9808),s=C(5e3),f=C(2382),V=C(845),F=C(5730),I=C(1424);const L=["input"];function se(Q,Oe){if(1&Q){const le=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.clear())}),s.qZA()}}const q=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},z=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function he(Q,Oe){if(1&Q){const le=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(N){s.CHM(le);const we=s.oxw();return s.KtG(we.onUpButtonMouseDown(N))})("mouseup",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onUpButtonMouseLeave())})("keydown",function(N){s.CHM(le);const we=s.oxw();return s.KtG(we.onUpButtonKeyDown(N))})("keyup",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onUpButtonKeyUp())}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(N){s.CHM(le);const we=s.oxw();return s.KtG(we.onDownButtonMouseDown(N))})("mouseup",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onDownButtonMouseLeave())})("keydown",function(N){s.CHM(le);const we=s.oxw();return s.KtG(we.onDownButtonKeyDown(N))})("keyup",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onDownButtonKeyUp())}),s.qZA()()}if(2&Q){const le=s.oxw();s.xp6(1),s.Tol(le.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,q))("icon",le.incrementButtonIcon)("disabled",le.disabled),s.xp6(1),s.Tol(le.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,z))("icon",le.decrementButtonIcon)("disabled",le.disabled)}}function ne(Q,Oe){if(1&Q){const le=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(N){s.CHM(le);const we=s.oxw();return s.KtG(we.onUpButtonMouseDown(N))})("mouseup",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onUpButtonMouseLeave())})("keydown",function(N){s.CHM(le);const we=s.oxw();return s.KtG(we.onUpButtonKeyDown(N))})("keyup",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onUpButtonKeyUp())}),s.qZA()}if(2&Q){const le=s.oxw();s.Tol(le.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,q))("icon",le.incrementButtonIcon)("disabled",le.disabled)}}function De(Q,Oe){if(1&Q){const le=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(N){s.CHM(le);const we=s.oxw();return s.KtG(we.onDownButtonMouseDown(N))})("mouseup",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onDownButtonMouseLeave())})("keydown",function(N){s.CHM(le);const we=s.oxw();return s.KtG(we.onDownButtonKeyDown(N))})("keyup",function(){s.CHM(le);const N=s.oxw();return s.KtG(N.onDownButtonKeyUp())}),s.qZA()}if(2&Q){const le=s.oxw();s.Tol(le.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,z))("icon",le.decrementButtonIcon)("disabled",le.disabled)}}const ue=function(Q,Oe,le){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":Q,"p-inputnumber-buttons-horizontal":Oe,"p-inputnumber-buttons-vertical":le}},ge={provide:f.JU,useExisting:(0,s.Gpc)(()=>pe),multi:!0};let pe=(()=>{class Q{constructor(le,P){this.el=le,this.cd=P,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(le){le&&(this.focused=!1),this._disabled=le,this.timer&&this.clearTimer()}ngOnChanges(le){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(N=>!!le[N])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const le=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),P=new Map(le.map((N,we)=>[N,we]));this._numeral=new RegExp(`[${le.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=N=>P.get(N)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(le){return le.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const le=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${le.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const le=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=le.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const le=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${le.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const le=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${le.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const le=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=le.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const le=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=le.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(le){if(null!=le){if("-"===le)return le;if(this.format){let N=new Intl.NumberFormat(this.locale,this.getOptions()).format(le);return this.prefix&&(N=this.prefix+N),this.suffix&&(N+=this.suffix),N}return le.toString()}return""}parseValue(le){let P=le.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(P){if("-"===P)return P;let N=+P;return isNaN(N)?null:N}return null}repeat(le,P,N){if(this.readonly)return;let we=P||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(le,40,N)},we),this.spin(le,N)}spin(le,P){let N=this.step*P,we=this.parseValue(this.input.nativeElement.value)||0,be=this.validateValue(we+N);this.maxlength&&this.maxlength<this.formatValue(be).length||(this.updateInput(be,null,"spin",null),this.updateModel(le,be),this.handleOnInput(le,we,be))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(le){this.input.nativeElement.focus(),this.repeat(le,null,1),le.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(le){(32===le.keyCode||13===le.keyCode)&&this.repeat(le,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(le){this.input.nativeElement.focus(),this.repeat(le,null,-1),le.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(le){(32===le.keyCode||13===le.keyCode)&&this.repeat(le,null,-1)}onUserInput(le){this.readonly||(this.isSpecialChar&&(le.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(le){if(this.readonly)return;if(this.lastValue=le.target.value,le.shiftKey||le.altKey)return void(this.isSpecialChar=!0);let P=le.target.selectionStart,N=le.target.selectionEnd,we=le.target.value,be=null;switch(le.altKey&&le.preventDefault(),le.which){case 38:this.spin(le,1),le.preventDefault();break;case 40:this.spin(le,-1),le.preventDefault();break;case 37:this.isNumeralChar(we.charAt(P-1))||le.preventDefault();break;case 39:this.isNumeralChar(we.charAt(P))||le.preventDefault();break;case 13:be=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(be),this.input.nativeElement.setAttribute("aria-valuenow",be),this.updateModel(le,be);break;case 8:if(le.preventDefault(),P===N){const ye=we.charAt(P-1),{decimalCharIndex:G,decimalCharIndexWithoutPrefix:E}=this.getDecimalCharIndexes(we);if(this.isNumeralChar(ye)){const U=this.getDecimalLength(we);if(this._group.test(ye))this._group.lastIndex=0,be=we.slice(0,P-2)+we.slice(P-1);else if(this._decimal.test(ye))this._decimal.lastIndex=0,U?this.input.nativeElement.setSelectionRange(P-1,P-1):be=we.slice(0,P-1)+we.slice(P);else if(G>0&&P>G){const $=this.isDecimalMode()&&(this.minFractionDigits||0)<U?"":"0";be=we.slice(0,P-1)+$+we.slice(P)}else 1===E?(be=we.slice(0,P-1)+"0"+we.slice(P),be=this.parseValue(be)>0?be:""):be=we.slice(0,P-1)+we.slice(P)}this.updateValue(le,be,null,"delete-single")}else be=this.deleteRange(we,P,N),this.updateValue(le,be,null,"delete-range");break;case 46:if(le.preventDefault(),P===N){const ye=we.charAt(P),{decimalCharIndex:G,decimalCharIndexWithoutPrefix:E}=this.getDecimalCharIndexes(we);if(this.isNumeralChar(ye)){const U=this.getDecimalLength(we);if(this._group.test(ye))this._group.lastIndex=0,be=we.slice(0,P)+we.slice(P+2);else if(this._decimal.test(ye))this._decimal.lastIndex=0,U?this.input.nativeElement.setSelectionRange(P+1,P+1):be=we.slice(0,P)+we.slice(P+1);else if(G>0&&P>G){const $=this.isDecimalMode()&&(this.minFractionDigits||0)<U?"":"0";be=we.slice(0,P)+$+we.slice(P+1)}else 1===E?(be=we.slice(0,P)+"0"+we.slice(P+1),be=this.parseValue(be)>0?be:""):be=we.slice(0,P)+we.slice(P+1)}this.updateValue(le,be,null,"delete-back-single")}else be=this.deleteRange(we,P,N),this.updateValue(le,be,null,"delete-range")}this.onKeyDown.emit(le)}onInputKeyPress(le){if(this.readonly)return;let P=le.which||le.keyCode,N=String.fromCharCode(P);const we=this.isDecimalSign(N),be=this.isMinusSign(N);13!=P&&le.preventDefault(),(48<=P&&P<=57||be||we)&&this.insert(le,N,{isDecimalSign:we,isMinusSign:be})}onPaste(le){if(!this.disabled&&!this.readonly){le.preventDefault();let P=(le.clipboardData||window.clipboardData).getData("Text");if(P){let N=this.parseValue(P);null!=N&&this.insert(le,N.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(le){return!(!this._minusSign.test(le)&&"-"!==le||(this._minusSign.lastIndex=0,0))}isDecimalSign(le){return!!this._decimal.test(le)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(le){let P=le.search(this._decimal);this._decimal.lastIndex=0;const we=le.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:P,decimalCharIndexWithoutPrefix:we}}getCharIndexes(le){const P=le.search(this._decimal);this._decimal.lastIndex=0;const N=le.search(this._minusSign);this._minusSign.lastIndex=0;const we=le.search(this._suffix);this._suffix.lastIndex=0;const be=le.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:P,minusCharIndex:N,suffixCharIndex:we,currencyCharIndex:be}}insert(le,P,N={isDecimalSign:!1,isMinusSign:!1}){const we=P.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==we)return;let be=this.input.nativeElement.selectionStart,ye=this.input.nativeElement.selectionEnd,G=this.input.nativeElement.value.trim();const{decimalCharIndex:E,minusCharIndex:U,suffixCharIndex:$,currencyCharIndex:Ae}=this.getCharIndexes(G);let Ne;if(N.isMinusSign)0===be&&(Ne=G,(-1===U||0!==ye)&&(Ne=this.insertText(G,P,0,ye)),this.updateValue(le,Ne,P,"insert"));else if(N.isDecimalSign)E>0&&be===E?this.updateValue(le,G,P,"insert"):(E>be&&E<ye||-1===E&&this.maxFractionDigits)&&(Ne=this.insertText(G,P,be,ye),this.updateValue(le,Ne,P,"insert"));else{const He=this.numberFormat.resolvedOptions().maximumFractionDigits,Re=be!==ye?"range-insert":"insert";if(E>0&&be>E){if(be+P.length-(E+1)<=He){const gt=Ae>=be?Ae-1:$>=be?$:G.length;Ne=G.slice(0,be)+P+G.slice(be+P.length,gt)+G.slice(gt),this.updateValue(le,Ne,P,Re)}}else Ne=this.insertText(G,P,be,ye),this.updateValue(le,Ne,P,Re)}}insertText(le,P,N,we){if(2===("."===P?P:P.split(".")).length){const ye=le.slice(N,we).search(this._decimal);return this._decimal.lastIndex=0,ye>0?le.slice(0,N)+this.formatValue(P)+le.slice(we):le||this.formatValue(P)}return we-N===le.length?this.formatValue(P):0===N?P+le.slice(we):we===le.length?le.slice(0,N)+P:le.slice(0,N)+P+le.slice(we)}deleteRange(le,P,N){let we;return we=N-P===le.length?"":0===P?le.slice(N):N===le.length?le.slice(0,P):le.slice(0,P)+le.slice(N),we}initCursor(){let le=this.input.nativeElement.selectionStart,P=this.input.nativeElement.value,N=P.length,we=null,be=(this.prefixChar||"").length;P=P.replace(this._prefix,""),le-=be;let ye=P.charAt(le);if(this.isNumeralChar(ye))return le+be;let G=le-1;for(;G>=0;){if(ye=P.charAt(G),this.isNumeralChar(ye)){we=G+be;break}G--}if(null!==we)this.input.nativeElement.setSelectionRange(we+1,we+1);else{for(G=le;G<N;){if(ye=P.charAt(G),this.isNumeralChar(ye)){we=G+be;break}G++}null!==we&&this.input.nativeElement.setSelectionRange(we,we)}return we||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==F.p.getSelection()&&this.initCursor()}isNumeralChar(le){return!(1!==le.length||!(this._numeral.test(le)||this._decimal.test(le)||this._group.test(le)||this._minusSign.test(le))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(le,P,N,we){let be=this.input.nativeElement.value,ye=null;null!=P&&(ye=this.parseValue(P),ye=ye||this.allowEmpty?ye:0,this.updateInput(ye,N,we,P),this.handleOnInput(le,be,ye))}handleOnInput(le,P,N){this.isValueChanged(P,N)&&this.onInput.emit({originalEvent:le,value:N,formattedValue:P})}isValueChanged(le,P){return null===P&&null!==le||null!=P&&P!==("string"==typeof le?this.parseValue(le):le)}validateValue(le){return"-"===le||null==le?null:null!=this.min&&le<this.min?this.min:null!=this.max&&le>this.max?this.max:le}updateInput(le,P,N,we){P=P||"";let be=this.input.nativeElement.value,ye=this.formatValue(le),G=be.length;if(ye!==we&&(ye=this.concatValues(ye,we)),0===G){this.input.nativeElement.value=ye,this.input.nativeElement.setSelectionRange(0,0);const U=this.initCursor()+P.length;this.input.nativeElement.setSelectionRange(U,U)}else{let E=this.input.nativeElement.selectionStart,U=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<ye.length)return;this.input.nativeElement.value=ye;let $=ye.length;if("range-insert"===N){const Ae=this.parseValue((be||"").slice(0,E)),He=(null!==Ae?Ae.toString():"").split("").join(`(${this.groupChar})?`),Re=new RegExp(He,"g");Re.test(ye);const gt=P.split("").join(`(${this.groupChar})?`),ut=new RegExp(gt,"g");ut.test(ye.slice(Re.lastIndex)),U=Re.lastIndex+ut.lastIndex,this.input.nativeElement.setSelectionRange(U,U)}else if($===G)"insert"===N||"delete-back-single"===N?this.input.nativeElement.setSelectionRange(U+1,U+1):"delete-single"===N?this.input.nativeElement.setSelectionRange(U-1,U-1):("delete-range"===N||"spin"===N)&&this.input.nativeElement.setSelectionRange(U,U);else if("delete-back-single"===N){let Ae=be.charAt(U-1),Ne=be.charAt(U),He=G-$,Re=this._group.test(Ne);Re&&1===He?U+=1:!Re&&this.isNumeralChar(Ae)&&(U+=-1*He+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(U,U)}else if("-"===be&&"insert"===N){this.input.nativeElement.setSelectionRange(0,0);const Ne=this.initCursor()+P.length+1;this.input.nativeElement.setSelectionRange(Ne,Ne)}else U+=$-G,this.input.nativeElement.setSelectionRange(U,U)}this.input.nativeElement.setAttribute("aria-valuenow",le)}concatValues(le,P){if(le&&P){let N=P.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?le.replace(this.suffixChar,"").split(this._decimal)[0]+P.replace(this.suffixChar,"").slice(N)+this.suffixChar:-1!==N?le.split(this._decimal)[0]+P.slice(N):le}return le}getDecimalLength(le){if(le){const P=le.split(this._decimal);if(2===P.length)return P[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(le){this.focused=!0,this.onFocus.emit(le)}onInputBlur(le){this.focused=!1;let P=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(P),this.input.nativeElement.setAttribute("aria-valuenow",P),this.updateModel(le,P),this.onBlur.emit(le)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(le,P){this.value!==P&&(this.value=P,this.onModelChange(P)),this.onModelTouched()}writeValue(le){this.value=le,this.cd.markForCheck()}registerOnChange(le){this.onModelChange=le}registerOnTouched(le){this.onModelTouched=le}setDisabledState(le){this.disabled=le,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return Q.\u0275fac=function(le){return new(le||Q)(s.Y36(s.SBq),s.Y36(s.sBO))},Q.\u0275cmp=s.Xpm({type:Q,selectors:[["p-inputNumber"]],viewQuery:function(le,P){if(1&le&&s.Gf(L,5),2&le){let N;s.iGM(N=s.CRH())&&(P.input=N.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(le,P){2&le&&s.ekj("p-inputwrapper-filled",P.filled)("p-inputwrapper-focus",P.focused)("p-inputnumber-clearable",P.showClear&&"vertical"!=P.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([ge]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(le,P){1&le&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(we){return P.onUserInput(we)})("keydown",function(we){return P.onInputKeyDown(we)})("keypress",function(we){return P.onInputKeyPress(we)})("paste",function(we){return P.onPaste(we)})("click",function(){return P.onInputClick()})("focus",function(we){return P.onInputFocus(we)})("blur",function(we){return P.onInputBlur(we)}),s.qZA(),s.YNc(3,se,1,0,"i",3),s.YNc(4,he,3,12,"span",4),s.YNc(5,ne,1,6,"button",5),s.YNc(6,De,1,6,"button",5),s.qZA()),2&le&&(s.Tol(P.styleClass),s.Q6J("ngClass",s.kEZ(28,ue,P.showButtons&&"stacked"===P.buttonLayout,P.showButtons&&"horizontal"===P.buttonLayout,P.showButtons&&"vertical"===P.buttonLayout))("ngStyle",P.style),s.xp6(1),s.Tol(P.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",P.inputStyle)("value",P.formattedValue())("disabled",P.disabled)("readonly",P.readonly),s.uIk("placeholder",P.placeholder)("title",P.title)("id",P.inputId)("size",P.size)("name",P.name)("autocomplete",P.autocomplete)("maxlength",P.maxlength)("tabindex",P.tabindex)("aria-label",P.ariaLabel)("aria-required",P.ariaRequired)("required",P.required)("min",P.min)("max",P.max),s.xp6(2),s.Q6J("ngIf","vertical"!=P.buttonLayout&&P.showClear&&P.value),s.xp6(1),s.Q6J("ngIf",P.showButtons&&"stacked"===P.buttonLayout),s.xp6(1),s.Q6J("ngIf",P.showButtons&&"stacked"!==P.buttonLayout),s.xp6(1),s.Q6J("ngIf",P.showButtons&&"stacked"!==P.buttonLayout))},dependencies:[e.mk,e.O5,e.PC,I.o,V.Hq],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),Q})(),ke=(()=>{class Q{}return Q.\u0275fac=function(le){return new(le||Q)},Q.\u0275mod=s.oAB({type:Q}),Q.\u0275inj=s.cJS({imports:[e.ez,I.j,V.hJ]}),Q})()},1424:(Lt,qe,C)=>{C.d(qe,{j:()=>F,o:()=>V});var e=C(5e3),s=C(9808),f=C(2382);let V=(()=>{class I{constructor(se,q,z){this.el=se,this.ngModel=q,this.cd=z}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(se){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return I.\u0275fac=function(se){return new(se||I)(e.Y36(e.SBq),e.Y36(f.On,8),e.Y36(e.sBO))},I.\u0275dir=e.lG2({type:I,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(se,q){1&se&&e.NdJ("input",function(he){return q.onInput(he)}),2&se&&e.ekj("p-filled",q.filled)}}),I})(),F=(()=>{class I{}return I.\u0275fac=function(se){return new(se||I)},I.\u0275mod=e.oAB({type:I}),I.\u0275inj=e.cJS({imports:[s.ez]}),I})()},3407:(Lt,qe,C)=>{C.d(qe,{A:()=>F,g:()=>V});var e=C(5e3),s=C(9808),f=C(2382);let V=(()=>{class I{constructor(se,q,z,he){this.el=se,this.ngModel=q,this.control=z,this.cd=he,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(se){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(se){this.autoResize&&this.resize(se)}onBlur(se){this.autoResize&&this.resize(se)}resize(se){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(se||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return I.\u0275fac=function(se){return new(se||I)(e.Y36(e.SBq),e.Y36(f.On,8),e.Y36(f.a5,8),e.Y36(e.sBO))},I.\u0275dir=e.lG2({type:I,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(se,q){1&se&&e.NdJ("input",function(he){return q.onInput(he)})("focus",function(he){return q.onFocus(he)})("blur",function(he){return q.onBlur(he)}),2&se&&e.ekj("p-filled",q.filled)("p-inputtextarea-resizable",q.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),I})(),F=(()=>{class I{}return I.\u0275fac=function(se){return new(se||I)},I.\u0275mod=e.oAB({type:I}),I.\u0275inj=e.cJS({imports:[s.ez]}),I})()},5055:(Lt,qe,C)=>{C.d(qe,{ON:()=>Cn,Ri:()=>un});var e=C(5e3),s=C(9808),f=C(9783),V=C(5730),F=C(5921),I=C(2382),L=C(5787);const se=["headerchkbox"],q=["filter"];function z(Ot,en){1&Ot&&e.GkF(0)}function he(Ot,en){if(1&Ot&&(e.TgZ(0,"div",7),e.Hsn(1),e.YNc(2,z,1,0,"ng-container",8),e.qZA()),2&Ot){const at=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",at.headerTemplate)}}const ne=function(Ot){return{"p-checkbox-disabled":Ot}},De=function(Ot,en,at){return{"p-highlight":Ot,"p-focus":en,"p-disabled":at}},ue=function(Ot){return{"pi pi-check":Ot}};function ge(Ot,en){if(1&Ot){const at=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"input",14),e.NdJ("focus",function(){e.CHM(at);const Bt=e.oxw(2);return e.KtG(Bt.onHeaderCheckboxFocus())})("blur",function(){e.CHM(at);const Bt=e.oxw(2);return e.KtG(Bt.onHeaderCheckboxBlur())})("keydown.space",function(Bt){e.CHM(at);const tn=e.oxw(2);return e.KtG(tn.toggleAll(Bt))}),e.qZA()(),e.TgZ(3,"div",15,16),e.NdJ("click",function(Bt){e.CHM(at);const tn=e.oxw(2);return e.KtG(tn.toggleAll(Bt))}),e._UZ(5,"span",17),e.qZA()()}if(2&Ot){const at=e.oxw(2);e.Q6J("ngClass",e.VKq(5,ne,at.disabled||at.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",at.allChecked)("disabled",at.disabled||at.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,De,at.allChecked,at.headerCheckboxFocus,at.disabled||at.toggleAllDisabled)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,ue,at.allChecked))}}function pe(Ot,en){1&Ot&&e.GkF(0)}const ke=function(Ot){return{options:Ot}};function Q(Ot,en){if(1&Ot&&(e.ynx(0),e.YNc(1,pe,1,0,"ng-container",18),e.BQk()),2&Ot){const at=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",at.filterTemplate)("ngTemplateOutletContext",e.VKq(2,ke,at.filterOptions))}}function Oe(Ot,en){if(1&Ot){const at=e.EpF();e.TgZ(0,"div",20)(1,"input",21,22),e.NdJ("input",function(Bt){e.CHM(at);const tn=e.oxw(3);return e.KtG(tn.onFilter(Bt))}),e.qZA(),e._UZ(3,"span",23),e.qZA()}if(2&Ot){const at=e.oxw(3);e.xp6(1),e.Q6J("value",at.filterValue||"")("disabled",at.disabled),e.uIk("placeholder",at.filterPlaceHolder)("aria-label",at.ariaFilterLabel)}}function le(Ot,en){if(1&Ot&&e.YNc(0,Oe,4,4,"div",19),2&Ot){const at=e.oxw(2);e.Q6J("ngIf",at.filter)}}function P(Ot,en){if(1&Ot&&(e.TgZ(0,"div",7),e.YNc(1,ge,6,13,"div",9),e.YNc(2,Q,2,4,"ng-container",10),e.YNc(3,le,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&Ot){const at=e.MAs(4),Pt=e.oxw();e.xp6(1),e.Q6J("ngIf",Pt.checkbox&&Pt.multiple&&Pt.showToggleAll),e.xp6(1),e.Q6J("ngIf",Pt.filterTemplate)("ngIfElse",at)}}function N(Ot,en){if(1&Ot&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Ot){const at=e.oxw().$implicit,Pt=e.oxw(2);e.xp6(1),e.Oqu(Pt.getOptionGroupLabel(at)||"empty")}}function we(Ot,en){1&Ot&&e.GkF(0)}function be(Ot,en){1&Ot&&e.GkF(0)}const ye=function(Ot){return{$implicit:Ot}};function G(Ot,en){if(1&Ot&&(e.TgZ(0,"li",25),e.YNc(1,N,2,1,"span",3),e.YNc(2,we,1,0,"ng-container",18),e.qZA(),e.YNc(3,be,1,0,"ng-container",18)),2&Ot){const at=en.$implicit,Pt=e.oxw(2),Bt=e.MAs(8);e.xp6(1),e.Q6J("ngIf",!Pt.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Pt.groupTemplate)("ngTemplateOutletContext",e.VKq(5,ye,at)),e.xp6(1),e.Q6J("ngTemplateOutlet",Bt)("ngTemplateOutletContext",e.VKq(7,ye,Pt.getOptionGroupChildren(at)))}}function E(Ot,en){if(1&Ot&&(e.ynx(0),e.YNc(1,G,4,9,"ng-template",24),e.BQk()),2&Ot){const at=e.oxw();e.xp6(1),e.Q6J("ngForOf",at.optionsToRender)}}function U(Ot,en){1&Ot&&e.GkF(0)}function $(Ot,en){if(1&Ot&&(e.ynx(0),e.YNc(1,U,1,0,"ng-container",18),e.BQk()),2&Ot){const at=e.oxw(),Pt=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",Pt)("ngTemplateOutletContext",e.VKq(2,ye,at.optionsToRender))}}const Ae=function(Ot){return{"p-highlight":Ot}};function Ne(Ot,en){if(1&Ot&&(e.TgZ(0,"div",12)(1,"div",28),e._UZ(2,"span",17),e.qZA()()),2&Ot){const at=e.oxw().$implicit,Pt=e.oxw(2);e.Q6J("ngClass",e.VKq(3,ne,Pt.disabled||Pt.isOptionDisabled(at))),e.xp6(1),e.Q6J("ngClass",e.VKq(5,Ae,Pt.isSelected(at))),e.xp6(1),e.Q6J("ngClass",e.VKq(7,ue,Pt.isSelected(at)))}}function He(Ot,en){if(1&Ot&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Ot){const at=e.oxw().$implicit,Pt=e.oxw(2);e.xp6(1),e.Oqu(Pt.getOptionLabel(at))}}function Re(Ot,en){1&Ot&&e.GkF(0)}const gt=function(Ot,en){return{"p-listbox-item":!0,"p-highlight":Ot,"p-disabled":en}},ut=function(Ot,en){return{$implicit:Ot,index:en}};function Pe(Ot,en){if(1&Ot){const at=e.EpF();e.TgZ(0,"li",27),e.NdJ("click",function(Bt){const ft=e.CHM(at).$implicit,ei=e.oxw(2);return e.KtG(ei.onOptionClick(Bt,ft))})("dblclick",function(Bt){const ft=e.CHM(at).$implicit,ei=e.oxw(2);return e.KtG(ei.onOptionDoubleClick(Bt,ft))})("touchend",function(){const tn=e.CHM(at).$implicit,ft=e.oxw(2);return e.KtG(ft.onOptionTouchEnd(tn))})("keydown",function(Bt){const ft=e.CHM(at).$implicit,ei=e.oxw(2);return e.KtG(ei.onOptionKeyDown(Bt,ft))}),e.YNc(1,Ne,3,9,"div",9),e.YNc(2,He,2,1,"span",3),e.YNc(3,Re,1,0,"ng-container",18),e.qZA()}if(2&Ot){const at=en.$implicit,Pt=en.index,Bt=e.oxw(2);e.Q6J("ngClass",e.WLB(8,gt,Bt.isSelected(at),Bt.isOptionDisabled(at))),e.uIk("tabindex",Bt.disabled||Bt.isOptionDisabled(at)?null:"0")("aria-label",Bt.getOptionLabel(at))("aria-selected",Bt.isSelected(at)),e.xp6(1),e.Q6J("ngIf",Bt.checkbox&&Bt.multiple),e.xp6(1),e.Q6J("ngIf",!Bt.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Bt.itemTemplate)("ngTemplateOutletContext",e.WLB(11,ut,at,Pt))}}function We(Ot,en){1&Ot&&e.YNc(0,Pe,4,14,"li",26),2&Ot&&e.Q6J("ngForOf",en.$implicit)}function J(Ot,en){if(1&Ot&&(e.ynx(0),e._uU(1),e.BQk()),2&Ot){const at=e.oxw(2);e.xp6(1),e.hij(" ",at.emptyFilterMessageLabel," ")}}function de(Ot,en){1&Ot&&e.GkF(0,null,30)}function Qe(Ot,en){if(1&Ot&&(e.TgZ(0,"li",29),e.YNc(1,J,2,1,"ng-container",10),e.YNc(2,de,2,0,"ng-container",8),e.qZA()),2&Ot){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.emptyFilterTemplate&&!at.emptyTemplate)("ngIfElse",at.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyFilterTemplate||at.emptyTemplate)}}function re(Ot,en){if(1&Ot&&(e.ynx(0),e._uU(1),e.BQk()),2&Ot){const at=e.oxw(2);e.xp6(1),e.hij(" ",at.emptyMessageLabel," ")}}function Ve(Ot,en){1&Ot&&e.GkF(0,null,31)}function Me(Ot,en){if(1&Ot&&(e.TgZ(0,"li",29),e.YNc(1,re,2,1,"ng-container",10),e.YNc(2,Ve,2,0,"ng-container",8),e.qZA()),2&Ot){const at=e.oxw();e.xp6(1),e.Q6J("ngIf",!at.emptyTemplate)("ngIfElse",at.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",at.emptyTemplate)}}function Fe(Ot,en){1&Ot&&e.GkF(0)}function $e(Ot,en){if(1&Ot&&(e.TgZ(0,"div",32),e.Hsn(1,1),e.YNc(2,Fe,1,0,"ng-container",8),e.qZA()),2&Ot){const at=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",at.footerTemplate)}}const R=[[["p-header"]],[["p-footer"]]],it=function(Ot){return{"p-listbox p-component":!0,"p-disabled":Ot}},Le=["p-header","p-footer"],Et={provide:I.JU,useExisting:(0,e.Gpc)(()=>un),multi:!0};let un=(()=>{class Ot{constructor(at,Pt,Bt,tn){this.el=at,this.cd=Pt,this.filterService=Bt,this.config=tn,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new e.vpe,this.onClick=new e.vpe,this.onDblClick=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(at){this._options=at,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(at){this._filterValue=at,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:at=>this.onFilter(at),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(at=>{switch(at.getType()){case"item":default:this.itemTemplate=at.template;break;case"group":this.groupTemplate=at.template;break;case"header":this.headerTemplate=at.template;break;case"filter":this.filterTemplate=at.template;break;case"footer":this.footerTemplate=at.template;break;case"empty":this.emptyTemplate=at.template;break;case"emptyfilter":this.emptyFilterTemplate=at.template}})}getOptionLabel(at){return this.optionLabel?F.gb.resolveFieldData(at,this.optionLabel):null!=at.label?at.label:at}getOptionGroupChildren(at){return this.optionGroupChildren?F.gb.resolveFieldData(at,this.optionGroupChildren):at.items}getOptionGroupLabel(at){return this.optionGroupLabel?F.gb.resolveFieldData(at,this.optionGroupLabel):null!=at.label?at.label:at}getOptionValue(at){return this.optionValue?F.gb.resolveFieldData(at,this.optionValue):this.optionLabel||void 0===at.value?at:at.value}isOptionDisabled(at){return this.optionDisabled?F.gb.resolveFieldData(at,this.optionDisabled):void 0!==at.disabled&&at.disabled}writeValue(at){this.value=at,this.cd.markForCheck()}registerOnChange(at){this.onModelChange=at}registerOnTouched(at){this.onModelTouched=at}setDisabledState(at){this.disabled=at,this.cd.markForCheck()}onOptionClick(at,Pt){this.disabled||this.isOptionDisabled(Pt)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(at,Pt):this.onOptionClickMultiple(at,Pt):this.onOptionClickSingle(at,Pt),this.onClick.emit({originalEvent:at,option:Pt,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(at){this.disabled||this.isOptionDisabled(at)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(at,Pt){this.disabled||this.isOptionDisabled(Pt)||this.readonly||this.onDblClick.emit({originalEvent:at,option:Pt,value:this.value})}onOptionClickSingle(at,Pt){let Bt=this.isSelected(Pt),tn=!1;if(!this.optionTouched&&this.metaKeySelection){let ei=at.metaKey||at.ctrlKey;Bt?ei&&(this.value=null,tn=!0):(this.value=this.getOptionValue(Pt),tn=!0)}else this.value=Bt?null:this.getOptionValue(Pt),tn=!0;tn&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:at,value:this.value}))}onOptionClickMultiple(at,Pt){let Bt=this.isSelected(Pt),tn=!1;if(!this.optionTouched&&this.metaKeySelection){let ei=at.metaKey||at.ctrlKey;Bt?(ei?this.removeOption(Pt):this.value=[this.getOptionValue(Pt)],tn=!0):(this.value=ei&&this.value||[],this.value=[...this.value,this.getOptionValue(Pt)],tn=!0)}else Bt?this.removeOption(Pt):this.value=[...this.value||[],this.getOptionValue(Pt)],tn=!0;tn&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:at,value:this.value}))}onOptionClickCheckbox(at,Pt){this.disabled||this.readonly||(this.isSelected(Pt)?this.removeOption(Pt):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(Pt)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:at,value:this.value}))}removeOption(at){this.value=this.value.filter(Pt=>!F.gb.equals(Pt,this.getOptionValue(at),this.dataKey))}isSelected(at){let Pt=!1,Bt=this.getOptionValue(at);if(this.multiple){if(this.value)for(let tn of this.value)if(F.gb.equals(tn,Bt,this.dataKey)){Pt=!0;break}}else Pt=F.gb.equals(this.value,Bt,this.dataKey);return Pt}get allChecked(){let at=this.optionsToRender;if(!at||0===at.length)return!1;{let Pt=0,Bt=0,tn=0,ft=this.group?0:this.optionsToRender.length;for(let ei of at)if(this.group)for(let qn of this.getOptionGroupChildren(ei)){let Ht=this.isOptionDisabled(qn),mt=this.isSelected(qn);if(Ht)mt?Pt++:Bt++;else{if(!mt)return!1;tn++}ft++}else{let qn=this.isOptionDisabled(ei),Ht=this.isSelected(ei);if(qn)Ht?Pt++:Bt++;else{if(!Ht)return!1;tn++}}return ft===Pt||ft===tn||tn&&ft===tn+Bt+Pt}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(f.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(f.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilter(at){this._filterValue=at.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let at=(this.filterBy||this.optionLabel||"label").split(","),Pt=[];for(let Bt of this.options){let tn=this.filterService.filter(this.getOptionGroupChildren(Bt),at,this.filterValue,this.filterMatchMode,this.filterLocale);tn&&tn.length&&Pt.push(Object.assign(Object.assign({},Bt),{[this.optionGroupChildren]:tn}))}this._filteredOptions=Pt}else this._filteredOptions=this._options.filter(at=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(at),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let at=this.optionsToRender;if(!at||0===at.length)return!0;for(let Pt of at)if(!this.isOptionDisabled(Pt))return!1;return!0}toggleAll(at){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:at,value:this.value}),at.preventDefault())}checkAll(){let Pt=[];this.optionsToRender.forEach(Bt=>{if(this.group){let tn=this.getOptionGroupChildren(Bt);tn&&tn.forEach(ft=>{let ei=this.isOptionDisabled(ft);(!ei||ei&&this.isSelected(ft))&&Pt.push(this.getOptionValue(ft))})}else{let tn=this.isOptionDisabled(Bt);(!tn||tn&&this.isSelected(Bt))&&Pt.push(this.getOptionValue(Bt))}}),this.value=Pt}uncheckAll(){let Pt=[];this.optionsToRender.forEach(Bt=>{this.group?Bt.items&&Bt.items.forEach(tn=>{this.isOptionDisabled(tn)&&this.isSelected(tn)&&Pt.push(this.getOptionValue(tn))}):this.isOptionDisabled(Bt)&&this.isSelected(Bt)&&Pt.push(this.getOptionValue(Bt))}),this.value=Pt}onOptionKeyDown(at,Pt){if(this.readonly)return;let Bt=at.currentTarget;switch(at.which){case 40:var tn=this.findNextItem(Bt);tn&&tn.focus(),at.preventDefault();break;case 38:var ft=this.findPrevItem(Bt);ft&&ft.focus(),at.preventDefault();break;case 13:this.onOptionClick(at,Pt),at.preventDefault()}}findNextItem(at){let Pt=at.nextElementSibling;return Pt?V.p.hasClass(Pt,"p-disabled")||V.p.isHidden(Pt)||V.p.hasClass(Pt,"p-listbox-item-group")?this.findNextItem(Pt):Pt:null}findPrevItem(at){let Pt=at.previousElementSibling;return Pt?V.p.hasClass(Pt,"p-disabled")||V.p.isHidden(Pt)||V.p.hasClass(Pt,"p-listbox-item-group")?this.findPrevItem(Pt):Pt:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return Ot.\u0275fac=function(at){return new(at||Ot)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(f.iZ),e.Y36(f.b4))},Ot.\u0275cmp=e.Xpm({type:Ot,selectors:[["p-listbox"]],contentQueries:function(at,Pt,Bt){if(1&at&&(e.Suo(Bt,f.h4,5),e.Suo(Bt,f.$_,5),e.Suo(Bt,f.jx,4)),2&at){let tn;e.iGM(tn=e.CRH())&&(Pt.headerFacet=tn.first),e.iGM(tn=e.CRH())&&(Pt.footerFacet=tn.first),e.iGM(tn=e.CRH())&&(Pt.templates=tn)}},viewQuery:function(at,Pt){if(1&at&&(e.Gf(se,5),e.Gf(q,5)),2&at){let Bt;e.iGM(Bt=e.CRH())&&(Pt.headerCheckboxViewChild=Bt.first),e.iGM(Bt=e.CRH())&&(Pt.filterViewChild=Bt.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[e._Bn([Et])],ngContentSelectors:Le,decls:12,vars:18,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-empty-message",4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(at,Pt){1&at&&(e.F$t(R),e.TgZ(0,"div",0),e.YNc(1,he,3,1,"div",1),e.YNc(2,P,5,3,"div",1),e.TgZ(3,"div",0)(4,"ul",2),e.YNc(5,E,2,1,"ng-container",3),e.YNc(6,$,2,4,"ng-container",3),e.YNc(7,We,1,1,"ng-template",null,4,e.W1O),e.YNc(9,Qe,3,3,"li",5),e.YNc(10,Me,3,3,"li",5),e.qZA()(),e.YNc(11,$e,3,1,"div",6),e.qZA()),2&at&&(e.Tol(Pt.styleClass),e.Q6J("ngClass",e.VKq(16,it,Pt.disabled))("ngStyle",Pt.style),e.xp6(1),e.Q6J("ngIf",Pt.headerFacet||Pt.headerTemplate),e.xp6(1),e.Q6J("ngIf",Pt.checkbox&&Pt.multiple&&Pt.showToggleAll||Pt.filter),e.xp6(1),e.Tol(Pt.listStyleClass),e.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",Pt.listStyle),e.xp6(1),e.uIk("aria-multiselectable",Pt.multiple),e.xp6(1),e.Q6J("ngIf",Pt.group),e.xp6(1),e.Q6J("ngIf",!Pt.group),e.xp6(3),e.Q6J("ngIf",Pt.hasFilter()&&Pt.isEmpty()),e.xp6(1),e.Q6J("ngIf",!Pt.hasFilter()&&Pt.isEmpty()),e.xp6(1),e.Q6J("ngIf",Pt.footerFacet||Pt.footerTemplate))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,L.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),Ot})(),Cn=(()=>{class Ot{}return Ot.\u0275fac=function(at){return new(at||Ot)},Ot.\u0275mod=e.oAB({type:Ot}),Ot.\u0275inj=e.cJS({imports:[s.ez,f.m8,L.T,f.m8]}),Ot})()},1874:(Lt,qe,C)=>{C.d(qe,{$9:()=>$e,v2:()=>Fe});var e=C(5e3),s=C(1777),f=C(9808),V=C(5730),F=C(5921),I=C(3470),L=C(5787),se=C(4119),q=C(9783);const z=["pMenuItemContent",""];function he(R,it){if(1&R&&e._UZ(0,"span",7),2&R){const Le=e.oxw(2);e.Tol(Le.item.iconClass),e.Q6J("ngClass",Le.item.icon)("ngStyle",Le.item.iconStyle)}}function ne(R,it){if(1&R&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&R){const Le=e.oxw(2);e.xp6(1),e.Oqu(Le.item.label)}}function De(R,it){if(1&R&&e._UZ(0,"span",9),2&R){const Le=e.oxw(2);e.Q6J("innerHTML",Le.item.label,e.oJD)}}function ue(R,it){if(1&R&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&R){const Le=e.oxw(2);e.Q6J("ngClass",Le.item.badgeStyleClass),e.xp6(1),e.Oqu(Le.item.badge)}}const ge=function(R){return{"p-disabled":R}};function pe(R,it){if(1&R){const Le=e.EpF();e.TgZ(0,"a",2),e.NdJ("keydown",function(un){e.CHM(Le);const Cn=e.oxw();return e.KtG(Cn.onItemKeyDown(un))})("click",function(un){e.CHM(Le);const Cn=e.oxw();return e.KtG(Cn.menu.itemClick(un,Cn.item))}),e.YNc(1,he,1,4,"span",3),e.YNc(2,ne,2,1,"span",4),e.YNc(3,De,1,1,"ng-template",null,5,e.W1O),e.YNc(5,ue,2,2,"span",6),e.qZA()}if(2&R){const Le=e.MAs(4),Et=e.oxw();e.Q6J("target",Et.item.target)("ngClass",e.VKq(12,ge,Et.item.disabled))("target",Et.item.target),e.uIk("href",Et.item.url||null,e.LSH)("tabindex",Et.item.disabled?null:"0")("data-automationid",Et.item.automationId)("title",Et.item.title)("id",Et.item.id),e.xp6(1),e.Q6J("ngIf",Et.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Et.item.escape)("ngIfElse",Le),e.xp6(3),e.Q6J("ngIf",Et.item.badge)}}function ke(R,it){if(1&R&&e._UZ(0,"span",14),2&R){const Le=e.oxw(2);e.Q6J("ngClass",Le.item.icon)}}function Q(R,it){if(1&R&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&R){const Le=e.oxw(2);e.xp6(1),e.Oqu(Le.item.label)}}function Oe(R,it){if(1&R&&e._UZ(0,"span",9),2&R){const Le=e.oxw(2);e.Q6J("innerHTML",Le.item.label,e.oJD)}}function le(R,it){if(1&R&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&R){const Le=e.oxw(2);e.Q6J("ngClass",Le.item.badgeStyleClass),e.xp6(1),e.Oqu(Le.item.badge)}}const P=function(){return{exact:!1}};function N(R,it){if(1&R){const Le=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function(un){e.CHM(Le);const Cn=e.oxw();return e.KtG(Cn.onItemKeyDown(un))})("click",function(un){e.CHM(Le);const Cn=e.oxw();return e.KtG(Cn.menu.itemClick(un,Cn.item))}),e.YNc(1,ke,1,1,"span",12),e.YNc(2,Q,2,1,"span",4),e.YNc(3,Oe,1,1,"ng-template",null,13,e.W1O),e.YNc(5,le,2,2,"span",6),e.qZA()}if(2&R){const Le=e.MAs(4),Et=e.oxw();e.Q6J("routerLink",Et.item.routerLink)("queryParams",Et.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Et.item.routerLinkActiveOptions||e.DdM(20,P))("target",Et.item.target)("ngClass",e.VKq(21,ge,Et.item.disabled))("fragment",Et.item.fragment)("queryParamsHandling",Et.item.queryParamsHandling)("preserveFragment",Et.item.preserveFragment)("skipLocationChange",Et.item.skipLocationChange)("replaceUrl",Et.item.replaceUrl)("state",Et.item.state),e.uIk("data-automationid",Et.item.automationId)("id",Et.item.id)("tabindex",Et.item.disabled?null:"0")("title",Et.item.title),e.xp6(1),e.Q6J("ngIf",Et.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==Et.item.escape)("ngIfElse",Le),e.xp6(3),e.Q6J("ngIf",Et.item.badge)}}const we=["container"],be=function(R){return{"p-hidden":R}};function ye(R,it){if(1&R&&e._UZ(0,"li",8),2&R){const Le=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,be,!1===Le.visible))}}function G(R,it){if(1&R&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&R){const Le=e.oxw(2).$implicit;e.xp6(1),e.Oqu(Le.label)}}function E(R,it){if(1&R&&e._UZ(0,"span",12),2&R){const Le=e.oxw(2).$implicit;e.Q6J("innerHTML",Le.label,e.oJD)}}const U=function(R,it){return{"p-hidden":R,flex:it}};function $(R,it){if(1&R&&(e.TgZ(0,"li",9),e.YNc(1,G,2,1,"span",10),e.YNc(2,E,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&R){const Le=e.MAs(3),Et=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(5,U,!1===Et.visible,Et.visible))("tooltipOptions",Et.tooltipOptions),e.uIk("data-automationid",Et.automationId),e.xp6(1),e.Q6J("ngIf",!1!==Et.escape)("ngIfElse",Le)}}function Ae(R,it){if(1&R&&e._UZ(0,"li",8),2&R){const Le=e.oxw().$implicit,Et=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,be,!1===Le.visible||!1===Et.visible))}}function Ne(R,it){if(1&R&&e._UZ(0,"li",14),2&R){const Le=e.oxw().$implicit,Et=e.oxw().$implicit;e.Tol(Le.styleClass),e.Q6J("pMenuItemContent",Le)("ngClass",e.VKq(6,be,!1===Le.visible||!1===Et.visible))("ngStyle",Le.style)("tooltipOptions",Le.tooltipOptions)}}function He(R,it){if(1&R&&(e.YNc(0,Ae,1,3,"li",6),e.YNc(1,Ne,1,8,"li",13)),2&R){const Le=it.$implicit;e.Q6J("ngIf",Le.separator),e.xp6(1),e.Q6J("ngIf",!Le.separator)}}function Re(R,it){if(1&R&&(e.YNc(0,ye,1,3,"li",6),e.YNc(1,$,4,8,"li",7),e.YNc(2,He,2,2,"ng-template",5)),2&R){const Le=it.$implicit;e.Q6J("ngIf",Le.separator),e.xp6(1),e.Q6J("ngIf",!Le.separator),e.xp6(1),e.Q6J("ngForOf",Le.items)}}function gt(R,it){if(1&R&&e.YNc(0,Re,3,3,"ng-template",5),2&R){const Le=e.oxw(2);e.Q6J("ngForOf",Le.model)}}function ut(R,it){if(1&R&&e._UZ(0,"li",8),2&R){const Le=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,be,!1===Le.visible))}}function Pe(R,it){if(1&R&&e._UZ(0,"li",14),2&R){const Le=e.oxw().$implicit;e.Tol(Le.styleClass),e.Q6J("pMenuItemContent",Le)("ngClass",e.VKq(6,be,!1===Le.visible))("ngStyle",Le.style)("tooltipOptions",Le.tooltipOptions)}}function We(R,it){if(1&R&&(e.YNc(0,ut,1,3,"li",6),e.YNc(1,Pe,1,8,"li",13)),2&R){const Le=it.$implicit;e.Q6J("ngIf",Le.separator),e.xp6(1),e.Q6J("ngIf",!Le.separator)}}function J(R,it){if(1&R&&e.YNc(0,We,2,2,"ng-template",5),2&R){const Le=e.oxw(2);e.Q6J("ngForOf",Le.model)}}const de=function(R){return{"p-menu p-component":!0,"p-menu-overlay":R}},Qe=function(R,it){return{showTransitionParams:R,hideTransitionParams:it}},re=function(R){return{value:"visible",params:R}};function Ve(R,it){if(1&R){const Le=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(un){e.CHM(Le);const Cn=e.oxw();return e.KtG(Cn.onOverlayClick(un))})("@overlayAnimation.start",function(un){e.CHM(Le);const Cn=e.oxw();return e.KtG(Cn.onOverlayAnimationStart(un))})("@overlayAnimation.done",function(un){e.CHM(Le);const Cn=e.oxw();return e.KtG(Cn.onOverlayAnimationEnd(un))}),e.TgZ(2,"ul",3),e.YNc(3,gt,1,1,null,4),e.YNc(4,J,1,1,null,4),e.qZA()()}if(2&R){const Le=e.oxw();e.Tol(Le.styleClass),e.Q6J("ngClass",e.VKq(8,de,Le.popup))("ngStyle",Le.style)("@overlayAnimation",e.VKq(13,re,e.WLB(10,Qe,Le.showTransitionOptions,Le.hideTransitionOptions)))("@.disabled",!0!==Le.popup),e.xp6(3),e.Q6J("ngIf",Le.hasSubMenu()),e.xp6(1),e.Q6J("ngIf",!Le.hasSubMenu())}}let Me=(()=>{class R{constructor(Le){this.menu=Le}onItemKeyDown(Le){let Et=Le.currentTarget.parentElement;switch(Le.code){case"ArrowDown":var un=this.findNextItem(Et);un&&un.children[0].focus(),Le.preventDefault();break;case"ArrowUp":var Cn=this.findPrevItem(Et);Cn&&Cn.children[0].focus(),Le.preventDefault();break;case"Space":case"Enter":Et&&!V.p.hasClass(Et,"p-disabled")&&Et.children[0].click(),Le.preventDefault()}}findNextItem(Le){let Et=Le.nextElementSibling;return Et?V.p.hasClass(Et,"p-disabled")||!V.p.hasClass(Et,"p-menuitem")?this.findNextItem(Et):Et:null}findPrevItem(Le){let Et=Le.previousElementSibling;return Et?V.p.hasClass(Et,"p-disabled")||!V.p.hasClass(Et,"p-menuitem")?this.findPrevItem(Et):Et:null}}return R.\u0275fac=function(Le){return new(Le||R)(e.Y36((0,e.Gpc)(()=>Fe)))},R.\u0275cmp=e.Xpm({type:R,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:["pMenuItemContent","item"]},attrs:z,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["htmlRouteLabel",""],[1,"p-menuitem-icon",3,"ngClass"]],template:function(Le,Et){1&Le&&(e.YNc(0,pe,6,14,"a",0),e.YNc(1,N,6,23,"a",1)),2&Le&&(e.Q6J("ngIf",!Et.item.routerLink),e.xp6(1),e.Q6J("ngIf",Et.item.routerLink))},dependencies:[f.mk,f.O5,f.PC,I.yS,I.Od,L.H],encapsulation:2}),R})(),Fe=(()=>{class R{constructor(Le,Et,un,Cn,Ot){this.el=Le,this.renderer=Et,this.cd=un,this.config=Cn,this.overlayService=Ot,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe}toggle(Le){this.visible?this.hide():this.show(Le),this.preventDocumentDefault=!0}show(Le){this.target=Le.currentTarget,this.relativeAlign=Le.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(Le){switch(Le.toState){case"visible":this.popup&&(this.container=Le.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(Le){"void"===Le.toState&&this.autoZIndex&&F.P9.clear(Le.element)}alignOverlay(){this.relativeAlign?V.p.relativePosition(this.container,this.target):V.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):V.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&F.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!V.p.isTouchDevice()&&this.hide()}itemClick(Le,Et){Et.disabled?Le.preventDefault():(!Et.url&&!Et.routerLink&&Le.preventDefault(),Et.command&&Et.command({originalEvent:Le,item:Et}),this.popup&&this.hide())}onOverlayClick(Le){this.popup&&this.overlayService.add({originalEvent:Le,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new V.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&F.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var Le of this.model)if(Le.items)return!0;return!1}}return R.\u0275fac=function(Le){return new(Le||R)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(q.b4),e.Y36(q.F0))},R.\u0275cmp=e.Xpm({type:R,selectors:[["p-menu"]],viewQuery:function(Le,Et){if(1&Le&&e.Gf(we,5),2&Le){let un;e.iGM(un=e.CRH())&&(Et.containerViewChild=un.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],["role","menu",1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","none",3,"pMenuItemContent","ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["pTooltip","","role","none",1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","tooltipOptions"]],template:function(Le,Et){1&Le&&e.YNc(0,Ve,5,15,"div",0),2&Le&&e.Q6J("ngIf",!Et.popup||Et.visible)},dependencies:[f.mk,f.sg,f.O5,f.PC,se.u,Me],styles:[".p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,s.X$)("overlayAnimation",[(0,s.eR)(":enter",[(0,s.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,s.jt)("{{showTransitionParams}}")]),(0,s.eR)(":leave",[(0,s.jt)("{{hideTransitionParams}}",(0,s.oB)({opacity:0}))])])]},changeDetection:0}),R})(),$e=(()=>{class R{}return R.\u0275fac=function(Le){return new(Le||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({imports:[f.ez,I.Bz,L.T,se.z,I.Bz,se.z]}),R})()},6526:(Lt,qe,C)=>{C.d(qe,{NU:()=>ni,q4:()=>Ui});var e=C(9808),s=C(5e3),f=C(2382),V=C(9783),F=C(5730),I=C(8050),L=C(5787),se=C(5871),q=C(4119),z=C(5921);function he(kt,an){if(1&kt&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&kt){const tt=s.oxw();s.xp6(1),s.Oqu(tt.label)}}function ne(kt,an){1&kt&&s.GkF(0)}const De=function(kt){return{height:kt}},ue=function(kt,an){return{"p-highlight":kt,"p-disabled":an}},ge=function(kt){return{"p-highlight":kt}},pe=function(kt){return{"pi pi-check":kt}},ke=function(kt){return{$implicit:kt}},Q=["container"],Oe=["overlay"],le=["filterInput"],P=["in"],N=["items"],we=["scroller"];function be(kt,an){if(1&kt&&(s.ynx(0),s._uU(1),s.BQk()),2&kt){const tt=s.oxw(2);s.xp6(1),s.Oqu(tt.valuesAsString||"empty")}}function ye(kt,an){if(1&kt){const tt=s.EpF();s.TgZ(0,"span",20),s.NdJ("click",function(qt){s.CHM(tt);const Kt=s.oxw().$implicit,vn=s.oxw(3);return s.KtG(vn.removeChip(Kt,qt))}),s.qZA()}}function G(kt,an){if(1&kt&&(s.TgZ(0,"div",16,17)(2,"span",18),s._uU(3),s.qZA(),s.YNc(4,ye,1,0,"span",19),s.qZA()),2&kt){const tt=an.$implicit,At=s.oxw(3);s.xp6(3),s.Oqu(At.findLabelByValue(tt)),s.xp6(1),s.Q6J("ngIf",!At.disabled)}}function E(kt,an){if(1&kt&&(s.ynx(0),s._uU(1),s.BQk()),2&kt){const tt=s.oxw(3);s.xp6(1),s.Oqu(tt.placeholder||tt.defaultLabel||"empty")}}function U(kt,an){if(1&kt&&(s.ynx(0),s.YNc(1,G,5,2,"div",15),s.YNc(2,E,2,1,"ng-container",7),s.BQk()),2&kt){const tt=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",tt.value),s.xp6(1),s.Q6J("ngIf",!tt.value||0===tt.value.length)}}function $(kt,an){if(1&kt&&(s.ynx(0),s.YNc(1,be,2,1,"ng-container",7),s.YNc(2,U,3,2,"ng-container",7),s.BQk()),2&kt){const tt=s.oxw();s.xp6(1),s.Q6J("ngIf","comma"===tt.display),s.xp6(1),s.Q6J("ngIf","chip"===tt.display)}}function Ae(kt,an){1&kt&&s.GkF(0)}function Ne(kt,an){if(1&kt){const tt=s.EpF();s.TgZ(0,"i",21),s.NdJ("click",function(qt){s.CHM(tt);const Kt=s.oxw();return s.KtG(Kt.clear(qt))}),s.qZA()}}function He(kt,an){1&kt&&s.GkF(0)}function Re(kt,an){1&kt&&s.GkF(0)}const gt=function(kt){return{options:kt}};function ut(kt,an){if(1&kt&&(s.ynx(0),s.YNc(1,Re,1,0,"ng-container",8),s.BQk()),2&kt){const tt=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",tt.filterTemplate)("ngTemplateOutletContext",s.VKq(2,gt,tt.filterOptions))}}const Pe=function(kt){return{"p-checkbox-disabled":kt}},We=function(kt,an,tt){return{"p-highlight":kt,"p-focus":an,"p-disabled":tt}};function J(kt,an){if(1&kt){const tt=s.EpF();s.TgZ(0,"div",36)(1,"div",2)(2,"input",37),s.NdJ("focus",function(){s.CHM(tt);const qt=s.oxw(4);return s.KtG(qt.onHeaderCheckboxFocus())})("blur",function(){s.CHM(tt);const qt=s.oxw(4);return s.KtG(qt.onHeaderCheckboxBlur())})("keydown.space",function(qt){s.CHM(tt);const Kt=s.oxw(4);return s.KtG(Kt.toggleAll(qt))}),s.qZA()(),s.TgZ(3,"div",38),s.NdJ("click",function(qt){s.CHM(tt);const Kt=s.oxw(4);return s.KtG(Kt.toggleAll(qt))}),s._UZ(4,"span",39),s.qZA()()}if(2&kt){const tt=s.oxw(4);s.Q6J("ngClass",s.VKq(6,Pe,tt.disabled||tt.toggleAllDisabled)),s.xp6(2),s.Q6J("checked",tt.allChecked)("disabled",tt.disabled||tt.toggleAllDisabled),s.xp6(1),s.Q6J("ngClass",s.kEZ(8,We,tt.allChecked,tt.headerCheckboxFocus,tt.disabled||tt.toggleAllDisabled)),s.uIk("aria-checked",tt.allChecked),s.xp6(1),s.Q6J("ngClass",s.VKq(12,pe,tt.allChecked))}}function de(kt,an){if(1&kt){const tt=s.EpF();s.TgZ(0,"div",40)(1,"input",41,42),s.NdJ("input",function(qt){s.CHM(tt);const Kt=s.oxw(4);return s.KtG(Kt.onFilterInputChange(qt))}),s.qZA(),s._UZ(3,"span",43),s.qZA()}if(2&kt){const tt=s.oxw(4);s.xp6(1),s.Q6J("value",tt.filterValue||"")("disabled",tt.disabled),s.uIk("autocomplete",tt.autocomplete)("placeholder",tt.filterPlaceHolder)("aria-label",tt.ariaFilterLabel)}}function Qe(kt,an){if(1&kt){const tt=s.EpF();s.YNc(0,J,5,14,"div",32),s.YNc(1,de,4,5,"div",33),s.TgZ(2,"button",34),s.NdJ("click",function(qt){s.CHM(tt);const Kt=s.oxw(3);return s.KtG(Kt.close(qt))}),s._UZ(3,"span",35),s.qZA()}if(2&kt){const tt=s.oxw(3);s.Q6J("ngIf",tt.showToggleAll&&!tt.selectionLimit),s.xp6(1),s.Q6J("ngIf",tt.filter)}}function re(kt,an){if(1&kt&&(s.TgZ(0,"div",28),s.Hsn(1),s.YNc(2,He,1,0,"ng-container",29),s.YNc(3,ut,2,4,"ng-container",30),s.YNc(4,Qe,4,2,"ng-template",null,31,s.W1O),s.qZA()),2&kt){const tt=s.MAs(5),At=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",At.headerTemplate),s.xp6(1),s.Q6J("ngIf",At.filterTemplate)("ngIfElse",tt)}}function Ve(kt,an){1&kt&&s.GkF(0)}const Me=function(kt,an){return{$implicit:kt,options:an}};function Fe(kt,an){if(1&kt&&s.YNc(0,Ve,1,0,"ng-container",8),2&kt){const tt=an.$implicit,At=an.options;s.oxw(2);const qt=s.MAs(6);s.Q6J("ngTemplateOutlet",qt)("ngTemplateOutletContext",s.WLB(2,Me,tt,At))}}function $e(kt,an){1&kt&&s.GkF(0)}function R(kt,an){if(1&kt&&s.YNc(0,$e,1,0,"ng-container",8),2&kt){const tt=an.options,At=s.oxw(4);s.Q6J("ngTemplateOutlet",At.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,gt,tt))}}function it(kt,an){1&kt&&(s.ynx(0),s.YNc(1,R,1,4,"ng-template",46),s.BQk())}function Le(kt,an){if(1&kt){const tt=s.EpF();s.TgZ(0,"p-scroller",44,45),s.NdJ("onLazyLoad",function(qt){s.CHM(tt);const Kt=s.oxw(2);return s.KtG(Kt.onLazyLoad.emit(qt))}),s.YNc(2,Fe,1,5,"ng-template",14),s.YNc(3,it,2,0,"ng-container",7),s.qZA()}if(2&kt){const tt=s.oxw(2);s.Akn(s.VKq(9,De,tt.scrollHeight)),s.Q6J("items",tt.optionsToRender)("itemSize",tt.virtualScrollItemSize||tt._itemSize)("autoSize",!0)("tabindex",-1)("lazy",tt.lazy)("options",tt.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",tt.loaderTemplate)}}function Et(kt,an){1&kt&&s.GkF(0)}const un=function(){return{}};function Cn(kt,an){if(1&kt&&(s.ynx(0),s.YNc(1,Et,1,0,"ng-container",8),s.BQk()),2&kt){s.oxw();const tt=s.MAs(6),At=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",tt)("ngTemplateOutletContext",s.WLB(3,Me,At.optionsToRender,s.DdM(2,un)))}}function Ot(kt,an){if(1&kt&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&kt){const tt=s.oxw().$implicit,At=s.oxw(4);s.xp6(1),s.Oqu(At.getOptionGroupLabel(tt)||"empty")}}function en(kt,an){1&kt&&s.GkF(0)}function at(kt,an){1&kt&&s.GkF(0)}function Pt(kt,an){if(1&kt&&(s.TgZ(0,"li",52),s.YNc(1,Ot,2,1,"span",7),s.YNc(2,en,1,0,"ng-container",8),s.qZA(),s.YNc(3,at,1,0,"ng-container",8)),2&kt){const tt=an.$implicit,At=s.oxw(2).options,qt=s.MAs(5),Kt=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,De,At.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!Kt.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",Kt.groupTemplate)("ngTemplateOutletContext",s.VKq(8,ke,tt)),s.xp6(1),s.Q6J("ngTemplateOutlet",qt)("ngTemplateOutletContext",s.VKq(10,ke,Kt.getOptionGroupChildren(tt)))}}function Bt(kt,an){if(1&kt&&(s.ynx(0),s.YNc(1,Pt,4,12,"ng-template",51),s.BQk()),2&kt){const tt=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",tt)}}function tn(kt,an){1&kt&&s.GkF(0)}function ft(kt,an){if(1&kt&&(s.ynx(0),s.YNc(1,tn,1,0,"ng-container",8),s.BQk()),2&kt){const tt=s.oxw().$implicit,At=s.MAs(5);s.xp6(1),s.Q6J("ngTemplateOutlet",At)("ngTemplateOutletContext",s.VKq(2,ke,tt))}}function ei(kt,an){if(1&kt){const tt=s.EpF();s.TgZ(0,"p-multiSelectItem",53),s.NdJ("onClick",function(qt){s.CHM(tt);const Kt=s.oxw(4);return s.KtG(Kt.onOptionClick(qt))})("onKeydown",function(qt){s.CHM(tt);const Kt=s.oxw(4);return s.KtG(Kt.onOptionKeydown(qt))}),s.qZA()}if(2&kt){const tt=an.$implicit,At=s.oxw(2).options,qt=s.oxw(2);s.Q6J("option",tt)("selected",qt.isSelected(tt))("label",qt.getOptionLabel(tt))("disabled",qt.isOptionDisabled(tt))("template",qt.itemTemplate)("itemSize",At.itemSize)}}function qn(kt,an){1&kt&&s.YNc(0,ei,1,6,"ng-template",51),2&kt&&s.Q6J("ngForOf",an.$implicit)}function Ht(kt,an){if(1&kt&&(s.ynx(0),s._uU(1),s.BQk()),2&kt){const tt=s.oxw(4);s.xp6(1),s.hij(" ",tt.emptyFilterMessageLabel," ")}}function mt(kt,an){1&kt&&s.GkF(0,null,55)}function Ze(kt,an){if(1&kt&&(s.TgZ(0,"li",54),s.YNc(1,Ht,2,1,"ng-container",30),s.YNc(2,mt,2,0,"ng-container",29),s.qZA()),2&kt){const tt=s.oxw().options,At=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,De,tt.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!At.emptyFilterTemplate&&!At.emptyTemplate)("ngIfElse",At.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",At.emptyFilterTemplate||At.emptyTemplate)}}function It(kt,an){if(1&kt&&(s.ynx(0),s._uU(1),s.BQk()),2&kt){const tt=s.oxw(4);s.xp6(1),s.hij(" ",tt.emptyMessageLabel," ")}}function M(kt,an){1&kt&&s.GkF(0,null,56)}function _e(kt,an){if(1&kt&&(s.TgZ(0,"li",54),s.YNc(1,It,2,1,"ng-container",30),s.YNc(2,M,2,0,"ng-container",29),s.qZA()),2&kt){const tt=s.oxw().options,At=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,De,tt.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!At.emptyTemplate)("ngIfElse",At.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",At.emptyTemplate)}}function Ie(kt,an){if(1&kt&&(s.TgZ(0,"ul",47,48),s.YNc(2,Bt,2,1,"ng-container",7),s.YNc(3,ft,2,4,"ng-container",7),s.YNc(4,qn,1,1,"ng-template",null,49,s.W1O),s.YNc(6,Ze,3,6,"li",50),s.YNc(7,_e,3,6,"li",50),s.qZA()),2&kt){const tt=an.options,At=s.oxw(2);s.Akn(tt.contentStyle),s.Q6J("ngClass",tt.contentStyleClass),s.xp6(2),s.Q6J("ngIf",At.group),s.xp6(1),s.Q6J("ngIf",!At.group),s.xp6(3),s.Q6J("ngIf",At.hasFilter()&&At.isEmpty()),s.xp6(1),s.Q6J("ngIf",!At.hasFilter()&&At.isEmpty())}}function Xe(kt,an){1&kt&&s.GkF(0)}function Rt(kt,an){if(1&kt&&(s.TgZ(0,"div",57),s.Hsn(1,1),s.YNc(2,Xe,1,0,"ng-container",29),s.qZA()),2&kt){const tt=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",tt.footerTemplate)}}const Qt=function(){return["p-multiselect-panel p-component"]};function nn(kt,an){if(1&kt){const tt=s.EpF();s.TgZ(0,"div",22),s.NdJ("keydown",function(qt){s.CHM(tt);const Kt=s.oxw();return s.KtG(Kt.onKeydown(qt))}),s.YNc(1,re,6,3,"div",23),s.TgZ(2,"div",24),s.YNc(3,Le,4,11,"p-scroller",25),s.YNc(4,Cn,2,6,"ng-container",7),s.YNc(5,Ie,8,7,"ng-template",null,26,s.W1O),s.qZA(),s.YNc(7,Rt,3,1,"div",27),s.qZA()}if(2&kt){const tt=s.oxw();s.Tol(tt.panelStyleClass),s.Q6J("ngClass",s.DdM(10,Qt))("ngStyle",tt.panelStyle),s.xp6(1),s.Q6J("ngIf",tt.showHeader),s.xp6(1),s.Udp("max-height",tt.virtualScroll?"auto":tt.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",tt.virtualScroll),s.xp6(1),s.Q6J("ngIf",!tt.virtualScroll),s.xp6(3),s.Q6J("ngIf",tt.footerFacet||tt.footerTemplate)}}const nt=[[["p-header"]],[["p-footer"]]],xt=function(kt,an,tt,At){return{"p-multiselect p-component":!0,"p-multiselect-open":kt,"p-multiselect-chip":an,"p-focus":tt,"p-disabled":At}},ee=function(kt,an){return{"p-placeholder":kt,"p-multiselect-label-empty":an}},ze=function(){return{"p-multiselect-trigger":!0}},dt=["p-header","p-footer"],bt={provide:f.JU,useExisting:(0,s.Gpc)(()=>ni),multi:!0};let sn=(()=>{class kt{constructor(){this.onClick=new s.vpe,this.onKeydown=new s.vpe}onOptionClick(tt){this.onClick.emit({originalEvent:tt,option:this.option})}onOptionKeydown(tt){this.onKeydown.emit({originalEvent:tt,option:this.option})}}return kt.\u0275fac=function(tt){return new(tt||kt)},kt.\u0275cmp=s.Xpm({type:kt,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(tt,At){1&tt&&(s.TgZ(0,"li",0),s.NdJ("click",function(Kt){return At.onOptionClick(Kt)})("keydown",function(Kt){return At.onOptionKeydown(Kt)}),s.TgZ(1,"div",1)(2,"div",2),s._UZ(3,"span",3),s.qZA()(),s.YNc(4,he,2,1,"span",4),s.YNc(5,ne,1,0,"ng-container",5),s.qZA()),2&tt&&(s.Q6J("ngStyle",s.VKq(9,De,At.itemSize+"px"))("ngClass",s.WLB(11,ue,At.selected,At.disabled)),s.uIk("aria-label",At.label)("tabindex",At.disabled?null:"0"),s.xp6(2),s.Q6J("ngClass",s.VKq(14,ge,At.selected)),s.xp6(1),s.Q6J("ngClass",s.VKq(16,pe,At.selected)),s.xp6(1),s.Q6J("ngIf",!At.template),s.xp6(1),s.Q6J("ngTemplateOutlet",At.template)("ngTemplateOutletContext",s.VKq(18,ke,At.option)))},dependencies:[e.mk,e.O5,e.tP,e.PC,L.H],encapsulation:2}),kt})(),ni=(()=>{class kt{constructor(tt,At,qt,Kt,vn,Rn,pi){this.el=tt,this.renderer=At,this.cd=qt,this.zone=Kt,this.filterService=vn,this.config=Rn,this.overlayService=pi,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.scrollHeight="200px",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onClear=new s.vpe,this.onPanelShow=new s.vpe,this.onPanelHide=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get autoZIndex(){return this._autoZIndex}set autoZIndex(tt){this._autoZIndex=tt,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(tt){this._baseZIndex=tt,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(tt){this._showTransitionOptions=tt,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(tt){this._hideTransitionOptions=tt,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(tt){this._defaultLabel=tt,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(tt){this._placeholder=tt,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(tt){this._options=tt,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(tt){this._filterValue=tt,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(tt){this._itemSize=tt,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:tt=>this.onFilterInputChange(tt),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(tt=>{switch(tt.getType()){case"item":default:this.itemTemplate=tt.template;break;case"group":this.groupTemplate=tt.template;break;case"selectedItems":this.selectedItemsTemplate=tt.template;break;case"header":this.headerTemplate=tt.template;break;case"filter":this.filterTemplate=tt.template;break;case"emptyfilter":this.emptyFilterTemplate=tt.template;break;case"empty":this.emptyTemplate=tt.template;break;case"footer":this.footerTemplate=tt.template;break;case"loader":this.loaderTemplate=tt.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{var tt;null===(tt=this.overlayViewChild)||void 0===tt||tt.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(tt){return this.optionLabel?z.gb.resolveFieldData(tt,this.optionLabel):tt&&null!=tt.label?tt.label:tt}getOptionValue(tt){return this.optionValue?z.gb.resolveFieldData(tt,this.optionValue):!this.optionLabel&&tt&&void 0!==tt.value?tt.value:tt}getOptionGroupLabel(tt){return this.optionGroupLabel?z.gb.resolveFieldData(tt,this.optionGroupLabel):tt&&null!=tt.label?tt.label:tt}getOptionGroupChildren(tt){return this.optionGroupChildren?z.gb.resolveFieldData(tt,this.optionGroupChildren):tt.items}isOptionDisabled(tt){return(this.optionDisabled?z.gb.resolveFieldData(tt,this.optionDisabled):!(!tt||void 0===tt.disabled)&&tt.disabled)||this.maxSelectionLimitReached&&!this.isSelected(tt)}writeValue(tt){this.value=tt,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(tt){this.onModelChange=tt}registerOnTouched(tt){this.onModelTouched=tt}setDisabledState(tt){this.disabled=tt,this.cd.markForCheck()}onOptionClick(tt){let At=tt.option;if(this.isOptionDisabled(At))return;let qt=this.getOptionValue(At),Kt=this.findSelectionIndex(qt);-1!=Kt?(this.value=this.value.filter((vn,Rn)=>Rn!=Kt),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],qt]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:tt.originalEvent,value:this.value,itemValue:qt}),this.updateLabel(),this.updateFilledState()}isSelected(tt){return-1!=this.findSelectionIndex(this.getOptionValue(tt))}findSelectionIndex(tt){let At=-1;if(this.value)for(let qt=0;qt<this.value.length;qt++)if(z.gb.equals(this.value[qt],tt,this.dataKey)){At=qt;break}return At}get toggleAllDisabled(){let tt=this.optionsToRender;if(!tt||0===tt.length)return!0;for(let At of tt)if(!this.isOptionDisabled(At))return!1;return!0}toggleAll(tt){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:tt,value:this.value}),this.updateFilledState(),this.updateLabel(),tt.preventDefault())}checkAll(){let At=[];this.optionsToRender.forEach(qt=>{if(this.group){let Kt=this.getOptionGroupChildren(qt);Kt&&Kt.forEach(vn=>{let Rn=this.isOptionDisabled(vn);(!Rn||Rn&&this.isSelected(vn))&&At.push(this.getOptionValue(vn))})}else{let Kt=this.isOptionDisabled(qt);(!Kt||Kt&&this.isSelected(qt))&&At.push(this.getOptionValue(qt))}}),this.value=At}uncheckAll(){let At=[];this.optionsToRender.forEach(qt=>{this.group?qt.items&&qt.items.forEach(Kt=>{this.isOptionDisabled(Kt)&&this.isSelected(Kt)&&At.push(this.getOptionValue(Kt))}):this.isOptionDisabled(qt)&&this.isSelected(qt)&&At.push(this.getOptionValue(qt))}),this.value=At}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(tt){var At;switch(tt.toState){case"visible":this.virtualScroll&&(null===(At=this.scroller)||void 0===At||At.setContentEl(this.itemsViewChild.nativeElement)),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(tt){this.hide(),tt.preventDefault(),tt.stopPropagation()}clear(tt){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),tt.stopPropagation()}onMouseclick(tt,At){var qt,Kt,vn;this.disabled||this.readonly||tt.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(tt),(null===(vn=null===(Kt=null===(qt=this.overlayViewChild)||void 0===qt?void 0:qt.el)||void 0===Kt?void 0:Kt.nativeElement)||void 0===vn||!vn.contains(tt.target))&&!F.p.hasClass(tt.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),At.focus()))}removeChip(tt,At){this.value=this.value.filter(qt=>!z.gb.equals(qt,tt,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:At,value:this.value,itemValue:tt}),this.updateLabel(),this.updateFilledState()}onInputFocus(tt){this.focus=!0,this.onFocus.emit({originalEvent:tt})}onInputBlur(tt){this.focus=!1,this.onBlur.emit({originalEvent:tt}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(tt){if(!this.readonly)switch(tt.originalEvent.which){case 40:var At=this.findNextItem(tt.originalEvent.target.parentElement);At&&At.focus(),tt.originalEvent.preventDefault();break;case 38:var qt=this.findPrevItem(tt.originalEvent.target.parentElement);qt&&qt.focus(),tt.originalEvent.preventDefault();break;case 13:this.onOptionClick(tt),tt.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(tt){let At=tt.nextElementSibling;return At?F.p.hasClass(At.children[0],"p-disabled")||F.p.isHidden(At.children[0])||F.p.hasClass(At,"p-multiselect-item-group")?this.findNextItem(At):At.children[0]:null}findPrevItem(tt){let At=tt.previousElementSibling;return At?F.p.hasClass(At.children[0],"p-disabled")||F.p.isHidden(At.children[0])||F.p.hasClass(At,"p-multiselect-item-group")?this.findPrevItem(At):At.children[0]:null}onKeydown(tt){switch(tt.which){case 40:!this.overlayVisible&&tt.altKey&&(this.show(),tt.preventDefault());break;case 32:this.overlayVisible||(this.show(),tt.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let tt="";for(let At=0;At<this.value.length;At++){let qt=this.findLabelByValue(this.value[At]);qt&&(tt.length>0&&(tt+=", "),tt+=qt)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=tt;else{let At=/{(.*?)}/;this.valuesAsString=At.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(At)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(tt){if(this.group){let At=null;for(let qt=0;qt<this.options.length;qt++){let Kt=this.getOptionGroupChildren(this.options[qt]);if(Kt&&(At=this.searchLabelByValue(tt,Kt),At))break}return At}return this.searchLabelByValue(tt,this.options)}searchLabelByValue(tt,At){let qt=null;for(let Kt=0;Kt<At.length;Kt++){let vn=At[Kt],Rn=this.getOptionValue(vn);if(null==tt&&null==Rn||z.gb.equals(tt,Rn,this.dataKey)){qt=this.getOptionLabel(vn);break}}return qt}get allChecked(){let tt=this.optionsToRender;if(!tt||0===tt.length)return!1;{let At=0,qt=0,Kt=0,vn=this.group?0:this.optionsToRender.length;for(let Rn of tt)if(this.group)for(let pi of this.getOptionGroupChildren(Rn)){let Ai=this.isOptionDisabled(pi),Ki=this.isSelected(pi);if(Ai)Ki?At++:qt++;else{if(!Ki)return!1;Kt++}vn++}else{let pi=this.isOptionDisabled(Rn),Ai=this.isSelected(Rn);if(pi)Ai?At++:qt++;else{if(!Ai)return!1;Kt++}}return vn===At||vn===Kt||Kt&&vn===Kt+qt+At}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(V.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(V.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(tt){this._filterValue=tt.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:tt,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let tt=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let At=[];for(let qt of this.options){let Kt=this.filterService.filter(this.getOptionGroupChildren(qt),tt,this.filterValue,this.filterMatchMode,this.filterLocale);Kt&&Kt.length&&At.push(Object.assign(Object.assign({},qt),{[this.optionGroupChildren]:Kt}))}this._filteredOptions=At}else this._filteredOptions=this.filterService.filter(this.options,tt,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}}return kt.\u0275fac=function(tt){return new(tt||kt)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(V.iZ),s.Y36(V.b4),s.Y36(V.F0))},kt.\u0275cmp=s.Xpm({type:kt,selectors:[["p-multiSelect"]],contentQueries:function(tt,At,qt){if(1&tt&&(s.Suo(qt,V.$_,5),s.Suo(qt,V.h4,5),s.Suo(qt,V.jx,4)),2&tt){let Kt;s.iGM(Kt=s.CRH())&&(At.footerFacet=Kt.first),s.iGM(Kt=s.CRH())&&(At.headerFacet=Kt.first),s.iGM(Kt=s.CRH())&&(At.templates=Kt)}},viewQuery:function(tt,At){if(1&tt&&(s.Gf(Q,5),s.Gf(Oe,5),s.Gf(le,5),s.Gf(P,5),s.Gf(N,5),s.Gf(we,5)),2&tt){let qt;s.iGM(qt=s.CRH())&&(At.containerViewChild=qt.first),s.iGM(qt=s.CRH())&&(At.overlayViewChild=qt.first),s.iGM(qt=s.CRH())&&(At.filterInputChild=qt.first),s.iGM(qt=s.CRH())&&(At.accessibleViewChild=qt.first),s.iGM(qt=s.CRH())&&(At.itemsViewChild=qt.first),s.iGM(qt=s.CRH())&&(At.scroller=qt.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(tt,At){2&tt&&s.ekj("p-inputwrapper-filled",At.filled)("p-inputwrapper-focus",At.focus||At.overlayVisible)("p-multiselect-clearable",At.showClear&&!At.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad"},features:[s._Bn([bt])],ngContentSelectors:dt,decls:15,vars:41,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(tt,At){if(1&tt){const qt=s.EpF();s.F$t(nt),s.TgZ(0,"div",0,1),s.NdJ("click",function(vn){s.CHM(qt);const Rn=s.MAs(4);return s.KtG(At.onMouseclick(vn,Rn))}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(vn){return At.onInputFocus(vn)})("blur",function(vn){return At.onInputBlur(vn)})("keydown",function(vn){return At.onKeydown(vn)}),s.qZA()(),s.TgZ(5,"div",5)(6,"div",6),s.YNc(7,$,3,2,"ng-container",7),s.YNc(8,Ae,1,0,"ng-container",8),s.qZA(),s.YNc(9,Ne,1,0,"i",9),s.qZA(),s.TgZ(10,"div",10),s._UZ(11,"span",11),s.qZA(),s.TgZ(12,"p-overlay",12,13),s.NdJ("visibleChange",function(vn){return At.overlayVisible=vn})("onAnimationStart",function(vn){return At.onOverlayAnimationStart(vn)})("onHide",function(){return At.hide()}),s.YNc(14,nn,8,11,"ng-template",14),s.qZA()()}2&tt&&(s.Tol(At.styleClass),s.Q6J("ngClass",s.l5B(30,xt,At.overlayVisible,"chip"===At.display,At.focus,At.disabled))("ngStyle",At.style),s.xp6(3),s.Q6J("disabled",At.disabled),s.uIk("label",At.label)("id",At.inputId)("name",At.name)("tabindex",At.tabindex)("aria-expanded",At.overlayVisible)("aria-labelledby",At.ariaLabelledBy),s.xp6(2),s.Q6J("pTooltip",At.tooltip)("tooltipPosition",At.tooltipPosition)("positionStyle",At.tooltipPositionStyle)("tooltipStyleClass",At.tooltipStyleClass),s.xp6(1),s.Q6J("ngClass",s.WLB(35,ee,At.valuesAsString===(At.defaultLabel||At.placeholder),!(null!=At.valuesAsString&&0!==At.valuesAsString.length||null!=At.placeholder&&0!==At.placeholder.length))),s.xp6(1),s.Q6J("ngIf",!At.selectedItemsTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",At.selectedItemsTemplate)("ngTemplateOutletContext",s.VKq(38,ke,At.value)),s.xp6(1),s.Q6J("ngIf",null!=At.value&&At.filled&&!At.disabled&&At.showClear),s.xp6(1),s.Q6J("ngClass",s.DdM(40,ze)),s.xp6(1),s.Q6J("ngClass",At.dropdownIcon),s.xp6(1),s.Q6J("visible",At.overlayVisible)("options",At.overlayOptions)("target","@parent")("appendTo",At.appendTo)("autoZIndex",At.autoZIndex)("baseZIndex",At.baseZIndex)("showTransitionOptions",At.showTransitionOptions)("hideTransitionOptions",At.hideTransitionOptions))},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC,I.aV,V.jx,q.u,L.H,se.T,sn],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-chip .p-multiselect-label{display:flex}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),kt})(),Ui=(()=>{class kt{}return kt.\u0275fac=function(tt){return new(tt||kt)},kt.\u0275mod=s.oAB({type:kt}),kt.\u0275inj=s.cJS({imports:[e.ez,I.U8,V.m8,q.z,L.T,se.v,I.U8,V.m8,se.v]}),kt})()},8050:(Lt,qe,C)=>{C.d(qe,{U8:()=>we,aV:()=>N});var e=C(1777),s=C(9808),f=C(5e3),V=C(2382),F=C(9783),I=C(5730),L=C(5921);const se=["overlay"],q=["content"];function z(be,ye){1&be&&f.GkF(0)}const he=function(be,ye,G){return{showTransitionParams:be,hideTransitionParams:ye,transform:G}},ne=function(be){return{value:"visible",params:be}},De=function(be){return{mode:be}},ue=function(be){return{$implicit:be}};function ge(be,ye){if(1&be){const G=f.EpF();f.TgZ(0,"div",1,3),f.NdJ("click",function(U){f.CHM(G);const $=f.oxw(2);return f.KtG($.onOverlayContentClick(U))})("@overlayContentAnimation.start",function(U){f.CHM(G);const $=f.oxw(2);return f.KtG($.onOverlayContentAnimationStart(U))})("@overlayContentAnimation.done",function(U){f.CHM(G);const $=f.oxw(2);return f.KtG($.onOverlayContentAnimationDone(U))}),f.Hsn(2),f.YNc(3,z,1,0,"ng-container",4),f.qZA()}if(2&be){const G=f.oxw(2);f.Tol(G.contentStyleClass),f.Q6J("ngStyle",G.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",f.VKq(11,ne,f.kEZ(7,he,G.showTransitionOptions,G.hideTransitionOptions,G.transformOptions[G.modal?G.overlayResponsiveDirection:"default"]))),f.xp6(3),f.Q6J("ngTemplateOutlet",G.contentTemplate)("ngTemplateOutletContext",f.VKq(15,ue,f.VKq(13,De,G.overlayMode)))}}const pe=function(be,ye,G,E,U,$,Ae,Ne,He,Re,gt,ut,Pe,We){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":be,"p-overlay-center":ye,"p-overlay-top":G,"p-overlay-top-start":E,"p-overlay-top-end":U,"p-overlay-bottom":$,"p-overlay-bottom-start":Ae,"p-overlay-bottom-end":Ne,"p-overlay-left":He,"p-overlay-left-start":Re,"p-overlay-left-end":gt,"p-overlay-right":ut,"p-overlay-right-start":Pe,"p-overlay-right-end":We}};function ke(be,ye){if(1&be){const G=f.EpF();f.TgZ(0,"div",1,2),f.NdJ("click",function(U){f.CHM(G);const $=f.oxw();return f.KtG($.onOverlayClick(U))}),f.YNc(2,ge,4,17,"div",0),f.qZA()}if(2&be){const G=f.oxw();f.Tol(G.styleClass),f.Q6J("ngStyle",G.style)("ngClass",f.rFY(5,pe,[G.modal,G.modal&&"center"===G.overlayResponsiveDirection,G.modal&&"top"===G.overlayResponsiveDirection,G.modal&&"top-start"===G.overlayResponsiveDirection,G.modal&&"top-end"===G.overlayResponsiveDirection,G.modal&&"bottom"===G.overlayResponsiveDirection,G.modal&&"bottom-start"===G.overlayResponsiveDirection,G.modal&&"bottom-end"===G.overlayResponsiveDirection,G.modal&&"left"===G.overlayResponsiveDirection,G.modal&&"left-start"===G.overlayResponsiveDirection,G.modal&&"left-end"===G.overlayResponsiveDirection,G.modal&&"right"===G.overlayResponsiveDirection,G.modal&&"right-start"===G.overlayResponsiveDirection,G.modal&&"right-end"===G.overlayResponsiveDirection])),f.xp6(2),f.Q6J("ngIf",G.visible)}}const Q=["*"],Oe={provide:V.JU,useExisting:(0,f.Gpc)(()=>N),multi:!0},le=(0,e.oQ)([(0,e.oB)({transform:"{{transform}}",opacity:0}),(0,e.jt)("{{showTransitionParams}}")]),P=(0,e.oQ)([(0,e.jt)("{{hideTransitionParams}}",(0,e.oB)({transform:"{{transform}}",opacity:0}))]);let N=(()=>{class be{constructor(G,E,U,$,Ae,Ne){this.document=G,this.el=E,this.renderer=U,this.config=$,this.overlayService=Ae,this.cd=Ne,this.visibleChange=new f.vpe,this.onBeforeShow=new f.vpe,this.onShow=new f.vpe,this.onBeforeHide=new f.vpe,this.onHide=new f.vpe,this.onAnimationStart=new f.vpe,this.onAnimationDone=new f.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(G){this._visible=G,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){var G;return this._mode||(null===(G=this.overlayOptions)||void 0===G?void 0:G.mode)}set mode(G){this._mode=G}get style(){var G,E;return L.gb.merge(this._style,this.modal?null===(G=this.overlayResponsiveOptions)||void 0===G?void 0:G.style:null===(E=this.overlayOptions)||void 0===E?void 0:E.style)}set style(G){this._style=G}get styleClass(){var G,E;return L.gb.merge(this._styleClass,this.modal?null===(G=this.overlayResponsiveOptions)||void 0===G?void 0:G.styleClass:null===(E=this.overlayOptions)||void 0===E?void 0:E.styleClass)}set styleClass(G){this._styleClass=G}get contentStyle(){var G,E;return L.gb.merge(this._contentStyle,this.modal?null===(G=this.overlayResponsiveOptions)||void 0===G?void 0:G.contentStyle:null===(E=this.overlayOptions)||void 0===E?void 0:E.contentStyle)}set contentStyle(G){this._contentStyle=G}get contentStyleClass(){var G,E;return L.gb.merge(this._contentStyleClass,this.modal?null===(G=this.overlayResponsiveOptions)||void 0===G?void 0:G.contentStyleClass:null===(E=this.overlayOptions)||void 0===E?void 0:E.contentStyleClass)}set contentStyleClass(G){this._contentStyleClass=G}get target(){var G;const E=this._target||(null===(G=this.overlayOptions)||void 0===G?void 0:G.target);return void 0===E?"@prev":E}set target(G){this._target=G}get appendTo(){var G;return this._appendTo||(null===(G=this.overlayOptions)||void 0===G?void 0:G.appendTo)}set appendTo(G){this._appendTo=G}get autoZIndex(){var G;const E=this._autoZIndex||(null===(G=this.overlayOptions)||void 0===G?void 0:G.autoZIndex);return void 0===E||E}set autoZIndex(G){this._autoZIndex=G}get baseZIndex(){var G;const E=this._baseZIndex||(null===(G=this.overlayOptions)||void 0===G?void 0:G.baseZIndex);return void 0===E?0:E}set baseZIndex(G){this._baseZIndex=G}get showTransitionOptions(){var G;const E=this._showTransitionOptions||(null===(G=this.overlayOptions)||void 0===G?void 0:G.showTransitionOptions);return void 0===E?".12s cubic-bezier(0, 0, 0.2, 1)":E}set showTransitionOptions(G){this._showTransitionOptions=G}get hideTransitionOptions(){var G;const E=this._hideTransitionOptions||(null===(G=this.overlayOptions)||void 0===G?void 0:G.hideTransitionOptions);return void 0===E?".1s linear":E}set hideTransitionOptions(G){this._hideTransitionOptions=G}get listener(){var G;return this._listener||(null===(G=this.overlayOptions)||void 0===G?void 0:G.listener)}set listener(G){this._listener=G}get responsive(){var G;return this._responsive||(null===(G=this.overlayOptions)||void 0===G?void 0:G.responsive)}set responsive(G){this._responsive=G}get options(){return this._options}set options(G){this._options=G}get modal(){var G,E;return"modal"===this.mode||this.overlayResponsiveOptions&&(null===(G=this.window)||void 0===G?void 0:G.matchMedia((null===(E=this.overlayResponsiveOptions.media)||void 0===E?void 0:E.replace("@media",""))||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches)}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){var G;return Object.assign(Object.assign({},null===(G=this.config)||void 0===G?void 0:G.overlayOptions),this.options)}get overlayResponsiveOptions(){var G;return Object.assign(Object.assign({},null===(G=this.overlayOptions)||void 0===G?void 0:G.responsive),this.responsive)}get overlayResponsiveDirection(){var G;return(null===(G=this.overlayResponsiveOptions)||void 0===G?void 0:G.direction)||"center"}get overlayEl(){var G;return null===(G=this.overlayViewChild)||void 0===G?void 0:G.nativeElement}get contentEl(){var G;return null===(G=this.contentViewChild)||void 0===G?void 0:G.nativeElement}get targetEl(){var G;return I.p.getTargetElement(this.target,null===(G=this.el)||void 0===G?void 0:G.nativeElement)}ngAfterContentInit(){var G;null===(G=this.templates)||void 0===G||G.forEach(E=>{E.getType(),this.contentTemplate=E.template})}show(G,E=!1){var U;this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:G||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),E&&I.p.focus(this.targetEl),this.modal&&I.p.addClass(null===(U=this.document)||void 0===U?void 0:U.body,"p-overflow-hidden")}hide(G,E=!1){var U;this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:G||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),E&&I.p.focus(this.targetEl),this.modal&&I.p.removeClass(null===(U=this.document)||void 0===U?void 0:U.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&I.p.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(G){this._visible=G,this.visibleChange.emit(G)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(G){this.overlayService.add({originalEvent:G,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(G){var E;switch(G.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&L.P9.set(this.overlayMode,this.overlayEl,this.baseZIndex+(null===(E=this.config)||void 0===E?void 0:E.zIndex[this.overlayMode])),I.p.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&I.p.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",G)}onOverlayContentAnimationDone(G){const E=this.overlayEl||G.element.parentElement;switch(G.toState){case"visible":this.show(E,!0),this.bindListeners();break;case"void":this.hide(E,!0),this.unbindListeners(),I.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),L.P9.clear(E),this.modalVisible=!1}this.handleEvents("onAnimationDone",G)}handleEvents(G,E){var U,$,Ae;this[G].emit(E),this.options&&this.options[G]&&this.options[G](E),(null===(U=this.config)||void 0===U?void 0:U.overlayOptions)&&(null===($=this.config)||void 0===$?void 0:$.overlayOptions[G])&&(null===(Ae=this.config)||void 0===Ae||Ae.overlayOptions[G](E))}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new I.V(this.targetEl,G=>{(!this.listener||this.listener(G,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(G,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",G=>{const U=!(this.targetEl&&(this.targetEl.isSameNode(G.target)||!this.isOverlayClicked&&this.targetEl.contains(G.target))||this.isOverlayContentClicked);(this.listener?this.listener(G,{type:"outside",mode:this.overlayMode,valid:3!==G.which&&U}):U)&&this.hide(G),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",G=>{(this.listener?this.listener(G,{type:"resize",mode:this.overlayMode,valid:!I.p.isTouchDevice()}):!I.p.isTouchDevice())&&this.hide(G,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(I.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),L.P9.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return be.\u0275fac=function(G){return new(G||be)(f.Y36(s.K0),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(F.b4),f.Y36(F.F0),f.Y36(f.sBO))},be.\u0275cmp=f.Xpm({type:be,selectors:[["p-overlay"]],contentQueries:function(G,E,U){if(1&G&&f.Suo(U,F.jx,4),2&G){let $;f.iGM($=f.CRH())&&(E.templates=$)}},viewQuery:function(G,E){if(1&G&&(f.Gf(se,5),f.Gf(q,5)),2&G){let U;f.iGM(U=f.CRH())&&(E.overlayViewChild=U.first),f.iGM(U=f.CRH())&&(E.contentViewChild=U.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[f._Bn([Oe])],ngContentSelectors:Q,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(G,E){1&G&&(f.F$t(),f.YNc(0,ke,3,20,"div",0)),2&G&&f.Q6J("ngIf",E.modalVisible)},dependencies:[s.mk,s.O5,s.tP,s.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,e.X$)("overlayContentAnimation",[(0,e.eR)(":enter",[(0,e._7)(le)]),(0,e.eR)(":leave",[(0,e._7)(P)])])]},changeDetection:0}),be})(),we=(()=>{class be{}return be.\u0275fac=function(G){return new(G||be)},be.\u0275mod=f.oAB({type:be}),be.\u0275inj=f.cJS({imports:[s.ez,F.m8,F.m8]}),be})()},3640:(Lt,qe,C)=>{C.d(qe,{T:()=>ue,y:()=>ge});var e=C(5e3),s=C(9808),f=C(5730),V=C(9783),F=C(5787),I=C(1777),L=C(5921);function se(pe,ke){1&pe&&e.GkF(0)}function q(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(le){e.CHM(Q);const P=e.oxw(2);return e.KtG(P.onCloseClick(le))})("keydown.enter",function(){e.CHM(Q);const le=e.oxw(2);return e.KtG(le.hide())}),e._UZ(1,"span",6),e.qZA()}if(2&pe){const Q=e.oxw(2);e.uIk("aria-label",Q.ariaCloseLabel)}}const z=function(pe,ke){return{showTransitionParams:pe,hideTransitionParams:ke}},he=function(pe,ke){return{value:pe,params:ke}};function ne(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(le){e.CHM(Q);const P=e.oxw();return e.KtG(P.onOverlayClick(le))})("@animation.start",function(le){e.CHM(Q);const P=e.oxw();return e.KtG(P.onAnimationStart(le))})("@animation.done",function(le){e.CHM(Q);const P=e.oxw();return e.KtG(P.onAnimationEnd(le))}),e.TgZ(1,"div",2),e.NdJ("click",function(){e.CHM(Q);const le=e.oxw();return e.KtG(le.onContentClick())})("mousedown",function(){e.CHM(Q);const le=e.oxw();return e.KtG(le.onContentClick())}),e.Hsn(2),e.YNc(3,se,1,0,"ng-container",3),e.qZA(),e.YNc(4,q,2,1,"button",4),e.qZA()}if(2&pe){const Q=e.oxw();e.Tol(Q.styleClass),e.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",Q.style)("@animation",e.WLB(10,he,Q.overlayVisible?"open":"close",e.WLB(7,z,Q.showTransitionOptions,Q.hideTransitionOptions))),e.xp6(3),e.Q6J("ngTemplateOutlet",Q.contentTemplate),e.xp6(1),e.Q6J("ngIf",Q.showCloseIcon)}}const De=["*"];let ue=(()=>{class pe{constructor(Q,Oe,le,P,N,we){this.el=Q,this.renderer=Oe,this.cd=le,this.zone=P,this.config=N,this.overlayService=we,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.overlayVisible=!1,this.render=!1,this.isOverlayAnimationInProgress=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(Q=>{Q.getType(),this.contentTemplate=Q.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let Q=f.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",Q,le=>{!this.container.contains(le.target)&&this.target!==le.target&&!this.target.contains(le.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(Q,Oe){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(Q,Oe)&&(this.destroyCallback=()=>{this.show(null,Oe||Q.currentTarget||Q.target)}),this.hide()):this.show(Q,Oe))}show(Q,Oe){this.isOverlayAnimationInProgress||(this.target=Oe||Q.currentTarget||Q.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(Q){this.overlayService.add({originalEvent:Q,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(Q,Oe){return null!=this.target&&this.target!==(Oe||Q.currentTarget||Q.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):f.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&L.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),f.p.absolutePosition(this.container,this.target);const Q=f.p.getOffset(this.container),Oe=f.p.getOffset(this.target);let le=0;Q.left<Oe.left&&(le=Oe.left-Q.left),this.container.style.setProperty("--overlayArrowLeft",`${le}px`),Q.top<Oe.top&&(f.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&(this.container.style.marginTop="30px"))}onAnimationStart(Q){"open"===Q.toState&&(this.container=Q.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=Oe=>{this.container&&this.container.contains(Oe.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(Q){switch(Q.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&L.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let Q=f.p.findSingle(this.container,"[autofocus]");Q&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Q.focus(),5)})}hide(){this.isOverlayAnimationInProgress||(this.overlayVisible=!1,this.cd.markForCheck())}onCloseClick(Q){this.hide(),Q.preventDefault()}onWindowResize(Q){this.overlayVisible&&!f.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&L.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return pe.\u0275fac=function(Q){return new(Q||pe)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(V.b4),e.Y36(V.F0))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["p-overlayPanel"]],contentQueries:function(Q,Oe,le){if(1&Q&&e.Suo(le,V.jx,4),2&Q){let P;e.iGM(P=e.CRH())&&(Oe.templates=P)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:De,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(Q,Oe){1&Q&&(e.F$t(),e.YNc(0,ne,5,13,"div",0)),2&Q&&e.Q6J("ngIf",Oe.render)},dependencies:[s.mk,s.O5,s.tP,s.PC,F.H],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,I.X$)("animation",[(0,I.SB)("void",(0,I.oB)({transform:"scaleY(0.8)",opacity:0})),(0,I.SB)("close",(0,I.oB)({opacity:0})),(0,I.SB)("open",(0,I.oB)({transform:"translateY(0)",opacity:1})),(0,I.eR)("void => open",(0,I.jt)("{{showTransitionParams}}")),(0,I.eR)("open => close",(0,I.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),pe})(),ge=(()=>{class pe{}return pe.\u0275fac=function(Q){return new(Q||pe)},pe.\u0275mod=e.oAB({type:pe}),pe.\u0275inj=e.cJS({imports:[s.ez,F.T,V.m8,V.m8]}),pe})()},4132:(Lt,qe,C)=>{C.d(qe,{D:()=>U,U:()=>$});var e=C(5e3),s=C(9808),f=C(2382),V=C(4036),F=C(5787),I=C(9783),L=C(7010);function se(Ae,Ne){1&Ae&&e.GkF(0)}const q=function(Ae){return{$implicit:Ae}};function z(Ae,Ne){if(1&Ae&&(e.TgZ(0,"div",15),e.YNc(1,se,1,0,"ng-container",16),e.qZA()),2&Ae){const He=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",He.templateLeft)("ngTemplateOutletContext",e.VKq(2,q,He.paginatorState))}}function he(Ae,Ne){if(1&Ae&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&Ae){const He=e.oxw(2);e.xp6(1),e.Oqu(He.currentPageReport)}}const ne=function(Ae){return{"p-disabled":Ae}};function De(Ae,Ne){if(1&Ae){const He=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(gt){e.CHM(He);const ut=e.oxw(2);return e.KtG(ut.changePageToFirst(gt))}),e._UZ(1,"span",19),e.qZA()}if(2&Ae){const He=e.oxw(2);e.Q6J("disabled",He.isFirstPage()||He.empty())("ngClass",e.VKq(2,ne,He.isFirstPage()||He.empty()))}}const ue=function(Ae){return{"p-highlight":Ae}};function ge(Ae,Ne){if(1&Ae){const He=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(gt){const Pe=e.CHM(He).$implicit,We=e.oxw(3);return e.KtG(We.onPageLinkClick(gt,Pe-1))}),e._uU(1),e.qZA()}if(2&Ae){const He=Ne.$implicit,Re=e.oxw(3);e.Q6J("ngClass",e.VKq(2,ue,He-1==Re.getPage())),e.xp6(1),e.hij(" ",He," ")}}function pe(Ae,Ne){if(1&Ae&&(e.TgZ(0,"span",20),e.YNc(1,ge,2,4,"button",21),e.qZA()),2&Ae){const He=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",He.pageLinks)}}function ke(Ae,Ne){if(1&Ae&&e._uU(0),2&Ae){const He=e.oxw(3);e.Oqu(He.currentPageReport)}}function Q(Ae,Ne){if(1&Ae){const He=e.EpF();e.TgZ(0,"p-dropdown",23),e.NdJ("onChange",function(gt){e.CHM(He);const ut=e.oxw(2);return e.KtG(ut.onPageDropdownChange(gt))}),e.YNc(1,ke,1,1,"ng-template",24),e.qZA()}if(2&Ae){const He=e.oxw(2);e.Q6J("options",He.pageItems)("ngModel",He.getPage())("disabled",He.empty())("appendTo",He.dropdownAppendTo)("scrollHeight",He.dropdownScrollHeight)}}function Oe(Ae,Ne){if(1&Ae){const He=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(gt){e.CHM(He);const ut=e.oxw(2);return e.KtG(ut.changePageToLast(gt))}),e._UZ(1,"span",26),e.qZA()}if(2&Ae){const He=e.oxw(2);e.Q6J("disabled",He.isLastPage()||He.empty())("ngClass",e.VKq(2,ne,He.isLastPage()||He.empty()))}}function le(Ae,Ne){if(1&Ae){const He=e.EpF();e.TgZ(0,"p-inputNumber",27),e.NdJ("ngModelChange",function(gt){e.CHM(He);const ut=e.oxw(2);return e.KtG(ut.changePage(gt-1))}),e.qZA()}if(2&Ae){const He=e.oxw(2);e.Q6J("ngModel",He.currentPage())("disabled",He.empty())}}function P(Ae,Ne){1&Ae&&e.GkF(0)}function N(Ae,Ne){if(1&Ae&&e.YNc(0,P,1,0,"ng-container",16),2&Ae){const He=Ne.$implicit,Re=e.oxw(4);e.Q6J("ngTemplateOutlet",Re.dropdownItemTemplate)("ngTemplateOutletContext",e.VKq(2,q,He))}}function we(Ae,Ne){1&Ae&&(e.ynx(0),e.YNc(1,N,1,4,"ng-template",30),e.BQk())}function be(Ae,Ne){if(1&Ae){const He=e.EpF();e.TgZ(0,"p-dropdown",28),e.NdJ("ngModelChange",function(gt){e.CHM(He);const ut=e.oxw(2);return e.KtG(ut.rows=gt)})("onChange",function(gt){e.CHM(He);const ut=e.oxw(2);return e.KtG(ut.onRppChange(gt))}),e.YNc(1,we,2,0,"ng-container",29),e.qZA()}if(2&Ae){const He=e.oxw(2);e.Q6J("options",He.rowsPerPageItems)("ngModel",He.rows)("disabled",He.empty())("appendTo",He.dropdownAppendTo)("scrollHeight",He.dropdownScrollHeight),e.xp6(1),e.Q6J("ngIf",He.dropdownItemTemplate)}}function ye(Ae,Ne){1&Ae&&e.GkF(0)}function G(Ae,Ne){if(1&Ae&&(e.TgZ(0,"div",31),e.YNc(1,ye,1,0,"ng-container",16),e.qZA()),2&Ae){const He=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",He.templateRight)("ngTemplateOutletContext",e.VKq(2,q,He.paginatorState))}}function E(Ae,Ne){if(1&Ae){const He=e.EpF();e.TgZ(0,"div",1),e.YNc(1,z,2,4,"div",2),e.YNc(2,he,2,1,"span",3),e.YNc(3,De,2,4,"button",4),e.TgZ(4,"button",5),e.NdJ("click",function(gt){e.CHM(He);const ut=e.oxw();return e.KtG(ut.changePageToPrev(gt))}),e._UZ(5,"span",6),e.qZA(),e.YNc(6,pe,2,1,"span",7),e.YNc(7,Q,2,5,"p-dropdown",8),e.TgZ(8,"button",9),e.NdJ("click",function(gt){e.CHM(He);const ut=e.oxw();return e.KtG(ut.changePageToNext(gt))}),e._UZ(9,"span",10),e.qZA(),e.YNc(10,Oe,2,4,"button",11),e.YNc(11,le,1,2,"p-inputNumber",12),e.YNc(12,be,2,6,"p-dropdown",13),e.YNc(13,G,2,4,"div",14),e.qZA()}if(2&Ae){const He=e.oxw();e.Tol(He.styleClass),e.Q6J("ngStyle",He.style)("ngClass","p-paginator p-component"),e.xp6(1),e.Q6J("ngIf",He.templateLeft),e.xp6(1),e.Q6J("ngIf",He.showCurrentPageReport),e.xp6(1),e.Q6J("ngIf",He.showFirstLastIcon),e.xp6(1),e.Q6J("disabled",He.isFirstPage()||He.empty())("ngClass",e.VKq(17,ne,He.isFirstPage()||He.empty())),e.xp6(2),e.Q6J("ngIf",He.showPageLinks),e.xp6(1),e.Q6J("ngIf",He.showJumpToPageDropdown),e.xp6(1),e.Q6J("disabled",He.isLastPage()||He.empty())("ngClass",e.VKq(19,ne,He.isLastPage()||He.empty())),e.xp6(2),e.Q6J("ngIf",He.showFirstLastIcon),e.xp6(1),e.Q6J("ngIf",He.showJumpToPageInput),e.xp6(1),e.Q6J("ngIf",He.rowsPerPageOptions),e.xp6(1),e.Q6J("ngIf",He.templateRight)}}let U=(()=>{class Ae{constructor(He){this.cd=He,this.pageLinkSize=5,this.onPageChange=new e.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(He){He.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),He.first&&(this._first=He.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),He.rows&&(this.updatePageLinks(),this.updatePaginatorState()),He.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(He){this._first=He}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let He of this.rowsPerPageOptions)"object"==typeof He&&He.showAll?this.rowsPerPageItems.unshift({label:He.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(He),value:He})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let He=this.getPageCount(),Re=Math.min(this.pageLinkSize,He),gt=Math.max(0,Math.ceil(this.getPage()-Re/2)),ut=Math.min(He-1,gt+Re-1);return gt=Math.max(0,gt-(this.pageLinkSize-(ut-gt+1))),[gt,ut]}updatePageLinks(){this.pageLinks=[];let He=this.calculatePageLinkBoundaries(),gt=He[1];for(let ut=He[0];ut<=gt;ut++)this.pageLinks.push(ut+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let ut=0;ut<this.getPageCount();ut++)this.pageItems.push({label:String(ut+1),value:ut})}}changePage(He){var Re=this.getPageCount();if(He>=0&&He<Re){this._first=this.rows*He;var gt={page:He,first:this.first,rows:this.rows,pageCount:Re};this.updatePageLinks(),this.onPageChange.emit(gt),this.updatePaginatorState()}}updateFirst(){const He=this.getPage();He>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(He-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(He){this.isFirstPage()||this.changePage(0),He.preventDefault()}changePageToPrev(He){this.changePage(this.getPage()-1),He.preventDefault()}changePageToNext(He){this.changePage(this.getPage()+1),He.preventDefault()}changePageToLast(He){this.isLastPage()||this.changePage(this.getPageCount()-1),He.preventDefault()}onPageLinkClick(He,Re){this.changePage(Re),He.preventDefault()}onRppChange(He){this.changePage(this.getPage())}onPageDropdownChange(He){this.changePage(He.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return Ae.\u0275fac=function(He){return new(He||Ae)(e.Y36(e.sBO))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[e.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(He,Re){1&He&&e.YNc(0,E,14,21,"div",0),2&He&&e.Q6J("ngIf",!!Re.alwaysShow||Re.pageLinks&&Re.pageLinks.length>1)},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,V.Lt,I.jx,L.Rn,f.JJ,f.On,F.H],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),Ae})(),$=(()=>{class Ae{}return Ae.\u0275fac=function(He){return new(He||Ae)},Ae.\u0275mod=e.oAB({type:Ae}),Ae.\u0275inj=e.cJS({imports:[s.ez,V.kW,L.L$,f.u5,I.m8,F.T,V.kW,L.L$,f.u5,I.m8]}),Ae})()},8185:(Lt,qe,C)=>{C.d(qe,{k:()=>L,q:()=>se});var e=C(5e3),s=C(9808);function f(q,z){if(1&q&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&q){const he=e.oxw(2);e.Udp("display",null!=he.value&&0!==he.value?"flex":"none"),e.xp6(1),e.AsE("",he.value,"",he.unit,"")}}function V(q,z){if(1&q&&(e.TgZ(0,"div",3),e.YNc(1,f,2,4,"div",4),e.qZA()),2&q){const he=e.oxw();e.Udp("width",he.value+"%"),e.xp6(1),e.Q6J("ngIf",he.showValue)}}function F(q,z){1&q&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.qZA())}const I=function(q,z){return{"p-progressbar p-component":!0,"p-progressbar-determinate":q,"p-progressbar-indeterminate":z}};let L=(()=>{class q{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return q.\u0275fac=function(he){return new(he||q)},q.\u0275cmp=e.Xpm({type:q,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(he,ne){1&he&&(e.TgZ(0,"div",0),e.YNc(1,V,2,3,"div",1),e.YNc(2,F,2,0,"div",2),e.qZA()),2&he&&(e.Tol(ne.styleClass),e.Q6J("ngStyle",ne.style)("ngClass",e.WLB(7,I,"determinate"===ne.mode,"indeterminate"===ne.mode)),e.uIk("aria-valuenow",ne.value),e.xp6(1),e.Q6J("ngIf","determinate"===ne.mode),e.xp6(1),e.Q6J("ngIf","indeterminate"===ne.mode))},dependencies:[s.mk,s.O5,s.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),q})(),se=(()=>{class q{}return q.\u0275fac=function(he){return new(he||q)},q.\u0275mod=e.oAB({type:q}),q.\u0275inj=e.cJS({imports:[s.ez]}),q})()},6198:(Lt,qe,C)=>{C.d(qe,{G:()=>f,L:()=>V});var e=C(5e3),s=C(9808);let f=(()=>{class F{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275cmp=e.Xpm({type:F,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(L,se){1&L&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"circle",2),e.qZA()()),2&L&&(e.Q6J("ngStyle",se.style)("ngClass",se.styleClass),e.xp6(1),e.Udp("animation-duration",se.animationDuration),e.xp6(1),e.uIk("fill",se.fill)("stroke-width",se.strokeWidth))},dependencies:[s.mk,s.PC],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),F})(),V=(()=>{class F{}return F.\u0275fac=function(L){return new(L||F)},F.\u0275mod=e.oAB({type:F}),F.\u0275inj=e.cJS({imports:[s.ez]}),F})()},5787:(Lt,qe,C)=>{C.d(qe,{H:()=>F,T:()=>I});var e=C(5e3),s=C(9808),f=C(5730),V=C(9783);let F=(()=>{class L{constructor(q,z,he){this.el=q,this.zone=z,this.config=he}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(q){let z=this.getInk();if(!z||"none"===getComputedStyle(z,null).display)return;if(f.p.removeClass(z,"p-ink-active"),!f.p.getHeight(z)&&!f.p.getWidth(z)){let ue=Math.max(f.p.getOuterWidth(this.el.nativeElement),f.p.getOuterHeight(this.el.nativeElement));z.style.height=ue+"px",z.style.width=ue+"px"}let he=f.p.getOffset(this.el.nativeElement),ne=q.pageX-he.left+document.body.scrollTop-f.p.getWidth(z)/2,De=q.pageY-he.top+document.body.scrollLeft-f.p.getHeight(z)/2;z.style.top=De+"px",z.style.left=ne+"px",f.p.addClass(z,"p-ink-active"),this.timeout=setTimeout(()=>{let ue=this.getInk();ue&&f.p.removeClass(ue,"p-ink-active")},401)}getInk(){for(let q=0;q<this.el.nativeElement.children.length;q++)if(-1!==this.el.nativeElement.children[q].className.indexOf("p-ink"))return this.el.nativeElement.children[q];return null}resetInk(){let q=this.getInk();q&&f.p.removeClass(q,"p-ink-active")}onAnimationEnd(q){this.timeout&&clearTimeout(this.timeout),f.p.removeClass(q.currentTarget,"p-ink-active")}create(){let q=document.createElement("span");q.className="p-ink",this.el.nativeElement.appendChild(q),this.animationListener=this.onAnimationEnd.bind(this),q.addEventListener("animationend",this.animationListener)}remove(){let q=this.getInk();q&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),q.removeEventListener("animationend",this.animationListener),f.p.removeElement(q))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return L.\u0275fac=function(q){return new(q||L)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(V.b4,8))},L.\u0275dir=e.lG2({type:L,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),L})(),I=(()=>{class L{}return L.\u0275fac=function(q){return new(q||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[s.ez]}),L})()},5871:(Lt,qe,C)=>{C.d(qe,{T:()=>gt,v:()=>ut});var e=C(9808),s=C(5e3),f=C(9783),V=C(5730);const F=["element"],I=["content"];function L(Pe,We){1&Pe&&s.GkF(0)}const se=function(Pe,We){return{$implicit:Pe,options:We}};function q(Pe,We){if(1&Pe&&(s.ynx(0),s.YNc(1,L,1,0,"ng-container",7),s.BQk()),2&Pe){const J=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",J.contentTemplate)("ngTemplateOutletContext",s.WLB(2,se,J.loadedItems,J.getContentOptions()))}}function z(Pe,We){1&Pe&&s.GkF(0)}function he(Pe,We){if(1&Pe&&(s.ynx(0),s.YNc(1,z,1,0,"ng-container",7),s.BQk()),2&Pe){const J=We.$implicit,de=We.index,Qe=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",Qe.itemTemplate)("ngTemplateOutletContext",s.WLB(2,se,J,Qe.getOptions(de)))}}const ne=function(Pe){return{"p-scroller-loading":Pe}};function De(Pe,We){if(1&Pe&&(s.TgZ(0,"div",8,9),s.YNc(2,he,2,5,"ng-container",10),s.qZA()),2&Pe){const J=s.oxw(2);s.Q6J("ngClass",s.VKq(4,ne,J.d_loading))("ngStyle",J.contentStyle),s.xp6(2),s.Q6J("ngForOf",J.loadedItems)("ngForTrackBy",J._trackBy||J.index)}}function ue(Pe,We){if(1&Pe&&s._UZ(0,"div",11),2&Pe){const J=s.oxw(2);s.Q6J("ngStyle",J.spacerStyle)}}function ge(Pe,We){1&Pe&&s.GkF(0)}const pe=function(Pe){return{numCols:Pe}},ke=function(Pe){return{options:Pe}};function Q(Pe,We){if(1&Pe&&(s.ynx(0),s.YNc(1,ge,1,0,"ng-container",7),s.BQk()),2&Pe){const J=We.index,de=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",de.loaderTemplate)("ngTemplateOutletContext",s.VKq(4,ke,de.getLoaderOptions(J,de.both&&s.VKq(2,pe,de._numItemsInViewport.cols))))}}function Oe(Pe,We){if(1&Pe&&(s.ynx(0),s.YNc(1,Q,2,6,"ng-container",14),s.BQk()),2&Pe){const J=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",J.loaderArr)}}function le(Pe,We){1&Pe&&s.GkF(0)}const P=function(){return{styleClass:"p-scroller-loading-icon"}};function N(Pe,We){if(1&Pe&&(s.ynx(0),s.YNc(1,le,1,0,"ng-container",7),s.BQk()),2&Pe){const J=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",J.loaderIconTemplate)("ngTemplateOutletContext",s.VKq(3,ke,s.DdM(2,P)))}}function we(Pe,We){1&Pe&&s._UZ(0,"i",16)}function be(Pe,We){if(1&Pe&&(s.YNc(0,N,2,5,"ng-container",0),s.YNc(1,we,1,0,"ng-template",null,15,s.W1O)),2&Pe){const J=s.MAs(2),de=s.oxw(3);s.Q6J("ngIf",de.loaderIconTemplate)("ngIfElse",J)}}const ye=function(Pe){return{"p-component-overlay":Pe}};function G(Pe,We){if(1&Pe&&(s.TgZ(0,"div",12),s.YNc(1,Oe,2,1,"ng-container",0),s.YNc(2,be,3,2,"ng-template",null,13,s.W1O),s.qZA()),2&Pe){const J=s.MAs(3),de=s.oxw(2);s.Q6J("ngClass",s.VKq(3,ye,!de.loaderTemplate)),s.xp6(1),s.Q6J("ngIf",de.loaderTemplate)("ngIfElse",J)}}const E=function(Pe,We,J){return{"p-scroller":!0,"p-scroller-inline":Pe,"p-both-scroll":We,"p-horizontal-scroll":J}};function U(Pe,We){if(1&Pe){const J=s.EpF();s.ynx(0),s.TgZ(1,"div",2,3),s.NdJ("scroll",function(Qe){s.CHM(J);const re=s.oxw();return s.KtG(re.onContainerScroll(Qe))}),s.YNc(3,q,2,5,"ng-container",0),s.YNc(4,De,3,6,"ng-template",null,4,s.W1O),s.YNc(6,ue,1,1,"div",5),s.YNc(7,G,4,5,"div",6),s.qZA(),s.BQk()}if(2&Pe){const J=s.MAs(5),de=s.oxw();s.xp6(1),s.Tol(de._styleClass),s.Q6J("ngStyle",de._style)("ngClass",s.kEZ(10,E,de.inline,de.both,de.horizontal)),s.uIk("id",de._id)("tabindex",de.tabindex),s.xp6(2),s.Q6J("ngIf",de.contentTemplate)("ngIfElse",J),s.xp6(3),s.Q6J("ngIf",de._showSpacer),s.xp6(1),s.Q6J("ngIf",!de.loaderDisabled&&de._showLoader&&de.d_loading)}}function $(Pe,We){1&Pe&&s.GkF(0)}const Ae=function(Pe,We){return{rows:Pe,columns:We}};function Ne(Pe,We){if(1&Pe&&(s.ynx(0),s.YNc(1,$,1,0,"ng-container",7),s.BQk()),2&Pe){const J=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",J.contentTemplate)("ngTemplateOutletContext",s.WLB(5,se,J.items,s.WLB(2,Ae,J._items,J.loadedColumns)))}}function He(Pe,We){if(1&Pe&&(s.Hsn(0),s.YNc(1,Ne,2,8,"ng-container",17)),2&Pe){const J=s.oxw();s.xp6(1),s.Q6J("ngIf",J.contentTemplate)}}const Re=["*"];let gt=(()=>{class Pe{constructor(J,de){this.cd=J,this.zone=de,this.onLazyLoad=new s.vpe,this.onScroll=new s.vpe,this.onScrollIndexChange=new s.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(J){this._id=J}get style(){return this._style}set style(J){this._style=J}get styleClass(){return this._styleClass}set styleClass(J){this._styleClass=J}get tabindex(){return this._tabindex}set tabindex(J){this._tabindex=J}get items(){return this._items}set items(J){this._items=J}get itemSize(){return this._itemSize}set itemSize(J){this._itemSize=J}get scrollHeight(){return this._scrollHeight}set scrollHeight(J){this._scrollHeight=J}get scrollWidth(){return this._scrollWidth}set scrollWidth(J){this._scrollWidth=J}get orientation(){return this._orientation}set orientation(J){this._orientation=J}get step(){return this._step}set step(J){this._step=J}get delay(){return this._delay}set delay(J){this._delay=J}get resizeDelay(){return this._resizeDelay}set resizeDelay(J){this._resizeDelay=J}get appendOnly(){return this._appendOnly}set appendOnly(J){this._appendOnly=J}get inline(){return this._inline}set inline(J){this._inline=J}get lazy(){return this._lazy}set lazy(J){this._lazy=J}get disabled(){return this._disabled}set disabled(J){this._disabled=J}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(J){this._loaderDisabled=J}get columns(){return this._columns}set columns(J){this._columns=J}get showSpacer(){return this._showSpacer}set showSpacer(J){this._showSpacer=J}get showLoader(){return this._showLoader}set showLoader(J){this._showLoader=J}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(J){this._numToleratedItems=J}get loading(){return this._loading}set loading(J){this._loading=J}get autoSize(){return this._autoSize}set autoSize(J){this._autoSize=J}get trackBy(){return this._trackBy}set trackBy(J){this._trackBy=J}get options(){return this._options}set options(J){this._options=J,J&&"object"==typeof J&&Object.entries(J).forEach(([de,Qe])=>this[`_${de}`]!==Qe&&(this[`_${de}`]=Qe))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(J=>this._columns?J:J.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(J){var de,Qe,re,Ve;let Me=!1;if(J.loading){const{previousValue:Fe,currentValue:$e}=J.loading;this.lazy&&Fe!==$e&&$e!==this.d_loading&&(this.d_loading=$e,Me=!0)}if(J.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),J.numToleratedItems){const{previousValue:Fe,currentValue:$e}=J.numToleratedItems;Fe!==$e&&$e!==this.d_numToleratedItems&&(this.d_numToleratedItems=$e)}if(J.options){const{previousValue:Fe,currentValue:$e}=J.options;this.lazy&&(null==Fe?void 0:Fe.loading)!==(null==$e?void 0:$e.loading)&&(null==$e?void 0:$e.loading)!==this.d_loading&&(this.d_loading=$e.loading,Me=!0),(null==Fe?void 0:Fe.numToleratedItems)!==(null==$e?void 0:$e.numToleratedItems)&&(null==$e?void 0:$e.numToleratedItems)!==this.d_numToleratedItems&&(this.d_numToleratedItems=$e.numToleratedItems)}this.initialized&&!Me&&((null===(Qe=null===(de=J.items)||void 0===de?void 0:de.previousValue)||void 0===Qe?void 0:Qe.length)!==(null===(Ve=null===(re=J.items)||void 0===re?void 0:re.currentValue)||void 0===Ve?void 0:Ve.length)||J.itemSize||J.scrollHeight||J.scrollWidth)&&this.init()}ngAfterContentInit(){this.templates.forEach(J=>{switch(J.getType()){case"content":this.contentTemplate=J.template;break;case"item":default:this.itemTemplate=J.template;break;case"loader":this.loaderTemplate=J.template;break;case"loadericon":this.loaderIconTemplate=J.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit(),this.calculateAutoSize()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){var J;V.p.isVisible(null===(J=this.elementViewChild)||void 0===J?void 0:J.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=V.p.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=V.p.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(J){var de,Qe;this.contentEl=J||(null===(de=this.contentViewChild)||void 0===de?void 0:de.nativeElement)||V.p.findSingle(null===(Qe=this.elementViewChild)||void 0===Qe?void 0:Qe.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(J){var de,Qe;this.lastScrollPos=this.both?{top:0,left:0}:0,null===(Qe=null===(de=this.elementViewChild)||void 0===de?void 0:de.nativeElement)||void 0===Qe||Qe.scrollTo(J)}scrollToIndex(J,de="auto"){const{numToleratedItems:Qe}=this.calculateNumItems(),re=this.getContentPosition(),Ve=($e=0,R)=>$e<=R?0:$e,Me=($e,R,it)=>$e*R+it,Fe=($e=0,R=0)=>this.scrollTo({left:$e,top:R,behavior:de});this.both?(this.first={rows:Ve(J[0],Qe[0]),cols:Ve(J[1],Qe[1])},Fe(Me(this.first.cols,this._itemSize[1],re.left),Me(this.first.rows,this._itemSize[0],re.top))):(this.first=Ve(J,Qe),this.horizontal?Fe(Me(this.first,this._itemSize,re.left),0):Fe(0,Me(this.first,this._itemSize,re.top)))}scrollInView(J,de,Qe="auto"){if(de){const{first:re,viewport:Ve}=this.getRenderedRange(),Me=(R=0,it=0)=>this.scrollTo({left:R,top:it,behavior:Qe}),$e="to-end"===de;if("to-start"===de){if(this.both)Ve.first.rows-re.rows>J[0]?Me(Ve.first.cols*this._itemSize[1],(Ve.first.rows-1)*this._itemSize[0]):Ve.first.cols-re.cols>J[1]&&Me((Ve.first.cols-1)*this._itemSize[1],Ve.first.rows*this._itemSize[0]);else if(Ve.first-re>J){const R=(Ve.first-1)*this._itemSize;this.horizontal?Me(R,0):Me(0,R)}}else if($e)if(this.both)Ve.last.rows-re.rows<=J[0]+1?Me(Ve.first.cols*this._itemSize[1],(Ve.first.rows+1)*this._itemSize[0]):Ve.last.cols-re.cols<=J[1]+1&&Me((Ve.first.cols+1)*this._itemSize[1],Ve.first.rows*this._itemSize[0]);else if(Ve.last-re<=J+1){const R=(Ve.first+1)*this._itemSize;this.horizontal?Me(R,0):Me(0,R)}}else this.scrollToIndex(J,Qe)}getRenderedRange(){var J;const de=(Ve,Me)=>Math.floor(Ve/(Me||Ve));let Qe=this.first,re=0;if(null!==(J=this.elementViewChild)&&void 0!==J&&J.nativeElement){const{scrollTop:Ve,scrollLeft:Me}=this.elementViewChild.nativeElement;this.both?(Qe={rows:de(Ve,this._itemSize[0]),cols:de(Me,this._itemSize[1])},re={rows:Qe.rows+this.numItemsInViewport.rows,cols:Qe.cols+this.numItemsInViewport.cols}):(Qe=de(this.horizontal?Me:Ve,this._itemSize),re=Qe+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:Qe,last:re}}}calculateNumItems(){var J,de;const Qe=this.getContentPosition(),re=null!==(J=this.elementViewChild)&&void 0!==J&&J.nativeElement?this.elementViewChild.nativeElement.offsetWidth-Qe.left:0,Ve=null!==(de=this.elementViewChild)&&void 0!==de&&de.nativeElement?this.elementViewChild.nativeElement.offsetHeight-Qe.top:0,Me=(it,Le)=>Math.ceil(it/(Le||it)),Fe=it=>Math.ceil(it/2),$e=this.both?{rows:Me(Ve,this._itemSize[0]),cols:Me(re,this._itemSize[1])}:Me(this.horizontal?re:Ve,this._itemSize);return{numItemsInViewport:$e,numToleratedItems:this.d_numToleratedItems||(this.both?[Fe($e.rows),Fe($e.cols)]:Fe($e))}}calculateOptions(){const{numItemsInViewport:J,numToleratedItems:de}=this.calculateNumItems(),Qe=(Me,Fe,$e,R=!1)=>this.getLast(Me+Fe+(Me<$e?2:3)*$e,R),re=this.first,Ve=this.both?{rows:Qe(this.first.rows,J.rows,de[0]),cols:Qe(this.first.cols,J.cols,de[1],!0)}:Qe(this.first,J,de);this.last=Ve,this.numItemsInViewport=J,this.d_numToleratedItems=de,this.showLoader&&(this.loaderArr=this.both?Array.from({length:J.rows}).map(()=>Array.from({length:J.cols})):Array.from({length:J})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:re.cols}:0:re,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:J,offsetHeight:de}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(J<this.defaultWidth?J:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(de<this.defaultHeight?de:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(J=0,de=!1){return this._items?Math.min(de?(this._columns||this._items[0]).length:this._items.length,J):0}getContentPosition(){if(this.contentEl){const J=getComputedStyle(this.contentEl),de=parseFloat(J.paddingLeft)+Math.max(parseFloat(J.left)||0,0),Qe=parseFloat(J.paddingRight)+Math.max(parseFloat(J.right)||0,0),re=parseFloat(J.paddingTop)+Math.max(parseFloat(J.top)||0,0),Ve=parseFloat(J.paddingBottom)+Math.max(parseFloat(J.bottom)||0,0);return{left:de,right:Qe,top:re,bottom:Ve,x:de+Qe,y:re+Ve}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){var J;if(null!==(J=this.elementViewChild)&&void 0!==J&&J.nativeElement){const de=this.elementViewChild.nativeElement.parentElement.parentElement,Qe=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||de.offsetWidth}px`,re=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||de.offsetHeight}px`,Ve=(Me,Fe)=>this.elementViewChild.nativeElement.style[Me]=Fe;this.both||this.horizontal?(Ve("height",re),Ve("width",Qe)):Ve("height",re)}}setSpacerSize(){if(this._items){const J=this.getContentPosition(),de=(Qe,re,Ve,Me=0)=>this.spacerStyle=Object.assign(Object.assign({},this.spacerStyle),{[`${Qe}`]:(re||[]).length*Ve+Me+"px"});this.both?(de("height",this._items,this._itemSize[0],J.y),de("width",this._columns||this._items[1],this._itemSize[1],J.x)):this.horizontal?de("width",this._columns||this._items,this._itemSize,J.x):de("height",this._items,this._itemSize,J.y)}}setContentPosition(J){if(this.contentEl&&!this._appendOnly){const de=J?J.first:this.first,Qe=(Ve,Me)=>Ve*Me,re=(Ve=0,Me=0)=>this.contentStyle=Object.assign(Object.assign({},this.contentStyle),{transform:`translate3d(${Ve}px, ${Me}px, 0)`});if(this.both)re(Qe(de.cols,this._itemSize[1]),Qe(de.rows,this._itemSize[0]));else{const Ve=Qe(de,this._itemSize);this.horizontal?re(Ve,0):re(0,Ve)}}}onScrollPositionChange(J){const de=J.target,Qe=this.getContentPosition(),re=(Ot,en)=>Ot?Ot>en?Ot-en:Ot:0,Ve=(Ot,en)=>Math.floor(Ot/(en||Ot)),Me=(Ot,en,at,Pt,Bt,tn)=>Ot<=Bt?Bt:tn?at-Pt-Bt:en+Bt-1,Fe=(Ot,en,at,Pt,Bt,tn,ft)=>Ot<=tn?0:Math.max(0,ft?Ot<en?at:Ot-tn:Ot>en?at:Ot-2*tn),$e=(Ot,en,at,Pt,Bt,tn=!1)=>{let ft=en+Pt+2*Bt;return Ot>=Bt&&(ft+=Bt+1),this.getLast(ft,tn)},R=re(de.scrollTop,Qe.top),it=re(de.scrollLeft,Qe.left);let Le=this.both?{rows:0,cols:0}:0,Et=this.last,un=!1,Cn=this.lastScrollPos;if(this.both){const Ot=this.lastScrollPos.top<=R,en=this.lastScrollPos.left<=it;if(!this._appendOnly||this._appendOnly&&(Ot||en)){const at={rows:Ve(R,this._itemSize[0]),cols:Ve(it,this._itemSize[1])},Pt={rows:Me(at.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],Ot),cols:Me(at.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],en)};Le={rows:Fe(at.rows,Pt.rows,this.first.rows,0,0,this.d_numToleratedItems[0],Ot),cols:Fe(at.cols,Pt.cols,this.first.cols,0,0,this.d_numToleratedItems[1],en)},Et={rows:$e(at.rows,Le.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:$e(at.cols,Le.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},un=Le.rows!==this.first.rows||Et.rows!==this.last.rows||Le.cols!==this.first.cols||Et.cols!==this.last.cols,Cn={top:R,left:it}}}else{const Ot=this.horizontal?it:R,en=this.lastScrollPos<=Ot;if(!this._appendOnly||this._appendOnly&&en){const at=Ve(Ot,this._itemSize);Le=Fe(at,Me(at,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,en),this.first,0,0,this.d_numToleratedItems,en),Et=$e(at,Le,0,this.numItemsInViewport,this.d_numToleratedItems),un=Le!==this.first||Et!==this.last,Cn=Ot}}return{first:Le,last:Et,isRangeChanged:un,scrollPos:Cn}}onScrollChange(J){const{first:de,last:Qe,isRangeChanged:re,scrollPos:Ve}=this.onScrollPositionChange(J);if(re){const Me={first:de,last:Qe};if(this.setContentPosition(Me),this.first=de,this.last=Qe,this.lastScrollPos=Ve,this.handleEvents("onScrollIndexChange",Me),this._lazy&&this.isPageChanged){const Fe={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):de,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:Qe,this.items.length)};(this.lazyLoadState.first!==Fe.first||this.lazyLoadState.last!==Fe.last)&&this.handleEvents("onLazyLoad",Fe),this.lazyLoadState=Fe}}}onContainerScroll(J){if(this.handleEvents("onScroll",{originalEvent:J}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:de}=this.onScrollPositionChange(J);(de||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(J),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(J)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{var J;if(V.p.isVisible(null===(J=this.elementViewChild)||void 0===J?void 0:J.nativeElement)){const[de,Qe]=[V.p.getWidth(this.elementViewChild.nativeElement),V.p.getHeight(this.elementViewChild.nativeElement)],[re,Ve]=[de!==this.defaultWidth,Qe!==this.defaultHeight];(this.both?re||Ve:this.horizontal?re:this.vertical&&Ve)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=de,this.defaultHeight=Qe,this.init()})}},this._resizeDelay)}handleEvents(J,de){return this.options&&this.options[J]?this.options[J](de):this[J].emit(de)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:J=>this.getOptions(J),loading:this.d_loading,getLoaderOptions:(J,de)=>this.getLoaderOptions(J,de),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(J){const de=(this._items||[]).length,Qe=this.both?this.first.rows+J:this.first+J;return{index:Qe,count:de,first:0===Qe,last:Qe===de-1,even:Qe%2==0,odd:Qe%2!=0}}getLoaderOptions(J,de){const Qe=this.loaderArr.length;return Object.assign({index:J,count:Qe,first:0===J,last:J===Qe-1,even:J%2==0,odd:J%2!=0},de)}}return Pe.\u0275fac=function(J){return new(J||Pe)(s.Y36(s.sBO),s.Y36(s.R0b))},Pe.\u0275cmp=s.Xpm({type:Pe,selectors:[["p-scroller"]],contentQueries:function(J,de,Qe){if(1&J&&s.Suo(Qe,f.jx,4),2&J){let re;s.iGM(re=s.CRH())&&(de.templates=re)}},viewQuery:function(J,de){if(1&J&&(s.Gf(F,5),s.Gf(I,5)),2&J){let Qe;s.iGM(Qe=s.CRH())&&(de.elementViewChild=Qe.first),s.iGM(Qe=s.CRH())&&(de.contentViewChild=Qe.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[s.TTD],ngContentSelectors:Re,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(J,de){if(1&J&&(s.F$t(),s.YNc(0,U,8,14,"ng-container",0),s.YNc(1,He,2,1,"ng-template",null,1,s.W1O)),2&J){const Qe=s.MAs(2);s.Q6J("ngIf",!de._disabled)("ngIfElse",Qe)}},dependencies:[e.mk,e.sg,e.O5,e.tP,e.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),Pe})(),ut=(()=>{class Pe{}return Pe.\u0275fac=function(J){return new(J||Pe)},Pe.\u0275mod=s.oAB({type:Pe}),Pe.\u0275inj=s.cJS({imports:[e.ez]}),Pe})()},7102:(Lt,qe,C)=>{C.d(qe,{Qy:()=>ge,UN:()=>ue});var e=C(5e3),s=C(9808),f=C(5921),V=C(5787),F=C(2382);function I(pe,ke){if(1&pe&&e._UZ(0,"span",8),2&pe){const Q=e.oxw(2).$implicit;e.Tol(Q.icon),e.Q6J("ngClass","p-button-icon p-button-icon-left")}}function L(pe,ke){if(1&pe&&(e.ynx(0),e.YNc(1,I,1,3,"span",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.BQk()),2&pe){const Q=e.oxw().$implicit,Oe=e.oxw();e.xp6(1),e.Q6J("ngIf",Q.icon),e.xp6(2),e.Oqu(Oe.getOptionLabel(Q))}}function se(pe,ke){1&pe&&e.GkF(0)}const q=function(pe,ke){return{$implicit:pe,index:ke}};function z(pe,ke){if(1&pe&&e.YNc(0,se,1,0,"ng-container",9),2&pe){const Q=e.oxw(),Oe=Q.$implicit,le=Q.index,P=e.oxw();e.Q6J("ngTemplateOutlet",P.itemTemplate)("ngTemplateOutletContext",e.WLB(2,q,Oe,le))}}const he=function(pe,ke,Q){return{"p-highlight":pe,"p-disabled":ke,"p-button-icon-only":Q}};function ne(pe,ke){if(1&pe){const Q=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("click",function(le){const P=e.CHM(Q),N=P.$implicit,we=P.index,be=e.oxw();return e.KtG(be.onItemClick(le,N,we))})("keydown.enter",function(le){const P=e.CHM(Q),N=P.$implicit,we=P.index,be=e.oxw();return e.KtG(be.onItemClick(le,N,we))})("blur",function(){e.CHM(Q);const le=e.oxw();return e.KtG(le.onBlur())}),e.YNc(2,L,4,2,"ng-container",4),e.YNc(3,z,1,5,"ng-template",null,5,e.W1O),e.qZA()}if(2&pe){const Q=ke.$implicit,Oe=e.MAs(4),le=e.oxw();e.Tol(Q.styleClass),e.Q6J("ngClass",e.kEZ(10,he,le.isSelected(Q),le.disabled||le.isOptionDisabled(Q),Q.icon&&!le.getOptionLabel(Q))),e.uIk("aria-pressed",le.isSelected(Q))("title",Q.title)("aria-label",Q.label)("tabindex",le.disabled?null:le.tabindex)("aria-labelledby",le.getOptionLabel(Q)),e.xp6(2),e.Q6J("ngIf",!le.itemTemplate)("ngIfElse",Oe)}}const De={provide:F.JU,useExisting:(0,e.Gpc)(()=>ue),multi:!0};let ue=(()=>{class pe{constructor(Q){this.cd=Q,this.tabindex=0,this.onOptionClick=new e.vpe,this.onChange=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(Q){return this.optionLabel?f.gb.resolveFieldData(Q,this.optionLabel):null!=Q.label?Q.label:Q}getOptionValue(Q){return this.optionValue?f.gb.resolveFieldData(Q,this.optionValue):this.optionLabel||void 0===Q.value?Q:Q.value}isOptionDisabled(Q){return this.optionDisabled?f.gb.resolveFieldData(Q,this.optionDisabled):void 0!==Q.disabled&&Q.disabled}writeValue(Q){this.value=Q,this.cd.markForCheck()}registerOnChange(Q){this.onModelChange=Q}registerOnTouched(Q){this.onModelTouched=Q}setDisabledState(Q){this.disabled=Q,this.cd.markForCheck()}onItemClick(Q,Oe,le){if(!this.disabled&&!this.isOptionDisabled(Oe)){if(this.multiple)this.isSelected(Oe)?this.removeOption(Oe):this.value=[...this.value||[],this.getOptionValue(Oe)],this.onModelChange(this.value),this.onChange.emit({originalEvent:Q,value:this.value});else{let P=this.getOptionValue(Oe);this.value!==P&&(this.value=this.getOptionValue(Oe),this.onModelChange(this.value),this.onChange.emit({originalEvent:Q,value:this.value}))}this.onOptionClick.emit({originalEvent:Q,option:Oe,index:le})}}onBlur(){this.onModelTouched()}removeOption(Q){this.value=this.value.filter(Oe=>!f.gb.equals(Oe,this.getOptionValue(Q),this.dataKey))}isSelected(Q){let Oe=!1,le=this.getOptionValue(Q);if(this.multiple){if(this.value&&this.value instanceof Array)for(let P of this.value)if(f.gb.equals(P,le,this.dataKey)){Oe=!0;break}}else Oe=f.gb.equals(this.getOptionValue(Q),this.value,this.dataKey);return Oe}}return pe.\u0275fac=function(Q){return new(Q||pe)(e.Y36(e.sBO))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["p-selectButton"]],contentQueries:function(Q,Oe,le){if(1&Q&&e.Suo(le,e.Rgc,5),2&Q){let P;e.iGM(P=e.CRH())&&(Oe.itemTemplate=P.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[e._Bn([De])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Q,Oe){1&Q&&(e.TgZ(0,"div",0),e.YNc(1,ne,5,14,"div",1),e.qZA()),2&Q&&(e.Tol(Oe.styleClass),e.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",Oe.style),e.xp6(1),e.Q6J("ngForOf",Oe.options))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,V.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),pe})(),ge=(()=>{class pe{}return pe.\u0275fac=function(Q){return new(Q||pe)},pe.\u0275mod=e.oAB({type:pe}),pe.\u0275inj=e.cJS({imports:[s.ez,V.T]}),pe})()},4500:(Lt,qe,C)=>{C.d(qe,{O:()=>f,m:()=>V});var e=C(5e3),s=C(9808);let f=(()=>{class F{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return Object.assign(Object.assign({},this.style),this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius})}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275cmp=e.Xpm({type:F,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(L,se){1&L&&e._UZ(0,"div",0),2&L&&(e.Tol(se.styleClass),e.Q6J("ngClass",se.containerClass())("ngStyle",se.containerStyle()))},dependencies:[s.mk,s.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),F})(),V=(()=>{class F{}return F.\u0275fac=function(L){return new(L||F)},F.\u0275mod=e.oAB({type:F}),F.\u0275inj=e.cJS({imports:[s.ez]}),F})()},4496:(Lt,qe,C)=>{C.d(qe,{aj:()=>de,ce:()=>Qe});var e=C(5e3),s=C(1777),f=C(9808),V=C(5730),F=C(3470),I=C(5921),L=C(4119),se=C(9783);const q=["sublist"],z=function(re){return{"p-hidden":re}};function he(re,Ve){if(1&re&&e._UZ(0,"li",5),2&re){const Me=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,z,!1===Me.visible))}}function ne(re,Ve){if(1&re&&e._UZ(0,"span",17),2&re){const Me=e.oxw(3).$implicit;e.Q6J("ngClass",Me.icon)("ngStyle",Me.iconStyle)}}function De(re,Ve){if(1&re&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&re){const Me=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Me.label)}}function ue(re,Ve){if(1&re&&e._UZ(0,"span",19),2&re){const Me=e.oxw(3).$implicit;e.Q6J("innerHTML",Me.label,e.oJD)}}function ge(re,Ve){if(1&re&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&re){const Me=e.oxw(3).$implicit;e.Q6J("ngClass",Me.badgeStyleClass),e.xp6(1),e.Oqu(Me.badge)}}function pe(re,Ve){1&re&&e._UZ(0,"span",21)}const ke=function(re){return{"p-disabled":re}};function Q(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown",function($e){e.CHM(Me);const R=e.oxw(3);return e.KtG(R.onItemKeyDown($e))})("click",function($e){e.CHM(Me),e.oxw();const R=e.MAs(1),it=e.oxw().$implicit,Le=e.oxw();return e.KtG(Le.itemClick($e,it,R))}),e.YNc(1,ne,1,2,"span",12),e.YNc(2,De,2,1,"span",13),e.YNc(3,ue,1,1,"ng-template",null,14,e.W1O),e.YNc(5,ge,2,2,"span",15),e.YNc(6,pe,1,0,"span",16),e.qZA()}if(2&re){const Me=e.MAs(4),Fe=e.oxw(2).$implicit,$e=e.oxw();e.Q6J("target",Fe.target)("ngClass",e.VKq(11,ke,Fe.disabled)),e.uIk("href",Fe.url,e.LSH)("title",Fe.title)("id",Fe.id)("tabindex",Fe.disabled||!$e.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",Fe.icon),e.xp6(1),e.Q6J("ngIf",!1!==Fe.escape)("ngIfElse",Me),e.xp6(3),e.Q6J("ngIf",Fe.badge),e.xp6(1),e.Q6J("ngIf",Fe.items)}}function Oe(re,Ve){if(1&re&&e._UZ(0,"span",17),2&re){const Me=e.oxw(3).$implicit;e.Q6J("ngClass",Me.icon)("ngStyle",Me.iconStyle)}}function le(re,Ve){if(1&re&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&re){const Me=e.oxw(3).$implicit;e.xp6(1),e.Oqu(Me.label)}}function P(re,Ve){if(1&re&&e._UZ(0,"span",19),2&re){const Me=e.oxw(3).$implicit;e.Q6J("innerHTML",Me.label,e.oJD)}}function N(re,Ve){if(1&re&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&re){const Me=e.oxw(3).$implicit;e.Q6J("ngClass",Me.badgeStyleClass),e.xp6(1),e.Oqu(Me.badge)}}function we(re,Ve){1&re&&e._UZ(0,"span",24)}const be=function(){return{exact:!1}};function ye(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"a",22),e.NdJ("keydown",function($e){e.CHM(Me);const R=e.oxw(3);return e.KtG(R.onItemKeyDown($e))})("click",function($e){e.CHM(Me),e.oxw();const R=e.MAs(1),it=e.oxw().$implicit,Le=e.oxw();return e.KtG(Le.itemClick($e,it,R))}),e.YNc(1,Oe,1,2,"span",12),e.YNc(2,le,2,1,"span",13),e.YNc(3,P,1,1,"ng-template",null,14,e.W1O),e.YNc(5,N,2,2,"span",15),e.YNc(6,we,1,0,"span",23),e.qZA()}if(2&re){const Me=e.MAs(4),Fe=e.oxw(2).$implicit,$e=e.oxw();e.Q6J("routerLink",Fe.routerLink)("queryParams",Fe.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",Fe.routerLinkActiveOptions||e.DdM(21,be))("href",Fe.url,e.LSH)("target",Fe.target)("ngClass",e.VKq(22,ke,Fe.disabled))("fragment",Fe.fragment)("queryParamsHandling",Fe.queryParamsHandling)("preserveFragment",Fe.preserveFragment)("skipLocationChange",Fe.skipLocationChange)("replaceUrl",Fe.replaceUrl)("state",Fe.state),e.uIk("title",Fe.title)("id",Fe.id)("tabindex",Fe.disabled||!$e.isActive?null:"0"),e.xp6(1),e.Q6J("ngIf",Fe.icon),e.xp6(1),e.Q6J("ngIf",!1!==Fe.escape)("ngIfElse",Me),e.xp6(3),e.Q6J("ngIf",Fe.badge),e.xp6(1),e.Q6J("ngIf",Fe.items)}}function G(re,Ve){if(1&re&&e._UZ(0,"p-slideMenuSub",25),2&re){const Me=e.oxw(2).$implicit,Fe=e.oxw();e.Q6J("item",Me)("index",Fe.index+1)("menuWidth",Fe.menuWidth)}}const E=function(re,Ve){return{"p-menuitem":!0,"p-menuitem-active":re,"p-hidden":Ve}};function U(re,Ve){if(1&re&&(e.TgZ(0,"li",6,7),e.YNc(2,Q,7,13,"a",8),e.YNc(3,ye,7,24,"a",9),e.YNc(4,G,1,3,"p-slideMenuSub",10),e.qZA()),2&re){const Me=e.MAs(1),Fe=e.oxw().$implicit,$e=e.oxw();e.Tol(Fe.styleClass),e.Q6J("ngClass",e.WLB(8,E,Me==$e.activeItem,!1===Fe.visible))("tooltipOptions",Fe.tooltipOptions)("ngStyle",Fe.style),e.xp6(2),e.Q6J("ngIf",!Fe.routerLink),e.xp6(1),e.Q6J("ngIf",Fe.routerLink),e.xp6(1),e.Q6J("ngIf",Fe.items)}}function $(re,Ve){if(1&re&&(e.YNc(0,he,1,3,"li",3),e.YNc(1,U,5,11,"li",4)),2&re){const Me=Ve.$implicit;e.Q6J("ngIf",Me.separator),e.xp6(1),e.Q6J("ngIf",!Me.separator)}}const Ae=function(re,Ve,Me){return{"p-slidemenu-rootlist":re,"p-submenu-list":Ve,"p-active-submenu":Me}},Ne=["container"],He=["backward"],Re=["slideMenuContent"],gt=function(re){return{"p-slidemenu p-component":!0,"p-slidemenu-overlay":re}},ut=function(re,Ve){return{showTransitionParams:re,hideTransitionParams:Ve}},Pe=function(re){return{value:"visible",params:re}};function We(re,Ve){if(1&re){const Me=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onOverlayClick($e))})("@overlayAnimation.start",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onOverlayAnimationStart($e))})("@overlayAnimation.done",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onOverlayAnimationEnd($e))}),e.TgZ(2,"div",3)(3,"div",4,5),e._UZ(5,"p-slideMenuSub",6),e.qZA(),e.TgZ(6,"a",7,8),e.NdJ("keydown.enter",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onBackwardKeydown($e))})("keydown.space",function($e){e.CHM(Me);const R=e.oxw();return e.KtG(R.onBackwardKeydown($e))})("click",function(){e.CHM(Me);const $e=e.oxw();return e.KtG($e.goBack())}),e._UZ(8,"span",9),e.TgZ(9,"span"),e._uU(10),e.qZA()()()()}if(2&re){const Me=e.oxw();e.Tol(Me.styleClass),e.Q6J("ngClass",e.VKq(18,gt,Me.popup))("ngStyle",Me.style)("@overlayAnimation",e.VKq(23,Pe,e.WLB(20,ut,Me.showTransitionOptions,Me.hideTransitionOptions)))("@.disabled",!0!==Me.popup),e.xp6(2),e.Udp("height",Me.left?Me.viewportHeight+"px":"auto")("width",Me.menuWidth+"px"),e.xp6(3),e.Q6J("item",Me.model)("index",0)("menuWidth",Me.menuWidth)("effectDuration",Me.effectDuration)("easing",Me.easing),e.xp6(1),e.Udp("display",Me.left?"block":"none"),e.xp6(4),e.Oqu(Me.backLabel)}}let J=(()=>{class re{constructor(Me){this.backLabel="Back",this.easing="ease-out",this.slideMenu=Me}itemClick(Me,Fe,$e){Fe.disabled?Me.preventDefault():(!Fe.url&&!Fe.routerLink&&Me.preventDefault(),Fe.command&&Fe.command({originalEvent:Me,item:Fe}),Fe.items&&!this.slideMenu.animating&&(this.slideMenu.left-=this.slideMenu.menuWidth,this.activeItem=$e,this.slideMenu.animating=!0,setTimeout(()=>this.slideMenu.animating=!1,this.effectDuration)),!Fe.items&&this.slideMenu.popup&&this.slideMenu.hide())}focusNextList(Me){if(!this.slideMenu.animating){let Fe=V.p.getFocusableElements(Me);Fe&&Fe.length>0&&Fe[0].focus(),this.unbindTransitionEndListener()}}onItemKeyDown(Me){let Fe=Me.currentTarget.parentElement;switch(Me.code){case"Space":case"Enter":Fe&&!V.p.hasClass(Fe,"p-disabled")&&(Fe.children[0].click(),this.transitionEndListener=this.focusNextList.bind(this,Fe),this.sublistViewChild.nativeElement.addEventListener("transitionend",this.transitionEndListener)),Me.preventDefault()}}unbindTransitionEndListener(){this.transitionEndListener&&this.sublistViewChild&&(this.sublistViewChild.nativeElement.removeEventListener("transitionend",this.transitionEndListener),this.transitionEndListener=null)}ngOnDestroy(){this.activeItem=null,this.unbindTransitionEndListener()}get isActive(){return-this.slideMenu.left==this.index*this.menuWidth}}return re.\u0275fac=function(Me){return new(Me||re)(e.Y36((0,e.Gpc)(()=>de)))},re.\u0275cmp=e.Xpm({type:re,selectors:[["p-slideMenuSub"]],viewQuery:function(Me,Fe){if(1&Me&&e.Gf(q,5),2&Me){let $e;e.iGM($e=e.CRH())&&(Fe.sublistViewChild=$e.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",backLabel:"backLabel",menuWidth:"menuWidth",effectDuration:"effectDuration",easing:"easing",index:"index"},decls:3,vars:16,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","tooltipOptions","class","ngStyle",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","tooltipOptions","ngStyle"],["listitem",""],["class","p-menuitem-link",3,"target","ngClass","keydown","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click",4,"ngIf"],["class","p-submenu",3,"item","index","menuWidth",4,"ngIf"],[1,"p-menuitem-link",3,"target","ngClass","keydown","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlRouteLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],["class","p-submenu-icon pi pi-fw pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[1,"p-submenu-icon","pi","pi-fw","pi-angle-right"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","href","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click"],["class","p-submenu-icon pi pi-fw pi-caret-right",4,"ngIf"],[1,"p-submenu-icon","pi","pi-fw","pi-caret-right"],[1,"p-submenu",3,"item","index","menuWidth"]],template:function(Me,Fe){1&Me&&(e.TgZ(0,"ul",0,1),e.YNc(2,$,2,2,"ng-template",2),e.qZA()),2&Me&&(e.Udp("width",Fe.menuWidth,"px")("left",Fe.root?Fe.slideMenu.left:Fe.slideMenu.menuWidth,"px")("transition-property",Fe.root?"left":"none")("transition-duration",Fe.effectDuration+"ms")("transition-timing-function",Fe.easing),e.Q6J("ngClass",e.kEZ(12,Ae,Fe.root,!Fe.root,Fe.isActive)),e.xp6(2),e.Q6J("ngForOf",Fe.root?Fe.item:Fe.item.items))},dependencies:[f.mk,f.sg,f.O5,f.PC,F.yS,F.Od,L.u,re],encapsulation:2}),re})(),de=(()=>{class re{constructor(Me,Fe,$e,R,it){this.el=Me,this.renderer=Fe,this.cd=$e,this.config=R,this.overlayService=it,this.menuWidth=190,this.viewportHeight=180,this.effectDuration=250,this.easing="ease-out",this.backLabel="Back",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe,this.left=0,this.animating=!1}ngAfterViewChecked(){!this.viewportUpdated&&!this.popup&&this.containerViewChild&&(this.updateViewPort(),this.viewportUpdated=!0)}set container(Me){this.containerViewChild=Me}set backward(Me){this.backwardViewChild=Me}set slideMenuContent(Me){this.slideMenuContentViewChild=Me}updateViewPort(){this.slideMenuContentViewChild.nativeElement.style.height=this.viewportHeight-V.p.getHiddenElementOuterHeight(this.backwardViewChild.nativeElement)+"px"}toggle(Me){this.visible?this.hide():this.show(Me),this.preventDocumentDefault=!0}show(Me){this.target=Me.currentTarget,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(Me){this.popup&&this.overlayService.add({originalEvent:Me,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(Me){switch(Me.toState){case"visible":this.popup&&(this.updateViewPort(),this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),V.p.absolutePosition(this.containerViewChild.nativeElement,this.target),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}onOverlayAnimationEnd(Me){"void"===Me.toState&&I.P9.clear(Me.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):V.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement)}moveOnTop(){this.autoZIndex&&I.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!V.p.isTouchDevice()&&this.hide()}goBack(){this.left+=this.menuWidth}onBackwardKeydown(Me){this.goBack(),this.left||setTimeout(()=>{let Fe=V.p.getFocusableElements(this.el.nativeElement);Fe&&Fe.length>0&&Fe[0].focus()},1),Me.preventDefault()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||(this.hide(),this.cd.detectChanges()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new V.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.left=0,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}}return re.\u0275fac=function(Me){return new(Me||re)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(se.b4),e.Y36(se.F0))},re.\u0275cmp=e.Xpm({type:re,selectors:[["p-slideMenu"]],viewQuery:function(Me,Fe){if(1&Me&&(e.Gf(Ne,5),e.Gf(He,5),e.Gf(Re,5)),2&Me){let $e;e.iGM($e=e.CRH())&&(Fe.container=$e.first),e.iGM($e=e.CRH())&&(Fe.backward=$e.first),e.iGM($e=e.CRH())&&(Fe.slideMenuContent=$e.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",menuWidth:"menuWidth",viewportHeight:"viewportHeight",effectDuration:"effectDuration",easing:"easing",backLabel:"backLabel",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-slidemenu-wrapper"],[1,"p-slidemenu-content"],["slideMenuContent",""],["root","root",3,"item","index","menuWidth","effectDuration","easing"],["tabindex","0",1,"p-slidemenu-backward","p-menuitem-link",3,"keydown.enter","keydown.space","click"],["backward",""],[1,"p-slidemenu-backward-icon","pi","pi-fw","pi-caret-left"]],template:function(Me,Fe){1&Me&&e.YNc(0,We,11,25,"div",0),2&Me&&e.Q6J("ngIf",!Fe.popup||Fe.visible)},dependencies:[f.mk,f.O5,f.PC,J],styles:[".p-slidemenu{width:12.5rem}.p-slidemenu.p-slidemenu-overlay{position:absolute;top:0;left:0}.p-slidemenu ul{list-style:none;margin:0;padding:0}.p-slidemenu .p-slidemenu-rootlist{position:absolute;top:0}.p-slidemenu .p-submenu-list{display:none;position:absolute;top:0;width:12.5rem}.p-slidemenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden}.p-slidemenu .p-menuitem-icon,.p-slidemenu .p-menuitem-text{vertical-align:middle}.p-slidemenu .p-menuitem{position:relative}.p-slidemenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-slidemenu .p-slidemenu-wrapper{position:relative}.p-slidemenu .p-slidemenu-content{overflow-x:hidden;overflow-y:auto;position:relative}.p-slidemenu-backward{position:absolute;bottom:0;width:100%;cursor:pointer;display:none}.p-slidemenu-backward .p-slidemenu-backward-icon,.p-slidemenu-backward span{vertical-align:middle}.p-slidemenu .p-menuitem-active{position:static}.p-slidemenu .p-menuitem-active>.p-submenu>.p-submenu-list{display:block}.p-slidemenu ul:not(.p-active-submenu)>.p-menuitem:not(.p-menuitem-active),.p-slidemenu .p-active-submenu>.p-menuitem-active>.p-submenu>.p-submenu-list{display:none}.p-slidemenu .p-active-submenu>.p-menuitem-active~.p-menuitem{display:block}\n"],encapsulation:2,data:{animation:[(0,s.X$)("overlayAnimation",[(0,s.eR)(":enter",[(0,s.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,s.jt)("{{showTransitionParams}}")]),(0,s.eR)(":leave",[(0,s.jt)("{{hideTransitionParams}}",(0,s.oB)({opacity:0}))])])]},changeDetection:0}),re})(),Qe=(()=>{class re{}return re.\u0275fac=function(Me){return new(Me||re)},re.\u0275mod=e.oAB({type:re}),re.\u0275inj=e.cJS({imports:[f.ez,F.Bz,L.z,F.Bz,L.z]}),re})()},4776:(Lt,qe,C)=>{C.d(qe,{JH:()=>be,iR:()=>we});var e=C(9808),s=C(5e3),f=C(2382),V=C(5730);const F=["sliderHandle"],I=["sliderHandleStart"],L=["sliderHandleEnd"],se=function(ye,G){return{left:ye,width:G}};function q(ye,G){if(1&ye&&s._UZ(0,"span",4),2&ye){const E=s.oxw();s.Q6J("ngStyle",s.WLB(1,se,null!=E.offset?E.offset+"%":E.handleValues[0]+"%",E.diff?E.diff+"%":E.handleValues[1]-E.handleValues[0]+"%"))}}const z=function(ye,G){return{bottom:ye,height:G}};function he(ye,G){if(1&ye&&s._UZ(0,"span",4),2&ye){const E=s.oxw();s.Q6J("ngStyle",s.WLB(1,z,null!=E.offset?E.offset+"%":E.handleValues[0]+"%",E.diff?E.diff+"%":E.handleValues[1]-E.handleValues[0]+"%"))}}const ne=function(ye){return{height:ye}};function De(ye,G){if(1&ye&&s._UZ(0,"span",4),2&ye){const E=s.oxw();s.Q6J("ngStyle",s.VKq(1,ne,E.handleValue+"%"))}}const ue=function(ye){return{width:ye}};function ge(ye,G){if(1&ye&&s._UZ(0,"span",4),2&ye){const E=s.oxw();s.Q6J("ngStyle",s.VKq(1,ue,E.handleValue+"%"))}}const pe=function(ye,G){return{left:ye,bottom:G}};function ke(ye,G){if(1&ye){const E=s.EpF();s.TgZ(0,"span",5,6),s.NdJ("keydown",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onHandleKeydown($))})("mousedown",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onMouseDown($))})("touchstart",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchStart($))})("touchmove",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchMove($))})("touchend",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchEnd($))}),s.qZA()}if(2&ye){const E=s.oxw();s.Udp("transition",E.dragging?"none":null),s.Q6J("ngStyle",s.WLB(8,pe,"horizontal"==E.orientation?E.handleValue+"%":null,"vertical"==E.orientation?E.handleValue+"%":null)),s.uIk("tabindex",E.disabled?null:E.tabindex)("aria-valuemin",E.min)("aria-valuenow",E.value)("aria-valuemax",E.max)("aria-labelledby",E.ariaLabelledBy)}}const Q=function(ye){return{"p-slider-handle-active":ye}};function Oe(ye,G){if(1&ye){const E=s.EpF();s.TgZ(0,"span",7,8),s.NdJ("keydown",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onHandleKeydown($,0))})("mousedown",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onMouseDown($,0))})("touchstart",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchStart($,0))})("touchmove",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchMove($,0))})("touchend",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchEnd($))}),s.qZA()}if(2&ye){const E=s.oxw();s.Udp("transition",E.dragging?"none":null),s.Q6J("ngStyle",s.WLB(9,pe,E.rangeStartLeft,E.rangeStartBottom))("ngClass",s.VKq(12,Q,0==E.handleIndex)),s.uIk("tabindex",E.disabled?null:E.tabindex)("aria-valuemin",E.min)("aria-valuenow",E.value?E.value[0]:null)("aria-valuemax",E.max)("aria-labelledby",E.ariaLabelledBy)}}function le(ye,G){if(1&ye){const E=s.EpF();s.TgZ(0,"span",7,9),s.NdJ("keydown",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onHandleKeydown($,1))})("mousedown",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onMouseDown($,1))})("touchstart",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchStart($,1))})("touchmove",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchMove($,1))})("touchend",function($){s.CHM(E);const Ae=s.oxw();return s.KtG(Ae.onTouchEnd($))}),s.qZA()}if(2&ye){const E=s.oxw();s.Udp("transition",E.dragging?"none":null),s.Q6J("ngStyle",s.WLB(9,pe,E.rangeEndLeft,E.rangeEndBottom))("ngClass",s.VKq(12,Q,1==E.handleIndex)),s.uIk("tabindex",E.disabled?null:E.tabindex)("aria-valuemin",E.min)("aria-valuenow",E.value?E.value[1]:null)("aria-valuemax",E.max)("aria-labelledby",E.ariaLabelledBy)}}const P=function(ye,G,E,U){return{"p-slider p-component":!0,"p-disabled":ye,"p-slider-horizontal":G,"p-slider-vertical":E,"p-slider-animate":U}},N={provide:f.JU,useExisting:(0,s.Gpc)(()=>we),multi:!0};let we=(()=>{class ye{constructor(E,U,$,Ae){this.el=E,this.renderer=U,this.ngZone=$,this.cd=Ae,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new s.vpe,this.onSlideEnd=new s.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(E,U){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:U,this.bindDragListeners(),E.target.focus(),E.preventDefault(),this.animate&&V.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(E,U){if(!this.disabled){var $=E.changedTouches[0];this.startHandleValue=this.range?this.handleValues[U]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:U,"horizontal"===this.orientation?(this.startx=parseInt($.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt($.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&V.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),E.preventDefault()}}onTouchMove(E,U){if(!this.disabled){var Ae,$=E.changedTouches[0];Ae="horizontal"===this.orientation?Math.floor(100*(parseInt($.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt($.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(E,Ae),E.preventDefault()}}onTouchEnd(E,U){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:E,values:this.values}:{originalEvent:E,value:this.value}),this.animate&&V.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),E.preventDefault())}onBarClick(E){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(E)),this.sliderHandleClick=!1)}onHandleKeydown(E,U){this.disabled||(38==E.which||39==E.which?this.spin(E,1,U):(37==E.which||40==E.which)&&this.spin(E,-1,U))}spin(E,U,$){let Ae=(this.step||1)*U;this.range?(this.handleIndex=$,this.updateValue(this.values[this.handleIndex]+Ae),this.updateHandleValue()):(this.updateValue(this.value+Ae),this.updateHandleValue()),E.preventDefault()}handleChange(E){let U=this.calculateHandleValue(E);this.setValueFromHandle(E,U)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const E=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(E,"mousemove",U=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(U)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(E,"mouseup",U=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:U,values:this.values}:{originalEvent:U,value:this.value}),this.animate&&V.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(E,U){this.sliderHandleClick=!1;let $=this.getValueFromHandle(U);this.range?this.step?this.handleStepChange($,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=U,this.updateValue($,E)):this.step?this.handleStepChange($,this.value):(this.handleValue=U,this.updateValue($,E)),this.cd.markForCheck()}handleStepChange(E,U){let $=E-U,Ae=U;$<0?Ae=U+Math.ceil(E/this.step-U/this.step)*this.step:$>0&&(Ae=U+Math.floor(E/this.step-U/this.step)*this.step),this.updateValue(Ae),this.updateHandleValue()}writeValue(E){this.range?this.values=E||[0,0]:this.value=E||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(E){this.onModelChange=E}registerOnTouched(E){this.onModelTouched=E}setDisabledState(E){this.disabled=E,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let E=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=E.left+V.p.getWindowScrollLeft(),this.initY=E.top+V.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(E){return"horizontal"===this.orientation?100*(E.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-E.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(E,U){if(this.range){let $=E;0==this.handleIndex?($<this.min?($=this.min,this.handleValues[0]=0):$>this.values[1]&&$>this.max&&($=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):($>this.max?($=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):$<this.min?($=this.min,this.handleValues[1]=0):$<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue($),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:U,values:this.values})}else E<this.min?(E=this.min,this.handleValue=0):E>this.max&&(E=this.max,this.handleValue=100),this.value=this.getNormalizedValue(E),this.onModelChange(this.value),this.onChange.emit({event:U,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(E){return E/100*(this.max-this.min)+this.min}getDecimalsCount(E){return E&&Math.floor(E)!==E&&E.toString().split(".")[1].length||0}getNormalizedValue(E){let U=this.getDecimalsCount(this.step);return U>0?+parseFloat(E.toString()).toFixed(U):Math.floor(E)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return ye.\u0275fac=function(E){return new(E||ye)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(s.sBO))},ye.\u0275cmp=s.Xpm({type:ye,selectors:[["p-slider"]],viewQuery:function(E,U){if(1&E&&(s.Gf(F,5),s.Gf(I,5),s.Gf(L,5)),2&E){let $;s.iGM($=s.CRH())&&(U.sliderHandle=$.first),s.iGM($=s.CRH())&&(U.sliderHandleStart=$.first),s.iGM($=s.CRH())&&(U.sliderHandleEnd=$.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[s._Bn([N])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(E,U){1&E&&(s.TgZ(0,"div",0),s.NdJ("click",function(Ae){return U.onBarClick(Ae)}),s.YNc(1,q,1,4,"span",1),s.YNc(2,he,1,4,"span",1),s.YNc(3,De,1,3,"span",1),s.YNc(4,ge,1,3,"span",1),s.YNc(5,ke,2,11,"span",2),s.YNc(6,Oe,2,14,"span",3),s.YNc(7,le,2,14,"span",3),s.qZA()),2&E&&(s.Tol(U.styleClass),s.Q6J("ngStyle",U.style)("ngClass",s.l5B(11,P,U.disabled,"horizontal"==U.orientation,"vertical"==U.orientation,U.animate)),s.xp6(1),s.Q6J("ngIf",U.range&&"horizontal"==U.orientation),s.xp6(1),s.Q6J("ngIf",U.range&&"vertical"==U.orientation),s.xp6(1),s.Q6J("ngIf",!U.range&&"vertical"==U.orientation),s.xp6(1),s.Q6J("ngIf",!U.range&&"horizontal"==U.orientation),s.xp6(1),s.Q6J("ngIf",!U.range),s.xp6(1),s.Q6J("ngIf",U.range),s.xp6(1),s.Q6J("ngIf",U.range))},dependencies:[e.mk,e.O5,e.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),ye})(),be=(()=>{class ye{}return ye.\u0275fac=function(E){return new(E||ye)},ye.\u0275mod=s.oAB({type:ye}),ye.\u0275inj=s.cJS({imports:[e.ez]}),ye})()},9955:(Lt,qe,C)=>{C.d(qe,{l:()=>Me});var e=C(5e3),s=C(9808),f=C(845),V=C(3470),F=C(5787),I=C(4119);let ut=(()=>{class Fe{}return Fe.\u0275fac=function(R){return new(R||Fe)},Fe.\u0275mod=e.oAB({type:Fe}),Fe.\u0275inj=e.cJS({imports:[s.ez,V.Bz,F.T,I.z,V.Bz,I.z]}),Fe})(),Me=(()=>{class Fe{}return Fe.\u0275fac=function(R){return new(R||Fe)},Fe.\u0275mod=e.oAB({type:Fe}),Fe.\u0275inj=e.cJS({imports:[s.ez,f.hJ,ut,f.hJ,ut]}),Fe})()},8952:(Lt,qe,C)=>{C.d(qe,{YL:()=>Do,Wq:()=>Ho,iA:()=>jo,U$:()=>$o});var e=C(9808),s=C(5e3),f=C(2382),V=C(9783),F=C(845),I=C(5652),L=C(5730),se=C(4036),q=C(7010),z=C(1424),he=C(4132),ne=C(5871),De=C(7102);const ue=function(Ye,vt,S){return{"p-checkbox-label-active":Ye,"p-disabled":vt,"p-checkbox-label-focus":S}};function ge(Ye,vt){if(1&Ye){const S=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(Ue){s.CHM(S);const st=s.oxw(),Yt=s.MAs(3);return s.KtG(st.onClick(Ue,Yt))}),s._uU(1),s.qZA()}if(2&Ye){const S=s.oxw();s.Q6J("ngClass",s.kEZ(3,ue,null!=S.value,S.disabled,S.focused)),s.uIk("for",S.inputId),s.xp6(1),s.Oqu(S.label)}}const pe=function(Ye,vt){return{"p-checkbox p-component":!0,"p-checkbox-disabled":Ye,"p-checkbox-focused":vt}},ke=function(Ye,vt,S){return{"p-highlight":Ye,"p-disabled":vt,"p-focus":S}},Q={provide:f.JU,useExisting:(0,s.Gpc)(()=>Oe),multi:!0};let Oe=(()=>{class Ye{constructor(S){this.cd=S,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(S,me){!this.disabled&&!this.readonly&&(this.toggle(S),this.focused=!0,me.focus())}onKeydown(S){32==S.keyCode&&S.preventDefault()}onKeyup(S){32==S.keyCode&&!this.readonly&&(this.toggle(S),S.preventDefault())}toggle(S){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:S,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(S){this.onModelChange=S}registerOnTouched(S){this.onModelTouched=S}writeValue(S){this.value=S,this.cd.markForCheck()}setDisabledState(S){this.disabled=S,this.cd.markForCheck()}}return Ye.\u0275fac=function(S){return new(S||Ye)(s.Y36(s.sBO))},Ye.\u0275cmp=s.Xpm({type:Ye,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([Q])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(S,me){if(1&S){const Ue=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(Yt){return me.onKeyup(Yt)})("keydown",function(Yt){return me.onKeydown(Yt)})("focus",function(){return me.onFocus()})("blur",function(){return me.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(Yt){s.CHM(Ue);const gn=s.MAs(3);return s.KtG(me.onClick(Yt,gn))}),s._UZ(5,"span",5),s.qZA()(),s.YNc(6,ge,2,7,"label",6)}2&S&&(s.Tol(me.styleClass),s.Q6J("ngStyle",me.style)("ngClass",s.WLB(14,pe,me.disabled,me.focused)),s.xp6(2),s.Q6J("name",me.name)("readonly",me.readonly)("disabled",me.disabled),s.uIk("id",me.inputId)("tabindex",me.tabindex)("aria-labelledby",me.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,ke,null!=me.value,me.disabled,me.focused)),s.uIk("aria-checked",!0===me.value),s.xp6(1),s.Q6J("ngClass",!0===me.value?me.checkboxTrueIcon:!1===me.value?me.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",me.label))},dependencies:[e.mk,e.O5,e.PC],encapsulation:2,changeDetection:0}),Ye})(),le=(()=>{class Ye{}return Ye.\u0275fac=function(S){return new(S||Ye)},Ye.\u0275mod=s.oAB({type:Ye}),Ye.\u0275inj=s.cJS({imports:[e.ez]}),Ye})();var P=C(5921),N=C(7579);const we=["container"],be=["resizeHelper"],ye=["reorderIndicatorUp"],G=["reorderIndicatorDown"],E=["wrapper"],U=["table"],$=["thead"],Ae=["tfoot"],Ne=["scroller"];function He(Ye,vt){if(1&Ye&&(s.TgZ(0,"div",15),s._UZ(1,"i"),s.qZA()),2&Ye){const S=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+S.loadingIcon)}}function Re(Ye,vt){1&Ye&&s.GkF(0)}function gt(Ye,vt){if(1&Ye&&(s.TgZ(0,"div",16),s.YNc(1,Re,1,0,"ng-container",17),s.qZA()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",S.captionTemplate)}}function ut(Ye,vt){if(1&Ye){const S=s.EpF();s.TgZ(0,"p-paginator",18),s.NdJ("onPageChange",function(Ue){s.CHM(S);const st=s.oxw();return s.KtG(st.onPageChange(Ue))}),s.qZA()}if(2&Ye){const S=s.oxw();s.Q6J("rows",S.rows)("first",S.first)("totalRecords",S.totalRecords)("pageLinkSize",S.pageLinks)("alwaysShow",S.alwaysShowPaginator)("rowsPerPageOptions",S.rowsPerPageOptions)("templateLeft",S.paginatorLeftTemplate)("templateRight",S.paginatorRightTemplate)("dropdownAppendTo",S.paginatorDropdownAppendTo)("dropdownScrollHeight",S.paginatorDropdownScrollHeight)("currentPageReportTemplate",S.currentPageReportTemplate)("showFirstLastIcon",S.showFirstLastIcon)("dropdownItemTemplate",S.paginatorDropdownItemTemplate)("showCurrentPageReport",S.showCurrentPageReport)("showJumpToPageDropdown",S.showJumpToPageDropdown)("showJumpToPageInput",S.showJumpToPageInput)("showPageLinks",S.showPageLinks)}}function Pe(Ye,vt){1&Ye&&s.GkF(0)}const We=function(Ye,vt){return{$implicit:Ye,options:vt}};function J(Ye,vt){if(1&Ye&&s.YNc(0,Pe,1,0,"ng-container",22),2&Ye){const S=vt.$implicit,me=vt.options;s.oxw(2);const Ue=s.MAs(10);s.Q6J("ngTemplateOutlet",Ue)("ngTemplateOutletContext",s.WLB(2,We,S,me))}}const de=function(Ye){return{height:Ye}};function Qe(Ye,vt){if(1&Ye){const S=s.EpF();s.TgZ(0,"p-scroller",19,20),s.NdJ("onLazyLoad",function(Ue){s.CHM(S);const st=s.oxw();return s.KtG(st.onLazyItemLoad(Ue))}),s.YNc(2,J,1,5,"ng-template",21),s.qZA()}if(2&Ye){const S=s.oxw();s.Akn(s.VKq(14,de,"flex"!==S.scrollHeight?S.scrollHeight:void 0)),s.Q6J("items",S.processedData)("columns",S.columns)("scrollHeight","flex"!==S.scrollHeight?void 0:"100%")("itemSize",S.virtualScrollItemSize||S._virtualRowHeight)("step",S.rows)("delay",S.lazy?S.virtualScrollDelay:0)("inline",!0)("lazy",S.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",S.loadingBodyTemplate)("options",S.virtualScrollOptions)}}function re(Ye,vt){1&Ye&&s.GkF(0)}const Ve=function(Ye){return{columns:Ye}};function Me(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,re,1,0,"ng-container",22),s.BQk()),2&Ye){const S=s.oxw(),me=s.MAs(10);s.xp6(1),s.Q6J("ngTemplateOutlet",me)("ngTemplateOutletContext",s.WLB(4,We,S.processedData,s.VKq(2,Ve,S.columns)))}}function Fe(Ye,vt){1&Ye&&s.GkF(0)}function $e(Ye,vt){1&Ye&&s.GkF(0)}function R(Ye,vt){if(1&Ye&&s._UZ(0,"tbody",31),2&Ye){const S=s.oxw().options,me=s.oxw();s.Q6J("value",me.frozenValue)("frozenRows",!0)("pTableBody",S.columns)("pTableBodyTemplate",me.frozenBodyTemplate)("frozen",!0)}}function it(Ye,vt){if(1&Ye&&s._UZ(0,"tbody",32),2&Ye){const S=s.oxw().options;s.Akn("height: calc("+S.spacerStyle.height+" - "+S.rows.length*S.itemSize+"px);")}}function Le(Ye,vt){1&Ye&&s.GkF(0)}const Et=function(Ye){return{$implicit:Ye}};function un(Ye,vt){if(1&Ye&&(s.TgZ(0,"tfoot",33,34),s.YNc(2,Le,1,0,"ng-container",22),s.qZA()),2&Ye){const S=s.oxw().options,me=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",me.footerGroupedTemplate||me.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Et,S.columns))}}const Cn=function(Ye,vt,S){return{"p-datatable-table":!0,"p-datatable-scrollable-table":Ye,"p-datatable-resizable-table":vt,"p-datatable-resizable-table-fit":S}};function Ot(Ye,vt){if(1&Ye&&(s.TgZ(0,"table",23,24),s.YNc(2,Fe,1,0,"ng-container",22),s.TgZ(3,"thead",25,26),s.YNc(5,$e,1,0,"ng-container",22),s.qZA(),s.YNc(6,R,1,5,"tbody",27),s._UZ(7,"tbody",28),s.YNc(8,it,1,2,"tbody",29),s.YNc(9,un,3,4,"tfoot",30),s.qZA()),2&Ye){const S=vt.options,me=s.oxw();s.Akn(me.tableStyle),s.Tol(me.tableStyleClass),s.Q6J("ngClass",s.kEZ(20,Cn,me.scrollable,me.resizableColumns,me.resizableColumns&&"fit"===me.columnResizeMode)),s.uIk("id",me.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",me.colGroupTemplate)("ngTemplateOutletContext",s.VKq(24,Et,S.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",me.headerGroupedTemplate||me.headerTemplate)("ngTemplateOutletContext",s.VKq(26,Et,S.columns)),s.xp6(1),s.Q6J("ngIf",me.frozenValue||me.frozenBodyTemplate),s.xp6(1),s.Akn(S.contentStyle),s.Q6J("ngClass",S.contentStyleClass)("value",me.dataToRender(S.rows))("pTableBody",S.columns)("pTableBodyTemplate",me.bodyTemplate)("scrollerOptions",S),s.xp6(1),s.Q6J("ngIf",S.spacerStyle),s.xp6(1),s.Q6J("ngIf",me.footerGroupedTemplate||me.footerTemplate)}}function en(Ye,vt){if(1&Ye){const S=s.EpF();s.TgZ(0,"p-paginator",35),s.NdJ("onPageChange",function(Ue){s.CHM(S);const st=s.oxw();return s.KtG(st.onPageChange(Ue))}),s.qZA()}if(2&Ye){const S=s.oxw();s.Q6J("rows",S.rows)("first",S.first)("totalRecords",S.totalRecords)("pageLinkSize",S.pageLinks)("alwaysShow",S.alwaysShowPaginator)("rowsPerPageOptions",S.rowsPerPageOptions)("templateLeft",S.paginatorLeftTemplate)("templateRight",S.paginatorRightTemplate)("dropdownAppendTo",S.paginatorDropdownAppendTo)("dropdownScrollHeight",S.paginatorDropdownScrollHeight)("currentPageReportTemplate",S.currentPageReportTemplate)("showFirstLastIcon",S.showFirstLastIcon)("dropdownItemTemplate",S.paginatorDropdownItemTemplate)("showCurrentPageReport",S.showCurrentPageReport)("showJumpToPageDropdown",S.showJumpToPageDropdown)("showJumpToPageInput",S.showJumpToPageInput)("showPageLinks",S.showPageLinks)}}function at(Ye,vt){1&Ye&&s.GkF(0)}function Pt(Ye,vt){if(1&Ye&&(s.TgZ(0,"div",36),s.YNc(1,at,1,0,"ng-container",17),s.qZA()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",S.summaryTemplate)}}function Bt(Ye,vt){1&Ye&&s._UZ(0,"div",37,38)}function tn(Ye,vt){1&Ye&&s._UZ(0,"span",39,40)}function ft(Ye,vt){1&Ye&&s._UZ(0,"span",41,42)}const ei=function(Ye,vt,S){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":Ye,"p-datatable-scrollable":vt,"p-datatable-flex-scrollable":S}},qn=function(Ye){return{maxHeight:Ye}},Ht=["pTableBody",""];function mt(Ye,vt){1&Ye&&s.GkF(0)}const Ze=function(Ye,vt,S,me,Ue){return{$implicit:Ye,rowIndex:vt,columns:S,editing:me,frozen:Ue}};function It(Ye,vt){if(1&Ye&&(s.ynx(0,3),s.YNc(1,mt,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw(),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",st.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,Ze,me,st.getRowIndex(Ue),st.columns,"row"===st.dt.editMode&&st.dt.isRowEditing(me),st.frozen))}}function M(Ye,vt){1&Ye&&s.GkF(0)}function _e(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,M,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw(),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",me?st.template:st.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,Ze,me,st.getRowIndex(Ue),st.columns,"row"===st.dt.editMode&&st.dt.isRowEditing(me),st.frozen))}}function Ie(Ye,vt){1&Ye&&s.GkF(0)}const Xe=function(Ye,vt,S,me,Ue,st,Yt){return{$implicit:Ye,rowIndex:vt,columns:S,editing:me,frozen:Ue,rowgroup:st,rowspan:Yt}};function Rt(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,Ie,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw(),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",me?st.template:st.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.Hh0(2,Xe,me,st.getRowIndex(Ue),st.columns,"row"===st.dt.editMode&&st.dt.isRowEditing(me),st.frozen,st.shouldRenderRowspan(st.value,me,Ue),st.calculateRowGroupSize(st.value,me,Ue)))}}function Qt(Ye,vt){1&Ye&&s.GkF(0)}function nn(Ye,vt){if(1&Ye&&(s.ynx(0,3),s.YNc(1,Qt,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw(),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",st.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,Ze,me,st.getRowIndex(Ue),st.columns,"row"===st.dt.editMode&&st.dt.isRowEditing(me),st.frozen))}}function nt(Ye,vt){if(1&Ye&&(s.YNc(0,It,2,8,"ng-container",2),s.YNc(1,_e,2,8,"ng-container",0),s.YNc(2,Rt,2,10,"ng-container",0),s.YNc(3,nn,2,8,"ng-container",2)),2&Ye){const S=vt.$implicit,me=vt.index,Ue=s.oxw(2);s.Q6J("ngIf",Ue.dt.groupHeaderTemplate&&!Ue.dt.virtualScroll&&"subheader"===Ue.dt.rowGroupMode&&Ue.shouldRenderRowGroupHeader(Ue.value,S,me)),s.xp6(1),s.Q6J("ngIf","rowspan"!==Ue.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===Ue.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",Ue.dt.groupFooterTemplate&&!Ue.dt.virtualScroll&&"subheader"===Ue.dt.rowGroupMode&&Ue.shouldRenderRowGroupFooter(Ue.value,S,me))}}function xt(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,nt,4,4,"ng-template",1),s.BQk()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngForOf",S.value)("ngForTrackBy",S.dt.rowTrackBy)}}function ee(Ye,vt){1&Ye&&s.GkF(0)}const ze=function(Ye,vt,S,me,Ue,st){return{$implicit:Ye,rowIndex:vt,columns:S,expanded:me,editing:Ue,frozen:st}};function dt(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,ee,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw(),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",st.template)("ngTemplateOutletContext",s.HTZ(2,ze,me,st.getRowIndex(Ue),st.columns,st.dt.isRowExpanded(me),"row"===st.dt.editMode&&st.dt.isRowEditing(me),st.frozen))}}function bt(Ye,vt){1&Ye&&s.GkF(0)}function sn(Ye,vt){if(1&Ye&&(s.ynx(0,3),s.YNc(1,bt,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw(),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",st.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,ze,me,st.getRowIndex(Ue),st.columns,st.dt.isRowExpanded(me),"row"===st.dt.editMode&&st.dt.isRowEditing(me),st.frozen))}}function ni(Ye,vt){1&Ye&&s.GkF(0)}function Ui(Ye,vt){1&Ye&&s.GkF(0)}function kt(Ye,vt){if(1&Ye&&(s.ynx(0,3),s.YNc(1,Ui,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw(2),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",st.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,ze,me,st.getRowIndex(Ue),st.columns,st.dt.isRowExpanded(me),"row"===st.dt.editMode&&st.dt.isRowEditing(me),st.frozen))}}const an=function(Ye,vt,S,me){return{$implicit:Ye,rowIndex:vt,columns:S,frozen:me}};function tt(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,ni,1,0,"ng-container",4),s.YNc(2,kt,2,9,"ng-container",2),s.BQk()),2&Ye){const S=s.oxw(),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",st.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,an,me,st.getRowIndex(Ue),st.columns,st.frozen)),s.xp6(1),s.Q6J("ngIf",st.dt.groupFooterTemplate&&"subheader"===st.dt.rowGroupMode&&st.shouldRenderRowGroupFooter(st.value,me,st.getRowIndex(Ue)))}}function At(Ye,vt){if(1&Ye&&(s.YNc(0,dt,2,9,"ng-container",0),s.YNc(1,sn,2,9,"ng-container",2),s.YNc(2,tt,3,8,"ng-container",0)),2&Ye){const S=vt.$implicit,me=vt.index,Ue=s.oxw(2);s.Q6J("ngIf",!Ue.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",Ue.dt.groupHeaderTemplate&&"subheader"===Ue.dt.rowGroupMode&&Ue.shouldRenderRowGroupHeader(Ue.value,S,Ue.getRowIndex(me))),s.xp6(1),s.Q6J("ngIf",Ue.dt.isRowExpanded(S))}}function qt(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,At,3,3,"ng-template",1),s.BQk()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngForOf",S.value)("ngForTrackBy",S.dt.rowTrackBy)}}function Kt(Ye,vt){1&Ye&&s.GkF(0)}function vn(Ye,vt){1&Ye&&s.GkF(0)}function Rn(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,vn,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw(),me=S.$implicit,Ue=S.index,st=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",st.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,an,me,st.getRowIndex(Ue),st.columns,st.frozen))}}function pi(Ye,vt){if(1&Ye&&(s.YNc(0,Kt,1,0,"ng-container",4),s.YNc(1,Rn,2,7,"ng-container",0)),2&Ye){const S=vt.$implicit,me=vt.index,Ue=s.oxw(2);s.Q6J("ngTemplateOutlet",Ue.template)("ngTemplateOutletContext",s.HTZ(3,ze,S,Ue.getRowIndex(me),Ue.columns,Ue.dt.isRowExpanded(S),"row"===Ue.dt.editMode&&Ue.dt.isRowEditing(S),Ue.frozen)),s.xp6(1),s.Q6J("ngIf",Ue.dt.isRowExpanded(S))}}function Ai(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,pi,2,10,"ng-template",1),s.BQk()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngForOf",S.value)("ngForTrackBy",S.dt.rowTrackBy)}}function Ki(Ye,vt){1&Ye&&s.GkF(0)}const Ke=function(Ye,vt){return{$implicit:Ye,frozen:vt}};function ie(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,Ki,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",S.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,Ke,S.columns,S.frozen))}}function B(Ye,vt){1&Ye&&s.GkF(0)}function oe(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,B,1,0,"ng-container",4),s.BQk()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",S.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,Ke,S.columns,S.frozen))}}function Dt(Ye,vt){1&Ye&&s.GkF(0)}function St(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,Dt,1,0,"ng-container",1),s.BQk()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",S.inputTemplate)}}function Vt(Ye,vt){1&Ye&&s.GkF(0)}function ln(Ye,vt){if(1&Ye&&(s.ynx(0),s.YNc(1,Vt,1,0,"ng-container",1),s.BQk()),2&Ye){const S=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",S.outputTemplate)}}let cs=(()=>{class Ye{constructor(){this.sortSource=new N.x,this.selectionSource=new N.x,this.contextMenuSource=new N.x,this.valueSource=new N.x,this.totalRecordsSource=new N.x,this.columnsSource=new N.x,this.resetSource=new N.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(S){this.sortSource.next(S)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(S){this.contextMenuSource.next(S)}onValueChange(S){this.valueSource.next(S)}onTotalRecordsChange(S){this.totalRecordsSource.next(S)}onColumnsChange(S){this.columnsSource.next(S)}}return Ye.\u0275fac=function(S){return new(S||Ye)},Ye.\u0275prov=s.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),jo=(()=>{class Ye{constructor(S,me,Ue,st,Yt,gn){this.el=S,this.zone=me,this.tableService=Ue,this.cd=st,this.filterService=Yt,this.overlayService=gn,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(_n,Gn)=>Gn,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="scroll",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=(0,P.Th)()}get responsive(){return this._responsive}set responsive(S){this._responsive=S,console.warn("responsive propery is deprecated as table is always responsive with scrollable behavior.")}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(S){this._virtualRowHeight=S,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(S=>{switch(S.getType()){case"caption":this.captionTemplate=S.template;break;case"header":this.headerTemplate=S.template;break;case"headergrouped":this.headerGroupedTemplate=S.template;break;case"body":this.bodyTemplate=S.template;break;case"loadingbody":this.loadingBodyTemplate=S.template;break;case"footer":this.footerTemplate=S.template;break;case"footergrouped":this.footerGroupedTemplate=S.template;break;case"summary":this.summaryTemplate=S.template;break;case"colgroup":this.colGroupTemplate=S.template;break;case"rowexpansion":this.expandedRowTemplate=S.template;break;case"groupheader":this.groupHeaderTemplate=S.template;break;case"rowspan":this.rowspanTemplate=S.template;break;case"groupfooter":this.groupFooterTemplate=S.template;break;case"frozenrows":this.frozenRowsTemplate=S.template;break;case"frozenheader":this.frozenHeaderTemplate=S.template;break;case"frozenbody":this.frozenBodyTemplate=S.template;break;case"frozenfooter":this.frozenFooterTemplate=S.template;break;case"frozencolgroup":this.frozenColGroupTemplate=S.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=S.template;break;case"emptymessage":this.emptyMessageTemplate=S.template;break;case"paginatorleft":this.paginatorLeftTemplate=S.template;break;case"paginatorright":this.paginatorRightTemplate=S.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=S.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(S){S.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=S.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(S.value.currentValue)),S.columns&&(this._columns=S.columns.currentValue,this.tableService.onColumnsChange(S.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),S.sortField&&(this._sortField=S.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),S.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),S.sortOrder&&(this._sortOrder=S.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),S.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),S.multiSortMeta&&(this._multiSortMeta=S.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),S.selection&&(this._selection=S.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),S.selectAll&&(this._selectAll=S.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(S){this._value=S}get columns(){return this._columns}set columns(S){this._columns=S}get first(){return this._first}set first(S){this._first=S}get rows(){return this._rows}set rows(S){this._rows=S}get totalRecords(){return this._totalRecords}set totalRecords(S){this._totalRecords=S,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(S){this._sortField=S}get sortOrder(){return this._sortOrder}set sortOrder(S){this._sortOrder=S}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(S){this._multiSortMeta=S}get selection(){return this._selection}set selection(S){this._selection=S}get selectAll(){return this._selection}set selectAll(S){this._selection=S}get processedData(){return this.filteredValue||this.value||[]}dataToRender(S){const me=S||this.processedData;if(me&&this.paginator){const Ue=this.lazy?0:this.first;return me.slice(Ue,Ue+this.rows)}return me}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let S of this._selection)this.selectionKeys[String(P.gb.resolveFieldData(S,this.dataKey))]=1;else this.selectionKeys[String(P.gb.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(S){this.first=S.first,this.rows=S.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(S){let me=S.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===S.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=S.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let Ue=me.metaKey||me.ctrlKey,st=this.getSortMeta(S.field);st?Ue?st.order=-1*st.order:(this._multiSortMeta=[{field:S.field,order:-1*st.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!Ue||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:S.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let S=this.sortField||this.groupRowsBy,me=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(S&&me){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:S,order:me}):(this.value.sort((st,Yt)=>{let gn=P.gb.resolveFieldData(st,S),_n=P.gb.resolveFieldData(Yt,S),Gn=null;return Gn=null==gn&&null!=_n?-1:null!=gn&&null==_n?1:null==gn&&null==_n?0:"string"==typeof gn&&"string"==typeof _n?gn.localeCompare(_n):gn<_n?-1:gn>_n?1:0,me*Gn}),this._value=[...this.value]),this.hasFilter()&&this._filter());let Ue={field:S,order:me};this.onSort.emit(Ue),this.tableService.onSort(Ue)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((S,me)=>this.multisortField(S,me,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(S,me,Ue,st){const Yt=P.gb.resolveFieldData(S,Ue[st].field),gn=P.gb.resolveFieldData(me,Ue[st].field);return 0===P.gb.compare(Yt,gn,this.filterLocale)?Ue.length-1>st?this.multisortField(S,me,Ue,st+1):0:this.compareValuesOnSort(Yt,gn,Ue[st].order)}compareValuesOnSort(S,me,Ue){return P.gb.sort(S,me,Ue,this.filterLocale,this.sortOrder)}getSortMeta(S){if(this.multiSortMeta&&this.multiSortMeta.length)for(let me=0;me<this.multiSortMeta.length;me++)if(this.multiSortMeta[me].field===S)return this.multiSortMeta[me];return null}isSorted(S){if("single"===this.sortMode)return this.sortField&&this.sortField===S;if("multiple"===this.sortMode){let me=!1;if(this.multiSortMeta)for(let Ue=0;Ue<this.multiSortMeta.length;Ue++)if(this.multiSortMeta[Ue].field==S){me=!0;break}return me}}handleRowClick(S){let me=S.originalEvent.target,Ue=me.nodeName,st=me.parentElement&&me.parentElement.nodeName;if("INPUT"!=Ue&&"BUTTON"!=Ue&&"A"!=Ue&&"INPUT"!=st&&"BUTTON"!=st&&"A"!=st&&!L.p.hasClass(S.originalEvent.target,"p-clickable")){if(this.selectionMode){let Yt=S.rowData,gn=S.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&S.originalEvent.shiftKey&&null!=this.anchorRowIndex)L.p.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(S.originalEvent),this.rangeRowIndex=gn,this.selectRange(S.originalEvent,gn);else{let _n=this.isSelected(Yt);if(!_n&&!this.isRowSelectable(Yt,gn))return;let Gn=!this.rowTouched&&this.metaKeySelection,si=this.dataKey?String(P.gb.resolveFieldData(Yt,this.dataKey)):null;if(this.anchorRowIndex=gn,this.rangeRowIndex=gn,Gn){let yi=S.originalEvent.metaKey||S.originalEvent.ctrlKey;if(_n&&yi){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let Dn=this.findIndexInSelection(Yt);this._selection=this.selection.filter((ss,Zo)=>Zo!=Dn),this.selectionChange.emit(this.selection),si&&delete this.selectionKeys[si]}this.onRowUnselect.emit({originalEvent:S.originalEvent,data:Yt,type:"row"})}else this.isSingleSelectionMode()?(this._selection=Yt,this.selectionChange.emit(Yt),si&&(this.selectionKeys={},this.selectionKeys[si]=1)):this.isMultipleSelectionMode()&&(yi?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,Yt],this.selectionChange.emit(this.selection),si&&(this.selectionKeys[si]=1)),this.onRowSelect.emit({originalEvent:S.originalEvent,data:Yt,type:"row",index:gn})}else if("single"===this.selectionMode)_n?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:S.originalEvent,data:Yt,type:"row",index:gn})):(this._selection=Yt,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:S.originalEvent,data:Yt,type:"row",index:gn}),si&&(this.selectionKeys={},this.selectionKeys[si]=1));else if("multiple"===this.selectionMode)if(_n){let yi=this.findIndexInSelection(Yt);this._selection=this.selection.filter((Dn,ss)=>ss!=yi),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:S.originalEvent,data:Yt,type:"row",index:gn}),si&&delete this.selectionKeys[si]}else this._selection=this.selection?[...this.selection,Yt]:[Yt],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:S.originalEvent,data:Yt,type:"row",index:gn}),si&&(this.selectionKeys[si]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(S){this.rowTouched=!0}handleRowRightClick(S){if(this.contextMenu){const me=S.rowData,Ue=S.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=me,this.contextMenuSelectionChange.emit(me),this.onContextMenuSelect.emit({originalEvent:S.originalEvent,data:me,index:S.rowIndex}),this.contextMenu.show(S.originalEvent),this.tableService.onContextMenu(me);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let st=this.isSelected(me),Yt=this.dataKey?String(P.gb.resolveFieldData(me,this.dataKey)):null;if(!st){if(!this.isRowSelectable(me,Ue))return;this.isSingleSelectionMode()?(this.selection=me,this.selectionChange.emit(me),Yt&&(this.selectionKeys={},this.selectionKeys[Yt]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,me]:[me],this.selectionChange.emit(this.selection),Yt&&(this.selectionKeys[Yt]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(S.originalEvent),this.onContextMenuSelect.emit({originalEvent:S,data:me,index:S.rowIndex})}}}selectRange(S,me){let Ue,st;this.anchorRowIndex>me?(Ue=me,st=this.anchorRowIndex):this.anchorRowIndex<me?(Ue=this.anchorRowIndex,st=me):(Ue=me,st=me),this.lazy&&this.paginator&&(Ue-=this.first,st-=this.first);let Yt=[];for(let gn=Ue;gn<=st;gn++){let _n=this.filteredValue?this.filteredValue[gn]:this.value[gn];if(!this.isSelected(_n)){if(!this.isRowSelectable(_n,me))continue;Yt.push(_n),this._selection=[...this.selection,_n];let Gn=this.dataKey?String(P.gb.resolveFieldData(_n,this.dataKey)):null;Gn&&(this.selectionKeys[Gn]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:S,data:Yt,type:"row"})}clearSelectionRange(S){let me,Ue;this.rangeRowIndex>this.anchorRowIndex?(me=this.anchorRowIndex,Ue=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(me=this.rangeRowIndex,Ue=this.anchorRowIndex):(me=this.rangeRowIndex,Ue=this.rangeRowIndex);for(let st=me;st<=Ue;st++){let Yt=this.value[st],gn=this.findIndexInSelection(Yt);this._selection=this.selection.filter((Gn,si)=>si!=gn);let _n=this.dataKey?String(P.gb.resolveFieldData(Yt,this.dataKey)):null;_n&&delete this.selectionKeys[_n],this.onRowUnselect.emit({originalEvent:S,data:Yt,type:"row"})}}isSelected(S){return!(!S||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[P.gb.resolveFieldData(S,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(S)>-1:this.equals(S,this.selection))}findIndexInSelection(S){let me=-1;if(this.selection&&this.selection.length)for(let Ue=0;Ue<this.selection.length;Ue++)if(this.equals(S,this.selection[Ue])){me=Ue;break}return me}isRowSelectable(S,me){return!(this.rowSelectable&&!this.rowSelectable({data:S,index:me}))}toggleRowWithRadio(S,me){if(this.preventSelectionSetterPropagation=!0,this.selection!=me){if(!this.isRowSelectable(me,S.rowIndex))return;this._selection=me,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:S.originalEvent,index:S.rowIndex,data:me,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(P.gb.resolveFieldData(me,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:S.originalEvent,index:S.rowIndex,data:me,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(S,me){this.selection=this.selection||[];let Ue=this.isSelected(me),st=this.dataKey?String(P.gb.resolveFieldData(me,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,Ue){let Yt=this.findIndexInSelection(me);this._selection=this.selection.filter((gn,_n)=>_n!=Yt),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:S.originalEvent,index:S.rowIndex,data:me,type:"checkbox"}),st&&delete this.selectionKeys[st]}else{if(!this.isRowSelectable(me,S.rowIndex))return;this._selection=this.selection?[...this.selection,me]:[me],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:S.originalEvent,index:S.rowIndex,data:me,type:"checkbox"}),st&&(this.selectionKeys[st]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(S,me){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:S,checked:me});else{const Ue=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let st=this.selectionPageOnly&&this._selection?this._selection.filter(Yt=>!Ue.some(gn=>this.equals(Yt,gn))):[];me&&(st=this.frozenValue?[...st,...this.frozenValue,...Ue]:[...st,...Ue],st=this.rowSelectable?st.filter((Yt,gn)=>this.rowSelectable({data:Yt,index:gn})):st),this._selection=st,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:S,checked:me}),this.isStateful()&&this.saveState()}}equals(S,me){return"equals"===this.compareSelectionBy?S===me:P.gb.equals(S,me,this.dataKey)}filter(S,me,Ue){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(S)?this.filters[me]&&delete this.filters[me]:this.filters[me]={value:S,matchMode:Ue},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(S,me){this.filter(S,"global",me)}isFilterBlank(S){return null==S||"string"==typeof S&&0==S.trim().length||S instanceof Array&&0==S.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let S;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");S=this.globalFilterFields||this.columns}this.filteredValue=[];for(let me=0;me<this.value.length;me++){let gn,Ue=!0,st=!1,Yt=!1;for(let _n in this.filters)if(this.filters.hasOwnProperty(_n)&&"global"!==_n){Yt=!0;let Gn=_n,si=this.filters[Gn];if(Array.isArray(si)){for(let yi of si)if(Ue=this.executeLocalFilter(Gn,this.value[me],yi),yi.operator===V.pg.OR&&Ue||yi.operator===V.pg.AND&&!Ue)break}else Ue=this.executeLocalFilter(Gn,this.value[me],si);if(!Ue)break}if(this.filters.global&&!st&&S)for(let _n=0;_n<S.length&&(st=this.filterService.filters[this.filters.global.matchMode](P.gb.resolveFieldData(this.value[me],S[_n].field||S[_n]),this.filters.global.value,this.filterLocale),!st);_n++);gn=this.filters.global?Yt?Yt&&Ue&&st:st:Yt&&Ue,gn&&this.filteredValue.push(this.value[me])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(S,me,Ue){let st=Ue.value,Yt=Ue.matchMode||V.a6.STARTS_WITH,gn=P.gb.resolveFieldData(me,S);return(0,this.filterService.filters[Yt])(gn,st,this.filterLocale)}hasFilter(){let S=!0;for(let me in this.filters)if(this.filters.hasOwnProperty(me)){S=!1;break}return!S}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(S){return S[this.exportHeader]||S.header||S.field}exportCSV(S){let me,Ue="",st=this.columns;S&&S.selectionOnly?me=this.selection||[]:(me=this.filteredValue||this.value,this.frozenValue&&(me=me?[...this.frozenValue,...me]:this.frozenValue));for(let _n=0;_n<st.length;_n++){let Gn=st[_n];!1!==Gn.exportable&&Gn.field&&(Ue+='"'+this.getExportHeader(Gn)+'"',_n<st.length-1&&(Ue+=this.csvSeparator))}me.forEach((_n,Gn)=>{Ue+="\n";for(let si=0;si<st.length;si++){let yi=st[si];if(!1!==yi.exportable&&yi.field){let Dn=P.gb.resolveFieldData(_n,yi.field);Dn=null!=Dn?this.exportFunction?this.exportFunction({data:Dn,field:yi.field}):String(Dn).replace(/"/g,'""'):"",Ue+='"'+Dn+'"',si<st.length-1&&(Ue+=this.csvSeparator)}}});let Yt=new Blob([Ue],{type:"text/csv;charset=utf-8;"}),gn=document.createElement("a");gn.style.display="none",document.body.appendChild(gn),void 0!==gn.download?(gn.setAttribute("href",URL.createObjectURL(Yt)),gn.setAttribute("download",this.exportFilename+".csv"),gn.click()):(Ue="data:text/csv;charset=utf-8,"+Ue,window.open(encodeURI(Ue))),document.body.removeChild(gn)}onLazyItemLoad(S){this.onLazyLoad.emit(Object.assign(Object.assign(Object.assign({},this.createLazyLoadMetadata()),S),{rows:S.last-S.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(S){this.virtualScroll&&this.scroller.scrollToIndex(S)}scrollTo(S){this.virtualScroll?this.scroller.scrollTo(S):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(S):(this.wrapperViewChild.nativeElement.scrollLeft=S.left,this.wrapperViewChild.nativeElement.scrollTop=S.top))}updateEditingCell(S,me,Ue,st){this.editingCell=S,this.editingCellData=me,this.editingCellField=Ue,this.editingCellRowIndex=st,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===L.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=S=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(L.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:S,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(S){let me=String(P.gb.resolveFieldData(S,this.dataKey));this.editingRowKeys[me]=!0}saveRowEdit(S,me){if(0===L.p.find(me,".ng-invalid.ng-dirty").length){let Ue=String(P.gb.resolveFieldData(S,this.dataKey));delete this.editingRowKeys[Ue]}}cancelRowEdit(S){let me=String(P.gb.resolveFieldData(S,this.dataKey));delete this.editingRowKeys[me]}toggleRow(S,me){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let Ue=String(P.gb.resolveFieldData(S,this.dataKey));null!=this.expandedRowKeys[Ue]?(delete this.expandedRowKeys[Ue],this.onRowCollapse.emit({originalEvent:me,data:S})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[Ue]=!0,this.onRowExpand.emit({originalEvent:me,data:S})),me&&me.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(S){return!0===this.expandedRowKeys[String(P.gb.resolveFieldData(S,this.dataKey))]}isRowEditing(S){return!0===this.editingRowKeys[String(P.gb.resolveFieldData(S,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(S){let me=L.p.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=S.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=S.pageX-me+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(S),S.preventDefault()}onColumnResize(S){let me=L.p.getOffset(this.containerViewChild.nativeElement).left;L.p.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=S.pageX-me+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let S=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,Ue=this.resizeColumnElement.offsetWidth+S;if(Ue>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let gn=this.resizeColumnElement.nextElementSibling.offsetWidth-S;Ue>15&&gn>15&&this.resizeTableCells(Ue,gn)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+S+"px"),this.resizeTableCells(Ue,null));this.onColResize.emit({element:this.resizeColumnElement,delta:S}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",L.p.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(S,me){let Ue=L.p.index(this.resizeColumnElement),st=[];const Yt=L.p.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");L.p.find(Yt,"tr > th").forEach(Gn=>st.push(L.p.getOuterWidth(Gn))),this.destroyStyleElement(),this.createStyleElement();let _n="";st.forEach((Gn,si)=>{let yi=si===Ue?S:me&&si===Ue+1?me:Gn;_n+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${si+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${si+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${si+1}) {\n                    width: ${yi}px !important; max-width: ${yi}px !important;\n                }\n            `}),this.styleElement.innerHTML=_n}onColumnDragStart(S,me){this.reorderIconWidth=L.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=L.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=me,S.dataTransfer.setData("text","b")}onColumnDragEnter(S,me){if(this.reorderableColumns&&this.draggedColumn&&me){S.preventDefault();let Ue=L.p.getOffset(this.containerViewChild.nativeElement),st=L.p.getOffset(me);if(this.draggedColumn!=me){let Yt=L.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),gn=L.p.indexWithinGroup(me,"preorderablecolumn"),_n=st.left-Ue.left,si=st.left+me.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=st.top-Ue.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=st.top-Ue.top+me.offsetHeight+"px",S.pageX>si?(this.reorderIndicatorUpViewChild.nativeElement.style.left=_n+me.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=_n+me.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=_n-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=_n-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),gn-Yt==1&&-1===this.dropPosition||gn-Yt==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else S.dataTransfer.dropEffect="none"}}onColumnDragLeave(S){this.reorderableColumns&&this.draggedColumn&&(S.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(S,me){if(S.preventDefault(),this.draggedColumn){let Ue=L.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),st=L.p.indexWithinGroup(me,"preorderablecolumn"),Yt=Ue!=st;Yt&&(st-Ue==1&&-1===this.dropPosition||Ue-st==1&&1===this.dropPosition)&&(Yt=!1),Yt&&st<Ue&&1===this.dropPosition&&(st+=1),Yt&&st>Ue&&-1===this.dropPosition&&(st-=1),Yt&&(P.gb.reorderArray(this.columns,Ue,st),this.onColReorder.emit({dragIndex:Ue,dropIndex:st,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(S,me){this.rowDragging=!0,this.draggedRowIndex=me,S.dataTransfer.setData("text","b")}onRowDragOver(S,me,Ue){if(this.rowDragging&&this.draggedRowIndex!==me){let st=L.p.getOffset(Ue).top+L.p.getWindowScrollTop(),Yt=S.pageY,gn=st+L.p.getOuterHeight(Ue)/2,_n=Ue.previousElementSibling;Yt<gn?(L.p.removeClass(Ue,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=me,_n?L.p.addClass(_n,"p-datatable-dragpoint-bottom"):L.p.addClass(Ue,"p-datatable-dragpoint-top")):(_n?L.p.removeClass(_n,"p-datatable-dragpoint-bottom"):L.p.addClass(Ue,"p-datatable-dragpoint-top"),this.droppedRowIndex=me+1,L.p.addClass(Ue,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(S,me){let Ue=me.previousElementSibling;Ue&&L.p.removeClass(Ue,"p-datatable-dragpoint-bottom"),L.p.removeClass(me,"p-datatable-dragpoint-bottom"),L.p.removeClass(me,"p-datatable-dragpoint-top")}onRowDragEnd(S){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(S,me){if(null!=this.droppedRowIndex){let Ue=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;P.gb.reorderArray(this.value,this.draggedRowIndex,Ue),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:Ue})}this.onRowDragLeave(S,me),this.onRowDragEnd(S)}isEmpty(){let S=this.filteredValue||this.value;return null==S||0==S.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const S=this.getStorage();let me={};this.paginator&&(me.first=this.first,me.rows=this.rows),this.sortField&&(me.sortField=this.sortField,me.sortOrder=this.sortOrder),this.multiSortMeta&&(me.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(me.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(me),this.reorderableColumns&&this.saveColumnOrder(me),this.selection&&(me.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(me.expandedRowKeys=this.expandedRowKeys),S.setItem(this.stateKey,JSON.stringify(me)),this.onStateSave.emit(me)}clearState(){const S=this.getStorage();this.stateKey&&S.removeItem(this.stateKey)}restoreState(){const me=this.getStorage().getItem(this.stateKey),Ue=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(me){let Yt=JSON.parse(me,function(Yt,gn){return"string"==typeof gn&&Ue.test(gn)?new Date(gn):gn});this.paginator&&(void 0!==this.first&&(this.first=Yt.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=Yt.rows,this.rowsChange.emit(this.rows))),Yt.sortField&&(this.restoringSort=!0,this._sortField=Yt.sortField,this._sortOrder=Yt.sortOrder),Yt.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=Yt.multiSortMeta),Yt.filters&&(this.restoringFilter=!0,this.filters=Yt.filters),this.resizableColumns&&(this.columnWidthsState=Yt.columnWidths,this.tableWidthState=Yt.tableWidth),Yt.expandedRowKeys&&(this.expandedRowKeys=Yt.expandedRowKeys),Yt.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(Yt.selection)),this.stateRestored=!0,this.onStateRestore.emit(Yt)}}saveColumnWidths(S){let me=[];L.p.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(st=>me.push(L.p.getOuterWidth(st))),S.columnWidths=me.join(","),"expand"===this.columnResizeMode&&(S.tableWidth=L.p.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(S){this.tableViewChild.nativeElement.style.width=S,this.tableViewChild.nativeElement.style.minWidth=S}restoreColumnWidths(){if(this.columnWidthsState){let S=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),P.gb.isNotEmpty(S)){this.createStyleElement();let me="";S.forEach((Ue,st)=>{me+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${st+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${st+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${st+1}) {\n                            width: ${Ue}px !important; max-width: ${Ue}px !important\n                        }\n                    `}),this.styleElement.innerHTML=me}}}saveColumnOrder(S){if(this.columns){let me=[];this.columns.map(Ue=>{me.push(Ue.field||Ue.key)}),S.columnOrder=me}}restoreColumnOrder(){const me=this.getStorage().getItem(this.stateKey);if(me){let st=JSON.parse(me).columnOrder;if(st){let Yt=[];st.map(gn=>{let _n=this.findColumnByKey(gn);_n&&Yt.push(_n)}),this.columnOrderStateRestored=!0,this.columns=Yt}}}findColumnByKey(S){if(!this.columns)return null;for(let me of this.columns)if(me.key===S||me.field===S)return me}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id}-table > .p-datatable-thead > tr > th,\n    #${this.id}-table > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return Ye.\u0275fac=function(S){return new(S||Ye)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(cs),s.Y36(s.sBO),s.Y36(V.iZ),s.Y36(V.F0))},Ye.\u0275cmp=s.Xpm({type:Ye,selectors:[["p-table"]],contentQueries:function(S,me,Ue){if(1&S&&s.Suo(Ue,V.jx,4),2&S){let st;s.iGM(st=s.CRH())&&(me.templates=st)}},viewQuery:function(S,me){if(1&S&&(s.Gf(we,5),s.Gf(be,5),s.Gf(ye,5),s.Gf(G,5),s.Gf(E,5),s.Gf(U,5),s.Gf($,5),s.Gf(Ae,5),s.Gf(Ne,5)),2&S){let Ue;s.iGM(Ue=s.CRH())&&(me.containerViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(me.resizeHelperViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(me.reorderIndicatorUpViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(me.reorderIndicatorDownViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(me.wrapperViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(me.tableViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(me.tableHeaderViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(me.tableFooterViewChild=Ue.first),s.iGM(Ue=s.CRH())&&(me.scroller=Ue.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([cs]),s.TTD],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(S,me){1&S&&(s.TgZ(0,"div",0,1),s.YNc(2,He,2,2,"div",2),s.YNc(3,gt,2,1,"div",3),s.YNc(4,ut,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,Qe,3,16,"p-scroller",7),s.YNc(8,Me,2,7,"ng-container",8),s.YNc(9,Ot,10,28,"ng-template",null,9,s.W1O),s.qZA(),s.YNc(11,en,1,17,"p-paginator",10),s.YNc(12,Pt,2,1,"div",11),s.YNc(13,Bt,2,0,"div",12),s.YNc(14,tn,2,0,"span",13),s.YNc(15,ft,2,0,"span",14),s.qZA()),2&S&&(s.Tol(me.styleClass),s.Q6J("ngStyle",me.style)("ngClass",s.kEZ(16,ei,me.rowHover||me.selectionMode,me.scrollable,me.scrollable&&"flex"===me.scrollHeight)),s.uIk("id",me.id),s.xp6(2),s.Q6J("ngIf",me.loading&&me.showLoader),s.xp6(1),s.Q6J("ngIf",me.captionTemplate),s.xp6(1),s.Q6J("ngIf",me.paginator&&("top"===me.paginatorPosition||"both"==me.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(20,qn,me.virtualScroll?"":me.scrollHeight)),s.xp6(2),s.Q6J("ngIf",me.virtualScroll),s.xp6(1),s.Q6J("ngIf",!me.virtualScroll),s.xp6(3),s.Q6J("ngIf",me.paginator&&("bottom"===me.paginatorPosition||"both"==me.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",me.summaryTemplate),s.xp6(1),s.Q6J("ngIf",me.resizableColumns),s.xp6(1),s.Q6J("ngIf",me.reorderableColumns),s.xp6(1),s.Q6J("ngIf",me.reorderableColumns))},dependencies:function(){return[e.mk,e.O5,e.tP,e.PC,he.D,V.jx,ne.T,Wo]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),Ye})(),Wo=(()=>{class Ye{constructor(S,me,Ue,st){this.dt=S,this.tableService=me,this.cd=Ue,this.el=st,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(S){this._value=S,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(S,me,Ue){let st=P.gb.resolveFieldData(me,this.dt.groupRowsBy),Yt=S[Ue-1];return!Yt||st!==P.gb.resolveFieldData(Yt,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(S,me,Ue){let st=P.gb.resolveFieldData(me,this.dt.groupRowsBy),Yt=S[Ue+1];return!Yt||st!==P.gb.resolveFieldData(Yt,this.dt.groupRowsBy)}shouldRenderRowspan(S,me,Ue){let st=P.gb.resolveFieldData(me,this.dt.groupRowsBy),Yt=S[Ue-1];return!Yt||st!==P.gb.resolveFieldData(Yt,this.dt.groupRowsBy)}calculateRowGroupSize(S,me,Ue){let st=P.gb.resolveFieldData(me,this.dt.groupRowsBy),Yt=st,gn=0;for(;st===Yt;){gn++;let _n=S[++Ue];if(!_n)break;Yt=P.gb.resolveFieldData(_n,this.dt.groupRowsBy)}return 1===gn?null:gn}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=L.p.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let S=L.p.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=S+"px"}}getScrollerOption(S,me){return this.dt.virtualScroll&&(me=me||this.scrollerOptions)?me[S]:null}getRowIndex(S){const me=this.dt.paginator?this.dt.first+S:S,Ue=this.getScrollerOption("getItemOptions");return Ue?Ue(me).index:me}}return Ye.\u0275fac=function(S){return new(S||Ye)(s.Y36(jo),s.Y36(cs),s.Y36(s.sBO),s.Y36(s.SBq))},Ye.\u0275cmp=s.Xpm({type:Ye,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:Ht,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(S,me){1&S&&(s.YNc(0,xt,2,2,"ng-container",0),s.YNc(1,qt,2,2,"ng-container",0),s.YNc(2,Ai,2,2,"ng-container",0),s.YNc(3,ie,2,5,"ng-container",0),s.YNc(4,oe,2,5,"ng-container",0)),2&S&&(s.Q6J("ngIf",!me.dt.expandedRowTemplate),s.xp6(1),s.Q6J("ngIf",me.dt.expandedRowTemplate&&!(me.frozen&&me.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",me.dt.frozenExpandedRowTemplate&&me.frozen),s.xp6(1),s.Q6J("ngIf",me.dt.loading),s.xp6(1),s.Q6J("ngIf",me.dt.isEmpty()&&!me.dt.loading))},dependencies:[e.sg,e.O5,e.tP],encapsulation:2}),Ye})(),Ho=(()=>{class Ye{constructor(S,me,Ue){this.dt=S,this.el=me,this.zone=Ue}ngAfterViewInit(){this.isEnabled()&&L.p.addClass(this.el.nativeElement,"p-editable-column")}onClick(S){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,S),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),L.p.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let me=L.p.findSingle(this.el.nativeElement,this.pFocusCellSelector||"input, textarea, select");me&&me.focus()},50)}),this.overlayEventListener=S=>{this.el&&this.el.nativeElement.contains(S.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(S,me){S?this.dt.onEditComplete.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:me,index:this.dt.editingCellRowIndex}):this.dt.onEditCancel.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:me,index:this.dt.editingCellRowIndex}),L.p.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(S){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,S),S.preventDefault())}onTabKeyDown(S){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,S),S.preventDefault())}onEscapeKeyDown(S){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,S),S.preventDefault())}onShiftKeyDown(S){this.isEnabled()&&(S.shiftKey?this.moveToPreviousCell(S):this.moveToNextCell(S))}onArrowDown(S){if(this.isEnabled()){let me=this.findCell(S.target);if(me){let Ue=L.p.index(me),st=this.findNextEditableColumnByIndex(me,Ue);st&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,S),L.p.invokeElementMethod(S.target,"blur"),L.p.invokeElementMethod(st,"click")),S.preventDefault()}}}onArrowUp(S){if(this.isEnabled()){let me=this.findCell(S.target);if(me){let Ue=L.p.index(me),st=this.findPrevEditableColumnByIndex(me,Ue);st&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,S),L.p.invokeElementMethod(S.target,"blur"),L.p.invokeElementMethod(st,"click")),S.preventDefault()}}}onArrowLeft(S){this.isEnabled()&&this.moveToPreviousCell(S)}onArrowRight(S){this.isEnabled()&&this.moveToNextCell(S)}findCell(S){if(S){let me=S;for(;me&&!L.p.hasClass(me,"p-cell-editing");)me=me.parentElement;return me}return null}moveToPreviousCell(S){let me=this.findCell(S.target);if(me){let Ue=this.findPreviousEditableColumn(me);Ue&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,S),L.p.invokeElementMethod(S.target,"blur"),L.p.invokeElementMethod(Ue,"click"),S.preventDefault())}}moveToNextCell(S){let me=this.findCell(S.target);if(me){let Ue=this.findNextEditableColumn(me);Ue&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,S),L.p.invokeElementMethod(S.target,"blur"),L.p.invokeElementMethod(Ue,"click"),S.preventDefault())}}findPreviousEditableColumn(S){let me=S.previousElementSibling;if(!me){let Ue=S.parentElement.previousElementSibling;Ue&&(me=Ue.lastElementChild)}return me?L.p.hasClass(me,"p-editable-column")?me:this.findPreviousEditableColumn(me):null}findNextEditableColumn(S){let me=S.nextElementSibling;if(!me){let Ue=S.parentElement.nextElementSibling;Ue&&(me=Ue.firstElementChild)}return me?L.p.hasClass(me,"p-editable-column")?me:this.findNextEditableColumn(me):null}findNextEditableColumnByIndex(S,me){let Ue=S.parentElement.nextElementSibling;if(Ue){let st=Ue.children[me];return st&&L.p.hasClass(st,"p-editable-column")?st:null}return null}findPrevEditableColumnByIndex(S,me){let Ue=S.parentElement.previousElementSibling;if(Ue){let st=Ue.children[me];return st&&L.p.hasClass(st,"p-editable-column")?st:null}return null}isEnabled(){return!0!==this.pEditableColumnDisabled}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}}return Ye.\u0275fac=function(S){return new(S||Ye)(s.Y36(jo),s.Y36(s.SBq),s.Y36(s.R0b))},Ye.\u0275dir=s.lG2({type:Ye,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(S,me){1&S&&s.NdJ("click",function(st){return me.onClick(st)})("keydown.enter",function(st){return me.onEnterKeyDown(st)})("keydown.tab",function(st){return me.onShiftKeyDown(st)})("keydown.escape",function(st){return me.onEscapeKeyDown(st)})("keydown.shift.tab",function(st){return me.onShiftKeyDown(st)})("keydown.meta.tab",function(st){return me.onShiftKeyDown(st)})("keydown.arrowdown",function(st){return me.onArrowDown(st)})("keydown.arrowup",function(st){return me.onArrowUp(st)})("keydown.arrowleft",function(st){return me.onArrowLeft(st)})("keydown.arrowright",function(st){return me.onArrowRight(st)})},inputs:{data:["pEditableColumn","data"],field:["pEditableColumnField","field"],rowIndex:["pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:"pEditableColumnDisabled",pFocusCellSelector:"pFocusCellSelector"}}),Ye})(),yo=(()=>{class Ye{constructor(S){this.el=S}isEnabled(){return!0!==this.pEditableRowDisabled}}return Ye.\u0275fac=function(S){return new(S||Ye)(s.Y36(s.SBq))},Ye.\u0275dir=s.lG2({type:Ye,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:["pEditableRow","data"],pEditableRowDisabled:"pEditableRowDisabled"}}),Ye})(),Do=(()=>{class Ye{constructor(S,me,Ue){this.dt=S,this.editableColumn=me,this.editableRow=Ue}ngAfterContentInit(){this.templates.forEach(S=>{switch(S.getType()){case"input":this.inputTemplate=S.template;break;case"output":this.outputTemplate=S.template}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&"row"===this.dt.editMode&&this.dt.isRowEditing(this.editableRow.data)}}return Ye.\u0275fac=function(S){return new(S||Ye)(s.Y36(jo),s.Y36(Ho,8),s.Y36(yo,8))},Ye.\u0275cmp=s.Xpm({type:Ye,selectors:[["p-cellEditor"]],contentQueries:function(S,me,Ue){if(1&S&&s.Suo(Ue,V.jx,4),2&S){let st;s.iGM(st=s.CRH())&&(me.templates=st)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(S,me){1&S&&(s.YNc(0,St,2,1,"ng-container",0),s.YNc(1,ln,2,1,"ng-container",0)),2&S&&(s.Q6J("ngIf",me.editing),s.xp6(1),s.Q6J("ngIf",!me.editing))},dependencies:[e.O5,e.tP],encapsulation:2}),Ye})(),$o=(()=>{class Ye{}return Ye.\u0275fac=function(S){return new(S||Ye)},Ye.\u0275mod=s.oAB({type:Ye}),Ye.\u0275inj=s.cJS({imports:[e.ez,he.U,z.j,se.kW,f.u5,F.hJ,De.Qy,I._8,q.L$,le,ne.v,V.m8,ne.v]}),Ye})()},3725:(Lt,qe,C)=>{C.d(qe,{LU:()=>Ae,x4:()=>U,xf:()=>$});var e=C(5e3),s=C(9808),f=C(4119),V=C(5787),F=C(9783),I=C(5730);function L(Ne,He){1&Ne&&e.GkF(0)}function se(Ne,He){if(1&Ne&&(e.ynx(0),e.YNc(1,L,1,0,"ng-container",3),e.BQk()),2&Ne){const Re=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",Re.contentTemplate)}}function q(Ne,He){if(1&Ne&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,se,2,1,"ng-container",2),e.qZA()),2&Ne){const Re=e.oxw();e.Q6J("hidden",!Re.selected),e.uIk("id",Re.id)("aria-hidden",!Re.selected)("aria-labelledby",Re.id+"-label"),e.xp6(2),e.Q6J("ngIf",Re.contentTemplate&&(Re.cache?Re.loaded:Re.selected))}}const z=["*"],he=["content"],ne=["navbar"],De=["prevBtn"],ue=["nextBtn"],ge=["inkbar"];function pe(Ne,He){if(1&Ne){const Re=e.EpF();e.TgZ(0,"button",12,13),e.NdJ("click",function(){e.CHM(Re);const ut=e.oxw();return e.KtG(ut.navBackward())}),e._UZ(2,"span",14),e.qZA()}}function ke(Ne,He){if(1&Ne&&e._UZ(0,"span",24),2&Ne){const Re=e.oxw(3).$implicit;e.Q6J("ngClass",Re.leftIcon)}}function Q(Ne,He){if(1&Ne&&e._UZ(0,"span",25),2&Ne){const Re=e.oxw(3).$implicit;e.Q6J("ngClass",Re.rightIcon)}}function Oe(Ne,He){if(1&Ne&&(e.ynx(0),e.YNc(1,ke,1,1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.YNc(4,Q,1,1,"span",23),e.BQk()),2&Ne){const Re=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",Re.leftIcon),e.xp6(2),e.Oqu(Re.header),e.xp6(1),e.Q6J("ngIf",Re.rightIcon)}}function le(Ne,He){1&Ne&&e.GkF(0)}function P(Ne,He){if(1&Ne){const Re=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(ut){e.CHM(Re);const Pe=e.oxw(2).$implicit,We=e.oxw();return e.KtG(We.close(ut,Pe))}),e.qZA()}}const N=function(Ne,He){return{"p-highlight":Ne,"p-disabled":He}};function we(Ne,He){if(1&Ne){const Re=e.EpF();e.TgZ(0,"li",16)(1,"a",17),e.NdJ("click",function(ut){e.CHM(Re);const Pe=e.oxw().$implicit,We=e.oxw();return e.KtG(We.open(ut,Pe))})("keydown.enter",function(ut){e.CHM(Re);const Pe=e.oxw().$implicit,We=e.oxw();return e.KtG(We.open(ut,Pe))}),e.YNc(2,Oe,5,3,"ng-container",18),e.YNc(3,le,1,0,"ng-container",19),e.YNc(4,P,1,0,"span",20),e.qZA()()}if(2&Ne){const Re=e.oxw().$implicit;e.Tol(Re.headerStyleClass),e.Q6J("ngClass",e.WLB(16,N,Re.selected,Re.disabled))("ngStyle",Re.headerStyle),e.xp6(1),e.Q6J("pTooltip",Re.tooltip)("tooltipPosition",Re.tooltipPosition)("positionStyle",Re.tooltipPositionStyle)("tooltipStyleClass",Re.tooltipStyleClass),e.uIk("id",Re.id+"-label")("aria-selected",Re.selected)("aria-controls",Re.id)("aria-selected",Re.selected)("tabindex",Re.disabled?null:"0"),e.xp6(1),e.Q6J("ngIf",!Re.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",Re.headerTemplate),e.xp6(1),e.Q6J("ngIf",Re.closable)}}function be(Ne,He){1&Ne&&e.YNc(0,we,5,19,"li",15),2&Ne&&e.Q6J("ngIf",!He.$implicit.closed)}function ye(Ne,He){if(1&Ne){const Re=e.EpF();e.TgZ(0,"button",27,28),e.NdJ("click",function(){e.CHM(Re);const ut=e.oxw();return e.KtG(ut.navForward())}),e._UZ(2,"span",29),e.qZA()}}const G=function(Ne){return{"p-tabview p-component":!0,"p-tabview-scrollable":Ne}};let E=0,U=(()=>{class Ne{constructor(Re,gt,ut){this.viewContainer=gt,this.cd=ut,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+E++,this.tabView=Re}ngAfterContentInit(){this.templates.forEach(Re=>{"header"===Re.getType()?this.headerTemplate=Re.template:this.contentTemplate=Re.template})}get selected(){return this._selected}set selected(Re){this._selected=Re,this.loaded||this.cd.detectChanges(),Re&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(Re){this._disabled=Re,this.tabView.cd.markForCheck()}get header(){return this._header}set header(Re){this._header=Re,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(Re){this._leftIcon=Re,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(Re){this._rightIcon=Re,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return Ne.\u0275fac=function(Re){return new(Re||Ne)(e.Y36((0,e.Gpc)(()=>$)),e.Y36(e.s_b),e.Y36(e.sBO))},Ne.\u0275cmp=e.Xpm({type:Ne,selectors:[["p-tabPanel"]],contentQueries:function(Re,gt,ut){if(1&Re&&e.Suo(ut,F.jx,4),2&Re){let Pe;e.iGM(Pe=e.CRH())&&(gt.templates=Pe)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:z,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(Re,gt){1&Re&&(e.F$t(),e.YNc(0,q,3,5,"div",0)),2&Re&&e.Q6J("ngIf",!gt.closed)},dependencies:[s.O5,s.tP],encapsulation:2}),Ne})(),$=(()=>{class Ne{constructor(Re,gt){this.el=Re,this.cd=gt,this.orientation="top",this.onChange=new e.vpe,this.onClose=new e.vpe,this.activeIndexChange=new e.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(Re=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe()}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(Re,gt){if(gt.disabled)Re&&Re.preventDefault();else{if(!gt.selected){let ut=this.findSelectedTab();ut&&(ut.selected=!1),this.tabChanged=!0,gt.selected=!0;let Pe=this.findTabIndex(gt);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(Pe),this.onChange.emit({originalEvent:Re,index:Pe}),this.updateScrollBar(Pe)}Re&&Re.preventDefault()}}close(Re,gt){this.controlClose?this.onClose.emit({originalEvent:Re,index:this.findTabIndex(gt),close:()=>{this.closeTab(gt)}}):(this.closeTab(gt),this.onClose.emit({originalEvent:Re,index:this.findTabIndex(gt)})),Re.stopPropagation()}closeTab(Re){if(!Re.disabled){if(Re.selected){this.tabChanged=!0,Re.selected=!1;for(let gt=0;gt<this.tabs.length;gt++){let ut=this.tabs[gt];if(!ut.closed&&!Re.disabled){ut.selected=!0;break}}}Re.closed=!0}}findSelectedTab(){for(let Re=0;Re<this.tabs.length;Re++)if(this.tabs[Re].selected)return this.tabs[Re];return null}findTabIndex(Re){let gt=-1;for(let ut=0;ut<this.tabs.length;ut++)if(this.tabs[ut]==Re){gt=ut;break}return gt}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(Re){this._activeIndex=Re,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(Re))}updateInkBar(){if(this.navbar){const Re=I.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!Re)return;this.inkbar.nativeElement.style.width=I.p.getWidth(Re)+"px",this.inkbar.nativeElement.style.left=I.p.getOffset(Re).left-I.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(Re){this.navbar.nativeElement.children[Re].scrollIntoView({block:"nearest"})}updateButtonState(){const Re=this.content.nativeElement,{scrollLeft:gt,scrollWidth:ut}=Re,Pe=I.p.getWidth(Re);this.backwardIsDisabled=0===gt,this.forwardIsDisabled=parseInt(gt)===ut-Pe}onScroll(Re){this.scrollable&&this.updateButtonState(),Re.preventDefault()}getVisibleButtonWidths(){var Re,gt;return[null===(Re=this.prevBtn)||void 0===Re?void 0:Re.nativeElement,null===(gt=this.nextBtn)||void 0===gt?void 0:gt.nativeElement].reduce((ut,Pe)=>Pe?ut+I.p.getWidth(Pe):ut,0)}navBackward(){const Re=this.content.nativeElement,gt=I.p.getWidth(Re)-this.getVisibleButtonWidths(),ut=Re.scrollLeft-gt;Re.scrollLeft=ut<=0?0:ut}navForward(){const Re=this.content.nativeElement,gt=I.p.getWidth(Re)-this.getVisibleButtonWidths(),ut=Re.scrollLeft+gt,Pe=Re.scrollWidth-gt;Re.scrollLeft=ut>=Pe?Pe:ut}}return Ne.\u0275fac=function(Re){return new(Re||Ne)(e.Y36(e.SBq),e.Y36(e.sBO))},Ne.\u0275cmp=e.Xpm({type:Ne,selectors:[["p-tabView"]],contentQueries:function(Re,gt,ut){if(1&Re&&e.Suo(ut,U,4),2&Re){let Pe;e.iGM(Pe=e.CRH())&&(gt.tabPanels=Pe)}},viewQuery:function(Re,gt){if(1&Re&&(e.Gf(he,5),e.Gf(ne,5),e.Gf(De,5),e.Gf(ue,5),e.Gf(ge,5)),2&Re){let ut;e.iGM(ut=e.CRH())&&(gt.content=ut.first),e.iGM(ut=e.CRH())&&(gt.navbar=ut.first),e.iGM(ut=e.CRH())&&(gt.prevBtn=ut.first),e.iGM(ut=e.CRH())&&(gt.nextBtn=ut.first),e.iGM(ut=e.CRH())&&(gt.inkbar=ut.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:z,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(Re,gt){1&Re&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,pe,3,0,"button",2),e.TgZ(3,"div",3,4),e.NdJ("scroll",function(Pe){return gt.onScroll(Pe)}),e.TgZ(5,"ul",5,6),e.YNc(7,be,1,1,"ng-template",7),e._UZ(8,"li",8,9),e.qZA()(),e.YNc(10,ye,3,0,"button",10),e.qZA(),e.TgZ(11,"div",11),e.Hsn(12),e.qZA()()),2&Re&&(e.Tol(gt.styleClass),e.Q6J("ngClass",e.VKq(7,G,gt.scrollable))("ngStyle",gt.style),e.xp6(2),e.Q6J("ngIf",gt.scrollable&&!gt.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",gt.tabs),e.xp6(3),e.Q6J("ngIf",gt.scrollable&&!gt.forwardIsDisabled))},dependencies:[s.mk,s.sg,s.O5,s.tP,s.PC,f.u,V.H],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),Ne})(),Ae=(()=>{class Ne{}return Ne.\u0275fac=function(Re){return new(Re||Ne)},Ne.\u0275mod=e.oAB({type:Ne}),Ne.\u0275inj=e.cJS({imports:[s.ez,F.m8,f.z,V.T,F.m8]}),Ne})()},7773:(Lt,qe,C)=>{C.d(qe,{EV:()=>Oe,FN:()=>Q});var e=C(5e3),s=C(9808),f=C(9783),V=C(5921),F=C(5787),I=C(1777);const L=["container"],se=function(le,P,N,we){return{"pi-info-circle":le,"pi-exclamation-triangle":P,"pi-times-circle":N,"pi-check":we}};function q(le,P){if(1&le&&(e.ynx(0),e._UZ(1,"span",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.BQk()),2&le){const N=e.oxw();e.xp6(1),e.Tol("p-toast-message-icon pi"+(N.message.icon?" "+N.message.icon:"")),e.Q6J("ngClass",e.l5B(5,se,"info"==N.message.severity,"warn"==N.message.severity,"error"==N.message.severity,"success"==N.message.severity)),e.xp6(3),e.Oqu(N.message.summary),e.xp6(2),e.Oqu(N.message.detail)}}function z(le,P){1&le&&e.GkF(0)}function he(le,P){if(1&le){const N=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(be){e.CHM(N);const ye=e.oxw();return e.KtG(ye.onCloseIconClick(be))})("keydown.enter",function(be){e.CHM(N);const ye=e.oxw();return e.KtG(ye.onCloseIconClick(be))}),e._UZ(1,"span",11),e.qZA()}}const ne=function(le){return[le,"p-toast-message"]},De=function(le,P,N,we){return{showTransformParams:le,hideTransformParams:P,showTransitionParams:N,hideTransitionParams:we}},ue=function(le){return{value:"visible",params:le}},ge=function(le){return{$implicit:le}};function pe(le,P){if(1&le){const N=e.EpF();e.TgZ(0,"p-toastItem",3),e.NdJ("onClose",function(be){e.CHM(N);const ye=e.oxw();return e.KtG(ye.onMessageClose(be))})("@toastAnimation.start",function(be){e.CHM(N);const ye=e.oxw();return e.KtG(ye.onAnimationStart(be))})("@toastAnimation.done",function(be){e.CHM(N);const ye=e.oxw();return e.KtG(ye.onAnimationEnd(be))}),e.qZA()}if(2&le){const N=P.$implicit,we=P.index,be=e.oxw();e.Q6J("message",N)("index",we)("template",be.template)("@toastAnimation",void 0)("showTransformOptions",be.showTransformOptions)("hideTransformOptions",be.hideTransformOptions)("showTransitionOptions",be.showTransitionOptions)("hideTransitionOptions",be.hideTransitionOptions)}}let ke=(()=>{class le{constructor(N){this.zone=N,this.onClose=new e.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(N){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),N.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return le.\u0275fac=function(N){return new(N||le)(e.Y36(e.R0b))},le.\u0275cmp=e.Xpm({type:le,selectors:[["p-toastItem"]],viewQuery:function(N,we){if(1&N&&e.Gf(L,5),2&N){let be;e.iGM(be=e.CRH())&&(we.containerViewChild=be.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(N,we){1&N&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return we.onMouseEnter()})("mouseleave",function(){return we.onMouseLeave()}),e.TgZ(2,"div",2),e.YNc(3,q,7,10,"ng-container",3),e.YNc(4,z,1,0,"ng-container",4),e.YNc(5,he,2,0,"button",5),e.qZA()()),2&N&&(e.Tol(we.message.styleClass),e.Q6J("ngClass",e.VKq(10,ne,"p-toast-message-"+we.message.severity))("@messageState",e.VKq(17,ue,e.l5B(12,De,we.showTransformOptions,we.hideTransformOptions,we.showTransitionOptions,we.hideTransitionOptions))),e.uIk("id",we.message.id),e.xp6(2),e.Q6J("ngClass",we.message.contentStyleClass),e.xp6(1),e.Q6J("ngIf",!we.template),e.xp6(1),e.Q6J("ngTemplateOutlet",we.template)("ngTemplateOutletContext",e.VKq(19,ge,we.message)),e.xp6(1),e.Q6J("ngIf",!1!==we.message.closable))},dependencies:[s.mk,s.O5,s.tP,F.H],encapsulation:2,data:{animation:[(0,I.X$)("messageState",[(0,I.SB)("visible",(0,I.oB)({transform:"translateY(0)",opacity:1})),(0,I.eR)("void => *",[(0,I.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,I.jt)("{{showTransitionParams}}")]),(0,I.eR)("* => void",[(0,I.jt)("{{hideTransitionParams}}",(0,I.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),le})(),Q=(()=>{class le{constructor(N,we,be){this.messageService=N,this.cd=we,this.config=be,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new e.vpe,this.id=(0,V.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(N=>{if(N)if(N instanceof Array){const we=N.filter(be=>this.canAdd(be));this.add(we)}else this.canAdd(N)&&this.add([N])}),this.clearSubscription=this.messageService.clearObserver.subscribe(N=>{N?this.key===N&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(N){this.messages=this.messages?[...this.messages,...N]:[...N],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...N]:[...N]),this.cd.markForCheck()}canAdd(N){let we=this.key===N.key;return we&&this.preventOpenDuplicates&&(we=!this.containsMessage(this.messages,N)),we&&this.preventDuplicates&&(we=!this.containsMessage(this.messagesArchieve,N)),we}containsMessage(N,we){return!!N&&null!=N.find(be=>be.summary===we.summary&&be.detail==we.detail&&be.severity===we.severity)}ngAfterContentInit(){this.templates.forEach(N=>{N.getType(),this.template=N.template})}onMessageClose(N){this.messages.splice(N.index,1),this.onClose.emit({message:N.message}),this.cd.detectChanges()}onAnimationStart(N){"void"===N.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&V.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(N){"void"===N.toState&&this.autoZIndex&&V.gb.isEmpty(this.messages)&&V.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let N="";for(let we in this.breakpoints){let be="";for(let ye in this.breakpoints[we])be+=ye+":"+this.breakpoints[we][ye]+" !important;";N+=`\n                    @media screen and (max-width: ${we}) {\n                        .p-toast[${this.id}] {\n                           ${be}\n                        }\n                    }\n                `}this.styleElement.innerHTML=N}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&V.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return le.\u0275fac=function(N){return new(N||le)(e.Y36(f.ez),e.Y36(e.sBO),e.Y36(f.b4))},le.\u0275cmp=e.Xpm({type:le,selectors:[["p-toast"]],contentQueries:function(N,we,be){if(1&N&&e.Suo(be,f.jx,4),2&N){let ye;e.iGM(ye=e.CRH())&&(we.templates=ye)}},viewQuery:function(N,we){if(1&N&&e.Gf(L,5),2&N){let be;e.iGM(be=e.CRH())&&(we.containerViewChild=be.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(N,we){1&N&&(e.TgZ(0,"div",0,1),e.YNc(2,pe,1,8,"p-toastItem",2),e.qZA()),2&N&&(e.Tol(we.styleClass),e.Q6J("ngClass","p-toast p-component p-toast-"+we.position)("ngStyle",we.style),e.xp6(2),e.Q6J("ngForOf",we.messages))},dependencies:[s.mk,s.sg,s.PC,ke],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,I.X$)("toastAnimation",[(0,I.eR)(":enter, :leave",[(0,I.IO)("@*",(0,I.pV)())])])]},changeDetection:0}),le})(),Oe=(()=>{class le{}return le.\u0275fac=function(N){return new(N||le)},le.\u0275mod=e.oAB({type:le}),le.\u0275inj=e.cJS({imports:[s.ez,F.T,f.m8]}),le})()},4119:(Lt,qe,C)=>{C.d(qe,{u:()=>I,z:()=>L});var e=C(5e3),s=C(9808),f=C(5730),V=C(5921),F=C(9783);let I=(()=>{class se{constructor(z,he,ne){this.el=z,this.zone=he,this.config=ne,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(z){this._disabled=z,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let z=this.getTarget(this.el.nativeElement);z.addEventListener("focus",this.focusListener),z.addEventListener("blur",this.blurListener)}})}ngOnChanges(z){z.tooltipPosition&&this.setOption({tooltipPosition:z.tooltipPosition.currentValue}),z.tooltipEvent&&this.setOption({tooltipEvent:z.tooltipEvent.currentValue}),z.appendTo&&this.setOption({appendTo:z.appendTo.currentValue}),z.positionStyle&&this.setOption({positionStyle:z.positionStyle.currentValue}),z.tooltipStyleClass&&this.setOption({tooltipStyleClass:z.tooltipStyleClass.currentValue}),z.tooltipZIndex&&this.setOption({tooltipZIndex:z.tooltipZIndex.currentValue}),z.escape&&this.setOption({escape:z.escape.currentValue}),z.showDelay&&this.setOption({showDelay:z.showDelay.currentValue}),z.hideDelay&&this.setOption({hideDelay:z.hideDelay.currentValue}),z.life&&this.setOption({life:z.life.currentValue}),z.positionTop&&this.setOption({positionTop:z.positionTop.currentValue}),z.positionLeft&&this.setOption({positionLeft:z.positionLeft.currentValue}),z.disabled&&this.setOption({disabled:z.disabled.currentValue}),z.text&&(this.setOption({tooltipLabel:z.text.currentValue}),this.active&&(z.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),z.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),z.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(z){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(z){this.deactivate()}onFocus(z){this.activate()}onBlur(z){this.deactivate()}onClick(z){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let z=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},z)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let z=document.createElement("div");z.className="p-tooltip-arrow",this.container.appendChild(z),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?f.p.appendChild(this.container,this.el.nativeElement):f.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),f.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?V.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&V.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let z=this.el.nativeElement.getBoundingClientRect();return{left:z.left+f.p.getWindowScrollLeft(),top:z.top+f.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let z=this.getHostOffset(),he=z.left+f.p.getOuterWidth(this.el.nativeElement),ne=z.top+(f.p.getOuterHeight(this.el.nativeElement)-f.p.getOuterHeight(this.container))/2;this.container.style.left=he+this.getOption("positionLeft")+"px",this.container.style.top=ne+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let z=this.getHostOffset(),he=z.left-f.p.getOuterWidth(this.container),ne=z.top+(f.p.getOuterHeight(this.el.nativeElement)-f.p.getOuterHeight(this.container))/2;this.container.style.left=he+this.getOption("positionLeft")+"px",this.container.style.top=ne+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let z=this.getHostOffset(),he=z.left+(f.p.getOuterWidth(this.el.nativeElement)-f.p.getOuterWidth(this.container))/2,ne=z.top-f.p.getOuterHeight(this.container);this.container.style.left=he+this.getOption("positionLeft")+"px",this.container.style.top=ne+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let z=this.getHostOffset(),he=z.left+(f.p.getOuterWidth(this.el.nativeElement)-f.p.getOuterWidth(this.container))/2,ne=z.top+f.p.getOuterHeight(this.el.nativeElement);this.container.style.left=he+this.getOption("positionLeft")+"px",this.container.style.top=ne+this.getOption("positionTop")+"px"}setOption(z){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),z)}getOption(z){return this._tooltipOptions[z]}getTarget(z){return f.p.hasClass(z,"p-inputwrapper")?f.p.findSingle(z,"input"):z}preAlign(z){this.container.style.left="-999px",this.container.style.top="-999px";let he="p-tooltip p-component p-tooltip-"+z;this.container.className=this.getOption("tooltipStyleClass")?he+" "+this.getOption("tooltipStyleClass"):he}isOutOfBounds(){let z=this.container.getBoundingClientRect(),he=z.top,ne=z.left,De=f.p.getOuterWidth(this.container),ue=f.p.getOuterHeight(this.container),ge=f.p.getViewport();return ne+De>ge.width||ne<0||he<0||he+ue>ge.height}onWindowResize(z){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let z=this.getTarget(this.el.nativeElement);z.removeEventListener("focus",this.focusListener),z.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):f.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&V.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return se.\u0275fac=function(z){return new(z||se)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(F.b4))},se.\u0275dir=e.lG2({type:se,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[e.TTD]}),se})(),L=(()=>{class se{}return se.\u0275fac=function(z){return new(z||se)},se.\u0275mod=e.oAB({type:se}),se.\u0275inj=e.cJS({imports:[s.ez]}),se})()},5921:(Lt,qe,C)=>{C.d(qe,{P9:()=>F,Th:()=>f,gb:()=>e});class e{static equals(L,se,q){return q?this.resolveFieldData(L,q)===this.resolveFieldData(se,q):this.equalsByValue(L,se)}static equalsByValue(L,se){if(L===se)return!0;if(L&&se&&"object"==typeof L&&"object"==typeof se){var he,ne,De,q=Array.isArray(L),z=Array.isArray(se);if(q&&z){if((ne=L.length)!=se.length)return!1;for(he=ne;0!=he--;)if(!this.equalsByValue(L[he],se[he]))return!1;return!0}if(q!=z)return!1;var ue=L instanceof Date,ge=se instanceof Date;if(ue!=ge)return!1;if(ue&&ge)return L.getTime()==se.getTime();var pe=L instanceof RegExp,ke=se instanceof RegExp;if(pe!=ke)return!1;if(pe&&ke)return L.toString()==se.toString();var Q=Object.keys(L);if((ne=Q.length)!==Object.keys(se).length)return!1;for(he=ne;0!=he--;)if(!Object.prototype.hasOwnProperty.call(se,Q[he]))return!1;for(he=ne;0!=he--;)if(!this.equalsByValue(L[De=Q[he]],se[De]))return!1;return!0}return L!=L&&se!=se}static resolveFieldData(L,se){if(L&&se){if(this.isFunction(se))return se(L);if(-1==se.indexOf("."))return L[se];{let q=se.split("."),z=L;for(let he=0,ne=q.length;he<ne;++he){if(null==z)return null;z=z[q[he]]}return z}}return null}static isFunction(L){return!!(L&&L.constructor&&L.call&&L.apply)}static reorderArray(L,se,q){L&&se!==q&&(q>=L.length&&(q%=L.length,se%=L.length),L.splice(q,0,L.splice(se,1)[0]))}static insertIntoOrderedArray(L,se,q,z){if(q.length>0){let he=!1;for(let ne=0;ne<q.length;ne++)if(this.findIndexInList(q[ne],z)>se){q.splice(ne,0,L),he=!0;break}he||q.push(L)}else q.push(L)}static findIndexInList(L,se){let q=-1;if(se)for(let z=0;z<se.length;z++)if(se[z]==L){q=z;break}return q}static contains(L,se){if(null!=L&&se&&se.length)for(let q of se)if(this.equals(L,q))return!0;return!1}static removeAccents(L){return L&&L.search(/[\xC0-\xFF]/g)>-1&&(L=L.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),L}static isEmpty(L){return null==L||""===L||Array.isArray(L)&&0===L.length||!(L instanceof Date)&&"object"==typeof L&&0===Object.keys(L).length}static isNotEmpty(L){return!this.isEmpty(L)}static compare(L,se,q,z=1){let he=-1;const ne=this.isEmpty(L),De=this.isEmpty(se);return he=ne&&De?0:ne?z:De?-z:"string"==typeof L&&"string"==typeof se?L.localeCompare(se,q,{numeric:!0}):L<se?-1:L>se?1:0,he}static sort(L,se,q=1,z,he=1){return(1===he?q:he)*e.compare(L,se,z,q)}static merge(L,se){return null!=L&&"object"!=typeof L||null!=se&&"object"!=typeof se?null!=L&&"string"!=typeof L||null!=se&&"string"!=typeof se?se||L:[L||"",se||""].join(" "):Object.assign(Object.assign({},L||{}),se||{})}}var s=0;function f(){return"pr_id_"+ ++s}var F=function V(){let I=[];const z=he=>he&&parseInt(he.style.zIndex,10)||0;return{get:z,set:(he,ne,De)=>{ne&&(ne.style.zIndex=String(((he,ne)=>{let De=I.length>0?I[I.length-1]:{key:he,value:ne},ue=De.value+(De.key===he?0:ne)+1;return I.push({key:he,value:ue}),ue})(he,De)))},clear:he=>{he&&((he=>{I=I.filter(ne=>ne.value!==he)})(z(he)),he.style.zIndex="")},getCurrent:()=>I.length>0?I[I.length-1].value:0}}()},5861:(Lt,qe,C)=>{function e(f,V,F,I,L,se,q){try{var z=f[se](q),he=z.value}catch(ne){return void F(ne)}z.done?V(he):Promise.resolve(he).then(I,L)}function s(f){return function(){var V=this,F=arguments;return new Promise(function(I,L){var se=f.apply(V,F);function q(he){e(se,I,L,q,z,"next",he)}function z(he){e(se,I,L,q,z,"throw",he)}q(void 0)})}}C.d(qe,{Z:()=>s})}},Lt=>{Lt(Lt.s=7014)}]);